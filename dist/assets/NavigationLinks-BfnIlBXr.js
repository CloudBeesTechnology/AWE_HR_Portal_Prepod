const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-a5ROL4H2.js","assets/index-XU-YZIKh.js","assets/index-DDypEcnw.css","assets/logo-with-name-TLdizOyj.js","assets/Validation-CAnmLRVc.js","assets/index-CaMUU3xE.js"])))=>i.map(i=>d[i]);
var gM=Object.defineProperty;var TE=n=>{throw TypeError(n)};var bM=(n,r,t)=>r in n?gM(n,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[r]=t;var Ot=(n,r,t)=>bM(n,typeof r!="symbol"?r+"":r,t),f6=(n,r,t)=>r.has(n)||TE("Cannot "+t);var K=(n,r,t)=>(f6(n,r,"read from private field"),t?t.call(n):r.get(n)),De=(n,r,t)=>r.has(n)?TE("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(n):r.set(n,t),Ne=(n,r,t,e)=>(f6(n,r,"write to private field"),e?e.call(n,t):r.set(n,t),t),Ce=(n,r,t)=>(f6(n,r,"access private method"),t);var tl=(n,r,t,e)=>({set _(s){Ne(n,r,s,t)},get _(){return K(n,r,e)}});import{H as DE,c as zf,D as BN,a as UN,b as HN,d as qN,A as by,e as WN,g as zN,f as VN,h as vM,i as $N,j as yM,k as xM,r as ne,l as b,m as bs,L as ga,n as GN,o as Sb,R as St,u as Xu,_ as Np,p as wM,q as Ga,s as YN,t as _M,v as SM,w as Pr,x as EM,y as Px,z as IE,B as XN,C as s8,E as NM,F as KN,G as AM,I as og,J as lg,K as Fw,S as JN,M as J1,O as vy,N as ZN,P as Nh,Q as kM,T as CM,U as TM,V as DM,W as IM,X as br,Y as PE}from"./index-XU-YZIKh.js";import{g as QN,I as jE,G as Fn,a as i8,l as $m,b as Ds,c as eA,d as p6,e as Q2,f as PM,h as tA,i as jM}from"./logo-with-name-TLdizOyj.js";import{a as jx,A as Rx,u as ds,g as rA,C as Jn,o as vs,b as RM,P as MM,c as Af,E as LM,d as OM,I as FM,e as _s,f as Ue,h as Ur,i as Wr,j as Ki,k as BM,l as UM,U as HM}from"./Validation-CAnmLRVc.js";import{l as zc,i as qM,d as Gm,s as cg,a as nA,b as sA,v as $l,c as ug,p as Ym,e as Xm,m as dg,f as Bw,g as WM,h as RE,r as iA,j as aA,k as oA,n as lA,S as Mx,U as Uw,D as Q6,M as zM,o as cA,q as e_,t as VM,C as $M,u as GM,w as YM,x as XM,y as KM,z as JM,G as Bs,A as Lx,B as a8,E as ME,F as ZM,I as QM,H as uA,J as eL,K as tL,L as rL,N as LE}from"./index-CaMUU3xE.js";function OE(n){return Object.entries(n).map(([r,t])=>({Name:r,Value:t}))}const nL=3*60*1e3;function sL(n){const r=DE.listen("auth-internal",async({payload:e})=>{switch(e.event){case"confirmSignUp":{const s=e.data;s!=null&&s.isSignUpComplete&&(DE.dispatch("auth-internal",{event:"autoSignIn"}),r())}}}),t=setTimeout(()=>{r(),hA(!1),clearTimeout(t)},nL)}let dA=!1;function _2(){return dA}function hA(n){dA=n}function S2(n){return!!n.UserConfirmed}const iL=n=>zf(qN,HN("SignUp"),UN(),{...BN,...n});async function aL(n){var m;const{username:r,password:t,options:e}=n,s=(m=by.getConfig().Auth)==null?void 0:m.Cognito,i=(s==null?void 0:s.signUpVerificationMethod)??"code",{clientMetadata:a,validationData:o,autoSignIn:c}=n.options??{};WN(s),jx(!!r,Rx.EmptySignUpUsername),jx(!!t,Rx.EmptySignUpPassword);const u=typeof c!="boolean"?c:void 0;u==null||u.authFlowType,(u||c===!0)&&hA(!0);const{userPoolId:l,userPoolClientId:d,userPoolEndpoint:f}=s,p=await iL({endpointResolver:$N({endpointOverride:f})})({region:zN(l),userAgentValue:QN(VN.SignUp)},{Username:r,Password:t,UserAttributes:(e==null?void 0:e.userAttributes)&&OE(e==null?void 0:e.userAttributes),ClientMetadata:a,ValidationData:o&&OE(o),ClientId:d,UserContextData:vM({username:r,userPoolId:l,userPoolClientId:d})}),{UserSub:g,CodeDeliveryDetails:v}=p;if(S2(p)&&_2())return{isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"},userId:g};if(S2(p)&&!_2())return{isSignUpComplete:!0,nextStep:{signUpStep:"DONE"},userId:g};if(!S2(p)&&_2()&&i==="code")sL();else if(!S2(p)&&_2()&&i==="link")return{isSignUpComplete:!1,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN",codeDeliveryDetails:{deliveryMedium:v==null?void 0:v.DeliveryMedium,destination:v==null?void 0:v.Destination,attributeName:v==null?void 0:v.AttributeName}},userId:g};return{isSignUpComplete:!1,nextStep:{signUpStep:"CONFIRM_SIGN_UP",codeDeliveryDetails:{deliveryMedium:v==null?void 0:v.DeliveryMedium,destination:v==null?void 0:v.Destination,attributeName:v==null?void 0:v.AttributeName}},userId:g}}const oL=n=>zf(qN,HN("ChangePassword"),UN(),{...BN,...n});async function lL(n){var c;const r=(c=by.getConfig().Auth)==null?void 0:c.Cognito;WN(r);const{userPoolEndpoint:t,userPoolId:e}=r,{oldPassword:s,newPassword:i}=n;jx(!!s,Rx.EmptyUpdatePassword),jx(!!i,Rx.EmptyUpdatePassword);const{tokens:a}=await yM({forceRefresh:!1});xM(a),await oL({endpointResolver:$N({endpointOverride:t})})({region:zN(e),userAgentValue:QN(VN.UpdatePassword)},{AccessToken:a.accessToken.toString(),PreviousPassword:s,ProposedPassword:i})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var t_=function(n,r){return t_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s])},t_(n,r)};function cL(n,r){t_(n,r);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var r_=function(){return r_=Object.assign||function(r){for(var t,e=1,s=arguments.length;e<s;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},r_.apply(this,arguments)};function uL(n,r){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&r.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,e=Object.getOwnPropertySymbols(n);s<e.length;s++)r.indexOf(e[s])<0&&(t[e[s]]=n[e[s]]);return t}var dL=100,hL=100,FE=50,n_=50,s_=50;function BE(n){var r=n.className,t=n.counterClockwise,e=n.dashRatio,s=n.pathRadius,i=n.strokeWidth,a=n.style;return ne.createElement("path",{className:r,style:Object.assign({},a,pL({pathRadius:s,dashRatio:e,counterClockwise:t})),d:fL({pathRadius:s,counterClockwise:t}),strokeWidth:i,fillOpacity:0})}function fL(n){var r=n.pathRadius,t=n.counterClockwise,e=r,s=t?1:0;return`
      M `+n_+","+s_+`
      m 0,-`+e+`
      a `+e+","+e+" "+s+" 1 1 0,"+2*e+`
      a `+e+","+e+" "+s+" 1 1 0,-"+2*e+`
    `}function pL(n){var r=n.counterClockwise,t=n.dashRatio,e=n.pathRadius,s=Math.PI*2*e,i=(1-t)*s;return{strokeDasharray:s+"px "+s+"px",strokeDashoffset:(r?-i:i)+"px"}}var mL=function(n){cL(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},r.prototype.getPathRadius=function(){return FE-this.props.strokeWidth/2-this.getBackgroundPadding()},r.prototype.getPathRatio=function(){var t=this.props,e=t.value,s=t.minValue,i=t.maxValue,a=Math.min(Math.max(e,s),i);return(a-s)/(i-s)},r.prototype.render=function(){var t=this.props,e=t.circleRatio,s=t.className,i=t.classes,a=t.counterClockwise,o=t.styles,c=t.strokeWidth,u=t.text,l=this.getPathRadius(),d=this.getPathRatio();return ne.createElement("svg",{className:i.root+" "+s,style:o.root,viewBox:"0 0 "+dL+" "+hL,"data-test-id":"CircularProgressbar"},this.props.background?ne.createElement("circle",{className:i.background,style:o.background,cx:n_,cy:s_,r:FE}):null,ne.createElement(BE,{className:i.trail,counterClockwise:a,dashRatio:e,pathRadius:l,strokeWidth:c,style:o.trail}),ne.createElement(BE,{className:i.path,counterClockwise:a,dashRatio:d*e,pathRadius:l,strokeWidth:c,style:o.path}),u?ne.createElement("text",{className:i.text,style:o.text,x:n_,y:s_},u):null)},r.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},r}(ne.Component);function E2(n){n.children;var r=uL(n,["children"]);return ne.createElement("div",{"data-test-id":"CircularProgressbarWithChildren"},ne.createElement("div",{style:{position:"relative",width:"100%",height:"100%"}},ne.createElement(mL,r_({},r)),n.children?ne.createElement("div",{"data-test-id":"CircularProgressbarWithChildren__children",style:{position:"absolute",width:"100%",height:"100%",marginTop:"-100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},n.children):null))}function N2(n){var r=n.rotation,t=n.strokeLinecap,e=n.textColor,s=n.textSize,i=n.pathColor,a=n.pathTransition,o=n.pathTransitionDuration,c=n.trailColor,u=n.backgroundColor,l=r==null?void 0:"rotate("+r+"turn)",d=r==null?void 0:"center center";return{root:{},path:A2({stroke:i,strokeLinecap:t,transform:l,transformOrigin:d,transition:a,transitionDuration:o==null?void 0:o+"s"}),trail:A2({stroke:c,strokeLinecap:t,transform:l,transformOrigin:d}),text:A2({fill:e,fontSize:s}),background:A2({fill:u})}}function A2(n){return Object.keys(n).forEach(function(r){n[r]==null&&delete n[r]}),n}const gL=()=>b.jsxs("div",{className:"flex flex-col  items-center h-full p-3 w-full bg-white rounded-2xl shadow-md ",children:[b.jsx("div",{className:"flex justify-between w-full items-center",children:b.jsx("h2",{className:"text-lg font-semibold text-grey",children:"Attendance"})}),b.jsxs("div",{className:"relative w-48 h-48 mt-7 ",children:[b.jsx("div",{className:"absolute inset-0",children:b.jsx(E2,{value:100,strokeWidth:10,styles:N2({pathColor:"#6E349E",trailColor:"transparent",strokeLinecap:"round"})})}),b.jsx("div",{className:"absolute inset-0",children:b.jsx(E2,{value:50,strokeWidth:10,styles:N2({pathColor:"#E61A1A",trailColor:"transparent",strokeLinecap:"round"})})}),b.jsx("div",{className:"absolute ",children:b.jsx(E2,{value:20,strokeWidth:10,styles:N2({pathColor:"#F1A924",trailColor:"transparent",strokeLinecap:"round"})})}),b.jsx("div",{className:"absolute ",children:b.jsx(E2,{value:5,strokeWidth:10,styles:N2({pathColor:"#17C900",trailColor:"transparent",strokeLinecap:"round"}),children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"text-3xl font-semibold",children:2112}),b.jsxs("div",{className:"text-sm text-grey",children:["/ ",2200]})]})})})]}),b.jsxs("div",{className:"mt-14 justify-evenly items-center flex gap-5 w-full",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("span",{className:"w-3 h-3 bg-purple rounded-full mr-2"}),b.jsxs("span",{className:"text-sm text-grey",children:[1715," ",b.jsx("span",{className:"text-gray-500",children:"OnTime"})]})]}),b.jsxs("div",{className:"flex items-center mt-5",children:[b.jsx("span",{className:"w-3 h-3 bg-red rounded-full mr-2"}),b.jsxs("span",{className:"text-sm text-grey",children:[397," ",b.jsx("span",{className:"text-gray-500",children:"Late Attendance"})]})]})]}),b.jsxs("div",{className:"",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("span",{className:"w-3 h-3 bg-yellow rounded-full mr-2"}),b.jsxs("span",{className:"text-sm text-grey",children:[74," ",b.jsx("span",{className:"text-gray-500",children:"Permission"})]})]}),b.jsxs("div",{className:"flex items-center mt-5",children:[b.jsx("span",{className:"w-3 h-3 bg-green rounded-full mr-2"}),b.jsxs("span",{className:"text-sm text-grey",children:[14," ",b.jsx("span",{className:"text-gray-500",children:"TakeDayOff"})]})]})]})]})]}),bL="/assets/Group1-BL49E7dC.svg",vL="data:image/svg+xml,%3csvg%20width='61'%20height='54'%20viewBox='0%200%2061%2054'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M30.3063%205.74051C20.8161%205.74051%2012.7337%2011.8128%209.73781%2020.2803C9.52687%2020.8786%209.83897%2021.5351%2010.4373%2021.7461C11.0357%2021.957%2011.6922%2021.6449%2011.9053%2021.0466C14.5851%2013.4679%2021.8171%208.03534%2030.3083%208.03534C40.0674%208.03534%2048.1647%2015.2113%2049.6006%2024.5726C49.239%2024.084%2048.5524%2023.9591%2048.0401%2024.2992C47.5128%2024.6501%2047.3707%2025.3647%2047.7216%2025.892L50.0182%2029.3359C50.2313%2029.6544%2050.5908%2029.846%2050.9739%2029.846C51.357%2029.846%2051.7165%2029.6523%2051.9296%2029.3359L54.2262%2025.892C54.5771%2025.3646%2054.435%2024.65%2053.9077%2024.2992C53.3803%2023.9484%2052.6657%2024.0904%2052.3149%2024.6178L51.9834%2025.115C50.7695%2014.2213%2041.5251%205.73889%2030.3107%205.73889L30.3063%205.74051ZM22.2713%2016.0721C19.7379%2016.0721%2017.6802%2018.1299%2017.6802%2020.6632C17.6802%2021.931%2018.1968%2023.0804%2019.0276%2023.9112C16.8774%2025.2586%2015.3836%2027.904%2015.3836%2030.9946C15.3836%2031.6274%2015.898%2032.1418%2016.5308%2032.1418H23.4185C24.0513%2032.1418%2024.5658%2031.6274%2024.5658%2030.9946C24.5658%2030.3618%2024.0513%2029.8474%2023.4185%2029.8474H17.7706C18.1903%2027.2602%2020.0005%2025.2563%2022.2713%2025.2563C24.8047%2025.2563%2026.8624%2023.1985%2026.8624%2020.6652C26.8624%2018.1318%2024.8047%2016.0741%2022.2713%2016.0741V16.0721ZM38.3435%2016.0721C35.8101%2016.0721%2033.7524%2018.1299%2033.7524%2020.6632C33.7524%2023.1966%2035.8101%2025.2543%2038.3435%2025.2543C40.6143%2025.2543%2042.4244%2027.2582%2042.8442%2029.8454H37.1963C36.5635%2029.8454%2036.049%2030.3599%2036.049%2030.9927C36.049%2031.6255%2036.5635%2032.1399%2037.1963%2032.1399H44.084C44.7168%2032.1399%2045.2312%2031.6255%2045.2312%2030.9927C45.2312%2027.9018%2043.7396%2025.2565%2041.5872%2023.9093L41.5893%2023.9071C42.4202%2023.0763%2042.9346%2021.9291%2042.9346%2020.6613C42.9346%2018.1279%2040.8769%2016.0702%2038.3435%2016.0702L38.3435%2016.0721ZM22.2713%2018.3688C23.5391%2018.3688%2024.568%2019.3977%2024.568%2020.6654C24.568%2021.9332%2023.5391%2022.9621%2022.2713%2022.9621C21.0035%2022.9621%2019.9747%2021.9332%2019.9747%2020.6654C19.9747%2019.3977%2021.0035%2018.3688%2022.2713%2018.3688ZM38.3435%2018.3688C39.6113%2018.3688%2040.6401%2019.3977%2040.6401%2020.6654C40.6401%2021.9332%2039.6113%2022.9621%2038.3435%2022.9621C37.0757%2022.9621%2036.0468%2021.9332%2036.0468%2020.6654C36.0468%2019.3977%2037.0757%2018.3688%2038.3435%2018.3688ZM30.3085%2022.9599C27.7751%2022.9599%2025.7174%2025.0176%2025.7174%2027.551C25.7174%2028.8188%2026.234%2029.9682%2027.0648%2030.799C24.9146%2032.1464%2023.4207%2034.7917%2023.4207%2037.8823C23.4207%2038.5151%2023.9352%2039.0296%2024.568%2039.0296H36.0468C36.6796%2039.0296%2037.1941%2038.5151%2037.1941%2037.8823C37.1941%2034.7915%2035.7024%2032.1462%2033.55%2030.799L33.5521%2030.7968C34.383%2029.966%2034.8974%2028.8188%2034.8974%2027.551C34.8974%2025.0176%2032.8397%2022.9599%2030.3063%2022.9599L30.3085%2022.9599ZM9.64524%2024.1071C9.26211%2024.1071%208.90263%2024.2987%208.68955%2024.6172L6.39289%2028.0611C6.04205%2028.5885%206.18411%2029.3031%206.71146%2029.6539C7.2388%2030.0047%207.9534%2029.8627%208.30424%2029.3353L8.54961%2028.9694C9.28357%2040.3452%2018.7501%2049.3616%2030.3083%2049.3616C39.7985%2049.3616%2047.8809%2043.2894%2050.8768%2034.8218C51.0877%2034.2235%2050.7756%2033.567%2050.1773%2033.356C49.5789%2033.1451%2048.9224%2033.4572%2048.7093%2034.0555C46.0295%2041.6342%2038.7975%2047.0668%2030.3063%2047.0668C20.0739%2047.0668%2011.6791%2039.1739%2010.8636%2029.152L10.9841%2029.3349C11.3349%2029.8623%2012.0474%2030.0043%2012.5769%2029.6535C13.1042%2029.3027%2013.2463%2028.5902%2012.8954%2028.0607L10.5988%2024.6168C10.3857%2024.2983%2010.0262%2024.1067%209.64309%2024.1067L9.64524%2024.1071ZM30.3085%2025.2543C31.5763%2025.2543%2032.6052%2026.2832%2032.6052%2027.551C32.6052%2028.8188%2031.5763%2029.8476%2030.3085%2029.8476C29.0407%2029.8476%2028.0118%2028.8188%2028.0118%2027.551C28.0118%2026.2832%2029.0407%2025.2543%2030.3085%2025.2543ZM30.3085%2032.1421C32.5793%2032.1421%2034.3895%2034.146%2034.8092%2036.7332H25.81C26.2297%2034.146%2028.0399%2032.1421%2030.3107%2032.1421H30.3085Z'%20fill='black'/%3e%3c/svg%3e",yL="/assets/Group3-BOsjilu8.svg",xL="data:image/svg+xml,%3csvg%20width='56'%20height='56'%20viewBox='0%200%2056%2056'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M28.2487%2024.2878C29.1688%2023.5205%2029.8303%2022.4884%2030.1433%2021.332C30.4563%2020.1755%2030.4056%2018.9507%2029.9982%2017.8241C29.5907%2016.6974%2028.8463%2015.7236%2027.866%2015.0348C26.8856%2014.3461%2025.717%2013.9759%2024.519%2013.9746C23.3209%2013.9733%2022.1515%2014.3409%2021.1697%2015.0275C20.1879%2015.714%2019.4412%2016.6863%2019.0313%2017.812C18.6214%2018.9378%2018.568%2020.1624%2018.8785%2021.3196C19.189%2022.4767%2019.8482%2023.5102%2020.7666%2024.2796C19.4363%2024.9605%2018.319%2025.9943%2017.5371%2027.2679C16.7551%2028.5414%2016.3386%2030.0055%2016.3333%2031.4999C16.3332%2031.6532%2016.3633%2031.8049%2016.4219%2031.9465C16.4805%2032.0881%2016.5664%2032.2168%2016.6748%2032.3251C16.7831%2032.4335%2016.9118%2032.5194%2017.0533%2032.578C17.1949%2032.6366%2017.3467%2032.6667%2017.4999%2032.6666H31.4999C31.6532%2032.6667%2031.8049%2032.6366%2031.9465%2032.578C32.0881%2032.5194%2032.2167%2032.4335%2032.3251%2032.3251C32.4334%2032.2168%2032.5194%2032.0881%2032.578%2031.9465C32.6366%2031.8049%2032.6667%2031.6532%2032.6666%2031.4999C32.6612%2030.0085%2032.2464%2028.5472%2031.4673%2027.2754C30.6883%2026.0036%2029.5749%2024.9701%2028.2487%2024.2878ZM21.0125%2019.8459C21.0115%2019.1558%2021.2144%2018.4808%2021.5959%2017.9058C21.9774%2017.3307%2022.5203%2016.8812%2023.1566%2016.6139C23.7928%2016.3465%2024.4938%2016.2732%2025.1715%2016.4032C25.8493%2016.5331%2026.4735%2016.8605%2026.9657%2017.3442C27.4579%2017.8279%2027.7962%2018.4463%2027.9379%2019.1217C28.0796%2019.7971%2028.0186%2020.4993%2027.7623%2021.14C27.5061%2021.7808%2027.0662%2022.3315%2026.4979%2022.723C25.9295%2023.1144%2025.2582%2023.3291%2024.5682%2023.3401C24.5448%2023.34%2024.5233%2023.3333%2024.4999%2023.3333C24.4808%2023.3333%2024.4633%2023.3388%2024.4442%2023.3391C23.529%2023.3212%2022.6573%2022.9456%2022.0158%2022.2926C21.3743%2021.6396%2021.0141%2020.7613%2021.0125%2019.8459ZM18.7841%2030.3333C19.0532%2029.0273%2019.7611%2027.8528%2020.7901%2027.0049C21.8191%2026.1569%2023.1073%2025.6866%2024.4406%2025.672C24.4651%2025.6723%2024.4878%2025.6792%2024.5125%2025.6792C24.5332%2025.6792%2024.5522%2025.6734%2024.5727%2025.6731C25.9036%2025.6905%2027.1886%2026.162%2028.2149%2027.0095C29.2412%2027.857%2029.9471%2029.0297%2030.2159%2030.3333H18.7841Z'%20fill='black'/%3e%3cpath%20d='M50.2949%2045.3459L40.7784%2035.8283C43.6183%2031.7513%2044.8286%2026.7588%2044.171%2021.834C43.5134%2016.9091%2041.0356%2012.409%2037.2256%209.22002C33.4155%206.03098%2028.5495%204.38418%2023.5858%204.60395C18.6222%204.82372%2013.9207%206.89413%2010.4074%2010.4074C6.89413%2013.9207%204.82372%2018.6222%204.60395%2023.5858C4.38418%2028.5495%206.03098%2033.4155%209.22002%2037.2256C12.409%2041.0356%2016.9091%2043.5134%2021.834%2044.171C26.7588%2044.8286%2031.7513%2043.6183%2035.8283%2040.7784L45.3448%2050.2949C45.6689%2050.6239%2046.0549%2050.8855%2046.4805%2051.0646C46.9061%2051.2438%2047.363%2051.3369%2047.8248%2051.3387C48.2866%2051.3404%2048.7442%2051.2508%2049.1712%2051.0749C49.5982%2050.899%2049.9862%2050.6403%2050.3127%2050.3138C50.6393%2049.9873%2050.898%2049.5994%2051.074%2049.1725C51.25%2048.7455%2051.3398%2048.288%2051.3381%2047.8262C51.3365%2047.3644%2051.2434%2046.9075%2051.0644%2046.4818C50.8854%2046.0561%2050.6239%2045.67%2050.2949%2045.3459ZM15.0562%2039.2404C11.5121%2036.9662%208.90668%2033.4906%207.71772%2029.451C6.52875%2025.4113%206.83599%2021.0785%208.58307%2017.247C10.3302%2013.4155%2013.4%2010.3423%2017.2295%208.59106C21.0591%206.83977%2025.3916%206.52778%2029.4325%207.71231C33.4735%208.89684%2036.952%2011.4985%2039.23%2015.0401C41.508%2018.5817%2042.4329%2022.8259%2041.835%2026.9942C41.2371%2031.1625%2039.1565%2034.9756%2035.9748%2037.734C32.7931%2040.4925%2028.7235%2042.0114%2024.5125%2042.0123C21.1596%2042.0162%2017.8765%2041.0539%2015.0562%2039.2404ZM48.6453%2048.6453C48.4234%2048.8581%2048.1279%2048.9769%2047.8205%2048.9769C47.5131%2048.9769%2047.2175%2048.8581%2046.9956%2048.6453L37.6654%2039.3163C38.2473%2038.7986%2038.7986%2038.2473%2039.3163%2037.6654L48.6453%2046.9968C48.7543%2047.1044%2048.8407%2047.2327%2048.8994%2047.3741C48.9581%2047.5156%2048.9879%2047.6674%2048.9872%2047.8205C48.9873%2047.9737%2048.9572%2048.1255%2048.8986%2048.267C48.8399%2048.4086%2048.7538%2048.5371%2048.6453%2048.6453Z'%20fill='black'/%3e%3c/svg%3e",wL=()=>{const{empPIData:n,IDData:r}=ne.useContext(bs),[t,e]=ne.useState([]),[s,i]=ne.useState(0),[a,o]=ne.useState(0),[c,u]=ne.useState(0),[l,d]=ne.useState(0),f=()=>{try{const h=[...n,...r];e(h);const p=h.filter(m=>Array.isArray(m.contractType)&&m.contractType.includes("Local")).length;i(p);const g=h.filter(m=>Array.isArray(m.contractType)&&m.contractType.includes("LPA")).length;u(g);const v=h.filter(m=>Array.isArray(m.contractType)&&m.contractType.includes("SAWP")).length;d(v),o(p+g+v)}catch(h){console.error("Error calculating counts:",h.message)}};return ne.useEffect(()=>{f()},[]),b.jsx("div",{children:b.jsxs("div",{className:"grid grid-cols-4 p-4 gap-5",children:[b.jsxs(ga,{to:"/employeeDetails",className:"p-4 bg-gradient-to-r from-[#FFAAAA] to-[#EBEBEB] rounded-lg shadow-lg flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"w-1 h-16 mr-4 border rounded-md bg-[#B17A7A] border-[#B17A7A]"}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold",children:a}),b.jsx("p",{className:"text-sm font-medium",children:"Total Employees"})]})]}),b.jsx("div",{className:"flex items-center justify-center p-2",children:b.jsx("img",{src:bL,alt:"icon1"})})]}),b.jsxs("div",{className:"p-4 bg-gradient-to-r from-[#DAFFA6] to-[#EBEBEB] rounded-lg shadow-lg flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"w-1 h-16 mr-4 border rounded-md bg-[#91A672] border-[#91A672]"}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold",children:c}),b.jsx("p",{className:"text-sm font-medium",children:"LPA"})]})]}),b.jsx("div",{className:"flex items-center justify-center p-2",children:b.jsx("img",{src:vL,alt:"icon2"})})]}),b.jsxs("div",{className:"p-4 bg-gradient-to-r from-[#C9DFFF] to-[#EBEBEB] rounded-lg shadow-lg flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"w-1 h-16 mr-4 border rounded-md bg-[#687FA4] border-[#B17A7A]"}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold",children:l}),b.jsx("p",{className:"text-sm font-medium",children:"SAWP"})]})]}),b.jsx("div",{className:"flex items-center justify-center p-2",children:b.jsx("img",{src:yL,alt:"icon3"})})]}),b.jsxs("div",{className:"p-4 bg-gradient-to-r from-[#FFDFAB] to-[#EBEBEB] rounded-lg shadow-lg flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("div",{className:"w-1 h-16 mr-4 border rounded-md bg-[#AB8851] border-[#B17A7A]"}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-bold",children:s}),b.jsxs("p",{className:"text-sm font-medium",children:["BRUNEIAN / PR"," ",b.jsx("span",{className:"text-[#B17A7A] text-xs",children:"Citizen / PR"})]})]})]}),b.jsx("div",{className:"flex items-center justify-center p-2",children:b.jsx("img",{src:xL,alt:"icon4"})})]})]})})},_L=()=>b.jsx("div",{className:"flex justify-center h-full max-w-[600px]",children:b.jsxs("div",{className:"rounded-2xl shadow-md w-full h-full",children:[b.jsx("div",{className:"bg-lite_grey rounded-t-2xl font-semibold p-2",children:b.jsx("h2",{children:"Recent Notifications"})}),b.jsxs("div",{className:"flex justify-between mt-5 items-center",children:[b.jsx("div",{className:"w-[120px] p-4",children:b.jsxs("div",{className:"border border-[#DEFFFF] rounded-md p-2 bg-[#DEFFFF] text-center",children:[b.jsx("small",{children:"29"}),b.jsx("br",{}),b.jsx("small",{children:"AUGUST"})]})}),b.jsxs("div",{className:"px-2 flex flex-col w-[200px]",children:[b.jsx("small",{children:b.jsx("b",{children:"Team meeting"})}),b.jsx("br",{}),b.jsx("small",{children:"IT project Software Upgrade."})]})]}),b.jsxs("div",{className:"flex justify-between items-center mt-5",children:[b.jsx("div",{className:"w-[120px] p-4",children:b.jsxs("div",{className:"border border-[#ECF9E2] rounded-md p-2 bg-[#ECF9E2] text-center",children:[b.jsx("small",{children:"18"}),b.jsx("br",{}),b.jsx("small",{children:"SEPTEMBER"})]})}),b.jsxs("div",{className:"px-2  flex flex-col w-[200px]",children:[b.jsx("small",{children:b.jsx("b",{children:"Updated company policy"})}),b.jsx("br",{}),b.jsx("small",{children:"It is a long establishment."})]})]}),b.jsxs("div",{className:"flex justify-between items-center mt-5",children:[b.jsx("div",{className:"w-[120px] p-4",children:b.jsxs("div",{className:"border border-[#FFF3DC] rounded-md p-2 bg-[#FFF3DC] text-center",children:[b.jsx("small",{children:"22"}),b.jsx("br",{}),b.jsx("small",{children:"SEPTEMBER"})]})}),b.jsxs("div",{className:"px-2  flex flex-col w-[200px]",children:[b.jsx("small",{children:b.jsx("b",{children:"Events conduct"})}),b.jsx("br",{}),b.jsx("small",{children:"It is a long establishment."})]})]})]})}),SL=()=>{const{empPIData:n,IDData:r,workInfoData:t}=ne.useContext(bs),[e,s]=ne.useState([]);return ne.useEffect(()=>{const i={};[...n,...r,...t].forEach(c=>{const{empID:u}=c;if(!i[u])i[u]={...c,startDates:[c.doj]};else{const l=i[u];i[u]={...l,...c,startDates:[...new Set([...l.startDates,c.doj])]}}});const o=Object.values(i).sort((c,u)=>new Date(u.doj)-new Date(c.doj)).slice(0,5);s(o)},[n,r,t]),b.jsxs("div",{className:"bg-white shadow-md rounded-2xl overflow-hidden m-2",children:[b.jsx("div",{className:"bg-lite_grey p-4",children:b.jsx("h2",{className:"text-lg font-semibold",children:"New Joinee"})}),b.jsxs("table",{className:"min-w-full bg-white",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"border-b",children:[b.jsx("th",{className:"py-3 px-6 text-left text-sm font-medium",children:"Employee"}),b.jsx("th",{className:"py-3 px-6 text-left text-sm font-medium",children:"Country"}),b.jsx("th",{className:"py-3 px-6 text-left text-sm font-medium",children:"Position"}),b.jsx("th",{className:"py-3 px-6 text-left text-sm font-medium",children:"Start Dates"}),b.jsx("th",{className:"py-3 px-6 text-left text-sm font-medium",children:"Type"}),b.jsx("th",{className:"py-3 px-6 text-left text-sm font-medium",children:"Status"})]})}),b.jsx("tbody",{children:e.map(i=>b.jsxs("tr",{className:"border-b last:border-none text-sm",children:[b.jsxs("td",{className:"py-4 px-6 flex items-center",children:[b.jsx("img",{className:"w-10 h-10 rounded-full mr-4",src:i.profilePhoto||"/path/to/default-image.jpg",alt:i.name||"Unnamed"}),b.jsx("span",{className:"text-grey",children:i.name||"N/A"})]}),b.jsx("td",{className:"py-4 px-6 text-grey",children:i.nationality||"N/A"}),b.jsx("td",{className:"py-4 px-6 text-grey",children:i.position||"N/A"}),b.jsx("td",{className:"py-4 px-6 text-grey",children:i.doj||"N/A"}),b.jsx("td",{className:"py-4 px-6 text-grey",children:i.contractType||"N/A"}),b.jsx("td",{className:"py-4 px-6",children:b.jsx("span",{className:`rounded-full px-3 py-1 text-sm ${i.workStatus==="Active"?"text-[#14AD35] bg-[#41d441]":"text-[#ff0000] bg-[#ffcccc]"}`,children:i.workStatus||"Inactive"})})]},i.empID))})]})]})};function dr(n){const r=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&r==="[object Date]"?new n.constructor(+n):typeof n=="number"||r==="[object Number]"||typeof n=="string"||r==="[object String]"?new Date(n):new Date(NaN)}function Qn(n,r){return n instanceof Date?new n.constructor(r):new Date(r)}function Vf(n,r){const t=dr(n);return isNaN(r)?Qn(n,NaN):(r&&t.setDate(t.getDate()+r),t)}function Vc(n,r){const t=dr(n);if(isNaN(r))return Qn(n,NaN);if(!r)return t;const e=t.getDate(),s=Qn(n,t.getTime());s.setMonth(t.getMonth()+r+1,0);const i=s.getDate();return e>=i?s:(t.setFullYear(s.getFullYear(),s.getMonth(),e),t)}function o8(n,r){const t=+dr(n);return Qn(n,t+r)}const fA=6048e5,EL=864e5,Hw=6e4,qw=36e5,NL=1e3;function AL(n,r){return o8(n,r*qw)}let kL={};function Km(){return kL}function xh(n,r){var o,c,u,l;const t=Km(),e=(r==null?void 0:r.weekStartsOn)??((c=(o=r==null?void 0:r.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??t.weekStartsOn??((l=(u=t.locale)==null?void 0:u.options)==null?void 0:l.weekStartsOn)??0,s=dr(n),i=s.getDay(),a=(i<e?7:0)+i-e;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Z1(n){return xh(n,{weekStartsOn:1})}function pA(n){const r=dr(n),t=r.getFullYear(),e=Qn(n,0);e.setFullYear(t+1,0,4),e.setHours(0,0,0,0);const s=Z1(e),i=Qn(n,0);i.setFullYear(t,0,4),i.setHours(0,0,0,0);const a=Z1(i);return r.getTime()>=s.getTime()?t+1:r.getTime()>=a.getTime()?t:t-1}function jm(n){const r=dr(n);return r.setHours(0,0,0,0),r}function Ox(n){const r=dr(n),t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return t.setUTCFullYear(r.getFullYear()),+n-+t}function Eb(n,r){const t=jm(n),e=jm(r),s=+t-Ox(t),i=+e-Ox(e);return Math.round((s-i)/EL)}function CL(n){const r=pA(n),t=Qn(n,0);return t.setFullYear(r,0,4),t.setHours(0,0,0,0),Z1(t)}function i_(n,r){return o8(n,r*Hw)}function l8(n,r){const t=r*3;return Vc(n,t)}function TL(n,r){return o8(n,r*1e3)}function Fx(n,r){const t=r*7;return Vf(n,t)}function dh(n,r){return Vc(n,r*12)}function UE(n){let r;return n.forEach(function(t){const e=dr(t);(r===void 0||r<e||isNaN(Number(e)))&&(r=e)}),r||new Date(NaN)}function HE(n){let r;return n.forEach(t=>{const e=dr(t);(!r||r>e||isNaN(+e))&&(r=e)}),r||new Date(NaN)}function DL(n,r){const t=jm(n),e=jm(r);return+t==+e}function hh(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Bx(n){if(!hh(n)&&typeof n!="number")return!1;const r=dr(n);return!isNaN(Number(r))}function Ux(n,r){const t=dr(n),e=dr(r),s=t.getFullYear()-e.getFullYear(),i=t.getMonth()-e.getMonth();return s*12+i}function Em(n){const r=dr(n);return Math.trunc(r.getMonth()/3)+1}function Hx(n,r){const t=dr(n),e=dr(r),s=t.getFullYear()-e.getFullYear(),i=Em(t)-Em(e);return s*4+i}function qx(n,r){const t=dr(n),e=dr(r);return t.getFullYear()-e.getFullYear()}function mA(n){const r=dr(n);return r.setHours(23,59,59,999),r}function IL(n){const r=dr(n),t=r.getMonth();return r.setFullYear(r.getFullYear(),t+1,0),r.setHours(23,59,59,999),r}function a_(n){const r=dr(n),t=r.getMonth(),e=t-t%3;return r.setMonth(e,1),r.setHours(0,0,0,0),r}function gA(n){const r=dr(n);return r.setDate(1),r.setHours(0,0,0,0),r}function bA(n){const r=dr(n),t=r.getFullYear();return r.setFullYear(t+1,0,0),r.setHours(23,59,59,999),r}function Ww(n){const r=dr(n),t=Qn(n,0);return t.setFullYear(r.getFullYear(),0,1),t.setHours(0,0,0,0),t}function PL(n,r){var o,c;const t=Km(),e=t.weekStartsOn??((c=(o=t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??0,s=dr(n),i=s.getDay(),a=(i<e?-7:0)+6-(i-e);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}const jL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},RL=(n,r,t)=>{let e;const s=jL[n];return typeof s=="string"?e=s:r===1?e=s.one:e=s.other.replace("{{count}}",r.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+e:e+" ago":e};function m6(n){return(r={})=>{const t=r.width?String(r.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const ML={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},LL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},OL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},FL={date:m6({formats:ML,defaultWidth:"full"}),time:m6({formats:LL,defaultWidth:"full"}),dateTime:m6({formats:OL,defaultWidth:"full"})},BL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},UL=(n,r,t,e)=>BL[n];function Tg(n){return(r,t)=>{const e=t!=null&&t.context?String(t.context):"standalone";let s;if(e==="formatting"&&n.formattingValues){const a=n.defaultFormattingWidth||n.defaultWidth,o=t!=null&&t.width?String(t.width):a;s=n.formattingValues[o]||n.formattingValues[a]}else{const a=n.defaultWidth,o=t!=null&&t.width?String(t.width):n.defaultWidth;s=n.values[o]||n.values[a]}const i=n.argumentCallback?n.argumentCallback(r):r;return s[i]}}const HL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},WL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},zL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},VL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$L={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},GL=(n,r)=>{const t=Number(n),e=t%100;if(e>20||e<10)switch(e%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},YL={ordinalNumber:GL,era:Tg({values:HL,defaultWidth:"wide"}),quarter:Tg({values:qL,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Tg({values:WL,defaultWidth:"wide"}),day:Tg({values:zL,defaultWidth:"wide"}),dayPeriod:Tg({values:VL,defaultWidth:"wide",formattingValues:$L,defaultFormattingWidth:"wide"})};function Dg(n){return(r,t={})=>{const e=t.width,s=e&&n.matchPatterns[e]||n.matchPatterns[n.defaultMatchWidth],i=r.match(s);if(!i)return null;const a=i[0],o=e&&n.parsePatterns[e]||n.parsePatterns[n.defaultParseWidth],c=Array.isArray(o)?KL(o,d=>d.test(a)):XL(o,d=>d.test(a));let u;u=n.valueCallback?n.valueCallback(c):c,u=t.valueCallback?t.valueCallback(u):u;const l=r.slice(a.length);return{value:u,rest:l}}}function XL(n,r){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&r(n[t]))return t}function KL(n,r){for(let t=0;t<n.length;t++)if(r(n[t]))return t}function JL(n){return(r,t={})=>{const e=r.match(n.matchPattern);if(!e)return null;const s=e[0],i=r.match(n.parsePattern);if(!i)return null;let a=n.valueCallback?n.valueCallback(i[0]):i[0];a=t.valueCallback?t.valueCallback(a):a;const o=r.slice(s.length);return{value:a,rest:o}}}const ZL=/^(\d+)(th|st|nd|rd)?/i,QL=/\d+/i,eO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},tO={any:[/^b/i,/^(a|c)/i]},rO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nO={any:[/1/i,/2/i,/3/i,/4/i]},sO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},iO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},oO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},uO={ordinalNumber:JL({matchPattern:ZL,parsePattern:QL,valueCallback:n=>parseInt(n,10)}),era:Dg({matchPatterns:eO,defaultMatchWidth:"wide",parsePatterns:tO,defaultParseWidth:"any"}),quarter:Dg({matchPatterns:rO,defaultMatchWidth:"wide",parsePatterns:nO,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Dg({matchPatterns:sO,defaultMatchWidth:"wide",parsePatterns:iO,defaultParseWidth:"any"}),day:Dg({matchPatterns:aO,defaultMatchWidth:"wide",parsePatterns:oO,defaultParseWidth:"any"}),dayPeriod:Dg({matchPatterns:lO,defaultMatchWidth:"any",parsePatterns:cO,defaultParseWidth:"any"})},vA={code:"en-US",formatDistance:RL,formatLong:FL,formatRelative:UL,localize:YL,match:uO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function dO(n){const r=dr(n);return Eb(r,Ww(r))+1}function c8(n){const r=dr(n),t=+Z1(r)-+CL(r);return Math.round(t/fA)+1}function u8(n,r){var l,d,f,h;const t=dr(n),e=t.getFullYear(),s=Km(),i=(r==null?void 0:r.firstWeekContainsDate)??((d=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((h=(f=s.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,a=Qn(n,0);a.setFullYear(e+1,0,i),a.setHours(0,0,0,0);const o=xh(a,r),c=Qn(n,0);c.setFullYear(e,0,i),c.setHours(0,0,0,0);const u=xh(c,r);return t.getTime()>=o.getTime()?e+1:t.getTime()>=u.getTime()?e:e-1}function hO(n,r){var o,c,u,l;const t=Km(),e=(r==null?void 0:r.firstWeekContainsDate)??((c=(o=r==null?void 0:r.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??t.firstWeekContainsDate??((l=(u=t.locale)==null?void 0:u.options)==null?void 0:l.firstWeekContainsDate)??1,s=u8(n,r),i=Qn(n,0);return i.setFullYear(s,0,e),i.setHours(0,0,0,0),xh(i,r)}function yA(n,r){const t=dr(n),e=+xh(t,r)-+hO(t,r);return Math.round(e/fA)+1}function Kn(n,r){const t=n<0?"-":"",e=Math.abs(n).toString().padStart(r,"0");return t+e}const qh={y(n,r){const t=n.getFullYear(),e=t>0?t:1-t;return Kn(r==="yy"?e%100:e,r.length)},M(n,r){const t=n.getMonth();return r==="M"?String(t+1):Kn(t+1,2)},d(n,r){return Kn(n.getDate(),r.length)},a(n,r){const t=n.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,r){return Kn(n.getHours()%12||12,r.length)},H(n,r){return Kn(n.getHours(),r.length)},m(n,r){return Kn(n.getMinutes(),r.length)},s(n,r){return Kn(n.getSeconds(),r.length)},S(n,r){const t=r.length,e=n.getMilliseconds(),s=Math.trunc(e*Math.pow(10,t-3));return Kn(s,r.length)}},T0={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qE={G:function(n,r,t){const e=n.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return t.era(e,{width:"abbreviated"});case"GGGGG":return t.era(e,{width:"narrow"});case"GGGG":default:return t.era(e,{width:"wide"})}},y:function(n,r,t){if(r==="yo"){const e=n.getFullYear(),s=e>0?e:1-e;return t.ordinalNumber(s,{unit:"year"})}return qh.y(n,r)},Y:function(n,r,t,e){const s=u8(n,e),i=s>0?s:1-s;if(r==="YY"){const a=i%100;return Kn(a,2)}return r==="Yo"?t.ordinalNumber(i,{unit:"year"}):Kn(i,r.length)},R:function(n,r){const t=pA(n);return Kn(t,r.length)},u:function(n,r){const t=n.getFullYear();return Kn(t,r.length)},Q:function(n,r,t){const e=Math.ceil((n.getMonth()+1)/3);switch(r){case"Q":return String(e);case"QQ":return Kn(e,2);case"Qo":return t.ordinalNumber(e,{unit:"quarter"});case"QQQ":return t.quarter(e,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(e,{width:"wide",context:"formatting"})}},q:function(n,r,t){const e=Math.ceil((n.getMonth()+1)/3);switch(r){case"q":return String(e);case"qq":return Kn(e,2);case"qo":return t.ordinalNumber(e,{unit:"quarter"});case"qqq":return t.quarter(e,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(e,{width:"wide",context:"standalone"})}},M:function(n,r,t){const e=n.getMonth();switch(r){case"M":case"MM":return qh.M(n,r);case"Mo":return t.ordinalNumber(e+1,{unit:"month"});case"MMM":return t.month(e,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(e,{width:"wide",context:"formatting"})}},L:function(n,r,t){const e=n.getMonth();switch(r){case"L":return String(e+1);case"LL":return Kn(e+1,2);case"Lo":return t.ordinalNumber(e+1,{unit:"month"});case"LLL":return t.month(e,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(e,{width:"wide",context:"standalone"})}},w:function(n,r,t,e){const s=yA(n,e);return r==="wo"?t.ordinalNumber(s,{unit:"week"}):Kn(s,r.length)},I:function(n,r,t){const e=c8(n);return r==="Io"?t.ordinalNumber(e,{unit:"week"}):Kn(e,r.length)},d:function(n,r,t){return r==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):qh.d(n,r)},D:function(n,r,t){const e=dO(n);return r==="Do"?t.ordinalNumber(e,{unit:"dayOfYear"}):Kn(e,r.length)},E:function(n,r,t){const e=n.getDay();switch(r){case"E":case"EE":case"EEE":return t.day(e,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(e,{width:"short",context:"formatting"});case"EEEE":default:return t.day(e,{width:"wide",context:"formatting"})}},e:function(n,r,t,e){const s=n.getDay(),i=(s-e.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return Kn(i,2);case"eo":return t.ordinalNumber(i,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(n,r,t,e){const s=n.getDay(),i=(s-e.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return Kn(i,r.length);case"co":return t.ordinalNumber(i,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(n,r,t){const e=n.getDay(),s=e===0?7:e;switch(r){case"i":return String(s);case"ii":return Kn(s,r.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(e,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(e,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(e,{width:"short",context:"formatting"});case"iiii":default:return t.day(e,{width:"wide",context:"formatting"})}},a:function(n,r,t){const s=n.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,r,t){const e=n.getHours();let s;switch(e===12?s=T0.noon:e===0?s=T0.midnight:s=e/12>=1?"pm":"am",r){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,r,t){const e=n.getHours();let s;switch(e>=17?s=T0.evening:e>=12?s=T0.afternoon:e>=4?s=T0.morning:s=T0.night,r){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,r,t){if(r==="ho"){let e=n.getHours()%12;return e===0&&(e=12),t.ordinalNumber(e,{unit:"hour"})}return qh.h(n,r)},H:function(n,r,t){return r==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):qh.H(n,r)},K:function(n,r,t){const e=n.getHours()%12;return r==="Ko"?t.ordinalNumber(e,{unit:"hour"}):Kn(e,r.length)},k:function(n,r,t){let e=n.getHours();return e===0&&(e=24),r==="ko"?t.ordinalNumber(e,{unit:"hour"}):Kn(e,r.length)},m:function(n,r,t){return r==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):qh.m(n,r)},s:function(n,r,t){return r==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):qh.s(n,r)},S:function(n,r){return qh.S(n,r)},X:function(n,r,t){const e=n.getTimezoneOffset();if(e===0)return"Z";switch(r){case"X":return zE(e);case"XXXX":case"XX":return bp(e);case"XXXXX":case"XXX":default:return bp(e,":")}},x:function(n,r,t){const e=n.getTimezoneOffset();switch(r){case"x":return zE(e);case"xxxx":case"xx":return bp(e);case"xxxxx":case"xxx":default:return bp(e,":")}},O:function(n,r,t){const e=n.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+WE(e,":");case"OOOO":default:return"GMT"+bp(e,":")}},z:function(n,r,t){const e=n.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+WE(e,":");case"zzzz":default:return"GMT"+bp(e,":")}},t:function(n,r,t){const e=Math.trunc(n.getTime()/1e3);return Kn(e,r.length)},T:function(n,r,t){const e=n.getTime();return Kn(e,r.length)}};function WE(n,r=""){const t=n>0?"-":"+",e=Math.abs(n),s=Math.trunc(e/60),i=e%60;return i===0?t+String(s):t+String(s)+r+Kn(i,2)}function zE(n,r){return n%60===0?(n>0?"-":"+")+Kn(Math.abs(n)/60,2):bp(n,r)}function bp(n,r=""){const t=n>0?"-":"+",e=Math.abs(n),s=Kn(Math.trunc(e/60),2),i=Kn(e%60,2);return t+s+r+i}const VE=(n,r)=>{switch(n){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},xA=(n,r)=>{switch(n){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},fO=(n,r)=>{const t=n.match(/(P+)(p+)?/)||[],e=t[1],s=t[2];if(!s)return VE(n,r);let i;switch(e){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",VE(e,r)).replace("{{time}}",xA(s,r))},Wx={p:xA,P:fO},pO=/^D+$/,mO=/^Y+$/,gO=["D","DD","YY","YYYY"];function wA(n){return pO.test(n)}function _A(n){return mO.test(n)}function o_(n,r,t){const e=bO(n,r,t);if(console.warn(e),gO.includes(n))throw new RangeError(e)}function bO(n,r,t){const e=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${r}\`) for formatting ${e} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const vO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xO=/^'([^]*?)'?$/,wO=/''/g,_O=/[a-zA-Z]/;function W0(n,r,t){var l,d,f,h,p,g,v,m;const e=Km(),s=(t==null?void 0:t.locale)??e.locale??vA,i=(t==null?void 0:t.firstWeekContainsDate)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)??e.firstWeekContainsDate??((h=(f=e.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,a=(t==null?void 0:t.weekStartsOn)??((g=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??e.weekStartsOn??((m=(v=e.locale)==null?void 0:v.options)==null?void 0:m.weekStartsOn)??0,o=dr(n);if(!Bx(o))throw new RangeError("Invalid time value");let c=r.match(yO).map(x=>{const y=x[0];if(y==="p"||y==="P"){const w=Wx[y];return w(x,s.formatLong)}return x}).join("").match(vO).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const y=x[0];if(y==="'")return{isToken:!1,value:SO(x)};if(qE[y])return{isToken:!0,value:x};if(y.match(_O))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(o,c));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const y=x.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&_A(y)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&wA(y))&&o_(y,r,String(n));const w=qE[y[0]];return w(o,y,s.localize,u)}).join("")}function SO(n){const r=n.match(xO);return r?r[1].replace(wO,"'"):n}function $E(n){return dr(n).getDate()}function EO(n){return dr(n).getDay()}function NO(n){const r=dr(n),t=r.getFullYear(),e=r.getMonth(),s=Qn(n,0);return s.setFullYear(t,e+1,0),s.setHours(0,0,0,0),s.getDate()}function AO(){return Object.assign({},Km())}function Uu(n){return dr(n).getHours()}function kO(n){let t=dr(n).getDay();return t===0&&(t=7),t}function Hu(n){return dr(n).getMinutes()}function uo(n){return dr(n).getMonth()}function fh(n){return dr(n).getSeconds()}function l_(n){return dr(n).getTime()}function un(n){return dr(n).getFullYear()}function Pf(n,r){const t=dr(n),e=dr(r);return t.getTime()>e.getTime()}function Rm(n,r){const t=dr(n),e=dr(r);return+t<+e}function CO(n,r){const t=dr(n),e=dr(r);return+t==+e}function TO(n,r){const t=r instanceof Date?Qn(r,0):new r(0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}const DO=10;class SA{constructor(){Ot(this,"subPriority",0)}validate(r,t){return!0}}class IO extends SA{constructor(r,t,e,s,i){super(),this.value=r,this.validateValue=t,this.setValue=e,this.priority=s,i&&(this.subPriority=i)}validate(r,t){return this.validateValue(r,this.value,t)}set(r,t,e){return this.setValue(r,t,this.value,e)}}class PO extends SA{constructor(){super(...arguments);Ot(this,"priority",DO);Ot(this,"subPriority",-1)}set(t,e){return e.timestampIsSet?t:Qn(t,TO(t,Date))}}class qn{run(r,t,e,s){const i=this.parse(r,t,e,s);return i?{setter:new IO(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(r,t,e){return!0}}class jO extends qn{constructor(){super(...arguments);Ot(this,"priority",140);Ot(this,"incompatibleTokens",["R","u","t","T"])}parse(t,e,s){switch(e){case"G":case"GG":case"GGG":return s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"});case"GGGGG":return s.era(t,{width:"narrow"});case"GGGG":default:return s.era(t,{width:"wide"})||s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"})}}set(t,e,s){return e.era=s,t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}const ci={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Lu={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ui(n,r){return n&&{value:r(n.value),rest:n.rest}}function Us(n,r){const t=r.match(n);return t?{value:parseInt(t[0],10),rest:r.slice(t[0].length)}:null}function Ou(n,r){const t=r.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:r.slice(1)};const e=t[1]==="+"?1:-1,s=t[2]?parseInt(t[2],10):0,i=t[3]?parseInt(t[3],10):0,a=t[5]?parseInt(t[5],10):0;return{value:e*(s*qw+i*Hw+a*NL),rest:r.slice(t[0].length)}}function EA(n){return Us(ci.anyDigitsSigned,n)}function Ks(n,r){switch(n){case 1:return Us(ci.singleDigit,r);case 2:return Us(ci.twoDigits,r);case 3:return Us(ci.threeDigits,r);case 4:return Us(ci.fourDigits,r);default:return Us(new RegExp("^\\d{1,"+n+"}"),r)}}function zx(n,r){switch(n){case 1:return Us(ci.singleDigitSigned,r);case 2:return Us(ci.twoDigitsSigned,r);case 3:return Us(ci.threeDigitsSigned,r);case 4:return Us(ci.fourDigitsSigned,r);default:return Us(new RegExp("^-?\\d{1,"+n+"}"),r)}}function d8(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function NA(n,r){const t=r>0,e=t?r:1-r;let s;if(e<=50)s=n||100;else{const i=e+50,a=Math.trunc(i/100)*100,o=n>=i%100;s=n+a-(o?100:0)}return t?s:1-s}function AA(n){return n%400===0||n%4===0&&n%100!==0}class RO extends qn{constructor(){super(...arguments);Ot(this,"priority",130);Ot(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,e,s){const i=a=>({year:a,isTwoDigitYear:e==="yy"});switch(e){case"y":return ui(Ks(4,t),i);case"yo":return ui(s.ordinalNumber(t,{unit:"year"}),i);default:return ui(Ks(e.length,t),i)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,s){const i=t.getFullYear();if(s.isTwoDigitYear){const o=NA(s.year,i);return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}const a=!("era"in e)||e.era===1?s.year:1-s.year;return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}class MO extends qn{constructor(){super(...arguments);Ot(this,"priority",130);Ot(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,e,s){const i=a=>({year:a,isTwoDigitYear:e==="YY"});switch(e){case"Y":return ui(Ks(4,t),i);case"Yo":return ui(s.ordinalNumber(t,{unit:"year"}),i);default:return ui(Ks(e.length,t),i)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,s,i){const a=u8(t,i);if(s.isTwoDigitYear){const c=NA(s.year,a);return t.setFullYear(c,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),xh(t,i)}const o=!("era"in e)||e.era===1?s.year:1-s.year;return t.setFullYear(o,0,i.firstWeekContainsDate),t.setHours(0,0,0,0),xh(t,i)}}class LO extends qn{constructor(){super(...arguments);Ot(this,"priority",130);Ot(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,e){return zx(e==="R"?4:e.length,t)}set(t,e,s){const i=Qn(t,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),Z1(i)}}class OO extends qn{constructor(){super(...arguments);Ot(this,"priority",130);Ot(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,e){return zx(e==="u"?4:e.length,t)}set(t,e,s){return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class FO extends qn{constructor(){super(...arguments);Ot(this,"priority",120);Ot(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,e,s){switch(e){case"Q":case"QQ":return Ks(e.length,t);case"Qo":return s.ordinalNumber(t,{unit:"quarter"});case"QQQ":return s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(t,{width:"wide",context:"formatting"})||s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=1&&e<=4}set(t,e,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class BO extends qn{constructor(){super(...arguments);Ot(this,"priority",120);Ot(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,e,s){switch(e){case"q":case"qq":return Ks(e.length,t);case"qo":return s.ordinalNumber(t,{unit:"quarter"});case"qqq":return s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(t,{width:"wide",context:"standalone"})||s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=1&&e<=4}set(t,e,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class UO extends qn{constructor(){super(...arguments);Ot(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ot(this,"priority",110)}parse(t,e,s){const i=a=>a-1;switch(e){case"M":return ui(Us(ci.month,t),i);case"MM":return ui(Ks(2,t),i);case"Mo":return ui(s.ordinalNumber(t,{unit:"month"}),i);case"MMM":return s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(t,{width:"wide",context:"formatting"})||s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=11}set(t,e,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}class HO extends qn{constructor(){super(...arguments);Ot(this,"priority",110);Ot(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,e,s){const i=a=>a-1;switch(e){case"L":return ui(Us(ci.month,t),i);case"LL":return ui(Ks(2,t),i);case"Lo":return ui(s.ordinalNumber(t,{unit:"month"}),i);case"LLL":return s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(t,{width:"wide",context:"standalone"})||s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=11}set(t,e,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}function qO(n,r,t){const e=dr(n),s=yA(e,t)-r;return e.setDate(e.getDate()-s*7),e}class WO extends qn{constructor(){super(...arguments);Ot(this,"priority",100);Ot(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,e,s){switch(e){case"w":return Us(ci.week,t);case"wo":return s.ordinalNumber(t,{unit:"week"});default:return Ks(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,s,i){return xh(qO(t,s,i),i)}}function zO(n,r){const t=dr(n),e=c8(t)-r;return t.setDate(t.getDate()-e*7),t}class VO extends qn{constructor(){super(...arguments);Ot(this,"priority",100);Ot(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,e,s){switch(e){case"I":return Us(ci.week,t);case"Io":return s.ordinalNumber(t,{unit:"week"});default:return Ks(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,s){return Z1(zO(t,s))}}const $O=[31,28,31,30,31,30,31,31,30,31,30,31],GO=[31,29,31,30,31,30,31,31,30,31,30,31];class YO extends qn{constructor(){super(...arguments);Ot(this,"priority",90);Ot(this,"subPriority",1);Ot(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,e,s){switch(e){case"d":return Us(ci.date,t);case"do":return s.ordinalNumber(t,{unit:"date"});default:return Ks(e.length,t)}}validate(t,e){const s=t.getFullYear(),i=AA(s),a=t.getMonth();return i?e>=1&&e<=GO[a]:e>=1&&e<=$O[a]}set(t,e,s){return t.setDate(s),t.setHours(0,0,0,0),t}}class XO extends qn{constructor(){super(...arguments);Ot(this,"priority",90);Ot(this,"subpriority",1);Ot(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,e,s){switch(e){case"D":case"DD":return Us(ci.dayOfYear,t);case"Do":return s.ordinalNumber(t,{unit:"date"});default:return Ks(e.length,t)}}validate(t,e){const s=t.getFullYear();return AA(s)?e>=1&&e<=366:e>=1&&e<=365}set(t,e,s){return t.setMonth(0,s),t.setHours(0,0,0,0),t}}function h8(n,r,t){var d,f,h,p;const e=Km(),s=(t==null?void 0:t.weekStartsOn)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??e.weekStartsOn??((p=(h=e.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,i=dr(n),a=i.getDay(),c=(r%7+7)%7,u=7-s,l=r<0||r>6?r-(a+u)%7:(c+u)%7-(a+u)%7;return Vf(i,l)}class KO extends qn{constructor(){super(...arguments);Ot(this,"priority",90);Ot(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,e,s){switch(e){case"E":case"EE":case"EEE":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,s,i){return t=h8(t,s,i),t.setHours(0,0,0,0),t}}class JO extends qn{constructor(){super(...arguments);Ot(this,"priority",90);Ot(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,e,s,i){const a=o=>{const c=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+c};switch(e){case"e":case"ee":return ui(Ks(e.length,t),a);case"eo":return ui(s.ordinalNumber(t,{unit:"day"}),a);case"eee":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeeee":return s.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,s,i){return t=h8(t,s,i),t.setHours(0,0,0,0),t}}class ZO extends qn{constructor(){super(...arguments);Ot(this,"priority",90);Ot(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,e,s,i){const a=o=>{const c=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+c};switch(e){case"c":case"cc":return ui(Ks(e.length,t),a);case"co":return ui(s.ordinalNumber(t,{unit:"day"}),a);case"ccc":return s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"ccccc":return s.day(t,{width:"narrow",context:"standalone"});case"cccccc":return s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(t,{width:"wide",context:"standalone"})||s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=6}set(t,e,s,i){return t=h8(t,s,i),t.setHours(0,0,0,0),t}}function QO(n,r){const t=dr(n),e=kO(t),s=r-e;return Vf(t,s)}class eF extends qn{constructor(){super(...arguments);Ot(this,"priority",90);Ot(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,e,s){const i=a=>a===0?7:a;switch(e){case"i":case"ii":return Ks(e.length,t);case"io":return s.ordinalNumber(t,{unit:"day"});case"iii":return ui(s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i);case"iiiii":return ui(s.day(t,{width:"narrow",context:"formatting"}),i);case"iiiiii":return ui(s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i);case"iiii":default:return ui(s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),i)}}validate(t,e){return e>=1&&e<=7}set(t,e,s){return t=QO(t,s),t.setHours(0,0,0,0),t}}class tF extends qn{constructor(){super(...arguments);Ot(this,"priority",80);Ot(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,e,s){switch(e){case"a":case"aa":case"aaa":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,s){return t.setHours(d8(s),0,0,0),t}}class rF extends qn{constructor(){super(...arguments);Ot(this,"priority",80);Ot(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,e,s){switch(e){case"b":case"bb":case"bbb":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,s){return t.setHours(d8(s),0,0,0),t}}class nF extends qn{constructor(){super(...arguments);Ot(this,"priority",80);Ot(this,"incompatibleTokens",["a","b","t","T"])}parse(t,e,s){switch(e){case"B":case"BB":case"BBB":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,s){return t.setHours(d8(s),0,0,0),t}}class sF extends qn{constructor(){super(...arguments);Ot(this,"priority",70);Ot(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,e,s){switch(e){case"h":return Us(ci.hour12h,t);case"ho":return s.ordinalNumber(t,{unit:"hour"});default:return Ks(e.length,t)}}validate(t,e){return e>=1&&e<=12}set(t,e,s){const i=t.getHours()>=12;return i&&s<12?t.setHours(s+12,0,0,0):!i&&s===12?t.setHours(0,0,0,0):t.setHours(s,0,0,0),t}}class iF extends qn{constructor(){super(...arguments);Ot(this,"priority",70);Ot(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,e,s){switch(e){case"H":return Us(ci.hour23h,t);case"Ho":return s.ordinalNumber(t,{unit:"hour"});default:return Ks(e.length,t)}}validate(t,e){return e>=0&&e<=23}set(t,e,s){return t.setHours(s,0,0,0),t}}class aF extends qn{constructor(){super(...arguments);Ot(this,"priority",70);Ot(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,e,s){switch(e){case"K":return Us(ci.hour11h,t);case"Ko":return s.ordinalNumber(t,{unit:"hour"});default:return Ks(e.length,t)}}validate(t,e){return e>=0&&e<=11}set(t,e,s){return t.getHours()>=12&&s<12?t.setHours(s+12,0,0,0):t.setHours(s,0,0,0),t}}class oF extends qn{constructor(){super(...arguments);Ot(this,"priority",70);Ot(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,e,s){switch(e){case"k":return Us(ci.hour24h,t);case"ko":return s.ordinalNumber(t,{unit:"hour"});default:return Ks(e.length,t)}}validate(t,e){return e>=1&&e<=24}set(t,e,s){const i=s<=24?s%24:s;return t.setHours(i,0,0,0),t}}class lF extends qn{constructor(){super(...arguments);Ot(this,"priority",60);Ot(this,"incompatibleTokens",["t","T"])}parse(t,e,s){switch(e){case"m":return Us(ci.minute,t);case"mo":return s.ordinalNumber(t,{unit:"minute"});default:return Ks(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,s){return t.setMinutes(s,0,0),t}}class cF extends qn{constructor(){super(...arguments);Ot(this,"priority",50);Ot(this,"incompatibleTokens",["t","T"])}parse(t,e,s){switch(e){case"s":return Us(ci.second,t);case"so":return s.ordinalNumber(t,{unit:"second"});default:return Ks(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,s){return t.setSeconds(s,0),t}}class uF extends qn{constructor(){super(...arguments);Ot(this,"priority",30);Ot(this,"incompatibleTokens",["t","T"])}parse(t,e){const s=i=>Math.trunc(i*Math.pow(10,-e.length+3));return ui(Ks(e.length,t),s)}set(t,e,s){return t.setMilliseconds(s),t}}class dF extends qn{constructor(){super(...arguments);Ot(this,"priority",10);Ot(this,"incompatibleTokens",["t","T","x"])}parse(t,e){switch(e){case"X":return Ou(Lu.basicOptionalMinutes,t);case"XX":return Ou(Lu.basic,t);case"XXXX":return Ou(Lu.basicOptionalSeconds,t);case"XXXXX":return Ou(Lu.extendedOptionalSeconds,t);case"XXX":default:return Ou(Lu.extended,t)}}set(t,e,s){return e.timestampIsSet?t:Qn(t,t.getTime()-Ox(t)-s)}}class hF extends qn{constructor(){super(...arguments);Ot(this,"priority",10);Ot(this,"incompatibleTokens",["t","T","X"])}parse(t,e){switch(e){case"x":return Ou(Lu.basicOptionalMinutes,t);case"xx":return Ou(Lu.basic,t);case"xxxx":return Ou(Lu.basicOptionalSeconds,t);case"xxxxx":return Ou(Lu.extendedOptionalSeconds,t);case"xxx":default:return Ou(Lu.extended,t)}}set(t,e,s){return e.timestampIsSet?t:Qn(t,t.getTime()-Ox(t)-s)}}class fF extends qn{constructor(){super(...arguments);Ot(this,"priority",40);Ot(this,"incompatibleTokens","*")}parse(t){return EA(t)}set(t,e,s){return[Qn(t,s*1e3),{timestampIsSet:!0}]}}class pF extends qn{constructor(){super(...arguments);Ot(this,"priority",20);Ot(this,"incompatibleTokens","*")}parse(t){return EA(t)}set(t,e,s){return[Qn(t,s),{timestampIsSet:!0}]}}const mF={G:new jO,y:new RO,Y:new MO,R:new LO,u:new OO,Q:new FO,q:new BO,M:new UO,L:new HO,w:new WO,I:new VO,d:new YO,D:new XO,E:new KO,e:new JO,c:new ZO,i:new eF,a:new tF,b:new rF,B:new nF,h:new sF,H:new iF,K:new aF,k:new oF,m:new lF,s:new cF,S:new uF,X:new dF,x:new hF,t:new fF,T:new pF},gF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,vF=/^'([^]*?)'?$/,yF=/''/g,xF=/\S/,wF=/[a-zA-Z]/;function g6(n,r,t,e){var g,v,m,x,y,w,E,I;const s=AO(),i=(e==null?void 0:e.locale)??s.locale??vA,a=(e==null?void 0:e.firstWeekContainsDate)??((v=(g=e==null?void 0:e.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??s.firstWeekContainsDate??((x=(m=s.locale)==null?void 0:m.options)==null?void 0:x.firstWeekContainsDate)??1,o=(e==null?void 0:e.weekStartsOn)??((w=(y=e==null?void 0:e.locale)==null?void 0:y.options)==null?void 0:w.weekStartsOn)??s.weekStartsOn??((I=(E=s.locale)==null?void 0:E.options)==null?void 0:I.weekStartsOn)??0;if(r==="")return n===""?dr(t):Qn(t,NaN);const c={firstWeekContainsDate:a,weekStartsOn:o,locale:i},u=[new PO],l=r.match(bF).map(T=>{const R=T[0];if(R in Wx){const D=Wx[R];return D(T,i.formatLong)}return T}).join("").match(gF),d=[];for(let T of l){!(e!=null&&e.useAdditionalWeekYearTokens)&&_A(T)&&o_(T,r,n),!(e!=null&&e.useAdditionalDayOfYearTokens)&&wA(T)&&o_(T,r,n);const R=T[0],D=mF[R];if(D){const{incompatibleTokens:L}=D;if(Array.isArray(L)){const H=d.find(V=>L.includes(V.token)||V.token===R);if(H)throw new RangeError(`The format string mustn't contain \`${H.fullToken}\` and \`${T}\` at the same time`)}else if(D.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${T}\` and any other token at the same time`);d.push({token:R,fullToken:T});const M=D.run(n,T,i.match,c);if(!M)return Qn(t,NaN);u.push(M.setter),n=M.rest}else{if(R.match(wF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");if(T==="''"?T="'":R==="'"&&(T=_F(T)),n.indexOf(T)===0)n=n.slice(T.length);else return Qn(t,NaN)}}if(n.length>0&&xF.test(n))return Qn(t,NaN);const f=u.map(T=>T.priority).sort((T,R)=>R-T).filter((T,R,D)=>D.indexOf(T)===R).map(T=>u.filter(R=>R.priority===T).sort((R,D)=>D.subPriority-R.subPriority)).map(T=>T[0]);let h=dr(t);if(isNaN(h.getTime()))return Qn(t,NaN);const p={};for(const T of f){if(!T.validate(h,c))return Qn(t,NaN);const R=T.set(h,p,c);Array.isArray(R)?(h=R[0],Object.assign(p,R[1])):h=R}return Qn(t,h)}function _F(n){return n.match(vF)[1].replace(yF,"'")}function SF(n,r){const t=dr(n),e=dr(r);return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()}function EF(n,r){const t=a_(n),e=a_(r);return+t==+e}function NF(n,r){const t=dr(n),e=dr(r);return t.getFullYear()===e.getFullYear()}function Nb(n,r){const t=+dr(n),[e,s]=[+dr(r.start),+dr(r.end)].sort((i,a)=>i-a);return t>=e&&t<=s}function AF(n,r){return Vf(n,-r)}function kF(n,r){const e=IF(n);let s;if(e.date){const c=PF(e.date,2);s=jF(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let a=0,o;if(e.time&&(a=RF(e.time),isNaN(a)))return new Date(NaN);if(e.timezone){if(o=MF(e.timezone),isNaN(o))return new Date(NaN)}else{const c=new Date(i+a),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+a+o)}const k2={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},CF=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,TF=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,DF=/^([+-])(\d{2})(?::?(\d{2}))?$/;function IF(n){const r={},t=n.split(k2.dateTimeDelimiter);let e;if(t.length>2)return r;if(/:/.test(t[0])?e=t[0]:(r.date=t[0],e=t[1],k2.timeZoneDelimiter.test(r.date)&&(r.date=n.split(k2.timeZoneDelimiter)[0],e=n.substr(r.date.length,n.length))),e){const s=k2.timezone.exec(e);s?(r.time=e.replace(s[1],""),r.timezone=s[1]):r.time=e}return r}function PF(n,r){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),e=n.match(t);if(!e)return{year:NaN,restDateString:""};const s=e[1]?parseInt(e[1]):null,i=e[2]?parseInt(e[2]):null;return{year:i===null?s:i*100,restDateString:n.slice((e[1]||e[2]).length)}}function jF(n,r){if(r===null)return new Date(NaN);const t=n.match(CF);if(!t)return new Date(NaN);const e=!!t[4],s=Ig(t[1]),i=Ig(t[2])-1,a=Ig(t[3]),o=Ig(t[4]),c=Ig(t[5])-1;if(e)return UF(r,o,c)?LF(r,o,c):new Date(NaN);{const u=new Date(0);return!FF(r,i,a)||!BF(r,s)?new Date(NaN):(u.setUTCFullYear(r,i,Math.max(s,a)),u)}}function Ig(n){return n?parseInt(n):1}function RF(n){const r=n.match(TF);if(!r)return NaN;const t=b6(r[1]),e=b6(r[2]),s=b6(r[3]);return HF(t,e,s)?t*qw+e*Hw+s*1e3:NaN}function b6(n){return n&&parseFloat(n.replace(",","."))||0}function MF(n){if(n==="Z")return 0;const r=n.match(DF);if(!r)return 0;const t=r[1]==="+"?-1:1,e=parseInt(r[2]),s=r[3]&&parseInt(r[3])||0;return qF(e,s)?t*(e*qw+s*Hw):NaN}function LF(n,r,t){const e=new Date(0);e.setUTCFullYear(n,0,4);const s=e.getUTCDay()||7,i=(r-1)*7+t+1-s;return e.setUTCDate(e.getUTCDate()+i),e}const OF=[31,null,31,30,31,30,31,31,30,31,30,31];function kA(n){return n%400===0||n%4===0&&n%100!==0}function FF(n,r,t){return r>=0&&r<=11&&t>=1&&t<=(OF[r]||(kA(n)?29:28))}function BF(n,r){return r>=1&&r<=(kA(n)?366:365)}function UF(n,r,t){return r>=1&&r<=53&&t>=0&&t<=6}function HF(n,r,t){return n===24?r===0&&t===0:t>=0&&t<60&&r>=0&&r<60&&n>=0&&n<25}function qF(n,r){return r>=0&&r<=59}function hl(n,r){const t=dr(n),e=t.getFullYear(),s=t.getDate(),i=Qn(n,0);i.setFullYear(e,r,15),i.setHours(0,0,0,0);const a=NO(i);return t.setMonth(r,Math.min(s,a)),t}function WF(n,r){let t=dr(n);return isNaN(+t)?Qn(n,NaN):(r.year!=null&&t.setFullYear(r.year),r.month!=null&&(t=hl(t,r.month)),r.date!=null&&t.setDate(r.date),r.hours!=null&&t.setHours(r.hours),r.minutes!=null&&t.setMinutes(r.minutes),r.seconds!=null&&t.setSeconds(r.seconds),r.milliseconds!=null&&t.setMilliseconds(r.milliseconds),t)}function ex(n,r){const t=dr(n);return t.setHours(r),t}function tx(n,r){const t=dr(n);return t.setMinutes(r),t}function j0(n,r){const t=dr(n),e=Math.trunc(t.getMonth()/3)+1,s=r-e;return hl(t,t.getMonth()+s*3)}function rx(n,r){const t=dr(n);return t.setSeconds(r),t}function bu(n,r){const t=dr(n);return isNaN(+t)?Qn(n,NaN):(t.setFullYear(r),t)}function Q1(n,r){return Vc(n,-r)}function CA(n,r){return l8(n,-r)}function GE(n,r){return Fx(n,-r)}function eg(n,r){return dh(n,-r)}const zF=()=>{const{empPIData:n}=ne.useContext(bs),[r,t]=ne.useState([]),[e,s]=ne.useState(!1),i=a=>{const o=W0(new Date,"MM-dd");return a.filter(c=>{if(!c.dob)return!1;const u=new Date(c.dob);return isNaN(u)?(console.error("Invalid date:",c.dob,"for",c.name),!1):W0(u,"MM-dd")===o})};return ne.useEffect(()=>{if(n){const a=i(n);t(a)}},[n]),b.jsxs("div",{className:"max-w-md w-full shadow-md rounded-2xl h-full bg-white",children:[b.jsx("div",{className:"bg-lite_grey p-4 rounded-t-2xl",children:b.jsx("h2",{className:"text-lg font-semibold",children:"Birthday Reminder"})}),b.jsxs("div",{className:"p-4",children:[b.jsx("h3",{className:"text-lg font-medium",children:"Today's Birthday"}),b.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-5",children:[r.slice(0,2).map((a,o)=>b.jsxs("div",{className:"flex items-center space-x-3 bg-[#F5F7FB] p-2 rounded-md shadow-sm",children:[b.jsx("p",{className:"w-10 h-10 text-[50px] rounded-full center",children:b.jsx(jE,{})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-[14px] font-semibold",children:a.name}),b.jsx("p",{className:"text-[10px] text-grey",children:a.message||"Happy Birthday!"}),b.jsx("p",{className:"text-[10px] text-grey",children:W0(new Date(a.dob),"MMMM dd")})]})]},o)),r.length>2&&b.jsx("button",{onClick:()=>s(!0),className:"text-[green] underline mt-4",children:"View More"})]})]}),e&&b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:b.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[b.jsx("h2",{className:"text-lg font-semibold mb-4",children:"All Birthdays Today"}),r.map((a,o)=>b.jsxs("div",{className:"flex items-center space-x-3 bg-[#F5F7FB] p-2 rounded-md shadow-sm mb-2",children:[b.jsx("p",{className:"w-10 h-10 text-[50px] rounded-full center",children:b.jsx(jE,{})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-[14px] font-semibold",children:a.name}),b.jsx("p",{className:"text-[10px] text-grey",children:a.message||"Happy Birthday!"}),b.jsx("p",{className:"text-[10px] text-grey",children:W0(new Date(a.dob),"MMMM dd")})]})]},o)),b.jsx("div",{className:"center",children:b.jsx("button",{onClick:()=>s(!1),className:"primary_btn mt-4",children:"Close"})})]})})]})},VF=()=>b.jsxs("div",{className:"flex justify-center items-center w-full space-x-10 bg-white p-7 rounded-2xl shadow-lg",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("h3",{className:"text-lg font-semibold",children:"Active users"}),b.jsx("div",{className:"relative w-40 h-2 bg-grey rounded-full overflow-hidden my-2",children:b.jsx("div",{className:"absolute h-full bg-[#32d432]",style:{width:"88%"}})}),b.jsxs("p",{className:"font-medium",children:[88," user"]})]}),b.jsxs("div",{className:"text-center",children:[b.jsx("h3",{className:"text-lg font-semibold",children:"Inactive users"}),b.jsx("div",{className:"relative w-40 h-2 bg-grey rounded-full overflow-hidden my-2",children:b.jsx("div",{className:"absolute h-full bg-yellow",style:{width:"12%"}})}),b.jsxs("p",{className:"font-medium",children:[12," user"]})]})]}),f8=(n,r)=>{const[t,e]=ne.useState([]),{userData:s}=ne.useContext(bs);return ne.useEffect(()=>{var o;const i=(o=localStorage.getItem(n))==null?void 0:o.toUpperCase(),a=s.find(c=>c.empID===i);a&&Array.isArray(a.setPermissions)&&a.setPermissions.forEach(c=>{const u=$F(c);u&&u[r]&&e(u[r])})},[n,r,s]),t};function $F(n){if(!n)return null;let r=n==null?void 0:n.replace(/=/g,":");r=r==null?void 0:r.replace(/([a-zA-Z]+):/g,'"$1":'),r=r==null?void 0:r.replace(/\[([^\]]+)\]/g,(t,e)=>`[${e.split(",").map(i=>`"${i.trim()}"`).join(", ")}]`),r=`{${r==null?void 0:r.slice(1,-1)}}`;try{return JSON.parse(r)}catch(t){return console.error("Error parsing JSON:",t),null}}const GF=()=>{const n=f8("userID","Dashboard");ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const r=ne.useCallback(()=>b.jsxs(b.Fragment,{children:[n.includes("Employee count")&&b.jsx(wL,{}),b.jsxs("div",{className:"flex gap-3 px-3 my-5 w-full",children:[n.includes("Recent Notifications")&&b.jsx("div",{className:"flex-1",children:b.jsx("div",{className:"w-full h-full",children:b.jsx(_L,{})})}),n.includes("Attendance")&&b.jsx("div",{className:"flex-1",children:b.jsx("div",{className:"w-full h-full",children:b.jsx(gL,{})})}),(n.includes("User Action")||n.includes("Birthday Reminder"))&&b.jsxs("div",{className:"flex-1 gap-4 pb-1 flex flex-col justify-between items-end overflow-hidden",children:[n.includes("User Action")&&b.jsx("div",{className:"w-full",children:b.jsx(VF,{})}),n.includes("Birthday Reminder")&&b.jsx("div",{className:"w-full h-full",children:b.jsx(zF,{})})]})]}),n.includes("New Joinee")&&b.jsx(SL,{})]}),[n]);return b.jsx("section",{className:"flex flex-col w-full pb-10 pt-5",children:r()})},YF="/assets/icon1-u4Yq52wE.svg",XF="data:image/svg+xml,%3csvg%20width='66'%20height='66'%20viewBox='0%200%2066%2066'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M41.25%2039.1875H24.75C14.52%2039.1875%206.1875%2047.52%206.1875%2057.75C6.1875%2058.8844%207.11562%2059.8125%208.25%2059.8125C9.38438%2059.8125%2010.3125%2058.8844%2010.3125%2057.75C10.3125%2049.7888%2016.7888%2043.3125%2024.75%2043.3125H41.25C42.3844%2043.3125%2043.3125%2042.3844%2043.3125%2041.25C43.3125%2040.1156%2042.3844%2039.1875%2041.25%2039.1875Z'%20fill='url(%23paint0_linear_1168_885)'/%3e%3cpath%20d='M18.5625%2020.625C18.5625%2028.5863%2025.0388%2035.0625%2033%2035.0625C40.9613%2035.0625%2047.4375%2028.5863%2047.4375%2020.625C47.4375%2012.6638%2040.9613%206.1875%2033%206.1875C25.0388%206.1875%2018.5625%2012.6638%2018.5625%2020.625ZM33%2010.3125C38.6925%2010.3125%2043.3125%2014.9325%2043.3125%2020.625C43.3125%2026.3175%2038.6925%2030.9375%2033%2030.9375C27.3075%2030.9375%2022.6875%2026.3175%2022.6875%2020.625C22.6875%2014.9325%2027.3075%2010.3125%2033%2010.3125Z'%20fill='url(%23paint1_linear_1168_885)'/%3e%3cpath%20d='M53.0269%2041.8479C52.2225%2041.0435%2050.9231%2041.0435%2050.1187%2041.8479L43.9312%2048.0354C43.5394%2048.4273%2043.3125%2048.9429%2043.3125%2049.4998V55.6873C43.3125%2056.8217%2044.2406%2057.7498%2045.375%2057.7498H51.5625C52.1194%2057.7498%2052.635%2057.5229%2053.0269%2057.1517L59.2144%2050.9642C59.5856%2050.5723%2059.8125%2050.036%2059.8125%2049.4998C59.8125%2048.9429%2059.5856%2048.4273%2059.2144%2048.0354L53.0269%2041.8479ZM50.7169%2053.6248H47.4375V50.3454L51.5625%2046.2204L54.8419%2049.4998L50.7169%2053.6248Z'%20fill='url(%23paint2_linear_1168_885)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_1168_885'%20x1='24.75'%20y1='39.1875'%20x2='24.75'%20y2='59.8125'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%230AAF19'/%3e%3cstop%20offset='0.215'%20stop-color='%230AA818'/%3e%3cstop%20offset='0.88'%20stop-color='%2304490A'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_1168_885'%20x1='33'%20y1='6.1875'%20x2='33'%20y2='35.0625'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%230AAF19'/%3e%3cstop%20offset='0.215'%20stop-color='%230AA818'/%3e%3cstop%20offset='0.88'%20stop-color='%2304490A'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint2_linear_1168_885'%20x1='51.5625'%20y1='41.2446'%20x2='51.5625'%20y2='57.7498'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%230AAF19'/%3e%3cstop%20offset='0.215'%20stop-color='%230AA818'/%3e%3cstop%20offset='0.88'%20stop-color='%2304490A'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",KF="/assets/icon3-DZD3qRJq.svg",JF="/assets/icon4-DUXIiA-k.svg",ZF="/assets/icon5-gX3V7iTS.svg",QF="/assets/icon6-fIqQgiCR.svg",eB="data:image/svg+xml,%3csvg%20width='39'%20height='40'%20viewBox='0%200%2039%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4.75238%2011.7201V4.24006H12.0018V6.12006L19.1304%200.560059L37.5762%2014.8801V37.4401H31.535H22.3524H0.684639V14.8801L4.75238%2011.7201ZM30.2462%2036.1201V22.6801H23.6814V36.1201H30.2462ZM1.97343%2036.1201H22.3524V21.3601H31.535V36.1201H36.2874V15.5201L19.1304%202.24006L10.6727%208.80006V5.56006H6.04116V12.3601L1.97343%2015.5201V36.1201Z'%20fill='url(%23paint0_linear_4209_482)'/%3e%3cpath%20d='M15.707%2030.4798H6.52442V21.3198H15.707V30.4798ZM14.378%2022.6398H7.81321V29.1598H14.378V22.6398Z'%20fill='url(%23paint1_linear_4209_482)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_4209_482'%20x1='19.1304'%20y1='0.560059'%20x2='19.1304'%20y2='37.4401'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23F9A938'/%3e%3cstop%20offset='1'%20stop-color='%23936421'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_4209_482'%20x1='11.1157'%20y1='21.3198'%20x2='11.1157'%20y2='30.4798'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23936421'/%3e%3cstop%20offset='1'%20stop-color='%23720909'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",tB=()=>{const n=f8("userID","Employee");ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const t=[{id:1,to:"/allempDetails",img:YF,alt:"All Employee",title:"All Employee",borderColor:"border-[#AF0A12]"},{id:2,to:"/employeeInfo",img:XF,alt:"Employee Info",title:"Employee Info",borderColor:"border-[#0AAF19]"},{id:3,to:"/workInfo",img:KF,alt:"Work Info",title:"Work Info",borderColor:"border-[#F9A938]"},{id:4,to:"/sawp",img:JF,alt:"Work Pass",title:"Work Pass",borderColor:"border-[#0072FE]"},{id:5,to:"/labourImmigration",img:ZF,alt:"Medical & Dependent Info",title:"Medical & Dependent Info",borderColor:"border-[#AF0A12]"},{id:6,to:"/insuranceAdd",img:QF,alt:"Insurance",title:"Insurance",borderColor:"border-[#0072FE]"},{id:7,to:"/nonLocalAcco",img:eB,alt:"Non-Local",title:"Non-Local Accommodation in Brunei",borderColor:"border-[#F9A938]"}].filter(e=>n.includes(e.title));return console.log(t),b.jsx("section",{className:" bg-[#F5F6F1CC] w-full p-10 min-h-screen",children:b.jsx("div",{className:"flex w-full flex-wrap justify-between gap-y-10 gap-x-2 mb-40",children:t.map(e=>b.jsx(ga,{to:e.to,className:"  flex flex-col justify-center items-center p-2 max-w-xs w-full bg-white rounded-lg shadow-lg  transition-shadow duration-200",children:b.jsxs("div",{className:`w-full h-full flex flex-col justify-center items-center  border-l-4 ${e.borderColor}`,children:[b.jsx("img",{className:"w-[100px] h-[100px] p-3",src:e.img,alt:e.alt}),b.jsx("h2",{className:"text-[14px] font-semibold text-center",children:e.title})]})},e.id))})})},fl=({img:n,text1:r,text2:t,fontSize:e,borderColor:s,bgColor:i,link:a})=>b.jsxs(ga,{to:a,className:`shadow-lg border ${s} ${i} text-secondary my-5 h-36 max-w-48 w-full rounded-xl flex flex-col items-center justify-center text-center gap-3 p-5`,children:[b.jsx("div",{className:"w-full max-w-[60px]",children:b.jsx("img",{className:"w-full",src:n,alt:"TimeSheet icons not found"})}),b.jsxs("p",{className:`${e}`,children:[r," ",b.jsx("br",{}),t]})]}),rB="/assets/icon1-Zev5O8SX.svg",nB="/assets/icon2-CCgZr1TG.svg",sB="/assets/icon3-8WW3B4W_.svg",iB=()=>(ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),b.jsxs("section",{className:"min-h-screen p-10 bg-[#F5F6F1CC] flex gap-16",children:[b.jsx(fl,{img:rB,text1:"HR",fontSize:"text_size_5 ",borderColor:"border-[#BF91FF]",bgColor:"bg-white",link:"/training/hr"}),b.jsx(fl,{img:nB,text1:"Training Requestor",fontSize:"text_size_5 ",borderColor:"border-[#7DA2F2]",bgColor:"bg-white",link:"/trainingReq"}),b.jsx(fl,{img:sB,text1:"QA / QC",fontSize:"text_size_5 ",borderColor:"border-[#BDF27D]",bgColor:"bg-white",link:"/trainingQA"})]})),aB="data:image/svg+xml,%3csvg%20width='45'%20height='52'%20viewBox='0%200%2045%2052'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M29.1485%2030.8018H14.4063C13.8802%2030.8018%2013.4556%2030.3772%2013.4556%2029.8511C13.4556%2029.325%2013.8802%2028.9004%2014.4063%2028.9004H29.1485C29.6746%2028.9004%2030.0992%2029.325%2030.0992%2029.8511C30.0992%2030.3772%2029.6746%2030.8018%2029.1485%2030.8018Z'%20fill='%23E39921'/%3e%3cpath%20d='M20.2182%2036.6963H14.4063C13.8802%2036.6963%2013.4556%2036.2717%2013.4556%2035.7456C13.4556%2035.2196%2013.8802%2034.7949%2014.4063%2034.7949H20.2182C20.7443%2034.7949%2021.1689%2035.2196%2021.1689%2035.7456C21.1689%2036.2717%2020.7443%2036.6963%2020.2182%2036.6963Z'%20fill='%23E39921'/%3e%3cpath%20d='M29.1485%2019.0069H14.4063C13.8802%2019.0069%2013.4556%2018.5822%2013.4556%2018.0562C13.4556%2017.5301%2013.8802%2017.1055%2014.4063%2017.1055H29.1485C29.6746%2017.1055%2030.0992%2017.5301%2030.0992%2018.0562C30.0992%2018.5822%2029.6746%2019.0069%2029.1485%2019.0069Z'%20fill='%23E39921'/%3e%3cpath%20d='M29.1485%2024.9014H14.4063C13.8802%2024.9014%2013.4556%2024.4768%2013.4556%2023.9507C13.4556%2023.4246%2013.8802%2023%2014.4063%2023H29.1485C29.6746%2023%2030.0992%2023.4246%2030.0992%2023.9507C30.0992%2024.4768%2029.6746%2024.9014%2029.1485%2024.9014Z'%20fill='%23E39921'/%3e%3cpath%20d='M35.7085%2014.1965L29.8078%208.52401C29.6366%208.35288%2029.3958%208.25781%2029.1549%208.25781H8.51198C7.98593%208.25781%207.56128%208.68246%207.56128%209.20852V43.117C7.56128%2043.643%207.98593%2044.0677%208.51198%2044.0677H26.9366V42.1663H9.46269V10.1592H28.7556V15.2677H34.0859L34.0986%2015.2803V33.198H36V14.8811C36%2014.6212%2035.8923%2014.374%2035.7085%2014.1965Z'%20fill='%23E39921'/%3e%3cpath%20d='M31.9057%2046.2489C27.805%2046.2489%2024.4648%2042.9151%2024.4648%2038.808C24.4648%2034.701%2027.805%2031.3672%2031.9057%2031.3672C36.0064%2031.3672%2039.3465%2034.701%2039.3465%2038.808C39.3465%2042.9151%2036.0064%2046.2489%2031.9057%2046.2489ZM31.9057%2033.2749C28.8508%2033.2749%2026.3663%2035.7594%2026.3663%2038.8144C26.3663%2041.8693%2028.8508%2044.3538%2031.9057%2044.3538C34.9606%2044.3538%2037.4451%2041.8693%2037.4451%2038.8144C37.4451%2035.7594%2034.9606%2033.2749%2031.9057%2033.2749Z'%20fill='%23E39921'/%3e%3cpath%20d='M31.8485%2040.5321C31.6077%2040.5321%2031.3732%2040.4434%2031.1957%2040.2722L28.6225%2037.8384C28.2422%2037.4772%2028.2232%2036.8751%2028.5844%2036.4948C28.9457%2036.1145%2029.5478%2036.0955%2029.9281%2036.4567L32.0703%2038.4786L33.9844%2037.7434C34.4725%2037.5532%2035.0239%2037.8004%2035.214%2038.2884C35.4041%2038.7765%2035.157%2039.3279%2034.6689%2039.518L32.1971%2040.4624C32.0894%2040.5067%2031.9689%2040.5258%2031.8549%2040.5258L31.8485%2040.5321Z'%20fill='%23E39921'/%3e%3c/svg%3e",v6="data:image/svg+xml,%3csvg%20width='45'%20height='52'%20viewBox='0%200%2045%2052'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M28.5882%2031.0234H14.1911C13.6774%2031.0234%2013.2627%2030.5957%2013.2627%2030.0659C13.2627%2029.5361%2013.6774%2029.1084%2014.1911%2029.1084H28.5882C29.102%2029.1084%2029.5167%2029.5361%2029.5167%2030.0659C29.5167%2030.5957%2029.102%2031.0234%2028.5882%2031.0234Z'%20fill='url(%23paint0_linear_4296_542)'/%3e%3cpath%20d='M19.867%2036.9589H14.1911C13.6774%2036.9589%2013.2627%2036.5313%2013.2627%2036.0014C13.2627%2035.4716%2013.6774%2035.0439%2014.1911%2035.0439H19.867C20.3808%2035.0439%2020.7955%2035.4716%2020.7955%2036.0014C20.7955%2036.5313%2020.3808%2036.9589%2019.867%2036.9589Z'%20fill='url(%23paint1_linear_4296_542)'/%3e%3cpath%20d='M28.5882%2019.1435H14.1911C13.6774%2019.1435%2013.2627%2018.7158%2013.2627%2018.186C13.2627%2017.6562%2013.6774%2017.2285%2014.1911%2017.2285H28.5882C29.102%2017.2285%2029.5167%2017.6562%2029.5167%2018.186C29.5167%2018.7158%2029.102%2019.1435%2028.5882%2019.1435Z'%20fill='url(%23paint2_linear_4296_542)'/%3e%3cpath%20d='M28.5882%2025.08H14.1911C13.6774%2025.08%2013.2627%2024.6523%2013.2627%2024.1225C13.2627%2023.5927%2013.6774%2023.165%2014.1911%2023.165H28.5882C29.102%2023.165%2029.5167%2023.5927%2029.5167%2024.1225C29.5167%2024.6523%2029.102%2025.08%2028.5882%2025.08Z'%20fill='url(%23paint3_linear_4296_542)'/%3e%3cpath%20d='M34.9945%2014.2985L29.2319%208.58548C29.0648%208.41313%2028.8296%208.31738%2028.5944%208.31738H8.43479C7.92105%208.31738%207.50635%208.74506%207.50635%209.27488V43.4255C7.50635%2043.9553%207.92105%2044.383%208.43479%2044.383H26.428V42.468H9.36324V10.2324H28.2045V15.3773H33.4099L33.4223%2015.3901V33.4357H35.2792V14.9879C35.2792%2014.7262%2035.174%2014.4773%2034.9945%2014.2985Z'%20fill='url(%23paint4_linear_4296_542)'/%3e%3cpath%20d='M31.2808%2046.5788C27.2761%2046.5788%2024.0142%2043.2212%2024.0142%2039.0848C24.0142%2034.9484%2027.2761%2031.5908%2031.2808%2031.5908C35.2855%2031.5908%2038.5474%2034.9484%2038.5474%2039.0848C38.5474%2043.2212%2035.2855%2046.5788%2031.2808%2046.5788ZM31.2808%2033.5122C28.2974%2033.5122%2025.871%2036.0144%2025.871%2039.0912C25.871%2042.1679%2028.2974%2044.6702%2031.2808%2044.6702C34.2642%2044.6702%2036.6905%2042.1679%2036.6905%2039.0912C36.6905%2036.0144%2034.2642%2033.5122%2031.2808%2033.5122Z'%20fill='url(%23paint5_linear_4296_542)'/%3e%3cpath%20d='M31.2252%2040.8209C30.99%2040.8209%2030.761%2040.7315%2030.5877%2040.5592L28.0747%2038.108C27.7033%2037.7441%2027.6848%2037.1377%2028.0376%2036.7547C28.3904%2036.3717%2028.9784%2036.3526%2029.3498%2036.7164L31.4419%2038.7527L33.3111%2038.0122C33.7877%2037.8207%2034.3262%2038.0697%2034.5119%2038.5612C34.6976%2039.0527%2034.4562%2039.608%2033.9796%2039.7995L31.5657%2040.7507C31.4604%2040.7953%2031.3428%2040.8145%2031.2314%2040.8145L31.2252%2040.8209Z'%20fill='url(%23paint6_linear_4296_542)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_4296_542'%20x1='21.3897'%20y1='29.1084'%20x2='21.3897'%20y2='31.0234'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23B70B36'/%3e%3cstop%20offset='1'%20stop-color='%23D5A3AF'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_4296_542'%20x1='17.0291'%20y1='35.0439'%20x2='17.0291'%20y2='36.9589'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23B70B36'/%3e%3cstop%20offset='1'%20stop-color='%23D5A3AF'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint2_linear_4296_542'%20x1='21.3897'%20y1='17.2285'%20x2='21.3897'%20y2='19.1435'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23B70B36'/%3e%3cstop%20offset='1'%20stop-color='%23D5A3AF'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint3_linear_4296_542'%20x1='21.3897'%20y1='23.165'%20x2='21.3897'%20y2='25.08'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23B70B36'/%3e%3cstop%20offset='1'%20stop-color='%23D5A3AF'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint4_linear_4296_542'%20x1='21.3928'%20y1='8.31738'%20x2='21.3928'%20y2='44.383'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23B70B36'/%3e%3cstop%20offset='1'%20stop-color='%23D5A3AF'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint5_linear_4296_542'%20x1='31.2808'%20y1='31.5908'%20x2='31.2808'%20y2='46.5788'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23B70B36'/%3e%3cstop%20offset='1'%20stop-color='%23D5A3AF'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint6_linear_4296_542'%20x1='31.1794'%20y1='36.4551'%20x2='31.1794'%20y2='40.8209'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23B70B36'/%3e%3cstop%20offset='1'%20stop-color='%23D5A3AF'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",oB="/assets/icons8-1dUiJvNr.svg",lB="data:image/svg+xml,%3csvg%20width='44'%20height='53'%20viewBox='0%200%2044%2053'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M28.4661%2031.3574H14.0691C13.5553%2031.3574%2013.1406%2030.9297%2013.1406%2030.3999C13.1406%2029.8701%2013.5553%2029.4424%2014.0691%2029.4424H28.4661C28.9799%2029.4424%2029.3946%2029.8701%2029.3946%2030.3999C29.3946%2030.9297%2028.9799%2031.3574%2028.4661%2031.3574Z'%20fill='url(%23paint0_linear_4296_520)'/%3e%3cpath%20d='M19.745%2037.2929H14.0691C13.5553%2037.2929%2013.1406%2036.8652%2013.1406%2036.3354C13.1406%2035.8056%2013.5553%2035.3779%2014.0691%2035.3779H19.745C20.2587%2035.3779%2020.6734%2035.8056%2020.6734%2036.3354C20.6734%2036.8652%2020.2587%2037.2929%2019.745%2037.2929Z'%20fill='url(%23paint1_linear_4296_520)'/%3e%3cpath%20d='M28.4661%2019.4775H14.0691C13.5553%2019.4775%2013.1406%2019.0498%2013.1406%2018.52C13.1406%2017.9902%2013.5553%2017.5625%2014.0691%2017.5625H28.4661C28.9799%2017.5625%2029.3946%2017.9902%2029.3946%2018.52C29.3946%2019.0498%2028.9799%2019.4775%2028.4661%2019.4775Z'%20fill='url(%23paint2_linear_4296_520)'/%3e%3cpath%20d='M28.4661%2025.414H14.0691C13.5553%2025.414%2013.1406%2024.9863%2013.1406%2024.4565C13.1406%2023.9267%2013.5553%2023.499%2014.0691%2023.499H28.4661C28.9799%2023.499%2029.3946%2023.9267%2029.3946%2024.4565C29.3946%2024.9863%2028.9799%2025.414%2028.4661%2025.414Z'%20fill='url(%23paint3_linear_4296_520)'/%3e%3cpath%20d='M34.8724%2014.6325L29.1099%208.91947C28.9428%208.74712%2028.7075%208.65137%2028.4723%208.65137H8.31272C7.79898%208.65137%207.38428%209.07905%207.38428%209.60886V43.7595C7.38428%2044.2893%207.79898%2044.717%208.31272%2044.717H26.306V42.802H9.24117V10.5664H28.0824V15.7113H33.2879L33.3003%2015.7241V33.7697H35.1571V15.3219C35.1571%2015.0602%2035.0519%2014.8113%2034.8724%2014.6325Z'%20fill='url(%23paint4_linear_4296_520)'/%3e%3cpath%20d='M31.1587%2046.9128C27.154%2046.9128%2023.8921%2043.5552%2023.8921%2039.4188C23.8921%2035.2824%2027.154%2031.9248%2031.1587%2031.9248C35.1634%2031.9248%2038.4253%2035.2824%2038.4253%2039.4188C38.4253%2043.5552%2035.1634%2046.9128%2031.1587%2046.9128ZM31.1587%2033.8462C28.1753%2033.8462%2025.749%2036.3484%2025.749%2039.4252C25.749%2042.5019%2028.1753%2045.0042%2031.1587%2045.0042C34.1421%2045.0042%2036.5685%2042.5019%2036.5685%2039.4252C36.5685%2036.3484%2034.1421%2033.8462%2031.1587%2033.8462Z'%20fill='url(%23paint5_linear_4296_520)'/%3e%3cpath%20d='M31.1032%2041.1549C30.868%2041.1549%2030.6389%2041.0655%2030.4656%2040.8931L27.9527%2038.442C27.5813%2038.0781%2027.5627%2037.4717%2027.9155%2037.0887C28.2683%2036.7057%2028.8563%2036.6865%2029.2277%2037.0504L31.3198%2039.0867L33.1891%2038.3462C33.6657%2038.1547%2034.2042%2038.4037%2034.3899%2038.8952C34.5756%2039.3867%2034.3342%2039.942%2033.8576%2040.1335L31.4436%2041.0846C31.3384%2041.1293%2031.2208%2041.1485%2031.1094%2041.1485L31.1032%2041.1549Z'%20fill='url(%23paint6_linear_4296_520)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_4296_520'%20x1='21.2676'%20y1='29.4424'%20x2='21.2676'%20y2='31.3574'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%234E00BC'/%3e%3cstop%20offset='1'%20stop-color='%239D61F1'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_4296_520'%20x1='16.907'%20y1='35.3779'%20x2='16.907'%20y2='37.2929'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%234E00BC'/%3e%3cstop%20offset='1'%20stop-color='%239D61F1'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint2_linear_4296_520'%20x1='21.2676'%20y1='17.5625'%20x2='21.2676'%20y2='19.4775'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%234E00BC'/%3e%3cstop%20offset='1'%20stop-color='%239D61F1'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint3_linear_4296_520'%20x1='21.2676'%20y1='23.499'%20x2='21.2676'%20y2='25.414'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%234E00BC'/%3e%3cstop%20offset='1'%20stop-color='%239D61F1'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint4_linear_4296_520'%20x1='21.2707'%20y1='8.65137'%20x2='21.2707'%20y2='44.717'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%234E00BC'/%3e%3cstop%20offset='1'%20stop-color='%239D61F1'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint5_linear_4296_520'%20x1='31.1587'%20y1='31.9248'%20x2='31.1587'%20y2='46.9128'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%234E00BC'/%3e%3cstop%20offset='1'%20stop-color='%239D61F1'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint6_linear_4296_520'%20x1='31.0573'%20y1='36.7891'%20x2='31.0573'%20y2='41.1549'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%234E00BC'/%3e%3cstop%20offset='1'%20stop-color='%239D61F1'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",cB="/assets/icons11-CNIEWrqm.svg",uB=()=>b.jsxs("section",{className:"p-16 bg-[#F5F6F1CC] ",children:[b.jsx("h4",{className:"text_size_6 text-dark_grey",children:"Please Upload the Time Sheet"}),b.jsxs("div",{className:"grid grid-cols-4  gap-10 my-5",children:[b.jsx(fl,{img:v6,text1:"HO",borderColor:"border-[red]",link:"/timesheetHO"}),b.jsx(fl,{img:v6,text1:"SBW",borderColor:"border-[red]",link:"/timesheetSBW"}),b.jsx(fl,{img:v6,text1:"ORMC",borderColor:"border-[red]",link:"/timesheetORMC"}),b.jsx(fl,{img:aB,text1:"Offshore",borderColor:"border-[orange]",link:"/timesheetOffshore"})]}),b.jsxs("div",{className:"grid grid-cols-3 gap-10 my-5",children:[b.jsx(fl,{img:lB,text1:"BLNG",borderColor:"border-[violet]",link:"/timesheetBlng"}),b.jsx(fl,{img:cB,text1:"View Time",text2:"sheet",borderColor:"border-[violet]",link:"/viewTimesheet"}),b.jsx(fl,{img:oB,text1:"View",text2:"Summary",borderColor:"border-[green]",link:"/viewTimesheet"})]})]});function Vx(n){return Fn({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M960 95.888l-256.224.001V32.113c0-17.68-14.32-32-32-32s-32 14.32-32 32v63.76h-256v-63.76c0-17.68-14.32-32-32-32s-32 14.32-32 32v63.76H64c-35.344 0-64 28.656-64 64v800c0 35.343 28.656 64 64 64h896c35.344 0 64-28.657 64-64v-800c0-35.329-28.656-63.985-64-63.985zm0 863.985H64v-800h255.776v32.24c0 17.679 14.32 32 32 32s32-14.321 32-32v-32.224h256v32.24c0 17.68 14.32 32 32 32s32-14.32 32-32v-32.24H960v799.984zM736 511.888h64c17.664 0 32-14.336 32-32v-64c0-17.664-14.336-32-32-32h-64c-17.664 0-32 14.336-32 32v64c0 17.664 14.336 32 32 32zm0 255.984h64c17.664 0 32-14.32 32-32v-64c0-17.664-14.336-32-32-32h-64c-17.664 0-32 14.336-32 32v64c0 17.696 14.336 32 32 32zm-192-128h-64c-17.664 0-32 14.336-32 32v64c0 17.68 14.336 32 32 32h64c17.664 0 32-14.32 32-32v-64c0-17.648-14.336-32-32-32zm0-255.984h-64c-17.664 0-32 14.336-32 32v64c0 17.664 14.336 32 32 32h64c17.664 0 32-14.336 32-32v-64c0-17.68-14.336-32-32-32zm-256 0h-64c-17.664 0-32 14.336-32 32v64c0 17.664 14.336 32 32 32h64c17.664 0 32-14.336 32-32v-64c0-17.68-14.336-32-32-32zm0 255.984h-64c-17.664 0-32 14.336-32 32v64c0 17.68 14.336 32 32 32h64c17.664 0 32-14.32 32-32v-64c0-17.648-14.336-32-32-32z"},child:[]}]})(n)}const dB=({typeOfReport:n,setTypeOfReport:r,Reports:t,justFilterName:e})=>{const[s,i]=ne.useState(!1),a=()=>{i(!s)};return b.jsx("div",{children:b.jsxs("div",{className:"relative",children:[b.jsxs("div",{className:"flex items-center gap-3 border rounded p-0.5 px-3 text-sm text-secondary border-[#D9D9D9]",onClick:a,children:[b.jsx(i8,{}),b.jsx("input",{readOnly:!0,value:e,placeholder:"Select type",className:"cursor-pointer rounded outline-none p-2 text-dark_grey text-sm w-full",onClick:()=>i(!0)})]}),s&&b.jsx("div",{className:"absolute border border-[#D9D9D9] mt-1 w-full text-[16px] p-1 bg-white",onClick:()=>i(!1),children:t&&t.map((o,c)=>b.jsx("p",{className:"hover:bg-secondary hover:text-white p-1 cursor-pointer text-dark_grey",onClick:()=>{r(o.title),i(!1)},children:o.title},c))})]})})},$f=({allEmpDetails:n,searchUserList:r,searchIcon1:t,searchIcon2:e,placeholder:s,border:i})=>{const[a,o]=ne.useState(""),c=u=>{const l=u.target.value.toLowerCase();if(o(l),l){const d=n.filter(f=>f.empID&&typeof f.empID=="string"&&f.empID.toLowerCase().includes(l)||f.name&&typeof f.name=="string"&&f.name.toLowerCase().includes(l)||f.position&&typeof f.position=="string"&&f.position.toLowerCase().includes(l)||f.empBadgeNo&&typeof f.empBadgeNo=="string"&&f.empBadgeNo.toLowerCase().includes(l));r(d)}else r(n)};return b.jsx("div",{className:"relative",children:b.jsxs("div",{className:`py-2 w-full text_size_5 bg-white border text-grey border-lite_grey ${i} flex items-center px-3 gap-2`,children:[b.jsx("div",{className:"text-dark_grey text-2xl mr-1",children:t}),b.jsx("input",{type:"text",placeholder:s,className:"outline-none w-full text-sm",value:a,onChange:c}),e&&b.jsx("div",{className:"text-dark_grey text-2xl",children:e})]})})};function C2(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var TA={exports:{}};(function(n,r){var t={};/*! ExcelJS 19-10-2023 */(function(e){n.exports=e()})(function(){return function e(s,i,a){function o(l,d){if(!i[l]){if(!s[l]){var f=typeof C2=="function"&&C2;if(!d&&f)return f(l,!0);if(c)return c(l,!0);var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[l]={exports:{}};s[l][0].call(p.exports,function(g){return o(s[l][1][g]||g)},p,p.exports,e,s,i,a)}return i[l].exports}for(var c=typeof C2=="function"&&C2,u=0;u<a.length;u++)o(a[u]);return o}({1:[function(e,s,i){const a=e("fs"),o=e("fast-csv"),c=e("dayjs/plugin/customParseFormat"),u=e("dayjs/plugin/utc"),l=e("dayjs").extend(c).extend(u),d=e("../utils/stream-buf"),{fs:{exists:f}}=e("../utils/utils"),h={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};s.exports=class{constructor(p){this.workbook=p,this.worksheet=null}async readFile(p,g){if(g=g||{},!await f(p))throw new Error("File not found: "+p);const v=a.createReadStream(p),m=await this.read(v,g);return v.close(),m}read(p,g){return g=g||{},new Promise((v,m)=>{const x=this.workbook.addWorksheet(g.sheetName),y=g.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],w=g.map||function(I){if(I==="")return null;const T=Number(I);if(!Number.isNaN(T)&&T!==1/0)return T;const R=y.reduce((L,M)=>{if(L)return L;const H=l(I,M,!0);return H.isValid()?H:null},null);if(R)return new Date(R.valueOf());const D=h[I];return D!==void 0?D:I},E=o.parse(g.parserOptions).on("data",I=>{x.addRow(I.map(w))}).on("end",()=>{E.emit("worksheet",x)});E.on("worksheet",v).on("error",m),p.pipe(E)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(p,g){return new Promise((v,m)=>{g=g||{};const x=this.workbook.getWorksheet(g.sheetName||g.sheetId),y=o.format(g.formatterOptions);p.on("finish",()=>{v()}),y.on("error",m),y.pipe(p);const{dateFormat:w,dateUTC:E}=g,I=g.map||(D=>{if(D){if(D.text||D.hyperlink)return D.hyperlink||D.text||"";if(D.formula||D.result)return D.result||"";if(D instanceof Date)return w?E?l.utc(D).format(w):l(D).format(w):E?l.utc(D).format():l(D).format();if(D.error)return D.error;if(typeof D=="object")return JSON.stringify(D)}return D}),T=g.includeEmptyRows===void 0||g.includeEmptyRows;let R=1;x&&x.eachRow((D,L)=>{if(T)for(;R++<L-1;)y.write([]);const{values:M}=D;M.shift(),y.write(M.map(I)),R=L}),y.end()})}writeFile(p,g){const v={encoding:(g=g||{}).encoding||"utf8"},m=a.createWriteStream(p,v);return this.write(m,g)}async writeBuffer(p){const g=new d;return await this.write(g,p),g.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,s,i){const a=e("../utils/col-cache");class o{constructor(u,l){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=u,l)if(typeof l=="string"){const f=a.decodeAddress(l);this.nativeCol=f.col+d,this.nativeColOff=0,this.nativeRow=f.row+d,this.nativeRowOff=0}else l.nativeCol!==void 0?(this.nativeCol=l.nativeCol||0,this.nativeColOff=l.nativeColOff||0,this.nativeRow=l.nativeRow||0,this.nativeRowOff=l.nativeRowOff||0):l.col!==void 0?(this.col=l.col+d,this.row=l.row+d):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(u){return u instanceof o||u==null?u:new o(u)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(u){this.nativeCol=Math.floor(u),this.nativeColOff=Math.floor((u-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(u){this.nativeRow=Math.floor(u),this.nativeRowOff=Math.floor((u-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(u){this.nativeCol=u.nativeCol,this.nativeColOff=u.nativeColOff,this.nativeRow=u.nativeRow,this.nativeRowOff=u.nativeRowOff}}s.exports=o},{"../utils/col-cache":19}],3:[function(e,s,i){const a=e("../utils/col-cache"),o=e("../utils/under-dash"),c=e("./enums"),{slideFormula:u}=e("../utils/shared-formula"),l=e("./note");class d{constructor(p,g,v){if(!p||!g)throw new Error("A Cell needs a Row");this._row=p,this._column=g,a.validateAddress(v),this._address=v,this._value=f.create(d.Types.Null,this),this.style=this._mergeStyle(p.style,g.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(p){this.style.numFmt=p}get font(){return this.style.font}set font(p){this.style.font=p}get alignment(){return this.style.alignment}set alignment(p){this.style.alignment=p}get border(){return this.style.border}set border(p){this.style.border=p}get fill(){return this.style.fill}set fill(p){this.style.fill=p}get protection(){return this.style.protection}set protection(p){this.style.protection=p}_mergeStyle(p,g,v){const m=p&&p.numFmt||g&&g.numFmt;m&&(v.numFmt=m);const x=p&&p.font||g&&g.font;x&&(v.font=x);const y=p&&p.alignment||g&&g.alignment;y&&(v.alignment=y);const w=p&&p.border||g&&g.border;w&&(v.border=w);const E=p&&p.fill||g&&g.fill;E&&(v.fill=E);const I=p&&p.protection||g&&g.protection;return I&&(v.protection=I),v}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===d.Types.Merge}merge(p,g){this._value.release(),this._value=f.create(d.Types.Merge,this,p),g||(this.style=p.style)}unmerge(){this.type===d.Types.Merge&&(this._value.release(),this._value=f.create(d.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(p){return this._value.type===d.Types.Merge&&this._value.isMergedTo(p)}get master(){return this.type===d.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===d.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(p){this.type!==d.Types.Merge?(this._value.release(),this._value=f.create(f.getType(p),this,p)):this._value.master.value=p}get note(){return this._comment&&this._comment.note}set note(p){this._comment=new l(p)}get text(){return this._value.toString()}get html(){return o.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(p){this.type===d.Types.String&&(this._value=f.create(d.Types.Hyperlink,this,{text:this._value.value,hyperlink:p}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:p}=this._row;return{sheetName:p.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(p){this.names=[p]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(p){const{definedNames:g}=this.workbook;g.removeAllNames(this.fullAddress),p.forEach(v=>{g.addEx(this.fullAddress,v)})}addName(p){this.workbook.definedNames.addEx(this.fullAddress,p)}removeName(p){this.workbook.definedNames.removeEx(this.fullAddress,p)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(p){this._dataValidations.add(this.address,p)}get model(){const{model:p}=this._value;return p.style=this.style,this._comment&&(p.comment=this._comment.model),p}set model(p){if(this._value.release(),this._value=f.create(p.type,this),this._value.model=p,p.comment)switch(p.comment.type){case"note":this._comment=l.fromModel(p.comment)}p.style?this.style=p.style:this.style={}}}d.Types=c.ValueType;const f={getType:h=>h==null?d.Types.Null:h instanceof String||typeof h=="string"?d.Types.String:typeof h=="number"?d.Types.Number:typeof h=="boolean"?d.Types.Boolean:h instanceof Date?d.Types.Date:h.text&&h.hyperlink?d.Types.Hyperlink:h.formula||h.sharedFormula?d.Types.Formula:h.richText?d.Types.RichText:h.sharedString?d.Types.SharedString:h.error?d.Types.Error:d.Types.JSON,types:[{t:d.Types.Null,f:class{constructor(h){this.model={address:h.address,type:d.Types.Null}}get value(){return null}set value(h){}get type(){return d.Types.Null}get effectiveType(){return d.Types.Null}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){}toString(){return""}}},{t:d.Types.Number,f:class{constructor(h,p){this.model={address:h.address,type:d.Types.Number,value:p}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.Number}get effectiveType(){return d.Types.Number}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.String,f:class{constructor(h,p){this.model={address:h.address,type:d.Types.String,value:p}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.String}get effectiveType(){return d.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:d.Types.Date,f:class{constructor(h,p){this.model={address:h.address,type:d.Types.Date,value:p}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.Date}get effectiveType(){return d.Types.Date}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.Hyperlink,f:class{constructor(h,p){this.model={address:h.address,type:d.Types.Hyperlink,text:p?p.text:void 0,hyperlink:p?p.hyperlink:void 0},p&&p.tooltip&&(this.model.tooltip=p.tooltip)}get value(){const h={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(h.tooltip=this.model.tooltip),h}set value(h){this.model={text:h.text,hyperlink:h.hyperlink},h.tooltip&&(this.model.tooltip=h.tooltip)}get text(){return this.model.text}set text(h){this.model.text=h}get hyperlink(){return this.model.hyperlink}set hyperlink(h){this.model.hyperlink=h}get type(){return d.Types.Hyperlink}get effectiveType(){return d.Types.Hyperlink}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:d.Types.Formula,f:class{constructor(h,p){this.cell=h,this.model={address:h.address,type:d.Types.Formula,shareType:p?p.shareType:void 0,ref:p?p.ref:void 0,formula:p?p.formula:void 0,sharedFormula:p?p.sharedFormula:void 0,result:p?p.result:void 0}}_copyModel(h){const p={},g=v=>{const m=h[v];m&&(p[v]=m)};return g("formula"),g("result"),g("ref"),g("shareType"),g("sharedFormula"),p}get value(){return this._copyModel(this.model)}set value(h){this.model=this._copyModel(h)}validate(h){switch(f.getType(h)){case d.Types.Null:case d.Types.String:case d.Types.Number:case d.Types.Date:break;case d.Types.Hyperlink:case d.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(h){this.model.formula=h}get formulaType(){return this.model.formula?c.FormulaType.Master:this.model.sharedFormula?c.FormulaType.Shared:c.FormulaType.None}get result(){return this.model.result}set result(h){this.model.result=h}get type(){return d.Types.Formula}get effectiveType(){const h=this.model.result;return h==null?c.ValueType.Null:h instanceof String||typeof h=="string"?c.ValueType.String:typeof h=="number"?c.ValueType.Number:h instanceof Date?c.ValueType.Date:h.text&&h.hyperlink?c.ValueType.Hyperlink:h.formula?c.ValueType.Formula:c.ValueType.Null}get address(){return this.model.address}set address(h){this.model.address=h}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:h}=this.cell,p=h.findCell(this.model.sharedFormula);this._translatedFormula=p&&u(p.formula,p.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:d.Types.Merge,f:class{constructor(h,p){this.model={address:h.address,type:d.Types.Merge,master:p?p.address:void 0},this._master=p,p&&p.addMergeRef()}get value(){return this._master.value}set value(h){h instanceof d?(this._master&&this._master.releaseMergeRef(),h.addMergeRef(),this._master=h):this._master.value=h}isMergedTo(h){return h===this._master}get master(){return this._master}get type(){return d.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:d.Types.JSON,f:class{constructor(h,p){this.model={address:h.address,type:d.Types.String,value:JSON.stringify(p),rawValue:p}}get value(){return this.model.rawValue}set value(h){this.model.rawValue=h,this.model.value=JSON.stringify(h)}get type(){return d.Types.String}get effectiveType(){return d.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:d.Types.SharedString,f:class{constructor(h,p){this.model={address:h.address,type:d.Types.SharedString,value:p}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.SharedString}get effectiveType(){return d.Types.SharedString}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.RichText,f:class{constructor(h,p){this.model={address:h.address,type:d.Types.String,value:p}}get value(){return this.model.value}set value(h){this.model.value=h}toString(){return this.model.value.richText.map(h=>h.text).join("")}get type(){return d.Types.RichText}get effectiveType(){return d.Types.RichText}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:d.Types.Boolean,f:class{constructor(h,p){this.model={address:h.address,type:d.Types.Boolean,value:p}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.Boolean}get effectiveType(){return d.Types.Boolean}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.Error,f:class{constructor(h,p){this.model={address:h.address,type:d.Types.Error,value:p}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.Error}get effectiveType(){return d.Types.Error}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((h,p)=>(h[p.t]=p.f,h),[]),create(h,p,g){const v=this.types[h];if(!v)throw new Error("Could not create Value of type "+h);return new v(p,g)}};s.exports=d},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,s,i){const a=e("../utils/under-dash"),o=e("./enums"),c=e("../utils/col-cache");class u{constructor(d,f,h){this._worksheet=d,this._number=f,h!==!1&&(this.defn=h)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return c.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(d){d?(this.key=d.key,this.width=d.width!==void 0?d.width:9,this.outlineLevel=d.outlineLevel,d.style?this.style=d.style:this.style={},this.header=d.header,this._hidden=!!d.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(d){d!==void 0?(this._header=d,this.headers.forEach((f,h)=>{this._worksheet.getCell(h+1,this.number).value=f})):this._header=void 0}get key(){return this._key}set key(d){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=d,d&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(d){this._hidden=d}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(d){this._outlineLevel=d}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(d){return this.width===d.width&&this.hidden===d.hidden&&this.outlineLevel===d.outlineLevel&&a.isEqual(this.style,d.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const d=this.style;return!d||!(d.font||d.numFmt||d.alignment||d.border||d.fill||d.protection)}get headerCount(){return this.headers.length}eachCell(d,f){const h=this.number;f||(f=d,d=null),this._worksheet.eachRow(d,(p,g)=>{f(p.getCell(h),g)})}get values(){const d=[];return this.eachCell((f,h)=>{f&&f.type!==o.ValueType.Null&&(d[h]=f.value)}),d}set values(d){if(!d)return;const f=this.number;let h=0;d.hasOwnProperty("0")&&(h=1),d.forEach((p,g)=>{this._worksheet.getCell(g+h,f).value=p})}_applyStyle(d,f){return this.style[d]=f,this.eachCell(h=>{h[d]=f}),f}get numFmt(){return this.style.numFmt}set numFmt(d){this._applyStyle("numFmt",d)}get font(){return this.style.font}set font(d){this._applyStyle("font",d)}get alignment(){return this.style.alignment}set alignment(d){this._applyStyle("alignment",d)}get protection(){return this.style.protection}set protection(d){this._applyStyle("protection",d)}get border(){return this.style.border}set border(d){this._applyStyle("border",d)}get fill(){return this.style.fill}set fill(d){this._applyStyle("fill",d)}static toModel(d){const f=[];let h=null;return d&&d.forEach((p,g)=>{p.isDefault?h&&(h=null):h&&p.equivalentTo(h)?h.max=g+1:(h={min:g+1,max:g+1,width:p.width!==void 0?p.width:9,style:p.style,isCustomWidth:p.isCustomWidth,hidden:p.hidden,outlineLevel:p.outlineLevel,collapsed:p.collapsed},f.push(h))}),f.length?f:void 0}static fromModel(d,f){const h=[];let p=1,g=0;for(f=(f=f||[]).sort(function(v,m){return v.min-m.min});g<f.length;){const v=f[g++];for(;p<v.min;)h.push(new u(d,p++));for(;p<=v.max;)h.push(new u(d,p++,v))}return h.length?h:null}}s.exports=u},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,s,i){s.exports=class{constructor(a){this.model=a||{}}add(a,o){return this.model[a]=o}find(a){return this.model[a]}remove(a){this.model[a]=void 0}}},{}],6:[function(e,s,i){const a=e("../utils/under-dash"),o=e("../utils/col-cache"),c=e("../utils/cell-matrix"),u=e("./range"),l=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;s.exports=class{constructor(){this.matrixMap={}}getMatrix(d){return this.matrixMap[d]||(this.matrixMap[d]=new c)}add(d,f){const h=o.decodeEx(d);this.addEx(h,f)}addEx(d,f){const h=this.getMatrix(f);if(d.top)for(let p=d.left;p<=d.right;p++)for(let g=d.top;g<=d.bottom;g++){const v={sheetName:d.sheetName,address:o.n2l(p)+g,row:g,col:p};h.addCellEx(v)}else h.addCellEx(d)}remove(d,f){const h=o.decodeEx(d);this.removeEx(h,f)}removeEx(d,f){this.getMatrix(f).removeCellEx(d)}removeAllNames(d){a.each(this.matrixMap,f=>{f.removeCellEx(d)})}forEach(d){a.each(this.matrixMap,(f,h)=>{f.forEach(p=>{d(h,p)})})}getNames(d){return this.getNamesEx(o.decodeEx(d))}getNamesEx(d){return a.map(this.matrixMap,(f,h)=>f.findCellEx(d)&&h).filter(Boolean)}_explore(d,f){f.mark=!1;const{sheetName:h}=f,p=new u(f.row,f.col,f.row,f.col,h);let g,v;function m(y,w){const E=d.findCellAt(h,y,f.col);return!(!E||!E.mark)&&(p[w]=y,E.mark=!1,!0)}for(v=f.row-1;m(v,"top");v--);for(v=f.row+1;m(v,"bottom");v++);function x(y,w){const E=[];for(v=p.top;v<=p.bottom;v++){const I=d.findCellAt(h,v,y);if(!I||!I.mark)return!1;E.push(I)}p[w]=y;for(let I=0;I<E.length;I++)E[I].mark=!1;return!0}for(g=f.col-1;x(g,"left");g--);for(g=f.col+1;x(g,"right");g++);return p}getRanges(d,f){return(f=f||this.matrixMap[d])?(f.forEach(h=>{h.mark=!0}),{name:d,ranges:f.map(h=>h.mark&&this._explore(f,h)).filter(Boolean).map(h=>h.$shortRange)}):{name:d,ranges:[]}}normaliseMatrix(d,f){d.forEachInSheet(f,(h,p,g)=>{h&&(h.row===p&&h.col===g||(h.row=p,h.col=g,h.address=o.n2l(g)+p))})}spliceRows(d,f,h,p){a.each(this.matrixMap,g=>{g.spliceRows(d,f,h,p),this.normaliseMatrix(g,d)})}spliceColumns(d,f,h,p){a.each(this.matrixMap,g=>{g.spliceColumns(d,f,h,p),this.normaliseMatrix(g,d)})}get model(){return a.map(this.matrixMap,(d,f)=>this.getRanges(f,d)).filter(d=>d.ranges.length)}set model(d){const f=this.matrixMap={};d.forEach(h=>{const p=f[h.name]=new c;h.ranges.forEach(g=>{l.test(g.split("!").pop()||"")&&p.addCell(g)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,s,i){s.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,s,i){const a=e("../utils/col-cache"),o=e("./anchor");s.exports=class{constructor(c,u){this.worksheet=c,this.model=u}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(c){let{type:u,imageId:l,range:d,hyperlinks:f}=c;if(this.type=u,this.imageId=l,u==="image")if(typeof d=="string"){const h=a.decode(d);this.range={tl:new o(this.worksheet,{col:h.left,row:h.top},-1),br:new o(this.worksheet,{col:h.right,row:h.bottom},0),editAs:"oneCell"}}else this.range={tl:new o(this.worksheet,d.tl,0),br:d.br&&new o(this.worksheet,d.br,0),ext:d.ext,editAs:d.editAs,hyperlinks:f||d.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,s,i){const a=e("../utils/under-dash");class o{constructor(u){this.note=u}get model(){let u=null;switch(typeof this.note){case"string":u={type:"note",note:{texts:[{text:this.note}]}};break;default:u={type:"note",note:this.note}}return a.deepMerge({},o.DEFAULT_CONFIGS,u)}set model(u){const{note:l}=u,{texts:d}=l;d.length===1&&Object.keys(d[0]).length===1?this.note=d[0].text:this.note=l}static fromModel(u){const l=new o;return l.model=u,l}}o.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},s.exports=o},{"../utils/under-dash":26}],10:[function(e,s,i){const a=e("../utils/col-cache");class o{constructor(){this.decode(arguments)}setTLBR(u,l,d,f,h){if(arguments.length<4){const p=a.decodeAddress(u),g=a.decodeAddress(l);this.model={top:Math.min(p.row,g.row),left:Math.min(p.col,g.col),bottom:Math.max(p.row,g.row),right:Math.max(p.col,g.col),sheetName:d},this.setTLBR(p.row,p.col,g.row,g.col,h)}else this.model={top:Math.min(u,d),left:Math.min(l,f),bottom:Math.max(u,d),right:Math.max(l,f),sheetName:h}}decode(u){switch(u.length){case 5:this.setTLBR(u[0],u[1],u[2],u[3],u[4]);break;case 4:this.setTLBR(u[0],u[1],u[2],u[3]);break;case 3:this.setTLBR(u[0],u[1],u[2]);break;case 2:this.setTLBR(u[0],u[1]);break;case 1:{const l=u[0];if(l instanceof o)this.model={top:l.model.top,left:l.model.left,bottom:l.model.bottom,right:l.model.right,sheetName:l.sheetName};else if(l instanceof Array)this.decode(l);else if(l.top&&l.left&&l.bottom&&l.right)this.model={top:l.top,left:l.left,bottom:l.bottom,right:l.right,sheetName:l.sheetName};else{const d=a.decodeEx(l);d.top?this.model={top:d.top,left:d.left,bottom:d.bottom,right:d.right,sheetName:d.sheetName}:this.model={top:d.row,left:d.col,bottom:d.row,right:d.col,sheetName:d.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+u.length)}}get top(){return this.model.top||1}set top(u){this.model.top=u}get left(){return this.model.left||1}set left(u){this.model.left=u}get bottom(){return this.model.bottom||1}set bottom(u){this.model.bottom=u}get right(){return this.model.right||1}set right(u){this.model.right=u}get sheetName(){return this.model.sheetName}set sheetName(u){this.model.sheetName=u}get _serialisedSheetName(){const{sheetName:u}=this.model;return u?/^[a-zA-Z0-9]*$/.test(u)?u+"!":`'${u}'!`:""}expand(u,l,d,f){(!this.model.top||u<this.top)&&(this.top=u),(!this.model.left||l<this.left)&&(this.left=l),(!this.model.bottom||d>this.bottom)&&(this.bottom=d),(!this.model.right||f>this.right)&&(this.right=f)}expandRow(u){if(u){const{dimensions:l,number:d}=u;l&&this.expand(d,l.min,d,l.max)}}expandToAddress(u){const l=a.decodeEx(u);this.expand(l.row,l.col,l.row,l.col)}get tl(){return a.n2l(this.left)+this.top}get $t$l(){return`$${a.n2l(this.left)}$${this.top}`}get br(){return a.n2l(this.right)+this.bottom}get $b$r(){return`$${a.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(u){return(!u.sheetName||!this.sheetName||u.sheetName===this.sheetName)&&!(u.bottom<this.top)&&!(u.top>this.bottom)&&!(u.right<this.left)&&!(u.left>this.right)}contains(u){const l=a.decodeEx(u);return this.containsEx(l)}containsEx(u){return(!u.sheetName||!this.sheetName||u.sheetName===this.sheetName)&&u.row>=this.top&&u.row<=this.bottom&&u.col>=this.left&&u.col<=this.right}forEachAddress(u){for(let l=this.left;l<=this.right;l++)for(let d=this.top;d<=this.bottom;d++)u(a.encodeAddress(d,l),d,l)}}s.exports=o},{"../utils/col-cache":19}],11:[function(e,s,i){const a=e("../utils/under-dash"),o=e("./enums"),c=e("../utils/col-cache"),u=e("./cell");s.exports=class{constructor(l,d){this._worksheet=l,this._number=d,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(l){return this._cells[l-1]}getCellEx(l){let d=this._cells[l.col-1];if(!d){const f=this._worksheet.getColumn(l.col);d=new u(this,f,l.address),this._cells[l.col-1]=d}return d}getCell(l){if(typeof l=="string"){const d=this._worksheet.getColumnKey(l);l=d?d.number:c.l2n(l)}return this._cells[l-1]||this.getCellEx({address:c.encodeAddress(this._number,l),row:this._number,col:l})}splice(l,d){const f=l+d;for(var h=arguments.length,p=new Array(h>2?h-2:0),g=2;g<h;g++)p[g-2]=arguments[g];const v=p.length-d,m=this._cells.length;let x,y,w;if(v<0)for(x=l+p.length;x<=m;x++)w=this._cells[x-1],y=this._cells[x-v-1],y?(w=this.getCell(x),w.value=y.value,w.style=y.style,w._comment=y._comment):w&&(w.value=null,w.style={},w._comment=void 0);else if(v>0)for(x=m;x>=f;x--)y=this._cells[x-1],y?(w=this.getCell(x+v),w.value=y.value,w.style=y.style,w._comment=y._comment):this._cells[x+v-1]=void 0;for(x=0;x<p.length;x++)w=this.getCell(l+x),w.value=p[x],w.style={},w._comment=void 0}eachCell(l,d){if(d||(d=l,l=null),l&&l.includeEmpty){const f=this._cells.length;for(let h=1;h<=f;h++)d(this.getCell(h),h)}else this._cells.forEach((f,h)=>{f&&f.type!==o.ValueType.Null&&d(f,h+1)})}addPageBreak(l,d){const f=this._worksheet,h=Math.max(0,l-1)||0,p=Math.max(0,d-1)||16838,g={id:this._number,max:p,man:1};h&&(g.min=h),f.rowBreaks.push(g)}get values(){const l=[];return this._cells.forEach(d=>{d&&d.type!==o.ValueType.Null&&(l[d.col]=d.value)}),l}set values(l){if(this._cells=[],l)if(l instanceof Array){let d=0;l.hasOwnProperty("0")&&(d=1),l.forEach((f,h)=>{f!==void 0&&(this.getCellEx({address:c.encodeAddress(this._number,h+d),row:this._number,col:h+d}).value=f)})}else this._worksheet.eachColumnKey((d,f)=>{l[f]!==void 0&&(this.getCellEx({address:c.encodeAddress(this._number,d.number),row:this._number,col:d.number}).value=l[f])})}get hasValues(){return a.some(this._cells,l=>l&&l.type!==o.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let l=0;return this.eachCell(()=>{l++}),l}get dimensions(){let l=0,d=0;return this._cells.forEach(f=>{f&&f.type!==o.ValueType.Null&&((!l||l>f.col)&&(l=f.col),d<f.col&&(d=f.col))}),l>0?{min:l,max:d}:null}_applyStyle(l,d){return this.style[l]=d,this._cells.forEach(f=>{f&&(f[l]=d)}),d}get numFmt(){return this.style.numFmt}set numFmt(l){this._applyStyle("numFmt",l)}get font(){return this.style.font}set font(l){this._applyStyle("font",l)}get alignment(){return this.style.alignment}set alignment(l){this._applyStyle("alignment",l)}get protection(){return this.style.protection}set protection(l){this._applyStyle("protection",l)}get border(){return this.style.border}set border(l){this._applyStyle("border",l)}get fill(){return this.style.fill}set fill(l){this._applyStyle("fill",l)}get hidden(){return!!this._hidden}set hidden(l){this._hidden=l}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(l){this._outlineLevel=l}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const l=[];let d=0,f=0;return this._cells.forEach(h=>{if(h){const p=h.model;p&&((!d||d>h.col)&&(d=h.col),f<h.col&&(f=h.col),l.push(p))}}),this.height||l.length?{cells:l,number:this.number,min:d,max:f,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(l){if(l.number!==this._number)throw new Error("Invalid row number in model");let d;this._cells=[],l.cells.forEach(f=>{switch(f.type){case u.Types.Merge:break;default:{let h;if(f.address)h=c.decodeAddress(f.address);else if(d){const{row:p}=d,g=d.col+1;h={row:p,col:g,address:c.encodeAddress(p,g),$col$row:`$${c.n2l(g)}$${p}`}}d=h,this.getCellEx(h).model=f;break}}}),l.height?this.height=l.height:delete this.height,this.hidden=l.hidden,this.outlineLevel=l.outlineLevel||0,this.style=l.style&&JSON.parse(JSON.stringify(l.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,s,i){const a=e("../utils/col-cache");class o{constructor(u,l,d){this.table=u,this.column=l,this.index=d}_set(u,l){this.table.cacheState(),this.column[u]=l}get name(){return this.column.name}set name(u){this._set("name",u)}get filterButton(){return this.column.filterButton}set filterButton(u){this.column.filterButton=u}get style(){return this.column.style}set style(u){this.column.style=u}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(u){this._set("totalsRowLabel",u)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(u){this._set("totalsRowFunction",u)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(u){this._set("totalsRowResult",u)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(u){this._set("totalsRowFormula",u)}}s.exports=class{constructor(c,u){this.worksheet=c,u&&(this.table=u,this.validate(),this.store())}getFormula(c){switch(c.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${c.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${c.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${c.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${c.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${c.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${c.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${c.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${c.name}])`;case"custom":return c.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+c.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:c}=this,u=(v,m,x)=>{v[m]===void 0&&(v[m]=x)};u(c,"headerRow",!0),u(c,"totalsRow",!1),u(c,"style",{}),u(c.style,"theme","TableStyleMedium2"),u(c.style,"showFirstColumn",!1),u(c.style,"showLastColumn",!1),u(c.style,"showRowStripes",!1),u(c.style,"showColumnStripes",!1);const l=(v,m)=>{if(!v)throw new Error(m)};l(c.ref,"Table must have ref"),l(c.columns,"Table must have column definitions"),l(c.rows,"Table must have row definitions"),c.tl=a.decodeAddress(c.ref);const{row:d,col:f}=c.tl;l(d>0,"Table must be on valid row"),l(f>0,"Table must be on valid col");const{width:h,filterHeight:p,tableHeight:g}=this;c.autoFilterRef=a.encode(d,f,d+p-1,f+h-1),c.tableRef=a.encode(d,f,d+g-1,f+h-1),c.columns.forEach((v,m)=>{l(v.name,`Column ${m} must have a name`),m===0?u(v,"totalsRowLabel","Total"):(u(v,"totalsRowFunction","none"),v.totalsRowFormula=this.getFormula(v))})}store(){const c=(p,g)=>{g&&Object.keys(g).forEach(v=>{p[v]=g[v]})},{worksheet:u,table:l}=this,{row:d,col:f}=l.tl;let h=0;if(l.headerRow){const p=u.getRow(d+h++);l.columns.forEach((g,v)=>{const{style:m,name:x}=g,y=p.getCell(f+v);y.value=x,c(y,m)})}if(l.rows.forEach(p=>{const g=u.getRow(d+h++);p.forEach((v,m)=>{const x=g.getCell(f+m);x.value=v,c(x,l.columns[m].style)})}),l.totalsRow){const p=u.getRow(d+h++);l.columns.forEach((g,v)=>{const m=p.getCell(f+v);if(v===0)m.value=g.totalsRowLabel;else{const x=this.getFormula(g);m.value=x?{formula:g.totalsRowFormula,result:g.totalsRowResult}:null}c(m,g.style)})}}load(c){const{table:u}=this,{row:l,col:d}=u.tl;let f=0;if(u.headerRow){const h=c.getRow(l+f++);u.columns.forEach((p,g)=>{h.getCell(d+g).value=p.name})}if(u.rows.forEach(h=>{const p=c.getRow(l+f++);h.forEach((g,v)=>{p.getCell(d+v).value=g})}),u.totalsRow){const h=c.getRow(l+f++);u.columns.forEach((p,g)=>{const v=h.getCell(d+g);g===0?v.value=p.totalsRowLabel:this.getFormula(p)&&(v.value={formula:p.totalsRowFormula,result:p.totalsRowResult})})}}get model(){return this.table}set model(c){this.table=c}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const c=a.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let u=0;u<this._cache.tableHeight;u++){const l=this.worksheet.getRow(c.row+u);for(let d=0;d<this._cache.width;d++)l.getCell(c.col+d).value=null}else{for(let u=this.tableHeight;u<this._cache.tableHeight;u++){const l=this.worksheet.getRow(c.row+u);for(let d=0;d<this._cache.width;d++)l.getCell(c.col+d).value=null}for(let u=0;u<this.tableHeight;u++){const l=this.worksheet.getRow(c.row+u);for(let d=this.width;d<this._cache.width;d++)l.getCell(c.col+d).value=null}}this.store()}addRow(c,u){this.cacheState(),u===void 0?this.table.rows.push(c):this.table.rows.splice(u,0,c)}removeRows(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(c,u)}getColumn(c){const u=this.table.columns[c];return new o(this,u,c)}addColumn(c,u,l){this.cacheState(),l===void 0?(this.table.columns.push(c),this.table.rows.forEach((d,f)=>{d.push(u[f])})):(this.table.columns.splice(l,0,c),this.table.rows.forEach((d,f)=>{d.splice(l,0,u[f])}))}removeColumns(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(c,u),this.table.rows.forEach(l=>{l.splice(c,u)})}_assign(c,u,l){this.cacheState(),c[u]=l}get ref(){return this.table.ref}set ref(c){this._assign(this.table,"ref",c)}get name(){return this.table.name}set name(c){this.table.name=c}get displayName(){return this.table.displyName||this.table.name}set displayNamename(c){this.table.displayName=c}get headerRow(){return this.table.headerRow}set headerRow(c){this._assign(this.table,"headerRow",c)}get totalsRow(){return this.table.totalsRow}set totalsRow(c){this._assign(this.table,"totalsRow",c)}get theme(){return this.table.style.name}set theme(c){this.table.style.name=c}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(c){this.table.style.showFirstColumn=c}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(c){this.table.style.showLastColumn=c}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(c){this.table.style.showRowStripes=c}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(c){this.table.style.showColumnStripes=c}}},{"../utils/col-cache":19}],13:[function(e,s,i){const a=e("./worksheet"),o=e("./defined-names"),c=e("../xlsx/xlsx"),u=e("../csv/csv");s.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new o}get xlsx(){return this._xlsx||(this._xlsx=new c(this)),this._xlsx}get csv(){return this._csv||(this._csv=new u(this)),this._csv}get nextId(){for(let l=1;l<this._worksheets.length;l++)if(!this._worksheets[l])return l;return this._worksheets.length||1}addWorksheet(l,d){const f=this.nextId;d&&(typeof d=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),d={properties:{tabColor:{argb:d}}}):(d.argb||d.theme||d.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),d={properties:{tabColor:d}}));const h=this._worksheets.reduce((v,m)=>(m&&m.orderNo)>v?m.orderNo:v,0),p=Object.assign({},d,{id:f,name:l,orderNo:h+1,workbook:this}),g=new a(p);return this._worksheets[f]=g,g}removeWorksheetEx(l){delete this._worksheets[l.id]}removeWorksheet(l){const d=this.getWorksheet(l);d&&d.destroy()}getWorksheet(l){return l===void 0?this._worksheets.find(Boolean):typeof l=="number"?this._worksheets[l]:typeof l=="string"?this._worksheets.find(d=>d&&d.name===l):void 0}get worksheets(){return this._worksheets.slice(1).sort((l,d)=>l.orderNo-d.orderNo).filter(Boolean)}eachSheet(l){this.worksheets.forEach(d=>{l(d,d.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(l){const d=this.media.length;return this.media.push(Object.assign({},l,{type:"image"})),d}getImage(l){return this.media[l]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(l=>l.model),sheets:this.worksheets.map(l=>l.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(l){this.creator=l.creator,this.lastModifiedBy=l.lastModifiedBy,this.lastPrinted=l.lastPrinted,this.created=l.created,this.modified=l.modified,this.company=l.company,this.manager=l.manager,this.title=l.title,this.subject=l.subject,this.keywords=l.keywords,this.category=l.category,this.description=l.description,this.language=l.language,this.revision=l.revision,this.contentStatus=l.contentStatus,this.properties=l.properties,this.calcProperties=l.calcProperties,this._worksheets=[],l.worksheets.forEach(d=>{const{id:f,name:h,state:p}=d,g=l.sheets&&l.sheets.findIndex(v=>v.id===f);(this._worksheets[f]=new a({id:f,name:h,orderNo:g,state:p,workbook:this})).model=d}),this._definedNames.model=l.definedNames,this.views=l.views,this._themes=l.themes,this.media=l.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,s,i){const a=e("../utils/under-dash"),o=e("../utils/col-cache"),c=e("./range"),u=e("./row"),l=e("./column"),d=e("./enums"),f=e("./image"),h=e("./table"),p=e("./data-validations"),g=e("../utils/encryptor"),{copyStyle:v}=e("../utils/copy-style");s.exports=class{constructor(m){m=m||{},this._workbook=m.workbook,this.id=m.id,this.orderNo=m.orderNo,this.name=m.name,this.state=m.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},m.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!m.pageSetup||!m.pageSetup.fitToWidth&&!m.pageSetup.fitToHeight||m.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},m.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},m.headerFooter),this.dataValidations=new p,this.views=m.views||[],this.autoFilter=m.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(m){if(m===void 0&&(m="sheet"+this.id),this._name!==m){if(typeof m!="string")throw new Error("The name has to be a string.");if(m==="")throw new Error("The name can't be empty.");if(m==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(m))throw new Error(`Worksheet name ${m} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(m))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+m);if(m&&m.length>31&&(console.warn(`Worksheet name ${m} exceeds 31 chars. This will be truncated`),m=m.substring(0,31)),this._workbook._worksheets.find(x=>x&&x.name.toLowerCase()===m.toLowerCase()))throw new Error("Worksheet name already exists: "+m);this._name=m}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const m=new c;return this._rows.forEach(x=>{if(x){const y=x.dimensions;y&&m.expand(x.number,y.min,x.number,y.max)}}),m}get columns(){return this._columns}set columns(m){this._headerRowCount=m.reduce((w,E)=>{const I=(E.header?1:E.headers&&E.headers.length)||0;return Math.max(w,I)},0);let x=1;const y=this._columns=[];m.forEach(w=>{const E=new l(this,x++,!1);y.push(E),E.defn=w})}getColumnKey(m){return this._keys[m]}setColumnKey(m,x){this._keys[m]=x}deleteColumnKey(m){delete this._keys[m]}eachColumnKey(m){a.each(this._keys,m)}getColumn(m){if(typeof m=="string"){const x=this._keys[m];if(x)return x;m=o.l2n(m)}if(this._columns||(this._columns=[]),m>this._columns.length){let x=this._columns.length+1;for(;x<=m;)this._columns.push(new l(this,x++))}return this._columns[m-1]}spliceColumns(m,x){const y=this._rows.length;for(var w=arguments.length,E=new Array(w>2?w-2:0),I=2;I<w;I++)E[I-2]=arguments[I];if(E.length>0)for(let L=0;L<y;L++){const M=[m,x];E.forEach(V=>{M.push(V[L]||null)});const H=this.getRow(L+1);H.splice.apply(H,M)}else this._rows.forEach(L=>{L&&L.splice(m,x)});const T=E.length-x,R=m+x,D=this._columns.length;if(T<0)for(let L=m+E.length;L<=D;L++)this.getColumn(L).defn=this.getColumn(L-T).defn;else if(T>0)for(let L=D;L>=R;L--)this.getColumn(L+T).defn=this.getColumn(L).defn;for(let L=m;L<m+E.length;L++)this.getColumn(L).defn=null;this.workbook.definedNames.spliceColumns(this.name,m,x,E.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let m=0;return this.eachRow(x=>{m=Math.max(m,x.cellCount)}),m}get actualColumnCount(){const m=[];let x=0;return this.eachRow(y=>{y.eachCell(w=>{let{col:E}=w;m[E]||(m[E]=!0,x++)})}),x}_commitRow(){}get _lastRowNumber(){const m=this._rows;let x=m.length;for(;x>0&&m[x-1]===void 0;)x--;return x}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(m){return this._rows[m-1]}findRows(m,x){return this._rows.slice(m-1,m-1+x)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let m=0;return this.eachRow(()=>{m++}),m}getRow(m){let x=this._rows[m-1];return x||(x=this._rows[m-1]=new u(this,m)),x}getRows(m,x){if(x<1)return;const y=[];for(let w=m;w<m+x;w++)y.push(this.getRow(w));return y}addRow(m){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const y=this._nextRow,w=this.getRow(y);return w.values=m,this._setStyleOption(y,x[0]==="i"?x:"n"),w}addRows(m){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const y=[];return m.forEach(w=>{y.push(this.addRow(w,x))}),y}insertRow(m,x){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(m,0,x),this._setStyleOption(m,y),this.getRow(m)}insertRows(m,x){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(m,0,...x),y!=="n")for(let w=0;w<x.length;w++)y[0]==="o"&&this.findRow(x.length+m+w)!==void 0?this._copyStyle(x.length+m+w,m+w,y[1]==="+"):y[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m+w,y[1]==="+");return this.getRows(m,x.length)}_setStyleOption(m){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";x[0]==="o"&&this.findRow(m+1)!==void 0?this._copyStyle(m+1,m,x[1]==="+"):x[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m,x[1]==="+")}_copyStyle(m,x){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const w=this.getRow(m),E=this.getRow(x);E.style=v(w.style),w.eachCell({includeEmpty:y},(I,T)=>{E.getCell(T).style=v(I.style)}),E.height=w.height}duplicateRow(m,x){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const w=this._rows[m-1],E=new Array(x).fill(w.values);this.spliceRows(m+1,y?0:x,...E);for(let I=0;I<x;I++){const T=this._rows[m+I];T.style=w.style,T.height=w.height,w.eachCell({includeEmpty:!0},(R,D)=>{T.getCell(D).style=R.style})}}spliceRows(m,x){const y=m+x;for(var w=arguments.length,E=new Array(w>2?w-2:0),I=2;I<w;I++)E[I-2]=arguments[I];const T=E.length,R=T-x,D=this._rows.length;let L,M;if(R<0)for(m===D&&(this._rows[D-1]=void 0),L=y;L<=D;L++)if(M=this._rows[L-1],M){const H=this.getRow(L+R);H.values=M.values,H.style=M.style,H.height=M.height,M.eachCell({includeEmpty:!0},(V,P)=>{H.getCell(P).style=V.style}),this._rows[L-1]=void 0}else this._rows[L+R-1]=void 0;else if(R>0)for(L=D;L>=y;L--)if(M=this._rows[L-1],M){const H=this.getRow(L+R);H.values=M.values,H.style=M.style,H.height=M.height,M.eachCell({includeEmpty:!0},(V,P)=>{if(H.getCell(P).style=V.style,V._value.constructor.name==="MergeValue"){const F=this.getRow(V._row._number+T).getCell(P),A=V._value._master,_=this.getRow(A._row._number+T).getCell(A._column._number);F.merge(_)}})}else this._rows[L+R-1]=void 0;for(L=0;L<T;L++){const H=this.getRow(m+L);H.style={},H.values=E[L]}this.workbook.definedNames.spliceRows(this.name,m,x,T)}eachRow(m,x){if(x||(x=m,m=void 0),m&&m.includeEmpty){const y=this._rows.length;for(let w=1;w<=y;w++)x(this.getRow(w),w)}else this._rows.forEach(y=>{y&&y.hasValues&&x(y,y.number)})}getSheetValues(){const m=[];return this._rows.forEach(x=>{x&&(m[x.number]=x.values)}),m}findCell(m,x){const y=o.getAddress(m,x),w=this._rows[y.row-1];return w?w.findCell(y.col):void 0}getCell(m,x){const y=o.getAddress(m,x);return this.getRow(y.row).getCellEx(y)}mergeCells(){for(var m=arguments.length,x=new Array(m),y=0;y<m;y++)x[y]=arguments[y];const w=new c(x);this._mergeCellsInternal(w)}mergeCellsWithoutStyle(){for(var m=arguments.length,x=new Array(m),y=0;y<m;y++)x[y]=arguments[y];const w=new c(x);this._mergeCellsInternal(w,!0)}_mergeCellsInternal(m,x){a.each(this._merges,w=>{if(w.intersects(m))throw new Error("Cannot merge already merged cells")});const y=this.getCell(m.top,m.left);for(let w=m.top;w<=m.bottom;w++)for(let E=m.left;E<=m.right;E++)(w>m.top||E>m.left)&&this.getCell(w,E).merge(y,x);this._merges[y.address]=m}_unMergeMaster(m){const x=this._merges[m.address];if(x){for(let y=x.top;y<=x.bottom;y++)for(let w=x.left;w<=x.right;w++)this.getCell(y,w).unmerge();delete this._merges[m.address]}}get hasMerges(){return a.some(this._merges,Boolean)}unMergeCells(){for(var m=arguments.length,x=new Array(m),y=0;y<m;y++)x[y]=arguments[y];const w=new c(x);for(let E=w.top;E<=w.bottom;E++)for(let I=w.left;I<=w.right;I++){const T=this.findCell(E,I);T&&(T.type===d.ValueType.Merge?this._unMergeMaster(T.master):this._merges[T.address]&&this._unMergeMaster(T))}}fillFormula(m,x,y){let w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const E=o.decode(m),{top:I,left:T,bottom:R,right:D}=E,L=D-T+1,M=o.encodeAddress(I,T),H=w==="shared";let V;V=typeof y=="function"?y:Array.isArray(y)?Array.isArray(y[0])?(F,A)=>y[F-I][A-T]:(F,A)=>y[(F-I)*L+(A-T)]:()=>{};let P=!0;for(let F=I;F<=R;F++)for(let A=T;A<=D;A++)P?(this.getCell(F,A).value={shareType:w,formula:x,ref:m,result:V(F,A)},P=!1):this.getCell(F,A).value=H?{sharedFormula:M,result:V(F,A)}:V(F,A)}addImage(m,x){const y={type:"image",imageId:m,range:x};this._media.push(new f(this,y))}getImages(){return this._media.filter(m=>m.type==="image")}addBackgroundImage(m){const x={type:"background",imageId:m};this._media.push(new f(this,x))}getBackgroundImageId(){const m=this._media.find(x=>x.type==="background");return m&&m.imageId}protect(m,x){return new Promise(y=>{this.sheetProtection={sheet:!0},x&&"spinCount"in x&&(x.spinCount=Number.isFinite(x.spinCount)?Math.round(Math.max(0,x.spinCount)):1e5),m&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=g.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=x&&"spinCount"in x?x.spinCount:1e5,this.sheetProtection.hashValue=g.convertPasswordToHash(m,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),x&&(this.sheetProtection=Object.assign(this.sheetProtection,x),!m&&"spinCount"in x&&delete this.sheetProtection.spinCount),y()})}unprotect(){this.sheetProtection=null}addTable(m){const x=new h(this,m);return this.tables[m.name]=x,x}getTable(m){return this.tables[m]}removeTable(m){delete this.tables[m]}getTables(){return Object.values(this.tables)}addConditionalFormatting(m){this.conditionalFormattings.push(m)}removeConditionalFormatting(m){typeof m=="number"?this.conditionalFormattings.splice(m,1):this.conditionalFormattings=m instanceof Function?this.conditionalFormattings.filter(m):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(m){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=m}get model(){const m={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(w=>w.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(w=>w.model),conditionalFormattings:this.conditionalFormattings};m.cols=l.toModel(this.columns);const x=m.rows=[],y=m.dimensions=new c;return this._rows.forEach(w=>{const E=w&&w.model;E&&(y.expand(E.number,E.min,E.number,E.max),x.push(E))}),m.merges=[],a.each(this._merges,w=>{m.merges.push(w.range)}),m}_parseRows(m){this._rows=[],m.rows.forEach(x=>{const y=new u(this,x.number);this._rows[y.number-1]=y,y.model=x})}_parseMergeCells(m){a.each(m.mergeCells,x=>{this.mergeCellsWithoutStyle(x)})}set model(m){this.name=m.name,this._columns=l.fromModel(this,m.cols),this._parseRows(m),this._parseMergeCells(m),this.dataValidations=new p(m.dataValidations),this.properties=m.properties,this.pageSetup=m.pageSetup,this.headerFooter=m.headerFooter,this.views=m.views,this.autoFilter=m.autoFilter,this._media=m.media.map(x=>new f(this,x)),this.sheetProtection=m.sheetProtection,this.tables=m.tables.reduce((x,y)=>{const w=new h;return w.model=y,x[y.name]=w,x},{}),this.conditionalFormattings=m.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,s,i){e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");const a={Workbook:e("./doc/workbook")},o=e("./doc/enums");Object.keys(o).forEach(c=>{a[c]=o[c]}),s.exports=a},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,s,i){const a=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");i.bufferToString=function(o){return typeof o=="string"?o:a?a.decode(o):o.toString()}},{}],17:[function(e,s,i){const a=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:o}=e("buffer");i.stringToBuffer=function(c){return typeof c!="string"?c:a?o.from(a.encode(c).buffer):o.from(c)}},{buffer:220}],18:[function(e,s,i){const a=e("./under-dash"),o=e("./col-cache");s.exports=class{constructor(c){this.template=c,this.sheets={}}addCell(c){this.addCellEx(o.decodeEx(c))}getCell(c){return this.findCellEx(o.decodeEx(c),!0)}findCell(c){return this.findCellEx(o.decodeEx(c),!1)}findCellAt(c,u,l){const d=this.sheets[c],f=d&&d[u];return f&&f[l]}addCellEx(c){if(c.top)for(let u=c.top;u<=c.bottom;u++)for(let l=c.left;l<=c.right;l++)this.getCellAt(c.sheetName,u,l);else this.findCellEx(c,!0)}getCellEx(c){return this.findCellEx(c,!0)}findCellEx(c,u){const l=this.findSheet(c,u),d=this.findSheetRow(l,c,u);return this.findRowCell(d,c,u)}getCellAt(c,u,l){const d=this.sheets[c]||(this.sheets[c]=[]),f=d[u]||(d[u]=[]);return f[l]||(f[l]={sheetName:c,address:o.n2l(l)+u,row:u,col:l})}removeCellEx(c){const u=this.findSheet(c);if(!u)return;const l=this.findSheetRow(u,c);l&&delete l[c.col]}forEachInSheet(c,u){const l=this.sheets[c];l&&l.forEach((d,f)=>{d&&d.forEach((h,p)=>{h&&u(h,f,p)})})}forEach(c){a.each(this.sheets,(u,l)=>{this.forEachInSheet(l,c)})}map(c){const u=[];return this.forEach(l=>{u.push(c(l))}),u}findSheet(c,u){const l=c.sheetName;return this.sheets[l]?this.sheets[l]:u?this.sheets[l]=[]:void 0}findSheetRow(c,u,l){const{row:d}=u;return c&&c[d]?c[d]:l?c[d]=[]:void 0}findRowCell(c,u,l){const{col:d}=u;return c&&c[d]?c[d]:l?c[d]=this.template?Object.assign(u,JSON.parse(JSON.stringify(this.template))):u:void 0}spliceRows(c,u,l,d){const f=this.sheets[c];if(f){const h=[];for(let p=0;p<d;p++)h.push([]);f.splice(u,l,...h)}}spliceColumns(c,u,l,d){const f=this.sheets[c];if(f){const h=[];for(let p=0;p<d;p++)h.push(null);a.each(f,p=>{p.splice(u,l,...h)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(e,s,i){const a=/^[A-Z]+\d+$/,o={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:c=>c<=26?1:c<=676?2:3,_fill(c){let u,l,d,f,h,p=1;if(c>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&c>=1){for(;p<=26;)u=this._dictionary[p-1],this._n2l[p]=u,this._l2n[u]=p,p++;this._l2nFill=1}if(this._l2nFill<2&&c>=2){for(p=27;p<=702;)l=p-27,d=l%26,f=Math.floor(l/26),u=this._dictionary[f]+this._dictionary[d],this._n2l[p]=u,this._l2n[u]=p,p++;this._l2nFill=2}if(this._l2nFill<3&&c>=3){for(p=703;p<=16384;)l=p-703,d=l%26,f=Math.floor(l/26)%26,h=Math.floor(l/676),u=this._dictionary[h]+this._dictionary[f]+this._dictionary[d],this._n2l[p]=u,this._l2n[u]=p,p++;this._l2nFill=3}},l2n(c){if(this._l2n[c]||this._fill(c.length),!this._l2n[c])throw new Error("Out of bounds. Invalid column letter: "+c);return this._l2n[c]},n2l(c){if(c<1||c>16384)throw new Error(c+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[c]||this._fill(this._level(c)),this._n2l[c]},_hash:{},validateAddress(c){if(!a.test(c))throw new Error("Invalid Address: "+c);return!0},decodeAddress(c){const u=c.length<5&&this._hash[c];if(u)return u;let l=!1,d="",f=0,h=!1,p="",g=0;for(let m,x=0;x<c.length;x++)if(m=c.charCodeAt(x),!h&&m>=65&&m<=90)l=!0,d+=c[x],f=26*f+m-64;else if(m>=48&&m<=57)h=!0,p+=c[x],g=10*g+m-48;else if(h&&l&&m!==36)break;if(l){if(f>16384)throw new Error("Out of bounds. Invalid column letter: "+d)}else f=void 0;h||(g=void 0);const v={address:c=d+p,col:f,row:g,$col$row:`$${d}$${p}`};return f<=100&&g<=100&&(this._hash[c]=v,this._hash[v.$col$row]=v),v},getAddress(c,u){if(u){const l=this.n2l(u)+c;return this.decodeAddress(l)}return this.decodeAddress(c)},decode(c){const u=c.split(":");if(u.length===2){const l=this.decodeAddress(u[0]),d=this.decodeAddress(u[1]),f={top:Math.min(l.row,d.row),left:Math.min(l.col,d.col),bottom:Math.max(l.row,d.row),right:Math.max(l.col,d.col)};return f.tl=this.n2l(f.left)+f.top,f.br=this.n2l(f.right)+f.bottom,f.dimensions=`${f.tl}:${f.br}`,f}return this.decodeAddress(c)},decodeEx(c){const u=c.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),l=u[1]||u[2],d=u[3],f=d.split(":");if(f.length>1){let p=this.decodeAddress(f[0]),g=this.decodeAddress(f[1]);const v=Math.min(p.row,g.row),m=Math.min(p.col,g.col),x=Math.max(p.row,g.row),y=Math.max(p.col,g.col);return p=this.n2l(m)+v,g=this.n2l(y)+x,{top:v,left:m,bottom:x,right:y,sheetName:l,tl:{address:p,col:m,row:v,$col$row:`$${this.n2l(m)}$${v}`,sheetName:l},br:{address:g,col:y,row:x,$col$row:`$${this.n2l(y)}$${x}`,sheetName:l},dimensions:`${p}:${g}`}}if(d.startsWith("#"))return l?{sheetName:l,error:d}:{error:d};const h=this.decodeAddress(d);return l?{sheetName:l,...h}:h},encodeAddress:(c,u)=>o.n2l(u)+c,encode(){switch(arguments.length){case 2:return o.encodeAddress(arguments[0],arguments[1]);case 4:return`${o.encodeAddress(arguments[0],arguments[1])}:${o.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(c,u){const[l,d,,f,h]=c,[p,g]=u;return p>=l&&p<=f&&g>=d&&g<=h}};s.exports=o},{}],20:[function(e,s,i){const a=(c,u)=>({...c,...u.reduce((l,d)=>(c[d]&&(l[d]={...c[d]}),l),{})}),o=function(c,u,l){let d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];c[l]&&(u[l]=a(c[l],d))};i.copyStyle=c=>{if(!c)return c;if(u=c,Object.keys(u).length===0)return{};var u;const l={...c};return o(c,l,"font",["color"]),o(c,l,"alignment"),o(c,l,"protection"),c.border&&(o(c,l,"border"),o(c.border,l.border,"top",["color"]),o(c.border,l.border,"left",["color"]),o(c.border,l.border,"bottom",["color"]),o(c.border,l.border,"right",["color"]),o(c.border,l.border,"diagonal",["color"])),c.fill&&(o(c,l,"fill",["fgColor","bgColor","center"]),c.fill.stops&&(l.fill.stops=c.fill.stops.map(d=>a(d,["color"])))),l}},{}],21:[function(e,s,i){(function(a){(function(){const o=e("crypto"),c={hash(u){const l=o.createHash(u);for(var d=arguments.length,f=new Array(d>1?d-1:0),h=1;h<d;h++)f[h-1]=arguments[h];return l.update(a.concat(f)),l.digest()},convertPasswordToHash(u,l,d,f){if(l=l.toLowerCase(),o.getHashes().indexOf(l)<0)throw new Error(`Hash algorithm '${l}' not supported!`);const h=a.from(u,"utf16le");let p=this.hash(l,a.from(d,"base64"),h);for(let g=0;g<f;g++){const v=a.alloc(4);v.writeUInt32LE(g,0),p=this.hash(l,p,v)}return p.toString("base64")},randomBytes:u=>o.randomBytes(u)};s.exports=c}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,s,i){const{SaxesParser:a}=e("saxes"),{PassThrough:o}=e("readable-stream"),{bufferToString:c}=e("./browser-buffer-decode");s.exports=async function*(u){u.pipe&&!u[Symbol.asyncIterator]&&(u=u.pipe(new o));const l=new a;let d;l.on("error",h=>{d=h});let f=[];l.on("opentag",h=>f.push({eventType:"opentag",value:h})),l.on("text",h=>f.push({eventType:"text",value:h})),l.on("closetag",h=>f.push({eventType:"closetag",value:h}));for await(const h of u){if(l.write(c(h)),d)throw d;yield f,f=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,s,i){const a=e("./col-cache"),o=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,c=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;s.exports={slideFormula:function(u,l,d){const f=a.decode(l),h=a.decode(d);return u.replace(o,(p,g,v,m,x)=>{if(x)return p;const y=c.exec(m);if(y){const w=y[1],E=y[2].toUpperCase(),I=y[3],T=y[4];if(E.length>3||E.length===3&&E>"XFD")return p;let R=a.l2n(E),D=parseInt(T,10);return w||(R+=h.col-f.col),I||(D+=h.row-f.row),(g||"")+(w||"")+a.n2l(R)+(I||"")+D}return p})}}},{"./col-cache":19}],24:[function(e,s,i){(function(a,o){(function(){const c=e("readable-stream"),u=e("./utils"),l=e("./string-buf");class d{constructor(m,x){this._data=m,this._encoding=x}get length(){return this.toBuffer().length}copy(m,x,y,w){return this.toBuffer().copy(m,x,y,w)}toBuffer(){return this._buffer||(this._buffer=o.from(this._data,this._encoding)),this._buffer}}class f{constructor(m){this._data=m}get length(){return this._data.length}copy(m,x,y,w){return this._data._buf.copy(m,x,y,w)}toBuffer(){return this._data.toBuffer()}}class h{constructor(m){this._data=m}get length(){return this._data.length}copy(m,x,y,w){this._data.copy(m,x,y,w)}toBuffer(){return this._data}}class p{constructor(m){this.size=m,this.buffer=o.alloc(m),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const m=o.alloc(this.iWrite-this.iRead);return this.buffer.copy(m,0,this.iRead,this.iWrite),m}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(m){let x;return m===0?null:m===void 0||m>=this.length?(x=this.toBuffer(),this.iRead=this.iWrite,x):(x=o.alloc(m),this.buffer.copy(x,0,this.iRead,m),this.iRead+=m,x)}write(m,x,y){const w=Math.min(y,this.size-this.iWrite);return m.copy(this.buffer,this.iWrite,x,x+w),this.iWrite+=w,w}}const g=function(v){v=v||{},this.bufSize=v.bufSize||1048576,this.buffers=[],this.batch=v.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};u.inherits(g,c.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return o.concat(this.buffers.map(v=>v.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const m=this.buffers[this.buffers.length-1];if(!m.full)return m}const v=new p(this.bufSize);return this.buffers.push(v),v},async _pipe(v){await Promise.all(this.pipes.map(function(m){return new Promise(x=>{m.write(v.toBuffer(),()=>{x()})})}))},_writeToBuffers(v){let m=0;const x=v.length;for(;m<x;)m+=this._getWritableBuffer().write(v,m,x-m)},async write(v,m,x){let y;if(m instanceof Function&&(x=m,m="utf8"),x=x||u.nop,v instanceof l)y=new f(v);else if(v instanceof o)y=new h(v);else{if(!(typeof v=="string"||v instanceof String||v instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");y=new d(v,m)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(y);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(y),a.nextTick(x)):(await this._pipe(y),x());else this.paused||this.emit("data",y.toBuffer()),this._writeToBuffers(y),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(v,m,x){const y=w=>{w?x(w):(this._flush(),this.pipes.forEach(E=>{E.end()}),this.emit("finish"))};v?this.write(v,m,y):y()},read(v){let m;if(v){for(m=[];v&&this.buffers.length&&!this.buffers[0].eod;){const x=this.buffers[0],y=x.read(v);v-=y.length,m.push(y),x.eod&&x.full&&this.buffers.shift()}return o.concat(m)}return m=this.buffers.map(x=>x.toBuffer()).filter(Boolean),this.buffers=[],o.concat(m)},setEncoding(v){this.encoding=v},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(v){this.pipes.push(v),!this.paused&&this.buffers.length&&this.end()},unpipe(v){this.pipes=this.pipes.filter(m=>m!==v)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),s.exports=g}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,s,i){(function(a){(function(){s.exports=class{constructor(o){this._buf=a.alloc(o&&o.size||16384),this._encoding=o&&o.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=a.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(o){o=o||0,this._buffer=void 0,this._inPos=o}_grow(o){let c=2*this._buf.length;for(;c<o;)c*=2;const u=a.alloc(c);this._buf.copy(u,0),this._buf=u}addText(o){this._buffer=void 0;let c=this._inPos+this._buf.write(o,this._inPos,this._encoding);for(;c>=this._buf.length-4;)this._grow(this._inPos+o.length),c=this._inPos+this._buf.write(o,this._inPos,this._encoding);this._inPos=c}addStringBuf(o){o.length&&(this._buffer=void 0,this.length+o.length>this.capacity&&this._grow(this.length+o.length),o._buf.copy(this._buf,this._inPos,0,o.length),this._inPos+=o.length)}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,s,i){const{toString:a}=Object.prototype,o=/["&<>]/,c={each:function(u,l){u&&(Array.isArray(u)?u.forEach(l):Object.keys(u).forEach(d=>{l(u[d],d)}))},some:function(u,l){return!!u&&(Array.isArray(u)?u.some(l):Object.keys(u).some(d=>l(u[d],d)))},every:function(u,l){return!u||(Array.isArray(u)?u.every(l):Object.keys(u).every(d=>l(u[d],d)))},map:function(u,l){return u?Array.isArray(u)?u.map(l):Object.keys(u).map(d=>l(u[d],d)):[]},keyBy:(u,l)=>u.reduce((d,f)=>(d[f[l]]=f,d),{}),isEqual:function(u,l){const d=typeof u,f=typeof l,h=Array.isArray(u),p=Array.isArray(l);let g;if(d!==f)return!1;switch(typeof u){case"object":if(h||p)return!(!h||!p)&&u.length===l.length&&u.every((v,m)=>{const x=l[m];return c.isEqual(v,x)});if(u===null||l===null)return u===l;if(g=Object.keys(u),Object.keys(l).length!==g.length)return!1;for(const v of g)if(!l.hasOwnProperty(v))return!1;return c.every(u,(v,m)=>{const x=l[m];return c.isEqual(v,x)});default:return u===l}},escapeHtml(u){const l=o.exec(u);if(!l)return u;let d="",f="",h=0,p=l.index;for(;p<u.length;p++){switch(u.charAt(p)){case'"':f="&quot;";break;case"&":f="&amp;";break;case"'":f="&apos;";break;case"<":f="&lt;";break;case">":f="&gt;";break;default:continue}h!==p&&(d+=u.substring(h,p)),h=p+1,d+=f}return h!==p?d+u.substring(h,p):d},strcmp:(u,l)=>u<l?-1:u>l?1:0,isUndefined:u=>a.call(u)==="[object Undefined]",isObject:u=>a.call(u)==="[object Object]",deepMerge(){const u=arguments[0]||{},{length:l}=arguments;let d,f,h;function p(g,v){d=u[v],h=Array.isArray(g),c.isObject(g)||h?(h?(h=!1,f=d&&Array.isArray(d)?d:[]):f=d&&c.isObject(d)?d:{},u[v]=c.deepMerge(f,g)):c.isUndefined(g)||(u[v]=g)}for(let g=0;g<l;g++)c.each(arguments[g],p);return u}};s.exports=c},{}],27:[function(e,s,i){(function(a,o){(function(){const c=e("fs"),u=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,l={nop(){},promiseImmediate:d=>new Promise(f=>{a.setImmediate?o(()=>{f(d)}):setTimeout(()=>{f(d)},1)}),inherits:function(d,f,h,p){d.super_=f,p||(p=h,h=null),h&&Object.keys(h).forEach(v=>{Object.defineProperty(d,v,Object.getOwnPropertyDescriptor(h,v))});const g={constructor:{value:d,enumerable:!1,writable:!1,configurable:!0}};p&&Object.keys(p).forEach(v=>{g[v]=Object.getOwnPropertyDescriptor(p,v)}),d.prototype=Object.create(f.prototype,g)},dateToExcel:(d,f)=>25569+d.getTime()/864e5-(f?1462:0),excelToDate(d,f){const h=Math.round(24*(d-25569+(f?1462:0))*3600*1e3);return new Date(h)},parsePath(d){const f=d.lastIndexOf("/");return{path:d.substring(0,f),name:d.substring(f+1)}},getRelsPath(d){const f=l.parsePath(d);return`${f.path}/_rels/${f.name}.rels`},xmlEncode(d){const f=u.exec(d);if(!f)return d;let h="",p="",g=0,v=f.index;for(;v<d.length;v++){const m=d.charCodeAt(v);switch(m){case 34:p="&quot;";break;case 38:p="&amp;";break;case 39:p="&apos;";break;case 60:p="&lt;";break;case 62:p="&gt;";break;case 127:p="";break;default:if(m<=31&&(m<=8||m>=11&&m!==13)){p="";break}continue}g!==v&&(h+=d.substring(g,v)),g=v+1,p&&(h+=p)}return g!==v?h+d.substring(g,v):h},xmlDecode:d=>d.replace(/&([a-z]*);/g,f=>{switch(f){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return f}}),validInt(d){const f=parseInt(d,10);return Number.isNaN(f)?0:f},isDateFmt(d){return d?(d=(d=d.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:d=>new Promise(f=>{c.access(d,c.constants.F_OK,h=>{f(!h)})})},toIsoDateString:d=>d.toIsoString().subsstr(0,10),parseBoolean:d=>d===!0||d==="true"||d===1||d==="1"};s.exports=l}).call(this)}).call(this,typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,s,i){const a=e("./under-dash"),o=e("./utils");function c(d,f,h){d.push(` ${f}="${o.xmlEncode(h.toString())}"`)}function u(d,f){if(f){const h=[];a.each(f,(p,g)=>{p!==void 0&&c(h,g,p)}),d.push(h.join(""))}}class l{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(f){const h=this._xml;h.push("<?xml"),u(h,f),h.push(`?>
`)}openNode(f,h){const p=this.tos,g=this._xml;p&&this.open&&g.push(">"),this._stack.push(f),g.push("<"),g.push(f),u(g,h),this.leaf=!0,this.open=!0}addAttribute(f,h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");h!==void 0&&c(this._xml,f,h)}addAttributes(f){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");u(this._xml,f)}writeText(f){const h=this._xml;this.open&&(h.push(">"),this.open=!1),this.leaf=!1,h.push(o.xmlEncode(f.toString()))}writeXml(f){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(f)}closeNode(){const f=this._stack.pop(),h=this._xml;this.leaf?h.push("/>"):(h.push("</"),h.push(f),h.push(">")),this.open=!1,this.leaf=!1}leafNode(f,h,p){this.openNode(f,h),p!==void 0&&this.writeText(p),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const f=this._rollbacks.pop();this._xml.length>f.xml&&this._xml.splice(f.xml,this._xml.length-f.xml),this._stack.length>f.stack&&this._stack.splice(f.stack,this._stack.length-f.stack),this.leaf=f.leaf,this.open=f.open}get xml(){return this.closeAll(),this._xml.join("")}}l.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},s.exports=l},{"./under-dash":26,"./utils":27}],29:[function(e,s,i){(function(a){(function(){const o=e("events"),c=e("jszip"),u=e("./stream-buf"),{stringToBuffer:l}=e("./browser-buffer-encode");class d extends o.EventEmitter{constructor(h){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},h),this.zip=new c,this.stream=new u}append(h,p){p.hasOwnProperty("base64")&&p.base64?this.zip.file(p.name,h,{base64:!0}):(a.browser&&typeof h=="string"&&(h=l(h)),this.zip.file(p.name,h))}async finalize(){const h=await this.zip.generateAsync(this.options);this.stream.end(h),this.emit("finish")}read(h){return this.stream.read(h)}setEncoding(h){return this.stream.setEncoding(h)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(h,p){return this.stream.pipe(h,p)}unpipe(h){return this.stream.unpipe(h)}unshift(h){return this.stream.unshift(h)}wrap(h){return this.stream.wrap(h)}}s.exports={ZipWriter:d}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,s,i){s.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,s,i){s.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,s,i){const a=e("../../utils/parse-sax"),o=e("../../utils/xml-stream");class c{prepare(){}render(){}parseOpen(l){}parseText(l){}parseClose(l){}reconcile(l,d){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(l=>{l instanceof c?l.reset():l.xform&&l.xform.reset()})}mergeModel(l){this.model=Object.assign(this.model||{},l)}async parse(l){for await(const d of l)for(const{eventType:f,value:h}of d)if(f==="opentag")this.parseOpen(h);else if(f==="text")this.parseText(h);else if(f==="closetag"&&!this.parseClose(h.name))return this.model;return this.model}async parseStream(l){return this.parse(a(l))}get xml(){return this.toXml(this.model)}toXml(l){const d=new o;return this.render(d,l),d.xml}static toAttribute(l,d){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(l===void 0){if(f)return d}else if(f||l!==d)return l.toString()}static toStringAttribute(l,d){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(l,d,f)}static toStringValue(l,d){return l===void 0?d:l}static toBoolAttribute(l,d){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(l===void 0){if(f)return d}else if(f||l!==d)return l?"1":"0"}static toBoolValue(l,d){return l===void 0?d:l==="1"}static toIntAttribute(l,d){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(l,d,f)}static toIntValue(l,d){return l===void 0?d:parseInt(l,10)}static toFloatAttribute(l,d){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return c.toAttribute(l,d,f)}static toFloatValue(l,d){return l===void 0?d:parseFloat(l)}}s.exports=c},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,s,i){const a=e("../base-xform"),o=e("../../../utils/col-cache");function c(l){try{return o.decodeEx(l),!0}catch{return!1}}function u(l){const d=[];let f=!1,h="";return l.split(",").forEach(p=>{if(!p)return;const g=(p.match(/'/g)||[]).length;if(!g)return void(f?h+=p+",":c(p)&&d.push(p));const v=g%2==0;!f&&v&&c(p)?d.push(p):f&&!v?(f=!1,c(h+p)&&d.push(h+p),h=""):(f=!0,h+=p+",")}),d}s.exports=class extends a{render(l,d){l.openNode("definedName",{name:d.name,localSheetId:d.localSheetId}),l.writeText(d.ranges.join(",")),l.closeNode()}parseOpen(l){switch(l.name){case"definedName":return this._parsedName=l.attributes.name,this._parsedLocalSheetId=l.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(l){this._parsedText.push(l)}parseClose(){return this.model={name:this._parsedName,ranges:u(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,s,i){const a=e("../../../utils/utils"),o=e("../base-xform");s.exports=class extends o{render(c,u){c.leafNode("sheet",{sheetId:u.id,name:u.name,state:u.state,"r:id":u.rId})}parseOpen(c){return c.name==="sheet"&&(this.model={name:a.xmlDecode(c.attributes.name),id:parseInt(c.attributes.sheetId,10),state:c.attributes.state,rId:c.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{render(o,c){o.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:c.fullCalcOnLoad?1:void 0})}parseOpen(o){return o.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{render(o,c){o.leafNode("workbookPr",{date1904:c.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(o){return o.name==="workbookPr"&&(this.model={date1904:o.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{render(o,c){const u={xWindow:c.x||0,yWindow:c.y||0,windowWidth:c.width||12e3,windowHeight:c.height||24e3,firstSheet:c.firstSheet,activeTab:c.activeTab};c.visibility&&c.visibility!=="visible"&&(u.visibility=c.visibility),o.leafNode("workbookView",u)}parseOpen(o){if(o.name==="workbookView"){const c=this.model={},u=function(d,f,h){const p=f!==void 0?c[d]=f:h;p!==void 0&&(c[d]=p)},l=function(d,f,h){const p=f!==void 0?c[d]=parseInt(f,10):h;p!==void 0&&(c[d]=p)};return l("x",o.attributes.xWindow,0),l("y",o.attributes.yWindow,0),l("width",o.attributes.windowWidth,25e3),l("height",o.attributes.windowHeight,1e4),u("visibility",o.attributes.visibility,"visible"),l("activeTab",o.attributes.activeTab,void 0),l("firstSheet",o.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(e,s,i){const a=e("../../../utils/under-dash"),o=e("../../../utils/col-cache"),c=e("../../../utils/xml-stream"),u=e("../base-xform"),l=e("../static-xform"),d=e("../list-xform"),f=e("./defined-name-xform"),h=e("./sheet-xform"),p=e("./workbook-view-xform"),g=e("./workbook-properties-xform"),v=e("./workbook-calc-properties-xform");class m extends u{constructor(){super(),this.map={fileVersion:m.STATIC_XFORMS.fileVersion,workbookPr:new g,bookViews:new d({tag:"bookViews",count:!1,childXform:new p}),sheets:new d({tag:"sheets",count:!1,childXform:new h}),definedNames:new d({tag:"definedNames",count:!1,childXform:new f}),calcPr:new v}}prepare(y){y.sheets=y.worksheets;const w=[];let E=0;y.sheets.forEach(I=>{if(I.pageSetup&&I.pageSetup.printArea&&I.pageSetup.printArea.split("&&").forEach(T=>{const R=T.split(":"),D={name:"_xlnm.Print_Area",ranges:[`'${I.name}'!$${R[0]}:$${R[1]}`],localSheetId:E};w.push(D)}),I.pageSetup&&(I.pageSetup.printTitlesRow||I.pageSetup.printTitlesColumn)){const T=[];if(I.pageSetup.printTitlesColumn){const D=I.pageSetup.printTitlesColumn.split(":");T.push(`'${I.name}'!$${D[0]}:$${D[1]}`)}if(I.pageSetup.printTitlesRow){const D=I.pageSetup.printTitlesRow.split(":");T.push(`'${I.name}'!$${D[0]}:$${D[1]}`)}const R={name:"_xlnm.Print_Titles",ranges:T,localSheetId:E};w.push(R)}E++}),w.length&&(y.definedNames=y.definedNames.concat(w)),(y.media||[]).forEach((I,T)=>{I.name=I.type+(T+1)})}render(y,w){y.openXml(c.StdDocAttributes),y.openNode("workbook",m.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(y),this.map.workbookPr.render(y,w.properties),this.map.bookViews.render(y,w.views),this.map.sheets.render(y,w.sheets),this.map.definedNames.render(y,w.definedNames),this.map.calcPr.render(y,w.calcProperties),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"workbook":return!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(y){const w=(y.workbookRels||[]).reduce((D,L)=>(D[L.Id]=L,D),{}),E=[];let I,T=0;(y.sheets||[]).forEach(D=>{const L=w[D.rId];L&&(I=y.worksheetHash["xl/"+L.Target.replace(/^(\s|\/xl\/)+/,"")],I&&(I.name=D.name,I.id=D.id,I.state=D.state,E[T++]=I))});const R=[];a.each(y.definedNames,D=>{if(D.name==="_xlnm.Print_Area"){if(I=E[D.localSheetId],I){I.pageSetup||(I.pageSetup={});const L=o.decodeEx(D.ranges[0]);I.pageSetup.printArea=I.pageSetup.printArea?`${I.pageSetup.printArea}&&${L.dimensions}`:L.dimensions}}else if(D.name==="_xlnm.Print_Titles"){if(I=E[D.localSheetId],I){I.pageSetup||(I.pageSetup={});const L=D.ranges.join(","),M=/\$/g,H=/\$\d+:\$\d+/,V=L.match(H);if(V&&V.length){const A=V[0];I.pageSetup.printTitlesRow=A.replace(M,"")}const P=/\$[A-Z]+:\$[A-Z]+/,F=L.match(P);if(F&&F.length){const A=F[0];I.pageSetup.printTitlesColumn=A.replace(M,"")}}}else R.push(D)}),y.definedNames=R,y.media.forEach((D,L)=>{D.index=L})}}m.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},m.STATIC_XFORMS={fileVersion:new l({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},s.exports=m},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,s,i){const a=e("../strings/rich-text-xform"),o=e("../../../utils/utils"),c=e("../base-xform"),u=s.exports=function(l){this.model=l};o.inherits(u,c,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new a),this._richTextXform},render(l,d){d=d||this.model,l.openNode("comment",{ref:d.ref,authorId:0}),l.openNode("text"),d&&d.note&&d.note.texts&&d.note.texts.forEach(f=>{this.richTextXform.render(l,f)}),l.closeNode(),l.closeNode()},parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"comment":return this.model={type:"note",note:{texts:[]},...l.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(l),!0;default:return!1}},parseText(l){this.parser&&this.parser.parseText(l)},parseClose(l){switch(l){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(l),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,s,i){const a=e("../../../utils/xml-stream"),o=e("../../../utils/utils"),c=e("../base-xform"),u=e("./comment-xform"),l=s.exports=function(){this.map={comment:new u}};o.inherits(l,c,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(d,f){f=f||this.model,d.openXml(a.StdDocAttributes),d.openNode("comments",l.COMMENTS_ATTRIBUTES),d.openNode("authors"),d.leafNode("author",null,"Author"),d.closeNode(),d.openNode("commentList"),f.comments.forEach(h=>{this.map.comment.render(d,h)}),d.closeNode(),d.closeNode()},parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(d),!0;default:return!1}},parseText(d){this.parser&&this.parser.parseText(d)},parseClose(d){switch(d){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(d),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,s,i){const a=e("../../base-xform");s.exports=class extends a{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,c,u){(c===u[2]||this.tag==="x:SizeWithCells"&&c===u[1])&&o.leafNode(this.tag)}parseOpen(o){switch(o.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(e,s,i){const a=e("../../base-xform");s.exports=class extends a{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,c){o.leafNode(this.tag,null,c)}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{get tag(){return"x:Anchor"}getAnchorRect(o){const c=Math.floor(o.left),u=Math.floor(68*(o.left-c)),l=Math.floor(o.top),d=Math.floor(18*(o.top-l)),f=Math.floor(o.right),h=Math.floor(68*(o.right-f)),p=Math.floor(o.bottom);return[c,u,l,d,f,h,p,Math.floor(18*(o.bottom-p))]}getDefaultRect(o){const c=o.col,u=Math.max(o.row-2,0);return[c,6,u,14,c+2,2,u+4,16]}render(o,c){const u=c.anchor?this.getAnchorRect(c.anchor):this.getDefaultRect(c.refAddress);o.leafNode("x:Anchor",null,u.join(", "))}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../base-xform":32}],44:[function(e,s,i){const a=e("../base-xform"),o=e("./vml-anchor-xform"),c=e("./style/vml-protection-xform"),u=e("./style/vml-position-xform"),l=["twoCells","oneCells","absolute"];s.exports=class extends a{constructor(){super(),this.map={"x:Anchor":new o,"x:Locked":new c({tag:"x:Locked"}),"x:LockText":new c({tag:"x:LockText"}),"x:SizeWithCells":new u({tag:"x:SizeWithCells"}),"x:MoveWithCells":new u({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(d,f){const{protection:h,editAs:p}=f.note;d.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(d,p,l),this.map["x:SizeWithCells"].render(d,p,l),this.map["x:Anchor"].render(d,f),this.map["x:Locked"].render(d,h.locked),d.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(d,h.lockText),d.leafNode("x:Row",null,f.refAddress.row-1),d.leafNode("x:Column",null,f.refAddress.col-1),d.closeNode()}parseOpen(d){switch(d.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const d=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),f=Object.keys(d).length;this.model.editAs=l[f],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,s,i){const a=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("./vml-shape-xform");class u extends o{constructor(){super(),this.map={"v:shape":new c}}get tag(){return"xml"}render(d,f){d.openXml(a.StdDocAttributes),d.openNode(this.tag,u.DRAWING_ATTRIBUTES),d.openNode("o:shapelayout",{"v:ext":"edit"}),d.leafNode("o:idmap",{"v:ext":"edit",data:1}),d.closeNode(),d.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),d.leafNode("v:stroke",{joinstyle:"miter"}),d.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),d.closeNode(),f.comments.forEach((h,p)=>{this.map["v:shape"].render(d,h,p)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}reconcile(d,f){d.anchors.forEach(h=>{h.br?this.map["xdr:twoCellAnchor"].reconcile(h,f):this.map["xdr:oneCellAnchor"].reconcile(h,f)})}}u.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},s.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,s,i){const a=e("../base-xform"),o=e("./vml-textbox-xform"),c=e("./vml-client-data-xform");class u extends a{constructor(){super(),this.map={"v:textbox":new o,"x:ClientData":new c}}get tag(){return"v:shape"}render(d,f,h){d.openNode("v:shape",u.V_SHAPE_ATTRIBUTES(f,h)),d.leafNode("v:fill",{color2:"infoBackground [80]"}),d.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),d.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(d,f),this.map["x:ClientData"].render(d,f),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={margins:{insetmode:d.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}u.V_SHAPE_ATTRIBUTES=(l,d)=>({id:"_x0000_s"+(1025+d),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":l.note.margins&&l.note.margins.insetmode}),s.exports=u},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{get tag(){return"v:textbox"}conversionUnit(o,c,u){return`${parseFloat(o)*c.toFixed(2)}${u}`}reverseConversionUnit(o){return(o||"").split(",").map(c=>Number(parseFloat(this.conversionUnit(parseFloat(c),.1,"")).toFixed(2)))}render(o,c){const u={style:"mso-direction-alt:auto"};if(c&&c.note){let{inset:l}=c.note&&c.note.margins;Array.isArray(l)&&(l=l.map(d=>this.conversionUnit(d,10,"mm")).join(",")),l&&(u.inset=l)}o.openNode("v:textbox",u),o.leafNode("div",{style:"text-align:left"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:return this.model={inset:this.reverseConversionUnit(o.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(e,s,i){const a=e("./base-xform");s.exports=class extends a{createNewModel(o){return{}}parseOpen(o){return this.parser=this.parser||this.map[o.name],this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag&&(this.model=this.createNewModel(o),!0)}parseText(o){this.parser&&this.parser.parseText(o)}onParserClose(o,c){this.model[o]=c.model}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.onParserClose(o,this.parser),this.parser=void 0),!0):o!==this.tag}}},{"./base-xform":32}],49:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{render(o,c){o.openNode("HeadingPairs"),o.openNode("vt:vector",{size:2,baseType:"variant"}),o.openNode("vt:variant"),o.leafNode("vt:lpstr",void 0,"Worksheets"),o.closeNode(),o.openNode("vt:variant"),o.leafNode("vt:i4",void 0,c.length),o.closeNode(),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="HeadingPairs"}parseText(){}parseClose(o){return o!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{render(o,c){o.openNode("TitlesOfParts"),o.openNode("vt:vector",{size:c.length,baseType:"lpstr"}),c.forEach(u=>{o.leafNode("vt:lpstr",void 0,u.name)}),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="TitlesOfParts"}parseText(){}parseClose(o){return o!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(e,s,i){const a=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("../simple/string-xform"),u=e("./app-heading-pairs-xform"),l=e("./app-titles-of-parts-xform");class d extends o{constructor(){super(),this.map={Company:new c({tag:"Company"}),Manager:new c({tag:"Manager"}),HeadingPairs:new u,TitleOfParts:new l}}render(h,p){h.openXml(a.StdDocAttributes),h.openNode("Properties",d.PROPERTY_ATTRIBUTES),h.leafNode("Application",void 0,"Microsoft Excel"),h.leafNode("DocSecurity",void 0,"0"),h.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(h,p.worksheets),this.map.TitleOfParts.render(h,p.worksheets),this.map.Company.render(h,p.company||""),this.map.Manager.render(h,p.manager),h.leafNode("LinksUpToDate",void 0,"false"),h.leafNode("SharedDoc",void 0,"false"),h.leafNode("HyperlinksChanged",void 0,"false"),h.leafNode("AppVersion",void 0,"16.0300"),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"Properties":return!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}d.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3,6}/,"")},d.DateAttrs={"xsi:type":"dcterms:W3CDTF"},d.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},s.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,s,i){const a=e("../../../utils/xml-stream"),o=e("../base-xform");class c extends o{render(l,d){l.openXml(a.StdDocAttributes),l.openNode("Types",c.PROPERTY_ATTRIBUTES);const f={};(d.media||[]).forEach(h=>{if(h.type==="image"){const p=h.extension;f[p]||(f[p]=!0,l.leafNode("Default",{Extension:p,ContentType:"image/"+p}))}}),l.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),l.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),l.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),d.worksheets.forEach(h=>{const p=`/xl/worksheets/sheet${h.id}.xml`;l.leafNode("Override",{PartName:p,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),l.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),l.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),d.sharedStrings&&d.sharedStrings.count&&l.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),d.tables&&d.tables.forEach(h=>{l.leafNode("Override",{PartName:"/xl/tables/"+h.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),d.drawings&&d.drawings.forEach(h=>{l.leafNode("Override",{PartName:`/xl/drawings/${h.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),d.commentRefs&&(l.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),d.commentRefs.forEach(h=>{let{commentName:p}=h;l.leafNode("Override",{PartName:`/xl/${p}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),l.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),l.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),l.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}c.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},s.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,s,i){const a=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("../simple/date-xform"),u=e("../simple/string-xform"),l=e("../simple/integer-xform");class d extends o{constructor(){super(),this.map={"dc:creator":new u({tag:"dc:creator"}),"dc:title":new u({tag:"dc:title"}),"dc:subject":new u({tag:"dc:subject"}),"dc:description":new u({tag:"dc:description"}),"dc:identifier":new u({tag:"dc:identifier"}),"dc:language":new u({tag:"dc:language"}),"cp:keywords":new u({tag:"cp:keywords"}),"cp:category":new u({tag:"cp:category"}),"cp:lastModifiedBy":new u({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new c({tag:"cp:lastPrinted",format:d.DateFormat}),"cp:revision":new l({tag:"cp:revision"}),"cp:version":new u({tag:"cp:version"}),"cp:contentStatus":new u({tag:"cp:contentStatus"}),"cp:contentType":new u({tag:"cp:contentType"}),"dcterms:created":new c({tag:"dcterms:created",attrs:d.DateAttrs,format:d.DateFormat}),"dcterms:modified":new c({tag:"dcterms:modified",attrs:d.DateAttrs,format:d.DateFormat})}}render(h,p){h.openXml(a.StdDocAttributes),h.openNode("cp:coreProperties",d.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(h,p.creator),this.map["dc:title"].render(h,p.title),this.map["dc:subject"].render(h,p.subject),this.map["dc:description"].render(h,p.description),this.map["dc:identifier"].render(h,p.identifier),this.map["dc:language"].render(h,p.language),this.map["cp:keywords"].render(h,p.keywords),this.map["cp:category"].render(h,p.category),this.map["cp:lastModifiedBy"].render(h,p.lastModifiedBy),this.map["cp:lastPrinted"].render(h,p.lastPrinted),this.map["cp:revision"].render(h,p.revision),this.map["cp:version"].render(h,p.version),this.map["cp:contentStatus"].render(h,p.contentStatus),this.map["cp:contentType"].render(h,p.contentType),this.map["dcterms:created"].render(h,p.created),this.map["dcterms:modified"].render(h,p.modified),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[h.name],this.parser)return this.parser.parseOpen(h),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(h))}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+h)}}}d.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3}/,"")},d.DateAttrs={"xsi:type":"dcterms:W3CDTF"},d.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},s.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{render(o,c){o.leafNode("Relationship",c)}parseOpen(o){switch(o.name){case"Relationship":return this.model=o.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(e,s,i){const a=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("./relationship-xform");class u extends o{constructor(){super(),this.map={Relationship:new c}}render(d,f){f=f||this._values,d.openXml(a.StdDocAttributes),d.openNode("Relationships",u.RELATIONSHIPS_ATTRIBUTES),f.forEach(h=>{this.map.Relationship.render(d,h)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[d.name],this.parser)return this.parser.parseOpen(d),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(d){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+d)}}}u.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},s.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset(),this.model={range:{editAs:o.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}reconcilePicture(o,c){if(o&&o.rId){const u=c.rels[o.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(u){const l=u[1],d=c.mediaIndex[l];return c.media[d]}}}}},{"../base-xform":32}],57:[function(e,s,i){const a=e("../base-xform"),o=e("./blip-xform");s.exports=class extends a{constructor(){super(),this.map={"a:blip":new o}}get tag(){return"xdr:blipFill"}render(c,u){c.openNode(this.tag),this.map["a:blip"].render(c,u),c.openNode("a:stretch"),c.leafNode("a:fillRect"),c.closeNode(),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{get tag(){return"a:blip"}render(o,c){o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":c.rId,cstate:"print"})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{get tag(){return"xdr:cNvPicPr"}render(o){o.openNode(this.tag),o.leafNode("a:picLocks",{noChangeAspect:"1"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(e,s,i){const a=e("../base-xform"),o=e("./hlink-click-xform"),c=e("./ext-lst-xform");s.exports=class extends a{constructor(){super(),this.map={"a:hlinkClick":new o,"a:extLst":new c}}get tag(){return"xdr:cNvPr"}render(u,l){u.openNode(this.tag,{id:l.index,name:"Picture "+l.index}),this.map["a:hlinkClick"].render(u,l),this.map["a:extLst"].render(u,l),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,s,i){const a=e("../base-xform"),o=e("../simple/integer-xform");s.exports=class extends a{constructor(c){super(),this.tag=c.tag,this.map={"xdr:col":new o({tag:"xdr:col",zero:!0}),"xdr:colOff":new o({tag:"xdr:colOff",zero:!0}),"xdr:row":new o({tag:"xdr:row",zero:!0}),"xdr:rowOff":new o({tag:"xdr:rowOff",zero:!0})}}render(c,u){c.openNode(this.tag),this.map["xdr:col"].render(c,u.nativeCol),this.map["xdr:colOff"].render(c,u.nativeColOff),this.map["xdr:row"].render(c,u.nativeRow),this.map["xdr:rowOff"].render(c,u.nativeRowOff),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,s,i){const a=e("../../../utils/col-cache"),o=e("../../../utils/xml-stream"),c=e("../base-xform"),u=e("./two-cell-anchor-xform"),l=e("./one-cell-anchor-xform");class d extends c{constructor(){super(),this.map={"xdr:twoCellAnchor":new u,"xdr:oneCellAnchor":new l}}prepare(h){h.anchors.forEach((p,g)=>{p.anchorType=function(v){return(typeof v.range=="string"?a.decode(v.range):v.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(p),this.map[p.anchorType].prepare(p,{index:g})})}get tag(){return"xdr:wsDr"}render(h,p){h.openXml(o.StdDocAttributes),h.openNode(this.tag,d.DRAWING_ATTRIBUTES),p.anchors.forEach(g=>{this.map[g.anchorType].render(h,g)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(h){case this.tag:return!1;default:return!0}}reconcile(h,p){h.anchors.forEach(g=>{g.br?this.map["xdr:twoCellAnchor"].reconcile(g,p):this.map["xdr:oneCellAnchor"].reconcile(g,p)})}}d.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},s.exports=d},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{get tag(){return"a:extLst"}render(o){o.openNode(this.tag),o.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),o.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),o.closeNode(),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{constructor(o){super(),this.tag=o.tag,this.map={}}render(o,c){o.openNode(this.tag);const u=Math.floor(9525*c.width),l=Math.floor(9525*c.height);o.addAttribute("cx",u),o.addAttribute("cy",l),o.closeNode()}parseOpen(o){return o.name===this.tag&&(this.model={width:parseInt(o.attributes.cx||"0",10)/9525,height:parseInt(o.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{get tag(){return"a:hlinkClick"}render(o,c){c.hyperlinks&&c.hyperlinks.rId&&o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":c.hyperlinks.rId,tooltip:c.hyperlinks.tooltip})}parseOpen(o){switch(o.name){case this.tag:return this.model={hyperlinks:{rId:o.attributes["r:id"],tooltip:o.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(e,s,i){const a=e("../base-xform"),o=e("./c-nv-pr-xform"),c=e("./c-nv-pic-pr-xform");s.exports=class extends a{constructor(){super(),this.map={"xdr:cNvPr":new o,"xdr:cNvPicPr":new c}}get tag(){return"xdr:nvPicPr"}render(u,l){u.openNode(this.tag),this.map["xdr:cNvPr"].render(u,l),this.map["xdr:cNvPicPr"].render(u,l),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,s,i){const a=e("./base-cell-anchor-xform"),o=e("../static-xform"),c=e("./cell-position-xform"),u=e("./ext-xform"),l=e("./pic-xform");s.exports=class extends a{constructor(){super(),this.map={"xdr:from":new c({tag:"xdr:from"}),"xdr:ext":new u({tag:"xdr:ext"}),"xdr:pic":new l,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(d,f){this.map["xdr:pic"].prepare(d.picture,f)}render(d,f){d.openNode(this.tag,{editAs:f.range.editAs||"oneCell"}),this.map["xdr:from"].render(d,f.range.tl),this.map["xdr:ext"].render(d,f.range.ext),this.map["xdr:pic"].render(d,f.picture),this.map["xdr:clientData"].render(d,{}),d.closeNode()}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(d,f){d.medium=this.reconcilePicture(d.picture,f)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,s,i){const a=e("../base-xform"),o=e("../static-xform"),c=e("./blip-fill-xform"),u=e("./nv-pic-pr-xform"),l=e("./sp-pr");s.exports=class extends a{constructor(){super(),this.map={"xdr:nvPicPr":new u,"xdr:blipFill":new c,"xdr:spPr":new o(l)}}get tag(){return"xdr:pic"}prepare(d,f){d.index=f.index+1}render(d,f){d.openNode(this.tag),this.map["xdr:nvPicPr"].render(d,f),this.map["xdr:blipFill"].render(d,f),this.map["xdr:spPr"].render(d,f),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset();break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(){}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,s,i){s.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,s,i){const a=e("./base-cell-anchor-xform"),o=e("../static-xform"),c=e("./cell-position-xform"),u=e("./pic-xform");s.exports=class extends a{constructor(){super(),this.map={"xdr:from":new c({tag:"xdr:from"}),"xdr:to":new c({tag:"xdr:to"}),"xdr:pic":new u,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(l,d){this.map["xdr:pic"].prepare(l.picture,d)}render(l,d){l.openNode(this.tag,{editAs:d.range.editAs||"oneCell"}),this.map["xdr:from"].render(l,d.range.tl),this.map["xdr:to"].render(l,d.range.br),this.map["xdr:pic"].render(l,d.picture),this.map["xdr:clientData"].render(l,{}),l.closeNode()}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(l,d){l.medium=this.reconcilePicture(l.picture,d)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,s,i){const a=e("./base-xform");s.exports=class extends a{constructor(o){super(),this.tag=o.tag,this.always=!!o.always,this.count=o.count,this.empty=o.empty,this.$count=o.$count||"count",this.$=o.$,this.childXform=o.childXform,this.maxItems=o.maxItems}prepare(o,c){const{childXform:u}=this;o&&o.forEach((l,d)=>{c.index=d,u.prepare(l,c)})}render(o,c){if(this.always||c&&c.length){o.openNode(this.tag,this.$),this.count&&o.addAttribute(this.$count,c&&c.length||0);const{childXform:u}=this;(c||[]).forEach((l,d)=>{u.render(o,l,d)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(o)&&(this.parser=this.childXform,!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(o,c){if(o){const{childXform:u}=this;o.forEach(l=>{u.reconcile(l,c)})}}}},{"./base-xform":32}],72:[function(e,s,i){const a=e("../../../utils/col-cache"),o=e("../base-xform");s.exports=class extends o{get tag(){return"autoFilter"}render(c,u){if(u)if(typeof u=="string")c.leafNode("autoFilter",{ref:u});else{const l=function(h){return typeof h=="string"?h:a.getAddress(h.row,h.column).address},d=l(u.from),f=l(u.to);d&&f&&c.leafNode("autoFilter",{ref:`${d}:${f}`})}}parseOpen(c){c.name==="autoFilter"&&(this.model=c.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,s,i){const a=e("../../../utils/utils"),o=e("../base-xform"),c=e("../../../doc/range"),u=e("../../../doc/enums"),l=e("../strings/rich-text-xform");function d(f){if(f==null)return u.ValueType.Null;if(f instanceof String||typeof f=="string")return u.ValueType.String;if(typeof f=="number")return u.ValueType.Number;if(typeof f=="boolean")return u.ValueType.Boolean;if(f instanceof Date)return u.ValueType.Date;if(f.text&&f.hyperlink)return u.ValueType.Hyperlink;if(f.formula)return u.ValueType.Formula;if(f.error)return u.ValueType.Error;throw new Error("I could not understand type of value")}s.exports=class extends o{constructor(){super(),this.richTextXForm=new l}get tag(){return"c"}prepare(f,h){const p=h.styles.addStyleModel(f.style||{},function(g){switch(g.type){case u.ValueType.Formula:return d(g.result);default:return g.type}}(f));switch(p&&(f.styleId=p),f.comment&&h.comments.push({...f.comment,ref:f.address}),f.type){case u.ValueType.String:case u.ValueType.RichText:h.sharedStrings&&(f.ssId=h.sharedStrings.add(f.value));break;case u.ValueType.Date:h.date1904&&(f.date1904=!0);break;case u.ValueType.Hyperlink:h.sharedStrings&&f.text!==void 0&&f.text!==null&&(f.ssId=h.sharedStrings.add(f.text)),h.hyperlinks.push({address:f.address,target:f.hyperlink,tooltip:f.tooltip});break;case u.ValueType.Merge:h.merges.add(f);break;case u.ValueType.Formula:if(h.date1904&&(f.date1904=!0),f.shareType==="shared"&&(f.si=h.siFormulae++),f.formula)h.formulae[f.address]=f;else if(f.sharedFormula){const g=h.formulae[f.sharedFormula];if(!g)throw new Error("Shared Formula master must exist above and or left of clone for cell "+f.address);g.si===void 0?(g.shareType="shared",g.si=h.siFormulae++,g.range=new c(g.address,f.address)):g.range&&g.range.expandToAddress(f.address),f.si=g.si}}}renderFormula(f,h){let p=null;switch(h.shareType){case"shared":p={t:"shared",ref:h.ref||h.range.range,si:h.si};break;case"array":p={t:"array",ref:h.ref};break;default:h.si!==void 0&&(p={t:"shared",si:h.si})}switch(d(h.result)){case u.ValueType.Null:f.leafNode("f",p,h.formula);break;case u.ValueType.String:f.addAttribute("t","str"),f.leafNode("f",p,h.formula),f.leafNode("v",null,h.result);break;case u.ValueType.Number:f.leafNode("f",p,h.formula),f.leafNode("v",null,h.result);break;case u.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("f",p,h.formula),f.leafNode("v",null,h.result?1:0);break;case u.ValueType.Error:f.addAttribute("t","e"),f.leafNode("f",p,h.formula),f.leafNode("v",null,h.result.error);break;case u.ValueType.Date:f.leafNode("f",p,h.formula),f.leafNode("v",null,a.dateToExcel(h.result,h.date1904));break;default:throw new Error("I could not understand type of value")}}render(f,h){if(h.type!==u.ValueType.Null||h.styleId){switch(f.openNode("c"),f.addAttribute("r",h.address),h.styleId&&f.addAttribute("s",h.styleId),h.type){case u.ValueType.Null:break;case u.ValueType.Number:f.leafNode("v",null,h.value);break;case u.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("v",null,h.value?"1":"0");break;case u.ValueType.Error:f.addAttribute("t","e"),f.leafNode("v",null,h.value.error);break;case u.ValueType.String:case u.ValueType.RichText:h.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,h.ssId)):h.value&&h.value.richText?(f.addAttribute("t","inlineStr"),f.openNode("is"),h.value.richText.forEach(p=>{this.richTextXForm.render(f,p)}),f.closeNode("is")):(f.addAttribute("t","str"),f.leafNode("v",null,h.value));break;case u.ValueType.Date:f.leafNode("v",null,a.dateToExcel(h.value,h.date1904));break;case u.ValueType.Hyperlink:h.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,h.ssId)):(f.addAttribute("t","str"),f.leafNode("v",null,h.text));break;case u.ValueType.Formula:this.renderFormula(f,h);break;case u.ValueType.Merge:}f.closeNode()}}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"c":return this.model={address:f.attributes.r},this.t=f.attributes.t,f.attributes.s&&(this.model.styleId=parseInt(f.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=f.attributes.si,this.model.shareType=f.attributes.t,this.model.ref=f.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){if(this.parser)this.parser.parseText(f);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+f:f;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+f:f:this.model.value=this.model.value?this.model.value+f:f}}parseClose(f){switch(f){case"c":{const{model:h}=this;if(h.formula||h.shareType)h.type=u.ValueType.Formula,h.value&&(this.t==="str"?h.result=a.xmlDecode(h.value):this.t==="b"?h.result=parseInt(h.value,10)!==0:this.t==="e"?h.result={error:h.value}:h.result=parseFloat(h.value),h.value=void 0);else if(h.value!==void 0)switch(this.t){case"s":h.type=u.ValueType.String,h.value=parseInt(h.value,10);break;case"str":h.type=u.ValueType.String,h.value=a.xmlDecode(h.value);break;case"inlineStr":h.type=u.ValueType.String;break;case"b":h.type=u.ValueType.Boolean,h.value=parseInt(h.value,10)!==0;break;case"e":h.type=u.ValueType.Error,h.value={error:h.value};break;default:h.type=u.ValueType.Number,h.value=parseFloat(h.value)}else h.styleId?h.type=u.ValueType.Null:h.type=u.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(f),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(f),!0)}}reconcile(f,h){const p=f.styleId&&h.styles&&h.styles.getStyleModel(f.styleId);switch(p&&(f.style=p),f.styleId!==void 0&&(f.styleId=void 0),f.type){case u.ValueType.String:typeof f.value=="number"&&h.sharedStrings&&(f.value=h.sharedStrings.getString(f.value)),f.value.richText&&(f.type=u.ValueType.RichText);break;case u.ValueType.Number:p&&a.isDateFmt(p.numFmt)&&(f.type=u.ValueType.Date,f.value=a.excelToDate(f.value,h.date1904));break;case u.ValueType.Formula:f.result!==void 0&&p&&a.isDateFmt(p.numFmt)&&(f.result=a.excelToDate(f.result,h.date1904)),f.shareType==="shared"&&(f.ref?h.formulae[f.si]=f.address:(f.sharedFormula=h.formulae[f.si],delete f.shareType),delete f.si)}const g=h.hyperlinkMap[f.address];g&&(f.type===u.ValueType.Formula?(f.text=f.result,f.result=void 0):(f.text=f.value,f.value=void 0),f.type=u.ValueType.Hyperlink,f.hyperlink=g);const v=h.commentsMap&&h.commentsMap[f.address];v&&(f.comment=v)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,s,i){const a=e("../../base-xform");s.exports=class extends a{get tag(){return"x14:cfIcon"}render(o,c){o.leafNode(this.tag,{iconSet:c.iconSet,iconId:c.iconId})}parseOpen(o){let{attributes:c}=o;this.model={iconSet:c.iconSet,iconId:a.toIntValue(c.iconId)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],75:[function(e,s,i){const{v4:a}=e("uuid"),o=e("../../base-xform"),c=e("../../composite-xform"),u=e("./databar-ext-xform"),l=e("./icon-set-ext-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class f extends c{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new u,"x14:iconSet":this.iconSetXform=new l}}get tag(){return"x14:cfRule"}static isExt(p){return p.type==="dataBar"?u.isExt(p):!(p.type!=="iconSet"||!p.custom&&!d[p.iconSet])}prepare(p){f.isExt(p)&&(p.x14Id=`{${a()}}`.toUpperCase())}render(p,g){if(f.isExt(g))switch(g.type){case"dataBar":this.renderDataBar(p,g);break;case"iconSet":this.renderIconSet(p,g)}}renderDataBar(p,g){p.openNode(this.tag,{type:"dataBar",id:g.x14Id}),this.databarXform.render(p,g),p.closeNode()}renderIconSet(p,g){p.openNode(this.tag,{type:"iconSet",priority:g.priority,id:g.x14Id||`{${a()}}`}),this.iconSetXform.render(p,g),p.closeNode()}createNewModel(p){let{attributes:g}=p;return{type:g.type,x14Id:g.id,priority:o.toIntValue(g.priority)}}onParserClose(p,g){Object.assign(this.model,g.model)}}s.exports=f},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,s,i){const a=e("../../composite-xform"),o=e("./f-ext-xform");s.exports=class extends a{constructor(){super(),this.map={"xm:f":this.fExtXform=new o}}get tag(){return"x14:cfvo"}render(c,u){c.openNode(this.tag,{type:u.type}),u.value!==void 0&&this.fExtXform.render(c,u.value),c.closeNode()}createNewModel(c){return{type:c.attributes.type}}onParserClose(c,u){switch(c){case"xm:f":this.model.value=u.model?parseFloat(u.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,s,i){const a=e("../../composite-xform"),o=e("./sqref-ext-xform"),c=e("./cf-rule-ext-xform");s.exports=class extends a{constructor(){super(),this.map={"xm:sqref":this.sqRef=new o,"x14:cfRule":this.cfRule=new c}}get tag(){return"x14:conditionalFormatting"}prepare(u,l){u.rules.forEach(d=>{this.cfRule.prepare(d,l)})}render(u,l){l.rules.some(c.isExt)&&(u.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),l.rules.filter(c.isExt).forEach(d=>this.cfRule.render(u,d)),this.sqRef.render(u,l.ref),u.closeNode())}createNewModel(){return{rules:[]}}onParserClose(u,l){switch(u){case"xm:sqref":this.model.ref=l.model;break;case"x14:cfRule":this.model.rules.push(l.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,s,i){const a=e("../../composite-xform"),o=e("./cf-rule-ext-xform"),c=e("./conditional-formatting-ext-xform");s.exports=class extends a{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new c}}get tag(){return"x14:conditionalFormattings"}hasContent(u){return u.hasExtContent===void 0&&(u.hasExtContent=u.some(l=>l.rules.some(o.isExt))),u.hasExtContent}prepare(u,l){u.forEach(d=>{this.cfXform.prepare(d,l)})}render(u,l){this.hasContent(l)&&(u.openNode(this.tag),l.forEach(d=>this.cfXform.render(u,d)),u.closeNode())}createNewModel(){return[]}onParserClose(u,l){this.model.push(l.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,s,i){const a=e("../../base-xform"),o=e("../../composite-xform"),c=e("../../style/color-xform"),u=e("./cfvo-ext-xform");s.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new u,"x14:borderColor":this.borderColorXform=new c("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new c("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new c("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new c("x14:axisColor")}}static isExt(l){return!l.gradient}get tag(){return"x14:dataBar"}render(l,d){l.openNode(this.tag,{minLength:a.toIntAttribute(d.minLength,0,!0),maxLength:a.toIntAttribute(d.maxLength,100,!0),border:a.toBoolAttribute(d.border,!1),gradient:a.toBoolAttribute(d.gradient,!0),negativeBarColorSameAsPositive:a.toBoolAttribute(d.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:a.toBoolAttribute(d.negativeBarBorderColorSameAsPositive,!0),axisPosition:a.toAttribute(d.axisPosition,"auto"),direction:a.toAttribute(d.direction,"leftToRight")}),d.cfvo.forEach(f=>{this.cfvoXform.render(l,f)}),this.borderColorXform.render(l,d.borderColor),this.negativeBorderColorXform.render(l,d.negativeBorderColor),this.negativeFillColorXform.render(l,d.negativeFillColor),this.axisColorXform.render(l,d.axisColor),l.closeNode()}createNewModel(l){let{attributes:d}=l;return{cfvo:[],minLength:a.toIntValue(d.minLength,0),maxLength:a.toIntValue(d.maxLength,100),border:a.toBoolValue(d.border,!1),gradient:a.toBoolValue(d.gradient,!0),negativeBarColorSameAsPositive:a.toBoolValue(d.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:a.toBoolValue(d.negativeBarBorderColorSameAsPositive,!0),axisPosition:a.toStringValue(d.axisPosition,"auto"),direction:a.toStringValue(d.direction,"leftToRight")}}onParserClose(l,d){const[,f]=l.split(":");switch(f){case"cfvo":this.model.cfvo.push(d.model);break;default:this.model[f]=d.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,s,i){const a=e("../../base-xform");s.exports=class extends a{get tag(){return"xm:f"}render(o,c){o.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],81:[function(e,s,i){const a=e("../../base-xform"),o=e("../../composite-xform"),c=e("./cfvo-ext-xform"),u=e("./cf-icon-ext-xform");s.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new c,"x14:cfIcon":this.cfIconXform=new u}}get tag(){return"x14:iconSet"}render(l,d){l.openNode(this.tag,{iconSet:a.toStringAttribute(d.iconSet),reverse:a.toBoolAttribute(d.reverse,!1),showValue:a.toBoolAttribute(d.showValue,!0),custom:a.toBoolAttribute(d.icons,!1)}),d.cfvo.forEach(f=>{this.cfvoXform.render(l,f)}),d.icons&&d.icons.forEach((f,h)=>{f.iconId=h,this.cfIconXform.render(l,f)}),l.closeNode()}createNewModel(l){let{attributes:d}=l;return{cfvo:[],iconSet:a.toStringValue(d.iconSet,"3TrafficLights"),reverse:a.toBoolValue(d.reverse,!1),showValue:a.toBoolValue(d.showValue,!0)}}onParserClose(l,d){const[,f]=l.split(":");switch(f){case"cfvo":this.model.cfvo.push(d.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(d.model);break;default:this.model[f]=d.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,s,i){const a=e("../../base-xform");s.exports=class extends a{get tag(){return"xm:sqref"}render(o,c){o.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],83:[function(e,s,i){const a=e("../../base-xform"),o=e("../../composite-xform"),c=e("../../../../doc/range"),u=e("./databar-xform"),l=e("./ext-lst-ref-xform"),d=e("./formula-xform"),f=e("./color-scale-xform"),h=e("./icon-set-xform"),p={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},g=m=>{const{type:x,operator:y}=m;switch(x){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:x};default:return{type:x,operator:y}}};class v extends o{constructor(){super(),this.map={dataBar:this.databarXform=new u,extLst:this.extLstRefXform=new l,formula:this.formulaXform=new d,colorScale:this.colorScaleXform=new f,iconSet:this.iconSetXform=new h}}get tag(){return"cfRule"}static isPrimitive(x){return x.type!=="iconSet"||!x.custom&&!p[x.iconSet]}render(x,y){switch(y.type){case"expression":this.renderExpression(x,y);break;case"cellIs":this.renderCellIs(x,y);break;case"top10":this.renderTop10(x,y);break;case"aboveAverage":this.renderAboveAverage(x,y);break;case"dataBar":this.renderDataBar(x,y);break;case"colorScale":this.renderColorScale(x,y);break;case"iconSet":this.renderIconSet(x,y);break;case"containsText":this.renderText(x,y);break;case"timePeriod":this.renderTimePeriod(x,y)}}renderExpression(x,y){x.openNode(this.tag,{type:"expression",dxfId:y.dxfId,priority:y.priority}),this.formulaXform.render(x,y.formulae[0]),x.closeNode()}renderCellIs(x,y){x.openNode(this.tag,{type:"cellIs",dxfId:y.dxfId,priority:y.priority,operator:y.operator}),y.formulae.forEach(w=>{this.formulaXform.render(x,w)}),x.closeNode()}renderTop10(x,y){x.leafNode(this.tag,{type:"top10",dxfId:y.dxfId,priority:y.priority,percent:a.toBoolAttribute(y.percent,!1),bottom:a.toBoolAttribute(y.bottom,!1),rank:a.toIntValue(y.rank,10,!0)})}renderAboveAverage(x,y){x.leafNode(this.tag,{type:"aboveAverage",dxfId:y.dxfId,priority:y.priority,aboveAverage:a.toBoolAttribute(y.aboveAverage,!0)})}renderDataBar(x,y){x.openNode(this.tag,{type:"dataBar",priority:y.priority}),this.databarXform.render(x,y),this.extLstRefXform.render(x,y),x.closeNode()}renderColorScale(x,y){x.openNode(this.tag,{type:"colorScale",priority:y.priority}),this.colorScaleXform.render(x,y),x.closeNode()}renderIconSet(x,y){v.isPrimitive(y)&&(x.openNode(this.tag,{type:"iconSet",priority:y.priority}),this.iconSetXform.render(x,y),x.closeNode())}renderText(x,y){x.openNode(this.tag,{type:y.operator,dxfId:y.dxfId,priority:y.priority,operator:a.toStringAttribute(y.operator,"containsText")});const w=(E=>{if(E.formulae&&E.formulae[0])return E.formulae[0];const I=new c(E.ref),{tl:T}=I;switch(E.operator){case"containsText":return`NOT(ISERROR(SEARCH("${E.text}",${T})))`;case"containsBlanks":return`LEN(TRIM(${T}))=0`;case"notContainsBlanks":return`LEN(TRIM(${T}))>0`;case"containsErrors":return`ISERROR(${T})`;case"notContainsErrors":return`NOT(ISERROR(${T}))`;default:return}})(y);w&&this.formulaXform.render(x,w),x.closeNode()}renderTimePeriod(x,y){x.openNode(this.tag,{type:"timePeriod",dxfId:y.dxfId,priority:y.priority,timePeriod:y.timePeriod});const w=(E=>{if(E.formulae&&E.formulae[0])return E.formulae[0];const I=new c(E.ref),{tl:T}=I;switch(E.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${T},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${T},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${T},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${T},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${T},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${T},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${T},1)=TODAY()-1`;case"today":return`FLOOR(${T},1)=TODAY()`;case"tomorrow":return`FLOOR(${T},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${T},1)<=6,FLOOR(${T},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${T})=MONTH(EDATE(TODAY(),0-1)),YEAR(${T})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${T})=MONTH(TODAY()),YEAR(${T})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${T})=MONTH(EDATE(TODAY(),0+1)),YEAR(${T})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(y);w&&this.formulaXform.render(x,w),x.closeNode()}createNewModel(x){let{attributes:y}=x;return{...g(y),dxfId:a.toIntValue(y.dxfId),priority:a.toIntValue(y.priority),timePeriod:y.timePeriod,percent:a.toBoolValue(y.percent),bottom:a.toBoolValue(y.bottom),rank:a.toIntValue(y.rank),aboveAverage:a.toBoolValue(y.aboveAverage)}}onParserClose(x,y){switch(x){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,y.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(y.model)}}}s.exports=v},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,s,i){const a=e("../../base-xform");s.exports=class extends a{get tag(){return"cfvo"}render(o,c){o.leafNode(this.tag,{type:c.type,val:c.value})}parseOpen(o){this.model={type:o.attributes.type,value:a.toFloatValue(o.attributes.val)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],85:[function(e,s,i){const a=e("../../composite-xform"),o=e("../../style/color-xform"),c=e("./cfvo-xform");s.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new c,color:this.colorXform=new o}}get tag(){return"colorScale"}render(u,l){u.openNode(this.tag),l.cfvo.forEach(d=>{this.cfvoXform.render(u,d)}),l.color.forEach(d=>{this.colorXform.render(u,d)}),u.closeNode()}createNewModel(u){return{cfvo:[],color:[]}}onParserClose(u,l){this.model[u].push(l.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,s,i){const a=e("../../composite-xform"),o=e("./cf-rule-xform");s.exports=class extends a{constructor(){super(),this.map={cfRule:new o}}get tag(){return"conditionalFormatting"}render(c,u){u.rules.some(o.isPrimitive)&&(c.openNode(this.tag,{sqref:u.ref}),u.rules.forEach(l=>{o.isPrimitive(l)&&(l.ref=u.ref,this.map.cfRule.render(c,l))}),c.closeNode())}createNewModel(c){let{attributes:u}=c;return{ref:u.sqref,rules:[]}}onParserClose(c,u){this.model.rules.push(u.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,s,i){const a=e("../../base-xform"),o=e("./conditional-formatting-xform");s.exports=class extends a{constructor(){super(),this.cfXform=new o}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(c,u){let l=c.reduce((d,f)=>Math.max(d,...f.rules.map(h=>h.priority||0)),1);c.forEach(d=>{d.rules.forEach(f=>{f.priority||(f.priority=l++),f.style&&(f.dxfId=u.styles.addDxfStyle(f.style))})})}render(c,u){u.forEach(l=>{this.cfXform.render(c,l)})}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return!!this.parser&&(!!this.parser.parseClose(c)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(c,u){c.forEach(l=>{l.rules.forEach(d=>{d.dxfId!==void 0&&(d.style=u.styles.getDxfStyle(d.dxfId),delete d.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,s,i){const a=e("../../composite-xform"),o=e("../../style/color-xform"),c=e("./cfvo-xform");s.exports=class extends a{constructor(){super(),this.map={cfvo:this.cfvoXform=new c,color:this.colorXform=new o}}get tag(){return"dataBar"}render(u,l){u.openNode(this.tag),l.cfvo.forEach(d=>{this.cfvoXform.render(u,d)}),this.colorXform.render(u,l.color),u.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(u,l){switch(u){case"cfvo":this.model.cfvo.push(l.model);break;case"color":this.model.color=l.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,s,i){const a=e("../../base-xform"),o=e("../../composite-xform");class c extends a{get tag(){return"x14:id"}render(d,f){d.leafNode(this.tag,null,f)}parseOpen(){this.model=""}parseText(d){this.model+=d}parseClose(d){return d!==this.tag}}class u extends o{constructor(){super(),this.map={"x14:id":this.idXform=new c}}get tag(){return"ext"}render(d,f){d.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(d,f.x14Id),d.closeNode()}createNewModel(){return{}}onParserClose(d,f){this.model.x14Id=f.model}}s.exports=class extends o{constructor(){super(),this.map={ext:new u}}get tag(){return"extLst"}render(l,d){l.openNode(this.tag),this.map.ext.render(l,d),l.closeNode()}createNewModel(){return{}}onParserClose(l,d){Object.assign(this.model,d.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,s,i){const a=e("../../base-xform");s.exports=class extends a{get tag(){return"formula"}render(o,c){o.leafNode(this.tag,null,c)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],91:[function(e,s,i){const a=e("../../base-xform"),o=e("../../composite-xform"),c=e("./cfvo-xform");s.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new c}}get tag(){return"iconSet"}render(u,l){u.openNode(this.tag,{iconSet:a.toStringAttribute(l.iconSet,"3TrafficLights"),reverse:a.toBoolAttribute(l.reverse,!1),showValue:a.toBoolAttribute(l.showValue,!0)}),l.cfvo.forEach(d=>{this.cfvoXform.render(u,d)}),u.closeNode()}createNewModel(u){let{attributes:l}=u;return{iconSet:a.toStringValue(l.iconSet,"3TrafficLights"),reverse:a.toBoolValue(l.reverse),showValue:a.toBoolValue(l.showValue),cfvo:[]}}onParserClose(u,l){this.model[u].push(l.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,s,i){const a=e("../../../utils/utils"),o=e("../base-xform");s.exports=class extends o{get tag(){return"col"}prepare(c,u){const l=u.styles.addStyleModel(c.style||{});l&&(c.styleId=l)}render(c,u){c.openNode("col"),c.addAttribute("min",u.min),c.addAttribute("max",u.max),u.width&&c.addAttribute("width",u.width),u.styleId&&c.addAttribute("style",u.styleId),u.hidden&&c.addAttribute("hidden","1"),u.bestFit&&c.addAttribute("bestFit","1"),u.outlineLevel&&c.addAttribute("outlineLevel",u.outlineLevel),u.collapsed&&c.addAttribute("collapsed","1"),c.addAttribute("customWidth","1"),c.closeNode()}parseOpen(c){if(c.name==="col"){const u=this.model={min:parseInt(c.attributes.min||"0",10),max:parseInt(c.attributes.max||"0",10),width:c.attributes.width===void 0?void 0:parseFloat(c.attributes.width||"0")};return c.attributes.style&&(u.styleId=parseInt(c.attributes.style,10)),a.parseBoolean(c.attributes.hidden)&&(u.hidden=!0),a.parseBoolean(c.attributes.bestFit)&&(u.bestFit=!0),c.attributes.outlineLevel&&(u.outlineLevel=parseInt(c.attributes.outlineLevel,10)),a.parseBoolean(c.attributes.collapsed)&&(u.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(c,u){c.styleId&&(c.style=u.styles.getStyleModel(c.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,s,i){const a=e("../../../utils/under-dash"),o=e("../../../utils/utils"),c=e("../../../utils/col-cache"),u=e("../base-xform"),l=e("../../../doc/range");function d(h,p,g,v){const m=p[g];m!==void 0?h[g]=m:v!==void 0&&(h[g]=v)}function f(h,p,g,v){const m=p[g];m!==void 0&&(h[g]=o.parseBoolean(m))}s.exports=class extends u{get tag(){return"dataValidations"}render(h,p){const g=function(v){const m=a.map(v,(w,E)=>({address:E,dataValidation:w,marked:!1})).sort((w,E)=>a.strcmp(w.address,E.address)),x=a.keyBy(m,"address"),y=(w,E,I)=>{for(let T=0;T<E;T++){const R=c.encodeAddress(w.row+T,I);if(!v[R]||!a.isEqual(v[w.address],v[R]))return!1}return!0};return m.map(w=>{if(!w.marked){const E=c.decodeEx(w.address);if(E.dimensions)return x[E.dimensions].marked=!0,{...w.dataValidation,sqref:w.address};let I=1,T=c.encodeAddress(E.row+I,E.col);for(;v[T]&&a.isEqual(w.dataValidation,v[T]);)I++,T=c.encodeAddress(E.row+I,E.col);let R=1;for(;y(E,I,E.col+R);)R++;for(let D=0;D<I;D++)for(let L=0;L<R;L++)T=c.encodeAddress(E.row+D,E.col+L),x[T].marked=!0;if(I>1||R>1){const D=E.row+(I-1),L=E.col+(R-1);return{...w.dataValidation,sqref:`${w.address}:${c.encodeAddress(D,L)}`}}return{...w.dataValidation,sqref:w.address}}return null}).filter(Boolean)}(p);g.length&&(h.openNode("dataValidations",{count:g.length}),g.forEach(v=>{h.openNode("dataValidation"),v.type!=="any"&&(h.addAttribute("type",v.type),v.operator&&v.type!=="list"&&v.operator!=="between"&&h.addAttribute("operator",v.operator),v.allowBlank&&h.addAttribute("allowBlank","1")),v.showInputMessage&&h.addAttribute("showInputMessage","1"),v.promptTitle&&h.addAttribute("promptTitle",v.promptTitle),v.prompt&&h.addAttribute("prompt",v.prompt),v.showErrorMessage&&h.addAttribute("showErrorMessage","1"),v.errorStyle&&h.addAttribute("errorStyle",v.errorStyle),v.errorTitle&&h.addAttribute("errorTitle",v.errorTitle),v.error&&h.addAttribute("error",v.error),h.addAttribute("sqref",v.sqref),(v.formulae||[]).forEach((m,x)=>{h.openNode("formula"+(x+1)),v.type==="date"?h.writeText(o.dateToExcel(new Date(m))):h.writeText(m),h.closeNode()}),h.closeNode()}),h.closeNode())}parseOpen(h){switch(h.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=h.attributes.sqref;const p={type:h.attributes.type||"any",formulae:[]};switch(h.attributes.type&&f(p,h.attributes,"allowBlank"),f(p,h.attributes,"showInputMessage"),f(p,h.attributes,"showErrorMessage"),p.type){case"any":case"list":case"custom":break;default:d(p,h.attributes,"operator","between")}return d(p,h.attributes,"promptTitle"),d(p,h.attributes,"prompt"),d(p,h.attributes,"errorStyle"),d(p,h.attributes,"errorTitle"),d(p,h.attributes,"error"),this._dataValidation=p,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(h){this._formula&&this._formula.push(h)}parseClose(h){switch(h){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(p=>{p.includes(":")?new l(p).forEachAddress(g=>{this.model[g]=this._dataValidation}):this.model[p]=this._dataValidation}),!0;case"formula1":case"formula2":{let p=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":p=parseInt(p,10);break;case"decimal":p=parseFloat(p);break;case"date":p=o.excelToDate(parseFloat(p))}return this._dataValidation.formulae.push(p),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{get tag(){return"dimension"}render(o,c){c&&o.leafNode("dimension",{ref:c})}parseOpen(o){return o.name==="dimension"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{get tag(){return"drawing"}render(o,c){c&&o.leafNode(this.tag,{"r:id":c.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(e,s,i){const a=e("../composite-xform"),o=e("./cf-ext/conditional-formattings-ext-xform");class c extends a{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new o}}get tag(){return"ext"}hasContent(l){return this.conditionalFormattings.hasContent(l.conditionalFormattings)}prepare(l,d){this.conditionalFormattings.prepare(l.conditionalFormattings,d)}render(l,d){l.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(l,d.conditionalFormattings),l.closeNode()}createNewModel(){return{}}onParserClose(l,d){this.model[l]=d.model}}s.exports=class extends a{constructor(){super(),this.map={ext:this.ext=new c}}get tag(){return"extLst"}prepare(u,l){this.ext.prepare(u,l)}hasContent(u){return this.ext.hasContent(u)}render(u,l){this.hasContent(l)&&(u.openNode("extLst"),this.ext.render(u,l),u.closeNode())}createNewModel(){return{}}onParserClose(u,l){Object.assign(this.model,l.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{get tag(){return"headerFooter"}render(o,c){if(c){o.addRollback();let u=!1;o.openNode("headerFooter"),c.differentFirst&&(o.addAttribute("differentFirst","1"),u=!0),c.differentOddEven&&(o.addAttribute("differentOddEven","1"),u=!0),c.oddHeader&&typeof c.oddHeader=="string"&&(o.leafNode("oddHeader",null,c.oddHeader),u=!0),c.oddFooter&&typeof c.oddFooter=="string"&&(o.leafNode("oddFooter",null,c.oddFooter),u=!0),c.evenHeader&&typeof c.evenHeader=="string"&&(o.leafNode("evenHeader",null,c.evenHeader),u=!0),c.evenFooter&&typeof c.evenFooter=="string"&&(o.leafNode("evenFooter",null,c.evenFooter),u=!0),c.firstHeader&&typeof c.firstHeader=="string"&&(o.leafNode("firstHeader",null,c.firstHeader),u=!0),c.firstFooter&&typeof c.firstFooter=="string"&&(o.leafNode("firstFooter",null,c.firstFooter),u=!0),u?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){switch(o.name){case"headerFooter":return this.model={},o.attributes.differentFirst&&(this.model.differentFirst=parseInt(o.attributes.differentFirst,0)===1),o.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(o.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(o){switch(this.currentNode){case"oddHeader":this.model.oddHeader=o;break;case"oddFooter":this.model.oddFooter=o;break;case"evenHeader":this.model.evenHeader=o;break;case"evenFooter":this.model.evenFooter=o;break;case"firstHeader":this.model.firstHeader=o;break;case"firstFooter":this.model.firstFooter=o}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{get tag(){return"hyperlink"}render(o,c){this.isInternalLink(c)?o.leafNode("hyperlink",{ref:c.address,"r:id":c.rId,tooltip:c.tooltip,location:c.target}):o.leafNode("hyperlink",{ref:c.address,"r:id":c.rId,tooltip:c.tooltip})}parseOpen(o){return o.name==="hyperlink"&&(this.model={address:o.attributes.ref,rId:o.attributes["r:id"],tooltip:o.attributes.tooltip},o.attributes.location&&(this.model.target=o.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(o){return o.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(o.target)}}},{"../base-xform":32}],99:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{get tag(){return"mergeCell"}render(o,c){o.leafNode("mergeCell",{ref:c})}parseOpen(o){return o.name==="mergeCell"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(e,s,i){const a=e("../../../utils/under-dash"),o=e("../../../doc/range"),c=e("../../../utils/col-cache"),u=e("../../../doc/enums");s.exports=class{constructor(){this.merges={}}add(l){if(this.merges[l.master])this.merges[l.master].expandToAddress(l.address);else{const d=`${l.master}:${l.address}`;this.merges[l.master]=new o(d)}}get mergeCells(){return a.map(this.merges,l=>l.range)}reconcile(l,d){a.each(l,f=>{const h=c.decode(f);for(let p=h.top;p<=h.bottom;p++){const g=d[p-1];for(let v=h.left;v<=h.right;v++){const m=g.cells[v-1];m?m.type===u.ValueType.Merge&&(m.master=h.tl):g.cells[v]={type:u.ValueType.Null,address:c.encodeAddress(p,v)}}}})}getMasterAddress(l){const d=this.hash[l];return d&&d.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,s,i){const a=e("../base-xform"),o=c=>c!==void 0;s.exports=class extends a{get tag(){return"outlinePr"}render(c,u){return!(!u||!o(u.summaryBelow)&&!o(u.summaryRight))&&(c.leafNode(this.tag,{summaryBelow:o(u.summaryBelow)?Number(u.summaryBelow):void 0,summaryRight:o(u.summaryRight)?Number(u.summaryRight):void 0}),!0)}parseOpen(c){return c.name===this.tag&&(this.model={summaryBelow:o(c.attributes.summaryBelow)?!!Number(c.attributes.summaryBelow):void 0,summaryRight:o(c.attributes.summaryRight)?!!Number(c.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{get tag(){return"brk"}render(o,c){o.leafNode("brk",c)}parseOpen(o){return o.name==="brk"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(e,s,i){const a=e("../../../utils/under-dash"),o=e("../base-xform");s.exports=class extends o{get tag(){return"pageMargins"}render(c,u){if(u){const l={left:u.left,right:u.right,top:u.top,bottom:u.bottom,header:u.header,footer:u.footer};a.some(l,d=>d!==void 0)&&c.leafNode(this.tag,l)}}parseOpen(c){switch(c.name){case this.tag:return this.model={left:parseFloat(c.attributes.left||.7),right:parseFloat(c.attributes.right||.7),top:parseFloat(c.attributes.top||.75),bottom:parseFloat(c.attributes.bottom||.75),header:parseFloat(c.attributes.header||.3),footer:parseFloat(c.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{get tag(){return"pageSetUpPr"}render(o,c){return!(!c||!c.fitToPage)&&(o.leafNode(this.tag,{fitToPage:c.fitToPage?"1":void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={fitToPage:o.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(e,s,i){const a=e("../../../utils/under-dash"),o=e("../base-xform");function c(f){return f?"1":void 0}function u(f){switch(f){case"overThenDown":return f;default:return}}function l(f){switch(f){case"atEnd":case"asDisplyed":return f;default:return}}function d(f){switch(f){case"dash":case"blank":case"NA":return f;default:return}}s.exports=class extends o{get tag(){return"pageSetup"}render(f,h){if(h){const p={paperSize:h.paperSize,orientation:h.orientation,horizontalDpi:h.horizontalDpi,verticalDpi:h.verticalDpi,pageOrder:u(h.pageOrder),blackAndWhite:c(h.blackAndWhite),draft:c(h.draft),cellComments:l(h.cellComments),errors:d(h.errors),scale:h.scale,fitToWidth:h.fitToWidth,fitToHeight:h.fitToHeight,firstPageNumber:h.firstPageNumber,useFirstPageNumber:c(h.firstPageNumber),usePrinterDefaults:c(h.usePrinterDefaults),copies:h.copies};a.some(p,g=>g!==void 0)&&f.leafNode(this.tag,p)}}parseOpen(f){switch(f.name){case this.tag:return this.model={paperSize:(h=f.attributes.paperSize,h!==void 0?parseInt(h,10):void 0),orientation:f.attributes.orientation||"portrait",horizontalDpi:parseInt(f.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(f.attributes.verticalDpi||"4294967295",10),pageOrder:f.attributes.pageOrder||"downThenOver",blackAndWhite:f.attributes.blackAndWhite==="1",draft:f.attributes.draft==="1",cellComments:f.attributes.cellComments||"None",errors:f.attributes.errors||"displayed",scale:parseInt(f.attributes.scale||"100",10),fitToWidth:parseInt(f.attributes.fitToWidth||"1",10),fitToHeight:parseInt(f.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(f.attributes.firstPageNumber||"1",10),useFirstPageNumber:f.attributes.useFirstPageNumber==="1",usePrinterDefaults:f.attributes.usePrinterDefaults==="1",copies:parseInt(f.attributes.copies||"1",10)},!0;default:return!1}var h}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{get tag(){return"picture"}render(o,c){c&&o.leafNode(this.tag,{"r:id":c.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(e,s,i){const a=e("../../../utils/under-dash"),o=e("../base-xform");function c(u){return u?"1":void 0}s.exports=class extends o{get tag(){return"printOptions"}render(u,l){if(l){const d={headings:c(l.showRowColHeaders),gridLines:c(l.showGridLines),horizontalCentered:c(l.horizontalCentered),verticalCentered:c(l.verticalCentered)};a.some(d,f=>f!==void 0)&&u.leafNode(this.tag,d)}}parseOpen(u){switch(u.name){case this.tag:return this.model={showRowColHeaders:u.attributes.headings==="1",showGridLines:u.attributes.gridLines==="1",horizontalCentered:u.attributes.horizontalCentered==="1",verticalCentered:u.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,s,i){const a=e("./page-breaks-xform"),o=e("../list-xform");s.exports=class extends o{constructor(){super({tag:"rowBreaks",count:!0,childXform:new a})}render(c,u){if(u&&u.length){c.openNode(this.tag,this.$),this.count&&(c.addAttribute(this.$count,u.length),c.addAttribute("manualBreakCount",u.length));const{childXform:l}=this;u.forEach(d=>{l.render(c,d)}),c.closeNode()}else this.empty&&c.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,s,i){const a=e("../base-xform"),o=e("../../../utils/utils"),c=e("./cell-xform");s.exports=class extends a{constructor(u){super(),this.maxItems=u&&u.maxItems,this.map={c:new c}}get tag(){return"row"}prepare(u,l){const d=l.styles.addStyleModel(u.style);d&&(u.styleId=d);const f=this.map.c;u.cells.forEach(h=>{f.prepare(h,l)})}render(u,l,d){u.openNode("row"),u.addAttribute("r",l.number),l.height&&(u.addAttribute("ht",l.height),u.addAttribute("customHeight","1")),l.hidden&&u.addAttribute("hidden","1"),l.min>0&&l.max>0&&l.min<=l.max&&u.addAttribute("spans",`${l.min}:${l.max}`),l.styleId&&(u.addAttribute("s",l.styleId),u.addAttribute("customFormat","1")),u.addAttribute("x14ac:dyDescent","0.25"),l.outlineLevel&&u.addAttribute("outlineLevel",l.outlineLevel),l.collapsed&&u.addAttribute("collapsed","1");const f=this.map.c;l.cells.forEach(h=>{f.render(u,h,d)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;if(u.name==="row"){this.numRowsSeen+=1;const l=u.attributes.spans?u.attributes.spans.split(":").map(f=>parseInt(f,10)):[void 0,void 0],d=this.model={number:parseInt(u.attributes.r,10),min:l[0],max:l[1],cells:[]};return u.attributes.s&&(d.styleId=parseInt(u.attributes.s,10)),o.parseBoolean(u.attributes.hidden)&&(d.hidden=!0),o.parseBoolean(u.attributes.bestFit)&&(d.bestFit=!0),u.attributes.ht&&(d.height=parseFloat(u.attributes.ht)),u.attributes.outlineLevel&&(d.outlineLevel=parseInt(u.attributes.outlineLevel,10)),o.parseBoolean(u.attributes.collapsed)&&(d.collapsed=!0),!0}return this.parser=this.map[u.name],!!this.parser&&(this.parser.parseOpen(u),!0)}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser){if(!this.parser.parseClose(u)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(u,l){u.style=u.styleId?l.styles.getStyleModel(u.styleId):{},u.styleId!==void 0&&(u.styleId=void 0);const d=this.map.c;u.cells.forEach(f=>{d.reconcile(f,l)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,s,i){const a=e("../../../utils/under-dash"),o=e("../base-xform");s.exports=class extends o{get tag(){return"sheetFormatPr"}render(c,u){if(u){const l={defaultRowHeight:u.defaultRowHeight,outlineLevelRow:u.outlineLevelRow,outlineLevelCol:u.outlineLevelCol,"x14ac:dyDescent":u.dyDescent};u.defaultColWidth&&(l.defaultColWidth=u.defaultColWidth),u.defaultRowHeight&&u.defaultRowHeight===15||(l.customHeight="1"),a.some(l,d=>d!==void 0)&&c.leafNode("sheetFormatPr",l)}}parseOpen(c){return c.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(c.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(c.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(c.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(c.attributes.outlineLevelCol||"0",10)},c.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(c.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,s,i){const a=e("../base-xform"),o=e("../style/color-xform"),c=e("./page-setup-properties-xform"),u=e("./outline-properties-xform");s.exports=class extends a{constructor(){super(),this.map={tabColor:new o("tabColor"),pageSetUpPr:new c,outlinePr:new u}}get tag(){return"sheetPr"}render(l,d){if(d){l.addRollback(),l.openNode("sheetPr");let f=!1;f=this.map.tabColor.render(l,d.tabColor)||f,f=this.map.pageSetUpPr.render(l,d.pageSetup)||f,f=this.map.outlinePr.render(l,d.outlineProperties)||f,f?(l.closeNode(),l.commit()):l.rollback()}}parseOpen(l){return this.parser?(this.parser.parseOpen(l),!0):l.name===this.tag?(this.reset(),!0):!!this.map[l.name]&&(this.parser=this.map[l.name],this.parser.parseOpen(l),!0)}parseText(l){return!!this.parser&&(this.parser.parseText(l),!0)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,s,i){const a=e("../../../utils/under-dash"),o=e("../base-xform");function c(l,d){return l?d:void 0}function u(l,d){return l===d||void 0}s.exports=class extends o{get tag(){return"sheetProtection"}render(l,d){if(d){const f={sheet:c(d.sheet,"1"),selectLockedCells:d.selectLockedCells===!1?"1":void 0,selectUnlockedCells:d.selectUnlockedCells===!1?"1":void 0,formatCells:c(d.formatCells,"0"),formatColumns:c(d.formatColumns,"0"),formatRows:c(d.formatRows,"0"),insertColumns:c(d.insertColumns,"0"),insertRows:c(d.insertRows,"0"),insertHyperlinks:c(d.insertHyperlinks,"0"),deleteColumns:c(d.deleteColumns,"0"),deleteRows:c(d.deleteRows,"0"),sort:c(d.sort,"0"),autoFilter:c(d.autoFilter,"0"),pivotTables:c(d.pivotTables,"0")};d.sheet&&(f.algorithmName=d.algorithmName,f.hashValue=d.hashValue,f.saltValue=d.saltValue,f.spinCount=d.spinCount,f.objects=c(d.objects===!1,"1"),f.scenarios=c(d.scenarios===!1,"1")),a.some(f,h=>h!==void 0)&&l.leafNode(this.tag,f)}}parseOpen(l){switch(l.name){case this.tag:return this.model={sheet:u(l.attributes.sheet,"1"),objects:l.attributes.objects!=="1"&&void 0,scenarios:l.attributes.scenarios!=="1"&&void 0,selectLockedCells:l.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:l.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:u(l.attributes.formatCells,"0"),formatColumns:u(l.attributes.formatColumns,"0"),formatRows:u(l.attributes.formatRows,"0"),insertColumns:u(l.attributes.insertColumns,"0"),insertRows:u(l.attributes.insertRows,"0"),insertHyperlinks:u(l.attributes.insertHyperlinks,"0"),deleteColumns:u(l.attributes.deleteColumns,"0"),deleteRows:u(l.attributes.deleteRows,"0"),sort:u(l.attributes.sort,"0"),autoFilter:u(l.attributes.autoFilter,"0"),pivotTables:u(l.attributes.pivotTables,"0")},l.attributes.algorithmName&&(this.model.algorithmName=l.attributes.algorithmName,this.model.hashValue=l.attributes.hashValue,this.model.saltValue=l.attributes.saltValue,this.model.spinCount=parseInt(l.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,s,i){const a=e("../../../utils/col-cache"),o=e("../base-xform"),c={frozen:"frozen",frozenSplit:"frozen",split:"split"};s.exports=class extends o{get tag(){return"sheetView"}prepare(u){switch(u.state){case"frozen":case"split":break;default:u.state="normal"}}render(u,l){u.openNode("sheetView",{workbookViewId:l.workbookViewId||0});const d=function(v,m,x){x&&u.addAttribute(v,m)};let f,h,p,g;switch(d("rightToLeft","1",l.rightToLeft===!0),d("tabSelected","1",l.tabSelected),d("showRuler","0",l.showRuler===!1),d("showRowColHeaders","0",l.showRowColHeaders===!1),d("showGridLines","0",l.showGridLines===!1),d("zoomScale",l.zoomScale,l.zoomScale),d("zoomScaleNormal",l.zoomScaleNormal,l.zoomScaleNormal),d("view",l.style,l.style),l.state){case"frozen":h=l.xSplit||0,p=l.ySplit||0,f=l.topLeftCell||a.getAddress(p+1,h+1).address,g=(l.xSplit&&l.ySplit?"bottomRight":l.xSplit&&"topRight")||"bottomLeft",u.leafNode("pane",{xSplit:l.xSplit||void 0,ySplit:l.ySplit||void 0,topLeftCell:f,activePane:g,state:"frozen"}),u.leafNode("selection",{pane:g,activeCell:l.activeCell,sqref:l.activeCell});break;case"split":l.activePane==="topLeft"&&(l.activePane=void 0),u.leafNode("pane",{xSplit:l.xSplit||void 0,ySplit:l.ySplit||void 0,topLeftCell:l.topLeftCell,activePane:l.activePane}),u.leafNode("selection",{pane:l.activePane,activeCell:l.activeCell,sqref:l.activeCell});break;case"normal":l.activeCell&&u.leafNode("selection",{activeCell:l.activeCell,sqref:l.activeCell})}u.closeNode()}parseOpen(u){switch(u.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(u.attributes.workbookViewId,10),rightToLeft:u.attributes.rightToLeft==="1",tabSelected:u.attributes.tabSelected==="1",showRuler:u.attributes.showRuler!=="0",showRowColHeaders:u.attributes.showRowColHeaders!=="0",showGridLines:u.attributes.showGridLines!=="0",zoomScale:parseInt(u.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(u.attributes.zoomScaleNormal||"100",10),style:u.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(u.attributes.xSplit||"0",10),ySplit:parseInt(u.attributes.ySplit||"0",10),topLeftCell:u.attributes.topLeftCell,activePane:u.attributes.activePane||"topLeft",state:u.attributes.state},!0;case"selection":{const l=u.attributes.pane||"topLeft";return this.selections[l]={pane:l,activeCell:u.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(u){let l,d;switch(u){case"sheetView":return this.sheetView&&this.pane?(l=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:c[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(l.activePane=this.pane.activePane),d=this.selections[this.pane.activePane],d&&d.activeCell&&(l.activeCell=d.activeCell),this.sheetView.style&&(l.style=this.sheetView.style)):(l=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},d=this.selections.topLeft,d&&d.activeCell&&(l.activeCell=d.activeCell),this.sheetView.style&&(l.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{get tag(){return"tablePart"}render(o,c){c&&o.leafNode(this.tag,{"r:id":c.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(e,s,i){const a=e("../../../utils/under-dash"),o=e("../../../utils/col-cache"),c=e("../../../utils/xml-stream"),u=e("../../rel-type"),l=e("./merges"),d=e("../base-xform"),f=e("../list-xform"),h=e("./row-xform"),p=e("./col-xform"),g=e("./dimension-xform"),v=e("./hyperlink-xform"),m=e("./merge-cell-xform"),x=e("./data-validations-xform"),y=e("./sheet-properties-xform"),w=e("./sheet-format-properties-xform"),E=e("./sheet-view-xform"),I=e("./sheet-protection-xform"),T=e("./page-margins-xform"),R=e("./page-setup-xform"),D=e("./print-options-xform"),L=e("./auto-filter-xform"),M=e("./picture-xform"),H=e("./drawing-xform"),V=e("./table-part-xform"),P=e("./row-breaks-xform"),F=e("./header-footer-xform"),A=e("./cf/conditional-formattings-xform"),_=e("./ext-lst-xform"),S=(C,W)=>{if(!W||!W.length)return C;if(!C||!C.length)return W;const j={},B={};return C.forEach(G=>{j[G.ref]=G,G.rules.forEach(X=>{const{x14Id:J}=X;J&&(B[J]=X)})}),W.forEach(G=>{G.rules.forEach(X=>{const J=B[X.x14Id];J?((O,ee)=>{Object.keys(ee).forEach(U=>{const z=O[U],Z=ee[U];z===void 0&&Z!==void 0&&(O[U]=Z)})})(J,X):j[G.ref]?j[G.ref].rules.push(X):C.push({ref:G.ref,rules:[X]})})}),C};class N extends d{constructor(W){super();const{maxRows:j,maxCols:B,ignoreNodes:G}=W||{};this.ignoreNodes=G||[],this.map={sheetPr:new y,dimension:new g,sheetViews:new f({tag:"sheetViews",count:!1,childXform:new E}),sheetFormatPr:new w,cols:new f({tag:"cols",count:!1,childXform:new p}),sheetData:new f({tag:"sheetData",count:!1,empty:!0,childXform:new h({maxItems:B}),maxItems:j}),autoFilter:new L,mergeCells:new f({tag:"mergeCells",count:!0,childXform:new m}),rowBreaks:new P,hyperlinks:new f({tag:"hyperlinks",count:!1,childXform:new v}),pageMargins:new T,dataValidations:new x,pageSetup:new R,headerFooter:new F,printOptions:new D,picture:new M,drawing:new H,sheetProtection:new I,tableParts:new f({tag:"tableParts",count:!0,childXform:new V}),conditionalFormatting:new A,extLst:new _}}prepare(W,j){j.merges=new l,W.hyperlinks=j.hyperlinks=[],W.comments=j.comments=[],j.formulae={},j.siFormulae=0,this.map.cols.prepare(W.cols,j),this.map.sheetData.prepare(W.rows,j),this.map.conditionalFormatting.prepare(W.conditionalFormattings,j),W.mergeCells=j.merges.mergeCells;const B=W.rels=[];function G(O){return"rId"+(O.length+1)}if(W.hyperlinks.forEach(O=>{const ee=G(B);O.rId=ee,B.push({Id:ee,Type:u.Hyperlink,Target:O.target,TargetMode:"External"})}),W.comments.length>0){const O={Id:G(B),Type:u.Comments,Target:`../comments${W.id}.xml`};B.push(O);const ee={Id:G(B),Type:u.VmlDrawing,Target:`../drawings/vmlDrawing${W.id}.vml`};B.push(ee),W.comments.forEach(U=>{U.refAddress=o.decodeAddress(U.ref)}),j.commentRefs.push({commentName:"comments"+W.id,vmlDrawing:"vmlDrawing"+W.id})}const X=[];let J;W.media.forEach(O=>{if(O.type==="background"){const ee=G(B);J=j.media[O.imageId],B.push({Id:ee,Type:u.Image,Target:`../media/${J.name}.${J.extension}`}),W.background={rId:ee},W.image=j.media[O.imageId]}else if(O.type==="image"){let{drawing:ee}=W;J=j.media[O.imageId],ee||(ee=W.drawing={rId:G(B),name:"drawing"+ ++j.drawingsCount,anchors:[],rels:[]},j.drawings.push(ee),B.push({Id:ee.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${ee.name}.xml`}));let U=this.preImageId===O.imageId?X[O.imageId]:X[ee.rels.length];U||(U=G(ee.rels),X[ee.rels.length]=U,ee.rels.push({Id:U,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${J.name}.${J.extension}`}));const z={picture:{rId:U},range:O.range};if(O.hyperlinks&&O.hyperlinks.hyperlink){const Z=G(ee.rels);X[ee.rels.length]=Z,z.picture.hyperlinks={tooltip:O.hyperlinks.tooltip,rId:Z},ee.rels.push({Id:Z,Type:u.Hyperlink,Target:O.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=O.imageId,ee.anchors.push(z)}}),W.tables.forEach(O=>{const ee=G(B);O.rId=ee,B.push({Id:ee,Type:u.Table,Target:"../tables/"+O.target}),O.columns.forEach(U=>{const{style:z}=U;z&&(U.dxfId=j.styles.addDxfStyle(z))})}),this.map.extLst.prepare(W,j)}render(W,j){W.openXml(c.StdDocAttributes),W.openNode("worksheet",N.WORKSHEET_ATTRIBUTES);const B=j.properties?{defaultRowHeight:j.properties.defaultRowHeight,dyDescent:j.properties.dyDescent,outlineLevelCol:j.properties.outlineLevelCol,outlineLevelRow:j.properties.outlineLevelRow}:void 0;j.properties&&j.properties.defaultColWidth&&(B.defaultColWidth=j.properties.defaultColWidth);const G={outlineProperties:j.properties&&j.properties.outlineProperties,tabColor:j.properties&&j.properties.tabColor,pageSetup:j.pageSetup&&j.pageSetup.fitToPage?{fitToPage:j.pageSetup.fitToPage}:void 0},X=j.pageSetup&&j.pageSetup.margins,J={showRowColHeaders:j.pageSetup&&j.pageSetup.showRowColHeaders,showGridLines:j.pageSetup&&j.pageSetup.showGridLines,horizontalCentered:j.pageSetup&&j.pageSetup.horizontalCentered,verticalCentered:j.pageSetup&&j.pageSetup.verticalCentered},O=j.sheetProtection;this.map.sheetPr.render(W,G),this.map.dimension.render(W,j.dimensions),this.map.sheetViews.render(W,j.views),this.map.sheetFormatPr.render(W,B),this.map.cols.render(W,j.cols),this.map.sheetData.render(W,j.rows),this.map.sheetProtection.render(W,O),this.map.autoFilter.render(W,j.autoFilter),this.map.mergeCells.render(W,j.mergeCells),this.map.conditionalFormatting.render(W,j.conditionalFormattings),this.map.dataValidations.render(W,j.dataValidations),this.map.hyperlinks.render(W,j.hyperlinks),this.map.printOptions.render(W,J),this.map.pageMargins.render(W,X),this.map.pageSetup.render(W,j.pageSetup),this.map.headerFooter.render(W,j.headerFooter),this.map.rowBreaks.render(W,j.rowBreaks),this.map.drawing.render(W,j.drawing),this.map.picture.render(W,j.background),this.map.tableParts.render(W,j.tables),this.map.extLst.render(W,j),j.rels&&j.rels.forEach(ee=>{ee.Type===u.VmlDrawing&&W.leafNode("legacyDrawing",{"r:id":ee.Id})}),W.closeNode()}parseOpen(W){return this.parser?(this.parser.parseOpen(W),!0):W.name==="worksheet"?(a.each(this.map,j=>{j.reset()}),!0):(this.map[W.name]&&!this.ignoreNodes.includes(W.name)&&(this.parser=this.map[W.name],this.parser.parseOpen(W)),!0)}parseText(W){this.parser&&this.parser.parseText(W)}parseClose(W){if(this.parser)return this.parser.parseClose(W)||(this.parser=void 0),!0;switch(W){case"worksheet":{const j=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(j.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(j.outlineProperties=this.map.sheetPr.model.outlineProperties);const B={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},G=Object.assign(B,this.map.pageSetup.model,this.map.printOptions.model),X=S(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:j,views:this.map.sheetViews.model,pageSetup:G,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:X},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(W,j){const B=(W.relationships||[]).reduce((X,J)=>{if(X[J.Id]=J,J.Type===u.Comments&&(W.comments=j.comments[J.Target].comments),J.Type===u.VmlDrawing&&W.comments&&W.comments.length){const O=j.vmlDrawings[J.Target].comments;W.comments.forEach((ee,U)=>{ee.note=Object.assign({},ee.note,O[U])})}return X},{});if(j.commentsMap=(W.comments||[]).reduce((X,J)=>(J.ref&&(X[J.ref]=J),X),{}),j.hyperlinkMap=(W.hyperlinks||[]).reduce((X,J)=>(J.rId&&(X[J.address]=B[J.rId].Target),X),{}),j.formulae={},W.rows=W.rows&&W.rows.filter(Boolean)||[],W.rows.forEach(X=>{X.cells=X.cells&&X.cells.filter(Boolean)||[]}),this.map.cols.reconcile(W.cols,j),this.map.sheetData.reconcile(W.rows,j),this.map.conditionalFormatting.reconcile(W.conditionalFormattings,j),W.media=[],W.drawing){const X=B[W.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(X){const J=X[1];j.drawings[J].anchors.forEach(O=>{if(O.medium){const ee={type:"image",imageId:O.medium.index,range:O.range,hyperlinks:O.picture.hyperlinks};W.media.push(ee)}})}}const G=W.background&&B[W.background.rId];if(G){const X=G.Target.split("/media/")[1],J=j.mediaIndex&&j.mediaIndex[X];J!==void 0&&W.media.push({type:"background",imageId:J})}W.tables=(W.tables||[]).map(X=>{const J=B[X.rId];return j.tables[J.Target]}),delete W.relationships,delete W.hyperlinks,delete W.comments}}N.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},s.exports=N},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{constructor(o){super(),this.tag=o.tag,this.attr=o.attr}render(o,c){c&&(o.openNode(this.tag),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this._format=o.format||function(c){try{return Number.isNaN(c.getTime())?"":c.toISOString()}catch{return""}},this._parse=o.parse||function(c){return new Date(c)}}render(o,c){c&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,this._format(c)):o.writeText(this._format(c)),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=this._parse(o.attributes[this.attr]):this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this.zero=o.zero}render(o,c){(c||this.zero)&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,c):o.writeText(c),o.closeNode())}parseOpen(o){return o.name===this.tag&&(this.attr?this.model=parseInt(o.attributes[this.attr],10):this.text=[],!0)}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs}render(o,c){c!==void 0&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,c):o.writeText(c),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=o.attributes[this.attr]:this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(e,s,i){const a=e("./base-xform"),o=e("../../utils/xml-stream");s.exports=class extends a{constructor(c){super(),this._model=c}render(c){if(!this._xml){const u=new o;(function l(d,f){d.openNode(f.tag,f.$),f.c&&f.c.forEach(h=>{l(d,h)}),f.t&&d.writeText(f.t),d.closeNode()})(u,this._model),this._xml=u.xml}c.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(c){switch(c){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,s,i){const a=e("./text-xform"),o=e("./rich-text-xform"),c=e("../base-xform");s.exports=class extends c{constructor(){super(),this.map={r:new o,t:new a}}get tag(){return"rPh"}render(u,l){if(u.openNode(this.tag,{sb:l.sb||0,eb:l.eb||0}),l&&l.hasOwnProperty("richText")&&l.richText){const{r:d}=this.map;l.richText.forEach(f=>{d.render(u,f)})}else l&&this.map.t.render(u,l.text);u.closeNode()}parseOpen(u){const{name:l}=u;return this.parser?(this.parser.parseOpen(u),!0):l===this.tag?(this.model={sb:parseInt(u.attributes.sb,10),eb:parseInt(u.attributes.eb,10)},!0):(this.parser=this.map[l],!!this.parser&&(this.parser.parseOpen(u),!0))}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser){if(!this.parser.parseClose(u)){switch(u){case"r":{let l=this.model.richText;l||(l=this.model.richText=[]),l.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,s,i){const a=e("./text-xform"),o=e("../style/font-xform"),c=e("../base-xform");class u extends c{constructor(d){super(),this.model=d}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new a)}get fontXform(){return this._fontXform||(this._fontXform=new o(u.FONT_OPTIONS))}render(d,f){f=f||this.model,d.openNode("r"),f.font&&this.fontXform.render(d,f.font),this.textXform.render(d,f.text),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(d),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){switch(d){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(d),!0}}}u.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},s.exports=u},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,s,i){const a=e("./text-xform"),o=e("./rich-text-xform"),c=e("./phonetic-text-xform"),u=e("../base-xform");s.exports=class extends u{constructor(l){super(),this.model=l,this.map={r:new o,t:new a,rPh:new c}}get tag(){return"si"}render(l,d){l.openNode(this.tag),d&&d.hasOwnProperty("richText")&&d.richText?d.richText.length?d.richText.forEach(f=>{this.map.r.render(l,f)}):this.map.t.render(l,""):d!=null&&this.map.t.render(l,d),l.closeNode()}parseOpen(l){const{name:d}=l;return this.parser?(this.parser.parseOpen(l),!0):d===this.tag?(this.model={},!0):(this.parser=this.map[d],!!this.parser&&(this.parser.parseOpen(l),!0))}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){switch(l){case"r":{let d=this.model.richText;d||(d=this.model.richText=[]),d.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,s,i){const a=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("./shared-string-xform");s.exports=class extends o{constructor(u){super(),this.model=u||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new c)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(u){return this.model.values[u]}add(u){return u.richText?this.addRichText(u):this.addText(u)}addText(u){let l=this.hash[u];return l===void 0&&(l=this.hash[u]=this.model.values.length,this.model.values.push(u)),this.model.count++,l}addRichText(u){const l=this.sharedStringXform.toXml(u);let d=this.rich[l];return d===void 0&&(d=this.rich[l]=this.model.values.length,this.model.values.push(u)),this.model.count++,d}render(u,l){l=l||this._values,u.openXml(a.StdDocAttributes),u.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:l.count,uniqueCount:l.values.length});const d=this.sharedStringXform;l.values.forEach(f=>{d.render(u,f)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(u),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(u){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{get tag(){return"t"}render(o,c){o.openNode("t"),/^\s|\n|\s$/.test(c)&&o.addAttribute("xml:space","preserve"),o.writeText(c),o.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(o,c)=>String.fromCharCode(parseInt(c,16)))}parseOpen(o){switch(o.name){case"t":return this._text=[],!0;default:return!1}}parseText(o){this._text.push(o)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(e,s,i){const a=e("../../../doc/enums"),o=e("../../../utils/utils"),c=e("../base-xform"),u={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((d,f)=>(d[f]=!0,d),{}),horizontal(d){return this.horizontalValues[d]?d:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((d,f)=>(d[f]=!0,d),{}),vertical(d){return d==="middle"?"center":this.verticalValues[d]?d:void 0},wrapText:d=>!!d||void 0,shrinkToFit:d=>!!d||void 0,textRotation(d){switch(d){case"vertical":return d;default:return(d=o.validInt(d))>=-90&&d<=90?d:void 0}},indent:d=>(d=o.validInt(d),Math.max(0,d)),readingOrder(d){switch(d){case"ltr":return a.ReadingOrder.LeftToRight;case"rtl":return a.ReadingOrder.RightToLeft;default:return}}},l={toXml(d){if(d=u.textRotation(d)){if(d==="vertical")return 255;const f=Math.round(d);if(f>=0&&f<=90)return f;if(f<0&&f>=-90)return 90-f}},toModel(d){const f=o.validInt(d);if(f!==void 0){if(f===255)return"vertical";if(f>=0&&f<=90)return f;if(f>90&&f<=180)return 90-f}}};s.exports=class extends c{get tag(){return"alignment"}render(d,f){d.addRollback(),d.openNode("alignment");let h=!1;function p(g,v){v&&(d.addAttribute(g,v),h=!0)}p("horizontal",u.horizontal(f.horizontal)),p("vertical",u.vertical(f.vertical)),p("wrapText",!!u.wrapText(f.wrapText)&&"1"),p("shrinkToFit",!!u.shrinkToFit(f.shrinkToFit)&&"1"),p("indent",u.indent(f.indent)),p("textRotation",l.toXml(f.textRotation)),p("readingOrder",u.readingOrder(f.readingOrder)),d.closeNode(),h?d.commit():d.rollback()}parseOpen(d){const f={};let h=!1;function p(g,v,m){g&&(f[v]=m,h=!0)}p(d.attributes.horizontal,"horizontal",d.attributes.horizontal),p(d.attributes.vertical,"vertical",d.attributes.vertical==="center"?"middle":d.attributes.vertical),p(d.attributes.wrapText,"wrapText",o.parseBoolean(d.attributes.wrapText)),p(d.attributes.shrinkToFit,"shrinkToFit",o.parseBoolean(d.attributes.shrinkToFit)),p(d.attributes.indent,"indent",parseInt(d.attributes.indent,10)),p(d.attributes.textRotation,"textRotation",l.toModel(d.attributes.textRotation)),p(d.attributes.readingOrder,"readingOrder",d.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=h?f:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,s,i){const a=e("../base-xform"),o=e("../../../utils/utils"),c=e("./color-xform");class u extends a{constructor(d){super(),this.name=d,this.map={color:new c}}get tag(){return this.name}render(d,f,h){const p=f&&f.color||h||this.defaultColor;d.openNode(this.name),f&&f.style&&(d.addAttribute("style",f.style),p&&this.map.color.render(d,p)),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.name:{const{style:f}=d.attributes;return this.model=f?{style:f}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):(d===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(d){return u.validStyleValues[d]}}u.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((l,d)=>(l[d]=!0,l),{}),s.exports=class extends a{constructor(){super(),this.map={top:new u("top"),left:new u("left"),bottom:new u("bottom"),right:new u("right"),diagonal:new u("diagonal")}}render(l,d){const{color:f}=d;function h(p,g){p&&!p.color&&d.color&&(p={...p,color:d.color}),g.render(l,p,f)}l.openNode("border"),d.diagonal&&d.diagonal.style&&(d.diagonal.up&&l.addAttribute("diagonalUp","1"),d.diagonal.down&&l.addAttribute("diagonalDown","1")),h(d.left,this.map.left),h(d.right,this.map.right),h(d.top,this.map.top),h(d.bottom,this.map.bottom),h(d.diagonal,this.map.diagonal),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"border":return this.reset(),this.diagonalUp=o.parseBoolean(l.attributes.diagonalUp),this.diagonalDown=o.parseBoolean(l.attributes.diagonalDown),!0;default:return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;if(l==="border"){const d=this.model={},f=function(h,p,g){p&&(g&&Object.assign(p,g),d[h]=p)};f("left",this.map.left.model),f("right",this.map.right.model),f("top",this.map.top.model),f("bottom",this.map.bottom.model),f("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{constructor(o){super(),this.name=o||"color"}get tag(){return this.name}render(o,c){return!!c&&(o.openNode(this.name),c.argb?o.addAttribute("rgb",c.argb):c.theme!==void 0?(o.addAttribute("theme",c.theme),c.tint!==void 0&&o.addAttribute("tint",c.tint)):c.indexed!==void 0?o.addAttribute("indexed",c.indexed):o.addAttribute("auto","1"),o.closeNode(),!0)}parseOpen(o){return o.name===this.name&&(o.attributes.rgb?this.model={argb:o.attributes.rgb}:o.attributes.theme?(this.model={theme:parseInt(o.attributes.theme,10)},o.attributes.tint&&(this.model.tint=parseFloat(o.attributes.tint))):o.attributes.indexed?this.model={indexed:parseInt(o.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(e,s,i){const a=e("../base-xform"),o=e("./alignment-xform"),c=e("./border-xform"),u=e("./fill-xform"),l=e("./font-xform"),d=e("./numfmt-xform"),f=e("./protection-xform");s.exports=class extends a{constructor(){super(),this.map={alignment:new o,border:new c,fill:new u,font:new l,numFmt:new d,protection:new f}}get tag(){return"dxf"}render(h,p){if(h.openNode(this.tag),p.font&&this.map.font.render(h,p.font),p.numFmt&&p.numFmtId){const g={id:p.numFmtId,formatCode:p.numFmt};this.map.numFmt.render(h,g)}p.fill&&this.map.fill.render(h,p.fill),p.alignment&&this.map.alignment.render(h,p.alignment),p.border&&this.map.border.render(h,p.border),p.protection&&this.map.protection.render(h,p.protection),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h),!0}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return this.parser?(this.parser.parseClose(h)||(this.parser=void 0),!0):h!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,s,i){const a=e("../base-xform"),o=e("./color-xform");class c extends a{constructor(){super(),this.map={color:new o}}get tag(){return"stop"}render(h,p){h.openNode("stop"),h.addAttribute("position",p.position),this.map.color.render(h,p.color),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"stop":return this.model={position:parseFloat(h.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(h),!0;default:return!1}}parseText(){}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class u extends a{constructor(){super(),this.map={fgColor:new o("fgColor"),bgColor:new o("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(h,p){h.openNode("patternFill"),h.addAttribute("patternType",p.pattern),p.fgColor&&this.map.fgColor.render(h,p.fgColor),p.bgColor&&this.map.bgColor.render(h,p.bgColor),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"patternFill":return this.model={type:"pattern",pattern:h.attributes.patternType},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.parser.model&&(this.model[h]=this.parser.model),this.parser=void 0),!0)}}class l extends a{constructor(){super(),this.map={stop:new c}}get name(){return"gradient"}get tag(){return"gradientFill"}render(h,p){switch(h.openNode("gradientFill"),p.gradient){case"angle":h.addAttribute("degree",p.degree);break;case"path":h.addAttribute("type","path"),p.center.left&&(h.addAttribute("left",p.center.left),p.center.right===void 0&&h.addAttribute("right",p.center.left)),p.center.right&&h.addAttribute("right",p.center.right),p.center.top&&(h.addAttribute("top",p.center.top),p.center.bottom===void 0&&h.addAttribute("bottom",p.center.top)),p.center.bottom&&h.addAttribute("bottom",p.center.bottom)}const g=this.map.stop;p.stops.forEach(v=>{g.render(h,v)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"gradientFill":{const p=this.model={stops:[]};return h.attributes.degree?(p.gradient="angle",p.degree=parseInt(h.attributes.degree,10)):h.attributes.type==="path"&&(p.gradient="path",p.center={left:h.attributes.left?parseFloat(h.attributes.left):0,top:h.attributes.top?parseFloat(h.attributes.top):0},h.attributes.right!==h.attributes.left&&(p.center.right=h.attributes.right?parseFloat(h.attributes.right):0),h.attributes.bottom!==h.attributes.top&&(p.center.bottom=h.attributes.bottom?parseFloat(h.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class d extends a{constructor(){super(),this.map={patternFill:new u,gradientFill:new l}}get tag(){return"fill"}render(h,p){switch(h.addRollback(),h.openNode("fill"),p.type){case"pattern":this.map.patternFill.render(h,p);break;case"gradient":this.map.gradientFill.render(h,p);break;default:return void h.rollback()}h.closeNode(),h.commit()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"fill":return this.model={},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(h){return d.validPatternValues[h]}}d.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((f,h)=>(f[h]=!0,f),{}),d.StopXform=c,d.PatternFillXform=u,d.GradientFillXform=l,s.exports=d},{"../base-xform":32,"./color-xform":128}],131:[function(e,s,i){const a=e("./color-xform"),o=e("../simple/boolean-xform"),c=e("../simple/integer-xform"),u=e("../simple/string-xform"),l=e("./underline-xform"),d=e("../../../utils/under-dash"),f=e("../base-xform");class h extends f{constructor(g){super(),this.options=g||h.OPTIONS,this.map={b:{prop:"bold",xform:new o({tag:"b",attr:"val"})},i:{prop:"italic",xform:new o({tag:"i",attr:"val"})},u:{prop:"underline",xform:new l},charset:{prop:"charset",xform:new c({tag:"charset",attr:"val"})},color:{prop:"color",xform:new a},condense:{prop:"condense",xform:new o({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new o({tag:"extend",attr:"val"})},family:{prop:"family",xform:new c({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new o({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new u({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new u({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new o({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new o({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new c({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new u({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(g,v){const{map:m}=this;g.openNode(this.options.tagName),d.each(this.map,(x,y)=>{m[y].xform.render(g,v[x.prop])}),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;if(this.map[g.name])return this.parser=this.map[g.name].xform,this.parser.parseOpen(g);switch(g.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser&&!this.parser.parseClose(g)){const v=this.map[g];return this.parser.model&&(this.model[v.prop]=this.parser.model),this.parser=void 0,!0}switch(g){case this.options.tagName:return!1;default:return!0}}}h.OPTIONS={tagName:"font",fontNameTag:"name"},s.exports=h},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,s,i){const a=e("../../../utils/under-dash"),o=e("../../defaultnumformats"),c=e("../base-xform"),u=function(){const d={};return a.each(o,(f,h)=>{f.f&&(d[f.f]=parseInt(h,10))}),d}();class l extends c{constructor(f,h){super(),this.id=f,this.formatCode=h}get tag(){return"numFmt"}render(f,h){f.leafNode("numFmt",{numFmtId:h.id,formatCode:h.formatCode})}parseOpen(f){switch(f.name){case"numFmt":return this.model={id:parseInt(f.attributes.numFmtId,10),formatCode:f.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}l.getDefaultFmtId=function(d){return u[d]},l.getDefaultFmtCode=function(d){return o[d]&&o[d].f},s.exports=l},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,s,i){const a=e("../base-xform"),o={boolean:(c,u)=>c===void 0?u:c};s.exports=class extends a{get tag(){return"protection"}render(c,u){c.addRollback(),c.openNode("protection");let l=!1;function d(f,h){h!==void 0&&(c.addAttribute(f,h),l=!0)}d("locked",o.boolean(u.locked,!0)?void 0:"0"),d("hidden",o.boolean(u.hidden,!1)?"1":void 0),c.closeNode(),l?c.commit():c.rollback()}parseOpen(c){const u={locked:c.attributes.locked!=="0",hidden:c.attributes.hidden==="1"},l=!u.locked||u.hidden;this.model=l?u:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(e,s,i){const a=e("../base-xform"),o=e("./alignment-xform"),c=e("./protection-xform");s.exports=class extends a{constructor(u){super(),this.xfId=!(!u||!u.xfId),this.map={alignment:new o,protection:new c}}get tag(){return"xf"}render(u,l){u.openNode("xf",{numFmtId:l.numFmtId||0,fontId:l.fontId||0,fillId:l.fillId||0,borderId:l.borderId||0}),this.xfId&&u.addAttribute("xfId",l.xfId||0),l.numFmtId&&u.addAttribute("applyNumberFormat","1"),l.fontId&&u.addAttribute("applyFont","1"),l.fillId&&u.addAttribute("applyFill","1"),l.borderId&&u.addAttribute("applyBorder","1"),l.alignment&&u.addAttribute("applyAlignment","1"),l.protection&&u.addAttribute("applyProtection","1"),l.alignment&&this.map.alignment.render(u,l.alignment),l.protection&&this.map.protection.render(u,l.protection),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"xf":return this.model={numFmtId:parseInt(u.attributes.numFmtId,10),fontId:parseInt(u.attributes.fontId,10),fillId:parseInt(u.attributes.fillId,10),borderId:parseInt(u.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(u.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(u),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):u!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,s,i){const a=e("../../../doc/enums"),o=e("../../../utils/xml-stream"),c=e("../base-xform"),u=e("../static-xform"),l=e("../list-xform"),d=e("./font-xform"),f=e("./fill-xform"),h=e("./border-xform"),p=e("./numfmt-xform"),g=e("./style-xform"),v=e("./dxf-xform");class m extends c{constructor(y){super(),this.map={numFmts:new l({tag:"numFmts",count:!0,childXform:new p}),fonts:new l({tag:"fonts",count:!0,childXform:new d,$:{"x14ac:knownFonts":1}}),fills:new l({tag:"fills",count:!0,childXform:new f}),borders:new l({tag:"borders",count:!0,childXform:new h}),cellStyleXfs:new l({tag:"cellStyleXfs",count:!0,childXform:new g}),cellXfs:new l({tag:"cellXfs",count:!0,childXform:new g({xfId:!0})}),dxfs:new l({tag:"dxfs",always:!0,count:!0,childXform:new v}),numFmt:new p,font:new d,fill:new f,border:new h,style:new g({xfId:!0}),cellStyles:m.STATIC_XFORMS.cellStyles,tableStyles:m.STATIC_XFORMS.tableStyles,extLst:m.STATIC_XFORMS.extLst},y&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(y,w){w=w||this.model,y.openXml(o.StdDocAttributes),y.openNode("styleSheet",m.STYLESHEET_ATTRIBUTES),this.index?(w.numFmts&&w.numFmts.length&&(y.openNode("numFmts",{count:w.numFmts.length}),w.numFmts.forEach(E=>{y.writeXml(E)}),y.closeNode()),w.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),y.openNode("fonts",{count:w.fonts.length,"x14ac:knownFonts":1}),w.fonts.forEach(E=>{y.writeXml(E)}),y.closeNode(),y.openNode("fills",{count:w.fills.length}),w.fills.forEach(E=>{y.writeXml(E)}),y.closeNode(),y.openNode("borders",{count:w.borders.length}),w.borders.forEach(E=>{y.writeXml(E)}),y.closeNode(),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),y.openNode("cellXfs",{count:w.styles.length}),w.styles.forEach(E=>{y.writeXml(E)}),y.closeNode()):(this.map.numFmts.render(y,w.numFmts),this.map.fonts.render(y,w.fonts),this.map.fills.render(y,w.fills),this.map.borders.render(y,w.borders),this.map.cellStyleXfs.render(y,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(y,w.styles)),m.STATIC_XFORMS.cellStyles.render(y),this.map.dxfs.render(y,w.dxfs),m.STATIC_XFORMS.tableStyles.render(y),m.STATIC_XFORMS.extLst.render(y),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;switch(y.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y),!0}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser)return this.parser.parseClose(y)||(this.parser=void 0),!0;switch(y){case"styleSheet":{this.model={};const w=(E,I)=>{I.model&&I.model.length&&(this.model[E]=I.model)};if(w("numFmts",this.map.numFmts),w("fonts",this.map.fonts),w("fills",this.map.fills),w("borders",this.map.borders),w("styles",this.map.cellXfs),w("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const E=this.index.numFmt;this.model.numFmts.forEach(I=>{E[I.id]=I.formatCode})}return!1}default:return!0}}addStyleModel(y,w){if(!y)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(y))return this.weakMap.get(y);const E={};if(w=w||a.ValueType.Number,y.numFmt)E.numFmtId=this._addNumFmtStr(y.numFmt);else switch(w){case a.ValueType.Number:E.numFmtId=this._addNumFmtStr("General");break;case a.ValueType.Date:E.numFmtId=this._addNumFmtStr("mm-dd-yy")}y.font&&(E.fontId=this._addFont(y.font)),y.border&&(E.borderId=this._addBorder(y.border)),y.fill&&(E.fillId=this._addFill(y.fill)),y.alignment&&(E.alignment=y.alignment),y.protection&&(E.protection=y.protection);const I=this._addStyle(E);return this.weakMap&&this.weakMap.set(y,I),I}getStyleModel(y){const w=this.model.styles[y];if(!w)return null;let E=this.index.model[y];if(E)return E;if(E=this.index.model[y]={},w.numFmtId){const T=this.index.numFmt[w.numFmtId]||p.getDefaultFmtCode(w.numFmtId);T&&(E.numFmt=T)}function I(T,R,D){if(D||D===0){const L=R[D];L&&(E[T]=L)}}return I("font",this.model.fonts,w.fontId),I("border",this.model.borders,w.borderId),I("fill",this.model.fills,w.fillId),w.alignment&&(E.alignment=w.alignment),w.protection&&(E.protection=w.protection),E}addDxfStyle(y){return y.numFmt&&(y.numFmtId=this._addNumFmtStr(y.numFmt)),this.model.dxfs.push(y),this.model.dxfs.length-1}getDxfStyle(y){return this.model.dxfs[y]}_addStyle(y){const w=this.map.style.toXml(y);let E=this.index.style[w];return E===void 0&&(E=this.index.style[w]=this.model.styles.length,this.model.styles.push(w)),E}_addNumFmtStr(y){let w=p.getDefaultFmtId(y);if(w!==void 0||(w=this.index.numFmt[y],w!==void 0))return w;w=this.index.numFmt[y]=164+this.model.numFmts.length;const E=this.map.numFmt.toXml({id:w,formatCode:y});return this.model.numFmts.push(E),w}_addFont(y){const w=this.map.font.toXml(y);let E=this.index.font[w];return E===void 0&&(E=this.index.font[w]=this.model.fonts.length,this.model.fonts.push(w)),E}_addBorder(y){const w=this.map.border.toXml(y);let E=this.index.border[w];return E===void 0&&(E=this.index.border[w]=this.model.borders.length,this.model.borders.push(w)),E}_addFill(y){const w=this.map.fill.toXml(y);let E=this.index.fill[w];return E===void 0&&(E=this.index.fill[w]=this.model.fills.length,this.model.fills.push(w)),E}}m.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},m.STATIC_XFORMS={cellStyles:new u({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new u({tag:"dxfs",$:{count:0}}),tableStyles:new u({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new u({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},m.Mock=class extends m{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(x){return x.autodrain(),Promise.resolve()}addStyleModel(x,y){switch(y){case a.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const x={numFmtId:p.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(x)}return this._dateStyleId}getStyleModel(){return{}}},s.exports=m},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,s,i){const a=e("../base-xform");class o extends a{constructor(u){super(),this.model=u}get tag(){return"u"}render(u,l){if((l=l||this.model)===!0)u.leafNode("u");else{const d=o.Attributes[l];d&&u.leafNode("u",d)}}parseOpen(u){u.name==="u"&&(this.model=u.attributes.val||!0)}parseText(){}parseClose(){return!1}}o.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},s.exports=o},{"../base-xform":32}],137:[function(e,s,i){const a=e("../base-xform"),o=e("./filter-column-xform");s.exports=class extends a{constructor(){super(),this.map={filterColumn:new o}}get tag(){return"autoFilter"}prepare(c){c.columns.forEach((u,l)=>{this.map.filterColumn.prepare(u,{index:l})})}render(c,u){return c.openNode(this.tag,{ref:u.autoFilterRef}),u.columns.forEach(l=>{this.map.filterColumn.render(c,l)}),c.closeNode(),!0}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:return this.model={autoFilterRef:c.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[c.name],this.parser)return this.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{get tag(){return"customFilter"}render(o,c){o.leafNode(this.tag,{val:c.val,operator:c.operator})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val,operator:o.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(e,s,i){const a=e("../base-xform"),o=e("../list-xform"),c=e("./custom-filter-xform"),u=e("./filter-xform");s.exports=class extends a{constructor(){super(),this.map={customFilters:new o({tag:"customFilters",count:!1,empty:!0,childXform:new c}),filters:new o({tag:"filters",count:!1,empty:!0,childXform:new u})}}get tag(){return"filterColumn"}prepare(l,d){l.colId=d.index.toString()}render(l,d){return d.customFilters?(l.openNode(this.tag,{colId:d.colId,hiddenButton:d.filterButton?"0":"1"}),this.map.customFilters.render(l,d.customFilters),l.closeNode(),!0):(l.leafNode(this.tag,{colId:d.colId,hiddenButton:d.filterButton?"0":"1"}),!0)}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;const{attributes:d}=l;switch(l.name){case this.tag:return this.model={filterButton:d.hiddenButton==="0"},!0;default:if(this.parser=this.map[l.name],this.parser)return this.parseOpen(l),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{get tag(){return"filter"}render(o,c){o.leafNode(this.tag,{val:c.val})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{get tag(){return"tableColumn"}prepare(o,c){o.id=c.index+1}render(o,c){return o.leafNode(this.tag,{id:c.id.toString(),name:c.name,totalsRowLabel:c.totalsRowLabel,totalsRowFunction:c.totalsRowFunction,dxfId:c.dxfId}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:c}=o;return this.model={name:c.name,totalsRowLabel:c.totalsRowLabel,totalsRowFunction:c.totalsRowFunction,dxfId:c.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(e,s,i){const a=e("../base-xform");s.exports=class extends a{get tag(){return"tableStyleInfo"}render(o,c){return o.leafNode(this.tag,{name:c.theme?c.theme:void 0,showFirstColumn:c.showFirstColumn?"1":"0",showLastColumn:c.showLastColumn?"1":"0",showRowStripes:c.showRowStripes?"1":"0",showColumnStripes:c.showColumnStripes?"1":"0"}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:c}=o;return this.model={theme:c.name?c.name:null,showFirstColumn:c.showFirstColumn==="1",showLastColumn:c.showLastColumn==="1",showRowStripes:c.showRowStripes==="1",showColumnStripes:c.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(e,s,i){const a=e("../../../utils/xml-stream"),o=e("../base-xform"),c=e("../list-xform"),u=e("./auto-filter-xform"),l=e("./table-column-xform"),d=e("./table-style-info-xform");class f extends o{constructor(){super(),this.map={autoFilter:new u,tableColumns:new c({tag:"tableColumns",count:!0,empty:!0,childXform:new l}),tableStyleInfo:new d}}prepare(p,g){this.map.autoFilter.prepare(p),this.map.tableColumns.prepare(p.columns,g)}get tag(){return"table"}render(p,g){p.openXml(a.StdDocAttributes),p.openNode(this.tag,{...f.TABLE_ATTRIBUTES,id:g.id,name:g.name,displayName:g.displayName||g.name,ref:g.tableRef,totalsRowCount:g.totalsRow?"1":void 0,totalsRowShown:g.totalsRow?void 0:"1",headerRowCount:g.headerRow?"1":"0"}),this.map.autoFilter.render(p,g),this.map.tableColumns.render(p,g.columns),this.map.tableStyleInfo.render(p,g.style),p.closeNode()}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;const{name:g,attributes:v}=p;switch(g){case this.tag:this.reset(),this.model={name:v.name,displayName:v.displayName||v.name,tableRef:v.ref,totalsRow:v.totalsRowCount==="1",headerRow:v.headerRowCount==="1"};break;default:this.parser=this.map[p.name],this.parser&&this.parser.parseOpen(p)}return!0}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){if(this.parser)return this.parser.parseClose(p)||(this.parser=void 0),!0;switch(p){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((g,v)=>{this.model.columns[v].filterButton=g.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(p,g){p.columns.forEach(v=>{v.dxfId!==void 0&&(v.style=g.styles.getDxfStyle(v.dxfId))})}}f.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},s.exports=f},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,s,i){(function(a,o){(function(){const c=e("fs"),u=e("jszip"),{PassThrough:l}=e("readable-stream"),d=e("../utils/zip-stream"),f=e("../utils/stream-buf"),h=e("../utils/utils"),p=e("../utils/xml-stream"),{bufferToString:g}=e("../utils/browser-buffer-decode"),v=e("./xform/style/styles-xform"),m=e("./xform/core/core-xform"),x=e("./xform/strings/shared-strings-xform"),y=e("./xform/core/relationships-xform"),w=e("./xform/core/content-types-xform"),E=e("./xform/core/app-xform"),I=e("./xform/book/workbook-xform"),T=e("./xform/sheet/worksheet-xform"),R=e("./xform/drawing/drawing-xform"),D=e("./xform/table/table-xform"),L=e("./xform/comment/comments-xform"),M=e("./xform/comment/vml-notes-xform"),H=e("./xml/theme1");class V{constructor(F){this.workbook=F}async readFile(F,A){if(!await h.fs.exists(F))throw new Error("File not found: "+F);const _=c.createReadStream(F);try{const S=await this.read(_,A);return _.close(),S}catch(S){throw _.close(),S}}parseRels(F){return new y().parseStream(F)}parseWorkbook(F){return new I().parseStream(F)}parseSharedStrings(F){return new x().parseStream(F)}reconcile(F,A){const _=new I,S=new T(A),N=new R,C=new D;_.reconcile(F);const W={media:F.media,mediaIndex:F.mediaIndex};Object.keys(F.drawings).forEach(G=>{const X=F.drawings[G],J=F.drawingRels[G];J&&(W.rels=J.reduce((O,ee)=>(O[ee.Id]=ee,O),{}),(X.anchors||[]).forEach(O=>{const ee=O.picture&&O.picture.hyperlinks;ee&&W.rels[ee.rId]&&(ee.hyperlink=W.rels[ee.rId].Target,delete ee.rId)}),N.reconcile(X,W))});const j={styles:F.styles};Object.values(F.tables).forEach(G=>{C.reconcile(G,j)});const B={styles:F.styles,sharedStrings:F.sharedStrings,media:F.media,mediaIndex:F.mediaIndex,date1904:F.properties&&F.properties.date1904,drawings:F.drawings,comments:F.comments,tables:F.tables,vmlDrawings:F.vmlDrawings};F.worksheets.forEach(G=>{G.relationships=F.worksheetRels[G.sheetNo],S.reconcile(G,B)}),delete F.worksheetHash,delete F.worksheetRels,delete F.globalRels,delete F.sharedStrings,delete F.workbookRels,delete F.sheetDefs,delete F.styles,delete F.mediaIndex,delete F.drawings,delete F.drawingRels,delete F.vmlDrawings}async _processWorksheetEntry(F,A,_,S,N){const C=new T(S),W=await C.parseStream(F);W.sheetNo=_,A.worksheetHash[N]=W,A.worksheets.push(W)}async _processCommentEntry(F,A,_){const S=new L,N=await S.parseStream(F);A.comments[`../${_}.xml`]=N}async _processTableEntry(F,A,_){const S=new D,N=await S.parseStream(F);A.tables[`../tables/${_}.xml`]=N}async _processWorksheetRelsEntry(F,A,_){const S=new y,N=await S.parseStream(F);A.worksheetRels[_]=N}async _processMediaEntry(F,A,_){const S=_.lastIndexOf(".");if(S>=1){const N=_.substr(S+1),C=_.substr(0,S);await new Promise((W,j)=>{const B=new f;B.on("finish",()=>{A.mediaIndex[_]=A.media.length,A.mediaIndex[C]=A.media.length;const G={type:"image",name:C,extension:N,buffer:B.toBuffer()};A.media.push(G),W()}),F.on("error",G=>{j(G)}),F.pipe(B)})}}async _processDrawingEntry(F,A,_){const S=new R,N=await S.parseStream(F);A.drawings[_]=N}async _processDrawingRelsEntry(F,A,_){const S=new y,N=await S.parseStream(F);A.drawingRels[_]=N}async _processVmlDrawingEntry(F,A,_){const S=new M,N=await S.parseStream(F);A.vmlDrawings[`../drawings/${_}.vml`]=N}async _processThemeEntry(F,A,_){await new Promise((S,N)=>{const C=new f;F.on("error",N),C.on("error",N),C.on("finish",()=>{A.themes[_]=C.read().toString(),S()}),F.pipe(C)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(F,A){!F[Symbol.asyncIterator]&&F.pipe&&(F=F.pipe(new l));const _=[];for await(const S of F)_.push(S);return this.load(o.concat(_),A)}async load(F,A){let _;_=A&&A.base64?o.from(F.toString(),"base64"):F;const S={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},N=await u.loadAsync(_);for(const C of Object.values(N.files))if(!C.dir){let W,j=C.name;if(j[0]==="/"&&(j=j.substr(1)),j.match(/xl\/media\//)||j.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))W=new l,W.write(await C.async("nodebuffer"));else{let B;W=new l({writableObjectMode:!0,readableObjectMode:!0}),B=a.browser?g(await C.async("nodebuffer")):await C.async("string");const G=16384;for(let X=0;X<B.length;X+=G)W.write(B.substring(X,X+G))}switch(W.end(),j){case"_rels/.rels":S.globalRels=await this.parseRels(W);break;case"xl/workbook.xml":{const B=await this.parseWorkbook(W);S.sheets=B.sheets,S.definedNames=B.definedNames,S.views=B.views,S.properties=B.properties,S.calcProperties=B.calcProperties;break}case"xl/_rels/workbook.xml.rels":S.workbookRels=await this.parseRels(W);break;case"xl/sharedStrings.xml":S.sharedStrings=new x,await S.sharedStrings.parseStream(W);break;case"xl/styles.xml":S.styles=new v,await S.styles.parseStream(W);break;case"docProps/app.xml":{const B=new E,G=await B.parseStream(W);S.company=G.company,S.manager=G.manager;break}case"docProps/core.xml":{const B=new m,G=await B.parseStream(W);Object.assign(S,G);break}default:{let B=j.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(B){await this._processWorksheetEntry(W,S,B[1],A,j);break}if(B=j.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),B){await this._processWorksheetRelsEntry(W,S,B[1]);break}if(B=j.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),B){await this._processThemeEntry(W,S,B[1]);break}if(B=j.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),B){await this._processMediaEntry(W,S,B[1]);break}if(B=j.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),B){await this._processDrawingEntry(W,S,B[1]);break}if(B=j.match(/xl\/(comments\d+)[.]xml/),B){await this._processCommentEntry(W,S,B[1]);break}if(B=j.match(/xl\/tables\/(table\d+)[.]xml/),B){await this._processTableEntry(W,S,B[1]);break}if(B=j.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),B){await this._processDrawingRelsEntry(W,S,B[1]);break}if(B=j.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),B){await this._processVmlDrawingEntry(W,S,B[1]);break}}}}return this.reconcile(S,A),this.workbook.model=S,this.workbook}async addMedia(F,A){await Promise.all(A.media.map(async _=>{if(_.type==="image"){const S=`xl/media/${_.name}.${_.extension}`;if(_.filename){const N=await function(C,W){return new Promise((j,B)=>{c.readFile(C,W,(G,X)=>{G?B(G):j(X)})})}(_.filename);return F.append(N,{name:S})}if(_.buffer)return F.append(_.buffer,{name:S});if(_.base64){const N=_.base64,C=N.substring(N.indexOf(",")+1);return F.append(C,{name:S,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(F,A){const _=new R,S=new y;A.worksheets.forEach(N=>{const{drawing:C}=N;if(C){_.prepare(C,{});let W=_.toXml(C);F.append(W,{name:`xl/drawings/${C.name}.xml`}),W=S.toXml(C.rels),F.append(W,{name:`xl/drawings/_rels/${C.name}.xml.rels`})}})}addTables(F,A){const _=new D;A.worksheets.forEach(S=>{const{tables:N}=S;N.forEach(C=>{_.prepare(C,{});const W=_.toXml(C);F.append(W,{name:"xl/tables/"+C.target})})})}async addContentTypes(F,A){const _=new w().toXml(A);F.append(_,{name:"[Content_Types].xml"})}async addApp(F,A){const _=new E().toXml(A);F.append(_,{name:"docProps/app.xml"})}async addCore(F,A){const _=new m;F.append(_.toXml(A),{name:"docProps/core.xml"})}async addThemes(F,A){const _=A.themes||{theme1:H};Object.keys(_).forEach(S=>{const N=_[S],C=`xl/theme/${S}.xml`;F.append(N,{name:C})})}async addOfficeRels(F){const A=new y().toXml([{Id:"rId1",Type:V.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:V.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:V.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);F.append(A,{name:"_rels/.rels"})}async addWorkbookRels(F,A){let _=1;const S=[{Id:"rId"+_++,Type:V.RelType.Styles,Target:"styles.xml"},{Id:"rId"+_++,Type:V.RelType.Theme,Target:"theme/theme1.xml"}];A.sharedStrings.count&&S.push({Id:"rId"+_++,Type:V.RelType.SharedStrings,Target:"sharedStrings.xml"}),A.worksheets.forEach(C=>{C.rId="rId"+_++,S.push({Id:C.rId,Type:V.RelType.Worksheet,Target:`worksheets/sheet${C.id}.xml`})});const N=new y().toXml(S);F.append(N,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(F,A){A.sharedStrings&&A.sharedStrings.count&&F.append(A.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(F,A){const{xml:_}=A.styles;_&&F.append(_,{name:"xl/styles.xml"})}async addWorkbook(F,A){const _=new I;F.append(_.toXml(A),{name:"xl/workbook.xml"})}async addWorksheets(F,A){const _=new T,S=new y,N=new L,C=new M;A.worksheets.forEach(W=>{let j=new p;_.render(j,W),F.append(j.xml,{name:`xl/worksheets/sheet${W.id}.xml`}),W.rels&&W.rels.length&&(j=new p,S.render(j,W.rels),F.append(j.xml,{name:`xl/worksheets/_rels/sheet${W.id}.xml.rels`})),W.comments.length>0&&(j=new p,N.render(j,W),F.append(j.xml,{name:`xl/comments${W.id}.xml`}),j=new p,C.render(j,W),F.append(j.xml,{name:`xl/drawings/vmlDrawing${W.id}.vml`}))})}_finalize(F){return new Promise((A,_)=>{F.on("finish",()=>{A(this)}),F.on("error",_),F.finalize()})}prepareModel(F,A){F.creator=F.creator||"ExcelJS",F.lastModifiedBy=F.lastModifiedBy||"ExcelJS",F.created=F.created||new Date,F.modified=F.modified||new Date,F.useSharedStrings=A.useSharedStrings===void 0||A.useSharedStrings,F.useStyles=A.useStyles===void 0||A.useStyles,F.sharedStrings=new x,F.styles=F.useStyles?new v(!0):new v.Mock;const _=new I,S=new T;_.prepare(F);const N={sharedStrings:F.sharedStrings,styles:F.styles,date1904:F.properties.date1904,drawingsCount:0,media:F.media};N.drawings=F.drawings=[],N.commentRefs=F.commentRefs=[];let C=0;F.tables=[],F.worksheets.forEach(W=>{W.tables.forEach(j=>{C++,j.target=`table${C}.xml`,j.id=C,F.tables.push(j)}),S.prepare(W,N)})}async write(F,A){A=A||{};const{model:_}=this.workbook,S=new d.ZipWriter(A.zip);return S.pipe(F),this.prepareModel(_,A),await this.addContentTypes(S,_),await this.addOfficeRels(S,_),await this.addWorkbookRels(S,_),await this.addWorksheets(S,_),await this.addSharedStrings(S,_),await this.addDrawings(S,_),await this.addTables(S,_),await Promise.all([this.addThemes(S,_),this.addStyles(S,_)]),await this.addMedia(S,_),await Promise.all([this.addApp(S,_),this.addCore(S,_)]),await this.addWorkbook(S,_),this._finalize(S)}writeFile(F,A){const _=c.createWriteStream(F);return new Promise((S,N)=>{_.on("finish",()=>{S()}),_.on("error",C=>{N(C)}),this.write(_,A).then(()=>{_.end()}).catch(C=>{N(C)})})}async writeBuffer(F){const A=new f;return await this.write(A,F),A.read()}}V.RelType=e("./rel-type"),s.exports=V}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,s,i){s.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,s,i){(function(a){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvFormatterStream=void 0;const o=e("stream"),c=e("./formatter");class u extends o.Transform{constructor(d){super({writableObjectMode:d.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=d,this.rowFormatter=new c.RowFormatter(d),this.hasWrittenBOM=!d.writeBOM}transform(d){return this.rowFormatter.rowTransform=d,this}_transform(d,f,h){let p=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(d,(g,v)=>g?(p=!0,h(g)):(v&&v.forEach(m=>{this.push(a.from(m,"utf8"))}),p=!0,h()))}catch(g){if(p)throw g;h(g)}}_flush(d){this.rowFormatter.finish((f,h)=>f?d(f):(h&&h.forEach(p=>{this.push(a.from(p,"utf8"))}),d()))}}i.CsvFormatterStream=u}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FormatterOptions=void 0,i.FormatterOptions=class{constructor(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var o;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,a||{}),(a==null?void 0:a.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(a==null?void 0:a.quote)===!0?this.quote='"':(a==null?void 0:a.quote)===!1&&(this.quote=""),typeof(a==null?void 0:a.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((o=a.writeHeaders)===null||o===void 0||o),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(e,s,i){var a=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=void 0;const o=a(e("lodash.isboolean")),c=a(e("lodash.isnil")),u=a(e("lodash.escaperegexp"));i.FieldFormatter=class{constructor(l){this._headers=null,this.formatterOptions=l,l.headers!==null&&(this.headers=l.headers),this.REPLACE_REGEXP=new RegExp(l.quote,"g");const d=`[${l.delimiter}${u.default(l.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(d)}set headers(l){this._headers=l}shouldQuote(l,d){const f=d?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return o.default(f)?f:Array.isArray(f)?f[l]:this._headers!==null&&f[this._headers[l]]}format(l,d,f){const h=(""+(c.default(l)?"":l)).replace(/\0/g,""),{formatterOptions:p}=this;return p.quote!==""&&h.indexOf(p.quote)!==-1?this.quoteField(h.replace(this.REPLACE_REGEXP,p.escapedQuote)):h.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(d,f)?this.quoteField(h):h}quoteField(l){const{quote:d}=this.formatterOptions;return`${d}${l}${d}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,s,i){var a=function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowFormatter=void 0;const o=a(e("lodash.isfunction")),c=a(e("lodash.isequal")),u=e("./FieldFormatter"),l=e("../types");class d{constructor(h){this.rowCount=0,this.formatterOptions=h,this.fieldFormatter=new u.FieldFormatter(h),this.headers=h.headers,this.shouldWriteHeaders=h.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),h.transform&&(this.rowTransform=h.transform)}static isRowHashArray(h){return!!Array.isArray(h)&&Array.isArray(h[0])&&h[0].length===2}static isRowArray(h){return Array.isArray(h)&&!this.isRowHashArray(h)}static gatherHeaders(h){return d.isRowHashArray(h)?h.map(p=>p[0]):Array.isArray(h)?h:Object.keys(h)}static createTransform(h){return l.isSyncTransform(h)?(p,g)=>{let v=null;try{v=h(p)}catch(m){return g(m)}return g(null,v)}:(p,g)=>{h(p,g)}}set rowTransform(h){if(!o.default(h))throw new TypeError("The transform should be a function");this._rowTransform=d.createTransform(h)}format(h,p){this.callTransformer(h,(g,v)=>{if(g)return p(g);if(!h)return p(null);const m=[];if(v){const{shouldFormatColumns:x,headers:y}=this.checkHeaders(v);if(this.shouldWriteHeaders&&y&&!this.hasWrittenHeaders&&(m.push(this.formatColumns(y,!0)),this.hasWrittenHeaders=!0),x){const w=this.gatherColumns(v);m.push(this.formatColumns(w,!1))}}return p(null,m)})}finish(h){const p=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return h(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));p.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&p.push(this.formatterOptions.rowDelimiter),h(null,p)}checkHeaders(h){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const p=d.gatherHeaders(h);return this.headers=p,this.fieldFormatter.headers=p,this.shouldWriteHeaders?{shouldFormatColumns:!c.default(p,h),headers:p}:{shouldFormatColumns:!0,headers:null}}gatherColumns(h){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(h)?d.isRowHashArray(h)?this.headers.map((p,g)=>{const v=h[g];return v?v[1]:""}):d.isRowArray(h)&&!this.shouldWriteHeaders?h:this.headers.map((p,g)=>h[g]):this.headers.map(p=>h[p])}callTransformer(h,p){return this._rowTransform?this._rowTransform(h,p):p(null,h)}formatColumns(h,p){const g=h.map((m,x)=>this.fieldFormatter.format(m,x,p)).join(this.formatterOptions.delimiter),{rowCount:v}=this;return this.rowCount+=1,v?[this.formatterOptions.rowDelimiter,g].join(""):g}}i.RowFormatter=d},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.FieldFormatter=i.RowFormatter=void 0;var a=e("./RowFormatter");Object.defineProperty(i,"RowFormatter",{enumerable:!0,get:function(){return a.RowFormatter}});var o=e("./FieldFormatter");Object.defineProperty(i,"FieldFormatter",{enumerable:!0,get:function(){return o.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,s,i){(function(a){(function(){var o=Object.create?function(x,y,w,E){E===void 0&&(E=w),Object.defineProperty(x,E,{enumerable:!0,get:function(){return y[w]}})}:function(x,y,w,E){E===void 0&&(E=w),x[E]=y[w]},c=Object.create?function(x,y){Object.defineProperty(x,"default",{enumerable:!0,value:y})}:function(x,y){x.default=y},u=function(x){if(x&&x.__esModule)return x;var y={};if(x!=null)for(var w in x)w!=="default"&&Object.prototype.hasOwnProperty.call(x,w)&&o(y,x,w);return c(y,x),y},l=function(x,y){for(var w in x)w==="default"||Object.prototype.hasOwnProperty.call(y,w)||o(y,x,w)};Object.defineProperty(i,"__esModule",{value:!0}),i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=i.FormatterOptions=i.CsvFormatterStream=void 0;const d=e("util"),f=e("stream"),h=u(e("fs")),p=e("./FormatterOptions"),g=e("./CsvFormatterStream");l(e("./types"),i);var v=e("./CsvFormatterStream");Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return v.CsvFormatterStream}});var m=e("./FormatterOptions");Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return m.FormatterOptions}}),i.format=x=>new g.CsvFormatterStream(new p.FormatterOptions(x)),i.write=(x,y)=>{const w=i.format(y),E=d.promisify((I,T)=>{w.write(I,void 0,T)});return x.reduce((I,T)=>I.then(()=>E(T)),Promise.resolve()).then(()=>w.end()).catch(I=>{w.emit("error",I)}),w},i.writeToStream=(x,y,w)=>i.write(y,w).pipe(x),i.writeToBuffer=function(x){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const w=[],E=new f.Writable({write(I,T,R){w.push(I),R()}});return new Promise((I,T)=>{E.on("error",T).on("finish",()=>I(a.concat(w))),i.write(x,y).pipe(E)})},i.writeToString=(x,y)=>i.writeToBuffer(x,y).then(w=>w.toString()),i.writeToPath=(x,y,w)=>{const E=h.createWriteStream(x,{encoding:"utf8"});return i.write(y,w).pipe(E)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncTransform=void 0,i.isSyncTransform=a=>a.length===1},{}],153:[function(e,s,i){(function(a){(function(){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=void 0;const o=e("string_decoder"),c=e("stream"),u=e("./transforms"),l=e("./parser");class d extends c.Transform{constructor(h){super({objectMode:h.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=h,this.parser=new l.Parser(h),this.headerTransformer=new u.HeaderTransformer(h),this.decoder=new o.StringDecoder(h.encoding),this.rowTransformerValidator=new u.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(h){return this.rowTransformerValidator.rowTransform=h,this}validate(h){return this.rowTransformerValidator.rowValidator=h,this}emit(h){if(h==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var p=arguments.length,g=new Array(p>1?p-1:0),v=1;v<p;v++)g[v-1]=arguments[v];return super.emit(h,...g)}_transform(h,p,g){if(this.hasHitRowLimit)return g();const v=d.wrapDoneCallback(g);try{const{lines:m}=this,x=m+this.decoder.write(h),y=this.parse(x,!0);return this.processRows(y,v)}catch(m){return v(m)}}_flush(h){const p=d.wrapDoneCallback(h);if(this.hasHitRowLimit)return p();try{const g=this.lines+this.decoder.end(),v=this.parse(g,!1);return this.processRows(v,p)}catch(g){return p(g)}}parse(h,p){if(!h)return[];const{line:g,rows:v}=this.parser.parse(h,p);return this.lines=g,v}processRows(h,p){const g=h.length,v=m=>{const x=E=>E?p(E):m%100!=0?v(m+1):void a(()=>v(m+1));if(this.checkAndEmitHeaders(),m>=g||this.hasHitRowLimit)return p();if(this.parsedLineCount+=1,this.shouldSkipLine)return x();const y=h[m];this.rowCount+=1,this.parsedRowCount+=1;const w=this.rowCount;return this.transformRow(y,(E,I)=>{if(E)return this.rowCount-=1,x(E);if(!I)return x(new Error("expected transform result"));if(I.isValid){if(I.row)return this.pushRow(I.row,x)}else this.emit("data-invalid",I.row,w,I.reason);return x()})};v(0)}transformRow(h,p){try{this.headerTransformer.transform(h,(g,v)=>g?p(g):v?v.isValid?v.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(v.row,p):this.skipRow(p):(this.rowCount-=1,this.parsedRowCount-=1,p(null,{row:null,isValid:!0})):this.shouldEmitRows?p(null,{isValid:!1,row:h}):this.skipRow(p):p(new Error("Expected result from header transform")))}catch(g){p(g)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(h){return this.rowCount-=1,h(null,{row:null,isValid:!0})}pushRow(h,p){try{this.parserOptions.objectMode?this.push(h):this.push(JSON.stringify(h)),p()}catch(g){p(g)}}static wrapDoneCallback(h){let p=!1;return function(g){if(g){if(p)throw g;return p=!0,void h(g)}for(var v=arguments.length,m=new Array(v>1?v-1:0),x=1;x<v;x++)m[x-1]=arguments[x];h(...m)}}}i.CsvParserStream=d}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,s,i){var a=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(i,"__esModule",{value:!0}),i.ParserOptions=void 0;const o=a(e("lodash.escaperegexp")),c=a(e("lodash.isnil"));i.ParserOptions=class{constructor(u){var l;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,u||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=o.default(this.delimiter),this.escapeChar=(l=this.escape)!==null&&l!==void 0?l:this.quote,this.supportsComments=!c.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,s,i){var a=Object.create?function(v,m,x,y){y===void 0&&(y=x),Object.defineProperty(v,y,{enumerable:!0,get:function(){return m[x]}})}:function(v,m,x,y){y===void 0&&(y=x),v[y]=m[x]},o=Object.create?function(v,m){Object.defineProperty(v,"default",{enumerable:!0,value:m})}:function(v,m){v.default=m},c=function(v){if(v&&v.__esModule)return v;var m={};if(v!=null)for(var x in v)x!=="default"&&Object.prototype.hasOwnProperty.call(v,x)&&a(m,v,x);return o(m,v),m},u=function(v,m){for(var x in v)x==="default"||Object.prototype.hasOwnProperty.call(m,x)||a(m,v,x)};Object.defineProperty(i,"__esModule",{value:!0}),i.parseString=i.parseFile=i.parseStream=i.parse=i.ParserOptions=i.CsvParserStream=void 0;const l=c(e("fs")),d=e("stream"),f=e("./ParserOptions"),h=e("./CsvParserStream");u(e("./types"),i);var p=e("./CsvParserStream");Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return p.CsvParserStream}});var g=e("./ParserOptions");Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return g.ParserOptions}}),i.parse=v=>new h.CsvParserStream(new f.ParserOptions(v)),i.parseStream=(v,m)=>v.pipe(new h.CsvParserStream(new f.ParserOptions(m))),i.parseFile=function(v){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return l.createReadStream(v).pipe(new h.CsvParserStream(new f.ParserOptions(m)))},i.parseString=(v,m)=>{const x=new d.Readable;return x.push(v),x.push(null),x.pipe(new h.CsvParserStream(new f.ParserOptions(m)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Parser=void 0;const a=e("./Scanner"),o=e("./RowParser"),c=e("./Token");class u{constructor(d){this.parserOptions=d,this.rowParser=new o.RowParser(this.parserOptions)}static removeBOM(d){return d&&d.charCodeAt(0)===65279?d.slice(1):d}parse(d,f){const h=new a.Scanner({line:u.removeBOM(d),parserOptions:this.parserOptions,hasMoreData:f});return this.parserOptions.supportsComments?this.parseWithComments(h):this.parseWithoutComments(h)}parseWithoutComments(d){const f=[];let h=!0;for(;h;)h=this.parseRow(d,f);return{line:d.line,rows:f}}parseWithComments(d){const{parserOptions:f}=this,h=[];for(let p=d.nextCharacterToken;p!==null;p=d.nextCharacterToken)if(c.Token.isTokenComment(p,f)){if(d.advancePastLine()===null)return{line:d.lineFromCursor,rows:h};if(!d.hasMoreCharacters)return{line:d.lineFromCursor,rows:h};d.truncateToCursor()}else if(!this.parseRow(d,h))break;return{line:d.line,rows:h}}parseRow(d,f){if(!d.nextNonSpaceToken)return!1;const h=this.rowParser.parse(d);return h!==null&&(this.parserOptions.ignoreEmpty&&o.RowParser.isEmptyRow(h)||f.push(h),!0)}}i.Parser=u},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.RowParser=void 0;const a=e("./column"),o=e("./Token");i.RowParser=class{constructor(c){this.parserOptions=c,this.columnParser=new a.ColumnParser(c)}static isEmptyRow(c){return c.join("").replace(/\s+/g,"")===""}parse(c){const{parserOptions:u}=this,{hasMoreData:l}=c,d=c,f=[];let h=this.getStartToken(d,f);for(;h;){if(o.Token.isTokenRowDelimiter(h))return d.advancePastToken(h),!d.hasMoreCharacters&&o.Token.isTokenCarriageReturn(h,u)&&l?null:(d.truncateToCursor(),f);if(!this.shouldSkipColumnParse(d,h,f)){const p=this.columnParser.parse(d);if(p===null)return null;f.push(p)}h=d.nextNonSpaceToken}return l?null:(d.truncateToCursor(),f)}getStartToken(c,u){const l=c.nextNonSpaceToken;return l!==null&&o.Token.isTokenDelimiter(l,this.parserOptions)?(u.push(""),c.nextNonSpaceToken):l}shouldSkipColumnParse(c,u,l){const{parserOptions:d}=this;if(o.Token.isTokenDelimiter(u,d)){c.advancePastToken(u);const f=c.nextCharacterToken;if(!c.hasMoreCharacters||f!==null&&o.Token.isTokenRowDelimiter(f)||f!==null&&o.Token.isTokenDelimiter(f,d))return l.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(e,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Scanner=void 0;const a=e("./Token"),o=/((?:\r\n)|\n|\r)/;i.Scanner=class{constructor(c){this.cursor=0,this.line=c.line,this.lineLength=this.line.length,this.parserOptions=c.parserOptions,this.hasMoreData=c.hasMoreData,this.cursor=c.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:c}=this,u=this.parserOptions.NEXT_TOKEN_REGEXP;if(c.search(u)===-1)return null;const l=u.exec(c);if(l==null)return null;const d=l[1],f=this.cursor+(l.index||0);return new a.Token({token:d,startCursor:f,endCursor:f+d.length-1})}get nextCharacterToken(){const{cursor:c,lineLength:u}=this;return u<=c?null:new a.Token({token:this.line[c],startCursor:c,endCursor:c})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const c=o.exec(this.lineFromCursor);return c?(this.cursor+=(c.index||0)+c[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(c){return this.cursor=c,this}advanceToToken(c){return this.cursor=c.startCursor,this}advancePastToken(c){return this.cursor=c.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(e,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Token=void 0,i.Token=class{constructor(a){this.token=a.token,this.startCursor=a.startCursor,this.endCursor=a.endCursor}static isTokenRowDelimiter(a){const o=a.token;return o==="\r"||o===`
`||o===`\r
`}static isTokenCarriageReturn(a,o){return a.token===o.carriageReturn}static isTokenComment(a,o){return o.supportsComments&&!!a&&a.token===o.comment}static isTokenEscapeCharacter(a,o){return a.token===o.escapeChar}static isTokenQuote(a,o){return a.token===o.quote}static isTokenDelimiter(a,o){return a.token===o.delimiter}}},{}],160:[function(e,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=void 0,i.ColumnFormatter=class{constructor(a){a.trim?this.format=o=>o.trim():a.ltrim?this.format=o=>o.trimLeft():a.rtrim?this.format=o=>o.trimRight():this.format=o=>o}}},{}],161:[function(e,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnParser=void 0;const a=e("./NonQuotedColumnParser"),o=e("./QuotedColumnParser"),c=e("../Token");i.ColumnParser=class{constructor(u){this.parserOptions=u,this.quotedColumnParser=new o.QuotedColumnParser(u),this.nonQuotedColumnParser=new a.NonQuotedColumnParser(u)}parse(u){const{nextNonSpaceToken:l}=u;return l!==null&&c.Token.isTokenQuote(l,this.parserOptions)?(u.advanceToToken(l),this.quotedColumnParser.parse(u)):this.nonQuotedColumnParser.parse(u)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.NonQuotedColumnParser=void 0;const a=e("./ColumnFormatter"),o=e("../Token");i.NonQuotedColumnParser=class{constructor(c){this.parserOptions=c,this.columnFormatter=new a.ColumnFormatter(c)}parse(c){if(!c.hasMoreCharacters)return null;const{parserOptions:u}=this,l=[];let d=c.nextCharacterToken;for(;d&&!o.Token.isTokenDelimiter(d,u)&&!o.Token.isTokenRowDelimiter(d);d=c.nextCharacterToken)l.push(d.token),c.advancePastToken(d);return this.columnFormatter.format(l.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=void 0;const a=e("./ColumnFormatter"),o=e("../Token");i.QuotedColumnParser=class{constructor(c){this.parserOptions=c,this.columnFormatter=new a.ColumnFormatter(c)}parse(c){if(!c.hasMoreCharacters)return null;const u=c.cursor,{foundClosingQuote:l,col:d}=this.gatherDataBetweenQuotes(c);if(!l){if(c.advanceTo(u),!c.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${c.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(c),d}gatherDataBetweenQuotes(c){const{parserOptions:u}=this;let l=!1,d=!1;const f=[];let h=c.nextCharacterToken;for(;!d&&h!==null;h=c.nextCharacterToken){const p=o.Token.isTokenQuote(h,u);if(!l&&p)l=!0;else if(l)if(o.Token.isTokenEscapeCharacter(h,u)){c.advancePastToken(h);const g=c.nextCharacterToken;g!==null&&(o.Token.isTokenQuote(g,u)||o.Token.isTokenEscapeCharacter(g,u))?(f.push(g.token),h=g):p?d=!0:f.push(h.token)}else p?d=!0:f.push(h.token);c.advancePastToken(h)}return{col:this.columnFormatter.format(f.join("")),foundClosingQuote:d}}checkForMalformedColumn(c){const{parserOptions:u}=this,{nextNonSpaceToken:l}=c;if(l){const d=o.Token.isTokenDelimiter(l,u),f=o.Token.isTokenRowDelimiter(l);if(!d&&!f){const h=c.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${u.escapedDelimiter}' OR new line got: '${l.token}'. at '${h}`)}c.advanceToToken(l)}else c.hasMoreData||c.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.ColumnFormatter=i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=void 0;var a=e("./ColumnParser");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return a.ColumnParser}});var o=e("./NonQuotedColumnParser");Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}});var c=e("./QuotedColumnParser");Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return c.QuotedColumnParser}});var u=e("./ColumnFormatter");Object.defineProperty(i,"ColumnFormatter",{enumerable:!0,get:function(){return u.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.QuotedColumnParser=i.NonQuotedColumnParser=i.ColumnParser=i.Token=i.Scanner=i.RowParser=i.Parser=void 0;var a=e("./Parser");Object.defineProperty(i,"Parser",{enumerable:!0,get:function(){return a.Parser}});var o=e("./RowParser");Object.defineProperty(i,"RowParser",{enumerable:!0,get:function(){return o.RowParser}});var c=e("./Scanner");Object.defineProperty(i,"Scanner",{enumerable:!0,get:function(){return c.Scanner}});var u=e("./Token");Object.defineProperty(i,"Token",{enumerable:!0,get:function(){return u.Token}});var l=e("./column");Object.defineProperty(i,"ColumnParser",{enumerable:!0,get:function(){return l.ColumnParser}}),Object.defineProperty(i,"NonQuotedColumnParser",{enumerable:!0,get:function(){return l.NonQuotedColumnParser}}),Object.defineProperty(i,"QuotedColumnParser",{enumerable:!0,get:function(){return l.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,s,i){var a=function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=void 0;const o=a(e("lodash.isundefined")),c=a(e("lodash.isfunction")),u=a(e("lodash.uniq")),l=a(e("lodash.groupby"));i.HeaderTransformer=class{constructor(d){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=d,d.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(d.headers)?this.setHeaders(d.headers):c.default(d.headers)&&(this.headersTransform=d.headers)}transform(d,f){return this.shouldMapRow(d)?f(null,this.processRow(d)):f(null,{row:null,isValid:!0})}shouldMapRow(d){const{parserOptions:f}=this;if(!this.headersTransform&&f.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(d)){if(this.headersTransform)this.setHeaders(this.headersTransform(d));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(d)}return!1}return!0}processRow(d){if(!this.headers)return{row:d,isValid:!0};const{parserOptions:f}=this;if(!f.discardUnmappedColumns&&d.length>this.headersLength){if(!f.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${d.length}`);return{row:d,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${d.length}`}}return f.strictColumnHandling&&d.length<this.headersLength?{row:d,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${d.length}`}:{row:this.mapHeaders(d),isValid:!0}}mapHeaders(d){const f={},{headers:h,headersLength:p}=this;for(let g=0;g<p;g+=1){const v=h[g];if(!o.default(v)){const m=d[g];o.default(m)?f[v]="":f[v]=m}}return f}setHeaders(d){var f;const h=d.filter(p=>!!p);if(u.default(h).length!==h.length){const p=l.default(h),g=Object.keys(p).filter(v=>p[v].length>1);throw new Error("Duplicate headers found "+JSON.stringify(g))}this.headers=d,this.receivedHeaders=!0,this.headersLength=((f=this.headers)===null||f===void 0?void 0:f.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,s,i){var a=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(i,"__esModule",{value:!0}),i.RowTransformerValidator=void 0;const o=a(e("lodash.isfunction")),c=e("../types");class u{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(d){return c.isSyncTransform(d)?(f,h)=>{let p=null;try{p=d(f)}catch(g){return h(g)}return h(null,p)}:d}static createValidator(d){return c.isSyncValidate(d)?(f,h)=>{h(null,{row:f,isValid:d(f)})}:(f,h)=>{d(f,(p,g,v)=>p?h(p):h(null,g?{row:f,isValid:g,reason:v}:{row:f,isValid:!1,reason:v}))}}set rowTransform(d){if(!o.default(d))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(d)}set rowValidator(d){if(!o.default(d))throw new TypeError("The validate should be a function");this._rowValidator=u.createValidator(d)}transformAndValidate(d,f){return this.callTransformer(d,(h,p)=>h?f(h):p?this.callValidator(p,(g,v)=>g?f(g):v&&!v.isValid?f(null,{row:p,isValid:!1,reason:v.reason}):f(null,{row:p,isValid:!0})):f(null,{row:null,isValid:!0}))}callTransformer(d,f){return this._rowTransform?this._rowTransform(d,f):f(null,d)}callValidator(d,f){return this._rowValidator?this._rowValidator(d,f):f(null,{row:d,isValid:!0})}}i.RowTransformerValidator=u},{"../types":169,"lodash.isfunction":446}],168:[function(e,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.HeaderTransformer=i.RowTransformerValidator=void 0;var a=e("./RowTransformerValidator");Object.defineProperty(i,"RowTransformerValidator",{enumerable:!0,get:function(){return a.RowTransformerValidator}});var o=e("./HeaderTransformer");Object.defineProperty(i,"HeaderTransformer",{enumerable:!0,get:function(){return o.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isSyncValidate=i.isSyncTransform=void 0,i.isSyncTransform=a=>a.length===1,i.isSyncValidate=a=>a.length===1},{}],170:[function(e,s,i){const a=i;a.bignum=e("bn.js"),a.define=e("./asn1/api").define,a.base=e("./asn1/base"),a.constants=e("./asn1/constants"),a.decoders=e("./asn1/decoders"),a.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,s,i){const a=e("./encoders"),o=e("./decoders"),c=e("inherits");function u(l,d){this.name=l,this.body=d,this.decoders={},this.encoders={}}i.define=function(l,d){return new u(l,d)},u.prototype._createNamed=function(l){const d=this.name;function f(h){this._initNamed(h,d)}return c(f,l),f.prototype._initNamed=function(h,p){l.call(this,h,p)},new f(this)},u.prototype._getDecoder=function(l){return l=l||"der",this.decoders.hasOwnProperty(l)||(this.decoders[l]=this._createNamed(o[l])),this.decoders[l]},u.prototype.decode=function(l,d,f){return this._getDecoder(d).decode(l,f)},u.prototype._getEncoder=function(l){return l=l||"der",this.encoders.hasOwnProperty(l)||(this.encoders[l]=this._createNamed(a[l])),this.encoders[l]},u.prototype.encode=function(l,d,f){return this._getEncoder(d).encode(l,f)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,s,i){const a=e("inherits"),o=e("../base/reporter").Reporter,c=e("safer-buffer").Buffer;function u(d,f){o.call(this,f),c.isBuffer(d)?(this.base=d,this.offset=0,this.length=d.length):this.error("Input not Buffer")}function l(d,f){if(Array.isArray(d))this.length=0,this.value=d.map(function(h){return l.isEncoderBuffer(h)||(h=new l(h,f)),this.length+=h.length,h},this);else if(typeof d=="number"){if(!(0<=d&&d<=255))return f.error("non-byte EncoderBuffer value");this.value=d,this.length=1}else if(typeof d=="string")this.value=d,this.length=c.byteLength(d);else{if(!c.isBuffer(d))return f.error("Unsupported type: "+typeof d);this.value=d,this.length=d.length}}a(u,o),i.DecoderBuffer=u,u.isDecoderBuffer=function(d){return d instanceof u?!0:typeof d=="object"&&c.isBuffer(d.base)&&d.constructor.name==="DecoderBuffer"&&typeof d.offset=="number"&&typeof d.length=="number"&&typeof d.save=="function"&&typeof d.restore=="function"&&typeof d.isEmpty=="function"&&typeof d.readUInt8=="function"&&typeof d.skip=="function"&&typeof d.raw=="function"},u.prototype.save=function(){return{offset:this.offset,reporter:o.prototype.save.call(this)}},u.prototype.restore=function(d){const f=new u(this.base);return f.offset=d.offset,f.length=this.offset,this.offset=d.offset,o.prototype.restore.call(this,d.reporter),f},u.prototype.isEmpty=function(){return this.offset===this.length},u.prototype.readUInt8=function(d){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(d||"DecoderBuffer overrun")},u.prototype.skip=function(d,f){if(!(this.offset+d<=this.length))return this.error(f||"DecoderBuffer overrun");const h=new u(this.base);return h._reporterState=this._reporterState,h.offset=this.offset,h.length=this.offset+d,this.offset+=d,h},u.prototype.raw=function(d){return this.base.slice(d?d.offset:this.offset,this.length)},i.EncoderBuffer=l,l.isEncoderBuffer=function(d){return d instanceof l?!0:typeof d=="object"&&d.constructor.name==="EncoderBuffer"&&typeof d.length=="number"&&typeof d.join=="function"},l.prototype.join=function(d,f){return d||(d=c.alloc(this.length)),f||(f=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(h){h.join(d,f),f+=h.length}):(typeof this.value=="number"?d[f]=this.value:typeof this.value=="string"?d.write(this.value,f):c.isBuffer(this.value)&&this.value.copy(d,f),f+=this.length)),d}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,s,i){const a=i;a.Reporter=e("./reporter").Reporter,a.DecoderBuffer=e("./buffer").DecoderBuffer,a.EncoderBuffer=e("./buffer").EncoderBuffer,a.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,s,i){const a=e("../base/reporter").Reporter,o=e("../base/buffer").EncoderBuffer,c=e("../base/buffer").DecoderBuffer,u=e("minimalistic-assert"),l=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],d=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(l);function f(p,g,v){const m={};this._baseState=m,m.name=v,m.enc=p,m.parent=g||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}s.exports=f;const h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];f.prototype.clone=function(){const p=this._baseState,g={};h.forEach(function(m){g[m]=p[m]});const v=new this.constructor(g.parent);return v._baseState=g,v},f.prototype._wrap=function(){const p=this._baseState;d.forEach(function(g){this[g]=function(){const v=new this.constructor(this);return p.children.push(v),v[g].apply(v,arguments)}},this)},f.prototype._init=function(p){const g=this._baseState;u(g.parent===null),p.call(this),g.children=g.children.filter(function(v){return v._baseState.parent===this},this),u.equal(g.children.length,1,"Root node can have only one child")},f.prototype._useArgs=function(p){const g=this._baseState,v=p.filter(function(m){return m instanceof this.constructor},this);p=p.filter(function(m){return!(m instanceof this.constructor)},this),v.length!==0&&(u(g.children===null),g.children=v,v.forEach(function(m){m._baseState.parent=this},this)),p.length!==0&&(u(g.args===null),g.args=p,g.reverseArgs=p.map(function(m){if(typeof m!="object"||m.constructor!==Object)return m;const x={};return Object.keys(m).forEach(function(y){y==(0|y)&&(y|=0);const w=m[y];x[w]=y}),x}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(p){f.prototype[p]=function(){const g=this._baseState;throw new Error(p+" not implemented for encoding: "+g.enc)}}),l.forEach(function(p){f.prototype[p]=function(){const g=this._baseState,v=Array.prototype.slice.call(arguments);return u(g.tag===null),g.tag=p,this._useArgs(v),this}}),f.prototype.use=function(p){u(p);const g=this._baseState;return u(g.use===null),g.use=p,this},f.prototype.optional=function(){return this._baseState.optional=!0,this},f.prototype.def=function(p){const g=this._baseState;return u(g.default===null),g.default=p,g.optional=!0,this},f.prototype.explicit=function(p){const g=this._baseState;return u(g.explicit===null&&g.implicit===null),g.explicit=p,this},f.prototype.implicit=function(p){const g=this._baseState;return u(g.explicit===null&&g.implicit===null),g.implicit=p,this},f.prototype.obj=function(){const p=this._baseState,g=Array.prototype.slice.call(arguments);return p.obj=!0,g.length!==0&&this._useArgs(g),this},f.prototype.key=function(p){const g=this._baseState;return u(g.key===null),g.key=p,this},f.prototype.any=function(){return this._baseState.any=!0,this},f.prototype.choice=function(p){const g=this._baseState;return u(g.choice===null),g.choice=p,this._useArgs(Object.keys(p).map(function(v){return p[v]})),this},f.prototype.contains=function(p){const g=this._baseState;return u(g.use===null),g.contains=p,this},f.prototype._decode=function(p,g){const v=this._baseState;if(v.parent===null)return p.wrapResult(v.children[0]._decode(p,g));let m,x=v.default,y=!0,w=null;if(v.key!==null&&(w=p.enterKey(v.key)),v.optional){let E=null;if(v.explicit!==null?E=v.explicit:v.implicit!==null?E=v.implicit:v.tag!==null&&(E=v.tag),E!==null||v.any){if(y=this._peekTag(p,E,v.any),p.isError(y))return y}else{const I=p.save();try{v.choice===null?this._decodeGeneric(v.tag,p,g):this._decodeChoice(p,g),y=!0}catch{y=!1}p.restore(I)}}if(v.obj&&y&&(m=p.enterObject()),y){if(v.explicit!==null){const I=this._decodeTag(p,v.explicit);if(p.isError(I))return I;p=I}const E=p.offset;if(v.use===null&&v.choice===null){let I;v.any&&(I=p.save());const T=this._decodeTag(p,v.implicit!==null?v.implicit:v.tag,v.any);if(p.isError(T))return T;v.any?x=p.raw(I):p=T}if(g&&g.track&&v.tag!==null&&g.track(p.path(),E,p.length,"tagged"),g&&g.track&&v.tag!==null&&g.track(p.path(),p.offset,p.length,"content"),v.any||(x=v.choice===null?this._decodeGeneric(v.tag,p,g):this._decodeChoice(p,g)),p.isError(x))return x;if(v.any||v.choice!==null||v.children===null||v.children.forEach(function(I){I._decode(p,g)}),v.contains&&(v.tag==="octstr"||v.tag==="bitstr")){const I=new c(x);x=this._getUse(v.contains,p._reporterState.obj)._decode(I,g)}}return v.obj&&y&&(x=p.leaveObject(m)),v.key===null||x===null&&y!==!0?w!==null&&p.exitKey(w):p.leaveKey(w,v.key,x),x},f.prototype._decodeGeneric=function(p,g,v){const m=this._baseState;return p==="seq"||p==="set"?null:p==="seqof"||p==="setof"?this._decodeList(g,p,m.args[0],v):/str$/.test(p)?this._decodeStr(g,p,v):p==="objid"&&m.args?this._decodeObjid(g,m.args[0],m.args[1],v):p==="objid"?this._decodeObjid(g,null,null,v):p==="gentime"||p==="utctime"?this._decodeTime(g,p,v):p==="null_"?this._decodeNull(g,v):p==="bool"?this._decodeBool(g,v):p==="objDesc"?this._decodeStr(g,p,v):p==="int"||p==="enum"?this._decodeInt(g,m.args&&m.args[0],v):m.use!==null?this._getUse(m.use,g._reporterState.obj)._decode(g,v):g.error("unknown tag: "+p)},f.prototype._getUse=function(p,g){const v=this._baseState;return v.useDecoder=this._use(p,g),u(v.useDecoder._baseState.parent===null),v.useDecoder=v.useDecoder._baseState.children[0],v.implicit!==v.useDecoder._baseState.implicit&&(v.useDecoder=v.useDecoder.clone(),v.useDecoder._baseState.implicit=v.implicit),v.useDecoder},f.prototype._decodeChoice=function(p,g){const v=this._baseState;let m=null,x=!1;return Object.keys(v.choice).some(function(y){const w=p.save(),E=v.choice[y];try{const I=E._decode(p,g);if(p.isError(I))return!1;m={type:y,value:I},x=!0}catch{return p.restore(w),!1}return!0},this),x?m:p.error("Choice not matched")},f.prototype._createEncoderBuffer=function(p){return new o(p,this.reporter)},f.prototype._encode=function(p,g,v){const m=this._baseState;if(m.default!==null&&m.default===p)return;const x=this._encodeValue(p,g,v);return x===void 0||this._skipDefault(x,g,v)?void 0:x},f.prototype._encodeValue=function(p,g,v){const m=this._baseState;if(m.parent===null)return m.children[0]._encode(p,g||new a);let x=null;if(this.reporter=g,m.optional&&p===void 0){if(m.default===null)return;p=m.default}let y=null,w=!1;if(m.any)x=this._createEncoderBuffer(p);else if(m.choice)x=this._encodeChoice(p,g);else if(m.contains)y=this._getUse(m.contains,v)._encode(p,g),w=!0;else if(m.children)y=m.children.map(function(E){if(E._baseState.tag==="null_")return E._encode(null,g,p);if(E._baseState.key===null)return g.error("Child should have a key");const I=g.enterKey(E._baseState.key);if(typeof p!="object")return g.error("Child expected, but input is not object");const T=E._encode(p[E._baseState.key],g,p);return g.leaveKey(I),T},this).filter(function(E){return E}),y=this._createEncoderBuffer(y);else if(m.tag==="seqof"||m.tag==="setof"){if(!m.args||m.args.length!==1)return g.error("Too many args for : "+m.tag);if(!Array.isArray(p))return g.error("seqof/setof, but data is not Array");const E=this.clone();E._baseState.implicit=null,y=this._createEncoderBuffer(p.map(function(I){const T=this._baseState;return this._getUse(T.args[0],p)._encode(I,g)},E))}else m.use!==null?x=this._getUse(m.use,v)._encode(p,g):(y=this._encodePrimitive(m.tag,p),w=!0);if(!m.any&&m.choice===null){const E=m.implicit!==null?m.implicit:m.tag,I=m.implicit===null?"universal":"context";E===null?m.use===null&&g.error("Tag could be omitted only for .use()"):m.use===null&&(x=this._encodeComposite(E,w,I,y))}return m.explicit!==null&&(x=this._encodeComposite(m.explicit,!1,"context",x)),x},f.prototype._encodeChoice=function(p,g){const v=this._baseState,m=v.choice[p.type];return m||u(!1,p.type+" not found in "+JSON.stringify(Object.keys(v.choice))),m._encode(p.value,g)},f.prototype._encodePrimitive=function(p,g){const v=this._baseState;if(/str$/.test(p))return this._encodeStr(g,p);if(p==="objid"&&v.args)return this._encodeObjid(g,v.reverseArgs[0],v.args[1]);if(p==="objid")return this._encodeObjid(g,null,null);if(p==="gentime"||p==="utctime")return this._encodeTime(g,p);if(p==="null_")return this._encodeNull();if(p==="int"||p==="enum")return this._encodeInt(g,v.args&&v.reverseArgs[0]);if(p==="bool")return this._encodeBool(g);if(p==="objDesc")return this._encodeStr(g,p);throw new Error("Unsupported tag: "+p)},f.prototype._isNumstr=function(p){return/^[0-9 ]*$/.test(p)},f.prototype._isPrintstr=function(p){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(p)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,s,i){const a=e("inherits");function o(u){this._reporterState={obj:null,path:[],options:u||{},errors:[]}}function c(u,l){this.path=u,this.rethrow(l)}i.Reporter=o,o.prototype.isError=function(u){return u instanceof c},o.prototype.save=function(){const u=this._reporterState;return{obj:u.obj,pathLen:u.path.length}},o.prototype.restore=function(u){const l=this._reporterState;l.obj=u.obj,l.path=l.path.slice(0,u.pathLen)},o.prototype.enterKey=function(u){return this._reporterState.path.push(u)},o.prototype.exitKey=function(u){const l=this._reporterState;l.path=l.path.slice(0,u-1)},o.prototype.leaveKey=function(u,l,d){const f=this._reporterState;this.exitKey(u),f.obj!==null&&(f.obj[l]=d)},o.prototype.path=function(){return this._reporterState.path.join("/")},o.prototype.enterObject=function(){const u=this._reporterState,l=u.obj;return u.obj={},l},o.prototype.leaveObject=function(u){const l=this._reporterState,d=l.obj;return l.obj=u,d},o.prototype.error=function(u){let l;const d=this._reporterState,f=u instanceof c;if(l=f?u:new c(d.path.map(function(h){return"["+JSON.stringify(h)+"]"}).join(""),u.message||u,u.stack),!d.options.partial)throw l;return f||d.errors.push(l),l},o.prototype.wrapResult=function(u){const l=this._reporterState;return l.options.partial?{result:this.isError(u)?null:u,errors:l.errors}:u},a(c,Error),c.prototype.rethrow=function(u){if(this.message=u+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,c),!this.stack)try{throw new Error(this.message)}catch(l){this.stack=l.stack}return this}},{inherits:440}],176:[function(e,s,i){function a(o){const c={};return Object.keys(o).forEach(function(u){(0|u)==u&&(u|=0);const l=o[u];c[l]=u}),c}i.tagClass={0:"universal",1:"application",2:"context",3:"private"},i.tagClassByName=a(i.tagClass),i.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},i.tagByName=a(i.tag)},{}],177:[function(e,s,i){const a=i;a._reverse=function(o){const c={};return Object.keys(o).forEach(function(u){(0|u)==u&&(u|=0);const l=o[u];c[l]=u}),c},a.der=e("./der")},{"./der":176}],178:[function(e,s,i){const a=e("inherits"),o=e("bn.js"),c=e("../base/buffer").DecoderBuffer,u=e("../base/node"),l=e("../constants/der");function d(g){this.enc="der",this.name=g.name,this.entity=g,this.tree=new f,this.tree._init(g.body)}function f(g){u.call(this,"der",g)}function h(g,v){let m=g.readUInt8(v);if(g.isError(m))return m;const x=l.tagClass[m>>6],y=(32&m)==0;if((31&m)==31){let w=m;for(m=0;(128&w)==128;){if(w=g.readUInt8(v),g.isError(w))return w;m<<=7,m|=127&w}}else m&=31;return{cls:x,primitive:y,tag:m,tagStr:l.tag[m]}}function p(g,v,m){let x=g.readUInt8(m);if(g.isError(x))return x;if(!v&&x===128)return null;if(!(128&x))return x;const y=127&x;if(y>4)return g.error("length octect is too long");x=0;for(let w=0;w<y;w++){x<<=8;const E=g.readUInt8(m);if(g.isError(E))return E;x|=E}return x}s.exports=d,d.prototype.decode=function(g,v){return c.isDecoderBuffer(g)||(g=new c(g,v)),this.tree._decode(g,v)},a(f,u),f.prototype._peekTag=function(g,v,m){if(g.isEmpty())return!1;const x=g.save(),y=h(g,'Failed to peek tag: "'+v+'"');return g.isError(y)?y:(g.restore(x),y.tag===v||y.tagStr===v||y.tagStr+"of"===v||m)},f.prototype._decodeTag=function(g,v,m){const x=h(g,'Failed to decode tag of "'+v+'"');if(g.isError(x))return x;let y=p(g,x.primitive,'Failed to get length of "'+v+'"');if(g.isError(y))return y;if(!m&&x.tag!==v&&x.tagStr!==v&&x.tagStr+"of"!==v)return g.error('Failed to match tag: "'+v+'"');if(x.primitive||y!==null)return g.skip(y,'Failed to match body of: "'+v+'"');const w=g.save(),E=this._skipUntilEnd(g,'Failed to skip indefinite length body: "'+this.tag+'"');return g.isError(E)?E:(y=g.offset-w.offset,g.restore(w),g.skip(y,'Failed to match body of: "'+v+'"'))},f.prototype._skipUntilEnd=function(g,v){for(;;){const m=h(g,v);if(g.isError(m))return m;const x=p(g,m.primitive,v);if(g.isError(x))return x;let y;if(y=m.primitive||x!==null?g.skip(x):this._skipUntilEnd(g,v),g.isError(y))return y;if(m.tagStr==="end")break}},f.prototype._decodeList=function(g,v,m,x){const y=[];for(;!g.isEmpty();){const w=this._peekTag(g,"end");if(g.isError(w))return w;const E=m.decode(g,"der",x);if(g.isError(E)&&w)break;y.push(E)}return y},f.prototype._decodeStr=function(g,v){if(v==="bitstr"){const m=g.readUInt8();return g.isError(m)?m:{unused:m,data:g.raw()}}if(v==="bmpstr"){const m=g.raw();if(m.length%2==1)return g.error("Decoding of string type: bmpstr length mismatch");let x="";for(let y=0;y<m.length/2;y++)x+=String.fromCharCode(m.readUInt16BE(2*y));return x}if(v==="numstr"){const m=g.raw().toString("ascii");return this._isNumstr(m)?m:g.error("Decoding of string type: numstr unsupported characters")}if(v==="octstr"||v==="objDesc")return g.raw();if(v==="printstr"){const m=g.raw().toString("ascii");return this._isPrintstr(m)?m:g.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(v)?g.raw().toString():g.error("Decoding of string type: "+v+" unsupported")},f.prototype._decodeObjid=function(g,v,m){let x;const y=[];let w=0,E=0;for(;!g.isEmpty();)E=g.readUInt8(),w<<=7,w|=127&E,!(128&E)&&(y.push(w),w=0);128&E&&y.push(w);const I=y[0]/40|0,T=y[0]%40;if(x=m?y:[I,T].concat(y.slice(1)),v){let R=v[x.join(" ")];R===void 0&&(R=v[x.join(".")]),R!==void 0&&(x=R)}return x},f.prototype._decodeTime=function(g,v){const m=g.raw().toString();let x,y,w,E,I,T;if(v==="gentime")x=0|m.slice(0,4),y=0|m.slice(4,6),w=0|m.slice(6,8),E=0|m.slice(8,10),I=0|m.slice(10,12),T=0|m.slice(12,14);else{if(v!=="utctime")return g.error("Decoding "+v+" time is not supported yet");x=0|m.slice(0,2),y=0|m.slice(2,4),w=0|m.slice(4,6),E=0|m.slice(6,8),I=0|m.slice(8,10),T=0|m.slice(10,12),x=x<70?2e3+x:1900+x}return Date.UTC(x,y-1,w,E,I,T,0)},f.prototype._decodeNull=function(){return null},f.prototype._decodeBool=function(g){const v=g.readUInt8();return g.isError(v)?v:v!==0},f.prototype._decodeInt=function(g,v){const m=g.raw();let x=new o(m);return v&&(x=v[x.toString(10)]||x),x},f.prototype._use=function(g,v){return typeof g=="function"&&(g=g(v)),g._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,s,i){const a=i;a.der=e("./der"),a.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,s,i){const a=e("inherits"),o=e("safer-buffer").Buffer,c=e("./der");function u(l){c.call(this,l),this.enc="pem"}a(u,c),s.exports=u,u.prototype.decode=function(l,d){const f=l.toString().split(/[\r\n]+/g),h=d.label.toUpperCase(),p=/^-----(BEGIN|END) ([^-]+)-----$/;let g=-1,v=-1;for(let y=0;y<f.length;y++){const w=f[y].match(p);if(w!==null&&w[2]===h){if(g!==-1){if(w[1]!=="END")break;v=y;break}if(w[1]!=="BEGIN")break;g=y}}if(g===-1||v===-1)throw new Error("PEM section not found for: "+h);const m=f.slice(g+1,v).join("");m.replace(/[^a-z0-9+/=]+/gi,"");const x=o.from(m,"base64");return c.prototype.decode.call(this,x,d)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,s,i){const a=e("inherits"),o=e("safer-buffer").Buffer,c=e("../base/node"),u=e("../constants/der");function l(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new d,this.tree._init(h.body)}function d(h){c.call(this,"der",h)}function f(h){return h<10?"0"+h:h}s.exports=l,l.prototype.encode=function(h,p){return this.tree._encode(h,p).join()},a(d,c),d.prototype._encodeComposite=function(h,p,g,v){const m=function(w,E,I,T){let R;if(w==="seqof"?w="seq":w==="setof"&&(w="set"),u.tagByName.hasOwnProperty(w))R=u.tagByName[w];else{if(typeof w!="number"||(0|w)!==w)return T.error("Unknown tag: "+w);R=w}return R>=31?T.error("Multi-octet tag encoding unsupported"):(E||(R|=32),R|=u.tagClassByName[I||"universal"]<<6,R)}(h,p,g,this.reporter);if(v.length<128){const w=o.alloc(2);return w[0]=m,w[1]=v.length,this._createEncoderBuffer([w,v])}let x=1;for(let w=v.length;w>=256;w>>=8)x++;const y=o.alloc(2+x);y[0]=m,y[1]=128|x;for(let w=1+x,E=v.length;E>0;w--,E>>=8)y[w]=255&E;return this._createEncoderBuffer([y,v])},d.prototype._encodeStr=function(h,p){if(p==="bitstr")return this._createEncoderBuffer([0|h.unused,h.data]);if(p==="bmpstr"){const g=o.alloc(2*h.length);for(let v=0;v<h.length;v++)g.writeUInt16BE(h.charCodeAt(v),2*v);return this._createEncoderBuffer(g)}return p==="numstr"?this._isNumstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: numstr supports only digits and space"):p==="printstr"?this._isPrintstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(p)||p==="objDesc"?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: "+p+" unsupported")},d.prototype._encodeObjid=function(h,p,g){if(typeof h=="string"){if(!p)return this.reporter.error("string objid given, but no values map found");if(!p.hasOwnProperty(h))return this.reporter.error("objid not found in values map");h=p[h].split(/[\s.]+/g);for(let y=0;y<h.length;y++)h[y]|=0}else if(Array.isArray(h)){h=h.slice();for(let y=0;y<h.length;y++)h[y]|=0}if(!Array.isArray(h))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(h));if(!g){if(h[1]>=40)return this.reporter.error("Second objid identifier OOB");h.splice(0,2,40*h[0]+h[1])}let v=0;for(let y=0;y<h.length;y++){let w=h[y];for(v++;w>=128;w>>=7)v++}const m=o.alloc(v);let x=m.length-1;for(let y=h.length-1;y>=0;y--){let w=h[y];for(m[x--]=127&w;(w>>=7)>0;)m[x--]=128|127&w}return this._createEncoderBuffer(m)},d.prototype._encodeTime=function(h,p){let g;const v=new Date(h);return p==="gentime"?g=[f(v.getUTCFullYear()),f(v.getUTCMonth()+1),f(v.getUTCDate()),f(v.getUTCHours()),f(v.getUTCMinutes()),f(v.getUTCSeconds()),"Z"].join(""):p==="utctime"?g=[f(v.getUTCFullYear()%100),f(v.getUTCMonth()+1),f(v.getUTCDate()),f(v.getUTCHours()),f(v.getUTCMinutes()),f(v.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+p+" time is not supported yet"),this._encodeStr(g,"octstr")},d.prototype._encodeNull=function(){return this._createEncoderBuffer("")},d.prototype._encodeInt=function(h,p){if(typeof h=="string"){if(!p)return this.reporter.error("String int or enum given, but no values map");if(!p.hasOwnProperty(h))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(h));h=p[h]}if(typeof h!="number"&&!o.isBuffer(h)){const m=h.toArray();!h.sign&&128&m[0]&&m.unshift(0),h=o.from(m)}if(o.isBuffer(h)){let m=h.length;h.length===0&&m++;const x=o.alloc(m);return h.copy(x),h.length===0&&(x[0]=0),this._createEncoderBuffer(x)}if(h<128)return this._createEncoderBuffer(h);if(h<256)return this._createEncoderBuffer([0,h]);let g=1;for(let m=h;m>=256;m>>=8)g++;const v=new Array(g);for(let m=v.length-1;m>=0;m--)v[m]=255&h,h>>=8;return 128&v[0]&&v.unshift(0),this._createEncoderBuffer(o.from(v))},d.prototype._encodeBool=function(h){return this._createEncoderBuffer(h?255:0)},d.prototype._use=function(h,p){return typeof h=="function"&&(h=h(p)),h._getEncoder("der").tree},d.prototype._skipDefault=function(h,p,g){const v=this._baseState;let m;if(v.default===null)return!1;const x=h.join();if(v.defaultBuffer===void 0&&(v.defaultBuffer=this._encodeValue(v.default,p,g).join()),x.length!==v.defaultBuffer.length)return!1;for(m=0;m<x.length;m++)if(x[m]!==v.defaultBuffer[m])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,s,i){const a=i;a.der=e("./der"),a.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,s,i){const a=e("inherits"),o=e("./der");function c(u){o.call(this,u),this.enc="pem"}a(c,o),s.exports=c,c.prototype.encode=function(u,l){const d=o.prototype.encode.call(this,u).toString("base64"),f=["-----BEGIN "+l.label+"-----"];for(let h=0;h<d.length;h+=64)f.push(d.slice(h,h+64));return f.push("-----END "+l.label+"-----"),f.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,s,i){(function(a,o){function c(P,F){if(!P)throw new Error(F||"Assertion failed")}function u(P,F){P.super_=F;var A=function(){};A.prototype=F.prototype,P.prototype=new A,P.prototype.constructor=P}function l(P,F,A){if(l.isBN(P))return P;this.negative=0,this.words=null,this.length=0,this.red=null,P!==null&&(F!=="le"&&F!=="be"||(A=F,F=10),this._init(P||0,F||10,A||"be"))}var d;typeof a=="object"?a.exports=l:(void 0).BN=l,l.BN=l,l.wordSize=26;try{d=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function f(P,F){var A=P.charCodeAt(F);return A>=65&&A<=70?A-55:A>=97&&A<=102?A-87:A-48&15}function h(P,F,A){var _=f(P,A);return A-1>=F&&(_|=f(P,A-1)<<4),_}function p(P,F,A,_){for(var S=0,N=Math.min(P.length,A),C=F;C<N;C++){var W=P.charCodeAt(C)-48;S*=_,S+=W>=49?W-49+10:W>=17?W-17+10:W}return S}l.isBN=function(P){return P instanceof l||P!==null&&typeof P=="object"&&P.constructor.wordSize===l.wordSize&&Array.isArray(P.words)},l.max=function(P,F){return P.cmp(F)>0?P:F},l.min=function(P,F){return P.cmp(F)<0?P:F},l.prototype._init=function(P,F,A){if(typeof P=="number")return this._initNumber(P,F,A);if(typeof P=="object")return this._initArray(P,F,A);F==="hex"&&(F=16),c(F===(0|F)&&F>=2&&F<=36);var _=0;(P=P.toString().replace(/\s+/g,""))[0]==="-"&&(_++,this.negative=1),_<P.length&&(F===16?this._parseHex(P,_,A):(this._parseBase(P,F,_),A==="le"&&this._initArray(this.toArray(),F,A)))},l.prototype._initNumber=function(P,F,A){P<0&&(this.negative=1,P=-P),P<67108864?(this.words=[67108863&P],this.length=1):P<4503599627370496?(this.words=[67108863&P,P/67108864&67108863],this.length=2):(c(P<9007199254740992),this.words=[67108863&P,P/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),F,A)},l.prototype._initArray=function(P,F,A){if(c(typeof P.length=="number"),P.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(P.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var S,N,C=0;if(A==="be")for(_=P.length-1,S=0;_>=0;_-=3)N=P[_]|P[_-1]<<8|P[_-2]<<16,this.words[S]|=N<<C&67108863,this.words[S+1]=N>>>26-C&67108863,(C+=24)>=26&&(C-=26,S++);else if(A==="le")for(_=0,S=0;_<P.length;_+=3)N=P[_]|P[_+1]<<8|P[_+2]<<16,this.words[S]|=N<<C&67108863,this.words[S+1]=N>>>26-C&67108863,(C+=24)>=26&&(C-=26,S++);return this.strip()},l.prototype._parseHex=function(P,F,A){this.length=Math.ceil((P.length-F)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var S,N=0,C=0;if(A==="be")for(_=P.length-1;_>=F;_-=2)S=h(P,F,_)<<N,this.words[C]|=67108863&S,N>=18?(N-=18,C+=1,this.words[C]|=S>>>26):N+=8;else for(_=(P.length-F)%2==0?F+1:F;_<P.length;_+=2)S=h(P,F,_)<<N,this.words[C]|=67108863&S,N>=18?(N-=18,C+=1,this.words[C]|=S>>>26):N+=8;this.strip()},l.prototype._parseBase=function(P,F,A){this.words=[0],this.length=1;for(var _=0,S=1;S<=67108863;S*=F)_++;_--,S=S/F|0;for(var N=P.length-A,C=N%_,W=Math.min(N,N-C)+A,j=0,B=A;B<W;B+=_)j=p(P,B,B+_,F),this.imuln(S),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j);if(C!==0){var G=1;for(j=p(P,B,P.length,F),B=0;B<C;B++)G*=F;this.imuln(G),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j)}this.strip()},l.prototype.copy=function(P){P.words=new Array(this.length);for(var F=0;F<this.length;F++)P.words[F]=this.words[F];P.length=this.length,P.negative=this.negative,P.red=this.red},l.prototype.clone=function(){var P=new l(null);return this.copy(P),P},l.prototype._expand=function(P){for(;this.length<P;)this.words[this.length++]=0;return this},l.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},l.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function x(P,F,A){A.negative=F.negative^P.negative;var _=P.length+F.length|0;A.length=_,_=_-1|0;var S=0|P.words[0],N=0|F.words[0],C=S*N,W=67108863&C,j=C/67108864|0;A.words[0]=W;for(var B=1;B<_;B++){for(var G=j>>>26,X=67108863&j,J=Math.min(B,F.length-1),O=Math.max(0,B-P.length+1);O<=J;O++){var ee=B-O|0;G+=(C=(S=0|P.words[ee])*(N=0|F.words[O])+X)/67108864|0,X=67108863&C}A.words[B]=0|X,j=0|G}return j!==0?A.words[B]=0|j:A.length--,A.strip()}l.prototype.toString=function(P,F){var A;if(F=0|F||1,(P=P||10)===16||P==="hex"){A="";for(var _=0,S=0,N=0;N<this.length;N++){var C=this.words[N],W=(16777215&(C<<_|S)).toString(16);A=(S=C>>>24-_&16777215)!==0||N!==this.length-1?g[6-W.length]+W+A:W+A,(_+=2)>=26&&(_-=26,N--)}for(S!==0&&(A=S.toString(16)+A);A.length%F!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(P===(0|P)&&P>=2&&P<=36){var j=v[P],B=m[P];A="";var G=this.clone();for(G.negative=0;!G.isZero();){var X=G.modn(B).toString(P);A=(G=G.idivn(B)).isZero()?X+A:g[j-X.length]+X+A}for(this.isZero()&&(A="0"+A);A.length%F!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}c(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var P=this.words[0];return this.length===2?P+=67108864*this.words[1]:this.length===3&&this.words[2]===1?P+=4503599627370496+67108864*this.words[1]:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-P:P},l.prototype.toJSON=function(){return this.toString(16)},l.prototype.toBuffer=function(P,F){return c(d!==void 0),this.toArrayLike(d,P,F)},l.prototype.toArray=function(P,F){return this.toArrayLike(Array,P,F)},l.prototype.toArrayLike=function(P,F,A){var _=this.byteLength(),S=A||Math.max(1,_);c(_<=S,"byte array longer than desired length"),c(S>0,"Requested array length <= 0"),this.strip();var N,C,W=F==="le",j=new P(S),B=this.clone();if(W){for(C=0;!B.isZero();C++)N=B.andln(255),B.iushrn(8),j[C]=N;for(;C<S;C++)j[C]=0}else{for(C=0;C<S-_;C++)j[C]=0;for(C=0;!B.isZero();C++)N=B.andln(255),B.iushrn(8),j[S-C-1]=N}return j},Math.clz32?l.prototype._countBits=function(P){return 32-Math.clz32(P)}:l.prototype._countBits=function(P){var F=P,A=0;return F>=4096&&(A+=13,F>>>=13),F>=64&&(A+=7,F>>>=7),F>=8&&(A+=4,F>>>=4),F>=2&&(A+=2,F>>>=2),A+F},l.prototype._zeroBits=function(P){if(P===0)return 26;var F=P,A=0;return!(8191&F)&&(A+=13,F>>>=13),!(127&F)&&(A+=7,F>>>=7),!(15&F)&&(A+=4,F>>>=4),!(3&F)&&(A+=2,F>>>=2),!(1&F)&&A++,A},l.prototype.bitLength=function(){var P=this.words[this.length-1],F=this._countBits(P);return 26*(this.length-1)+F},l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var P=0,F=0;F<this.length;F++){var A=this._zeroBits(this.words[F]);if(P+=A,A!==26)break}return P},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(P){return this.negative!==0?this.abs().inotn(P).iaddn(1):this.clone()},l.prototype.fromTwos=function(P){return this.testn(P-1)?this.notn(P).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(P){for(;this.length<P.length;)this.words[this.length++]=0;for(var F=0;F<P.length;F++)this.words[F]=this.words[F]|P.words[F];return this.strip()},l.prototype.ior=function(P){return c((this.negative|P.negative)==0),this.iuor(P)},l.prototype.or=function(P){return this.length>P.length?this.clone().ior(P):P.clone().ior(this)},l.prototype.uor=function(P){return this.length>P.length?this.clone().iuor(P):P.clone().iuor(this)},l.prototype.iuand=function(P){var F;F=this.length>P.length?P:this;for(var A=0;A<F.length;A++)this.words[A]=this.words[A]&P.words[A];return this.length=F.length,this.strip()},l.prototype.iand=function(P){return c((this.negative|P.negative)==0),this.iuand(P)},l.prototype.and=function(P){return this.length>P.length?this.clone().iand(P):P.clone().iand(this)},l.prototype.uand=function(P){return this.length>P.length?this.clone().iuand(P):P.clone().iuand(this)},l.prototype.iuxor=function(P){var F,A;this.length>P.length?(F=this,A=P):(F=P,A=this);for(var _=0;_<A.length;_++)this.words[_]=F.words[_]^A.words[_];if(this!==F)for(;_<F.length;_++)this.words[_]=F.words[_];return this.length=F.length,this.strip()},l.prototype.ixor=function(P){return c((this.negative|P.negative)==0),this.iuxor(P)},l.prototype.xor=function(P){return this.length>P.length?this.clone().ixor(P):P.clone().ixor(this)},l.prototype.uxor=function(P){return this.length>P.length?this.clone().iuxor(P):P.clone().iuxor(this)},l.prototype.inotn=function(P){c(typeof P=="number"&&P>=0);var F=0|Math.ceil(P/26),A=P%26;this._expand(F),A>0&&F--;for(var _=0;_<F;_++)this.words[_]=67108863&~this.words[_];return A>0&&(this.words[_]=~this.words[_]&67108863>>26-A),this.strip()},l.prototype.notn=function(P){return this.clone().inotn(P)},l.prototype.setn=function(P,F){c(typeof P=="number"&&P>=0);var A=P/26|0,_=P%26;return this._expand(A+1),this.words[A]=F?this.words[A]|1<<_:this.words[A]&~(1<<_),this.strip()},l.prototype.iadd=function(P){var F,A,_;if(this.negative!==0&&P.negative===0)return this.negative=0,F=this.isub(P),this.negative^=1,this._normSign();if(this.negative===0&&P.negative!==0)return P.negative=0,F=this.isub(P),P.negative=1,F._normSign();this.length>P.length?(A=this,_=P):(A=P,_=this);for(var S=0,N=0;N<_.length;N++)F=(0|A.words[N])+(0|_.words[N])+S,this.words[N]=67108863&F,S=F>>>26;for(;S!==0&&N<A.length;N++)F=(0|A.words[N])+S,this.words[N]=67108863&F,S=F>>>26;if(this.length=A.length,S!==0)this.words[this.length]=S,this.length++;else if(A!==this)for(;N<A.length;N++)this.words[N]=A.words[N];return this},l.prototype.add=function(P){var F;return P.negative!==0&&this.negative===0?(P.negative=0,F=this.sub(P),P.negative^=1,F):P.negative===0&&this.negative!==0?(this.negative=0,F=P.sub(this),this.negative=1,F):this.length>P.length?this.clone().iadd(P):P.clone().iadd(this)},l.prototype.isub=function(P){if(P.negative!==0){P.negative=0;var F=this.iadd(P);return P.negative=1,F._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(P),this.negative=1,this._normSign();var A,_,S=this.cmp(P);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(A=this,_=P):(A=P,_=this);for(var N=0,C=0;C<_.length;C++)N=(F=(0|A.words[C])-(0|_.words[C])+N)>>26,this.words[C]=67108863&F;for(;N!==0&&C<A.length;C++)N=(F=(0|A.words[C])+N)>>26,this.words[C]=67108863&F;if(N===0&&C<A.length&&A!==this)for(;C<A.length;C++)this.words[C]=A.words[C];return this.length=Math.max(this.length,C),A!==this&&(this.negative=1),this.strip()},l.prototype.sub=function(P){return this.clone().isub(P)};var y=function(P,F,A){var _,S,N,C=P.words,W=F.words,j=A.words,B=0,G=0|C[0],X=8191&G,J=G>>>13,O=0|C[1],ee=8191&O,U=O>>>13,z=0|C[2],Z=8191&z,te=z>>>13,oe=0|C[3],ue=8191&oe,le=oe>>>13,ce=0|C[4],_e=8191&ce,fe=ce>>>13,ge=0|C[5],xe=8191&ge,Le=ge>>>13,Me=0|C[6],Oe=8191&Me,ze=Me>>>13,Ke=0|C[7],ot=8191&Ke,$e=Ke>>>13,Ve=0|C[8],He=8191&Ve,rt=Ve>>>13,Je=0|C[9],wt=8191&Je,yt=Je>>>13,kt=0|W[0],mt=8191&kt,At=kt>>>13,$t=0|W[1],Tt=8191&$t,Yt=$t>>>13,nr=0|W[2],Xt=8191&nr,fr=nr>>>13,rr=0|W[3],qt=8191&rr,cr=rr>>>13,Tr=0|W[4],Qt=8191&Tr,xr=Tr>>>13,Rr=0|W[5],Lt=8191&Rr,Sr=Rr>>>13,Nr=0|W[6],ur=8191&Nr,qe=Nr>>>13,st=0|W[7],he=8191&st,Ee=st>>>13,Se=0|W[8],ye=8191&Se,Pe=Se>>>13,je=0|W[9],Ge=8191&je,lt=je>>>13;A.negative=P.negative^F.negative,A.length=19;var Xe=(B+(_=Math.imul(X,mt))|0)+((8191&(S=(S=Math.imul(X,At))+Math.imul(J,mt)|0))<<13)|0;B=((N=Math.imul(J,At))+(S>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,_=Math.imul(ee,mt),S=(S=Math.imul(ee,At))+Math.imul(U,mt)|0,N=Math.imul(U,At);var nt=(B+(_=_+Math.imul(X,Tt)|0)|0)+((8191&(S=(S=S+Math.imul(X,Yt)|0)+Math.imul(J,Tt)|0))<<13)|0;B=((N=N+Math.imul(J,Yt)|0)+(S>>>13)|0)+(nt>>>26)|0,nt&=67108863,_=Math.imul(Z,mt),S=(S=Math.imul(Z,At))+Math.imul(te,mt)|0,N=Math.imul(te,At),_=_+Math.imul(ee,Tt)|0,S=(S=S+Math.imul(ee,Yt)|0)+Math.imul(U,Tt)|0,N=N+Math.imul(U,Yt)|0;var ut=(B+(_=_+Math.imul(X,Xt)|0)|0)+((8191&(S=(S=S+Math.imul(X,fr)|0)+Math.imul(J,Xt)|0))<<13)|0;B=((N=N+Math.imul(J,fr)|0)+(S>>>13)|0)+(ut>>>26)|0,ut&=67108863,_=Math.imul(ue,mt),S=(S=Math.imul(ue,At))+Math.imul(le,mt)|0,N=Math.imul(le,At),_=_+Math.imul(Z,Tt)|0,S=(S=S+Math.imul(Z,Yt)|0)+Math.imul(te,Tt)|0,N=N+Math.imul(te,Yt)|0,_=_+Math.imul(ee,Xt)|0,S=(S=S+Math.imul(ee,fr)|0)+Math.imul(U,Xt)|0,N=N+Math.imul(U,fr)|0;var Nt=(B+(_=_+Math.imul(X,qt)|0)|0)+((8191&(S=(S=S+Math.imul(X,cr)|0)+Math.imul(J,qt)|0))<<13)|0;B=((N=N+Math.imul(J,cr)|0)+(S>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,_=Math.imul(_e,mt),S=(S=Math.imul(_e,At))+Math.imul(fe,mt)|0,N=Math.imul(fe,At),_=_+Math.imul(ue,Tt)|0,S=(S=S+Math.imul(ue,Yt)|0)+Math.imul(le,Tt)|0,N=N+Math.imul(le,Yt)|0,_=_+Math.imul(Z,Xt)|0,S=(S=S+Math.imul(Z,fr)|0)+Math.imul(te,Xt)|0,N=N+Math.imul(te,fr)|0,_=_+Math.imul(ee,qt)|0,S=(S=S+Math.imul(ee,cr)|0)+Math.imul(U,qt)|0,N=N+Math.imul(U,cr)|0;var Ft=(B+(_=_+Math.imul(X,Qt)|0)|0)+((8191&(S=(S=S+Math.imul(X,xr)|0)+Math.imul(J,Qt)|0))<<13)|0;B=((N=N+Math.imul(J,xr)|0)+(S>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,_=Math.imul(xe,mt),S=(S=Math.imul(xe,At))+Math.imul(Le,mt)|0,N=Math.imul(Le,At),_=_+Math.imul(_e,Tt)|0,S=(S=S+Math.imul(_e,Yt)|0)+Math.imul(fe,Tt)|0,N=N+Math.imul(fe,Yt)|0,_=_+Math.imul(ue,Xt)|0,S=(S=S+Math.imul(ue,fr)|0)+Math.imul(le,Xt)|0,N=N+Math.imul(le,fr)|0,_=_+Math.imul(Z,qt)|0,S=(S=S+Math.imul(Z,cr)|0)+Math.imul(te,qt)|0,N=N+Math.imul(te,cr)|0,_=_+Math.imul(ee,Qt)|0,S=(S=S+Math.imul(ee,xr)|0)+Math.imul(U,Qt)|0,N=N+Math.imul(U,xr)|0;var zt=(B+(_=_+Math.imul(X,Lt)|0)|0)+((8191&(S=(S=S+Math.imul(X,Sr)|0)+Math.imul(J,Lt)|0))<<13)|0;B=((N=N+Math.imul(J,Sr)|0)+(S>>>13)|0)+(zt>>>26)|0,zt&=67108863,_=Math.imul(Oe,mt),S=(S=Math.imul(Oe,At))+Math.imul(ze,mt)|0,N=Math.imul(ze,At),_=_+Math.imul(xe,Tt)|0,S=(S=S+Math.imul(xe,Yt)|0)+Math.imul(Le,Tt)|0,N=N+Math.imul(Le,Yt)|0,_=_+Math.imul(_e,Xt)|0,S=(S=S+Math.imul(_e,fr)|0)+Math.imul(fe,Xt)|0,N=N+Math.imul(fe,fr)|0,_=_+Math.imul(ue,qt)|0,S=(S=S+Math.imul(ue,cr)|0)+Math.imul(le,qt)|0,N=N+Math.imul(le,cr)|0,_=_+Math.imul(Z,Qt)|0,S=(S=S+Math.imul(Z,xr)|0)+Math.imul(te,Qt)|0,N=N+Math.imul(te,xr)|0,_=_+Math.imul(ee,Lt)|0,S=(S=S+Math.imul(ee,Sr)|0)+Math.imul(U,Lt)|0,N=N+Math.imul(U,Sr)|0;var Rt=(B+(_=_+Math.imul(X,ur)|0)|0)+((8191&(S=(S=S+Math.imul(X,qe)|0)+Math.imul(J,ur)|0))<<13)|0;B=((N=N+Math.imul(J,qe)|0)+(S>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,_=Math.imul(ot,mt),S=(S=Math.imul(ot,At))+Math.imul($e,mt)|0,N=Math.imul($e,At),_=_+Math.imul(Oe,Tt)|0,S=(S=S+Math.imul(Oe,Yt)|0)+Math.imul(ze,Tt)|0,N=N+Math.imul(ze,Yt)|0,_=_+Math.imul(xe,Xt)|0,S=(S=S+Math.imul(xe,fr)|0)+Math.imul(Le,Xt)|0,N=N+Math.imul(Le,fr)|0,_=_+Math.imul(_e,qt)|0,S=(S=S+Math.imul(_e,cr)|0)+Math.imul(fe,qt)|0,N=N+Math.imul(fe,cr)|0,_=_+Math.imul(ue,Qt)|0,S=(S=S+Math.imul(ue,xr)|0)+Math.imul(le,Qt)|0,N=N+Math.imul(le,xr)|0,_=_+Math.imul(Z,Lt)|0,S=(S=S+Math.imul(Z,Sr)|0)+Math.imul(te,Lt)|0,N=N+Math.imul(te,Sr)|0,_=_+Math.imul(ee,ur)|0,S=(S=S+Math.imul(ee,qe)|0)+Math.imul(U,ur)|0,N=N+Math.imul(U,qe)|0;var Ae=(B+(_=_+Math.imul(X,he)|0)|0)+((8191&(S=(S=S+Math.imul(X,Ee)|0)+Math.imul(J,he)|0))<<13)|0;B=((N=N+Math.imul(J,Ee)|0)+(S>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,_=Math.imul(He,mt),S=(S=Math.imul(He,At))+Math.imul(rt,mt)|0,N=Math.imul(rt,At),_=_+Math.imul(ot,Tt)|0,S=(S=S+Math.imul(ot,Yt)|0)+Math.imul($e,Tt)|0,N=N+Math.imul($e,Yt)|0,_=_+Math.imul(Oe,Xt)|0,S=(S=S+Math.imul(Oe,fr)|0)+Math.imul(ze,Xt)|0,N=N+Math.imul(ze,fr)|0,_=_+Math.imul(xe,qt)|0,S=(S=S+Math.imul(xe,cr)|0)+Math.imul(Le,qt)|0,N=N+Math.imul(Le,cr)|0,_=_+Math.imul(_e,Qt)|0,S=(S=S+Math.imul(_e,xr)|0)+Math.imul(fe,Qt)|0,N=N+Math.imul(fe,xr)|0,_=_+Math.imul(ue,Lt)|0,S=(S=S+Math.imul(ue,Sr)|0)+Math.imul(le,Lt)|0,N=N+Math.imul(le,Sr)|0,_=_+Math.imul(Z,ur)|0,S=(S=S+Math.imul(Z,qe)|0)+Math.imul(te,ur)|0,N=N+Math.imul(te,qe)|0,_=_+Math.imul(ee,he)|0,S=(S=S+Math.imul(ee,Ee)|0)+Math.imul(U,he)|0,N=N+Math.imul(U,Ee)|0;var Ye=(B+(_=_+Math.imul(X,ye)|0)|0)+((8191&(S=(S=S+Math.imul(X,Pe)|0)+Math.imul(J,ye)|0))<<13)|0;B=((N=N+Math.imul(J,Pe)|0)+(S>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,_=Math.imul(wt,mt),S=(S=Math.imul(wt,At))+Math.imul(yt,mt)|0,N=Math.imul(yt,At),_=_+Math.imul(He,Tt)|0,S=(S=S+Math.imul(He,Yt)|0)+Math.imul(rt,Tt)|0,N=N+Math.imul(rt,Yt)|0,_=_+Math.imul(ot,Xt)|0,S=(S=S+Math.imul(ot,fr)|0)+Math.imul($e,Xt)|0,N=N+Math.imul($e,fr)|0,_=_+Math.imul(Oe,qt)|0,S=(S=S+Math.imul(Oe,cr)|0)+Math.imul(ze,qt)|0,N=N+Math.imul(ze,cr)|0,_=_+Math.imul(xe,Qt)|0,S=(S=S+Math.imul(xe,xr)|0)+Math.imul(Le,Qt)|0,N=N+Math.imul(Le,xr)|0,_=_+Math.imul(_e,Lt)|0,S=(S=S+Math.imul(_e,Sr)|0)+Math.imul(fe,Lt)|0,N=N+Math.imul(fe,Sr)|0,_=_+Math.imul(ue,ur)|0,S=(S=S+Math.imul(ue,qe)|0)+Math.imul(le,ur)|0,N=N+Math.imul(le,qe)|0,_=_+Math.imul(Z,he)|0,S=(S=S+Math.imul(Z,Ee)|0)+Math.imul(te,he)|0,N=N+Math.imul(te,Ee)|0,_=_+Math.imul(ee,ye)|0,S=(S=S+Math.imul(ee,Pe)|0)+Math.imul(U,ye)|0,N=N+Math.imul(U,Pe)|0;var gt=(B+(_=_+Math.imul(X,Ge)|0)|0)+((8191&(S=(S=S+Math.imul(X,lt)|0)+Math.imul(J,Ge)|0))<<13)|0;B=((N=N+Math.imul(J,lt)|0)+(S>>>13)|0)+(gt>>>26)|0,gt&=67108863,_=Math.imul(wt,Tt),S=(S=Math.imul(wt,Yt))+Math.imul(yt,Tt)|0,N=Math.imul(yt,Yt),_=_+Math.imul(He,Xt)|0,S=(S=S+Math.imul(He,fr)|0)+Math.imul(rt,Xt)|0,N=N+Math.imul(rt,fr)|0,_=_+Math.imul(ot,qt)|0,S=(S=S+Math.imul(ot,cr)|0)+Math.imul($e,qt)|0,N=N+Math.imul($e,cr)|0,_=_+Math.imul(Oe,Qt)|0,S=(S=S+Math.imul(Oe,xr)|0)+Math.imul(ze,Qt)|0,N=N+Math.imul(ze,xr)|0,_=_+Math.imul(xe,Lt)|0,S=(S=S+Math.imul(xe,Sr)|0)+Math.imul(Le,Lt)|0,N=N+Math.imul(Le,Sr)|0,_=_+Math.imul(_e,ur)|0,S=(S=S+Math.imul(_e,qe)|0)+Math.imul(fe,ur)|0,N=N+Math.imul(fe,qe)|0,_=_+Math.imul(ue,he)|0,S=(S=S+Math.imul(ue,Ee)|0)+Math.imul(le,he)|0,N=N+Math.imul(le,Ee)|0,_=_+Math.imul(Z,ye)|0,S=(S=S+Math.imul(Z,Pe)|0)+Math.imul(te,ye)|0,N=N+Math.imul(te,Pe)|0;var Et=(B+(_=_+Math.imul(ee,Ge)|0)|0)+((8191&(S=(S=S+Math.imul(ee,lt)|0)+Math.imul(U,Ge)|0))<<13)|0;B=((N=N+Math.imul(U,lt)|0)+(S>>>13)|0)+(Et>>>26)|0,Et&=67108863,_=Math.imul(wt,Xt),S=(S=Math.imul(wt,fr))+Math.imul(yt,Xt)|0,N=Math.imul(yt,fr),_=_+Math.imul(He,qt)|0,S=(S=S+Math.imul(He,cr)|0)+Math.imul(rt,qt)|0,N=N+Math.imul(rt,cr)|0,_=_+Math.imul(ot,Qt)|0,S=(S=S+Math.imul(ot,xr)|0)+Math.imul($e,Qt)|0,N=N+Math.imul($e,xr)|0,_=_+Math.imul(Oe,Lt)|0,S=(S=S+Math.imul(Oe,Sr)|0)+Math.imul(ze,Lt)|0,N=N+Math.imul(ze,Sr)|0,_=_+Math.imul(xe,ur)|0,S=(S=S+Math.imul(xe,qe)|0)+Math.imul(Le,ur)|0,N=N+Math.imul(Le,qe)|0,_=_+Math.imul(_e,he)|0,S=(S=S+Math.imul(_e,Ee)|0)+Math.imul(fe,he)|0,N=N+Math.imul(fe,Ee)|0,_=_+Math.imul(ue,ye)|0,S=(S=S+Math.imul(ue,Pe)|0)+Math.imul(le,ye)|0,N=N+Math.imul(le,Pe)|0;var Kt=(B+(_=_+Math.imul(Z,Ge)|0)|0)+((8191&(S=(S=S+Math.imul(Z,lt)|0)+Math.imul(te,Ge)|0))<<13)|0;B=((N=N+Math.imul(te,lt)|0)+(S>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,_=Math.imul(wt,qt),S=(S=Math.imul(wt,cr))+Math.imul(yt,qt)|0,N=Math.imul(yt,cr),_=_+Math.imul(He,Qt)|0,S=(S=S+Math.imul(He,xr)|0)+Math.imul(rt,Qt)|0,N=N+Math.imul(rt,xr)|0,_=_+Math.imul(ot,Lt)|0,S=(S=S+Math.imul(ot,Sr)|0)+Math.imul($e,Lt)|0,N=N+Math.imul($e,Sr)|0,_=_+Math.imul(Oe,ur)|0,S=(S=S+Math.imul(Oe,qe)|0)+Math.imul(ze,ur)|0,N=N+Math.imul(ze,qe)|0,_=_+Math.imul(xe,he)|0,S=(S=S+Math.imul(xe,Ee)|0)+Math.imul(Le,he)|0,N=N+Math.imul(Le,Ee)|0,_=_+Math.imul(_e,ye)|0,S=(S=S+Math.imul(_e,Pe)|0)+Math.imul(fe,ye)|0,N=N+Math.imul(fe,Pe)|0;var Ht=(B+(_=_+Math.imul(ue,Ge)|0)|0)+((8191&(S=(S=S+Math.imul(ue,lt)|0)+Math.imul(le,Ge)|0))<<13)|0;B=((N=N+Math.imul(le,lt)|0)+(S>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,_=Math.imul(wt,Qt),S=(S=Math.imul(wt,xr))+Math.imul(yt,Qt)|0,N=Math.imul(yt,xr),_=_+Math.imul(He,Lt)|0,S=(S=S+Math.imul(He,Sr)|0)+Math.imul(rt,Lt)|0,N=N+Math.imul(rt,Sr)|0,_=_+Math.imul(ot,ur)|0,S=(S=S+Math.imul(ot,qe)|0)+Math.imul($e,ur)|0,N=N+Math.imul($e,qe)|0,_=_+Math.imul(Oe,he)|0,S=(S=S+Math.imul(Oe,Ee)|0)+Math.imul(ze,he)|0,N=N+Math.imul(ze,Ee)|0,_=_+Math.imul(xe,ye)|0,S=(S=S+Math.imul(xe,Pe)|0)+Math.imul(Le,ye)|0,N=N+Math.imul(Le,Pe)|0;var Vt=(B+(_=_+Math.imul(_e,Ge)|0)|0)+((8191&(S=(S=S+Math.imul(_e,lt)|0)+Math.imul(fe,Ge)|0))<<13)|0;B=((N=N+Math.imul(fe,lt)|0)+(S>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,_=Math.imul(wt,Lt),S=(S=Math.imul(wt,Sr))+Math.imul(yt,Lt)|0,N=Math.imul(yt,Sr),_=_+Math.imul(He,ur)|0,S=(S=S+Math.imul(He,qe)|0)+Math.imul(rt,ur)|0,N=N+Math.imul(rt,qe)|0,_=_+Math.imul(ot,he)|0,S=(S=S+Math.imul(ot,Ee)|0)+Math.imul($e,he)|0,N=N+Math.imul($e,Ee)|0,_=_+Math.imul(Oe,ye)|0,S=(S=S+Math.imul(Oe,Pe)|0)+Math.imul(ze,ye)|0,N=N+Math.imul(ze,Pe)|0;var Dr=(B+(_=_+Math.imul(xe,Ge)|0)|0)+((8191&(S=(S=S+Math.imul(xe,lt)|0)+Math.imul(Le,Ge)|0))<<13)|0;B=((N=N+Math.imul(Le,lt)|0)+(S>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,_=Math.imul(wt,ur),S=(S=Math.imul(wt,qe))+Math.imul(yt,ur)|0,N=Math.imul(yt,qe),_=_+Math.imul(He,he)|0,S=(S=S+Math.imul(He,Ee)|0)+Math.imul(rt,he)|0,N=N+Math.imul(rt,Ee)|0,_=_+Math.imul(ot,ye)|0,S=(S=S+Math.imul(ot,Pe)|0)+Math.imul($e,ye)|0,N=N+Math.imul($e,Pe)|0;var wr=(B+(_=_+Math.imul(Oe,Ge)|0)|0)+((8191&(S=(S=S+Math.imul(Oe,lt)|0)+Math.imul(ze,Ge)|0))<<13)|0;B=((N=N+Math.imul(ze,lt)|0)+(S>>>13)|0)+(wr>>>26)|0,wr&=67108863,_=Math.imul(wt,he),S=(S=Math.imul(wt,Ee))+Math.imul(yt,he)|0,N=Math.imul(yt,Ee),_=_+Math.imul(He,ye)|0,S=(S=S+Math.imul(He,Pe)|0)+Math.imul(rt,ye)|0,N=N+Math.imul(rt,Pe)|0;var Ar=(B+(_=_+Math.imul(ot,Ge)|0)|0)+((8191&(S=(S=S+Math.imul(ot,lt)|0)+Math.imul($e,Ge)|0))<<13)|0;B=((N=N+Math.imul($e,lt)|0)+(S>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,_=Math.imul(wt,ye),S=(S=Math.imul(wt,Pe))+Math.imul(yt,ye)|0,N=Math.imul(yt,Pe);var lr=(B+(_=_+Math.imul(He,Ge)|0)|0)+((8191&(S=(S=S+Math.imul(He,lt)|0)+Math.imul(rt,Ge)|0))<<13)|0;B=((N=N+Math.imul(rt,lt)|0)+(S>>>13)|0)+(lr>>>26)|0,lr&=67108863;var Er=(B+(_=Math.imul(wt,Ge))|0)+((8191&(S=(S=Math.imul(wt,lt))+Math.imul(yt,Ge)|0))<<13)|0;return B=((N=Math.imul(yt,lt))+(S>>>13)|0)+(Er>>>26)|0,Er&=67108863,j[0]=Xe,j[1]=nt,j[2]=ut,j[3]=Nt,j[4]=Ft,j[5]=zt,j[6]=Rt,j[7]=Ae,j[8]=Ye,j[9]=gt,j[10]=Et,j[11]=Kt,j[12]=Ht,j[13]=Vt,j[14]=Dr,j[15]=wr,j[16]=Ar,j[17]=lr,j[18]=Er,B!==0&&(j[19]=B,A.length++),A};function w(P,F,A){return new E().mulp(P,F,A)}function E(P,F){this.x=P,this.y=F}Math.imul||(y=x),l.prototype.mulTo=function(P,F){var A=this.length+P.length;return this.length===10&&P.length===10?y(this,P,F):A<63?x(this,P,F):A<1024?function(_,S,N){N.negative=S.negative^_.negative,N.length=_.length+S.length;for(var C=0,W=0,j=0;j<N.length-1;j++){var B=W;W=0;for(var G=67108863&C,X=Math.min(j,S.length-1),J=Math.max(0,j-_.length+1);J<=X;J++){var O=j-J,ee=(0|_.words[O])*(0|S.words[J]),U=67108863&ee;G=67108863&(U=U+G|0),W+=(B=(B=B+(ee/67108864|0)|0)+(U>>>26)|0)>>>26,B&=67108863}N.words[j]=G,C=B,B=W}return C!==0?N.words[j]=C:N.length--,N.strip()}(this,P,F):w(this,P,F)},E.prototype.makeRBT=function(P){for(var F=new Array(P),A=l.prototype._countBits(P)-1,_=0;_<P;_++)F[_]=this.revBin(_,A,P);return F},E.prototype.revBin=function(P,F,A){if(P===0||P===A-1)return P;for(var _=0,S=0;S<F;S++)_|=(1&P)<<F-S-1,P>>=1;return _},E.prototype.permute=function(P,F,A,_,S,N){for(var C=0;C<N;C++)_[C]=F[P[C]],S[C]=A[P[C]]},E.prototype.transform=function(P,F,A,_,S,N){this.permute(N,P,F,A,_,S);for(var C=1;C<S;C<<=1)for(var W=C<<1,j=Math.cos(2*Math.PI/W),B=Math.sin(2*Math.PI/W),G=0;G<S;G+=W)for(var X=j,J=B,O=0;O<C;O++){var ee=A[G+O],U=_[G+O],z=A[G+O+C],Z=_[G+O+C],te=X*z-J*Z;Z=X*Z+J*z,z=te,A[G+O]=ee+z,_[G+O]=U+Z,A[G+O+C]=ee-z,_[G+O+C]=U-Z,O!==W&&(te=j*X-B*J,J=j*J+B*X,X=te)}},E.prototype.guessLen13b=function(P,F){var A=1|Math.max(F,P),_=1&A,S=0;for(A=A/2|0;A;A>>>=1)S++;return 1<<S+1+_},E.prototype.conjugate=function(P,F,A){if(!(A<=1))for(var _=0;_<A/2;_++){var S=P[_];P[_]=P[A-_-1],P[A-_-1]=S,S=F[_],F[_]=-F[A-_-1],F[A-_-1]=-S}},E.prototype.normalize13b=function(P,F){for(var A=0,_=0;_<F/2;_++){var S=8192*Math.round(P[2*_+1]/F)+Math.round(P[2*_]/F)+A;P[_]=67108863&S,A=S<67108864?0:S/67108864|0}return P},E.prototype.convert13b=function(P,F,A,_){for(var S=0,N=0;N<F;N++)S+=0|P[N],A[2*N]=8191&S,S>>>=13,A[2*N+1]=8191&S,S>>>=13;for(N=2*F;N<_;++N)A[N]=0;c(S===0),c((-8192&S)==0)},E.prototype.stub=function(P){for(var F=new Array(P),A=0;A<P;A++)F[A]=0;return F},E.prototype.mulp=function(P,F,A){var _=2*this.guessLen13b(P.length,F.length),S=this.makeRBT(_),N=this.stub(_),C=new Array(_),W=new Array(_),j=new Array(_),B=new Array(_),G=new Array(_),X=new Array(_),J=A.words;J.length=_,this.convert13b(P.words,P.length,C,_),this.convert13b(F.words,F.length,B,_),this.transform(C,N,W,j,_,S),this.transform(B,N,G,X,_,S);for(var O=0;O<_;O++){var ee=W[O]*G[O]-j[O]*X[O];j[O]=W[O]*X[O]+j[O]*G[O],W[O]=ee}return this.conjugate(W,j,_),this.transform(W,j,J,N,_,S),this.conjugate(J,N,_),this.normalize13b(J,_),A.negative=P.negative^F.negative,A.length=P.length+F.length,A.strip()},l.prototype.mul=function(P){var F=new l(null);return F.words=new Array(this.length+P.length),this.mulTo(P,F)},l.prototype.mulf=function(P){var F=new l(null);return F.words=new Array(this.length+P.length),w(this,P,F)},l.prototype.imul=function(P){return this.clone().mulTo(P,this)},l.prototype.imuln=function(P){c(typeof P=="number"),c(P<67108864);for(var F=0,A=0;A<this.length;A++){var _=(0|this.words[A])*P,S=(67108863&_)+(67108863&F);F>>=26,F+=_/67108864|0,F+=S>>>26,this.words[A]=67108863&S}return F!==0&&(this.words[A]=F,this.length++),this},l.prototype.muln=function(P){return this.clone().imuln(P)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(P){var F=function(N){for(var C=new Array(N.bitLength()),W=0;W<C.length;W++){var j=W/26|0,B=W%26;C[W]=(N.words[j]&1<<B)>>>B}return C}(P);if(F.length===0)return new l(1);for(var A=this,_=0;_<F.length&&F[_]===0;_++,A=A.sqr());if(++_<F.length)for(var S=A.sqr();_<F.length;_++,S=S.sqr())F[_]!==0&&(A=A.mul(S));return A},l.prototype.iushln=function(P){c(typeof P=="number"&&P>=0);var F,A=P%26,_=(P-A)/26,S=67108863>>>26-A<<26-A;if(A!==0){var N=0;for(F=0;F<this.length;F++){var C=this.words[F]&S,W=(0|this.words[F])-C<<A;this.words[F]=W|N,N=C>>>26-A}N&&(this.words[F]=N,this.length++)}if(_!==0){for(F=this.length-1;F>=0;F--)this.words[F+_]=this.words[F];for(F=0;F<_;F++)this.words[F]=0;this.length+=_}return this.strip()},l.prototype.ishln=function(P){return c(this.negative===0),this.iushln(P)},l.prototype.iushrn=function(P,F,A){var _;c(typeof P=="number"&&P>=0),_=F?(F-F%26)/26:0;var S=P%26,N=Math.min((P-S)/26,this.length),C=67108863^67108863>>>S<<S,W=A;if(_-=N,_=Math.max(0,_),W){for(var j=0;j<N;j++)W.words[j]=this.words[j];W.length=N}if(N!==0)if(this.length>N)for(this.length-=N,j=0;j<this.length;j++)this.words[j]=this.words[j+N];else this.words[0]=0,this.length=1;var B=0;for(j=this.length-1;j>=0&&(B!==0||j>=_);j--){var G=0|this.words[j];this.words[j]=B<<26-S|G>>>S,B=G&C}return W&&B!==0&&(W.words[W.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},l.prototype.ishrn=function(P,F,A){return c(this.negative===0),this.iushrn(P,F,A)},l.prototype.shln=function(P){return this.clone().ishln(P)},l.prototype.ushln=function(P){return this.clone().iushln(P)},l.prototype.shrn=function(P){return this.clone().ishrn(P)},l.prototype.ushrn=function(P){return this.clone().iushrn(P)},l.prototype.testn=function(P){c(typeof P=="number"&&P>=0);var F=P%26,A=(P-F)/26,_=1<<F;return!(this.length<=A)&&!!(this.words[A]&_)},l.prototype.imaskn=function(P){c(typeof P=="number"&&P>=0);var F=P%26,A=(P-F)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(F!==0&&A++,this.length=Math.min(A,this.length),F!==0){var _=67108863^67108863>>>F<<F;this.words[this.length-1]&=_}return this.strip()},l.prototype.maskn=function(P){return this.clone().imaskn(P)},l.prototype.iaddn=function(P){return c(typeof P=="number"),c(P<67108864),P<0?this.isubn(-P):this.negative!==0?this.length===1&&(0|this.words[0])<P?(this.words[0]=P-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(P),this.negative=1,this):this._iaddn(P)},l.prototype._iaddn=function(P){this.words[0]+=P;for(var F=0;F<this.length&&this.words[F]>=67108864;F++)this.words[F]-=67108864,F===this.length-1?this.words[F+1]=1:this.words[F+1]++;return this.length=Math.max(this.length,F+1),this},l.prototype.isubn=function(P){if(c(typeof P=="number"),c(P<67108864),P<0)return this.iaddn(-P);if(this.negative!==0)return this.negative=0,this.iaddn(P),this.negative=1,this;if(this.words[0]-=P,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var F=0;F<this.length&&this.words[F]<0;F++)this.words[F]+=67108864,this.words[F+1]-=1;return this.strip()},l.prototype.addn=function(P){return this.clone().iaddn(P)},l.prototype.subn=function(P){return this.clone().isubn(P)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(P,F,A){var _,S,N=P.length+A;this._expand(N);var C=0;for(_=0;_<P.length;_++){S=(0|this.words[_+A])+C;var W=(0|P.words[_])*F;C=((S-=67108863&W)>>26)-(W/67108864|0),this.words[_+A]=67108863&S}for(;_<this.length-A;_++)C=(S=(0|this.words[_+A])+C)>>26,this.words[_+A]=67108863&S;if(C===0)return this.strip();for(c(C===-1),C=0,_=0;_<this.length;_++)C=(S=-(0|this.words[_])+C)>>26,this.words[_]=67108863&S;return this.negative=1,this.strip()},l.prototype._wordDiv=function(P,F){var A=(this.length,P.length),_=this.clone(),S=P,N=0|S.words[S.length-1];(A=26-this._countBits(N))!==0&&(S=S.ushln(A),_.iushln(A),N=0|S.words[S.length-1]);var C,W=_.length-S.length;if(F!=="mod"){(C=new l(null)).length=W+1,C.words=new Array(C.length);for(var j=0;j<C.length;j++)C.words[j]=0}var B=_.clone()._ishlnsubmul(S,1,W);B.negative===0&&(_=B,C&&(C.words[W]=1));for(var G=W-1;G>=0;G--){var X=67108864*(0|_.words[S.length+G])+(0|_.words[S.length+G-1]);for(X=Math.min(X/N|0,67108863),_._ishlnsubmul(S,X,G);_.negative!==0;)X--,_.negative=0,_._ishlnsubmul(S,1,G),_.isZero()||(_.negative^=1);C&&(C.words[G]=X)}return C&&C.strip(),_.strip(),F!=="div"&&A!==0&&_.iushrn(A),{div:C||null,mod:_}},l.prototype.divmod=function(P,F,A){return c(!P.isZero()),this.isZero()?{div:new l(0),mod:new l(0)}:this.negative!==0&&P.negative===0?(N=this.neg().divmod(P,F),F!=="mod"&&(_=N.div.neg()),F!=="div"&&(S=N.mod.neg(),A&&S.negative!==0&&S.iadd(P)),{div:_,mod:S}):this.negative===0&&P.negative!==0?(N=this.divmod(P.neg(),F),F!=="mod"&&(_=N.div.neg()),{div:_,mod:N.mod}):this.negative&P.negative?(N=this.neg().divmod(P.neg(),F),F!=="div"&&(S=N.mod.neg(),A&&S.negative!==0&&S.isub(P)),{div:N.div,mod:S}):P.length>this.length||this.cmp(P)<0?{div:new l(0),mod:this}:P.length===1?F==="div"?{div:this.divn(P.words[0]),mod:null}:F==="mod"?{div:null,mod:new l(this.modn(P.words[0]))}:{div:this.divn(P.words[0]),mod:new l(this.modn(P.words[0]))}:this._wordDiv(P,F);var _,S,N},l.prototype.div=function(P){return this.divmod(P,"div",!1).div},l.prototype.mod=function(P){return this.divmod(P,"mod",!1).mod},l.prototype.umod=function(P){return this.divmod(P,"mod",!0).mod},l.prototype.divRound=function(P){var F=this.divmod(P);if(F.mod.isZero())return F.div;var A=F.div.negative!==0?F.mod.isub(P):F.mod,_=P.ushrn(1),S=P.andln(1),N=A.cmp(_);return N<0||S===1&&N===0?F.div:F.div.negative!==0?F.div.isubn(1):F.div.iaddn(1)},l.prototype.modn=function(P){c(P<=67108863);for(var F=(1<<26)%P,A=0,_=this.length-1;_>=0;_--)A=(F*A+(0|this.words[_]))%P;return A},l.prototype.idivn=function(P){c(P<=67108863);for(var F=0,A=this.length-1;A>=0;A--){var _=(0|this.words[A])+67108864*F;this.words[A]=_/P|0,F=_%P}return this.strip()},l.prototype.divn=function(P){return this.clone().idivn(P)},l.prototype.egcd=function(P){c(P.negative===0),c(!P.isZero());var F=this,A=P.clone();F=F.negative!==0?F.umod(P):F.clone();for(var _=new l(1),S=new l(0),N=new l(0),C=new l(1),W=0;F.isEven()&&A.isEven();)F.iushrn(1),A.iushrn(1),++W;for(var j=A.clone(),B=F.clone();!F.isZero();){for(var G=0,X=1;!(F.words[0]&X)&&G<26;++G,X<<=1);if(G>0)for(F.iushrn(G);G-- >0;)(_.isOdd()||S.isOdd())&&(_.iadd(j),S.isub(B)),_.iushrn(1),S.iushrn(1);for(var J=0,O=1;!(A.words[0]&O)&&J<26;++J,O<<=1);if(J>0)for(A.iushrn(J);J-- >0;)(N.isOdd()||C.isOdd())&&(N.iadd(j),C.isub(B)),N.iushrn(1),C.iushrn(1);F.cmp(A)>=0?(F.isub(A),_.isub(N),S.isub(C)):(A.isub(F),N.isub(_),C.isub(S))}return{a:N,b:C,gcd:A.iushln(W)}},l.prototype._invmp=function(P){c(P.negative===0),c(!P.isZero());var F=this,A=P.clone();F=F.negative!==0?F.umod(P):F.clone();for(var _,S=new l(1),N=new l(0),C=A.clone();F.cmpn(1)>0&&A.cmpn(1)>0;){for(var W=0,j=1;!(F.words[0]&j)&&W<26;++W,j<<=1);if(W>0)for(F.iushrn(W);W-- >0;)S.isOdd()&&S.iadd(C),S.iushrn(1);for(var B=0,G=1;!(A.words[0]&G)&&B<26;++B,G<<=1);if(B>0)for(A.iushrn(B);B-- >0;)N.isOdd()&&N.iadd(C),N.iushrn(1);F.cmp(A)>=0?(F.isub(A),S.isub(N)):(A.isub(F),N.isub(S))}return(_=F.cmpn(1)===0?S:N).cmpn(0)<0&&_.iadd(P),_},l.prototype.gcd=function(P){if(this.isZero())return P.abs();if(P.isZero())return this.abs();var F=this.clone(),A=P.clone();F.negative=0,A.negative=0;for(var _=0;F.isEven()&&A.isEven();_++)F.iushrn(1),A.iushrn(1);for(;;){for(;F.isEven();)F.iushrn(1);for(;A.isEven();)A.iushrn(1);var S=F.cmp(A);if(S<0){var N=F;F=A,A=N}else if(S===0||A.cmpn(1)===0)break;F.isub(A)}return A.iushln(_)},l.prototype.invm=function(P){return this.egcd(P).a.umod(P)},l.prototype.isEven=function(){return(1&this.words[0])==0},l.prototype.isOdd=function(){return(1&this.words[0])==1},l.prototype.andln=function(P){return this.words[0]&P},l.prototype.bincn=function(P){c(typeof P=="number");var F=P%26,A=(P-F)/26,_=1<<F;if(this.length<=A)return this._expand(A+1),this.words[A]|=_,this;for(var S=_,N=A;S!==0&&N<this.length;N++){var C=0|this.words[N];S=(C+=S)>>>26,C&=67108863,this.words[N]=C}return S!==0&&(this.words[N]=S,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(P){var F,A=P<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;if(this.strip(),this.length>1)F=1;else{A&&(P=-P),c(P<=67108863,"Number is too big");var _=0|this.words[0];F=_===P?0:_<P?-1:1}return this.negative!==0?0|-F:F},l.prototype.cmp=function(P){if(this.negative!==0&&P.negative===0)return-1;if(this.negative===0&&P.negative!==0)return 1;var F=this.ucmp(P);return this.negative!==0?0|-F:F},l.prototype.ucmp=function(P){if(this.length>P.length)return 1;if(this.length<P.length)return-1;for(var F=0,A=this.length-1;A>=0;A--){var _=0|this.words[A],S=0|P.words[A];if(_!==S){_<S?F=-1:_>S&&(F=1);break}}return F},l.prototype.gtn=function(P){return this.cmpn(P)===1},l.prototype.gt=function(P){return this.cmp(P)===1},l.prototype.gten=function(P){return this.cmpn(P)>=0},l.prototype.gte=function(P){return this.cmp(P)>=0},l.prototype.ltn=function(P){return this.cmpn(P)===-1},l.prototype.lt=function(P){return this.cmp(P)===-1},l.prototype.lten=function(P){return this.cmpn(P)<=0},l.prototype.lte=function(P){return this.cmp(P)<=0},l.prototype.eqn=function(P){return this.cmpn(P)===0},l.prototype.eq=function(P){return this.cmp(P)===0},l.red=function(P){return new H(P)},l.prototype.toRed=function(P){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),P.convertTo(this)._forceRed(P)},l.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(P){return this.red=P,this},l.prototype.forceRed=function(P){return c(!this.red,"Already a number in reduction context"),this._forceRed(P)},l.prototype.redAdd=function(P){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,P)},l.prototype.redIAdd=function(P){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,P)},l.prototype.redSub=function(P){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,P)},l.prototype.redISub=function(P){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,P)},l.prototype.redShl=function(P){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,P)},l.prototype.redMul=function(P){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,P),this.red.mul(this,P)},l.prototype.redIMul=function(P){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,P),this.red.imul(this,P)},l.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(P){return c(this.red&&!P.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,P)};var I={k256:null,p224:null,p192:null,p25519:null};function T(P,F){this.name=P,this.p=new l(F,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function R(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function D(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function L(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function H(P){if(typeof P=="string"){var F=l._prime(P);this.m=F.p,this.prime=F}else c(P.gtn(1),"modulus must be greater than 1"),this.m=P,this.prime=null}function V(P){H.call(this,P),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T.prototype._tmp=function(){var P=new l(null);return P.words=new Array(Math.ceil(this.n/13)),P},T.prototype.ireduce=function(P){var F,A=P;do this.split(A,this.tmp),F=(A=(A=this.imulK(A)).iadd(this.tmp)).bitLength();while(F>this.n);var _=F<this.n?-1:A.ucmp(this.p);return _===0?(A.words[0]=0,A.length=1):_>0?A.isub(this.p):A.strip!==void 0?A.strip():A._strip(),A},T.prototype.split=function(P,F){P.iushrn(this.n,0,F)},T.prototype.imulK=function(P){return P.imul(this.k)},u(R,T),R.prototype.split=function(P,F){for(var A=Math.min(P.length,9),_=0;_<A;_++)F.words[_]=P.words[_];if(F.length=A,P.length<=9)return P.words[0]=0,void(P.length=1);var S=P.words[9];for(F.words[F.length++]=4194303&S,_=10;_<P.length;_++){var N=0|P.words[_];P.words[_-10]=(4194303&N)<<4|S>>>22,S=N}S>>>=22,P.words[_-10]=S,S===0&&P.length>10?P.length-=10:P.length-=9},R.prototype.imulK=function(P){P.words[P.length]=0,P.words[P.length+1]=0,P.length+=2;for(var F=0,A=0;A<P.length;A++){var _=0|P.words[A];F+=977*_,P.words[A]=67108863&F,F=64*_+(F/67108864|0)}return P.words[P.length-1]===0&&(P.length--,P.words[P.length-1]===0&&P.length--),P},u(D,T),u(L,T),u(M,T),M.prototype.imulK=function(P){for(var F=0,A=0;A<P.length;A++){var _=19*(0|P.words[A])+F,S=67108863&_;_>>>=26,P.words[A]=S,F=_}return F!==0&&(P.words[P.length++]=F),P},l._prime=function(P){if(I[P])return I[P];var F;if(P==="k256")F=new R;else if(P==="p224")F=new D;else if(P==="p192")F=new L;else{if(P!=="p25519")throw new Error("Unknown prime "+P);F=new M}return I[P]=F,F},H.prototype._verify1=function(P){c(P.negative===0,"red works only with positives"),c(P.red,"red works only with red numbers")},H.prototype._verify2=function(P,F){c((P.negative|F.negative)==0,"red works only with positives"),c(P.red&&P.red===F.red,"red works only with red numbers")},H.prototype.imod=function(P){return this.prime?this.prime.ireduce(P)._forceRed(this):P.umod(this.m)._forceRed(this)},H.prototype.neg=function(P){return P.isZero()?P.clone():this.m.sub(P)._forceRed(this)},H.prototype.add=function(P,F){this._verify2(P,F);var A=P.add(F);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},H.prototype.iadd=function(P,F){this._verify2(P,F);var A=P.iadd(F);return A.cmp(this.m)>=0&&A.isub(this.m),A},H.prototype.sub=function(P,F){this._verify2(P,F);var A=P.sub(F);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},H.prototype.isub=function(P,F){this._verify2(P,F);var A=P.isub(F);return A.cmpn(0)<0&&A.iadd(this.m),A},H.prototype.shl=function(P,F){return this._verify1(P),this.imod(P.ushln(F))},H.prototype.imul=function(P,F){return this._verify2(P,F),this.imod(P.imul(F))},H.prototype.mul=function(P,F){return this._verify2(P,F),this.imod(P.mul(F))},H.prototype.isqr=function(P){return this.imul(P,P.clone())},H.prototype.sqr=function(P){return this.mul(P,P)},H.prototype.sqrt=function(P){if(P.isZero())return P.clone();var F=this.m.andln(3);if(c(F%2==1),F===3){var A=this.m.add(new l(1)).iushrn(2);return this.pow(P,A)}for(var _=this.m.subn(1),S=0;!_.isZero()&&_.andln(1)===0;)S++,_.iushrn(1);c(!_.isZero());var N=new l(1).toRed(this),C=N.redNeg(),W=this.m.subn(1).iushrn(1),j=this.m.bitLength();for(j=new l(2*j*j).toRed(this);this.pow(j,W).cmp(C)!==0;)j.redIAdd(C);for(var B=this.pow(j,_),G=this.pow(P,_.addn(1).iushrn(1)),X=this.pow(P,_),J=S;X.cmp(N)!==0;){for(var O=X,ee=0;O.cmp(N)!==0;ee++)O=O.redSqr();c(ee<J);var U=this.pow(B,new l(1).iushln(J-ee-1));G=G.redMul(U),B=U.redSqr(),X=X.redMul(B),J=ee}return G},H.prototype.invm=function(P){var F=P._invmp(this.m);return F.negative!==0?(F.negative=0,this.imod(F).redNeg()):this.imod(F)},H.prototype.pow=function(P,F){if(F.isZero())return new l(1).toRed(this);if(F.cmpn(1)===0)return P.clone();var A=new Array(16);A[0]=new l(1).toRed(this),A[1]=P;for(var _=2;_<A.length;_++)A[_]=this.mul(A[_-1],P);var S=A[0],N=0,C=0,W=F.bitLength()%26;for(W===0&&(W=26),_=F.length-1;_>=0;_--){for(var j=F.words[_],B=W-1;B>=0;B--){var G=j>>B&1;S!==A[0]&&(S=this.sqr(S)),G!==0||N!==0?(N<<=1,N|=G,(++C===4||_===0&&B===0)&&(S=this.mul(S,A[N]),C=0,N=0)):C=0}W=26}return S},H.prototype.convertTo=function(P){var F=P.umod(this.m);return F===P?F.clone():F},H.prototype.convertFrom=function(P){var F=P.clone();return F.red=null,F},l.mont=function(P){return new V(P)},u(V,H),V.prototype.convertTo=function(P){return this.imod(P.ushln(this.shift))},V.prototype.convertFrom=function(P){var F=this.imod(P.mul(this.rinv));return F.red=null,F},V.prototype.imul=function(P,F){if(P.isZero()||F.isZero())return P.words[0]=0,P.length=1,P;var A=P.imul(F),_=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=A.isub(_).iushrn(this.shift),N=S;return S.cmp(this.m)>=0?N=S.isub(this.m):S.cmpn(0)<0&&(N=S.iadd(this.m)),N._forceRed(this)},V.prototype.mul=function(P,F){if(P.isZero()||F.isZero())return new l(0)._forceRed(this);var A=P.mul(F),_=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=A.isub(_).iushrn(this.shift),N=S;return S.cmp(this.m)>=0?N=S.isub(this.m):S.cmpn(0)<0&&(N=S.iadd(this.m)),N._forceRed(this)},V.prototype.invm=function(P){return this.imod(P._invmp(this.m).mul(this.r2))._forceRed(this)}})(s===void 0||s)},{buffer:188}],185:[function(e,s,i){i.byteLength=function(p){var g=f(p),v=g[0],m=g[1];return 3*(v+m)/4-m},i.toByteArray=function(p){var g,v,m=f(p),x=m[0],y=m[1],w=new c(function(T,R,D){return 3*(R+D)/4-D}(0,x,y)),E=0,I=y>0?x-4:x;for(v=0;v<I;v+=4)g=o[p.charCodeAt(v)]<<18|o[p.charCodeAt(v+1)]<<12|o[p.charCodeAt(v+2)]<<6|o[p.charCodeAt(v+3)],w[E++]=g>>16&255,w[E++]=g>>8&255,w[E++]=255&g;return y===2&&(g=o[p.charCodeAt(v)]<<2|o[p.charCodeAt(v+1)]>>4,w[E++]=255&g),y===1&&(g=o[p.charCodeAt(v)]<<10|o[p.charCodeAt(v+1)]<<4|o[p.charCodeAt(v+2)]>>2,w[E++]=g>>8&255,w[E++]=255&g),w},i.fromByteArray=function(p){for(var g,v=p.length,m=v%3,x=[],y=0,w=v-m;y<w;y+=16383)x.push(h(p,y,y+16383>w?w:y+16383));return m===1?(g=p[v-1],x.push(a[g>>2]+a[g<<4&63]+"==")):m===2&&(g=(p[v-2]<<8)+p[v-1],x.push(a[g>>10]+a[g>>4&63]+a[g<<2&63]+"=")),x.join("")};for(var a=[],o=[],c=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,d=u.length;l<d;++l)a[l]=u[l],o[u.charCodeAt(l)]=l;function f(p){var g=p.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=p.indexOf("=");return v===-1&&(v=g),[v,v===g?0:4-v%4]}function h(p,g,v){for(var m,x,y=[],w=g;w<v;w+=3)m=(p[w]<<16&16711680)+(p[w+1]<<8&65280)+(255&p[w+2]),y.push(a[(x=m)>>18&63]+a[x>>12&63]+a[x>>6&63]+a[63&x]);return y.join("")}o[45]=62,o[95]=63},{}],186:[function(e,s,i){(function(a,o){function c(A,_){if(!A)throw new Error(_||"Assertion failed")}function u(A,_){A.super_=_;var S=function(){};S.prototype=_.prototype,A.prototype=new S,A.prototype.constructor=A}function l(A,_,S){if(l.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&(_!=="le"&&_!=="be"||(S=_,_=10),this._init(A||0,_||10,S||"be"))}var d;typeof a=="object"?a.exports=l:(void 0).BN=l,l.BN=l,l.wordSize=26;try{d=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function f(A,_){var S=A.charCodeAt(_);return S>=48&&S<=57?S-48:S>=65&&S<=70?S-55:S>=97&&S<=102?S-87:void c(!1,"Invalid character in "+A)}function h(A,_,S){var N=f(A,S);return S-1>=_&&(N|=f(A,S-1)<<4),N}function p(A,_,S,N){for(var C=0,W=0,j=Math.min(A.length,S),B=_;B<j;B++){var G=A.charCodeAt(B)-48;C*=N,W=G>=49?G-49+10:G>=17?G-17+10:G,c(G>=0&&W<N,"Invalid character"),C+=W}return C}function g(A,_){A.words=_.words,A.length=_.length,A.negative=_.negative,A.red=_.red}if(l.isBN=function(A){return A instanceof l||A!==null&&typeof A=="object"&&A.constructor.wordSize===l.wordSize&&Array.isArray(A.words)},l.max=function(A,_){return A.cmp(_)>0?A:_},l.min=function(A,_){return A.cmp(_)<0?A:_},l.prototype._init=function(A,_,S){if(typeof A=="number")return this._initNumber(A,_,S);if(typeof A=="object")return this._initArray(A,_,S);_==="hex"&&(_=16),c(_===(0|_)&&_>=2&&_<=36);var N=0;(A=A.toString().replace(/\s+/g,""))[0]==="-"&&(N++,this.negative=1),N<A.length&&(_===16?this._parseHex(A,N,S):(this._parseBase(A,_,N),S==="le"&&this._initArray(this.toArray(),_,S)))},l.prototype._initNumber=function(A,_,S){A<0&&(this.negative=1,A=-A),A<67108864?(this.words=[67108863&A],this.length=1):A<4503599627370496?(this.words=[67108863&A,A/67108864&67108863],this.length=2):(c(A<9007199254740992),this.words=[67108863&A,A/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),_,S)},l.prototype._initArray=function(A,_,S){if(c(typeof A.length=="number"),A.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(A.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var C,W,j=0;if(S==="be")for(N=A.length-1,C=0;N>=0;N-=3)W=A[N]|A[N-1]<<8|A[N-2]<<16,this.words[C]|=W<<j&67108863,this.words[C+1]=W>>>26-j&67108863,(j+=24)>=26&&(j-=26,C++);else if(S==="le")for(N=0,C=0;N<A.length;N+=3)W=A[N]|A[N+1]<<8|A[N+2]<<16,this.words[C]|=W<<j&67108863,this.words[C+1]=W>>>26-j&67108863,(j+=24)>=26&&(j-=26,C++);return this._strip()},l.prototype._parseHex=function(A,_,S){this.length=Math.ceil((A.length-_)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var C,W=0,j=0;if(S==="be")for(N=A.length-1;N>=_;N-=2)C=h(A,_,N)<<W,this.words[j]|=67108863&C,W>=18?(W-=18,j+=1,this.words[j]|=C>>>26):W+=8;else for(N=(A.length-_)%2==0?_+1:_;N<A.length;N+=2)C=h(A,_,N)<<W,this.words[j]|=67108863&C,W>=18?(W-=18,j+=1,this.words[j]|=C>>>26):W+=8;this._strip()},l.prototype._parseBase=function(A,_,S){this.words=[0],this.length=1;for(var N=0,C=1;C<=67108863;C*=_)N++;N--,C=C/_|0;for(var W=A.length-S,j=W%N,B=Math.min(W,W-j)+S,G=0,X=S;X<B;X+=N)G=p(A,X,X+N,_),this.imuln(C),this.words[0]+G<67108864?this.words[0]+=G:this._iaddn(G);if(j!==0){var J=1;for(G=p(A,X,A.length,_),X=0;X<j;X++)J*=_;this.imuln(J),this.words[0]+G<67108864?this.words[0]+=G:this._iaddn(G)}this._strip()},l.prototype.copy=function(A){A.words=new Array(this.length);for(var _=0;_<this.length;_++)A.words[_]=this.words[_];A.length=this.length,A.negative=this.negative,A.red=this.red},l.prototype._move=function(A){g(A,this)},l.prototype.clone=function(){var A=new l(null);return this.copy(A),A},l.prototype._expand=function(A){for(;this.length<A;)this.words[this.length++]=0;return this},l.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{l.prototype[Symbol.for("nodejs.util.inspect.custom")]=v}catch{l.prototype.inspect=v}else l.prototype.inspect=v;function v(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=function(A,_){var S;if(_=0|_||1,(A=A||10)===16||A==="hex"){S="";for(var N=0,C=0,W=0;W<this.length;W++){var j=this.words[W],B=(16777215&(j<<N|C)).toString(16);C=j>>>24-N&16777215,(N+=2)>=26&&(N-=26,W--),S=C!==0||W!==this.length-1?m[6-B.length]+B+S:B+S}for(C!==0&&(S=C.toString(16)+S);S.length%_!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(A===(0|A)&&A>=2&&A<=36){var G=x[A],X=y[A];S="";var J=this.clone();for(J.negative=0;!J.isZero();){var O=J.modrn(X).toString(A);S=(J=J.idivn(X)).isZero()?O+S:m[G-O.length]+O+S}for(this.isZero()&&(S="0"+S);S.length%_!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}c(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var A=this.words[0];return this.length===2?A+=67108864*this.words[1]:this.length===3&&this.words[2]===1?A+=4503599627370496+67108864*this.words[1]:this.length>2&&c(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-A:A},l.prototype.toJSON=function(){return this.toString(16,2)},d&&(l.prototype.toBuffer=function(A,_){return this.toArrayLike(d,A,_)}),l.prototype.toArray=function(A,_){return this.toArrayLike(Array,A,_)};function w(A,_,S){S.negative=_.negative^A.negative;var N=A.length+_.length|0;S.length=N,N=N-1|0;var C=0|A.words[0],W=0|_.words[0],j=C*W,B=67108863&j,G=j/67108864|0;S.words[0]=B;for(var X=1;X<N;X++){for(var J=G>>>26,O=67108863&G,ee=Math.min(X,_.length-1),U=Math.max(0,X-A.length+1);U<=ee;U++){var z=X-U|0;J+=(j=(C=0|A.words[z])*(W=0|_.words[U])+O)/67108864|0,O=67108863&j}S.words[X]=0|O,G=0|J}return G!==0?S.words[X]=0|G:S.length--,S._strip()}l.prototype.toArrayLike=function(A,_,S){this._strip();var N=this.byteLength(),C=S||Math.max(1,N);c(N<=C,"byte array longer than desired length"),c(C>0,"Requested array length <= 0");var W=function(j,B){return j.allocUnsafe?j.allocUnsafe(B):new j(B)}(A,C);return this["_toArrayLike"+(_==="le"?"LE":"BE")](W,N),W},l.prototype._toArrayLikeLE=function(A,_){for(var S=0,N=0,C=0,W=0;C<this.length;C++){var j=this.words[C]<<W|N;A[S++]=255&j,S<A.length&&(A[S++]=j>>8&255),S<A.length&&(A[S++]=j>>16&255),W===6?(S<A.length&&(A[S++]=j>>24&255),N=0,W=0):(N=j>>>24,W+=2)}if(S<A.length)for(A[S++]=N;S<A.length;)A[S++]=0},l.prototype._toArrayLikeBE=function(A,_){for(var S=A.length-1,N=0,C=0,W=0;C<this.length;C++){var j=this.words[C]<<W|N;A[S--]=255&j,S>=0&&(A[S--]=j>>8&255),S>=0&&(A[S--]=j>>16&255),W===6?(S>=0&&(A[S--]=j>>24&255),N=0,W=0):(N=j>>>24,W+=2)}if(S>=0)for(A[S--]=N;S>=0;)A[S--]=0},Math.clz32?l.prototype._countBits=function(A){return 32-Math.clz32(A)}:l.prototype._countBits=function(A){var _=A,S=0;return _>=4096&&(S+=13,_>>>=13),_>=64&&(S+=7,_>>>=7),_>=8&&(S+=4,_>>>=4),_>=2&&(S+=2,_>>>=2),S+_},l.prototype._zeroBits=function(A){if(A===0)return 26;var _=A,S=0;return!(8191&_)&&(S+=13,_>>>=13),!(127&_)&&(S+=7,_>>>=7),!(15&_)&&(S+=4,_>>>=4),!(3&_)&&(S+=2,_>>>=2),!(1&_)&&S++,S},l.prototype.bitLength=function(){var A=this.words[this.length-1],_=this._countBits(A);return 26*(this.length-1)+_},l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var A=0,_=0;_<this.length;_++){var S=this._zeroBits(this.words[_]);if(A+=S,S!==26)break}return A},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(A){return this.negative!==0?this.abs().inotn(A).iaddn(1):this.clone()},l.prototype.fromTwos=function(A){return this.testn(A-1)?this.notn(A).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(A){for(;this.length<A.length;)this.words[this.length++]=0;for(var _=0;_<A.length;_++)this.words[_]=this.words[_]|A.words[_];return this._strip()},l.prototype.ior=function(A){return c((this.negative|A.negative)==0),this.iuor(A)},l.prototype.or=function(A){return this.length>A.length?this.clone().ior(A):A.clone().ior(this)},l.prototype.uor=function(A){return this.length>A.length?this.clone().iuor(A):A.clone().iuor(this)},l.prototype.iuand=function(A){var _;_=this.length>A.length?A:this;for(var S=0;S<_.length;S++)this.words[S]=this.words[S]&A.words[S];return this.length=_.length,this._strip()},l.prototype.iand=function(A){return c((this.negative|A.negative)==0),this.iuand(A)},l.prototype.and=function(A){return this.length>A.length?this.clone().iand(A):A.clone().iand(this)},l.prototype.uand=function(A){return this.length>A.length?this.clone().iuand(A):A.clone().iuand(this)},l.prototype.iuxor=function(A){var _,S;this.length>A.length?(_=this,S=A):(_=A,S=this);for(var N=0;N<S.length;N++)this.words[N]=_.words[N]^S.words[N];if(this!==_)for(;N<_.length;N++)this.words[N]=_.words[N];return this.length=_.length,this._strip()},l.prototype.ixor=function(A){return c((this.negative|A.negative)==0),this.iuxor(A)},l.prototype.xor=function(A){return this.length>A.length?this.clone().ixor(A):A.clone().ixor(this)},l.prototype.uxor=function(A){return this.length>A.length?this.clone().iuxor(A):A.clone().iuxor(this)},l.prototype.inotn=function(A){c(typeof A=="number"&&A>=0);var _=0|Math.ceil(A/26),S=A%26;this._expand(_),S>0&&_--;for(var N=0;N<_;N++)this.words[N]=67108863&~this.words[N];return S>0&&(this.words[N]=~this.words[N]&67108863>>26-S),this._strip()},l.prototype.notn=function(A){return this.clone().inotn(A)},l.prototype.setn=function(A,_){c(typeof A=="number"&&A>=0);var S=A/26|0,N=A%26;return this._expand(S+1),this.words[S]=_?this.words[S]|1<<N:this.words[S]&~(1<<N),this._strip()},l.prototype.iadd=function(A){var _,S,N;if(this.negative!==0&&A.negative===0)return this.negative=0,_=this.isub(A),this.negative^=1,this._normSign();if(this.negative===0&&A.negative!==0)return A.negative=0,_=this.isub(A),A.negative=1,_._normSign();this.length>A.length?(S=this,N=A):(S=A,N=this);for(var C=0,W=0;W<N.length;W++)_=(0|S.words[W])+(0|N.words[W])+C,this.words[W]=67108863&_,C=_>>>26;for(;C!==0&&W<S.length;W++)_=(0|S.words[W])+C,this.words[W]=67108863&_,C=_>>>26;if(this.length=S.length,C!==0)this.words[this.length]=C,this.length++;else if(S!==this)for(;W<S.length;W++)this.words[W]=S.words[W];return this},l.prototype.add=function(A){var _;return A.negative!==0&&this.negative===0?(A.negative=0,_=this.sub(A),A.negative^=1,_):A.negative===0&&this.negative!==0?(this.negative=0,_=A.sub(this),this.negative=1,_):this.length>A.length?this.clone().iadd(A):A.clone().iadd(this)},l.prototype.isub=function(A){if(A.negative!==0){A.negative=0;var _=this.iadd(A);return A.negative=1,_._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(A),this.negative=1,this._normSign();var S,N,C=this.cmp(A);if(C===0)return this.negative=0,this.length=1,this.words[0]=0,this;C>0?(S=this,N=A):(S=A,N=this);for(var W=0,j=0;j<N.length;j++)W=(_=(0|S.words[j])-(0|N.words[j])+W)>>26,this.words[j]=67108863&_;for(;W!==0&&j<S.length;j++)W=(_=(0|S.words[j])+W)>>26,this.words[j]=67108863&_;if(W===0&&j<S.length&&S!==this)for(;j<S.length;j++)this.words[j]=S.words[j];return this.length=Math.max(this.length,j),S!==this&&(this.negative=1),this._strip()},l.prototype.sub=function(A){return this.clone().isub(A)};var E=function(A,_,S){var N,C,W,j=A.words,B=_.words,G=S.words,X=0,J=0|j[0],O=8191&J,ee=J>>>13,U=0|j[1],z=8191&U,Z=U>>>13,te=0|j[2],oe=8191&te,ue=te>>>13,le=0|j[3],ce=8191&le,_e=le>>>13,fe=0|j[4],ge=8191&fe,xe=fe>>>13,Le=0|j[5],Me=8191&Le,Oe=Le>>>13,ze=0|j[6],Ke=8191&ze,ot=ze>>>13,$e=0|j[7],Ve=8191&$e,He=$e>>>13,rt=0|j[8],Je=8191&rt,wt=rt>>>13,yt=0|j[9],kt=8191&yt,mt=yt>>>13,At=0|B[0],$t=8191&At,Tt=At>>>13,Yt=0|B[1],nr=8191&Yt,Xt=Yt>>>13,fr=0|B[2],rr=8191&fr,qt=fr>>>13,cr=0|B[3],Tr=8191&cr,Qt=cr>>>13,xr=0|B[4],Rr=8191&xr,Lt=xr>>>13,Sr=0|B[5],Nr=8191&Sr,ur=Sr>>>13,qe=0|B[6],st=8191&qe,he=qe>>>13,Ee=0|B[7],Se=8191&Ee,ye=Ee>>>13,Pe=0|B[8],je=8191&Pe,Ge=Pe>>>13,lt=0|B[9],Xe=8191&lt,nt=lt>>>13;S.negative=A.negative^_.negative,S.length=19;var ut=(X+(N=Math.imul(O,$t))|0)+((8191&(C=(C=Math.imul(O,Tt))+Math.imul(ee,$t)|0))<<13)|0;X=((W=Math.imul(ee,Tt))+(C>>>13)|0)+(ut>>>26)|0,ut&=67108863,N=Math.imul(z,$t),C=(C=Math.imul(z,Tt))+Math.imul(Z,$t)|0,W=Math.imul(Z,Tt);var Nt=(X+(N=N+Math.imul(O,nr)|0)|0)+((8191&(C=(C=C+Math.imul(O,Xt)|0)+Math.imul(ee,nr)|0))<<13)|0;X=((W=W+Math.imul(ee,Xt)|0)+(C>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,N=Math.imul(oe,$t),C=(C=Math.imul(oe,Tt))+Math.imul(ue,$t)|0,W=Math.imul(ue,Tt),N=N+Math.imul(z,nr)|0,C=(C=C+Math.imul(z,Xt)|0)+Math.imul(Z,nr)|0,W=W+Math.imul(Z,Xt)|0;var Ft=(X+(N=N+Math.imul(O,rr)|0)|0)+((8191&(C=(C=C+Math.imul(O,qt)|0)+Math.imul(ee,rr)|0))<<13)|0;X=((W=W+Math.imul(ee,qt)|0)+(C>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,N=Math.imul(ce,$t),C=(C=Math.imul(ce,Tt))+Math.imul(_e,$t)|0,W=Math.imul(_e,Tt),N=N+Math.imul(oe,nr)|0,C=(C=C+Math.imul(oe,Xt)|0)+Math.imul(ue,nr)|0,W=W+Math.imul(ue,Xt)|0,N=N+Math.imul(z,rr)|0,C=(C=C+Math.imul(z,qt)|0)+Math.imul(Z,rr)|0,W=W+Math.imul(Z,qt)|0;var zt=(X+(N=N+Math.imul(O,Tr)|0)|0)+((8191&(C=(C=C+Math.imul(O,Qt)|0)+Math.imul(ee,Tr)|0))<<13)|0;X=((W=W+Math.imul(ee,Qt)|0)+(C>>>13)|0)+(zt>>>26)|0,zt&=67108863,N=Math.imul(ge,$t),C=(C=Math.imul(ge,Tt))+Math.imul(xe,$t)|0,W=Math.imul(xe,Tt),N=N+Math.imul(ce,nr)|0,C=(C=C+Math.imul(ce,Xt)|0)+Math.imul(_e,nr)|0,W=W+Math.imul(_e,Xt)|0,N=N+Math.imul(oe,rr)|0,C=(C=C+Math.imul(oe,qt)|0)+Math.imul(ue,rr)|0,W=W+Math.imul(ue,qt)|0,N=N+Math.imul(z,Tr)|0,C=(C=C+Math.imul(z,Qt)|0)+Math.imul(Z,Tr)|0,W=W+Math.imul(Z,Qt)|0;var Rt=(X+(N=N+Math.imul(O,Rr)|0)|0)+((8191&(C=(C=C+Math.imul(O,Lt)|0)+Math.imul(ee,Rr)|0))<<13)|0;X=((W=W+Math.imul(ee,Lt)|0)+(C>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,N=Math.imul(Me,$t),C=(C=Math.imul(Me,Tt))+Math.imul(Oe,$t)|0,W=Math.imul(Oe,Tt),N=N+Math.imul(ge,nr)|0,C=(C=C+Math.imul(ge,Xt)|0)+Math.imul(xe,nr)|0,W=W+Math.imul(xe,Xt)|0,N=N+Math.imul(ce,rr)|0,C=(C=C+Math.imul(ce,qt)|0)+Math.imul(_e,rr)|0,W=W+Math.imul(_e,qt)|0,N=N+Math.imul(oe,Tr)|0,C=(C=C+Math.imul(oe,Qt)|0)+Math.imul(ue,Tr)|0,W=W+Math.imul(ue,Qt)|0,N=N+Math.imul(z,Rr)|0,C=(C=C+Math.imul(z,Lt)|0)+Math.imul(Z,Rr)|0,W=W+Math.imul(Z,Lt)|0;var Ae=(X+(N=N+Math.imul(O,Nr)|0)|0)+((8191&(C=(C=C+Math.imul(O,ur)|0)+Math.imul(ee,Nr)|0))<<13)|0;X=((W=W+Math.imul(ee,ur)|0)+(C>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,N=Math.imul(Ke,$t),C=(C=Math.imul(Ke,Tt))+Math.imul(ot,$t)|0,W=Math.imul(ot,Tt),N=N+Math.imul(Me,nr)|0,C=(C=C+Math.imul(Me,Xt)|0)+Math.imul(Oe,nr)|0,W=W+Math.imul(Oe,Xt)|0,N=N+Math.imul(ge,rr)|0,C=(C=C+Math.imul(ge,qt)|0)+Math.imul(xe,rr)|0,W=W+Math.imul(xe,qt)|0,N=N+Math.imul(ce,Tr)|0,C=(C=C+Math.imul(ce,Qt)|0)+Math.imul(_e,Tr)|0,W=W+Math.imul(_e,Qt)|0,N=N+Math.imul(oe,Rr)|0,C=(C=C+Math.imul(oe,Lt)|0)+Math.imul(ue,Rr)|0,W=W+Math.imul(ue,Lt)|0,N=N+Math.imul(z,Nr)|0,C=(C=C+Math.imul(z,ur)|0)+Math.imul(Z,Nr)|0,W=W+Math.imul(Z,ur)|0;var Ye=(X+(N=N+Math.imul(O,st)|0)|0)+((8191&(C=(C=C+Math.imul(O,he)|0)+Math.imul(ee,st)|0))<<13)|0;X=((W=W+Math.imul(ee,he)|0)+(C>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,N=Math.imul(Ve,$t),C=(C=Math.imul(Ve,Tt))+Math.imul(He,$t)|0,W=Math.imul(He,Tt),N=N+Math.imul(Ke,nr)|0,C=(C=C+Math.imul(Ke,Xt)|0)+Math.imul(ot,nr)|0,W=W+Math.imul(ot,Xt)|0,N=N+Math.imul(Me,rr)|0,C=(C=C+Math.imul(Me,qt)|0)+Math.imul(Oe,rr)|0,W=W+Math.imul(Oe,qt)|0,N=N+Math.imul(ge,Tr)|0,C=(C=C+Math.imul(ge,Qt)|0)+Math.imul(xe,Tr)|0,W=W+Math.imul(xe,Qt)|0,N=N+Math.imul(ce,Rr)|0,C=(C=C+Math.imul(ce,Lt)|0)+Math.imul(_e,Rr)|0,W=W+Math.imul(_e,Lt)|0,N=N+Math.imul(oe,Nr)|0,C=(C=C+Math.imul(oe,ur)|0)+Math.imul(ue,Nr)|0,W=W+Math.imul(ue,ur)|0,N=N+Math.imul(z,st)|0,C=(C=C+Math.imul(z,he)|0)+Math.imul(Z,st)|0,W=W+Math.imul(Z,he)|0;var gt=(X+(N=N+Math.imul(O,Se)|0)|0)+((8191&(C=(C=C+Math.imul(O,ye)|0)+Math.imul(ee,Se)|0))<<13)|0;X=((W=W+Math.imul(ee,ye)|0)+(C>>>13)|0)+(gt>>>26)|0,gt&=67108863,N=Math.imul(Je,$t),C=(C=Math.imul(Je,Tt))+Math.imul(wt,$t)|0,W=Math.imul(wt,Tt),N=N+Math.imul(Ve,nr)|0,C=(C=C+Math.imul(Ve,Xt)|0)+Math.imul(He,nr)|0,W=W+Math.imul(He,Xt)|0,N=N+Math.imul(Ke,rr)|0,C=(C=C+Math.imul(Ke,qt)|0)+Math.imul(ot,rr)|0,W=W+Math.imul(ot,qt)|0,N=N+Math.imul(Me,Tr)|0,C=(C=C+Math.imul(Me,Qt)|0)+Math.imul(Oe,Tr)|0,W=W+Math.imul(Oe,Qt)|0,N=N+Math.imul(ge,Rr)|0,C=(C=C+Math.imul(ge,Lt)|0)+Math.imul(xe,Rr)|0,W=W+Math.imul(xe,Lt)|0,N=N+Math.imul(ce,Nr)|0,C=(C=C+Math.imul(ce,ur)|0)+Math.imul(_e,Nr)|0,W=W+Math.imul(_e,ur)|0,N=N+Math.imul(oe,st)|0,C=(C=C+Math.imul(oe,he)|0)+Math.imul(ue,st)|0,W=W+Math.imul(ue,he)|0,N=N+Math.imul(z,Se)|0,C=(C=C+Math.imul(z,ye)|0)+Math.imul(Z,Se)|0,W=W+Math.imul(Z,ye)|0;var Et=(X+(N=N+Math.imul(O,je)|0)|0)+((8191&(C=(C=C+Math.imul(O,Ge)|0)+Math.imul(ee,je)|0))<<13)|0;X=((W=W+Math.imul(ee,Ge)|0)+(C>>>13)|0)+(Et>>>26)|0,Et&=67108863,N=Math.imul(kt,$t),C=(C=Math.imul(kt,Tt))+Math.imul(mt,$t)|0,W=Math.imul(mt,Tt),N=N+Math.imul(Je,nr)|0,C=(C=C+Math.imul(Je,Xt)|0)+Math.imul(wt,nr)|0,W=W+Math.imul(wt,Xt)|0,N=N+Math.imul(Ve,rr)|0,C=(C=C+Math.imul(Ve,qt)|0)+Math.imul(He,rr)|0,W=W+Math.imul(He,qt)|0,N=N+Math.imul(Ke,Tr)|0,C=(C=C+Math.imul(Ke,Qt)|0)+Math.imul(ot,Tr)|0,W=W+Math.imul(ot,Qt)|0,N=N+Math.imul(Me,Rr)|0,C=(C=C+Math.imul(Me,Lt)|0)+Math.imul(Oe,Rr)|0,W=W+Math.imul(Oe,Lt)|0,N=N+Math.imul(ge,Nr)|0,C=(C=C+Math.imul(ge,ur)|0)+Math.imul(xe,Nr)|0,W=W+Math.imul(xe,ur)|0,N=N+Math.imul(ce,st)|0,C=(C=C+Math.imul(ce,he)|0)+Math.imul(_e,st)|0,W=W+Math.imul(_e,he)|0,N=N+Math.imul(oe,Se)|0,C=(C=C+Math.imul(oe,ye)|0)+Math.imul(ue,Se)|0,W=W+Math.imul(ue,ye)|0,N=N+Math.imul(z,je)|0,C=(C=C+Math.imul(z,Ge)|0)+Math.imul(Z,je)|0,W=W+Math.imul(Z,Ge)|0;var Kt=(X+(N=N+Math.imul(O,Xe)|0)|0)+((8191&(C=(C=C+Math.imul(O,nt)|0)+Math.imul(ee,Xe)|0))<<13)|0;X=((W=W+Math.imul(ee,nt)|0)+(C>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,N=Math.imul(kt,nr),C=(C=Math.imul(kt,Xt))+Math.imul(mt,nr)|0,W=Math.imul(mt,Xt),N=N+Math.imul(Je,rr)|0,C=(C=C+Math.imul(Je,qt)|0)+Math.imul(wt,rr)|0,W=W+Math.imul(wt,qt)|0,N=N+Math.imul(Ve,Tr)|0,C=(C=C+Math.imul(Ve,Qt)|0)+Math.imul(He,Tr)|0,W=W+Math.imul(He,Qt)|0,N=N+Math.imul(Ke,Rr)|0,C=(C=C+Math.imul(Ke,Lt)|0)+Math.imul(ot,Rr)|0,W=W+Math.imul(ot,Lt)|0,N=N+Math.imul(Me,Nr)|0,C=(C=C+Math.imul(Me,ur)|0)+Math.imul(Oe,Nr)|0,W=W+Math.imul(Oe,ur)|0,N=N+Math.imul(ge,st)|0,C=(C=C+Math.imul(ge,he)|0)+Math.imul(xe,st)|0,W=W+Math.imul(xe,he)|0,N=N+Math.imul(ce,Se)|0,C=(C=C+Math.imul(ce,ye)|0)+Math.imul(_e,Se)|0,W=W+Math.imul(_e,ye)|0,N=N+Math.imul(oe,je)|0,C=(C=C+Math.imul(oe,Ge)|0)+Math.imul(ue,je)|0,W=W+Math.imul(ue,Ge)|0;var Ht=(X+(N=N+Math.imul(z,Xe)|0)|0)+((8191&(C=(C=C+Math.imul(z,nt)|0)+Math.imul(Z,Xe)|0))<<13)|0;X=((W=W+Math.imul(Z,nt)|0)+(C>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,N=Math.imul(kt,rr),C=(C=Math.imul(kt,qt))+Math.imul(mt,rr)|0,W=Math.imul(mt,qt),N=N+Math.imul(Je,Tr)|0,C=(C=C+Math.imul(Je,Qt)|0)+Math.imul(wt,Tr)|0,W=W+Math.imul(wt,Qt)|0,N=N+Math.imul(Ve,Rr)|0,C=(C=C+Math.imul(Ve,Lt)|0)+Math.imul(He,Rr)|0,W=W+Math.imul(He,Lt)|0,N=N+Math.imul(Ke,Nr)|0,C=(C=C+Math.imul(Ke,ur)|0)+Math.imul(ot,Nr)|0,W=W+Math.imul(ot,ur)|0,N=N+Math.imul(Me,st)|0,C=(C=C+Math.imul(Me,he)|0)+Math.imul(Oe,st)|0,W=W+Math.imul(Oe,he)|0,N=N+Math.imul(ge,Se)|0,C=(C=C+Math.imul(ge,ye)|0)+Math.imul(xe,Se)|0,W=W+Math.imul(xe,ye)|0,N=N+Math.imul(ce,je)|0,C=(C=C+Math.imul(ce,Ge)|0)+Math.imul(_e,je)|0,W=W+Math.imul(_e,Ge)|0;var Vt=(X+(N=N+Math.imul(oe,Xe)|0)|0)+((8191&(C=(C=C+Math.imul(oe,nt)|0)+Math.imul(ue,Xe)|0))<<13)|0;X=((W=W+Math.imul(ue,nt)|0)+(C>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,N=Math.imul(kt,Tr),C=(C=Math.imul(kt,Qt))+Math.imul(mt,Tr)|0,W=Math.imul(mt,Qt),N=N+Math.imul(Je,Rr)|0,C=(C=C+Math.imul(Je,Lt)|0)+Math.imul(wt,Rr)|0,W=W+Math.imul(wt,Lt)|0,N=N+Math.imul(Ve,Nr)|0,C=(C=C+Math.imul(Ve,ur)|0)+Math.imul(He,Nr)|0,W=W+Math.imul(He,ur)|0,N=N+Math.imul(Ke,st)|0,C=(C=C+Math.imul(Ke,he)|0)+Math.imul(ot,st)|0,W=W+Math.imul(ot,he)|0,N=N+Math.imul(Me,Se)|0,C=(C=C+Math.imul(Me,ye)|0)+Math.imul(Oe,Se)|0,W=W+Math.imul(Oe,ye)|0,N=N+Math.imul(ge,je)|0,C=(C=C+Math.imul(ge,Ge)|0)+Math.imul(xe,je)|0,W=W+Math.imul(xe,Ge)|0;var Dr=(X+(N=N+Math.imul(ce,Xe)|0)|0)+((8191&(C=(C=C+Math.imul(ce,nt)|0)+Math.imul(_e,Xe)|0))<<13)|0;X=((W=W+Math.imul(_e,nt)|0)+(C>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,N=Math.imul(kt,Rr),C=(C=Math.imul(kt,Lt))+Math.imul(mt,Rr)|0,W=Math.imul(mt,Lt),N=N+Math.imul(Je,Nr)|0,C=(C=C+Math.imul(Je,ur)|0)+Math.imul(wt,Nr)|0,W=W+Math.imul(wt,ur)|0,N=N+Math.imul(Ve,st)|0,C=(C=C+Math.imul(Ve,he)|0)+Math.imul(He,st)|0,W=W+Math.imul(He,he)|0,N=N+Math.imul(Ke,Se)|0,C=(C=C+Math.imul(Ke,ye)|0)+Math.imul(ot,Se)|0,W=W+Math.imul(ot,ye)|0,N=N+Math.imul(Me,je)|0,C=(C=C+Math.imul(Me,Ge)|0)+Math.imul(Oe,je)|0,W=W+Math.imul(Oe,Ge)|0;var wr=(X+(N=N+Math.imul(ge,Xe)|0)|0)+((8191&(C=(C=C+Math.imul(ge,nt)|0)+Math.imul(xe,Xe)|0))<<13)|0;X=((W=W+Math.imul(xe,nt)|0)+(C>>>13)|0)+(wr>>>26)|0,wr&=67108863,N=Math.imul(kt,Nr),C=(C=Math.imul(kt,ur))+Math.imul(mt,Nr)|0,W=Math.imul(mt,ur),N=N+Math.imul(Je,st)|0,C=(C=C+Math.imul(Je,he)|0)+Math.imul(wt,st)|0,W=W+Math.imul(wt,he)|0,N=N+Math.imul(Ve,Se)|0,C=(C=C+Math.imul(Ve,ye)|0)+Math.imul(He,Se)|0,W=W+Math.imul(He,ye)|0,N=N+Math.imul(Ke,je)|0,C=(C=C+Math.imul(Ke,Ge)|0)+Math.imul(ot,je)|0,W=W+Math.imul(ot,Ge)|0;var Ar=(X+(N=N+Math.imul(Me,Xe)|0)|0)+((8191&(C=(C=C+Math.imul(Me,nt)|0)+Math.imul(Oe,Xe)|0))<<13)|0;X=((W=W+Math.imul(Oe,nt)|0)+(C>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,N=Math.imul(kt,st),C=(C=Math.imul(kt,he))+Math.imul(mt,st)|0,W=Math.imul(mt,he),N=N+Math.imul(Je,Se)|0,C=(C=C+Math.imul(Je,ye)|0)+Math.imul(wt,Se)|0,W=W+Math.imul(wt,ye)|0,N=N+Math.imul(Ve,je)|0,C=(C=C+Math.imul(Ve,Ge)|0)+Math.imul(He,je)|0,W=W+Math.imul(He,Ge)|0;var lr=(X+(N=N+Math.imul(Ke,Xe)|0)|0)+((8191&(C=(C=C+Math.imul(Ke,nt)|0)+Math.imul(ot,Xe)|0))<<13)|0;X=((W=W+Math.imul(ot,nt)|0)+(C>>>13)|0)+(lr>>>26)|0,lr&=67108863,N=Math.imul(kt,Se),C=(C=Math.imul(kt,ye))+Math.imul(mt,Se)|0,W=Math.imul(mt,ye),N=N+Math.imul(Je,je)|0,C=(C=C+Math.imul(Je,Ge)|0)+Math.imul(wt,je)|0,W=W+Math.imul(wt,Ge)|0;var Er=(X+(N=N+Math.imul(Ve,Xe)|0)|0)+((8191&(C=(C=C+Math.imul(Ve,nt)|0)+Math.imul(He,Xe)|0))<<13)|0;X=((W=W+Math.imul(He,nt)|0)+(C>>>13)|0)+(Er>>>26)|0,Er&=67108863,N=Math.imul(kt,je),C=(C=Math.imul(kt,Ge))+Math.imul(mt,je)|0,W=Math.imul(mt,Ge);var nn=(X+(N=N+Math.imul(Je,Xe)|0)|0)+((8191&(C=(C=C+Math.imul(Je,nt)|0)+Math.imul(wt,Xe)|0))<<13)|0;X=((W=W+Math.imul(wt,nt)|0)+(C>>>13)|0)+(nn>>>26)|0,nn&=67108863;var sn=(X+(N=Math.imul(kt,Xe))|0)+((8191&(C=(C=Math.imul(kt,nt))+Math.imul(mt,Xe)|0))<<13)|0;return X=((W=Math.imul(mt,nt))+(C>>>13)|0)+(sn>>>26)|0,sn&=67108863,G[0]=ut,G[1]=Nt,G[2]=Ft,G[3]=zt,G[4]=Rt,G[5]=Ae,G[6]=Ye,G[7]=gt,G[8]=Et,G[9]=Kt,G[10]=Ht,G[11]=Vt,G[12]=Dr,G[13]=wr,G[14]=Ar,G[15]=lr,G[16]=Er,G[17]=nn,G[18]=sn,X!==0&&(G[19]=X,S.length++),S};function I(A,_,S){S.negative=_.negative^A.negative,S.length=A.length+_.length;for(var N=0,C=0,W=0;W<S.length-1;W++){var j=C;C=0;for(var B=67108863&N,G=Math.min(W,_.length-1),X=Math.max(0,W-A.length+1);X<=G;X++){var J=W-X,O=(0|A.words[J])*(0|_.words[X]),ee=67108863&O;B=67108863&(ee=ee+B|0),C+=(j=(j=j+(O/67108864|0)|0)+(ee>>>26)|0)>>>26,j&=67108863}S.words[W]=B,N=j,j=C}return N!==0?S.words[W]=N:S.length--,S._strip()}function T(A,_,S){return I(A,_,S)}Math.imul||(E=w),l.prototype.mulTo=function(A,_){var S=this.length+A.length;return this.length===10&&A.length===10?E(this,A,_):S<63?w(this,A,_):S<1024?I(this,A,_):T(this,A,_)},l.prototype.mul=function(A){var _=new l(null);return _.words=new Array(this.length+A.length),this.mulTo(A,_)},l.prototype.mulf=function(A){var _=new l(null);return _.words=new Array(this.length+A.length),T(this,A,_)},l.prototype.imul=function(A){return this.clone().mulTo(A,this)},l.prototype.imuln=function(A){var _=A<0;_&&(A=-A),c(typeof A=="number"),c(A<67108864);for(var S=0,N=0;N<this.length;N++){var C=(0|this.words[N])*A,W=(67108863&C)+(67108863&S);S>>=26,S+=C/67108864|0,S+=W>>>26,this.words[N]=67108863&W}return S!==0&&(this.words[N]=S,this.length++),_?this.ineg():this},l.prototype.muln=function(A){return this.clone().imuln(A)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(A){var _=function(W){for(var j=new Array(W.bitLength()),B=0;B<j.length;B++){var G=B/26|0,X=B%26;j[B]=W.words[G]>>>X&1}return j}(A);if(_.length===0)return new l(1);for(var S=this,N=0;N<_.length&&_[N]===0;N++,S=S.sqr());if(++N<_.length)for(var C=S.sqr();N<_.length;N++,C=C.sqr())_[N]!==0&&(S=S.mul(C));return S},l.prototype.iushln=function(A){c(typeof A=="number"&&A>=0);var _,S=A%26,N=(A-S)/26,C=67108863>>>26-S<<26-S;if(S!==0){var W=0;for(_=0;_<this.length;_++){var j=this.words[_]&C,B=(0|this.words[_])-j<<S;this.words[_]=B|W,W=j>>>26-S}W&&(this.words[_]=W,this.length++)}if(N!==0){for(_=this.length-1;_>=0;_--)this.words[_+N]=this.words[_];for(_=0;_<N;_++)this.words[_]=0;this.length+=N}return this._strip()},l.prototype.ishln=function(A){return c(this.negative===0),this.iushln(A)},l.prototype.iushrn=function(A,_,S){var N;c(typeof A=="number"&&A>=0),N=_?(_-_%26)/26:0;var C=A%26,W=Math.min((A-C)/26,this.length),j=67108863^67108863>>>C<<C,B=S;if(N-=W,N=Math.max(0,N),B){for(var G=0;G<W;G++)B.words[G]=this.words[G];B.length=W}if(W!==0)if(this.length>W)for(this.length-=W,G=0;G<this.length;G++)this.words[G]=this.words[G+W];else this.words[0]=0,this.length=1;var X=0;for(G=this.length-1;G>=0&&(X!==0||G>=N);G--){var J=0|this.words[G];this.words[G]=X<<26-C|J>>>C,X=J&j}return B&&X!==0&&(B.words[B.length++]=X),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},l.prototype.ishrn=function(A,_,S){return c(this.negative===0),this.iushrn(A,_,S)},l.prototype.shln=function(A){return this.clone().ishln(A)},l.prototype.ushln=function(A){return this.clone().iushln(A)},l.prototype.shrn=function(A){return this.clone().ishrn(A)},l.prototype.ushrn=function(A){return this.clone().iushrn(A)},l.prototype.testn=function(A){c(typeof A=="number"&&A>=0);var _=A%26,S=(A-_)/26,N=1<<_;return!(this.length<=S)&&!!(this.words[S]&N)},l.prototype.imaskn=function(A){c(typeof A=="number"&&A>=0);var _=A%26,S=(A-_)/26;if(c(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(_!==0&&S++,this.length=Math.min(S,this.length),_!==0){var N=67108863^67108863>>>_<<_;this.words[this.length-1]&=N}return this._strip()},l.prototype.maskn=function(A){return this.clone().imaskn(A)},l.prototype.iaddn=function(A){return c(typeof A=="number"),c(A<67108864),A<0?this.isubn(-A):this.negative!==0?this.length===1&&(0|this.words[0])<=A?(this.words[0]=A-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(A),this.negative=1,this):this._iaddn(A)},l.prototype._iaddn=function(A){this.words[0]+=A;for(var _=0;_<this.length&&this.words[_]>=67108864;_++)this.words[_]-=67108864,_===this.length-1?this.words[_+1]=1:this.words[_+1]++;return this.length=Math.max(this.length,_+1),this},l.prototype.isubn=function(A){if(c(typeof A=="number"),c(A<67108864),A<0)return this.iaddn(-A);if(this.negative!==0)return this.negative=0,this.iaddn(A),this.negative=1,this;if(this.words[0]-=A,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _=0;_<this.length&&this.words[_]<0;_++)this.words[_]+=67108864,this.words[_+1]-=1;return this._strip()},l.prototype.addn=function(A){return this.clone().iaddn(A)},l.prototype.subn=function(A){return this.clone().isubn(A)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(A,_,S){var N,C,W=A.length+S;this._expand(W);var j=0;for(N=0;N<A.length;N++){C=(0|this.words[N+S])+j;var B=(0|A.words[N])*_;j=((C-=67108863&B)>>26)-(B/67108864|0),this.words[N+S]=67108863&C}for(;N<this.length-S;N++)j=(C=(0|this.words[N+S])+j)>>26,this.words[N+S]=67108863&C;if(j===0)return this._strip();for(c(j===-1),j=0,N=0;N<this.length;N++)j=(C=-(0|this.words[N])+j)>>26,this.words[N]=67108863&C;return this.negative=1,this._strip()},l.prototype._wordDiv=function(A,_){var S=(this.length,A.length),N=this.clone(),C=A,W=0|C.words[C.length-1];(S=26-this._countBits(W))!==0&&(C=C.ushln(S),N.iushln(S),W=0|C.words[C.length-1]);var j,B=N.length-C.length;if(_!=="mod"){(j=new l(null)).length=B+1,j.words=new Array(j.length);for(var G=0;G<j.length;G++)j.words[G]=0}var X=N.clone()._ishlnsubmul(C,1,B);X.negative===0&&(N=X,j&&(j.words[B]=1));for(var J=B-1;J>=0;J--){var O=67108864*(0|N.words[C.length+J])+(0|N.words[C.length+J-1]);for(O=Math.min(O/W|0,67108863),N._ishlnsubmul(C,O,J);N.negative!==0;)O--,N.negative=0,N._ishlnsubmul(C,1,J),N.isZero()||(N.negative^=1);j&&(j.words[J]=O)}return j&&j._strip(),N._strip(),_!=="div"&&S!==0&&N.iushrn(S),{div:j||null,mod:N}},l.prototype.divmod=function(A,_,S){return c(!A.isZero()),this.isZero()?{div:new l(0),mod:new l(0)}:this.negative!==0&&A.negative===0?(W=this.neg().divmod(A,_),_!=="mod"&&(N=W.div.neg()),_!=="div"&&(C=W.mod.neg(),S&&C.negative!==0&&C.iadd(A)),{div:N,mod:C}):this.negative===0&&A.negative!==0?(W=this.divmod(A.neg(),_),_!=="mod"&&(N=W.div.neg()),{div:N,mod:W.mod}):this.negative&A.negative?(W=this.neg().divmod(A.neg(),_),_!=="div"&&(C=W.mod.neg(),S&&C.negative!==0&&C.isub(A)),{div:W.div,mod:C}):A.length>this.length||this.cmp(A)<0?{div:new l(0),mod:this}:A.length===1?_==="div"?{div:this.divn(A.words[0]),mod:null}:_==="mod"?{div:null,mod:new l(this.modrn(A.words[0]))}:{div:this.divn(A.words[0]),mod:new l(this.modrn(A.words[0]))}:this._wordDiv(A,_);var N,C,W},l.prototype.div=function(A){return this.divmod(A,"div",!1).div},l.prototype.mod=function(A){return this.divmod(A,"mod",!1).mod},l.prototype.umod=function(A){return this.divmod(A,"mod",!0).mod},l.prototype.divRound=function(A){var _=this.divmod(A);if(_.mod.isZero())return _.div;var S=_.div.negative!==0?_.mod.isub(A):_.mod,N=A.ushrn(1),C=A.andln(1),W=S.cmp(N);return W<0||C===1&&W===0?_.div:_.div.negative!==0?_.div.isubn(1):_.div.iaddn(1)},l.prototype.modrn=function(A){var _=A<0;_&&(A=-A),c(A<=67108863);for(var S=(1<<26)%A,N=0,C=this.length-1;C>=0;C--)N=(S*N+(0|this.words[C]))%A;return _?-N:N},l.prototype.modn=function(A){return this.modrn(A)},l.prototype.idivn=function(A){var _=A<0;_&&(A=-A),c(A<=67108863);for(var S=0,N=this.length-1;N>=0;N--){var C=(0|this.words[N])+67108864*S;this.words[N]=C/A|0,S=C%A}return this._strip(),_?this.ineg():this},l.prototype.divn=function(A){return this.clone().idivn(A)},l.prototype.egcd=function(A){c(A.negative===0),c(!A.isZero());var _=this,S=A.clone();_=_.negative!==0?_.umod(A):_.clone();for(var N=new l(1),C=new l(0),W=new l(0),j=new l(1),B=0;_.isEven()&&S.isEven();)_.iushrn(1),S.iushrn(1),++B;for(var G=S.clone(),X=_.clone();!_.isZero();){for(var J=0,O=1;!(_.words[0]&O)&&J<26;++J,O<<=1);if(J>0)for(_.iushrn(J);J-- >0;)(N.isOdd()||C.isOdd())&&(N.iadd(G),C.isub(X)),N.iushrn(1),C.iushrn(1);for(var ee=0,U=1;!(S.words[0]&U)&&ee<26;++ee,U<<=1);if(ee>0)for(S.iushrn(ee);ee-- >0;)(W.isOdd()||j.isOdd())&&(W.iadd(G),j.isub(X)),W.iushrn(1),j.iushrn(1);_.cmp(S)>=0?(_.isub(S),N.isub(W),C.isub(j)):(S.isub(_),W.isub(N),j.isub(C))}return{a:W,b:j,gcd:S.iushln(B)}},l.prototype._invmp=function(A){c(A.negative===0),c(!A.isZero());var _=this,S=A.clone();_=_.negative!==0?_.umod(A):_.clone();for(var N,C=new l(1),W=new l(0),j=S.clone();_.cmpn(1)>0&&S.cmpn(1)>0;){for(var B=0,G=1;!(_.words[0]&G)&&B<26;++B,G<<=1);if(B>0)for(_.iushrn(B);B-- >0;)C.isOdd()&&C.iadd(j),C.iushrn(1);for(var X=0,J=1;!(S.words[0]&J)&&X<26;++X,J<<=1);if(X>0)for(S.iushrn(X);X-- >0;)W.isOdd()&&W.iadd(j),W.iushrn(1);_.cmp(S)>=0?(_.isub(S),C.isub(W)):(S.isub(_),W.isub(C))}return(N=_.cmpn(1)===0?C:W).cmpn(0)<0&&N.iadd(A),N},l.prototype.gcd=function(A){if(this.isZero())return A.abs();if(A.isZero())return this.abs();var _=this.clone(),S=A.clone();_.negative=0,S.negative=0;for(var N=0;_.isEven()&&S.isEven();N++)_.iushrn(1),S.iushrn(1);for(;;){for(;_.isEven();)_.iushrn(1);for(;S.isEven();)S.iushrn(1);var C=_.cmp(S);if(C<0){var W=_;_=S,S=W}else if(C===0||S.cmpn(1)===0)break;_.isub(S)}return S.iushln(N)},l.prototype.invm=function(A){return this.egcd(A).a.umod(A)},l.prototype.isEven=function(){return(1&this.words[0])==0},l.prototype.isOdd=function(){return(1&this.words[0])==1},l.prototype.andln=function(A){return this.words[0]&A},l.prototype.bincn=function(A){c(typeof A=="number");var _=A%26,S=(A-_)/26,N=1<<_;if(this.length<=S)return this._expand(S+1),this.words[S]|=N,this;for(var C=N,W=S;C!==0&&W<this.length;W++){var j=0|this.words[W];C=(j+=C)>>>26,j&=67108863,this.words[W]=j}return C!==0&&(this.words[W]=C,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(A){var _,S=A<0;if(this.negative!==0&&!S)return-1;if(this.negative===0&&S)return 1;if(this._strip(),this.length>1)_=1;else{S&&(A=-A),c(A<=67108863,"Number is too big");var N=0|this.words[0];_=N===A?0:N<A?-1:1}return this.negative!==0?0|-_:_},l.prototype.cmp=function(A){if(this.negative!==0&&A.negative===0)return-1;if(this.negative===0&&A.negative!==0)return 1;var _=this.ucmp(A);return this.negative!==0?0|-_:_},l.prototype.ucmp=function(A){if(this.length>A.length)return 1;if(this.length<A.length)return-1;for(var _=0,S=this.length-1;S>=0;S--){var N=0|this.words[S],C=0|A.words[S];if(N!==C){N<C?_=-1:N>C&&(_=1);break}}return _},l.prototype.gtn=function(A){return this.cmpn(A)===1},l.prototype.gt=function(A){return this.cmp(A)===1},l.prototype.gten=function(A){return this.cmpn(A)>=0},l.prototype.gte=function(A){return this.cmp(A)>=0},l.prototype.ltn=function(A){return this.cmpn(A)===-1},l.prototype.lt=function(A){return this.cmp(A)===-1},l.prototype.lten=function(A){return this.cmpn(A)<=0},l.prototype.lte=function(A){return this.cmp(A)<=0},l.prototype.eqn=function(A){return this.cmpn(A)===0},l.prototype.eq=function(A){return this.cmp(A)===0},l.red=function(A){return new P(A)},l.prototype.toRed=function(A){return c(!this.red,"Already a number in reduction context"),c(this.negative===0,"red works only with positives"),A.convertTo(this)._forceRed(A)},l.prototype.fromRed=function(){return c(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(A){return this.red=A,this},l.prototype.forceRed=function(A){return c(!this.red,"Already a number in reduction context"),this._forceRed(A)},l.prototype.redAdd=function(A){return c(this.red,"redAdd works only with red numbers"),this.red.add(this,A)},l.prototype.redIAdd=function(A){return c(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,A)},l.prototype.redSub=function(A){return c(this.red,"redSub works only with red numbers"),this.red.sub(this,A)},l.prototype.redISub=function(A){return c(this.red,"redISub works only with red numbers"),this.red.isub(this,A)},l.prototype.redShl=function(A){return c(this.red,"redShl works only with red numbers"),this.red.shl(this,A)},l.prototype.redMul=function(A){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.mul(this,A)},l.prototype.redIMul=function(A){return c(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.imul(this,A)},l.prototype.redSqr=function(){return c(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return c(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return c(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return c(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return c(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(A){return c(this.red&&!A.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,A)};var R={k256:null,p224:null,p192:null,p25519:null};function D(A,_){this.name=A,this.p=new l(_,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function L(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function M(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function H(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function V(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function P(A){if(typeof A=="string"){var _=l._prime(A);this.m=_.p,this.prime=_}else c(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}function F(A){P.call(this,A),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}D.prototype._tmp=function(){var A=new l(null);return A.words=new Array(Math.ceil(this.n/13)),A},D.prototype.ireduce=function(A){var _,S=A;do this.split(S,this.tmp),_=(S=(S=this.imulK(S)).iadd(this.tmp)).bitLength();while(_>this.n);var N=_<this.n?-1:S.ucmp(this.p);return N===0?(S.words[0]=0,S.length=1):N>0?S.isub(this.p):S.strip!==void 0?S.strip():S._strip(),S},D.prototype.split=function(A,_){A.iushrn(this.n,0,_)},D.prototype.imulK=function(A){return A.imul(this.k)},u(L,D),L.prototype.split=function(A,_){for(var S=Math.min(A.length,9),N=0;N<S;N++)_.words[N]=A.words[N];if(_.length=S,A.length<=9)return A.words[0]=0,void(A.length=1);var C=A.words[9];for(_.words[_.length++]=4194303&C,N=10;N<A.length;N++){var W=0|A.words[N];A.words[N-10]=(4194303&W)<<4|C>>>22,C=W}C>>>=22,A.words[N-10]=C,C===0&&A.length>10?A.length-=10:A.length-=9},L.prototype.imulK=function(A){A.words[A.length]=0,A.words[A.length+1]=0,A.length+=2;for(var _=0,S=0;S<A.length;S++){var N=0|A.words[S];_+=977*N,A.words[S]=67108863&_,_=64*N+(_/67108864|0)}return A.words[A.length-1]===0&&(A.length--,A.words[A.length-1]===0&&A.length--),A},u(M,D),u(H,D),u(V,D),V.prototype.imulK=function(A){for(var _=0,S=0;S<A.length;S++){var N=19*(0|A.words[S])+_,C=67108863&N;N>>>=26,A.words[S]=C,_=N}return _!==0&&(A.words[A.length++]=_),A},l._prime=function(A){if(R[A])return R[A];var _;if(A==="k256")_=new L;else if(A==="p224")_=new M;else if(A==="p192")_=new H;else{if(A!=="p25519")throw new Error("Unknown prime "+A);_=new V}return R[A]=_,_},P.prototype._verify1=function(A){c(A.negative===0,"red works only with positives"),c(A.red,"red works only with red numbers")},P.prototype._verify2=function(A,_){c((A.negative|_.negative)==0,"red works only with positives"),c(A.red&&A.red===_.red,"red works only with red numbers")},P.prototype.imod=function(A){return this.prime?this.prime.ireduce(A)._forceRed(this):(g(A,A.umod(this.m)._forceRed(this)),A)},P.prototype.neg=function(A){return A.isZero()?A.clone():this.m.sub(A)._forceRed(this)},P.prototype.add=function(A,_){this._verify2(A,_);var S=A.add(_);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},P.prototype.iadd=function(A,_){this._verify2(A,_);var S=A.iadd(_);return S.cmp(this.m)>=0&&S.isub(this.m),S},P.prototype.sub=function(A,_){this._verify2(A,_);var S=A.sub(_);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},P.prototype.isub=function(A,_){this._verify2(A,_);var S=A.isub(_);return S.cmpn(0)<0&&S.iadd(this.m),S},P.prototype.shl=function(A,_){return this._verify1(A),this.imod(A.ushln(_))},P.prototype.imul=function(A,_){return this._verify2(A,_),this.imod(A.imul(_))},P.prototype.mul=function(A,_){return this._verify2(A,_),this.imod(A.mul(_))},P.prototype.isqr=function(A){return this.imul(A,A.clone())},P.prototype.sqr=function(A){return this.mul(A,A)},P.prototype.sqrt=function(A){if(A.isZero())return A.clone();var _=this.m.andln(3);if(c(_%2==1),_===3){var S=this.m.add(new l(1)).iushrn(2);return this.pow(A,S)}for(var N=this.m.subn(1),C=0;!N.isZero()&&N.andln(1)===0;)C++,N.iushrn(1);c(!N.isZero());var W=new l(1).toRed(this),j=W.redNeg(),B=this.m.subn(1).iushrn(1),G=this.m.bitLength();for(G=new l(2*G*G).toRed(this);this.pow(G,B).cmp(j)!==0;)G.redIAdd(j);for(var X=this.pow(G,N),J=this.pow(A,N.addn(1).iushrn(1)),O=this.pow(A,N),ee=C;O.cmp(W)!==0;){for(var U=O,z=0;U.cmp(W)!==0;z++)U=U.redSqr();c(z<ee);var Z=this.pow(X,new l(1).iushln(ee-z-1));J=J.redMul(Z),X=Z.redSqr(),O=O.redMul(X),ee=z}return J},P.prototype.invm=function(A){var _=A._invmp(this.m);return _.negative!==0?(_.negative=0,this.imod(_).redNeg()):this.imod(_)},P.prototype.pow=function(A,_){if(_.isZero())return new l(1).toRed(this);if(_.cmpn(1)===0)return A.clone();var S=new Array(16);S[0]=new l(1).toRed(this),S[1]=A;for(var N=2;N<S.length;N++)S[N]=this.mul(S[N-1],A);var C=S[0],W=0,j=0,B=_.bitLength()%26;for(B===0&&(B=26),N=_.length-1;N>=0;N--){for(var G=_.words[N],X=B-1;X>=0;X--){var J=G>>X&1;C!==S[0]&&(C=this.sqr(C)),J!==0||W!==0?(W<<=1,W|=J,(++j===4||N===0&&X===0)&&(C=this.mul(C,S[W]),j=0,W=0)):j=0}B=26}return C},P.prototype.convertTo=function(A){var _=A.umod(this.m);return _===A?_.clone():_},P.prototype.convertFrom=function(A){var _=A.clone();return _.red=null,_},l.mont=function(A){return new F(A)},u(F,P),F.prototype.convertTo=function(A){return this.imod(A.ushln(this.shift))},F.prototype.convertFrom=function(A){var _=this.imod(A.mul(this.rinv));return _.red=null,_},F.prototype.imul=function(A,_){if(A.isZero()||_.isZero())return A.words[0]=0,A.length=1,A;var S=A.imul(_),N=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=S.isub(N).iushrn(this.shift),W=C;return C.cmp(this.m)>=0?W=C.isub(this.m):C.cmpn(0)<0&&(W=C.iadd(this.m)),W._forceRed(this)},F.prototype.mul=function(A,_){if(A.isZero()||_.isZero())return new l(0)._forceRed(this);var S=A.mul(_),N=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=S.isub(N).iushrn(this.shift),W=C;return C.cmp(this.m)>=0?W=C.isub(this.m):C.cmpn(0)<0&&(W=C.iadd(this.m)),W._forceRed(this)},F.prototype.invm=function(A){return this.imod(A._invmp(this.m).mul(this.r2))._forceRed(this)}})(s===void 0||s)},{buffer:188}],187:[function(e,s,i){var a;function o(u){this.rand=u}if(s.exports=function(u){return a||(a=new o(null)),a.generate(u)},s.exports.Rand=o,o.prototype.generate=function(u){return this._rand(u)},o.prototype._rand=function(u){if(this.rand.getBytes)return this.rand.getBytes(u);for(var l=new Uint8Array(u),d=0;d<l.length;d++)l[d]=this.rand.getByte();return l},typeof self=="object")self.crypto&&self.crypto.getRandomValues?o.prototype._rand=function(u){var l=new Uint8Array(u);return self.crypto.getRandomValues(l),l}:self.msCrypto&&self.msCrypto.getRandomValues?o.prototype._rand=function(u){var l=new Uint8Array(u);return self.msCrypto.getRandomValues(l),l}:typeof window=="object"&&(o.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var c=e("crypto");if(typeof c.randomBytes!="function")throw new Error("Not supported");o.prototype._rand=function(u){return c.randomBytes(u)}}catch{}},{crypto:188}],188:[function(e,s,i){},{}],189:[function(e,s,i){var a=e("safe-buffer").Buffer;function o(h){a.isBuffer(h)||(h=a.from(h));for(var p=h.length/4|0,g=new Array(p),v=0;v<p;v++)g[v]=h.readUInt32BE(4*v);return g}function c(h){for(;0<h.length;h++)h[0]=0}function u(h,p,g,v,m){for(var x,y,w,E,I=g[0],T=g[1],R=g[2],D=g[3],L=h[0]^p[0],M=h[1]^p[1],H=h[2]^p[2],V=h[3]^p[3],P=4,F=1;F<m;F++)x=I[L>>>24]^T[M>>>16&255]^R[H>>>8&255]^D[255&V]^p[P++],y=I[M>>>24]^T[H>>>16&255]^R[V>>>8&255]^D[255&L]^p[P++],w=I[H>>>24]^T[V>>>16&255]^R[L>>>8&255]^D[255&M]^p[P++],E=I[V>>>24]^T[L>>>16&255]^R[M>>>8&255]^D[255&H]^p[P++],L=x,M=y,H=w,V=E;return x=(v[L>>>24]<<24|v[M>>>16&255]<<16|v[H>>>8&255]<<8|v[255&V])^p[P++],y=(v[M>>>24]<<24|v[H>>>16&255]<<16|v[V>>>8&255]<<8|v[255&L])^p[P++],w=(v[H>>>24]<<24|v[V>>>16&255]<<16|v[L>>>8&255]<<8|v[255&M])^p[P++],E=(v[V>>>24]<<24|v[L>>>16&255]<<16|v[M>>>8&255]<<8|v[255&H])^p[P++],[x>>>=0,y>>>=0,w>>>=0,E>>>=0]}var l=[0,1,2,4,8,16,32,64,128,27,54],d=function(){for(var h=new Array(256),p=0;p<256;p++)h[p]=p<128?p<<1:p<<1^283;for(var g=[],v=[],m=[[],[],[],[]],x=[[],[],[],[]],y=0,w=0,E=0;E<256;++E){var I=w^w<<1^w<<2^w<<3^w<<4;I=I>>>8^255&I^99,g[y]=I,v[I]=y;var T=h[y],R=h[T],D=h[R],L=257*h[I]^16843008*I;m[0][y]=L<<24|L>>>8,m[1][y]=L<<16|L>>>16,m[2][y]=L<<8|L>>>24,m[3][y]=L,L=16843009*D^65537*R^257*T^16843008*y,x[0][I]=L<<24|L>>>8,x[1][I]=L<<16|L>>>16,x[2][I]=L<<8|L>>>24,x[3][I]=L,y===0?y=w=1:(y=T^h[h[h[D^T]]],w^=h[h[w]])}return{SBOX:g,INV_SBOX:v,SUB_MIX:m,INV_SUB_MIX:x}}();function f(h){this._key=o(h),this._reset()}f.blockSize=16,f.keySize=32,f.prototype.blockSize=f.blockSize,f.prototype.keySize=f.keySize,f.prototype._reset=function(){for(var h=this._key,p=h.length,g=p+6,v=4*(g+1),m=[],x=0;x<p;x++)m[x]=h[x];for(x=p;x<v;x++){var y=m[x-1];x%p==0?(y=y<<8|y>>>24,y=d.SBOX[y>>>24]<<24|d.SBOX[y>>>16&255]<<16|d.SBOX[y>>>8&255]<<8|d.SBOX[255&y],y^=l[x/p|0]<<24):p>6&&x%p==4&&(y=d.SBOX[y>>>24]<<24|d.SBOX[y>>>16&255]<<16|d.SBOX[y>>>8&255]<<8|d.SBOX[255&y]),m[x]=m[x-p]^y}for(var w=[],E=0;E<v;E++){var I=v-E,T=m[I-(E%4?0:4)];w[E]=E<4||I<=4?T:d.INV_SUB_MIX[0][d.SBOX[T>>>24]]^d.INV_SUB_MIX[1][d.SBOX[T>>>16&255]]^d.INV_SUB_MIX[2][d.SBOX[T>>>8&255]]^d.INV_SUB_MIX[3][d.SBOX[255&T]]}this._nRounds=g,this._keySchedule=m,this._invKeySchedule=w},f.prototype.encryptBlockRaw=function(h){return u(h=o(h),this._keySchedule,d.SUB_MIX,d.SBOX,this._nRounds)},f.prototype.encryptBlock=function(h){var p=this.encryptBlockRaw(h),g=a.allocUnsafe(16);return g.writeUInt32BE(p[0],0),g.writeUInt32BE(p[1],4),g.writeUInt32BE(p[2],8),g.writeUInt32BE(p[3],12),g},f.prototype.decryptBlock=function(h){var p=(h=o(h))[1];h[1]=h[3],h[3]=p;var g=u(h,this._invKeySchedule,d.INV_SUB_MIX,d.INV_SBOX,this._nRounds),v=a.allocUnsafe(16);return v.writeUInt32BE(g[0],0),v.writeUInt32BE(g[3],4),v.writeUInt32BE(g[2],8),v.writeUInt32BE(g[1],12),v},f.prototype.scrub=function(){c(this._keySchedule),c(this._invKeySchedule),c(this._key)},s.exports.AES=f},{"safe-buffer":494}],190:[function(e,s,i){var a=e("./aes"),o=e("safe-buffer").Buffer,c=e("cipher-base"),u=e("inherits"),l=e("./ghash"),d=e("buffer-xor"),f=e("./incr32");function h(p,g,v,m){c.call(this);var x=o.alloc(4,0);this._cipher=new a.AES(g);var y=this._cipher.encryptBlock(x);this._ghash=new l(y),v=function(w,E,I){if(E.length===12)return w._finID=o.concat([E,o.from([0,0,0,1])]),o.concat([E,o.from([0,0,0,2])]);var T=new l(I),R=E.length,D=R%16;T.update(E),D&&(D=16-D,T.update(o.alloc(D,0))),T.update(o.alloc(8,0));var L=8*R,M=o.alloc(8);M.writeUIntBE(L,0,8),T.update(M),w._finID=T.state;var H=o.from(w._finID);return f(H),H}(this,v,y),this._prev=o.from(v),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=m,this._alen=0,this._len=0,this._mode=p,this._authTag=null,this._called=!1}u(h,c),h.prototype._update=function(p){if(!this._called&&this._alen){var g=16-this._alen%16;g<16&&(g=o.alloc(g,0),this._ghash.update(g))}this._called=!0;var v=this._mode.encrypt(this,p);return this._decrypt?this._ghash.update(p):this._ghash.update(v),this._len+=p.length,v},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var p=d(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(g,v){var m=0;g.length!==v.length&&m++;for(var x=Math.min(g.length,v.length),y=0;y<x;++y)m+=g[y]^v[y];return m}(p,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=p,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!o.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(p){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=p},h.prototype.setAAD=function(p){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(p),this._alen+=p.length},s.exports=h},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,s,i){var a=e("./encrypter"),o=e("./decrypter"),c=e("./modes/list.json");i.createCipher=i.Cipher=a.createCipher,i.createCipheriv=i.Cipheriv=a.createCipheriv,i.createDecipher=i.Decipher=o.createDecipher,i.createDecipheriv=i.Decipheriv=o.createDecipheriv,i.listCiphers=i.getCiphers=function(){return Object.keys(c)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,s,i){var a=e("./authCipher"),o=e("safe-buffer").Buffer,c=e("./modes"),u=e("./streamCipher"),l=e("cipher-base"),d=e("./aes"),f=e("evp_bytestokey");function h(v,m,x){l.call(this),this._cache=new p,this._last=void 0,this._cipher=new d.AES(m),this._prev=o.from(x),this._mode=v,this._autopadding=!0}function p(){this.cache=o.allocUnsafe(0)}function g(v,m,x){var y=c[v.toLowerCase()];if(!y)throw new TypeError("invalid suite type");if(typeof x=="string"&&(x=o.from(x)),y.mode!=="GCM"&&x.length!==y.iv)throw new TypeError("invalid iv length "+x.length);if(typeof m=="string"&&(m=o.from(m)),m.length!==y.key/8)throw new TypeError("invalid key length "+m.length);return y.type==="stream"?new u(y.module,m,x,!0):y.type==="auth"?new a(y.module,m,x,!0):new h(y.module,m,x)}e("inherits")(h,l),h.prototype._update=function(v){var m,x;this._cache.add(v);for(var y=[];m=this._cache.get(this._autopadding);)x=this._mode.decrypt(this,m),y.push(x);return o.concat(y)},h.prototype._final=function(){var v=this._cache.flush();if(this._autopadding)return function(m){var x=m[15];if(x<1||x>16)throw new Error("unable to decrypt data");for(var y=-1;++y<x;)if(m[y+(16-x)]!==x)throw new Error("unable to decrypt data");if(x!==16)return m.slice(0,16-x)}(this._mode.decrypt(this,v));if(v)throw new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(v){return this._autopadding=!!v,this},p.prototype.add=function(v){this.cache=o.concat([this.cache,v])},p.prototype.get=function(v){var m;if(v){if(this.cache.length>16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m}else if(this.cache.length>=16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m;return null},p.prototype.flush=function(){if(this.cache.length)return this.cache},i.createDecipher=function(v,m){var x=c[v.toLowerCase()];if(!x)throw new TypeError("invalid suite type");var y=f(m,!1,x.key,x.iv);return g(v,y.key,y.iv)},i.createDecipheriv=g},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,s,i){var a=e("./modes"),o=e("./authCipher"),c=e("safe-buffer").Buffer,u=e("./streamCipher"),l=e("cipher-base"),d=e("./aes"),f=e("evp_bytestokey");function h(m,x,y){l.call(this),this._cache=new g,this._cipher=new d.AES(x),this._prev=c.from(y),this._mode=m,this._autopadding=!0}e("inherits")(h,l),h.prototype._update=function(m){var x,y;this._cache.add(m);for(var w=[];x=this._cache.get();)y=this._mode.encrypt(this,x),w.push(y);return c.concat(w)};var p=c.alloc(16,16);function g(){this.cache=c.allocUnsafe(0)}function v(m,x,y){var w=a[m.toLowerCase()];if(!w)throw new TypeError("invalid suite type");if(typeof x=="string"&&(x=c.from(x)),x.length!==w.key/8)throw new TypeError("invalid key length "+x.length);if(typeof y=="string"&&(y=c.from(y)),w.mode!=="GCM"&&y.length!==w.iv)throw new TypeError("invalid iv length "+y.length);return w.type==="stream"?new u(w.module,x,y):w.type==="auth"?new o(w.module,x,y):new h(w.module,x,y)}h.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return m=this._mode.encrypt(this,m),this._cipher.scrub(),m;if(!m.equals(p))throw this._cipher.scrub(),new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this},g.prototype.add=function(m){this.cache=c.concat([this.cache,m])},g.prototype.get=function(){if(this.cache.length>15){var m=this.cache.slice(0,16);return this.cache=this.cache.slice(16),m}return null},g.prototype.flush=function(){for(var m=16-this.cache.length,x=c.allocUnsafe(m),y=-1;++y<m;)x.writeUInt8(m,y);return c.concat([this.cache,x])},i.createCipheriv=v,i.createCipher=function(m,x){var y=a[m.toLowerCase()];if(!y)throw new TypeError("invalid suite type");var w=f(x,!1,y.key,y.iv);return v(m,w.key,w.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,s,i){var a=e("safe-buffer").Buffer,o=a.alloc(16,0);function c(l){var d=a.allocUnsafe(16);return d.writeUInt32BE(l[0]>>>0,0),d.writeUInt32BE(l[1]>>>0,4),d.writeUInt32BE(l[2]>>>0,8),d.writeUInt32BE(l[3]>>>0,12),d}function u(l){this.h=l,this.state=a.alloc(16,0),this.cache=a.allocUnsafe(0)}u.prototype.ghash=function(l){for(var d=-1;++d<l.length;)this.state[d]^=l[d];this._multiply()},u.prototype._multiply=function(){for(var l,d,f,h=[(l=this.h).readUInt32BE(0),l.readUInt32BE(4),l.readUInt32BE(8),l.readUInt32BE(12)],p=[0,0,0,0],g=-1;++g<128;){for(this.state[~~(g/8)]&1<<7-g%8&&(p[0]^=h[0],p[1]^=h[1],p[2]^=h[2],p[3]^=h[3]),f=(1&h[3])!=0,d=3;d>0;d--)h[d]=h[d]>>>1|(1&h[d-1])<<31;h[0]=h[0]>>>1,f&&(h[0]=h[0]^225<<24)}this.state=c(p)},u.prototype.update=function(l){var d;for(this.cache=a.concat([this.cache,l]);this.cache.length>=16;)d=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(d)},u.prototype.final=function(l,d){return this.cache.length&&this.ghash(a.concat([this.cache,o],16)),this.ghash(c([0,l,0,d])),this.state},s.exports=u},{"safe-buffer":494}],195:[function(e,s,i){s.exports=function(a){for(var o,c=a.length;c--;){if((o=a.readUInt8(c))!==255){o++,a.writeUInt8(o,c);break}a.writeUInt8(0,c)}}},{}],196:[function(e,s,i){var a=e("buffer-xor");i.encrypt=function(o,c){var u=a(c,o._prev);return o._prev=o._cipher.encryptBlock(u),o._prev},i.decrypt=function(o,c){var u=o._prev;o._prev=c;var l=o._cipher.decryptBlock(c);return a(l,u)}},{"buffer-xor":219}],197:[function(e,s,i){var a=e("safe-buffer").Buffer,o=e("buffer-xor");function c(u,l,d){var f=l.length,h=o(l,u._cache);return u._cache=u._cache.slice(f),u._prev=a.concat([u._prev,d?l:h]),h}i.encrypt=function(u,l,d){for(var f,h=a.allocUnsafe(0);l.length;){if(u._cache.length===0&&(u._cache=u._cipher.encryptBlock(u._prev),u._prev=a.allocUnsafe(0)),!(u._cache.length<=l.length)){h=a.concat([h,c(u,l,d)]);break}f=u._cache.length,h=a.concat([h,c(u,l.slice(0,f),d)]),l=l.slice(f)}return h}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,s,i){var a=e("safe-buffer").Buffer;function o(u,l,d){for(var f,h,p=-1,g=0;++p<8;)f=l&1<<7-p?128:0,g+=(128&(h=u._cipher.encryptBlock(u._prev)[0]^f))>>p%8,u._prev=c(u._prev,d?f:h);return g}function c(u,l){var d=u.length,f=-1,h=a.allocUnsafe(u.length);for(u=a.concat([u,a.from([l])]);++f<d;)h[f]=u[f]<<1|u[f+1]>>7;return h}i.encrypt=function(u,l,d){for(var f=l.length,h=a.allocUnsafe(f),p=-1;++p<f;)h[p]=o(u,l[p],d);return h}},{"safe-buffer":494}],199:[function(e,s,i){var a=e("safe-buffer").Buffer;function o(c,u,l){var d=c._cipher.encryptBlock(c._prev)[0]^u;return c._prev=a.concat([c._prev.slice(1),a.from([l?u:d])]),d}i.encrypt=function(c,u,l){for(var d=u.length,f=a.allocUnsafe(d),h=-1;++h<d;)f[h]=o(c,u[h],l);return f}},{"safe-buffer":494}],200:[function(e,s,i){var a=e("buffer-xor"),o=e("safe-buffer").Buffer,c=e("../incr32");function u(l){var d=l._cipher.encryptBlockRaw(l._prev);return c(l._prev),d}i.encrypt=function(l,d){var f=Math.ceil(d.length/16),h=l._cache.length;l._cache=o.concat([l._cache,o.allocUnsafe(16*f)]);for(var p=0;p<f;p++){var g=u(l),v=h+16*p;l._cache.writeUInt32BE(g[0],v+0),l._cache.writeUInt32BE(g[1],v+4),l._cache.writeUInt32BE(g[2],v+8),l._cache.writeUInt32BE(g[3],v+12)}var m=l._cache.slice(0,d.length);return l._cache=l._cache.slice(d.length),a(d,m)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,s,i){i.encrypt=function(a,o){return a._cipher.encryptBlock(o)},i.decrypt=function(a,o){return a._cipher.decryptBlock(o)}},{}],202:[function(e,s,i){var a={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},o=e("./list.json");for(var c in o)o[c].module=a[o[c].mode];s.exports=o},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,s,i){s.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,s,i){(function(a){(function(){var o=e("buffer-xor");function c(u){return u._prev=u._cipher.encryptBlock(u._prev),u._prev}i.encrypt=function(u,l){for(;u._cache.length<l.length;)u._cache=a.concat([u._cache,c(u)]);var d=u._cache.slice(0,l.length);return u._cache=u._cache.slice(l.length),o(l,d)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,s,i){var a=e("./aes"),o=e("safe-buffer").Buffer,c=e("cipher-base");function u(l,d,f,h){c.call(this),this._cipher=new a.AES(d),this._prev=o.from(f),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=h,this._mode=l}e("inherits")(u,c),u.prototype._update=function(l){return this._mode.encrypt(this,l,this._decrypt)},u.prototype._final=function(){this._cipher.scrub()},s.exports=u},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,s,i){var a=e("browserify-des"),o=e("browserify-aes/browser"),c=e("browserify-aes/modes"),u=e("browserify-des/modes"),l=e("evp_bytestokey");function d(h,p,g){if(h=h.toLowerCase(),c[h])return o.createCipheriv(h,p,g);if(u[h])return new a({key:p,iv:g,mode:h});throw new TypeError("invalid suite type")}function f(h,p,g){if(h=h.toLowerCase(),c[h])return o.createDecipheriv(h,p,g);if(u[h])return new a({key:p,iv:g,mode:h,decrypt:!0});throw new TypeError("invalid suite type")}i.createCipher=i.Cipher=function(h,p){var g,v;if(h=h.toLowerCase(),c[h])g=c[h].key,v=c[h].iv;else{if(!u[h])throw new TypeError("invalid suite type");g=8*u[h].key,v=u[h].iv}var m=l(p,!1,g,v);return d(h,m.key,m.iv)},i.createCipheriv=i.Cipheriv=d,i.createDecipher=i.Decipher=function(h,p){var g,v;if(h=h.toLowerCase(),c[h])g=c[h].key,v=c[h].iv;else{if(!u[h])throw new TypeError("invalid suite type");g=8*u[h].key,v=u[h].iv}var m=l(p,!1,g,v);return f(h,m.key,m.iv)},i.createDecipheriv=i.Decipheriv=f,i.listCiphers=i.getCiphers=function(){return Object.keys(u).concat(o.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,s,i){var a=e("cipher-base"),o=e("des.js"),c=e("inherits"),u=e("safe-buffer").Buffer,l={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};function d(f){a.call(this);var h,p=f.mode.toLowerCase(),g=l[p];h=f.decrypt?"decrypt":"encrypt";var v=f.key;u.isBuffer(v)||(v=u.from(v)),p!=="des-ede"&&p!=="des-ede-cbc"||(v=u.concat([v,v.slice(0,8)]));var m=f.iv;u.isBuffer(m)||(m=u.from(m)),this._des=g.create({key:v,iv:m,type:h})}l.des=l["des-cbc"],l.des3=l["des-ede3-cbc"],s.exports=d,c(d,a),d.prototype._update=function(f){return u.from(this._des.update(f))},d.prototype._final=function(){return u.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,s,i){i["des-ecb"]={key:8,iv:0},i["des-cbc"]=i.des={key:8,iv:8},i["des-ede3-cbc"]=i.des3={key:24,iv:8},i["des-ede3"]={key:24,iv:0},i["des-ede-cbc"]={key:16,iv:8},i["des-ede"]={key:16,iv:0}},{}],209:[function(e,s,i){(function(a){(function(){var o=e("bn.js"),c=e("randombytes");function u(d){var f,h=d.modulus.byteLength();do f=new o(c(h));while(f.cmp(d.modulus)>=0||!f.umod(d.prime1)||!f.umod(d.prime2));return f}function l(d,f){var h=function(R){var D=u(R);return{blinder:D.toRed(o.mont(R.modulus)).redPow(new o(R.publicExponent)).fromRed(),unblinder:D.invm(R.modulus)}}(f),p=f.modulus.byteLength(),g=new o(d).mul(h.blinder).umod(f.modulus),v=g.toRed(o.mont(f.prime1)),m=g.toRed(o.mont(f.prime2)),x=f.coefficient,y=f.prime1,w=f.prime2,E=v.redPow(f.exponent1).fromRed(),I=m.redPow(f.exponent2).fromRed(),T=E.isub(I).imul(x).umod(y).imul(w);return I.iadd(T).imul(h.unblinder).umod(f.modulus).toArrayLike(a,"be",p)}l.getr=u,s.exports=l}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,s,i){s.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,s,i){s.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,s,i){s.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,s,i){var a=e("safe-buffer").Buffer,o=e("create-hash"),c=e("readable-stream"),u=e("inherits"),l=e("./sign"),d=e("./verify"),f=e("./algorithms.json");function h(m){c.Writable.call(this);var x=f[m];if(!x)throw new Error("Unknown message digest");this._hashType=x.hash,this._hash=o(x.hash),this._tag=x.id,this._signType=x.sign}function p(m){c.Writable.call(this);var x=f[m];if(!x)throw new Error("Unknown message digest");this._hash=o(x.hash),this._tag=x.id,this._signType=x.sign}function g(m){return new h(m)}function v(m){return new p(m)}Object.keys(f).forEach(function(m){f[m].id=a.from(f[m].id,"hex"),f[m.toLowerCase()]=f[m]}),u(h,c.Writable),h.prototype._write=function(m,x,y){this._hash.update(m),y()},h.prototype.update=function(m,x){return typeof m=="string"&&(m=a.from(m,x)),this._hash.update(m),this},h.prototype.sign=function(m,x){this.end();var y=this._hash.digest(),w=l(y,m,this._hashType,this._signType,this._tag);return x?w.toString(x):w},u(p,c.Writable),p.prototype._write=function(m,x,y){this._hash.update(m),y()},p.prototype.update=function(m,x){return typeof m=="string"&&(m=a.from(m,x)),this._hash.update(m),this},p.prototype.verify=function(m,x,y){typeof x=="string"&&(x=a.from(x,y)),this.end();var w=this._hash.digest();return d(x,w,m,this._signType,this._tag)},s.exports={Sign:g,Verify:v,createSign:g,createVerify:v}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,s,i){var a=e("safe-buffer").Buffer,o=e("create-hmac"),c=e("browserify-rsa"),u=e("elliptic").ec,l=e("bn.js"),d=e("parse-asn1"),f=e("./curves.json");function h(m,x,y,w){if((m=a.from(m.toArray())).length<x.byteLength()){var E=a.alloc(x.byteLength()-m.length);m=a.concat([E,m])}var I=y.length,T=function(L,M){L=(L=p(L,M)).mod(M);var H=a.from(L.toArray());if(H.length<M.byteLength()){var V=a.alloc(M.byteLength()-H.length);H=a.concat([V,H])}return H}(y,x),R=a.alloc(I);R.fill(1);var D=a.alloc(I);return D=o(w,D).update(R).update(a.from([0])).update(m).update(T).digest(),R=o(w,D).update(R).digest(),{k:D=o(w,D).update(R).update(a.from([1])).update(m).update(T).digest(),v:R=o(w,D).update(R).digest()}}function p(m,x){var y=new l(m),w=(m.length<<3)-x.bitLength();return w>0&&y.ishrn(w),y}function g(m,x,y){var w,E;do{for(w=a.alloc(0);8*w.length<m.bitLength();)x.v=o(y,x.k).update(x.v).digest(),w=a.concat([w,x.v]);E=p(w,m),x.k=o(y,x.k).update(x.v).update(a.from([0])).digest(),x.v=o(y,x.k).update(x.v).digest()}while(E.cmp(m)!==-1);return E}function v(m,x,y,w){return m.toRed(l.mont(y)).redPow(x).fromRed().mod(w)}s.exports=function(m,x,y,w,E){var I=d(x);if(I.curve){if(w!=="ecdsa"&&w!=="ecdsa/rsa")throw new Error("wrong private key type");return function(L,M){var H=f[M.curve.join(".")];if(!H)throw new Error("unknown curve "+M.curve.join("."));var V=new u(H).keyFromPrivate(M.privateKey).sign(L);return a.from(V.toDER())}(m,I)}if(I.type==="dsa"){if(w!=="dsa")throw new Error("wrong private key type");return function(L,M,H){for(var V,P=M.params.priv_key,F=M.params.p,A=M.params.q,_=M.params.g,S=new l(0),N=p(L,A).mod(A),C=!1,W=h(P,A,L,H);C===!1;)V=g(A,W,H),S=v(_,V,F,A),(C=V.invm(A).imul(N.add(P.mul(S))).mod(A)).cmpn(0)===0&&(C=!1,S=new l(0));return function(j,B){j=j.toArray(),B=B.toArray(),128&j[0]&&(j=[0].concat(j)),128&B[0]&&(B=[0].concat(B));var G=[48,j.length+B.length+4,2,j.length];return G=G.concat(j,[2,B.length],B),a.from(G)}(S,C)}(m,I,y)}if(w!=="rsa"&&w!=="ecdsa/rsa")throw new Error("wrong private key type");m=a.concat([E,m]);for(var T=I.modulus.byteLength(),R=[0,1];m.length+R.length+1<T;)R.push(255);R.push(0);for(var D=-1;++D<m.length;)R.push(m[D]);return c(R,I)},s.exports.getKey=h,s.exports.makeKey=g},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,s,i){var a=e("safe-buffer").Buffer,o=e("bn.js"),c=e("elliptic").ec,u=e("parse-asn1"),l=e("./curves.json");function d(f,h){if(f.cmpn(0)<=0)throw new Error("invalid sig");if(f.cmp(h)>=h)throw new Error("invalid sig")}s.exports=function(f,h,p,g,v){var m=u(p);if(m.type==="ec"){if(g!=="ecdsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");return function(R,D,L){var M=l[L.data.algorithm.curve.join(".")];if(!M)throw new Error("unknown curve "+L.data.algorithm.curve.join("."));var H=new c(M),V=L.data.subjectPrivateKey.data;return H.verify(D,R,V)}(f,h,m)}if(m.type==="dsa"){if(g!=="dsa")throw new Error("wrong public key type");return function(R,D,L){var M=L.data.p,H=L.data.q,V=L.data.g,P=L.data.pub_key,F=u.signature.decode(R,"der"),A=F.s,_=F.r;d(A,H),d(_,H);var S=o.mont(M),N=A.invm(H);return V.toRed(S).redPow(new o(D).mul(N).mod(H)).fromRed().mul(P.toRed(S).redPow(_.mul(N).mod(H)).fromRed()).mod(M).mod(H).cmp(_)===0}(f,h,m)}if(g!=="rsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");h=a.concat([v,h]);for(var x=m.modulus.byteLength(),y=[1],w=0;h.length+y.length+2<x;)y.push(255),w++;y.push(0);for(var E=-1;++E<h.length;)y.push(h[E]);y=a.from(y);var I=o.mont(m.modulus);f=(f=new o(f).toRed(I)).redPow(new o(m.publicExponent)),f=a.from(f.fromRed().toArray());var T=w<8?1:0;for(x=Math.min(f.length,y.length),f.length!==y.length&&(T=1),E=-1;++E<x;)T|=f[E]^y[E];return T===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,s,i){},{}],217:[function(e,s,i){var a=e("buffer"),o=a.Buffer;function c(l,d){for(var f in l)d[f]=l[f]}function u(l,d,f){return o(l,d,f)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?s.exports=a:(c(a,i),i.Buffer=u),c(o,u),u.from=function(l,d,f){if(typeof l=="number")throw new TypeError("Argument must not be a number");return o(l,d,f)},u.alloc=function(l,d,f){if(typeof l!="number")throw new TypeError("Argument must be a number");var h=o(l);return d!==void 0?typeof f=="string"?h.fill(d,f):h.fill(d):h.fill(0),h},u.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return o(l)},u.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(l)}},{buffer:220}],218:[function(e,s,i){var a=e("safe-buffer").Buffer,o=a.isEncoding||function(m){switch((m=""+m)&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function c(m){var x;switch(this.encoding=function(y){var w=function(E){if(!E)return"utf8";for(var I;;)switch(E){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return E;default:if(I)return;E=(""+E).toLowerCase(),I=!0}}(y);if(typeof w!="string"&&(a.isEncoding===o||!o(y)))throw new Error("Unknown encoding: "+y);return w||y}(m),this.encoding){case"utf16le":this.text=d,this.end=f,x=4;break;case"utf8":this.fillLast=l,x=4;break;case"base64":this.text=h,this.end=p,x=3;break;default:return this.write=g,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(x)}function u(m){return m<=127?0:m>>5==6?2:m>>4==14?3:m>>3==30?4:m>>6==2?-1:-2}function l(m){var x=this.lastTotal-this.lastNeed,y=function(w,E,I){if((192&E[0])!=128)return w.lastNeed=0,"";if(w.lastNeed>1&&E.length>1){if((192&E[1])!=128)return w.lastNeed=1,"";if(w.lastNeed>2&&E.length>2&&(192&E[2])!=128)return w.lastNeed=2,""}}(this,m);return y!==void 0?y:this.lastNeed<=m.length?(m.copy(this.lastChar,x,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(m.copy(this.lastChar,x,0,m.length),void(this.lastNeed-=m.length))}function d(m,x){if((m.length-x)%2==0){var y=m.toString("utf16le",x);if(y){var w=y.charCodeAt(y.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",x,m.length-1)}function f(m){var x=m&&m.length?this.write(m):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return x+this.lastChar.toString("utf16le",0,y)}return x}function h(m,x){var y=(m.length-x)%3;return y===0?m.toString("base64",x):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",x,m.length-y))}function p(m){var x=m&&m.length?this.write(m):"";return this.lastNeed?x+this.lastChar.toString("base64",0,3-this.lastNeed):x}function g(m){return m.toString(this.encoding)}function v(m){return m&&m.length?this.write(m):""}i.StringDecoder=c,c.prototype.write=function(m){if(m.length===0)return"";var x,y;if(this.lastNeed){if((x=this.fillLast(m))===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<m.length?x?x+this.text(m,y):this.text(m,y):x||""},c.prototype.end=function(m){var x=m&&m.length?this.write(m):"";return this.lastNeed?x+"":x},c.prototype.text=function(m,x){var y=function(E,I,T){var R=I.length-1;if(R<T)return 0;var D=u(I[R]);return D>=0?(D>0&&(E.lastNeed=D-1),D):--R<T||D===-2?0:(D=u(I[R]))>=0?(D>0&&(E.lastNeed=D-2),D):--R<T||D===-2?0:(D=u(I[R]))>=0?(D>0&&(D===2?D=0:E.lastNeed=D-3),D):0}(this,m,x);if(!this.lastNeed)return m.toString("utf8",x);this.lastTotal=y;var w=m.length-(y-this.lastNeed);return m.copy(this.lastChar,0,w),m.toString("utf8",x,w)},c.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length}},{"safe-buffer":217}],219:[function(e,s,i){(function(a){(function(){s.exports=function(o,c){for(var u=Math.min(o.length,c.length),l=new a(u),d=0;d<u;++d)l[d]=o[d]^c[d];return l}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,s,i){(function(a){(function(){var o=e("base64-js"),c=e("ieee754");i.Buffer=l,i.SlowBuffer=function(U){return+U!=U&&(U=0),l.alloc(+U)},i.INSPECT_MAX_BYTES=50;function u(U){if(U>2147483647)throw new RangeError('The value "'+U+'" is invalid for option "size"');var z=new Uint8Array(U);return z.__proto__=l.prototype,z}function l(U,z,Z){if(typeof U=="number"){if(typeof z=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(U)}return d(U,z,Z)}function d(U,z,Z){if(typeof U=="string")return function(ue,le){if(typeof le=="string"&&le!==""||(le="utf8"),!l.isEncoding(le))throw new TypeError("Unknown encoding: "+le);var ce=0|v(ue,le),_e=u(ce),fe=_e.write(ue,le);return fe!==ce&&(_e=_e.slice(0,fe)),_e}(U,z);if(ArrayBuffer.isView(U))return p(U);if(U==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(O(U,ArrayBuffer)||U&&O(U.buffer,ArrayBuffer))return function(ue,le,ce){if(le<0||ue.byteLength<le)throw new RangeError('"offset" is outside of buffer bounds');if(ue.byteLength<le+(ce||0))throw new RangeError('"length" is outside of buffer bounds');var _e;return _e=le===void 0&&ce===void 0?new Uint8Array(ue):ce===void 0?new Uint8Array(ue,le):new Uint8Array(ue,le,ce),_e.__proto__=l.prototype,_e}(U,z,Z);if(typeof U=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var te=U.valueOf&&U.valueOf();if(te!=null&&te!==U)return l.from(te,z,Z);var oe=function(ue){if(l.isBuffer(ue)){var le=0|g(ue.length),ce=u(le);return ce.length===0||ue.copy(ce,0,0,le),ce}if(ue.length!==void 0)return typeof ue.length!="number"||ee(ue.length)?u(0):p(ue);if(ue.type==="Buffer"&&Array.isArray(ue.data))return p(ue.data)}(U);if(oe)return oe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof U[Symbol.toPrimitive]=="function")return l.from(U[Symbol.toPrimitive]("string"),z,Z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}function f(U){if(typeof U!="number")throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function h(U){return f(U),u(U<0?0:0|g(U))}function p(U){for(var z=U.length<0?0:0|g(U.length),Z=u(z),te=0;te<z;te+=1)Z[te]=255&U[te];return Z}function g(U){if(U>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|U}function v(U,z){if(l.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||O(U,ArrayBuffer))return U.byteLength;if(typeof U!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);var Z=U.length,te=arguments.length>2&&arguments[2]===!0;if(!te&&Z===0)return 0;for(var oe=!1;;)switch(z){case"ascii":case"latin1":case"binary":return Z;case"utf8":case"utf-8":return G(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Z;case"hex":return Z>>>1;case"base64":return X(U).length;default:if(oe)return te?-1:G(U).length;z=(""+z).toLowerCase(),oe=!0}}function m(U,z,Z){var te=!1;if((z===void 0||z<0)&&(z=0),z>this.length||((Z===void 0||Z>this.length)&&(Z=this.length),Z<=0)||(Z>>>=0)<=(z>>>=0))return"";for(U||(U="utf8");;)switch(U){case"hex":return F(this,z,Z);case"utf8":case"utf-8":return H(this,z,Z);case"ascii":return V(this,z,Z);case"latin1":case"binary":return P(this,z,Z);case"base64":return M(this,z,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,z,Z);default:if(te)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),te=!0}}function x(U,z,Z){var te=U[z];U[z]=U[Z],U[Z]=te}function y(U,z,Z,te,oe){if(U.length===0)return-1;if(typeof Z=="string"?(te=Z,Z=0):Z>2147483647?Z=2147483647:Z<-2147483648&&(Z=-2147483648),ee(Z=+Z)&&(Z=oe?0:U.length-1),Z<0&&(Z=U.length+Z),Z>=U.length){if(oe)return-1;Z=U.length-1}else if(Z<0){if(!oe)return-1;Z=0}if(typeof z=="string"&&(z=l.from(z,te)),l.isBuffer(z))return z.length===0?-1:w(U,z,Z,te,oe);if(typeof z=="number")return z&=255,typeof Uint8Array.prototype.indexOf=="function"?oe?Uint8Array.prototype.indexOf.call(U,z,Z):Uint8Array.prototype.lastIndexOf.call(U,z,Z):w(U,[z],Z,te,oe);throw new TypeError("val must be string, number or Buffer")}function w(U,z,Z,te,oe){var ue,le=1,ce=U.length,_e=z.length;if(te!==void 0&&((te=String(te).toLowerCase())==="ucs2"||te==="ucs-2"||te==="utf16le"||te==="utf-16le")){if(U.length<2||z.length<2)return-1;le=2,ce/=2,_e/=2,Z/=2}function fe(Me,Oe){return le===1?Me[Oe]:Me.readUInt16BE(Oe*le)}if(oe){var ge=-1;for(ue=Z;ue<ce;ue++)if(fe(U,ue)===fe(z,ge===-1?0:ue-ge)){if(ge===-1&&(ge=ue),ue-ge+1===_e)return ge*le}else ge!==-1&&(ue-=ue-ge),ge=-1}else for(Z+_e>ce&&(Z=ce-_e),ue=Z;ue>=0;ue--){for(var xe=!0,Le=0;Le<_e;Le++)if(fe(U,ue+Le)!==fe(z,Le)){xe=!1;break}if(xe)return ue}return-1}function E(U,z,Z,te){Z=Number(Z)||0;var oe=U.length-Z;te?(te=Number(te))>oe&&(te=oe):te=oe;var ue=z.length;te>ue/2&&(te=ue/2);for(var le=0;le<te;++le){var ce=parseInt(z.substr(2*le,2),16);if(ee(ce))return le;U[Z+le]=ce}return le}function I(U,z,Z,te){return J(G(z,U.length-Z),U,Z,te)}function T(U,z,Z,te){return J(function(oe){for(var ue=[],le=0;le<oe.length;++le)ue.push(255&oe.charCodeAt(le));return ue}(z),U,Z,te)}function R(U,z,Z,te){return T(U,z,Z,te)}function D(U,z,Z,te){return J(X(z),U,Z,te)}function L(U,z,Z,te){return J(function(oe,ue){for(var le,ce,_e,fe=[],ge=0;ge<oe.length&&!((ue-=2)<0);++ge)le=oe.charCodeAt(ge),ce=le>>8,_e=le%256,fe.push(_e),fe.push(ce);return fe}(z,U.length-Z),U,Z,te)}function M(U,z,Z){return z===0&&Z===U.length?o.fromByteArray(U):o.fromByteArray(U.slice(z,Z))}function H(U,z,Z){Z=Math.min(U.length,Z);for(var te=[],oe=z;oe<Z;){var ue,le,ce,_e,fe=U[oe],ge=null,xe=fe>239?4:fe>223?3:fe>191?2:1;if(oe+xe<=Z)switch(xe){case 1:fe<128&&(ge=fe);break;case 2:(192&(ue=U[oe+1]))==128&&(_e=(31&fe)<<6|63&ue)>127&&(ge=_e);break;case 3:ue=U[oe+1],le=U[oe+2],(192&ue)==128&&(192&le)==128&&(_e=(15&fe)<<12|(63&ue)<<6|63&le)>2047&&(_e<55296||_e>57343)&&(ge=_e);break;case 4:ue=U[oe+1],le=U[oe+2],ce=U[oe+3],(192&ue)==128&&(192&le)==128&&(192&ce)==128&&(_e=(15&fe)<<18|(63&ue)<<12|(63&le)<<6|63&ce)>65535&&_e<1114112&&(ge=_e)}ge===null?(ge=65533,xe=1):ge>65535&&(ge-=65536,te.push(ge>>>10&1023|55296),ge=56320|1023&ge),te.push(ge),oe+=xe}return function(Le){var Me=Le.length;if(Me<=4096)return String.fromCharCode.apply(String,Le);for(var Oe="",ze=0;ze<Me;)Oe+=String.fromCharCode.apply(String,Le.slice(ze,ze+=4096));return Oe}(te)}i.kMaxLength=2147483647,l.TYPED_ARRAY_SUPPORT=function(){try{var U=new Uint8Array(1);return U.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},U.foo()===42}catch{return!1}}(),l.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),l.poolSize=8192,l.from=function(U,z,Z){return d(U,z,Z)},l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,l.alloc=function(U,z,Z){return function(te,oe,ue){return f(te),te<=0?u(te):oe!==void 0?typeof ue=="string"?u(te).fill(oe,ue):u(te).fill(oe):u(te)}(U,z,Z)},l.allocUnsafe=function(U){return h(U)},l.allocUnsafeSlow=function(U){return h(U)},l.isBuffer=function(U){return U!=null&&U._isBuffer===!0&&U!==l.prototype},l.compare=function(U,z){if(O(U,Uint8Array)&&(U=l.from(U,U.offset,U.byteLength)),O(z,Uint8Array)&&(z=l.from(z,z.offset,z.byteLength)),!l.isBuffer(U)||!l.isBuffer(z))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(U===z)return 0;for(var Z=U.length,te=z.length,oe=0,ue=Math.min(Z,te);oe<ue;++oe)if(U[oe]!==z[oe]){Z=U[oe],te=z[oe];break}return Z<te?-1:te<Z?1:0},l.isEncoding=function(U){switch(String(U).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(U,z){if(!Array.isArray(U))throw new TypeError('"list" argument must be an Array of Buffers');if(U.length===0)return l.alloc(0);var Z;if(z===void 0)for(z=0,Z=0;Z<U.length;++Z)z+=U[Z].length;var te=l.allocUnsafe(z),oe=0;for(Z=0;Z<U.length;++Z){var ue=U[Z];if(O(ue,Uint8Array)&&(ue=l.from(ue)),!l.isBuffer(ue))throw new TypeError('"list" argument must be an Array of Buffers');ue.copy(te,oe),oe+=ue.length}return te},l.byteLength=v,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var U=this.length;if(U%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var z=0;z<U;z+=2)x(this,z,z+1);return this},l.prototype.swap32=function(){var U=this.length;if(U%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var z=0;z<U;z+=4)x(this,z,z+3),x(this,z+1,z+2);return this},l.prototype.swap64=function(){var U=this.length;if(U%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var z=0;z<U;z+=8)x(this,z,z+7),x(this,z+1,z+6),x(this,z+2,z+5),x(this,z+3,z+4);return this},l.prototype.toString=function(){var U=this.length;return U===0?"":arguments.length===0?H(this,0,U):m.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(U){if(!l.isBuffer(U))throw new TypeError("Argument must be a Buffer");return this===U||l.compare(this,U)===0},l.prototype.inspect=function(){var U="",z=i.INSPECT_MAX_BYTES;return U=this.toString("hex",0,z).replace(/(.{2})/g,"$1 ").trim(),this.length>z&&(U+=" ... "),"<Buffer "+U+">"},l.prototype.compare=function(U,z,Z,te,oe){if(O(U,Uint8Array)&&(U=l.from(U,U.offset,U.byteLength)),!l.isBuffer(U))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof U);if(z===void 0&&(z=0),Z===void 0&&(Z=U?U.length:0),te===void 0&&(te=0),oe===void 0&&(oe=this.length),z<0||Z>U.length||te<0||oe>this.length)throw new RangeError("out of range index");if(te>=oe&&z>=Z)return 0;if(te>=oe)return-1;if(z>=Z)return 1;if(this===U)return 0;for(var ue=(oe>>>=0)-(te>>>=0),le=(Z>>>=0)-(z>>>=0),ce=Math.min(ue,le),_e=this.slice(te,oe),fe=U.slice(z,Z),ge=0;ge<ce;++ge)if(_e[ge]!==fe[ge]){ue=_e[ge],le=fe[ge];break}return ue<le?-1:le<ue?1:0},l.prototype.includes=function(U,z,Z){return this.indexOf(U,z,Z)!==-1},l.prototype.indexOf=function(U,z,Z){return y(this,U,z,Z,!0)},l.prototype.lastIndexOf=function(U,z,Z){return y(this,U,z,Z,!1)},l.prototype.write=function(U,z,Z,te){if(z===void 0)te="utf8",Z=this.length,z=0;else if(Z===void 0&&typeof z=="string")te=z,Z=this.length,z=0;else{if(!isFinite(z))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");z>>>=0,isFinite(Z)?(Z>>>=0,te===void 0&&(te="utf8")):(te=Z,Z=void 0)}var oe=this.length-z;if((Z===void 0||Z>oe)&&(Z=oe),U.length>0&&(Z<0||z<0)||z>this.length)throw new RangeError("Attempt to write outside buffer bounds");te||(te="utf8");for(var ue=!1;;)switch(te){case"hex":return E(this,U,z,Z);case"utf8":case"utf-8":return I(this,U,z,Z);case"ascii":return T(this,U,z,Z);case"latin1":case"binary":return R(this,U,z,Z);case"base64":return D(this,U,z,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,U,z,Z);default:if(ue)throw new TypeError("Unknown encoding: "+te);te=(""+te).toLowerCase(),ue=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function V(U,z,Z){var te="";Z=Math.min(U.length,Z);for(var oe=z;oe<Z;++oe)te+=String.fromCharCode(127&U[oe]);return te}function P(U,z,Z){var te="";Z=Math.min(U.length,Z);for(var oe=z;oe<Z;++oe)te+=String.fromCharCode(U[oe]);return te}function F(U,z,Z){var te=U.length;(!z||z<0)&&(z=0),(!Z||Z<0||Z>te)&&(Z=te);for(var oe="",ue=z;ue<Z;++ue)oe+=B(U[ue]);return oe}function A(U,z,Z){for(var te=U.slice(z,Z),oe="",ue=0;ue<te.length;ue+=2)oe+=String.fromCharCode(te[ue]+256*te[ue+1]);return oe}function _(U,z,Z){if(U%1!=0||U<0)throw new RangeError("offset is not uint");if(U+z>Z)throw new RangeError("Trying to access beyond buffer length")}function S(U,z,Z,te,oe,ue){if(!l.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(z>oe||z<ue)throw new RangeError('"value" argument is out of bounds');if(Z+te>U.length)throw new RangeError("Index out of range")}function N(U,z,Z,te,oe,ue){if(Z+te>U.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("Index out of range")}function C(U,z,Z,te,oe){return z=+z,Z>>>=0,oe||N(U,0,Z,4),c.write(U,z,Z,te,23,4),Z+4}function W(U,z,Z,te,oe){return z=+z,Z>>>=0,oe||N(U,0,Z,8),c.write(U,z,Z,te,52,8),Z+8}l.prototype.slice=function(U,z){var Z=this.length;(U=~~U)<0?(U+=Z)<0&&(U=0):U>Z&&(U=Z),(z=z===void 0?Z:~~z)<0?(z+=Z)<0&&(z=0):z>Z&&(z=Z),z<U&&(z=U);var te=this.subarray(U,z);return te.__proto__=l.prototype,te},l.prototype.readUIntLE=function(U,z,Z){U>>>=0,z>>>=0,Z||_(U,z,this.length);for(var te=this[U],oe=1,ue=0;++ue<z&&(oe*=256);)te+=this[U+ue]*oe;return te},l.prototype.readUIntBE=function(U,z,Z){U>>>=0,z>>>=0,Z||_(U,z,this.length);for(var te=this[U+--z],oe=1;z>0&&(oe*=256);)te+=this[U+--z]*oe;return te},l.prototype.readUInt8=function(U,z){return U>>>=0,z||_(U,1,this.length),this[U]},l.prototype.readUInt16LE=function(U,z){return U>>>=0,z||_(U,2,this.length),this[U]|this[U+1]<<8},l.prototype.readUInt16BE=function(U,z){return U>>>=0,z||_(U,2,this.length),this[U]<<8|this[U+1]},l.prototype.readUInt32LE=function(U,z){return U>>>=0,z||_(U,4,this.length),(this[U]|this[U+1]<<8|this[U+2]<<16)+16777216*this[U+3]},l.prototype.readUInt32BE=function(U,z){return U>>>=0,z||_(U,4,this.length),16777216*this[U]+(this[U+1]<<16|this[U+2]<<8|this[U+3])},l.prototype.readIntLE=function(U,z,Z){U>>>=0,z>>>=0,Z||_(U,z,this.length);for(var te=this[U],oe=1,ue=0;++ue<z&&(oe*=256);)te+=this[U+ue]*oe;return te>=(oe*=128)&&(te-=Math.pow(2,8*z)),te},l.prototype.readIntBE=function(U,z,Z){U>>>=0,z>>>=0,Z||_(U,z,this.length);for(var te=z,oe=1,ue=this[U+--te];te>0&&(oe*=256);)ue+=this[U+--te]*oe;return ue>=(oe*=128)&&(ue-=Math.pow(2,8*z)),ue},l.prototype.readInt8=function(U,z){return U>>>=0,z||_(U,1,this.length),128&this[U]?-1*(255-this[U]+1):this[U]},l.prototype.readInt16LE=function(U,z){U>>>=0,z||_(U,2,this.length);var Z=this[U]|this[U+1]<<8;return 32768&Z?4294901760|Z:Z},l.prototype.readInt16BE=function(U,z){U>>>=0,z||_(U,2,this.length);var Z=this[U+1]|this[U]<<8;return 32768&Z?4294901760|Z:Z},l.prototype.readInt32LE=function(U,z){return U>>>=0,z||_(U,4,this.length),this[U]|this[U+1]<<8|this[U+2]<<16|this[U+3]<<24},l.prototype.readInt32BE=function(U,z){return U>>>=0,z||_(U,4,this.length),this[U]<<24|this[U+1]<<16|this[U+2]<<8|this[U+3]},l.prototype.readFloatLE=function(U,z){return U>>>=0,z||_(U,4,this.length),c.read(this,U,!0,23,4)},l.prototype.readFloatBE=function(U,z){return U>>>=0,z||_(U,4,this.length),c.read(this,U,!1,23,4)},l.prototype.readDoubleLE=function(U,z){return U>>>=0,z||_(U,8,this.length),c.read(this,U,!0,52,8)},l.prototype.readDoubleBE=function(U,z){return U>>>=0,z||_(U,8,this.length),c.read(this,U,!1,52,8)},l.prototype.writeUIntLE=function(U,z,Z,te){U=+U,z>>>=0,Z>>>=0,te||S(this,U,z,Z,Math.pow(2,8*Z)-1,0);var oe=1,ue=0;for(this[z]=255&U;++ue<Z&&(oe*=256);)this[z+ue]=U/oe&255;return z+Z},l.prototype.writeUIntBE=function(U,z,Z,te){U=+U,z>>>=0,Z>>>=0,te||S(this,U,z,Z,Math.pow(2,8*Z)-1,0);var oe=Z-1,ue=1;for(this[z+oe]=255&U;--oe>=0&&(ue*=256);)this[z+oe]=U/ue&255;return z+Z},l.prototype.writeUInt8=function(U,z,Z){return U=+U,z>>>=0,Z||S(this,U,z,1,255,0),this[z]=255&U,z+1},l.prototype.writeUInt16LE=function(U,z,Z){return U=+U,z>>>=0,Z||S(this,U,z,2,65535,0),this[z]=255&U,this[z+1]=U>>>8,z+2},l.prototype.writeUInt16BE=function(U,z,Z){return U=+U,z>>>=0,Z||S(this,U,z,2,65535,0),this[z]=U>>>8,this[z+1]=255&U,z+2},l.prototype.writeUInt32LE=function(U,z,Z){return U=+U,z>>>=0,Z||S(this,U,z,4,4294967295,0),this[z+3]=U>>>24,this[z+2]=U>>>16,this[z+1]=U>>>8,this[z]=255&U,z+4},l.prototype.writeUInt32BE=function(U,z,Z){return U=+U,z>>>=0,Z||S(this,U,z,4,4294967295,0),this[z]=U>>>24,this[z+1]=U>>>16,this[z+2]=U>>>8,this[z+3]=255&U,z+4},l.prototype.writeIntLE=function(U,z,Z,te){if(U=+U,z>>>=0,!te){var oe=Math.pow(2,8*Z-1);S(this,U,z,Z,oe-1,-oe)}var ue=0,le=1,ce=0;for(this[z]=255&U;++ue<Z&&(le*=256);)U<0&&ce===0&&this[z+ue-1]!==0&&(ce=1),this[z+ue]=(U/le>>0)-ce&255;return z+Z},l.prototype.writeIntBE=function(U,z,Z,te){if(U=+U,z>>>=0,!te){var oe=Math.pow(2,8*Z-1);S(this,U,z,Z,oe-1,-oe)}var ue=Z-1,le=1,ce=0;for(this[z+ue]=255&U;--ue>=0&&(le*=256);)U<0&&ce===0&&this[z+ue+1]!==0&&(ce=1),this[z+ue]=(U/le>>0)-ce&255;return z+Z},l.prototype.writeInt8=function(U,z,Z){return U=+U,z>>>=0,Z||S(this,U,z,1,127,-128),U<0&&(U=255+U+1),this[z]=255&U,z+1},l.prototype.writeInt16LE=function(U,z,Z){return U=+U,z>>>=0,Z||S(this,U,z,2,32767,-32768),this[z]=255&U,this[z+1]=U>>>8,z+2},l.prototype.writeInt16BE=function(U,z,Z){return U=+U,z>>>=0,Z||S(this,U,z,2,32767,-32768),this[z]=U>>>8,this[z+1]=255&U,z+2},l.prototype.writeInt32LE=function(U,z,Z){return U=+U,z>>>=0,Z||S(this,U,z,4,2147483647,-2147483648),this[z]=255&U,this[z+1]=U>>>8,this[z+2]=U>>>16,this[z+3]=U>>>24,z+4},l.prototype.writeInt32BE=function(U,z,Z){return U=+U,z>>>=0,Z||S(this,U,z,4,2147483647,-2147483648),U<0&&(U=4294967295+U+1),this[z]=U>>>24,this[z+1]=U>>>16,this[z+2]=U>>>8,this[z+3]=255&U,z+4},l.prototype.writeFloatLE=function(U,z,Z){return C(this,U,z,!0,Z)},l.prototype.writeFloatBE=function(U,z,Z){return C(this,U,z,!1,Z)},l.prototype.writeDoubleLE=function(U,z,Z){return W(this,U,z,!0,Z)},l.prototype.writeDoubleBE=function(U,z,Z){return W(this,U,z,!1,Z)},l.prototype.copy=function(U,z,Z,te){if(!l.isBuffer(U))throw new TypeError("argument should be a Buffer");if(Z||(Z=0),te||te===0||(te=this.length),z>=U.length&&(z=U.length),z||(z=0),te>0&&te<Z&&(te=Z),te===Z||U.length===0||this.length===0)return 0;if(z<0)throw new RangeError("targetStart out of bounds");if(Z<0||Z>=this.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("sourceEnd out of bounds");te>this.length&&(te=this.length),U.length-z<te-Z&&(te=U.length-z+Z);var oe=te-Z;if(this===U&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(z,Z,te);else if(this===U&&Z<z&&z<te)for(var ue=oe-1;ue>=0;--ue)U[ue+z]=this[ue+Z];else Uint8Array.prototype.set.call(U,this.subarray(Z,te),z);return oe},l.prototype.fill=function(U,z,Z,te){if(typeof U=="string"){if(typeof z=="string"?(te=z,z=0,Z=this.length):typeof Z=="string"&&(te=Z,Z=this.length),te!==void 0&&typeof te!="string")throw new TypeError("encoding must be a string");if(typeof te=="string"&&!l.isEncoding(te))throw new TypeError("Unknown encoding: "+te);if(U.length===1){var oe=U.charCodeAt(0);(te==="utf8"&&oe<128||te==="latin1")&&(U=oe)}}else typeof U=="number"&&(U&=255);if(z<0||this.length<z||this.length<Z)throw new RangeError("Out of range index");if(Z<=z)return this;var ue;if(z>>>=0,Z=Z===void 0?this.length:Z>>>0,U||(U=0),typeof U=="number")for(ue=z;ue<Z;++ue)this[ue]=U;else{var le=l.isBuffer(U)?U:l.from(U,te),ce=le.length;if(ce===0)throw new TypeError('The value "'+U+'" is invalid for argument "value"');for(ue=0;ue<Z-z;++ue)this[ue+z]=le[ue%ce]}return this};var j=/[^+/0-9A-Za-z-_]/g;function B(U){return U<16?"0"+U.toString(16):U.toString(16)}function G(U,z){var Z;z=z||1/0;for(var te=U.length,oe=null,ue=[],le=0;le<te;++le){if((Z=U.charCodeAt(le))>55295&&Z<57344){if(!oe){if(Z>56319){(z-=3)>-1&&ue.push(239,191,189);continue}if(le+1===te){(z-=3)>-1&&ue.push(239,191,189);continue}oe=Z;continue}if(Z<56320){(z-=3)>-1&&ue.push(239,191,189),oe=Z;continue}Z=65536+(oe-55296<<10|Z-56320)}else oe&&(z-=3)>-1&&ue.push(239,191,189);if(oe=null,Z<128){if((z-=1)<0)break;ue.push(Z)}else if(Z<2048){if((z-=2)<0)break;ue.push(Z>>6|192,63&Z|128)}else if(Z<65536){if((z-=3)<0)break;ue.push(Z>>12|224,Z>>6&63|128,63&Z|128)}else{if(!(Z<1114112))throw new Error("Invalid code point");if((z-=4)<0)break;ue.push(Z>>18|240,Z>>12&63|128,Z>>6&63|128,63&Z|128)}}return ue}function X(U){return o.toByteArray(function(z){if((z=(z=z.split("=")[0]).trim().replace(j,"")).length<2)return"";for(;z.length%4!=0;)z+="=";return z}(U))}function J(U,z,Z,te){for(var oe=0;oe<te&&!(oe+Z>=z.length||oe>=U.length);++oe)z[oe+Z]=U[oe];return oe}function O(U,z){return U instanceof z||U!=null&&U.constructor!=null&&U.constructor.name!=null&&U.constructor.name===z.name}function ee(U){return U!=U}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,s,i){var a=e("safe-buffer").Buffer,o=e("stream").Transform,c=e("string_decoder").StringDecoder;function u(l){o.call(this),this.hashMode=typeof l=="string",this.hashMode?this[l]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(u,o),u.prototype.update=function(l,d,f){typeof l=="string"&&(l=a.from(l,d));var h=this._update(l);return this.hashMode?this:(f&&(h=this._toString(h,f)),h)},u.prototype.setAutoPadding=function(){},u.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},u.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},u.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},u.prototype._transform=function(l,d,f){var h;try{this.hashMode?this._update(l):this.push(this._update(l))}catch(p){h=p}finally{f(h)}},u.prototype._flush=function(l){var d;try{this.push(this.__final())}catch(f){d=f}l(d)},u.prototype._finalOrDigest=function(l){var d=this.__final()||a.alloc(0);return l&&(d=this._toString(d,l,!0)),d},u.prototype._toString=function(l,d,f){if(this._decoder||(this._decoder=new c(d),this._encoding=d),this._encoding!==d)throw new Error("can't switch encodings");var h=this._decoder.write(l);return f&&(h+=this._decoder.end()),h},s.exports=u},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,s,i){var a=e("../internals/is-callable"),o=e("../internals/try-to-string"),c=TypeError;s.exports=function(u){if(a(u))return u;throw new c(o(u)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,s,i){var a=e("../internals/is-constructor"),o=e("../internals/try-to-string"),c=TypeError;s.exports=function(u){if(a(u))return u;throw new c(o(u)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,s,i){var a=e("../internals/is-callable"),o=String,c=TypeError;s.exports=function(u){if(typeof u=="object"||a(u))return u;throw new c("Can't set "+o(u)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,s,i){var a=e("../internals/well-known-symbol"),o=e("../internals/object-create"),c=e("../internals/object-define-property").f,u=a("unscopables"),l=Array.prototype;l[u]===void 0&&c(l,u,{configurable:!0,value:o(null)}),s.exports=function(d){l[u][d]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,s,i){var a=e("../internals/object-is-prototype-of"),o=TypeError;s.exports=function(c,u){if(a(u,c))return c;throw new o("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,s,i){var a=e("../internals/is-object"),o=String,c=TypeError;s.exports=function(u){if(a(u))return u;throw new c(o(u)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,s,i){var a=e("../internals/to-indexed-object"),o=e("../internals/to-absolute-index"),c=e("../internals/length-of-array-like"),u=function(l){return function(d,f,h){var p,g=a(d),v=c(g),m=o(h,v);if(l&&f!=f){for(;v>m;)if((p=g[m++])!=p)return!0}else for(;v>m;m++)if((l||m in g)&&g[m]===f)return l||m||0;return!l&&-1}};s.exports={includes:u(!0),indexOf:u(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,s,i){var a=e("../internals/function-bind-context"),o=e("../internals/function-uncurry-this"),c=e("../internals/indexed-object"),u=e("../internals/to-object"),l=e("../internals/length-of-array-like"),d=e("../internals/array-species-create"),f=o([].push),h=function(p){var g=p===1,v=p===2,m=p===3,x=p===4,y=p===6,w=p===7,E=p===5||y;return function(I,T,R,D){for(var L,M,H=u(I),V=c(H),P=a(T,R),F=l(V),A=0,_=D||d,S=g?_(I,F):v||w?_(I,0):void 0;F>A;A++)if((E||A in V)&&(M=P(L=V[A],A,H),p))if(g)S[A]=M;else if(M)switch(p){case 3:return!0;case 5:return L;case 6:return A;case 2:f(S,L)}else switch(p){case 4:return!1;case 7:f(S,L)}return y?-1:m||x?x:S}};s.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,s,i){var a=e("../internals/to-absolute-index"),o=e("../internals/length-of-array-like"),c=e("../internals/create-property"),u=Array,l=Math.max;s.exports=function(d,f,h){for(var p=o(d),g=a(f,p),v=a(h===void 0?p:h,p),m=u(l(v-g,0)),x=0;g<v;g++,x++)c(m,x,d[g]);return m.length=x,m}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,s,i){var a=e("../internals/function-uncurry-this");s.exports=a([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,s,i){var a=e("../internals/is-array"),o=e("../internals/is-constructor"),c=e("../internals/is-object"),u=e("../internals/well-known-symbol")("species"),l=Array;s.exports=function(d){var f;return a(d)&&(f=d.constructor,(o(f)&&(f===l||a(f.prototype))||c(f)&&(f=f[u])===null)&&(f=void 0)),f===void 0?l:f}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,s,i){var a=e("../internals/array-species-constructor");s.exports=function(o,c){return new(a(o))(c===0?0:c)}},{"../internals/array-species-constructor":232}],234:[function(e,s,i){var a=e("../internals/well-known-symbol")("iterator"),o=!1;try{var c=0,u={next:function(){return{done:!!c++}},return:function(){o=!0}};u[a]=function(){return this},Array.from(u,function(){throw 2})}catch{}s.exports=function(l,d){try{if(!d&&!o)return!1}catch{return!1}var f=!1;try{var h={};h[a]=function(){return{next:function(){return{done:f=!0}}}},l(h)}catch{}return f}},{"../internals/well-known-symbol":357}],235:[function(e,s,i){var a=e("../internals/function-uncurry-this"),o=a({}.toString),c=a("".slice);s.exports=function(u){return c(o(u),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,s,i){var a=e("../internals/to-string-tag-support"),o=e("../internals/is-callable"),c=e("../internals/classof-raw"),u=e("../internals/well-known-symbol")("toStringTag"),l=Object,d=c(function(){return arguments}())==="Arguments";s.exports=a?c:function(f){var h,p,g;return f===void 0?"Undefined":f===null?"Null":typeof(p=function(v,m){try{return v[m]}catch{}}(h=l(f),u))=="string"?p:d?c(h):(g=c(h))==="Object"&&o(h.callee)?"Arguments":g}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,s,i){var a=e("../internals/has-own-property"),o=e("../internals/own-keys"),c=e("../internals/object-get-own-property-descriptor"),u=e("../internals/object-define-property");s.exports=function(l,d,f){for(var h=o(d),p=u.f,g=c.f,v=0;v<h.length;v++){var m=h[v];a(l,m)||f&&a(f,m)||p(l,m,g(d,m))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,s,i){var a=e("../internals/well-known-symbol")("match");s.exports=function(o){var c=/./;try{"/./"[o](c)}catch{try{return c[a]=!1,"/./"[o](c)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,s,i){var a=e("../internals/fails");s.exports=!a(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},{"../internals/fails":260}],240:[function(e,s,i){s.exports=function(a,o){return{value:a,done:o}}},{}],241:[function(e,s,i){var a=e("../internals/descriptors"),o=e("../internals/object-define-property"),c=e("../internals/create-property-descriptor");s.exports=a?function(u,l,d){return o.f(u,l,c(1,d))}:function(u,l,d){return u[l]=d,u}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,s,i){s.exports=function(a,o){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:o}}},{}],243:[function(e,s,i){var a=e("../internals/to-property-key"),o=e("../internals/object-define-property"),c=e("../internals/create-property-descriptor");s.exports=function(u,l,d){var f=a(l);f in u?o.f(u,f,c(0,d)):u[f]=d}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,s,i){var a=e("../internals/make-built-in"),o=e("../internals/object-define-property");s.exports=function(c,u,l){return l.get&&a(l.get,u,{getter:!0}),l.set&&a(l.set,u,{setter:!0}),o.f(c,u,l)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,s,i){var a=e("../internals/is-callable"),o=e("../internals/object-define-property"),c=e("../internals/make-built-in"),u=e("../internals/define-global-property");s.exports=function(l,d,f,h){h||(h={});var p=h.enumerable,g=h.name!==void 0?h.name:d;if(a(f)&&c(f,g,h),h.global)p?l[d]=f:u(d,f);else{try{h.unsafe?l[d]&&(p=!0):delete l[d]}catch{}p?l[d]=f:o.f(l,d,{value:f,enumerable:!1,configurable:!h.nonConfigurable,writable:!h.nonWritable})}return l}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,s,i){var a=e("../internals/global"),o=Object.defineProperty;s.exports=function(c,u){try{o(a,c,{value:u,configurable:!0,writable:!0})}catch{a[c]=u}return u}},{"../internals/global":274}],247:[function(e,s,i){var a=e("../internals/fails");s.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(e,s,i){var a=typeof document=="object"&&document.all,o=a===void 0&&a!==void 0;s.exports={all:a,IS_HTMLDDA:o}},{}],249:[function(e,s,i){var a=e("../internals/global"),o=e("../internals/is-object"),c=a.document,u=o(c)&&o(c.createElement);s.exports=function(l){return u?c.createElement(l):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,s,i){var a=e("../internals/engine-is-deno"),o=e("../internals/engine-is-node");s.exports=!a&&!o&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,s,i){s.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,s,i){var a=e("../internals/engine-user-agent");s.exports=/ipad|iphone|ipod/i.test(a)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,s,i){var a=e("../internals/engine-user-agent");s.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(a)},{"../internals/engine-user-agent":256}],254:[function(e,s,i){var a=e("../internals/global"),o=e("../internals/classof-raw");s.exports=o(a.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,s,i){var a=e("../internals/engine-user-agent");s.exports=/web0s(?!.*chrome)/i.test(a)},{"../internals/engine-user-agent":256}],256:[function(e,s,i){s.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,s,i){var a,o,c=e("../internals/global"),u=e("../internals/engine-user-agent"),l=c.process,d=c.Deno,f=l&&l.versions||d&&d.version,h=f&&f.v8;h&&(o=(a=h.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&u&&(!(a=u.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=u.match(/Chrome\/(\d+)/))&&(o=+a[1]),s.exports=o},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,s,i){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,s,i){var a=e("../internals/global"),o=e("../internals/object-get-own-property-descriptor").f,c=e("../internals/create-non-enumerable-property"),u=e("../internals/define-built-in"),l=e("../internals/define-global-property"),d=e("../internals/copy-constructor-properties"),f=e("../internals/is-forced");s.exports=function(h,p){var g,v,m,x,y,w=h.target,E=h.global,I=h.stat;if(g=E?a:I?a[w]||l(w,{}):(a[w]||{}).prototype)for(v in p){if(x=p[v],m=h.dontCallGetSet?(y=o(g,v))&&y.value:g[v],!f(E?v:w+(I?".":"#")+v,h.forced)&&m!==void 0){if(typeof x==typeof m)continue;d(x,m)}(h.sham||m&&m.sham)&&c(x,"sham",!0),u(g,v,x,h)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,s,i){s.exports=function(a){try{return!!a()}catch{return!0}}},{}],261:[function(e,s,i){var a=e("../internals/function-bind-native"),o=Function.prototype,c=o.apply,u=o.call;s.exports=typeof Reflect=="object"&&Reflect.apply||(a?u.bind(c):function(){return u.apply(c,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,s,i){var a=e("../internals/function-uncurry-this-clause"),o=e("../internals/a-callable"),c=e("../internals/function-bind-native"),u=a(a.bind);s.exports=function(l,d){return o(l),d===void 0?l:c?u(l,d):function(){return l.apply(d,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,s,i){var a=e("../internals/fails");s.exports=!a(function(){var o=(function(){}).bind();return typeof o!="function"||o.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(e,s,i){var a=e("../internals/function-bind-native"),o=Function.prototype.call;s.exports=a?o.bind(o):function(){return o.apply(o,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,s,i){var a=e("../internals/descriptors"),o=e("../internals/has-own-property"),c=Function.prototype,u=a&&Object.getOwnPropertyDescriptor,l=o(c,"name"),d=l&&(function(){}).name==="something",f=l&&(!a||a&&u(c,"name").configurable);s.exports={EXISTS:l,PROPER:d,CONFIGURABLE:f}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,s,i){var a=e("../internals/function-uncurry-this"),o=e("../internals/a-callable");s.exports=function(c,u,l){try{return a(o(Object.getOwnPropertyDescriptor(c,u)[l]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,s,i){var a=e("../internals/classof-raw"),o=e("../internals/function-uncurry-this");s.exports=function(c){if(a(c)==="Function")return o(c)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,s,i){var a=e("../internals/function-bind-native"),o=Function.prototype,c=o.call,u=a&&o.bind.bind(c,c);s.exports=a?u:function(l){return function(){return c.apply(l,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,s,i){var a=e("../internals/global"),o=e("../internals/is-callable"),c=function(u){return o(u)?u:void 0};s.exports=function(u,l){return arguments.length<2?c(a[u]):a[u]&&a[u][l]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,s,i){var a=e("../internals/classof"),o=e("../internals/get-method"),c=e("../internals/is-null-or-undefined"),u=e("../internals/iterators"),l=e("../internals/well-known-symbol")("iterator");s.exports=function(d){if(!c(d))return o(d,l)||o(d,"@@iterator")||u[a(d)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,s,i){var a=e("../internals/function-call"),o=e("../internals/a-callable"),c=e("../internals/an-object"),u=e("../internals/try-to-string"),l=e("../internals/get-iterator-method"),d=TypeError;s.exports=function(f,h){var p=arguments.length<2?l(f):h;if(o(p))return c(a(p,f));throw new d(u(f)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,s,i){var a=e("../internals/function-uncurry-this"),o=e("../internals/is-array"),c=e("../internals/is-callable"),u=e("../internals/classof-raw"),l=e("../internals/to-string"),d=a([].push);s.exports=function(f){if(c(f))return f;if(o(f)){for(var h=f.length,p=[],g=0;g<h;g++){var v=f[g];typeof v=="string"?d(p,v):typeof v!="number"&&u(v)!=="Number"&&u(v)!=="String"||d(p,l(v))}var m=p.length,x=!0;return function(y,w){if(x)return x=!1,w;if(o(this))return w;for(var E=0;E<m;E++)if(p[E]===y)return w}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,s,i){var a=e("../internals/a-callable"),o=e("../internals/is-null-or-undefined");s.exports=function(c,u){var l=c[u];return o(l)?void 0:a(l)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,s,i){(function(a){(function(){var o=function(c){return c&&c.Math===Math&&c};s.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof a=="object"&&a)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,s,i){var a=e("../internals/function-uncurry-this"),o=e("../internals/to-object"),c=a({}.hasOwnProperty);s.exports=Object.hasOwn||function(u,l){return c(o(u),l)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,s,i){s.exports={}},{}],277:[function(e,s,i){s.exports=function(a,o){try{arguments.length===1?console.error(a):console.error(a,o)}catch{}}},{}],278:[function(e,s,i){var a=e("../internals/get-built-in");s.exports=a("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,s,i){var a=e("../internals/descriptors"),o=e("../internals/fails"),c=e("../internals/document-create-element");s.exports=!a&&!o(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,s,i){var a=e("../internals/function-uncurry-this"),o=e("../internals/fails"),c=e("../internals/classof-raw"),u=Object,l=a("".split);s.exports=o(function(){return!u("z").propertyIsEnumerable(0)})?function(d){return c(d)==="String"?l(d,""):u(d)}:u},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,s,i){var a=e("../internals/function-uncurry-this"),o=e("../internals/is-callable"),c=e("../internals/shared-store"),u=a(Function.toString);o(c.inspectSource)||(c.inspectSource=function(l){return u(l)}),s.exports=c.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,s,i){var a,o,c,u=e("../internals/weak-map-basic-detection"),l=e("../internals/global"),d=e("../internals/is-object"),f=e("../internals/create-non-enumerable-property"),h=e("../internals/has-own-property"),p=e("../internals/shared-store"),g=e("../internals/shared-key"),v=e("../internals/hidden-keys"),m=l.TypeError,x=l.WeakMap;if(u||p.state){var y=p.state||(p.state=new x);y.get=y.get,y.has=y.has,y.set=y.set,a=function(E,I){if(y.has(E))throw new m("Object already initialized");return I.facade=E,y.set(E,I),I},o=function(E){return y.get(E)||{}},c=function(E){return y.has(E)}}else{var w=g("state");v[w]=!0,a=function(E,I){if(h(E,w))throw new m("Object already initialized");return I.facade=E,f(E,w,I),I},o=function(E){return h(E,w)?E[w]:{}},c=function(E){return h(E,w)}}s.exports={set:a,get:o,has:c,enforce:function(E){return c(E)?o(E):a(E,{})},getterFor:function(E){return function(I){var T;if(!d(I)||(T=o(I)).type!==E)throw new m("Incompatible receiver, "+E+" required");return T}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,s,i){var a=e("../internals/well-known-symbol"),o=e("../internals/iterators"),c=a("iterator"),u=Array.prototype;s.exports=function(l){return l!==void 0&&(o.Array===l||u[c]===l)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,s,i){var a=e("../internals/classof-raw");s.exports=Array.isArray||function(o){return a(o)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,s,i){var a=e("../internals/document-all"),o=a.all;s.exports=a.IS_HTMLDDA?function(c){return typeof c=="function"||c===o}:function(c){return typeof c=="function"}},{"../internals/document-all":248}],286:[function(e,s,i){var a=e("../internals/function-uncurry-this"),o=e("../internals/fails"),c=e("../internals/is-callable"),u=e("../internals/classof"),l=e("../internals/get-built-in"),d=e("../internals/inspect-source"),f=function(){},h=[],p=l("Reflect","construct"),g=/^\s*(?:class|function)\b/,v=a(g.exec),m=!g.test(f),x=function(w){if(!c(w))return!1;try{return p(f,h,w),!0}catch{return!1}},y=function(w){if(!c(w))return!1;switch(u(w)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!v(g,d(w))}catch{return!0}};y.sham=!0,s.exports=!p||o(function(){var w;return x(x.call)||!x(Object)||!x(function(){w=!0})||w})?y:x},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,s,i){var a=e("../internals/fails"),o=e("../internals/is-callable"),c=/#|\.prototype\./,u=function(p,g){var v=d[l(p)];return v===h||v!==f&&(o(g)?a(g):!!g)},l=u.normalize=function(p){return String(p).replace(c,".").toLowerCase()},d=u.data={},f=u.NATIVE="N",h=u.POLYFILL="P";s.exports=u},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,s,i){s.exports=function(a){return a==null}},{}],289:[function(e,s,i){var a=e("../internals/is-callable"),o=e("../internals/document-all"),c=o.all;s.exports=o.IS_HTMLDDA?function(u){return typeof u=="object"?u!==null:a(u)||u===c}:function(u){return typeof u=="object"?u!==null:a(u)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,s,i){s.exports=!1},{}],291:[function(e,s,i){var a=e("../internals/is-object"),o=e("../internals/classof-raw"),c=e("../internals/well-known-symbol")("match");s.exports=function(u){var l;return a(u)&&((l=u[c])!==void 0?!!l:o(u)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,s,i){var a=e("../internals/get-built-in"),o=e("../internals/is-callable"),c=e("../internals/object-is-prototype-of"),u=e("../internals/use-symbol-as-uid"),l=Object;s.exports=u?function(d){return typeof d=="symbol"}:function(d){var f=a("Symbol");return o(f)&&c(f.prototype,l(d))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,s,i){var a=e("../internals/function-bind-context"),o=e("../internals/function-call"),c=e("../internals/an-object"),u=e("../internals/try-to-string"),l=e("../internals/is-array-iterator-method"),d=e("../internals/length-of-array-like"),f=e("../internals/object-is-prototype-of"),h=e("../internals/get-iterator"),p=e("../internals/get-iterator-method"),g=e("../internals/iterator-close"),v=TypeError,m=function(y,w){this.stopped=y,this.result=w},x=m.prototype;s.exports=function(y,w,E){var I,T,R,D,L,M,H,V=E&&E.that,P=!(!E||!E.AS_ENTRIES),F=!(!E||!E.IS_RECORD),A=!(!E||!E.IS_ITERATOR),_=!(!E||!E.INTERRUPTED),S=a(w,V),N=function(W){return I&&g(I,"normal",W),new m(!0,W)},C=function(W){return P?(c(W),_?S(W[0],W[1],N):S(W[0],W[1])):_?S(W,N):S(W)};if(F)I=y.iterator;else if(A)I=y;else{if(!(T=p(y)))throw new v(u(y)+" is not iterable");if(l(T)){for(R=0,D=d(y);D>R;R++)if((L=C(y[R]))&&f(x,L))return L;return new m(!1)}I=h(y,T)}for(M=F?y.next:I.next;!(H=o(M,I)).done;){try{L=C(H.value)}catch(W){g(I,"throw",W)}if(typeof L=="object"&&L&&f(x,L))return L}return new m(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,s,i){var a=e("../internals/function-call"),o=e("../internals/an-object"),c=e("../internals/get-method");s.exports=function(u,l,d){var f,h;o(u);try{if(!(f=c(u,"return"))){if(l==="throw")throw d;return d}f=a(f,u)}catch(p){h=!0,f=p}if(l==="throw")throw d;if(h)throw f;return o(f),d}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,s,i){var a=e("../internals/iterators-core").IteratorPrototype,o=e("../internals/object-create"),c=e("../internals/create-property-descriptor"),u=e("../internals/set-to-string-tag"),l=e("../internals/iterators"),d=function(){return this};s.exports=function(f,h,p,g){var v=h+" Iterator";return f.prototype=o(a,{next:c(+!g,p)}),u(f,v,!1,!0),l[v]=d,f}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,s,i){var a=e("../internals/export"),o=e("../internals/function-call"),c=e("../internals/is-pure"),u=e("../internals/function-name"),l=e("../internals/is-callable"),d=e("../internals/iterator-create-constructor"),f=e("../internals/object-get-prototype-of"),h=e("../internals/object-set-prototype-of"),p=e("../internals/set-to-string-tag"),g=e("../internals/create-non-enumerable-property"),v=e("../internals/define-built-in"),m=e("../internals/well-known-symbol"),x=e("../internals/iterators"),y=e("../internals/iterators-core"),w=u.PROPER,E=u.CONFIGURABLE,I=y.IteratorPrototype,T=y.BUGGY_SAFARI_ITERATORS,R=m("iterator"),D=function(){return this};s.exports=function(L,M,H,V,P,F,A){d(H,M,V);var _,S,N,C=function(O){if(O===P&&X)return X;if(!T&&O&&O in B)return B[O];switch(O){case"keys":case"values":case"entries":return function(){return new H(this,O)}}return function(){return new H(this)}},W=M+" Iterator",j=!1,B=L.prototype,G=B[R]||B["@@iterator"]||P&&B[P],X=!T&&G||C(P),J=M==="Array"&&B.entries||G;if(J&&(_=f(J.call(new L)))!==Object.prototype&&_.next&&(c||f(_)===I||(h?h(_,I):l(_[R])||v(_,R,D)),p(_,W,!0,!0),c&&(x[W]=D)),w&&P==="values"&&G&&G.name!=="values"&&(!c&&E?g(B,"name","values"):(j=!0,X=function(){return o(G,this)})),P)if(S={values:C("values"),keys:F?X:C("keys"),entries:C("entries")},A)for(N in S)(T||j||!(N in B))&&v(B,N,S[N]);else a({target:M,proto:!0,forced:T||j},S);return c&&!A||B[R]===X||v(B,R,X,{name:P}),x[M]=X,S}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,s,i){var a,o,c,u=e("../internals/fails"),l=e("../internals/is-callable"),d=e("../internals/is-object"),f=e("../internals/object-create"),h=e("../internals/object-get-prototype-of"),p=e("../internals/define-built-in"),g=e("../internals/well-known-symbol"),v=e("../internals/is-pure"),m=g("iterator"),x=!1;[].keys&&("next"in(c=[].keys())?(o=h(h(c)))!==Object.prototype&&(a=o):x=!0),!d(a)||u(function(){var y={};return a[m].call(y)!==y})?a={}:v&&(a=f(a)),l(a[m])||p(a,m,function(){return this}),s.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:x}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,s,i){arguments[4][276][0].apply(i,arguments)},{dup:276}],299:[function(e,s,i){var a=e("../internals/to-length");s.exports=function(o){return a(o.length)}},{"../internals/to-length":343}],300:[function(e,s,i){var a=e("../internals/function-uncurry-this"),o=e("../internals/fails"),c=e("../internals/is-callable"),u=e("../internals/has-own-property"),l=e("../internals/descriptors"),d=e("../internals/function-name").CONFIGURABLE,f=e("../internals/inspect-source"),h=e("../internals/internal-state"),p=h.enforce,g=h.get,v=String,m=Object.defineProperty,x=a("".slice),y=a("".replace),w=a([].join),E=l&&!o(function(){return m(function(){},"length",{value:8}).length!==8}),I=String(String).split("String"),T=s.exports=function(R,D,L){x(v(D),0,7)==="Symbol("&&(D="["+y(v(D),/^Symbol\(([^)]*)\)/,"$1")+"]"),L&&L.getter&&(D="get "+D),L&&L.setter&&(D="set "+D),(!u(R,"name")||d&&R.name!==D)&&(l?m(R,"name",{value:D,configurable:!0}):R.name=D),E&&L&&u(L,"arity")&&R.length!==L.arity&&m(R,"length",{value:L.arity});try{L&&u(L,"constructor")&&L.constructor?l&&m(R,"prototype",{writable:!1}):R.prototype&&(R.prototype=void 0)}catch{}var M=p(R);return u(M,"source")||(M.source=w(I,typeof D=="string"?D:"")),R};Function.prototype.toString=T(function(){return c(this)&&g(this).source||f(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,s,i){var a=Math.ceil,o=Math.floor;s.exports=Math.trunc||function(c){var u=+c;return(u>0?o:a)(u)}},{}],302:[function(e,s,i){var a,o,c,u,l,d=e("../internals/global"),f=e("../internals/function-bind-context"),h=e("../internals/object-get-own-property-descriptor").f,p=e("../internals/task").set,g=e("../internals/queue"),v=e("../internals/engine-is-ios"),m=e("../internals/engine-is-ios-pebble"),x=e("../internals/engine-is-webos-webkit"),y=e("../internals/engine-is-node"),w=d.MutationObserver||d.WebKitMutationObserver,E=d.document,I=d.process,T=d.Promise,R=h(d,"queueMicrotask"),D=R&&R.value;if(!D){var L=new g,M=function(){var H,V;for(y&&(H=I.domain)&&H.exit();V=L.get();)try{V()}catch(P){throw L.head&&a(),P}H&&H.enter()};v||y||x||!w||!E?!m&&T&&T.resolve?((u=T.resolve(void 0)).constructor=T,l=f(u.then,u),a=function(){l(M)}):y?a=function(){I.nextTick(M)}:(p=f(p,d),a=function(){p(M)}):(o=!0,c=E.createTextNode(""),new w(M).observe(c,{characterData:!0}),a=function(){c.data=o=!o}),D=function(H){L.head||a(),L.add(H)}}s.exports=D},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,s,i){var a=e("../internals/a-callable"),o=TypeError,c=function(u){var l,d;this.promise=new u(function(f,h){if(l!==void 0||d!==void 0)throw new o("Bad Promise constructor");l=f,d=h}),this.resolve=a(l),this.reject=a(d)};s.exports.f=function(u){return new c(u)}},{"../internals/a-callable":222}],304:[function(e,s,i){var a=e("../internals/is-regexp"),o=TypeError;s.exports=function(c){if(a(c))throw new o("The method doesn't accept regular expressions");return c}},{"../internals/is-regexp":291}],305:[function(e,s,i){var a=e("../internals/descriptors"),o=e("../internals/function-uncurry-this"),c=e("../internals/function-call"),u=e("../internals/fails"),l=e("../internals/object-keys"),d=e("../internals/object-get-own-property-symbols"),f=e("../internals/object-property-is-enumerable"),h=e("../internals/to-object"),p=e("../internals/indexed-object"),g=Object.assign,v=Object.defineProperty,m=o([].concat);s.exports=!g||u(function(){if(a&&g({b:1},g(v({},"a",{enumerable:!0,get:function(){v(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var x={},y={},w=Symbol("assign detection");return x[w]=7,"abcdefghijklmnopqrst".split("").forEach(function(E){y[E]=E}),g({},x)[w]!==7||l(g({},y)).join("")!=="abcdefghijklmnopqrst"})?function(x,y){for(var w=h(x),E=arguments.length,I=1,T=d.f,R=f.f;E>I;)for(var D,L=p(arguments[I++]),M=T?m(l(L),T(L)):l(L),H=M.length,V=0;H>V;)D=M[V++],a&&!c(R,L,D)||(w[D]=L[D]);return w}:g},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,s,i){var a,o=e("../internals/an-object"),c=e("../internals/object-define-properties"),u=e("../internals/enum-bug-keys"),l=e("../internals/hidden-keys"),d=e("../internals/html"),f=e("../internals/document-create-element"),h=e("../internals/shared-key"),p=h("IE_PROTO"),g=function(){},v=function(y){return"<script>"+y+"<\/script>"},m=function(y){y.write(v("")),y.close();var w=y.parentWindow.Object;return y=null,w},x=function(){try{a=new ActiveXObject("htmlfile")}catch{}var y,w;x=typeof document<"u"?document.domain&&a?m(a):((w=f("iframe")).style.display="none",d.appendChild(w),w.src="javascript:",(y=w.contentWindow.document).open(),y.write(v("document.F=Object")),y.close(),y.F):m(a);for(var E=u.length;E--;)delete x.prototype[u[E]];return x()};l[p]=!0,s.exports=Object.create||function(y,w){var E;return y!==null?(g.prototype=o(y),E=new g,g.prototype=null,E[p]=y):E=x(),w===void 0?E:c.f(E,w)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,s,i){var a=e("../internals/descriptors"),o=e("../internals/v8-prototype-define-bug"),c=e("../internals/object-define-property"),u=e("../internals/an-object"),l=e("../internals/to-indexed-object"),d=e("../internals/object-keys");i.f=a&&!o?Object.defineProperties:function(f,h){u(f);for(var p,g=l(h),v=d(h),m=v.length,x=0;m>x;)c.f(f,p=v[x++],g[p]);return f}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,s,i){var a=e("../internals/descriptors"),o=e("../internals/ie8-dom-define"),c=e("../internals/v8-prototype-define-bug"),u=e("../internals/an-object"),l=e("../internals/to-property-key"),d=TypeError,f=Object.defineProperty,h=Object.getOwnPropertyDescriptor;i.f=a?c?function(p,g,v){if(u(p),g=l(g),u(v),typeof p=="function"&&g==="prototype"&&"value"in v&&"writable"in v&&!v.writable){var m=h(p,g);m&&m.writable&&(p[g]=v.value,v={configurable:"configurable"in v?v.configurable:m.configurable,enumerable:"enumerable"in v?v.enumerable:m.enumerable,writable:!1})}return f(p,g,v)}:f:function(p,g,v){if(u(p),g=l(g),u(v),o)try{return f(p,g,v)}catch{}if("get"in v||"set"in v)throw new d("Accessors not supported");return"value"in v&&(p[g]=v.value),p}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,s,i){var a=e("../internals/descriptors"),o=e("../internals/function-call"),c=e("../internals/object-property-is-enumerable"),u=e("../internals/create-property-descriptor"),l=e("../internals/to-indexed-object"),d=e("../internals/to-property-key"),f=e("../internals/has-own-property"),h=e("../internals/ie8-dom-define"),p=Object.getOwnPropertyDescriptor;i.f=a?p:function(g,v){if(g=l(g),v=d(v),h)try{return p(g,v)}catch{}if(f(g,v))return u(!o(c.f,g,v),g[v])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,s,i){var a=e("../internals/classof-raw"),o=e("../internals/to-indexed-object"),c=e("../internals/object-get-own-property-names").f,u=e("../internals/array-slice-simple"),l=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];s.exports.f=function(d){return l&&a(d)==="Window"?function(f){try{return c(f)}catch{return u(l)}}(d):c(o(d))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,s,i){var a=e("../internals/object-keys-internal"),o=e("../internals/enum-bug-keys").concat("length","prototype");i.f=Object.getOwnPropertyNames||function(c){return a(c,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,s,i){i.f=Object.getOwnPropertySymbols},{}],313:[function(e,s,i){var a=e("../internals/has-own-property"),o=e("../internals/is-callable"),c=e("../internals/to-object"),u=e("../internals/shared-key"),l=e("../internals/correct-prototype-getter"),d=u("IE_PROTO"),f=Object,h=f.prototype;s.exports=l?f.getPrototypeOf:function(p){var g=c(p);if(a(g,d))return g[d];var v=g.constructor;return o(v)&&g instanceof v?v.prototype:g instanceof f?h:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,s,i){var a=e("../internals/function-uncurry-this");s.exports=a({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,s,i){var a=e("../internals/function-uncurry-this"),o=e("../internals/has-own-property"),c=e("../internals/to-indexed-object"),u=e("../internals/array-includes").indexOf,l=e("../internals/hidden-keys"),d=a([].push);s.exports=function(f,h){var p,g=c(f),v=0,m=[];for(p in g)!o(l,p)&&o(g,p)&&d(m,p);for(;h.length>v;)o(g,p=h[v++])&&(~u(m,p)||d(m,p));return m}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,s,i){var a=e("../internals/object-keys-internal"),o=e("../internals/enum-bug-keys");s.exports=Object.keys||function(c){return a(c,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,s,i){var a={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,c=o&&!a.call({1:2},1);i.f=c?function(u){var l=o(this,u);return!!l&&l.enumerable}:a},{}],318:[function(e,s,i){var a=e("../internals/function-uncurry-this-accessor"),o=e("../internals/an-object"),c=e("../internals/a-possible-prototype");s.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u,l=!1,d={};try{(u=a(Object.prototype,"__proto__","set"))(d,[]),l=d instanceof Array}catch{}return function(f,h){return o(f),c(h),l?u(f,h):f.__proto__=h,f}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,s,i){var a=e("../internals/descriptors"),o=e("../internals/fails"),c=e("../internals/function-uncurry-this"),u=e("../internals/object-get-prototype-of"),l=e("../internals/object-keys"),d=e("../internals/to-indexed-object"),f=c(e("../internals/object-property-is-enumerable").f),h=c([].push),p=a&&o(function(){var v=Object.create(null);return v[2]=2,!f(v,2)}),g=function(v){return function(m){for(var x,y=d(m),w=l(y),E=p&&u(y)===null,I=w.length,T=0,R=[];I>T;)x=w[T++],a&&!(E?x in y:f(y,x))||h(R,v?[x,y[x]]:y[x]);return R}};s.exports={entries:g(!0),values:g(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,s,i){var a=e("../internals/function-call"),o=e("../internals/is-callable"),c=e("../internals/is-object"),u=TypeError;s.exports=function(l,d){var f,h;if(d==="string"&&o(f=l.toString)&&!c(h=a(f,l))||o(f=l.valueOf)&&!c(h=a(f,l))||d!=="string"&&o(f=l.toString)&&!c(h=a(f,l)))return h;throw new u("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,s,i){var a=e("../internals/get-built-in"),o=e("../internals/function-uncurry-this"),c=e("../internals/object-get-own-property-names"),u=e("../internals/object-get-own-property-symbols"),l=e("../internals/an-object"),d=o([].concat);s.exports=a("Reflect","ownKeys")||function(f){var h=c.f(l(f)),p=u.f;return p?d(h,p(f)):h}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,s,i){var a=e("../internals/global");s.exports=a},{"../internals/global":274}],323:[function(e,s,i){s.exports=function(a){try{return{error:!1,value:a()}}catch(o){return{error:!0,value:o}}}},{}],324:[function(e,s,i){var a=e("../internals/global"),o=e("../internals/promise-native-constructor"),c=e("../internals/is-callable"),u=e("../internals/is-forced"),l=e("../internals/inspect-source"),d=e("../internals/well-known-symbol"),f=e("../internals/engine-is-browser"),h=e("../internals/engine-is-deno"),p=e("../internals/is-pure"),g=e("../internals/engine-v8-version"),v=o&&o.prototype,m=d("species"),x=!1,y=c(a.PromiseRejectionEvent),w=u("Promise",function(){var E=l(o),I=E!==String(o);if(!I&&g===66||p&&(!v.catch||!v.finally))return!0;if(!g||g<51||!/native code/.test(E)){var T=new o(function(D){D(1)}),R=function(D){D(function(){},function(){})};if((T.constructor={})[m]=R,!(x=T.then(function(){})instanceof R))return!0}return!I&&(f||h)&&!y});s.exports={CONSTRUCTOR:w,REJECTION_EVENT:y,SUBCLASSING:x}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,s,i){var a=e("../internals/global");s.exports=a.Promise},{"../internals/global":274}],326:[function(e,s,i){var a=e("../internals/an-object"),o=e("../internals/is-object"),c=e("../internals/new-promise-capability");s.exports=function(u,l){if(a(u),o(l)&&l.constructor===u)return l;var d=c.f(u);return(0,d.resolve)(l),d.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,s,i){var a=e("../internals/promise-native-constructor"),o=e("../internals/check-correctness-of-iteration"),c=e("../internals/promise-constructor-detection").CONSTRUCTOR;s.exports=c||!o(function(u){a.all(u).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,s,i){var a=function(){this.head=null,this.tail=null};a.prototype={add:function(o){var c={item:o,next:null},u=this.tail;u?u.next=c:this.head=c,this.tail=c},get:function(){var o=this.head;if(o)return(this.head=o.next)===null&&(this.tail=null),o.item}},s.exports=a},{}],329:[function(e,s,i){var a=e("../internals/is-null-or-undefined"),o=TypeError;s.exports=function(c){if(a(c))throw new o("Can't call method on "+c);return c}},{"../internals/is-null-or-undefined":288}],330:[function(e,s,i){var a=e("../internals/get-built-in"),o=e("../internals/define-built-in-accessor"),c=e("../internals/well-known-symbol"),u=e("../internals/descriptors"),l=c("species");s.exports=function(d){var f=a(d);u&&f&&!f[l]&&o(f,l,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,s,i){var a=e("../internals/object-define-property").f,o=e("../internals/has-own-property"),c=e("../internals/well-known-symbol")("toStringTag");s.exports=function(u,l,d){u&&!d&&(u=u.prototype),u&&!o(u,c)&&a(u,c,{configurable:!0,value:l})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,s,i){var a=e("../internals/shared"),o=e("../internals/uid"),c=a("keys");s.exports=function(u){return c[u]||(c[u]=o(u))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,s,i){var a=e("../internals/global"),o=e("../internals/define-global-property"),c=a["__core-js_shared__"]||o("__core-js_shared__",{});s.exports=c},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,s,i){var a=e("../internals/is-pure"),o=e("../internals/shared-store");(s.exports=function(c,u){return o[c]||(o[c]=u!==void 0?u:{})})("versions",[]).push({version:"3.33.0",mode:a?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,s,i){var a=e("../internals/an-object"),o=e("../internals/a-constructor"),c=e("../internals/is-null-or-undefined"),u=e("../internals/well-known-symbol")("species");s.exports=function(l,d){var f,h=a(l).constructor;return h===void 0||c(f=a(h)[u])?d:o(f)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,s,i){var a=e("../internals/engine-v8-version"),o=e("../internals/fails"),c=e("../internals/global").String;s.exports=!!Object.getOwnPropertySymbols&&!o(function(){var u=Symbol("symbol detection");return!c(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&a&&a<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,s,i){var a=e("../internals/function-call"),o=e("../internals/get-built-in"),c=e("../internals/well-known-symbol"),u=e("../internals/define-built-in");s.exports=function(){var l=o("Symbol"),d=l&&l.prototype,f=d&&d.valueOf,h=c("toPrimitive");d&&!d[h]&&u(d,h,function(p){return a(f,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,s,i){var a=e("../internals/symbol-constructor-detection");s.exports=a&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,s,i){var a,o,c,u,l=e("../internals/global"),d=e("../internals/function-apply"),f=e("../internals/function-bind-context"),h=e("../internals/is-callable"),p=e("../internals/has-own-property"),g=e("../internals/fails"),v=e("../internals/html"),m=e("../internals/array-slice"),x=e("../internals/document-create-element"),y=e("../internals/validate-arguments-length"),w=e("../internals/engine-is-ios"),E=e("../internals/engine-is-node"),I=l.setImmediate,T=l.clearImmediate,R=l.process,D=l.Dispatch,L=l.Function,M=l.MessageChannel,H=l.String,V=0,P={};g(function(){a=l.location});var F=function(N){if(p(P,N)){var C=P[N];delete P[N],C()}},A=function(N){return function(){F(N)}},_=function(N){F(N.data)},S=function(N){l.postMessage(H(N),a.protocol+"//"+a.host)};I&&T||(I=function(N){y(arguments.length,1);var C=h(N)?N:L(N),W=m(arguments,1);return P[++V]=function(){d(C,void 0,W)},o(V),V},T=function(N){delete P[N]},E?o=function(N){R.nextTick(A(N))}:D&&D.now?o=function(N){D.now(A(N))}:M&&!w?(u=(c=new M).port2,c.port1.onmessage=_,o=f(u.postMessage,u)):l.addEventListener&&h(l.postMessage)&&!l.importScripts&&a&&a.protocol!=="file:"&&!g(S)?(o=S,l.addEventListener("message",_,!1)):o="onreadystatechange"in x("script")?function(N){v.appendChild(x("script")).onreadystatechange=function(){v.removeChild(this),F(N)}}:function(N){setTimeout(A(N),0)}),s.exports={set:I,clear:T}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,s,i){var a=e("../internals/to-integer-or-infinity"),o=Math.max,c=Math.min;s.exports=function(u,l){var d=a(u);return d<0?o(d+l,0):c(d,l)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,s,i){var a=e("../internals/indexed-object"),o=e("../internals/require-object-coercible");s.exports=function(c){return a(o(c))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,s,i){var a=e("../internals/math-trunc");s.exports=function(o){var c=+o;return c!=c||c===0?0:a(c)}},{"../internals/math-trunc":301}],343:[function(e,s,i){var a=e("../internals/to-integer-or-infinity"),o=Math.min;s.exports=function(c){return c>0?o(a(c),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,s,i){var a=e("../internals/require-object-coercible"),o=Object;s.exports=function(c){return o(a(c))}},{"../internals/require-object-coercible":329}],345:[function(e,s,i){var a=e("../internals/function-call"),o=e("../internals/is-object"),c=e("../internals/is-symbol"),u=e("../internals/get-method"),l=e("../internals/ordinary-to-primitive"),d=e("../internals/well-known-symbol"),f=TypeError,h=d("toPrimitive");s.exports=function(p,g){if(!o(p)||c(p))return p;var v,m=u(p,h);if(m){if(g===void 0&&(g="default"),v=a(m,p,g),!o(v)||c(v))return v;throw new f("Can't convert object to primitive value")}return g===void 0&&(g="number"),l(p,g)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,s,i){var a=e("../internals/to-primitive"),o=e("../internals/is-symbol");s.exports=function(c){var u=a(c,"string");return o(u)?u:u+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,s,i){var a={};a[e("../internals/well-known-symbol")("toStringTag")]="z",s.exports=String(a)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,s,i){var a=e("../internals/classof"),o=String;s.exports=function(c){if(a(c)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return o(c)}},{"../internals/classof":236}],349:[function(e,s,i){var a=String;s.exports=function(o){try{return a(o)}catch{return"Object"}}},{}],350:[function(e,s,i){var a=e("../internals/function-uncurry-this"),o=0,c=Math.random(),u=a(1 .toString);s.exports=function(l){return"Symbol("+(l===void 0?"":l)+")_"+u(++o+c,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,s,i){var a=e("../internals/symbol-constructor-detection");s.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,s,i){var a=e("../internals/descriptors"),o=e("../internals/fails");s.exports=a&&o(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,s,i){var a=TypeError;s.exports=function(o,c){if(o<c)throw new a("Not enough arguments");return o}},{}],354:[function(e,s,i){var a=e("../internals/global"),o=e("../internals/is-callable"),c=a.WeakMap;s.exports=o(c)&&/native code/.test(String(c))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,s,i){var a=e("../internals/path"),o=e("../internals/has-own-property"),c=e("../internals/well-known-symbol-wrapped"),u=e("../internals/object-define-property").f;s.exports=function(l){var d=a.Symbol||(a.Symbol={});o(d,l)||u(d,l,{value:c.f(l)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,s,i){var a=e("../internals/well-known-symbol");i.f=a},{"../internals/well-known-symbol":357}],357:[function(e,s,i){var a=e("../internals/global"),o=e("../internals/shared"),c=e("../internals/has-own-property"),u=e("../internals/uid"),l=e("../internals/symbol-constructor-detection"),d=e("../internals/use-symbol-as-uid"),f=a.Symbol,h=o("wks"),p=d?f.for||f:f&&f.withoutSetter||u;s.exports=function(g){return c(h,g)||(h[g]=l&&c(f,g)?f[g]:p("Symbol."+g)),h[g]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,s,i){var a=e("../internals/export"),o=e("../internals/array-iteration").findIndex,c=e("../internals/add-to-unscopables"),u=!0;"findIndex"in[]&&Array(1).findIndex(function(){u=!1}),a({target:"Array",proto:!0,forced:u},{findIndex:function(l){return o(this,l,arguments.length>1?arguments[1]:void 0)}}),c("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,s,i){var a=e("../internals/export"),o=e("../internals/array-iteration").find,c=e("../internals/add-to-unscopables"),u=!0;"find"in[]&&Array(1).find(function(){u=!1}),a({target:"Array",proto:!0,forced:u},{find:function(l){return o(this,l,arguments.length>1?arguments[1]:void 0)}}),c("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,s,i){var a=e("../internals/export"),o=e("../internals/array-includes").includes,c=e("../internals/fails"),u=e("../internals/add-to-unscopables");a({target:"Array",proto:!0,forced:c(function(){return!Array(1).includes()})},{includes:function(l){return o(this,l,arguments.length>1?arguments[1]:void 0)}}),u("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,s,i){var a=e("../internals/to-indexed-object"),o=e("../internals/add-to-unscopables"),c=e("../internals/iterators"),u=e("../internals/internal-state"),l=e("../internals/object-define-property").f,d=e("../internals/iterator-define"),f=e("../internals/create-iter-result-object"),h=e("../internals/is-pure"),p=e("../internals/descriptors"),g=u.set,v=u.getterFor("Array Iterator");s.exports=d(Array,"Array",function(x,y){g(this,{type:"Array Iterator",target:a(x),index:0,kind:y})},function(){var x=v(this),y=x.target,w=x.kind,E=x.index++;if(!y||E>=y.length)return x.target=void 0,f(void 0,!0);switch(w){case"keys":return f(E,!1);case"values":return f(y[E],!1)}return f([E,y[E]],!1)},"values");var m=c.Arguments=c.Array;if(o("keys"),o("values"),o("entries"),!h&&p&&m.name!=="values")try{l(m,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,s,i){var a=e("../internals/export"),o=e("../internals/get-built-in"),c=e("../internals/function-apply"),u=e("../internals/function-call"),l=e("../internals/function-uncurry-this"),d=e("../internals/fails"),f=e("../internals/is-callable"),h=e("../internals/is-symbol"),p=e("../internals/array-slice"),g=e("../internals/get-json-replacer-function"),v=e("../internals/symbol-constructor-detection"),m=String,x=o("JSON","stringify"),y=l(/./.exec),w=l("".charAt),E=l("".charCodeAt),I=l("".replace),T=l(1 .toString),R=/[\uD800-\uDFFF]/g,D=/^[\uD800-\uDBFF]$/,L=/^[\uDC00-\uDFFF]$/,M=!v||d(function(){var F=o("Symbol")("stringify detection");return x([F])!=="[null]"||x({a:F})!=="{}"||x(Object(F))!=="{}"}),H=d(function(){return x("\uDF06\uD834")!=='"\\udf06\\ud834"'||x("\uDEAD")!=='"\\udead"'}),V=function(F,A){var _=p(arguments),S=g(A);if(f(S)||F!==void 0&&!h(F))return _[1]=function(N,C){if(f(S)&&(C=u(S,this,m(N),C)),!h(C))return C},c(x,null,_)},P=function(F,A,_){var S=w(_,A-1),N=w(_,A+1);return y(D,F)&&!y(L,N)||y(L,F)&&!y(D,S)?"\\u"+T(E(F,0),16):F};x&&a({target:"JSON",stat:!0,arity:3,forced:M||H},{stringify:function(F,A,_){var S=p(arguments),N=c(M?V:x,null,S);return H&&typeof N=="string"?I(N,R,P):N}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,s,i){e("../internals/export")({target:"Number",stat:!0},{isNaN:function(a){return a!=a}})},{"../internals/export":259}],364:[function(e,s,i){var a=e("../internals/export"),o=e("../internals/object-assign");a({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,s,i){var a=e("../internals/export"),o=e("../internals/symbol-constructor-detection"),c=e("../internals/fails"),u=e("../internals/object-get-own-property-symbols"),l=e("../internals/to-object");a({target:"Object",stat:!0,forced:!o||c(function(){u.f(1)})},{getOwnPropertySymbols:function(d){var f=u.f;return f?f(l(d)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,s,i){var a=e("../internals/export"),o=e("../internals/to-object"),c=e("../internals/object-keys");a({target:"Object",stat:!0,forced:e("../internals/fails")(function(){c(1)})},{keys:function(u){return c(o(u))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,s,i){var a=e("../internals/export"),o=e("../internals/object-to-array").values;a({target:"Object",stat:!0},{values:function(c){return o(c)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,s,i){var a=e("../internals/export"),o=e("../internals/function-call"),c=e("../internals/a-callable"),u=e("../internals/new-promise-capability"),l=e("../internals/perform"),d=e("../internals/iterate");a({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{all:function(f){var h=this,p=u.f(h),g=p.resolve,v=p.reject,m=l(function(){var x=c(h.resolve),y=[],w=0,E=1;d(f,function(I){var T=w++,R=!1;E++,o(x,h,I).then(function(D){R||(R=!0,y[T]=D,--E||g(y))},v)}),--E||g(y)});return m.error&&v(m.value),p.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,s,i){var a=e("../internals/export"),o=e("../internals/is-pure"),c=e("../internals/promise-constructor-detection").CONSTRUCTOR,u=e("../internals/promise-native-constructor"),l=e("../internals/get-built-in"),d=e("../internals/is-callable"),f=e("../internals/define-built-in"),h=u&&u.prototype;if(a({target:"Promise",proto:!0,forced:c,real:!0},{catch:function(g){return this.then(void 0,g)}}),!o&&d(u)){var p=l("Promise").prototype.catch;h.catch!==p&&f(h,"catch",p,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,s,i){var a,o,c,u=e("../internals/export"),l=e("../internals/is-pure"),d=e("../internals/engine-is-node"),f=e("../internals/global"),h=e("../internals/function-call"),p=e("../internals/define-built-in"),g=e("../internals/object-set-prototype-of"),v=e("../internals/set-to-string-tag"),m=e("../internals/set-species"),x=e("../internals/a-callable"),y=e("../internals/is-callable"),w=e("../internals/is-object"),E=e("../internals/an-instance"),I=e("../internals/species-constructor"),T=e("../internals/task").set,R=e("../internals/microtask"),D=e("../internals/host-report-errors"),L=e("../internals/perform"),M=e("../internals/queue"),H=e("../internals/internal-state"),V=e("../internals/promise-native-constructor"),P=e("../internals/promise-constructor-detection"),F=e("../internals/new-promise-capability"),A=P.CONSTRUCTOR,_=P.REJECTION_EVENT,S=P.SUBCLASSING,N=H.getterFor("Promise"),C=H.set,W=V&&V.prototype,j=V,B=W,G=f.TypeError,X=f.document,J=f.process,O=F.f,ee=O,U=!!(X&&X.createEvent&&f.dispatchEvent),z=function(xe){var Le;return!(!w(xe)||!y(Le=xe.then))&&Le},Z=function(xe,Le){var Me,Oe,ze,Ke=Le.value,ot=Le.state===1,$e=ot?xe.ok:xe.fail,Ve=xe.resolve,He=xe.reject,rt=xe.domain;try{$e?(ot||(Le.rejection===2&&ce(Le),Le.rejection=1),$e===!0?Me=Ke:(rt&&rt.enter(),Me=$e(Ke),rt&&(rt.exit(),ze=!0)),Me===xe.promise?He(new G("Promise-chain cycle")):(Oe=z(Me))?h(Oe,Me,Ve,He):Ve(Me)):He(Ke)}catch(Je){rt&&!ze&&rt.exit(),He(Je)}},te=function(xe,Le){xe.notified||(xe.notified=!0,R(function(){for(var Me,Oe=xe.reactions;Me=Oe.get();)Z(Me,xe);xe.notified=!1,Le&&!xe.rejection&&ue(xe)}))},oe=function(xe,Le,Me){var Oe,ze;U?((Oe=X.createEvent("Event")).promise=Le,Oe.reason=Me,Oe.initEvent(xe,!1,!0),f.dispatchEvent(Oe)):Oe={promise:Le,reason:Me},!_&&(ze=f["on"+xe])?ze(Oe):xe==="unhandledrejection"&&D("Unhandled promise rejection",Me)},ue=function(xe){h(T,f,function(){var Le,Me=xe.facade,Oe=xe.value;if(le(xe)&&(Le=L(function(){d?J.emit("unhandledRejection",Oe,Me):oe("unhandledrejection",Me,Oe)}),xe.rejection=d||le(xe)?2:1,Le.error))throw Le.value})},le=function(xe){return xe.rejection!==1&&!xe.parent},ce=function(xe){h(T,f,function(){var Le=xe.facade;d?J.emit("rejectionHandled",Le):oe("rejectionhandled",Le,xe.value)})},_e=function(xe,Le,Me){return function(Oe){xe(Le,Oe,Me)}},fe=function(xe,Le,Me){xe.done||(xe.done=!0,Me&&(xe=Me),xe.value=Le,xe.state=2,te(xe,!0))},ge=function(xe,Le,Me){if(!xe.done){xe.done=!0,Me&&(xe=Me);try{if(xe.facade===Le)throw new G("Promise can't be resolved itself");var Oe=z(Le);Oe?R(function(){var ze={done:!1};try{h(Oe,Le,_e(ge,ze,xe),_e(fe,ze,xe))}catch(Ke){fe(ze,Ke,xe)}}):(xe.value=Le,xe.state=1,te(xe,!1))}catch(ze){fe({done:!1},ze,xe)}}};if(A&&(B=(j=function(xe){E(this,B),x(xe),h(a,this);var Le=N(this);try{xe(_e(ge,Le),_e(fe,Le))}catch(Me){fe(Le,Me)}}).prototype,(a=function(xe){C(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new M,rejection:!1,state:0,value:void 0})}).prototype=p(B,"then",function(xe,Le){var Me=N(this),Oe=O(I(this,j));return Me.parent=!0,Oe.ok=!y(xe)||xe,Oe.fail=y(Le)&&Le,Oe.domain=d?J.domain:void 0,Me.state===0?Me.reactions.add(Oe):R(function(){Z(Oe,Me)}),Oe.promise}),o=function(){var xe=new a,Le=N(xe);this.promise=xe,this.resolve=_e(ge,Le),this.reject=_e(fe,Le)},F.f=O=function(xe){return xe===j||xe===void 0?new o(xe):ee(xe)},!l&&y(V)&&W!==Object.prototype)){c=W.then,S||p(W,"then",function(xe,Le){var Me=this;return new j(function(Oe,ze){h(c,Me,Oe,ze)}).then(xe,Le)},{unsafe:!0});try{delete W.constructor}catch{}g&&g(W,B)}u({global:!0,constructor:!0,wrap:!0,forced:A},{Promise:j}),v(j,"Promise",!1,!0),m("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,s,i){var a=e("../internals/export"),o=e("../internals/is-pure"),c=e("../internals/promise-native-constructor"),u=e("../internals/fails"),l=e("../internals/get-built-in"),d=e("../internals/is-callable"),f=e("../internals/species-constructor"),h=e("../internals/promise-resolve"),p=e("../internals/define-built-in"),g=c&&c.prototype;if(a({target:"Promise",proto:!0,real:!0,forced:!!c&&u(function(){g.finally.call({then:function(){}},function(){})})},{finally:function(m){var x=f(this,l("Promise")),y=d(m);return this.then(y?function(w){return h(x,m()).then(function(){return w})}:m,y?function(w){return h(x,m()).then(function(){throw w})}:m)}}),!o&&d(c)){var v=l("Promise").prototype.finally;g.finally!==v&&p(g,"finally",v,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,s,i){e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,s,i){var a=e("../internals/export"),o=e("../internals/function-call"),c=e("../internals/a-callable"),u=e("../internals/new-promise-capability"),l=e("../internals/perform"),d=e("../internals/iterate");a({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{race:function(f){var h=this,p=u.f(h),g=p.reject,v=l(function(){var m=c(h.resolve);d(f,function(x){o(m,h,x).then(p.resolve,g)})});return v.error&&g(v.value),p.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,s,i){var a=e("../internals/export"),o=e("../internals/function-call"),c=e("../internals/new-promise-capability");a({target:"Promise",stat:!0,forced:e("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(u){var l=c.f(this);return o(l.reject,void 0,u),l.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,s,i){var a=e("../internals/export"),o=e("../internals/get-built-in"),c=e("../internals/is-pure"),u=e("../internals/promise-native-constructor"),l=e("../internals/promise-constructor-detection").CONSTRUCTOR,d=e("../internals/promise-resolve"),f=o("Promise"),h=c&&!l;a({target:"Promise",stat:!0,forced:c||l},{resolve:function(p){return d(h&&this===f?u:this,p)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,s,i){var a=e("../internals/export"),o=e("../internals/function-uncurry-this"),c=e("../internals/to-absolute-index"),u=RangeError,l=String.fromCharCode,d=String.fromCodePoint,f=o([].join);a({target:"String",stat:!0,arity:1,forced:!!d&&d.length!==1},{fromCodePoint:function(h){for(var p,g=[],v=arguments.length,m=0;v>m;){if(p=+arguments[m++],c(p,1114111)!==p)throw new u(p+" is not a valid code point");g[m]=p<65536?l(p):l(55296+((p-=65536)>>10),p%1024+56320)}return f(g,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,s,i){var a=e("../internals/export"),o=e("../internals/function-uncurry-this"),c=e("../internals/not-a-regexp"),u=e("../internals/require-object-coercible"),l=e("../internals/to-string"),d=e("../internals/correct-is-regexp-logic"),f=o("".indexOf);a({target:"String",proto:!0,forced:!d("includes")},{includes:function(h){return!!~f(l(u(this)),l(c(h)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,s,i){e("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,s,i){var a=e("../internals/export"),o=e("../internals/global"),c=e("../internals/function-call"),u=e("../internals/function-uncurry-this"),l=e("../internals/is-pure"),d=e("../internals/descriptors"),f=e("../internals/symbol-constructor-detection"),h=e("../internals/fails"),p=e("../internals/has-own-property"),g=e("../internals/object-is-prototype-of"),v=e("../internals/an-object"),m=e("../internals/to-indexed-object"),x=e("../internals/to-property-key"),y=e("../internals/to-string"),w=e("../internals/create-property-descriptor"),E=e("../internals/object-create"),I=e("../internals/object-keys"),T=e("../internals/object-get-own-property-names"),R=e("../internals/object-get-own-property-names-external"),D=e("../internals/object-get-own-property-symbols"),L=e("../internals/object-get-own-property-descriptor"),M=e("../internals/object-define-property"),H=e("../internals/object-define-properties"),V=e("../internals/object-property-is-enumerable"),P=e("../internals/define-built-in"),F=e("../internals/define-built-in-accessor"),A=e("../internals/shared"),_=e("../internals/shared-key"),S=e("../internals/hidden-keys"),N=e("../internals/uid"),C=e("../internals/well-known-symbol"),W=e("../internals/well-known-symbol-wrapped"),j=e("../internals/well-known-symbol-define"),B=e("../internals/symbol-define-to-primitive"),G=e("../internals/set-to-string-tag"),X=e("../internals/internal-state"),J=e("../internals/array-iteration").forEach,O=_("hidden"),ee=X.set,U=X.getterFor("Symbol"),z=Object.prototype,Z=o.Symbol,te=Z&&Z.prototype,oe=o.RangeError,ue=o.TypeError,le=o.QObject,ce=L.f,_e=M.f,fe=R.f,ge=V.f,xe=u([].push),Le=A("symbols"),Me=A("op-symbols"),Oe=A("wks"),ze=!le||!le.prototype||!le.prototype.findChild,Ke=function(kt,mt,At){var $t=ce(z,mt);$t&&delete z[mt],_e(kt,mt,At),$t&&kt!==z&&_e(z,mt,$t)},ot=d&&h(function(){return E(_e({},"a",{get:function(){return _e(this,"a",{value:7}).a}})).a!==7})?Ke:_e,$e=function(kt,mt){var At=Le[kt]=E(te);return ee(At,{type:"Symbol",tag:kt,description:mt}),d||(At.description=mt),At},Ve=function(kt,mt,At){kt===z&&Ve(Me,mt,At),v(kt);var $t=x(mt);return v(At),p(Le,$t)?(At.enumerable?(p(kt,O)&&kt[O][$t]&&(kt[O][$t]=!1),At=E(At,{enumerable:w(0,!1)})):(p(kt,O)||_e(kt,O,w(1,{})),kt[O][$t]=!0),ot(kt,$t,At)):_e(kt,$t,At)},He=function(kt,mt){v(kt);var At=m(mt),$t=I(At).concat(yt(At));return J($t,function(Tt){d&&!c(rt,At,Tt)||Ve(kt,Tt,At[Tt])}),kt},rt=function(kt){var mt=x(kt),At=c(ge,this,mt);return!(this===z&&p(Le,mt)&&!p(Me,mt))&&(!(At||!p(this,mt)||!p(Le,mt)||p(this,O)&&this[O][mt])||At)},Je=function(kt,mt){var At=m(kt),$t=x(mt);if(At!==z||!p(Le,$t)||p(Me,$t)){var Tt=ce(At,$t);return!Tt||!p(Le,$t)||p(At,O)&&At[O][$t]||(Tt.enumerable=!0),Tt}},wt=function(kt){var mt=fe(m(kt)),At=[];return J(mt,function($t){p(Le,$t)||p(S,$t)||xe(At,$t)}),At},yt=function(kt){var mt=kt===z,At=fe(mt?Me:m(kt)),$t=[];return J(At,function(Tt){!p(Le,Tt)||mt&&!p(z,Tt)||xe($t,Le[Tt])}),$t};f||(P(te=(Z=function(){if(g(te,this))throw new ue("Symbol is not a constructor");var kt=arguments.length&&arguments[0]!==void 0?y(arguments[0]):void 0,mt=N(kt),At=function($t){this===z&&c(At,Me,$t),p(this,O)&&p(this[O],mt)&&(this[O][mt]=!1);var Tt=w(1,$t);try{ot(this,mt,Tt)}catch(Yt){if(!(Yt instanceof oe))throw Yt;Ke(this,mt,Tt)}};return d&&ze&&ot(z,mt,{configurable:!0,set:At}),$e(mt,kt)}).prototype,"toString",function(){return U(this).tag}),P(Z,"withoutSetter",function(kt){return $e(N(kt),kt)}),V.f=rt,M.f=Ve,H.f=He,L.f=Je,T.f=R.f=wt,D.f=yt,W.f=function(kt){return $e(C(kt),kt)},d&&(F(te,"description",{configurable:!0,get:function(){return U(this).description}}),l||P(z,"propertyIsEnumerable",rt,{unsafe:!0}))),a({global:!0,constructor:!0,wrap:!0,forced:!f,sham:!f},{Symbol:Z}),J(I(Oe),function(kt){j(kt)}),a({target:"Symbol",stat:!0,forced:!f},{useSetter:function(){ze=!0},useSimple:function(){ze=!1}}),a({target:"Object",stat:!0,forced:!f,sham:!d},{create:function(kt,mt){return mt===void 0?E(kt):He(E(kt),mt)},defineProperty:Ve,defineProperties:He,getOwnPropertyDescriptor:Je}),a({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:wt}),B(),G(Z,"Symbol"),S[O]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,s,i){var a=e("../internals/export"),o=e("../internals/get-built-in"),c=e("../internals/has-own-property"),u=e("../internals/to-string"),l=e("../internals/shared"),d=e("../internals/symbol-registry-detection"),f=l("string-to-symbol-registry"),h=l("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!d},{for:function(p){var g=u(p);if(c(f,g))return f[g];var v=o("Symbol")(g);return f[g]=v,h[v]=g,v}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,s,i){e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,s,i){var a=e("../internals/export"),o=e("../internals/has-own-property"),c=e("../internals/is-symbol"),u=e("../internals/try-to-string"),l=e("../internals/shared"),d=e("../internals/symbol-registry-detection"),f=l("symbol-to-string-registry");a({target:"Symbol",stat:!0,forced:!d},{keyFor:function(h){if(!c(h))throw new TypeError(u(h)+" is not a symbol");if(o(f,h))return f[h]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,s,i){function a(o){return Object.prototype.toString.call(o)}i.isArray=function(o){return Array.isArray?Array.isArray(o):a(o)==="[object Array]"},i.isBoolean=function(o){return typeof o=="boolean"},i.isNull=function(o){return o===null},i.isNullOrUndefined=function(o){return o==null},i.isNumber=function(o){return typeof o=="number"},i.isString=function(o){return typeof o=="string"},i.isSymbol=function(o){return typeof o=="symbol"},i.isUndefined=function(o){return o===void 0},i.isRegExp=function(o){return a(o)==="[object RegExp]"},i.isObject=function(o){return typeof o=="object"&&o!==null},i.isDate=function(o){return a(o)==="[object Date]"},i.isError=function(o){return a(o)==="[object Error]"||o instanceof Error},i.isFunction=function(o){return typeof o=="function"},i.isPrimitive=function(o){return o===null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||typeof o=="symbol"||o===void 0},i.isBuffer=e("buffer").Buffer.isBuffer},{buffer:220}],384:[function(e,s,i){(function(a){(function(){var o=e("elliptic"),c=e("bn.js");s.exports=function(f){return new l(f)};var u={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function l(f){this.curveType=u[f],this.curveType||(this.curveType={name:f}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}function d(f,h,p){Array.isArray(f)||(f=f.toArray());var g=new a(f);if(p&&g.length<p){var v=new a(p-g.length);v.fill(0),g=a.concat([v,g])}return h?g.toString(h):g}u.p224=u.secp224r1,u.p256=u.secp256r1=u.prime256v1,u.p192=u.secp192r1=u.prime192v1,u.p384=u.secp384r1,u.p521=u.secp521r1,l.prototype.generateKeys=function(f,h){return this.keys=this.curve.genKeyPair(),this.getPublicKey(f,h)},l.prototype.computeSecret=function(f,h,p){return h=h||"utf8",a.isBuffer(f)||(f=new a(f,h)),d(this.curve.keyFromPublic(f).getPublic().mul(this.keys.getPrivate()).getX(),p,this.curveType.byteLength)},l.prototype.getPublicKey=function(f,h){var p=this.keys.getPublic(h==="compressed",!0);return h==="hybrid"&&(p[p.length-1]%2?p[0]=7:p[0]=6),d(p,f)},l.prototype.getPrivateKey=function(f){return d(this.keys.getPrivate(),f)},l.prototype.setPublicKey=function(f,h){return h=h||"utf8",a.isBuffer(f)||(f=new a(f,h)),this.keys._importPublic(f),this},l.prototype.setPrivateKey=function(f,h){h=h||"utf8",a.isBuffer(f)||(f=new a(f,h));var p=new c(f);return p=p.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(p),this}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,s,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],386:[function(e,s,i){var a=e("inherits"),o=e("md5.js"),c=e("ripemd160"),u=e("sha.js"),l=e("cipher-base");function d(f){l.call(this,"digest"),this._hash=f}a(d,l),d.prototype._update=function(f){this._hash.update(f)},d.prototype._final=function(){return this._hash.digest()},s.exports=function(f){return(f=f.toLowerCase())==="md5"?new o:f==="rmd160"||f==="ripemd160"?new c:new d(u(f))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,s,i){var a=e("md5.js");s.exports=function(o){return new a().update(o).digest()}},{"md5.js":450}],388:[function(e,s,i){var a=e("inherits"),o=e("./legacy"),c=e("cipher-base"),u=e("safe-buffer").Buffer,l=e("create-hash/md5"),d=e("ripemd160"),f=e("sha.js"),h=u.alloc(128);function p(g,v){c.call(this,"digest"),typeof v=="string"&&(v=u.from(v));var m=g==="sha512"||g==="sha384"?128:64;this._alg=g,this._key=v,v.length>m?v=(g==="rmd160"?new d:f(g)).update(v).digest():v.length<m&&(v=u.concat([v,h],m));for(var x=this._ipad=u.allocUnsafe(m),y=this._opad=u.allocUnsafe(m),w=0;w<m;w++)x[w]=54^v[w],y[w]=92^v[w];this._hash=g==="rmd160"?new d:f(g),this._hash.update(x)}a(p,c),p.prototype._update=function(g){this._hash.update(g)},p.prototype._final=function(){var g=this._hash.digest();return(this._alg==="rmd160"?new d:f(this._alg)).update(this._opad).update(g).digest()},s.exports=function(g,v){return(g=g.toLowerCase())==="rmd160"||g==="ripemd160"?new p("rmd160",v):g==="md5"?new o(l,v):new p(g,v)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,s,i){var a=e("inherits"),o=e("safe-buffer").Buffer,c=e("cipher-base"),u=o.alloc(128);function l(d,f){c.call(this,"digest"),typeof f=="string"&&(f=o.from(f)),this._alg=d,this._key=f,f.length>64?f=d(f):f.length<64&&(f=o.concat([f,u],64));for(var h=this._ipad=o.allocUnsafe(64),p=this._opad=o.allocUnsafe(64),g=0;g<64;g++)h[g]=54^f[g],p[g]=92^f[g];this._hash=[h]}a(l,c),l.prototype._update=function(d){this._hash.push(d)},l.prototype._final=function(){var d=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,d]))},s.exports=l},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,s,i){i.randomBytes=i.rng=i.pseudoRandomBytes=i.prng=e("randombytes"),i.createHash=i.Hash=e("create-hash"),i.createHmac=i.Hmac=e("create-hmac");var a=e("browserify-sign/algos"),o=Object.keys(a),c=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(o);i.getHashes=function(){return c};var u=e("pbkdf2");i.pbkdf2=u.pbkdf2,i.pbkdf2Sync=u.pbkdf2Sync;var l=e("browserify-cipher");i.Cipher=l.Cipher,i.createCipher=l.createCipher,i.Cipheriv=l.Cipheriv,i.createCipheriv=l.createCipheriv,i.Decipher=l.Decipher,i.createDecipher=l.createDecipher,i.Decipheriv=l.Decipheriv,i.createDecipheriv=l.createDecipheriv,i.getCiphers=l.getCiphers,i.listCiphers=l.listCiphers;var d=e("diffie-hellman");i.DiffieHellmanGroup=d.DiffieHellmanGroup,i.createDiffieHellmanGroup=d.createDiffieHellmanGroup,i.getDiffieHellman=d.getDiffieHellman,i.createDiffieHellman=d.createDiffieHellman,i.DiffieHellman=d.DiffieHellman;var f=e("browserify-sign");i.createSign=f.createSign,i.Sign=f.Sign,i.createVerify=f.createVerify,i.Verify=f.Verify,i.createECDH=e("create-ecdh");var h=e("public-encrypt");i.publicEncrypt=h.publicEncrypt,i.privateEncrypt=h.privateEncrypt,i.publicDecrypt=h.publicDecrypt,i.privateDecrypt=h.privateDecrypt;var p=e("randomfill");i.randomFill=p.randomFill,i.randomFillSync=p.randomFillSync,i.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},i.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,s,i){(function(a,o){typeof i=="object"&&s!==void 0?s.exports=o():(a=typeof globalThis<"u"?globalThis:a||self).dayjs=o()})(void 0,function(){var a=6e4,o=36e5,c="millisecond",u="second",l="minute",d="hour",f="day",h="week",p="month",g="quarter",v="year",m="date",x="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,E={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_){var S=["th","st","nd","rd"],N=_%100;return"["+_+(S[(N-20)%10]||S[N]||S[0])+"]"}},I=function(_,S,N){var C=String(_);return!C||C.length>=S?_:""+Array(S+1-C.length).join(N)+_},T={s:I,z:function(_){var S=-_.utcOffset(),N=Math.abs(S),C=Math.floor(N/60),W=N%60;return(S<=0?"+":"-")+I(C,2,"0")+":"+I(W,2,"0")},m:function _(S,N){if(S.date()<N.date())return-_(N,S);var C=12*(N.year()-S.year())+(N.month()-S.month()),W=S.clone().add(C,p),j=N-W<0,B=S.clone().add(C+(j?-1:1),p);return+(-(C+(N-W)/(j?W-B:B-W))||0)},a:function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},p:function(_){return{M:p,y:v,w:h,d:f,D:m,h:d,m:l,s:u,ms:c,Q:g}[_]||String(_||"").toLowerCase().replace(/s$/,"")},u:function(_){return _===void 0}},R="en",D={};D[R]=E;var L="$isDayjsObject",M=function(_){return _ instanceof F||!(!_||!_[L])},H=function _(S,N,C){var W;if(!S)return R;if(typeof S=="string"){var j=S.toLowerCase();D[j]&&(W=j),N&&(D[j]=N,W=j);var B=S.split("-");if(!W&&B.length>1)return _(B[0])}else{var G=S.name;D[G]=S,W=G}return!C&&W&&(R=W),W||!C&&R},V=function(_,S){if(M(_))return _.clone();var N=typeof S=="object"?S:{};return N.date=_,N.args=arguments,new F(N)},P=T;P.l=H,P.i=M,P.w=function(_,S){return V(_,{locale:S.$L,utc:S.$u,x:S.$x,$offset:S.$offset})};var F=function(){function _(N){this.$L=H(N.locale,null,!0),this.parse(N),this.$x=this.$x||N.x||{},this[L]=!0}var S=_.prototype;return S.parse=function(N){this.$d=function(C){var W=C.date,j=C.utc;if(W===null)return new Date(NaN);if(P.u(W))return new Date;if(W instanceof Date)return new Date(W);if(typeof W=="string"&&!/Z$/i.test(W)){var B=W.match(y);if(B){var G=B[2]-1||0,X=(B[7]||"0").substring(0,3);return j?new Date(Date.UTC(B[1],G,B[3]||1,B[4]||0,B[5]||0,B[6]||0,X)):new Date(B[1],G,B[3]||1,B[4]||0,B[5]||0,B[6]||0,X)}}return new Date(W)}(N),this.init()},S.init=function(){var N=this.$d;this.$y=N.getFullYear(),this.$M=N.getMonth(),this.$D=N.getDate(),this.$W=N.getDay(),this.$H=N.getHours(),this.$m=N.getMinutes(),this.$s=N.getSeconds(),this.$ms=N.getMilliseconds()},S.$utils=function(){return P},S.isValid=function(){return this.$d.toString()!==x},S.isSame=function(N,C){var W=V(N);return this.startOf(C)<=W&&W<=this.endOf(C)},S.isAfter=function(N,C){return V(N)<this.startOf(C)},S.isBefore=function(N,C){return this.endOf(C)<V(N)},S.$g=function(N,C,W){return P.u(N)?this[C]:this.set(W,N)},S.unix=function(){return Math.floor(this.valueOf()/1e3)},S.valueOf=function(){return this.$d.getTime()},S.startOf=function(N,C){var W=this,j=!!P.u(C)||C,B=P.p(N),G=function(te,oe){var ue=P.w(W.$u?Date.UTC(W.$y,oe,te):new Date(W.$y,oe,te),W);return j?ue:ue.endOf(f)},X=function(te,oe){return P.w(W.toDate()[te].apply(W.toDate("s"),(j?[0,0,0,0]:[23,59,59,999]).slice(oe)),W)},J=this.$W,O=this.$M,ee=this.$D,U="set"+(this.$u?"UTC":"");switch(B){case v:return j?G(1,0):G(31,11);case p:return j?G(1,O):G(0,O+1);case h:var z=this.$locale().weekStart||0,Z=(J<z?J+7:J)-z;return G(j?ee-Z:ee+(6-Z),O);case f:case m:return X(U+"Hours",0);case d:return X(U+"Minutes",1);case l:return X(U+"Seconds",2);case u:return X(U+"Milliseconds",3);default:return this.clone()}},S.endOf=function(N){return this.startOf(N,!1)},S.$set=function(N,C){var W,j=P.p(N),B="set"+(this.$u?"UTC":""),G=(W={},W[f]=B+"Date",W[m]=B+"Date",W[p]=B+"Month",W[v]=B+"FullYear",W[d]=B+"Hours",W[l]=B+"Minutes",W[u]=B+"Seconds",W[c]=B+"Milliseconds",W)[j],X=j===f?this.$D+(C-this.$W):C;if(j===p||j===v){var J=this.clone().set(m,1);J.$d[G](X),J.init(),this.$d=J.set(m,Math.min(this.$D,J.daysInMonth())).$d}else G&&this.$d[G](X);return this.init(),this},S.set=function(N,C){return this.clone().$set(N,C)},S.get=function(N){return this[P.p(N)]()},S.add=function(N,C){var W,j=this;N=Number(N);var B=P.p(C),G=function(O){var ee=V(j);return P.w(ee.date(ee.date()+Math.round(O*N)),j)};if(B===p)return this.set(p,this.$M+N);if(B===v)return this.set(v,this.$y+N);if(B===f)return G(1);if(B===h)return G(7);var X=(W={},W[l]=a,W[d]=o,W[u]=1e3,W)[B]||1,J=this.$d.getTime()+N*X;return P.w(J,this)},S.subtract=function(N,C){return this.add(-1*N,C)},S.format=function(N){var C=this,W=this.$locale();if(!this.isValid())return W.invalidDate||x;var j=N||"YYYY-MM-DDTHH:mm:ssZ",B=P.z(this),G=this.$H,X=this.$m,J=this.$M,O=W.weekdays,ee=W.months,U=W.meridiem,z=function(oe,ue,le,ce){return oe&&(oe[ue]||oe(C,j))||le[ue].slice(0,ce)},Z=function(oe){return P.s(G%12||12,oe,"0")},te=U||function(oe,ue,le){var ce=oe<12?"AM":"PM";return le?ce.toLowerCase():ce};return j.replace(w,function(oe,ue){return ue||function(le){switch(le){case"YY":return String(C.$y).slice(-2);case"YYYY":return P.s(C.$y,4,"0");case"M":return J+1;case"MM":return P.s(J+1,2,"0");case"MMM":return z(W.monthsShort,J,ee,3);case"MMMM":return z(ee,J);case"D":return C.$D;case"DD":return P.s(C.$D,2,"0");case"d":return String(C.$W);case"dd":return z(W.weekdaysMin,C.$W,O,2);case"ddd":return z(W.weekdaysShort,C.$W,O,3);case"dddd":return O[C.$W];case"H":return String(G);case"HH":return P.s(G,2,"0");case"h":return Z(1);case"hh":return Z(2);case"a":return te(G,X,!0);case"A":return te(G,X,!1);case"m":return String(X);case"mm":return P.s(X,2,"0");case"s":return String(C.$s);case"ss":return P.s(C.$s,2,"0");case"SSS":return P.s(C.$ms,3,"0");case"Z":return B}return null}(oe)||B.replace(":","")})},S.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},S.diff=function(N,C,W){var j,B=this,G=P.p(C),X=V(N),J=(X.utcOffset()-this.utcOffset())*a,O=this-X,ee=function(){return P.m(B,X)};switch(G){case v:j=ee()/12;break;case p:j=ee();break;case g:j=ee()/3;break;case h:j=(O-J)/6048e5;break;case f:j=(O-J)/864e5;break;case d:j=O/o;break;case l:j=O/a;break;case u:j=O/1e3;break;default:j=O}return W?j:P.a(j)},S.daysInMonth=function(){return this.endOf(p).$D},S.$locale=function(){return D[this.$L]},S.locale=function(N,C){if(!N)return this.$L;var W=this.clone(),j=H(N,C,!0);return j&&(W.$L=j),W},S.clone=function(){return P.w(this.$d,this)},S.toDate=function(){return new Date(this.valueOf())},S.toJSON=function(){return this.isValid()?this.toISOString():null},S.toISOString=function(){return this.$d.toISOString()},S.toString=function(){return this.$d.toUTCString()},_}(),A=F.prototype;return V.prototype=A,[["$ms",c],["$s",u],["$m",l],["$H",d],["$W",f],["$M",p],["$y",v],["$D",m]].forEach(function(_){A[_[1]]=function(S){return this.$g(S,_[0],_[1])}}),V.extend=function(_,S){return _.$i||(_(S,F,V),_.$i=!0),V},V.locale=H,V.isDayjs=M,V.unix=function(_){return V(1e3*_)},V.en=D[R],V.Ls=D,V.p={},V})},{}],392:[function(e,s,i){(function(a,o){typeof i=="object"&&s!==void 0?s.exports=o():(a=typeof globalThis<"u"?globalThis:a||self).dayjs_plugin_customParseFormat=o()})(void 0,function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},o=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,c=/\d\d/,u=/\d\d?/,l=/\d*[^-_:/,()\s\d]+/,d={},f=function(y){return(y=+y)+(y>68?1900:2e3)},h=function(y){return function(w){this[y]=+w}},p=[/[+-]\d\d:?(\d\d)?|Z/,function(y){(this.zone||(this.zone={})).offset=function(w){if(!w||w==="Z")return 0;var E=w.match(/([+-]|\d\d)/g),I=60*E[1]+(+E[2]||0);return I===0?0:E[0]==="+"?-I:I}(y)}],g=function(y){var w=d[y];return w&&(w.indexOf?w:w.s.concat(w.f))},v=function(y,w){var E,I=d.meridiem;if(I){for(var T=1;T<=24;T+=1)if(y.indexOf(I(T,0,w))>-1){E=T>12;break}}else E=y===(w?"pm":"PM");return E},m={A:[l,function(y){this.afternoon=v(y,!1)}],a:[l,function(y){this.afternoon=v(y,!0)}],S:[/\d/,function(y){this.milliseconds=100*+y}],SS:[c,function(y){this.milliseconds=10*+y}],SSS:[/\d{3}/,function(y){this.milliseconds=+y}],s:[u,h("seconds")],ss:[u,h("seconds")],m:[u,h("minutes")],mm:[u,h("minutes")],H:[u,h("hours")],h:[u,h("hours")],HH:[u,h("hours")],hh:[u,h("hours")],D:[u,h("day")],DD:[c,h("day")],Do:[l,function(y){var w=d.ordinal,E=y.match(/\d+/);if(this.day=E[0],w)for(var I=1;I<=31;I+=1)w(I).replace(/\[|\]/g,"")===y&&(this.day=I)}],M:[u,h("month")],MM:[c,h("month")],MMM:[l,function(y){var w=g("months"),E=(g("monthsShort")||w.map(function(I){return I.slice(0,3)})).indexOf(y)+1;if(E<1)throw new Error;this.month=E%12||E}],MMMM:[l,function(y){var w=g("months").indexOf(y)+1;if(w<1)throw new Error;this.month=w%12||w}],Y:[/[+-]?\d+/,h("year")],YY:[c,function(y){this.year=f(y)}],YYYY:[/\d{4}/,h("year")],Z:p,ZZ:p};function x(y){var w,E;w=y,E=d&&d.formats;for(var I=(y=w.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(V,P,F){var A=F&&F.toUpperCase();return P||E[F]||a[F]||E[A].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(_,S,N){return S||N.slice(1)})})).match(o),T=I.length,R=0;R<T;R+=1){var D=I[R],L=m[D],M=L&&L[0],H=L&&L[1];I[R]=H?{regex:M,parser:H}:D.replace(/^\[|\]$/g,"")}return function(V){for(var P={},F=0,A=0;F<T;F+=1){var _=I[F];if(typeof _=="string")A+=_.length;else{var S=_.regex,N=_.parser,C=V.slice(A),W=S.exec(C)[0];N.call(P,W),V=V.replace(W,"")}}return function(j){var B=j.afternoon;if(B!==void 0){var G=j.hours;B?G<12&&(j.hours+=12):G===12&&(j.hours=0),delete j.afternoon}}(P),P}}return function(y,w,E){E.p.customParseFormat=!0,y&&y.parseTwoDigitYear&&(f=y.parseTwoDigitYear);var I=w.prototype,T=I.parse;I.parse=function(R){var D=R.date,L=R.utc,M=R.args;this.$u=L;var H=M[1];if(typeof H=="string"){var V=M[2]===!0,P=M[3]===!0,F=V||P,A=M[2];P&&(A=M[2]),d=this.$locale(),!V&&A&&(d=E.Ls[A]),this.$d=function(C,W,j){try{if(["x","X"].indexOf(W)>-1)return new Date((W==="X"?1e3:1)*C);var B=x(W)(C),G=B.year,X=B.month,J=B.day,O=B.hours,ee=B.minutes,U=B.seconds,z=B.milliseconds,Z=B.zone,te=new Date,oe=J||(G||X?1:te.getDate()),ue=G||te.getFullYear(),le=0;G&&!X||(le=X>0?X-1:te.getMonth());var ce=O||0,_e=ee||0,fe=U||0,ge=z||0;return Z?new Date(Date.UTC(ue,le,oe,ce,_e,fe,ge+60*Z.offset*1e3)):j?new Date(Date.UTC(ue,le,oe,ce,_e,fe,ge)):new Date(ue,le,oe,ce,_e,fe,ge)}catch{return new Date("")}}(D,H,L),this.init(),A&&A!==!0&&(this.$L=this.locale(A).$L),F&&D!=this.format(H)&&(this.$d=new Date("")),d={}}else if(H instanceof Array)for(var _=H.length,S=1;S<=_;S+=1){M[1]=H[S-1];var N=E.apply(this,M);if(N.isValid()){this.$d=N.$d,this.$L=N.$L,this.init();break}S===_&&(this.$d=new Date(""))}else T.call(this,R)}}})},{}],393:[function(e,s,i){(function(a,o){typeof i=="object"&&s!==void 0?s.exports=o():(a=typeof globalThis<"u"?globalThis:a||self).dayjs_plugin_utc=o()})(void 0,function(){var a="minute",o=/[+-]\d\d(?::?\d\d)?/g,c=/([+-]|\d\d)/g;return function(u,l,d){var f=l.prototype;d.utc=function(y){var w={date:y,utc:!0,args:arguments};return new l(w)},f.utc=function(y){var w=d(this.toDate(),{locale:this.$L,utc:!0});return y?w.add(this.utcOffset(),a):w},f.local=function(){return d(this.toDate(),{locale:this.$L,utc:!1})};var h=f.parse;f.parse=function(y){y.utc&&(this.$u=!0),this.$utils().u(y.$offset)||(this.$offset=y.$offset),h.call(this,y)};var p=f.init;f.init=function(){if(this.$u){var y=this.$d;this.$y=y.getUTCFullYear(),this.$M=y.getUTCMonth(),this.$D=y.getUTCDate(),this.$W=y.getUTCDay(),this.$H=y.getUTCHours(),this.$m=y.getUTCMinutes(),this.$s=y.getUTCSeconds(),this.$ms=y.getUTCMilliseconds()}else p.call(this)};var g=f.utcOffset;f.utcOffset=function(y,w){var E=this.$utils().u;if(E(y))return this.$u?0:E(this.$offset)?g.call(this):this.$offset;if(typeof y=="string"&&(y=function(D){D===void 0&&(D="");var L=D.match(o);if(!L)return null;var M=(""+L[0]).match(c)||["-",0,0],H=M[0],V=60*+M[1]+ +M[2];return V===0?0:H==="+"?V:-V}(y))===null)return this;var I=Math.abs(y)<=16?60*y:y,T=this;if(w)return T.$offset=I,T.$u=y===0,T;if(y!==0){var R=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(T=this.local().add(I+R,a)).$offset=I,T.$x.$localOffset=R}else T=this.utc();return T};var v=f.format;f.format=function(y){var w=y||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return v.call(this,w)},f.valueOf=function(){var y=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*y},f.isUTC=function(){return!!this.$u},f.toISOString=function(){return this.toDate().toISOString()},f.toString=function(){return this.toDate().toUTCString()};var m=f.toDate;f.toDate=function(y){return y==="s"&&this.$offset?d(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var x=f.diff;f.diff=function(y,w,E){if(y&&this.$u===y.$u)return x.call(this,y,w,E);var I=this.local(),T=d(y).local();return x.call(I,T,w,E)}}})},{}],394:[function(e,s,i){i.utils=e("./des/utils"),i.Cipher=e("./des/cipher"),i.DES=e("./des/des"),i.CBC=e("./des/cbc"),i.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,s,i){var a=e("minimalistic-assert"),o=e("inherits"),c={};function u(l){a.equal(l.length,8,"Invalid IV length"),this.iv=new Array(8);for(var d=0;d<this.iv.length;d++)this.iv[d]=l[d]}i.instantiate=function(l){function d(g){l.call(this,g),this._cbcInit()}o(d,l);for(var f=Object.keys(c),h=0;h<f.length;h++){var p=f[h];d.prototype[p]=c[p]}return d.create=function(g){return new d(g)},d},c._cbcInit=function(){var l=new u(this.options.iv);this._cbcState=l},c._update=function(l,d,f,h){var p=this._cbcState,g=this.constructor.super_.prototype,v=p.iv;if(this.type==="encrypt"){for(var m=0;m<this.blockSize;m++)v[m]^=l[d+m];for(g._update.call(this,v,0,f,h),m=0;m<this.blockSize;m++)v[m]=f[h+m]}else{for(g._update.call(this,l,d,f,h),m=0;m<this.blockSize;m++)f[h+m]^=v[m];for(m=0;m<this.blockSize;m++)v[m]=l[d+m]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,s,i){var a=e("minimalistic-assert");function o(c){this.options=c,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=c.padding!==!1}s.exports=o,o.prototype._init=function(){},o.prototype.update=function(c){return c.length===0?[]:this.type==="decrypt"?this._updateDecrypt(c):this._updateEncrypt(c)},o.prototype._buffer=function(c,u){for(var l=Math.min(this.buffer.length-this.bufferOff,c.length-u),d=0;d<l;d++)this.buffer[this.bufferOff+d]=c[u+d];return this.bufferOff+=l,l},o.prototype._flushBuffer=function(c,u){return this._update(this.buffer,0,c,u),this.bufferOff=0,this.blockSize},o.prototype._updateEncrypt=function(c){var u=0,l=0,d=(this.bufferOff+c.length)/this.blockSize|0,f=new Array(d*this.blockSize);this.bufferOff!==0&&(u+=this._buffer(c,u),this.bufferOff===this.buffer.length&&(l+=this._flushBuffer(f,l)));for(var h=c.length-(c.length-u)%this.blockSize;u<h;u+=this.blockSize)this._update(c,u,f,l),l+=this.blockSize;for(;u<c.length;u++,this.bufferOff++)this.buffer[this.bufferOff]=c[u];return f},o.prototype._updateDecrypt=function(c){for(var u=0,l=0,d=Math.ceil((this.bufferOff+c.length)/this.blockSize)-1,f=new Array(d*this.blockSize);d>0;d--)u+=this._buffer(c,u),l+=this._flushBuffer(f,l);return u+=this._buffer(c,u),f},o.prototype.final=function(c){var u,l;return c&&(u=this.update(c)),l=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),u?u.concat(l):l},o.prototype._pad=function(c,u){if(u===0)return!1;for(;u<c.length;)c[u++]=0;return!0},o.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var c=new Array(this.blockSize);return this._update(this.buffer,0,c,0),c},o.prototype._unpad=function(c){return c},o.prototype._finalDecrypt=function(){a.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var c=new Array(this.blockSize);return this._flushBuffer(c,0),this._unpad(c)}},{"minimalistic-assert":453}],397:[function(e,s,i){var a=e("minimalistic-assert"),o=e("inherits"),c=e("./utils"),u=e("./cipher");function l(){this.tmp=new Array(2),this.keys=null}function d(h){u.call(this,h);var p=new l;this._desState=p,this.deriveKeys(p,h.key)}o(d,u),s.exports=d,d.create=function(h){return new d(h)};var f=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];d.prototype.deriveKeys=function(h,p){h.keys=new Array(32),a.equal(p.length,this.blockSize,"Invalid key length");var g=c.readUInt32BE(p,0),v=c.readUInt32BE(p,4);c.pc1(g,v,h.tmp,0),g=h.tmp[0],v=h.tmp[1];for(var m=0;m<h.keys.length;m+=2){var x=f[m>>>1];g=c.r28shl(g,x),v=c.r28shl(v,x),c.pc2(g,v,h.keys,m)}},d.prototype._update=function(h,p,g,v){var m=this._desState,x=c.readUInt32BE(h,p),y=c.readUInt32BE(h,p+4);c.ip(x,y,m.tmp,0),x=m.tmp[0],y=m.tmp[1],this.type==="encrypt"?this._encrypt(m,x,y,m.tmp,0):this._decrypt(m,x,y,m.tmp,0),x=m.tmp[0],y=m.tmp[1],c.writeUInt32BE(g,x,v),c.writeUInt32BE(g,y,v+4)},d.prototype._pad=function(h,p){if(this.padding===!1)return!1;for(var g=h.length-p,v=p;v<h.length;v++)h[v]=g;return!0},d.prototype._unpad=function(h){if(this.padding===!1)return h;for(var p=h[h.length-1],g=h.length-p;g<h.length;g++)a.equal(h[g],p);return h.slice(0,h.length-p)},d.prototype._encrypt=function(h,p,g,v,m){for(var x=p,y=g,w=0;w<h.keys.length;w+=2){var E=h.keys[w],I=h.keys[w+1];c.expand(y,h.tmp,0),E^=h.tmp[0],I^=h.tmp[1];var T=c.substitute(E,I),R=y;y=(x^c.permute(T))>>>0,x=R}c.rip(y,x,v,m)},d.prototype._decrypt=function(h,p,g,v,m){for(var x=g,y=p,w=h.keys.length-2;w>=0;w-=2){var E=h.keys[w],I=h.keys[w+1];c.expand(x,h.tmp,0),E^=h.tmp[0],I^=h.tmp[1];var T=c.substitute(E,I),R=x;x=(y^c.permute(T))>>>0,y=R}c.rip(x,y,v,m)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,s,i){var a=e("minimalistic-assert"),o=e("inherits"),c=e("./cipher"),u=e("./des");function l(f,h){a.equal(h.length,24,"Invalid key length");var p=h.slice(0,8),g=h.slice(8,16),v=h.slice(16,24);this.ciphers=f==="encrypt"?[u.create({type:"encrypt",key:p}),u.create({type:"decrypt",key:g}),u.create({type:"encrypt",key:v})]:[u.create({type:"decrypt",key:v}),u.create({type:"encrypt",key:g}),u.create({type:"decrypt",key:p})]}function d(f){c.call(this,f);var h=new l(this.type,this.options.key);this._edeState=h}o(d,c),s.exports=d,d.create=function(f){return new d(f)},d.prototype._update=function(f,h,p,g){var v=this._edeState;v.ciphers[0]._update(f,h,p,g),v.ciphers[1]._update(p,g,p,g),v.ciphers[2]._update(p,g,p,g)},d.prototype._pad=u.prototype._pad,d.prototype._unpad=u.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,s,i){i.readUInt32BE=function(u,l){return(u[0+l]<<24|u[1+l]<<16|u[2+l]<<8|u[3+l])>>>0},i.writeUInt32BE=function(u,l,d){u[0+d]=l>>>24,u[1+d]=l>>>16&255,u[2+d]=l>>>8&255,u[3+d]=255&l},i.ip=function(u,l,d,f){for(var h=0,p=0,g=6;g>=0;g-=2){for(var v=0;v<=24;v+=8)h<<=1,h|=l>>>v+g&1;for(v=0;v<=24;v+=8)h<<=1,h|=u>>>v+g&1}for(g=6;g>=0;g-=2){for(v=1;v<=25;v+=8)p<<=1,p|=l>>>v+g&1;for(v=1;v<=25;v+=8)p<<=1,p|=u>>>v+g&1}d[f+0]=h>>>0,d[f+1]=p>>>0},i.rip=function(u,l,d,f){for(var h=0,p=0,g=0;g<4;g++)for(var v=24;v>=0;v-=8)h<<=1,h|=l>>>v+g&1,h<<=1,h|=u>>>v+g&1;for(g=4;g<8;g++)for(v=24;v>=0;v-=8)p<<=1,p|=l>>>v+g&1,p<<=1,p|=u>>>v+g&1;d[f+0]=h>>>0,d[f+1]=p>>>0},i.pc1=function(u,l,d,f){for(var h=0,p=0,g=7;g>=5;g--){for(var v=0;v<=24;v+=8)h<<=1,h|=l>>v+g&1;for(v=0;v<=24;v+=8)h<<=1,h|=u>>v+g&1}for(v=0;v<=24;v+=8)h<<=1,h|=l>>v+g&1;for(g=1;g<=3;g++){for(v=0;v<=24;v+=8)p<<=1,p|=l>>v+g&1;for(v=0;v<=24;v+=8)p<<=1,p|=u>>v+g&1}for(v=0;v<=24;v+=8)p<<=1,p|=u>>v+g&1;d[f+0]=h>>>0,d[f+1]=p>>>0},i.r28shl=function(u,l){return u<<l&268435455|u>>>28-l};var a=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];i.pc2=function(u,l,d,f){for(var h=0,p=0,g=a.length>>>1,v=0;v<g;v++)h<<=1,h|=u>>>a[v]&1;for(v=g;v<a.length;v++)p<<=1,p|=l>>>a[v]&1;d[f+0]=h>>>0,d[f+1]=p>>>0},i.expand=function(u,l,d){var f=0,h=0;f=(1&u)<<5|u>>>27;for(var p=23;p>=15;p-=4)f<<=6,f|=u>>>p&63;for(p=11;p>=3;p-=4)h|=u>>>p&63,h<<=6;h|=(31&u)<<1|u>>>31,l[d+0]=f>>>0,l[d+1]=h>>>0};var o=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];i.substitute=function(u,l){for(var d=0,f=0;f<4;f++)d<<=4,d|=o[64*f+(u>>>18-6*f&63)];for(f=0;f<4;f++)d<<=4,d|=o[256+64*f+(l>>>18-6*f&63)];return d>>>0};var c=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];i.permute=function(u){for(var l=0,d=0;d<c.length;d++)l<<=1,l|=u>>>c[d]&1;return l>>>0},i.padSplit=function(u,l,d){for(var f=u.toString(2);f.length<l;)f="0"+f;for(var h=[],p=0;p<l;p+=d)h.push(f.slice(p,p+d));return h.join(" ")}},{}],400:[function(e,s,i){(function(a){(function(){var o=e("./lib/generatePrime"),c=e("./lib/primes.json"),u=e("./lib/dh"),l={binary:!0,hex:!0,base64:!0};i.DiffieHellmanGroup=i.createDiffieHellmanGroup=i.getDiffieHellman=function(d){var f=new a(c[d].prime,"hex"),h=new a(c[d].gen,"hex");return new u(f,h)},i.createDiffieHellman=i.DiffieHellman=function d(f,h,p,g){return a.isBuffer(h)||l[h]===void 0?d(f,"binary",h,p):(h=h||"binary",g=g||"binary",p=p||new a([2]),a.isBuffer(p)||(p=new a(p,g)),typeof f=="number"?new u(o(f,p),p,!0):(a.isBuffer(f)||(f=new a(f,h)),new u(f,p,!0)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,s,i){(function(a){(function(){var o=e("bn.js"),c=new(e("miller-rabin")),u=new o(24),l=new o(11),d=new o(10),f=new o(3),h=new o(7),p=e("./generatePrime"),g=e("randombytes");function v(E,I){return I=I||"utf8",a.isBuffer(E)||(E=new a(E,I)),this._pub=new o(E),this}function m(E,I){return I=I||"utf8",a.isBuffer(E)||(E=new a(E,I)),this._priv=new o(E),this}s.exports=y;var x={};function y(E,I,T){this.setGenerator(I),this.__prime=new o(E),this._prime=o.mont(this.__prime),this._primeLen=E.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,T?(this.setPublicKey=v,this.setPrivateKey=m):this._primeCode=8}function w(E,I){var T=new a(E.toArray());return I?T.toString(I):T}Object.defineProperty(y.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(E,I){var T=I.toString("hex"),R=[T,E.toString(16)].join("_");if(R in x)return x[R];var D,L=0;if(E.isEven()||!p.simpleSieve||!p.fermatTest(E)||!c.test(E))return L+=1,L+=T==="02"||T==="05"?8:4,x[R]=L,L;switch(c.test(E.shrn(1))||(L+=2),T){case"02":E.mod(u).cmp(l)&&(L+=8);break;case"05":(D=E.mod(d)).cmp(f)&&D.cmp(h)&&(L+=8);break;default:L+=4}return x[R]=L,L}(this.__prime,this.__gen)),this._primeCode}}),y.prototype.generateKeys=function(){return this._priv||(this._priv=new o(g(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},y.prototype.computeSecret=function(E){var I=(E=(E=new o(E)).toRed(this._prime)).redPow(this._priv).fromRed(),T=new a(I.toArray()),R=this.getPrime();if(T.length<R.length){var D=new a(R.length-T.length);D.fill(0),T=a.concat([D,T])}return T},y.prototype.getPublicKey=function(E){return w(this._pub,E)},y.prototype.getPrivateKey=function(E){return w(this._priv,E)},y.prototype.getPrime=function(E){return w(this.__prime,E)},y.prototype.getGenerator=function(E){return w(this._gen,E)},y.prototype.setGenerator=function(E,I){return I=I||"utf8",a.isBuffer(E)||(E=new a(E,I)),this.__gen=E,this._gen=new o(E),this}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,s,i){var a=e("randombytes");s.exports=E,E.simpleSieve=y,E.fermatTest=w;var o=e("bn.js"),c=new o(24),u=new(e("miller-rabin")),l=new o(1),d=new o(2),f=new o(5),h=(new o(16),new o(8),new o(10)),p=new o(3),g=(new o(7),new o(11)),v=new o(4),m=(new o(12),null);function x(){if(m!==null)return m;var I=[];I[0]=2;for(var T=1,R=3;R<1048576;R+=2){for(var D=Math.ceil(Math.sqrt(R)),L=0;L<T&&I[L]<=D&&R%I[L]!=0;L++);T!==L&&I[L]<=D||(I[T++]=R)}return m=I,I}function y(I){for(var T=x(),R=0;R<T.length;R++)if(I.modn(T[R])===0)return I.cmpn(T[R])===0;return!0}function w(I){var T=o.mont(I);return d.toRed(T).redPow(I.subn(1)).fromRed().cmpn(1)===0}function E(I,T){if(I<16)return new o(T===2||T===5?[140,123]:[140,39]);var R,D;for(T=new o(T);;){for(R=new o(a(Math.ceil(I/8)));R.bitLength()>I;)R.ishrn(1);if(R.isEven()&&R.iadd(l),R.testn(1)||R.iadd(d),T.cmp(d)){if(!T.cmp(f))for(;R.mod(h).cmp(p);)R.iadd(v)}else for(;R.mod(c).cmp(g);)R.iadd(v);if(y(D=R.shrn(1))&&y(R)&&w(D)&&w(R)&&u.test(D)&&u.test(R))return R}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,s,i){s.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,s,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],405:[function(e,s,i){var a=i;a.version=e("../package.json").version,a.utils=e("./elliptic/utils"),a.rand=e("brorand"),a.curve=e("./elliptic/curve"),a.curves=e("./elliptic/curves"),a.ec=e("./elliptic/ec"),a.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,s,i){var a=e("bn.js"),o=e("../utils"),c=o.getNAF,u=o.getJSF,l=o.assert;function d(h,p){this.type=h,this.p=new a(p.p,16),this.red=p.prime?a.red(p.prime):a.mont(this.p),this.zero=new a(0).toRed(this.red),this.one=new a(1).toRed(this.red),this.two=new a(2).toRed(this.red),this.n=p.n&&new a(p.n,16),this.g=p.g&&this.pointFromJSON(p.g,p.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var g=this.n&&this.p.div(this.n);!g||g.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function f(h,p){this.curve=h,this.type=p,this.precomputed=null}s.exports=d,d.prototype.point=function(){throw new Error("Not implemented")},d.prototype.validate=function(){throw new Error("Not implemented")},d.prototype._fixedNafMul=function(h,p){l(h.precomputed);var g=h._getDoubles(),v=c(p,1,this._bitLength),m=(1<<g.step+1)-(g.step%2==0?2:1);m/=3;var x,y,w=[];for(x=0;x<v.length;x+=g.step){y=0;for(var E=x+g.step-1;E>=x;E--)y=(y<<1)+v[E];w.push(y)}for(var I=this.jpoint(null,null,null),T=this.jpoint(null,null,null),R=m;R>0;R--){for(x=0;x<w.length;x++)(y=w[x])===R?T=T.mixedAdd(g.points[x]):y===-R&&(T=T.mixedAdd(g.points[x].neg()));I=I.add(T)}return I.toP()},d.prototype._wnafMul=function(h,p){var g=4,v=h._getNAFPoints(g);g=v.wnd;for(var m=v.points,x=c(p,g,this._bitLength),y=this.jpoint(null,null,null),w=x.length-1;w>=0;w--){for(var E=0;w>=0&&x[w]===0;w--)E++;if(w>=0&&E++,y=y.dblp(E),w<0)break;var I=x[w];l(I!==0),y=h.type==="affine"?I>0?y.mixedAdd(m[I-1>>1]):y.mixedAdd(m[-I-1>>1].neg()):I>0?y.add(m[I-1>>1]):y.add(m[-I-1>>1].neg())}return h.type==="affine"?y.toP():y},d.prototype._wnafMulAdd=function(h,p,g,v,m){var x,y,w,E=this._wnafT1,I=this._wnafT2,T=this._wnafT3,R=0;for(x=0;x<v;x++){var D=(w=p[x])._getNAFPoints(h);E[x]=D.wnd,I[x]=D.points}for(x=v-1;x>=1;x-=2){var L=x-1,M=x;if(E[L]===1&&E[M]===1){var H=[p[L],null,null,p[M]];p[L].y.cmp(p[M].y)===0?(H[1]=p[L].add(p[M]),H[2]=p[L].toJ().mixedAdd(p[M].neg())):p[L].y.cmp(p[M].y.redNeg())===0?(H[1]=p[L].toJ().mixedAdd(p[M]),H[2]=p[L].add(p[M].neg())):(H[1]=p[L].toJ().mixedAdd(p[M]),H[2]=p[L].toJ().mixedAdd(p[M].neg()));var V=[-3,-1,-5,-7,0,7,5,1,3],P=u(g[L],g[M]);for(R=Math.max(P[0].length,R),T[L]=new Array(R),T[M]=new Array(R),y=0;y<R;y++){var F=0|P[0][y],A=0|P[1][y];T[L][y]=V[3*(F+1)+(A+1)],T[M][y]=0,I[L]=H}}else T[L]=c(g[L],E[L],this._bitLength),T[M]=c(g[M],E[M],this._bitLength),R=Math.max(T[L].length,R),R=Math.max(T[M].length,R)}var _=this.jpoint(null,null,null),S=this._wnafT4;for(x=R;x>=0;x--){for(var N=0;x>=0;){var C=!0;for(y=0;y<v;y++)S[y]=0|T[y][x],S[y]!==0&&(C=!1);if(!C)break;N++,x--}if(x>=0&&N++,_=_.dblp(N),x<0)break;for(y=0;y<v;y++){var W=S[y];W!==0&&(W>0?w=I[y][W-1>>1]:W<0&&(w=I[y][-W-1>>1].neg()),_=w.type==="affine"?_.mixedAdd(w):_.add(w))}}for(x=0;x<v;x++)I[x]=null;return m?_:_.toP()},d.BasePoint=f,f.prototype.eq=function(){throw new Error("Not implemented")},f.prototype.validate=function(){return this.curve.validate(this)},d.prototype.decodePoint=function(h,p){h=o.toArray(h,p);var g=this.p.byteLength();if((h[0]===4||h[0]===6||h[0]===7)&&h.length-1==2*g)return h[0]===6?l(h[h.length-1]%2==0):h[0]===7&&l(h[h.length-1]%2==1),this.point(h.slice(1,1+g),h.slice(1+g,1+2*g));if((h[0]===2||h[0]===3)&&h.length-1===g)return this.pointFromX(h.slice(1,1+g),h[0]===3);throw new Error("Unknown point format")},f.prototype.encodeCompressed=function(h){return this.encode(h,!0)},f.prototype._encode=function(h){var p=this.curve.p.byteLength(),g=this.getX().toArray("be",p);return h?[this.getY().isEven()?2:3].concat(g):[4].concat(g,this.getY().toArray("be",p))},f.prototype.encode=function(h,p){return o.encode(this._encode(p),h)},f.prototype.precompute=function(h){if(this.precomputed)return this;var p={doubles:null,naf:null,beta:null};return p.naf=this._getNAFPoints(8),p.doubles=this._getDoubles(4,h),p.beta=this._getBeta(),this.precomputed=p,this},f.prototype._hasDoubles=function(h){if(!this.precomputed)return!1;var p=this.precomputed.doubles;return!!p&&p.points.length>=Math.ceil((h.bitLength()+1)/p.step)},f.prototype._getDoubles=function(h,p){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var g=[this],v=this,m=0;m<p;m+=h){for(var x=0;x<h;x++)v=v.dbl();g.push(v)}return{step:h,points:g}},f.prototype._getNAFPoints=function(h){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var p=[this],g=(1<<h)-1,v=g===1?null:this.dbl(),m=1;m<g;m++)p[m]=p[m-1].add(v);return{wnd:h,points:p}},f.prototype._getBeta=function(){return null},f.prototype.dblp=function(h){for(var p=this,g=0;g<h;g++)p=p.dbl();return p}},{"../utils":419,"bn.js":420}],407:[function(e,s,i){var a=e("../utils"),o=e("bn.js"),c=e("inherits"),u=e("./base"),l=a.assert;function d(h){this.twisted=(0|h.a)!=1,this.mOneA=this.twisted&&(0|h.a)==-1,this.extended=this.mOneA,u.call(this,"edwards",h),this.a=new o(h.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(h.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(h.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),l(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|h.c)==1}function f(h,p,g,v,m){u.BasePoint.call(this,h,"projective"),p===null&&g===null&&v===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(p,16),this.y=new o(g,16),this.z=v?new o(v,16):this.curve.one,this.t=m&&new o(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}c(d,u),s.exports=d,d.prototype._mulA=function(h){return this.mOneA?h.redNeg():this.a.redMul(h)},d.prototype._mulC=function(h){return this.oneC?h:this.c.redMul(h)},d.prototype.jpoint=function(h,p,g,v){return this.point(h,p,g,v)},d.prototype.pointFromX=function(h,p){(h=new o(h,16)).red||(h=h.toRed(this.red));var g=h.redSqr(),v=this.c2.redSub(this.a.redMul(g)),m=this.one.redSub(this.c2.redMul(this.d).redMul(g)),x=v.redMul(m.redInvm()),y=x.redSqrt();if(y.redSqr().redSub(x).cmp(this.zero)!==0)throw new Error("invalid point");var w=y.fromRed().isOdd();return(p&&!w||!p&&w)&&(y=y.redNeg()),this.point(h,y)},d.prototype.pointFromY=function(h,p){(h=new o(h,16)).red||(h=h.toRed(this.red));var g=h.redSqr(),v=g.redSub(this.c2),m=g.redMul(this.d).redMul(this.c2).redSub(this.a),x=v.redMul(m.redInvm());if(x.cmp(this.zero)===0){if(p)throw new Error("invalid point");return this.point(this.zero,h)}var y=x.redSqrt();if(y.redSqr().redSub(x).cmp(this.zero)!==0)throw new Error("invalid point");return y.fromRed().isOdd()!==p&&(y=y.redNeg()),this.point(y,h)},d.prototype.validate=function(h){if(h.isInfinity())return!0;h.normalize();var p=h.x.redSqr(),g=h.y.redSqr(),v=p.redMul(this.a).redAdd(g),m=this.c2.redMul(this.one.redAdd(this.d.redMul(p).redMul(g)));return v.cmp(m)===0},c(f,u.BasePoint),d.prototype.pointFromJSON=function(h){return f.fromJSON(this,h)},d.prototype.point=function(h,p,g,v){return new f(this,h,p,g,v)},f.fromJSON=function(h,p){return new f(h,p[0],p[1],p[2])},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},f.prototype._extDbl=function(){var h=this.x.redSqr(),p=this.y.redSqr(),g=this.z.redSqr();g=g.redIAdd(g);var v=this.curve._mulA(h),m=this.x.redAdd(this.y).redSqr().redISub(h).redISub(p),x=v.redAdd(p),y=x.redSub(g),w=v.redSub(p),E=m.redMul(y),I=x.redMul(w),T=m.redMul(w),R=y.redMul(x);return this.curve.point(E,I,R,T)},f.prototype._projDbl=function(){var h,p,g,v,m,x,y=this.x.redAdd(this.y).redSqr(),w=this.x.redSqr(),E=this.y.redSqr();if(this.curve.twisted){var I=(v=this.curve._mulA(w)).redAdd(E);this.zOne?(h=y.redSub(w).redSub(E).redMul(I.redSub(this.curve.two)),p=I.redMul(v.redSub(E)),g=I.redSqr().redSub(I).redSub(I)):(m=this.z.redSqr(),x=I.redSub(m).redISub(m),h=y.redSub(w).redISub(E).redMul(x),p=I.redMul(v.redSub(E)),g=I.redMul(x))}else v=w.redAdd(E),m=this.curve._mulC(this.z).redSqr(),x=v.redSub(m).redSub(m),h=this.curve._mulC(y.redISub(v)).redMul(x),p=this.curve._mulC(v).redMul(w.redISub(E)),g=v.redMul(x);return this.curve.point(h,p,g)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},f.prototype._extAdd=function(h){var p=this.y.redSub(this.x).redMul(h.y.redSub(h.x)),g=this.y.redAdd(this.x).redMul(h.y.redAdd(h.x)),v=this.t.redMul(this.curve.dd).redMul(h.t),m=this.z.redMul(h.z.redAdd(h.z)),x=g.redSub(p),y=m.redSub(v),w=m.redAdd(v),E=g.redAdd(p),I=x.redMul(y),T=w.redMul(E),R=x.redMul(E),D=y.redMul(w);return this.curve.point(I,T,D,R)},f.prototype._projAdd=function(h){var p,g,v=this.z.redMul(h.z),m=v.redSqr(),x=this.x.redMul(h.x),y=this.y.redMul(h.y),w=this.curve.d.redMul(x).redMul(y),E=m.redSub(w),I=m.redAdd(w),T=this.x.redAdd(this.y).redMul(h.x.redAdd(h.y)).redISub(x).redISub(y),R=v.redMul(E).redMul(T);return this.curve.twisted?(p=v.redMul(I).redMul(y.redSub(this.curve._mulA(x))),g=E.redMul(I)):(p=v.redMul(I).redMul(y.redSub(x)),g=this.curve._mulC(E).redMul(I)),this.curve.point(R,p,g)},f.prototype.add=function(h){return this.isInfinity()?h:h.isInfinity()?this:this.curve.extended?this._extAdd(h):this._projAdd(h)},f.prototype.mul=function(h){return this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve._wnafMul(this,h)},f.prototype.mulAdd=function(h,p,g){return this.curve._wnafMulAdd(1,[this,p],[h,g],2,!1)},f.prototype.jmulAdd=function(h,p,g){return this.curve._wnafMulAdd(1,[this,p],[h,g],2,!0)},f.prototype.normalize=function(){if(this.zOne)return this;var h=this.z.redInvm();return this.x=this.x.redMul(h),this.y=this.y.redMul(h),this.t&&(this.t=this.t.redMul(h)),this.z=this.curve.one,this.zOne=!0,this},f.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},f.prototype.getX=function(){return this.normalize(),this.x.fromRed()},f.prototype.getY=function(){return this.normalize(),this.y.fromRed()},f.prototype.eq=function(h){return this===h||this.getX().cmp(h.getX())===0&&this.getY().cmp(h.getY())===0},f.prototype.eqXToP=function(h){var p=h.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(p)===0)return!0;for(var g=h.clone(),v=this.curve.redN.redMul(this.z);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(p.redIAdd(v),this.x.cmp(p)===0)return!0}},f.prototype.toP=f.prototype.normalize,f.prototype.mixedAdd=f.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,s,i){var a=i;a.base=e("./base"),a.short=e("./short"),a.mont=e("./mont"),a.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,s,i){var a=e("bn.js"),o=e("inherits"),c=e("./base"),u=e("../utils");function l(f){c.call(this,"mont",f),this.a=new a(f.a,16).toRed(this.red),this.b=new a(f.b,16).toRed(this.red),this.i4=new a(4).toRed(this.red).redInvm(),this.two=new a(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function d(f,h,p){c.BasePoint.call(this,f,"projective"),h===null&&p===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new a(h,16),this.z=new a(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(l,c),s.exports=l,l.prototype.validate=function(f){var h=f.normalize().x,p=h.redSqr(),g=p.redMul(h).redAdd(p.redMul(this.a)).redAdd(h);return g.redSqrt().redSqr().cmp(g)===0},o(d,c.BasePoint),l.prototype.decodePoint=function(f,h){return this.point(u.toArray(f,h),1)},l.prototype.point=function(f,h){return new d(this,f,h)},l.prototype.pointFromJSON=function(f){return d.fromJSON(this,f)},d.prototype.precompute=function(){},d.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},d.fromJSON=function(f,h){return new d(f,h[0],h[1]||f.one)},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.z.cmpn(0)===0},d.prototype.dbl=function(){var f=this.x.redAdd(this.z).redSqr(),h=this.x.redSub(this.z).redSqr(),p=f.redSub(h),g=f.redMul(h),v=p.redMul(h.redAdd(this.curve.a24.redMul(p)));return this.curve.point(g,v)},d.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.diffAdd=function(f,h){var p=this.x.redAdd(this.z),g=this.x.redSub(this.z),v=f.x.redAdd(f.z),m=f.x.redSub(f.z).redMul(p),x=v.redMul(g),y=h.z.redMul(m.redAdd(x).redSqr()),w=h.x.redMul(m.redISub(x).redSqr());return this.curve.point(y,w)},d.prototype.mul=function(f){for(var h=f.clone(),p=this,g=this.curve.point(null,null),v=[];h.cmpn(0)!==0;h.iushrn(1))v.push(h.andln(1));for(var m=v.length-1;m>=0;m--)v[m]===0?(p=p.diffAdd(g,this),g=g.dbl()):(g=p.diffAdd(g,this),p=p.dbl());return g},d.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.eq=function(f){return this.getX().cmp(f.getX())===0},d.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},d.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,s,i){var a=e("../utils"),o=e("bn.js"),c=e("inherits"),u=e("./base"),l=a.assert;function d(p){u.call(this,"short",p),this.a=new o(p.a,16).toRed(this.red),this.b=new o(p.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(p),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function f(p,g,v,m){u.BasePoint.call(this,p,"affine"),g===null&&v===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(g,16),this.y=new o(v,16),m&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(p,g,v,m){u.BasePoint.call(this,p,"jacobian"),g===null&&v===null&&m===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(g,16),this.y=new o(v,16),this.z=new o(m,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}c(d,u),s.exports=d,d.prototype._getEndomorphism=function(p){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var g,v;if(p.beta)g=new o(p.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);g=(g=m[0].cmp(m[1])<0?m[0]:m[1]).toRed(this.red)}if(p.lambda)v=new o(p.lambda,16);else{var x=this._getEndoRoots(this.n);this.g.mul(x[0]).x.cmp(this.g.x.redMul(g))===0?v=x[0]:(v=x[1],l(this.g.mul(v).x.cmp(this.g.x.redMul(g))===0))}return{beta:g,lambda:v,basis:p.basis?p.basis.map(function(y){return{a:new o(y.a,16),b:new o(y.b,16)}}):this._getEndoBasis(v)}}},d.prototype._getEndoRoots=function(p){var g=p===this.p?this.red:o.mont(p),v=new o(2).toRed(g).redInvm(),m=v.redNeg(),x=new o(3).toRed(g).redNeg().redSqrt().redMul(v);return[m.redAdd(x).fromRed(),m.redSub(x).fromRed()]},d.prototype._getEndoBasis=function(p){for(var g,v,m,x,y,w,E,I,T,R=this.n.ushrn(Math.floor(this.n.bitLength()/2)),D=p,L=this.n.clone(),M=new o(1),H=new o(0),V=new o(0),P=new o(1),F=0;D.cmpn(0)!==0;){var A=L.div(D);I=L.sub(A.mul(D)),T=V.sub(A.mul(M));var _=P.sub(A.mul(H));if(!m&&I.cmp(R)<0)g=E.neg(),v=M,m=I.neg(),x=T;else if(m&&++F==2)break;E=I,L=D,D=I,V=M,M=T,P=H,H=_}y=I.neg(),w=T;var S=m.sqr().add(x.sqr());return y.sqr().add(w.sqr()).cmp(S)>=0&&(y=g,w=v),m.negative&&(m=m.neg(),x=x.neg()),y.negative&&(y=y.neg(),w=w.neg()),[{a:m,b:x},{a:y,b:w}]},d.prototype._endoSplit=function(p){var g=this.endo.basis,v=g[0],m=g[1],x=m.b.mul(p).divRound(this.n),y=v.b.neg().mul(p).divRound(this.n),w=x.mul(v.a),E=y.mul(m.a),I=x.mul(v.b),T=y.mul(m.b);return{k1:p.sub(w).sub(E),k2:I.add(T).neg()}},d.prototype.pointFromX=function(p,g){(p=new o(p,16)).red||(p=p.toRed(this.red));var v=p.redSqr().redMul(p).redIAdd(p.redMul(this.a)).redIAdd(this.b),m=v.redSqrt();if(m.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var x=m.fromRed().isOdd();return(g&&!x||!g&&x)&&(m=m.redNeg()),this.point(p,m)},d.prototype.validate=function(p){if(p.inf)return!0;var g=p.x,v=p.y,m=this.a.redMul(g),x=g.redSqr().redMul(g).redIAdd(m).redIAdd(this.b);return v.redSqr().redISub(x).cmpn(0)===0},d.prototype._endoWnafMulAdd=function(p,g,v){for(var m=this._endoWnafT1,x=this._endoWnafT2,y=0;y<p.length;y++){var w=this._endoSplit(g[y]),E=p[y],I=E._getBeta();w.k1.negative&&(w.k1.ineg(),E=E.neg(!0)),w.k2.negative&&(w.k2.ineg(),I=I.neg(!0)),m[2*y]=E,m[2*y+1]=I,x[2*y]=w.k1,x[2*y+1]=w.k2}for(var T=this._wnafMulAdd(1,m,x,2*y,v),R=0;R<2*y;R++)m[R]=null,x[R]=null;return T},c(f,u.BasePoint),d.prototype.point=function(p,g,v){return new f(this,p,g,v)},d.prototype.pointFromJSON=function(p,g){return f.fromJSON(this,p,g)},f.prototype._getBeta=function(){if(this.curve.endo){var p=this.precomputed;if(p&&p.beta)return p.beta;var g=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(p){var v=this.curve,m=function(x){return v.point(x.x.redMul(v.endo.beta),x.y)};p.beta=g,g.precomputed={beta:null,naf:p.naf&&{wnd:p.naf.wnd,points:p.naf.points.map(m)},doubles:p.doubles&&{step:p.doubles.step,points:p.doubles.points.map(m)}}}return g}},f.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},f.fromJSON=function(p,g,v){typeof g=="string"&&(g=JSON.parse(g));var m=p.point(g[0],g[1],v);if(!g[2])return m;function x(w){return p.point(w[0],w[1],v)}var y=g[2];return m.precomputed={beta:null,doubles:y.doubles&&{step:y.doubles.step,points:[m].concat(y.doubles.points.map(x))},naf:y.naf&&{wnd:y.naf.wnd,points:[m].concat(y.naf.points.map(x))}},m},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.inf},f.prototype.add=function(p){if(this.inf)return p;if(p.inf)return this;if(this.eq(p))return this.dbl();if(this.neg().eq(p))return this.curve.point(null,null);if(this.x.cmp(p.x)===0)return this.curve.point(null,null);var g=this.y.redSub(p.y);g.cmpn(0)!==0&&(g=g.redMul(this.x.redSub(p.x).redInvm()));var v=g.redSqr().redISub(this.x).redISub(p.x),m=g.redMul(this.x.redSub(v)).redISub(this.y);return this.curve.point(v,m)},f.prototype.dbl=function(){if(this.inf)return this;var p=this.y.redAdd(this.y);if(p.cmpn(0)===0)return this.curve.point(null,null);var g=this.curve.a,v=this.x.redSqr(),m=p.redInvm(),x=v.redAdd(v).redIAdd(v).redIAdd(g).redMul(m),y=x.redSqr().redISub(this.x.redAdd(this.x)),w=x.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,w)},f.prototype.getX=function(){return this.x.fromRed()},f.prototype.getY=function(){return this.y.fromRed()},f.prototype.mul=function(p){return p=new o(p,16),this.isInfinity()?this:this._hasDoubles(p)?this.curve._fixedNafMul(this,p):this.curve.endo?this.curve._endoWnafMulAdd([this],[p]):this.curve._wnafMul(this,p)},f.prototype.mulAdd=function(p,g,v){var m=[this,g],x=[p,v];return this.curve.endo?this.curve._endoWnafMulAdd(m,x):this.curve._wnafMulAdd(1,m,x,2)},f.prototype.jmulAdd=function(p,g,v){var m=[this,g],x=[p,v];return this.curve.endo?this.curve._endoWnafMulAdd(m,x,!0):this.curve._wnafMulAdd(1,m,x,2,!0)},f.prototype.eq=function(p){return this===p||this.inf===p.inf&&(this.inf||this.x.cmp(p.x)===0&&this.y.cmp(p.y)===0)},f.prototype.neg=function(p){if(this.inf)return this;var g=this.curve.point(this.x,this.y.redNeg());if(p&&this.precomputed){var v=this.precomputed,m=function(x){return x.neg()};g.precomputed={naf:v.naf&&{wnd:v.naf.wnd,points:v.naf.points.map(m)},doubles:v.doubles&&{step:v.doubles.step,points:v.doubles.points.map(m)}}}return g},f.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},c(h,u.BasePoint),d.prototype.jpoint=function(p,g,v){return new h(this,p,g,v)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var p=this.z.redInvm(),g=p.redSqr(),v=this.x.redMul(g),m=this.y.redMul(g).redMul(p);return this.curve.point(v,m)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(p){if(this.isInfinity())return p;if(p.isInfinity())return this;var g=p.z.redSqr(),v=this.z.redSqr(),m=this.x.redMul(g),x=p.x.redMul(v),y=this.y.redMul(g.redMul(p.z)),w=p.y.redMul(v.redMul(this.z)),E=m.redSub(x),I=y.redSub(w);if(E.cmpn(0)===0)return I.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var T=E.redSqr(),R=T.redMul(E),D=m.redMul(T),L=I.redSqr().redIAdd(R).redISub(D).redISub(D),M=I.redMul(D.redISub(L)).redISub(y.redMul(R)),H=this.z.redMul(p.z).redMul(E);return this.curve.jpoint(L,M,H)},h.prototype.mixedAdd=function(p){if(this.isInfinity())return p.toJ();if(p.isInfinity())return this;var g=this.z.redSqr(),v=this.x,m=p.x.redMul(g),x=this.y,y=p.y.redMul(g).redMul(this.z),w=v.redSub(m),E=x.redSub(y);if(w.cmpn(0)===0)return E.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var I=w.redSqr(),T=I.redMul(w),R=v.redMul(I),D=E.redSqr().redIAdd(T).redISub(R).redISub(R),L=E.redMul(R.redISub(D)).redISub(x.redMul(T)),M=this.z.redMul(w);return this.curve.jpoint(D,L,M)},h.prototype.dblp=function(p){if(p===0)return this;if(this.isInfinity())return this;if(!p)return this.dbl();var g;if(this.curve.zeroA||this.curve.threeA){var v=this;for(g=0;g<p;g++)v=v.dbl();return v}var m=this.curve.a,x=this.curve.tinv,y=this.x,w=this.y,E=this.z,I=E.redSqr().redSqr(),T=w.redAdd(w);for(g=0;g<p;g++){var R=y.redSqr(),D=T.redSqr(),L=D.redSqr(),M=R.redAdd(R).redIAdd(R).redIAdd(m.redMul(I)),H=y.redMul(D),V=M.redSqr().redISub(H.redAdd(H)),P=H.redISub(V),F=M.redMul(P);F=F.redIAdd(F).redISub(L);var A=T.redMul(E);g+1<p&&(I=I.redMul(L)),y=V,E=A,T=F}return this.curve.jpoint(y,T.redMul(x),E)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var p,g,v;if(this.zOne){var m=this.x.redSqr(),x=this.y.redSqr(),y=x.redSqr(),w=this.x.redAdd(x).redSqr().redISub(m).redISub(y);w=w.redIAdd(w);var E=m.redAdd(m).redIAdd(m),I=E.redSqr().redISub(w).redISub(w),T=y.redIAdd(y);T=(T=T.redIAdd(T)).redIAdd(T),p=I,g=E.redMul(w.redISub(I)).redISub(T),v=this.y.redAdd(this.y)}else{var R=this.x.redSqr(),D=this.y.redSqr(),L=D.redSqr(),M=this.x.redAdd(D).redSqr().redISub(R).redISub(L);M=M.redIAdd(M);var H=R.redAdd(R).redIAdd(R),V=H.redSqr(),P=L.redIAdd(L);P=(P=P.redIAdd(P)).redIAdd(P),p=V.redISub(M).redISub(M),g=H.redMul(M.redISub(p)).redISub(P),v=(v=this.y.redMul(this.z)).redIAdd(v)}return this.curve.jpoint(p,g,v)},h.prototype._threeDbl=function(){var p,g,v;if(this.zOne){var m=this.x.redSqr(),x=this.y.redSqr(),y=x.redSqr(),w=this.x.redAdd(x).redSqr().redISub(m).redISub(y);w=w.redIAdd(w);var E=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),I=E.redSqr().redISub(w).redISub(w);p=I;var T=y.redIAdd(y);T=(T=T.redIAdd(T)).redIAdd(T),g=E.redMul(w.redISub(I)).redISub(T),v=this.y.redAdd(this.y)}else{var R=this.z.redSqr(),D=this.y.redSqr(),L=this.x.redMul(D),M=this.x.redSub(R).redMul(this.x.redAdd(R));M=M.redAdd(M).redIAdd(M);var H=L.redIAdd(L),V=(H=H.redIAdd(H)).redAdd(H);p=M.redSqr().redISub(V),v=this.y.redAdd(this.z).redSqr().redISub(D).redISub(R);var P=D.redSqr();P=(P=(P=P.redIAdd(P)).redIAdd(P)).redIAdd(P),g=M.redMul(H.redISub(p)).redISub(P)}return this.curve.jpoint(p,g,v)},h.prototype._dbl=function(){var p=this.curve.a,g=this.x,v=this.y,m=this.z,x=m.redSqr().redSqr(),y=g.redSqr(),w=v.redSqr(),E=y.redAdd(y).redIAdd(y).redIAdd(p.redMul(x)),I=g.redAdd(g),T=(I=I.redIAdd(I)).redMul(w),R=E.redSqr().redISub(T.redAdd(T)),D=T.redISub(R),L=w.redSqr();L=(L=(L=L.redIAdd(L)).redIAdd(L)).redIAdd(L);var M=E.redMul(D).redISub(L),H=v.redAdd(v).redMul(m);return this.curve.jpoint(R,M,H)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var p=this.x.redSqr(),g=this.y.redSqr(),v=this.z.redSqr(),m=g.redSqr(),x=p.redAdd(p).redIAdd(p),y=x.redSqr(),w=this.x.redAdd(g).redSqr().redISub(p).redISub(m),E=(w=(w=(w=w.redIAdd(w)).redAdd(w).redIAdd(w)).redISub(y)).redSqr(),I=m.redIAdd(m);I=(I=(I=I.redIAdd(I)).redIAdd(I)).redIAdd(I);var T=x.redIAdd(w).redSqr().redISub(y).redISub(E).redISub(I),R=g.redMul(T);R=(R=R.redIAdd(R)).redIAdd(R);var D=this.x.redMul(E).redISub(R);D=(D=D.redIAdd(D)).redIAdd(D);var L=this.y.redMul(T.redMul(I.redISub(T)).redISub(w.redMul(E)));L=(L=(L=L.redIAdd(L)).redIAdd(L)).redIAdd(L);var M=this.z.redAdd(w).redSqr().redISub(v).redISub(E);return this.curve.jpoint(D,L,M)},h.prototype.mul=function(p,g){return p=new o(p,g),this.curve._wnafMul(this,p)},h.prototype.eq=function(p){if(p.type==="affine")return this.eq(p.toJ());if(this===p)return!0;var g=this.z.redSqr(),v=p.z.redSqr();if(this.x.redMul(v).redISub(p.x.redMul(g)).cmpn(0)!==0)return!1;var m=g.redMul(this.z),x=v.redMul(p.z);return this.y.redMul(x).redISub(p.y.redMul(m)).cmpn(0)===0},h.prototype.eqXToP=function(p){var g=this.z.redSqr(),v=p.toRed(this.curve.red).redMul(g);if(this.x.cmp(v)===0)return!0;for(var m=p.clone(),x=this.curve.redN.redMul(g);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(v.redIAdd(x),this.x.cmp(v)===0)return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,s,i){var a,o=i,c=e("hash.js"),u=e("./curve"),l=e("./utils").assert;function d(h){h.type==="short"?this.curve=new u.short(h):h.type==="edwards"?this.curve=new u.edwards(h):this.curve=new u.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,l(this.g.validate(),"Invalid curve"),l(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function f(h,p){Object.defineProperty(o,h,{configurable:!0,enumerable:!0,get:function(){var g=new d(p);return Object.defineProperty(o,h,{configurable:!0,enumerable:!0,value:g}),g}})}o.PresetCurve=d,f("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:c.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),f("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:c.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),f("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:c.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),f("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:c.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),f("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:c.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),f("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:c.sha256,gRed:!1,g:["9"]}),f("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:c.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{a=e("./precomputed/secp256k1")}catch{a=void 0}f("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:c.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,s,i){var a=e("bn.js"),o=e("hmac-drbg"),c=e("../utils"),u=e("../curves"),l=e("brorand"),d=c.assert,f=e("./key"),h=e("./signature");function p(g){if(!(this instanceof p))return new p(g);typeof g=="string"&&(d(Object.prototype.hasOwnProperty.call(u,g),"Unknown curve "+g),g=u[g]),g instanceof u.PresetCurve&&(g={curve:g}),this.curve=g.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=g.curve.g,this.g.precompute(g.curve.n.bitLength()+1),this.hash=g.hash||g.curve.hash}s.exports=p,p.prototype.keyPair=function(g){return new f(this,g)},p.prototype.keyFromPrivate=function(g,v){return f.fromPrivate(this,g,v)},p.prototype.keyFromPublic=function(g,v){return f.fromPublic(this,g,v)},p.prototype.genKeyPair=function(g){g||(g={});for(var v=new o({hash:this.hash,pers:g.pers,persEnc:g.persEnc||"utf8",entropy:g.entropy||l(this.hash.hmacStrength),entropyEnc:g.entropy&&g.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),x=this.n.sub(new a(2));;){var y=new a(v.generate(m));if(!(y.cmp(x)>0))return y.iaddn(1),this.keyFromPrivate(y)}},p.prototype._truncateToN=function(g,v){var m=8*g.byteLength()-this.n.bitLength();return m>0&&(g=g.ushrn(m)),!v&&g.cmp(this.n)>=0?g.sub(this.n):g},p.prototype.sign=function(g,v,m,x){typeof m=="object"&&(x=m,m=null),x||(x={}),v=this.keyFromPrivate(v,m),g=this._truncateToN(new a(g,16));for(var y=this.n.byteLength(),w=v.getPrivate().toArray("be",y),E=g.toArray("be",y),I=new o({hash:this.hash,entropy:w,nonce:E,pers:x.pers,persEnc:x.persEnc||"utf8"}),T=this.n.sub(new a(1)),R=0;;R++){var D=x.k?x.k(R):new a(I.generate(this.n.byteLength()));if(!((D=this._truncateToN(D,!0)).cmpn(1)<=0||D.cmp(T)>=0)){var L=this.g.mul(D);if(!L.isInfinity()){var M=L.getX(),H=M.umod(this.n);if(H.cmpn(0)!==0){var V=D.invm(this.n).mul(H.mul(v.getPrivate()).iadd(g));if((V=V.umod(this.n)).cmpn(0)!==0){var P=(L.getY().isOdd()?1:0)|(M.cmp(H)!==0?2:0);return x.canonical&&V.cmp(this.nh)>0&&(V=this.n.sub(V),P^=1),new h({r:H,s:V,recoveryParam:P})}}}}}},p.prototype.verify=function(g,v,m,x){g=this._truncateToN(new a(g,16)),m=this.keyFromPublic(m,x);var y=(v=new h(v,"hex")).r,w=v.s;if(y.cmpn(1)<0||y.cmp(this.n)>=0||w.cmpn(1)<0||w.cmp(this.n)>=0)return!1;var E,I=w.invm(this.n),T=I.mul(g).umod(this.n),R=I.mul(y).umod(this.n);return this.curve._maxwellTrick?!(E=this.g.jmulAdd(T,m.getPublic(),R)).isInfinity()&&E.eqXToP(y):!(E=this.g.mulAdd(T,m.getPublic(),R)).isInfinity()&&E.getX().umod(this.n).cmp(y)===0},p.prototype.recoverPubKey=function(g,v,m,x){d((3&m)===m,"The recovery param is more than two bits"),v=new h(v,x);var y=this.n,w=new a(g),E=v.r,I=v.s,T=1&m,R=m>>1;if(E.cmp(this.curve.p.umod(this.curve.n))>=0&&R)throw new Error("Unable to find sencond key candinate");E=R?this.curve.pointFromX(E.add(this.curve.n),T):this.curve.pointFromX(E,T);var D=v.r.invm(y),L=y.sub(w).mul(D).umod(y),M=I.mul(D).umod(y);return this.g.mulAdd(L,E,M)},p.prototype.getKeyRecoveryParam=function(g,v,m,x){if((v=new h(v,x)).recoveryParam!==null)return v.recoveryParam;for(var y=0;y<4;y++){var w;try{w=this.recoverPubKey(g,v,y)}catch{continue}if(w.eq(m))return y}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,s,i){var a=e("bn.js"),o=e("../utils").assert;function c(u,l){this.ec=u,this.priv=null,this.pub=null,l.priv&&this._importPrivate(l.priv,l.privEnc),l.pub&&this._importPublic(l.pub,l.pubEnc)}s.exports=c,c.fromPublic=function(u,l,d){return l instanceof c?l:new c(u,{pub:l,pubEnc:d})},c.fromPrivate=function(u,l,d){return l instanceof c?l:new c(u,{priv:l,privEnc:d})},c.prototype.validate=function(){var u=this.getPublic();return u.isInfinity()?{result:!1,reason:"Invalid public key"}:u.validate()?u.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},c.prototype.getPublic=function(u,l){return typeof u=="string"&&(l=u,u=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),l?this.pub.encode(l,u):this.pub},c.prototype.getPrivate=function(u){return u==="hex"?this.priv.toString(16,2):this.priv},c.prototype._importPrivate=function(u,l){this.priv=new a(u,l||16),this.priv=this.priv.umod(this.ec.curve.n)},c.prototype._importPublic=function(u,l){if(u.x||u.y)return this.ec.curve.type==="mont"?o(u.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||o(u.x&&u.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(u.x,u.y));this.pub=this.ec.curve.decodePoint(u,l)},c.prototype.derive=function(u){return u.validate()||o(u.validate(),"public point not validated"),u.mul(this.priv).getX()},c.prototype.sign=function(u,l,d){return this.ec.sign(u,this,l,d)},c.prototype.verify=function(u,l){return this.ec.verify(u,l,this)},c.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,s,i){var a=e("bn.js"),o=e("../utils"),c=o.assert;function u(p,g){if(p instanceof u)return p;this._importDER(p,g)||(c(p.r&&p.s,"Signature without r or s"),this.r=new a(p.r,16),this.s=new a(p.s,16),p.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=p.recoveryParam)}function l(){this.place=0}function d(p,g){var v=p[g.place++];if(!(128&v))return v;var m=15&v;if(m===0||m>4)return!1;for(var x=0,y=0,w=g.place;y<m;y++,w++)x<<=8,x|=p[w],x>>>=0;return!(x<=127)&&(g.place=w,x)}function f(p){for(var g=0,v=p.length-1;!p[g]&&!(128&p[g+1])&&g<v;)g++;return g===0?p:p.slice(g)}function h(p,g){if(g<128)p.push(g);else{var v=1+(Math.log(g)/Math.LN2>>>3);for(p.push(128|v);--v;)p.push(g>>>(v<<3)&255);p.push(g)}}s.exports=u,u.prototype._importDER=function(p,g){p=o.toArray(p,g);var v=new l;if(p[v.place++]!==48)return!1;var m=d(p,v);if(m===!1||m+v.place!==p.length||p[v.place++]!==2)return!1;var x=d(p,v);if(x===!1)return!1;var y=p.slice(v.place,x+v.place);if(v.place+=x,p[v.place++]!==2)return!1;var w=d(p,v);if(w===!1||p.length!==w+v.place)return!1;var E=p.slice(v.place,w+v.place);if(y[0]===0){if(!(128&y[1]))return!1;y=y.slice(1)}if(E[0]===0){if(!(128&E[1]))return!1;E=E.slice(1)}return this.r=new a(y),this.s=new a(E),this.recoveryParam=null,!0},u.prototype.toDER=function(p){var g=this.r.toArray(),v=this.s.toArray();for(128&g[0]&&(g=[0].concat(g)),128&v[0]&&(v=[0].concat(v)),g=f(g),v=f(v);!(v[0]||128&v[1]);)v=v.slice(1);var m=[2];h(m,g.length),(m=m.concat(g)).push(2),h(m,v.length);var x=m.concat(v),y=[48];return h(y,x.length),y=y.concat(x),o.encode(y,p)}},{"../utils":419,"bn.js":420}],415:[function(e,s,i){var a=e("hash.js"),o=e("../curves"),c=e("../utils"),u=c.assert,l=c.parseBytes,d=e("./key"),f=e("./signature");function h(p){if(u(p==="ed25519","only tested with ed25519 so far"),!(this instanceof h))return new h(p);p=o[p].curve,this.curve=p,this.g=p.g,this.g.precompute(p.n.bitLength()+1),this.pointClass=p.point().constructor,this.encodingLength=Math.ceil(p.n.bitLength()/8),this.hash=a.sha512}s.exports=h,h.prototype.sign=function(p,g){p=l(p);var v=this.keyFromSecret(g),m=this.hashInt(v.messagePrefix(),p),x=this.g.mul(m),y=this.encodePoint(x),w=this.hashInt(y,v.pubBytes(),p).mul(v.priv()),E=m.add(w).umod(this.curve.n);return this.makeSignature({R:x,S:E,Rencoded:y})},h.prototype.verify=function(p,g,v){p=l(p),g=this.makeSignature(g);var m=this.keyFromPublic(v),x=this.hashInt(g.Rencoded(),m.pubBytes(),p),y=this.g.mul(g.S());return g.R().add(m.pub().mul(x)).eq(y)},h.prototype.hashInt=function(){for(var p=this.hash(),g=0;g<arguments.length;g++)p.update(arguments[g]);return c.intFromLE(p.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(p){return d.fromPublic(this,p)},h.prototype.keyFromSecret=function(p){return d.fromSecret(this,p)},h.prototype.makeSignature=function(p){return p instanceof f?p:new f(this,p)},h.prototype.encodePoint=function(p){var g=p.getY().toArray("le",this.encodingLength);return g[this.encodingLength-1]|=p.getX().isOdd()?128:0,g},h.prototype.decodePoint=function(p){var g=(p=c.parseBytes(p)).length-1,v=p.slice(0,g).concat(-129&p[g]),m=(128&p[g])!=0,x=c.intFromLE(v);return this.curve.pointFromY(x,m)},h.prototype.encodeInt=function(p){return p.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(p){return c.intFromLE(p)},h.prototype.isPoint=function(p){return p instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,s,i){var a=e("../utils"),o=a.assert,c=a.parseBytes,u=a.cachedProperty;function l(d,f){this.eddsa=d,this._secret=c(f.secret),d.isPoint(f.pub)?this._pub=f.pub:this._pubBytes=c(f.pub)}l.fromPublic=function(d,f){return f instanceof l?f:new l(d,{pub:f})},l.fromSecret=function(d,f){return f instanceof l?f:new l(d,{secret:f})},l.prototype.secret=function(){return this._secret},u(l,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),u(l,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),u(l,"privBytes",function(){var d=this.eddsa,f=this.hash(),h=d.encodingLength-1,p=f.slice(0,d.encodingLength);return p[0]&=248,p[h]&=127,p[h]|=64,p}),u(l,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),u(l,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),u(l,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),l.prototype.sign=function(d){return o(this._secret,"KeyPair can only verify"),this.eddsa.sign(d,this)},l.prototype.verify=function(d,f){return this.eddsa.verify(d,f,this)},l.prototype.getSecret=function(d){return o(this._secret,"KeyPair is public only"),a.encode(this.secret(),d)},l.prototype.getPublic=function(d){return a.encode(this.pubBytes(),d)},s.exports=l},{"../utils":419}],417:[function(e,s,i){var a=e("bn.js"),o=e("../utils"),c=o.assert,u=o.cachedProperty,l=o.parseBytes;function d(f,h){this.eddsa=f,typeof h!="object"&&(h=l(h)),Array.isArray(h)&&(h={R:h.slice(0,f.encodingLength),S:h.slice(f.encodingLength)}),c(h.R&&h.S,"Signature without R or S"),f.isPoint(h.R)&&(this._R=h.R),h.S instanceof a&&(this._S=h.S),this._Rencoded=Array.isArray(h.R)?h.R:h.Rencoded,this._Sencoded=Array.isArray(h.S)?h.S:h.Sencoded}u(d,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),u(d,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),u(d,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),u(d,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),d.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},d.prototype.toHex=function(){return o.encode(this.toBytes(),"hex").toUpperCase()},s.exports=d},{"../utils":419,"bn.js":420}],418:[function(e,s,i){s.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,s,i){var a=i,o=e("bn.js"),c=e("minimalistic-assert"),u=e("minimalistic-crypto-utils");a.assert=c,a.toArray=u.toArray,a.zero2=u.zero2,a.toHex=u.toHex,a.encode=u.encode,a.getNAF=function(l,d,f){var h=new Array(Math.max(l.bitLength(),f)+1);h.fill(0);for(var p=1<<d+1,g=l.clone(),v=0;v<h.length;v++){var m,x=g.andln(p-1);g.isOdd()?(m=x>(p>>1)-1?(p>>1)-x:x,g.isubn(m)):m=0,h[v]=m,g.iushrn(1)}return h},a.getJSF=function(l,d){var f=[[],[]];l=l.clone(),d=d.clone();for(var h,p=0,g=0;l.cmpn(-p)>0||d.cmpn(-g)>0;){var v,m,x=l.andln(3)+p&3,y=d.andln(3)+g&3;x===3&&(x=-1),y===3&&(y=-1),v=1&x?(h=l.andln(7)+p&7)!==3&&h!==5||y!==2?x:-x:0,f[0].push(v),m=1&y?(h=d.andln(7)+g&7)!==3&&h!==5||x!==2?y:-y:0,f[1].push(m),2*p===v+1&&(p=1-p),2*g===m+1&&(g=1-g),l.iushrn(1),d.iushrn(1)}return f},a.cachedProperty=function(l,d,f){var h="_"+d;l.prototype[d]=function(){return this[h]!==void 0?this[h]:this[h]=f.call(this)}},a.parseBytes=function(l){return typeof l=="string"?a.toArray(l,"hex"):l},a.intFromLE=function(l){return new o(l,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,s,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],421:[function(e,s,i){s.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,s,i){var a=Object.create||function(D){var L=function(){};return L.prototype=D,new L},o=Object.keys||function(D){var L=[];for(var M in D)Object.prototype.hasOwnProperty.call(D,M)&&L.push(M);return M},c=Function.prototype.bind||function(D){var L=this;return function(){return L.apply(D,arguments)}};function u(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=a(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}s.exports=u,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._maxListeners=void 0;var l,d=10;try{var f={};Object.defineProperty&&Object.defineProperty(f,"x",{value:0}),l=f.x===0}catch{l=!1}function h(D){return D._maxListeners===void 0?u.defaultMaxListeners:D._maxListeners}function p(D,L,M){if(L)D.call(M);else for(var H=D.length,V=R(D,H),P=0;P<H;++P)V[P].call(M)}function g(D,L,M,H){if(L)D.call(M,H);else for(var V=D.length,P=R(D,V),F=0;F<V;++F)P[F].call(M,H)}function v(D,L,M,H,V){if(L)D.call(M,H,V);else for(var P=D.length,F=R(D,P),A=0;A<P;++A)F[A].call(M,H,V)}function m(D,L,M,H,V,P){if(L)D.call(M,H,V,P);else for(var F=D.length,A=R(D,F),_=0;_<F;++_)A[_].call(M,H,V,P)}function x(D,L,M,H){if(L)D.apply(M,H);else for(var V=D.length,P=R(D,V),F=0;F<V;++F)P[F].apply(M,H)}function y(D,L,M,H){var V,P,F;if(typeof M!="function")throw new TypeError('"listener" argument must be a function');if((P=D._events)?(P.newListener&&(D.emit("newListener",L,M.listener?M.listener:M),P=D._events),F=P[L]):(P=D._events=a(null),D._eventsCount=0),F){if(typeof F=="function"?F=P[L]=H?[M,F]:[F,M]:H?F.unshift(M):F.push(M),!F.warned&&(V=h(D))&&V>0&&F.length>V){F.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+F.length+' "'+String(L)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');A.name="MaxListenersExceededWarning",A.emitter=D,A.type=L,A.count=F.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",A.name,A.message)}}else F=P[L]=M,++D._eventsCount;return D}function w(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var D=new Array(arguments.length),L=0;L<D.length;++L)D[L]=arguments[L];this.listener.apply(this.target,D)}}function E(D,L,M){var H={fired:!1,wrapFn:void 0,target:D,type:L,listener:M},V=c.call(w,H);return V.listener=M,H.wrapFn=V,V}function I(D,L,M){var H=D._events;if(!H)return[];var V=H[L];return V?typeof V=="function"?M?[V.listener||V]:[V]:M?function(P){for(var F=new Array(P.length),A=0;A<F.length;++A)F[A]=P[A].listener||P[A];return F}(V):R(V,V.length):[]}function T(D){var L=this._events;if(L){var M=L[D];if(typeof M=="function")return 1;if(M)return M.length}return 0}function R(D,L){for(var M=new Array(L),H=0;H<L;++H)M[H]=D[H];return M}l?Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(D){if(typeof D!="number"||D<0||D!=D)throw new TypeError('"defaultMaxListeners" must be a positive number');d=D}}):u.defaultMaxListeners=d,u.prototype.setMaxListeners=function(D){if(typeof D!="number"||D<0||isNaN(D))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=D,this},u.prototype.getMaxListeners=function(){return h(this)},u.prototype.emit=function(D){var L,M,H,V,P,F,A=D==="error";if(F=this._events)A=A&&F.error==null;else if(!A)return!1;if(A){if(arguments.length>1&&(L=arguments[1]),L instanceof Error)throw L;var _=new Error('Unhandled "error" event. ('+L+")");throw _.context=L,_}if(!(M=F[D]))return!1;var S=typeof M=="function";switch(H=arguments.length){case 1:p(M,S,this);break;case 2:g(M,S,this,arguments[1]);break;case 3:v(M,S,this,arguments[1],arguments[2]);break;case 4:m(M,S,this,arguments[1],arguments[2],arguments[3]);break;default:for(V=new Array(H-1),P=1;P<H;P++)V[P-1]=arguments[P];x(M,S,this,V)}return!0},u.prototype.addListener=function(D,L){return y(this,D,L,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(D,L){return y(this,D,L,!0)},u.prototype.once=function(D,L){if(typeof L!="function")throw new TypeError('"listener" argument must be a function');return this.on(D,E(this,D,L)),this},u.prototype.prependOnceListener=function(D,L){if(typeof L!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(D,E(this,D,L)),this},u.prototype.removeListener=function(D,L){var M,H,V,P,F;if(typeof L!="function")throw new TypeError('"listener" argument must be a function');if(!(H=this._events))return this;if(!(M=H[D]))return this;if(M===L||M.listener===L)--this._eventsCount==0?this._events=a(null):(delete H[D],H.removeListener&&this.emit("removeListener",D,M.listener||L));else if(typeof M!="function"){for(V=-1,P=M.length-1;P>=0;P--)if(M[P]===L||M[P].listener===L){F=M[P].listener,V=P;break}if(V<0)return this;V===0?M.shift():function(A,_){for(var S=_,N=S+1,C=A.length;N<C;S+=1,N+=1)A[S]=A[N];A.pop()}(M,V),M.length===1&&(H[D]=M[0]),H.removeListener&&this.emit("removeListener",D,F||L)}return this},u.prototype.removeAllListeners=function(D){var L,M,H;if(!(M=this._events))return this;if(!M.removeListener)return arguments.length===0?(this._events=a(null),this._eventsCount=0):M[D]&&(--this._eventsCount==0?this._events=a(null):delete M[D]),this;if(arguments.length===0){var V,P=o(M);for(H=0;H<P.length;++H)(V=P[H])!=="removeListener"&&this.removeAllListeners(V);return this.removeAllListeners("removeListener"),this._events=a(null),this._eventsCount=0,this}if(typeof(L=M[D])=="function")this.removeListener(D,L);else if(L)for(H=L.length-1;H>=0;H--)this.removeListener(D,L[H]);return this},u.prototype.listeners=function(D){return I(this,D,!0)},u.prototype.rawListeners=function(D){return I(this,D,!1)},u.listenerCount=function(D,L){return typeof D.listenerCount=="function"?D.listenerCount(L):T.call(D,L)},u.prototype.listenerCount=T,u.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(e,s,i){var a=e("safe-buffer").Buffer,o=e("md5.js");s.exports=function(c,u,l,d){if(a.isBuffer(c)||(c=a.from(c,"binary")),u&&(a.isBuffer(u)||(u=a.from(u,"binary")),u.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var f=l/8,h=a.alloc(f),p=a.alloc(d||0),g=a.alloc(0);f>0||d>0;){var v=new o;v.update(g),v.update(c),u&&v.update(u),g=v.digest();var m=0;if(f>0){var x=h.length-f;m=Math.min(f,g.length),g.copy(h,x,0,m),f-=m}if(m<g.length&&d>0){var y=p.length-d,w=Math.min(d,g.length-m);g.copy(p,y,m,m+w),d-=w}}return g.fill(0),{key:h,iv:p}}},{"md5.js":450,"safe-buffer":494}],424:[function(e,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.CsvParserStream=i.ParserOptions=i.parseFile=i.parseStream=i.parseString=i.parse=i.FormatterOptions=i.CsvFormatterStream=i.writeToPath=i.writeToString=i.writeToBuffer=i.writeToStream=i.write=i.format=void 0;var a=e("@fast-csv/format");Object.defineProperty(i,"format",{enumerable:!0,get:function(){return a.format}}),Object.defineProperty(i,"write",{enumerable:!0,get:function(){return a.write}}),Object.defineProperty(i,"writeToStream",{enumerable:!0,get:function(){return a.writeToStream}}),Object.defineProperty(i,"writeToBuffer",{enumerable:!0,get:function(){return a.writeToBuffer}}),Object.defineProperty(i,"writeToString",{enumerable:!0,get:function(){return a.writeToString}}),Object.defineProperty(i,"writeToPath",{enumerable:!0,get:function(){return a.writeToPath}}),Object.defineProperty(i,"CsvFormatterStream",{enumerable:!0,get:function(){return a.CsvFormatterStream}}),Object.defineProperty(i,"FormatterOptions",{enumerable:!0,get:function(){return a.FormatterOptions}});var o=e("@fast-csv/parse");Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return o.parse}}),Object.defineProperty(i,"parseString",{enumerable:!0,get:function(){return o.parseString}}),Object.defineProperty(i,"parseStream",{enumerable:!0,get:function(){return o.parseStream}}),Object.defineProperty(i,"parseFile",{enumerable:!0,get:function(){return o.parseFile}}),Object.defineProperty(i,"ParserOptions",{enumerable:!0,get:function(){return o.ParserOptions}}),Object.defineProperty(i,"CsvParserStream",{enumerable:!0,get:function(){return o.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,s,i){var a=e("safe-buffer").Buffer,o=e("readable-stream").Transform;function c(u){o.call(this),this._block=a.allocUnsafe(u),this._blockSize=u,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(c,o),c.prototype._transform=function(u,l,d){var f=null;try{this.update(u,l)}catch(h){f=h}d(f)},c.prototype._flush=function(u){var l=null;try{this.push(this.digest())}catch(d){l=d}u(l)},c.prototype.update=function(u,l){if(function(v,m){if(!a.isBuffer(v)&&typeof v!="string")throw new TypeError(m+" must be a string or a buffer")}(u,"Data"),this._finalized)throw new Error("Digest already called");a.isBuffer(u)||(u=a.from(u,l));for(var d=this._block,f=0;this._blockOffset+u.length-f>=this._blockSize;){for(var h=this._blockOffset;h<this._blockSize;)d[h++]=u[f++];this._update(),this._blockOffset=0}for(;f<u.length;)d[this._blockOffset++]=u[f++];for(var p=0,g=8*u.length;g>0;++p)this._length[p]+=g,(g=this._length[p]/4294967296|0)>0&&(this._length[p]-=4294967296*g);return this},c.prototype._update=function(){throw new Error("_update is not implemented")},c.prototype.digest=function(u){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var l=this._digest();u!==void 0&&(l=l.toString(u)),this._block.fill(0),this._blockOffset=0;for(var d=0;d<4;++d)this._length[d]=0;return l},c.prototype._digest=function(){throw new Error("_digest is not implemented")},s.exports=c},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,s,i){var a=i;a.utils=e("./hash/utils"),a.common=e("./hash/common"),a.sha=e("./hash/sha"),a.ripemd=e("./hash/ripemd"),a.hmac=e("./hash/hmac"),a.sha1=a.sha.sha1,a.sha256=a.sha.sha256,a.sha224=a.sha.sha224,a.sha384=a.sha.sha384,a.sha512=a.sha.sha512,a.ripemd160=a.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,s,i){var a=e("./utils"),o=e("minimalistic-assert");function c(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}i.BlockHash=c,c.prototype.update=function(u,l){if(u=a.toArray(u,l),this.pending?this.pending=this.pending.concat(u):this.pending=u,this.pendingTotal+=u.length,this.pending.length>=this._delta8){var d=(u=this.pending).length%this._delta8;this.pending=u.slice(u.length-d,u.length),this.pending.length===0&&(this.pending=null),u=a.join32(u,0,u.length-d,this.endian);for(var f=0;f<u.length;f+=this._delta32)this._update(u,f,f+this._delta32)}return this},c.prototype.digest=function(u){return this.update(this._pad()),o(this.pending===null),this._digest(u)},c.prototype._pad=function(){var u=this.pendingTotal,l=this._delta8,d=l-(u+this.padLength)%l,f=new Array(d+this.padLength);f[0]=128;for(var h=1;h<d;h++)f[h]=0;if(u<<=3,this.endian==="big"){for(var p=8;p<this.padLength;p++)f[h++]=0;f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=u>>>24&255,f[h++]=u>>>16&255,f[h++]=u>>>8&255,f[h++]=255&u}else for(f[h++]=255&u,f[h++]=u>>>8&255,f[h++]=u>>>16&255,f[h++]=u>>>24&255,f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=0,p=8;p<this.padLength;p++)f[h++]=0;return f}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,s,i){var a=e("./utils"),o=e("minimalistic-assert");function c(u,l,d){if(!(this instanceof c))return new c(u,l,d);this.Hash=u,this.blockSize=u.blockSize/8,this.outSize=u.outSize/8,this.inner=null,this.outer=null,this._init(a.toArray(l,d))}s.exports=c,c.prototype._init=function(u){u.length>this.blockSize&&(u=new this.Hash().update(u).digest()),o(u.length<=this.blockSize);for(var l=u.length;l<this.blockSize;l++)u.push(0);for(l=0;l<u.length;l++)u[l]^=54;for(this.inner=new this.Hash().update(u),l=0;l<u.length;l++)u[l]^=106;this.outer=new this.Hash().update(u)},c.prototype.update=function(u,l){return this.inner.update(u,l),this},c.prototype.digest=function(u){return this.outer.update(this.inner.digest()),this.outer.digest(u)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,s,i){var a=e("./utils"),o=e("./common"),c=a.rotl32,u=a.sum32,l=a.sum32_3,d=a.sum32_4,f=o.BlockHash;function h(){if(!(this instanceof h))return new h;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function p(E,I,T,R){return E<=15?I^T^R:E<=31?I&T|~I&R:E<=47?(I|~T)^R:E<=63?I&R|T&~R:I^(T|~R)}function g(E){return E<=15?0:E<=31?1518500249:E<=47?1859775393:E<=63?2400959708:2840853838}function v(E){return E<=15?1352829926:E<=31?1548603684:E<=47?1836072691:E<=63?2053994217:0}a.inherits(h,f),i.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(E,I){for(var T=this.h[0],R=this.h[1],D=this.h[2],L=this.h[3],M=this.h[4],H=T,V=R,P=D,F=L,A=M,_=0;_<80;_++){var S=u(c(d(T,p(_,R,D,L),E[m[_]+I],g(_)),y[_]),M);T=M,M=L,L=c(D,10),D=R,R=S,S=u(c(d(H,p(79-_,V,P,F),E[x[_]+I],v(_)),w[_]),A),H=A,A=F,F=c(P,10),P=V,V=S}S=l(this.h[1],D,F),this.h[1]=l(this.h[2],L,A),this.h[2]=l(this.h[3],M,H),this.h[3]=l(this.h[4],T,V),this.h[4]=l(this.h[0],R,P),this.h[0]=S},h.prototype._digest=function(E){return E==="hex"?a.toHex32(this.h,"little"):a.split32(this.h,"little")};var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],x=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],w=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,s,i){i.sha1=e("./sha/1"),i.sha224=e("./sha/224"),i.sha256=e("./sha/256"),i.sha384=e("./sha/384"),i.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,s,i){var a=e("../utils"),o=e("../common"),c=e("./common"),u=a.rotl32,l=a.sum32,d=a.sum32_5,f=c.ft_1,h=o.BlockHash,p=[1518500249,1859775393,2400959708,3395469782];function g(){if(!(this instanceof g))return new g;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}a.inherits(g,h),s.exports=g,g.blockSize=512,g.outSize=160,g.hmacStrength=80,g.padLength=64,g.prototype._update=function(v,m){for(var x=this.W,y=0;y<16;y++)x[y]=v[m+y];for(;y<x.length;y++)x[y]=u(x[y-3]^x[y-8]^x[y-14]^x[y-16],1);var w=this.h[0],E=this.h[1],I=this.h[2],T=this.h[3],R=this.h[4];for(y=0;y<x.length;y++){var D=~~(y/20),L=d(u(w,5),f(D,E,I,T),R,x[y],p[D]);R=T,T=I,I=u(E,30),E=w,w=L}this.h[0]=l(this.h[0],w),this.h[1]=l(this.h[1],E),this.h[2]=l(this.h[2],I),this.h[3]=l(this.h[3],T),this.h[4]=l(this.h[4],R)},g.prototype._digest=function(v){return v==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,s,i){var a=e("../utils"),o=e("./256");function c(){if(!(this instanceof c))return new c;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}a.inherits(c,o),s.exports=c,c.blockSize=512,c.outSize=224,c.hmacStrength=192,c.padLength=64,c.prototype._digest=function(u){return u==="hex"?a.toHex32(this.h.slice(0,7),"big"):a.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,s,i){var a=e("../utils"),o=e("../common"),c=e("./common"),u=e("minimalistic-assert"),l=a.sum32,d=a.sum32_4,f=a.sum32_5,h=c.ch32,p=c.maj32,g=c.s0_256,v=c.s1_256,m=c.g0_256,x=c.g1_256,y=o.BlockHash,w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function E(){if(!(this instanceof E))return new E;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=w,this.W=new Array(64)}a.inherits(E,y),s.exports=E,E.blockSize=512,E.outSize=256,E.hmacStrength=192,E.padLength=64,E.prototype._update=function(I,T){for(var R=this.W,D=0;D<16;D++)R[D]=I[T+D];for(;D<R.length;D++)R[D]=d(x(R[D-2]),R[D-7],m(R[D-15]),R[D-16]);var L=this.h[0],M=this.h[1],H=this.h[2],V=this.h[3],P=this.h[4],F=this.h[5],A=this.h[6],_=this.h[7];for(u(this.k.length===R.length),D=0;D<R.length;D++){var S=f(_,v(P),h(P,F,A),this.k[D],R[D]),N=l(g(L),p(L,M,H));_=A,A=F,F=P,P=l(V,S),V=H,H=M,M=L,L=l(S,N)}this.h[0]=l(this.h[0],L),this.h[1]=l(this.h[1],M),this.h[2]=l(this.h[2],H),this.h[3]=l(this.h[3],V),this.h[4]=l(this.h[4],P),this.h[5]=l(this.h[5],F),this.h[6]=l(this.h[6],A),this.h[7]=l(this.h[7],_)},E.prototype._digest=function(I){return I==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,s,i){var a=e("../utils"),o=e("./512");function c(){if(!(this instanceof c))return new c;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}a.inherits(c,o),s.exports=c,c.blockSize=1024,c.outSize=384,c.hmacStrength=192,c.padLength=128,c.prototype._digest=function(u){return u==="hex"?a.toHex32(this.h.slice(0,12),"big"):a.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,s,i){var a=e("../utils"),o=e("../common"),c=e("minimalistic-assert"),u=a.rotr64_hi,l=a.rotr64_lo,d=a.shr64_hi,f=a.shr64_lo,h=a.sum64,p=a.sum64_hi,g=a.sum64_lo,v=a.sum64_4_hi,m=a.sum64_4_lo,x=a.sum64_5_hi,y=a.sum64_5_lo,w=o.BlockHash,E=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function I(){if(!(this instanceof I))return new I;w.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=E,this.W=new Array(160)}function T(N,C,W,j,B){var G=N&W^~N&B;return G<0&&(G+=4294967296),G}function R(N,C,W,j,B,G){var X=C&j^~C&G;return X<0&&(X+=4294967296),X}function D(N,C,W,j,B){var G=N&W^N&B^W&B;return G<0&&(G+=4294967296),G}function L(N,C,W,j,B,G){var X=C&j^C&G^j&G;return X<0&&(X+=4294967296),X}function M(N,C){var W=u(N,C,28)^u(C,N,2)^u(C,N,7);return W<0&&(W+=4294967296),W}function H(N,C){var W=l(N,C,28)^l(C,N,2)^l(C,N,7);return W<0&&(W+=4294967296),W}function V(N,C){var W=u(N,C,14)^u(N,C,18)^u(C,N,9);return W<0&&(W+=4294967296),W}function P(N,C){var W=l(N,C,14)^l(N,C,18)^l(C,N,9);return W<0&&(W+=4294967296),W}function F(N,C){var W=u(N,C,1)^u(N,C,8)^d(N,C,7);return W<0&&(W+=4294967296),W}function A(N,C){var W=l(N,C,1)^l(N,C,8)^f(N,C,7);return W<0&&(W+=4294967296),W}function _(N,C){var W=u(N,C,19)^u(C,N,29)^d(N,C,6);return W<0&&(W+=4294967296),W}function S(N,C){var W=l(N,C,19)^l(C,N,29)^f(N,C,6);return W<0&&(W+=4294967296),W}a.inherits(I,w),s.exports=I,I.blockSize=1024,I.outSize=512,I.hmacStrength=192,I.padLength=128,I.prototype._prepareBlock=function(N,C){for(var W=this.W,j=0;j<32;j++)W[j]=N[C+j];for(;j<W.length;j+=2){var B=_(W[j-4],W[j-3]),G=S(W[j-4],W[j-3]),X=W[j-14],J=W[j-13],O=F(W[j-30],W[j-29]),ee=A(W[j-30],W[j-29]),U=W[j-32],z=W[j-31];W[j]=v(B,G,X,J,O,ee,U,z),W[j+1]=m(B,G,X,J,O,ee,U,z)}},I.prototype._update=function(N,C){this._prepareBlock(N,C);var W=this.W,j=this.h[0],B=this.h[1],G=this.h[2],X=this.h[3],J=this.h[4],O=this.h[5],ee=this.h[6],U=this.h[7],z=this.h[8],Z=this.h[9],te=this.h[10],oe=this.h[11],ue=this.h[12],le=this.h[13],ce=this.h[14],_e=this.h[15];c(this.k.length===W.length);for(var fe=0;fe<W.length;fe+=2){var ge=ce,xe=_e,Le=V(z,Z),Me=P(z,Z),Oe=T(z,Z,te,oe,ue),ze=R(z,Z,te,oe,ue,le),Ke=this.k[fe],ot=this.k[fe+1],$e=W[fe],Ve=W[fe+1],He=x(ge,xe,Le,Me,Oe,ze,Ke,ot,$e,Ve),rt=y(ge,xe,Le,Me,Oe,ze,Ke,ot,$e,Ve);ge=M(j,B),xe=H(j,B),Le=D(j,B,G,X,J),Me=L(j,B,G,X,J,O);var Je=p(ge,xe,Le,Me),wt=g(ge,xe,Le,Me);ce=ue,_e=le,ue=te,le=oe,te=z,oe=Z,z=p(ee,U,He,rt),Z=g(U,U,He,rt),ee=J,U=O,J=G,O=X,G=j,X=B,j=p(He,rt,Je,wt),B=g(He,rt,Je,wt)}h(this.h,0,j,B),h(this.h,2,G,X),h(this.h,4,J,O),h(this.h,6,ee,U),h(this.h,8,z,Z),h(this.h,10,te,oe),h(this.h,12,ue,le),h(this.h,14,ce,_e)},I.prototype._digest=function(N){return N==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,s,i){var a=e("../utils").rotr32;function o(l,d,f){return l&d^~l&f}function c(l,d,f){return l&d^l&f^d&f}function u(l,d,f){return l^d^f}i.ft_1=function(l,d,f,h){return l===0?o(d,f,h):l===1||l===3?u(d,f,h):l===2?c(d,f,h):void 0},i.ch32=o,i.maj32=c,i.p32=u,i.s0_256=function(l){return a(l,2)^a(l,13)^a(l,22)},i.s1_256=function(l){return a(l,6)^a(l,11)^a(l,25)},i.g0_256=function(l){return a(l,7)^a(l,18)^l>>>3},i.g1_256=function(l){return a(l,17)^a(l,19)^l>>>10}},{"../utils":437}],437:[function(e,s,i){var a=e("minimalistic-assert"),o=e("inherits");function c(f,h){return(64512&f.charCodeAt(h))==55296&&!(h<0||h+1>=f.length)&&(64512&f.charCodeAt(h+1))==56320}function u(f){return(f>>>24|f>>>8&65280|f<<8&16711680|(255&f)<<24)>>>0}function l(f){return f.length===1?"0"+f:f}function d(f){return f.length===7?"0"+f:f.length===6?"00"+f:f.length===5?"000"+f:f.length===4?"0000"+f:f.length===3?"00000"+f:f.length===2?"000000"+f:f.length===1?"0000000"+f:f}i.inherits=o,i.toArray=function(f,h){if(Array.isArray(f))return f.slice();if(!f)return[];var p=[];if(typeof f=="string")if(h){if(h==="hex")for((f=f.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(f="0"+f),v=0;v<f.length;v+=2)p.push(parseInt(f[v]+f[v+1],16))}else for(var g=0,v=0;v<f.length;v++){var m=f.charCodeAt(v);m<128?p[g++]=m:m<2048?(p[g++]=m>>6|192,p[g++]=63&m|128):c(f,v)?(m=65536+((1023&m)<<10)+(1023&f.charCodeAt(++v)),p[g++]=m>>18|240,p[g++]=m>>12&63|128,p[g++]=m>>6&63|128,p[g++]=63&m|128):(p[g++]=m>>12|224,p[g++]=m>>6&63|128,p[g++]=63&m|128)}else for(v=0;v<f.length;v++)p[v]=0|f[v];return p},i.toHex=function(f){for(var h="",p=0;p<f.length;p++)h+=l(f[p].toString(16));return h},i.htonl=u,i.toHex32=function(f,h){for(var p="",g=0;g<f.length;g++){var v=f[g];h==="little"&&(v=u(v)),p+=d(v.toString(16))}return p},i.zero2=l,i.zero8=d,i.join32=function(f,h,p,g){var v=p-h;a(v%4==0);for(var m=new Array(v/4),x=0,y=h;x<m.length;x++,y+=4){var w;w=g==="big"?f[y]<<24|f[y+1]<<16|f[y+2]<<8|f[y+3]:f[y+3]<<24|f[y+2]<<16|f[y+1]<<8|f[y],m[x]=w>>>0}return m},i.split32=function(f,h){for(var p=new Array(4*f.length),g=0,v=0;g<f.length;g++,v+=4){var m=f[g];h==="big"?(p[v]=m>>>24,p[v+1]=m>>>16&255,p[v+2]=m>>>8&255,p[v+3]=255&m):(p[v+3]=m>>>24,p[v+2]=m>>>16&255,p[v+1]=m>>>8&255,p[v]=255&m)}return p},i.rotr32=function(f,h){return f>>>h|f<<32-h},i.rotl32=function(f,h){return f<<h|f>>>32-h},i.sum32=function(f,h){return f+h>>>0},i.sum32_3=function(f,h,p){return f+h+p>>>0},i.sum32_4=function(f,h,p,g){return f+h+p+g>>>0},i.sum32_5=function(f,h,p,g,v){return f+h+p+g+v>>>0},i.sum64=function(f,h,p,g){var v=f[h],m=g+f[h+1]>>>0,x=(m<g?1:0)+p+v;f[h]=x>>>0,f[h+1]=m},i.sum64_hi=function(f,h,p,g){return(h+g>>>0<h?1:0)+f+p>>>0},i.sum64_lo=function(f,h,p,g){return h+g>>>0},i.sum64_4_hi=function(f,h,p,g,v,m,x,y){var w=0,E=h;return w+=(E=E+g>>>0)<h?1:0,w+=(E=E+m>>>0)<m?1:0,f+p+v+x+(w+=(E=E+y>>>0)<y?1:0)>>>0},i.sum64_4_lo=function(f,h,p,g,v,m,x,y){return h+g+m+y>>>0},i.sum64_5_hi=function(f,h,p,g,v,m,x,y,w,E){var I=0,T=h;return I+=(T=T+g>>>0)<h?1:0,I+=(T=T+m>>>0)<m?1:0,I+=(T=T+y>>>0)<y?1:0,f+p+v+x+w+(I+=(T=T+E>>>0)<E?1:0)>>>0},i.sum64_5_lo=function(f,h,p,g,v,m,x,y,w,E){return h+g+m+y+E>>>0},i.rotr64_hi=function(f,h,p){return(h<<32-p|f>>>p)>>>0},i.rotr64_lo=function(f,h,p){return(f<<32-p|h>>>p)>>>0},i.shr64_hi=function(f,h,p){return f>>>p},i.shr64_lo=function(f,h,p){return(f<<32-p|h>>>p)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(e,s,i){var a=e("hash.js"),o=e("minimalistic-crypto-utils"),c=e("minimalistic-assert");function u(l){if(!(this instanceof u))return new u(l);this.hash=l.hash,this.predResist=!!l.predResist,this.outLen=this.hash.outSize,this.minEntropy=l.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var d=o.toArray(l.entropy,l.entropyEnc||"hex"),f=o.toArray(l.nonce,l.nonceEnc||"hex"),h=o.toArray(l.pers,l.persEnc||"hex");c(d.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(d,f,h)}s.exports=u,u.prototype._init=function(l,d,f){var h=l.concat(d).concat(f);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var p=0;p<this.V.length;p++)this.K[p]=0,this.V[p]=1;this._update(h),this._reseed=1,this.reseedInterval=281474976710656},u.prototype._hmac=function(){return new a.hmac(this.hash,this.K)},u.prototype._update=function(l){var d=this._hmac().update(this.V).update([0]);l&&(d=d.update(l)),this.K=d.digest(),this.V=this._hmac().update(this.V).digest(),l&&(this.K=this._hmac().update(this.V).update([1]).update(l).digest(),this.V=this._hmac().update(this.V).digest())},u.prototype.reseed=function(l,d,f,h){typeof d!="string"&&(h=f,f=d,d=null),l=o.toArray(l,d),f=o.toArray(f,h),c(l.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(l.concat(f||[])),this._reseed=1},u.prototype.generate=function(l,d,f,h){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof d!="string"&&(h=f,f=d,d=null),f&&(f=o.toArray(f,h||"hex"),this._update(f));for(var p=[];p.length<l;)this.V=this._hmac().update(this.V).digest(),p=p.concat(this.V);var g=p.slice(0,l);return this._update(f),this._reseed++,o.encode(g,d)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,s,i){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */i.read=function(a,o,c,u,l){var d,f,h=8*l-u-1,p=(1<<h)-1,g=p>>1,v=-7,m=c?l-1:0,x=c?-1:1,y=a[o+m];for(m+=x,d=y&(1<<-v)-1,y>>=-v,v+=h;v>0;d=256*d+a[o+m],m+=x,v-=8);for(f=d&(1<<-v)-1,d>>=-v,v+=u;v>0;f=256*f+a[o+m],m+=x,v-=8);if(d===0)d=1-g;else{if(d===p)return f?NaN:1/0*(y?-1:1);f+=Math.pow(2,u),d-=g}return(y?-1:1)*f*Math.pow(2,d-u)},i.write=function(a,o,c,u,l,d){var f,h,p,g=8*d-l-1,v=(1<<g)-1,m=v>>1,x=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=u?0:d-1,w=u?1:-1,E=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(h=isNaN(o)?1:0,f=v):(f=Math.floor(Math.log(o)/Math.LN2),o*(p=Math.pow(2,-f))<1&&(f--,p*=2),(o+=f+m>=1?x/p:x*Math.pow(2,1-m))*p>=2&&(f++,p/=2),f+m>=v?(h=0,f=v):f+m>=1?(h=(o*p-1)*Math.pow(2,l),f+=m):(h=o*Math.pow(2,m-1)*Math.pow(2,l),f=0));l>=8;a[c+y]=255&h,y+=w,h/=256,l-=8);for(f=f<<l|h,g+=l;g>0;a[c+y]=255&f,y+=w,f/=256,g-=8);a[c+y-w]|=128*E}},{}],440:[function(e,s,i){typeof Object.create=="function"?s.exports=function(a,o){o&&(a.super_=o,a.prototype=Object.create(o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:s.exports=function(a,o){if(o){a.super_=o;var c=function(){};c.prototype=o.prototype,a.prototype=new c,a.prototype.constructor=a}}},{}],441:[function(e,s,i){(function(a,o,c,u,l,d,f,h){(function(){/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(p){typeof i=="object"&&s!==void 0?s.exports=p():(typeof window<"u"?window:o!==void 0?o:typeof self<"u"?self:this).JSZip=p()})(function(){return function p(g,v,m){function x(E,I){if(!v[E]){if(!g[E]){var T=typeof e=="function"&&e;if(!I&&T)return T(E,!0);if(y)return y(E,!0);var R=new Error("Cannot find module '"+E+"'");throw R.code="MODULE_NOT_FOUND",R}var D=v[E]={exports:{}};g[E][0].call(D.exports,function(L){return x(g[E][1][L]||L)},D,D.exports,p,g,v,m)}return v[E].exports}for(var y=typeof e=="function"&&e,w=0;w<m.length;w++)x(m[w]);return x}({1:[function(p,g,v){var m=p("./utils"),x=p("./support"),y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";v.encode=function(w){for(var E,I,T,R,D,L,M,H=[],V=0,P=w.length,F=P,A=m.getTypeOf(w)!=="string";V<w.length;)F=P-V,T=A?(E=w[V++],I=V<P?w[V++]:0,V<P?w[V++]:0):(E=w.charCodeAt(V++),I=V<P?w.charCodeAt(V++):0,V<P?w.charCodeAt(V++):0),R=E>>2,D=(3&E)<<4|I>>4,L=1<F?(15&I)<<2|T>>6:64,M=2<F?63&T:64,H.push(y.charAt(R)+y.charAt(D)+y.charAt(L)+y.charAt(M));return H.join("")},v.decode=function(w){var E,I,T,R,D,L,M=0,H=0,V="data:";if(w.substr(0,V.length)===V)throw new Error("Invalid base64 input, it looks like a data url.");var P,F=3*(w=w.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(w.charAt(w.length-1)===y.charAt(64)&&F--,w.charAt(w.length-2)===y.charAt(64)&&F--,F%1!=0)throw new Error("Invalid base64 input, bad content length.");for(P=x.uint8array?new Uint8Array(0|F):new Array(0|F);M<w.length;)E=y.indexOf(w.charAt(M++))<<2|(R=y.indexOf(w.charAt(M++)))>>4,I=(15&R)<<4|(D=y.indexOf(w.charAt(M++)))>>2,T=(3&D)<<6|(L=y.indexOf(w.charAt(M++))),P[H++]=E,D!==64&&(P[H++]=I),L!==64&&(P[H++]=T);return P}},{"./support":30,"./utils":32}],2:[function(p,g,v){var m=p("./external"),x=p("./stream/DataWorker"),y=p("./stream/Crc32Probe"),w=p("./stream/DataLengthProbe");function E(I,T,R,D,L){this.compressedSize=I,this.uncompressedSize=T,this.crc32=R,this.compression=D,this.compressedContent=L}E.prototype={getContentWorker:function(){var I=new x(m.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new w("data_length")),T=this;return I.on("end",function(){if(this.streamInfo.data_length!==T.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),I},getCompressedWorker:function(){return new x(m.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},E.createWorkerFrom=function(I,T,R){return I.pipe(new y).pipe(new w("uncompressedSize")).pipe(T.compressWorker(R)).pipe(new w("compressedSize")).withStreamInfo("compression",T)},g.exports=E},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(p,g,v){var m=p("./stream/GenericWorker");v.STORE={magic:"\0\0",compressWorker:function(){return new m("STORE compression")},uncompressWorker:function(){return new m("STORE decompression")}},v.DEFLATE=p("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(p,g,v){var m=p("./utils"),x=function(){for(var y,w=[],E=0;E<256;E++){y=E;for(var I=0;I<8;I++)y=1&y?3988292384^y>>>1:y>>>1;w[E]=y}return w}();g.exports=function(y,w){return y!==void 0&&y.length?m.getTypeOf(y)!=="string"?function(E,I,T,R){var D=x,L=0+T;E^=-1;for(var M=0;M<L;M++)E=E>>>8^D[255&(E^I[M])];return-1^E}(0|w,y,y.length):function(E,I,T,R){var D=x,L=0+T;E^=-1;for(var M=0;M<L;M++)E=E>>>8^D[255&(E^I.charCodeAt(M))];return-1^E}(0|w,y,y.length):0}},{"./utils":32}],5:[function(p,g,v){v.base64=!1,v.binary=!1,v.dir=!1,v.createFolders=!0,v.date=null,v.compression=null,v.compressionOptions=null,v.comment=null,v.unixPermissions=null,v.dosPermissions=null},{}],6:[function(p,g,v){var m;m=typeof Promise<"u"?Promise:p("lie"),g.exports={Promise:m}},{lie:37}],7:[function(p,g,v){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",x=p("pako"),y=p("./utils"),w=p("./stream/GenericWorker"),E=m?"uint8array":"array";function I(T,R){w.call(this,"FlateWorker/"+T),this._pako=null,this._pakoAction=T,this._pakoOptions=R,this.meta={}}v.magic="\b\0",y.inherits(I,w),I.prototype.processChunk=function(T){this.meta=T.meta,this._pako===null&&this._createPako(),this._pako.push(y.transformTo(E,T.data),!1)},I.prototype.flush=function(){w.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},I.prototype.cleanUp=function(){w.prototype.cleanUp.call(this),this._pako=null},I.prototype._createPako=function(){this._pako=new x[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var T=this;this._pako.onData=function(R){T.push({data:R,meta:T.meta})}},v.compressWorker=function(T){return new I("Deflate",T)},v.uncompressWorker=function(){return new I("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(p,g,v){function m(D,L){var M,H="";for(M=0;M<L;M++)H+=String.fromCharCode(255&D),D>>>=8;return H}function x(D,L,M,H,V,P){var F,A,_=D.file,S=D.compression,N=P!==E.utf8encode,C=y.transformTo("string",P(_.name)),W=y.transformTo("string",E.utf8encode(_.name)),j=_.comment,B=y.transformTo("string",P(j)),G=y.transformTo("string",E.utf8encode(j)),X=W.length!==_.name.length,J=G.length!==j.length,O="",ee="",U="",z=_.dir,Z=_.date,te={crc32:0,compressedSize:0,uncompressedSize:0};L&&!M||(te.crc32=D.crc32,te.compressedSize=D.compressedSize,te.uncompressedSize=D.uncompressedSize);var oe=0;L&&(oe|=8),N||!X&&!J||(oe|=2048);var ue=0,le=0;z&&(ue|=16),V==="UNIX"?(le=798,ue|=function(_e,fe){var ge=_e;return _e||(ge=fe?16893:33204),(65535&ge)<<16}(_.unixPermissions,z)):(le=20,ue|=function(_e){return 63&(_e||0)}(_.dosPermissions)),F=Z.getUTCHours(),F<<=6,F|=Z.getUTCMinutes(),F<<=5,F|=Z.getUTCSeconds()/2,A=Z.getUTCFullYear()-1980,A<<=4,A|=Z.getUTCMonth()+1,A<<=5,A|=Z.getUTCDate(),X&&(ee=m(1,1)+m(I(C),4)+W,O+="up"+m(ee.length,2)+ee),J&&(U=m(1,1)+m(I(B),4)+G,O+="uc"+m(U.length,2)+U);var ce="";return ce+=`
\0`,ce+=m(oe,2),ce+=S.magic,ce+=m(F,2),ce+=m(A,2),ce+=m(te.crc32,4),ce+=m(te.compressedSize,4),ce+=m(te.uncompressedSize,4),ce+=m(C.length,2),ce+=m(O.length,2),{fileRecord:T.LOCAL_FILE_HEADER+ce+C+O,dirRecord:T.CENTRAL_FILE_HEADER+m(le,2)+ce+m(B.length,2)+"\0\0\0\0"+m(ue,4)+m(H,4)+C+O+B}}var y=p("../utils"),w=p("../stream/GenericWorker"),E=p("../utf8"),I=p("../crc32"),T=p("../signature");function R(D,L,M,H){w.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=L,this.zipPlatform=M,this.encodeFileName=H,this.streamFiles=D,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}y.inherits(R,w),R.prototype.push=function(D){var L=D.meta.percent||0,M=this.entriesCount,H=this._sources.length;this.accumulate?this.contentBuffer.push(D):(this.bytesWritten+=D.data.length,w.prototype.push.call(this,{data:D.data,meta:{currentFile:this.currentFile,percent:M?(L+100*(M-H-1))/M:100}}))},R.prototype.openedSource=function(D){this.currentSourceOffset=this.bytesWritten,this.currentFile=D.file.name;var L=this.streamFiles&&!D.file.dir;if(L){var M=x(D,L,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:M.fileRecord,meta:{percent:0}})}else this.accumulate=!0},R.prototype.closedSource=function(D){this.accumulate=!1;var L=this.streamFiles&&!D.file.dir,M=x(D,L,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(M.dirRecord),L)this.push({data:function(H){return T.DATA_DESCRIPTOR+m(H.crc32,4)+m(H.compressedSize,4)+m(H.uncompressedSize,4)}(D),meta:{percent:100}});else for(this.push({data:M.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},R.prototype.flush=function(){for(var D=this.bytesWritten,L=0;L<this.dirRecords.length;L++)this.push({data:this.dirRecords[L],meta:{percent:100}});var M=this.bytesWritten-D,H=function(V,P,F,A,_){var S=y.transformTo("string",_(A));return T.CENTRAL_DIRECTORY_END+"\0\0\0\0"+m(V,2)+m(V,2)+m(P,4)+m(F,4)+m(S.length,2)+S}(this.dirRecords.length,M,D,this.zipComment,this.encodeFileName);this.push({data:H,meta:{percent:100}})},R.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},R.prototype.registerPrevious=function(D){this._sources.push(D);var L=this;return D.on("data",function(M){L.processChunk(M)}),D.on("end",function(){L.closedSource(L.previous.streamInfo),L._sources.length?L.prepareNextSource():L.end()}),D.on("error",function(M){L.error(M)}),this},R.prototype.resume=function(){return!!w.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},R.prototype.error=function(D){var L=this._sources;if(!w.prototype.error.call(this,D))return!1;for(var M=0;M<L.length;M++)try{L[M].error(D)}catch{}return!0},R.prototype.lock=function(){w.prototype.lock.call(this);for(var D=this._sources,L=0;L<D.length;L++)D[L].lock()},g.exports=R},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(p,g,v){var m=p("../compressions"),x=p("./ZipFileWorker");v.generateWorker=function(y,w,E){var I=new x(w.streamFiles,E,w.platform,w.encodeFileName),T=0;try{y.forEach(function(R,D){T++;var L=function(P,F){var A=P||F,_=m[A];if(!_)throw new Error(A+" is not a valid compression method !");return _}(D.options.compression,w.compression),M=D.options.compressionOptions||w.compressionOptions||{},H=D.dir,V=D.date;D._compressWorker(L,M).withStreamInfo("file",{name:R,dir:H,date:V,comment:D.comment||"",unixPermissions:D.unixPermissions,dosPermissions:D.dosPermissions}).pipe(I)}),I.entriesCount=T}catch(R){I.error(R)}return I}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(p,g,v){function m(){if(!(this instanceof m))return new m;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var x=new m;for(var y in this)typeof this[y]!="function"&&(x[y]=this[y]);return x}}(m.prototype=p("./object")).loadAsync=p("./load"),m.support=p("./support"),m.defaults=p("./defaults"),m.version="3.10.1",m.loadAsync=function(x,y){return new m().loadAsync(x,y)},m.external=p("./external"),g.exports=m},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(p,g,v){var m=p("./utils"),x=p("./external"),y=p("./utf8"),w=p("./zipEntries"),E=p("./stream/Crc32Probe"),I=p("./nodejsUtils");function T(R){return new x.Promise(function(D,L){var M=R.decompressed.getContentWorker().pipe(new E);M.on("error",function(H){L(H)}).on("end",function(){M.streamInfo.crc32!==R.decompressed.crc32?L(new Error("Corrupted zip : CRC32 mismatch")):D()}).resume()})}g.exports=function(R,D){var L=this;return D=m.extend(D||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:y.utf8decode}),I.isNode&&I.isStream(R)?x.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",R,!0,D.optimizedBinaryString,D.base64).then(function(M){var H=new w(D);return H.load(M),H}).then(function(M){var H=[x.Promise.resolve(M)],V=M.files;if(D.checkCRC32)for(var P=0;P<V.length;P++)H.push(T(V[P]));return x.Promise.all(H)}).then(function(M){for(var H=M.shift(),V=H.files,P=0;P<V.length;P++){var F=V[P],A=F.fileNameStr,_=m.resolve(F.fileNameStr);L.file(_,F.decompressed,{binary:!0,optimizedBinaryString:!0,date:F.date,dir:F.dir,comment:F.fileCommentStr.length?F.fileCommentStr:null,unixPermissions:F.unixPermissions,dosPermissions:F.dosPermissions,createFolders:D.createFolders}),F.dir||(L.file(_).unsafeOriginalName=A)}return H.zipComment.length&&(L.comment=H.zipComment),L})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(p,g,v){var m=p("../utils"),x=p("../stream/GenericWorker");function y(w,E){x.call(this,"Nodejs stream input adapter for "+w),this._upstreamEnded=!1,this._bindStream(E)}m.inherits(y,x),y.prototype._bindStream=function(w){var E=this;(this._stream=w).pause(),w.on("data",function(I){E.push({data:I,meta:{percent:0}})}).on("error",function(I){E.isPaused?this.generatedError=I:E.error(I)}).on("end",function(){E.isPaused?E._upstreamEnded=!0:E.end()})},y.prototype.pause=function(){return!!x.prototype.pause.call(this)&&(this._stream.pause(),!0)},y.prototype.resume=function(){return!!x.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},g.exports=y},{"../stream/GenericWorker":28,"../utils":32}],13:[function(p,g,v){var m=p("readable-stream").Readable;function x(y,w,E){m.call(this,w),this._helper=y;var I=this;y.on("data",function(T,R){I.push(T)||I._helper.pause(),E&&E(R)}).on("error",function(T){I.emit("error",T)}).on("end",function(){I.push(null)})}p("../utils").inherits(x,m),x.prototype._read=function(){this._helper.resume()},g.exports=x},{"../utils":32,"readable-stream":16}],14:[function(p,g,v){g.exports={isNode:c!==void 0,newBufferFrom:function(m,x){if(c.from&&c.from!==Uint8Array.from)return c.from(m,x);if(typeof m=="number")throw new Error('The "data" argument must not be a number');return new c(m,x)},allocBuffer:function(m){if(c.alloc)return c.alloc(m);var x=new c(m);return x.fill(0),x},isBuffer:function(m){return c.isBuffer(m)},isStream:function(m){return m&&typeof m.on=="function"&&typeof m.pause=="function"&&typeof m.resume=="function"}}},{}],15:[function(p,g,v){function m(_,S,N){var C,W=y.getTypeOf(S),j=y.extend(N||{},I);j.date=j.date||new Date,j.compression!==null&&(j.compression=j.compression.toUpperCase()),typeof j.unixPermissions=="string"&&(j.unixPermissions=parseInt(j.unixPermissions,8)),j.unixPermissions&&16384&j.unixPermissions&&(j.dir=!0),j.dosPermissions&&16&j.dosPermissions&&(j.dir=!0),j.dir&&(_=V(_)),j.createFolders&&(C=H(_))&&P.call(this,C,!0);var B=W==="string"&&j.binary===!1&&j.base64===!1;N&&N.binary!==void 0||(j.binary=!B),(S instanceof T&&S.uncompressedSize===0||j.dir||!S||S.length===0)&&(j.base64=!1,j.binary=!0,S="",j.compression="STORE",W="string");var G;G=S instanceof T||S instanceof w?S:L.isNode&&L.isStream(S)?new M(_,S):y.prepareContent(_,S,j.binary,j.optimizedBinaryString,j.base64);var X=new R(_,G,j);this.files[_]=X}var x=p("./utf8"),y=p("./utils"),w=p("./stream/GenericWorker"),E=p("./stream/StreamHelper"),I=p("./defaults"),T=p("./compressedObject"),R=p("./zipObject"),D=p("./generate"),L=p("./nodejsUtils"),M=p("./nodejs/NodejsStreamInputAdapter"),H=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var S=_.lastIndexOf("/");return 0<S?_.substring(0,S):""},V=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},P=function(_,S){return S=S!==void 0?S:I.createFolders,_=V(_),this.files[_]||m.call(this,_,null,{dir:!0,createFolders:S}),this.files[_]};function F(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var S,N,C;for(S in this.files)C=this.files[S],(N=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&_(N,C)},filter:function(_){var S=[];return this.forEach(function(N,C){_(N,C)&&S.push(C)}),S},file:function(_,S,N){if(arguments.length!==1)return _=this.root+_,m.call(this,_,S,N),this;if(F(_)){var C=_;return this.filter(function(j,B){return!B.dir&&C.test(j)})}var W=this.files[this.root+_];return W&&!W.dir?W:null},folder:function(_){if(!_)return this;if(F(_))return this.filter(function(W,j){return j.dir&&_.test(W)});var S=this.root+_,N=P.call(this,S),C=this.clone();return C.root=N.name,C},remove:function(_){_=this.root+_;var S=this.files[_];if(S||(_.slice(-1)!=="/"&&(_+="/"),S=this.files[_]),S&&!S.dir)delete this.files[_];else for(var N=this.filter(function(W,j){return j.name.slice(0,_.length)===_}),C=0;C<N.length;C++)delete this.files[N[C].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var S,N={};try{if((N=y.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:x.utf8encode})).type=N.type.toLowerCase(),N.compression=N.compression.toUpperCase(),N.type==="binarystring"&&(N.type="string"),!N.type)throw new Error("No output type specified.");y.checkSupport(N.type),N.platform!=="darwin"&&N.platform!=="freebsd"&&N.platform!=="linux"&&N.platform!=="sunos"||(N.platform="UNIX"),N.platform==="win32"&&(N.platform="DOS");var C=N.comment||this.comment||"";S=D.generateWorker(this,N,C)}catch(W){(S=new w("error")).error(W)}return new E(S,N.type||"string",N.mimeType)},generateAsync:function(_,S){return this.generateInternalStream(_).accumulate(S)},generateNodeStream:function(_,S){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(S)}};g.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(p,g,v){g.exports=p("stream")},{stream:void 0}],17:[function(p,g,v){var m=p("./DataReader");function x(y){m.call(this,y);for(var w=0;w<this.data.length;w++)y[w]=255&y[w]}p("../utils").inherits(x,m),x.prototype.byteAt=function(y){return this.data[this.zero+y]},x.prototype.lastIndexOfSignature=function(y){for(var w=y.charCodeAt(0),E=y.charCodeAt(1),I=y.charCodeAt(2),T=y.charCodeAt(3),R=this.length-4;0<=R;--R)if(this.data[R]===w&&this.data[R+1]===E&&this.data[R+2]===I&&this.data[R+3]===T)return R-this.zero;return-1},x.prototype.readAndCheckSignature=function(y){var w=y.charCodeAt(0),E=y.charCodeAt(1),I=y.charCodeAt(2),T=y.charCodeAt(3),R=this.readData(4);return w===R[0]&&E===R[1]&&I===R[2]&&T===R[3]},x.prototype.readData=function(y){if(this.checkOffset(y),y===0)return[];var w=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,w},g.exports=x},{"../utils":32,"./DataReader":18}],18:[function(p,g,v){var m=p("../utils");function x(y){this.data=y,this.length=y.length,this.index=0,this.zero=0}x.prototype={checkOffset:function(y){this.checkIndex(this.index+y)},checkIndex:function(y){if(this.length<this.zero+y||y<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+y+"). Corrupted zip ?")},setIndex:function(y){this.checkIndex(y),this.index=y},skip:function(y){this.setIndex(this.index+y)},byteAt:function(){},readInt:function(y){var w,E=0;for(this.checkOffset(y),w=this.index+y-1;w>=this.index;w--)E=(E<<8)+this.byteAt(w);return this.index+=y,E},readString:function(y){return m.transformTo("string",this.readData(y))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var y=this.readInt(4);return new Date(Date.UTC(1980+(y>>25&127),(y>>21&15)-1,y>>16&31,y>>11&31,y>>5&63,(31&y)<<1))}},g.exports=x},{"../utils":32}],19:[function(p,g,v){var m=p("./Uint8ArrayReader");function x(y){m.call(this,y)}p("../utils").inherits(x,m),x.prototype.readData=function(y){this.checkOffset(y);var w=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,w},g.exports=x},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(p,g,v){var m=p("./DataReader");function x(y){m.call(this,y)}p("../utils").inherits(x,m),x.prototype.byteAt=function(y){return this.data.charCodeAt(this.zero+y)},x.prototype.lastIndexOfSignature=function(y){return this.data.lastIndexOf(y)-this.zero},x.prototype.readAndCheckSignature=function(y){return y===this.readData(4)},x.prototype.readData=function(y){this.checkOffset(y);var w=this.data.slice(this.zero+this.index,this.zero+this.index+y);return this.index+=y,w},g.exports=x},{"../utils":32,"./DataReader":18}],21:[function(p,g,v){var m=p("./ArrayReader");function x(y){m.call(this,y)}p("../utils").inherits(x,m),x.prototype.readData=function(y){if(this.checkOffset(y),y===0)return new Uint8Array(0);var w=this.data.subarray(this.zero+this.index,this.zero+this.index+y);return this.index+=y,w},g.exports=x},{"../utils":32,"./ArrayReader":17}],22:[function(p,g,v){var m=p("../utils"),x=p("../support"),y=p("./ArrayReader"),w=p("./StringReader"),E=p("./NodeBufferReader"),I=p("./Uint8ArrayReader");g.exports=function(T){var R=m.getTypeOf(T);return m.checkSupport(R),R!=="string"||x.uint8array?R==="nodebuffer"?new E(T):x.uint8array?new I(m.transformTo("uint8array",T)):new y(m.transformTo("array",T)):new w(T)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(p,g,v){v.LOCAL_FILE_HEADER="PK",v.CENTRAL_FILE_HEADER="PK",v.CENTRAL_DIRECTORY_END="PK",v.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",v.ZIP64_CENTRAL_DIRECTORY_END="PK",v.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(p,g,v){var m=p("./GenericWorker"),x=p("../utils");function y(w){m.call(this,"ConvertWorker to "+w),this.destType=w}x.inherits(y,m),y.prototype.processChunk=function(w){this.push({data:x.transformTo(this.destType,w.data),meta:w.meta})},g.exports=y},{"../utils":32,"./GenericWorker":28}],25:[function(p,g,v){var m=p("./GenericWorker"),x=p("../crc32");function y(){m.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}p("../utils").inherits(y,m),y.prototype.processChunk=function(w){this.streamInfo.crc32=x(w.data,this.streamInfo.crc32||0),this.push(w)},g.exports=y},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(p,g,v){var m=p("../utils"),x=p("./GenericWorker");function y(w){x.call(this,"DataLengthProbe for "+w),this.propName=w,this.withStreamInfo(w,0)}m.inherits(y,x),y.prototype.processChunk=function(w){if(w){var E=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=E+w.data.length}x.prototype.processChunk.call(this,w)},g.exports=y},{"../utils":32,"./GenericWorker":28}],27:[function(p,g,v){var m=p("../utils"),x=p("./GenericWorker");function y(w){x.call(this,"DataWorker");var E=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,w.then(function(I){E.dataIsReady=!0,E.data=I,E.max=I&&I.length||0,E.type=m.getTypeOf(I),E.isPaused||E._tickAndRepeat()},function(I){E.error(I)})}m.inherits(y,x),y.prototype.cleanUp=function(){x.prototype.cleanUp.call(this),this.data=null},y.prototype.resume=function(){return!!x.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)},y.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},y.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var w=null,E=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":w=this.data.substring(this.index,E);break;case"uint8array":w=this.data.subarray(this.index,E);break;case"array":case"nodebuffer":w=this.data.slice(this.index,E)}return this.index=E,this.push({data:w,meta:{percent:this.max?this.index/this.max*100:0}})},g.exports=y},{"../utils":32,"./GenericWorker":28}],28:[function(p,g,v){function m(x){this.name=x||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}m.prototype={push:function(x){this.emit("data",x)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(x){this.emit("error",x)}return!0},error:function(x){return!this.isFinished&&(this.isPaused?this.generatedError=x:(this.isFinished=!0,this.emit("error",x),this.previous&&this.previous.error(x),this.cleanUp()),!0)},on:function(x,y){return this._listeners[x].push(y),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(x,y){if(this._listeners[x])for(var w=0;w<this._listeners[x].length;w++)this._listeners[x][w].call(this,y)},pipe:function(x){return x.registerPrevious(this)},registerPrevious:function(x){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=x.streamInfo,this.mergeStreamInfo(),this.previous=x;var y=this;return x.on("data",function(w){y.processChunk(w)}),x.on("end",function(){y.end()}),x.on("error",function(w){y.error(w)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var x=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),x=!0),this.previous&&this.previous.resume(),!x},flush:function(){},processChunk:function(x){this.push(x)},withStreamInfo:function(x,y){return this.extraStreamInfo[x]=y,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var x in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,x)&&(this.streamInfo[x]=this.extraStreamInfo[x])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var x="Worker "+this.name;return this.previous?this.previous+" -> "+x:x}},g.exports=m},{}],29:[function(p,g,v){var m=p("../utils"),x=p("./ConvertWorker"),y=p("./GenericWorker"),w=p("../base64"),E=p("../support"),I=p("../external"),T=null;if(E.nodestream)try{T=p("../nodejs/NodejsStreamOutputAdapter")}catch{}function R(D,L,M){var H=L;switch(L){case"blob":case"arraybuffer":H="uint8array";break;case"base64":H="string"}try{this._internalType=H,this._outputType=L,this._mimeType=M,m.checkSupport(H),this._worker=D.pipe(new x(H)),D.lock()}catch(V){this._worker=new y("error"),this._worker.error(V)}}R.prototype={accumulate:function(D){return function(L,M){return new I.Promise(function(H,V){var P=[],F=L._internalType,A=L._outputType,_=L._mimeType;L.on("data",function(S,N){P.push(S),M&&M(N)}).on("error",function(S){P=[],V(S)}).on("end",function(){try{var S=function(N,C,W){switch(N){case"blob":return m.newBlob(m.transformTo("arraybuffer",C),W);case"base64":return w.encode(C);default:return m.transformTo(N,C)}}(A,function(N,C){var W,j=0,B=null,G=0;for(W=0;W<C.length;W++)G+=C[W].length;switch(N){case"string":return C.join("");case"array":return Array.prototype.concat.apply([],C);case"uint8array":for(B=new Uint8Array(G),W=0;W<C.length;W++)B.set(C[W],j),j+=C[W].length;return B;case"nodebuffer":return c.concat(C);default:throw new Error("concat : unsupported type '"+N+"'")}}(F,P),_);H(S)}catch(N){V(N)}P=[]}).resume()})}(this,D)},on:function(D,L){var M=this;return D==="data"?this._worker.on(D,function(H){L.call(M,H.data,H.meta)}):this._worker.on(D,function(){m.delay(L,arguments,M)}),this},resume:function(){return m.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(D){if(m.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new T(this,{objectMode:this._outputType!=="nodebuffer"},D)}},g.exports=R},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(p,g,v){if(v.base64=!0,v.array=!0,v.string=!0,v.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",v.nodebuffer=c!==void 0,v.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")v.blob=!1;else{var m=new ArrayBuffer(0);try{v.blob=new Blob([m],{type:"application/zip"}).size===0}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);x.append(m),v.blob=x.getBlob("application/zip").size===0}catch{v.blob=!1}}}try{v.nodestream=!!p("readable-stream").Readable}catch{v.nodestream=!1}},{"readable-stream":16}],31:[function(p,g,v){for(var m=p("./utils"),x=p("./support"),y=p("./nodejsUtils"),w=p("./stream/GenericWorker"),E=new Array(256),I=0;I<256;I++)E[I]=252<=I?6:248<=I?5:240<=I?4:224<=I?3:192<=I?2:1;function T(){w.call(this,"utf-8 decode"),this.leftOver=null}function R(){w.call(this,"utf-8 encode")}E[254]=E[254]=1,v.utf8encode=function(D){return x.nodebuffer?y.newBufferFrom(D,"utf-8"):function(L){var M,H,V,P,F,A=L.length,_=0;for(P=0;P<A;P++)(64512&(H=L.charCodeAt(P)))==55296&&P+1<A&&(64512&(V=L.charCodeAt(P+1)))==56320&&(H=65536+(H-55296<<10)+(V-56320),P++),_+=H<128?1:H<2048?2:H<65536?3:4;for(M=x.uint8array?new Uint8Array(_):new Array(_),P=F=0;F<_;P++)(64512&(H=L.charCodeAt(P)))==55296&&P+1<A&&(64512&(V=L.charCodeAt(P+1)))==56320&&(H=65536+(H-55296<<10)+(V-56320),P++),H<128?M[F++]=H:(H<2048?M[F++]=192|H>>>6:(H<65536?M[F++]=224|H>>>12:(M[F++]=240|H>>>18,M[F++]=128|H>>>12&63),M[F++]=128|H>>>6&63),M[F++]=128|63&H);return M}(D)},v.utf8decode=function(D){return x.nodebuffer?m.transformTo("nodebuffer",D).toString("utf-8"):function(L){var M,H,V,P,F=L.length,A=new Array(2*F);for(M=H=0;M<F;)if((V=L[M++])<128)A[H++]=V;else if(4<(P=E[V]))A[H++]=65533,M+=P-1;else{for(V&=P===2?31:P===3?15:7;1<P&&M<F;)V=V<<6|63&L[M++],P--;1<P?A[H++]=65533:V<65536?A[H++]=V:(V-=65536,A[H++]=55296|V>>10&1023,A[H++]=56320|1023&V)}return A.length!==H&&(A.subarray?A=A.subarray(0,H):A.length=H),m.applyFromCharCode(A)}(D=m.transformTo(x.uint8array?"uint8array":"array",D))},m.inherits(T,w),T.prototype.processChunk=function(D){var L=m.transformTo(x.uint8array?"uint8array":"array",D.data);if(this.leftOver&&this.leftOver.length){if(x.uint8array){var M=L;(L=new Uint8Array(M.length+this.leftOver.length)).set(this.leftOver,0),L.set(M,this.leftOver.length)}else L=this.leftOver.concat(L);this.leftOver=null}var H=function(P,F){var A;for((F=F||P.length)>P.length&&(F=P.length),A=F-1;0<=A&&(192&P[A])==128;)A--;return A<0||A===0?F:A+E[P[A]]>F?A:F}(L),V=L;H!==L.length&&(x.uint8array?(V=L.subarray(0,H),this.leftOver=L.subarray(H,L.length)):(V=L.slice(0,H),this.leftOver=L.slice(H,L.length))),this.push({data:v.utf8decode(V),meta:D.meta})},T.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:v.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},v.Utf8DecodeWorker=T,m.inherits(R,w),R.prototype.processChunk=function(D){this.push({data:v.utf8encode(D.data),meta:D.meta})},v.Utf8EncodeWorker=R},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(p,g,v){var m=p("./support"),x=p("./base64"),y=p("./nodejsUtils"),w=p("./external");function E(M){return M}function I(M,H){for(var V=0;V<M.length;++V)H[V]=255&M.charCodeAt(V);return H}p("setimmediate"),v.newBlob=function(M,H){v.checkSupport("blob");try{return new Blob([M],{type:H})}catch{try{var V=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return V.append(M),V.getBlob(H)}catch{throw new Error("Bug : can't construct the Blob.")}}};var T={stringifyByChunk:function(M,H,V){var P=[],F=0,A=M.length;if(A<=V)return String.fromCharCode.apply(null,M);for(;F<A;)H==="array"||H==="nodebuffer"?P.push(String.fromCharCode.apply(null,M.slice(F,Math.min(F+V,A)))):P.push(String.fromCharCode.apply(null,M.subarray(F,Math.min(F+V,A)))),F+=V;return P.join("")},stringifyByChar:function(M){for(var H="",V=0;V<M.length;V++)H+=String.fromCharCode(M[V]);return H},applyCanBeUsed:{uint8array:function(){try{return m.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return m.nodebuffer&&String.fromCharCode.apply(null,y.allocBuffer(1)).length===1}catch{return!1}}()}};function R(M){var H=65536,V=v.getTypeOf(M),P=!0;if(V==="uint8array"?P=T.applyCanBeUsed.uint8array:V==="nodebuffer"&&(P=T.applyCanBeUsed.nodebuffer),P)for(;1<H;)try{return T.stringifyByChunk(M,V,H)}catch{H=Math.floor(H/2)}return T.stringifyByChar(M)}function D(M,H){for(var V=0;V<M.length;V++)H[V]=M[V];return H}v.applyFromCharCode=R;var L={};L.string={string:E,array:function(M){return I(M,new Array(M.length))},arraybuffer:function(M){return L.string.uint8array(M).buffer},uint8array:function(M){return I(M,new Uint8Array(M.length))},nodebuffer:function(M){return I(M,y.allocBuffer(M.length))}},L.array={string:R,array:E,arraybuffer:function(M){return new Uint8Array(M).buffer},uint8array:function(M){return new Uint8Array(M)},nodebuffer:function(M){return y.newBufferFrom(M)}},L.arraybuffer={string:function(M){return R(new Uint8Array(M))},array:function(M){return D(new Uint8Array(M),new Array(M.byteLength))},arraybuffer:E,uint8array:function(M){return new Uint8Array(M)},nodebuffer:function(M){return y.newBufferFrom(new Uint8Array(M))}},L.uint8array={string:R,array:function(M){return D(M,new Array(M.length))},arraybuffer:function(M){return M.buffer},uint8array:E,nodebuffer:function(M){return y.newBufferFrom(M)}},L.nodebuffer={string:R,array:function(M){return D(M,new Array(M.length))},arraybuffer:function(M){return L.nodebuffer.uint8array(M).buffer},uint8array:function(M){return D(M,new Uint8Array(M.length))},nodebuffer:E},v.transformTo=function(M,H){if(H=H||"",!M)return H;v.checkSupport(M);var V=v.getTypeOf(H);return L[V][M](H)},v.resolve=function(M){for(var H=M.split("/"),V=[],P=0;P<H.length;P++){var F=H[P];F==="."||F===""&&P!==0&&P!==H.length-1||(F===".."?V.pop():V.push(F))}return V.join("/")},v.getTypeOf=function(M){return typeof M=="string"?"string":Object.prototype.toString.call(M)==="[object Array]"?"array":m.nodebuffer&&y.isBuffer(M)?"nodebuffer":m.uint8array&&M instanceof Uint8Array?"uint8array":m.arraybuffer&&M instanceof ArrayBuffer?"arraybuffer":void 0},v.checkSupport=function(M){if(!m[M.toLowerCase()])throw new Error(M+" is not supported by this platform")},v.MAX_VALUE_16BITS=65535,v.MAX_VALUE_32BITS=-1,v.pretty=function(M){var H,V,P="";for(V=0;V<(M||"").length;V++)P+="\\x"+((H=M.charCodeAt(V))<16?"0":"")+H.toString(16).toUpperCase();return P},v.delay=function(M,H,V){h(function(){M.apply(V||null,H||[])})},v.inherits=function(M,H){function V(){}V.prototype=H.prototype,M.prototype=new V},v.extend=function(){var M,H,V={};for(M=0;M<arguments.length;M++)for(H in arguments[M])Object.prototype.hasOwnProperty.call(arguments[M],H)&&V[H]===void 0&&(V[H]=arguments[M][H]);return V},v.prepareContent=function(M,H,V,P,F){return w.Promise.resolve(H).then(function(A){return m.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new w.Promise(function(_,S){var N=new FileReader;N.onload=function(C){_(C.target.result)},N.onerror=function(C){S(C.target.error)},N.readAsArrayBuffer(A)}):A}).then(function(A){var _=v.getTypeOf(A);return _?(_==="arraybuffer"?A=v.transformTo("uint8array",A):_==="string"&&(F?A=x.decode(A):V&&P!==!0&&(A=function(S){return I(S,m.uint8array?new Uint8Array(S.length):new Array(S.length))}(A))),A):w.Promise.reject(new Error("Can't read the data of '"+M+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(p,g,v){var m=p("./reader/readerFor"),x=p("./utils"),y=p("./signature"),w=p("./zipEntry"),E=p("./support");function I(T){this.files=[],this.loadOptions=T}I.prototype={checkSignature:function(T){if(!this.reader.readAndCheckSignature(T)){this.reader.index-=4;var R=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+x.pretty(R)+", expected "+x.pretty(T)+")")}},isSignature:function(T,R){var D=this.reader.index;this.reader.setIndex(T);var L=this.reader.readString(4)===R;return this.reader.setIndex(D),L},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var T=this.reader.readData(this.zipCommentLength),R=E.uint8array?"uint8array":"array",D=x.transformTo(R,T);this.zipComment=this.loadOptions.decodeFileName(D)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var T,R,D,L=this.zip64EndOfCentralSize-44;0<L;)T=this.reader.readInt(2),R=this.reader.readInt(4),D=this.reader.readData(R),this.zip64ExtensibleData[T]={id:T,length:R,value:D}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var T,R;for(T=0;T<this.files.length;T++)R=this.files[T],this.reader.setIndex(R.localHeaderOffset),this.checkSignature(y.LOCAL_FILE_HEADER),R.readLocalPart(this.reader),R.handleUTF8(),R.processAttributes()},readCentralDir:function(){var T;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(y.CENTRAL_FILE_HEADER);)(T=new w({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(T);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var T=this.reader.lastIndexOfSignature(y.CENTRAL_DIRECTORY_END);if(T<0)throw this.isSignature(0,y.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(T);var R=T;if(this.checkSignature(y.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===x.MAX_VALUE_16BITS||this.diskWithCentralDirStart===x.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===x.MAX_VALUE_16BITS||this.centralDirRecords===x.MAX_VALUE_16BITS||this.centralDirSize===x.MAX_VALUE_32BITS||this.centralDirOffset===x.MAX_VALUE_32BITS){if(this.zip64=!0,(T=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(T),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,y.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(y.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var D=this.centralDirOffset+this.centralDirSize;this.zip64&&(D+=20,D+=12+this.zip64EndOfCentralSize);var L=R-D;if(0<L)this.isSignature(R,y.CENTRAL_FILE_HEADER)||(this.reader.zero=L);else if(L<0)throw new Error("Corrupted zip: missing "+Math.abs(L)+" bytes.")},prepareReader:function(T){this.reader=m(T)},load:function(T){this.prepareReader(T),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},g.exports=I},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(p,g,v){var m=p("./reader/readerFor"),x=p("./utils"),y=p("./compressedObject"),w=p("./crc32"),E=p("./utf8"),I=p("./compressions"),T=p("./support");function R(D,L){this.options=D,this.loadOptions=L}R.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(D){var L,M;if(D.skip(22),this.fileNameLength=D.readInt(2),M=D.readInt(2),this.fileName=D.readData(this.fileNameLength),D.skip(M),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((L=function(H){for(var V in I)if(Object.prototype.hasOwnProperty.call(I,V)&&I[V].magic===H)return I[V];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+x.pretty(this.compressionMethod)+" unknown (inner file : "+x.transformTo("string",this.fileName)+")");this.decompressed=new y(this.compressedSize,this.uncompressedSize,this.crc32,L,D.readData(this.compressedSize))},readCentralPart:function(D){this.versionMadeBy=D.readInt(2),D.skip(2),this.bitFlag=D.readInt(2),this.compressionMethod=D.readString(2),this.date=D.readDate(),this.crc32=D.readInt(4),this.compressedSize=D.readInt(4),this.uncompressedSize=D.readInt(4);var L=D.readInt(2);if(this.extraFieldsLength=D.readInt(2),this.fileCommentLength=D.readInt(2),this.diskNumberStart=D.readInt(2),this.internalFileAttributes=D.readInt(2),this.externalFileAttributes=D.readInt(4),this.localHeaderOffset=D.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");D.skip(L),this.readExtraFields(D),this.parseZIP64ExtraField(D),this.fileComment=D.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var D=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),D==0&&(this.dosPermissions=63&this.externalFileAttributes),D==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var D=m(this.extraFields[1].value);this.uncompressedSize===x.MAX_VALUE_32BITS&&(this.uncompressedSize=D.readInt(8)),this.compressedSize===x.MAX_VALUE_32BITS&&(this.compressedSize=D.readInt(8)),this.localHeaderOffset===x.MAX_VALUE_32BITS&&(this.localHeaderOffset=D.readInt(8)),this.diskNumberStart===x.MAX_VALUE_32BITS&&(this.diskNumberStart=D.readInt(4))}},readExtraFields:function(D){var L,M,H,V=D.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});D.index+4<V;)L=D.readInt(2),M=D.readInt(2),H=D.readData(M),this.extraFields[L]={id:L,length:M,value:H};D.setIndex(V)},handleUTF8:function(){var D=T.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=E.utf8decode(this.fileName),this.fileCommentStr=E.utf8decode(this.fileComment);else{var L=this.findExtraFieldUnicodePath();if(L!==null)this.fileNameStr=L;else{var M=x.transformTo(D,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(M)}var H=this.findExtraFieldUnicodeComment();if(H!==null)this.fileCommentStr=H;else{var V=x.transformTo(D,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(V)}}},findExtraFieldUnicodePath:function(){var D=this.extraFields[28789];if(D){var L=m(D.value);return L.readInt(1)!==1||w(this.fileName)!==L.readInt(4)?null:E.utf8decode(L.readData(D.length-5))}return null},findExtraFieldUnicodeComment:function(){var D=this.extraFields[25461];if(D){var L=m(D.value);return L.readInt(1)!==1||w(this.fileComment)!==L.readInt(4)?null:E.utf8decode(L.readData(D.length-5))}return null}},g.exports=R},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(p,g,v){function m(L,M,H){this.name=L,this.dir=H.dir,this.date=H.date,this.comment=H.comment,this.unixPermissions=H.unixPermissions,this.dosPermissions=H.dosPermissions,this._data=M,this._dataBinary=H.binary,this.options={compression:H.compression,compressionOptions:H.compressionOptions}}var x=p("./stream/StreamHelper"),y=p("./stream/DataWorker"),w=p("./utf8"),E=p("./compressedObject"),I=p("./stream/GenericWorker");m.prototype={internalStream:function(L){var M=null,H="string";try{if(!L)throw new Error("No output type specified.");var V=(H=L.toLowerCase())==="string"||H==="text";H!=="binarystring"&&H!=="text"||(H="string"),M=this._decompressWorker();var P=!this._dataBinary;P&&!V&&(M=M.pipe(new w.Utf8EncodeWorker)),!P&&V&&(M=M.pipe(new w.Utf8DecodeWorker))}catch(F){(M=new I("error")).error(F)}return new x(M,H,"")},async:function(L,M){return this.internalStream(L).accumulate(M)},nodeStream:function(L,M){return this.internalStream(L||"nodebuffer").toNodejsStream(M)},_compressWorker:function(L,M){if(this._data instanceof E&&this._data.compression.magic===L.magic)return this._data.getCompressedWorker();var H=this._decompressWorker();return this._dataBinary||(H=H.pipe(new w.Utf8EncodeWorker)),E.createWorkerFrom(H,L,M)},_decompressWorker:function(){return this._data instanceof E?this._data.getContentWorker():this._data instanceof I?this._data:new y(this._data)}};for(var T=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],R=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},D=0;D<T.length;D++)m.prototype[T[D]]=R;g.exports=m},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(p,g,v){(function(m){var x,y,w=m.MutationObserver||m.WebKitMutationObserver;if(w){var E=0,I=new w(L),T=m.document.createTextNode("");I.observe(T,{characterData:!0}),x=function(){T.data=E=++E%2}}else if(m.setImmediate||m.MessageChannel===void 0)x="document"in m&&"onreadystatechange"in m.document.createElement("script")?function(){var M=m.document.createElement("script");M.onreadystatechange=function(){L(),M.onreadystatechange=null,M.parentNode.removeChild(M),M=null},m.document.documentElement.appendChild(M)}:function(){setTimeout(L,0)};else{var R=new m.MessageChannel;R.port1.onmessage=L,x=function(){R.port2.postMessage(0)}}var D=[];function L(){var M,H;y=!0;for(var V=D.length;V;){for(H=D,D=[],M=-1;++M<V;)H[M]();V=D.length}y=!1}g.exports=function(M){D.push(M)!==1||y||x()}}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(p,g,v){var m=p("immediate");function x(){}var y={},w=["REJECTED"],E=["FULFILLED"],I=["PENDING"];function T(V){if(typeof V!="function")throw new TypeError("resolver must be a function");this.state=I,this.queue=[],this.outcome=void 0,V!==x&&M(this,V)}function R(V,P,F){this.promise=V,typeof P=="function"&&(this.onFulfilled=P,this.callFulfilled=this.otherCallFulfilled),typeof F=="function"&&(this.onRejected=F,this.callRejected=this.otherCallRejected)}function D(V,P,F){m(function(){var A;try{A=P(F)}catch(_){return y.reject(V,_)}A===V?y.reject(V,new TypeError("Cannot resolve promise with itself")):y.resolve(V,A)})}function L(V){var P=V&&V.then;if(V&&(typeof V=="object"||typeof V=="function")&&typeof P=="function")return function(){P.apply(V,arguments)}}function M(V,P){var F=!1;function A(N){F||(F=!0,y.reject(V,N))}function _(N){F||(F=!0,y.resolve(V,N))}var S=H(function(){P(_,A)});S.status==="error"&&A(S.value)}function H(V,P){var F={};try{F.value=V(P),F.status="success"}catch(A){F.status="error",F.value=A}return F}(g.exports=T).prototype.finally=function(V){if(typeof V!="function")return this;var P=this.constructor;return this.then(function(F){return P.resolve(V()).then(function(){return F})},function(F){return P.resolve(V()).then(function(){throw F})})},T.prototype.catch=function(V){return this.then(null,V)},T.prototype.then=function(V,P){if(typeof V!="function"&&this.state===E||typeof P!="function"&&this.state===w)return this;var F=new this.constructor(x);return this.state!==I?D(F,this.state===E?V:P,this.outcome):this.queue.push(new R(F,V,P)),F},R.prototype.callFulfilled=function(V){y.resolve(this.promise,V)},R.prototype.otherCallFulfilled=function(V){D(this.promise,this.onFulfilled,V)},R.prototype.callRejected=function(V){y.reject(this.promise,V)},R.prototype.otherCallRejected=function(V){D(this.promise,this.onRejected,V)},y.resolve=function(V,P){var F=H(L,P);if(F.status==="error")return y.reject(V,F.value);var A=F.value;if(A)M(V,A);else{V.state=E,V.outcome=P;for(var _=-1,S=V.queue.length;++_<S;)V.queue[_].callFulfilled(P)}return V},y.reject=function(V,P){V.state=w,V.outcome=P;for(var F=-1,A=V.queue.length;++F<A;)V.queue[F].callRejected(P);return V},T.resolve=function(V){return V instanceof this?V:y.resolve(new this(x),V)},T.reject=function(V){var P=new this(x);return y.reject(P,V)},T.all=function(V){var P=this;if(Object.prototype.toString.call(V)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=V.length,A=!1;if(!F)return this.resolve([]);for(var _=new Array(F),S=0,N=-1,C=new this(x);++N<F;)W(V[N],N);return C;function W(j,B){P.resolve(j).then(function(G){_[B]=G,++S!==F||A||(A=!0,y.resolve(C,_))},function(G){A||(A=!0,y.reject(C,G))})}},T.race=function(V){if(Object.prototype.toString.call(V)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=V.length,F=!1;if(!P)return this.resolve([]);for(var A,_=-1,S=new this(x);++_<P;)A=V[_],this.resolve(A).then(function(N){F||(F=!0,y.resolve(S,N))},function(N){F||(F=!0,y.reject(S,N))});return S}},{immediate:36}],38:[function(p,g,v){var m={};(0,p("./lib/utils/common").assign)(m,p("./lib/deflate"),p("./lib/inflate"),p("./lib/zlib/constants")),g.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(p,g,v){var m=p("./zlib/deflate"),x=p("./utils/common"),y=p("./utils/strings"),w=p("./zlib/messages"),E=p("./zlib/zstream"),I=Object.prototype.toString;function T(D){if(!(this instanceof T))return new T(D);this.options=x.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},D||{});var L=this.options;L.raw&&0<L.windowBits?L.windowBits=-L.windowBits:L.gzip&&0<L.windowBits&&L.windowBits<16&&(L.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new E,this.strm.avail_out=0;var M=m.deflateInit2(this.strm,L.level,L.method,L.windowBits,L.memLevel,L.strategy);if(M!==0)throw new Error(w[M]);if(L.header&&m.deflateSetHeader(this.strm,L.header),L.dictionary){var H;if(H=typeof L.dictionary=="string"?y.string2buf(L.dictionary):I.call(L.dictionary)==="[object ArrayBuffer]"?new Uint8Array(L.dictionary):L.dictionary,(M=m.deflateSetDictionary(this.strm,H))!==0)throw new Error(w[M]);this._dict_set=!0}}function R(D,L){var M=new T(L);if(M.push(D,!0),M.err)throw M.msg||w[M.err];return M.result}T.prototype.push=function(D,L){var M,H,V=this.strm,P=this.options.chunkSize;if(this.ended)return!1;H=L===~~L?L:L===!0?4:0,typeof D=="string"?V.input=y.string2buf(D):I.call(D)==="[object ArrayBuffer]"?V.input=new Uint8Array(D):V.input=D,V.next_in=0,V.avail_in=V.input.length;do{if(V.avail_out===0&&(V.output=new x.Buf8(P),V.next_out=0,V.avail_out=P),(M=m.deflate(V,H))!==1&&M!==0)return this.onEnd(M),!(this.ended=!0);V.avail_out!==0&&(V.avail_in!==0||H!==4&&H!==2)||(this.options.to==="string"?this.onData(y.buf2binstring(x.shrinkBuf(V.output,V.next_out))):this.onData(x.shrinkBuf(V.output,V.next_out)))}while((0<V.avail_in||V.avail_out===0)&&M!==1);return H===4?(M=m.deflateEnd(this.strm),this.onEnd(M),this.ended=!0,M===0):H!==2||(this.onEnd(0),!(V.avail_out=0))},T.prototype.onData=function(D){this.chunks.push(D)},T.prototype.onEnd=function(D){D===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=x.flattenChunks(this.chunks)),this.chunks=[],this.err=D,this.msg=this.strm.msg},v.Deflate=T,v.deflate=R,v.deflateRaw=function(D,L){return(L=L||{}).raw=!0,R(D,L)},v.gzip=function(D,L){return(L=L||{}).gzip=!0,R(D,L)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(p,g,v){var m=p("./zlib/inflate"),x=p("./utils/common"),y=p("./utils/strings"),w=p("./zlib/constants"),E=p("./zlib/messages"),I=p("./zlib/zstream"),T=p("./zlib/gzheader"),R=Object.prototype.toString;function D(M){if(!(this instanceof D))return new D(M);this.options=x.assign({chunkSize:16384,windowBits:0,to:""},M||{});var H=this.options;H.raw&&0<=H.windowBits&&H.windowBits<16&&(H.windowBits=-H.windowBits,H.windowBits===0&&(H.windowBits=-15)),!(0<=H.windowBits&&H.windowBits<16)||M&&M.windowBits||(H.windowBits+=32),15<H.windowBits&&H.windowBits<48&&!(15&H.windowBits)&&(H.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new I,this.strm.avail_out=0;var V=m.inflateInit2(this.strm,H.windowBits);if(V!==w.Z_OK)throw new Error(E[V]);this.header=new T,m.inflateGetHeader(this.strm,this.header)}function L(M,H){var V=new D(H);if(V.push(M,!0),V.err)throw V.msg||E[V.err];return V.result}D.prototype.push=function(M,H){var V,P,F,A,_,S,N=this.strm,C=this.options.chunkSize,W=this.options.dictionary,j=!1;if(this.ended)return!1;P=H===~~H?H:H===!0?w.Z_FINISH:w.Z_NO_FLUSH,typeof M=="string"?N.input=y.binstring2buf(M):R.call(M)==="[object ArrayBuffer]"?N.input=new Uint8Array(M):N.input=M,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new x.Buf8(C),N.next_out=0,N.avail_out=C),(V=m.inflate(N,w.Z_NO_FLUSH))===w.Z_NEED_DICT&&W&&(S=typeof W=="string"?y.string2buf(W):R.call(W)==="[object ArrayBuffer]"?new Uint8Array(W):W,V=m.inflateSetDictionary(this.strm,S)),V===w.Z_BUF_ERROR&&j===!0&&(V=w.Z_OK,j=!1),V!==w.Z_STREAM_END&&V!==w.Z_OK)return this.onEnd(V),!(this.ended=!0);N.next_out&&(N.avail_out!==0&&V!==w.Z_STREAM_END&&(N.avail_in!==0||P!==w.Z_FINISH&&P!==w.Z_SYNC_FLUSH)||(this.options.to==="string"?(F=y.utf8border(N.output,N.next_out),A=N.next_out-F,_=y.buf2string(N.output,F),N.next_out=A,N.avail_out=C-A,A&&x.arraySet(N.output,N.output,F,A,0),this.onData(_)):this.onData(x.shrinkBuf(N.output,N.next_out)))),N.avail_in===0&&N.avail_out===0&&(j=!0)}while((0<N.avail_in||N.avail_out===0)&&V!==w.Z_STREAM_END);return V===w.Z_STREAM_END&&(P=w.Z_FINISH),P===w.Z_FINISH?(V=m.inflateEnd(this.strm),this.onEnd(V),this.ended=!0,V===w.Z_OK):P!==w.Z_SYNC_FLUSH||(this.onEnd(w.Z_OK),!(N.avail_out=0))},D.prototype.onData=function(M){this.chunks.push(M)},D.prototype.onEnd=function(M){M===w.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=x.flattenChunks(this.chunks)),this.chunks=[],this.err=M,this.msg=this.strm.msg},v.Inflate=D,v.inflate=L,v.inflateRaw=function(M,H){return(H=H||{}).raw=!0,L(M,H)},v.ungzip=L},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(p,g,v){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";v.assign=function(w){for(var E=Array.prototype.slice.call(arguments,1);E.length;){var I=E.shift();if(I){if(typeof I!="object")throw new TypeError(I+"must be non-object");for(var T in I)I.hasOwnProperty(T)&&(w[T]=I[T])}}return w},v.shrinkBuf=function(w,E){return w.length===E?w:w.subarray?w.subarray(0,E):(w.length=E,w)};var x={arraySet:function(w,E,I,T,R){if(E.subarray&&w.subarray)w.set(E.subarray(I,I+T),R);else for(var D=0;D<T;D++)w[R+D]=E[I+D]},flattenChunks:function(w){var E,I,T,R,D,L;for(E=T=0,I=w.length;E<I;E++)T+=w[E].length;for(L=new Uint8Array(T),E=R=0,I=w.length;E<I;E++)D=w[E],L.set(D,R),R+=D.length;return L}},y={arraySet:function(w,E,I,T,R){for(var D=0;D<T;D++)w[R+D]=E[I+D]},flattenChunks:function(w){return[].concat.apply([],w)}};v.setTyped=function(w){w?(v.Buf8=Uint8Array,v.Buf16=Uint16Array,v.Buf32=Int32Array,v.assign(v,x)):(v.Buf8=Array,v.Buf16=Array,v.Buf32=Array,v.assign(v,y))},v.setTyped(m)},{}],42:[function(p,g,v){var m=p("./common"),x=!0,y=!0;try{String.fromCharCode.apply(null,[0])}catch{x=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{y=!1}for(var w=new m.Buf8(256),E=0;E<256;E++)w[E]=252<=E?6:248<=E?5:240<=E?4:224<=E?3:192<=E?2:1;function I(T,R){if(R<65537&&(T.subarray&&y||!T.subarray&&x))return String.fromCharCode.apply(null,m.shrinkBuf(T,R));for(var D="",L=0;L<R;L++)D+=String.fromCharCode(T[L]);return D}w[254]=w[254]=1,v.string2buf=function(T){var R,D,L,M,H,V=T.length,P=0;for(M=0;M<V;M++)(64512&(D=T.charCodeAt(M)))==55296&&M+1<V&&(64512&(L=T.charCodeAt(M+1)))==56320&&(D=65536+(D-55296<<10)+(L-56320),M++),P+=D<128?1:D<2048?2:D<65536?3:4;for(R=new m.Buf8(P),M=H=0;H<P;M++)(64512&(D=T.charCodeAt(M)))==55296&&M+1<V&&(64512&(L=T.charCodeAt(M+1)))==56320&&(D=65536+(D-55296<<10)+(L-56320),M++),D<128?R[H++]=D:(D<2048?R[H++]=192|D>>>6:(D<65536?R[H++]=224|D>>>12:(R[H++]=240|D>>>18,R[H++]=128|D>>>12&63),R[H++]=128|D>>>6&63),R[H++]=128|63&D);return R},v.buf2binstring=function(T){return I(T,T.length)},v.binstring2buf=function(T){for(var R=new m.Buf8(T.length),D=0,L=R.length;D<L;D++)R[D]=T.charCodeAt(D);return R},v.buf2string=function(T,R){var D,L,M,H,V=R||T.length,P=new Array(2*V);for(D=L=0;D<V;)if((M=T[D++])<128)P[L++]=M;else if(4<(H=w[M]))P[L++]=65533,D+=H-1;else{for(M&=H===2?31:H===3?15:7;1<H&&D<V;)M=M<<6|63&T[D++],H--;1<H?P[L++]=65533:M<65536?P[L++]=M:(M-=65536,P[L++]=55296|M>>10&1023,P[L++]=56320|1023&M)}return I(P,L)},v.utf8border=function(T,R){var D;for((R=R||T.length)>T.length&&(R=T.length),D=R-1;0<=D&&(192&T[D])==128;)D--;return D<0||D===0?R:D+w[T[D]]>R?D:R}},{"./common":41}],43:[function(p,g,v){g.exports=function(m,x,y,w){for(var E=65535&m|0,I=m>>>16&65535|0,T=0;y!==0;){for(y-=T=2e3<y?2e3:y;I=I+(E=E+x[w++]|0)|0,--T;);E%=65521,I%=65521}return E|I<<16|0}},{}],44:[function(p,g,v){g.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(p,g,v){var m=function(){for(var x,y=[],w=0;w<256;w++){x=w;for(var E=0;E<8;E++)x=1&x?3988292384^x>>>1:x>>>1;y[w]=x}return y}();g.exports=function(x,y,w,E){var I=m,T=E+w;x^=-1;for(var R=E;R<T;R++)x=x>>>8^I[255&(x^y[R])];return-1^x}},{}],46:[function(p,g,v){var m,x=p("../utils/common"),y=p("./trees"),w=p("./adler32"),E=p("./crc32"),I=p("./messages"),T=-2,R=258,D=262,L=113;function M(O,ee){return O.msg=I[ee],ee}function H(O){return(O<<1)-(4<O?9:0)}function V(O){for(var ee=O.length;0<=--ee;)O[ee]=0}function P(O){var ee=O.state,U=ee.pending;U>O.avail_out&&(U=O.avail_out),U!==0&&(x.arraySet(O.output,ee.pending_buf,ee.pending_out,U,O.next_out),O.next_out+=U,ee.pending_out+=U,O.total_out+=U,O.avail_out-=U,ee.pending-=U,ee.pending===0&&(ee.pending_out=0))}function F(O,ee){y._tr_flush_block(O,0<=O.block_start?O.block_start:-1,O.strstart-O.block_start,ee),O.block_start=O.strstart,P(O.strm)}function A(O,ee){O.pending_buf[O.pending++]=ee}function _(O,ee){O.pending_buf[O.pending++]=ee>>>8&255,O.pending_buf[O.pending++]=255&ee}function S(O,ee){var U,z,Z=O.max_chain_length,te=O.strstart,oe=O.prev_length,ue=O.nice_match,le=O.strstart>O.w_size-D?O.strstart-(O.w_size-D):0,ce=O.window,_e=O.w_mask,fe=O.prev,ge=O.strstart+R,xe=ce[te+oe-1],Le=ce[te+oe];O.prev_length>=O.good_match&&(Z>>=2),ue>O.lookahead&&(ue=O.lookahead);do if(ce[(U=ee)+oe]===Le&&ce[U+oe-1]===xe&&ce[U]===ce[te]&&ce[++U]===ce[te+1]){te+=2,U++;do;while(ce[++te]===ce[++U]&&ce[++te]===ce[++U]&&ce[++te]===ce[++U]&&ce[++te]===ce[++U]&&ce[++te]===ce[++U]&&ce[++te]===ce[++U]&&ce[++te]===ce[++U]&&ce[++te]===ce[++U]&&te<ge);if(z=R-(ge-te),te=ge-R,oe<z){if(O.match_start=ee,ue<=(oe=z))break;xe=ce[te+oe-1],Le=ce[te+oe]}}while((ee=fe[ee&_e])>le&&--Z!=0);return oe<=O.lookahead?oe:O.lookahead}function N(O){var ee,U,z,Z,te,oe,ue,le,ce,_e,fe=O.w_size;do{if(Z=O.window_size-O.lookahead-O.strstart,O.strstart>=fe+(fe-D)){for(x.arraySet(O.window,O.window,fe,fe,0),O.match_start-=fe,O.strstart-=fe,O.block_start-=fe,ee=U=O.hash_size;z=O.head[--ee],O.head[ee]=fe<=z?z-fe:0,--U;);for(ee=U=fe;z=O.prev[--ee],O.prev[ee]=fe<=z?z-fe:0,--U;);Z+=fe}if(O.strm.avail_in===0)break;if(oe=O.strm,ue=O.window,le=O.strstart+O.lookahead,_e=void 0,(ce=Z)<(_e=oe.avail_in)&&(_e=ce),U=_e===0?0:(oe.avail_in-=_e,x.arraySet(ue,oe.input,oe.next_in,_e,le),oe.state.wrap===1?oe.adler=w(oe.adler,ue,_e,le):oe.state.wrap===2&&(oe.adler=E(oe.adler,ue,_e,le)),oe.next_in+=_e,oe.total_in+=_e,_e),O.lookahead+=U,O.lookahead+O.insert>=3)for(te=O.strstart-O.insert,O.ins_h=O.window[te],O.ins_h=(O.ins_h<<O.hash_shift^O.window[te+1])&O.hash_mask;O.insert&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[te+3-1])&O.hash_mask,O.prev[te&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=te,te++,O.insert--,!(O.lookahead+O.insert<3)););}while(O.lookahead<D&&O.strm.avail_in!==0)}function C(O,ee){for(var U,z;;){if(O.lookahead<D){if(N(O),O.lookahead<D&&ee===0)return 1;if(O.lookahead===0)break}if(U=0,O.lookahead>=3&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+3-1])&O.hash_mask,U=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),U!==0&&O.strstart-U<=O.w_size-D&&(O.match_length=S(O,U)),O.match_length>=3)if(z=y._tr_tally(O,O.strstart-O.match_start,O.match_length-3),O.lookahead-=O.match_length,O.match_length<=O.max_lazy_match&&O.lookahead>=3){for(O.match_length--;O.strstart++,O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+3-1])&O.hash_mask,U=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart,--O.match_length!=0;);O.strstart++}else O.strstart+=O.match_length,O.match_length=0,O.ins_h=O.window[O.strstart],O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+1])&O.hash_mask;else z=y._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++;if(z&&(F(O,!1),O.strm.avail_out===0))return 1}return O.insert=O.strstart<2?O.strstart:2,ee===4?(F(O,!0),O.strm.avail_out===0?3:4):O.last_lit&&(F(O,!1),O.strm.avail_out===0)?1:2}function W(O,ee){for(var U,z,Z;;){if(O.lookahead<D){if(N(O),O.lookahead<D&&ee===0)return 1;if(O.lookahead===0)break}if(U=0,O.lookahead>=3&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+3-1])&O.hash_mask,U=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),O.prev_length=O.match_length,O.prev_match=O.match_start,O.match_length=2,U!==0&&O.prev_length<O.max_lazy_match&&O.strstart-U<=O.w_size-D&&(O.match_length=S(O,U),O.match_length<=5&&(O.strategy===1||O.match_length===3&&4096<O.strstart-O.match_start)&&(O.match_length=2)),O.prev_length>=3&&O.match_length<=O.prev_length){for(Z=O.strstart+O.lookahead-3,z=y._tr_tally(O,O.strstart-1-O.prev_match,O.prev_length-3),O.lookahead-=O.prev_length-1,O.prev_length-=2;++O.strstart<=Z&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+3-1])&O.hash_mask,U=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),--O.prev_length!=0;);if(O.match_available=0,O.match_length=2,O.strstart++,z&&(F(O,!1),O.strm.avail_out===0))return 1}else if(O.match_available){if((z=y._tr_tally(O,0,O.window[O.strstart-1]))&&F(O,!1),O.strstart++,O.lookahead--,O.strm.avail_out===0)return 1}else O.match_available=1,O.strstart++,O.lookahead--}return O.match_available&&(z=y._tr_tally(O,0,O.window[O.strstart-1]),O.match_available=0),O.insert=O.strstart<2?O.strstart:2,ee===4?(F(O,!0),O.strm.avail_out===0?3:4):O.last_lit&&(F(O,!1),O.strm.avail_out===0)?1:2}function j(O,ee,U,z,Z){this.good_length=O,this.max_lazy=ee,this.nice_length=U,this.max_chain=z,this.func=Z}function B(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new x.Buf16(1146),this.dyn_dtree=new x.Buf16(122),this.bl_tree=new x.Buf16(78),V(this.dyn_ltree),V(this.dyn_dtree),V(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new x.Buf16(16),this.heap=new x.Buf16(573),V(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new x.Buf16(573),V(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(O){var ee;return O&&O.state?(O.total_in=O.total_out=0,O.data_type=2,(ee=O.state).pending=0,ee.pending_out=0,ee.wrap<0&&(ee.wrap=-ee.wrap),ee.status=ee.wrap?42:L,O.adler=ee.wrap===2?0:1,ee.last_flush=0,y._tr_init(ee),0):M(O,T)}function X(O){var ee=G(O);return ee===0&&function(U){U.window_size=2*U.w_size,V(U.head),U.max_lazy_match=m[U.level].max_lazy,U.good_match=m[U.level].good_length,U.nice_match=m[U.level].nice_length,U.max_chain_length=m[U.level].max_chain,U.strstart=0,U.block_start=0,U.lookahead=0,U.insert=0,U.match_length=U.prev_length=2,U.match_available=0,U.ins_h=0}(O.state),ee}function J(O,ee,U,z,Z,te){if(!O)return T;var oe=1;if(ee===-1&&(ee=6),z<0?(oe=0,z=-z):15<z&&(oe=2,z-=16),Z<1||9<Z||U!==8||z<8||15<z||ee<0||9<ee||te<0||4<te)return M(O,T);z===8&&(z=9);var ue=new B;return(O.state=ue).strm=O,ue.wrap=oe,ue.gzhead=null,ue.w_bits=z,ue.w_size=1<<ue.w_bits,ue.w_mask=ue.w_size-1,ue.hash_bits=Z+7,ue.hash_size=1<<ue.hash_bits,ue.hash_mask=ue.hash_size-1,ue.hash_shift=~~((ue.hash_bits+3-1)/3),ue.window=new x.Buf8(2*ue.w_size),ue.head=new x.Buf16(ue.hash_size),ue.prev=new x.Buf16(ue.w_size),ue.lit_bufsize=1<<Z+6,ue.pending_buf_size=4*ue.lit_bufsize,ue.pending_buf=new x.Buf8(ue.pending_buf_size),ue.d_buf=1*ue.lit_bufsize,ue.l_buf=3*ue.lit_bufsize,ue.level=ee,ue.strategy=te,ue.method=U,X(O)}m=[new j(0,0,0,0,function(O,ee){var U=65535;for(U>O.pending_buf_size-5&&(U=O.pending_buf_size-5);;){if(O.lookahead<=1){if(N(O),O.lookahead===0&&ee===0)return 1;if(O.lookahead===0)break}O.strstart+=O.lookahead,O.lookahead=0;var z=O.block_start+U;if((O.strstart===0||O.strstart>=z)&&(O.lookahead=O.strstart-z,O.strstart=z,F(O,!1),O.strm.avail_out===0)||O.strstart-O.block_start>=O.w_size-D&&(F(O,!1),O.strm.avail_out===0))return 1}return O.insert=0,ee===4?(F(O,!0),O.strm.avail_out===0?3:4):(O.strstart>O.block_start&&(F(O,!1),O.strm.avail_out),1)}),new j(4,4,8,4,C),new j(4,5,16,8,C),new j(4,6,32,32,C),new j(4,4,16,16,W),new j(8,16,32,32,W),new j(8,16,128,128,W),new j(8,32,128,256,W),new j(32,128,258,1024,W),new j(32,258,258,4096,W)],v.deflateInit=function(O,ee){return J(O,ee,8,15,8,0)},v.deflateInit2=J,v.deflateReset=X,v.deflateResetKeep=G,v.deflateSetHeader=function(O,ee){return O&&O.state?O.state.wrap!==2?T:(O.state.gzhead=ee,0):T},v.deflate=function(O,ee){var U,z,Z,te;if(!O||!O.state||5<ee||ee<0)return O?M(O,T):T;if(z=O.state,!O.output||!O.input&&O.avail_in!==0||z.status===666&&ee!==4)return M(O,O.avail_out===0?-5:T);if(z.strm=O,U=z.last_flush,z.last_flush=ee,z.status===42)if(z.wrap===2)O.adler=0,A(z,31),A(z,139),A(z,8),z.gzhead?(A(z,(z.gzhead.text?1:0)+(z.gzhead.hcrc?2:0)+(z.gzhead.extra?4:0)+(z.gzhead.name?8:0)+(z.gzhead.comment?16:0)),A(z,255&z.gzhead.time),A(z,z.gzhead.time>>8&255),A(z,z.gzhead.time>>16&255),A(z,z.gzhead.time>>24&255),A(z,z.level===9?2:2<=z.strategy||z.level<2?4:0),A(z,255&z.gzhead.os),z.gzhead.extra&&z.gzhead.extra.length&&(A(z,255&z.gzhead.extra.length),A(z,z.gzhead.extra.length>>8&255)),z.gzhead.hcrc&&(O.adler=E(O.adler,z.pending_buf,z.pending,0)),z.gzindex=0,z.status=69):(A(z,0),A(z,0),A(z,0),A(z,0),A(z,0),A(z,z.level===9?2:2<=z.strategy||z.level<2?4:0),A(z,3),z.status=L);else{var oe=8+(z.w_bits-8<<4)<<8;oe|=(2<=z.strategy||z.level<2?0:z.level<6?1:z.level===6?2:3)<<6,z.strstart!==0&&(oe|=32),oe+=31-oe%31,z.status=L,_(z,oe),z.strstart!==0&&(_(z,O.adler>>>16),_(z,65535&O.adler)),O.adler=1}if(z.status===69)if(z.gzhead.extra){for(Z=z.pending;z.gzindex<(65535&z.gzhead.extra.length)&&(z.pending!==z.pending_buf_size||(z.gzhead.hcrc&&z.pending>Z&&(O.adler=E(O.adler,z.pending_buf,z.pending-Z,Z)),P(O),Z=z.pending,z.pending!==z.pending_buf_size));)A(z,255&z.gzhead.extra[z.gzindex]),z.gzindex++;z.gzhead.hcrc&&z.pending>Z&&(O.adler=E(O.adler,z.pending_buf,z.pending-Z,Z)),z.gzindex===z.gzhead.extra.length&&(z.gzindex=0,z.status=73)}else z.status=73;if(z.status===73)if(z.gzhead.name){Z=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>Z&&(O.adler=E(O.adler,z.pending_buf,z.pending-Z,Z)),P(O),Z=z.pending,z.pending===z.pending_buf_size)){te=1;break}te=z.gzindex<z.gzhead.name.length?255&z.gzhead.name.charCodeAt(z.gzindex++):0,A(z,te)}while(te!==0);z.gzhead.hcrc&&z.pending>Z&&(O.adler=E(O.adler,z.pending_buf,z.pending-Z,Z)),te===0&&(z.gzindex=0,z.status=91)}else z.status=91;if(z.status===91)if(z.gzhead.comment){Z=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>Z&&(O.adler=E(O.adler,z.pending_buf,z.pending-Z,Z)),P(O),Z=z.pending,z.pending===z.pending_buf_size)){te=1;break}te=z.gzindex<z.gzhead.comment.length?255&z.gzhead.comment.charCodeAt(z.gzindex++):0,A(z,te)}while(te!==0);z.gzhead.hcrc&&z.pending>Z&&(O.adler=E(O.adler,z.pending_buf,z.pending-Z,Z)),te===0&&(z.status=103)}else z.status=103;if(z.status===103&&(z.gzhead.hcrc?(z.pending+2>z.pending_buf_size&&P(O),z.pending+2<=z.pending_buf_size&&(A(z,255&O.adler),A(z,O.adler>>8&255),O.adler=0,z.status=L)):z.status=L),z.pending!==0){if(P(O),O.avail_out===0)return z.last_flush=-1,0}else if(O.avail_in===0&&H(ee)<=H(U)&&ee!==4)return M(O,-5);if(z.status===666&&O.avail_in!==0)return M(O,-5);if(O.avail_in!==0||z.lookahead!==0||ee!==0&&z.status!==666){var ue=z.strategy===2?function(le,ce){for(var _e;;){if(le.lookahead===0&&(N(le),le.lookahead===0)){if(ce===0)return 1;break}if(le.match_length=0,_e=y._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++,_e&&(F(le,!1),le.strm.avail_out===0))return 1}return le.insert=0,ce===4?(F(le,!0),le.strm.avail_out===0?3:4):le.last_lit&&(F(le,!1),le.strm.avail_out===0)?1:2}(z,ee):z.strategy===3?function(le,ce){for(var _e,fe,ge,xe,Le=le.window;;){if(le.lookahead<=R){if(N(le),le.lookahead<=R&&ce===0)return 1;if(le.lookahead===0)break}if(le.match_length=0,le.lookahead>=3&&0<le.strstart&&(fe=Le[ge=le.strstart-1])===Le[++ge]&&fe===Le[++ge]&&fe===Le[++ge]){xe=le.strstart+R;do;while(fe===Le[++ge]&&fe===Le[++ge]&&fe===Le[++ge]&&fe===Le[++ge]&&fe===Le[++ge]&&fe===Le[++ge]&&fe===Le[++ge]&&fe===Le[++ge]&&ge<xe);le.match_length=R-(xe-ge),le.match_length>le.lookahead&&(le.match_length=le.lookahead)}if(le.match_length>=3?(_e=y._tr_tally(le,1,le.match_length-3),le.lookahead-=le.match_length,le.strstart+=le.match_length,le.match_length=0):(_e=y._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++),_e&&(F(le,!1),le.strm.avail_out===0))return 1}return le.insert=0,ce===4?(F(le,!0),le.strm.avail_out===0?3:4):le.last_lit&&(F(le,!1),le.strm.avail_out===0)?1:2}(z,ee):m[z.level].func(z,ee);if(ue!==3&&ue!==4||(z.status=666),ue===1||ue===3)return O.avail_out===0&&(z.last_flush=-1),0;if(ue===2&&(ee===1?y._tr_align(z):ee!==5&&(y._tr_stored_block(z,0,0,!1),ee===3&&(V(z.head),z.lookahead===0&&(z.strstart=0,z.block_start=0,z.insert=0))),P(O),O.avail_out===0))return z.last_flush=-1,0}return ee!==4?0:z.wrap<=0?1:(z.wrap===2?(A(z,255&O.adler),A(z,O.adler>>8&255),A(z,O.adler>>16&255),A(z,O.adler>>24&255),A(z,255&O.total_in),A(z,O.total_in>>8&255),A(z,O.total_in>>16&255),A(z,O.total_in>>24&255)):(_(z,O.adler>>>16),_(z,65535&O.adler)),P(O),0<z.wrap&&(z.wrap=-z.wrap),z.pending!==0?0:1)},v.deflateEnd=function(O){var ee;return O&&O.state?(ee=O.state.status)!==42&&ee!==69&&ee!==73&&ee!==91&&ee!==103&&ee!==L&&ee!==666?M(O,T):(O.state=null,ee===L?M(O,-3):0):T},v.deflateSetDictionary=function(O,ee){var U,z,Z,te,oe,ue,le,ce,_e=ee.length;if(!O||!O.state||(te=(U=O.state).wrap)===2||te===1&&U.status!==42||U.lookahead)return T;for(te===1&&(O.adler=w(O.adler,ee,_e,0)),U.wrap=0,_e>=U.w_size&&(te===0&&(V(U.head),U.strstart=0,U.block_start=0,U.insert=0),ce=new x.Buf8(U.w_size),x.arraySet(ce,ee,_e-U.w_size,U.w_size,0),ee=ce,_e=U.w_size),oe=O.avail_in,ue=O.next_in,le=O.input,O.avail_in=_e,O.next_in=0,O.input=ee,N(U);U.lookahead>=3;){for(z=U.strstart,Z=U.lookahead-2;U.ins_h=(U.ins_h<<U.hash_shift^U.window[z+3-1])&U.hash_mask,U.prev[z&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=z,z++,--Z;);U.strstart=z,U.lookahead=2,N(U)}return U.strstart+=U.lookahead,U.block_start=U.strstart,U.insert=U.lookahead,U.lookahead=0,U.match_length=U.prev_length=2,U.match_available=0,O.next_in=ue,O.input=le,O.avail_in=oe,U.wrap=te,0},v.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(p,g,v){g.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(p,g,v){g.exports=function(m,x){var y,w,E,I,T,R,D,L,M,H,V,P,F,A,_,S,N,C,W,j,B,G,X,J,O;y=m.state,w=m.next_in,J=m.input,E=w+(m.avail_in-5),I=m.next_out,O=m.output,T=I-(x-m.avail_out),R=I+(m.avail_out-257),D=y.dmax,L=y.wsize,M=y.whave,H=y.wnext,V=y.window,P=y.hold,F=y.bits,A=y.lencode,_=y.distcode,S=(1<<y.lenbits)-1,N=(1<<y.distbits)-1;e:do{F<15&&(P+=J[w++]<<F,F+=8,P+=J[w++]<<F,F+=8),C=A[P&S];t:for(;;){if(P>>>=W=C>>>24,F-=W,(W=C>>>16&255)==0)O[I++]=65535&C;else{if(!(16&W)){if(!(64&W)){C=A[(65535&C)+(P&(1<<W)-1)];continue t}if(32&W){y.mode=12;break e}m.msg="invalid literal/length code",y.mode=30;break e}j=65535&C,(W&=15)&&(F<W&&(P+=J[w++]<<F,F+=8),j+=P&(1<<W)-1,P>>>=W,F-=W),F<15&&(P+=J[w++]<<F,F+=8,P+=J[w++]<<F,F+=8),C=_[P&N];r:for(;;){if(P>>>=W=C>>>24,F-=W,!(16&(W=C>>>16&255))){if(!(64&W)){C=_[(65535&C)+(P&(1<<W)-1)];continue r}m.msg="invalid distance code",y.mode=30;break e}if(B=65535&C,F<(W&=15)&&(P+=J[w++]<<F,(F+=8)<W&&(P+=J[w++]<<F,F+=8)),D<(B+=P&(1<<W)-1)){m.msg="invalid distance too far back",y.mode=30;break e}if(P>>>=W,F-=W,(W=I-T)<B){if(M<(W=B-W)&&y.sane){m.msg="invalid distance too far back",y.mode=30;break e}if(X=V,(G=0)===H){if(G+=L-W,W<j){for(j-=W;O[I++]=V[G++],--W;);G=I-B,X=O}}else if(H<W){if(G+=L+H-W,(W-=H)<j){for(j-=W;O[I++]=V[G++],--W;);if(G=0,H<j){for(j-=W=H;O[I++]=V[G++],--W;);G=I-B,X=O}}}else if(G+=H-W,W<j){for(j-=W;O[I++]=V[G++],--W;);G=I-B,X=O}for(;2<j;)O[I++]=X[G++],O[I++]=X[G++],O[I++]=X[G++],j-=3;j&&(O[I++]=X[G++],1<j&&(O[I++]=X[G++]))}else{for(G=I-B;O[I++]=O[G++],O[I++]=O[G++],O[I++]=O[G++],2<(j-=3););j&&(O[I++]=O[G++],1<j&&(O[I++]=O[G++]))}break}}break}}while(w<E&&I<R);w-=j=F>>3,P&=(1<<(F-=j<<3))-1,m.next_in=w,m.next_out=I,m.avail_in=w<E?E-w+5:5-(w-E),m.avail_out=I<R?R-I+257:257-(I-R),y.hold=P,y.bits=F}},{}],49:[function(p,g,v){var m=p("../utils/common"),x=p("./adler32"),y=p("./crc32"),w=p("./inffast"),E=p("./inftrees"),I=-2;function T(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function R(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function D(S){var N;return S&&S.state?(N=S.state,S.total_in=S.total_out=N.total=0,S.msg="",N.wrap&&(S.adler=1&N.wrap),N.mode=1,N.last=0,N.havedict=0,N.dmax=32768,N.head=null,N.hold=0,N.bits=0,N.lencode=N.lendyn=new m.Buf32(852),N.distcode=N.distdyn=new m.Buf32(592),N.sane=1,N.back=-1,0):I}function L(S){var N;return S&&S.state?((N=S.state).wsize=0,N.whave=0,N.wnext=0,D(S)):I}function M(S,N){var C,W;return S&&S.state?(W=S.state,N<0?(C=0,N=-N):(C=1+(N>>4),N<48&&(N&=15)),N&&(N<8||15<N)?I:(W.window!==null&&W.wbits!==N&&(W.window=null),W.wrap=C,W.wbits=N,L(S))):I}function H(S,N){var C,W;return S?(W=new R,(S.state=W).window=null,(C=M(S,N))!==0&&(S.state=null),C):I}var V,P,F=!0;function A(S){if(F){var N;for(V=new m.Buf32(512),P=new m.Buf32(32),N=0;N<144;)S.lens[N++]=8;for(;N<256;)S.lens[N++]=9;for(;N<280;)S.lens[N++]=7;for(;N<288;)S.lens[N++]=8;for(E(1,S.lens,0,288,V,0,S.work,{bits:9}),N=0;N<32;)S.lens[N++]=5;E(2,S.lens,0,32,P,0,S.work,{bits:5}),F=!1}S.lencode=V,S.lenbits=9,S.distcode=P,S.distbits=5}function _(S,N,C,W){var j,B=S.state;return B.window===null&&(B.wsize=1<<B.wbits,B.wnext=0,B.whave=0,B.window=new m.Buf8(B.wsize)),W>=B.wsize?(m.arraySet(B.window,N,C-B.wsize,B.wsize,0),B.wnext=0,B.whave=B.wsize):(W<(j=B.wsize-B.wnext)&&(j=W),m.arraySet(B.window,N,C-W,j,B.wnext),(W-=j)?(m.arraySet(B.window,N,C-W,W,0),B.wnext=W,B.whave=B.wsize):(B.wnext+=j,B.wnext===B.wsize&&(B.wnext=0),B.whave<B.wsize&&(B.whave+=j))),0}v.inflateReset=L,v.inflateReset2=M,v.inflateResetKeep=D,v.inflateInit=function(S){return H(S,15)},v.inflateInit2=H,v.inflate=function(S,N){var C,W,j,B,G,X,J,O,ee,U,z,Z,te,oe,ue,le,ce,_e,fe,ge,xe,Le,Me,Oe,ze=0,Ke=new m.Buf8(4),ot=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return I;(C=S.state).mode===12&&(C.mode=13),G=S.next_out,j=S.output,J=S.avail_out,B=S.next_in,W=S.input,X=S.avail_in,O=C.hold,ee=C.bits,U=X,z=J,Le=0;e:for(;;)switch(C.mode){case 1:if(C.wrap===0){C.mode=13;break}for(;ee<16;){if(X===0)break e;X--,O+=W[B++]<<ee,ee+=8}if(2&C.wrap&&O===35615){Ke[C.check=0]=255&O,Ke[1]=O>>>8&255,C.check=y(C.check,Ke,2,0),ee=O=0,C.mode=2;break}if(C.flags=0,C.head&&(C.head.done=!1),!(1&C.wrap)||(((255&O)<<8)+(O>>8))%31){S.msg="incorrect header check",C.mode=30;break}if((15&O)!=8){S.msg="unknown compression method",C.mode=30;break}if(ee-=4,xe=8+(15&(O>>>=4)),C.wbits===0)C.wbits=xe;else if(xe>C.wbits){S.msg="invalid window size",C.mode=30;break}C.dmax=1<<xe,S.adler=C.check=1,C.mode=512&O?10:12,ee=O=0;break;case 2:for(;ee<16;){if(X===0)break e;X--,O+=W[B++]<<ee,ee+=8}if(C.flags=O,(255&C.flags)!=8){S.msg="unknown compression method",C.mode=30;break}if(57344&C.flags){S.msg="unknown header flags set",C.mode=30;break}C.head&&(C.head.text=O>>8&1),512&C.flags&&(Ke[0]=255&O,Ke[1]=O>>>8&255,C.check=y(C.check,Ke,2,0)),ee=O=0,C.mode=3;case 3:for(;ee<32;){if(X===0)break e;X--,O+=W[B++]<<ee,ee+=8}C.head&&(C.head.time=O),512&C.flags&&(Ke[0]=255&O,Ke[1]=O>>>8&255,Ke[2]=O>>>16&255,Ke[3]=O>>>24&255,C.check=y(C.check,Ke,4,0)),ee=O=0,C.mode=4;case 4:for(;ee<16;){if(X===0)break e;X--,O+=W[B++]<<ee,ee+=8}C.head&&(C.head.xflags=255&O,C.head.os=O>>8),512&C.flags&&(Ke[0]=255&O,Ke[1]=O>>>8&255,C.check=y(C.check,Ke,2,0)),ee=O=0,C.mode=5;case 5:if(1024&C.flags){for(;ee<16;){if(X===0)break e;X--,O+=W[B++]<<ee,ee+=8}C.length=O,C.head&&(C.head.extra_len=O),512&C.flags&&(Ke[0]=255&O,Ke[1]=O>>>8&255,C.check=y(C.check,Ke,2,0)),ee=O=0}else C.head&&(C.head.extra=null);C.mode=6;case 6:if(1024&C.flags&&(X<(Z=C.length)&&(Z=X),Z&&(C.head&&(xe=C.head.extra_len-C.length,C.head.extra||(C.head.extra=new Array(C.head.extra_len)),m.arraySet(C.head.extra,W,B,Z,xe)),512&C.flags&&(C.check=y(C.check,W,Z,B)),X-=Z,B+=Z,C.length-=Z),C.length))break e;C.length=0,C.mode=7;case 7:if(2048&C.flags){if(X===0)break e;for(Z=0;xe=W[B+Z++],C.head&&xe&&C.length<65536&&(C.head.name+=String.fromCharCode(xe)),xe&&Z<X;);if(512&C.flags&&(C.check=y(C.check,W,Z,B)),X-=Z,B+=Z,xe)break e}else C.head&&(C.head.name=null);C.length=0,C.mode=8;case 8:if(4096&C.flags){if(X===0)break e;for(Z=0;xe=W[B+Z++],C.head&&xe&&C.length<65536&&(C.head.comment+=String.fromCharCode(xe)),xe&&Z<X;);if(512&C.flags&&(C.check=y(C.check,W,Z,B)),X-=Z,B+=Z,xe)break e}else C.head&&(C.head.comment=null);C.mode=9;case 9:if(512&C.flags){for(;ee<16;){if(X===0)break e;X--,O+=W[B++]<<ee,ee+=8}if(O!==(65535&C.check)){S.msg="header crc mismatch",C.mode=30;break}ee=O=0}C.head&&(C.head.hcrc=C.flags>>9&1,C.head.done=!0),S.adler=C.check=0,C.mode=12;break;case 10:for(;ee<32;){if(X===0)break e;X--,O+=W[B++]<<ee,ee+=8}S.adler=C.check=T(O),ee=O=0,C.mode=11;case 11:if(C.havedict===0)return S.next_out=G,S.avail_out=J,S.next_in=B,S.avail_in=X,C.hold=O,C.bits=ee,2;S.adler=C.check=1,C.mode=12;case 12:if(N===5||N===6)break e;case 13:if(C.last){O>>>=7&ee,ee-=7&ee,C.mode=27;break}for(;ee<3;){if(X===0)break e;X--,O+=W[B++]<<ee,ee+=8}switch(C.last=1&O,ee-=1,3&(O>>>=1)){case 0:C.mode=14;break;case 1:if(A(C),C.mode=20,N!==6)break;O>>>=2,ee-=2;break e;case 2:C.mode=17;break;case 3:S.msg="invalid block type",C.mode=30}O>>>=2,ee-=2;break;case 14:for(O>>>=7&ee,ee-=7&ee;ee<32;){if(X===0)break e;X--,O+=W[B++]<<ee,ee+=8}if((65535&O)!=(O>>>16^65535)){S.msg="invalid stored block lengths",C.mode=30;break}if(C.length=65535&O,ee=O=0,C.mode=15,N===6)break e;case 15:C.mode=16;case 16:if(Z=C.length){if(X<Z&&(Z=X),J<Z&&(Z=J),Z===0)break e;m.arraySet(j,W,B,Z,G),X-=Z,B+=Z,J-=Z,G+=Z,C.length-=Z;break}C.mode=12;break;case 17:for(;ee<14;){if(X===0)break e;X--,O+=W[B++]<<ee,ee+=8}if(C.nlen=257+(31&O),O>>>=5,ee-=5,C.ndist=1+(31&O),O>>>=5,ee-=5,C.ncode=4+(15&O),O>>>=4,ee-=4,286<C.nlen||30<C.ndist){S.msg="too many length or distance symbols",C.mode=30;break}C.have=0,C.mode=18;case 18:for(;C.have<C.ncode;){for(;ee<3;){if(X===0)break e;X--,O+=W[B++]<<ee,ee+=8}C.lens[ot[C.have++]]=7&O,O>>>=3,ee-=3}for(;C.have<19;)C.lens[ot[C.have++]]=0;if(C.lencode=C.lendyn,C.lenbits=7,Me={bits:C.lenbits},Le=E(0,C.lens,0,19,C.lencode,0,C.work,Me),C.lenbits=Me.bits,Le){S.msg="invalid code lengths set",C.mode=30;break}C.have=0,C.mode=19;case 19:for(;C.have<C.nlen+C.ndist;){for(;le=(ze=C.lencode[O&(1<<C.lenbits)-1])>>>16&255,ce=65535&ze,!((ue=ze>>>24)<=ee);){if(X===0)break e;X--,O+=W[B++]<<ee,ee+=8}if(ce<16)O>>>=ue,ee-=ue,C.lens[C.have++]=ce;else{if(ce===16){for(Oe=ue+2;ee<Oe;){if(X===0)break e;X--,O+=W[B++]<<ee,ee+=8}if(O>>>=ue,ee-=ue,C.have===0){S.msg="invalid bit length repeat",C.mode=30;break}xe=C.lens[C.have-1],Z=3+(3&O),O>>>=2,ee-=2}else if(ce===17){for(Oe=ue+3;ee<Oe;){if(X===0)break e;X--,O+=W[B++]<<ee,ee+=8}ee-=ue,xe=0,Z=3+(7&(O>>>=ue)),O>>>=3,ee-=3}else{for(Oe=ue+7;ee<Oe;){if(X===0)break e;X--,O+=W[B++]<<ee,ee+=8}ee-=ue,xe=0,Z=11+(127&(O>>>=ue)),O>>>=7,ee-=7}if(C.have+Z>C.nlen+C.ndist){S.msg="invalid bit length repeat",C.mode=30;break}for(;Z--;)C.lens[C.have++]=xe}}if(C.mode===30)break;if(C.lens[256]===0){S.msg="invalid code -- missing end-of-block",C.mode=30;break}if(C.lenbits=9,Me={bits:C.lenbits},Le=E(1,C.lens,0,C.nlen,C.lencode,0,C.work,Me),C.lenbits=Me.bits,Le){S.msg="invalid literal/lengths set",C.mode=30;break}if(C.distbits=6,C.distcode=C.distdyn,Me={bits:C.distbits},Le=E(2,C.lens,C.nlen,C.ndist,C.distcode,0,C.work,Me),C.distbits=Me.bits,Le){S.msg="invalid distances set",C.mode=30;break}if(C.mode=20,N===6)break e;case 20:C.mode=21;case 21:if(6<=X&&258<=J){S.next_out=G,S.avail_out=J,S.next_in=B,S.avail_in=X,C.hold=O,C.bits=ee,w(S,z),G=S.next_out,j=S.output,J=S.avail_out,B=S.next_in,W=S.input,X=S.avail_in,O=C.hold,ee=C.bits,C.mode===12&&(C.back=-1);break}for(C.back=0;le=(ze=C.lencode[O&(1<<C.lenbits)-1])>>>16&255,ce=65535&ze,!((ue=ze>>>24)<=ee);){if(X===0)break e;X--,O+=W[B++]<<ee,ee+=8}if(le&&!(240&le)){for(_e=ue,fe=le,ge=ce;le=(ze=C.lencode[ge+((O&(1<<_e+fe)-1)>>_e)])>>>16&255,ce=65535&ze,!(_e+(ue=ze>>>24)<=ee);){if(X===0)break e;X--,O+=W[B++]<<ee,ee+=8}O>>>=_e,ee-=_e,C.back+=_e}if(O>>>=ue,ee-=ue,C.back+=ue,C.length=ce,le===0){C.mode=26;break}if(32&le){C.back=-1,C.mode=12;break}if(64&le){S.msg="invalid literal/length code",C.mode=30;break}C.extra=15&le,C.mode=22;case 22:if(C.extra){for(Oe=C.extra;ee<Oe;){if(X===0)break e;X--,O+=W[B++]<<ee,ee+=8}C.length+=O&(1<<C.extra)-1,O>>>=C.extra,ee-=C.extra,C.back+=C.extra}C.was=C.length,C.mode=23;case 23:for(;le=(ze=C.distcode[O&(1<<C.distbits)-1])>>>16&255,ce=65535&ze,!((ue=ze>>>24)<=ee);){if(X===0)break e;X--,O+=W[B++]<<ee,ee+=8}if(!(240&le)){for(_e=ue,fe=le,ge=ce;le=(ze=C.distcode[ge+((O&(1<<_e+fe)-1)>>_e)])>>>16&255,ce=65535&ze,!(_e+(ue=ze>>>24)<=ee);){if(X===0)break e;X--,O+=W[B++]<<ee,ee+=8}O>>>=_e,ee-=_e,C.back+=_e}if(O>>>=ue,ee-=ue,C.back+=ue,64&le){S.msg="invalid distance code",C.mode=30;break}C.offset=ce,C.extra=15&le,C.mode=24;case 24:if(C.extra){for(Oe=C.extra;ee<Oe;){if(X===0)break e;X--,O+=W[B++]<<ee,ee+=8}C.offset+=O&(1<<C.extra)-1,O>>>=C.extra,ee-=C.extra,C.back+=C.extra}if(C.offset>C.dmax){S.msg="invalid distance too far back",C.mode=30;break}C.mode=25;case 25:if(J===0)break e;if(Z=z-J,C.offset>Z){if((Z=C.offset-Z)>C.whave&&C.sane){S.msg="invalid distance too far back",C.mode=30;break}te=Z>C.wnext?(Z-=C.wnext,C.wsize-Z):C.wnext-Z,Z>C.length&&(Z=C.length),oe=C.window}else oe=j,te=G-C.offset,Z=C.length;for(J<Z&&(Z=J),J-=Z,C.length-=Z;j[G++]=oe[te++],--Z;);C.length===0&&(C.mode=21);break;case 26:if(J===0)break e;j[G++]=C.length,J--,C.mode=21;break;case 27:if(C.wrap){for(;ee<32;){if(X===0)break e;X--,O|=W[B++]<<ee,ee+=8}if(z-=J,S.total_out+=z,C.total+=z,z&&(S.adler=C.check=C.flags?y(C.check,j,z,G-z):x(C.check,j,z,G-z)),z=J,(C.flags?O:T(O))!==C.check){S.msg="incorrect data check",C.mode=30;break}ee=O=0}C.mode=28;case 28:if(C.wrap&&C.flags){for(;ee<32;){if(X===0)break e;X--,O+=W[B++]<<ee,ee+=8}if(O!==(4294967295&C.total)){S.msg="incorrect length check",C.mode=30;break}ee=O=0}C.mode=29;case 29:Le=1;break e;case 30:Le=-3;break e;case 31:return-4;case 32:default:return I}return S.next_out=G,S.avail_out=J,S.next_in=B,S.avail_in=X,C.hold=O,C.bits=ee,(C.wsize||z!==S.avail_out&&C.mode<30&&(C.mode<27||N!==4))&&_(S,S.output,S.next_out,z-S.avail_out)?(C.mode=31,-4):(U-=S.avail_in,z-=S.avail_out,S.total_in+=U,S.total_out+=z,C.total+=z,C.wrap&&z&&(S.adler=C.check=C.flags?y(C.check,j,z,S.next_out-z):x(C.check,j,z,S.next_out-z)),S.data_type=C.bits+(C.last?64:0)+(C.mode===12?128:0)+(C.mode===20||C.mode===15?256:0),(U==0&&z===0||N===4)&&Le===0&&(Le=-5),Le)},v.inflateEnd=function(S){if(!S||!S.state)return I;var N=S.state;return N.window&&(N.window=null),S.state=null,0},v.inflateGetHeader=function(S,N){var C;return S&&S.state&&2&(C=S.state).wrap?((C.head=N).done=!1,0):I},v.inflateSetDictionary=function(S,N){var C,W=N.length;return S&&S.state?(C=S.state).wrap!==0&&C.mode!==11?I:C.mode===11&&x(1,N,W,0)!==C.check?-3:_(S,N,W,W)?(C.mode=31,-4):(C.havedict=1,0):I},v.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(p,g,v){var m=p("../utils/common"),x=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],y=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],w=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],E=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];g.exports=function(I,T,R,D,L,M,H,V){var P,F,A,_,S,N,C,W,j,B=V.bits,G=0,X=0,J=0,O=0,ee=0,U=0,z=0,Z=0,te=0,oe=0,ue=null,le=0,ce=new m.Buf16(16),_e=new m.Buf16(16),fe=null,ge=0;for(G=0;G<=15;G++)ce[G]=0;for(X=0;X<D;X++)ce[T[R+X]]++;for(ee=B,O=15;1<=O&&ce[O]===0;O--);if(O<ee&&(ee=O),O===0)return L[M++]=20971520,L[M++]=20971520,V.bits=1,0;for(J=1;J<O&&ce[J]===0;J++);for(ee<J&&(ee=J),G=Z=1;G<=15;G++)if(Z<<=1,(Z-=ce[G])<0)return-1;if(0<Z&&(I===0||O!==1))return-1;for(_e[1]=0,G=1;G<15;G++)_e[G+1]=_e[G]+ce[G];for(X=0;X<D;X++)T[R+X]!==0&&(H[_e[T[R+X]]++]=X);if(N=I===0?(ue=fe=H,19):I===1?(ue=x,le-=257,fe=y,ge-=257,256):(ue=w,fe=E,-1),G=J,S=M,z=X=oe=0,A=-1,_=(te=1<<(U=ee))-1,I===1&&852<te||I===2&&592<te)return 1;for(;;){for(C=G-z,j=H[X]<N?(W=0,H[X]):H[X]>N?(W=fe[ge+H[X]],ue[le+H[X]]):(W=96,0),P=1<<G-z,J=F=1<<U;L[S+(oe>>z)+(F-=P)]=C<<24|W<<16|j|0,F!==0;);for(P=1<<G-1;oe&P;)P>>=1;if(P!==0?(oe&=P-1,oe+=P):oe=0,X++,--ce[G]==0){if(G===O)break;G=T[R+H[X]]}if(ee<G&&(oe&_)!==A){for(z===0&&(z=ee),S+=J,Z=1<<(U=G-z);U+z<O&&!((Z-=ce[U+z])<=0);)U++,Z<<=1;if(te+=1<<U,I===1&&852<te||I===2&&592<te)return 1;L[A=oe&_]=ee<<24|U<<16|S-M|0}}return oe!==0&&(L[S+oe]=G-z<<24|64<<16|0),V.bits=ee,0}},{"../utils/common":41}],51:[function(p,g,v){g.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(p,g,v){var m=p("../utils/common");function x(fe){for(var ge=fe.length;0<=--ge;)fe[ge]=0}var y=256,w=286,E=30,I=15,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],R=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],M=new Array(576);x(M);var H=new Array(60);x(H);var V=new Array(512);x(V);var P=new Array(256);x(P);var F=new Array(29);x(F);var A,_,S,N=new Array(E);function C(fe,ge,xe,Le,Me){this.static_tree=fe,this.extra_bits=ge,this.extra_base=xe,this.elems=Le,this.max_length=Me,this.has_stree=fe&&fe.length}function W(fe,ge){this.dyn_tree=fe,this.max_code=0,this.stat_desc=ge}function j(fe){return fe<256?V[fe]:V[256+(fe>>>7)]}function B(fe,ge){fe.pending_buf[fe.pending++]=255&ge,fe.pending_buf[fe.pending++]=ge>>>8&255}function G(fe,ge,xe){fe.bi_valid>16-xe?(fe.bi_buf|=ge<<fe.bi_valid&65535,B(fe,fe.bi_buf),fe.bi_buf=ge>>16-fe.bi_valid,fe.bi_valid+=xe-16):(fe.bi_buf|=ge<<fe.bi_valid&65535,fe.bi_valid+=xe)}function X(fe,ge,xe){G(fe,xe[2*ge],xe[2*ge+1])}function J(fe,ge){for(var xe=0;xe|=1&fe,fe>>>=1,xe<<=1,0<--ge;);return xe>>>1}function O(fe,ge,xe){var Le,Me,Oe=new Array(16),ze=0;for(Le=1;Le<=I;Le++)Oe[Le]=ze=ze+xe[Le-1]<<1;for(Me=0;Me<=ge;Me++){var Ke=fe[2*Me+1];Ke!==0&&(fe[2*Me]=J(Oe[Ke]++,Ke))}}function ee(fe){var ge;for(ge=0;ge<w;ge++)fe.dyn_ltree[2*ge]=0;for(ge=0;ge<E;ge++)fe.dyn_dtree[2*ge]=0;for(ge=0;ge<19;ge++)fe.bl_tree[2*ge]=0;fe.dyn_ltree[512]=1,fe.opt_len=fe.static_len=0,fe.last_lit=fe.matches=0}function U(fe){8<fe.bi_valid?B(fe,fe.bi_buf):0<fe.bi_valid&&(fe.pending_buf[fe.pending++]=fe.bi_buf),fe.bi_buf=0,fe.bi_valid=0}function z(fe,ge,xe,Le){var Me=2*ge,Oe=2*xe;return fe[Me]<fe[Oe]||fe[Me]===fe[Oe]&&Le[ge]<=Le[xe]}function Z(fe,ge,xe){for(var Le=fe.heap[xe],Me=xe<<1;Me<=fe.heap_len&&(Me<fe.heap_len&&z(ge,fe.heap[Me+1],fe.heap[Me],fe.depth)&&Me++,!z(ge,Le,fe.heap[Me],fe.depth));)fe.heap[xe]=fe.heap[Me],xe=Me,Me<<=1;fe.heap[xe]=Le}function te(fe,ge,xe){var Le,Me,Oe,ze,Ke=0;if(fe.last_lit!==0)for(;Le=fe.pending_buf[fe.d_buf+2*Ke]<<8|fe.pending_buf[fe.d_buf+2*Ke+1],Me=fe.pending_buf[fe.l_buf+Ke],Ke++,Le===0?X(fe,Me,ge):(X(fe,(Oe=P[Me])+y+1,ge),(ze=T[Oe])!==0&&G(fe,Me-=F[Oe],ze),X(fe,Oe=j(--Le),xe),(ze=R[Oe])!==0&&G(fe,Le-=N[Oe],ze)),Ke<fe.last_lit;);X(fe,256,ge)}function oe(fe,ge){var xe,Le,Me,Oe=ge.dyn_tree,ze=ge.stat_desc.static_tree,Ke=ge.stat_desc.has_stree,ot=ge.stat_desc.elems,$e=-1;for(fe.heap_len=0,fe.heap_max=573,xe=0;xe<ot;xe++)Oe[2*xe]!==0?(fe.heap[++fe.heap_len]=$e=xe,fe.depth[xe]=0):Oe[2*xe+1]=0;for(;fe.heap_len<2;)Oe[2*(Me=fe.heap[++fe.heap_len]=$e<2?++$e:0)]=1,fe.depth[Me]=0,fe.opt_len--,Ke&&(fe.static_len-=ze[2*Me+1]);for(ge.max_code=$e,xe=fe.heap_len>>1;1<=xe;xe--)Z(fe,Oe,xe);for(Me=ot;xe=fe.heap[1],fe.heap[1]=fe.heap[fe.heap_len--],Z(fe,Oe,1),Le=fe.heap[1],fe.heap[--fe.heap_max]=xe,fe.heap[--fe.heap_max]=Le,Oe[2*Me]=Oe[2*xe]+Oe[2*Le],fe.depth[Me]=(fe.depth[xe]>=fe.depth[Le]?fe.depth[xe]:fe.depth[Le])+1,Oe[2*xe+1]=Oe[2*Le+1]=Me,fe.heap[1]=Me++,Z(fe,Oe,1),2<=fe.heap_len;);fe.heap[--fe.heap_max]=fe.heap[1],function(Ve,He){var rt,Je,wt,yt,kt,mt,At=He.dyn_tree,$t=He.max_code,Tt=He.stat_desc.static_tree,Yt=He.stat_desc.has_stree,nr=He.stat_desc.extra_bits,Xt=He.stat_desc.extra_base,fr=He.stat_desc.max_length,rr=0;for(yt=0;yt<=I;yt++)Ve.bl_count[yt]=0;for(At[2*Ve.heap[Ve.heap_max]+1]=0,rt=Ve.heap_max+1;rt<573;rt++)fr<(yt=At[2*At[2*(Je=Ve.heap[rt])+1]+1]+1)&&(yt=fr,rr++),At[2*Je+1]=yt,$t<Je||(Ve.bl_count[yt]++,kt=0,Xt<=Je&&(kt=nr[Je-Xt]),mt=At[2*Je],Ve.opt_len+=mt*(yt+kt),Yt&&(Ve.static_len+=mt*(Tt[2*Je+1]+kt)));if(rr!==0){do{for(yt=fr-1;Ve.bl_count[yt]===0;)yt--;Ve.bl_count[yt]--,Ve.bl_count[yt+1]+=2,Ve.bl_count[fr]--,rr-=2}while(0<rr);for(yt=fr;yt!==0;yt--)for(Je=Ve.bl_count[yt];Je!==0;)$t<(wt=Ve.heap[--rt])||(At[2*wt+1]!==yt&&(Ve.opt_len+=(yt-At[2*wt+1])*At[2*wt],At[2*wt+1]=yt),Je--)}}(fe,ge),O(Oe,$e,fe.bl_count)}function ue(fe,ge,xe){var Le,Me,Oe=-1,ze=ge[1],Ke=0,ot=7,$e=4;for(ze===0&&(ot=138,$e=3),ge[2*(xe+1)+1]=65535,Le=0;Le<=xe;Le++)Me=ze,ze=ge[2*(Le+1)+1],++Ke<ot&&Me===ze||(Ke<$e?fe.bl_tree[2*Me]+=Ke:Me!==0?(Me!==Oe&&fe.bl_tree[2*Me]++,fe.bl_tree[32]++):Ke<=10?fe.bl_tree[34]++:fe.bl_tree[36]++,Oe=Me,$e=(Ke=0)===ze?(ot=138,3):Me===ze?(ot=6,3):(ot=7,4))}function le(fe,ge,xe){var Le,Me,Oe=-1,ze=ge[1],Ke=0,ot=7,$e=4;for(ze===0&&(ot=138,$e=3),Le=0;Le<=xe;Le++)if(Me=ze,ze=ge[2*(Le+1)+1],!(++Ke<ot&&Me===ze)){if(Ke<$e)for(;X(fe,Me,fe.bl_tree),--Ke!=0;);else Me!==0?(Me!==Oe&&(X(fe,Me,fe.bl_tree),Ke--),X(fe,16,fe.bl_tree),G(fe,Ke-3,2)):Ke<=10?(X(fe,17,fe.bl_tree),G(fe,Ke-3,3)):(X(fe,18,fe.bl_tree),G(fe,Ke-11,7));Oe=Me,$e=(Ke=0)===ze?(ot=138,3):Me===ze?(ot=6,3):(ot=7,4)}}x(N);var ce=!1;function _e(fe,ge,xe,Le){G(fe,0+(Le?1:0),3),function(Me,Oe,ze,Ke){U(Me),B(Me,ze),B(Me,~ze),m.arraySet(Me.pending_buf,Me.window,Oe,ze,Me.pending),Me.pending+=ze}(fe,ge,xe)}v._tr_init=function(fe){ce||(function(){var ge,xe,Le,Me,Oe,ze=new Array(16);for(Me=Le=0;Me<28;Me++)for(F[Me]=Le,ge=0;ge<1<<T[Me];ge++)P[Le++]=Me;for(P[Le-1]=Me,Me=Oe=0;Me<16;Me++)for(N[Me]=Oe,ge=0;ge<1<<R[Me];ge++)V[Oe++]=Me;for(Oe>>=7;Me<E;Me++)for(N[Me]=Oe<<7,ge=0;ge<1<<R[Me]-7;ge++)V[256+Oe++]=Me;for(xe=0;xe<=I;xe++)ze[xe]=0;for(ge=0;ge<=143;)M[2*ge+1]=8,ge++,ze[8]++;for(;ge<=255;)M[2*ge+1]=9,ge++,ze[9]++;for(;ge<=279;)M[2*ge+1]=7,ge++,ze[7]++;for(;ge<=287;)M[2*ge+1]=8,ge++,ze[8]++;for(O(M,287,ze),ge=0;ge<E;ge++)H[2*ge+1]=5,H[2*ge]=J(ge,5);A=new C(M,T,257,w,I),_=new C(H,R,0,E,I),S=new C(new Array(0),D,0,19,7)}(),ce=!0),fe.l_desc=new W(fe.dyn_ltree,A),fe.d_desc=new W(fe.dyn_dtree,_),fe.bl_desc=new W(fe.bl_tree,S),fe.bi_buf=0,fe.bi_valid=0,ee(fe)},v._tr_stored_block=_e,v._tr_flush_block=function(fe,ge,xe,Le){var Me,Oe,ze=0;0<fe.level?(fe.strm.data_type===2&&(fe.strm.data_type=function(Ke){var ot,$e=4093624447;for(ot=0;ot<=31;ot++,$e>>>=1)if(1&$e&&Ke.dyn_ltree[2*ot]!==0)return 0;if(Ke.dyn_ltree[18]!==0||Ke.dyn_ltree[20]!==0||Ke.dyn_ltree[26]!==0)return 1;for(ot=32;ot<y;ot++)if(Ke.dyn_ltree[2*ot]!==0)return 1;return 0}(fe)),oe(fe,fe.l_desc),oe(fe,fe.d_desc),ze=function(Ke){var ot;for(ue(Ke,Ke.dyn_ltree,Ke.l_desc.max_code),ue(Ke,Ke.dyn_dtree,Ke.d_desc.max_code),oe(Ke,Ke.bl_desc),ot=18;3<=ot&&Ke.bl_tree[2*L[ot]+1]===0;ot--);return Ke.opt_len+=3*(ot+1)+5+5+4,ot}(fe),Me=fe.opt_len+3+7>>>3,(Oe=fe.static_len+3+7>>>3)<=Me&&(Me=Oe)):Me=Oe=xe+5,xe+4<=Me&&ge!==-1?_e(fe,ge,xe,Le):fe.strategy===4||Oe===Me?(G(fe,2+(Le?1:0),3),te(fe,M,H)):(G(fe,4+(Le?1:0),3),function(Ke,ot,$e,Ve){var He;for(G(Ke,ot-257,5),G(Ke,$e-1,5),G(Ke,Ve-4,4),He=0;He<Ve;He++)G(Ke,Ke.bl_tree[2*L[He]+1],3);le(Ke,Ke.dyn_ltree,ot-1),le(Ke,Ke.dyn_dtree,$e-1)}(fe,fe.l_desc.max_code+1,fe.d_desc.max_code+1,ze+1),te(fe,fe.dyn_ltree,fe.dyn_dtree)),ee(fe),Le&&U(fe)},v._tr_tally=function(fe,ge,xe){return fe.pending_buf[fe.d_buf+2*fe.last_lit]=ge>>>8&255,fe.pending_buf[fe.d_buf+2*fe.last_lit+1]=255&ge,fe.pending_buf[fe.l_buf+fe.last_lit]=255&xe,fe.last_lit++,ge===0?fe.dyn_ltree[2*xe]++:(fe.matches++,ge--,fe.dyn_ltree[2*(P[xe]+y+1)]++,fe.dyn_dtree[2*j(ge)]++),fe.last_lit===fe.lit_bufsize-1},v._tr_align=function(fe){G(fe,2,3),X(fe,256,M),function(ge){ge.bi_valid===16?(B(ge,ge.bi_buf),ge.bi_buf=0,ge.bi_valid=0):8<=ge.bi_valid&&(ge.pending_buf[ge.pending++]=255&ge.bi_buf,ge.bi_buf>>=8,ge.bi_valid-=8)}(fe)}},{"../utils/common":41}],53:[function(p,g,v){g.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(p,g,v){(function(m){(function(x,y){if(!x.setImmediate){var w,E,I,T,R=1,D={},L=!1,M=x.document,H=Object.getPrototypeOf&&Object.getPrototypeOf(x);H=H&&H.setTimeout?H:x,w={}.toString.call(x.process)==="[object process]"?function(A){a.nextTick(function(){P(A)})}:function(){if(x.postMessage&&!x.importScripts){var A=!0,_=x.onmessage;return x.onmessage=function(){A=!1},x.postMessage("","*"),x.onmessage=_,A}}()?(T="setImmediate$"+Math.random()+"$",x.addEventListener?x.addEventListener("message",F,!1):x.attachEvent("onmessage",F),function(A){x.postMessage(T+A,"*")}):x.MessageChannel?((I=new MessageChannel).port1.onmessage=function(A){P(A.data)},function(A){I.port2.postMessage(A)}):M&&"onreadystatechange"in M.createElement("script")?(E=M.documentElement,function(A){var _=M.createElement("script");_.onreadystatechange=function(){P(A),_.onreadystatechange=null,E.removeChild(_),_=null},E.appendChild(_)}):function(A){setTimeout(P,0,A)},H.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var _=new Array(arguments.length-1),S=0;S<_.length;S++)_[S]=arguments[S+1];var N={callback:A,args:_};return D[R]=N,w(R),R++},H.clearImmediate=V}function V(A){delete D[A]}function P(A){if(L)setTimeout(P,0,A);else{var _=D[A];if(_){L=!0;try{(function(S){var N=S.callback,C=S.args;switch(C.length){case 0:N();break;case 1:N(C[0]);break;case 2:N(C[0],C[1]);break;case 3:N(C[0],C[1],C[2]);break;default:N.apply(void 0,C)}})(_)}finally{V(A),L=!1}}}}function F(A){A.source===x&&typeof A.data=="string"&&A.data.indexOf(T)===0&&P(+A.data.slice(T.length))}})(typeof self>"u"?m===void 0?this:m:self)}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,e("_process"),typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,s,i){(function(a){(function(){var o=/[\\^$.*+?()[\]{}|]/g,c=RegExp(o.source),u=typeof a=="object"&&a&&a.Object===Object&&a,l=typeof self=="object"&&self&&self.Object===Object&&self,d=u||l||Function("return this")(),f=Object.prototype.toString,h=d.Symbol,p=h?h.prototype:void 0,g=p?p.toString:void 0;function v(m){if(typeof m=="string")return m;if(function(y){return typeof y=="symbol"||function(w){return!!w&&typeof w=="object"}(y)&&f.call(y)=="[object Symbol]"}(m))return g?g.call(m):"";var x=m+"";return x=="0"&&1/m==-1/0?"-0":x}s.exports=function(m){var x;return(m=(x=m)==null?"":v(x))&&c.test(m)?m.replace(o,"\\$&"):m}}).call(this)}).call(this,typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,s,i){(function(a){(function(){var o="[object Arguments]",c="[object Map]",u="[object Object]",l="[object Set]",d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/,h=/^\./,p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,v=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,x={};x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x[o]=x["[object Array]"]=x["[object ArrayBuffer]"]=x["[object Boolean]"]=x["[object DataView]"]=x["[object Date]"]=x["[object Error]"]=x["[object Function]"]=x[c]=x["[object Number]"]=x[u]=x["[object RegExp]"]=x[l]=x["[object String]"]=x["[object WeakMap]"]=!1;var y=typeof a=="object"&&a&&a.Object===Object&&a,w=typeof self=="object"&&self&&self.Object===Object&&self,E=y||w||Function("return this")(),I=typeof i=="object"&&i&&!i.nodeType&&i,T=I&&typeof s=="object"&&s&&!s.nodeType&&s,R=T&&T.exports===I&&y.process,D=function(){try{return R&&R.binding("util")}catch{}}(),L=D&&D.isTypedArray;function M(Ae,Ye,gt,Et){for(var Kt=-1,Ht=Ae?Ae.length:0;++Kt<Ht;){var Vt=Ae[Kt];Ye(Et,Vt,gt(Vt),Ae)}return Et}function H(Ae,Ye){for(var gt=-1,Et=Ae?Ae.length:0;++gt<Et;)if(Ye(Ae[gt],gt,Ae))return!0;return!1}function V(Ae){var Ye=!1;if(Ae!=null&&typeof Ae.toString!="function")try{Ye=!!(Ae+"")}catch{}return Ye}function P(Ae){var Ye=-1,gt=Array(Ae.size);return Ae.forEach(function(Et,Kt){gt[++Ye]=[Kt,Et]}),gt}function F(Ae){var Ye=-1,gt=Array(Ae.size);return Ae.forEach(function(Et){gt[++Ye]=Et}),gt}var A,_,S,N=Array.prototype,C=Function.prototype,W=Object.prototype,j=E["__core-js_shared__"],B=(A=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",G=C.toString,X=W.hasOwnProperty,J=W.toString,O=RegExp("^"+G.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ee=E.Symbol,U=E.Uint8Array,z=W.propertyIsEnumerable,Z=N.splice,te=(_=Object.keys,S=Object,function(Ae){return _(S(Ae))}),oe=Qt(E,"DataView"),ue=Qt(E,"Map"),le=Qt(E,"Promise"),ce=Qt(E,"Set"),_e=Qt(E,"WeakMap"),fe=Qt(Object,"create"),ge=st(oe),xe=st(ue),Le=st(le),Me=st(ce),Oe=st(_e),ze=ee?ee.prototype:void 0,Ke=ze?ze.valueOf:void 0,ot=ze?ze.toString:void 0;function $e(Ae){var Ye=-1,gt=Ae?Ae.length:0;for(this.clear();++Ye<gt;){var Et=Ae[Ye];this.set(Et[0],Et[1])}}function Ve(Ae){var Ye=-1,gt=Ae?Ae.length:0;for(this.clear();++Ye<gt;){var Et=Ae[Ye];this.set(Et[0],Et[1])}}function He(Ae){var Ye=-1,gt=Ae?Ae.length:0;for(this.clear();++Ye<gt;){var Et=Ae[Ye];this.set(Et[0],Et[1])}}function rt(Ae){var Ye=-1,gt=Ae?Ae.length:0;for(this.__data__=new He;++Ye<gt;)this.add(Ae[Ye])}function Je(Ae){this.__data__=new Ve(Ae)}function wt(Ae,Ye){var gt=je(Ae)||Pe(Ae)?function(Vt,Dr){for(var wr=-1,Ar=Array(Vt);++wr<Vt;)Ar[wr]=Dr(wr);return Ar}(Ae.length,String):[],Et=gt.length,Kt=!!Et;for(var Ht in Ae)!X.call(Ae,Ht)||Kt&&(Ht=="length"||Rr(Ht,Et))||gt.push(Ht);return gt}function yt(Ae,Ye){for(var gt=Ae.length;gt--;)if(ye(Ae[gt][0],Ye))return gt;return-1}function kt(Ae,Ye,gt,Et){return At(Ae,function(Kt,Ht,Vt){Ye(Et,Kt,gt(Kt),Vt)}),Et}$e.prototype.clear=function(){this.__data__=fe?fe(null):{}},$e.prototype.delete=function(Ae){return this.has(Ae)&&delete this.__data__[Ae]},$e.prototype.get=function(Ae){var Ye=this.__data__;if(fe){var gt=Ye[Ae];return gt==="__lodash_hash_undefined__"?void 0:gt}return X.call(Ye,Ae)?Ye[Ae]:void 0},$e.prototype.has=function(Ae){var Ye=this.__data__;return fe?Ye[Ae]!==void 0:X.call(Ye,Ae)},$e.prototype.set=function(Ae,Ye){return this.__data__[Ae]=fe&&Ye===void 0?"__lodash_hash_undefined__":Ye,this},Ve.prototype.clear=function(){this.__data__=[]},Ve.prototype.delete=function(Ae){var Ye=this.__data__,gt=yt(Ye,Ae);return!(gt<0)&&(gt==Ye.length-1?Ye.pop():Z.call(Ye,gt,1),!0)},Ve.prototype.get=function(Ae){var Ye=this.__data__,gt=yt(Ye,Ae);return gt<0?void 0:Ye[gt][1]},Ve.prototype.has=function(Ae){return yt(this.__data__,Ae)>-1},Ve.prototype.set=function(Ae,Ye){var gt=this.__data__,Et=yt(gt,Ae);return Et<0?gt.push([Ae,Ye]):gt[Et][1]=Ye,this},He.prototype.clear=function(){this.__data__={hash:new $e,map:new(ue||Ve),string:new $e}},He.prototype.delete=function(Ae){return Tr(this,Ae).delete(Ae)},He.prototype.get=function(Ae){return Tr(this,Ae).get(Ae)},He.prototype.has=function(Ae){return Tr(this,Ae).has(Ae)},He.prototype.set=function(Ae,Ye){return Tr(this,Ae).set(Ae,Ye),this},rt.prototype.add=rt.prototype.push=function(Ae){return this.__data__.set(Ae,"__lodash_hash_undefined__"),this},rt.prototype.has=function(Ae){return this.__data__.has(Ae)},Je.prototype.clear=function(){this.__data__=new Ve},Je.prototype.delete=function(Ae){return this.__data__.delete(Ae)},Je.prototype.get=function(Ae){return this.__data__.get(Ae)},Je.prototype.has=function(Ae){return this.__data__.has(Ae)},Je.prototype.set=function(Ae,Ye){var gt=this.__data__;if(gt instanceof Ve){var Et=gt.__data__;if(!ue||Et.length<199)return Et.push([Ae,Ye]),this;gt=this.__data__=new He(Et)}return gt.set(Ae,Ye),this};var mt,At=(mt=function(Ae,Ye){return Ae&&$t(Ae,Ye,zt)},function(Ae,Ye){if(Ae==null)return Ae;if(!Ge(Ae))return mt(Ae,Ye);for(var gt=Ae.length,Et=-1,Kt=Object(Ae);++Et<gt&&Ye(Kt[Et],Et,Kt)!==!1;);return Ae}),$t=function(Ae){return function(Ye,gt,Et){for(var Kt=-1,Ht=Object(Ye),Vt=Et(Ye),Dr=Vt.length;Dr--;){var wr=Vt[++Kt];if(gt(Ht[wr],wr,Ht)===!1)break}return Ye}}();function Tt(Ae,Ye){for(var gt=0,Et=(Ye=Lt(Ye,Ae)?[Ye]:qt(Ye)).length;Ae!=null&&gt<Et;)Ae=Ae[qe(Ye[gt++])];return gt&&gt==Et?Ae:void 0}function Yt(Ae,Ye){return Ae!=null&&Ye in Object(Ae)}function nr(Ae,Ye,gt,Et,Kt){return Ae===Ye||(Ae==null||Ye==null||!nt(Ae)&&!ut(Ye)?Ae!=Ae&&Ye!=Ye:function(Ht,Vt,Dr,wr,Ar,lr){var Er=je(Ht),nn=je(Vt),sn="[object Array]",An="[object Array]";Er||(sn=(sn=xr(Ht))==o?u:sn),nn||(An=(An=xr(Vt))==o?u:An);var Wn=sn==u&&!V(Ht),Is=An==u&&!V(Vt),rs=sn==An;if(rs&&!Wn)return lr||(lr=new Je),Er||Ft(Ht)?cr(Ht,Vt,Dr,wr,Ar,lr):function(an,zr,Qi,ea,vo,Ss,Hs){switch(Qi){case"[object DataView]":if(an.byteLength!=zr.byteLength||an.byteOffset!=zr.byteOffset)return!1;an=an.buffer,zr=zr.buffer;case"[object ArrayBuffer]":return!(an.byteLength!=zr.byteLength||!ea(new U(an),new U(zr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ye(+an,+zr);case"[object Error]":return an.name==zr.name&&an.message==zr.message;case"[object RegExp]":case"[object String]":return an==zr+"";case c:var ta=P;case l:var yo=2&Ss;if(ta||(ta=F),an.size!=zr.size&&!yo)return!1;var Ui=Hs.get(an);if(Ui)return Ui==zr;Ss|=1,Hs.set(an,zr);var Hi=cr(ta(an),ta(zr),ea,vo,Ss,Hs);return Hs.delete(an),Hi;case"[object Symbol]":if(Ke)return Ke.call(an)==Ke.call(zr)}return!1}(Ht,Vt,sn,Dr,wr,Ar,lr);if(!(2&Ar)){var Zs=Wn&&X.call(Ht,"__wrapped__"),$n=Is&&X.call(Vt,"__wrapped__");if(Zs||$n){var ba=Zs?Ht.value():Ht,va=$n?Vt.value():Vt;return lr||(lr=new Je),Dr(ba,va,wr,Ar,lr)}}return rs?(lr||(lr=new Je),function(an,zr,Qi,ea,vo,Ss){var Hs=2&vo,ta=zt(an),yo=ta.length,Ui=zt(zr).length;if(yo!=Ui&&!Hs)return!1;for(var Hi=yo;Hi--;){var pi=ta[Hi];if(!(Hs?pi in zr:X.call(zr,pi)))return!1}var xl=Ss.get(an);if(xl&&Ss.get(zr))return xl==zr;var hs=!0;Ss.set(an,zr),Ss.set(zr,an);for(var Kl=Hs;++Hi<yo;){pi=ta[Hi];var Uo=an[pi],Cr=zr[pi];if(ea)var Jl=Hs?ea(Cr,Uo,pi,zr,an,Ss):ea(Uo,Cr,pi,an,zr,Ss);if(!(Jl===void 0?Uo===Cr||Qi(Uo,Cr,ea,vo,Ss):Jl)){hs=!1;break}Kl||(Kl=pi=="constructor")}if(hs&&!Kl){var wl=an.constructor,Ni=zr.constructor;wl==Ni||!("constructor"in an)||!("constructor"in zr)||typeof wl=="function"&&wl instanceof wl&&typeof Ni=="function"&&Ni instanceof Ni||(hs=!1)}return Ss.delete(an),Ss.delete(zr),hs}(Ht,Vt,Dr,wr,Ar,lr)):!1}(Ae,Ye,nr,gt,Et,Kt))}function Xt(Ae){return!(!nt(Ae)||function(Ye){return!!B&&B in Ye}(Ae))&&(lt(Ae)||V(Ae)?O:v).test(st(Ae))}function fr(Ae){return typeof Ae=="function"?Ae:Ae==null?Rt:typeof Ae=="object"?je(Ae)?function(Et,Kt){return Lt(Et)&&Sr(Kt)?Nr(qe(Et),Kt):function(Ht){var Vt=function(Dr,wr,Ar){var lr=Dr==null?void 0:Tt(Dr,wr);return lr===void 0?Ar:lr}(Ht,Et);return Vt===void 0&&Vt===Kt?function(Dr,wr){return Dr!=null&&function(Ar,lr,Er){lr=Lt(lr,Ar)?[lr]:qt(lr);for(var nn,sn=-1,An=lr.length;++sn<An;){var Wn=qe(lr[sn]);if(!(nn=Ar!=null&&Er(Ar,Wn)))break;Ar=Ar[Wn]}return nn||!!(An=Ar?Ar.length:0)&&Xe(An)&&Rr(Wn,An)&&(je(Ar)||Pe(Ar))}(Dr,wr,Yt)}(Ht,Et):nr(Kt,Vt,void 0,3)}}(Ae[0],Ae[1]):function(Et){var Kt=function(Ht){for(var Vt=zt(Ht),Dr=Vt.length;Dr--;){var wr=Vt[Dr],Ar=Ht[wr];Vt[Dr]=[wr,Ar,Sr(Ar)]}return Vt}(Et);return Kt.length==1&&Kt[0][2]?Nr(Kt[0][0],Kt[0][1]):function(Ht){return Ht===Et||function(Vt,Dr,wr,Ar){var lr=wr.length,Er=lr;if(Vt==null)return!Er;for(Vt=Object(Vt);lr--;){var nn=wr[lr];if(nn[2]?nn[1]!==Vt[nn[0]]:!(nn[0]in Vt))return!1}for(;++lr<Er;){var sn=(nn=wr[lr])[0],An=Vt[sn],Wn=nn[1];if(nn[2]){if(An===void 0&&!(sn in Vt))return!1}else{var Is=new Je,rs;if(!(rs===void 0?nr(Wn,An,Ar,3,Is):rs))return!1}}return!0}(Ht,Et,Kt)}}(Ae):Lt(Ye=Ae)?(gt=qe(Ye),function(Et){return Et==null?void 0:Et[gt]}):function(Et){return function(Kt){return Tt(Kt,Et)}}(Ye);var Ye,gt}function rr(Ae){if(gt=(Ye=Ae)&&Ye.constructor,Et=typeof gt=="function"&&gt.prototype||W,Ye!==Et)return te(Ae);var Ye,gt,Et,Kt=[];for(var Ht in Object(Ae))X.call(Ae,Ht)&&Ht!="constructor"&&Kt.push(Ht);return Kt}function qt(Ae){return je(Ae)?Ae:ur(Ae)}function cr(Ae,Ye,gt,Et,Kt,Ht){var Vt=2&Kt,Dr=Ae.length,wr=Ye.length;if(Dr!=wr&&!(Vt&&wr>Dr))return!1;var Ar=Ht.get(Ae);if(Ar&&Ht.get(Ye))return Ar==Ye;var lr=-1,Er=!0,nn=1&Kt?new rt:void 0;for(Ht.set(Ae,Ye),Ht.set(Ye,Ae);++lr<Dr;){var sn=Ae[lr],An=Ye[lr];if(Et)var Wn=Vt?Et(An,sn,lr,Ye,Ae,Ht):Et(sn,An,lr,Ae,Ye,Ht);if(Wn!==void 0){if(Wn)continue;Er=!1;break}if(nn){if(!H(Ye,function(Is,rs){if(!nn.has(rs)&&(sn===Is||gt(sn,Is,Et,Kt,Ht)))return nn.add(rs)})){Er=!1;break}}else if(sn!==An&&!gt(sn,An,Et,Kt,Ht)){Er=!1;break}}return Ht.delete(Ae),Ht.delete(Ye),Er}function Tr(Ae,Ye){var gt,Et,Kt=Ae.__data__;return((Et=typeof(gt=Ye))=="string"||Et=="number"||Et=="symbol"||Et=="boolean"?gt!=="__proto__":gt===null)?Kt[typeof Ye=="string"?"string":"hash"]:Kt.map}function Qt(Ae,Ye){var gt=function(Et,Kt){return Et==null?void 0:Et[Kt]}(Ae,Ye);return Xt(gt)?gt:void 0}var xr=function(Ae){return J.call(Ae)};function Rr(Ae,Ye){return!!(Ye=Ye??9007199254740991)&&(typeof Ae=="number"||m.test(Ae))&&Ae>-1&&Ae%1==0&&Ae<Ye}function Lt(Ae,Ye){if(je(Ae))return!1;var gt=typeof Ae;return!(gt!="number"&&gt!="symbol"&&gt!="boolean"&&Ae!=null&&!Nt(Ae))||f.test(Ae)||!d.test(Ae)||Ye!=null&&Ae in Object(Ye)}function Sr(Ae){return Ae==Ae&&!nt(Ae)}function Nr(Ae,Ye){return function(gt){return gt!=null&&gt[Ae]===Ye&&(Ye!==void 0||Ae in Object(gt))}}(oe&&xr(new oe(new ArrayBuffer(1)))!="[object DataView]"||ue&&xr(new ue)!=c||le&&xr(le.resolve())!="[object Promise]"||ce&&xr(new ce)!=l||_e&&xr(new _e)!="[object WeakMap]")&&(xr=function(Ae){var Ye=J.call(Ae),gt=Ye==u?Ae.constructor:void 0,Et=gt?st(gt):void 0;if(Et)switch(Et){case ge:return"[object DataView]";case xe:return c;case Le:return"[object Promise]";case Me:return l;case Oe:return"[object WeakMap]"}return Ye});var ur=Se(function(Ae){var Ye;Ae=(Ye=Ae)==null?"":function(Et){if(typeof Et=="string")return Et;if(Nt(Et))return ot?ot.call(Et):"";var Kt=Et+"";return Kt=="0"&&1/Et==-1/0?"-0":Kt}(Ye);var gt=[];return h.test(Ae)&&gt.push(""),Ae.replace(p,function(Et,Kt,Ht,Vt){gt.push(Ht?Vt.replace(g,"$1"):Kt||Et)}),gt});function qe(Ae){if(typeof Ae=="string"||Nt(Ae))return Ae;var Ye=Ae+"";return Ye=="0"&&1/Ae==-1/0?"-0":Ye}function st(Ae){if(Ae!=null){try{return G.call(Ae)}catch{}try{return Ae+""}catch{}}return""}var he,Ee=(he=function(Ae,Ye,gt){X.call(Ae,gt)?Ae[gt].push(Ye):Ae[gt]=[Ye]},function(Ae,Ye){var gt=je(Ae)?M:kt,Et={};return gt(Ae,he,fr(Ye),Et)});function Se(Ae,Ye){if(typeof Ae!="function"||Ye&&typeof Ye!="function")throw new TypeError("Expected a function");var gt=function(){var Et=arguments,Kt=Ye?Ye.apply(this,Et):Et[0],Ht=gt.cache;if(Ht.has(Kt))return Ht.get(Kt);var Vt=Ae.apply(this,Et);return gt.cache=Ht.set(Kt,Vt),Vt};return gt.cache=new(Se.Cache||He),gt}function ye(Ae,Ye){return Ae===Ye||Ae!=Ae&&Ye!=Ye}function Pe(Ae){return function(Ye){return ut(Ye)&&Ge(Ye)}(Ae)&&X.call(Ae,"callee")&&(!z.call(Ae,"callee")||J.call(Ae)==o)}Se.Cache=He;var je=Array.isArray;function Ge(Ae){return Ae!=null&&Xe(Ae.length)&&!lt(Ae)}function lt(Ae){var Ye=nt(Ae)?J.call(Ae):"";return Ye=="[object Function]"||Ye=="[object GeneratorFunction]"}function Xe(Ae){return typeof Ae=="number"&&Ae>-1&&Ae%1==0&&Ae<=9007199254740991}function nt(Ae){var Ye=typeof Ae;return!!Ae&&(Ye=="object"||Ye=="function")}function ut(Ae){return!!Ae&&typeof Ae=="object"}function Nt(Ae){return typeof Ae=="symbol"||ut(Ae)&&J.call(Ae)=="[object Symbol]"}var Ft=L?function(Ae){return function(Ye){return Ae(Ye)}}(L):function(Ae){return ut(Ae)&&Xe(Ae.length)&&!!x[J.call(Ae)]};function zt(Ae){return Ge(Ae)?wt(Ae):rr(Ae)}function Rt(Ae){return Ae}s.exports=Ee}).call(this)}).call(this,typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,s,i){var a=Object.prototype.toString;s.exports=function(o){return o===!0||o===!1||function(c){return!!c&&typeof c=="object"}(o)&&a.call(o)=="[object Boolean]"}},{}],445:[function(e,s,i){(function(a){(function(){var o="[object Arguments]",c="[object Map]",u="[object Object]",l="[object Set]",d=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h[o]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h["[object Function]"]=h[c]=h["[object Number]"]=h[u]=h["[object RegExp]"]=h[l]=h["[object String]"]=h["[object WeakMap]"]=!1;var p=typeof a=="object"&&a&&a.Object===Object&&a,g=typeof self=="object"&&self&&self.Object===Object&&self,v=p||g||Function("return this")(),m=typeof i=="object"&&i&&!i.nodeType&&i,x=m&&typeof s=="object"&&s&&!s.nodeType&&s,y=x&&x.exports===m,w=y&&p.process,E=function(){try{return w&&w.binding&&w.binding("util")}catch{}}(),I=E&&E.isTypedArray;function T(qe,st){for(var he=-1,Ee=qe==null?0:qe.length;++he<Ee;)if(st(qe[he],he,qe))return!0;return!1}function R(qe){var st=-1,he=Array(qe.size);return qe.forEach(function(Ee,Se){he[++st]=[Se,Ee]}),he}function D(qe){var st=-1,he=Array(qe.size);return qe.forEach(function(Ee){he[++st]=Ee}),he}var L,M,H,V=Array.prototype,P=Function.prototype,F=Object.prototype,A=v["__core-js_shared__"],_=P.toString,S=F.hasOwnProperty,N=(L=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+L:"",C=F.toString,W=RegExp("^"+_.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=y?v.Buffer:void 0,B=v.Symbol,G=v.Uint8Array,X=F.propertyIsEnumerable,J=V.splice,O=B?B.toStringTag:void 0,ee=Object.getOwnPropertySymbols,U=j?j.isBuffer:void 0,z=(M=Object.keys,H=Object,function(qe){return M(H(qe))}),Z=Yt(v,"DataView"),te=Yt(v,"Map"),oe=Yt(v,"Promise"),ue=Yt(v,"Set"),le=Yt(v,"WeakMap"),ce=Yt(Object,"create"),_e=rr(Z),fe=rr(te),ge=rr(oe),xe=rr(ue),Le=rr(le),Me=B?B.prototype:void 0,Oe=Me?Me.valueOf:void 0;function ze(qe){var st=-1,he=qe==null?0:qe.length;for(this.clear();++st<he;){var Ee=qe[st];this.set(Ee[0],Ee[1])}}function Ke(qe){var st=-1,he=qe==null?0:qe.length;for(this.clear();++st<he;){var Ee=qe[st];this.set(Ee[0],Ee[1])}}function ot(qe){var st=-1,he=qe==null?0:qe.length;for(this.clear();++st<he;){var Ee=qe[st];this.set(Ee[0],Ee[1])}}function $e(qe){var st=-1,he=qe==null?0:qe.length;for(this.__data__=new ot;++st<he;)this.add(qe[st])}function Ve(qe){var st=this.__data__=new Ke(qe);this.size=st.size}function He(qe,st){var he=Tr(qe),Ee=!he&&cr(qe),Se=!he&&!Ee&&Qt(qe),ye=!he&&!Ee&&!Se&&Nr(qe),Pe=he||Ee||Se||ye,je=Pe?function(Xe,nt){for(var ut=-1,Nt=Array(Xe);++ut<Xe;)Nt[ut]=nt(ut);return Nt}(qe.length,String):[],Ge=je.length;for(var lt in qe)!S.call(qe,lt)||Pe&&(lt=="length"||Se&&(lt=="offset"||lt=="parent")||ye&&(lt=="buffer"||lt=="byteLength"||lt=="byteOffset")||fr(lt,Ge))||je.push(lt);return je}function rt(qe,st){for(var he=qe.length;he--;)if(qt(qe[he][0],st))return he;return-1}function Je(qe){return qe==null?qe===void 0?"[object Undefined]":"[object Null]":O&&O in Object(qe)?function(st){var he=S.call(st,O),Ee=st[O];try{st[O]=void 0;var Se=!0}catch{}var ye=C.call(st);return Se&&(he?st[O]=Ee:delete st[O]),ye}(qe):function(st){return C.call(st)}(qe)}function wt(qe){return Sr(qe)&&Je(qe)==o}function yt(qe,st,he,Ee,Se){return qe===st||(qe==null||st==null||!Sr(qe)&&!Sr(st)?qe!=qe&&st!=st:function(ye,Pe,je,Ge,lt,Xe){var nt=Tr(ye),ut=Tr(Pe),Nt=nt?"[object Array]":Xt(ye),Ft=ut?"[object Array]":Xt(Pe),zt=(Nt=Nt==o?u:Nt)==u,Rt=(Ft=Ft==o?u:Ft)==u,Ae=Nt==Ft;if(Ae&&Qt(ye)){if(!Qt(Pe))return!1;nt=!0,zt=!1}if(Ae&&!zt)return Xe||(Xe=new Ve),nt||Nr(ye)?At(ye,Pe,je,Ge,lt,Xe):function(Ht,Vt,Dr,wr,Ar,lr,Er){switch(Dr){case"[object DataView]":if(Ht.byteLength!=Vt.byteLength||Ht.byteOffset!=Vt.byteOffset)return!1;Ht=Ht.buffer,Vt=Vt.buffer;case"[object ArrayBuffer]":return!(Ht.byteLength!=Vt.byteLength||!lr(new G(Ht),new G(Vt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return qt(+Ht,+Vt);case"[object Error]":return Ht.name==Vt.name&&Ht.message==Vt.message;case"[object RegExp]":case"[object String]":return Ht==Vt+"";case c:var nn=R;case l:var sn=1&wr;if(nn||(nn=D),Ht.size!=Vt.size&&!sn)return!1;var An=Er.get(Ht);if(An)return An==Vt;wr|=2,Er.set(Ht,Vt);var Wn=At(nn(Ht),nn(Vt),wr,Ar,lr,Er);return Er.delete(Ht),Wn;case"[object Symbol]":if(Oe)return Oe.call(Ht)==Oe.call(Vt)}return!1}(ye,Pe,Nt,je,Ge,lt,Xe);if(!(1&je)){var Ye=zt&&S.call(ye,"__wrapped__"),gt=Rt&&S.call(Pe,"__wrapped__");if(Ye||gt){var Et=Ye?ye.value():ye,Kt=gt?Pe.value():Pe;return Xe||(Xe=new Ve),lt(Et,Kt,je,Ge,Xe)}}return Ae?(Xe||(Xe=new Ve),function(Ht,Vt,Dr,wr,Ar,lr){var Er=1&Dr,nn=$t(Ht),sn=nn.length,An=$t(Vt).length;if(sn!=An&&!Er)return!1;for(var Wn=sn;Wn--;){var Is=nn[Wn];if(!(Er?Is in Vt:S.call(Vt,Is)))return!1}var rs=lr.get(Ht);if(rs&&lr.get(Vt))return rs==Vt;var Zs=!0;lr.set(Ht,Vt),lr.set(Vt,Ht);for(var $n=Er;++Wn<sn;){Is=nn[Wn];var ba=Ht[Is],va=Vt[Is];if(wr)var an=Er?wr(va,ba,Is,Vt,Ht,lr):wr(ba,va,Is,Ht,Vt,lr);if(!(an===void 0?ba===va||Ar(ba,va,Dr,wr,lr):an)){Zs=!1;break}$n||($n=Is=="constructor")}if(Zs&&!$n){var zr=Ht.constructor,Qi=Vt.constructor;zr==Qi||!("constructor"in Ht)||!("constructor"in Vt)||typeof zr=="function"&&zr instanceof zr&&typeof Qi=="function"&&Qi instanceof Qi||(Zs=!1)}return lr.delete(Ht),lr.delete(Vt),Zs}(ye,Pe,je,Ge,lt,Xe)):!1}(qe,st,he,Ee,yt,Se))}function kt(qe){return!(!Lt(qe)||function(st){return!!N&&N in st}(qe))&&(xr(qe)?W:d).test(rr(qe))}function mt(qe){if(he=(st=qe)&&st.constructor,Ee=typeof he=="function"&&he.prototype||F,st!==Ee)return z(qe);var st,he,Ee,Se=[];for(var ye in Object(qe))S.call(qe,ye)&&ye!="constructor"&&Se.push(ye);return Se}function At(qe,st,he,Ee,Se,ye){var Pe=1&he,je=qe.length,Ge=st.length;if(je!=Ge&&!(Pe&&Ge>je))return!1;var lt=ye.get(qe);if(lt&&ye.get(st))return lt==st;var Xe=-1,nt=!0,ut=2&he?new $e:void 0;for(ye.set(qe,st),ye.set(st,qe);++Xe<je;){var Nt=qe[Xe],Ft=st[Xe];if(Ee)var zt=Pe?Ee(Ft,Nt,Xe,st,qe,ye):Ee(Nt,Ft,Xe,qe,st,ye);if(zt!==void 0){if(zt)continue;nt=!1;break}if(ut){if(!T(st,function(Rt,Ae){if(Ye=Ae,!ut.has(Ye)&&(Nt===Rt||Se(Nt,Rt,he,Ee,ye)))return ut.push(Ae);var Ye})){nt=!1;break}}else if(Nt!==Ft&&!Se(Nt,Ft,he,Ee,ye)){nt=!1;break}}return ye.delete(qe),ye.delete(st),nt}function $t(qe){return function(st,he,Ee){var Se=he(st);return Tr(st)?Se:function(ye,Pe){for(var je=-1,Ge=Pe.length,lt=ye.length;++je<Ge;)ye[lt+je]=Pe[je];return ye}(Se,Ee(st))}(qe,ur,nr)}function Tt(qe,st){var he,Ee,Se=qe.__data__;return((Ee=typeof(he=st))=="string"||Ee=="number"||Ee=="symbol"||Ee=="boolean"?he!=="__proto__":he===null)?Se[typeof st=="string"?"string":"hash"]:Se.map}function Yt(qe,st){var he=function(Ee,Se){return Ee==null?void 0:Ee[Se]}(qe,st);return kt(he)?he:void 0}ze.prototype.clear=function(){this.__data__=ce?ce(null):{},this.size=0},ze.prototype.delete=function(qe){var st=this.has(qe)&&delete this.__data__[qe];return this.size-=st?1:0,st},ze.prototype.get=function(qe){var st=this.__data__;if(ce){var he=st[qe];return he==="__lodash_hash_undefined__"?void 0:he}return S.call(st,qe)?st[qe]:void 0},ze.prototype.has=function(qe){var st=this.__data__;return ce?st[qe]!==void 0:S.call(st,qe)},ze.prototype.set=function(qe,st){var he=this.__data__;return this.size+=this.has(qe)?0:1,he[qe]=ce&&st===void 0?"__lodash_hash_undefined__":st,this},Ke.prototype.clear=function(){this.__data__=[],this.size=0},Ke.prototype.delete=function(qe){var st=this.__data__,he=rt(st,qe);return!(he<0)&&(he==st.length-1?st.pop():J.call(st,he,1),--this.size,!0)},Ke.prototype.get=function(qe){var st=this.__data__,he=rt(st,qe);return he<0?void 0:st[he][1]},Ke.prototype.has=function(qe){return rt(this.__data__,qe)>-1},Ke.prototype.set=function(qe,st){var he=this.__data__,Ee=rt(he,qe);return Ee<0?(++this.size,he.push([qe,st])):he[Ee][1]=st,this},ot.prototype.clear=function(){this.size=0,this.__data__={hash:new ze,map:new(te||Ke),string:new ze}},ot.prototype.delete=function(qe){var st=Tt(this,qe).delete(qe);return this.size-=st?1:0,st},ot.prototype.get=function(qe){return Tt(this,qe).get(qe)},ot.prototype.has=function(qe){return Tt(this,qe).has(qe)},ot.prototype.set=function(qe,st){var he=Tt(this,qe),Ee=he.size;return he.set(qe,st),this.size+=he.size==Ee?0:1,this},$e.prototype.add=$e.prototype.push=function(qe){return this.__data__.set(qe,"__lodash_hash_undefined__"),this},$e.prototype.has=function(qe){return this.__data__.has(qe)},Ve.prototype.clear=function(){this.__data__=new Ke,this.size=0},Ve.prototype.delete=function(qe){var st=this.__data__,he=st.delete(qe);return this.size=st.size,he},Ve.prototype.get=function(qe){return this.__data__.get(qe)},Ve.prototype.has=function(qe){return this.__data__.has(qe)},Ve.prototype.set=function(qe,st){var he=this.__data__;if(he instanceof Ke){var Ee=he.__data__;if(!te||Ee.length<199)return Ee.push([qe,st]),this.size=++he.size,this;he=this.__data__=new ot(Ee)}return he.set(qe,st),this.size=he.size,this};var nr=ee?function(qe){return qe==null?[]:(qe=Object(qe),function(st,he){for(var Ee=-1,Se=st==null?0:st.length,ye=0,Pe=[];++Ee<Se;){var je=st[Ee];he(je,Ee,st)&&(Pe[ye++]=je)}return Pe}(ee(qe),function(st){return X.call(qe,st)}))}:function(){return[]},Xt=Je;function fr(qe,st){return!!(st=st??9007199254740991)&&(typeof qe=="number"||f.test(qe))&&qe>-1&&qe%1==0&&qe<st}function rr(qe){if(qe!=null){try{return _.call(qe)}catch{}try{return qe+""}catch{}}return""}function qt(qe,st){return qe===st||qe!=qe&&st!=st}(Z&&Xt(new Z(new ArrayBuffer(1)))!="[object DataView]"||te&&Xt(new te)!=c||oe&&Xt(oe.resolve())!="[object Promise]"||ue&&Xt(new ue)!=l||le&&Xt(new le)!="[object WeakMap]")&&(Xt=function(qe){var st=Je(qe),he=st==u?qe.constructor:void 0,Ee=he?rr(he):"";if(Ee)switch(Ee){case _e:return"[object DataView]";case fe:return c;case ge:return"[object Promise]";case xe:return l;case Le:return"[object WeakMap]"}return st});var cr=wt(function(){return arguments}())?wt:function(qe){return Sr(qe)&&S.call(qe,"callee")&&!X.call(qe,"callee")},Tr=Array.isArray,Qt=U||function(){return!1};function xr(qe){if(!Lt(qe))return!1;var st=Je(qe);return st=="[object Function]"||st=="[object GeneratorFunction]"||st=="[object AsyncFunction]"||st=="[object Proxy]"}function Rr(qe){return typeof qe=="number"&&qe>-1&&qe%1==0&&qe<=9007199254740991}function Lt(qe){var st=typeof qe;return qe!=null&&(st=="object"||st=="function")}function Sr(qe){return qe!=null&&typeof qe=="object"}var Nr=I?function(qe){return function(st){return qe(st)}}(I):function(qe){return Sr(qe)&&Rr(qe.length)&&!!h[Je(qe)]};function ur(qe){return(st=qe)!=null&&Rr(st.length)&&!xr(st)?He(qe):mt(qe);var st}s.exports=function(qe,st){return yt(qe,st)}}).call(this)}).call(this,typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,s,i){(function(a){(function(){var o=typeof a=="object"&&a&&a.Object===Object&&a,c=typeof self=="object"&&self&&self.Object===Object&&self,u=o||c||Function("return this")(),l=Object.prototype,d=l.hasOwnProperty,f=l.toString,h=u.Symbol,p=h?h.toStringTag:void 0;function g(v){return v==null?v===void 0?"[object Undefined]":"[object Null]":p&&p in Object(v)?function(m){var x=d.call(m,p),y=m[p];try{m[p]=void 0;var w=!0}catch{}var E=f.call(m);return w&&(x?m[p]=y:delete m[p]),E}(v):function(m){return f.call(m)}(v)}s.exports=function(v){if(!function(x){var y=typeof x;return x!=null&&(y=="object"||y=="function")}(v))return!1;var m=g(v);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}}).call(this)}).call(this,typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,s,i){s.exports=function(a){return a==null}},{}],448:[function(e,s,i){s.exports=function(a){return a===void 0}},{}],449:[function(e,s,i){(function(a){(function(){var o=/^\[object .+?Constructor\]$/,c=typeof a=="object"&&a&&a.Object===Object&&a,u=typeof self=="object"&&self&&self.Object===Object&&self,l=c||u||Function("return this")();function d(B,G){return!!(B&&B.length)&&function(X,J,O){if(J!=J)return function(z,Z,te,oe){for(var ue=z.length,le=te+-1;++le<ue;)if(Z(z[le],le,z))return le;return-1}(X,f,O);for(var ee=O-1,U=X.length;++ee<U;)if(X[ee]===J)return ee;return-1}(B,G,0)>-1}function f(B){return B!=B}function h(B,G){return B.has(G)}function p(B){var G=-1,X=Array(B.size);return B.forEach(function(J){X[++G]=J}),X}var g,v=Array.prototype,m=Function.prototype,x=Object.prototype,y=l["__core-js_shared__"],w=(g=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",E=m.toString,I=x.hasOwnProperty,T=x.toString,R=RegExp("^"+E.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=v.splice,L=W(l,"Map"),M=W(l,"Set"),H=W(Object,"create");function V(B){var G=-1,X=B?B.length:0;for(this.clear();++G<X;){var J=B[G];this.set(J[0],J[1])}}function P(B){var G=-1,X=B?B.length:0;for(this.clear();++G<X;){var J=B[G];this.set(J[0],J[1])}}function F(B){var G=-1,X=B?B.length:0;for(this.clear();++G<X;){var J=B[G];this.set(J[0],J[1])}}function A(B){var G=-1,X=B?B.length:0;for(this.__data__=new F;++G<X;)this.add(B[G])}function _(B,G){for(var X,J,O=B.length;O--;)if((X=B[O][0])===(J=G)||X!=X&&J!=J)return O;return-1}function S(B){return!(!j(B)||(G=B,w&&w in G))&&(function(X){var J=j(X)?T.call(X):"";return J=="[object Function]"||J=="[object GeneratorFunction]"}(B)||function(X){var J=!1;if(X!=null&&typeof X.toString!="function")try{J=!!(X+"")}catch{}return J}(B)?R:o).test(function(X){if(X!=null){try{return E.call(X)}catch{}try{return X+""}catch{}}return""}(B));var G}V.prototype.clear=function(){this.__data__=H?H(null):{}},V.prototype.delete=function(B){return this.has(B)&&delete this.__data__[B]},V.prototype.get=function(B){var G=this.__data__;if(H){var X=G[B];return X==="__lodash_hash_undefined__"?void 0:X}return I.call(G,B)?G[B]:void 0},V.prototype.has=function(B){var G=this.__data__;return H?G[B]!==void 0:I.call(G,B)},V.prototype.set=function(B,G){return this.__data__[B]=H&&G===void 0?"__lodash_hash_undefined__":G,this},P.prototype.clear=function(){this.__data__=[]},P.prototype.delete=function(B){var G=this.__data__,X=_(G,B);return!(X<0)&&(X==G.length-1?G.pop():D.call(G,X,1),!0)},P.prototype.get=function(B){var G=this.__data__,X=_(G,B);return X<0?void 0:G[X][1]},P.prototype.has=function(B){return _(this.__data__,B)>-1},P.prototype.set=function(B,G){var X=this.__data__,J=_(X,B);return J<0?X.push([B,G]):X[J][1]=G,this},F.prototype.clear=function(){this.__data__={hash:new V,map:new(L||P),string:new V}},F.prototype.delete=function(B){return C(this,B).delete(B)},F.prototype.get=function(B){return C(this,B).get(B)},F.prototype.has=function(B){return C(this,B).has(B)},F.prototype.set=function(B,G){return C(this,B).set(B,G),this},A.prototype.add=A.prototype.push=function(B){return this.__data__.set(B,"__lodash_hash_undefined__"),this},A.prototype.has=function(B){return this.__data__.has(B)};var N=M&&1/p(new M([,-0]))[1]==1/0?function(B){return new M(B)}:function(){};function C(B,G){var X,J,O=B.__data__;return((J=typeof(X=G))=="string"||J=="number"||J=="symbol"||J=="boolean"?X!=="__proto__":X===null)?O[typeof G=="string"?"string":"hash"]:O.map}function W(B,G){var X=function(J,O){return J==null?void 0:J[O]}(B,G);return S(X)?X:void 0}function j(B){var G=typeof B;return!!B&&(G=="object"||G=="function")}s.exports=function(B){return B&&B.length?function(G,X,J){var O=-1,ee=d,U=G.length,z=!0,Z=[],te=Z;if(U>=200){var oe=N(G);if(oe)return p(oe);z=!1,ee=h,te=new A}else te=Z;e:for(;++O<U;){var ue=G[O],le=ue;if(ue=ue!==0?ue:0,z&&le==le){for(var ce=te.length;ce--;)if(te[ce]===le)continue e;Z.push(ue)}else ee(te,le,J)||(te!==Z&&te.push(le),Z.push(ue))}return Z}(B):[]}}).call(this)}).call(this,typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,s,i){var a=e("inherits"),o=e("hash-base"),c=e("safe-buffer").Buffer,u=new Array(16);function l(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function d(v,m){return v<<m|v>>>32-m}function f(v,m,x,y,w,E,I){return d(v+(m&x|~m&y)+w+E|0,I)+m|0}function h(v,m,x,y,w,E,I){return d(v+(m&y|x&~y)+w+E|0,I)+m|0}function p(v,m,x,y,w,E,I){return d(v+(m^x^y)+w+E|0,I)+m|0}function g(v,m,x,y,w,E,I){return d(v+(x^(m|~y))+w+E|0,I)+m|0}a(l,o),l.prototype._update=function(){for(var v=u,m=0;m<16;++m)v[m]=this._block.readInt32LE(4*m);var x=this._a,y=this._b,w=this._c,E=this._d;x=f(x,y,w,E,v[0],3614090360,7),E=f(E,x,y,w,v[1],3905402710,12),w=f(w,E,x,y,v[2],606105819,17),y=f(y,w,E,x,v[3],3250441966,22),x=f(x,y,w,E,v[4],4118548399,7),E=f(E,x,y,w,v[5],1200080426,12),w=f(w,E,x,y,v[6],2821735955,17),y=f(y,w,E,x,v[7],4249261313,22),x=f(x,y,w,E,v[8],1770035416,7),E=f(E,x,y,w,v[9],2336552879,12),w=f(w,E,x,y,v[10],4294925233,17),y=f(y,w,E,x,v[11],2304563134,22),x=f(x,y,w,E,v[12],1804603682,7),E=f(E,x,y,w,v[13],4254626195,12),w=f(w,E,x,y,v[14],2792965006,17),x=h(x,y=f(y,w,E,x,v[15],1236535329,22),w,E,v[1],4129170786,5),E=h(E,x,y,w,v[6],3225465664,9),w=h(w,E,x,y,v[11],643717713,14),y=h(y,w,E,x,v[0],3921069994,20),x=h(x,y,w,E,v[5],3593408605,5),E=h(E,x,y,w,v[10],38016083,9),w=h(w,E,x,y,v[15],3634488961,14),y=h(y,w,E,x,v[4],3889429448,20),x=h(x,y,w,E,v[9],568446438,5),E=h(E,x,y,w,v[14],3275163606,9),w=h(w,E,x,y,v[3],4107603335,14),y=h(y,w,E,x,v[8],1163531501,20),x=h(x,y,w,E,v[13],2850285829,5),E=h(E,x,y,w,v[2],4243563512,9),w=h(w,E,x,y,v[7],1735328473,14),x=p(x,y=h(y,w,E,x,v[12],2368359562,20),w,E,v[5],4294588738,4),E=p(E,x,y,w,v[8],2272392833,11),w=p(w,E,x,y,v[11],1839030562,16),y=p(y,w,E,x,v[14],4259657740,23),x=p(x,y,w,E,v[1],2763975236,4),E=p(E,x,y,w,v[4],1272893353,11),w=p(w,E,x,y,v[7],4139469664,16),y=p(y,w,E,x,v[10],3200236656,23),x=p(x,y,w,E,v[13],681279174,4),E=p(E,x,y,w,v[0],3936430074,11),w=p(w,E,x,y,v[3],3572445317,16),y=p(y,w,E,x,v[6],76029189,23),x=p(x,y,w,E,v[9],3654602809,4),E=p(E,x,y,w,v[12],3873151461,11),w=p(w,E,x,y,v[15],530742520,16),x=g(x,y=p(y,w,E,x,v[2],3299628645,23),w,E,v[0],4096336452,6),E=g(E,x,y,w,v[7],1126891415,10),w=g(w,E,x,y,v[14],2878612391,15),y=g(y,w,E,x,v[5],4237533241,21),x=g(x,y,w,E,v[12],1700485571,6),E=g(E,x,y,w,v[3],2399980690,10),w=g(w,E,x,y,v[10],4293915773,15),y=g(y,w,E,x,v[1],2240044497,21),x=g(x,y,w,E,v[8],1873313359,6),E=g(E,x,y,w,v[15],4264355552,10),w=g(w,E,x,y,v[6],2734768916,15),y=g(y,w,E,x,v[13],1309151649,21),x=g(x,y,w,E,v[4],4149444226,6),E=g(E,x,y,w,v[11],3174756917,10),w=g(w,E,x,y,v[2],718787259,15),y=g(y,w,E,x,v[9],3951481745,21),this._a=this._a+x|0,this._b=this._b+y|0,this._c=this._c+w|0,this._d=this._d+E|0},l.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var v=c.allocUnsafe(16);return v.writeInt32LE(this._a,0),v.writeInt32LE(this._b,4),v.writeInt32LE(this._c,8),v.writeInt32LE(this._d,12),v},s.exports=l},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,s,i){var a=e("bn.js"),o=e("brorand");function c(u){this.rand=u||new o.Rand}s.exports=c,c.create=function(u){return new c(u)},c.prototype._randbelow=function(u){var l=u.bitLength(),d=Math.ceil(l/8);do var f=new a(this.rand.generate(d));while(f.cmp(u)>=0);return f},c.prototype._randrange=function(u,l){var d=l.sub(u);return u.add(this._randbelow(d))},c.prototype.test=function(u,l,d){var f=u.bitLength(),h=a.mont(u),p=new a(1).toRed(h);l||(l=Math.max(1,f/48|0));for(var g=u.subn(1),v=0;!g.testn(v);v++);for(var m=u.shrn(v),x=g.toRed(h);l>0;l--){var y=this._randrange(new a(2),g);d&&d(y);var w=y.toRed(h).redPow(m);if(w.cmp(p)!==0&&w.cmp(x)!==0){for(var E=1;E<v;E++){if((w=w.redSqr()).cmp(p)===0)return!1;if(w.cmp(x)===0)break}if(E===v)return!1}}return!0},c.prototype.getDivisor=function(u,l){var d=u.bitLength(),f=a.mont(u),h=new a(1).toRed(f);l||(l=Math.max(1,d/48|0));for(var p=u.subn(1),g=0;!p.testn(g);g++);for(var v=u.shrn(g),m=p.toRed(f);l>0;l--){var x=this._randrange(new a(2),p),y=u.gcd(x);if(y.cmpn(1)!==0)return y;var w=x.toRed(f).redPow(v);if(w.cmp(h)!==0&&w.cmp(m)!==0){for(var E=1;E<g;E++){if((w=w.redSqr()).cmp(h)===0)return w.fromRed().subn(1).gcd(u);if(w.cmp(m)===0)break}if(E===g)return(w=w.redSqr()).fromRed().subn(1).gcd(u)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,s,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],453:[function(e,s,i){function a(o,c){if(!o)throw new Error(c||"Assertion failed")}s.exports=a,a.equal=function(o,c,u){if(o!=c)throw new Error(u||"Assertion failed: "+o+" != "+c)}},{}],454:[function(e,s,i){var a=i;function o(u){return u.length===1?"0"+u:u}function c(u){for(var l="",d=0;d<u.length;d++)l+=o(u[d].toString(16));return l}a.toArray=function(u,l){if(Array.isArray(u))return u.slice();if(!u)return[];var d=[];if(typeof u!="string"){for(var f=0;f<u.length;f++)d[f]=0|u[f];return d}if(l==="hex")for((u=u.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(u="0"+u),f=0;f<u.length;f+=2)d.push(parseInt(u[f]+u[f+1],16));else for(f=0;f<u.length;f++){var h=u.charCodeAt(f),p=h>>8,g=255&h;p?d.push(p,g):d.push(g)}return d},a.zero2=o,a.toHex=c,a.encode=function(u,l){return l==="hex"?c(u):u}},{}],455:[function(e,s,i){s.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,s,i){var a=e("asn1.js");i.certificate=e("./certificate");var o=a.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});i.RSAPrivateKey=o;var c=a.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});i.RSAPublicKey=c;var u=a.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())});i.PublicKey=u;var l=a.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),d=a.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(l),this.key("subjectPrivateKey").octstr())});i.PrivateKey=d;var f=a.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});i.EncryptedPrivateKey=f;var h=a.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});i.DSAPrivateKey=h,i.DSAparam=a.define("DSAparam",function(){this.int()});var p=a.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(g),this.key("publicKey").optional().explicit(1).bitstr())});i.ECPrivateKey=p;var g=a.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});i.signature=a.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(e,s,i){var a=e("asn1.js"),o=a.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),c=a.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),u=a.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),l=a.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(u),this.key("subjectPublicKey").bitstr())}),d=a.define("RelativeDistinguishedName",function(){this.setof(c)}),f=a.define("RDNSequence",function(){this.seqof(d)}),h=a.define("Name",function(){this.choice({rdnSequence:this.use(f)})}),p=a.define("Validity",function(){this.seq().obj(this.key("notBefore").use(o),this.key("notAfter").use(o))}),g=a.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),v=a.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(u),this.key("issuer").use(h),this.key("validity").use(p),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(l),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(g).optional())}),m=a.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(v),this.key("signatureAlgorithm").use(u),this.key("signatureValue").bitstr())});s.exports=m},{"asn1.js":170}],458:[function(e,s,i){var a=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,c=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,u=e("evp_bytestokey"),l=e("browserify-aes"),d=e("safe-buffer").Buffer;s.exports=function(f,h){var p,g=f.toString(),v=g.match(a);if(v){var m="aes"+v[1],x=d.from(v[2],"hex"),y=d.from(v[3].replace(/[\r\n]/g,""),"base64"),w=u(h,x.slice(0,8),parseInt(v[1],10)).key,E=[],I=l.createDecipheriv(m,w,x);E.push(I.update(y)),E.push(I.final()),p=d.concat(E)}else{var T=g.match(c);p=d.from(T[2].replace(/[\r\n]/g,""),"base64")}return{tag:g.match(o)[1],data:p}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,s,i){var a=e("./asn1"),o=e("./aesid.json"),c=e("./fixProc"),u=e("browserify-aes"),l=e("pbkdf2"),d=e("safe-buffer").Buffer;function f(h){var p;typeof h!="object"||d.isBuffer(h)||(p=h.passphrase,h=h.key),typeof h=="string"&&(h=d.from(h));var g,v,m=c(h,p),x=m.tag,y=m.data;switch(x){case"CERTIFICATE":v=a.certificate.decode(y,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(v||(v=a.PublicKey.decode(y,"der")),g=v.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPublicKey.decode(v.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return v.subjectPrivateKey=v.subjectPublicKey,{type:"ec",data:v};case"1.2.840.10040.4.1":return v.algorithm.params.pub_key=a.DSAparam.decode(v.subjectPublicKey.data,"der"),{type:"dsa",data:v.algorithm.params};default:throw new Error("unknown key id "+g)}case"ENCRYPTED PRIVATE KEY":y=function(w,E){var I=w.algorithm.decrypt.kde.kdeparams.salt,T=parseInt(w.algorithm.decrypt.kde.kdeparams.iters.toString(),10),R=o[w.algorithm.decrypt.cipher.algo.join(".")],D=w.algorithm.decrypt.cipher.iv,L=w.subjectPrivateKey,M=parseInt(R.split("-")[1],10)/8,H=l.pbkdf2Sync(E,I,T,M,"sha1"),V=u.createDecipheriv(R,H,D),P=[];return P.push(V.update(L)),P.push(V.final()),d.concat(P)}(y=a.EncryptedPrivateKey.decode(y,"der"),p);case"PRIVATE KEY":switch(g=(v=a.PrivateKey.decode(y,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPrivateKey.decode(v.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:v.algorithm.curve,privateKey:a.ECPrivateKey.decode(v.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return v.algorithm.params.priv_key=a.DSAparam.decode(v.subjectPrivateKey,"der"),{type:"dsa",params:v.algorithm.params};default:throw new Error("unknown key id "+g)}case"RSA PUBLIC KEY":return a.RSAPublicKey.decode(y,"der");case"RSA PRIVATE KEY":return a.RSAPrivateKey.decode(y,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:a.DSAPrivateKey.decode(y,"der")};case"EC PRIVATE KEY":return{curve:(y=a.ECPrivateKey.decode(y,"der")).parameters.value,privateKey:y.privateKey};default:throw new Error("unknown key type "+x)}}s.exports=f,f.signature=a.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,s,i){i.pbkdf2=e("./lib/async"),i.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,s,i){(function(a){(function(){var o,c,u=e("safe-buffer").Buffer,l=e("./precondition"),d=e("./default-encoding"),f=e("./sync"),h=e("./to-buffer"),p=a.crypto&&a.crypto.subtle,g={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},v=[];function m(){return c||(c=a.process&&a.process.nextTick?a.process.nextTick:a.queueMicrotask?a.queueMicrotask:a.setImmediate?a.setImmediate:a.setTimeout)}function x(y,w,E,I,T){return p.importKey("raw",y,{name:"PBKDF2"},!1,["deriveBits"]).then(function(R){return p.deriveBits({name:"PBKDF2",salt:w,iterations:E,hash:{name:T}},R,I<<3)}).then(function(R){return u.from(R)})}s.exports=function(y,w,E,I,T,R){typeof T=="function"&&(R=T,T=void 0);var D=g[(T=T||"sha1").toLowerCase()];if(D&&typeof a.Promise=="function"){if(l(E,I),y=h(y,d,"Password"),w=h(w,d,"Salt"),typeof R!="function")throw new Error("No callback provided to pbkdf2");(function(L,M){L.then(function(H){m()(function(){M(null,H)})},function(H){m()(function(){M(H)})})})(function(L){if(a.process&&!a.process.browser||!p||!p.importKey||!p.deriveBits)return Promise.resolve(!1);if(v[L]!==void 0)return v[L];var M=x(o=o||u.alloc(8),o,10,128,L).then(function(){return!0}).catch(function(){return!1});return v[L]=M,M}(D).then(function(L){return L?x(y,w,E,I,D):f(y,w,E,I,T)}),R)}else m()(function(){var L;try{L=f(y,w,E,I,T)}catch(M){return R(M)}R(null,L)})}}).call(this)}).call(this,typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,s,i){(function(a,o){(function(){var c;o.process&&o.process.browser?c="utf-8":o.process&&o.process.version?c=parseInt(a.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":c="utf-8",s.exports=c}).call(this)}).call(this,e("_process"),typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,s,i){var a=Math.pow(2,30)-1;s.exports=function(o,c){if(typeof o!="number")throw new TypeError("Iterations not a number");if(o<0)throw new TypeError("Bad iterations");if(typeof c!="number")throw new TypeError("Key length not a number");if(c<0||c>a||c!=c)throw new TypeError("Bad key length")}},{}],464:[function(e,s,i){var a=e("create-hash/md5"),o=e("ripemd160"),c=e("sha.js"),u=e("safe-buffer").Buffer,l=e("./precondition"),d=e("./default-encoding"),f=e("./to-buffer"),h=u.alloc(128),p={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function g(v,m,x){var y=function(D){function L(M){return c(D).update(M).digest()}return D==="rmd160"||D==="ripemd160"?function(M){return new o().update(M).digest()}:D==="md5"?a:L}(v),w=v==="sha512"||v==="sha384"?128:64;m.length>w?m=y(m):m.length<w&&(m=u.concat([m,h],w));for(var E=u.allocUnsafe(w+p[v]),I=u.allocUnsafe(w+p[v]),T=0;T<w;T++)E[T]=54^m[T],I[T]=92^m[T];var R=u.allocUnsafe(w+x+4);E.copy(R,0,0,w),this.ipad1=R,this.ipad2=E,this.opad=I,this.alg=v,this.blocksize=w,this.hash=y,this.size=p[v]}g.prototype.run=function(v,m){return v.copy(m,this.blocksize),this.hash(m).copy(this.opad,this.blocksize),this.hash(this.opad)},s.exports=function(v,m,x,y,w){l(x,y);var E=new g(w=w||"sha1",v=f(v,d,"Password"),(m=f(m,d,"Salt")).length),I=u.allocUnsafe(y),T=u.allocUnsafe(m.length+4);m.copy(T,0,0,m.length);for(var R=0,D=p[w],L=Math.ceil(y/D),M=1;M<=L;M++){T.writeUInt32BE(M,m.length);for(var H=E.run(T,E.ipad1),V=H,P=1;P<x;P++){V=E.run(V,E.ipad2);for(var F=0;F<D;F++)H[F]^=V[F]}H.copy(I,R),R+=D}return I}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,s,i){var a=e("safe-buffer").Buffer;s.exports=function(o,c,u){if(a.isBuffer(o))return o;if(typeof o=="string")return a.from(o,c);if(ArrayBuffer.isView(o))return a.from(o.buffer);throw new TypeError(u+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,s,i){(function(a){(function(){a===void 0||!a.version||a.version.indexOf("v0.")===0||a.version.indexOf("v1.")===0&&a.version.indexOf("v1.8.")!==0?s.exports={nextTick:function(o,c,u,l){if(typeof o!="function")throw new TypeError('"callback" argument must be a function');var d,f,h=arguments.length;switch(h){case 0:case 1:return a.nextTick(o);case 2:return a.nextTick(function(){o.call(null,c)});case 3:return a.nextTick(function(){o.call(null,c,u)});case 4:return a.nextTick(function(){o.call(null,c,u,l)});default:for(d=new Array(h-1),f=0;f<d.length;)d[f++]=arguments[f];return a.nextTick(function(){o.apply(null,d)})}}}:s.exports=a}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,s,i){var a,o,c=s.exports={};function u(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function d(w){if(a===setTimeout)return setTimeout(w,0);if((a===u||!a)&&setTimeout)return a=setTimeout,setTimeout(w,0);try{return a(w,0)}catch{try{return a.call(null,w,0)}catch{return a.call(this,w,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:u}catch{a=u}try{o=typeof clearTimeout=="function"?clearTimeout:l}catch{o=l}})();var f,h=[],p=!1,g=-1;function v(){p&&f&&(p=!1,f.length?h=f.concat(h):g=-1,h.length&&m())}function m(){if(!p){var w=d(v);p=!0;for(var E=h.length;E;){for(f=h,h=[];++g<E;)f&&f[g].run();g=-1,E=h.length}f=null,p=!1,function(I){if(o===clearTimeout)return clearTimeout(I);if((o===l||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(I);try{o(I)}catch{try{return o.call(null,I)}catch{return o.call(this,I)}}}(w)}}function x(w,E){this.fun=w,this.array=E}function y(){}c.nextTick=function(w){var E=new Array(arguments.length-1);if(arguments.length>1)for(var I=1;I<arguments.length;I++)E[I-1]=arguments[I];h.push(new x(w,E)),h.length!==1||p||d(m)},x.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=y,c.addListener=y,c.once=y,c.off=y,c.removeListener=y,c.removeAllListeners=y,c.emit=y,c.prependListener=y,c.prependOnceListener=y,c.listeners=function(w){return[]},c.binding=function(w){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(w){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],468:[function(e,s,i){i.publicEncrypt=e("./publicEncrypt"),i.privateDecrypt=e("./privateDecrypt"),i.privateEncrypt=function(a,o){return i.publicEncrypt(a,o,!0)},i.publicDecrypt=function(a,o){return i.privateDecrypt(a,o,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,s,i){var a=e("create-hash"),o=e("safe-buffer").Buffer;function c(u){var l=o.allocUnsafe(4);return l.writeUInt32BE(u,0),l}s.exports=function(u,l){for(var d,f=o.alloc(0),h=0;f.length<l;)d=c(h++),f=o.concat([f,a("sha1").update(u).update(d).digest()]);return f.slice(0,l)}},{"create-hash":386,"safe-buffer":494}],470:[function(e,s,i){arguments[4][184][0].apply(i,arguments)},{buffer:188,dup:184}],471:[function(e,s,i){var a=e("parse-asn1"),o=e("./mgf"),c=e("./xor"),u=e("bn.js"),l=e("browserify-rsa"),d=e("create-hash"),f=e("./withPublic"),h=e("safe-buffer").Buffer;s.exports=function(p,g,v){var m;m=p.padding?p.padding:v?1:4;var x,y=a(p),w=y.modulus.byteLength();if(g.length>w||new u(g).cmp(y.modulus)>=0)throw new Error("decryption error");x=v?f(new u(g),y):l(g,y);var E=h.alloc(w-x.length);if(x=h.concat([E,x],w),m===4)return function(I,T){var R=I.modulus.byteLength(),D=d("sha1").update(h.alloc(0)).digest(),L=D.length;if(T[0]!==0)throw new Error("decryption error");var M=T.slice(1,L+1),H=T.slice(L+1),V=c(M,o(H,L)),P=c(H,o(V,R-L-1));if(function(A,_){A=h.from(A),_=h.from(_);var S=0,N=A.length;A.length!==_.length&&(S++,N=Math.min(A.length,_.length));for(var C=-1;++C<N;)S+=A[C]^_[C];return S}(D,P.slice(0,L)))throw new Error("decryption error");for(var F=L;P[F]===0;)F++;if(P[F++]!==1)throw new Error("decryption error");return P.slice(F)}(y,x);if(m===1)return function(I,T,R){for(var D=T.slice(0,2),L=2,M=0;T[L++]!==0;)if(L>=T.length){M++;break}var H=T.slice(2,L-1);if((D.toString("hex")!=="0002"&&!R||D.toString("hex")!=="0001"&&R)&&M++,H.length<8&&M++,M)throw new Error("decryption error");return T.slice(L)}(0,x,v);if(m===3)return x;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,s,i){var a=e("parse-asn1"),o=e("randombytes"),c=e("create-hash"),u=e("./mgf"),l=e("./xor"),d=e("bn.js"),f=e("./withPublic"),h=e("browserify-rsa"),p=e("safe-buffer").Buffer;s.exports=function(g,v,m){var x;x=g.padding?g.padding:m?1:4;var y,w=a(g);if(x===4)y=function(E,I){var T=E.modulus.byteLength(),R=I.length,D=c("sha1").update(p.alloc(0)).digest(),L=D.length,M=2*L;if(R>T-M-2)throw new Error("message too long");var H=p.alloc(T-R-M-2),V=T-L-1,P=o(L),F=l(p.concat([D,H,p.alloc(1,1),I],V),u(P,V)),A=l(P,u(F,L));return new d(p.concat([p.alloc(1),A,F],T))}(w,v);else if(x===1)y=function(E,I,T){var R,D=I.length,L=E.modulus.byteLength();if(D>L-11)throw new Error("message too long");return R=T?p.alloc(L-D-3,255):function(M){for(var H,V=p.allocUnsafe(M),P=0,F=o(2*M),A=0;P<M;)A===F.length&&(F=o(2*M),A=0),(H=F[A++])&&(V[P++]=H);return V}(L-D-3),new d(p.concat([p.from([0,T?1:2]),R,p.alloc(1),I],L))}(w,v,m);else{if(x!==3)throw new Error("unknown padding");if((y=new d(v)).cmp(w.modulus)>=0)throw new Error("data too long for modulus")}return m?h(y,w):f(y,w)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,s,i){var a=e("bn.js"),o=e("safe-buffer").Buffer;s.exports=function(c,u){return o.from(c.toRed(a.mont(u.modulus)).redPow(new a(u.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(e,s,i){s.exports=function(a,o){for(var c=a.length,u=-1;++u<c;)a[u]^=o[u];return a}},{}],475:[function(e,s,i){(function(a,o){(function(){var c=e("safe-buffer").Buffer,u=o.crypto||o.msCrypto;u&&u.getRandomValues?s.exports=function(l,d){if(l>4294967295)throw new RangeError("requested too many random bytes");var f=c.allocUnsafe(l);if(l>0)if(l>65536)for(var h=0;h<l;h+=65536)u.getRandomValues(f.slice(h,h+65536));else u.getRandomValues(f);return typeof d=="function"?a.nextTick(function(){d(null,f)}):f}:s.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,s,i){(function(a,o){(function(){function c(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var u=e("safe-buffer"),l=e("randombytes"),d=u.Buffer,f=u.kMaxLength,h=o.crypto||o.msCrypto,p=Math.pow(2,32)-1;function g(x,y){if(typeof x!="number"||x!=x)throw new TypeError("offset must be a number");if(x>p||x<0)throw new TypeError("offset must be a uint32");if(x>f||x>y)throw new RangeError("offset out of range")}function v(x,y,w){if(typeof x!="number"||x!=x)throw new TypeError("size must be a number");if(x>p||x<0)throw new TypeError("size must be a uint32");if(x+y>w||x>f)throw new RangeError("buffer too small")}function m(x,y,w,E){if(a.browser){var I=x.buffer,T=new Uint8Array(I,y,w);return h.getRandomValues(T),E?void a.nextTick(function(){E(null,x)}):x}if(!E)return l(w).copy(x,y),x;l(w,function(R,D){if(R)return E(R);D.copy(x,y),E(null,x)})}h&&h.getRandomValues||!a.browser?(i.randomFill=function(x,y,w,E){if(!(d.isBuffer(x)||x instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof y=="function")E=y,y=0,w=x.length;else if(typeof w=="function")E=w,w=x.length-y;else if(typeof E!="function")throw new TypeError('"cb" argument must be a function');return g(y,x.length),v(w,y,x.length),m(x,y,w,E)},i.randomFillSync=function(x,y,w){if(y===void 0&&(y=0),!(d.isBuffer(x)||x instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return g(y,x.length),w===void 0&&(w=x.length-y),v(w,y,x.length),m(x,y,w)}):(i.randomFill=c,i.randomFillSync=c)}).call(this)}).call(this,e("_process"),typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,s,i){var a={};function o(u,l,d){d||(d=Error);var f=function(h){var p,g;function v(m,x,y){return h.call(this,function(w,E,I){return typeof l=="string"?l:l(w,E,I)}(m,x,y))||this}return g=h,(p=v).prototype=Object.create(g.prototype),p.prototype.constructor=p,p.__proto__=g,v}(d);f.prototype.name=d.name,f.prototype.code=u,a[u]=f}function c(u,l){if(Array.isArray(u)){var d=u.length;return u=u.map(function(f){return String(f)}),d>2?"one of ".concat(l," ").concat(u.slice(0,d-1).join(", "),", or ")+u[d-1]:d===2?"one of ".concat(l," ").concat(u[0]," or ").concat(u[1]):"of ".concat(l," ").concat(u[0])}return"of ".concat(l," ").concat(String(u))}o("ERR_INVALID_OPT_VALUE",function(u,l){return'The value "'+l+'" is invalid for option "'+u+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(u,l,d){var f,h,p;if(typeof l=="string"&&(h="not ",l.substr(0,h.length)===h)?(f="must not be",l=l.replace(/^not /,"")):f="must be",function(v,m,x){return(x===void 0||x>v.length)&&(x=v.length),v.substring(x-m.length,x)===m}(u," argument"))p="The ".concat(u," ").concat(f," ").concat(c(l,"type"));else{var g=function(v,m,x){return typeof x!="number"&&(x=0),!(x+m.length>v.length)&&v.indexOf(m,x)!==-1}(u,".")?"property":"argument";p='The "'.concat(u,'" ').concat(g," ").concat(f," ").concat(c(l,"type"))}return p+=". Received type ".concat(typeof d)},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.codes=a},{}],478:[function(e,s,i){(function(a){(function(){var o=Object.keys||function(v){var m=[];for(var x in v)m.push(x);return m};s.exports=h;var c=e("./_stream_readable"),u=e("./_stream_writable");e("inherits")(h,c);for(var l=o(u.prototype),d=0;d<l.length;d++){var f=l[d];h.prototype[f]||(h.prototype[f]=u.prototype[f])}function h(v){if(!(this instanceof h))return new h(v);c.call(this,v),u.call(this,v),this.allowHalfOpen=!0,v&&(v.readable===!1&&(this.readable=!1),v.writable===!1&&(this.writable=!1),v.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",p)))}function p(){this._writableState.ended||a.nextTick(g,this)}function g(v){v.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(v){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=v,this._writableState.destroyed=v)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,s,i){s.exports=o;var a=e("./_stream_transform");function o(c){if(!(this instanceof o))return new o(c);a.call(this,c)}e("inherits")(o,a),o.prototype._transform=function(c,u,l){l(null,c)}},{"./_stream_transform":481,inherits:440}],480:[function(e,s,i){(function(a,o){(function(){var c;s.exports=V,V.ReadableState=H,e("events").EventEmitter;var u=function(U,z){return U.listeners(z).length},l=e("./internal/streams/stream"),d=e("buffer").Buffer,f=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,p=e("util");h=p&&p.debuglog?p.debuglog("stream"):function(){};var g,v,m,x=e("./internal/streams/buffer_list"),y=e("./internal/streams/destroy"),w=e("./internal/streams/state").getHighWaterMark,E=e("../errors").codes,I=E.ERR_INVALID_ARG_TYPE,T=E.ERR_STREAM_PUSH_AFTER_EOF,R=E.ERR_METHOD_NOT_IMPLEMENTED,D=E.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(V,l);var L=y.errorOrDestroy,M=["error","close","destroy","pause","resume"];function H(U,z,Z){c=c||e("./_stream_duplex"),U=U||{},typeof Z!="boolean"&&(Z=z instanceof c),this.objectMode=!!U.objectMode,Z&&(this.objectMode=this.objectMode||!!U.readableObjectMode),this.highWaterMark=w(this,U,"readableHighWaterMark",Z),this.buffer=new x,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=U.emitClose!==!1,this.autoDestroy=!!U.autoDestroy,this.destroyed=!1,this.defaultEncoding=U.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,U.encoding&&(g||(g=e("string_decoder/").StringDecoder),this.decoder=new g(U.encoding),this.encoding=U.encoding)}function V(U){if(c=c||e("./_stream_duplex"),!(this instanceof V))return new V(U);var z=this instanceof c;this._readableState=new H(U,this,z),this.readable=!0,U&&(typeof U.read=="function"&&(this._read=U.read),typeof U.destroy=="function"&&(this._destroy=U.destroy)),l.call(this)}function P(U,z,Z,te,oe){h("readableAddChunk",z);var ue,le=U._readableState;if(z===null)le.reading=!1,function(ce,_e){if(h("onEofChunk"),!_e.ended){if(_e.decoder){var fe=_e.decoder.end();fe&&fe.length&&(_e.buffer.push(fe),_e.length+=_e.objectMode?1:fe.length)}_e.ended=!0,_e.sync?_(ce):(_e.needReadable=!1,_e.emittedReadable||(_e.emittedReadable=!0,S(ce)))}}(U,le);else if(oe||(ue=function(ce,_e){var fe;ge=_e,d.isBuffer(ge)||ge instanceof f||typeof _e=="string"||_e===void 0||ce.objectMode||(fe=new I("chunk",["string","Buffer","Uint8Array"],_e));var ge;return fe}(le,z)),ue)L(U,ue);else if(le.objectMode||z&&z.length>0)if(typeof z=="string"||le.objectMode||Object.getPrototypeOf(z)===d.prototype||(z=function(ce){return d.from(ce)}(z)),te)le.endEmitted?L(U,new D):F(U,le,z,!0);else if(le.ended)L(U,new T);else{if(le.destroyed)return!1;le.reading=!1,le.decoder&&!Z?(z=le.decoder.write(z),le.objectMode||z.length!==0?F(U,le,z,!1):N(U,le)):F(U,le,z,!1)}else te||(le.reading=!1,N(U,le));return!le.ended&&(le.length<le.highWaterMark||le.length===0)}function F(U,z,Z,te){z.flowing&&z.length===0&&!z.sync?(z.awaitDrain=0,U.emit("data",Z)):(z.length+=z.objectMode?1:Z.length,te?z.buffer.unshift(Z):z.buffer.push(Z),z.needReadable&&_(U)),N(U,z)}Object.defineProperty(V.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(U){this._readableState&&(this._readableState.destroyed=U)}}),V.prototype.destroy=y.destroy,V.prototype._undestroy=y.undestroy,V.prototype._destroy=function(U,z){z(U)},V.prototype.push=function(U,z){var Z,te=this._readableState;return te.objectMode?Z=!0:typeof U=="string"&&((z=z||te.defaultEncoding)!==te.encoding&&(U=d.from(U,z),z=""),Z=!0),P(this,U,z,!1,Z)},V.prototype.unshift=function(U){return P(this,U,null,!0,!1)},V.prototype.isPaused=function(){return this._readableState.flowing===!1},V.prototype.setEncoding=function(U){g||(g=e("string_decoder/").StringDecoder);var z=new g(U);this._readableState.decoder=z,this._readableState.encoding=this._readableState.decoder.encoding;for(var Z=this._readableState.buffer.head,te="";Z!==null;)te+=z.write(Z.data),Z=Z.next;return this._readableState.buffer.clear(),te!==""&&this._readableState.buffer.push(te),this._readableState.length=te.length,this};function A(U,z){return U<=0||z.length===0&&z.ended?0:z.objectMode?1:U!=U?z.flowing&&z.length?z.buffer.head.data.length:z.length:(U>z.highWaterMark&&(z.highWaterMark=function(Z){return Z>=1073741824?Z=1073741824:(Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++),Z}(U)),U<=z.length?U:z.ended?z.length:(z.needReadable=!0,0))}function _(U){var z=U._readableState;h("emitReadable",z.needReadable,z.emittedReadable),z.needReadable=!1,z.emittedReadable||(h("emitReadable",z.flowing),z.emittedReadable=!0,a.nextTick(S,U))}function S(U){var z=U._readableState;h("emitReadable_",z.destroyed,z.length,z.ended),z.destroyed||!z.length&&!z.ended||(U.emit("readable"),z.emittedReadable=!1),z.needReadable=!z.flowing&&!z.ended&&z.length<=z.highWaterMark,G(U)}function N(U,z){z.readingMore||(z.readingMore=!0,a.nextTick(C,U,z))}function C(U,z){for(;!z.reading&&!z.ended&&(z.length<z.highWaterMark||z.flowing&&z.length===0);){var Z=z.length;if(h("maybeReadMore read 0"),U.read(0),Z===z.length)break}z.readingMore=!1}function W(U){var z=U._readableState;z.readableListening=U.listenerCount("readable")>0,z.resumeScheduled&&!z.paused?z.flowing=!0:U.listenerCount("data")>0&&U.resume()}function j(U){h("readable nexttick read 0"),U.read(0)}function B(U,z){h("resume",z.reading),z.reading||U.read(0),z.resumeScheduled=!1,U.emit("resume"),G(U),z.flowing&&!z.reading&&U.read(0)}function G(U){var z=U._readableState;for(h("flow",z.flowing);z.flowing&&U.read()!==null;);}function X(U,z){return z.length===0?null:(z.objectMode?Z=z.buffer.shift():!U||U>=z.length?(Z=z.decoder?z.buffer.join(""):z.buffer.length===1?z.buffer.first():z.buffer.concat(z.length),z.buffer.clear()):Z=z.buffer.consume(U,z.decoder),Z);var Z}function J(U){var z=U._readableState;h("endReadable",z.endEmitted),z.endEmitted||(z.ended=!0,a.nextTick(O,z,U))}function O(U,z){if(h("endReadableNT",U.endEmitted,U.length),!U.endEmitted&&U.length===0&&(U.endEmitted=!0,z.readable=!1,z.emit("end"),U.autoDestroy)){var Z=z._writableState;(!Z||Z.autoDestroy&&Z.finished)&&z.destroy()}}function ee(U,z){for(var Z=0,te=U.length;Z<te;Z++)if(U[Z]===z)return Z;return-1}V.prototype.read=function(U){h("read",U),U=parseInt(U,10);var z=this._readableState,Z=U;if(U!==0&&(z.emittedReadable=!1),U===0&&z.needReadable&&((z.highWaterMark!==0?z.length>=z.highWaterMark:z.length>0)||z.ended))return h("read: emitReadable",z.length,z.ended),z.length===0&&z.ended?J(this):_(this),null;if((U=A(U,z))===0&&z.ended)return z.length===0&&J(this),null;var te,oe=z.needReadable;return h("need readable",oe),(z.length===0||z.length-U<z.highWaterMark)&&h("length less than watermark",oe=!0),z.ended||z.reading?h("reading or ended",oe=!1):oe&&(h("do read"),z.reading=!0,z.sync=!0,z.length===0&&(z.needReadable=!0),this._read(z.highWaterMark),z.sync=!1,z.reading||(U=A(Z,z))),(te=U>0?X(U,z):null)===null?(z.needReadable=z.length<=z.highWaterMark,U=0):(z.length-=U,z.awaitDrain=0),z.length===0&&(z.ended||(z.needReadable=!0),Z!==U&&z.ended&&J(this)),te!==null&&this.emit("data",te),te},V.prototype._read=function(U){L(this,new R("_read()"))},V.prototype.pipe=function(U,z){var Z=this,te=this._readableState;switch(te.pipesCount){case 0:te.pipes=U;break;case 1:te.pipes=[te.pipes,U];break;default:te.pipes.push(U)}te.pipesCount+=1,h("pipe count=%d opts=%j",te.pipesCount,z);var oe=(!z||z.end!==!1)&&U!==a.stdout&&U!==a.stderr?le:Me;function ue(Oe,ze){h("onunpipe"),Oe===Z&&ze&&ze.hasUnpiped===!1&&(ze.hasUnpiped=!0,h("cleanup"),U.removeListener("close",xe),U.removeListener("finish",Le),U.removeListener("drain",ce),U.removeListener("error",ge),U.removeListener("unpipe",ue),Z.removeListener("end",le),Z.removeListener("end",Me),Z.removeListener("data",fe),_e=!0,!te.awaitDrain||U._writableState&&!U._writableState.needDrain||ce())}function le(){h("onend"),U.end()}te.endEmitted?a.nextTick(oe):Z.once("end",oe),U.on("unpipe",ue);var ce=function(Oe){return function(){var ze=Oe._readableState;h("pipeOnDrain",ze.awaitDrain),ze.awaitDrain&&ze.awaitDrain--,ze.awaitDrain===0&&u(Oe,"data")&&(ze.flowing=!0,G(Oe))}}(Z);U.on("drain",ce);var _e=!1;function fe(Oe){h("ondata");var ze=U.write(Oe);h("dest.write",ze),ze===!1&&((te.pipesCount===1&&te.pipes===U||te.pipesCount>1&&ee(te.pipes,U)!==-1)&&!_e&&(h("false write response, pause",te.awaitDrain),te.awaitDrain++),Z.pause())}function ge(Oe){h("onerror",Oe),Me(),U.removeListener("error",ge),u(U,"error")===0&&L(U,Oe)}function xe(){U.removeListener("finish",Le),Me()}function Le(){h("onfinish"),U.removeListener("close",xe),Me()}function Me(){h("unpipe"),Z.unpipe(U)}return Z.on("data",fe),function(Oe,ze,Ke){if(typeof Oe.prependListener=="function")return Oe.prependListener(ze,Ke);Oe._events&&Oe._events[ze]?Array.isArray(Oe._events[ze])?Oe._events[ze].unshift(Ke):Oe._events[ze]=[Ke,Oe._events[ze]]:Oe.on(ze,Ke)}(U,"error",ge),U.once("close",xe),U.once("finish",Le),U.emit("pipe",Z),te.flowing||(h("pipe resume"),Z.resume()),U},V.prototype.unpipe=function(U){var z=this._readableState,Z={hasUnpiped:!1};if(z.pipesCount===0)return this;if(z.pipesCount===1)return U&&U!==z.pipes||(U||(U=z.pipes),z.pipes=null,z.pipesCount=0,z.flowing=!1,U&&U.emit("unpipe",this,Z)),this;if(!U){var te=z.pipes,oe=z.pipesCount;z.pipes=null,z.pipesCount=0,z.flowing=!1;for(var ue=0;ue<oe;ue++)te[ue].emit("unpipe",this,{hasUnpiped:!1});return this}var le=ee(z.pipes,U);return le===-1||(z.pipes.splice(le,1),z.pipesCount-=1,z.pipesCount===1&&(z.pipes=z.pipes[0]),U.emit("unpipe",this,Z)),this},V.prototype.on=function(U,z){var Z=l.prototype.on.call(this,U,z),te=this._readableState;return U==="data"?(te.readableListening=this.listenerCount("readable")>0,te.flowing!==!1&&this.resume()):U==="readable"&&(te.endEmitted||te.readableListening||(te.readableListening=te.needReadable=!0,te.flowing=!1,te.emittedReadable=!1,h("on readable",te.length,te.reading),te.length?_(this):te.reading||a.nextTick(j,this))),Z},V.prototype.addListener=V.prototype.on,V.prototype.removeListener=function(U,z){var Z=l.prototype.removeListener.call(this,U,z);return U==="readable"&&a.nextTick(W,this),Z},V.prototype.removeAllListeners=function(U){var z=l.prototype.removeAllListeners.apply(this,arguments);return U!=="readable"&&U!==void 0||a.nextTick(W,this),z},V.prototype.resume=function(){var U=this._readableState;return U.flowing||(h("resume"),U.flowing=!U.readableListening,function(z,Z){Z.resumeScheduled||(Z.resumeScheduled=!0,a.nextTick(B,z,Z))}(this,U)),U.paused=!1,this},V.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},V.prototype.wrap=function(U){var z=this,Z=this._readableState,te=!1;for(var oe in U.on("end",function(){if(h("wrapped end"),Z.decoder&&!Z.ended){var le=Z.decoder.end();le&&le.length&&z.push(le)}z.push(null)}),U.on("data",function(le){h("wrapped data"),Z.decoder&&(le=Z.decoder.write(le)),Z.objectMode&&le==null||(Z.objectMode||le&&le.length)&&(z.push(le)||(te=!0,U.pause()))}),U)this[oe]===void 0&&typeof U[oe]=="function"&&(this[oe]=function(le){return function(){return U[le].apply(U,arguments)}}(oe));for(var ue=0;ue<M.length;ue++)U.on(M[ue],this.emit.bind(this,M[ue]));return this._read=function(le){h("wrapped _read",le),te&&(te=!1,U.resume())},this},typeof Symbol=="function"&&(V.prototype[Symbol.asyncIterator]=function(){return v===void 0&&(v=e("./internal/streams/async_iterator")),v(this)}),Object.defineProperty(V.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(V.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(V.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(U){this._readableState&&(this._readableState.flowing=U)}}),V._fromList=X,Object.defineProperty(V.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(V.from=function(U,z){return m===void 0&&(m=e("./internal/streams/from")),m(V,U,z)})}).call(this)}).call(this,e("_process"),typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,s,i){s.exports=h;var a=e("../errors").codes,o=a.ERR_METHOD_NOT_IMPLEMENTED,c=a.ERR_MULTIPLE_CALLBACK,u=a.ERR_TRANSFORM_ALREADY_TRANSFORMING,l=a.ERR_TRANSFORM_WITH_LENGTH_0,d=e("./_stream_duplex");function f(v,m){var x=this._transformState;x.transforming=!1;var y=x.writecb;if(y===null)return this.emit("error",new c);x.writechunk=null,x.writecb=null,m!=null&&this.push(m),y(v);var w=this._readableState;w.reading=!1,(w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}function h(v){if(!(this instanceof h))return new h(v);d.call(this,v),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,v&&(typeof v.transform=="function"&&(this._transform=v.transform),typeof v.flush=="function"&&(this._flush=v.flush)),this.on("prefinish",p)}function p(){var v=this;typeof this._flush!="function"||this._readableState.destroyed?g(this,null,null):this._flush(function(m,x){g(v,m,x)})}function g(v,m,x){if(m)return v.emit("error",m);if(x!=null&&v.push(x),v._writableState.length)throw new l;if(v._transformState.transforming)throw new u;return v.push(null)}e("inherits")(h,d),h.prototype.push=function(v,m){return this._transformState.needTransform=!1,d.prototype.push.call(this,v,m)},h.prototype._transform=function(v,m,x){x(new o("_transform()"))},h.prototype._write=function(v,m,x){var y=this._transformState;if(y.writecb=x,y.writechunk=v,y.writeencoding=m,!y.transforming){var w=this._readableState;(y.needTransform||w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}},h.prototype._read=function(v){var m=this._transformState;m.writechunk===null||m.transforming?m.needTransform=!0:(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform))},h.prototype._destroy=function(v,m){d.prototype._destroy.call(this,v,function(x){m(x)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,s,i){(function(a,o){(function(){function c(C){var W=this;this.next=null,this.entry=null,this.finish=function(){(function(j,B,G){var X=j.entry;for(j.entry=null;X;){var J=X.callback;B.pendingcb--,J(G),X=X.next}B.corkedRequestsFree.next=j})(W,C)}}var u;s.exports=V,V.WritableState=H;var l={deprecate:e("util-deprecate")},d=e("./internal/streams/stream"),f=e("buffer").Buffer,h=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},p,g=e("./internal/streams/destroy"),v=e("./internal/streams/state").getHighWaterMark,m=e("../errors").codes,x=m.ERR_INVALID_ARG_TYPE,y=m.ERR_METHOD_NOT_IMPLEMENTED,w=m.ERR_MULTIPLE_CALLBACK,E=m.ERR_STREAM_CANNOT_PIPE,I=m.ERR_STREAM_DESTROYED,T=m.ERR_STREAM_NULL_VALUES,R=m.ERR_STREAM_WRITE_AFTER_END,D=m.ERR_UNKNOWN_ENCODING,L=g.errorOrDestroy;function M(){}function H(C,W,j){u=u||e("./_stream_duplex"),C=C||{},typeof j!="boolean"&&(j=W instanceof u),this.objectMode=!!C.objectMode,j&&(this.objectMode=this.objectMode||!!C.writableObjectMode),this.highWaterMark=v(this,C,"writableHighWaterMark",j),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var B=C.decodeStrings===!1;this.decodeStrings=!B,this.defaultEncoding=C.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(G){(function(X,J){var O=X._writableState,ee=O.sync,U=O.writecb;if(typeof U!="function")throw new w;if(function(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0}(O),J)(function(Z,te,oe,ue,le){--te.pendingcb,oe?(a.nextTick(le,ue),a.nextTick(N,Z,te),Z._writableState.errorEmitted=!0,L(Z,ue)):(le(ue),Z._writableState.errorEmitted=!0,L(Z,ue),N(Z,te))})(X,O,ee,J,U);else{var z=_(O)||X.destroyed;z||O.corked||O.bufferProcessing||!O.bufferedRequest||A(X,O),ee?a.nextTick(F,X,O,z,U):F(X,O,z,U)}})(W,G)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=C.emitClose!==!1,this.autoDestroy=!!C.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new c(this)}function V(C){var W=this instanceof(u=u||e("./_stream_duplex"));if(!W&&!p.call(V,this))return new V(C);this._writableState=new H(C,this,W),this.writable=!0,C&&(typeof C.write=="function"&&(this._write=C.write),typeof C.writev=="function"&&(this._writev=C.writev),typeof C.destroy=="function"&&(this._destroy=C.destroy),typeof C.final=="function"&&(this._final=C.final)),d.call(this)}function P(C,W,j,B,G,X,J){W.writelen=B,W.writecb=J,W.writing=!0,W.sync=!0,W.destroyed?W.onwrite(new I("write")):j?C._writev(G,W.onwrite):C._write(G,X,W.onwrite),W.sync=!1}function F(C,W,j,B){j||function(G,X){X.length===0&&X.needDrain&&(X.needDrain=!1,G.emit("drain"))}(C,W),W.pendingcb--,B(),N(C,W)}function A(C,W){W.bufferProcessing=!0;var j=W.bufferedRequest;if(C._writev&&j&&j.next){var B=W.bufferedRequestCount,G=new Array(B),X=W.corkedRequestsFree;X.entry=j;for(var J=0,O=!0;j;)G[J]=j,j.isBuf||(O=!1),j=j.next,J+=1;G.allBuffers=O,P(C,W,!0,W.length,G,"",X.finish),W.pendingcb++,W.lastBufferedRequest=null,X.next?(W.corkedRequestsFree=X.next,X.next=null):W.corkedRequestsFree=new c(W),W.bufferedRequestCount=0}else{for(;j;){var ee=j.chunk,U=j.encoding,z=j.callback;if(P(C,W,!1,W.objectMode?1:ee.length,ee,U,z),j=j.next,W.bufferedRequestCount--,W.writing)break}j===null&&(W.lastBufferedRequest=null)}W.bufferedRequest=j,W.bufferProcessing=!1}function _(C){return C.ending&&C.length===0&&C.bufferedRequest===null&&!C.finished&&!C.writing}function S(C,W){C._final(function(j){W.pendingcb--,j&&L(C,j),W.prefinished=!0,C.emit("prefinish"),N(C,W)})}function N(C,W){var j=_(W);if(j&&(function(G,X){X.prefinished||X.finalCalled||(typeof G._final!="function"||X.destroyed?(X.prefinished=!0,G.emit("prefinish")):(X.pendingcb++,X.finalCalled=!0,a.nextTick(S,G,X)))}(C,W),W.pendingcb===0&&(W.finished=!0,C.emit("finish"),W.autoDestroy))){var B=C._readableState;(!B||B.autoDestroy&&B.endEmitted)&&C.destroy()}return j}e("inherits")(V,d),H.prototype.getBuffer=function(){for(var C=this.bufferedRequest,W=[];C;)W.push(C),C=C.next;return W},function(){try{Object.defineProperty(H.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(V,Symbol.hasInstance,{value:function(C){return!!p.call(this,C)||this===V&&C&&C._writableState instanceof H}})):p=function(C){return C instanceof this},V.prototype.pipe=function(){L(this,new E)},V.prototype.write=function(C,W,j){var B,G=this._writableState,X=!1,J=!G.objectMode&&(B=C,f.isBuffer(B)||B instanceof h);return J&&!f.isBuffer(C)&&(C=function(O){return f.from(O)}(C)),typeof W=="function"&&(j=W,W=null),J?W="buffer":W||(W=G.defaultEncoding),typeof j!="function"&&(j=M),G.ending?function(O,ee){var U=new R;L(O,U),a.nextTick(ee,U)}(this,j):(J||function(O,ee,U,z){var Z;return U===null?Z=new T:typeof U=="string"||ee.objectMode||(Z=new x("chunk",["string","Buffer"],U)),!Z||(L(O,Z),a.nextTick(z,Z),!1)}(this,G,C,j))&&(G.pendingcb++,X=function(O,ee,U,z,Z,te){if(!U){var oe=function(_e,fe,ge){return _e.objectMode||_e.decodeStrings===!1||typeof fe!="string"||(fe=f.from(fe,ge)),fe}(ee,z,Z);z!==oe&&(U=!0,Z="buffer",z=oe)}var ue=ee.objectMode?1:z.length;ee.length+=ue;var le=ee.length<ee.highWaterMark;if(le||(ee.needDrain=!0),ee.writing||ee.corked){var ce=ee.lastBufferedRequest;ee.lastBufferedRequest={chunk:z,encoding:Z,isBuf:U,callback:te,next:null},ce?ce.next=ee.lastBufferedRequest:ee.bufferedRequest=ee.lastBufferedRequest,ee.bufferedRequestCount+=1}else P(O,ee,!1,ue,z,Z,te);return le}(this,G,J,C,W,j)),X},V.prototype.cork=function(){this._writableState.corked++},V.prototype.uncork=function(){var C=this._writableState;C.corked&&(C.corked--,C.writing||C.corked||C.bufferProcessing||!C.bufferedRequest||A(this,C))},V.prototype.setDefaultEncoding=function(C){if(typeof C=="string"&&(C=C.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((C+"").toLowerCase())>-1))throw new D(C);return this._writableState.defaultEncoding=C,this},Object.defineProperty(V.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(V.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),V.prototype._write=function(C,W,j){j(new y("_write()"))},V.prototype._writev=null,V.prototype.end=function(C,W,j){var B=this._writableState;return typeof C=="function"?(j=C,C=null,W=null):typeof W=="function"&&(j=W,W=null),C!=null&&this.write(C,W),B.corked&&(B.corked=1,this.uncork()),B.ending||function(G,X,J){X.ending=!0,N(G,X),J&&(X.finished?a.nextTick(J):G.once("finish",J)),X.ended=!0,G.writable=!1}(this,B,j),this},Object.defineProperty(V.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(V.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(C){this._writableState&&(this._writableState.destroyed=C)}}),V.prototype.destroy=g.destroy,V.prototype._undestroy=g.undestroy,V.prototype._destroy=function(C,W){W(C)}}).call(this)}).call(this,e("_process"),typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,s,i){(function(a){(function(){var o;function c(I,T,R){return(T=function(D){var L=function(M,H){if(typeof M!="object"||M===null)return M;var V=M[Symbol.toPrimitive];if(V!==void 0){var P=V.call(M,H||"default");if(typeof P!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(H==="string"?String:Number)(M)}(D,"string");return typeof L=="symbol"?L:String(L)}(T))in I?Object.defineProperty(I,T,{value:R,enumerable:!0,configurable:!0,writable:!0}):I[T]=R,I}var u=e("./end-of-stream"),l=Symbol("lastResolve"),d=Symbol("lastReject"),f=Symbol("error"),h=Symbol("ended"),p=Symbol("lastPromise"),g=Symbol("handlePromise"),v=Symbol("stream");function m(I,T){return{value:I,done:T}}function x(I){var T=I[l];if(T!==null){var R=I[v].read();R!==null&&(I[p]=null,I[l]=null,I[d]=null,T(m(R,!1)))}}function y(I){a.nextTick(x,I)}var w=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((c(o={get stream(){return this[v]},next:function(){var I=this,T=this[f];if(T!==null)return Promise.reject(T);if(this[h])return Promise.resolve(m(void 0,!0));if(this[v].destroyed)return new Promise(function(M,H){a.nextTick(function(){I[f]?H(I[f]):M(m(void 0,!0))})});var R,D=this[p];if(D)R=new Promise(function(M,H){return function(V,P){M.then(function(){H[h]?V(m(void 0,!0)):H[g](V,P)},P)}}(D,this));else{var L=this[v].read();if(L!==null)return Promise.resolve(m(L,!1));R=new Promise(this[g])}return this[p]=R,R}},Symbol.asyncIterator,function(){return this}),c(o,"return",function(){var I=this;return new Promise(function(T,R){I[v].destroy(null,function(D){D?R(D):T(m(void 0,!0))})})}),o),w);s.exports=function(I){var T,R=Object.create(E,(c(T={},v,{value:I,writable:!0}),c(T,l,{value:null,writable:!0}),c(T,d,{value:null,writable:!0}),c(T,f,{value:null,writable:!0}),c(T,h,{value:I._readableState.endEmitted,writable:!0}),c(T,g,{value:function(D,L){var M=R[v].read();M?(R[p]=null,R[l]=null,R[d]=null,D(m(M,!1))):(R[l]=D,R[d]=L)},writable:!0}),T));return R[p]=null,u(I,function(D){if(D&&D.code!=="ERR_STREAM_PREMATURE_CLOSE"){var L=R[d];return L!==null&&(R[p]=null,R[l]=null,R[d]=null,L(D)),void(R[f]=D)}var M=R[l];M!==null&&(R[p]=null,R[l]=null,R[d]=null,M(m(void 0,!0))),R[h]=!0}),I.on("readable",y.bind(null,R)),R}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,s,i){function a(p,g){var v=Object.keys(p);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(p);g&&(m=m.filter(function(x){return Object.getOwnPropertyDescriptor(p,x).enumerable})),v.push.apply(v,m)}return v}function o(p){for(var g=1;g<arguments.length;g++){var v=arguments[g]!=null?arguments[g]:{};g%2?a(Object(v),!0).forEach(function(m){c(p,m,v[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(v)):a(Object(v)).forEach(function(m){Object.defineProperty(p,m,Object.getOwnPropertyDescriptor(v,m))})}return p}function c(p,g,v){return(g=l(g))in p?Object.defineProperty(p,g,{value:v,enumerable:!0,configurable:!0,writable:!0}):p[g]=v,p}function u(p,g){for(var v=0;v<g.length;v++){var m=g[v];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,l(m.key),m)}}function l(p){var g=function(v,m){if(typeof v!="object"||v===null)return v;var x=v[Symbol.toPrimitive];if(x!==void 0){var y=x.call(v,m||"default");if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(v)}(p,"string");return typeof g=="symbol"?g:String(g)}var d=e("buffer").Buffer,f=e("util").inspect,h=f&&f.custom||"inspect";s.exports=function(){function p(){(function(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")})(this,p),this.head=null,this.tail=null,this.length=0}var g,v;return g=p,(v=[{key:"push",value:function(m){var x={data:m,next:null};this.length>0?this.tail.next=x:this.head=x,this.tail=x,++this.length}},{key:"unshift",value:function(m){var x={data:m,next:this.head};this.length===0&&(this.tail=x),this.head=x,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var x=this.head,y=""+x.data;x=x.next;)y+=m+x.data;return y}},{key:"concat",value:function(m){if(this.length===0)return d.alloc(0);for(var x,y,w,E=d.allocUnsafe(m>>>0),I=this.head,T=0;I;)x=I.data,y=E,w=T,d.prototype.copy.call(x,y,w),T+=I.data.length,I=I.next;return E}},{key:"consume",value:function(m,x){var y;return m<this.head.data.length?(y=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):y=m===this.head.data.length?this.shift():x?this._getString(m):this._getBuffer(m),y}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var x=this.head,y=1,w=x.data;for(m-=w.length;x=x.next;){var E=x.data,I=m>E.length?E.length:m;if(I===E.length?w+=E:w+=E.slice(0,m),(m-=I)==0){I===E.length?(++y,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=E.slice(I));break}++y}return this.length-=y,w}},{key:"_getBuffer",value:function(m){var x=d.allocUnsafe(m),y=this.head,w=1;for(y.data.copy(x),m-=y.data.length;y=y.next;){var E=y.data,I=m>E.length?E.length:m;if(E.copy(x,x.length-m,0,I),(m-=I)==0){I===E.length?(++w,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=E.slice(I));break}++w}return this.length-=w,x}},{key:h,value:function(m,x){return f(this,o(o({},x),{},{depth:0,customInspect:!1}))}}])&&u(g.prototype,v),Object.defineProperty(g,"prototype",{writable:!1}),p}()},{buffer:220,util:188}],485:[function(e,s,i){(function(a){(function(){function o(l,d){u(l,d),c(l)}function c(l){l._writableState&&!l._writableState.emitClose||l._readableState&&!l._readableState.emitClose||l.emit("close")}function u(l,d){l.emit("error",d)}s.exports={destroy:function(l,d){var f=this,h=this._readableState&&this._readableState.destroyed,p=this._writableState&&this._writableState.destroyed;return h||p?(d?d(l):l&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(u,this,l)):a.nextTick(u,this,l)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,function(g){!d&&g?f._writableState?f._writableState.errorEmitted?a.nextTick(c,f):(f._writableState.errorEmitted=!0,a.nextTick(o,f,g)):a.nextTick(o,f,g):d?(a.nextTick(c,f),d(g)):a.nextTick(c,f)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(l,d){var f=l._readableState,h=l._writableState;f&&f.autoDestroy||h&&h.autoDestroy?l.destroy(d):l.emit("error",d)}}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,s,i){var a=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function o(){}s.exports=function c(u,l,d){if(typeof l=="function")return c(u,null,l);l||(l={}),d=function(I){var T=!1;return function(){if(!T){T=!0;for(var R=arguments.length,D=new Array(R),L=0;L<R;L++)D[L]=arguments[L];I.apply(this,D)}}}(d||o);var f=l.readable||l.readable!==!1&&u.readable,h=l.writable||l.writable!==!1&&u.writable,p=function(){u.writable||v()},g=u._writableState&&u._writableState.finished,v=function(){h=!1,g=!0,f||d.call(u)},m=u._readableState&&u._readableState.endEmitted,x=function(){f=!1,m=!0,h||d.call(u)},y=function(I){d.call(u,I)},w=function(){var I;return f&&!m?(u._readableState&&u._readableState.ended||(I=new a),d.call(u,I)):h&&!g?(u._writableState&&u._writableState.ended||(I=new a),d.call(u,I)):void 0},E=function(){u.req.on("finish",v)};return function(I){return I.setHeader&&typeof I.abort=="function"}(u)?(u.on("complete",v),u.on("abort",w),u.req?E():u.on("request",E)):h&&!u._writableState&&(u.on("end",p),u.on("close",p)),u.on("end",x),u.on("finish",v),l.error!==!1&&u.on("error",y),u.on("close",w),function(){u.removeListener("complete",v),u.removeListener("abort",w),u.removeListener("request",E),u.req&&u.req.removeListener("finish",v),u.removeListener("end",p),u.removeListener("close",p),u.removeListener("finish",v),u.removeListener("end",x),u.removeListener("error",y),u.removeListener("close",w)}}},{"../../../errors":477}],487:[function(e,s,i){s.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,s,i){var a,o=e("../../../errors").codes,c=o.ERR_MISSING_ARGS,u=o.ERR_STREAM_DESTROYED;function l(g){if(g)throw g}function d(g,v,m,x){x=function(E){var I=!1;return function(){I||(I=!0,E.apply(void 0,arguments))}}(x);var y=!1;g.on("close",function(){y=!0}),a===void 0&&(a=e("./end-of-stream")),a(g,{readable:v,writable:m},function(E){if(E)return x(E);y=!0,x()});var w=!1;return function(E){if(!y&&!w)return w=!0,function(I){return I.setHeader&&typeof I.abort=="function"}(g)?g.abort():typeof g.destroy=="function"?g.destroy():void x(E||new u("pipe"))}}function f(g){g()}function h(g,v){return g.pipe(v)}function p(g){return g.length?typeof g[g.length-1]!="function"?l:g.pop():l}s.exports=function(){for(var g=arguments.length,v=new Array(g),m=0;m<g;m++)v[m]=arguments[m];var x,y=p(v);if(Array.isArray(v[0])&&(v=v[0]),v.length<2)throw new c("streams");var w=v.map(function(E,I){var T=I<v.length-1;return d(E,T,I>0,function(R){x||(x=R),R&&w.forEach(f),T||(w.forEach(f),y(x))})});return v.reduce(h)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,s,i){var a=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;s.exports={getHighWaterMark:function(o,c,u,l){var d=function(f,h,p){return f.highWaterMark!=null?f.highWaterMark:h?f[p]:null}(c,l,u);if(d!=null){if(!isFinite(d)||Math.floor(d)!==d||d<0)throw new a(l?u:"highWaterMark",d);return Math.floor(d)}return o.objectMode?16:16384}}},{"../../../errors":477}],490:[function(e,s,i){s.exports=e("events").EventEmitter},{events:422}],491:[function(e,s,i){(i=s.exports=e("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=e("./lib/_stream_writable.js"),i.Duplex=e("./lib/_stream_duplex.js"),i.Transform=e("./lib/_stream_transform.js"),i.PassThrough=e("./lib/_stream_passthrough.js"),i.finished=e("./lib/internal/streams/end-of-stream.js"),i.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,s,i){var a=function(o){var c=Object.prototype,u=c.hasOwnProperty,l=Object.defineProperty||function(N,C,W){N[C]=W.value},d=typeof Symbol=="function"?Symbol:{},f=d.iterator||"@@iterator",h=d.asyncIterator||"@@asyncIterator",p=d.toStringTag||"@@toStringTag";function g(N,C,W){return Object.defineProperty(N,C,{value:W,enumerable:!0,configurable:!0,writable:!0}),N[C]}try{g({},"")}catch{g=function(C,W,j){return C[W]=j}}function v(N,C,W,j){var B=C&&C.prototype instanceof y?C:y,G=Object.create(B.prototype),X=new A(j||[]);return l(G,"_invoke",{value:H(N,W,X)}),G}function m(N,C,W){try{return{type:"normal",arg:N.call(C,W)}}catch(j){return{type:"throw",arg:j}}}o.wrap=v;var x={};function y(){}function w(){}function E(){}var I={};g(I,f,function(){return this});var T=Object.getPrototypeOf,R=T&&T(T(_([])));R&&R!==c&&u.call(R,f)&&(I=R);var D=E.prototype=y.prototype=Object.create(I);function L(N){["next","throw","return"].forEach(function(C){g(N,C,function(W){return this._invoke(C,W)})})}function M(N,C){var W;l(this,"_invoke",{value:function(j,B){function G(){return new C(function(X,J){(function O(ee,U,z,Z){var te=m(N[ee],N,U);if(te.type!=="throw"){var oe=te.arg,ue=oe.value;return ue&&typeof ue=="object"&&u.call(ue,"__await")?C.resolve(ue.__await).then(function(le){O("next",le,z,Z)},function(le){O("throw",le,z,Z)}):C.resolve(ue).then(function(le){oe.value=le,z(oe)},function(le){return O("throw",le,z,Z)})}Z(te.arg)})(j,B,X,J)})}return W=W?W.then(G,G):G()}})}function H(N,C,W){var j="suspendedStart";return function(B,G){if(j==="executing")throw new Error("Generator is already running");if(j==="completed"){if(B==="throw")throw G;return S()}for(W.method=B,W.arg=G;;){var X=W.delegate;if(X){var J=V(X,W);if(J){if(J===x)continue;return J}}if(W.method==="next")W.sent=W._sent=W.arg;else if(W.method==="throw"){if(j==="suspendedStart")throw j="completed",W.arg;W.dispatchException(W.arg)}else W.method==="return"&&W.abrupt("return",W.arg);j="executing";var O=m(N,C,W);if(O.type==="normal"){if(j=W.done?"completed":"suspendedYield",O.arg===x)continue;return{value:O.arg,done:W.done}}O.type==="throw"&&(j="completed",W.method="throw",W.arg=O.arg)}}}function V(N,C){var W=C.method,j=N.iterator[W];if(j===void 0)return C.delegate=null,W==="throw"&&N.iterator.return&&(C.method="return",C.arg=void 0,V(N,C),C.method==="throw")||W!=="return"&&(C.method="throw",C.arg=new TypeError("The iterator does not provide a '"+W+"' method")),x;var B=m(j,N.iterator,C.arg);if(B.type==="throw")return C.method="throw",C.arg=B.arg,C.delegate=null,x;var G=B.arg;return G?G.done?(C[N.resultName]=G.value,C.next=N.nextLoc,C.method!=="return"&&(C.method="next",C.arg=void 0),C.delegate=null,x):G:(C.method="throw",C.arg=new TypeError("iterator result is not an object"),C.delegate=null,x)}function P(N){var C={tryLoc:N[0]};1 in N&&(C.catchLoc=N[1]),2 in N&&(C.finallyLoc=N[2],C.afterLoc=N[3]),this.tryEntries.push(C)}function F(N){var C=N.completion||{};C.type="normal",delete C.arg,N.completion=C}function A(N){this.tryEntries=[{tryLoc:"root"}],N.forEach(P,this),this.reset(!0)}function _(N){if(N){var C=N[f];if(C)return C.call(N);if(typeof N.next=="function")return N;if(!isNaN(N.length)){var W=-1,j=function B(){for(;++W<N.length;)if(u.call(N,W))return B.value=N[W],B.done=!1,B;return B.value=void 0,B.done=!0,B};return j.next=j}}return{next:S}}function S(){return{value:void 0,done:!0}}return w.prototype=E,l(D,"constructor",{value:E,configurable:!0}),l(E,"constructor",{value:w,configurable:!0}),w.displayName=g(E,p,"GeneratorFunction"),o.isGeneratorFunction=function(N){var C=typeof N=="function"&&N.constructor;return!!C&&(C===w||(C.displayName||C.name)==="GeneratorFunction")},o.mark=function(N){return Object.setPrototypeOf?Object.setPrototypeOf(N,E):(N.__proto__=E,g(N,p,"GeneratorFunction")),N.prototype=Object.create(D),N},o.awrap=function(N){return{__await:N}},L(M.prototype),g(M.prototype,h,function(){return this}),o.AsyncIterator=M,o.async=function(N,C,W,j,B){B===void 0&&(B=Promise);var G=new M(v(N,C,W,j),B);return o.isGeneratorFunction(C)?G:G.next().then(function(X){return X.done?X.value:G.next()})},L(D),g(D,p,"Generator"),g(D,f,function(){return this}),g(D,"toString",function(){return"[object Generator]"}),o.keys=function(N){var C=Object(N),W=[];for(var j in C)W.push(j);return W.reverse(),function B(){for(;W.length;){var G=W.pop();if(G in C)return B.value=G,B.done=!1,B}return B.done=!0,B}},o.values=_,A.prototype={constructor:A,reset:function(N){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(F),!N)for(var C in this)C.charAt(0)==="t"&&u.call(this,C)&&!isNaN(+C.slice(1))&&(this[C]=void 0)},stop:function(){this.done=!0;var N=this.tryEntries[0].completion;if(N.type==="throw")throw N.arg;return this.rval},dispatchException:function(N){if(this.done)throw N;var C=this;function W(O,ee){return G.type="throw",G.arg=N,C.next=O,ee&&(C.method="next",C.arg=void 0),!!ee}for(var j=this.tryEntries.length-1;j>=0;--j){var B=this.tryEntries[j],G=B.completion;if(B.tryLoc==="root")return W("end");if(B.tryLoc<=this.prev){var X=u.call(B,"catchLoc"),J=u.call(B,"finallyLoc");if(X&&J){if(this.prev<B.catchLoc)return W(B.catchLoc,!0);if(this.prev<B.finallyLoc)return W(B.finallyLoc)}else if(X){if(this.prev<B.catchLoc)return W(B.catchLoc,!0)}else{if(!J)throw new Error("try statement without catch or finally");if(this.prev<B.finallyLoc)return W(B.finallyLoc)}}}},abrupt:function(N,C){for(var W=this.tryEntries.length-1;W>=0;--W){var j=this.tryEntries[W];if(j.tryLoc<=this.prev&&u.call(j,"finallyLoc")&&this.prev<j.finallyLoc){var B=j;break}}B&&(N==="break"||N==="continue")&&B.tryLoc<=C&&C<=B.finallyLoc&&(B=null);var G=B?B.completion:{};return G.type=N,G.arg=C,B?(this.method="next",this.next=B.finallyLoc,x):this.complete(G)},complete:function(N,C){if(N.type==="throw")throw N.arg;return N.type==="break"||N.type==="continue"?this.next=N.arg:N.type==="return"?(this.rval=this.arg=N.arg,this.method="return",this.next="end"):N.type==="normal"&&C&&(this.next=C),x},finish:function(N){for(var C=this.tryEntries.length-1;C>=0;--C){var W=this.tryEntries[C];if(W.finallyLoc===N)return this.complete(W.completion,W.afterLoc),F(W),x}},catch:function(N){for(var C=this.tryEntries.length-1;C>=0;--C){var W=this.tryEntries[C];if(W.tryLoc===N){var j=W.completion;if(j.type==="throw"){var B=j.arg;F(W)}return B}}throw new Error("illegal catch attempt")},delegateYield:function(N,C,W){return this.delegate={iterator:_(N),resultName:C,nextLoc:W},this.method==="next"&&(this.arg=void 0),x}},o}(typeof s=="object"?s.exports:{});try{regeneratorRuntime=a}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},{}],493:[function(e,s,i){var a=e("buffer").Buffer,o=e("inherits"),c=e("hash-base"),u=new Array(16),l=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],p=[0,1518500249,1859775393,2400959708,2840853838],g=[1352829926,1548603684,1836072691,2053994217,0];function v(){c.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function m(T,R){return T<<R|T>>>32-R}function x(T,R,D,L,M,H,V,P){return m(T+(R^D^L)+H+V|0,P)+M|0}function y(T,R,D,L,M,H,V,P){return m(T+(R&D|~R&L)+H+V|0,P)+M|0}function w(T,R,D,L,M,H,V,P){return m(T+((R|~D)^L)+H+V|0,P)+M|0}function E(T,R,D,L,M,H,V,P){return m(T+(R&L|D&~L)+H+V|0,P)+M|0}function I(T,R,D,L,M,H,V,P){return m(T+(R^(D|~L))+H+V|0,P)+M|0}o(v,c),v.prototype._update=function(){for(var T=u,R=0;R<16;++R)T[R]=this._block.readInt32LE(4*R);for(var D=0|this._a,L=0|this._b,M=0|this._c,H=0|this._d,V=0|this._e,P=0|this._a,F=0|this._b,A=0|this._c,_=0|this._d,S=0|this._e,N=0;N<80;N+=1){var C,W;N<16?(C=x(D,L,M,H,V,T[l[N]],p[0],f[N]),W=I(P,F,A,_,S,T[d[N]],g[0],h[N])):N<32?(C=y(D,L,M,H,V,T[l[N]],p[1],f[N]),W=E(P,F,A,_,S,T[d[N]],g[1],h[N])):N<48?(C=w(D,L,M,H,V,T[l[N]],p[2],f[N]),W=w(P,F,A,_,S,T[d[N]],g[2],h[N])):N<64?(C=E(D,L,M,H,V,T[l[N]],p[3],f[N]),W=y(P,F,A,_,S,T[d[N]],g[3],h[N])):(C=I(D,L,M,H,V,T[l[N]],p[4],f[N]),W=x(P,F,A,_,S,T[d[N]],g[4],h[N])),D=V,V=H,H=m(M,10),M=L,L=C,P=S,S=_,_=m(A,10),A=F,F=W}var j=this._b+M+_|0;this._b=this._c+H+S|0,this._c=this._d+V+P|0,this._d=this._e+D+F|0,this._e=this._a+L+A|0,this._a=j},v.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var T=a.alloc?a.alloc(20):new a(20);return T.writeInt32LE(this._a,0),T.writeInt32LE(this._b,4),T.writeInt32LE(this._c,8),T.writeInt32LE(this._d,12),T.writeInt32LE(this._e,16),T},s.exports=v},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,s,i){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var a=e("buffer"),o=a.Buffer;function c(l,d){for(var f in l)d[f]=l[f]}function u(l,d,f){return o(l,d,f)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?s.exports=a:(c(a,i),i.Buffer=u),u.prototype=Object.create(o.prototype),c(o,u),u.from=function(l,d,f){if(typeof l=="number")throw new TypeError("Argument must not be a number");return o(l,d,f)},u.alloc=function(l,d,f){if(typeof l!="number")throw new TypeError("Argument must be a number");var h=o(l);return d!==void 0?typeof f=="string"?h.fill(d,f):h.fill(d):h.fill(0),h},u.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return o(l)},u.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(l)}},{buffer:220}],495:[function(e,s,i){(function(a){(function(){var o,c=e("buffer"),u=c.Buffer,l={};for(o in c)c.hasOwnProperty(o)&&o!=="SlowBuffer"&&o!=="Buffer"&&(l[o]=c[o]);var d=l.Buffer={};for(o in u)u.hasOwnProperty(o)&&o!=="allocUnsafe"&&o!=="allocUnsafeSlow"&&(d[o]=u[o]);if(l.Buffer.prototype=u.prototype,d.from&&d.from!==Uint8Array.from||(d.from=function(f,h,p){if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof f);if(f&&f.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);return u(f,h,p)}),d.alloc||(d.alloc=function(f,h,p){if(typeof f!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof f);if(f<0||f>=2*(1<<30))throw new RangeError('The value "'+f+'" is invalid for option "size"');var g=u(f);return h&&h.length!==0?typeof p=="string"?g.fill(h,p):g.fill(h):g.fill(0),g}),!l.kStringMaxLength)try{l.kStringMaxLength=a.binding("buffer").kStringMaxLength}catch{}l.constants||(l.constants={MAX_LENGTH:l.kMaxLength},l.kStringMaxLength&&(l.constants.MAX_STRING_LENGTH=l.kStringMaxLength)),s.exports=l}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,s,i){Object.defineProperty(i,"__esModule",{value:!0});const a=e("xmlchars/xml/1.0/ed5"),o=e("xmlchars/xml/1.1/ed2"),c=e("xmlchars/xmlns/1.0/ed3");var u=a.isS,l=a.isChar,d=a.isNameStartChar,f=a.isNameChar,h=a.S_LIST,p=a.NAME_RE,g=o.isChar,v=c.isNCNameStartChar,m=c.isNCNameChar,x=c.NC_NAME_RE;const y="http://www.w3.org/XML/1998/namespace",w="http://www.w3.org/2000/xmlns/",E={__proto__:null,xml:y,xmlns:w},I={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},T=_=>_===34||_===39,R=[34,39],D=[...R,91,62],L=[...R,60,93],M=[61,63,...h],H=[...h,62,38,60];function V(_,S,N){switch(S){case"xml":N!==y&&_.fail(`xml prefix must be bound to ${y}.`);break;case"xmlns":N!==w&&_.fail(`xmlns prefix must be bound to ${w}.`)}switch(N){case w:_.fail(S===""?`the default namespace may not be set to ${N}.`:`may not assign a prefix (even "xmlns") to the URI ${w}.`);break;case y:switch(S){case"xml":break;case"":_.fail(`the default namespace may not be set to ${N}.`);break;default:_.fail("may not assign the xml namespace to another prefix.")}}}const P=_=>x.test(_),F=_=>p.test(_);i.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const A={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};i.SaxesParser=class{constructor(_){this.opt=_??{},this.fragmentOpt=!!this.opt.fragment;const S=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,S){this.nameStartCheck=v,this.nameCheck=m,this.isName=P,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},E);const N=this.opt.additionalNamespaces;N!=null&&(function(C,W){for(const j of Object.keys(W))V(C,j,W[j])}(this,N),Object.assign(this.ns,N))}else this.nameStartCheck=d,this.nameCheck=f,this.isName=F,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var _;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:S}=this;this.state=S?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=S,this.xmlDeclPossible=!S,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:N}=this.opt;if(N===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");N="1.0"}this.setXMLVersion(N),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(I),(_=this.readyHandler)===null||_===void 0||_.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(_,S){this[A[_]]=S}off(_){this[A[_]]=void 0}makeError(_){var S;let N=(S=this.fileName)!==null&&S!==void 0?S:"";return this.trackPosition&&(N.length>0&&(N+=":"),N+=`${this.line}:${this.column}`),N.length>0&&(N+=": "),new Error(N+_)}fail(_){const S=this.makeError(_),N=this.errorHandler;if(N===void 0)throw S;return N(S),this}write(_){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let S=!1;_===null?(S=!0,_=""):typeof _=="object"&&(_=_.toString()),this.carriedFromPrevious!==void 0&&(_=`${this.carriedFromPrevious}${_}`,this.carriedFromPrevious=void 0);let N=_.length;const C=_.charCodeAt(N-1);!S&&(C===13||C>=55296&&C<=56319)&&(this.carriedFromPrevious=_[N-1],N--,_=_.slice(0,N));const{stateTable:W}=this;for(this.chunk=_,this.i=0;this.i<N;)W[this.state].call(this);return this.chunkPosition+=N,S?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:_,i:S}=this;if(this.prevI=S,this.i=S+1,S>=_.length)return-1;const N=_.charCodeAt(S);if(this.column++,N<55296){if(N>=32||N===9)return N;switch(N){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return _.charCodeAt(S+1)===10&&(this.i=S+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),N}}if(N>56319)return N>=57344&&N<=65533||this.fail("disallowed character."),N;const C=65536+1024*(N-55296)+(_.charCodeAt(S+1)-56320);return this.i=S+2,C>1114111&&this.fail("disallowed character."),C}getCode11(){const{chunk:_,i:S}=this;if(this.prevI=S,this.i=S+1,S>=_.length)return-1;const N=_.charCodeAt(S);if(this.column++,N<55296){if(N>31&&N<127||N>159&&N!==8232||N===9)return N;switch(N){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const W=_.charCodeAt(S+1);W!==10&&W!==133||(this.i=S+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),N}}if(N>56319)return N>=57344&&N<=65533||this.fail("disallowed character."),N;const C=65536+1024*(N-55296)+(_.charCodeAt(S+1)-56320);return this.i=S+2,C>1114111&&this.fail("disallowed character."),C}getCodeNorm(){const _=this.getCode();return _===-2?10:_}unget(){this.i=this.prevI,this.column--}captureTo(_){let{i:S}=this;const{chunk:N}=this;for(;;){const C=this.getCode(),W=C===-2,j=W?10:C;if(j===-1||_.includes(j))return this.text+=N.slice(S,this.prevI),j;W&&(this.text+=N.slice(S,this.prevI)+`
`,S=this.i)}}captureToChar(_){let{i:S}=this;const{chunk:N}=this;for(;;){let C=this.getCode();switch(C){case-2:this.text+=N.slice(S,this.prevI)+`
`,S=this.i,C=10;break;case-1:return this.text+=N.slice(S),!1}if(C===_)return this.text+=N.slice(S,this.prevI),!0}}captureNameChars(){const{chunk:_,i:S}=this;for(;;){const N=this.getCode();if(N===-1)return this.name+=_.slice(S),-1;if(!f(N))return this.name+=_.slice(S,this.prevI),N===-2?10:N}}skipSpaces(){for(;;){const _=this.getCodeNorm();if(_===-1||!u(_))return _}}setXMLVersion(_){this.currentXMLVersion=_,_==="1.0"?(this.isChar=l,this.getCode=this.getCode10):(this.isChar=g,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const _=this.i,S=this.skipSpaces();switch(this.prevI!==_&&(this.xmlDeclPossible=!1),S){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var _;const S=this.captureTo(D);switch(S){case 62:(_=this.doctypeHandler)===null||_===void 0||_.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(S),S===91?this.state=4:T(S)&&(this.state=3,this.q=S)}}sDoctypeQuote(){const _=this.q;this.captureToChar(_)&&(this.text+=String.fromCodePoint(_),this.q=null,this.state=2)}sDTD(){const _=this.captureTo(L);_!==-1&&(this.text+=String.fromCodePoint(_),_===93?this.state=2:_===60?this.state=6:T(_)&&(this.state=5,this.q=_))}sDTDQuoted(){const _=this.q;this.captureToChar(_)&&(this.text+=String.fromCodePoint(_),this.state=4,this.q=null)}sDTDOpenWaka(){const _=this.getCodeNorm();switch(this.text+=String.fromCodePoint(_),_){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const _=String.fromCodePoint(this.getCodeNorm()),S=this.openWakaBang+=_;this.text+=_,S!=="-"&&(this.state=S==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),this.state=_===45?10:8}sDTDCommentEnded(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),_===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),_===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:_}=this;const{chunk:S}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=S.slice(_,this.prevI)+`
`,_=this.i;break;case 59:{const{entityReturnState:N}=this,C=this.entity+S.slice(_,this.prevI);let W;this.state=N,C===""?(this.fail("empty entity name."),W="&;"):(W=this.parseEntity(C),this.entity=""),N===13&&this.textHandler===void 0||(this.text+=W);break e}case-1:this.entity+=S.slice(_);break e}}sOpenWaka(){const _=this.getCode();if(d(_))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(_){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var _;const S=this.getCodeNorm();S===45?(this.state=19,(_=this.commentHandler)===null||_===void 0||_.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(S),this.state=17)}sCommentEnded(){const _=this.getCodeNorm();_!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(_),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const _=this.getCodeNorm();_===93?this.state=22:(this.text+="]"+String.fromCodePoint(_),this.state=20)}sCDataEnding2(){var _;const S=this.getCodeNorm();switch(S){case 62:(_=this.cdataHandler)===null||_===void 0||_.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(S),this.state=20}}sPIFirstChar(){const _=this.getCodeNorm();this.nameStartCheck(_)?(this.piTarget+=String.fromCodePoint(_),this.state=24):_===63||u(_)?(this.fail("processing instruction without a target."),this.state=_===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(_),this.state=24)}sPIRest(){const{chunk:_,i:S}=this;for(;;){const N=this.getCodeNorm();if(N===-1)return void(this.piTarget+=_.slice(S));if(!this.nameCheck(N)){this.piTarget+=_.slice(S,this.prevI);const C=N===63;C||u(N)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=C?33:27):this.state=C?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(N));break}}}sPIBody(){if(this.text.length===0){const _=this.getCodeNorm();_===63?this.state=26:u(_)||(this.text=String.fromCodePoint(_))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var _;const S=this.getCodeNorm();if(S===62){const{piTarget:N}=this;N.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(_=this.piHandler)===null||_===void 0||_.call(this,{target:N,body:this.text}),this.piTarget=this.text="",this.state=13}else S===63?this.text+="?":(this.text+="?"+String.fromCodePoint(S),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const _=this.skipSpaces();_!==63?_!==-1&&(this.state=28,this.name=String.fromCodePoint(_)):this.state=33}sXMLDeclName(){const _=this.captureTo(M);if(_===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(u(_)||_===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=_===61?30:29}}sXMLDeclEq(){const _=this.getCodeNorm();if(_===63)return this.state=33,void this.fail("XML declaration is incomplete.");u(_)||(_!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const _=this.getCodeNorm();if(_===63)return this.state=33,void this.fail("XML declaration is incomplete.");u(_)||(T(_)?this.q=_:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const _=this.captureTo([this.q,63]);if(_===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(_===-1)return;const S=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const N=S;this.xmlDecl.version=N,/^1\.[0-9]+$/.test(N)?this.opt.forceXMLVersion||this.setXMLVersion(N):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(S)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=S;break;case"standalone":S!=="yes"&&S!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=S}this.name="",this.state=32}sXMLDeclSeparator(){const _=this.getCodeNorm();_!==63?(u(_)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var _;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(_=this.xmldeclHandler)===null||_===void 0||_.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var _;const S=this.captureNameChars();if(S===-1)return;const N=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=N.ns=Object.create(null)),(_=this.openTagStartHandler)===null||_===void 0||_.call(this,N),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),S){case 62:this.openTag();break;case 47:this.state=35;break;default:u(S)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const _=this.skipSpaces();_!==-1&&(d(_)?(this.unget(),this.state=37):_===62?this.openTag():_===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const _=this.captureNameChars();_===61?this.state=39:u(_)?this.state=38:_===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):_!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const _=this.skipSpaces();switch(_){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",_===62?this.openTag():d(_)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const _=this.getCodeNorm();T(_)?(this.q=_,this.state=40):u(_)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:_,chunk:S}=this;let{i:N}=this;for(;;)switch(this.getCode()){case _:return this.pushAttrib(this.name,this.text+S.slice(N,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=S.slice(N,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=S.slice(N,this.prevI)+" ",N=this.i;break;case 60:return this.text+=S.slice(N,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=S.slice(N))}}sAttribValueClosed(){const _=this.getCodeNorm();u(_)?this.state=36:_===62?this.openTag():_===47?this.state=35:d(_)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const _=this.captureTo(H);switch(_){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",_===62?this.openTag():this.state=36}}sCloseTag(){const _=this.captureNameChars();_===62?this.closeTag():u(_)?this.state=44:_!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:_,forbiddenState:S}=this;const{chunk:N,textHandler:C}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,C!==void 0){const{text:W}=this,j=N.slice(_,this.prevI);W.length!==0?(C(W+j),this.text=""):j.length!==0&&C(j)}S=0;break e;case 38:this.state=14,this.entityReturnState=13,C!==void 0&&(this.text+=N.slice(_,this.prevI)),S=0;break e;case 93:switch(S){case 0:S=1;break;case 1:S=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:S===2&&this.fail('the string "]]>" is disallowed in char data.'),S=0;break;case-2:C!==void 0&&(this.text+=N.slice(_,this.prevI)+`
`),_=this.i,S=0;break;case-1:C!==void 0&&(this.text+=N.slice(_));break e;default:S=0}this.forbiddenState=S}handleTextOutsideRoot(){let{i:_}=this;const{chunk:S,textHandler:N}=this;let C=!1;e:for(;;){const W=this.getCode();switch(W){case 60:if(this.state=15,N!==void 0){const{text:j}=this,B=S.slice(_,this.prevI);j.length!==0?(N(j+B),this.text=""):B.length!==0&&N(B)}break e;case 38:this.state=14,this.entityReturnState=13,N!==void 0&&(this.text+=S.slice(_,this.prevI)),C=!0;break e;case-2:N!==void 0&&(this.text+=S.slice(_,this.prevI)+`
`),_=this.i;break;case-1:N!==void 0&&(this.text+=S.slice(_));break e;default:u(W)||(C=!0)}}C&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(_,S){var N;const{prefix:C,local:W}=this.qname(_),j={name:_,prefix:C,local:W,value:S};if(this.attribList.push(j),(N=this.attributeHandler)===null||N===void 0||N.call(this,j),C==="xmlns"){const B=S.trim();this.currentXMLVersion==="1.0"&&B===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[W]=B,V(this,W,B)}else if(_==="xmlns"){const B=S.trim();this.topNS[""]=B,V(this,"",B)}}pushAttribPlain(_,S){var N;const C={name:_,value:S};this.attribList.push(C),(N=this.attributeHandler)===null||N===void 0||N.call(this,C)}end(){var _,S;this.sawRoot||this.fail("document must contain a root element.");const{tags:N}=this;for(;N.length>0;){const W=N.pop();this.fail("unclosed tag: "+W.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:C}=this;return C.length!==0&&((_=this.textHandler)===null||_===void 0||_.call(this,C),this.text=""),this._closed=!0,(S=this.endHandler)===null||S===void 0||S.call(this),this._init(),this}resolve(_){var S,N;let C=this.topNS[_];if(C!==void 0)return C;const{tags:W}=this;for(let j=W.length-1;j>=0;j--)if(C=W[j].ns[_],C!==void 0)return C;return C=this.ns[_],C!==void 0?C:(N=(S=this.opt).resolvePrefix)===null||N===void 0?void 0:N.call(S,_)}qname(_){const S=_.indexOf(":");if(S===-1)return{prefix:"",local:_};const N=_.slice(S+1),C=_.slice(0,S);return(C===""||N===""||N.includes(":"))&&this.fail(`malformed name: ${_}.`),{prefix:C,local:N}}processAttribsNS(){var _;const{attribList:S}=this,N=this.tag;{const{prefix:j,local:B}=this.qname(N.name);N.prefix=j,N.local=B;const G=N.uri=(_=this.resolve(j))!==null&&_!==void 0?_:"";j!==""&&(j==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),G===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(j)}.`),N.uri=j))}if(S.length===0)return;const{attributes:C}=N,W=new Set;for(const j of S){const{name:B,prefix:G,local:X}=j;let J,O;G===""?(J=B==="xmlns"?w:"",O=B):(J=this.resolve(G),J===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(G)}.`),J=G),O=`{${J}}${X}`),W.has(O)&&this.fail(`duplicate attribute: ${O}.`),W.add(O),j.uri=J,C[B]=j}this.attribList=[]}processAttribsPlain(){const{attribList:_}=this,S=this.tag.attributes;for(const{name:N,value:C}of _)S[N]!==void 0&&this.fail(`duplicate attribute: ${N}.`),S[N]=C;this.attribList=[]}openTag(){var _;this.processAttribs();const{tags:S}=this,N=this.tag;N.isSelfClosing=!1,(_=this.openTagHandler)===null||_===void 0||_.call(this,N),S.push(N),this.state=13,this.name=""}openSelfClosingTag(){var _,S,N;this.processAttribs();const{tags:C}=this,W=this.tag;W.isSelfClosing=!0,(_=this.openTagHandler)===null||_===void 0||_.call(this,W),(S=this.closeTagHandler)===null||S===void 0||S.call(this,W),(this.tag=(N=C[C.length-1])!==null&&N!==void 0?N:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:_,name:S}=this;if(this.state=13,this.name="",S==="")return this.fail("weird empty close tag."),void(this.text+="</>");const N=this.closeTagHandler;let C=_.length;for(;C-- >0;){const W=this.tag=_.pop();if(this.topNS=W.ns,N==null||N(W),W.name===S)break;this.fail("unexpected close tag.")}C===0?this.closedRoot=!0:C<0&&(this.fail(`unmatched closing tag: ${S}.`),this.text+=`</${S}>`)}parseEntity(_){if(_[0]!=="#"){const N=this.ENTITIES[_];return N!==void 0?N:(this.fail(this.isName(_)?"undefined entity.":"disallowed character in entity name."),`&${_};`)}let S=NaN;return _[1]==="x"&&/^#x[0-9a-f]+$/i.test(_)?S=parseInt(_.slice(2),16):/^#[0-9]+$/.test(_)&&(S=parseInt(_.slice(1),10)),this.isChar(S)?String.fromCodePoint(S):(this.fail("malformed character entity."),`&${_};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,s,i){var a=e("safe-buffer").Buffer;function o(c,u){this._block=a.alloc(c),this._finalSize=u,this._blockSize=c,this._len=0}o.prototype.update=function(c,u){typeof c=="string"&&(u=u||"utf8",c=a.from(c,u));for(var l=this._block,d=this._blockSize,f=c.length,h=this._len,p=0;p<f;){for(var g=h%d,v=Math.min(f-p,d-g),m=0;m<v;m++)l[g+m]=c[p+m];p+=v,(h+=v)%d==0&&this._update(l)}return this._len+=f,this},o.prototype.digest=function(c){var u=this._len%this._blockSize;this._block[u]=128,this._block.fill(0,u+1),u>=this._finalSize&&(this._update(this._block),this._block.fill(0));var l=8*this._len;if(l<=4294967295)this._block.writeUInt32BE(l,this._blockSize-4);else{var d=(4294967295&l)>>>0,f=(l-d)/4294967296;this._block.writeUInt32BE(f,this._blockSize-8),this._block.writeUInt32BE(d,this._blockSize-4)}this._update(this._block);var h=this._hash();return c?h.toString(c):h},o.prototype._update=function(){throw new Error("_update must be implemented by subclass")},s.exports=o},{"safe-buffer":494}],498:[function(e,s,i){var a=s.exports=function(o){o=o.toLowerCase();var c=a[o];if(!c)throw new Error(o+" is not supported (we accept pull requests)");return new c};a.sha=e("./sha"),a.sha1=e("./sha1"),a.sha224=e("./sha224"),a.sha256=e("./sha256"),a.sha384=e("./sha384"),a.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,s,i){var a=e("inherits"),o=e("./hash"),c=e("safe-buffer").Buffer,u=[1518500249,1859775393,-1894007588,-899497514],l=new Array(80);function d(){this.init(),this._w=l,o.call(this,64,56)}function f(p){return p<<30|p>>>2}function h(p,g,v,m){return p===0?g&v|~g&m:p===2?g&v|g&m|v&m:g^v^m}a(d,o),d.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},d.prototype._update=function(p){for(var g,v=this._w,m=0|this._a,x=0|this._b,y=0|this._c,w=0|this._d,E=0|this._e,I=0;I<16;++I)v[I]=p.readInt32BE(4*I);for(;I<80;++I)v[I]=v[I-3]^v[I-8]^v[I-14]^v[I-16];for(var T=0;T<80;++T){var R=~~(T/20),D=0|((g=m)<<5|g>>>27)+h(R,x,y,w)+E+v[T]+u[R];E=w,w=y,y=f(x),x=m,m=D}this._a=m+this._a|0,this._b=x+this._b|0,this._c=y+this._c|0,this._d=w+this._d|0,this._e=E+this._e|0},d.prototype._hash=function(){var p=c.allocUnsafe(20);return p.writeInt32BE(0|this._a,0),p.writeInt32BE(0|this._b,4),p.writeInt32BE(0|this._c,8),p.writeInt32BE(0|this._d,12),p.writeInt32BE(0|this._e,16),p},s.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,s,i){var a=e("inherits"),o=e("./hash"),c=e("safe-buffer").Buffer,u=[1518500249,1859775393,-1894007588,-899497514],l=new Array(80);function d(){this.init(),this._w=l,o.call(this,64,56)}function f(g){return g<<5|g>>>27}function h(g){return g<<30|g>>>2}function p(g,v,m,x){return g===0?v&m|~v&x:g===2?v&m|v&x|m&x:v^m^x}a(d,o),d.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},d.prototype._update=function(g){for(var v,m=this._w,x=0|this._a,y=0|this._b,w=0|this._c,E=0|this._d,I=0|this._e,T=0;T<16;++T)m[T]=g.readInt32BE(4*T);for(;T<80;++T)m[T]=(v=m[T-3]^m[T-8]^m[T-14]^m[T-16])<<1|v>>>31;for(var R=0;R<80;++R){var D=~~(R/20),L=f(x)+p(D,y,w,E)+I+m[R]+u[D]|0;I=E,E=w,w=h(y),y=x,x=L}this._a=x+this._a|0,this._b=y+this._b|0,this._c=w+this._c|0,this._d=E+this._d|0,this._e=I+this._e|0},d.prototype._hash=function(){var g=c.allocUnsafe(20);return g.writeInt32BE(0|this._a,0),g.writeInt32BE(0|this._b,4),g.writeInt32BE(0|this._c,8),g.writeInt32BE(0|this._d,12),g.writeInt32BE(0|this._e,16),g},s.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,s,i){var a=e("inherits"),o=e("./sha256"),c=e("./hash"),u=e("safe-buffer").Buffer,l=new Array(64);function d(){this.init(),this._w=l,c.call(this,64,56)}a(d,o),d.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},d.prototype._hash=function(){var f=u.allocUnsafe(28);return f.writeInt32BE(this._a,0),f.writeInt32BE(this._b,4),f.writeInt32BE(this._c,8),f.writeInt32BE(this._d,12),f.writeInt32BE(this._e,16),f.writeInt32BE(this._f,20),f.writeInt32BE(this._g,24),f},s.exports=d},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,s,i){var a=e("inherits"),o=e("./hash"),c=e("safe-buffer").Buffer,u=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],l=new Array(64);function d(){this.init(),this._w=l,o.call(this,64,56)}function f(m,x,y){return y^m&(x^y)}function h(m,x,y){return m&x|y&(m|x)}function p(m){return(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10)}function g(m){return(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7)}function v(m){return(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3}a(d,o),d.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},d.prototype._update=function(m){for(var x,y=this._w,w=0|this._a,E=0|this._b,I=0|this._c,T=0|this._d,R=0|this._e,D=0|this._f,L=0|this._g,M=0|this._h,H=0;H<16;++H)y[H]=m.readInt32BE(4*H);for(;H<64;++H)y[H]=0|(((x=y[H-2])>>>17|x<<15)^(x>>>19|x<<13)^x>>>10)+y[H-7]+v(y[H-15])+y[H-16];for(var V=0;V<64;++V){var P=M+g(R)+f(R,D,L)+u[V]+y[V]|0,F=p(w)+h(w,E,I)|0;M=L,L=D,D=R,R=T+P|0,T=I,I=E,E=w,w=P+F|0}this._a=w+this._a|0,this._b=E+this._b|0,this._c=I+this._c|0,this._d=T+this._d|0,this._e=R+this._e|0,this._f=D+this._f|0,this._g=L+this._g|0,this._h=M+this._h|0},d.prototype._hash=function(){var m=c.allocUnsafe(32);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m.writeInt32BE(this._h,28),m},s.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,s,i){var a=e("inherits"),o=e("./sha512"),c=e("./hash"),u=e("safe-buffer").Buffer,l=new Array(160);function d(){this.init(),this._w=l,c.call(this,128,112)}a(d,o),d.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},d.prototype._hash=function(){var f=u.allocUnsafe(48);function h(p,g,v){f.writeInt32BE(p,v),f.writeInt32BE(g,v+4)}return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),f},s.exports=d},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,s,i){var a=e("inherits"),o=e("./hash"),c=e("safe-buffer").Buffer,u=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],l=new Array(160);function d(){this.init(),this._w=l,o.call(this,128,112)}function f(E,I,T){return T^E&(I^T)}function h(E,I,T){return E&I|T&(E|I)}function p(E,I){return(E>>>28|I<<4)^(I>>>2|E<<30)^(I>>>7|E<<25)}function g(E,I){return(E>>>14|I<<18)^(E>>>18|I<<14)^(I>>>9|E<<23)}function v(E,I){return(E>>>1|I<<31)^(E>>>8|I<<24)^E>>>7}function m(E,I){return(E>>>1|I<<31)^(E>>>8|I<<24)^(E>>>7|I<<25)}function x(E,I){return(E>>>19|I<<13)^(I>>>29|E<<3)^E>>>6}function y(E,I){return(E>>>19|I<<13)^(I>>>29|E<<3)^(E>>>6|I<<26)}function w(E,I){return E>>>0<I>>>0?1:0}a(d,o),d.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},d.prototype._update=function(E){for(var I=this._w,T=0|this._ah,R=0|this._bh,D=0|this._ch,L=0|this._dh,M=0|this._eh,H=0|this._fh,V=0|this._gh,P=0|this._hh,F=0|this._al,A=0|this._bl,_=0|this._cl,S=0|this._dl,N=0|this._el,C=0|this._fl,W=0|this._gl,j=0|this._hl,B=0;B<32;B+=2)I[B]=E.readInt32BE(4*B),I[B+1]=E.readInt32BE(4*B+4);for(;B<160;B+=2){var G=I[B-30],X=I[B-30+1],J=v(G,X),O=m(X,G),ee=x(G=I[B-4],X=I[B-4+1]),U=y(X,G),z=I[B-14],Z=I[B-14+1],te=I[B-32],oe=I[B-32+1],ue=O+Z|0,le=J+z+w(ue,O)|0;le=(le=le+ee+w(ue=ue+U|0,U)|0)+te+w(ue=ue+oe|0,oe)|0,I[B]=le,I[B+1]=ue}for(var ce=0;ce<160;ce+=2){le=I[ce],ue=I[ce+1];var _e=h(T,R,D),fe=h(F,A,_),ge=p(T,F),xe=p(F,T),Le=g(M,N),Me=g(N,M),Oe=u[ce],ze=u[ce+1],Ke=f(M,H,V),ot=f(N,C,W),$e=j+Me|0,Ve=P+Le+w($e,j)|0;Ve=(Ve=(Ve=Ve+Ke+w($e=$e+ot|0,ot)|0)+Oe+w($e=$e+ze|0,ze)|0)+le+w($e=$e+ue|0,ue)|0;var He=xe+fe|0,rt=ge+_e+w(He,xe)|0;P=V,j=W,V=H,W=C,H=M,C=N,M=L+Ve+w(N=S+$e|0,S)|0,L=D,S=_,D=R,_=A,R=T,A=F,T=Ve+rt+w(F=$e+He|0,$e)|0}this._al=this._al+F|0,this._bl=this._bl+A|0,this._cl=this._cl+_|0,this._dl=this._dl+S|0,this._el=this._el+N|0,this._fl=this._fl+C|0,this._gl=this._gl+W|0,this._hl=this._hl+j|0,this._ah=this._ah+T+w(this._al,F)|0,this._bh=this._bh+R+w(this._bl,A)|0,this._ch=this._ch+D+w(this._cl,_)|0,this._dh=this._dh+L+w(this._dl,S)|0,this._eh=this._eh+M+w(this._el,N)|0,this._fh=this._fh+H+w(this._fl,C)|0,this._gh=this._gh+V+w(this._gl,W)|0,this._hh=this._hh+P+w(this._hl,j)|0},d.prototype._hash=function(){var E=c.allocUnsafe(64);function I(T,R,D){E.writeInt32BE(T,D),E.writeInt32BE(R,D+4)}return I(this._ah,this._al,0),I(this._bh,this._bl,8),I(this._ch,this._cl,16),I(this._dh,this._dl,24),I(this._eh,this._el,32),I(this._fh,this._fl,40),I(this._gh,this._gl,48),I(this._hh,this._hl,56),E},s.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,s,i){s.exports=o;var a=e("events").EventEmitter;function o(){a.call(this)}e("inherits")(o,a),o.Readable=e("readable-stream/readable.js"),o.Writable=e("readable-stream/writable.js"),o.Duplex=e("readable-stream/duplex.js"),o.Transform=e("readable-stream/transform.js"),o.PassThrough=e("readable-stream/passthrough.js"),o.Stream=o,o.prototype.pipe=function(c,u){var l=this;function d(x){c.writable&&c.write(x)===!1&&l.pause&&l.pause()}function f(){l.readable&&l.resume&&l.resume()}l.on("data",d),c.on("drain",f),c._isStdio||u&&u.end===!1||(l.on("end",p),l.on("close",g));var h=!1;function p(){h||(h=!0,c.end())}function g(){h||(h=!0,typeof c.destroy=="function"&&c.destroy())}function v(x){if(m(),a.listenerCount(this,"error")===0)throw x}function m(){l.removeListener("data",d),c.removeListener("drain",f),l.removeListener("end",p),l.removeListener("close",g),l.removeListener("error",v),c.removeListener("error",v),l.removeListener("end",m),l.removeListener("close",m),c.removeListener("close",m)}return l.on("error",v),c.on("error",v),l.on("end",m),l.on("close",m),c.on("close",m),c.emit("pipe",l),c}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,s,i){var a={}.toString;s.exports=Array.isArray||function(o){return a.call(o)=="[object Array]"}},{}],507:[function(e,s,i){s.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,s,i){var a=e("process-nextick-args"),o=Object.keys||function(m){var x=[];for(var y in m)x.push(y);return x};s.exports=p;var c=Object.create(e("core-util-is"));c.inherits=e("inherits");var u=e("./_stream_readable"),l=e("./_stream_writable");c.inherits(p,u);for(var d=o(l.prototype),f=0;f<d.length;f++){var h=d[f];p.prototype[h]||(p.prototype[h]=l.prototype[h])}function p(m){if(!(this instanceof p))return new p(m);u.call(this,m),l.call(this,m),m&&m.readable===!1&&(this.readable=!1),m&&m.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,m&&m.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||a.nextTick(v,this)}function v(m){m.end()}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),p.prototype._destroy=function(m,x){this.push(null),this.end(),a.nextTick(x,m)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,s,i){s.exports=c;var a=e("./_stream_transform"),o=Object.create(e("core-util-is"));function c(u){if(!(this instanceof c))return new c(u);a.call(this,u)}o.inherits=e("inherits"),o.inherits(c,a),c.prototype._transform=function(u,l,d){d(null,u)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,s,i){(function(a,o){(function(){var c=e("process-nextick-args");s.exports=T;var u,l=e("isarray");T.ReadableState=I,e("events").EventEmitter;var d=function(j,B){return j.listeners(B).length},f=e("./internal/streams/stream"),h=e("safe-buffer").Buffer,p=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g=Object.create(e("core-util-is"));g.inherits=e("inherits");var v=e("util"),m=void 0;m=v&&v.debuglog?v.debuglog("stream"):function(){};var x,y=e("./internal/streams/BufferList"),w=e("./internal/streams/destroy");g.inherits(T,f);var E=["error","close","destroy","pause","resume"];function I(j,B){j=j||{};var G=B instanceof(u=u||e("./_stream_duplex"));this.objectMode=!!j.objectMode,G&&(this.objectMode=this.objectMode||!!j.readableObjectMode);var X=j.highWaterMark,J=j.readableHighWaterMark,O=this.objectMode?16:16384;this.highWaterMark=X||X===0?X:G&&(J||J===0)?J:O,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=j.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,j.encoding&&(x||(x=e("string_decoder/").StringDecoder),this.decoder=new x(j.encoding),this.encoding=j.encoding)}function T(j){if(u=u||e("./_stream_duplex"),!(this instanceof T))return new T(j);this._readableState=new I(j,this),this.readable=!0,j&&(typeof j.read=="function"&&(this._read=j.read),typeof j.destroy=="function"&&(this._destroy=j.destroy)),f.call(this)}function R(j,B,G,X,J){var O,ee=j._readableState;return B===null?(ee.reading=!1,function(U,z){if(!z.ended){if(z.decoder){var Z=z.decoder.end();Z&&Z.length&&(z.buffer.push(Z),z.length+=z.objectMode?1:Z.length)}z.ended=!0,M(U)}}(j,ee)):(J||(O=function(U,z){var Z;te=z,h.isBuffer(te)||te instanceof p||typeof z=="string"||z===void 0||U.objectMode||(Z=new TypeError("Invalid non-string/buffer chunk"));var te;return Z}(ee,B)),O?j.emit("error",O):ee.objectMode||B&&B.length>0?(typeof B=="string"||ee.objectMode||Object.getPrototypeOf(B)===h.prototype||(B=function(U){return h.from(U)}(B)),X?ee.endEmitted?j.emit("error",new Error("stream.unshift() after end event")):D(j,ee,B,!0):ee.ended?j.emit("error",new Error("stream.push() after EOF")):(ee.reading=!1,ee.decoder&&!G?(B=ee.decoder.write(B),ee.objectMode||B.length!==0?D(j,ee,B,!1):V(j,ee)):D(j,ee,B,!1))):X||(ee.reading=!1)),function(U){return!U.ended&&(U.needReadable||U.length<U.highWaterMark||U.length===0)}(ee)}function D(j,B,G,X){B.flowing&&B.length===0&&!B.sync?(j.emit("data",G),j.read(0)):(B.length+=B.objectMode?1:G.length,X?B.buffer.unshift(G):B.buffer.push(G),B.needReadable&&M(j)),V(j,B)}Object.defineProperty(T.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(j){this._readableState&&(this._readableState.destroyed=j)}}),T.prototype.destroy=w.destroy,T.prototype._undestroy=w.undestroy,T.prototype._destroy=function(j,B){this.push(null),B(j)},T.prototype.push=function(j,B){var G,X=this._readableState;return X.objectMode?G=!0:typeof j=="string"&&((B=B||X.defaultEncoding)!==X.encoding&&(j=h.from(j,B),B=""),G=!0),R(this,j,B,!1,G)},T.prototype.unshift=function(j){return R(this,j,null,!0,!1)},T.prototype.isPaused=function(){return this._readableState.flowing===!1},T.prototype.setEncoding=function(j){return x||(x=e("string_decoder/").StringDecoder),this._readableState.decoder=new x(j),this._readableState.encoding=j,this};function L(j,B){return j<=0||B.length===0&&B.ended?0:B.objectMode?1:j!=j?B.flowing&&B.length?B.buffer.head.data.length:B.length:(j>B.highWaterMark&&(B.highWaterMark=function(G){return G>=8388608?G=8388608:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G}(j)),j<=B.length?j:B.ended?B.length:(B.needReadable=!0,0))}function M(j){var B=j._readableState;B.needReadable=!1,B.emittedReadable||(m("emitReadable",B.flowing),B.emittedReadable=!0,B.sync?c.nextTick(H,j):H(j))}function H(j){m("emit readable"),j.emit("readable"),_(j)}function V(j,B){B.readingMore||(B.readingMore=!0,c.nextTick(P,j,B))}function P(j,B){for(var G=B.length;!B.reading&&!B.flowing&&!B.ended&&B.length<B.highWaterMark&&(m("maybeReadMore read 0"),j.read(0),G!==B.length);)G=B.length;B.readingMore=!1}function F(j){m("readable nexttick read 0"),j.read(0)}function A(j,B){B.reading||(m("resume read 0"),j.read(0)),B.resumeScheduled=!1,B.awaitDrain=0,j.emit("resume"),_(j),B.flowing&&!B.reading&&j.read(0)}function _(j){var B=j._readableState;for(m("flow",B.flowing);B.flowing&&j.read()!==null;);}function S(j,B){return B.length===0?null:(B.objectMode?G=B.buffer.shift():!j||j>=B.length?(G=B.decoder?B.buffer.join(""):B.buffer.length===1?B.buffer.head.data:B.buffer.concat(B.length),B.buffer.clear()):G=function(X,J,O){var ee;return X<J.head.data.length?(ee=J.head.data.slice(0,X),J.head.data=J.head.data.slice(X)):ee=X===J.head.data.length?J.shift():O?function(U,z){var Z=z.head,te=1,oe=Z.data;for(U-=oe.length;Z=Z.next;){var ue=Z.data,le=U>ue.length?ue.length:U;if(le===ue.length?oe+=ue:oe+=ue.slice(0,U),(U-=le)===0){le===ue.length?(++te,Z.next?z.head=Z.next:z.head=z.tail=null):(z.head=Z,Z.data=ue.slice(le));break}++te}return z.length-=te,oe}(X,J):function(U,z){var Z=h.allocUnsafe(U),te=z.head,oe=1;for(te.data.copy(Z),U-=te.data.length;te=te.next;){var ue=te.data,le=U>ue.length?ue.length:U;if(ue.copy(Z,Z.length-U,0,le),(U-=le)===0){le===ue.length?(++oe,te.next?z.head=te.next:z.head=z.tail=null):(z.head=te,te.data=ue.slice(le));break}++oe}return z.length-=oe,Z}(X,J),ee}(j,B.buffer,B.decoder),G);var G}function N(j){var B=j._readableState;if(B.length>0)throw new Error('"endReadable()" called on non-empty stream');B.endEmitted||(B.ended=!0,c.nextTick(C,B,j))}function C(j,B){j.endEmitted||j.length!==0||(j.endEmitted=!0,B.readable=!1,B.emit("end"))}function W(j,B){for(var G=0,X=j.length;G<X;G++)if(j[G]===B)return G;return-1}T.prototype.read=function(j){m("read",j),j=parseInt(j,10);var B=this._readableState,G=j;if(j!==0&&(B.emittedReadable=!1),j===0&&B.needReadable&&(B.length>=B.highWaterMark||B.ended))return m("read: emitReadable",B.length,B.ended),B.length===0&&B.ended?N(this):M(this),null;if((j=L(j,B))===0&&B.ended)return B.length===0&&N(this),null;var X,J=B.needReadable;return m("need readable",J),(B.length===0||B.length-j<B.highWaterMark)&&m("length less than watermark",J=!0),B.ended||B.reading?m("reading or ended",J=!1):J&&(m("do read"),B.reading=!0,B.sync=!0,B.length===0&&(B.needReadable=!0),this._read(B.highWaterMark),B.sync=!1,B.reading||(j=L(G,B))),(X=j>0?S(j,B):null)===null?(B.needReadable=!0,j=0):B.length-=j,B.length===0&&(B.ended||(B.needReadable=!0),G!==j&&B.ended&&N(this)),X!==null&&this.emit("data",X),X},T.prototype._read=function(j){this.emit("error",new Error("_read() is not implemented"))},T.prototype.pipe=function(j,B){var G=this,X=this._readableState;switch(X.pipesCount){case 0:X.pipes=j;break;case 1:X.pipes=[X.pipes,j];break;default:X.pipes.push(j)}X.pipesCount+=1,m("pipe count=%d opts=%j",X.pipesCount,B);var J=(!B||B.end!==!1)&&j!==a.stdout&&j!==a.stderr?ee:ce;function O(_e,fe){m("onunpipe"),_e===G&&fe&&fe.hasUnpiped===!1&&(fe.hasUnpiped=!0,m("cleanup"),j.removeListener("close",ue),j.removeListener("finish",le),j.removeListener("drain",U),j.removeListener("error",oe),j.removeListener("unpipe",O),G.removeListener("end",ee),G.removeListener("end",ce),G.removeListener("data",te),z=!0,!X.awaitDrain||j._writableState&&!j._writableState.needDrain||U())}function ee(){m("onend"),j.end()}X.endEmitted?c.nextTick(J):G.once("end",J),j.on("unpipe",O);var U=function(_e){return function(){var fe=_e._readableState;m("pipeOnDrain",fe.awaitDrain),fe.awaitDrain&&fe.awaitDrain--,fe.awaitDrain===0&&d(_e,"data")&&(fe.flowing=!0,_(_e))}}(G);j.on("drain",U);var z=!1,Z=!1;function te(_e){m("ondata"),Z=!1,j.write(_e)!==!1||Z||((X.pipesCount===1&&X.pipes===j||X.pipesCount>1&&W(X.pipes,j)!==-1)&&!z&&(m("false write response, pause",X.awaitDrain),X.awaitDrain++,Z=!0),G.pause())}function oe(_e){m("onerror",_e),ce(),j.removeListener("error",oe),d(j,"error")===0&&j.emit("error",_e)}function ue(){j.removeListener("finish",le),ce()}function le(){m("onfinish"),j.removeListener("close",ue),ce()}function ce(){m("unpipe"),G.unpipe(j)}return G.on("data",te),function(_e,fe,ge){if(typeof _e.prependListener=="function")return _e.prependListener(fe,ge);_e._events&&_e._events[fe]?l(_e._events[fe])?_e._events[fe].unshift(ge):_e._events[fe]=[ge,_e._events[fe]]:_e.on(fe,ge)}(j,"error",oe),j.once("close",ue),j.once("finish",le),j.emit("pipe",G),X.flowing||(m("pipe resume"),G.resume()),j},T.prototype.unpipe=function(j){var B=this._readableState,G={hasUnpiped:!1};if(B.pipesCount===0)return this;if(B.pipesCount===1)return j&&j!==B.pipes||(j||(j=B.pipes),B.pipes=null,B.pipesCount=0,B.flowing=!1,j&&j.emit("unpipe",this,G)),this;if(!j){var X=B.pipes,J=B.pipesCount;B.pipes=null,B.pipesCount=0,B.flowing=!1;for(var O=0;O<J;O++)X[O].emit("unpipe",this,{hasUnpiped:!1});return this}var ee=W(B.pipes,j);return ee===-1||(B.pipes.splice(ee,1),B.pipesCount-=1,B.pipesCount===1&&(B.pipes=B.pipes[0]),j.emit("unpipe",this,G)),this},T.prototype.on=function(j,B){var G=f.prototype.on.call(this,j,B);if(j==="data")this._readableState.flowing!==!1&&this.resume();else if(j==="readable"){var X=this._readableState;X.endEmitted||X.readableListening||(X.readableListening=X.needReadable=!0,X.emittedReadable=!1,X.reading?X.length&&M(this):c.nextTick(F,this))}return G},T.prototype.addListener=T.prototype.on,T.prototype.resume=function(){var j=this._readableState;return j.flowing||(m("resume"),j.flowing=!0,function(B,G){G.resumeScheduled||(G.resumeScheduled=!0,c.nextTick(A,B,G))}(this,j)),this},T.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},T.prototype.wrap=function(j){var B=this,G=this._readableState,X=!1;for(var J in j.on("end",function(){if(m("wrapped end"),G.decoder&&!G.ended){var ee=G.decoder.end();ee&&ee.length&&B.push(ee)}B.push(null)}),j.on("data",function(ee){m("wrapped data"),G.decoder&&(ee=G.decoder.write(ee)),G.objectMode&&ee==null||(G.objectMode||ee&&ee.length)&&(B.push(ee)||(X=!0,j.pause()))}),j)this[J]===void 0&&typeof j[J]=="function"&&(this[J]=function(ee){return function(){return j[ee].apply(j,arguments)}}(J));for(var O=0;O<E.length;O++)j.on(E[O],this.emit.bind(this,E[O]));return this._read=function(ee){m("wrapped _read",ee),X&&(X=!1,j.resume())},this},Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),T._fromList=S}).call(this)}).call(this,e("_process"),typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,s,i){s.exports=u;var a=e("./_stream_duplex"),o=Object.create(e("core-util-is"));function c(f,h){var p=this._transformState;p.transforming=!1;var g=p.writecb;if(!g)return this.emit("error",new Error("write callback called multiple times"));p.writechunk=null,p.writecb=null,h!=null&&this.push(h),g(f);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function u(f){if(!(this instanceof u))return new u(f);a.call(this,f),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",l)}function l(){var f=this;typeof this._flush=="function"?this._flush(function(h,p){d(f,h,p)}):d(this,null,null)}function d(f,h,p){if(h)return f.emit("error",h);if(p!=null&&f.push(p),f._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(f._transformState.transforming)throw new Error("Calling transform done when still transforming");return f.push(null)}o.inherits=e("inherits"),o.inherits(u,a),u.prototype.push=function(f,h){return this._transformState.needTransform=!1,a.prototype.push.call(this,f,h)},u.prototype._transform=function(f,h,p){throw new Error("_transform() is not implemented")},u.prototype._write=function(f,h,p){var g=this._transformState;if(g.writecb=p,g.writechunk=f,g.writeencoding=h,!g.transforming){var v=this._readableState;(g.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},u.prototype._read=function(f){var h=this._transformState;h.writechunk!==null&&h.writecb&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},u.prototype._destroy=function(f,h){var p=this;a.prototype._destroy.call(this,f,function(g){h(g),p.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,s,i){(function(a,o,c){(function(){var u=e("process-nextick-args");function l(V){var P=this;this.next=null,this.entry=null,this.finish=function(){(function(F,A,_){var S=F.entry;for(F.entry=null;S;){var N=S.callback;A.pendingcb--,N(_),S=S.next}A.corkedRequestsFree.next=F})(P,V)}}s.exports=I;var d,f=!a.browser&&["v0.10","v0.9."].indexOf(a.version.slice(0,5))>-1?c:u.nextTick;I.WritableState=E;var h=Object.create(e("core-util-is"));h.inherits=e("inherits");var p={deprecate:e("util-deprecate")},g=e("./internal/streams/stream"),v=e("safe-buffer").Buffer,m=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},x,y=e("./internal/streams/destroy");function w(){}function E(V,P){d=d||e("./_stream_duplex"),V=V||{};var F=P instanceof d;this.objectMode=!!V.objectMode,F&&(this.objectMode=this.objectMode||!!V.writableObjectMode);var A=V.highWaterMark,_=V.writableHighWaterMark,S=this.objectMode?16:16384;this.highWaterMark=A||A===0?A:F&&(_||_===0)?_:S,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var N=V.decodeStrings===!1;this.decodeStrings=!N,this.defaultEncoding=V.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(C){(function(W,j){var B=W._writableState,G=B.sync,X=B.writecb;if(function(O){O.writing=!1,O.writecb=null,O.length-=O.writelen,O.writelen=0}(B),j)(function(O,ee,U,z,Z){--ee.pendingcb,U?(u.nextTick(Z,z),u.nextTick(H,O,ee),O._writableState.errorEmitted=!0,O.emit("error",z)):(Z(z),O._writableState.errorEmitted=!0,O.emit("error",z),H(O,ee))})(W,B,G,j,X);else{var J=L(B);J||B.corked||B.bufferProcessing||!B.bufferedRequest||D(W,B),G?f(R,W,B,J,X):R(W,B,J,X)}})(P,C)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}function I(V){if(d=d||e("./_stream_duplex"),!(x.call(I,this)||this instanceof d))return new I(V);this._writableState=new E(V,this),this.writable=!0,V&&(typeof V.write=="function"&&(this._write=V.write),typeof V.writev=="function"&&(this._writev=V.writev),typeof V.destroy=="function"&&(this._destroy=V.destroy),typeof V.final=="function"&&(this._final=V.final)),g.call(this)}function T(V,P,F,A,_,S,N){P.writelen=A,P.writecb=N,P.writing=!0,P.sync=!0,F?V._writev(_,P.onwrite):V._write(_,S,P.onwrite),P.sync=!1}function R(V,P,F,A){F||function(_,S){S.length===0&&S.needDrain&&(S.needDrain=!1,_.emit("drain"))}(V,P),P.pendingcb--,A(),H(V,P)}function D(V,P){P.bufferProcessing=!0;var F=P.bufferedRequest;if(V._writev&&F&&F.next){var A=P.bufferedRequestCount,_=new Array(A),S=P.corkedRequestsFree;S.entry=F;for(var N=0,C=!0;F;)_[N]=F,F.isBuf||(C=!1),F=F.next,N+=1;_.allBuffers=C,T(V,P,!0,P.length,_,"",S.finish),P.pendingcb++,P.lastBufferedRequest=null,S.next?(P.corkedRequestsFree=S.next,S.next=null):P.corkedRequestsFree=new l(P),P.bufferedRequestCount=0}else{for(;F;){var W=F.chunk,j=F.encoding,B=F.callback;if(T(V,P,!1,P.objectMode?1:W.length,W,j,B),F=F.next,P.bufferedRequestCount--,P.writing)break}F===null&&(P.lastBufferedRequest=null)}P.bufferedRequest=F,P.bufferProcessing=!1}function L(V){return V.ending&&V.length===0&&V.bufferedRequest===null&&!V.finished&&!V.writing}function M(V,P){V._final(function(F){P.pendingcb--,F&&V.emit("error",F),P.prefinished=!0,V.emit("prefinish"),H(V,P)})}function H(V,P){var F=L(P);return F&&(function(A,_){_.prefinished||_.finalCalled||(typeof A._final=="function"?(_.pendingcb++,_.finalCalled=!0,u.nextTick(M,A,_)):(_.prefinished=!0,A.emit("prefinish")))}(V,P),P.pendingcb===0&&(P.finished=!0,V.emit("finish"))),F}h.inherits(I,g),E.prototype.getBuffer=function(){for(var V=this.bufferedRequest,P=[];V;)P.push(V),V=V.next;return P},function(){try{Object.defineProperty(E.prototype,"buffer",{get:p.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(x=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(V){return!!x.call(this,V)||this===I&&V&&V._writableState instanceof E}})):x=function(V){return V instanceof this},I.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},I.prototype.write=function(V,P,F){var A,_=this._writableState,S=!1,N=!_.objectMode&&(A=V,v.isBuffer(A)||A instanceof m);return N&&!v.isBuffer(V)&&(V=function(C){return v.from(C)}(V)),typeof P=="function"&&(F=P,P=null),N?P="buffer":P||(P=_.defaultEncoding),typeof F!="function"&&(F=w),_.ended?function(C,W){var j=new Error("write after end");C.emit("error",j),u.nextTick(W,j)}(this,F):(N||function(C,W,j,B){var G=!0,X=!1;return j===null?X=new TypeError("May not write null values to stream"):typeof j=="string"||j===void 0||W.objectMode||(X=new TypeError("Invalid non-string/buffer chunk")),X&&(C.emit("error",X),u.nextTick(B,X),G=!1),G}(this,_,V,F))&&(_.pendingcb++,S=function(C,W,j,B,G,X){if(!j){var J=function(z,Z,te){return z.objectMode||z.decodeStrings===!1||typeof Z!="string"||(Z=v.from(Z,te)),Z}(W,B,G);B!==J&&(j=!0,G="buffer",B=J)}var O=W.objectMode?1:B.length;W.length+=O;var ee=W.length<W.highWaterMark;if(ee||(W.needDrain=!0),W.writing||W.corked){var U=W.lastBufferedRequest;W.lastBufferedRequest={chunk:B,encoding:G,isBuf:j,callback:X,next:null},U?U.next=W.lastBufferedRequest:W.bufferedRequest=W.lastBufferedRequest,W.bufferedRequestCount+=1}else T(C,W,!1,O,B,G,X);return ee}(this,_,N,V,P,F)),S},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var V=this._writableState;V.corked&&(V.corked--,V.writing||V.corked||V.bufferProcessing||!V.bufferedRequest||D(this,V))},I.prototype.setDefaultEncoding=function(V){if(typeof V=="string"&&(V=V.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((V+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+V);return this._writableState.defaultEncoding=V,this},Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),I.prototype._write=function(V,P,F){F(new Error("_write() is not implemented"))},I.prototype._writev=null,I.prototype.end=function(V,P,F){var A=this._writableState;typeof V=="function"?(F=V,V=null,P=null):typeof P=="function"&&(F=P,P=null),V!=null&&this.write(V,P),A.corked&&(A.corked=1,this.uncork()),A.ending||function(_,S,N){S.ending=!0,H(_,S),N&&(S.finished?u.nextTick(N):_.once("finish",N)),S.ended=!0,_.writable=!1}(this,A,F)},Object.defineProperty(I.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(V){this._writableState&&(this._writableState.destroyed=V)}}),I.prototype.destroy=y.destroy,I.prototype._undestroy=y.undestroy,I.prototype._destroy=function(V,P){this.end(),P(V)}}).call(this)}).call(this,e("_process"),typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,s,i){var a=e("safe-buffer").Buffer,o=e("util");s.exports=function(){function c(){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,c),this.head=null,this.tail=null,this.length=0}return c.prototype.push=function(u){var l={data:u,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length},c.prototype.unshift=function(u){var l={data:u,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length},c.prototype.shift=function(){if(this.length!==0){var u=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,u}},c.prototype.clear=function(){this.head=this.tail=null,this.length=0},c.prototype.join=function(u){if(this.length===0)return"";for(var l=this.head,d=""+l.data;l=l.next;)d+=u+l.data;return d},c.prototype.concat=function(u){if(this.length===0)return a.alloc(0);for(var l,d,f,h=a.allocUnsafe(u>>>0),p=this.head,g=0;p;)l=p.data,d=h,f=g,l.copy(d,f),g+=p.data.length,p=p.next;return h},c}(),o&&o.inspect&&o.inspect.custom&&(s.exports.prototype[o.inspect.custom]=function(){var c=o.inspect({length:this.length});return this.constructor.name+" "+c})},{"safe-buffer":520,util:188}],514:[function(e,s,i){var a=e("process-nextick-args");function o(c,u){c.emit("error",u)}s.exports={destroy:function(c,u){var l=this,d=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return d||f?(u?u(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(o,this,c)):a.nextTick(o,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(h){!u&&h?l._writableState?l._writableState.errorEmitted||(l._writableState.errorEmitted=!0,a.nextTick(o,l,h)):a.nextTick(o,l,h):u&&u(h)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(e,s,i){arguments[4][490][0].apply(i,arguments)},{dup:490,events:422}],516:[function(e,s,i){s.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,s,i){(i=s.exports=e("./lib/_stream_readable.js")).Stream=i,i.Readable=i,i.Writable=e("./lib/_stream_writable.js"),i.Duplex=e("./lib/_stream_duplex.js"),i.Transform=e("./lib/_stream_transform.js"),i.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,s,i){s.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,s,i){s.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,s,i){arguments[4][217][0].apply(i,arguments)},{buffer:220,dup:217}],521:[function(e,s,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,s,i){arguments[4][218][0].apply(i,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,s,i){(function(a,o){(function(){var c=e("process/browser.js").nextTick,u=Function.prototype.apply,l=Array.prototype.slice,d={},f=0;function h(p,g){this._id=p,this._clearFn=g}i.setTimeout=function(){return new h(u.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new h(u.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(p){p.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(p,g){clearTimeout(p._idleTimeoutId),p._idleTimeout=g},i.unenroll=function(p){clearTimeout(p._idleTimeoutId),p._idleTimeout=-1},i._unrefActive=i.active=function(p){clearTimeout(p._idleTimeoutId);var g=p._idleTimeout;g>=0&&(p._idleTimeoutId=setTimeout(function(){p._onTimeout&&p._onTimeout()},g))},i.setImmediate=typeof a=="function"?a:function(p){var g=f++,v=!(arguments.length<2)&&l.call(arguments,1);return d[g]=!0,c(function(){d[g]&&(v?p.apply(null,v):p.call(null),i.clearImmediate(g))}),g},i.clearImmediate=typeof o=="function"?o:function(p){delete d[p]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,s,i){(function(a){(function(){function o(c){try{if(!a.localStorage)return!1}catch{return!1}var u=a.localStorage[c];return u!=null&&String(u).toLowerCase()==="true"}s.exports=function(c,u){if(o("noDeprecation"))return c;var l=!1;return function(){if(!l){if(o("throwDeprecation"))throw new Error(u);o("traceDeprecation")?console.trace(u):console.warn(u),l=!0}return c.apply(this,arguments)}}}).call(this)}).call(this,typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,s,i){typeof Object.create=="function"?s.exports=function(a,o){a.super_=o,a.prototype=Object.create(o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:s.exports=function(a,o){a.super_=o;var c=function(){};c.prototype=o.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],526:[function(e,s,i){s.exports=function(a){return a&&typeof a=="object"&&typeof a.copy=="function"&&typeof a.fill=="function"&&typeof a.readUInt8=="function"}},{}],527:[function(e,s,i){(function(a,o){(function(){var c=/%[sdj%]/g;i.format=function(_){if(!E(_)){for(var S=[],N=0;N<arguments.length;N++)S.push(d(arguments[N]));return S.join(" ")}N=1;for(var C=arguments,W=C.length,j=String(_).replace(c,function(G){if(G==="%%")return"%";if(N>=W)return G;switch(G){case"%s":return String(C[N++]);case"%d":return Number(C[N++]);case"%j":try{return JSON.stringify(C[N++])}catch{return"[Circular]"}default:return G}}),B=C[N];N<W;B=C[++N])y(B)||!R(B)?j+=" "+B:j+=" "+d(B);return j},i.deprecate=function(_,S){if(I(o.process))return function(){return i.deprecate(_,S).apply(this,arguments)};if(a.noDeprecation===!0)return _;var N=!1;return function(){if(!N){if(a.throwDeprecation)throw new Error(S);a.traceDeprecation?console.trace(S):console.error(S),N=!0}return _.apply(this,arguments)}};var u,l={};function d(_,S){var N={seen:[],stylize:h};return arguments.length>=3&&(N.depth=arguments[2]),arguments.length>=4&&(N.colors=arguments[3]),x(S)?N.showHidden=S:S&&i._extend(N,S),I(N.showHidden)&&(N.showHidden=!1),I(N.depth)&&(N.depth=2),I(N.colors)&&(N.colors=!1),I(N.customInspect)&&(N.customInspect=!0),N.colors&&(N.stylize=f),p(N,_,N.depth)}function f(_,S){var N=d.styles[S];return N?"\x1B["+d.colors[N][0]+"m"+_+"\x1B["+d.colors[N][1]+"m":_}function h(_,S){return _}function p(_,S,N){if(_.customInspect&&S&&M(S.inspect)&&S.inspect!==i.inspect&&(!S.constructor||S.constructor.prototype!==S)){var C=S.inspect(N,_);return E(C)||(C=p(_,C,N)),C}var W=function(U,z){if(I(z))return U.stylize("undefined","undefined");if(E(z)){var Z="'"+JSON.stringify(z).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return U.stylize(Z,"string")}if(w(z))return U.stylize(""+z,"number");if(x(z))return U.stylize(""+z,"boolean");if(y(z))return U.stylize("null","null")}(_,S);if(W)return W;var j=Object.keys(S),B=function(U){var z={};return U.forEach(function(Z,te){z[Z]=!0}),z}(j);if(_.showHidden&&(j=Object.getOwnPropertyNames(S)),L(S)&&(j.indexOf("message")>=0||j.indexOf("description")>=0))return g(S);if(j.length===0){if(M(S)){var G=S.name?": "+S.name:"";return _.stylize("[Function"+G+"]","special")}if(T(S))return _.stylize(RegExp.prototype.toString.call(S),"regexp");if(D(S))return _.stylize(Date.prototype.toString.call(S),"date");if(L(S))return g(S)}var X,J="",O=!1,ee=["{","}"];return m(S)&&(O=!0,ee=["[","]"]),M(S)&&(J=" [Function"+(S.name?": "+S.name:"")+"]"),T(S)&&(J=" "+RegExp.prototype.toString.call(S)),D(S)&&(J=" "+Date.prototype.toUTCString.call(S)),L(S)&&(J=" "+g(S)),j.length!==0||O&&S.length!=0?N<0?T(S)?_.stylize(RegExp.prototype.toString.call(S),"regexp"):_.stylize("[Object]","special"):(_.seen.push(S),X=O?function(U,z,Z,te,oe){for(var ue=[],le=0,ce=z.length;le<ce;++le)A(z,String(le))?ue.push(v(U,z,Z,te,String(le),!0)):ue.push("");return oe.forEach(function(_e){_e.match(/^\d+$/)||ue.push(v(U,z,Z,te,_e,!0))}),ue}(_,S,N,B,j):j.map(function(U){return v(_,S,N,B,U,O)}),_.seen.pop(),function(U,z,Z){return U.reduce(function(te,oe){return oe.indexOf(`
`)>=0,te+oe.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Z[0]+(z===""?"":z+`
 `)+" "+U.join(`,
  `)+" "+Z[1]:Z[0]+z+" "+U.join(", ")+" "+Z[1]}(X,J,ee)):ee[0]+J+ee[1]}function g(_){return"["+Error.prototype.toString.call(_)+"]"}function v(_,S,N,C,W,j){var B,G,X;if((X=Object.getOwnPropertyDescriptor(S,W)||{value:S[W]}).get?G=X.set?_.stylize("[Getter/Setter]","special"):_.stylize("[Getter]","special"):X.set&&(G=_.stylize("[Setter]","special")),A(C,W)||(B="["+W+"]"),G||(_.seen.indexOf(X.value)<0?(G=y(N)?p(_,X.value,null):p(_,X.value,N-1)).indexOf(`
`)>-1&&(G=j?G.split(`
`).map(function(J){return"  "+J}).join(`
`).substr(2):`
`+G.split(`
`).map(function(J){return"   "+J}).join(`
`)):G=_.stylize("[Circular]","special")),I(B)){if(j&&W.match(/^\d+$/))return G;(B=JSON.stringify(""+W)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(B=B.substr(1,B.length-2),B=_.stylize(B,"name")):(B=B.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),B=_.stylize(B,"string"))}return B+": "+G}function m(_){return Array.isArray(_)}function x(_){return typeof _=="boolean"}function y(_){return _===null}function w(_){return typeof _=="number"}function E(_){return typeof _=="string"}function I(_){return _===void 0}function T(_){return R(_)&&H(_)==="[object RegExp]"}function R(_){return typeof _=="object"&&_!==null}function D(_){return R(_)&&H(_)==="[object Date]"}function L(_){return R(_)&&(H(_)==="[object Error]"||_ instanceof Error)}function M(_){return typeof _=="function"}function H(_){return Object.prototype.toString.call(_)}function V(_){return _<10?"0"+_.toString(10):_.toString(10)}i.debuglog=function(_){if(I(u)&&(u=a.env.NODE_DEBUG||""),_=_.toUpperCase(),!l[_])if(new RegExp("\\b"+_+"\\b","i").test(u)){var S=a.pid;l[_]=function(){var N=i.format.apply(i,arguments);console.error("%s %d: %s",_,S,N)}}else l[_]=function(){};return l[_]},i.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=m,i.isBoolean=x,i.isNull=y,i.isNullOrUndefined=function(_){return _==null},i.isNumber=w,i.isString=E,i.isSymbol=function(_){return typeof _=="symbol"},i.isUndefined=I,i.isRegExp=T,i.isObject=R,i.isDate=D,i.isError=L,i.isFunction=M,i.isPrimitive=function(_){return _===null||typeof _=="boolean"||typeof _=="number"||typeof _=="string"||typeof _=="symbol"||_===void 0},i.isBuffer=e("./support/isBuffer");var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function F(){var _=new Date,S=[V(_.getHours()),V(_.getMinutes()),V(_.getSeconds())].join(":");return[_.getDate(),P[_.getMonth()],S].join(" ")}function A(_,S){return Object.prototype.hasOwnProperty.call(_,S)}i.log=function(){console.log("%s - %s",F(),i.format.apply(i,arguments))},i.inherits=e("inherits"),i._extend=function(_,S){if(!S||!R(S))return _;for(var N=Object.keys(S),C=N.length;C--;)_[N[C]]=S[N[C]];return _}}).call(this)}).call(this,e("_process"),typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,s,i){Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"v1",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(i,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(i,"v4",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(i,"v5",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(i,"NIL",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(i,"version",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(i,"validate",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(i,"stringify",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(i,"parse",{enumerable:!0,get:function(){return p.default}});var a=g(e("./v1.js")),o=g(e("./v3.js")),c=g(e("./v4.js")),u=g(e("./v5.js")),l=g(e("./nil.js")),d=g(e("./version.js")),f=g(e("./validate.js")),h=g(e("./stringify.js")),p=g(e("./parse.js"));function g(v){return v&&v.__esModule?v:{default:v}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,s,i){function a(p){return 14+(p+64>>>9<<4)+1}function o(p,g){const v=(65535&p)+(65535&g);return(p>>16)+(g>>16)+(v>>16)<<16|65535&v}function c(p,g,v,m,x,y){return o((w=o(o(g,p),o(m,y)))<<(E=x)|w>>>32-E,v);var w,E}function u(p,g,v,m,x,y,w){return c(g&v|~g&m,p,g,x,y,w)}function l(p,g,v,m,x,y,w){return c(g&m|v&~m,p,g,x,y,w)}function d(p,g,v,m,x,y,w){return c(g^v^m,p,g,x,y,w)}function f(p,g,v,m,x,y,w){return c(v^(g|~m),p,g,x,y,w)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var h=function(p){if(typeof p=="string"){const g=unescape(encodeURIComponent(p));p=new Uint8Array(g.length);for(let v=0;v<g.length;++v)p[v]=g.charCodeAt(v)}return function(g){const v=[],m=32*g.length;for(let x=0;x<m;x+=8){const y=g[x>>5]>>>x%32&255,w=parseInt("0123456789abcdef".charAt(y>>>4&15)+"0123456789abcdef".charAt(15&y),16);v.push(w)}return v}(function(g,v){g[v>>5]|=128<<v%32,g[a(v)-1]=v;let m=1732584193,x=-271733879,y=-1732584194,w=271733878;for(let E=0;E<g.length;E+=16){const I=m,T=x,R=y,D=w;m=u(m,x,y,w,g[E],7,-680876936),w=u(w,m,x,y,g[E+1],12,-389564586),y=u(y,w,m,x,g[E+2],17,606105819),x=u(x,y,w,m,g[E+3],22,-1044525330),m=u(m,x,y,w,g[E+4],7,-176418897),w=u(w,m,x,y,g[E+5],12,1200080426),y=u(y,w,m,x,g[E+6],17,-1473231341),x=u(x,y,w,m,g[E+7],22,-45705983),m=u(m,x,y,w,g[E+8],7,1770035416),w=u(w,m,x,y,g[E+9],12,-1958414417),y=u(y,w,m,x,g[E+10],17,-42063),x=u(x,y,w,m,g[E+11],22,-1990404162),m=u(m,x,y,w,g[E+12],7,1804603682),w=u(w,m,x,y,g[E+13],12,-40341101),y=u(y,w,m,x,g[E+14],17,-1502002290),x=u(x,y,w,m,g[E+15],22,1236535329),m=l(m,x,y,w,g[E+1],5,-165796510),w=l(w,m,x,y,g[E+6],9,-1069501632),y=l(y,w,m,x,g[E+11],14,643717713),x=l(x,y,w,m,g[E],20,-373897302),m=l(m,x,y,w,g[E+5],5,-701558691),w=l(w,m,x,y,g[E+10],9,38016083),y=l(y,w,m,x,g[E+15],14,-660478335),x=l(x,y,w,m,g[E+4],20,-405537848),m=l(m,x,y,w,g[E+9],5,568446438),w=l(w,m,x,y,g[E+14],9,-1019803690),y=l(y,w,m,x,g[E+3],14,-187363961),x=l(x,y,w,m,g[E+8],20,1163531501),m=l(m,x,y,w,g[E+13],5,-1444681467),w=l(w,m,x,y,g[E+2],9,-51403784),y=l(y,w,m,x,g[E+7],14,1735328473),x=l(x,y,w,m,g[E+12],20,-1926607734),m=d(m,x,y,w,g[E+5],4,-378558),w=d(w,m,x,y,g[E+8],11,-2022574463),y=d(y,w,m,x,g[E+11],16,1839030562),x=d(x,y,w,m,g[E+14],23,-35309556),m=d(m,x,y,w,g[E+1],4,-1530992060),w=d(w,m,x,y,g[E+4],11,1272893353),y=d(y,w,m,x,g[E+7],16,-155497632),x=d(x,y,w,m,g[E+10],23,-1094730640),m=d(m,x,y,w,g[E+13],4,681279174),w=d(w,m,x,y,g[E],11,-358537222),y=d(y,w,m,x,g[E+3],16,-722521979),x=d(x,y,w,m,g[E+6],23,76029189),m=d(m,x,y,w,g[E+9],4,-640364487),w=d(w,m,x,y,g[E+12],11,-421815835),y=d(y,w,m,x,g[E+15],16,530742520),x=d(x,y,w,m,g[E+2],23,-995338651),m=f(m,x,y,w,g[E],6,-198630844),w=f(w,m,x,y,g[E+7],10,1126891415),y=f(y,w,m,x,g[E+14],15,-1416354905),x=f(x,y,w,m,g[E+5],21,-57434055),m=f(m,x,y,w,g[E+12],6,1700485571),w=f(w,m,x,y,g[E+3],10,-1894986606),y=f(y,w,m,x,g[E+10],15,-1051523),x=f(x,y,w,m,g[E+1],21,-2054922799),m=f(m,x,y,w,g[E+8],6,1873313359),w=f(w,m,x,y,g[E+15],10,-30611744),y=f(y,w,m,x,g[E+6],15,-1560198380),x=f(x,y,w,m,g[E+13],21,1309151649),m=f(m,x,y,w,g[E+4],6,-145523070),w=f(w,m,x,y,g[E+11],10,-1120210379),y=f(y,w,m,x,g[E+2],15,718787259),x=f(x,y,w,m,g[E+9],21,-343485551),m=o(m,I),x=o(x,T),y=o(y,R),w=o(w,D)}return[m,x,y,w]}(function(g){if(g.length===0)return[];const v=8*g.length,m=new Uint32Array(a(v));for(let x=0;x<v;x+=8)m[x>>5]|=(255&g[x/8])<<x%32;return m}(p),8*p.length))};i.default=h},{}],530:[function(e,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(e,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,o=(a=e("./validate.js"))&&a.__esModule?a:{default:a},c=function(u){if(!(0,o.default)(u))throw TypeError("Invalid UUID");let l;const d=new Uint8Array(16);return d[0]=(l=parseInt(u.slice(0,8),16))>>>24,d[1]=l>>>16&255,d[2]=l>>>8&255,d[3]=255&l,d[4]=(l=parseInt(u.slice(9,13),16))>>>8,d[5]=255&l,d[6]=(l=parseInt(u.slice(14,18),16))>>>8,d[7]=255&l,d[8]=(l=parseInt(u.slice(19,23),16))>>>8,d[9]=255&l,d[10]=(l=parseInt(u.slice(24,36),16))/1099511627776&255,d[11]=l/4294967296&255,d[12]=l>>>24&255,d[13]=l>>>16&255,d[14]=l>>>8&255,d[15]=255&l,d};i.default=c},{"./validate.js":541}],532:[function(e,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(e,s,i){let a;Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){if(!a&&(a=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(o)};const o=new Uint8Array(16)},{}],534:[function(e,s,i){function a(u,l,d,f){switch(u){case 0:return l&d^~l&f;case 1:return l^d^f;case 2:return l&d^l&f^d&f;case 3:return l^d^f}}function o(u,l){return u<<l|u>>>32-l}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var c=function(u){const l=[1518500249,1859775393,2400959708,3395469782],d=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof u=="string"){const g=unescape(encodeURIComponent(u));u=[];for(let v=0;v<g.length;++v)u.push(g.charCodeAt(v))}else Array.isArray(u)||(u=Array.prototype.slice.call(u));u.push(128);const f=u.length/4+2,h=Math.ceil(f/16),p=new Array(h);for(let g=0;g<h;++g){const v=new Uint32Array(16);for(let m=0;m<16;++m)v[m]=u[64*g+4*m]<<24|u[64*g+4*m+1]<<16|u[64*g+4*m+2]<<8|u[64*g+4*m+3];p[g]=v}p[h-1][14]=8*(u.length-1)/Math.pow(2,32),p[h-1][14]=Math.floor(p[h-1][14]),p[h-1][15]=8*(u.length-1)&4294967295;for(let g=0;g<h;++g){const v=new Uint32Array(80);for(let I=0;I<16;++I)v[I]=p[g][I];for(let I=16;I<80;++I)v[I]=o(v[I-3]^v[I-8]^v[I-14]^v[I-16],1);let m=d[0],x=d[1],y=d[2],w=d[3],E=d[4];for(let I=0;I<80;++I){const T=Math.floor(I/20),R=o(m,5)+a(T,x,y,w)+E+l[T]+v[I]>>>0;E=w,w=y,y=o(x,30)>>>0,x=m,m=R}d[0]=d[0]+m>>>0,d[1]=d[1]+x>>>0,d[2]=d[2]+y>>>0,d[3]=d[3]+w>>>0,d[4]=d[4]+E>>>0}return[d[0]>>24&255,d[0]>>16&255,d[0]>>8&255,255&d[0],d[1]>>24&255,d[1]>>16&255,d[1]>>8&255,255&d[1],d[2]>>24&255,d[2]>>16&255,d[2]>>8&255,255&d[2],d[3]>>24&255,d[3]>>16&255,d[3]>>8&255,255&d[3],d[4]>>24&255,d[4]>>16&255,d[4]>>8&255,255&d[4]]};i.default=c},{}],535:[function(e,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,o=(a=e("./validate.js"))&&a.__esModule?a:{default:a};const c=[];for(let l=0;l<256;++l)c.push((l+256).toString(16).substr(1));var u=function(l){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const f=(c[l[d+0]]+c[l[d+1]]+c[l[d+2]]+c[l[d+3]]+"-"+c[l[d+4]]+c[l[d+5]]+"-"+c[l[d+6]]+c[l[d+7]]+"-"+c[l[d+8]]+c[l[d+9]]+"-"+c[l[d+10]]+c[l[d+11]]+c[l[d+12]]+c[l[d+13]]+c[l[d+14]]+c[l[d+15]]).toLowerCase();if(!(0,o.default)(f))throw TypeError("Stringified UUID is invalid");return f};i.default=u},{"./validate.js":541}],536:[function(e,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=c(e("./rng.js")),o=c(e("./stringify.js"));function c(p){return p&&p.__esModule?p:{default:p}}let u,l,d=0,f=0;var h=function(p,g,v){let m=g&&v||0;const x=g||new Array(16);let y=(p=p||{}).node||u,w=p.clockseq!==void 0?p.clockseq:l;if(y==null||w==null){const L=p.random||(p.rng||a.default)();y==null&&(y=u=[1|L[0],L[1],L[2],L[3],L[4],L[5]]),w==null&&(w=l=16383&(L[6]<<8|L[7]))}let E=p.msecs!==void 0?p.msecs:Date.now(),I=p.nsecs!==void 0?p.nsecs:f+1;const T=E-d+(I-f)/1e4;if(T<0&&p.clockseq===void 0&&(w=w+1&16383),(T<0||E>d)&&p.nsecs===void 0&&(I=0),I>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=E,f=I,l=w,E+=122192928e5;const R=(1e4*(268435455&E)+I)%4294967296;x[m++]=R>>>24&255,x[m++]=R>>>16&255,x[m++]=R>>>8&255,x[m++]=255&R;const D=E/4294967296*1e4&268435455;x[m++]=D>>>8&255,x[m++]=255&D,x[m++]=D>>>24&15|16,x[m++]=D>>>16&255,x[m++]=w>>>8|128,x[m++]=255&w;for(let L=0;L<6;++L)x[m+L]=y[L];return g||(0,o.default)(x)};i.default=h},{"./rng.js":533,"./stringify.js":535}],537:[function(e,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=c(e("./v35.js")),o=c(e("./md5.js"));function c(l){return l&&l.__esModule?l:{default:l}}var u=(0,a.default)("v3",48,o.default);i.default=u},{"./md5.js":529,"./v35.js":538}],538:[function(e,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(d,f,h){function p(g,v,m,x){if(typeof g=="string"&&(g=function(w){w=unescape(encodeURIComponent(w));const E=[];for(let I=0;I<w.length;++I)E.push(w.charCodeAt(I));return E}(g)),typeof v=="string"&&(v=(0,o.default)(v)),v.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let y=new Uint8Array(16+g.length);if(y.set(v),y.set(g,v.length),y=h(y),y[6]=15&y[6]|f,y[8]=63&y[8]|128,m){x=x||0;for(let w=0;w<16;++w)m[x+w]=y[w];return m}return(0,a.default)(y)}try{p.name=d}catch{}return p.DNS=u,p.URL=l,p},i.URL=i.DNS=void 0;var a=c(e("./stringify.js")),o=c(e("./parse.js"));function c(d){return d&&d.__esModule?d:{default:d}}const u="6ba7b810-9dad-11d1-80b4-00c04fd430c8";i.DNS=u;const l="6ba7b811-9dad-11d1-80b4-00c04fd430c8";i.URL=l},{"./parse.js":531,"./stringify.js":535}],539:[function(e,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=c(e("./rng.js")),o=c(e("./stringify.js"));function c(l){return l&&l.__esModule?l:{default:l}}var u=function(l,d,f){const h=(l=l||{}).random||(l.rng||a.default)();if(h[6]=15&h[6]|64,h[8]=63&h[8]|128,d){f=f||0;for(let p=0;p<16;++p)d[f+p]=h[p];return d}return(0,o.default)(h)};i.default=u},{"./rng.js":533,"./stringify.js":535}],540:[function(e,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=c(e("./v35.js")),o=c(e("./sha1.js"));function c(l){return l&&l.__esModule?l:{default:l}}var u=(0,a.default)("v5",80,o.default);i.default=u},{"./sha1.js":534,"./v35.js":538}],541:[function(e,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,o=(a=e("./regex.js"))&&a.__esModule?a:{default:a},c=function(u){return typeof u=="string"&&o.default.test(u)};i.default=c},{"./regex.js":532}],542:[function(e,s,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a,o=(a=e("./validate.js"))&&a.__esModule?a:{default:a},c=function(u){if(!(0,o.default)(u))throw TypeError("Invalid UUID");return parseInt(u.substr(14,1),16)};i.default=c},{"./validate.js":541}],543:[function(e,s,i){/**
 * Character classes and associated utilities for the 5th edition of XML 1.0.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR=`	
\r ---`,i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-z-----------",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9--",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function a(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(o){return o>=32&&o<=55295||o===10||o===13||o===9||o>=57344&&o<=65533||o>=65536&&o<=1114111},i.isS=function(o){return o===32||o===10||o===13||o===9},i.isNameStartChar=a,i.isNameChar=function(o){return a(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],544:[function(e,s,i){/**
 * Character classes and associated utilities for the 2nd edition of XML 1.1.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(i,"__esModule",{value:!0}),i.CHAR="---",i.RESTRICTED_CHAR="-\b\v\f---",i.S=` 	\r
`,i.NAME_START_CHAR=":A-Z_a-z-----------",i.NAME_CHAR="-"+i.NAME_START_CHAR+".0-9--",i.CHAR_RE=new RegExp("^["+i.CHAR+"]$","u"),i.RESTRICTED_CHAR_RE=new RegExp("^["+i.RESTRICTED_CHAR+"]$","u"),i.S_RE=new RegExp("^["+i.S+"]+$","u"),i.NAME_START_CHAR_RE=new RegExp("^["+i.NAME_START_CHAR+"]$","u"),i.NAME_CHAR_RE=new RegExp("^["+i.NAME_CHAR+"]$","u"),i.NAME_RE=new RegExp("^["+i.NAME_START_CHAR+"]["+i.NAME_CHAR+"]*$","u"),i.NMTOKEN_RE=new RegExp("^["+i.NAME_CHAR+"]+$","u");function a(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}i.S_LIST=[32,10,13,9],i.isChar=function(o){return o>=1&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},i.isRestrictedChar=function(o){return o>=1&&o<=8||o===11||o===12||o>=14&&o<=31||o>=127&&o<=132||o>=134&&o<=159},i.isCharAndNotRestricted=function(o){return o===9||o===10||o===13||o>31&&o<127||o===133||o>159&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},i.isS=function(o){return o===32||o===10||o===13||o===9},i.isNameStartChar=a,i.isNameChar=function(o){return a(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],545:[function(e,s,i){/**
 * Character class utilities for XML NS 1.0 edition 3.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */function a(o){return o>=65&&o<=90||o===95||o>=97&&o<=122||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8204&&o<=8205||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}Object.defineProperty(i,"__esModule",{value:!0}),i.NC_NAME_START_CHAR="A-Z_a-z------------",i.NC_NAME_CHAR="-"+i.NC_NAME_START_CHAR+".0-9--",i.NC_NAME_START_CHAR_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]$","u"),i.NC_NAME_CHAR_RE=new RegExp("^["+i.NC_NAME_CHAR+"]$","u"),i.NC_NAME_RE=new RegExp("^["+i.NC_NAME_START_CHAR+"]["+i.NC_NAME_CHAR+"]*$","u"),i.isNCNameStartChar=a,i.isNCNameChar=function(o){return a(o)||o===45||o===46||o>=48&&o<=57||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}]},{},[15])(15)})})(TA);var hB=TA.exports;const fB=GN(hB);var DA={exports:{}};(function(n,r){var t={};(function(e,s){s()})(Sb,function(){function e(l,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\uFEFF",l],{type:l.type}):l}function s(l,d,f){var h=new XMLHttpRequest;h.open("GET",l),h.responseType="blob",h.onload=function(){u(h.response,d,f)},h.onerror=function(){console.error("could not download file")},h.send()}function i(l){var d=new XMLHttpRequest;d.open("HEAD",l,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function a(l){try{l.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),l.dispatchEvent(d)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof t=="object"&&t.global===t?t:void 0,c=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(l,d,f){var h=o.URL||o.webkitURL,p=document.createElement("a");d=d||l.name||"download",p.download=d,p.rel="noopener",typeof l=="string"?(p.href=l,p.origin===location.origin?a(p):i(p.href)?s(l,d,f):a(p,p.target="_blank")):(p.href=h.createObjectURL(l),setTimeout(function(){h.revokeObjectURL(p.href)},4e4),setTimeout(function(){a(p)},0))}:"msSaveOrOpenBlob"in navigator?function(l,d,f){if(d=d||l.name||"download",typeof l!="string")navigator.msSaveOrOpenBlob(e(l,f),d);else if(i(l))s(l,d,f);else{var h=document.createElement("a");h.href=l,h.target="_blank",setTimeout(function(){a(h)})}}:function(l,d,f,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof l=="string")return s(l,d,f);var p=l.type==="application/octet-stream",g=/constructor/i.test(o.HTMLElement)||o.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||p&&g||c)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var w=m.result;w=v?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=w:location=w,h=null},m.readAsDataURL(l)}else{var x=o.URL||o.webkitURL,y=x.createObjectURL(l);h?h.location=y:location.href=y,h=null,setTimeout(function(){x.revokeObjectURL(y)},4e4)}});o.saveAs=u.saveAs=u,n.exports=u})})(DA);var pB=DA.exports;const mB=({reportTitle:n})=>{const r=()=>{const e=document.querySelectorAll("table thead tr"),s=Array.from(e).map(l=>{const d=l.querySelectorAll("th");return Array.from(d).map(f=>f.innerText)}),i=document.querySelectorAll("table tbody tr"),a=Array.from(i).map(l=>{const d=l.querySelectorAll("td");return Array.from(d).map(f=>f.innerText)}),o=new fB.Workbook,c=o.addWorksheet(`${n}`);console.log(c.name);const u=c.addRow(s[0]);c.columns=s[0].map(l=>({header:l,width:l.length<20?20:l.length})),u.eachCell(l=>{l.font={bold:!0,size:12,color:{argb:"f9f9f9"}},l.fill={type:"pattern",pattern:"solid",fgColor:{argb:"787878"}},l.alignment={horizontal:"left"}}),a.forEach(l=>{c.addRow(l)}),c.eachRow((l,d)=>{d!==1&&l.eachCell(f=>{f.font={size:12,color:{argb:"FF000000"}},f.alignment={horizontal:"left"}})}),o.xlsx.writeBuffer().then(l=>{const d=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});console.log(d),pB.saveAs(d,`${n}.xlsx`)})},t=()=>{r()};return b.jsx("section",{className:"my-10 space-y-3",children:b.jsx("footer",{children:b.jsx("div",{className:"vertical-center p-5 pt-9 ",children:b.jsx("button",{className:" bg-[#FEF116] text-dark_grey text_size_5 w-[126px] p-2 rounded",onClick:()=>{t()},children:"Download"})})})})};function $0(n){return Fn({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.972 6.251c-.967-.538-2.185-.188-2.72.777l-3.713 6.682-2.125-2.125c-.781-.781-2.047-.781-2.828 0-.781.781-.781 2.047 0 2.828l4 4c.378.379.888.587 1.414.587l.277-.02c.621-.087 1.166-.46 1.471-1.009l5-9c.537-.966.189-2.183-.776-2.72z"},child:[]}]})(n)}const gB=({register:n})=>{const[r,t]=St.useState(""),e=s=>{t(s.target.value)};return b.jsxs("form",{className:"w-full mx-auto mt-5",children:[b.jsxs("div",{className:"mb-8",children:[b.jsx("p",{className:"mb-4",children:"Please indicate any additional information or unusual circumstances considered relevant to the staff performance or assessment. Please specify accordingly."}),b.jsx("textarea",{...n("additionalInfo"),className:"w-full h-32 border p-2 rounded resize-none outline-none"})]}),b.jsxs("div",{className:"mb-8",children:[b.jsx("h2",{className:"font-bold bg-black text-white p-2",children:"RECOMMENDATION"}),b.jsxs("div",{className:"space-y-4 mt-4",children:[b.jsxs("label",{className:"flex items-center relative",children:[b.jsx("input",{type:"radio",...n("recommendation"),value:"confirmed",checked:r==="confirmed",onChange:e,className:"mr-2 w-6 h-6 border-2 bg-white appearance-none rounded-none"}),b.jsxs("span",{className:"radio-label flex items-center",children:[r==="confirmed"&&b.jsx($0,{className:"text-[#4ad84a] text-[28px] absolute bottom-0 -left-0.5"}),"The appointment to be confirmed"]})]}),b.jsxs("label",{className:"flex items-center relative",children:[b.jsx("input",{type:"radio",...n("recommendation"),value:"extended",checked:r==="extended",onChange:e,className:"mr-2 w-6 h-6 border-2 border-gray-500 bg-white appearance-none rounded-none"}),b.jsxs("span",{className:"radio-label flex items-center",children:[r==="extended"&&b.jsx($0,{className:"text-[#4ad84a] text-[28px] absolute bottom-0 -left-0.5"}),"The appointment to be extended for a further probationary period of",b.jsx("input",{type:"text",...n("extensionPeriod"),className:"w-12 border-b outline-none text-center ml-2",placeholder:"0"})," ","months"]})]}),b.jsxs("label",{className:"flex items-center relative",children:[b.jsx("input",{type:"radio",...n("recommendation"),value:"terminated",checked:r==="terminated",onChange:e,className:"mr-2 w-6 h-6 border-2 border-gray-500 bg-white appearance-none rounded-none"}),b.jsxs("span",{className:"radio-label flex items-center",children:[r==="terminated"&&b.jsx($0,{className:"text-[#4ad84a] text-[28px] absolute bottom-0 -left-0.5"}),"The appointment to be terminated"]})]})]})]}),b.jsxs("div",{className:"mb-8",children:[b.jsx("p",{children:"Comments that you would like to include into the probation/employment confirmation letter:"}),b.jsxs("p",{className:"italic",children:["(It is ",b.jsx("strong",{children:"compulsory"})," for you to fill in your comment for the ",b.jsx("strong",{children:"staff level"})," considering his/her attitude, approach, and ability in performing the duties or responsibilities assigned.)"]})]}),b.jsxs("div",{className:"mt-20 space-y-16",children:[b.jsxs("div",{className:"flex justify-between items-center space-x-8",children:[b.jsxs("div",{className:"flex justify-center items-center",children:[b.jsx("label",{className:"text-sm font-medium",children:"Name of Supervisor :"}),b.jsx("input",{type:"text",...n("supervisorName"),className:"border-b outline-none px-1"})]}),b.jsxs("div",{className:"flex items-center space-x-2 border-b",children:[b.jsx("label",{className:"text-sm font-medium",children:"Approved"}),b.jsx("input",{type:"checkbox",...n("supervisorApproved"),className:"form-checkbox h-4 w-4"})]}),b.jsx("div",{className:"flex items-center space-x-2 border-b",children:b.jsx("input",{type:"date",...n("supervisorDate"),className:"outline-none"})})]}),b.jsxs("div",{className:"flex justify-between items-center space-x-8",children:[b.jsxs("div",{className:"flex justify-center items-center",children:[b.jsx("label",{className:"text-sm font-medium",children:"Name of Manager :"}),b.jsx("input",{type:"text",...n("managerName"),className:"border-b outline-none px-1"})]}),b.jsxs("div",{className:"flex items-center space-x-2 border-b",children:[b.jsx("label",{className:"text-sm font-medium",children:"Approved"}),b.jsx("input",{type:"checkbox",...n("managerApproved"),className:"form-checkbox h-4 w-4"})]}),b.jsx("div",{className:"flex items-center space-x-2 border-b",children:b.jsx("input",{type:"date",...n("managerDate"),className:"outline-none"})})]}),b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{className:"w-[350px]",children:[b.jsx("p",{className:"font-semibold",children:"Concurred By GM :"}),b.jsx("p",{children:"(For Staff Category Only)"})]}),b.jsxs("div",{className:"flex items-center space-x-2 border-b",children:[b.jsx("label",{className:"text-sm font-medium",children:"Approved"}),b.jsx("input",{type:"checkbox",...n("gmApproved"),className:"form-checkbox h-4 w-4"})]}),b.jsx("div",{className:"flex items-center space-x-2 border-b",children:b.jsx("input",{type:"date",...n("gmDate"),className:"outline-none"})})]})]}),b.jsxs("div",{className:"border pt-4 mt-5",children:[b.jsx("h3",{className:"font-bold underline p-2",children:"Human Resources Department"}),b.jsx("div",{children:b.jsx("p",{className:"font-semibold border-b p-2",children:"Received & Action By :"})}),b.jsxs("div",{className:"flex justify-evenly items-center border-b py-5",children:[b.jsxs("div",{className:"flex justify-center items-center",children:[b.jsx("label",{className:"text-sm font-medium",children:"Name :"}),b.jsx("input",{type:"text",...n("hrName"),className:"border-b outline-none px-1"})]}),b.jsx("div",{className:"flex items-center space-x-2 border-b",children:b.jsx("input",{type:"date",...n("hrDate"),className:"outline-none"})})]})]}),b.jsx("div",{className:"mt-8",children:b.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded",children:"Submit"})})]})},hu=({title:n,name:r,register:t})=>{const[e,s]=ne.useState(""),i=a=>{s(a.target.value)};return b.jsxs("div",{className:"mb-6",children:[b.jsx("h3",{className:"font-semibold",children:n}),b.jsxs("div",{className:"mt-2",children:[b.jsxs("label",{className:"flex items-center relative",children:[b.jsx("input",{type:"radio",name:r,...t(r),value:"exceeding",checked:e==="exceeding",onChange:i,className:"mr-2 appearance-none w-5 h-5 border rounded-sm"}),"Exceeding expectations",e==="exceeding"&&b.jsx($0,{className:"text-[#4ad84a] text-[28px] absolute -bottom-0.5 -left-0.5"})]}),b.jsxs("label",{className:"flex items-center relative mt-2",children:[b.jsx("input",{type:"radio",name:r,...t(r),value:"meeting",checked:e==="meeting",onChange:i,className:"mr-2 appearance-none w-5 h-5 border rounded-sm"}),"Meeting expectations",e==="meeting"&&b.jsx($0,{className:"text-[#4ad84a] text-[28px] absolute -bottom-0.5 -left-0.5"})]}),b.jsxs("label",{className:"flex items-center relative mt-2",children:[b.jsx("input",{type:"radio",name:r,...t(r),value:"notMeeting",checked:e==="notMeeting",onChange:i,className:"mr-2 appearance-none w-5 h-5 border rounded-sm"}),"Not meeting expectations (provide details)",e==="notMeeting"&&b.jsx($0,{className:"text-[#4ad84a] text-[28px] absolute -bottom-0.5 -left-0.5"})]})]})]})},bB=({register:n})=>b.jsxs("div",{children:[b.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Employee Performance"}),b.jsx(hu,{title:"1) Communication and Inter-personal Skill",name:"communication",register:n}),b.jsx(hu,{title:"2) Quality of Work",name:"quality",register:n}),b.jsx(hu,{title:"3) Pace of Work",name:"pace",register:n}),b.jsx(hu,{title:"4) Initiative",name:"initiative",register:n}),b.jsx(hu,{title:"5) Attitude and professionalism",name:"attitude",register:n}),b.jsx(hu,{title:"6) Adaptability",name:"adaptability",register:n}),b.jsx(hu,{title:"7) Teamwork",name:"teamwork",register:n}),b.jsx(hu,{title:"8) Responsible and dependable",name:"responsibility",register:n}),b.jsx(hu,{title:"9) Diligent",name:"diligent",register:n}),b.jsx(hu,{title:"10) Commitment towards the job",name:"commitment",register:n})]}),vB="/assets/logo-CSWhrnUD.png",fi=({notification:n,text:r,path:t})=>{const[e,s]=ne.useState(!1);return ne.useEffect(()=>{if(n){s(!0);const i=setTimeout(()=>{s(!1),t&&(window.location.href=t)},3e3);return()=>clearTimeout(i)}},[n,t]),b.jsx("section",{children:e&&b.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-[70]",children:b.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg text-center",children:[b.jsx("p",{className:"text-dark_grey font-semibold",children:r}),b.jsx("img",{src:vB,alt:"Logo",className:"mt-4 cursor-pointer w-12 h-12 mx-auto animate-spin-slow"})]})})})},yB=ne.forwardRef(()=>{const n=Xu(),[r,t]=ne.useState(!1),[e,s]=ne.useState(""),{employeeData:i}=n.state||{},{register:a,handleSubmit:o}=ds(),c=u=>{console.log("Form Data:",u),s("Report  Probation Form Info  Save successfully"),t(!0)};return b.jsxs("form",{onSubmit:o(c),className:"p-10 bg-white shadow-md w-full px-20 mx-auto",children:[b.jsx("section",{className:"center mb-16",children:b.jsx("div",{className:"max-w-[400px] w-full",children:b.jsx("img",{className:"w-full",src:$m,alt:"Logo not found"})})}),b.jsxs("div",{className:"mb-10",children:[b.jsxs("p",{className:"text-md mt-2",children:["For the attention of:"," ",b.jsx("input",{type:"text",...a("attention"),className:"border-b border-black focus:outline-none px-1"})]}),b.jsxs("p",{className:"text-md mt-3",children:["Deadline submit to Human Resources Department by"," ",b.jsx("input",{type:"text",...a("deadline"),className:"border-b border-black outline-none px-1"})]})]}),b.jsxs("div",{className:"w-full mx-auto mb-10",children:[b.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Employee Details:"}),b.jsx("table",{className:"w-full border border-black",children:b.jsxs("tbody",{children:[b.jsxs("tr",{className:"border",children:[b.jsx("td",{className:"p-2 border-r border-b font-semibold",children:"Employee Name"}),b.jsx("td",{className:"p-2 border-b",children:b.jsx("input",{...a("name"),defaultValue:(i==null?void 0:i.name)||"-",className:"w-full outline-none"})})]}),b.jsxs("tr",{className:"border",children:[b.jsx("td",{className:"p-2 border-r border-b font-semibold",children:"Employee ID"}),b.jsx("td",{className:"p-2 border-b",children:b.jsx("input",{...a("empID"),defaultValue:(i==null?void 0:i.empID)||"",className:"w-full outline-none"})})]}),b.jsxs("tr",{className:"border",children:[b.jsx("td",{className:"p-2 border-r border-b font-semibold",children:"Badge Number"}),b.jsx("td",{className:"p-2 border-b",children:b.jsx("input",{...a("empBadgeNo"),defaultValue:(i==null?void 0:i.empBadgeNo)||"",className:"w-full outline-none"})})]}),b.jsxs("tr",{className:"border",children:[b.jsx("td",{className:"p-2 border-r border-b font-semibold",children:"Department"}),b.jsx("td",{className:"p-2 border-b",children:b.jsx("input",{...a("department"),defaultValue:(i==null?void 0:i.department)||"",className:"w-full outline-none"})})]}),b.jsxs("tr",{className:"border",children:[b.jsx("td",{className:"p-2 border-r border-b font-semibold",children:"Position"}),b.jsx("td",{className:"p-2 border-b",children:b.jsx("input",{...a("position"),defaultValue:(i==null?void 0:i.position)||"",className:"w-full outline-none"})})]}),b.jsxs("tr",{className:"border",children:[b.jsx("td",{className:"p-2 border-r border-b font-semibold",children:"Date Joined"}),b.jsx("td",{className:"p-2 border-b",children:b.jsx("input",{...a("doj"),defaultValue:(i==null?void 0:i.doj)||"",className:"w-full outline-none"})})]}),b.jsxs("tr",{className:"border",children:[b.jsx("td",{className:"p-2 border-r border-b font-semibold",children:"Probation End Date"}),b.jsx("td",{className:"p-2 border-b",children:b.jsx("input",{...a("probationEnd"),defaultValue:(i==null?void 0:i.probationEnd)||"-",className:"w-full outline-none"})})]}),b.jsxs("tr",{className:"border",children:[b.jsx("td",{className:"p-2 border-r font-semibold",children:"Extended Probation End Date"}),b.jsx("td",{className:"p-2 border-b",children:b.jsx("input",{...a("extendedProbationEndDate"),defaultValue:(i==null?void 0:i.extendedPED)||"-",className:"w-full outline-none"})})]})]})})]}),b.jsx(bB,{register:a}),b.jsx(gB,{register:a}),b.jsx("div",{className:"flex items-center justify-center mt-8",children:b.jsx("button",{type:"submit",className:"primary_btn",children:"Save"})}),r&&b.jsx(fi,{text:e,notification:r,path:"/reports"})]})}),$c=({tableBody:n,tableHead:r,typeOfReport:t,reportTitle:e,allData:s,handleViewDetails:i})=>b.jsx("div",{children:n.length>0?b.jsxs("div",{children:[b.jsx("h1",{className:"text-xl font-bold center my-10",children:t}),b.jsx("div",{className:" w-full overflow-x-auto overflow-auto scrollbar-hide shadow-lg ",children:b.jsxs("table",{className:" mt-5 border-collapse w-full ",children:[b.jsx("thead",{className:"w-full ",children:b.jsx("tr",{className:"bg-[#C5C5C5]  rounded-sm",children:r.map((a,o)=>b.jsx("th",{className:"px-6 py-5 text-[15px] text-secondary w-full ",children:b.jsx("span",{className:"w-[120px] center",children:a})},o))})}),b.jsx("tbody",{children:n.map((a,o)=>b.jsxs("tr",{className:"text-sm border-b-2 border-[#CECECE]",children:[a.map((c,u)=>b.jsx("td",{className:"border-b-2 text-center border-[#CECECE] p-2",children:c},u)),t==="Probation Form"&&b.jsx("td",{className:"border-b-2 text-center border-[#CECECE] p-2 cursor-pointer text-blue-600",onClick:()=>i(s[o]),children:"View Details"})]},o))})]})})]}):b.jsx("div",{className:"text-center mt-10",children:"No Report List Available Here"})}),xB=({allData:n,typeOfReport:r,reportTitle:t})=>{const[e,s]=ne.useState([]),[i,a]=ne.useState(["Name","Employee Badge","Gender","Date of Birth","Date of Joined","Nationality","work Position","contactNo","Brunei I/C No","Passport No","Pass Expiry","Department","Contract Start Date","Contract End Date","Previous Company Name"]),o=c=>(console.log(c),c.map(u=>[u.name||"-",u.empBadgeNo||"-",u.gender||"-",u.dob||"-",u.doj||"-",u.nationality||"-",u.position||"-",u.contactNo||"-",u.bwnIcNo||"-",u.ppNo||"-",u.ppExpiry||"-",u.department||"-",u.contractStart||"-",u.contractEnd||"-",u.preEmp||"-"]));return ne.useEffect(()=>{s(o(n))},[n]),b.jsx("div",{children:b.jsx($c,{tableBody:e,tableHead:i,typeOfReport:r,reportTitle:t})})},wB=({allData:n,typeOfReport:r,reportTitle:t})=>{const[e,s]=ne.useState([]),[i,a]=ne.useState(["Name","Emp ID","Badge No","Nationality","Department","Work Position","Date of Resignation","Reason of Resignation"]),o=c=>c.filter(u=>u.resignDate).map(u=>[u.name||"-",u.empID||"-",u.empBadgeNo||"-",u.nationality||"-",u.department||"-",u.position||"-",u.resignDate||"-",u.resignNotProb||"-"]);return ne.useEffect(()=>{s(o(n))},[n]),b.jsx("div",{children:b.jsx($c,{tableBody:e,tableHead:i,typeOfReport:r,reportTitle:t})})},_B=({allData:n,typeOfReport:r,reportTitle:t})=>{const[e,s]=ne.useState([]),[i,a]=ne.useState(["Name","Emp ID","Badge No","Nationality","Department","Work Position","Date of Termination","Reason of Termination"]),o=c=>c.filter(u=>u.termiDate).map(u=>[u.name||"-",u.empID||"-",u.empBadgeNo||"-",u.nationality||"-",u.position||"-",u.department||"-",u.termiDate||"-",u.reasonOfTermination||"-"]);return ne.useEffect(()=>{s(o(n))},[n]),b.jsx("div",{children:b.jsx($c,{tableBody:e,tableHead:i,typeOfReport:r,reportTitle:t})})},SB=({allData:n,typeOfReport:r,reportTitle:t})=>{const[e,s]=ne.useState([]),[i,a]=ne.useState(["Name","Employee Badge","Date of Joined","Department","Work Position","Probation Expiry Date","Deadline to Return to HRD"]),o=l=>{const d=new Date(l);return d.setDate(d.getDate()-7),d.toISOString().split("T")[0]},c=l=>{const d=new Date,h=(new Date(l)-d)/(1e3*60*60*24);return h<=7&&h>=0},u=l=>l.filter(d=>d.probationEnd&&c(d.probationEnd)).map(d=>[d.name||"-",d.empBadgeNo||"-",d.doj||"-",d.department||"-",d.position||"-",d.probationEnd||"-",d.probationEnd?o(d.probationEnd):"-"]);return ne.useEffect(()=>{s(u(n))},[n]),b.jsx("div",{children:b.jsx($c,{tableBody:e,tableHead:i,typeOfReport:r,reportTitle:t})})},EB=({allData:n,typeOfReport:r,reportTitle:t})=>{const[e,s]=ne.useState([]),[i,a]=ne.useState(["Name","Employee Badge","Nationality","Date of Joined","Department","workPosition","Contract Start Date ","Contract End Date","LD Expiry","Duration of Renewal Contract",,]),o=(l,d)=>{const f=new Date(l),h=new Date(d);return isNaN(f.getTime())||isNaN(h.getTime())?"-":(h.getFullYear()-f.getFullYear())*12+(h.getMonth()-f.getMonth())},c=(l,d)=>{const f=new Date(l),h=new Date(d),p=new Date;if(isNaN(f.getTime())||isNaN(h.getTime()))return"-";const g=o(l,d),v=o(l,p),m=g-v;return m>=0?`${m} months`:"-"},u=l=>l.map(d=>{const f=c(d.contractStart,d.contractEnd);return[d.name||"-",d.empBadgeNo||"-",d.nationality||"-",d.doj||"-",d.department||"-",d.position||"-",d.contractStart||"-",d.contractEnd||"-",d.nlmsEmpValid||"-",f||"-"]});return ne.useEffect(()=>{s(u(n))},[n]),console.log(e),b.jsx("div",{children:b.jsx($c,{tableBody:e,tableHead:i,typeOfReport:r,reportTitle:t})})},NB=({allData:n,typeOfReport:r,reportTitle:t})=>{const[e,s]=ne.useState([]),[i,a]=ne.useState(["Name","Employee Badge","Nationality","Work Position","Department","Pass Expiry"]),o=u=>{if(!u)return!1;const l=new Date,h=(new Date(u).getTime()-l.getTime())/(1e3*3600*24);return h<=30&&h>=0},c=u=>u.filter(l=>o(l.empPassExp)).map(l=>[l.name||"-",l.empBadgeNo||"-",l.nationality||"-",l.position||"-",l.department||"-",l.empPassExp||"-"]);return ne.useEffect(()=>{n&&n.length>0&&s(c(n))},[n]),console.log("Filtered Table Data:",e),b.jsx("div",{children:b.jsx($c,{tableBody:e,tableHead:i,typeOfReport:r,reportTitle:t})})},AB=({allData:n,typeOfReport:r,reportTitle:t})=>{const[e,s]=ne.useState([]),[i]=ne.useState(["Name","Employee Badge","Nationality","Work Position","Department","LD Approved","LD Expiry"]),a=c=>{if(!c)return!1;const u=new Date,l=new Date(c);if(isNaN(l.getTime()))return console.error("Invalid date format:",c),!1;const f=(l.getTime()-u.getTime())/(1e3*3600*24);return f<=90&&f>=0},o=c=>{const u=c.filter(l=>a(l.nlmsEmpValid));return console.log("Filtered Data:",u),u.map(l=>[l.name||"-",l.empBadgeNo||"-",l.nationality||"-",l.position||"-",l.department||"-",l.nlmsEmpApproval||"-",l.nlmsEmpValid||"-"])};return ne.useEffect(()=>{n&&Array.isArray(n)?s(o(n)):console.warn("Invalid or missing allData:",n)},[n]),b.jsx("div",{children:b.jsx($c,{tableBody:e,tableHead:i,typeOfReport:r,reportTitle:t})})},kB=({allData:n,typeOfReport:r,reportTitle:t})=>{const[e,s]=ne.useState([]),[i,a]=ne.useState(["Name","Employee Badge","Date of Joined","Department","workPosition","Probation Expiry Date","Deadline to return HRD"]),o=c=>c.map(u=>[u.name||"-",u.empBadgeNo||"-",u.doj||"-",u.department||"-",u.position||"-",u.probationEnd||"-",u.deadlineToReturnHRD||"-"]);return ne.useEffect(()=>{s(o(n))},[n]),console.log(e),b.jsx("div",{children:b.jsx($c,{tableBody:e,tableHead:i,typeOfReport:r,reportTitle:t})})},CB=({allData:n,typeOfReport:r,reportTitle:t})=>{const[e,s]=ne.useState([]),[i,a]=ne.useState(["Name","Employee Badge","Nationality","Work Position","Department","Medical Expiry"]),o=u=>{if(!u)return!1;const l=new Date,h=(new Date(u).getTime()-l.getTime())/(1e3*3600*24);return h<=90&&h>=0},c=u=>u.filter(d=>o(d.bruneiME)).map(d=>[d.name||"-",d.empBadgeNo||"-",d.nationality||"-",d.position||"-",d.department||"-",d.bruneiME||"-"]);return ne.useEffect(()=>{s(c(n))},[n]),console.log(e),b.jsx("div",{children:b.jsx($c,{tableBody:e,tableHead:i,typeOfReport:r,reportTitle:t})})};function ts(n){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ts(n)}var Ua=Uint8Array,bl=Uint16Array,p8=Int32Array,zw=new Ua([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Vw=new Ua([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),c_=new Ua([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),IA=function(n,r){for(var t=new bl(31),e=0;e<31;++e)t[e]=r+=1<<n[e-1];for(var s=new p8(t[30]),e=1;e<30;++e)for(var i=t[e];i<t[e+1];++i)s[i]=i-t[e]<<5|e;return{b:t,r:s}},PA=IA(zw,2),jA=PA.b,u_=PA.r;jA[28]=258,u_[258]=28;var RA=IA(Vw,0),TB=RA.b,YE=RA.r,d_=new bl(32768);for(var xs=0;xs<32768;++xs){var Wh=(xs&43690)>>1|(xs&21845)<<1;Wh=(Wh&52428)>>2|(Wh&13107)<<2,Wh=(Wh&61680)>>4|(Wh&3855)<<4,d_[xs]=((Wh&65280)>>8|(Wh&255)<<8)>>1}var qu=function(n,r,t){for(var e=n.length,s=0,i=new bl(r);s<e;++s)n[s]&&++i[n[s]-1];var a=new bl(r);for(s=1;s<r;++s)a[s]=a[s-1]+i[s-1]<<1;var o;if(t){o=new bl(1<<r);var c=15-r;for(s=0;s<e;++s)if(n[s])for(var u=s<<4|n[s],l=r-n[s],d=a[n[s]-1]++<<l,f=d|(1<<l)-1;d<=f;++d)o[d_[d]>>c]=u}else for(o=new bl(e),s=0;s<e;++s)n[s]&&(o[s]=d_[a[n[s]-1]++]>>15-n[s]);return o},jf=new Ua(288);for(var xs=0;xs<144;++xs)jf[xs]=8;for(var xs=144;xs<256;++xs)jf[xs]=9;for(var xs=256;xs<280;++xs)jf[xs]=7;for(var xs=280;xs<288;++xs)jf[xs]=8;var Ab=new Ua(32);for(var xs=0;xs<32;++xs)Ab[xs]=5;var DB=qu(jf,9,0),IB=qu(jf,9,1),PB=qu(Ab,5,0),jB=qu(Ab,5,1),y6=function(n){for(var r=n[0],t=1;t<n.length;++t)n[t]>r&&(r=n[t]);return r},yc=function(n,r,t){var e=r/8|0;return(n[e]|n[e+1]<<8)>>(r&7)&t},x6=function(n,r){var t=r/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(r&7)},m8=function(n){return(n+7)/8|0},MA=function(n,r,t){return(t==null||t>n.length)&&(t=n.length),new Ua(n.subarray(r,t))},RB=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ec=function(n,r,t){var e=new Error(r||RB[n]);if(e.code=n,Error.captureStackTrace&&Error.captureStackTrace(e,Ec),!t)throw e;return e},MB=function(n,r,t,e){var s=n.length,i=0;if(!s||r.f&&!r.l)return t||new Ua(0);var a=!t,o=a||r.i!=2,c=r.i;a&&(t=new Ua(s*3));var u=function(Z){var te=t.length;if(Z>te){var oe=new Ua(Math.max(te*2,Z));oe.set(t),t=oe}},l=r.f||0,d=r.p||0,f=r.b||0,h=r.l,p=r.d,g=r.m,v=r.n,m=s*8;do{if(!h){l=yc(n,d,1);var x=yc(n,d+1,3);if(d+=3,x)if(x==1)h=IB,p=jB,g=9,v=5;else if(x==2){var I=yc(n,d,31)+257,T=yc(n,d+10,15)+4,R=I+yc(n,d+5,31)+1;d+=14;for(var D=new Ua(R),L=new Ua(19),M=0;M<T;++M)L[c_[M]]=yc(n,d+M*3,7);d+=T*3;for(var H=y6(L),V=(1<<H)-1,P=qu(L,H,1),M=0;M<R;){var F=P[yc(n,d,V)];d+=F&15;var y=F>>4;if(y<16)D[M++]=y;else{var A=0,_=0;for(y==16?(_=3+yc(n,d,3),d+=2,A=D[M-1]):y==17?(_=3+yc(n,d,7),d+=3):y==18&&(_=11+yc(n,d,127),d+=7);_--;)D[M++]=A}}var S=D.subarray(0,I),N=D.subarray(I);g=y6(S),v=y6(N),h=qu(S,g,1),p=qu(N,v,1)}else Ec(1);else{var y=m8(d)+4,w=n[y-4]|n[y-3]<<8,E=y+w;if(E>s){c&&Ec(0);break}o&&u(f+w),t.set(n.subarray(y,E),f),r.b=f+=w,r.p=d=E*8,r.f=l;continue}if(d>m){c&&Ec(0);break}}o&&u(f+131072);for(var C=(1<<g)-1,W=(1<<v)-1,j=d;;j=d){var A=h[x6(n,d)&C],B=A>>4;if(d+=A&15,d>m){c&&Ec(0);break}if(A||Ec(2),B<256)t[f++]=B;else if(B==256){j=d,h=null;break}else{var G=B-254;if(B>264){var M=B-257,X=zw[M];G=yc(n,d,(1<<X)-1)+jA[M],d+=X}var J=p[x6(n,d)&W],O=J>>4;J||Ec(3),d+=J&15;var N=TB[O];if(O>3){var X=Vw[O];N+=x6(n,d)&(1<<X)-1,d+=X}if(d>m){c&&Ec(0);break}o&&u(f+131072);var ee=f+G;if(f<N){var U=i-N,z=Math.min(N,ee);for(U+f<0&&Ec(3);f<z;++f)t[f]=e[U+f]}for(;f<ee;++f)t[f]=t[f-N]}}r.l=h,r.p=j,r.b=f,r.f=l,h&&(l=1,r.m=g,r.d=p,r.n=v)}while(!l);return f!=t.length&&a?MA(t,0,f):t.subarray(0,f)},Id=function(n,r,t){t<<=r&7;var e=r/8|0;n[e]|=t,n[e+1]|=t>>8},Pg=function(n,r,t){t<<=r&7;var e=r/8|0;n[e]|=t,n[e+1]|=t>>8,n[e+2]|=t>>16},w6=function(n,r){for(var t=[],e=0;e<n.length;++e)n[e]&&t.push({s:e,f:n[e]});var s=t.length,i=t.slice();if(!s)return{t:OA,l:0};if(s==1){var a=new Ua(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(E,I){return E.f-I.f}),t.push({s:-1,f:25001});var o=t[0],c=t[1],u=0,l=1,d=2;for(t[0]={s:-1,f:o.f+c.f,l:o,r:c};l!=s-1;)o=t[t[u].f<t[d].f?u++:d++],c=t[u!=l&&t[u].f<t[d].f?u++:d++],t[l++]={s:-1,f:o.f+c.f,l:o,r:c};for(var f=i[0].s,e=1;e<s;++e)i[e].s>f&&(f=i[e].s);var h=new bl(f+1),p=h_(t[l-1],h,0);if(p>r){var e=0,g=0,v=p-r,m=1<<v;for(i.sort(function(I,T){return h[T.s]-h[I.s]||I.f-T.f});e<s;++e){var x=i[e].s;if(h[x]>r)g+=m-(1<<p-h[x]),h[x]=r;else break}for(g>>=v;g>0;){var y=i[e].s;h[y]<r?g-=1<<r-h[y]++-1:++e}for(;e>=0&&g;--e){var w=i[e].s;h[w]==r&&(--h[w],++g)}p=r}return{t:new Ua(h),l:p}},h_=function(n,r,t){return n.s==-1?Math.max(h_(n.l,r,t+1),h_(n.r,r,t+1)):r[n.s]=t},XE=function(n){for(var r=n.length;r&&!n[--r];);for(var t=new bl(++r),e=0,s=n[0],i=1,a=function(c){t[e++]=c},o=1;o<=r;++o)if(n[o]==s&&o!=r)++i;else{if(!s&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(s),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(s);i=1,s=n[o]}return{c:t.subarray(0,e),n:r}},jg=function(n,r){for(var t=0,e=0;e<r.length;++e)t+=n[e]*r[e];return t},LA=function(n,r,t){var e=t.length,s=m8(r+2);n[s]=e&255,n[s+1]=e>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var i=0;i<e;++i)n[s+i+4]=t[i];return(s+4+e)*8},KE=function(n,r,t,e,s,i,a,o,c,u,l){Id(r,l++,t),++s[256];for(var d=w6(s,15),f=d.t,h=d.l,p=w6(i,15),g=p.t,v=p.l,m=XE(f),x=m.c,y=m.n,w=XE(g),E=w.c,I=w.n,T=new bl(19),R=0;R<x.length;++R)++T[x[R]&31];for(var R=0;R<E.length;++R)++T[E[R]&31];for(var D=w6(T,7),L=D.t,M=D.l,H=19;H>4&&!L[c_[H-1]];--H);var V=u+5<<3,P=jg(s,jf)+jg(i,Ab)+a,F=jg(s,f)+jg(i,g)+a+14+3*H+jg(T,L)+2*T[16]+3*T[17]+7*T[18];if(c>=0&&V<=P&&V<=F)return LA(r,l,n.subarray(c,c+u));var A,_,S,N;if(Id(r,l,1+(F<P)),l+=2,F<P){A=qu(f,h,0),_=f,S=qu(g,v,0),N=g;var C=qu(L,M,0);Id(r,l,y-257),Id(r,l+5,I-1),Id(r,l+10,H-4),l+=14;for(var R=0;R<H;++R)Id(r,l+3*R,L[c_[R]]);l+=3*H;for(var W=[x,E],j=0;j<2;++j)for(var B=W[j],R=0;R<B.length;++R){var G=B[R]&31;Id(r,l,C[G]),l+=L[G],G>15&&(Id(r,l,B[R]>>5&127),l+=B[R]>>12)}}else A=DB,_=jf,S=PB,N=Ab;for(var R=0;R<o;++R){var X=e[R];if(X>255){var G=X>>18&31;Pg(r,l,A[G+257]),l+=_[G+257],G>7&&(Id(r,l,X>>23&31),l+=zw[G]);var J=X&31;Pg(r,l,S[J]),l+=N[J],J>3&&(Pg(r,l,X>>5&8191),l+=Vw[J])}else Pg(r,l,A[X]),l+=_[X]}return Pg(r,l,A[256]),l+_[256]},LB=new p8([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),OA=new Ua(0),OB=function(n,r,t,e,s,i){var a=i.z||n.length,o=new Ua(e+a+5*(1+Math.ceil(a/7e3))+s),c=o.subarray(e,o.length-s),u=i.l,l=(i.r||0)&7;if(r){l&&(c[0]=i.r>>3);for(var d=LB[r-1],f=d>>13,h=d&8191,p=(1<<t)-1,g=i.p||new bl(32768),v=i.h||new bl(p+1),m=Math.ceil(t/3),x=2*m,y=function(ue){return(n[ue]^n[ue+1]<<m^n[ue+2]<<x)&p},w=new p8(25e3),E=new bl(288),I=new bl(32),T=0,R=0,D=i.i||0,L=0,M=i.w||0,H=0;D+2<a;++D){var V=y(D),P=D&32767,F=v[V];if(g[P]=F,v[V]=P,M<=D){var A=a-D;if((T>7e3||L>24576)&&(A>423||!u)){l=KE(n,c,0,w,E,I,R,L,H,D-H,l),L=T=R=0,H=D;for(var _=0;_<286;++_)E[_]=0;for(var _=0;_<30;++_)I[_]=0}var S=2,N=0,C=h,W=P-F&32767;if(A>2&&V==y(D-W))for(var j=Math.min(f,A)-1,B=Math.min(32767,D),G=Math.min(258,A);W<=B&&--C&&P!=F;){if(n[D+S]==n[D+S-W]){for(var X=0;X<G&&n[D+X]==n[D+X-W];++X);if(X>S){if(S=X,N=W,X>j)break;for(var J=Math.min(W,X-2),O=0,_=0;_<J;++_){var ee=D-W+_&32767,U=g[ee],z=ee-U&32767;z>O&&(O=z,F=ee)}}}P=F,F=g[P],W+=P-F&32767}if(N){w[L++]=268435456|u_[S]<<18|YE[N];var Z=u_[S]&31,te=YE[N]&31;R+=zw[Z]+Vw[te],++E[257+Z],++I[te],M=D+S,++T}else w[L++]=n[D],++E[n[D]]}}for(D=Math.max(D,M);D<a;++D)w[L++]=n[D],++E[n[D]];l=KE(n,c,u,w,E,I,R,L,H,D-H,l),u||(i.r=l&7|c[l/8|0]<<3,l-=7,i.h=v,i.p=g,i.i=D,i.w=M)}else{for(var D=i.w||0;D<a+u;D+=65535){var oe=D+65535;oe>=a&&(c[l/8|0]=u,oe=a),l=LA(c,l+1,n.subarray(D,oe))}i.i=a}return MA(o,0,e+m8(l)+s)},FA=function(){var n=1,r=0;return{p:function(t){for(var e=n,s=r,i=t.length|0,a=0;a!=i;){for(var o=Math.min(a+2655,i);a<o;++a)s+=e+=t[a];e=(e&65535)+15*(e>>16),s=(s&65535)+15*(s>>16)}n=e,r=s},d:function(){return n%=65521,r%=65521,(n&255)<<24|(n&65280)<<8|(r&255)<<8|r>>8}}},FB=function(n,r,t,e,s){if(!s&&(s={l:1},r.dictionary)){var i=r.dictionary.subarray(-32768),a=new Ua(i.length+n.length);a.set(i),a.set(n,i.length),n=a,s.w=i.length}return OB(n,r.level==null?6:r.level,r.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+r.mem,t,e,s)},BA=function(n,r,t){for(;t;++r)n[r]=t,t>>>=8},BB=function(n,r){var t=r.level,e=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=e<<6|(r.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,r.dictionary){var s=FA();s.p(r.dictionary),BA(n,2,s.d())}},UB=function(n,r){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Ec(6,"invalid zlib data"),(n[1]>>5&1)==+!r&&Ec(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function f_(n,r){r||(r={});var t=FA();t.p(n);var e=FB(n,r,r.dictionary?6:2,4);return BB(e,r),BA(e,e.length-4,t.d()),e}function HB(n,r){return MB(n.subarray(UB(n,r),-4),{i:2},r,r)}var qB=typeof TextDecoder<"u"&&new TextDecoder,WB=0;try{qB.decode(OA,{stream:!0}),WB=1}catch{}var JE={},Fr=function(){return typeof window<"u"?window:typeof JE<"u"?JE:typeof self<"u"?self:this}();function _6(){Fr.console&&typeof Fr.console.log=="function"&&Fr.console.log.apply(Fr.console,arguments)}var ls={log:_6,warn:function(n){Fr.console&&(typeof Fr.console.warn=="function"?Fr.console.warn.apply(Fr.console,arguments):_6.call(null,arguments))},error:function(n){Fr.console&&(typeof Fr.console.error=="function"?Fr.console.error.apply(Fr.console,arguments):_6(n))}};function S6(n,r,t){var e=new XMLHttpRequest;e.open("GET",n),e.responseType="blob",e.onload=function(){vp(e.response,r,t)},e.onerror=function(){ls.error("could not download file")},e.send()}function ZE(n){var r=new XMLHttpRequest;r.open("HEAD",n,!1);try{r.send()}catch{}return r.status>=200&&r.status<=299}function T2(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(r)}}var ib,p_,vp=Fr.saveAs||((typeof window>"u"?"undefined":ts(window))!=="object"||window!==Fr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,r,t){var e=Fr.URL||Fr.webkitURL,s=document.createElement("a");r=r||n.name||"download",s.download=r,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?ZE(s.href)?S6(n,r,t):T2(s,s.target="_blank"):T2(s)):(s.href=e.createObjectURL(n),setTimeout(function(){e.revokeObjectURL(s.href)},4e4),setTimeout(function(){T2(s)},0))}:"msSaveOrOpenBlob"in navigator?function(n,r,t){if(r=r||n.name||"download",typeof n=="string")if(ZE(n))S6(n,r,t);else{var e=document.createElement("a");e.href=n,e.target="_blank",setTimeout(function(){T2(e)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:ts(i)!=="object"&&(ls.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(n,t),r)}:function(n,r,t,e){if((e=e||open("","_blank"))&&(e.document.title=e.document.body.innerText="downloading..."),typeof n=="string")return S6(n,r,t);var s=n.type==="application/octet-stream",i=/constructor/i.test(Fr.HTMLElement)||Fr.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||s&&i)&&(typeof FileReader>"u"?"undefined":ts(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var l=o.result;l=a?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),e?e.location.href=l:location=l,e=null},o.readAsDataURL(n)}else{var c=Fr.URL||Fr.webkitURL,u=c.createObjectURL(n);e?e.location=u:location.href=u,e=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function UA(n){var r;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],e=0;e<t.length;e++){var s=t[e].re,i=t[e].process,a=s.exec(n);a&&(r=i(a),this.r=r[0],this.g=r[1],this.b=r[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+o+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function E6(n,r){var t=n[0],e=n[1],s=n[2],i=n[3];t=Aa(t,e,s,i,r[0],7,-680876936),i=Aa(i,t,e,s,r[1],12,-389564586),s=Aa(s,i,t,e,r[2],17,606105819),e=Aa(e,s,i,t,r[3],22,-1044525330),t=Aa(t,e,s,i,r[4],7,-176418897),i=Aa(i,t,e,s,r[5],12,1200080426),s=Aa(s,i,t,e,r[6],17,-1473231341),e=Aa(e,s,i,t,r[7],22,-45705983),t=Aa(t,e,s,i,r[8],7,1770035416),i=Aa(i,t,e,s,r[9],12,-1958414417),s=Aa(s,i,t,e,r[10],17,-42063),e=Aa(e,s,i,t,r[11],22,-1990404162),t=Aa(t,e,s,i,r[12],7,1804603682),i=Aa(i,t,e,s,r[13],12,-40341101),s=Aa(s,i,t,e,r[14],17,-1502002290),t=ka(t,e=Aa(e,s,i,t,r[15],22,1236535329),s,i,r[1],5,-165796510),i=ka(i,t,e,s,r[6],9,-1069501632),s=ka(s,i,t,e,r[11],14,643717713),e=ka(e,s,i,t,r[0],20,-373897302),t=ka(t,e,s,i,r[5],5,-701558691),i=ka(i,t,e,s,r[10],9,38016083),s=ka(s,i,t,e,r[15],14,-660478335),e=ka(e,s,i,t,r[4],20,-405537848),t=ka(t,e,s,i,r[9],5,568446438),i=ka(i,t,e,s,r[14],9,-1019803690),s=ka(s,i,t,e,r[3],14,-187363961),e=ka(e,s,i,t,r[8],20,1163531501),t=ka(t,e,s,i,r[13],5,-1444681467),i=ka(i,t,e,s,r[2],9,-51403784),s=ka(s,i,t,e,r[7],14,1735328473),t=Ca(t,e=ka(e,s,i,t,r[12],20,-1926607734),s,i,r[5],4,-378558),i=Ca(i,t,e,s,r[8],11,-2022574463),s=Ca(s,i,t,e,r[11],16,1839030562),e=Ca(e,s,i,t,r[14],23,-35309556),t=Ca(t,e,s,i,r[1],4,-1530992060),i=Ca(i,t,e,s,r[4],11,1272893353),s=Ca(s,i,t,e,r[7],16,-155497632),e=Ca(e,s,i,t,r[10],23,-1094730640),t=Ca(t,e,s,i,r[13],4,681279174),i=Ca(i,t,e,s,r[0],11,-358537222),s=Ca(s,i,t,e,r[3],16,-722521979),e=Ca(e,s,i,t,r[6],23,76029189),t=Ca(t,e,s,i,r[9],4,-640364487),i=Ca(i,t,e,s,r[12],11,-421815835),s=Ca(s,i,t,e,r[15],16,530742520),t=Ta(t,e=Ca(e,s,i,t,r[2],23,-995338651),s,i,r[0],6,-198630844),i=Ta(i,t,e,s,r[7],10,1126891415),s=Ta(s,i,t,e,r[14],15,-1416354905),e=Ta(e,s,i,t,r[5],21,-57434055),t=Ta(t,e,s,i,r[12],6,1700485571),i=Ta(i,t,e,s,r[3],10,-1894986606),s=Ta(s,i,t,e,r[10],15,-1051523),e=Ta(e,s,i,t,r[1],21,-2054922799),t=Ta(t,e,s,i,r[8],6,1873313359),i=Ta(i,t,e,s,r[15],10,-30611744),s=Ta(s,i,t,e,r[6],15,-1560198380),e=Ta(e,s,i,t,r[13],21,1309151649),t=Ta(t,e,s,i,r[4],6,-145523070),i=Ta(i,t,e,s,r[11],10,-1120210379),s=Ta(s,i,t,e,r[2],15,718787259),e=Ta(e,s,i,t,r[9],21,-343485551),n[0]=_f(t,n[0]),n[1]=_f(e,n[1]),n[2]=_f(s,n[2]),n[3]=_f(i,n[3])}function $w(n,r,t,e,s,i){return r=_f(_f(r,n),_f(e,i)),_f(r<<s|r>>>32-s,t)}function Aa(n,r,t,e,s,i,a){return $w(r&t|~r&e,n,r,s,i,a)}function ka(n,r,t,e,s,i,a){return $w(r&e|t&~e,n,r,s,i,a)}function Ca(n,r,t,e,s,i,a){return $w(r^t^e,n,r,s,i,a)}function Ta(n,r,t,e,s,i,a){return $w(t^(r|~e),n,r,s,i,a)}function HA(n){var r,t=n.length,e=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=n.length;r+=64)E6(e,zB(n.substring(r-64,r)));n=n.substring(r-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<n.length;r++)s[r>>2]|=n.charCodeAt(r)<<(r%4<<3);if(s[r>>2]|=128<<(r%4<<3),r>55)for(E6(e,s),r=0;r<16;r++)s[r]=0;return s[14]=8*t,E6(e,s),e}function zB(n){var r,t=[];for(r=0;r<64;r+=4)t[r>>2]=n.charCodeAt(r)+(n.charCodeAt(r+1)<<8)+(n.charCodeAt(r+2)<<16)+(n.charCodeAt(r+3)<<24);return t}ib=Fr.atob.bind(Fr),p_=Fr.btoa.bind(Fr);var QE="0123456789abcdef".split("");function VB(n){for(var r="",t=0;t<4;t++)r+=QE[n>>8*t+4&15]+QE[n>>8*t&15];return r}function $B(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function m_(n){return HA(n).map($B).join("")}var GB=function(n){for(var r=0;r<n.length;r++)n[r]=VB(n[r]);return n.join("")}(HA("hello"))!="5d41402abc4b2a76b9719d911017c592";function _f(n,r){if(GB){var t=(65535&n)+(65535&r);return(n>>16)+(r>>16)+(t>>16)<<16|65535&t}return n+r&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function g_(n,r){var t,e,s,i;if(n!==t){for(var a=(s=n,i=1+(256/n.length>>0),new Array(i+1).join(s)),o=[],c=0;c<256;c++)o[c]=c;var u=0;for(c=0;c<256;c++){var l=o[c];u=(u+l+a.charCodeAt(c))%256,o[c]=o[u],o[u]=l}t=n,e=o}else o=e;var d=r.length,f=0,h=0,p="";for(c=0;c<d;c++)h=(h+(l=o[f=(f+1)%256]))%256,o[f]=o[h],o[h]=l,a=o[(o[f]+o[h])%256],p+=String.fromCharCode(r.charCodeAt(c)^a);return p}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var e7={print:4,modify:8,copy:16,"annot-forms":32};function R0(n,r,t,e){this.v=1,this.r=2;var s=192;n.forEach(function(o){if(e7.perm!==void 0)throw new Error("Invalid permission: "+o);s+=e7[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(r+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,a),this.P=-(1+(255^s)),this.encryptionKey=m_(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(e)).substr(0,5),this.U=g_(this.encryptionKey,this.padding)}function M0(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var r="",t=n.length,e=0;e<t;e++){var s=n.charCodeAt(e);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?r+="#"+("0"+s.toString(16)).slice(-2):r+=n[e]}return r}function t7(n){if(ts(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var r={};this.subscribe=function(t,e,s){if(s=s||!1,typeof t!="string"||typeof e!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");r.hasOwnProperty(t)||(r[t]={});var i=Math.random().toString(35);return r[t][i]=[e,!!s],i},this.unsubscribe=function(t){for(var e in r)if(r[e][t])return delete r[e][t],Object.keys(r[e]).length===0&&delete r[e],!0;return!1},this.publish=function(t){if(r.hasOwnProperty(t)){var e=Array.prototype.slice.call(arguments,1),s=[];for(var i in r[t]){var a=r[t][i];try{a[0].apply(n,e)}catch(o){Fr.console&&ls.error("jsPDF PubSub Error",o.message,o)}a[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return r}}function kb(n){if(!(this instanceof kb))return new kb(n);var r="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&r.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function qA(n,r){this.gState=n,this.matrix=r,this.id="",this.objectNumber=-1}function Kh(n,r,t,e,s){if(!(this instanceof Kh))return new Kh(n,r,t,e,s);this.type=n==="axial"?2:3,this.coords=r,this.colors=t,qA.call(this,e,s)}function Ap(n,r,t,e,s){if(!(this instanceof Ap))return new Ap(n,r,t,e,s);this.boundingBox=n,this.xStep=r,this.yStep=t,this.stream="",this.cloneIndex=0,qA.call(this,e,s)}function Ir(n){var r,t=typeof arguments[0]=="string"?arguments[0]:"p",e=arguments[1],s=arguments[2],i=arguments[3],a=[],o=1,c=16,u="S",l=null;ts(n=n||{})==="object"&&(t=n.orientation,e=n.unit||e,s=n.format||s,i=n.compress||n.compressPdf||i,(l=n.encryption||null)!==null&&(l.userPassword=l.userPassword||"",l.ownerPassword=l.ownerPassword||"",l.userPermissions=l.userPermissions||[]),o=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(r=n.precision),n.floatPrecision!==void 0&&(c=n.floatPrecision),u=n.defaultPathOperation||"S"),a=n.filters||(i===!0?["FlateEncode"]:a),e=e||"mm",t=(""+(t||"P")).toLowerCase();var d=n.putOnlyUsedFonts||!1,f={},h={internal:{},__private__:{}};h.__private__.PubSub=t7;var p="1.3",g=h.__private__.getPdfVersion=function(){return p};h.__private__.setPdfVersion=function(se){p=se};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return v};var m=h.__private__.getPageFormat=function(se){return v[se]};s=s||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},y=x.COMPAT;function w(){this.saveGraphicsState(),ce(new Lt(Je,0,0,-Je,0,Ai()*Je).toString()+" cm"),this.setFontSize(this.getFontSize()/Je),u="n",y=x.ADVANCED}function E(){this.restoreGraphicsState(),u="S",y=x.COMPAT}var I=h.__private__.combineFontStyleAndFontWeight=function(se,pe){if(se=="bold"&&pe=="normal"||se=="bold"&&pe==400||se=="normal"&&pe=="italic"||se=="bold"&&pe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return pe&&(se=pe==400||pe==="normal"?se==="italic"?"italic":"normal":pe!=700&&pe!=="bold"||se!=="normal"?(pe==700?"bold":pe)+""+se:"bold"),se};h.advancedAPI=function(se){var pe=y===x.COMPAT;return pe&&w.call(this),typeof se!="function"||(se(this),pe&&E.call(this)),this},h.compatAPI=function(se){var pe=y===x.ADVANCED;return pe&&E.call(this),typeof se!="function"||(se(this),pe&&w.call(this)),this},h.isAdvancedAPI=function(){return y===x.ADVANCED};var T,R=function(se){if(y!==x.ADVANCED)throw new Error(se+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=h.roundToPrecision=h.__private__.roundToPrecision=function(se,pe){var Be=r||pe;if(isNaN(se)||isNaN(Be))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return se.toFixed(Be).replace(/0+$/,"")};T=h.hpf=h.__private__.hpf=typeof c=="number"?function(se){if(isNaN(se))throw new Error("Invalid argument passed to jsPDF.hpf");return D(se,c)}:c==="smart"?function(se){if(isNaN(se))throw new Error("Invalid argument passed to jsPDF.hpf");return D(se,se>-1&&se<1?16:5)}:function(se){if(isNaN(se))throw new Error("Invalid argument passed to jsPDF.hpf");return D(se,16)};var L=h.f2=h.__private__.f2=function(se){if(isNaN(se))throw new Error("Invalid argument passed to jsPDF.f2");return D(se,2)},M=h.__private__.f3=function(se){if(isNaN(se))throw new Error("Invalid argument passed to jsPDF.f3");return D(se,3)},H=h.scale=h.__private__.scale=function(se){if(isNaN(se))throw new Error("Invalid argument passed to jsPDF.scale");return y===x.COMPAT?se*Je:y===x.ADVANCED?se:void 0},V=function(se){return y===x.COMPAT?Ai()-se:y===x.ADVANCED?se:void 0},P=function(se){return H(V(se))};h.__private__.setPrecision=h.setPrecision=function(se){typeof parseInt(se,10)=="number"&&(r=parseInt(se,10))};var F,A="00000000000000000000000000000000",_=h.__private__.getFileId=function(){return A},S=h.__private__.setFileId=function(se){return A=se!==void 0&&/^[a-fA-F0-9]{32}$/.test(se)?se.toUpperCase():A.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),l!==null&&(hs=new R0(l.userPermissions,l.userPassword,l.ownerPassword,A)),A};h.setFileId=function(se){return S(se),this},h.getFileId=function(){return _()};var N=h.__private__.convertDateToPDFDate=function(se){var pe=se.getTimezoneOffset(),Be=pe<0?"+":"-",Ze=Math.floor(Math.abs(pe/60)),ht=Math.abs(pe%60),_t=[Be,G(Ze),"'",G(ht),"'"].join("");return["D:",se.getFullYear(),G(se.getMonth()+1),G(se.getDate()),G(se.getHours()),G(se.getMinutes()),G(se.getSeconds()),_t].join("")},C=h.__private__.convertPDFDateToDate=function(se){var pe=parseInt(se.substr(2,4),10),Be=parseInt(se.substr(6,2),10)-1,Ze=parseInt(se.substr(8,2),10),ht=parseInt(se.substr(10,2),10),_t=parseInt(se.substr(12,2),10),Ut=parseInt(se.substr(14,2),10);return new Date(pe,Be,Ze,ht,_t,Ut,0)},W=h.__private__.setCreationDate=function(se){var pe;if(se===void 0&&(se=new Date),se instanceof Date)pe=N(se);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(se))throw new Error("Invalid argument passed to jsPDF.setCreationDate");pe=se}return F=pe},j=h.__private__.getCreationDate=function(se){var pe=F;return se==="jsDate"&&(pe=C(F)),pe};h.setCreationDate=function(se){return W(se),this},h.getCreationDate=function(se){return j(se)};var B,G=h.__private__.padd2=function(se){return("0"+parseInt(se)).slice(-2)},X=h.__private__.padd2Hex=function(se){return("00"+(se=se.toString())).substr(se.length)},J=0,O=[],ee=[],U=0,z=[],Z=[],te=!1,oe=ee,ue=function(){J=0,U=0,ee=[],O=[],z=[],Se=st(),ye=st()};h.__private__.setCustomOutputDestination=function(se){te=!0,oe=se};var le=function(se){te||(oe=se)};h.__private__.resetCustomOutputDestination=function(){te=!1,oe=ee};var ce=h.__private__.out=function(se){return se=se.toString(),U+=se.length+1,oe.push(se),oe},_e=h.__private__.write=function(se){return ce(arguments.length===1?se.toString():Array.prototype.join.call(arguments," "))},fe=h.__private__.getArrayBuffer=function(se){for(var pe=se.length,Be=new ArrayBuffer(pe),Ze=new Uint8Array(Be);pe--;)Ze[pe]=se.charCodeAt(pe);return Be},ge=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return ge};var xe=n.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(se){return xe=y===x.ADVANCED?se/Je:se,this};var Le,Me=h.__private__.getFontSize=h.getFontSize=function(){return y===x.COMPAT?xe:xe*Je},Oe=n.R2L||!1;h.__private__.setR2L=h.setR2L=function(se){return Oe=se,this},h.__private__.getR2L=h.getR2L=function(){return Oe};var ze,Ke=h.__private__.setZoomMode=function(se){var pe=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(se))Le=se;else if(isNaN(se)){if(pe.indexOf(se)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+se+'" is not recognized.');Le=se}else Le=parseInt(se,10)};h.__private__.getZoomMode=function(){return Le};var ot,$e=h.__private__.setPageMode=function(se){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(se)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+se+'" is not recognized.');ze=se};h.__private__.getPageMode=function(){return ze};var Ve=h.__private__.setLayoutMode=function(se){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(se)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+se+'" is not recognized.');ot=se};h.__private__.getLayoutMode=function(){return ot},h.__private__.setDisplayMode=h.setDisplayMode=function(se,pe,Be){return Ke(se),Ve(pe),$e(Be),this};var He={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(se){if(Object.keys(He).indexOf(se)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return He[se]},h.__private__.getDocumentProperties=function(){return He},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(se){for(var pe in He)He.hasOwnProperty(pe)&&se[pe]&&(He[pe]=se[pe]);return this},h.__private__.setDocumentProperty=function(se,pe){if(Object.keys(He).indexOf(se)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return He[se]=pe};var rt,Je,wt,yt,kt,mt={},At={},$t=[],Tt={},Yt={},nr={},Xt={},fr=null,rr=0,qt=[],cr=new t7(h),Tr=n.hotfixes||[],Qt={},xr={},Rr=[],Lt=function se(pe,Be,Ze,ht,_t,Ut){if(!(this instanceof se))return new se(pe,Be,Ze,ht,_t,Ut);isNaN(pe)&&(pe=1),isNaN(Be)&&(Be=0),isNaN(Ze)&&(Ze=0),isNaN(ht)&&(ht=1),isNaN(_t)&&(_t=0),isNaN(Ut)&&(Ut=0),this._matrix=[pe,Be,Ze,ht,_t,Ut]};Object.defineProperty(Lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(se){this._matrix[0]=se}}),Object.defineProperty(Lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(se){this._matrix[1]=se}}),Object.defineProperty(Lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(se){this._matrix[2]=se}}),Object.defineProperty(Lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(se){this._matrix[3]=se}}),Object.defineProperty(Lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(se){this._matrix[4]=se}}),Object.defineProperty(Lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(se){this._matrix[5]=se}}),Object.defineProperty(Lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(se){this._matrix[0]=se}}),Object.defineProperty(Lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(se){this._matrix[1]=se}}),Object.defineProperty(Lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(se){this._matrix[2]=se}}),Object.defineProperty(Lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(se){this._matrix[3]=se}}),Object.defineProperty(Lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(se){this._matrix[4]=se}}),Object.defineProperty(Lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(se){this._matrix[5]=se}}),Object.defineProperty(Lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Lt.prototype.join=function(se){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(se)},Lt.prototype.multiply=function(se){var pe=se.sx*this.sx+se.shy*this.shx,Be=se.sx*this.shy+se.shy*this.sy,Ze=se.shx*this.sx+se.sy*this.shx,ht=se.shx*this.shy+se.sy*this.sy,_t=se.tx*this.sx+se.ty*this.shx+this.tx,Ut=se.tx*this.shy+se.ty*this.sy+this.ty;return new Lt(pe,Be,Ze,ht,_t,Ut)},Lt.prototype.decompose=function(){var se=this.sx,pe=this.shy,Be=this.shx,Ze=this.sy,ht=this.tx,_t=this.ty,Ut=Math.sqrt(se*se+pe*pe),er=(se/=Ut)*Be+(pe/=Ut)*Ze;Be-=se*er,Ze-=pe*er;var vr=Math.sqrt(Be*Be+Ze*Ze);return er/=vr,se*(Ze/=vr)<pe*(Be/=vr)&&(se=-se,pe=-pe,er=-er,Ut=-Ut),{scale:new Lt(Ut,0,0,vr,0,0),translate:new Lt(1,0,0,1,ht,_t),rotate:new Lt(se,pe,-pe,se,0,0),skew:new Lt(1,0,er,1,0,0)}},Lt.prototype.toString=function(se){return this.join(" ")},Lt.prototype.inversed=function(){var se=this.sx,pe=this.shy,Be=this.shx,Ze=this.sy,ht=this.tx,_t=this.ty,Ut=1/(se*Ze-pe*Be),er=Ze*Ut,vr=-pe*Ut,Br=-Be*Ut,Or=se*Ut;return new Lt(er,vr,Br,Or,-er*ht-Br*_t,-vr*ht-Or*_t)},Lt.prototype.applyToPoint=function(se){var pe=se.x*this.sx+se.y*this.shx+this.tx,Be=se.x*this.shy+se.y*this.sy+this.ty;return new Qc(pe,Be)},Lt.prototype.applyToRectangle=function(se){var pe=this.applyToPoint(se),Be=this.applyToPoint(new Qc(se.x+se.w,se.y+se.h));return new bi(pe.x,pe.y,Be.x-pe.x,Be.y-pe.y)},Lt.prototype.clone=function(){var se=this.sx,pe=this.shy,Be=this.shx,Ze=this.sy,ht=this.tx,_t=this.ty;return new Lt(se,pe,Be,Ze,ht,_t)},h.Matrix=Lt;var Sr=h.matrixMult=function(se,pe){return pe.multiply(se)},Nr=new Lt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Nr;var ur=function(se,pe){if(!Yt[se]){var Be=(pe instanceof Kh?"Sh":"P")+(Object.keys(Tt).length+1).toString(10);pe.id=Be,Yt[se]=Be,Tt[Be]=pe,cr.publish("addPattern",pe)}};h.ShadingPattern=Kh,h.TilingPattern=Ap,h.addShadingPattern=function(se,pe){return R("addShadingPattern()"),ur(se,pe),this},h.beginTilingPattern=function(se){R("beginTilingPattern()"),id(se.boundingBox[0],se.boundingBox[1],se.boundingBox[2]-se.boundingBox[0],se.boundingBox[3]-se.boundingBox[1],se.matrix)},h.endTilingPattern=function(se,pe){R("endTilingPattern()"),pe.stream=Z[B].join(`
`),ur(se,pe),cr.publish("endTilingPattern",pe),Rr.pop().restore()};var qe=h.__private__.newObject=function(){var se=st();return he(se,!0),se},st=h.__private__.newObjectDeferred=function(){return J++,O[J]=function(){return U},J},he=function(se,pe){return pe=typeof pe=="boolean"&&pe,O[se]=U,pe&&ce(se+" 0 obj"),se},Ee=h.__private__.newAdditionalObject=function(){var se={objId:st(),content:""};return z.push(se),se},Se=st(),ye=st(),Pe=h.__private__.decodeColorString=function(se){var pe=se.split(" ");if(pe.length!==2||pe[1]!=="g"&&pe[1]!=="G")pe.length===5&&(pe[4]==="k"||pe[4]==="K")&&(pe=[(1-pe[0])*(1-pe[3]),(1-pe[1])*(1-pe[3]),(1-pe[2])*(1-pe[3]),"r"]);else{var Be=parseFloat(pe[0]);pe=[Be,Be,Be,"r"]}for(var Ze="#",ht=0;ht<3;ht++)Ze+=("0"+Math.floor(255*parseFloat(pe[ht])).toString(16)).slice(-2);return Ze},je=h.__private__.encodeColorString=function(se){var pe;typeof se=="string"&&(se={ch1:se});var Be=se.ch1,Ze=se.ch2,ht=se.ch3,_t=se.ch4,Ut=se.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Be=="string"&&Be.charAt(0)!=="#"){var er=new UA(Be);if(er.ok)Be=er.toHex();else if(!/^\d*\.?\d*$/.test(Be))throw new Error('Invalid color "'+Be+'" passed to jsPDF.encodeColorString.')}if(typeof Be=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Be)&&(Be="#"+Be[1]+Be[1]+Be[2]+Be[2]+Be[3]+Be[3]),typeof Be=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Be)){var vr=parseInt(Be.substr(1),16);Be=vr>>16&255,Ze=vr>>8&255,ht=255&vr}if(Ze===void 0||_t===void 0&&Be===Ze&&Ze===ht)if(typeof Be=="string")pe=Be+" "+Ut[0];else switch(se.precision){case 2:pe=L(Be/255)+" "+Ut[0];break;case 3:default:pe=M(Be/255)+" "+Ut[0]}else if(_t===void 0||ts(_t)==="object"){if(_t&&!isNaN(_t.a)&&_t.a===0)return pe=["1.","1.","1.",Ut[1]].join(" ");if(typeof Be=="string")pe=[Be,Ze,ht,Ut[1]].join(" ");else switch(se.precision){case 2:pe=[L(Be/255),L(Ze/255),L(ht/255),Ut[1]].join(" ");break;default:case 3:pe=[M(Be/255),M(Ze/255),M(ht/255),Ut[1]].join(" ")}}else if(typeof Be=="string")pe=[Be,Ze,ht,_t,Ut[2]].join(" ");else switch(se.precision){case 2:pe=[L(Be),L(Ze),L(ht),L(_t),Ut[2]].join(" ");break;case 3:default:pe=[M(Be),M(Ze),M(ht),M(_t),Ut[2]].join(" ")}return pe},Ge=h.__private__.getFilters=function(){return a},lt=h.__private__.putStream=function(se){var pe=(se=se||{}).data||"",Be=se.filters||Ge(),Ze=se.alreadyAppliedFilters||[],ht=se.addLength1||!1,_t=pe.length,Ut=se.objectId,er=function(Ps){return Ps};if(l!==null&&Ut===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");l!==null&&(er=hs.encryptor(Ut,0));var vr={};Be===!0&&(Be=["FlateEncode"]);var Br=se.additionalKeyValues||[],Or=(vr=Ir.API.processDataByFilters!==void 0?Ir.API.processDataByFilters(pe,Be):{data:pe,reverseChain:[]}).reverseChain+(Array.isArray(Ze)?Ze.join(" "):Ze.toString());if(vr.data.length!==0&&(Br.push({key:"Length",value:vr.data.length}),ht===!0&&Br.push({key:"Length1",value:_t})),Or.length!=0)if(Or.split("/").length-1==1)Br.push({key:"Filter",value:Or});else{Br.push({key:"Filter",value:"["+Or+"]"});for(var tn=0;tn<Br.length;tn+=1)if(Br[tn].key==="DecodeParms"){for(var Gn=[],as=0;as<vr.reverseChain.split("/").length-1;as+=1)Gn.push("null");Gn.push(Br[tn].value),Br[tn].value="["+Gn.join(" ")+"]"}}ce("<<");for(var Es=0;Es<Br.length;Es++)ce("/"+Br[Es].key+" "+Br[Es].value);ce(">>"),vr.data.length!==0&&(ce("stream"),ce(er(vr.data)),ce("endstream"))},Xe=h.__private__.putPage=function(se){var pe=se.number,Be=se.data,Ze=se.objId,ht=se.contentsObjId;he(Ze,!0),ce("<</Type /Page"),ce("/Parent "+se.rootDictionaryObjId+" 0 R"),ce("/Resources "+se.resourceDictionaryObjId+" 0 R"),ce("/MediaBox ["+parseFloat(T(se.mediaBox.bottomLeftX))+" "+parseFloat(T(se.mediaBox.bottomLeftY))+" "+T(se.mediaBox.topRightX)+" "+T(se.mediaBox.topRightY)+"]"),se.cropBox!==null&&ce("/CropBox ["+T(se.cropBox.bottomLeftX)+" "+T(se.cropBox.bottomLeftY)+" "+T(se.cropBox.topRightX)+" "+T(se.cropBox.topRightY)+"]"),se.bleedBox!==null&&ce("/BleedBox ["+T(se.bleedBox.bottomLeftX)+" "+T(se.bleedBox.bottomLeftY)+" "+T(se.bleedBox.topRightX)+" "+T(se.bleedBox.topRightY)+"]"),se.trimBox!==null&&ce("/TrimBox ["+T(se.trimBox.bottomLeftX)+" "+T(se.trimBox.bottomLeftY)+" "+T(se.trimBox.topRightX)+" "+T(se.trimBox.topRightY)+"]"),se.artBox!==null&&ce("/ArtBox ["+T(se.artBox.bottomLeftX)+" "+T(se.artBox.bottomLeftY)+" "+T(se.artBox.topRightX)+" "+T(se.artBox.topRightY)+"]"),typeof se.userUnit=="number"&&se.userUnit!==1&&ce("/UserUnit "+se.userUnit),cr.publish("putPage",{objId:Ze,pageContext:qt[pe],pageNumber:pe,page:Be}),ce("/Contents "+ht+" 0 R"),ce(">>"),ce("endobj");var _t=Be.join(`
`);return y===x.ADVANCED&&(_t+=`
Q`),he(ht,!0),lt({data:_t,filters:Ge(),objectId:ht}),ce("endobj"),Ze},nt=h.__private__.putPages=function(){var se,pe,Be=[];for(se=1;se<=rr;se++)qt[se].objId=st(),qt[se].contentsObjId=st();for(se=1;se<=rr;se++)Be.push(Xe({number:se,data:Z[se],objId:qt[se].objId,contentsObjId:qt[se].contentsObjId,mediaBox:qt[se].mediaBox,cropBox:qt[se].cropBox,bleedBox:qt[se].bleedBox,trimBox:qt[se].trimBox,artBox:qt[se].artBox,userUnit:qt[se].userUnit,rootDictionaryObjId:Se,resourceDictionaryObjId:ye}));he(Se,!0),ce("<</Type /Pages");var Ze="/Kids [";for(pe=0;pe<rr;pe++)Ze+=Be[pe]+" 0 R ";ce(Ze+"]"),ce("/Count "+rr),ce(">>"),ce("endobj"),cr.publish("postPutPages")},ut=function(se){cr.publish("putFont",{font:se,out:ce,newObject:qe,putStream:lt}),se.isAlreadyPutted!==!0&&(se.objectNumber=qe(),ce("<<"),ce("/Type /Font"),ce("/BaseFont /"+M0(se.postScriptName)),ce("/Subtype /Type1"),typeof se.encoding=="string"&&ce("/Encoding /"+se.encoding),ce("/FirstChar 32"),ce("/LastChar 255"),ce(">>"),ce("endobj"))},Nt=function(){for(var se in mt)mt.hasOwnProperty(se)&&(d===!1||d===!0&&f.hasOwnProperty(se))&&ut(mt[se])},Ft=function(se){se.objectNumber=qe();var pe=[];pe.push({key:"Type",value:"/XObject"}),pe.push({key:"Subtype",value:"/Form"}),pe.push({key:"BBox",value:"["+[T(se.x),T(se.y),T(se.x+se.width),T(se.y+se.height)].join(" ")+"]"}),pe.push({key:"Matrix",value:"["+se.matrix.toString()+"]"});var Be=se.pages[1].join(`
`);lt({data:Be,additionalKeyValues:pe,objectId:se.objectNumber}),ce("endobj")},zt=function(){for(var se in Qt)Qt.hasOwnProperty(se)&&Ft(Qt[se])},Rt=function(se,pe){var Be,Ze=[],ht=1/(pe-1);for(Be=0;Be<1;Be+=ht)Ze.push(Be);if(Ze.push(1),se[0].offset!=0){var _t={offset:0,color:se[0].color};se.unshift(_t)}if(se[se.length-1].offset!=1){var Ut={offset:1,color:se[se.length-1].color};se.push(Ut)}for(var er="",vr=0,Br=0;Br<Ze.length;Br++){for(Be=Ze[Br];Be>se[vr+1].offset;)vr++;var Or=se[vr].offset,tn=(Be-Or)/(se[vr+1].offset-Or),Gn=se[vr].color,as=se[vr+1].color;er+=X(Math.round((1-tn)*Gn[0]+tn*as[0]).toString(16))+X(Math.round((1-tn)*Gn[1]+tn*as[1]).toString(16))+X(Math.round((1-tn)*Gn[2]+tn*as[2]).toString(16))}return er.trim()},Ae=function(se,pe){pe||(pe=21);var Be=qe(),Ze=Rt(se.colors,pe),ht=[];ht.push({key:"FunctionType",value:"0"}),ht.push({key:"Domain",value:"[0.0 1.0]"}),ht.push({key:"Size",value:"["+pe+"]"}),ht.push({key:"BitsPerSample",value:"8"}),ht.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ht.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),lt({data:Ze,additionalKeyValues:ht,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Be}),ce("endobj"),se.objectNumber=qe(),ce("<< /ShadingType "+se.type),ce("/ColorSpace /DeviceRGB");var _t="/Coords ["+T(parseFloat(se.coords[0]))+" "+T(parseFloat(se.coords[1]))+" ";se.type===2?_t+=T(parseFloat(se.coords[2]))+" "+T(parseFloat(se.coords[3])):_t+=T(parseFloat(se.coords[2]))+" "+T(parseFloat(se.coords[3]))+" "+T(parseFloat(se.coords[4]))+" "+T(parseFloat(se.coords[5])),ce(_t+="]"),se.matrix&&ce("/Matrix ["+se.matrix.toString()+"]"),ce("/Function "+Be+" 0 R"),ce("/Extend [true true]"),ce(">>"),ce("endobj")},Ye=function(se,pe){var Be=st(),Ze=qe();pe.push({resourcesOid:Be,objectOid:Ze}),se.objectNumber=Ze;var ht=[];ht.push({key:"Type",value:"/Pattern"}),ht.push({key:"PatternType",value:"1"}),ht.push({key:"PaintType",value:"1"}),ht.push({key:"TilingType",value:"1"}),ht.push({key:"BBox",value:"["+se.boundingBox.map(T).join(" ")+"]"}),ht.push({key:"XStep",value:T(se.xStep)}),ht.push({key:"YStep",value:T(se.yStep)}),ht.push({key:"Resources",value:Be+" 0 R"}),se.matrix&&ht.push({key:"Matrix",value:"["+se.matrix.toString()+"]"}),lt({data:se.stream,additionalKeyValues:ht,objectId:se.objectNumber}),ce("endobj")},gt=function(se){var pe;for(pe in Tt)Tt.hasOwnProperty(pe)&&(Tt[pe]instanceof Kh?Ae(Tt[pe]):Tt[pe]instanceof Ap&&Ye(Tt[pe],se))},Et=function(se){for(var pe in se.objectNumber=qe(),ce("<<"),se)switch(pe){case"opacity":ce("/ca "+L(se[pe]));break;case"stroke-opacity":ce("/CA "+L(se[pe]))}ce(">>"),ce("endobj")},Kt=function(){var se;for(se in nr)nr.hasOwnProperty(se)&&Et(nr[se])},Ht=function(){for(var se in ce("/XObject <<"),Qt)Qt.hasOwnProperty(se)&&Qt[se].objectNumber>=0&&ce("/"+se+" "+Qt[se].objectNumber+" 0 R");cr.publish("putXobjectDict"),ce(">>")},Vt=function(){hs.oid=qe(),ce("<<"),ce("/Filter /Standard"),ce("/V "+hs.v),ce("/R "+hs.r),ce("/U <"+hs.toHexString(hs.U)+">"),ce("/O <"+hs.toHexString(hs.O)+">"),ce("/P "+hs.P),ce(">>"),ce("endobj")},Dr=function(){for(var se in ce("/Font <<"),mt)mt.hasOwnProperty(se)&&(d===!1||d===!0&&f.hasOwnProperty(se))&&ce("/"+se+" "+mt[se].objectNumber+" 0 R");ce(">>")},wr=function(){if(Object.keys(Tt).length>0){for(var se in ce("/Shading <<"),Tt)Tt.hasOwnProperty(se)&&Tt[se]instanceof Kh&&Tt[se].objectNumber>=0&&ce("/"+se+" "+Tt[se].objectNumber+" 0 R");cr.publish("putShadingPatternDict"),ce(">>")}},Ar=function(se){if(Object.keys(Tt).length>0){for(var pe in ce("/Pattern <<"),Tt)Tt.hasOwnProperty(pe)&&Tt[pe]instanceof h.TilingPattern&&Tt[pe].objectNumber>=0&&Tt[pe].objectNumber<se&&ce("/"+pe+" "+Tt[pe].objectNumber+" 0 R");cr.publish("putTilingPatternDict"),ce(">>")}},lr=function(){if(Object.keys(nr).length>0){var se;for(se in ce("/ExtGState <<"),nr)nr.hasOwnProperty(se)&&nr[se].objectNumber>=0&&ce("/"+se+" "+nr[se].objectNumber+" 0 R");cr.publish("putGStateDict"),ce(">>")}},Er=function(se){he(se.resourcesOid,!0),ce("<<"),ce("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Dr(),wr(),Ar(se.objectOid),lr(),Ht(),ce(">>"),ce("endobj")},nn=function(){var se=[];Nt(),Kt(),zt(),gt(se),cr.publish("putResources"),se.forEach(Er),Er({resourcesOid:ye,objectOid:Number.MAX_SAFE_INTEGER}),cr.publish("postPutResources")},sn=function(){cr.publish("putAdditionalObjects");for(var se=0;se<z.length;se++){var pe=z[se];he(pe.objId,!0),ce(pe.content),ce("endobj")}cr.publish("postPutAdditionalObjects")},An=function(se){At[se.fontName]=At[se.fontName]||{},At[se.fontName][se.fontStyle]=se.id},Wn=function(se,pe,Be,Ze,ht){var _t={id:"F"+(Object.keys(mt).length+1).toString(10),postScriptName:se,fontName:pe,fontStyle:Be,encoding:Ze,isStandardFont:ht||!1,metadata:{}};return cr.publish("addFont",{font:_t,instance:this}),mt[_t.id]=_t,An(_t),_t.id},Is=function(se){for(var pe=0,Be=ge.length;pe<Be;pe++){var Ze=Wn.call(this,se[pe][0],se[pe][1],se[pe][2],ge[pe][3],!0);d===!1&&(f[Ze]=!0);var ht=se[pe][0].split("-");An({id:Ze,fontName:ht[0],fontStyle:ht[1]||""})}cr.publish("addFonts",{fonts:mt,dictionary:At})},rs=function(se){return se.foo=function(){try{return se.apply(this,arguments)}catch(Ze){var pe=Ze.stack||"";~pe.indexOf(" at ")&&(pe=pe.split(" at ")[1]);var Be="Error in function "+pe.split(`
`)[0].split("<")[0]+": "+Ze.message;if(!Fr.console)throw new Error(Be);Fr.console.error(Be,Ze),Fr.alert&&alert(Be)}},se.foo.bar=se,se.foo},Zs=function(se,pe){var Be,Ze,ht,_t,Ut,er,vr,Br,Or;if(ht=(pe=pe||{}).sourceEncoding||"Unicode",Ut=pe.outputEncoding,(pe.autoencode||Ut)&&mt[rt].metadata&&mt[rt].metadata[ht]&&mt[rt].metadata[ht].encoding&&(_t=mt[rt].metadata[ht].encoding,!Ut&&mt[rt].encoding&&(Ut=mt[rt].encoding),!Ut&&_t.codePages&&(Ut=_t.codePages[0]),typeof Ut=="string"&&(Ut=_t[Ut]),Ut)){for(vr=!1,er=[],Be=0,Ze=se.length;Be<Ze;Be++)(Br=Ut[se.charCodeAt(Be)])?er.push(String.fromCharCode(Br)):er.push(se[Be]),er[Be].charCodeAt(0)>>8&&(vr=!0);se=er.join("")}for(Be=se.length;vr===void 0&&Be!==0;)se.charCodeAt(Be-1)>>8&&(vr=!0),Be--;if(!vr)return se;for(er=pe.noBOM?[]:[254,255],Be=0,Ze=se.length;Be<Ze;Be++){if((Or=(Br=se.charCodeAt(Be))>>8)>>8)throw new Error("Character at position "+Be+" of string '"+se+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");er.push(Or),er.push(Br-(Or<<8))}return String.fromCharCode.apply(void 0,er)},$n=h.__private__.pdfEscape=h.pdfEscape=function(se,pe){return Zs(se,pe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ba=h.__private__.beginPage=function(se){Z[++rr]=[],qt[rr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(se[0]),topRightY:Number(se[1])}},zr(rr),le(Z[B])},va=function(se,pe){var Be,Ze,ht;switch(t=pe||t,typeof se=="string"&&(Be=m(se.toLowerCase()),Array.isArray(Be)&&(Ze=Be[0],ht=Be[1])),Array.isArray(se)&&(Ze=se[0]*Je,ht=se[1]*Je),isNaN(Ze)&&(Ze=s[0],ht=s[1]),(Ze>14400||ht>14400)&&(ls.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ze=Math.min(14400,Ze),ht=Math.min(14400,ht)),s=[Ze,ht],t.substr(0,1)){case"l":ht>Ze&&(s=[ht,Ze]);break;case"p":Ze>ht&&(s=[ht,Ze])}ba(s),Th(rd),ce(ra),Jc!==0&&ce(Jc+" J"),Zc!==0&&ce(Zc+" j"),cr.publish("addPage",{pageNumber:rr})},an=function(se){se>0&&se<=rr&&(Z.splice(se,1),qt.splice(se,1),rr--,B>rr&&(B=rr),this.setPage(B))},zr=function(se){se>0&&se<=rr&&(B=se)},Qi=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Z.length-1},ea=function(se,pe,Be){var Ze,ht=void 0;return Be=Be||{},se=se!==void 0?se:mt[rt].fontName,pe=pe!==void 0?pe:mt[rt].fontStyle,Ze=se.toLowerCase(),At[Ze]!==void 0&&At[Ze][pe]!==void 0?ht=At[Ze][pe]:At[se]!==void 0&&At[se][pe]!==void 0?ht=At[se][pe]:Be.disableWarning===!1&&ls.warn("Unable to look up font label for font '"+se+"', '"+pe+"'. Refer to getFontList() for available fonts."),ht||Be.noFallback||(ht=At.times[pe])==null&&(ht=At.times.normal),ht},vo=h.__private__.putInfo=function(){var se=qe(),pe=function(Ze){return Ze};for(var Be in l!==null&&(pe=hs.encryptor(se,0)),ce("<<"),ce("/Producer ("+$n(pe("jsPDF "+Ir.version))+")"),He)He.hasOwnProperty(Be)&&He[Be]&&ce("/"+Be.substr(0,1).toUpperCase()+Be.substr(1)+" ("+$n(pe(He[Be]))+")");ce("/CreationDate ("+$n(pe(F))+")"),ce(">>"),ce("endobj")},Ss=h.__private__.putCatalog=function(se){var pe=(se=se||{}).rootDictionaryObjId||Se;switch(qe(),ce("<<"),ce("/Type /Catalog"),ce("/Pages "+pe+" 0 R"),Le||(Le="fullwidth"),Le){case"fullwidth":ce("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ce("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ce("/OpenAction [3 0 R /Fit]");break;case"original":ce("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Be=""+Le;Be.substr(Be.length-1)==="%"&&(Le=parseInt(Le)/100),typeof Le=="number"&&ce("/OpenAction [3 0 R /XYZ null null "+L(Le)+"]")}switch(ot||(ot="continuous"),ot){case"continuous":ce("/PageLayout /OneColumn");break;case"single":ce("/PageLayout /SinglePage");break;case"two":case"twoleft":ce("/PageLayout /TwoColumnLeft");break;case"tworight":ce("/PageLayout /TwoColumnRight")}ze&&ce("/PageMode /"+ze),cr.publish("putCatalog"),ce(">>"),ce("endobj")},Hs=h.__private__.putTrailer=function(){ce("trailer"),ce("<<"),ce("/Size "+(J+1)),ce("/Root "+J+" 0 R"),ce("/Info "+(J-1)+" 0 R"),l!==null&&ce("/Encrypt "+hs.oid+" 0 R"),ce("/ID [ <"+A+"> <"+A+"> ]"),ce(">>")},ta=h.__private__.putHeader=function(){ce("%PDF-"+p),ce("%")},yo=h.__private__.putXRef=function(){var se="0000000000";ce("xref"),ce("0 "+(J+1)),ce("0000000000 65535 f ");for(var pe=1;pe<=J;pe++)typeof O[pe]=="function"?ce((se+O[pe]()).slice(-10)+" 00000 n "):O[pe]!==void 0?ce((se+O[pe]).slice(-10)+" 00000 n "):ce("0000000000 00000 n ")},Ui=h.__private__.buildDocument=function(){ue(),le(ee),cr.publish("buildDocument"),ta(),nt(),sn(),nn(),l!==null&&Vt(),vo(),Ss();var se=U;return yo(),Hs(),ce("startxref"),ce(""+se),ce("%%EOF"),le(Z[B]),ee.join(`
`)},Hi=h.__private__.getBlob=function(se){return new Blob([fe(se)],{type:"application/pdf"})},pi=h.output=h.__private__.output=rs(function(se,pe){switch(typeof(pe=pe||{})=="string"?pe={filename:pe}:pe.filename=pe.filename||"generated.pdf",se){case void 0:return Ui();case"save":h.save(pe.filename);break;case"arraybuffer":return fe(Ui());case"blob":return Hi(Ui());case"bloburi":case"bloburl":if(Fr.URL!==void 0&&typeof Fr.URL.createObjectURL=="function")return Fr.URL&&Fr.URL.createObjectURL(Hi(Ui()))||void 0;ls.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Be="",Ze=Ui();try{Be=p_(Ze)}catch{Be=p_(unescape(encodeURIComponent(Ze)))}return"data:application/pdf;filename="+pe.filename+";base64,"+Be;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Fr)==="[object Window]"){var ht="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",_t=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';pe.pdfObjectUrl&&(ht=pe.pdfObjectUrl,_t="");var Ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ht+'"'+_t+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(pe)+");<\/script></body></html>",er=Fr.open();return er!==null&&er.document.write(Ut),er}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Fr)==="[object Window]"){var vr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(pe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+pe.filename+'" width="500px" height="400px" /></body></html>',Br=Fr.open();if(Br!==null){Br.document.write(vr);var Or=this;Br.document.documentElement.querySelector("#pdfViewer").onload=function(){Br.document.title=pe.filename,Br.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Or.output("bloburl"))}}return Br}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Fr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var tn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",pe)+'"></iframe></body></html>',Gn=Fr.open();if(Gn!==null&&(Gn.document.write(tn),Gn.document.title=pe.filename),Gn||typeof safari>"u")return Gn;break;case"datauri":case"dataurl":return Fr.document.location.href=this.output("datauristring",pe);default:return null}}),xl=function(se){return Array.isArray(Tr)===!0&&Tr.indexOf(se)>-1};switch(e){case"pt":Je=1;break;case"mm":Je=72/25.4;break;case"cm":Je=72/2.54;break;case"in":Je=72;break;case"px":Je=xl("px_scaling")==1?.75:96/72;break;case"pc":case"em":Je=12;break;case"ex":Je=6;break;default:if(typeof e!="number")throw new Error("Invalid unit: "+e);Je=e}var hs=null;W(),S();var Kl=function(se){return l!==null?hs.encryptor(se,0):function(pe){return pe}},Uo=h.__private__.getPageInfo=h.getPageInfo=function(se){if(isNaN(se)||se%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:qt[se].objId,pageNumber:se,pageContext:qt[se]}},Cr=h.__private__.getPageInfoByObjId=function(se){if(isNaN(se)||se%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var pe in qt)if(qt[pe].objId===se)break;return Uo(pe)},Jl=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:qt[B].objId,pageNumber:B,pageContext:qt[B]}};h.addPage=function(){return va.apply(this,arguments),this},h.setPage=function(){return zr.apply(this,arguments),le.call(this,Z[B]),this},h.insertPage=function(se){return this.addPage(),this.movePage(B,se),this},h.movePage=function(se,pe){var Be,Ze;if(se>pe){Be=Z[se],Ze=qt[se];for(var ht=se;ht>pe;ht--)Z[ht]=Z[ht-1],qt[ht]=qt[ht-1];Z[pe]=Be,qt[pe]=Ze,this.setPage(pe)}else if(se<pe){Be=Z[se],Ze=qt[se];for(var _t=se;_t<pe;_t++)Z[_t]=Z[_t+1],qt[_t]=qt[_t+1];Z[pe]=Be,qt[pe]=Ze,this.setPage(pe)}return this},h.deletePage=function(){return an.apply(this,arguments),this},h.__private__.text=h.text=function(se,pe,Be,Ze,ht){var _t,Ut,er,vr,Br,Or,tn,Gn,as,Es=(Ze=Ze||{}).scope||this;if(typeof se=="number"&&typeof pe=="number"&&(typeof Be=="string"||Array.isArray(Be))){var Ps=Be;Be=pe,pe=se,se=Ps}if(arguments[3]instanceof Lt?(R("The transform parameter of text() with a Matrix value"),as=ht):(er=arguments[4],vr=arguments[5],ts(tn=arguments[3])==="object"&&tn!==null||(typeof er=="string"&&(vr=er,er=null),typeof tn=="string"&&(vr=tn,tn=null),typeof tn=="number"&&(er=tn,tn=null),Ze={flags:tn,angle:er,align:vr})),isNaN(pe)||isNaN(Be)||se==null)throw new Error("Invalid arguments passed to jsPDF.text");if(se.length===0)return Es;var Ns="",Ka=!1,qi=typeof Ze.lineHeightFactor=="number"?Ze.lineHeightFactor:Zl,fs=Es.internal.scaleFactor;function eu(Yn){return Yn=Yn.split("	").join(Array(Ze.TabLen||9).join(" ")),$n(Yn,tn)}function zo(Yn){for(var Bn,js=Yn.concat(),ei=[],lc=js.length;lc--;)typeof(Bn=js.shift())=="string"?ei.push(Bn):Array.isArray(Yn)&&(Bn.length===1||Bn[1]===void 0&&Bn[2]===void 0)?ei.push(Bn[0]):ei.push([Bn[0],Bn[1],Bn[2]]);return ei}function tu(Yn,Bn){var js;if(typeof Yn=="string")js=Bn(Yn)[0];else if(Array.isArray(Yn)){for(var ei,lc,au=Yn.concat(),Ja=[],ud=au.length;ud--;)typeof(ei=au.shift())=="string"?Ja.push(Bn(ei)[0]):Array.isArray(ei)&&typeof ei[0]=="string"&&(lc=Bn(ei[0],ei[1],ei[2]),Ja.push([lc[0],lc[1],lc[2]]));js=Ja}return js}var tc=!1,ad=!0;if(typeof se=="string")tc=!0;else if(Array.isArray(se)){var od=se.concat();Ut=[];for(var ru,Rn=od.length;Rn--;)(typeof(ru=od.shift())!="string"||Array.isArray(ru)&&typeof ru[0]!="string")&&(ad=!1);tc=ad}if(tc===!1)throw new Error('Type of text must be string or Array. "'+se+'" is not recognized.');typeof se=="string"&&(se=se.match(/[\r?\n]/)?se.split(/\r\n|\r|\n/g):[se]);var ki=xe/Es.internal.scaleFactor,ya=ki*(qi-1);switch(Ze.baseline){case"bottom":Be-=ya;break;case"top":Be+=ki-ya;break;case"hanging":Be+=ki-2*ya;break;case"middle":Be+=ki/2-ya}if((Or=Ze.maxWidth||0)>0&&(typeof se=="string"?se=Es.splitTextToSize(se,Or):Object.prototype.toString.call(se)==="[object Array]"&&(se=se.reduce(function(Yn,Bn){return Yn.concat(Es.splitTextToSize(Bn,Or))},[]))),_t={text:se,x:pe,y:Be,options:Ze,mutex:{pdfEscape:$n,activeFontKey:rt,fonts:mt,activeFontSize:xe}},cr.publish("preProcessText",_t),se=_t.text,er=(Ze=_t.options).angle,!(as instanceof Lt)&&er&&typeof er=="number"){er*=Math.PI/180,Ze.rotationDirection===0&&(er=-er),y===x.ADVANCED&&(er=-er);var rc=Math.cos(er),wo=Math.sin(er);as=new Lt(rc,wo,-wo,rc,0,0)}else er&&er instanceof Lt&&(as=er);y!==x.ADVANCED||as||(as=Nr),(Br=Ze.charSpace||Ql)!==void 0&&(Ns+=T(H(Br))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Gn=Ze.horizontalScale)!==void 0&&(Ns+=T(100*Gn)+` Tz
`),Ze.lang;var vi=-1,ld=Ze.renderingMode!==void 0?Ze.renderingMode:Ze.stroke,na=Es.internal.getCurrentPageInfo().pageContext;switch(ld){case 0:case!1:case"fill":vi=0;break;case 1:case!0:case"stroke":vi=1;break;case 2:case"fillThenStroke":vi=2;break;case 3:case"invisible":vi=3;break;case 4:case"fillAndAddForClipping":vi=4;break;case 5:case"strokeAndAddPathForClipping":vi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":vi=6;break;case 7:case"addToPathForClipping":vi=7}var nc=na.usedRenderingMode!==void 0?na.usedRenderingMode:-1;vi!==-1?Ns+=vi+` Tr
`:nc!==-1&&(Ns+=`0 Tr
`),vi!==-1&&(na.usedRenderingMode=vi),vr=Ze.align||"left";var _o,Rh=xe*qi,l0=Es.internal.pageSize.getWidth(),sc=mt[rt];Br=Ze.charSpace||Ql,Or=Ze.maxWidth||0,tn=Object.assign({autoencode:!0,noBOM:!0},Ze.flags);var yi=[],nu=function(Yn){return Es.getStringUnitWidth(Yn,{font:sc,charSpace:Br,fontSize:xe,doKerning:!1})*xe/fs};if(Object.prototype.toString.call(se)==="[object Array]"){var xa;Ut=zo(se),vr!=="left"&&(_o=Ut.map(nu));var sa,su=0;if(vr==="right"){pe-=_o[0],se=[],Rn=Ut.length;for(var ic=0;ic<Rn;ic++)ic===0?(sa=zn(pe),xa=Xa(Be)):(sa=H(su-_o[ic]),xa=-Rh),se.push([Ut[ic],sa,xa]),su=_o[ic]}else if(vr==="center"){pe-=_o[0]/2,se=[],Rn=Ut.length;for(var ac=0;ac<Rn;ac++)ac===0?(sa=zn(pe),xa=Xa(Be)):(sa=H((su-_o[ac])/2),xa=-Rh),se.push([Ut[ac],sa,xa]),su=_o[ac]}else if(vr==="left"){se=[],Rn=Ut.length;for(var Vo=0;Vo<Rn;Vo++)se.push(Ut[Vo])}else if(vr==="justify"&&sc.encoding==="Identity-H"){se=[],Rn=Ut.length,Or=Or!==0?Or:l0;for(var at=0,vt=0;vt<Rn;vt++)if(xa=vt===0?Xa(Be):-Rh,sa=vt===0?zn(pe):at,vt<Rn-1){var bt=H((Or-_o[vt])/(Ut[vt].split(" ").length-1)),Jt=Ut[vt].split(" ");se.push([Jt[0]+" ",sa,xa]),at=0;for(var _r=1;_r<Jt.length;_r++){var ln=(nu(Jt[_r-1]+" "+Jt[_r])-nu(Jt[_r]))*fs+bt;_r==Jt.length-1?se.push([Jt[_r],ln,0]):se.push([Jt[_r]+" ",ln,0]),at-=ln}}else se.push([Ut[vt],sa,xa]);se.push(["",at,0])}else{if(vr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(se=[],Rn=Ut.length,Or=Or!==0?Or:l0,vt=0;vt<Rn;vt++)xa=vt===0?Xa(Be):-Rh,sa=vt===0?zn(pe):0,vt<Rn-1?yi.push(T(H((Or-_o[vt])/(Ut[vt].split(" ").length-1)))):yi.push(0),se.push([Ut[vt],sa,xa])}}var As=typeof Ze.R2L=="boolean"?Ze.R2L:Oe;As===!0&&(se=tu(se,function(Yn,Bn,js){return[Yn.split("").reverse().join(""),Bn,js]})),_t={text:se,x:pe,y:Be,options:Ze,mutex:{pdfEscape:$n,activeFontKey:rt,fonts:mt,activeFontSize:xe}},cr.publish("postProcessText",_t),se=_t.text,Ka=_t.mutex.isHex||!1;var kn=mt[rt].encoding;kn!=="WinAnsiEncoding"&&kn!=="StandardEncoding"||(se=tu(se,function(Yn,Bn,js){return[eu(Yn),Bn,js]})),Ut=zo(se),se=[];for(var oc,cd,Qs,Nl=0,Mh=1,So=Array.isArray(Ut[0])?Mh:Nl,$o="",iu=function(Yn,Bn,js){var ei="";return js instanceof Lt?(js=typeof Ze.angle=="number"?Sr(js,new Lt(1,0,0,1,Yn,Bn)):Sr(new Lt(1,0,0,1,Yn,Bn),js),y===x.ADVANCED&&(js=Sr(new Lt(1,0,0,-1,0,0),js)),ei=js.join(" ")+` Tm
`):ei=T(Yn)+" "+T(Bn)+` Td
`,ei},Kr=0;Kr<Ut.length;Kr++){switch($o="",So){case Mh:Qs=(Ka?"<":"(")+Ut[Kr][0]+(Ka?">":")"),oc=parseFloat(Ut[Kr][1]),cd=parseFloat(Ut[Kr][2]);break;case Nl:Qs=(Ka?"<":"(")+Ut[Kr]+(Ka?">":")"),oc=zn(pe),cd=Xa(Be)}yi!==void 0&&yi[Kr]!==void 0&&($o=yi[Kr]+` Tw
`),Kr===0?se.push($o+iu(oc,cd,as)+Qs):So===Nl?se.push($o+Qs):So===Mh&&se.push($o+iu(oc,cd,as)+Qs)}se=So===Nl?se.join(` Tj
T* `):se.join(` Tj
`),se+=` Tj
`;var Eo=`BT
/`;return Eo+=rt+" "+xe+` Tf
`,Eo+=T(xe*qi)+` TL
`,Eo+=El+`
`,Eo+=Ns,Eo+=se,ce(Eo+="ET"),f[rt]=!0,Es};var wl=h.__private__.clip=h.clip=function(se){return ce(se==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return wl("evenodd")},h.__private__.discardPath=h.discardPath=function(){return ce("n"),this};var Ni=h.__private__.isValidStyle=function(se){var pe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(se)!==-1&&(pe=!0),pe};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(se){return Ni(se)&&(u=se),this};var kh=h.__private__.getStyle=h.getStyle=function(se){var pe=u;switch(se){case"D":case"S":pe="S";break;case"F":pe="f";break;case"FD":case"DF":pe="B";break;case"f":case"f*":case"B":case"B*":pe=se}return pe},Ch=h.close=function(){return ce("h"),this};h.stroke=function(){return ce("S"),this},h.fill=function(se){return _l("f",se),this},h.fillEvenOdd=function(se){return _l("f*",se),this},h.fillStroke=function(se){return _l("B",se),this},h.fillStrokeEvenOdd=function(se){return _l("B*",se),this};var _l=function(se,pe){ts(pe)==="object"?Kf(pe,se):ce(se)},ed=function(se){se===null||y===x.ADVANCED&&se===void 0||(se=kh(se),ce(se))};function Xf(se,pe,Be,Ze,ht){var _t=new Ap(pe||this.boundingBox,Be||this.xStep,Ze||this.yStep,this.gState,ht||this.matrix);_t.stream=this.stream;var Ut=se+"$$"+this.cloneIndex+++"$$";return ur(Ut,_t),_t}var Kf=function(se,pe){var Be=Yt[se.key],Ze=Tt[Be];if(Ze instanceof Kh)ce("q"),ce(Jf(pe)),Ze.gState&&h.setGState(Ze.gState),ce(se.matrix.toString()+" cm"),ce("/"+Be+" sh"),ce("Q");else if(Ze instanceof Ap){var ht=new Lt(1,0,0,-1,0,Ai());se.matrix&&(ht=ht.multiply(se.matrix||Nr),Be=Xf.call(Ze,se.key,se.boundingBox,se.xStep,se.yStep,ht).id),ce("q"),ce("/Pattern cs"),ce("/"+Be+" scn"),Ze.gState&&h.setGState(Ze.gState),ce(pe),ce("Q")}},Jf=function(se){switch(se){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},td=h.moveTo=function(se,pe){return ce(T(H(se))+" "+T(P(pe))+" m"),this},bn=h.lineTo=function(se,pe){return ce(T(H(se))+" "+T(P(pe))+" l"),this},dn=h.curveTo=function(se,pe,Be,Ze,ht,_t){return ce([T(H(se)),T(P(pe)),T(H(Be)),T(P(Ze)),T(H(ht)),T(P(_t)),"c"].join(" ")),this};h.__private__.line=h.line=function(se,pe,Be,Ze,ht){if(isNaN(se)||isNaN(pe)||isNaN(Be)||isNaN(Ze)||!Ni(ht))throw new Error("Invalid arguments passed to jsPDF.line");return y===x.COMPAT?this.lines([[Be-se,Ze-pe]],se,pe,[1,1],ht||"S"):this.lines([[Be-se,Ze-pe]],se,pe,[1,1]).stroke()},h.__private__.lines=h.lines=function(se,pe,Be,Ze,ht,_t){var Ut,er,vr,Br,Or,tn,Gn,as,Es,Ps,Ns,Ka;if(typeof se=="number"&&(Ka=Be,Be=pe,pe=se,se=Ka),Ze=Ze||[1,1],_t=_t||!1,isNaN(pe)||isNaN(Be)||!Array.isArray(se)||!Array.isArray(Ze)||!Ni(ht)||typeof _t!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(td(pe,Be),Ut=Ze[0],er=Ze[1],Br=se.length,Ps=pe,Ns=Be,vr=0;vr<Br;vr++)(Or=se[vr]).length===2?(Ps=Or[0]*Ut+Ps,Ns=Or[1]*er+Ns,bn(Ps,Ns)):(tn=Or[0]*Ut+Ps,Gn=Or[1]*er+Ns,as=Or[2]*Ut+Ps,Es=Or[3]*er+Ns,Ps=Or[4]*Ut+Ps,Ns=Or[5]*er+Ns,dn(tn,Gn,as,Es,Ps,Ns));return _t&&Ch(),ed(ht),this},h.path=function(se){for(var pe=0;pe<se.length;pe++){var Be=se[pe],Ze=Be.c;switch(Be.op){case"m":td(Ze[0],Ze[1]);break;case"l":bn(Ze[0],Ze[1]);break;case"c":dn.apply(this,Ze);break;case"h":Ch()}}return this},h.__private__.rect=h.rect=function(se,pe,Be,Ze,ht){if(isNaN(se)||isNaN(pe)||isNaN(Be)||isNaN(Ze)||!Ni(ht))throw new Error("Invalid arguments passed to jsPDF.rect");return y===x.COMPAT&&(Ze=-Ze),ce([T(H(se)),T(P(pe)),T(H(Be)),T(H(Ze)),"re"].join(" ")),ed(ht),this},h.__private__.triangle=h.triangle=function(se,pe,Be,Ze,ht,_t,Ut){if(isNaN(se)||isNaN(pe)||isNaN(Be)||isNaN(Ze)||isNaN(ht)||isNaN(_t)||!Ni(Ut))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Be-se,Ze-pe],[ht-Be,_t-Ze],[se-ht,pe-_t]],se,pe,[1,1],Ut,!0),this},h.__private__.roundedRect=h.roundedRect=function(se,pe,Be,Ze,ht,_t,Ut){if(isNaN(se)||isNaN(pe)||isNaN(Be)||isNaN(Ze)||isNaN(ht)||isNaN(_t)||!Ni(Ut))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var er=4/3*(Math.SQRT2-1);return ht=Math.min(ht,.5*Be),_t=Math.min(_t,.5*Ze),this.lines([[Be-2*ht,0],[ht*er,0,ht,_t-_t*er,ht,_t],[0,Ze-2*_t],[0,_t*er,-ht*er,_t,-ht,_t],[2*ht-Be,0],[-ht*er,0,-ht,-_t*er,-ht,-_t],[0,2*_t-Ze],[0,-_t*er,ht*er,-_t,ht,-_t]],se+ht,pe,[1,1],Ut,!0),this},h.__private__.ellipse=h.ellipse=function(se,pe,Be,Ze,ht){if(isNaN(se)||isNaN(pe)||isNaN(Be)||isNaN(Ze)||!Ni(ht))throw new Error("Invalid arguments passed to jsPDF.ellipse");var _t=4/3*(Math.SQRT2-1)*Be,Ut=4/3*(Math.SQRT2-1)*Ze;return td(se+Be,pe),dn(se+Be,pe-Ut,se+_t,pe-Ze,se,pe-Ze),dn(se-_t,pe-Ze,se-Be,pe-Ut,se-Be,pe),dn(se-Be,pe+Ut,se-_t,pe+Ze,se,pe+Ze),dn(se+_t,pe+Ze,se+Be,pe+Ut,se+Be,pe),ed(ht),this},h.__private__.circle=h.circle=function(se,pe,Be,Ze){if(isNaN(se)||isNaN(pe)||isNaN(Be)||!Ni(Ze))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(se,pe,Be,Be,Ze)},h.setFont=function(se,pe,Be){return Be&&(pe=I(pe,Be)),rt=ea(se,pe,{disableWarning:!1}),this};var Zf=h.__private__.getFont=h.getFont=function(){return mt[ea.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var se,pe,Be={};for(se in At)if(At.hasOwnProperty(se))for(pe in Be[se]=[],At[se])At[se].hasOwnProperty(pe)&&Be[se].push(pe);return Be},h.addFont=function(se,pe,Be,Ze,ht){var _t=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&_t.indexOf(arguments[3])!==-1?ht=arguments[3]:arguments[3]&&_t.indexOf(arguments[3])==-1&&(Be=I(Be,Ze)),ht=ht||"Identity-H",Wn.call(this,se,pe,Be,ht)};var Zl,rd=n.lineWidth||.200025,Kc=h.__private__.getLineWidth=h.getLineWidth=function(){return rd},Th=h.__private__.setLineWidth=h.setLineWidth=function(se){return rd=se,ce(T(H(se))+" w"),this};h.__private__.setLineDash=Ir.API.setLineDash=Ir.API.setLineDashPattern=function(se,pe){if(se=se||[],pe=pe||0,isNaN(pe)||!Array.isArray(se))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return se=se.map(function(Be){return T(H(Be))}).join(" "),pe=T(H(pe)),ce("["+se+"] "+pe+" d"),this};var Dh=h.__private__.getLineHeight=h.getLineHeight=function(){return xe*Zl};h.__private__.getLineHeight=h.getLineHeight=function(){return xe*Zl};var nd=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(se){return typeof(se=se||1.15)=="number"&&(Zl=se),this},Ih=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Zl};nd(n.lineHeight);var zn=h.__private__.getHorizontalCoordinate=function(se){return H(se)},Xa=h.__private__.getVerticalCoordinate=function(se){return y===x.ADVANCED?se:qt[B].mediaBox.topRightY-qt[B].mediaBox.bottomLeftY-H(se)},Sl=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(se){return T(zn(se))},Ho=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(se){return T(Xa(se))},ra=n.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Pe(ra)},h.__private__.setStrokeColor=h.setDrawColor=function(se,pe,Be,Ze){return ra=je({ch1:se,ch2:pe,ch3:Be,ch4:Ze,pdfColorType:"draw",precision:2}),ce(ra),this};var mi=n.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Pe(mi)},h.__private__.setFillColor=h.setFillColor=function(se,pe,Be,Ze){return mi=je({ch1:se,ch2:pe,ch3:Be,ch4:Ze,pdfColorType:"fill",precision:2}),ce(mi),this};var El=n.textColor||"0 g",Ph=h.__private__.getTextColor=h.getTextColor=function(){return Pe(El)};h.__private__.setTextColor=h.setTextColor=function(se,pe,Be,Ze){return El=je({ch1:se,ch2:pe,ch3:Be,ch4:Ze,pdfColorType:"text",precision:3}),this};var Ql=n.charSpace,jh=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Ql||0)};h.__private__.setCharSpace=h.setCharSpace=function(se){if(isNaN(se))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ql=se,this};var Jc=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(se){var pe=h.CapJoinStyles[se];if(pe===void 0)throw new Error("Line cap style of '"+se+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Jc=pe,ce(pe+" J"),this};var Zc=0;h.__private__.setLineJoin=h.setLineJoin=function(se){var pe=h.CapJoinStyles[se];if(pe===void 0)throw new Error("Line join style of '"+se+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zc=pe,ce(pe+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(se){if(se=se||0,isNaN(se))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ce(T(H(se))+" M"),this},h.GState=kb,h.setGState=function(se){(se=typeof se=="string"?nr[Xt[se]]:gi(null,se)).equals(fr)||(ce("/"+se.id+" gs"),fr=se)};var gi=function(se,pe){if(!se||!Xt[se]){var Be=!1;for(var Ze in nr)if(nr.hasOwnProperty(Ze)&&nr[Ze].equals(pe)){Be=!0;break}if(Be)pe=nr[Ze];else{var ht="GS"+(Object.keys(nr).length+1).toString(10);nr[ht]=pe,pe.id=ht}return se&&(Xt[se]=pe.id),cr.publish("addGState",pe),pe}};h.addGState=function(se,pe){return gi(se,pe),this},h.saveGraphicsState=function(){return ce("q"),$t.push({key:rt,size:xe,color:El}),this},h.restoreGraphicsState=function(){ce("Q");var se=$t.pop();return rt=se.key,xe=se.size,El=se.color,fr=null,this},h.setCurrentTransformationMatrix=function(se){return ce(se.toString()+" cm"),this},h.comment=function(se){return ce("#"+se),this};var Qc=function(se,pe){var Be=se||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Be},set:function(_t){isNaN(_t)||(Be=parseFloat(_t))}});var Ze=pe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ze},set:function(_t){isNaN(_t)||(Ze=parseFloat(_t))}});var ht="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ht},set:function(_t){ht=_t.toString()}}),this},bi=function(se,pe,Be,Ze){Qc.call(this,se,pe),this.type="rect";var ht=Be||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ht},set:function(Ut){isNaN(Ut)||(ht=parseFloat(Ut))}});var _t=Ze||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return _t},set:function(Ut){isNaN(Ut)||(_t=parseFloat(Ut))}}),this},sd=function(){this.page=rr,this.currentPage=B,this.pages=Z.slice(0),this.pagesContext=qt.slice(0),this.x=wt,this.y=yt,this.matrix=kt,this.width=Wo(B),this.height=Ai(B),this.outputDestination=oe,this.id="",this.objectNumber=-1};sd.prototype.restore=function(){rr=this.page,B=this.currentPage,qt=this.pagesContext,Z=this.pages,wt=this.x,yt=this.y,kt=this.matrix,jn(B,this.width),ec(B,this.height),oe=this.outputDestination};var id=function(se,pe,Be,Ze,ht){Rr.push(new sd),rr=B=0,Z=[],wt=se,yt=pe,kt=ht,ba([Be,Ze])},xo=function(se){if(xr[se])Rr.pop().restore();else{var pe=new sd,Be="Xo"+(Object.keys(Qt).length+1).toString(10);pe.id=Be,xr[se]=Be,Qt[Be]=pe,cr.publish("addFormObject",pe),Rr.pop().restore()}};for(var qo in h.beginFormObject=function(se,pe,Be,Ze,ht){return id(se,pe,Be,Ze,ht),this},h.endFormObject=function(se){return xo(se),this},h.doFormObject=function(se,pe){var Be=Qt[xr[se]];return ce("q"),ce(pe.toString()+" cm"),ce("/"+Be.id+" Do"),ce("Q"),this},h.getFormObject=function(se){var pe=Qt[xr[se]];return{x:pe.x,y:pe.y,width:pe.width,height:pe.height,matrix:pe.matrix}},h.save=function(se,pe){return se=se||"generated.pdf",(pe=pe||{}).returnPromise=pe.returnPromise||!1,pe.returnPromise===!1?(vp(Hi(Ui()),se),typeof vp.unload=="function"&&Fr.setTimeout&&setTimeout(vp.unload,911),this):new Promise(function(Be,Ze){try{var ht=vp(Hi(Ui()),se);typeof vp.unload=="function"&&Fr.setTimeout&&setTimeout(vp.unload,911),Be(ht)}catch(_t){Ze(_t.message)}})},Ir.API)Ir.API.hasOwnProperty(qo)&&(qo==="events"&&Ir.API.events.length?function(se,pe){var Be,Ze,ht;for(ht=pe.length-1;ht!==-1;ht--)Be=pe[ht][0],Ze=pe[ht][1],se.subscribe.apply(se,[Be].concat(typeof Ze=="function"?[Ze]:Ze))}(cr,Ir.API.events):h[qo]=Ir.API[qo]);var Wo=h.getPageWidth=function(se){return(qt[se=se||B].mediaBox.topRightX-qt[se].mediaBox.bottomLeftX)/Je},jn=h.setPageWidth=function(se,pe){qt[se].mediaBox.topRightX=pe*Je+qt[se].mediaBox.bottomLeftX},Ai=h.getPageHeight=function(se){return(qt[se=se||B].mediaBox.topRightY-qt[se].mediaBox.bottomLeftY)/Je},ec=h.setPageHeight=function(se,pe){qt[se].mediaBox.topRightY=pe*Je+qt[se].mediaBox.bottomLeftY};return h.internal={pdfEscape:$n,getStyle:kh,getFont:Zf,getFontSize:Me,getCharSpace:jh,getTextColor:Ph,getLineHeight:Dh,getLineHeightFactor:Ih,getLineWidth:Kc,write:_e,getHorizontalCoordinate:zn,getVerticalCoordinate:Xa,getCoordinateString:Sl,getVerticalCoordinateString:Ho,collections:{},newObject:qe,newAdditionalObject:Ee,newObjectDeferred:st,newObjectDeferredBegin:he,getFilters:Ge,putStream:lt,events:cr,scaleFactor:Je,pageSize:{getWidth:function(){return Wo(B)},setWidth:function(se){jn(B,se)},getHeight:function(){return Ai(B)},setHeight:function(se){ec(B,se)}},encryptionOptions:l,encryption:hs,getEncryptor:Kl,output:pi,getNumberOfPages:Qi,pages:Z,out:ce,f2:L,f3:M,getPageInfo:Uo,getPageInfoByObjId:Cr,getCurrentPageInfo:Jl,getPDFVersion:g,Point:Qc,Rectangle:bi,Matrix:Lt,hasHotfix:xl},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Wo(B)},set:function(se){jn(B,se)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Ai(B)},set:function(se){ec(B,se)},enumerable:!0,configurable:!0}),Is.call(h,ge),rt="F1",va(s,t),cr.publish("initialized"),h}R0.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},R0.prototype.toHexString=function(n){return n.split("").map(function(r){return("0"+(255&r.charCodeAt(0)).toString(16)).slice(-2)}).join("")},R0.prototype.hexToBytes=function(n){for(var r=[],t=0;t<n.length;t+=2)r.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return r.join("")},R0.prototype.processOwnerPassword=function(n,r){return g_(m_(r).substr(0,5),n)},R0.prototype.encryptor=function(n,r){var t=m_(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&r,r>>8&255)).substr(0,10);return function(e){return g_(t,e)}},kb.prototype.equals=function(n){var r,t="id,objectNumber,equals";if(!n||ts(n)!==ts(this))return!1;var e=0;for(r in this)if(!(t.indexOf(r)>=0)){if(this.hasOwnProperty(r)&&!n.hasOwnProperty(r)||this[r]!==n[r])return!1;e++}for(r in n)n.hasOwnProperty(r)&&t.indexOf(r)<0&&e--;return e===0},Ir.API={events:[]},Ir.version="2.5.2";var Gs=Ir.API,g8=1,Jm=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},D0=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Gr=function(n){return n.toFixed(2)},zh=function(n){return n.toFixed(5)};Gs.__acroform__={};var Bo=function(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n},r7=function(n){return n*g8},mu=function(n){var r=new zA,t=hr.internal.getHeight(n)||0,e=hr.internal.getWidth(n)||0;return r.BBox=[0,0,Number(Gr(e)),Number(Gr(t))],r},YB=Gs.__acroform__.setBit=function(n,r){if(n=n||0,r=r||0,isNaN(n)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<r},XB=Gs.__acroform__.clearBit=function(n,r){if(n=n||0,r=r||0,isNaN(n)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<r)},KB=Gs.__acroform__.getBit=function(n,r){if(isNaN(n)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<r?1:0},ai=Gs.__acroform__.getBitForPdf=function(n,r){if(isNaN(n)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return KB(n,r-1)},oi=Gs.__acroform__.setBitForPdf=function(n,r){if(isNaN(n)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return YB(n,r-1)},li=Gs.__acroform__.clearBitForPdf=function(n,r){if(isNaN(n)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return XB(n,r-1)},JB=Gs.__acroform__.calculateCoordinates=function(n,r){var t=r.internal.getHorizontalCoordinate,e=r.internal.getVerticalCoordinate,s=n[0],i=n[1],a=n[2],o=n[3],c={};return c.lowerLeft_X=t(s)||0,c.lowerLeft_Y=e(i+o)||0,c.upperRight_X=t(s+a)||0,c.upperRight_Y=e(i)||0,[Number(Gr(c.lowerLeft_X)),Number(Gr(c.lowerLeft_Y)),Number(Gr(c.upperRight_X)),Number(Gr(c.upperRight_Y))]},ZB=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var r=[],t=n._V||n.DV,e=b_(n,t),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;r.push("/Tx BMC"),r.push("q"),r.push("BT"),r.push(n.scope.__private__.encodeColorString(n.color)),r.push("/"+s+" "+Gr(e.fontSize)+" Tf"),r.push("1 0 0 1 0 0 Tm"),r.push(e.text),r.push("ET"),r.push("Q"),r.push("EMC");var i=mu(n);return i.scope=n.scope,i.stream=r.join(`
`),i}},b_=function(n,r){var t=n.fontSize===0?n.maxFontSize:n.fontSize,e={text:"",fontSize:""},s=(r=(r=r.substr(0,1)=="("?r.substr(1):r).substr(r.length-1)==")"?r.substr(0,r.length-1):r).split(" ");s=n.multiline?s.map(function(M){return M.split(`
`)}):s.map(function(M){return[M]});var i=t,a=hr.internal.getHeight(n)||0;a=a<0?-a:a;var o=hr.internal.getWidth(n)||0;o=o<0?-o:o;var c=function(M,H,V){if(M+1<s.length){var P=H+" "+s[M+1][0];return D2(P,n,V).width<=o-4}return!1};i++;e:for(;i>0;){r="",i--;var u,l,d=D2("3",n,i).height,f=n.multiline?a-i:(a-d)/2,h=f+=2,p=0,g=0,v=0;if(i<=0){r=`(...) Tj
`,r+="% Width of Text: "+D2(r,n,i=12).width+", FieldWidth:"+o+`
`;break}for(var m="",x=0,y=0;y<s.length;y++)if(s.hasOwnProperty(y)){var w=!1;if(s[y].length!==1&&v!==s[y].length-1){if((d+2)*(x+2)+2>a)continue e;m+=s[y][v],w=!0,g=y,y--}else{m=(m+=s[y][v]+" ").substr(m.length-1)==" "?m.substr(0,m.length-1):m;var E=parseInt(y),I=c(E,m,i),T=y>=s.length-1;if(I&&!T){m+=" ",v=0;continue}if(I||T){if(T)g=E;else if(n.multiline&&(d+2)*(x+2)+2>a)continue e}else{if(!n.multiline||(d+2)*(x+2)+2>a)continue e;g=E}}for(var R="",D=p;D<=g;D++){var L=s[D];if(n.multiline){if(D===g){R+=L[v]+" ",v=(v+1)%L.length;continue}if(D===p){R+=L[L.length-1]+" ";continue}}R+=L[0]+" "}switch(R=R.substr(R.length-1)==" "?R.substr(0,R.length-1):R,l=D2(R,n,i).width,n.textAlign){case"right":u=o-l-2;break;case"center":u=(o-l)/2;break;case"left":default:u=2}r+=Gr(u)+" "+Gr(h)+` Td
`,r+="("+Jm(R)+`) Tj
`,r+=-Gr(u)+` 0 Td
`,h=-(i+2),l=0,p=w?g:g+1,x++,m=""}break}return e.text=r,e.fontSize=i,e},D2=function(n,r,t){var e=r.scope.internal.getFont(r.fontName,r.fontStyle),s=r.scope.getStringUnitWidth(n,{font:e,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:r.scope.getStringUnitWidth("3",{font:e,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},QB={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},eU=function(n,r){var t={type:"reference",object:n};r.internal.getPageInfo(n.page).pageContext.annotations.find(function(e){return e.type===t.type&&e.object===t.object})===void 0&&r.internal.getPageInfo(n.page).pageContext.annotations.push(t)},tU=function(n,r){for(var t in n)if(n.hasOwnProperty(t)){var e=t,s=n[t];r.internal.newObjectDeferredBegin(s.objId,!0),ts(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete n[e]}},rU=function(n,r){if(r.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Gc.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(QB)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");g8=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new VA,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var e=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in e)if(e.hasOwnProperty(s)){var i=e[s];i.objId=void 0,i.hasAnnotation&&eU(i,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(e,s){var i=!e;for(var a in e||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(a)){var o=e[a],c=[],u=o.Rect;if(o.Rect&&(o.Rect=JB(o.Rect,s)),s.internal.newObjectDeferredBegin(o.objId,!0),o.DA=hr.createDefaultAppearanceStream(o),ts(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var l=ZB(o);c.push({key:"AP",value:"<</N "+l+">>"}),s.internal.acroformPlugin.xForms.push(l)}if(o.appearanceStreamContent){var d="";for(var f in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(f)){var h=o.appearanceStreamContent[f];if(d+="/"+f+" ",d+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var a in h)if(h.hasOwnProperty(a)){var p=h[a];typeof p=="function"&&(p=p.call(s,o)),d+="/"+a+" "+p+" ",s.internal.acroformPlugin.xForms.indexOf(p)>=0||s.internal.acroformPlugin.xForms.push(p)}}else typeof(p=h)=="function"&&(p=p.call(s,o)),d+="/"+a+" "+p,s.internal.acroformPlugin.xForms.indexOf(p)>=0||s.internal.acroformPlugin.xForms.push(p);d+=">>"}c.push({key:"AP",value:`<<
`+d+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:o.objId}),s.internal.out("endobj")}i&&tU(s.internal.acroformPlugin.xForms,s)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},WA=Gs.__acroform__.arrayToPdfArray=function(n,r,t){var e=function(a){return a};if(Array.isArray(n)){for(var s="[",i=0;i<n.length;i++)switch(i!==0&&(s+=" "),ts(n[i])){case"boolean":case"number":case"object":s+=n[i].toString();break;case"string":n[i].substr(0,1)!=="/"?(r!==void 0&&t&&(e=t.internal.getEncryptor(r)),s+="("+Jm(e(n[i].toString()))+")"):s+=n[i].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},N6=function(n,r,t){var e=function(s){return s};return r!==void 0&&t&&(e=t.internal.getEncryptor(r)),(n=n||"").toString(),n="("+Jm(e(n))+")"},Fu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Fu.prototype.toString=function(){return this.objId+" 0 R"},Fu.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Fu.prototype.getKeyValueListForStream=function(){var n=[],r=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var t in r)if(Object.getOwnPropertyDescriptor(this,r[t]).configurable===!1){var e=r[t],s=this[e];s&&(Array.isArray(s)?n.push({key:e,value:WA(s,this.objId,this.scope)}):s instanceof Fu?(s.scope=this.scope,n.push({key:e,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:e,value:s}))}return n};var zA=function(){Fu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,r=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Bo(zA,Fu);var VA=function(){Fu.call(this);var n,r=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return r.length>0?r:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return r}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Jm(t(n))+")"}},set:function(t){n=t}})};Bo(VA,Fu);var Gc=function n(){Fu.call(this);var r=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return r},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute F supplied.');r=m}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ai(r,3)},set:function(m){m?this.F=oi(r,3):this.F=li(r,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute Ff supplied.');t=m}});var e=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(e.length!==0)return e},set:function(m){e=m!==void 0?m:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!e||isNaN(e[0])?0:e[0]},set:function(m){e[0]=m}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!e||isNaN(e[1])?0:e[1]},set:function(m){e[1]=m}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!e||isNaN(e[2])?0:e[2]},set:function(m){e[2]=m}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!e||isNaN(e[3])?0:e[3]},set:function(m){e[3]=m}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(m){switch(m){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=m;break;default:throw new Error('Invalid value "'+m+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof $x)return;i="FieldObject"+n.FieldNum++}var m=function(x){return x};return this.scope&&(m=this.scope.internal.getEncryptor(this.objId)),"("+Jm(m(i))+")"},set:function(m){i=m.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(m){i=m}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(m){a=m}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(m){o=m}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(m){c=m}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/g8:u},set:function(m){u=m}});var l="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return l},set:function(m){l=m}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof $x||this instanceof kf))return N6(d,this.objId,this.scope)},set:function(m){m=m.toString(),d=m}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Mi?f:N6(f,this.objId,this.scope)},set:function(m){m=m.toString(),f=this instanceof Mi?m:m.substr(0,1)==="("?D0(m.substr(1,m.length-2)):D0(m)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mi?D0(f.substr(1,f.length-1)):f},set:function(m){m=m.toString(),f=this instanceof Mi?"/"+m:m}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(m){this.V=m}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Mi?h:N6(h,this.objId,this.scope)},set:function(m){m=m.toString(),h=this instanceof Mi?m:m.substr(0,1)==="("?D0(m.substr(1,m.length-2)):D0(m)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mi?D0(h.substr(1,h.length-1)):h},set:function(m){m=m.toString(),h=this instanceof Mi?"/"+m:m}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(m){m=!!m,g=m}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(m){p=m}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,1)},set:function(m){m?this.Ff=oi(this.Ff,1):this.Ff=li(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,2)},set:function(m){m?this.Ff=oi(this.Ff,2):this.Ff=li(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,3)},set:function(m){m?this.Ff=oi(this.Ff,3):this.Ff=li(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(m){if([0,1,2].indexOf(m)===-1)throw new Error('Invalid value "'+m+'" for attribute Q supplied.');v=m}}),Object.defineProperty(this,"textAlign",{get:function(){var m;switch(v){case 0:default:m="left";break;case 1:m="center";break;case 2:m="right"}return m},configurable:!0,enumerable:!0,set:function(m){switch(m){case"right":case 2:v=2;break;case"center":case 1:v=1;break;case"left":case 0:default:v=0}}})};Bo(Gc,Fu);var Nm=function(){Gc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var r=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return WA(r,this.objId,this.scope)},set:function(t){var e,s;s=[],typeof(e=t)=="string"&&(s=function(i,a,o){o||(o=1);for(var c,u=[];c=a.exec(i);)u.push(c[o]);return u}(e,/\((.*?)\)/g)),r=s}}),this.getOptions=function(){return r},this.setOptions=function(t){r=t,this.sort&&r.sort()},this.addOption=function(t){t=(t=t||"").toString(),r.push(t),this.sort&&r.sort()},this.removeOption=function(t,e){for(e=e||!1,t=(t=t||"").toString();r.indexOf(t)!==-1&&(r.splice(r.indexOf(t),1),e!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,18)},set:function(t){t?this.Ff=oi(this.Ff,18):this.Ff=li(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=oi(this.Ff,19):this.Ff=li(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,20)},set:function(t){t?(this.Ff=oi(this.Ff,20),r.sort()):this.Ff=li(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,22)},set:function(t){t?this.Ff=oi(this.Ff,22):this.Ff=li(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,23)},set:function(t){t?this.Ff=oi(this.Ff,23):this.Ff=li(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,27)},set:function(t){t?this.Ff=oi(this.Ff,27):this.Ff=li(this.Ff,27)}}),this.hasAppearanceStream=!1};Bo(Nm,Gc);var Am=function(){Nm.call(this),this.fontName="helvetica",this.combo=!1};Bo(Am,Nm);var km=function(){Am.call(this),this.combo=!0};Bo(km,Am);var ab=function(){km.call(this),this.edit=!0};Bo(ab,km);var Mi=function(){Gc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,15)},set:function(t){t?this.Ff=oi(this.Ff,15):this.Ff=li(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,16)},set:function(t){t?this.Ff=oi(this.Ff,16):this.Ff=li(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,17)},set:function(t){t?this.Ff=oi(this.Ff,17):this.Ff=li(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,26)},set:function(t){t?this.Ff=oi(this.Ff,26):this.Ff=li(this.Ff,26)}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(i){return i};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(r).length!==0){var e,s=[];for(e in s.push("<<"),r)s.push("/"+e+" ("+Jm(t(r[e]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){ts(t)==="object"&&(r=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(t){typeof t=="string"&&(r.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Bo(Mi,Gc);var ob=function(){Mi.call(this),this.pushButton=!0};Bo(ob,Mi);var Cm=function(){Mi.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(r){n=r!==void 0?r:[]}})};Bo(Cm,Mi);var $x=function(){var n,r;Gc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return r},set:function(s){r=s}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(o){return o};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,a=[];for(i in a.push("<<"),e)a.push("/"+i+" ("+Jm(s(e[i]))+")");return a.push(">>"),a.join(`
`)},set:function(s){ts(s)==="object"&&(e=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(s){typeof s=="string"&&(e.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=hr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Bo($x,Gc),Cm.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var r in this.Kids)if(this.Kids.hasOwnProperty(r)){var t=this.Kids[r];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Cm.prototype.createOption=function(n){var r=new $x;return r.Parent=this,r.optionName=n,this.Kids.push(r),nU.call(this.scope,r),r};var lb=function(){Mi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=hr.CheckBox.createAppearanceStream()};Bo(lb,Mi);var kf=function(){Gc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,13)},set:function(r){r?this.Ff=oi(this.Ff,13):this.Ff=li(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,21)},set:function(r){r?this.Ff=oi(this.Ff,21):this.Ff=li(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,23)},set:function(r){r?this.Ff=oi(this.Ff,23):this.Ff=li(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,24)},set:function(r){r?this.Ff=oi(this.Ff,24):this.Ff=li(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,25)},set:function(r){r?this.Ff=oi(this.Ff,25):this.Ff=li(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,26)},set:function(r){r?this.Ff=oi(this.Ff,26):this.Ff=li(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(r){Number.isInteger(r)&&(n=r)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Bo(kf,Gc);var cb=function(){kf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ai(this.Ff,14)},set:function(n){n?this.Ff=oi(this.Ff,14):this.Ff=li(this.Ff,14)}}),this.password=!0};Bo(cb,kf);var hr={CheckBox:{createAppearanceStream:function(){return{N:{On:hr.CheckBox.YesNormal},D:{On:hr.CheckBox.YesPushDown,Off:hr.CheckBox.OffPushDown}}},YesPushDown:function(n){var r=mu(n);r.scope=n.scope;var t=[],e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),i=b_(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Gr(hr.internal.getWidth(n))+" "+Gr(hr.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+e+" "+Gr(i.fontSize)+" Tf "+s),t.push("BT"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC"),r.stream=t.join(`
`),r},YesNormal:function(n){var r=mu(n);r.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color),s=[],i=hr.internal.getHeight(n),a=hr.internal.getWidth(n),o=b_(n,n.caption);return s.push("1 g"),s.push("0 0 "+Gr(a)+" "+Gr(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Gr(a-1)+" "+Gr(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+Gr(o.fontSize)+" Tf "+e),s.push(o.text),s.push("ET"),s.push("Q"),r.stream=s.join(`
`),r},OffPushDown:function(n){var r=mu(n);r.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Gr(hr.internal.getWidth(n))+" "+Gr(hr.internal.getHeight(n))+" re"),t.push("f"),r.stream=t.join(`
`),r}},RadioButton:{Circle:{createAppearanceStream:function(n){var r={D:{Off:hr.RadioButton.Circle.OffPushDown},N:{}};return r.N[n]=hr.RadioButton.Circle.YesNormal,r.D[n]=hr.RadioButton.Circle.YesPushDown,r},getCA:function(){return"l"},YesNormal:function(n){var r=mu(n);r.scope=n.scope;var t=[],e=hr.internal.getWidth(n)<=hr.internal.getHeight(n)?hr.internal.getWidth(n)/4:hr.internal.getHeight(n)/4;e=Number((.9*e).toFixed(5));var s=hr.internal.Bezier_C,i=Number((e*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+zh(hr.internal.getWidth(n)/2)+" "+zh(hr.internal.getHeight(n)/2)+" cm"),t.push(e+" 0 m"),t.push(e+" "+i+" "+i+" "+e+" 0 "+e+" c"),t.push("-"+i+" "+e+" -"+e+" "+i+" -"+e+" 0 c"),t.push("-"+e+" -"+i+" -"+i+" -"+e+" 0 -"+e+" c"),t.push(i+" -"+e+" "+e+" -"+i+" "+e+" 0 c"),t.push("f"),t.push("Q"),r.stream=t.join(`
`),r},YesPushDown:function(n){var r=mu(n);r.scope=n.scope;var t=[],e=hr.internal.getWidth(n)<=hr.internal.getHeight(n)?hr.internal.getWidth(n)/4:hr.internal.getHeight(n)/4;e=Number((.9*e).toFixed(5));var s=Number((2*e).toFixed(5)),i=Number((s*hr.internal.Bezier_C).toFixed(5)),a=Number((e*hr.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+zh(hr.internal.getWidth(n)/2)+" "+zh(hr.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+zh(hr.internal.getWidth(n)/2)+" "+zh(hr.internal.getHeight(n)/2)+" cm"),t.push(e+" 0 m"),t.push(e+" "+a+" "+a+" "+e+" 0 "+e+" c"),t.push("-"+a+" "+e+" -"+e+" "+a+" -"+e+" 0 c"),t.push("-"+e+" -"+a+" -"+a+" -"+e+" 0 -"+e+" c"),t.push(a+" -"+e+" "+e+" -"+a+" "+e+" 0 c"),t.push("f"),t.push("Q"),r.stream=t.join(`
`),r},OffPushDown:function(n){var r=mu(n);r.scope=n.scope;var t=[],e=hr.internal.getWidth(n)<=hr.internal.getHeight(n)?hr.internal.getWidth(n)/4:hr.internal.getHeight(n)/4;e=Number((.9*e).toFixed(5));var s=Number((2*e).toFixed(5)),i=Number((s*hr.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+zh(hr.internal.getWidth(n)/2)+" "+zh(hr.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),t.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),t.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),t.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),t.push("f"),t.push("Q"),r.stream=t.join(`
`),r}},Cross:{createAppearanceStream:function(n){var r={D:{Off:hr.RadioButton.Cross.OffPushDown},N:{}};return r.N[n]=hr.RadioButton.Cross.YesNormal,r.D[n]=hr.RadioButton.Cross.YesPushDown,r},getCA:function(){return"8"},YesNormal:function(n){var r=mu(n);r.scope=n.scope;var t=[],e=hr.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Gr(hr.internal.getWidth(n)-2)+" "+Gr(hr.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Gr(e.x1.x)+" "+Gr(e.x1.y)+" m"),t.push(Gr(e.x2.x)+" "+Gr(e.x2.y)+" l"),t.push(Gr(e.x4.x)+" "+Gr(e.x4.y)+" m"),t.push(Gr(e.x3.x)+" "+Gr(e.x3.y)+" l"),t.push("s"),t.push("Q"),r.stream=t.join(`
`),r},YesPushDown:function(n){var r=mu(n);r.scope=n.scope;var t=hr.internal.calculateCross(n),e=[];return e.push("0.749023 g"),e.push("0 0 "+Gr(hr.internal.getWidth(n))+" "+Gr(hr.internal.getHeight(n))+" re"),e.push("f"),e.push("q"),e.push("1 1 "+Gr(hr.internal.getWidth(n)-2)+" "+Gr(hr.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(Gr(t.x1.x)+" "+Gr(t.x1.y)+" m"),e.push(Gr(t.x2.x)+" "+Gr(t.x2.y)+" l"),e.push(Gr(t.x4.x)+" "+Gr(t.x4.y)+" m"),e.push(Gr(t.x3.x)+" "+Gr(t.x3.y)+" l"),e.push("s"),e.push("Q"),r.stream=e.join(`
`),r},OffPushDown:function(n){var r=mu(n);r.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Gr(hr.internal.getWidth(n))+" "+Gr(hr.internal.getHeight(n))+" re"),t.push("f"),r.stream=t.join(`
`),r}}},createDefaultAppearanceStream:function(n){var r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+r+" "+n.fontSize+" Tf "+t}};hr.internal={Bezier_C:.551915024494,calculateCross:function(n){var r=hr.internal.getWidth(n),t=hr.internal.getHeight(n),e=Math.min(r,t);return{x1:{x:(r-e)/2,y:(t-e)/2+e},x2:{x:(r-e)/2+e,y:(t-e)/2},x3:{x:(r-e)/2,y:(t-e)/2},x4:{x:(r-e)/2+e,y:(t-e)/2+e}}}},hr.internal.getWidth=function(n){var r=0;return ts(n)==="object"&&(r=r7(n.Rect[2])),r},hr.internal.getHeight=function(n){var r=0;return ts(n)==="object"&&(r=r7(n.Rect[3])),r};var nU=Gs.addField=function(n){if(rU(this,n),!(n instanceof Gc))throw new Error("Invalid argument passed to jsPDF.addField.");var r;return(r=n).scope.internal.acroformPlugin.printedOut&&(r.scope.internal.acroformPlugin.printedOut=!1,r.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),r.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(r),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Gs.AcroFormChoiceField=Nm,Gs.AcroFormListBox=Am,Gs.AcroFormComboBox=km,Gs.AcroFormEditBox=ab,Gs.AcroFormButton=Mi,Gs.AcroFormPushButton=ob,Gs.AcroFormRadioButton=Cm,Gs.AcroFormCheckBox=lb,Gs.AcroFormTextField=kf,Gs.AcroFormPasswordField=cb,Gs.AcroFormAppearance=hr,Gs.AcroForm={ChoiceField:Nm,ListBox:Am,ComboBox:km,EditBox:ab,Button:Mi,PushButton:ob,RadioButton:Cm,CheckBox:lb,TextField:kf,PasswordField:cb,Appearance:hr},Ir.AcroForm={ChoiceField:Nm,ListBox:Am,ComboBox:km,EditBox:ab,Button:Mi,PushButton:ob,RadioButton:Cm,CheckBox:lb,TextField:kf,PasswordField:cb,Appearance:hr};var sU=Ir.AcroForm;function $A(n){return n.reduce(function(r,t,e){return r[t]=e,r},{})}(function(n){n.__addimage__={};var r="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},e=n.__addimage__.getImageFileTypeByImageData=function(M,H){var V,P,F,A,_,S=r;if((H=H||r)==="RGBA"||M.data!==void 0&&M.data instanceof Uint8ClampedArray&&"height"in M&&"width"in M)return"RGBA";if(I(M))for(_ in t)for(F=t[_],V=0;V<F.length;V+=1){for(A=!0,P=0;P<F[V].length;P+=1)if(F[V][P]!==void 0&&F[V][P]!==M[P]){A=!1;break}if(A===!0){S=_;break}}else for(_ in t)for(F=t[_],V=0;V<F.length;V+=1){for(A=!0,P=0;P<F[V].length;P+=1)if(F[V][P]!==void 0&&F[V][P]!==M.charCodeAt(P)){A=!1;break}if(A===!0){S=_;break}}return S===r&&H!==r&&(S=H),S},s=function M(H){for(var V=this.internal.write,P=this.internal.putStream,F=(0,this.internal.getFilters)();F.indexOf("FlateEncode")!==-1;)F.splice(F.indexOf("FlateEncode"),1);H.objectId=this.internal.newObject();var A=[];if(A.push({key:"Type",value:"/XObject"}),A.push({key:"Subtype",value:"/Image"}),A.push({key:"Width",value:H.width}),A.push({key:"Height",value:H.height}),H.colorSpace===v.INDEXED?A.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(H.palette.length/3-1)+" "+("sMask"in H&&H.sMask!==void 0?H.objectId+2:H.objectId+1)+" 0 R]"}):(A.push({key:"ColorSpace",value:"/"+H.colorSpace}),H.colorSpace===v.DEVICE_CMYK&&A.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),A.push({key:"BitsPerComponent",value:H.bitsPerComponent}),"decodeParameters"in H&&H.decodeParameters!==void 0&&A.push({key:"DecodeParms",value:"<<"+H.decodeParameters+">>"}),"transparency"in H&&Array.isArray(H.transparency)){for(var _="",S=0,N=H.transparency.length;S<N;S++)_+=H.transparency[S]+" "+H.transparency[S]+" ";A.push({key:"Mask",value:"["+_+"]"})}H.sMask!==void 0&&A.push({key:"SMask",value:H.objectId+1+" 0 R"});var C=H.filter!==void 0?["/"+H.filter]:void 0;if(P({data:H.data,additionalKeyValues:A,alreadyAppliedFilters:C,objectId:H.objectId}),V("endobj"),"sMask"in H&&H.sMask!==void 0){var W="/Predictor "+H.predictor+" /Colors 1 /BitsPerComponent "+H.bitsPerComponent+" /Columns "+H.width,j={width:H.width,height:H.height,colorSpace:"DeviceGray",bitsPerComponent:H.bitsPerComponent,decodeParameters:W,data:H.sMask};"filter"in H&&(j.filter=H.filter),M.call(this,j)}if(H.colorSpace===v.INDEXED){var B=this.internal.newObject();P({data:R(new Uint8Array(H.palette)),objectId:B}),V("endobj")}},i=function(){var M=this.internal.collections.addImage_images;for(var H in M)s.call(this,M[H])},a=function(){var M,H=this.internal.collections.addImage_images,V=this.internal.write;for(var P in H)V("/I"+(M=H[P]).index,M.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var M=this.internal.collections.addImage_images;return o.call(this),M},u=function(){return Object.keys(this.internal.collections.addImage_images).length},l=function(M){return typeof n["process"+M.toUpperCase()]=="function"},d=function(M){return ts(M)==="object"&&M.nodeType===1},f=function(M,H){if(M.nodeName==="IMG"&&M.hasAttribute("src")){var V=""+M.getAttribute("src");if(V.indexOf("data:image/")===0)return ib(unescape(V).split("base64,").pop());var P=n.loadFile(V,!0);if(P!==void 0)return P}if(M.nodeName==="CANVAS"){if(M.width===0||M.height===0)throw new Error("Given canvas must have data. Canvas width: "+M.width+", height: "+M.height);var F;switch(H){case"PNG":F="image/png";break;case"WEBP":F="image/webp";break;case"JPEG":case"JPG":default:F="image/jpeg"}return ib(M.toDataURL(F,1).split("base64,").pop())}},h=function(M){var H=this.internal.collections.addImage_images;if(H){for(var V in H)if(M===H[V].alias)return H[V]}},p=function(M,H,V){return M||H||(M=-96,H=-96),M<0&&(M=-1*V.width*72/M/this.internal.scaleFactor),H<0&&(H=-1*V.height*72/H/this.internal.scaleFactor),M===0&&(M=H*V.width/V.height),H===0&&(H=M*V.height/V.width),[M,H]},g=function(M,H,V,P,F,A){var _=p.call(this,V,P,F),S=this.internal.getCoordinateString,N=this.internal.getVerticalCoordinateString,C=c.call(this);if(V=_[0],P=_[1],C[F.index]=F,A){A*=Math.PI/180;var W=Math.cos(A),j=Math.sin(A),B=function(X){return X.toFixed(4)},G=[B(W),B(j),B(-1*j),B(W),0,0,"cm"]}this.internal.write("q"),A?(this.internal.write([1,"0","0",1,S(M),N(H+P),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([S(V),"0","0",S(P),"0","0","cm"].join(" "))):this.internal.write([S(V),"0","0",S(P),S(M),N(H+P),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+F.index+" Do"),this.internal.write("Q")},v=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var m=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=n.__addimage__.sHashCode=function(M){var H,V,P=0;if(typeof M=="string")for(V=M.length,H=0;H<V;H++)P=(P<<5)-P+M.charCodeAt(H),P|=0;else if(I(M))for(V=M.byteLength/2,H=0;H<V;H++)P=(P<<5)-P+M[H],P|=0;return P},y=n.__addimage__.validateStringAsBase64=function(M){(M=M||"").toString().trim();var H=!0;return M.length===0&&(H=!1),M.length%4!=0&&(H=!1),/^[A-Za-z0-9+/]+$/.test(M.substr(0,M.length-2))===!1&&(H=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(M.substr(-2))===!1&&(H=!1),H},w=n.__addimage__.extractImageFromDataUrl=function(M){var H=(M=M||"").split("base64,"),V=null;if(H.length===2){var P=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(H[0]);Array.isArray(P)&&(V={mimeType:P[1],charset:P[2],data:H[1]})}return V},E=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(M){return E()&&M instanceof ArrayBuffer};var I=n.__addimage__.isArrayBufferView=function(M){return E()&&typeof Uint32Array<"u"&&(M instanceof Int8Array||M instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&M instanceof Uint8ClampedArray||M instanceof Int16Array||M instanceof Uint16Array||M instanceof Int32Array||M instanceof Uint32Array||M instanceof Float32Array||M instanceof Float64Array)},T=n.__addimage__.binaryStringToUint8Array=function(M){for(var H=M.length,V=new Uint8Array(H),P=0;P<H;P++)V[P]=M.charCodeAt(P);return V},R=n.__addimage__.arrayBufferToBinaryString=function(M){for(var H="",V=I(M)?M:new Uint8Array(M),P=0;P<V.length;P+=8192)H+=String.fromCharCode.apply(null,V.subarray(P,P+8192));return H};n.addImage=function(){var M,H,V,P,F,A,_,S,N;if(typeof arguments[1]=="number"?(H=r,V=arguments[1],P=arguments[2],F=arguments[3],A=arguments[4],_=arguments[5],S=arguments[6],N=arguments[7]):(H=arguments[1],V=arguments[2],P=arguments[3],F=arguments[4],A=arguments[5],_=arguments[6],S=arguments[7],N=arguments[8]),ts(M=arguments[0])==="object"&&!d(M)&&"imageData"in M){var C=M;M=C.imageData,H=C.format||H||r,V=C.x||V||0,P=C.y||P||0,F=C.w||C.width||F,A=C.h||C.height||A,_=C.alias||_,S=C.compression||S,N=C.rotation||C.angle||N}var W=this.internal.getFilters();if(S===void 0&&W.indexOf("FlateEncode")!==-1&&(S="SLOW"),isNaN(V)||isNaN(P))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var j=D.call(this,M,H,_,S);return g.call(this,V,P,F,A,j,N),this};var D=function(M,H,V,P){var F,A,_;if(typeof M=="string"&&e(M)===r){M=unescape(M);var S=L(M,!1);(S!==""||(S=n.loadFile(M,!0))!==void 0)&&(M=S)}if(d(M)&&(M=f(M,H)),H=e(M,H),!l(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(((_=V)==null||_.length===0)&&(V=function(N){return typeof N=="string"||I(N)?x(N):I(N.data)?x(N.data):null}(M)),(F=h.call(this,V))||(E()&&(M instanceof Uint8Array||H==="RGBA"||(A=M,M=T(M))),F=this["process"+H.toUpperCase()](M,u.call(this),V,function(N){return N&&typeof N=="string"&&(N=N.toUpperCase()),N in n.image_compression?N:m.NONE}(P),A)),!F)throw new Error("An unknown error occurred whilst processing the image.");return F},L=n.__addimage__.convertBase64ToBinaryString=function(M,H){var V;H=typeof H!="boolean"||H;var P,F="";if(typeof M=="string"){P=(V=w(M))!==null?V.data:M;try{F=ib(P)}catch(A){if(H)throw y(P)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+A.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return F};n.getImageProperties=function(M){var H,V,P="";if(d(M)&&(M=f(M)),typeof M=="string"&&e(M)===r&&((P=L(M,!1))===""&&(P=n.loadFile(M)||""),M=P),V=e(M),!l(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(!E()||M instanceof Uint8Array||(M=T(M)),!(H=this["process"+V.toUpperCase()](M)))throw new Error("An unknown error occurred whilst processing the image");return H.fileType=V,H}})(Ir.API),function(n){var r=function(t){if(t!==void 0&&t!="")return!0};Ir.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var e,s,i,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),u=t.pageContext.annotations,l=!1,d=0;d<u.length&&!l;d++)switch((e=u[d]).type){case"link":(r(e.options.url)||r(e.options.pageNumber))&&(l=!0);break;case"reference":case"text":case"freetext":l=!0}if(l!=0){this.internal.write("/Annots [");for(var f=0;f<u.length;f++){e=u[f];var h=this.internal.pdfEscape,p=this.internal.getEncryptor(t.objId);switch(e.type){case"reference":this.internal.write(" "+e.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(g.objId),x=e.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+a(e.bounds.x)+" "+o(e.bounds.y+e.bounds.h)+" "+a(e.bounds.x+e.bounds.w)+" "+o(e.bounds.y)+"] ")+"/Contents ("+h(m(e.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+h(m(x))+") >>",g.content=i;var y=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+a(e.bounds.x+30)+" "+o(e.bounds.y+e.bounds.h)+" "+a(e.bounds.x+e.bounds.w+30)+" "+o(e.bounds.y)+"] ")+" /Parent "+y,e.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(g.objId,"0 R",v.objId,"0 R");break;case"freetext":s="/Rect ["+a(e.bounds.x)+" "+o(e.bounds.y)+" "+a(e.bounds.x+e.bounds.w)+" "+o(e.bounds.y+e.bounds.h)+"] ";var w=e.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+h(p(e.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(e.options.name){var E=this.annotations._nameMap[e.options.name];e.options.pageNumber=E.page,e.options.top=E.y}else e.options.top||(e.options.top=0);if(s="/Rect ["+e.finalBounds.x+" "+e.finalBounds.y+" "+e.finalBounds.w+" "+e.finalBounds.h+"] ",i="",e.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+h(p(e.options.url))+") >>";else if(e.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(e.options.pageNumber).objId+" 0 R",e.options.magFactor=e.options.magFactor||"XYZ",e.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+e.options.top+"]";break;case"FitV":e.options.left=e.options.left||0,i+=" /FitV "+e.options.left+"]";break;case"XYZ":default:var I=o(e.options.top);e.options.left=e.options.left||0,e.options.zoom===void 0&&(e.options.zoom=0),i+=" /XYZ "+e.options.left+" "+I+" "+e.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var e=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":e.pageContext.annotations.push(t)}},n.link=function(t,e,s,i,a){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(t),y:u(e),w:c(t+s),h:u(e+i)},options:a,type:"link"})},n.textWithLink=function(t,e,s,i){var a,o,c=this.getTextWidth(t),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var l=this.splitTextToSize(t,o).length;a=Math.ceil(u*l)}else o=c,a=u;return this.text(t,e,s,i),s+=.2*u,i.align==="center"&&(e-=c/2),i.align==="right"&&(e-=c),this.link(e,s-u,o,a,i),c},n.getTextWidth=function(t){var e=this.internal.getFontSize();return this.getStringUnitWidth(t)*e/this.internal.scaleFactor}}(Ir.API),function(n){var r={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},e={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var i=n.__arabicParser__.isInArabicSubstitutionA=function(g){return r[g.charCodeAt(0)]!==void 0},a=n.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=n.__arabicParser__.isArabicEndLetter=function(g){return a(g)&&i(g)&&r[g.charCodeAt(0)].length<=2},c=n.__arabicParser__.isArabicAlfLetter=function(g){return a(g)&&s.indexOf(g.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return a(g)&&i(g)&&r[g.charCodeAt(0)].length>=1};var u=n.__arabicParser__.arabicLetterHasFinalForm=function(g){return a(g)&&i(g)&&r[g.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(g){return a(g)&&i(g)&&r[g.charCodeAt(0)].length>=3};var l=n.__arabicParser__.arabicLetterHasMedialForm=function(g){return a(g)&&i(g)&&r[g.charCodeAt(0)].length==4},d=n.__arabicParser__.resolveLigatures=function(g){var v=0,m=t,x="",y=0;for(v=0;v<g.length;v+=1)m[g.charCodeAt(v)]!==void 0?(y++,typeof(m=m[g.charCodeAt(v)])=="number"&&(x+=String.fromCharCode(m),m=t,y=0),v===g.length-1&&(m=t,x+=g.charAt(v-(y-1)),v-=y-1,y=0)):(m=t,x+=g.charAt(v-y),v-=y,y=0);return x};n.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&e[g.charCodeAt(0)]!==void 0};var f=n.__arabicParser__.getCorrectForm=function(g,v,m){return a(g)?i(g)===!1?-1:!u(g)||!a(v)&&!a(m)||!a(m)&&o(v)||o(g)&&!a(v)||o(g)&&c(v)||o(g)&&o(v)?0:l(g)&&a(v)&&!o(v)&&a(m)&&u(m)?3:o(g)||!a(m)?1:2:-1},h=function(g){var v=0,m=0,x=0,y="",w="",E="",I=(g=g||"").split("\\s+"),T=[];for(v=0;v<I.length;v+=1){for(T.push(""),m=0;m<I[v].length;m+=1)y=I[v][m],w=I[v][m-1],E=I[v][m+1],a(y)?(x=f(y,w,E),T[v]+=x!==-1?String.fromCharCode(r[y.charCodeAt(0)][x]):y):T[v]+=y;T[v]=d(T[v])}return T.join(" ")},p=n.__arabicParser__.processArabic=n.processArabic=function(){var g,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,m=[];if(Array.isArray(v)){var x=0;for(m=[],x=0;x<v.length;x+=1)Array.isArray(v[x])?m.push([h(v[x][0]),v[x][1],v[x][2]]):m.push([h(v[x])]);g=m}else g=h(v);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};n.events.push(["preProcessText",p])}(Ir.API),Ir.API.autoPrint=function(n){var r;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+r+" 0 R")})}return this},function(n){var r=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var e=150;Object.defineProperty(this,"width",{get:function(){return e},set:function(o){e=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=e+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(o){s=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};r.prototype.getContext=function(t,e){var s;if((t=t||"2d")!=="2d")return null;for(s in e)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=e[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},r.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new r,this.canvas.pdf=this}])}(Ir.API),function(n){var r={left:0,top:0,bottom:0,right:0},t=!1,e=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},r),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var l=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(g){p=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(c){return e.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},n.getTextDimensions=function(c,u){e.call(this);var l=(u=u||{}).fontSize||this.getFontSize(),d=u.font||this.getFont(),f=u.scaleFactor||this.internal.scaleFactor,h=0,p=0,g=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var m=u.maxWidth;m>0?typeof c=="string"?c=this.splitTextToSize(c,m):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(y,w){return y.concat(v.splitTextToSize(w,m))},[])):c=Array.isArray(c)?c:[c];for(var x=0;x<c.length;x++)h<(g=this.getStringUnitWidth(c[x],{font:d})*l)&&(h=g);return h!==0&&(p=c.length),{w:h/=f,h:Math.max((p*l*this.getLineHeightFactor()-l*(this.getLineHeightFactor()-1))/f,0)}},n.cellAddPage=function(){e.call(this),this.addPage();var c=this.internal.__cell__.margins||r;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=n.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),e.call(this);var u=this.internal.__cell__.lastCell,l=this.internal.__cell__.padding,d=this.internal.__cell__.margins||r,f=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=d.top,h&&f&&(this.printHeaderRow(c.lineNumber,!0),c.y+=f[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-l,c.y+l,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+l,{align:"center",baseline:"top",maxWidth:c.width-l-l}):this.text(c.text,c.x+l,c.y+l,{align:"left",baseline:"top",maxWidth:c.width-l-l})),this.internal.__cell__.lastCell=c,this};n.table=function(c,u,l,d,f){if(e.call(this),!l)throw new Error("No data for PDF table.");var h,p,g,v,m=[],x=[],y=[],w={},E={},I=[],T=[],R=(f=f||{}).autoSize||!1,D=f.printHeaders!==!1,L=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,M=f.margins||Object.assign({width:this.getPageWidth()},r),H=typeof f.padding=="number"?f.padding:3,V=f.headerBackgroundColor||"#c8c8c8",P=f.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=M,this.internal.__cell__.table_font_size=L,this.internal.__cell__.padding=H,this.internal.__cell__.headerBackgroundColor=V,this.internal.__cell__.headerTextColor=P,this.setFontSize(L),d==null)x=m=Object.keys(l[0]),y=m.map(function(){return"left"});else if(Array.isArray(d)&&ts(d[0])==="object")for(m=d.map(function(C){return C.name}),x=d.map(function(C){return C.prompt||C.name||""}),y=d.map(function(C){return C.align||"left"}),h=0;h<d.length;h+=1)E[d[h].name]=d[h].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(x=m=d,y=m.map(function(){return"left"}));if(R||Array.isArray(d)&&typeof d[0]=="string")for(h=0;h<m.length;h+=1){for(w[v=m[h]]=l.map(function(C){return C[v]}),this.setFont(void 0,"bold"),I.push(this.getTextDimensions(x[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=w[v],this.setFont(void 0,"normal"),g=0;g<p.length;g+=1)I.push(this.getTextDimensions(p[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);E[v]=Math.max.apply(null,I)+H+H,I=[]}if(D){var F={};for(h=0;h<m.length;h+=1)F[m[h]]={},F[m[h]].text=x[h],F[m[h]].align=y[h];var A=o.call(this,F,E);T=m.map(function(C){return new i(c,u,E[C],A,F[C].text,void 0,F[C].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var _=d.reduce(function(C,W){return C[W.name]=W.align,C},{});for(h=0;h<l.length;h+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:h,data:l[h]},this);var S=o.call(this,l[h],E);for(g=0;g<m.length;g+=1){var N=l[h][m[g]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:h,col:g,data:N},this),a.call(this,new i(c,u,E[m[g]],S,N,h+2,_[m[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var o=function(c,u){var l=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(c).map(function(h){var p=c[h];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,u[h]-l-l)},this).map(function(h){return this.getLineHeightFactor()*h.length*d/f+l+l},this).reduce(function(h,p){return Math.max(h,p)},0)};n.setTableHeaderRow=function(c){e.call(this),this.internal.__cell__.tableHeaderRow=c},n.printHeaderRow=function(c,u){if(e.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var l;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){l=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(l.y=this.internal.__cell__.margins.top||0,f.push(l)),l.lineNumber=c;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,l),this.setTextColor(p)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),t=!1}}(Ir.API);var GA={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},YA=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],v_=$A(YA),XA=[100,200,300,400,500,600,700,800,900],iU=$A(XA);function y_(n){var r=n.family.replace(/"|'/g,"").toLowerCase(),t=function(i){return GA[i=i||"normal"]?i:"normal"}(n.style),e=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(n.weight),s=function(i){return typeof v_[i=i||"normal"]=="number"?i:"normal"}(n.stretch);return{family:r,style:t,weight:e,stretch:s,src:n.src||[],ref:n.ref||{name:r,style:[s,t,e].join(" ")}}}function n7(n,r,t,e){var s;for(s=t;s>=0&&s<r.length;s+=e)if(n[r[s]])return n[r[s]];for(s=t;s>=0&&s<r.length;s-=e)if(n[r[s]])return n[r[s]]}var aU={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},s7={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function i7(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function oU(n,r,t){for(var e=(t=t||{}).defaultFontFamily||"times",s=Object.assign({},aU,t.genericFontFamilies||{}),i=null,a=null,o=0;o<r.length;++o)if(s[(i=y_(r[o])).family]&&(i.family=s[i.family]),n.hasOwnProperty(i.family)){a=n[i.family];break}if(!(a=a||n[e]))throw new Error("Could not find a font-family for the rule '"+i7(i)+"' and default family '"+e+"'.");if(a=function(c,u){if(u[c])return u[c];var l=v_[c],d=l<=v_.normal?-1:1,f=n7(u,YA,l,d);if(!f)throw new Error("Could not find a matching font-stretch value for "+c);return f}(i.stretch,a),a=function(c,u){if(u[c])return u[c];for(var l=GA[c],d=0;d<l.length;++d)if(u[l[d]])return u[l[d]];throw new Error("Could not find a matching font-style for "+c)}(i.style,a),!(a=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var l=iU[c],d=n7(u,XA,l,c<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+c);return d}(i.weight,a)))throw new Error("Failed to resolve a font for the rule '"+i7(i)+"'.");return a}function a7(n){return n.trimLeft()}function lU(n,r){for(var t=0;t<n.length;){if(n.charAt(t)===r)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function cU(n){var r=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return r===null?null:[r[0],n.substring(r[0].length)]}var I2,o7,l7,A6=["times"];(function(n){var r,t,e,s,i,a,o,c,u,l=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new c,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new a,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new a,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new d(this),r=this.internal.f2,t=this.internal.getCoordinateString,e=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,u=new l}]);var d=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=j;Object.defineProperty(this,"pdf",{get:function(){return B}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(le){G=!!le}});var X=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return X},set:function(le){X=!!le}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function(le){isNaN(le)||(J=le)}});var O=0;Object.defineProperty(this,"posY",{get:function(){return O},set:function(le){isNaN(le)||(O=le)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(le){var ce;typeof le=="number"?ce=[le,le,le,le]:((ce=new Array(4))[0]=le[0],ce[1]=le.length>=2?le[1]:ce[0],ce[2]=le.length>=3?le[2]:ce[0],ce[3]=le.length>=4?le[3]:ce[1]),u.margin=ce}});var ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ee},set:function(le){ee=le}});var U=0;Object.defineProperty(this,"lastBreak",{get:function(){return U},set:function(le){U=le}});var z=[];Object.defineProperty(this,"pageBreaks",{get:function(){return z},set:function(le){z=le}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(le){le instanceof l&&(u=le)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(le){u.path=le}});var Z=[];Object.defineProperty(this,"ctxStack",{get:function(){return Z},set:function(le){Z=le}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(le){var ce;ce=f(le),this.ctx.fillStyle=ce.style,this.ctx.isFillTransparent=ce.a===0,this.ctx.fillOpacity=ce.a,this.pdf.setFillColor(ce.r,ce.g,ce.b,{a:ce.a}),this.pdf.setTextColor(ce.r,ce.g,ce.b,{a:ce.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(le){var ce=f(le);this.ctx.strokeStyle=ce.style,this.ctx.isStrokeTransparent=ce.a===0,this.ctx.strokeOpacity=ce.a,ce.a===0?this.pdf.setDrawColor(255,255,255):(ce.a,this.pdf.setDrawColor(ce.r,ce.g,ce.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(le){["butt","round","square"].indexOf(le)!==-1&&(this.ctx.lineCap=le,this.pdf.setLineCap(le))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(le){isNaN(le)||(this.ctx.lineWidth=le,this.pdf.setLineWidth(le))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(le){["bevel","round","miter"].indexOf(le)!==-1&&(this.ctx.lineJoin=le,this.pdf.setLineJoin(le))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(le){isNaN(le)||(this.ctx.miterLimit=le,this.pdf.setMiterLimit(le))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(le){this.ctx.textBaseline=le}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(le){["right","end","center","left","start"].indexOf(le)!==-1&&(this.ctx.textAlign=le)}});var te=null;function oe(le,ce){if(te===null){var _e=function(fe){var ge=[];return Object.keys(fe).forEach(function(xe){fe[xe].forEach(function(Le){var Me=null;switch(Le){case"bold":Me={family:xe,weight:"bold"};break;case"italic":Me={family:xe,style:"italic"};break;case"bolditalic":Me={family:xe,weight:"bold",style:"italic"};break;case"":case"normal":Me={family:xe}}Me!==null&&(Me.ref={name:xe,style:Le},ge.push(Me))})}),ge}(le.getFontList());te=function(fe){for(var ge={},xe=0;xe<fe.length;++xe){var Le=y_(fe[xe]),Me=Le.family,Oe=Le.stretch,ze=Le.style,Ke=Le.weight;ge[Me]=ge[Me]||{},ge[Me][Oe]=ge[Me][Oe]||{},ge[Me][Oe][ze]=ge[Me][Oe][ze]||{},ge[Me][Oe][ze][Ke]=Le}return ge}(_e.concat(ce))}return te}var ue=null;Object.defineProperty(this,"fontFaces",{get:function(){return ue},set:function(le){te=null,ue=le}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(le){var ce;if(this.ctx.font=le,(ce=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(le))!==null){var _e=ce[1],fe=(ce[2],ce[3]),ge=ce[4],xe=(ce[5],ce[6]),Le=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ge)[2];ge=Math.floor(Le==="px"?parseFloat(ge)*this.pdf.internal.scaleFactor:Le==="em"?parseFloat(ge)*this.pdf.getFontSize():parseFloat(ge)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ge);var Me=function(He){var rt,Je,wt=[],yt=He.trim();if(yt==="")return A6;if(yt in s7)return[s7[yt]];for(;yt!=="";){switch(Je=null,rt=(yt=a7(yt)).charAt(0)){case'"':case"'":Je=lU(yt.substring(1),rt);break;default:Je=cU(yt)}if(Je===null||(wt.push(Je[0]),(yt=a7(Je[1]))!==""&&yt.charAt(0)!==","))return A6;yt=yt.replace(/^,/,"")}return wt}(xe);if(this.fontFaces){var Oe=oU(oe(this.pdf,this.fontFaces),Me.map(function(He){return{family:He,stretch:"normal",weight:fe,style:_e}}));this.pdf.setFont(Oe.ref.name,Oe.ref.style)}else{var ze="";(fe==="bold"||parseInt(fe,10)>=700||_e==="bold")&&(ze="bold"),_e==="italic"&&(ze+="italic"),ze.length===0&&(ze="normal");for(var Ke="",ot={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},$e=0;$e<Me.length;$e++){if(this.pdf.internal.getFont(Me[$e],ze,{noFallback:!0,disableWarning:!0})!==void 0){Ke=Me[$e];break}if(ze==="bolditalic"&&this.pdf.internal.getFont(Me[$e],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ke=Me[$e],ze="bold";else if(this.pdf.internal.getFont(Me[$e],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ke=Me[$e],ze="normal";break}}if(Ke===""){for(var Ve=0;Ve<Me.length;Ve++)if(ot[Me[Ve]]){Ke=ot[Me[Ve]];break}}Ke=Ke===""?"Times":Ke,this.pdf.setFont(Ke,ze)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(le){this.ctx.globalCompositeOperation=le}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(le){this.ctx.globalAlpha=le}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(le){this.ctx.lineDashOffset=le,W.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(le){this.ctx.lineDash=le,W.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(le){this.ctx.ignoreClearRect=!!le}})};d.prototype.setLineDash=function(j){this.lineDash=j},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){w.call(this,"fill",!1)},d.prototype.stroke=function(){w.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(j,B){if(isNaN(j)||isNaN(B))throw ls.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new a(j,B));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new a(j,B)},d.prototype.closePath=function(){var j=new a(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&ts(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){j=new a(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(j.x,j.y)},d.prototype.lineTo=function(j,B){if(isNaN(j)||isNaN(B))throw ls.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new a(j,B));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new a(G.x,G.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},d.prototype.quadraticCurveTo=function(j,B,G,X){if(isNaN(G)||isNaN(X)||isNaN(j)||isNaN(B))throw ls.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new a(G,X)),O=this.ctx.transform.applyToPoint(new a(j,B));this.path.push({type:"qct",x1:O.x,y1:O.y,x:J.x,y:J.y}),this.ctx.lastPoint=new a(J.x,J.y)},d.prototype.bezierCurveTo=function(j,B,G,X,J,O){if(isNaN(J)||isNaN(O)||isNaN(j)||isNaN(B)||isNaN(G)||isNaN(X))throw ls.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ee=this.ctx.transform.applyToPoint(new a(J,O)),U=this.ctx.transform.applyToPoint(new a(j,B)),z=this.ctx.transform.applyToPoint(new a(G,X));this.path.push({type:"bct",x1:U.x,y1:U.y,x2:z.x,y2:z.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new a(ee.x,ee.y)},d.prototype.arc=function(j,B,G,X,J,O){if(isNaN(j)||isNaN(B)||isNaN(G)||isNaN(X)||isNaN(J))throw ls.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(O=!!O,!this.ctx.transform.isIdentity){var ee=this.ctx.transform.applyToPoint(new a(j,B));j=ee.x,B=ee.y;var U=this.ctx.transform.applyToPoint(new a(0,G)),z=this.ctx.transform.applyToPoint(new a(0,0));G=Math.sqrt(Math.pow(U.x-z.x,2)+Math.pow(U.y-z.y,2))}Math.abs(J-X)>=2*Math.PI&&(X=0,J=2*Math.PI),this.path.push({type:"arc",x:j,y:B,radius:G,startAngle:X,endAngle:J,counterclockwise:O})},d.prototype.arcTo=function(j,B,G,X,J){throw new Error("arcTo not implemented.")},d.prototype.rect=function(j,B,G,X){if(isNaN(j)||isNaN(B)||isNaN(G)||isNaN(X))throw ls.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,B),this.lineTo(j+G,B),this.lineTo(j+G,B+X),this.lineTo(j,B+X),this.lineTo(j,B),this.lineTo(j+G,B),this.lineTo(j,B)},d.prototype.fillRect=function(j,B,G,X){if(isNaN(j)||isNaN(B)||isNaN(G)||isNaN(X))throw ls.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,B,G,X),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},d.prototype.strokeRect=function(j,B,G,X){if(isNaN(j)||isNaN(B)||isNaN(G)||isNaN(X))throw ls.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(j,B,G,X),this.stroke())},d.prototype.clearRect=function(j,B,G,X){if(isNaN(j)||isNaN(B)||isNaN(G)||isNaN(X))throw ls.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,B,G,X))},d.prototype.save=function(j){j=typeof j!="boolean"||j;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var X=new l(this.ctx);this.ctxStack.push(this.ctx),this.ctx=X}},d.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(B),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(j){var B,G,X,J;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))B=0,G=0,X=0,J=0;else{var O=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(O!==null)B=parseInt(O[1]),G=parseInt(O[2]),X=parseInt(O[3]),J=1;else if((O=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)B=parseInt(O[1]),G=parseInt(O[2]),X=parseInt(O[3]),J=parseFloat(O[4]);else{if(J=1,typeof j=="string"&&j.charAt(0)!=="#"){var ee=new UA(j);j=ee.ok?ee.toHex():"#000000"}j.length===4?(B=j.substring(1,2),B+=B,G=j.substring(2,3),G+=G,X=j.substring(3,4),X+=X):(B=j.substring(1,3),G=j.substring(3,5),X=j.substring(5,7)),B=parseInt(B,16),G=parseInt(G,16),X=parseInt(X,16)}}return{r:B,g:G,b:X,a:J,style:j}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(j,B,G,X){if(isNaN(B)||isNaN(G)||typeof j!="string")throw ls.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(X=isNaN(X)?void 0:X,!h.call(this)){var J=S(this.ctx.transform.rotation),O=this.ctx.transform.scaleX;H.call(this,{text:j,x:B,y:G,scale:O,angle:J,align:this.textAlign,maxWidth:X})}},d.prototype.strokeText=function(j,B,G,X){if(isNaN(B)||isNaN(G)||typeof j!="string")throw ls.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){X=isNaN(X)?void 0:X;var J=S(this.ctx.transform.rotation),O=this.ctx.transform.scaleX;H.call(this,{text:j,x:B,y:G,scale:O,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:X})}},d.prototype.measureText=function(j){if(typeof j!="string")throw ls.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,G=this.pdf.internal.scaleFactor,X=B.internal.getFontSize(),J=B.getStringUnitWidth(j)*X/B.internal.scaleFactor,O=function(ee){var U=(ee=ee||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return U}}),this};return new O({width:J*=Math.round(96*G/72*1e4)/1e4})},d.prototype.scale=function(j,B){if(isNaN(j)||isNaN(B))throw ls.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new c(j,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},d.prototype.rotate=function(j){if(isNaN(j))throw ls.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new c(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},d.prototype.translate=function(j,B){if(isNaN(j)||isNaN(B))throw ls.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new c(1,0,0,1,j,B);this.ctx.transform=this.ctx.transform.multiply(G)},d.prototype.transform=function(j,B,G,X,J,O){if(isNaN(j)||isNaN(B)||isNaN(G)||isNaN(X)||isNaN(J)||isNaN(O))throw ls.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ee=new c(j,B,G,X,J,O);this.ctx.transform=this.ctx.transform.multiply(ee)},d.prototype.setTransform=function(j,B,G,X,J,O){j=isNaN(j)?1:j,B=isNaN(B)?0:B,G=isNaN(G)?0:G,X=isNaN(X)?1:X,J=isNaN(J)?0:J,O=isNaN(O)?0:O,this.ctx.transform=new c(j,B,G,X,J,O)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(j,B,G,X,J,O,ee,U,z){var Z=this.pdf.getImageProperties(j),te=1,oe=1,ue=1,le=1;X!==void 0&&U!==void 0&&(ue=U/X,le=z/J,te=Z.width/X*U/X,oe=Z.height/J*z/J),O===void 0&&(O=B,ee=G,B=0,G=0),X!==void 0&&U===void 0&&(U=X,z=J),X===void 0&&U===void 0&&(U=Z.width,z=Z.height);for(var ce,_e=this.ctx.transform.decompose(),fe=S(_e.rotate.shx),ge=new c,xe=(ge=(ge=(ge=ge.multiply(_e.translate)).multiply(_e.skew)).multiply(_e.scale)).applyToRectangle(new o(O-B*ue,ee-G*le,X*te,J*oe)),Le=v.call(this,xe),Me=[],Oe=0;Oe<Le.length;Oe+=1)Me.indexOf(Le[Oe])===-1&&Me.push(Le[Oe]);if(y(Me),this.autoPaging)for(var ze=Me[0],Ke=Me[Me.length-1],ot=ze;ot<Ke+1;ot++){this.pdf.setPage(ot);var $e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ve=ot===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Je=ot===1?0:He+(ot-2)*rt;if(this.ctx.clip_path.length!==0){var wt=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(ce,this.posX+this.margin[3],-Je+Ve+this.ctx.prevPageLastElemOffset),E.call(this,"fill",!0),this.path=wt}var yt=JSON.parse(JSON.stringify(xe));yt=x([yt],this.posX+this.margin[3],-Je+Ve+this.ctx.prevPageLastElemOffset)[0];var kt=(ot>ze||ot<Ke)&&g.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,rt,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",yt.x,yt.y,yt.w,yt.h,null,null,fe),kt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(j,"JPEG",xe.x,xe.y,xe.w,xe.h,null,null,fe)};var v=function(j,B,G){var X=[];B=B||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":X.push(Math.floor((j.y+J)/G)+1);break;case"arc":X.push(Math.floor((j.y+J-j.radius)/G)+1),X.push(Math.floor((j.y+J+j.radius)/G)+1);break;case"qct":var O=N(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);X.push(Math.floor((O.y+J)/G)+1),X.push(Math.floor((O.y+O.h+J)/G)+1);break;case"bct":var ee=C(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);X.push(Math.floor((ee.y+J)/G)+1),X.push(Math.floor((ee.y+ee.h+J)/G)+1);break;case"rect":X.push(Math.floor((j.y+J)/G)+1),X.push(Math.floor((j.y+j.h+J)/G)+1)}for(var U=0;U<X.length;U+=1)for(;this.pdf.internal.getNumberOfPages()<X[U];)m.call(this);return X},m=function(){var j=this.fillStyle,B=this.strokeStyle,G=this.font,X=this.lineCap,J=this.lineWidth,O=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=B,this.font=G,this.lineCap=X,this.lineWidth=J,this.lineJoin=O},x=function(j,B,G){for(var X=0;X<j.length;X++)switch(j[X].type){case"bct":j[X].x2+=B,j[X].y2+=G;case"qct":j[X].x1+=B,j[X].y1+=G;case"mt":case"lt":case"arc":default:j[X].x+=B,j[X].y+=G}return j},y=function(j){return j.sort(function(B,G){return B-G})},w=function(j,B){for(var G,X,J=this.fillStyle,O=this.strokeStyle,ee=this.lineCap,U=this.lineWidth,z=Math.abs(U*this.ctx.transform.scaleX),Z=this.lineJoin,te=JSON.parse(JSON.stringify(this.path)),oe=JSON.parse(JSON.stringify(this.path)),ue=[],le=0;le<oe.length;le++)if(oe[le].x!==void 0)for(var ce=v.call(this,oe[le]),_e=0;_e<ce.length;_e+=1)ue.indexOf(ce[_e])===-1&&ue.push(ce[_e]);for(var fe=0;fe<ue.length;fe++)for(;this.pdf.internal.getNumberOfPages()<ue[fe];)m.call(this);if(y(ue),this.autoPaging)for(var ge=ue[0],xe=ue[ue.length-1],Le=ge;Le<xe+1;Le++){this.pdf.setPage(Le),this.fillStyle=J,this.strokeStyle=O,this.lineCap=ee,this.lineWidth=z,this.lineJoin=Z;var Me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Oe=Le===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=Le===1?0:ze+(Le-2)*Ke;if(this.ctx.clip_path.length!==0){var $e=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(G,this.posX+this.margin[3],-ot+Oe+this.ctx.prevPageLastElemOffset),E.call(this,j,!0),this.path=$e}if(X=JSON.parse(JSON.stringify(te)),this.path=x(X,this.posX+this.margin[3],-ot+Oe+this.ctx.prevPageLastElemOffset),B===!1||Le===0){var Ve=(Le>ge||Le<xe)&&g.call(this);Ve&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Me,Ke,null).clip().discardPath()),E.call(this,j,B),Ve&&this.pdf.restoreGraphicsState()}this.lineWidth=U}else this.lineWidth=z,E.call(this,j,B),this.lineWidth=U;this.path=te},E=function(j,B){if((j!=="stroke"||B||!p.call(this))&&(j==="stroke"||B||!h.call(this))){for(var G,X,J=[],O=this.path,ee=0;ee<O.length;ee++){var U=O[ee];switch(U.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:U,deltas:[],abs:[]});break;case"lt":var z=J.length;if(O[ee-1]&&!isNaN(O[ee-1].x)&&(G=[U.x-O[ee-1].x,U.y-O[ee-1].y],z>0)){for(;z>=0;z--)if(J[z-1].close!==!0&&J[z-1].begin!==!0){J[z-1].deltas.push(G),J[z-1].abs.push(U);break}}break;case"bct":G=[U.x1-O[ee-1].x,U.y1-O[ee-1].y,U.x2-O[ee-1].x,U.y2-O[ee-1].y,U.x-O[ee-1].x,U.y-O[ee-1].y],J[J.length-1].deltas.push(G);break;case"qct":var Z=O[ee-1].x+2/3*(U.x1-O[ee-1].x),te=O[ee-1].y+2/3*(U.y1-O[ee-1].y),oe=U.x+2/3*(U.x1-U.x),ue=U.y+2/3*(U.y1-U.y),le=U.x,ce=U.y;G=[Z-O[ee-1].x,te-O[ee-1].y,oe-O[ee-1].x,ue-O[ee-1].y,le-O[ee-1].x,ce-O[ee-1].y],J[J.length-1].deltas.push(G);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(U)}}X=B?null:j==="stroke"?"stroke":"fill";for(var _e=!1,fe=0;fe<J.length;fe++)if(J[fe].arc)for(var ge=J[fe].abs,xe=0;xe<ge.length;xe++){var Le=ge[xe];Le.type==="arc"?R.call(this,Le.x,Le.y,Le.radius,Le.startAngle,Le.endAngle,Le.counterclockwise,void 0,B,!_e):V.call(this,Le.x,Le.y),_e=!0}else if(J[fe].close===!0)this.pdf.internal.out("h"),_e=!1;else if(J[fe].begin!==!0){var Me=J[fe].start.x,Oe=J[fe].start.y;P.call(this,J[fe].deltas,Me,Oe),_e=!0}X&&D.call(this,X),B&&L.call(this)}},I=function(j){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-G;case"top":return j+B-G;case"hanging":return j+B-2*G;case"middle":return j+B/2-G;case"ideographic":return j;case"alphabetic":default:return j}},T=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(B,G){this.colorStops.push([B,G])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var R=function(j,B,G,X,J,O,ee,U,z){for(var Z=A.call(this,G,X,J,O),te=0;te<Z.length;te++){var oe=Z[te];te===0&&(z?M.call(this,oe.x1+j,oe.y1+B):V.call(this,oe.x1+j,oe.y1+B)),F.call(this,j,B,oe.x2,oe.y2,oe.x3,oe.y3,oe.x4,oe.y4)}U?L.call(this):D.call(this,ee)},D=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},L=function(){this.pdf.clip(),this.pdf.discardPath()},M=function(j,B){this.pdf.internal.out(t(j)+" "+e(B)+" m")},H=function(j){var B;switch(j.align){case"right":case"end":B="right";break;case"center":B="center";break;case"left":case"start":default:B="left"}var G=this.pdf.getTextDimensions(j.text),X=I.call(this,j.y),J=T.call(this,X)-G.h,O=this.ctx.transform.applyToPoint(new a(j.x,X)),ee=this.ctx.transform.decompose(),U=new c;U=(U=(U=U.multiply(ee.translate)).multiply(ee.skew)).multiply(ee.scale);for(var z,Z,te,oe=this.ctx.transform.applyToRectangle(new o(j.x,X,G.w,G.h)),ue=U.applyToRectangle(new o(j.x,J,G.w,G.h)),le=v.call(this,ue),ce=[],_e=0;_e<le.length;_e+=1)ce.indexOf(le[_e])===-1&&ce.push(le[_e]);if(y(ce),this.autoPaging)for(var fe=ce[0],ge=ce[ce.length-1],xe=fe;xe<ge+1;xe++){this.pdf.setPage(xe);var Le=xe===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Oe=this.pdf.internal.pageSize.height-this.margin[2],ze=Oe-this.margin[0],Ke=this.pdf.internal.pageSize.width-this.margin[1],ot=Ke-this.margin[3],$e=xe===1?0:Me+(xe-2)*ze;if(this.ctx.clip_path.length!==0){var Ve=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(z,this.posX+this.margin[3],-1*$e+Le),E.call(this,"fill",!0),this.path=Ve}var He=x([JSON.parse(JSON.stringify(ue))],this.posX+this.margin[3],-$e+Le+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*j.scale),te=this.lineWidth,this.lineWidth=te*j.scale);var rt=this.autoPaging!=="text";if(rt||He.y+He.h<=Oe){if(rt||He.y>=Le&&He.x<=Ke){var Je=rt?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||Ke-He.x)[0],wt=x([JSON.parse(JSON.stringify(oe))],this.posX+this.margin[3],-$e+Le+this.ctx.prevPageLastElemOffset)[0],yt=rt&&(xe>fe||xe<ge)&&g.call(this);yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,ze,null).clip().discardPath()),this.pdf.text(Je,wt.x,wt.y,{angle:j.angle,align:B,renderingMode:j.renderingMode}),yt&&this.pdf.restoreGraphicsState()}}else He.y<Oe&&(this.ctx.prevPageLastElemOffset+=Oe-He.y);j.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=te)}else j.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*j.scale),te=this.lineWidth,this.lineWidth=te*j.scale),this.pdf.text(j.text,O.x+this.posX,O.y+this.posY,{angle:j.angle,align:B,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=te)},V=function(j,B,G,X){G=G||0,X=X||0,this.pdf.internal.out(t(j+G)+" "+e(B+X)+" l")},P=function(j,B,G){return this.pdf.lines(j,B,G,null,null)},F=function(j,B,G,X,J,O,ee,U){this.pdf.internal.out([r(s(G+j)),r(i(X+B)),r(s(J+j)),r(i(O+B)),r(s(ee+j)),r(i(U+B)),"c"].join(" "))},A=function(j,B,G,X){for(var J=2*Math.PI,O=Math.PI/2;B>G;)B-=J;var ee=Math.abs(G-B);ee<J&&X&&(ee=J-ee);for(var U=[],z=X?-1:1,Z=B;ee>1e-5;){var te=Z+z*Math.min(ee,O);U.push(_.call(this,j,Z,te)),ee-=Math.abs(te-Z),Z=te}return U},_=function(j,B,G){var X=(G-B)/2,J=j*Math.cos(X),O=j*Math.sin(X),ee=J,U=-O,z=ee*ee+U*U,Z=z+ee*J+U*O,te=4/3*(Math.sqrt(2*z*Z)-Z)/(ee*O-U*J),oe=ee-te*U,ue=U+te*ee,le=oe,ce=-ue,_e=X+B,fe=Math.cos(_e),ge=Math.sin(_e);return{x1:j*Math.cos(B),y1:j*Math.sin(B),x2:oe*fe-ue*ge,y2:oe*ge+ue*fe,x3:le*fe-ce*ge,y3:le*ge+ce*fe,x4:j*Math.cos(G),y4:j*Math.sin(G)}},S=function(j){return 180*j/Math.PI},N=function(j,B,G,X,J,O){var ee=j+.5*(G-j),U=B+.5*(X-B),z=J+.5*(G-J),Z=O+.5*(X-O),te=Math.min(j,J,ee,z),oe=Math.max(j,J,ee,z),ue=Math.min(B,O,U,Z),le=Math.max(B,O,U,Z);return new o(te,ue,oe-te,le-ue)},C=function(j,B,G,X,J,O,ee,U){var z,Z,te,oe,ue,le,ce,_e,fe,ge,xe,Le,Me,Oe,ze=G-j,Ke=X-B,ot=J-G,$e=O-X,Ve=ee-J,He=U-O;for(Z=0;Z<41;Z++)fe=(ce=(te=j+(z=Z/40)*ze)+z*((ue=G+z*ot)-te))+z*(ue+z*(J+z*Ve-ue)-ce),ge=(_e=(oe=B+z*Ke)+z*((le=X+z*$e)-oe))+z*(le+z*(O+z*He-le)-_e),Z==0?(xe=fe,Le=ge,Me=fe,Oe=ge):(xe=Math.min(xe,fe),Le=Math.min(Le,ge),Me=Math.max(Me,fe),Oe=Math.max(Oe,ge));return new o(Math.round(xe),Math.round(Le),Math.round(Me-xe),Math.round(Oe-Le))},W=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,B,G=(j=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:B}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(Ir.API),function(n){var r=function(i){var a,o,c,u,l,d,f,h,p,g;for(o=[],c=0,u=(i+=a="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(l=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(d=(l=((l=((l=((l=(l-(g=l%85))/85)-(p=l%85))/85)-(h=l%85))/85)-(f=l%85))/85)%85,o.push(d+33,f+33,h+33,p+33,g+33)):o.push(122);return function(v,m){for(var x=m;x>0;x--)v.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},t=function(i){var a,o,c,u,l,d=String,f="length",h=255,p="charCodeAt",g="slice",v="replace";for(i[g](-2),i=i[g](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),c=[],u=0,l=(i+=a="uuuuu"[g](i[f]%5||5))[f];l>u;u+=5)o=52200625*(i[p](u)-33)+614125*(i[p](u+1)-33)+7225*(i[p](u+2)-33)+85*(i[p](u+3)-33)+(i[p](u+4)-33),c.push(h&o>>24,h&o>>16,h&o>>8,h&o);return function(m,x){for(var y=x;y>0;y--)m.pop()}(c,a[f]),d.fromCharCode.apply(d,c)},e=function(i){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),a.test(i)===!1)return"";for(var o="",c=0;c<i.length;c+=2)o+=String.fromCharCode("0x"+(i[c]+i[c+1]));return o},s=function(i){for(var a=new Uint8Array(i.length),o=i.length;o--;)a[o]=i.charCodeAt(o);return i=(a=f_(a)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};n.processDataByFilters=function(i,a){var o=0,c=i||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=r(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=e(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Ir.API),function(n){n.loadFile=function(r,t,e){return function(s,i,a){i=i!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(c,u,l){var d=new XMLHttpRequest,f=0,h=function(p){var g=p.length,v=[],m=String.fromCharCode;for(f=0;f<g;f+=1)v.push(m(255&p.charCodeAt(f)));return v.join("")};if(d.open("GET",c,!u),d.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(d.onload=function(){d.status===200?l(h(this.responseText)):l(void 0)}),d.send(null),u&&d.status===200)return h(d.responseText)}(s,i,a)}catch{}return o}(r,t,e)},n.loadImageFile=n.loadFile}(Ir.API),function(n){function r(){return(Fr.html2canvas?Promise.resolve(Fr.html2canvas):Np(()=>import("./html2canvas.esm-DadlvMMh.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function t(){return(Fr.DOMPurify?Promise.resolve(Fr.DOMPurify):Np(()=>import("./purify.es-a-CayzAK.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var e=function(a){var o=ts(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},s=function(a,o){var c=document.createElement(a);for(var u in o.className&&(c.className=o.className),o.innerHTML&&o.dompurify&&(c.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)c.style[u]=o.style[u];return c},i=function a(o){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,a,1,[a])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(a,o){return a.__proto__=o||i.prototype,a},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(c){switch(e(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(t).then(function(c){return this.set({src:s("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},i.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function c(u,l){for(var d=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),f=u.firstChild;f;f=f.nextSibling)l!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(c(f,l));return u.nodeType===1&&(u.nodeName==="CANVAS"?(d.width=u.width,d.height=u.height,d.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(d.value=u.value),d.addEventListener("load",function(){d.scrollTop=u.scrollTop,d.scrollLeft=u.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(r).then(function(o){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,o(this.prop.container,c)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(r).then(function(o){var c=this.opt.jsPDF,u=this.opt.fontFaces,l=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:l,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var h=u[f],p=h.src.find(function(g){return g.format==="truetype"});p&&c.addFont(p.url,h.ref.name,h.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,c.context2d.save(!0),o(this.prop.container,d)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(a,o,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},i.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},i.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},i.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(a){if(e(a)!=="object")return this;var o=Object.keys(a||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(a,o){return this.then(function(){var c=a in i.template.prop?this.prop[a]:this.opt[a];return o?o(c):c})},i.prototype.setMargin=function(a){return this.then(function(){switch(e(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},i.prototype.setPageSize=function(a){function o(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(a=a||Ir.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},i.prototype.setProgress=function(a,o,c,u){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(a,o,c,u){return this.setProgress(a?this.progress.val+a:null,o||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(a,o){var c=this;return this.thenCore(a,o,function(u,l){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(d){return c.updateProgress(null,u),d}).then(u,l).then(function(d){return c.updateProgress(1),d})})},i.prototype.thenCore=function(a,o,c){c=c||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),l=c.call(u,a,o);return i.convert(l,this.__proto__)},i.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},i.prototype.thenList=function(a){var o=this;return a.forEach(function(c){o=o.thenCore(c)}),o},i.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return i.convert(o,this)},i.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},i.prototype.error=function(a){return this.then(function(){throw new Error(a)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Ir.getPageSize=function(a,o,c){if(ts(a)==="object"){var u=a;a=u.orientation,o=u.unit||o,c=u.format||c}o=o||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var l,d=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":l=1;break;case"mm":l=72/25.4;break;case"cm":l=72/2.54;break;case"in":l=72;break;case"px":l=.75;break;case"pc":case"em":l=12;break;case"ex":l=6;break;default:throw"Invalid unit: "+o}var h,p=0,g=0;if(f.hasOwnProperty(d))p=f[d][1]/l,g=f[d][0]/l;else try{p=c[1],g=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",g>p&&(h=g,g=p,p=h);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",p>g&&(h=g,g=p,p=h)}return{width:g,height:p,unit:o,k:l,orientation:a}},n.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(y_):null;var c=new i(o);return o.worker?c:c.from(a).doCallback()}}(Ir.API),Ir.API.addJS=function(n){return l7=n,this.internal.events.subscribe("postPutResources",function(){I2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(I2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),o7=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+l7+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){I2!==void 0&&o7!==void 0&&this.internal.out("/Names <</JavaScript "+I2+" 0 R>>")}),this},function(n){var r;n.events.push(["postPutResources",function(){var t=this,e=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),i=0;i<s.length;i++){var a=s[i],o=e.exec(a);if(o!=null){var c=o[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,l=[];for(i=0;i<u;i++){var d=t.internal.newObject();l.push(d);var f=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var h=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<l.length;i++)t.internal.write("(page_"+(i+1)+")"+l[i]+" 0 R");t.internal.write(" ] >>","endobj"),r=t.internal.newObject(),t.internal.write("<< /Dests "+h+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+r+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(e,s,i){var a={title:s,options:i,children:[]};return e==null&&(e=this.root),e.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(e){e.id=t.internal.newObjectDeferred();for(var s=0;s<e.children.length;s++)this.genIds_r(e.children[s])},t.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},t.outline.renderItems=function(e){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<e.children.length;i++){var a=e.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(e)),i>0&&this.line("/Prev "+this.makeRef(e.children[i-1])),i<e.children.length-1&&this.line("/Next "+this.makeRef(e.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var c=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var u=0;u<e.children.length;u++)this.renderItems(e.children[u])},t.outline.line=function(e){this.ctx.val+=e+`\r
`},t.outline.makeRef=function(e){return e.id+" 0 R"},t.outline.makeString=function(e){return"("+t.internal.pdfEscape(e)+")"},t.outline.objStart=function(e){this.ctx.val+=`\r
`+e.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(e,s){for(var i=0;i<s.children.length;i++)e.count++,this.count_r(e,s.children[i]);return e.count}}])}(Ir.API),function(n){var r=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,e,s,i,a,o){var c,u=this.decode.DCT_DECODE,l=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(c=function(d){for(var f,h=256*d.charCodeAt(4)+d.charCodeAt(5),p=d.length,g={width:0,height:0,numcomponents:1},v=4;v<p;v+=2){if(v+=h,r.indexOf(d.charCodeAt(v+1))!==-1){f=256*d.charCodeAt(v+5)+d.charCodeAt(v+6),g={width:256*d.charCodeAt(v+7)+d.charCodeAt(v+8),height:f,numcomponents:d.charCodeAt(v+9)};break}h=256*d.charCodeAt(v+2)+d.charCodeAt(v+3)}return g}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}l={data:t,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:u,index:e,alias:s}}return l}}(Ir.API);var I0,P2,c7,u7,d7,uU=function(){var n,r,t;function e(i){var a,o,c,u,l,d,f,h,p,g,v,m,x,y;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(a=this.readUInt32(),p=(function(){var w,E;for(E=[],w=0;w<4;++w)E.push(String.fromCharCode(this.data[this.pos++]));return E}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},l=this.readUInt16(),u=this.readUInt16()||100,d.delay=1e3*l/u,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(p==="fdAT"&&(this.pos+=4,a-=4),i=(d!=null?d.data:void 0)||this.imgData,m=0;0<=a?m<a:m>a;0<=a?++m:--m)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((g=c-this.transparency.indexed.length)>0)for(x=0;0<=g?x<g:x>g;0<=g?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":f=(v=this.read(a)).indexOf(0),h=String.fromCharCode.apply(String,v.slice(0,f)),this.text[h]=String.fromCharCode.apply(String,v.slice(f+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(y=this.colorType)===4||y===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}e.prototype.read=function(i){var a,o;for(o=[],a=0;0<=i?a<i:a>i;0<=i?++a:--a)o.push(this.data[this.pos++]);return o},e.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},e.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},e.prototype.decodePixels=function(i){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),c=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function l(d,f,h,p){var g,v,m,x,y,w,E,I,T,R,D,L,M,H,V,P,F,A,_,S,N,C=Math.ceil((u.width-d)/h),W=Math.ceil((u.height-f)/p),j=u.width==C&&u.height==W;for(H=a*C,L=j?o:new Uint8Array(H*W),w=i.length,M=0,v=0;M<W&&c<w;){switch(i[c++]){case 0:for(x=F=0;F<H;x=F+=1)L[v++]=i[c++];break;case 1:for(x=A=0;A<H;x=A+=1)g=i[c++],y=x<a?0:L[v-a],L[v++]=(g+y)%256;break;case 2:for(x=_=0;_<H;x=_+=1)g=i[c++],m=(x-x%a)/a,V=M&&L[(M-1)*H+m*a+x%a],L[v++]=(V+g)%256;break;case 3:for(x=S=0;S<H;x=S+=1)g=i[c++],m=(x-x%a)/a,y=x<a?0:L[v-a],V=M&&L[(M-1)*H+m*a+x%a],L[v++]=(g+Math.floor((y+V)/2))%256;break;case 4:for(x=N=0;N<H;x=N+=1)g=i[c++],m=(x-x%a)/a,y=x<a?0:L[v-a],M===0?V=P=0:(V=L[(M-1)*H+m*a+x%a],P=m&&L[(M-1)*H+(m-1)*a+x%a]),E=y+V-P,I=Math.abs(E-y),R=Math.abs(E-V),D=Math.abs(E-P),T=I<=R&&I<=D?y:R<=D?V:P,L[v++]=(g+T)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!j){var B=((f+M*p)*u.width+d)*a,G=M*H;for(x=0;x<C;x+=1){for(var X=0;X<a;X+=1)o[B++]=L[G++];B+=(h-1)*a}}M++}}return i=HB(i),u.interlaceMethod==1?(l(0,0,8,8),l(4,0,8,8),l(0,4,4,8),l(2,0,4,4),l(0,2,2,4),l(1,0,2,2),l(0,1,1,2)):l(0,0,1,1),o},e.prototype.decodePalette=function(){var i,a,o,c,u,l,d,f,h;for(o=this.palette,l=this.transparency.indexed||[],u=new Uint8Array((l.length||0)+o.length),c=0,i=0,a=d=0,f=o.length;d<f;a=d+=3)u[c++]=o[a],u[c++]=o[a+1],u[c++]=o[a+2],u[c++]=(h=l[i++])!=null?h:255;return u},e.prototype.copyToImageData=function(i,a){var o,c,u,l,d,f,h,p,g,v,m;if(c=this.colors,g=null,o=this.hasAlphaChannel,this.palette.length&&(g=(m=this._decodedPalette)!=null?m:this._decodedPalette=this.decodePalette(),c=4,o=!0),p=(u=i.data||i).length,d=g||a,l=f=0,c===1)for(;l<p;)h=g?4*a[l/4]:f,v=d[h++],u[l++]=v,u[l++]=v,u[l++]=v,u[l++]=o?d[h++]:255,f=h;else for(;l<p;)h=g?4*a[l/4]:f,u[l++]=d[h++],u[l++]=d[h++],u[l++]=d[h++],u[l++]=o?d[h++]:255,f=h},e.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var s=function(){if(Object.prototype.toString.call(Fr)==="[object Window]"){try{r=Fr.document.createElement("canvas"),t=r.getContext("2d")}catch{return!1}return!0}return!1};return s(),n=function(i){var a;if(s()===!0)return t.width=i.width,t.height=i.height,t.clearRect(0,0,i.width,i.height),t.putImageData(i,0,0),(a=new Image).src=r.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},e.prototype.decodeFrames=function(i){var a,o,c,u,l,d,f,h;if(this.animation){for(h=[],o=l=0,d=(f=this.animation.frames).length;l<d;o=++l)a=f[o],c=i.createImageData(a.width,a.height),u=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(c,u),a.imageData=c,h.push(a.image=n(c));return h}},e.prototype.renderFrame=function(i,a){var o,c,u;return o=(c=this.animation.frames)[a],u=c[a-1],a===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},e.prototype.animate=function(i){var a,o,c,u,l,d,f=this;return o=0,d=this.animation,u=d.numFrames,c=d.frames,l=d.numPlays,(a=function(){var h,p;if(h=o++%u,p=c[h],f.renderFrame(i,h),u>1&&o/u<l)return f.animation._timeout=setTimeout(a,p.delay)})()},e.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},e.prototype.render=function(i){var a,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,a=i.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},e}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function dU(n){var r=0;if(n[r++]!==71||n[r++]!==73||n[r++]!==70||n[r++]!==56||(n[r++]+1&253)!=56||n[r++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[r++]|n[r++]<<8,e=n[r++]|n[r++]<<8,s=n[r++],i=s>>7,a=1<<(7&s)+1;n[r++],n[r++];var o=null,c=null;i&&(o=r,c=a,r+=3*a);var u=!0,l=[],d=0,f=null,h=0,p=null;for(this.width=t,this.height=e;u&&r<n.length;)switch(n[r++]){case 33:switch(n[r++]){case 255:if(n[r]!==11||n[r+1]==78&&n[r+2]==69&&n[r+3]==84&&n[r+4]==83&&n[r+5]==67&&n[r+6]==65&&n[r+7]==80&&n[r+8]==69&&n[r+9]==50&&n[r+10]==46&&n[r+11]==48&&n[r+12]==3&&n[r+13]==1&&n[r+16]==0)r+=14,p=n[r++]|n[r++]<<8,r++;else for(r+=12;;){if(!((M=n[r++])>=0))throw Error("Invalid block size");if(M===0)break;r+=M}break;case 249:if(n[r++]!==4||n[r+4]!==0)throw new Error("Invalid graphics extension block.");var g=n[r++];d=n[r++]|n[r++]<<8,f=n[r++],!(1&g)&&(f=null),h=g>>2&7,r++;break;case 254:for(;;){if(!((M=n[r++])>=0))throw Error("Invalid block size");if(M===0)break;r+=M}break;default:throw new Error("Unknown graphic control label: 0x"+n[r-1].toString(16))}break;case 44:var v=n[r++]|n[r++]<<8,m=n[r++]|n[r++]<<8,x=n[r++]|n[r++]<<8,y=n[r++]|n[r++]<<8,w=n[r++],E=w>>6&1,I=1<<(7&w)+1,T=o,R=c,D=!1;w>>7&&(D=!0,T=r,R=I,r+=3*I);var L=r;for(r++;;){var M;if(!((M=n[r++])>=0))throw Error("Invalid block size");if(M===0)break;r+=M}l.push({x:v,y:m,width:x,height:y,has_local_palette:D,palette_offset:T,palette_size:R,data_offset:L,data_length:r-L,transparent_index:f,interlaced:!!E,delay:d,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+n[r-1].toString(16))}this.numFrames=function(){return l.length},this.loopCount=function(){return p},this.frameInfo=function(H){if(H<0||H>=l.length)throw new Error("Frame index out of range.");return l[H]},this.decodeAndBlitFrameBGRA=function(H,V){var P=this.frameInfo(H),F=P.width*P.height,A=new Uint8Array(F);h7(n,P.data_offset,A,F);var _=P.palette_offset,S=P.transparent_index;S===null&&(S=256);var N=P.width,C=t-N,W=N,j=4*(P.y*t+P.x),B=4*((P.y+P.height)*t+P.x),G=j,X=4*C;P.interlaced===!0&&(X+=4*t*7);for(var J=8,O=0,ee=A.length;O<ee;++O){var U=A[O];if(W===0&&(W=N,(G+=X)>=B&&(X=4*C+4*t*(J-1),G=j+(N+C)*(J<<1),J>>=1)),U===S)G+=4;else{var z=n[_+3*U],Z=n[_+3*U+1],te=n[_+3*U+2];V[G++]=te,V[G++]=Z,V[G++]=z,V[G++]=255}--W}},this.decodeAndBlitFrameRGBA=function(H,V){var P=this.frameInfo(H),F=P.width*P.height,A=new Uint8Array(F);h7(n,P.data_offset,A,F);var _=P.palette_offset,S=P.transparent_index;S===null&&(S=256);var N=P.width,C=t-N,W=N,j=4*(P.y*t+P.x),B=4*((P.y+P.height)*t+P.x),G=j,X=4*C;P.interlaced===!0&&(X+=4*t*7);for(var J=8,O=0,ee=A.length;O<ee;++O){var U=A[O];if(W===0&&(W=N,(G+=X)>=B&&(X=4*C+4*t*(J-1),G=j+(N+C)*(J<<1),J>>=1)),U===S)G+=4;else{var z=n[_+3*U],Z=n[_+3*U+1],te=n[_+3*U+2];V[G++]=z,V[G++]=Z,V[G++]=te,V[G++]=255}--W}}}function h7(n,r,t,e){for(var s=n[r++],i=1<<s,a=i+1,o=a+1,c=s+1,u=(1<<c)-1,l=0,d=0,f=0,h=n[r++],p=new Int32Array(4096),g=null;;){for(;l<16&&h!==0;)d|=n[r++]<<l,l+=8,h===1?h=n[r++]:--h;if(l<c)break;var v=d&u;if(d>>=c,l-=c,v!==i){if(v===a)break;for(var m=v<o?v:g,x=0,y=m;y>i;)y=p[y]>>8,++x;var w=y;if(f+x+(m!==v?1:0)>e)return void ls.log("Warning, gif stream longer than expected.");t[f++]=w;var E=f+=x;for(m!==v&&(t[f++]=w),y=m;x--;)y=p[y],t[--E]=255&y,y>>=8;g!==null&&o<4096&&(p[o++]=g<<8|w,o>=u+1&&c<12&&(++c,u=u<<1|1)),g=v}else o=a+1,u=(1<<(c=s+1))-1,g=null}return f!==e&&ls.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function k6(n){var r,t,e,s,i,a=Math.floor,o=new Array(64),c=new Array(64),u=new Array(64),l=new Array(64),d=new Array(65535),f=new Array(65535),h=new Array(64),p=new Array(64),g=[],v=0,m=7,x=new Array(64),y=new Array(64),w=new Array(64),E=new Array(256),I=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],R=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],M=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],H=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],F=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function A(j,B){for(var G=0,X=0,J=new Array,O=1;O<=16;O++){for(var ee=1;ee<=j[O];ee++)J[B[X]]=[],J[B[X]][0]=G,J[B[X]][1]=O,X++,G++;G*=2}return J}function _(j){for(var B=j[0],G=j[1]-1;G>=0;)B&1<<G&&(v|=1<<m),G--,--m<0&&(v==255?(S(255),S(0)):S(v),m=7,v=0)}function S(j){g.push(j)}function N(j){S(j>>8&255),S(255&j)}function C(j,B,G,X,J){for(var O,ee=J[0],U=J[240],z=function(ge,xe){var Le,Me,Oe,ze,Ke,ot,$e,Ve,He,rt,Je=0;for(He=0;He<8;++He){Le=ge[Je],Me=ge[Je+1],Oe=ge[Je+2],ze=ge[Je+3],Ke=ge[Je+4],ot=ge[Je+5],$e=ge[Je+6];var wt=Le+(Ve=ge[Je+7]),yt=Le-Ve,kt=Me+$e,mt=Me-$e,At=Oe+ot,$t=Oe-ot,Tt=ze+Ke,Yt=ze-Ke,nr=wt+Tt,Xt=wt-Tt,fr=kt+At,rr=kt-At;ge[Je]=nr+fr,ge[Je+4]=nr-fr;var qt=.707106781*(rr+Xt);ge[Je+2]=Xt+qt,ge[Je+6]=Xt-qt;var cr=.382683433*((nr=Yt+$t)-(rr=mt+yt)),Tr=.5411961*nr+cr,Qt=1.306562965*rr+cr,xr=.707106781*(fr=$t+mt),Rr=yt+xr,Lt=yt-xr;ge[Je+5]=Lt+Tr,ge[Je+3]=Lt-Tr,ge[Je+1]=Rr+Qt,ge[Je+7]=Rr-Qt,Je+=8}for(Je=0,He=0;He<8;++He){Le=ge[Je],Me=ge[Je+8],Oe=ge[Je+16],ze=ge[Je+24],Ke=ge[Je+32],ot=ge[Je+40],$e=ge[Je+48];var Sr=Le+(Ve=ge[Je+56]),Nr=Le-Ve,ur=Me+$e,qe=Me-$e,st=Oe+ot,he=Oe-ot,Ee=ze+Ke,Se=ze-Ke,ye=Sr+Ee,Pe=Sr-Ee,je=ur+st,Ge=ur-st;ge[Je]=ye+je,ge[Je+32]=ye-je;var lt=.707106781*(Ge+Pe);ge[Je+16]=Pe+lt,ge[Je+48]=Pe-lt;var Xe=.382683433*((ye=Se+he)-(Ge=qe+Nr)),nt=.5411961*ye+Xe,ut=1.306562965*Ge+Xe,Nt=.707106781*(je=he+qe),Ft=Nr+Nt,zt=Nr-Nt;ge[Je+40]=zt+nt,ge[Je+24]=zt-nt,ge[Je+8]=Ft+ut,ge[Je+56]=Ft-ut,Je++}for(He=0;He<64;++He)rt=ge[He]*xe[He],h[He]=rt>0?rt+.5|0:rt-.5|0;return h}(j,B),Z=0;Z<64;++Z)p[T[Z]]=z[Z];var te=p[0]-G;G=p[0],te==0?_(X[0]):(_(X[f[O=32767+te]]),_(d[O]));for(var oe=63;oe>0&&p[oe]==0;)oe--;if(oe==0)return _(ee),G;for(var ue,le=1;le<=oe;){for(var ce=le;p[le]==0&&le<=oe;)++le;var _e=le-ce;if(_e>=16){ue=_e>>4;for(var fe=1;fe<=ue;++fe)_(U);_e&=15}O=32767+p[le],_(J[(_e<<4)+f[O]]),_(d[O]),le++}return oe!=63&&_(ee),G}function W(j){j=Math.min(Math.max(j,1),100),i!=j&&(function(B){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],X=0;X<64;X++){var J=a((G[X]*B+50)/100);J=Math.min(Math.max(J,1),255),o[T[X]]=J}for(var O=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ee=0;ee<64;ee++){var U=a((O[ee]*B+50)/100);U=Math.min(Math.max(U,1),255),c[T[ee]]=U}for(var z=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Z=0,te=0;te<8;te++)for(var oe=0;oe<8;oe++)u[Z]=1/(o[T[Z]]*z[te]*z[oe]*8),l[Z]=1/(c[T[Z]]*z[te]*z[oe]*8),Z++}(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),i=j)}this.encode=function(j,B){B&&W(B),g=new Array,v=0,m=7,N(65496),N(65504),N(16),S(74),S(70),S(73),S(70),S(0),S(1),S(1),S(0),N(1),N(1),S(0),S(0),function(){N(65499),N(132),S(0);for(var Me=0;Me<64;Me++)S(o[Me]);S(1);for(var Oe=0;Oe<64;Oe++)S(c[Oe])}(),function(Me,Oe){N(65472),N(17),S(8),N(Oe),N(Me),S(3),S(1),S(17),S(0),S(2),S(17),S(1),S(3),S(17),S(1)}(j.width,j.height),function(){N(65476),N(418),S(0);for(var Me=0;Me<16;Me++)S(R[Me+1]);for(var Oe=0;Oe<=11;Oe++)S(D[Oe]);S(16);for(var ze=0;ze<16;ze++)S(L[ze+1]);for(var Ke=0;Ke<=161;Ke++)S(M[Ke]);S(1);for(var ot=0;ot<16;ot++)S(H[ot+1]);for(var $e=0;$e<=11;$e++)S(V[$e]);S(17);for(var Ve=0;Ve<16;Ve++)S(P[Ve+1]);for(var He=0;He<=161;He++)S(F[He])}(),N(65498),N(12),S(3),S(1),S(0),S(2),S(17),S(3),S(17),S(0),S(63),S(0);var G=0,X=0,J=0;v=0,m=7,this.encode.displayName="_encode_";for(var O,ee,U,z,Z,te,oe,ue,le,ce=j.data,_e=j.width,fe=j.height,ge=4*_e,xe=0;xe<fe;){for(O=0;O<ge;){for(Z=ge*xe+O,oe=-1,ue=0,le=0;le<64;le++)te=Z+(ue=le>>3)*ge+(oe=4*(7&le)),xe+ue>=fe&&(te-=ge*(xe+1+ue-fe)),O+oe>=ge&&(te-=O+oe-ge+4),ee=ce[te++],U=ce[te++],z=ce[te++],x[le]=(I[ee]+I[U+256>>0]+I[z+512>>0]>>16)-128,y[le]=(I[ee+768>>0]+I[U+1024>>0]+I[z+1280>>0]>>16)-128,w[le]=(I[ee+1280>>0]+I[U+1536>>0]+I[z+1792>>0]>>16)-128;G=C(x,u,G,r,e),X=C(y,l,X,t,s),J=C(w,l,J,t,s),O+=32}xe+=8}if(m>=0){var Le=[];Le[1]=m+1,Le[0]=(1<<m+1)-1,_(Le)}return N(65497),new Uint8Array(g)},n=n||50,function(){for(var j=String.fromCharCode,B=0;B<256;B++)E[B]=j(B)}(),r=A(R,D),t=A(H,V),e=A(L,M),s=A(P,F),function(){for(var j=1,B=2,G=1;G<=15;G++){for(var X=j;X<B;X++)f[32767+X]=G,d[32767+X]=[],d[32767+X][1]=G,d[32767+X][0]=X;for(var J=-(B-1);J<=-j;J++)f[32767+J]=G,d[32767+J]=[],d[32767+J][1]=G,d[32767+J][0]=B-1+J;j<<=1,B<<=1}}(),function(){for(var j=0;j<256;j++)I[j]=19595*j,I[j+256>>0]=38470*j,I[j+512>>0]=7471*j+32768,I[j+768>>0]=-11059*j,I[j+1024>>0]=-21709*j,I[j+1280>>0]=32768*j+8421375,I[j+1536>>0]=-27439*j,I[j+1792>>0]=-5329*j}(),W(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function xc(n,r){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!r,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function f7(n){function r(R){if(!R)throw Error("assert :P")}function t(R,D,L){for(var M=0;4>M;M++)if(R[D+M]!=L.charCodeAt(M))return!0;return!1}function e(R,D,L,M,H){for(var V=0;V<H;V++)R[D+V]=L[M+V]}function s(R,D,L,M){for(var H=0;H<M;H++)R[D+H]=L}function i(R){return new Int32Array(R)}function a(R,D){for(var L=[],M=0;M<R;M++)L.push(new D);return L}function o(R,D){var L=[];return function M(H,V,P){for(var F=P[V],A=0;A<F&&(H.push(P.length>V+1?[]:new D),!(P.length<V+1));A++)M(H[A],V+1,P)}(L,0,R),L}var c=function(){var R=this;function D(Y,Q){for(var ie=1<<Q-1>>>0;Y&ie;)ie>>>=1;return ie?(Y&ie-1)+ie:Y}function L(Y,Q,ie,de,me){r(!(de%ie));do Y[Q+(de-=ie)]=me;while(0<de)}function M(Y,Q,ie,de,me){if(r(2328>=me),512>=me)var ve=i(512);else if((ve=i(me))==null)return 0;return function(we,ke,Ie,Fe,tt,ft){var pt,ct,Pt=ke,xt=1<<Ie,Qe=i(16),it=i(16);for(r(tt!=0),r(Fe!=null),r(we!=null),r(0<Ie),ct=0;ct<tt;++ct){if(15<Fe[ct])return 0;++Qe[Fe[ct]]}if(Qe[0]==tt)return 0;for(it[1]=0,pt=1;15>pt;++pt){if(Qe[pt]>1<<pt)return 0;it[pt+1]=it[pt]+Qe[pt]}for(ct=0;ct<tt;++ct)pt=Fe[ct],0<Fe[ct]&&(ft[it[pt]++]=ct);if(it[15]==1)return(Fe=new H).g=0,Fe.value=ft[0],L(we,Pt,1,xt,Fe),xt;var Dt,Bt=-1,It=xt-1,tr=0,Zt=1,mr=1,Gt=1<<Ie;for(ct=0,pt=1,tt=2;pt<=Ie;++pt,tt<<=1){if(Zt+=mr<<=1,0>(mr-=Qe[pt]))return 0;for(;0<Qe[pt];--Qe[pt])(Fe=new H).g=pt,Fe.value=ft[ct++],L(we,Pt+tr,tt,Gt,Fe),tr=D(tr,pt)}for(pt=Ie+1,tt=2;15>=pt;++pt,tt<<=1){if(Zt+=mr<<=1,0>(mr-=Qe[pt]))return 0;for(;0<Qe[pt];--Qe[pt]){if(Fe=new H,(tr&It)!=Bt){for(Pt+=Gt,Dt=1<<(Bt=pt)-Ie;15>Bt&&!(0>=(Dt-=Qe[Bt]));)++Bt,Dt<<=1;xt+=Gt=1<<(Dt=Bt-Ie),we[ke+(Bt=tr&It)].g=Dt+Ie,we[ke+Bt].value=Pt-ke-Bt}Fe.g=pt-Ie,Fe.value=ft[ct++],L(we,Pt+(tr>>Ie),tt,Gt,Fe),tr=D(tr,pt)}}return Zt!=2*it[15]-1?0:xt}(Y,Q,ie,de,me,ve)}function H(){this.value=this.g=0}function V(){this.value=this.g=0}function P(){this.G=a(5,H),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Rn,V)}function F(Y,Q,ie,de){r(Y!=null),r(Q!=null),r(2147483648>de),Y.Ca=254,Y.I=0,Y.b=-8,Y.Ka=0,Y.oa=Q,Y.pa=ie,Y.Jd=Q,Y.Yc=ie+de,Y.Zc=4<=de?ie+de-4+1:ie,O(Y)}function A(Y,Q){for(var ie=0;0<Q--;)ie|=U(Y,128)<<Q;return ie}function _(Y,Q){var ie=A(Y,Q);return ee(Y)?-ie:ie}function S(Y,Q,ie,de){var me,ve=0;for(r(Y!=null),r(Q!=null),r(4294967288>de),Y.Sb=de,Y.Ra=0,Y.u=0,Y.h=0,4<de&&(de=4),me=0;me<de;++me)ve+=Q[ie+me]<<8*me;Y.Ra=ve,Y.bb=de,Y.oa=Q,Y.pa=ie}function N(Y){for(;8<=Y.u&&Y.bb<Y.Sb;)Y.Ra>>>=8,Y.Ra+=Y.oa[Y.pa+Y.bb]<<rc-8>>>0,++Y.bb,Y.u-=8;G(Y)&&(Y.h=1,Y.u=0)}function C(Y,Q){if(r(0<=Q),!Y.h&&Q<=ya){var ie=B(Y)&ki[Q];return Y.u+=Q,N(Y),ie}return Y.h=1,Y.u=0}function W(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function B(Y){return Y.Ra>>>(Y.u&rc-1)>>>0}function G(Y){return r(Y.bb<=Y.Sb),Y.h||Y.bb==Y.Sb&&Y.u>rc}function X(Y,Q){Y.u=Q,Y.h=G(Y)}function J(Y){Y.u>=wo&&(r(Y.u>=wo),N(Y))}function O(Y){r(Y!=null&&Y.oa!=null),Y.pa<Y.Zc?(Y.I=(Y.oa[Y.pa++]|Y.I<<8)>>>0,Y.b+=8):(r(Y!=null&&Y.oa!=null),Y.pa<Y.Yc?(Y.b+=8,Y.I=Y.oa[Y.pa++]|Y.I<<8):Y.Ka?Y.b=0:(Y.I<<=8,Y.b+=8,Y.Ka=1))}function ee(Y){return A(Y,1)}function U(Y,Q){var ie=Y.Ca;0>Y.b&&O(Y);var de=Y.b,me=ie*Q>>>8,ve=(Y.I>>>de>me)+0;for(ve?(ie-=me,Y.I-=me+1<<de>>>0):ie=me+1,de=ie,me=0;256<=de;)me+=8,de>>=8;return de=7^me+vi[de],Y.b-=de,Y.Ca=(ie<<de)-1,ve}function z(Y,Q,ie){Y[Q+0]=ie>>24&255,Y[Q+1]=ie>>16&255,Y[Q+2]=ie>>8&255,Y[Q+3]=ie>>0&255}function Z(Y,Q){return Y[Q+0]<<0|Y[Q+1]<<8}function te(Y,Q){return Z(Y,Q)|Y[Q+2]<<16}function oe(Y,Q){return Z(Y,Q)|Z(Y,Q+2)<<16}function ue(Y,Q){var ie=1<<Q;return r(Y!=null),r(0<Q),Y.X=i(ie),Y.X==null?0:(Y.Mb=32-Q,Y.Xa=Q,1)}function le(Y,Q){r(Y!=null),r(Q!=null),r(Y.Xa==Q.Xa),e(Q.X,0,Y.X,0,1<<Q.Xa)}function ce(){this.X=[],this.Xa=this.Mb=0}function _e(Y,Q,ie,de){r(ie!=null),r(de!=null);var me=ie[0],ve=de[0];return me==0&&(me=(Y*ve+Q/2)/Q),ve==0&&(ve=(Q*me+Y/2)/Y),0>=me||0>=ve?0:(ie[0]=me,de[0]=ve,1)}function fe(Y,Q){return Y+(1<<Q)-1>>>Q}function ge(Y,Q){return((4278255360&Y)+(4278255360&Q)>>>0&4278255360)+((16711935&Y)+(16711935&Q)>>>0&16711935)>>>0}function xe(Y,Q){R[Q]=function(ie,de,me,ve,we,ke,Ie){var Fe;for(Fe=0;Fe<we;++Fe){var tt=R[Y](ke[Ie+Fe-1],me,ve+Fe);ke[Ie+Fe]=ge(ie[de+Fe],tt)}}}function Le(){this.ud=this.hd=this.jd=0}function Me(Y,Q){return((4278124286&(Y^Q))>>>1)+(Y&Q)>>>0}function Oe(Y){return 0<=Y&&256>Y?Y:0>Y?0:255<Y?255:void 0}function ze(Y,Q){return Oe(Y+(Y-Q+.5>>1))}function Ke(Y,Q,ie){return Math.abs(Q-ie)-Math.abs(Y-ie)}function ot(Y,Q,ie,de,me,ve,we){for(de=ve[we-1],ie=0;ie<me;++ie)ve[we+ie]=de=ge(Y[Q+ie],de)}function $e(Y,Q,ie,de,me){var ve;for(ve=0;ve<ie;++ve){var we=Y[Q+ve],ke=we>>8&255,Ie=16711935&(Ie=(Ie=16711935&we)+((ke<<16)+ke));de[me+ve]=(4278255360&we)+Ie>>>0}}function Ve(Y,Q){Q.jd=Y>>0&255,Q.hd=Y>>8&255,Q.ud=Y>>16&255}function He(Y,Q,ie,de,me,ve){var we;for(we=0;we<de;++we){var ke=Q[ie+we],Ie=ke>>>8,Fe=ke,tt=255&(tt=(tt=ke>>>16)+((Y.jd<<24>>24)*(Ie<<24>>24)>>>5));Fe=255&(Fe=(Fe=Fe+((Y.hd<<24>>24)*(Ie<<24>>24)>>>5))+((Y.ud<<24>>24)*(tt<<24>>24)>>>5)),me[ve+we]=(4278255360&ke)+(tt<<16)+Fe}}function rt(Y,Q,ie,de,me){R[Q]=function(ve,we,ke,Ie,Fe,tt,ft,pt,ct){for(Ie=ft;Ie<pt;++Ie)for(ft=0;ft<ct;++ft)Fe[tt++]=me(ke[de(ve[we++])])},R[Y]=function(ve,we,ke,Ie,Fe,tt,ft){var pt=8>>ve.b,ct=ve.Ea,Pt=ve.K[0],xt=ve.w;if(8>pt)for(ve=(1<<ve.b)-1,xt=(1<<pt)-1;we<ke;++we){var Qe,it=0;for(Qe=0;Qe<ct;++Qe)Qe&ve||(it=de(Ie[Fe++])),tt[ft++]=me(Pt[it&xt]),it>>=pt}else R["VP8LMapColor"+ie](Ie,Fe,Pt,xt,tt,ft,we,ke,ct)}}function Je(Y,Q,ie,de,me){for(ie=Q+ie;Q<ie;){var ve=Y[Q++];de[me++]=ve>>16&255,de[me++]=ve>>8&255,de[me++]=ve>>0&255}}function wt(Y,Q,ie,de,me){for(ie=Q+ie;Q<ie;){var ve=Y[Q++];de[me++]=ve>>16&255,de[me++]=ve>>8&255,de[me++]=ve>>0&255,de[me++]=ve>>24&255}}function yt(Y,Q,ie,de,me){for(ie=Q+ie;Q<ie;){var ve=(we=Y[Q++])>>16&240|we>>12&15,we=we>>0&240|we>>28&15;de[me++]=ve,de[me++]=we}}function kt(Y,Q,ie,de,me){for(ie=Q+ie;Q<ie;){var ve=(we=Y[Q++])>>16&248|we>>13&7,we=we>>5&224|we>>3&31;de[me++]=ve,de[me++]=we}}function mt(Y,Q,ie,de,me){for(ie=Q+ie;Q<ie;){var ve=Y[Q++];de[me++]=ve>>0&255,de[me++]=ve>>8&255,de[me++]=ve>>16&255}}function At(Y,Q,ie,de,me,ve){if(ve==0)for(ie=Q+ie;Q<ie;)z(de,((ve=Y[Q++])[0]>>24|ve[1]>>8&65280|ve[2]<<8&16711680|ve[3]<<24)>>>0),me+=32;else e(de,me,Y,Q,ie)}function $t(Y,Q){R[Q][0]=R[Y+"0"],R[Q][1]=R[Y+"1"],R[Q][2]=R[Y+"2"],R[Q][3]=R[Y+"3"],R[Q][4]=R[Y+"4"],R[Q][5]=R[Y+"5"],R[Q][6]=R[Y+"6"],R[Q][7]=R[Y+"7"],R[Q][8]=R[Y+"8"],R[Q][9]=R[Y+"9"],R[Q][10]=R[Y+"10"],R[Q][11]=R[Y+"11"],R[Q][12]=R[Y+"12"],R[Q][13]=R[Y+"13"],R[Q][14]=R[Y+"0"],R[Q][15]=R[Y+"0"]}function Tt(Y){return Y==vg||Y==Oh||Y==pd||Y==ep}function Yt(){this.eb=[],this.size=this.A=this.fb=0}function nr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Xt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Yt,this.f.kb=new nr,this.sd=null}function fr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function rr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function qt(Y){return alert("todo:WebPSamplerProcessPlane"),Y.T}function cr(Y,Q){var ie=Y.T,de=Q.ba.f.RGBA,me=de.eb,ve=de.fb+Y.ka*de.A,we=zi[Q.ba.S],ke=Y.y,Ie=Y.O,Fe=Y.f,tt=Y.N,ft=Y.ea,pt=Y.W,ct=Q.cc,Pt=Q.dc,xt=Q.Mc,Qe=Q.Nc,it=Y.ka,Dt=Y.ka+Y.T,Bt=Y.U,It=Bt+1>>1;for(it==0?we(ke,Ie,null,null,Fe,tt,ft,pt,Fe,tt,ft,pt,me,ve,null,null,Bt):(we(Q.ec,Q.fc,ke,Ie,ct,Pt,xt,Qe,Fe,tt,ft,pt,me,ve-de.A,me,ve,Bt),++ie);it+2<Dt;it+=2)ct=Fe,Pt=tt,xt=ft,Qe=pt,tt+=Y.Rc,pt+=Y.Rc,ve+=2*de.A,we(ke,(Ie+=2*Y.fa)-Y.fa,ke,Ie,ct,Pt,xt,Qe,Fe,tt,ft,pt,me,ve-de.A,me,ve,Bt);return Ie+=Y.fa,Y.j+Dt<Y.o?(e(Q.ec,Q.fc,ke,Ie,Bt),e(Q.cc,Q.dc,Fe,tt,It),e(Q.Mc,Q.Nc,ft,pt,It),ie--):1&Dt||we(ke,Ie,null,null,Fe,tt,ft,pt,Fe,tt,ft,pt,me,ve+de.A,null,null,Bt),ie}function Tr(Y,Q,ie){var de=Y.F,me=[Y.J];if(de!=null){var ve=Y.U,we=Q.ba.S,ke=we==fd||we==pd;Q=Q.ba.f.RGBA;var Ie=[0],Fe=Y.ka;Ie[0]=Y.T,Y.Kb&&(Fe==0?--Ie[0]:(--Fe,me[0]-=Y.width),Y.j+Y.ka+Y.T==Y.o&&(Ie[0]=Y.o-Y.j-Fe));var tt=Q.eb;Fe=Q.fb+Fe*Q.A,Y=Bn(de,me[0],Y.width,ve,Ie,tt,Fe+(ke?0:3),Q.A),r(ie==Ie),Y&&Tt(we)&&Eo(tt,Fe,ke,ve,Ie,Q.A)}return 0}function Qt(Y){var Q=Y.ma,ie=Q.ba.S,de=11>ie,me=ie==Qf||ie==Al||ie==fd||ie==bg||ie==12||Tt(ie);if(Q.memory=null,Q.Ib=null,Q.Jb=null,Q.Nd=null,!ad(Q.Oa,Y,me?11:12))return 0;if(me&&Tt(ie)&&Ut(),Y.da)alert("todo:use_scaling");else{if(de){if(Q.Ib=qt,Y.Kb){if(ie=Y.U+1>>1,Q.memory=i(Y.U+2*ie),Q.memory==null)return 0;Q.ec=Q.memory,Q.fc=0,Q.cc=Q.ec,Q.dc=Q.fc+Y.U,Q.Mc=Q.cc,Q.Nc=Q.dc+ie,Q.Ib=cr,Ut()}}else alert("todo:EmitYUV");me&&(Q.Jb=Tr,de&&ht())}if(de&&!Wy){for(Y=0;256>Y;++Y)I5[Y]=89858*(Y-128)+f0>>h0,j5[Y]=-22014*(Y-128)+f0,P5[Y]=-45773*(Y-128),uc[Y]=113618*(Y-128)+f0>>h0;for(Y=Xo;Y<wg;++Y)Q=76283*(Y-16)+f0>>h0,R5[Y-Xo]=qi(Q,255),M5[Y-Xo]=qi(Q+8>>4,15);Wy=1}return 1}function xr(Y){var Q=Y.ma,ie=Y.U,de=Y.T;return r(!(1&Y.ka)),0>=ie||0>=de?0:(ie=Q.Ib(Y,Q),Q.Jb!=null&&Q.Jb(Y,Q,ie),Q.Dc+=ie,1)}function Rr(Y){Y.ma.memory=null}function Lt(Y,Q,ie,de){return C(Y,8)!=47?0:(Q[0]=C(Y,14)+1,ie[0]=C(Y,14)+1,de[0]=C(Y,1),C(Y,3)!=0?0:!Y.h)}function Sr(Y,Q){if(4>Y)return Y+1;var ie=Y-2>>1;return(2+(1&Y)<<ie)+C(Q,ie)+1}function Nr(Y,Q){return 120<Q?Q-120:1<=(ie=((ie=Wi[Q-1])>>4)*Y+(8-(15&ie)))?ie:1;var ie}function ur(Y,Q,ie){var de=B(ie),me=Y[Q+=255&de].g-8;return 0<me&&(X(ie,ie.u+8),de=B(ie),Q+=Y[Q].value,Q+=de&(1<<me)-1),X(ie,ie.u+Y[Q].g),Y[Q].value}function qe(Y,Q,ie){return ie.g+=Y.g,ie.value+=Y.value<<Q>>>0,r(8>=ie.g),Y.g}function st(Y,Q,ie){var de=Y.xc;return r((Q=de==0?0:Y.vc[Y.md*(ie>>de)+(Q>>de)])<Y.Wb),Y.Ya[Q]}function he(Y,Q,ie,de){var me=Y.ab,ve=Y.c*Q,we=Y.C;Q=we+Q;var ke=ie,Ie=de;for(de=Y.Ta,ie=Y.Ua;0<me--;){var Fe=Y.gc[me],tt=we,ft=Q,pt=ke,ct=Ie,Pt=(Ie=de,ke=ie,Fe.Ea);switch(r(tt<ft),r(ft<=Fe.nc),Fe.hc){case 2:nc(pt,ct,(ft-tt)*Pt,Ie,ke);break;case 0:var xt=tt,Qe=ft,it=Ie,Dt=ke,Bt=(Gt=Fe).Ea;xt==0&&(ld(pt,ct,null,null,1,it,Dt),ot(pt,ct+1,0,0,Bt-1,it,Dt+1),ct+=Bt,Dt+=Bt,++xt);for(var It=1<<Gt.b,tr=It-1,Zt=fe(Bt,Gt.b),mr=Gt.K,Gt=Gt.w+(xt>>Gt.b)*Zt;xt<Qe;){var Cn=mr,Mn=Gt,mn=1;for(na(pt,ct,it,Dt-Bt,1,it,Dt);mn<Bt;){var Jr=(mn&~tr)+It;Jr>Bt&&(Jr=Bt),(0,yi[Cn[Mn++]>>8&15])(pt,ct+ +mn,it,Dt+mn-Bt,Jr-mn,it,Dt+mn),mn=Jr}ct+=Bt,Dt+=Bt,++xt&tr||(Gt+=Zt)}ft!=Fe.nc&&e(Ie,ke-Pt,Ie,ke+(ft-tt-1)*Pt,Pt);break;case 1:for(Pt=pt,Qe=ct,Bt=(pt=Fe.Ea)-(Dt=pt&~(it=(ct=1<<Fe.b)-1)),xt=fe(pt,Fe.b),It=Fe.K,Fe=Fe.w+(tt>>Fe.b)*xt;tt<ft;){for(tr=It,Zt=Fe,mr=new Le,Gt=Qe+Dt,Cn=Qe+pt;Qe<Gt;)Ve(tr[Zt++],mr),nu(mr,Pt,Qe,ct,Ie,ke),Qe+=ct,ke+=ct;Qe<Cn&&(Ve(tr[Zt++],mr),nu(mr,Pt,Qe,Bt,Ie,ke),Qe+=Bt,ke+=Bt),++tt&it||(Fe+=xt)}break;case 3:if(pt==Ie&&ct==ke&&0<Fe.b){for(Qe=Ie,pt=Pt=ke+(ft-tt)*Pt-(Dt=(ft-tt)*fe(Fe.Ea,Fe.b)),ct=Ie,it=ke,xt=[],Dt=(Bt=Dt)-1;0<=Dt;--Dt)xt[Dt]=ct[it+Dt];for(Dt=Bt-1;0<=Dt;--Dt)Qe[pt+Dt]=xt[Dt];_o(Fe,tt,ft,Ie,Pt,Ie,ke)}else _o(Fe,tt,ft,pt,ct,Ie,ke)}ke=de,Ie=ie}Ie!=ie&&e(de,ie,ke,Ie,ve)}function Ee(Y,Q){var ie=Y.V,de=Y.Ba+Y.c*Y.C,me=Q-Y.C;if(r(Q<=Y.l.o),r(16>=me),0<me){var ve=Y.l,we=Y.Ta,ke=Y.Ua,Ie=ve.width;if(he(Y,me,ie,de),me=ke=[ke],r((ie=Y.C)<(de=Q)),r(ve.v<ve.va),de>ve.o&&(de=ve.o),ie<ve.j){var Fe=ve.j-ie;ie=ve.j,me[0]+=Fe*Ie}if(ie>=de?ie=0:(me[0]+=4*ve.v,ve.ka=ie-ve.j,ve.U=ve.va-ve.v,ve.T=de-ie,ie=1),ie){if(ke=ke[0],11>(ie=Y.ca).S){var tt=ie.f.RGBA,ft=(de=ie.S,me=ve.U,ve=ve.T,Fe=tt.eb,tt.A),pt=ve;for(tt=tt.fb+Y.Ma*tt.A;0<pt--;){var ct=we,Pt=ke,xt=me,Qe=Fe,it=tt;switch(de){case hd:xa(ct,Pt,xt,Qe,it);break;case Qf:sa(ct,Pt,xt,Qe,it);break;case vg:sa(ct,Pt,xt,Qe,it),Eo(Qe,it,0,xt,1,0);break;case Lh:ac(ct,Pt,xt,Qe,it);break;case Al:At(ct,Pt,xt,Qe,it,1);break;case Oh:At(ct,Pt,xt,Qe,it,1),Eo(Qe,it,0,xt,1,0);break;case fd:At(ct,Pt,xt,Qe,it,0);break;case pd:At(ct,Pt,xt,Qe,it,0),Eo(Qe,it,1,xt,1,0);break;case bg:su(ct,Pt,xt,Qe,it);break;case ep:su(ct,Pt,xt,Qe,it),Yn(Qe,it,xt,1,0);break;case Oy:ic(ct,Pt,xt,Qe,it);break;default:r(0)}ke+=Ie,tt+=ft}Y.Ma+=ve}else alert("todo:EmitRescaledRowsYUVA");r(Y.Ma<=ie.height)}}Y.C=Q,r(Y.C<=Y.i)}function Se(Y){var Q;if(0<Y.ua)return 0;for(Q=0;Q<Y.Wb;++Q){var ie=Y.Ya[Q].G,de=Y.Ya[Q].H;if(0<ie[1][de[1]+0].g||0<ie[2][de[2]+0].g||0<ie[3][de[3]+0].g)return 0}return 1}function ye(Y,Q,ie,de,me,ve){if(Y.Z!=0){var we=Y.qd,ke=Y.rd;for(r(Yo[Y.Z]!=null);Q<ie;++Q)Yo[Y.Z](we,ke,de,me,de,me,ve),we=de,ke=me,me+=ve;Y.qd=we,Y.rd=ke}}function Pe(Y,Q){var ie=Y.l.ma,de=ie.Z==0||ie.Z==1?Y.l.j:Y.C;if(de=Y.C<de?de:Y.C,r(Q<=Y.l.o),Q>de){var me=Y.l.width,ve=ie.ca,we=ie.tb+me*de,ke=Y.V,Ie=Y.Ba+Y.c*de,Fe=Y.gc;r(Y.ab==1),r(Fe[0].hc==3),l0(Fe[0],de,Q,ke,Ie,ve,we),ye(ie,de,Q,ve,we,me)}Y.C=Y.Ma=Q}function je(Y,Q,ie,de,me,ve,we){var ke=Y.$/de,Ie=Y.$%de,Fe=Y.m,tt=Y.s,ft=ie+Y.$,pt=ft;me=ie+de*me;var ct=ie+de*ve,Pt=280+tt.ua,xt=Y.Pb?ke:16777216,Qe=0<tt.ua?tt.Wa:null,it=tt.wc,Dt=ft<ct?st(tt,Ie,ke):null;r(Y.C<ve),r(ct<=me);var Bt=!1;e:for(;;){for(;Bt||ft<ct;){var It=0;if(ke>=xt){var tr=ft-ie;r((xt=Y).Pb),xt.wd=xt.m,xt.xd=tr,0<xt.s.ua&&le(xt.s.Wa,xt.s.vb),xt=ke+k5}if(Ie&it||(Dt=st(tt,Ie,ke)),r(Dt!=null),Dt.Qb&&(Q[ft]=Dt.qb,Bt=!0),!Bt)if(J(Fe),Dt.jc){It=Fe,tr=Q;var Zt=ft,mr=Dt.pd[B(It)&Rn-1];r(Dt.jc),256>mr.g?(X(It,It.u+mr.g),tr[Zt]=mr.value,It=0):(X(It,It.u+mr.g-256),r(256<=mr.value),It=mr.value),It==0&&(Bt=!0)}else It=ur(Dt.G[0],Dt.H[0],Fe);if(Fe.h)break;if(Bt||256>It){if(!Bt)if(Dt.nd)Q[ft]=(Dt.qb|It<<8)>>>0;else{if(J(Fe),Bt=ur(Dt.G[1],Dt.H[1],Fe),J(Fe),tr=ur(Dt.G[2],Dt.H[2],Fe),Zt=ur(Dt.G[3],Dt.H[3],Fe),Fe.h)break;Q[ft]=(Zt<<24|Bt<<16|It<<8|tr)>>>0}if(Bt=!1,++ft,++Ie>=de&&(Ie=0,++ke,we!=null&&ke<=ve&&!(ke%16)&&we(Y,ke),Qe!=null))for(;pt<ft;)It=Q[pt++],Qe.X[(506832829*It&4294967295)>>>Qe.Mb]=It}else if(280>It){if(It=Sr(It-256,Fe),tr=ur(Dt.G[4],Dt.H[4],Fe),J(Fe),tr=Nr(de,tr=Sr(tr,Fe)),Fe.h)break;if(ft-ie<tr||me-ft<It)break e;for(Zt=0;Zt<It;++Zt)Q[ft+Zt]=Q[ft+Zt-tr];for(ft+=It,Ie+=It;Ie>=de;)Ie-=de,++ke,we!=null&&ke<=ve&&!(ke%16)&&we(Y,ke);if(r(ft<=me),Ie&it&&(Dt=st(tt,Ie,ke)),Qe!=null)for(;pt<ft;)It=Q[pt++],Qe.X[(506832829*It&4294967295)>>>Qe.Mb]=It}else{if(!(It<Pt))break e;for(Bt=It-280,r(Qe!=null);pt<ft;)It=Q[pt++],Qe.X[(506832829*It&4294967295)>>>Qe.Mb]=It;It=ft,r(!(Bt>>>(tr=Qe).Xa)),Q[It]=tr.X[Bt],Bt=!0}Bt||r(Fe.h==G(Fe))}if(Y.Pb&&Fe.h&&ft<me)r(Y.m.h),Y.a=5,Y.m=Y.wd,Y.$=Y.xd,0<Y.s.ua&&le(Y.s.vb,Y.s.Wa);else{if(Fe.h)break e;we!=null&&we(Y,ke>ve?ve:ke),Y.a=0,Y.$=ft-ie}return 1}return Y.a=3,0}function Ge(Y){r(Y!=null),Y.vc=null,Y.yc=null,Y.Ya=null;var Q=Y.Wa;Q!=null&&(Q.X=null),Y.vb=null,r(Y!=null)}function lt(){var Y=new xo;return Y==null?null:(Y.a=0,Y.xb=Uy,$t("Predictor","VP8LPredictors"),$t("Predictor","VP8LPredictors_C"),$t("PredictorAdd","VP8LPredictorsAdd"),$t("PredictorAdd","VP8LPredictorsAdd_C"),nc=$e,nu=He,xa=Je,sa=wt,su=yt,ic=kt,ac=mt,R.VP8LMapColor32b=Rh,R.VP8LMapColor8b=sc,Y)}function Xe(Y,Q,ie,de,me){var ve=1,we=[Y],ke=[Q],Ie=de.m,Fe=de.s,tt=null,ft=0;e:for(;;){if(ie)for(;ve&&C(Ie,1);){var pt=we,ct=ke,Pt=de,xt=1,Qe=Pt.m,it=Pt.gc[Pt.ab],Dt=C(Qe,2);if(Pt.Oc&1<<Dt)ve=0;else{switch(Pt.Oc|=1<<Dt,it.hc=Dt,it.Ea=pt[0],it.nc=ct[0],it.K=[null],++Pt.ab,r(4>=Pt.ab),Dt){case 0:case 1:it.b=C(Qe,3)+2,xt=Xe(fe(it.Ea,it.b),fe(it.nc,it.b),0,Pt,it.K),it.K=it.K[0];break;case 3:var Bt,It=C(Qe,8)+1,tr=16<It?0:4<It?1:2<It?2:3;if(pt[0]=fe(it.Ea,tr),it.b=tr,Bt=xt=Xe(It,1,0,Pt,it.K)){var Zt,mr=It,Gt=it,Cn=1<<(8>>Gt.b),Mn=i(Cn);if(Mn==null)Bt=0;else{var mn=Gt.K[0],Jr=Gt.w;for(Mn[0]=Gt.K[0][0],Zt=1;Zt<1*mr;++Zt)Mn[Zt]=ge(mn[Jr+Zt],Mn[Zt-1]);for(;Zt<4*Cn;++Zt)Mn[Zt]=0;Gt.K[0]=null,Gt.K[0]=Mn,Bt=1}}xt=Bt;break;case 2:break;default:r(0)}ve=xt}}if(we=we[0],ke=ke[0],ve&&C(Ie,1)&&!(ve=1<=(ft=C(Ie,4))&&11>=ft)){de.a=3;break e}var gn;if(gn=ve)t:{var Un,$r,ys,_a=de,Rs=we,Ln=ke,Tn=ft,Sa=ie,ks=_a.m,qs=_a.s,Ws=[null],Ms=1,eo=0,ps=A5[Tn];r:for(;;){if(Sa&&C(ks,1)){var zs=C(ks,3)+2,dc=fe(Rs,zs),vd=fe(Ln,zs),Bh=dc*vd;if(!Xe(dc,vd,0,_a,Ws))break r;for(Ws=Ws[0],qs.xc=zs,Un=0;Un<Bh;++Un){var kl=Ws[Un]>>8&65535;Ws[Un]=kl,kl>=Ms&&(Ms=kl+1)}}if(ks.h)break r;for($r=0;5>$r;++$r){var Cs=By[$r];!$r&&0<Tn&&(Cs+=1<<Tn),eo<Cs&&(eo=Cs)}var yd=a(Ms*ps,H),_g=Ms,$y=a(_g,P);if($y==null)var p0=null;else r(65536>=_g),p0=$y;var hc=i(eo);if(p0==null||hc==null||yd==null){_a.a=1;break r}var m0=yd;for(Un=ys=0;Un<Ms;++Un){var Ko=p0[Un],lu=Ko.G,xd=Ko.H,Gy=0,g0=1,Yy=0;for($r=0;5>$r;++$r){Cs=By[$r],lu[$r]=m0,xd[$r]=ys,!$r&&0<Tn&&(Cs+=1<<Tn);s:{var ip,ap=Cs,b0=_a,wd=hc,Xy=m0,Ky=ys,v0=0,Jo=b0.m,F5=C(Jo,1);if(s(wd,0,0,ap),F5){var Jy=C(Jo,1)+1,Zy=C(Jo,1),Qy=C(Jo,Zy==0?1:8);wd[Qy]=1,Jy==2&&(wd[Qy=C(Jo,8)]=1);var op=1}else{var e2=i(19),y0=C(Jo,4)+4;if(19<y0){b0.a=3;var lp=0;break s}for(ip=0;ip<y0;++ip)e2[ti[ip]]=C(Jo,3);var cp=void 0,up=void 0,x0=b0,Qr=e2,w0=ap,t2=wd,_d=0,fc=x0.m,r2=8,n2=a(128,H);n:for(;M(n2,0,7,Qr,19);){if(C(fc,1)){var Ao=2+2*C(fc,3);if((cp=2+C(fc,Ao))>w0)break n}else cp=w0;for(up=0;up<w0&&cp--;){J(fc);var s2=n2[0+(127&B(fc))];X(fc,fc.u+s2.g);var pc=s2.value;if(16>pc)t2[up++]=pc,pc!=0&&(r2=pc);else{var Sg=pc==16,Eg=pc-16,i2=Fy[Eg],Ea=C(fc,E5[Eg])+i2;if(up+Ea>w0)break n;for(var cu=Sg?r2:0;0<Ea--;)t2[up++]=cu}}_d=1;break n}_d||(x0.a=3),op=_d}(op=op&&!Jo.h)&&(v0=M(Xy,Ky,8,wd,ap)),op&&v0!=0?lp=v0:(b0.a=3,lp=0)}if(lp==0)break r;if(g0&&N5[$r]==1&&(g0=m0[ys].g==0),Gy+=m0[ys].g,ys+=lp,3>=$r){var Sd,_0=hc[0];for(Sd=1;Sd<Cs;++Sd)hc[Sd]>_0&&(_0=hc[Sd]);Yy+=_0}}if(Ko.nd=g0,Ko.Qb=0,g0&&(Ko.qb=(lu[3][xd[3]+0].value<<24|lu[1][xd[1]+0].value<<16|lu[2][xd[2]+0].value)>>>0,Gy==0&&256>lu[0][xd[0]+0].value&&(Ko.Qb=1,Ko.qb+=lu[0][xd[0]+0].value<<8)),Ko.jc=!Ko.Qb&&6>Yy,Ko.jc){var Ed,Cl=Ko;for(Ed=0;Ed<Rn;++Ed){var Tl=Ed,mc=Cl.pd[Tl],Uh=Cl.G[0][Cl.H[0]+Tl];256<=Uh.value?(mc.g=Uh.g+256,mc.value=Uh.value):(mc.g=0,mc.value=0,Tl>>=qe(Uh,8,mc),Tl>>=qe(Cl.G[1][Cl.H[1]+Tl],16,mc),Tl>>=qe(Cl.G[2][Cl.H[2]+Tl],0,mc),qe(Cl.G[3][Cl.H[3]+Tl],24,mc))}}}qs.vc=Ws,qs.Wb=Ms,qs.Ya=p0,qs.yc=yd,gn=1;break t}gn=0}if(!(ve=gn)){de.a=3;break e}if(0<ft){if(Fe.ua=1<<ft,!ue(Fe.Wa,ft)){de.a=1,ve=0;break e}}else Fe.ua=0;var dp=de,gc=we,B5=ke,Dl=dp.s,S0=Dl.xc;if(dp.c=gc,dp.i=B5,Dl.md=fe(gc,S0),Dl.wc=S0==0?-1:(1<<S0)-1,ie){de.xb=C5;break e}if((tt=i(we*ke))==null){de.a=1,ve=0;break e}ve=(ve=je(de,tt,0,we,ke,ke,null))&&!Ie.h;break e}return ve?(me!=null?me[0]=tt:(r(tt==null),r(ie)),de.$=0,ie||Ge(Fe)):Ge(Fe),ve}function nt(Y,Q){var ie=Y.c*Y.i,de=ie+Q+16*Q;return r(Y.c<=Q),Y.V=i(de),Y.V==null?(Y.Ta=null,Y.Ua=0,Y.a=1,0):(Y.Ta=Y.V,Y.Ua=Y.Ba+ie+Q,1)}function ut(Y,Q){var ie=Y.C,de=Q-ie,me=Y.V,ve=Y.Ba+Y.c*ie;for(r(Q<=Y.l.o);0<de;){var we=16<de?16:de,ke=Y.l.ma,Ie=Y.l.width,Fe=Ie*we,tt=ke.ca,ft=ke.tb+Ie*ie,pt=Y.Ta,ct=Y.Ua;he(Y,we,me,ve),js(pt,ct,tt,ft,Fe),ye(ke,ie,ie+we,tt,ft,Ie),de-=we,me+=we*Y.c,ie+=we}r(ie==Q),Y.C=Y.Ma=Q}function Nt(){this.ub=this.yd=this.td=this.Rb=0}function Ft(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function zt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Rt(){this.Yb=function(){var Y=[];return function Q(ie,de,me){for(var ve=me[de],we=0;we<ve&&(ie.push(me.length>de+1?[]:0),!(me.length<de+1));we++)Q(ie[we],de+1,me)}(Y,0,[3,11]),Y}()}function Ae(){this.jb=i(3),this.Wc=o([4,8],Rt),this.Xc=o([4,17],Rt)}function Ye(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function gt(){this.ld=this.La=this.dd=this.tc=0}function Et(){this.Na=this.la=0}function Kt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ht(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Vt(){this.uc=this.M=this.Nb=0,this.wa=Array(new gt),this.Y=0,this.ya=Array(new Ht),this.aa=0,this.l=new Ar}function Dr(){this.y=i(16),this.f=i(8),this.ea=i(8)}function wr(){this.cb=this.a=0,this.sc="",this.m=new W,this.Od=new Nt,this.Kc=new Ft,this.ed=new Ye,this.Qa=new zt,this.Ic=this.$c=this.Aa=0,this.D=new Vt,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,W),this.ia=0,this.pb=a(4,Kt),this.Pa=new Ae,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Dr),this.Hd=0,this.rb=Array(new Et),this.sb=0,this.wa=Array(new gt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ht),this.L=this.aa=0,this.gd=o([4,2],gt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ar(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function lr(){var Y=new wr;return Y!=null&&(Y.a=0,Y.sc="OK",Y.cb=0,Y.Xb=0,md||(md=An)),Y}function Er(Y,Q,ie){return Y.a==0&&(Y.a=Q,Y.sc=ie,Y.cb=0),0}function nn(Y,Q,ie){return 3<=ie&&Y[Q+0]==157&&Y[Q+1]==1&&Y[Q+2]==42}function sn(Y,Q){if(Y==null)return 0;if(Y.a=0,Y.sc="OK",Q==null)return Er(Y,2,"null VP8Io passed to VP8GetHeaders()");var ie=Q.data,de=Q.w,me=Q.ha;if(4>me)return Er(Y,7,"Truncated header.");var ve=ie[de+0]|ie[de+1]<<8|ie[de+2]<<16,we=Y.Od;if(we.Rb=!(1&ve),we.td=ve>>1&7,we.yd=ve>>4&1,we.ub=ve>>5,3<we.td)return Er(Y,3,"Incorrect keyframe parameters.");if(!we.yd)return Er(Y,4,"Frame not displayable.");de+=3,me-=3;var ke=Y.Kc;if(we.Rb){if(7>me)return Er(Y,7,"cannot parse picture header");if(!nn(ie,de,me))return Er(Y,3,"Bad code word");ke.c=16383&(ie[de+4]<<8|ie[de+3]),ke.Td=ie[de+4]>>6,ke.i=16383&(ie[de+6]<<8|ie[de+5]),ke.Ud=ie[de+6]>>6,de+=7,me-=7,Y.za=ke.c+15>>4,Y.Ub=ke.i+15>>4,Q.width=ke.c,Q.height=ke.i,Q.Da=0,Q.j=0,Q.v=0,Q.va=Q.width,Q.o=Q.height,Q.da=0,Q.ib=Q.width,Q.hb=Q.height,Q.U=Q.width,Q.T=Q.height,s((ve=Y.Pa).jb,0,255,ve.jb.length),r((ve=Y.Qa)!=null),ve.Cb=0,ve.Bb=0,ve.Fb=1,s(ve.Zb,0,0,ve.Zb.length),s(ve.Lb,0,0,ve.Lb)}if(we.ub>me)return Er(Y,7,"bad partition length");F(ve=Y.m,ie,de,we.ub),de+=we.ub,me-=we.ub,we.Rb&&(ke.Ld=ee(ve),ke.Kd=ee(ve)),ke=Y.Qa;var Ie,Fe=Y.Pa;if(r(ve!=null),r(ke!=null),ke.Cb=ee(ve),ke.Cb){if(ke.Bb=ee(ve),ee(ve)){for(ke.Fb=ee(ve),Ie=0;4>Ie;++Ie)ke.Zb[Ie]=ee(ve)?_(ve,7):0;for(Ie=0;4>Ie;++Ie)ke.Lb[Ie]=ee(ve)?_(ve,6):0}if(ke.Bb)for(Ie=0;3>Ie;++Ie)Fe.jb[Ie]=ee(ve)?A(ve,8):255}else ke.Bb=0;if(ve.Ka)return Er(Y,3,"cannot parse segment header");if((ke=Y.ed).zd=ee(ve),ke.Tb=A(ve,6),ke.wb=A(ve,3),ke.Pc=ee(ve),ke.Pc&&ee(ve)){for(Fe=0;4>Fe;++Fe)ee(ve)&&(ke.vd[Fe]=_(ve,6));for(Fe=0;4>Fe;++Fe)ee(ve)&&(ke.od[Fe]=_(ve,6))}if(Y.L=ke.Tb==0?0:ke.zd?1:2,ve.Ka)return Er(Y,3,"cannot parse filter header");var tt=me;if(me=Ie=de,de=Ie+tt,ke=tt,Y.Xb=(1<<A(Y.m,2))-1,tt<3*(Fe=Y.Xb))ie=7;else{for(Ie+=3*Fe,ke-=3*Fe,tt=0;tt<Fe;++tt){var ft=ie[me+0]|ie[me+1]<<8|ie[me+2]<<16;ft>ke&&(ft=ke),F(Y.Jc[+tt],ie,Ie,ft),Ie+=ft,ke-=ft,me+=3}F(Y.Jc[+Fe],ie,Ie,ke),ie=Ie<de?0:5}if(ie!=0)return Er(Y,ie,"cannot parse partitions");for(ie=A(Ie=Y.m,7),me=ee(Ie)?_(Ie,4):0,de=ee(Ie)?_(Ie,4):0,ke=ee(Ie)?_(Ie,4):0,Fe=ee(Ie)?_(Ie,4):0,Ie=ee(Ie)?_(Ie,4):0,tt=Y.Qa,ft=0;4>ft;++ft){if(tt.Cb){var pt=tt.Zb[ft];tt.Fb||(pt+=ie)}else{if(0<ft){Y.pb[ft]=Y.pb[0];continue}pt=ie}var ct=Y.pb[ft];ct.Sc[0]=u0[qi(pt+me,127)],ct.Sc[1]=yg[qi(pt+0,127)],ct.Eb[0]=2*u0[qi(pt+de,127)],ct.Eb[1]=101581*yg[qi(pt+ke,127)]>>16,8>ct.Eb[1]&&(ct.Eb[1]=8),ct.Qc[0]=u0[qi(pt+Fe,117)],ct.Qc[1]=yg[qi(pt+Ie,127)],ct.lc=pt+Ie}if(!we.Rb)return Er(Y,4,"Not a key frame.");for(ee(ve),we=Y.Pa,ie=0;4>ie;++ie){for(me=0;8>me;++me)for(de=0;3>de;++de)for(ke=0;11>ke;++ke)Fe=U(ve,d0[ie][me][de][ke])?A(ve,8):rp[ie][me][de][ke],we.Wc[ie][me].Yb[de][ke]=Fe;for(me=0;17>me;++me)we.Xc[ie][me]=we.Wc[ie][Fh[me]]}return Y.kc=ee(ve),Y.kc&&(Y.Bd=A(ve,8)),Y.cb=1}function An(Y,Q,ie,de,me,ve,we){var ke=Q[me].Yb[ie];for(ie=0;16>me;++me){if(!U(Y,ke[ie+0]))return me;for(;!U(Y,ke[ie+1]);)if(ke=Q[++me].Yb[0],ie=0,me==16)return 16;var Ie=Q[me+1].Yb;if(U(Y,ke[ie+2])){var Fe=Y,tt=0;if(U(Fe,(pt=ke)[(ft=ie)+3]))if(U(Fe,pt[ft+6])){for(ke=0,ft=2*(tt=U(Fe,pt[ft+8]))+(pt=U(Fe,pt[ft+9+tt])),tt=0,pt=tp[ft];pt[ke];++ke)tt+=tt+U(Fe,pt[ke]);tt+=3+(8<<ft)}else U(Fe,pt[ft+7])?(tt=7+2*U(Fe,165),tt+=U(Fe,145)):tt=5+U(Fe,159);else tt=U(Fe,pt[ft+4])?3+U(Fe,pt[ft+5]):2;ke=Ie[2]}else tt=1,ke=Ie[1];Ie=we+xg[me],0>(Fe=Y).b&&O(Fe);var ft,pt=Fe.b,ct=(ft=Fe.Ca>>1)-(Fe.I>>pt)>>31;--Fe.b,Fe.Ca+=ct,Fe.Ca|=1,Fe.I-=(ft+1&ct)<<pt,ve[Ie]=((tt^ct)-ct)*de[(0<me)+0]}return 16}function Wn(Y){var Q=Y.rb[Y.sb-1];Q.la=0,Q.Na=0,s(Y.zc,0,0,Y.zc.length),Y.ja=0}function Is(Y,Q){if(Y==null)return 0;if(Q==null)return Er(Y,2,"NULL VP8Io parameter in VP8Decode().");if(!Y.cb&&!sn(Y,Q))return 0;if(r(Y.cb),Q.ac==null||Q.ac(Q)){Q.ob&&(Y.L=0);var ie=No[Y.L];if(Y.L==2?(Y.yb=0,Y.zb=0):(Y.yb=Q.v-ie>>4,Y.zb=Q.j-ie>>4,0>Y.yb&&(Y.yb=0),0>Y.zb&&(Y.zb=0)),Y.Va=Q.o+15+ie>>4,Y.Hb=Q.va+15+ie>>4,Y.Hb>Y.za&&(Y.Hb=Y.za),Y.Va>Y.Ub&&(Y.Va=Y.Ub),0<Y.L){var de=Y.ed;for(ie=0;4>ie;++ie){var me;if(Y.Qa.Cb){var ve=Y.Qa.Lb[ie];Y.Qa.Fb||(ve+=de.Tb)}else ve=de.Tb;for(me=0;1>=me;++me){var we=Y.gd[ie][me],ke=ve;if(de.Pc&&(ke+=de.vd[0],me&&(ke+=de.od[0])),0<(ke=0>ke?0:63<ke?63:ke)){var Ie=ke;0<de.wb&&(Ie=4<de.wb?Ie>>2:Ie>>1)>9-de.wb&&(Ie=9-de.wb),1>Ie&&(Ie=1),we.dd=Ie,we.tc=2*ke+Ie,we.ld=40<=ke?2:15<=ke?1:0}else we.tc=0;we.La=me}}}ie=0}else Er(Y,6,"Frame setup failed"),ie=Y.a;if(ie=ie==0){if(ie){Y.$c=0,0<Y.Aa||(Y.Ic=O5);e:{ie=Y.Ic,de=4*(Ie=Y.za);var Fe=32*Ie,tt=Ie+1,ft=0<Y.L?Ie*(0<Y.Aa?2:1):0,pt=(Y.Aa==2?2:1)*Ie;if((we=de+832+(me=3*(16*ie+No[Y.L])/2*Fe)+(ve=Y.Fa!=null&&0<Y.Fa.length?Y.Kc.c*Y.Kc.i:0))!=we)ie=0;else{if(we>Y.Vb){if(Y.Vb=0,Y.Ec=i(we),Y.Fc=0,Y.Ec==null){ie=Er(Y,1,"no memory during frame initialization.");break e}Y.Vb=we}we=Y.Ec,ke=Y.Fc,Y.Ac=we,Y.Bc=ke,ke+=de,Y.Gd=a(Fe,Dr),Y.Hd=0,Y.rb=a(tt+1,Et),Y.sb=1,Y.wa=ft?a(ft,gt):null,Y.Y=0,Y.D.Nb=0,Y.D.wa=Y.wa,Y.D.Y=Y.Y,0<Y.Aa&&(Y.D.Y+=Ie),r(!0),Y.oc=we,Y.pc=ke,ke+=832,Y.ya=a(pt,Ht),Y.aa=0,Y.D.ya=Y.ya,Y.D.aa=Y.aa,Y.Aa==2&&(Y.D.aa+=Ie),Y.R=16*Ie,Y.B=8*Ie,Ie=(Fe=No[Y.L])*Y.R,Fe=Fe/2*Y.B,Y.sa=we,Y.ta=ke+Ie,Y.qa=Y.sa,Y.ra=Y.ta+16*ie*Y.R+Fe,Y.Ha=Y.qa,Y.Ia=Y.ra+8*ie*Y.B+Fe,Y.$c=0,ke+=me,Y.mb=ve?we:null,Y.nb=ve?ke:null,r(ke+ve<=Y.Fc+Y.Vb),Wn(Y),s(Y.Ac,Y.Bc,0,de),ie=1}}if(ie){if(Q.ka=0,Q.y=Y.sa,Q.O=Y.ta,Q.f=Y.qa,Q.N=Y.ra,Q.ea=Y.Ha,Q.Vd=Y.Ia,Q.fa=Y.R,Q.Rc=Y.B,Q.F=null,Q.J=0,!ud){for(ie=-255;255>=ie;++ie)ei[255+ie]=0>ie?-ie:ie;for(ie=-1020;1020>=ie;++ie)lc[1020+ie]=-128>ie?-128:127<ie?127:ie;for(ie=-112;112>=ie;++ie)au[112+ie]=-16>ie?-16:15<ie?15:ie;for(ie=-255;510>=ie;++ie)Ja[255+ie]=0>ie?0:255<ie?255:ie;ud=1}Vo=vo,at=an,bt=zr,Jt=Qi,_r=ea,vt=va,ln=mi,As=El,kn=jh,oc=Jc,cd=Ph,Qs=Ql,Nl=Zc,Mh=gi,So=Ih,$o=zn,iu=Xa,Kr=Sl,Go[0]=Ni,Go[1]=Hs,Go[2]=Jl,Go[3]=wl,Go[4]=kh,Go[5]=_l,Go[6]=Ch,Go[7]=ed,Go[8]=Kf,Go[9]=Xf,ou[0]=xl,ou[1]=yo,ou[2]=Ui,ou[3]=Hi,ou[4]=hs,ou[5]=Kl,ou[6]=Uo,cc[0]=dn,cc[1]=ta,cc[2]=Jf,cc[3]=td,cc[4]=Zl,cc[5]=Zf,cc[6]=rd,ie=1}else ie=0}ie&&(ie=function(ct,Pt){for(ct.M=0;ct.M<ct.Va;++ct.M){var xt,Qe=ct.Jc[ct.M&ct.Xb],it=ct.m,Dt=ct;for(xt=0;xt<Dt.za;++xt){var Bt=it,It=Dt,tr=It.Ac,Zt=It.Bc+4*xt,mr=It.zc,Gt=It.ya[It.aa+xt];if(It.Qa.Bb?Gt.$b=U(Bt,It.Pa.jb[0])?2+U(Bt,It.Pa.jb[2]):U(Bt,It.Pa.jb[1]):Gt.$b=0,It.kc&&(Gt.Ad=U(Bt,It.Bd)),Gt.Za=!U(Bt,145)+0,Gt.Za){var Cn=Gt.Ob,Mn=0;for(It=0;4>It;++It){var mn,Jr=mr[0+It];for(mn=0;4>mn;++mn){Jr=np[tr[Zt+mn]][Jr];for(var gn=gd[U(Bt,Jr[0])];0<gn;)gn=gd[2*gn+U(Bt,Jr[gn])];Jr=-gn,tr[Zt+mn]=Jr}e(Cn,Mn,tr,Zt,4),Mn+=4,mr[0+It]=Jr}}else Jr=U(Bt,156)?U(Bt,128)?1:3:U(Bt,163)?2:0,Gt.Ob[0]=Jr,s(tr,Zt,Jr,4),s(mr,0,Jr,4);Gt.Dd=U(Bt,142)?U(Bt,114)?U(Bt,183)?1:3:2:0}if(Dt.m.Ka)return Er(ct,7,"Premature end-of-partition0 encountered.");for(;ct.ja<ct.za;++ct.ja){if(Dt=Qe,Bt=(it=ct).rb[it.sb-1],tr=it.rb[it.sb+it.ja],xt=it.ya[it.aa+it.ja],Zt=it.kc?xt.Ad:0)Bt.la=tr.la=0,xt.Za||(Bt.Na=tr.Na=0),xt.Hc=0,xt.Gc=0,xt.ia=0;else{var Un,$r;if(Bt=tr,tr=Dt,Zt=it.Pa.Xc,mr=it.ya[it.aa+it.ja],Gt=it.pb[mr.$b],It=mr.ad,Cn=0,Mn=it.rb[it.sb-1],Jr=mn=0,s(It,Cn,0,384),mr.Za)var ys=0,_a=Zt[3];else{gn=i(16);var Rs=Bt.Na+Mn.Na;if(Rs=md(tr,Zt[1],Rs,Gt.Eb,0,gn,0),Bt.Na=Mn.Na=(0<Rs)+0,1<Rs)Vo(gn,0,It,Cn);else{var Ln=gn[0]+3>>3;for(gn=0;256>gn;gn+=16)It[Cn+gn]=Ln}ys=1,_a=Zt[0]}var Tn=15&Bt.la,Sa=15&Mn.la;for(gn=0;4>gn;++gn){var ks=1&Sa;for(Ln=$r=0;4>Ln;++Ln)Tn=Tn>>1|(ks=(Rs=md(tr,_a,Rs=ks+(1&Tn),Gt.Sc,ys,It,Cn))>ys)<<7,$r=$r<<2|(3<Rs?3:1<Rs?2:It[Cn+0]!=0),Cn+=16;Tn>>=4,Sa=Sa>>1|ks<<7,mn=(mn<<8|$r)>>>0}for(_a=Tn,ys=Sa>>4,Un=0;4>Un;Un+=2){for($r=0,Tn=Bt.la>>4+Un,Sa=Mn.la>>4+Un,gn=0;2>gn;++gn){for(ks=1&Sa,Ln=0;2>Ln;++Ln)Rs=ks+(1&Tn),Tn=Tn>>1|(ks=0<(Rs=md(tr,Zt[2],Rs,Gt.Qc,0,It,Cn)))<<3,$r=$r<<2|(3<Rs?3:1<Rs?2:It[Cn+0]!=0),Cn+=16;Tn>>=2,Sa=Sa>>1|ks<<5}Jr|=$r<<4*Un,_a|=Tn<<4<<Un,ys|=(240&Sa)<<Un}Bt.la=_a,Mn.la=ys,mr.Hc=mn,mr.Gc=Jr,mr.ia=43690&Jr?0:Gt.ia,Zt=!(mn|Jr)}if(0<it.L&&(it.wa[it.Y+it.ja]=it.gd[xt.$b][xt.Za],it.wa[it.Y+it.ja].La|=!Zt),Dt.Ka)return Er(ct,7,"Premature end-of-file encountered.")}if(Wn(ct),it=Pt,Dt=1,xt=(Qe=ct).D,Bt=0<Qe.L&&Qe.M>=Qe.zb&&Qe.M<=Qe.Va,Qe.Aa==0)e:{if(xt.M=Qe.M,xt.uc=Bt,tu(Qe,xt),Dt=1,xt=($r=Qe.D).Nb,Bt=(Jr=No[Qe.L])*Qe.R,tr=Jr/2*Qe.B,gn=16*xt*Qe.R,Ln=8*xt*Qe.B,Zt=Qe.sa,mr=Qe.ta-Bt+gn,Gt=Qe.qa,It=Qe.ra-tr+Ln,Cn=Qe.Ha,Mn=Qe.Ia-tr+Ln,Sa=(Tn=$r.M)==0,mn=Tn>=Qe.Va-1,Qe.Aa==2&&tu(Qe,$r),$r.uc)for(ks=(Rs=Qe).D.M,r(Rs.D.uc),$r=Rs.yb;$r<Rs.Hb;++$r){ys=$r,_a=ks;var qs=(Ws=(Cs=Rs).D).Nb;Un=Cs.R;var Ws=Ws.wa[Ws.Y+ys],Ms=Cs.sa,eo=Cs.ta+16*qs*Un+16*ys,ps=Ws.dd,zs=Ws.tc;if(zs!=0)if(r(3<=zs),Cs.L==1)0<ys&&$o(Ms,eo,Un,zs+4),Ws.La&&Kr(Ms,eo,Un,zs),0<_a&&So(Ms,eo,Un,zs+4),Ws.La&&iu(Ms,eo,Un,zs);else{var dc=Cs.B,vd=Cs.qa,Bh=Cs.ra+8*qs*dc+8*ys,kl=Cs.Ha,Cs=Cs.Ia+8*qs*dc+8*ys;qs=Ws.ld,0<ys&&(As(Ms,eo,Un,zs+4,ps,qs),oc(vd,Bh,kl,Cs,dc,zs+4,ps,qs)),Ws.La&&(Qs(Ms,eo,Un,zs,ps,qs),Mh(vd,Bh,kl,Cs,dc,zs,ps,qs)),0<_a&&(ln(Ms,eo,Un,zs+4,ps,qs),kn(vd,Bh,kl,Cs,dc,zs+4,ps,qs)),Ws.La&&(cd(Ms,eo,Un,zs,ps,qs),Nl(vd,Bh,kl,Cs,dc,zs,ps,qs))}}if(Qe.ia&&alert("todo:DitherRow"),it.put!=null){if($r=16*Tn,Tn=16*(Tn+1),Sa?(it.y=Qe.sa,it.O=Qe.ta+gn,it.f=Qe.qa,it.N=Qe.ra+Ln,it.ea=Qe.Ha,it.W=Qe.Ia+Ln):($r-=Jr,it.y=Zt,it.O=mr,it.f=Gt,it.N=It,it.ea=Cn,it.W=Mn),mn||(Tn-=Jr),Tn>it.o&&(Tn=it.o),it.F=null,it.J=null,Qe.Fa!=null&&0<Qe.Fa.length&&$r<Tn&&(it.J=ec(Qe,it,$r,Tn-$r),it.F=Qe.mb,it.F==null&&it.F.length==0)){Dt=Er(Qe,3,"Could not decode alpha data.");break e}$r<it.j&&(Jr=it.j-$r,$r=it.j,r(!(1&Jr)),it.O+=Qe.R*Jr,it.N+=Qe.B*(Jr>>1),it.W+=Qe.B*(Jr>>1),it.F!=null&&(it.J+=it.width*Jr)),$r<Tn&&(it.O+=it.v,it.N+=it.v>>1,it.W+=it.v>>1,it.F!=null&&(it.J+=it.v),it.ka=$r-it.j,it.U=it.va-it.v,it.T=Tn-$r,Dt=it.put(it))}xt+1!=Qe.Ic||mn||(e(Qe.sa,Qe.ta-Bt,Zt,mr+16*Qe.R,Bt),e(Qe.qa,Qe.ra-tr,Gt,It+8*Qe.B,tr),e(Qe.Ha,Qe.Ia-tr,Cn,Mn+8*Qe.B,tr))}if(!Dt)return Er(ct,6,"Output aborted.")}return 1}(Y,Q)),Q.bc!=null&&Q.bc(Q),ie&=1}return ie?(Y.cb=0,ie):0}function rs(Y,Q,ie,de,me){me=Y[Q+ie+32*de]+(me>>3),Y[Q+ie+32*de]=-256&me?0>me?0:255:me}function Zs(Y,Q,ie,de,me,ve){rs(Y,Q,0,ie,de+me),rs(Y,Q,1,ie,de+ve),rs(Y,Q,2,ie,de-ve),rs(Y,Q,3,ie,de-me)}function $n(Y){return(20091*Y>>16)+Y}function ba(Y,Q,ie,de){var me,ve=0,we=i(16);for(me=0;4>me;++me){var ke=Y[Q+0]+Y[Q+8],Ie=Y[Q+0]-Y[Q+8],Fe=(35468*Y[Q+4]>>16)-$n(Y[Q+12]),tt=$n(Y[Q+4])+(35468*Y[Q+12]>>16);we[ve+0]=ke+tt,we[ve+1]=Ie+Fe,we[ve+2]=Ie-Fe,we[ve+3]=ke-tt,ve+=4,Q++}for(me=ve=0;4>me;++me)ke=(Y=we[ve+0]+4)+we[ve+8],Ie=Y-we[ve+8],Fe=(35468*we[ve+4]>>16)-$n(we[ve+12]),rs(ie,de,0,0,ke+(tt=$n(we[ve+4])+(35468*we[ve+12]>>16))),rs(ie,de,1,0,Ie+Fe),rs(ie,de,2,0,Ie-Fe),rs(ie,de,3,0,ke-tt),ve++,de+=32}function va(Y,Q,ie,de){var me=Y[Q+0]+4,ve=35468*Y[Q+4]>>16,we=$n(Y[Q+4]),ke=35468*Y[Q+1]>>16;Zs(ie,de,0,me+we,Y=$n(Y[Q+1]),ke),Zs(ie,de,1,me+ve,Y,ke),Zs(ie,de,2,me-ve,Y,ke),Zs(ie,de,3,me-we,Y,ke)}function an(Y,Q,ie,de,me){ba(Y,Q,ie,de),me&&ba(Y,Q+16,ie,de+4)}function zr(Y,Q,ie,de){at(Y,Q+0,ie,de,1),at(Y,Q+32,ie,de+128,1)}function Qi(Y,Q,ie,de){var me;for(Y=Y[Q+0]+4,me=0;4>me;++me)for(Q=0;4>Q;++Q)rs(ie,de,Q,me,Y)}function ea(Y,Q,ie,de){Y[Q+0]&&Jt(Y,Q+0,ie,de),Y[Q+16]&&Jt(Y,Q+16,ie,de+4),Y[Q+32]&&Jt(Y,Q+32,ie,de+128),Y[Q+48]&&Jt(Y,Q+48,ie,de+128+4)}function vo(Y,Q,ie,de){var me,ve=i(16);for(me=0;4>me;++me){var we=Y[Q+0+me]+Y[Q+12+me],ke=Y[Q+4+me]+Y[Q+8+me],Ie=Y[Q+4+me]-Y[Q+8+me],Fe=Y[Q+0+me]-Y[Q+12+me];ve[0+me]=we+ke,ve[8+me]=we-ke,ve[4+me]=Fe+Ie,ve[12+me]=Fe-Ie}for(me=0;4>me;++me)we=(Y=ve[0+4*me]+3)+ve[3+4*me],ke=ve[1+4*me]+ve[2+4*me],Ie=ve[1+4*me]-ve[2+4*me],Fe=Y-ve[3+4*me],ie[de+0]=we+ke>>3,ie[de+16]=Fe+Ie>>3,ie[de+32]=we-ke>>3,ie[de+48]=Fe-Ie>>3,de+=64}function Ss(Y,Q,ie){var de,me=Q-32,ve=wa,we=255-Y[me-1];for(de=0;de<ie;++de){var ke,Ie=ve,Fe=we+Y[Q-1];for(ke=0;ke<ie;++ke)Y[Q+ke]=Ie[Fe+Y[me+ke]];Q+=32}}function Hs(Y,Q){Ss(Y,Q,4)}function ta(Y,Q){Ss(Y,Q,8)}function yo(Y,Q){Ss(Y,Q,16)}function Ui(Y,Q){var ie;for(ie=0;16>ie;++ie)e(Y,Q+32*ie,Y,Q-32,16)}function Hi(Y,Q){var ie;for(ie=16;0<ie;--ie)s(Y,Q,Y[Q-1],16),Q+=32}function pi(Y,Q,ie){var de;for(de=0;16>de;++de)s(Q,ie+32*de,Y,16)}function xl(Y,Q){var ie,de=16;for(ie=0;16>ie;++ie)de+=Y[Q-1+32*ie]+Y[Q+ie-32];pi(de>>5,Y,Q)}function hs(Y,Q){var ie,de=8;for(ie=0;16>ie;++ie)de+=Y[Q-1+32*ie];pi(de>>4,Y,Q)}function Kl(Y,Q){var ie,de=8;for(ie=0;16>ie;++ie)de+=Y[Q+ie-32];pi(de>>4,Y,Q)}function Uo(Y,Q){pi(128,Y,Q)}function Cr(Y,Q,ie){return Y+2*Q+ie+2>>2}function Jl(Y,Q){var ie,de=Q-32;for(de=new Uint8Array([Cr(Y[de-1],Y[de+0],Y[de+1]),Cr(Y[de+0],Y[de+1],Y[de+2]),Cr(Y[de+1],Y[de+2],Y[de+3]),Cr(Y[de+2],Y[de+3],Y[de+4])]),ie=0;4>ie;++ie)e(Y,Q+32*ie,de,0,de.length)}function wl(Y,Q){var ie=Y[Q-1],de=Y[Q-1+32],me=Y[Q-1+64],ve=Y[Q-1+96];z(Y,Q+0,16843009*Cr(Y[Q-1-32],ie,de)),z(Y,Q+32,16843009*Cr(ie,de,me)),z(Y,Q+64,16843009*Cr(de,me,ve)),z(Y,Q+96,16843009*Cr(me,ve,ve))}function Ni(Y,Q){var ie,de=4;for(ie=0;4>ie;++ie)de+=Y[Q+ie-32]+Y[Q-1+32*ie];for(de>>=3,ie=0;4>ie;++ie)s(Y,Q+32*ie,de,4)}function kh(Y,Q){var ie=Y[Q-1+0],de=Y[Q-1+32],me=Y[Q-1+64],ve=Y[Q-1-32],we=Y[Q+0-32],ke=Y[Q+1-32],Ie=Y[Q+2-32],Fe=Y[Q+3-32];Y[Q+0+96]=Cr(de,me,Y[Q-1+96]),Y[Q+1+96]=Y[Q+0+64]=Cr(ie,de,me),Y[Q+2+96]=Y[Q+1+64]=Y[Q+0+32]=Cr(ve,ie,de),Y[Q+3+96]=Y[Q+2+64]=Y[Q+1+32]=Y[Q+0+0]=Cr(we,ve,ie),Y[Q+3+64]=Y[Q+2+32]=Y[Q+1+0]=Cr(ke,we,ve),Y[Q+3+32]=Y[Q+2+0]=Cr(Ie,ke,we),Y[Q+3+0]=Cr(Fe,Ie,ke)}function Ch(Y,Q){var ie=Y[Q+1-32],de=Y[Q+2-32],me=Y[Q+3-32],ve=Y[Q+4-32],we=Y[Q+5-32],ke=Y[Q+6-32],Ie=Y[Q+7-32];Y[Q+0+0]=Cr(Y[Q+0-32],ie,de),Y[Q+1+0]=Y[Q+0+32]=Cr(ie,de,me),Y[Q+2+0]=Y[Q+1+32]=Y[Q+0+64]=Cr(de,me,ve),Y[Q+3+0]=Y[Q+2+32]=Y[Q+1+64]=Y[Q+0+96]=Cr(me,ve,we),Y[Q+3+32]=Y[Q+2+64]=Y[Q+1+96]=Cr(ve,we,ke),Y[Q+3+64]=Y[Q+2+96]=Cr(we,ke,Ie),Y[Q+3+96]=Cr(ke,Ie,Ie)}function _l(Y,Q){var ie=Y[Q-1+0],de=Y[Q-1+32],me=Y[Q-1+64],ve=Y[Q-1-32],we=Y[Q+0-32],ke=Y[Q+1-32],Ie=Y[Q+2-32],Fe=Y[Q+3-32];Y[Q+0+0]=Y[Q+1+64]=ve+we+1>>1,Y[Q+1+0]=Y[Q+2+64]=we+ke+1>>1,Y[Q+2+0]=Y[Q+3+64]=ke+Ie+1>>1,Y[Q+3+0]=Ie+Fe+1>>1,Y[Q+0+96]=Cr(me,de,ie),Y[Q+0+64]=Cr(de,ie,ve),Y[Q+0+32]=Y[Q+1+96]=Cr(ie,ve,we),Y[Q+1+32]=Y[Q+2+96]=Cr(ve,we,ke),Y[Q+2+32]=Y[Q+3+96]=Cr(we,ke,Ie),Y[Q+3+32]=Cr(ke,Ie,Fe)}function ed(Y,Q){var ie=Y[Q+0-32],de=Y[Q+1-32],me=Y[Q+2-32],ve=Y[Q+3-32],we=Y[Q+4-32],ke=Y[Q+5-32],Ie=Y[Q+6-32],Fe=Y[Q+7-32];Y[Q+0+0]=ie+de+1>>1,Y[Q+1+0]=Y[Q+0+64]=de+me+1>>1,Y[Q+2+0]=Y[Q+1+64]=me+ve+1>>1,Y[Q+3+0]=Y[Q+2+64]=ve+we+1>>1,Y[Q+0+32]=Cr(ie,de,me),Y[Q+1+32]=Y[Q+0+96]=Cr(de,me,ve),Y[Q+2+32]=Y[Q+1+96]=Cr(me,ve,we),Y[Q+3+32]=Y[Q+2+96]=Cr(ve,we,ke),Y[Q+3+64]=Cr(we,ke,Ie),Y[Q+3+96]=Cr(ke,Ie,Fe)}function Xf(Y,Q){var ie=Y[Q-1+0],de=Y[Q-1+32],me=Y[Q-1+64],ve=Y[Q-1+96];Y[Q+0+0]=ie+de+1>>1,Y[Q+2+0]=Y[Q+0+32]=de+me+1>>1,Y[Q+2+32]=Y[Q+0+64]=me+ve+1>>1,Y[Q+1+0]=Cr(ie,de,me),Y[Q+3+0]=Y[Q+1+32]=Cr(de,me,ve),Y[Q+3+32]=Y[Q+1+64]=Cr(me,ve,ve),Y[Q+3+64]=Y[Q+2+64]=Y[Q+0+96]=Y[Q+1+96]=Y[Q+2+96]=Y[Q+3+96]=ve}function Kf(Y,Q){var ie=Y[Q-1+0],de=Y[Q-1+32],me=Y[Q-1+64],ve=Y[Q-1+96],we=Y[Q-1-32],ke=Y[Q+0-32],Ie=Y[Q+1-32],Fe=Y[Q+2-32];Y[Q+0+0]=Y[Q+2+32]=ie+we+1>>1,Y[Q+0+32]=Y[Q+2+64]=de+ie+1>>1,Y[Q+0+64]=Y[Q+2+96]=me+de+1>>1,Y[Q+0+96]=ve+me+1>>1,Y[Q+3+0]=Cr(ke,Ie,Fe),Y[Q+2+0]=Cr(we,ke,Ie),Y[Q+1+0]=Y[Q+3+32]=Cr(ie,we,ke),Y[Q+1+32]=Y[Q+3+64]=Cr(de,ie,we),Y[Q+1+64]=Y[Q+3+96]=Cr(me,de,ie),Y[Q+1+96]=Cr(ve,me,de)}function Jf(Y,Q){var ie;for(ie=0;8>ie;++ie)e(Y,Q+32*ie,Y,Q-32,8)}function td(Y,Q){var ie;for(ie=0;8>ie;++ie)s(Y,Q,Y[Q-1],8),Q+=32}function bn(Y,Q,ie){var de;for(de=0;8>de;++de)s(Q,ie+32*de,Y,8)}function dn(Y,Q){var ie,de=8;for(ie=0;8>ie;++ie)de+=Y[Q+ie-32]+Y[Q-1+32*ie];bn(de>>4,Y,Q)}function Zf(Y,Q){var ie,de=4;for(ie=0;8>ie;++ie)de+=Y[Q+ie-32];bn(de>>3,Y,Q)}function Zl(Y,Q){var ie,de=4;for(ie=0;8>ie;++ie)de+=Y[Q-1+32*ie];bn(de>>3,Y,Q)}function rd(Y,Q){bn(128,Y,Q)}function Kc(Y,Q,ie){var de=Y[Q-ie],me=Y[Q+0],ve=3*(me-de)+c0[1020+Y[Q-2*ie]-Y[Q+ie]],we=dd[112+(ve+4>>3)];Y[Q-ie]=wa[255+de+dd[112+(ve+3>>3)]],Y[Q+0]=wa[255+me-we]}function Th(Y,Q,ie,de){var me=Y[Q+0],ve=Y[Q+ie];return Za[255+Y[Q-2*ie]-Y[Q-ie]]>de||Za[255+ve-me]>de}function Dh(Y,Q,ie,de){return 4*Za[255+Y[Q-ie]-Y[Q+0]]+Za[255+Y[Q-2*ie]-Y[Q+ie]]<=de}function nd(Y,Q,ie,de,me){var ve=Y[Q-3*ie],we=Y[Q-2*ie],ke=Y[Q-ie],Ie=Y[Q+0],Fe=Y[Q+ie],tt=Y[Q+2*ie],ft=Y[Q+3*ie];return 4*Za[255+ke-Ie]+Za[255+we-Fe]>de?0:Za[255+Y[Q-4*ie]-ve]<=me&&Za[255+ve-we]<=me&&Za[255+we-ke]<=me&&Za[255+ft-tt]<=me&&Za[255+tt-Fe]<=me&&Za[255+Fe-Ie]<=me}function Ih(Y,Q,ie,de){var me=2*de+1;for(de=0;16>de;++de)Dh(Y,Q+de,ie,me)&&Kc(Y,Q+de,ie)}function zn(Y,Q,ie,de){var me=2*de+1;for(de=0;16>de;++de)Dh(Y,Q+de*ie,1,me)&&Kc(Y,Q+de*ie,1)}function Xa(Y,Q,ie,de){var me;for(me=3;0<me;--me)Ih(Y,Q+=4*ie,ie,de)}function Sl(Y,Q,ie,de){var me;for(me=3;0<me;--me)zn(Y,Q+=4,ie,de)}function Ho(Y,Q,ie,de,me,ve,we,ke){for(ve=2*ve+1;0<me--;){if(nd(Y,Q,ie,ve,we))if(Th(Y,Q,ie,ke))Kc(Y,Q,ie);else{var Ie=Y,Fe=Q,tt=ie,ft=Ie[Fe-2*tt],pt=Ie[Fe-tt],ct=Ie[Fe+0],Pt=Ie[Fe+tt],xt=Ie[Fe+2*tt],Qe=27*(Dt=c0[1020+3*(ct-pt)+c0[1020+ft-Pt]])+63>>7,it=18*Dt+63>>7,Dt=9*Dt+63>>7;Ie[Fe-3*tt]=wa[255+Ie[Fe-3*tt]+Dt],Ie[Fe-2*tt]=wa[255+ft+it],Ie[Fe-tt]=wa[255+pt+Qe],Ie[Fe+0]=wa[255+ct-Qe],Ie[Fe+tt]=wa[255+Pt-it],Ie[Fe+2*tt]=wa[255+xt-Dt]}Q+=de}}function ra(Y,Q,ie,de,me,ve,we,ke){for(ve=2*ve+1;0<me--;){if(nd(Y,Q,ie,ve,we))if(Th(Y,Q,ie,ke))Kc(Y,Q,ie);else{var Ie=Y,Fe=Q,tt=ie,ft=Ie[Fe-tt],pt=Ie[Fe+0],ct=Ie[Fe+tt],Pt=dd[112+((xt=3*(pt-ft))+4>>3)],xt=dd[112+(xt+3>>3)],Qe=Pt+1>>1;Ie[Fe-2*tt]=wa[255+Ie[Fe-2*tt]+Qe],Ie[Fe-tt]=wa[255+ft+xt],Ie[Fe+0]=wa[255+pt-Pt],Ie[Fe+tt]=wa[255+ct-Qe]}Q+=de}}function mi(Y,Q,ie,de,me,ve){Ho(Y,Q,ie,1,16,de,me,ve)}function El(Y,Q,ie,de,me,ve){Ho(Y,Q,1,ie,16,de,me,ve)}function Ph(Y,Q,ie,de,me,ve){var we;for(we=3;0<we;--we)ra(Y,Q+=4*ie,ie,1,16,de,me,ve)}function Ql(Y,Q,ie,de,me,ve){var we;for(we=3;0<we;--we)ra(Y,Q+=4,1,ie,16,de,me,ve)}function jh(Y,Q,ie,de,me,ve,we,ke){Ho(Y,Q,me,1,8,ve,we,ke),Ho(ie,de,me,1,8,ve,we,ke)}function Jc(Y,Q,ie,de,me,ve,we,ke){Ho(Y,Q,1,me,8,ve,we,ke),Ho(ie,de,1,me,8,ve,we,ke)}function Zc(Y,Q,ie,de,me,ve,we,ke){ra(Y,Q+4*me,me,1,8,ve,we,ke),ra(ie,de+4*me,me,1,8,ve,we,ke)}function gi(Y,Q,ie,de,me,ve,we,ke){ra(Y,Q+4,1,me,8,ve,we,ke),ra(ie,de+4,1,me,8,ve,we,ke)}function Qc(){this.ba=new Xt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new rr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function bi(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function sd(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function id(){this.ua=0,this.Wa=new ce,this.vb=new ce,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new P,this.yc=new H}function xo(){this.xb=this.a=0,this.l=new Ar,this.ca=new Xt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new id,this.ab=0,this.gc=a(4,sd),this.Oc=0}function qo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ar,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Wo(Y,Q,ie,de,me,ve,we){for(Y=Y==null?0:Y[Q+0],Q=0;Q<we;++Q)me[ve+Q]=Y+ie[de+Q]&255,Y=me[ve+Q]}function jn(Y,Q,ie,de,me,ve,we){var ke;if(Y==null)Wo(null,null,ie,de,me,ve,we);else for(ke=0;ke<we;++ke)me[ve+ke]=Y[Q+ke]+ie[de+ke]&255}function Ai(Y,Q,ie,de,me,ve,we){if(Y==null)Wo(null,null,ie,de,me,ve,we);else{var ke,Ie=Y[Q+0],Fe=Ie,tt=Ie;for(ke=0;ke<we;++ke)Fe=tt+(Ie=Y[Q+ke])-Fe,tt=ie[de+ke]+(-256&Fe?0>Fe?0:255:Fe)&255,Fe=Ie,me[ve+ke]=tt}}function ec(Y,Q,ie,de){var me=Q.width,ve=Q.o;if(r(Y!=null&&Q!=null),0>ie||0>=de||ie+de>ve)return null;if(!Y.Cc){if(Y.ga==null){var we;if(Y.ga=new qo,(we=Y.ga==null)||(we=Q.width*Q.o,r(Y.Gb.length==0),Y.Gb=i(we),Y.Uc=0,Y.Gb==null?we=0:(Y.mb=Y.Gb,Y.nb=Y.Uc,Y.rc=null,we=1),we=!we),!we){we=Y.ga;var ke=Y.Fa,Ie=Y.P,Fe=Y.qc,tt=Y.mb,ft=Y.nb,pt=Ie+1,ct=Fe-1,Pt=we.l;if(r(ke!=null&&tt!=null&&Q!=null),Yo[0]=null,Yo[1]=Wo,Yo[2]=jn,Yo[3]=Ai,we.ca=tt,we.tb=ft,we.c=Q.width,we.i=Q.height,r(0<we.c&&0<we.i),1>=Fe)Q=0;else if(we.$a=ke[Ie+0]>>0&3,we.Z=ke[Ie+0]>>2&3,we.Lc=ke[Ie+0]>>4&3,Ie=ke[Ie+0]>>6&3,0>we.$a||1<we.$a||4<=we.Z||1<we.Lc||Ie)Q=0;else if(Pt.put=xr,Pt.ac=Qt,Pt.bc=Rr,Pt.ma=we,Pt.width=Q.width,Pt.height=Q.height,Pt.Da=Q.Da,Pt.v=Q.v,Pt.va=Q.va,Pt.j=Q.j,Pt.o=Q.o,we.$a)e:{r(we.$a==1),Q=lt();t:for(;;){if(Q==null){Q=0;break e}if(r(we!=null),we.mc=Q,Q.c=we.c,Q.i=we.i,Q.l=we.l,Q.l.ma=we,Q.l.width=we.c,Q.l.height=we.i,Q.a=0,S(Q.m,ke,pt,ct),!Xe(we.c,we.i,1,Q,null)||(Q.ab==1&&Q.gc[0].hc==3&&Se(Q.s)?(we.ic=1,ke=Q.c*Q.i,Q.Ta=null,Q.Ua=0,Q.V=i(ke),Q.Ba=0,Q.V==null?(Q.a=1,Q=0):Q=1):(we.ic=0,Q=nt(Q,we.c)),!Q))break t;Q=1;break e}we.mc=null,Q=0}else Q=ct>=we.c*we.i;we=!Q}if(we)return null;Y.ga.Lc!=1?Y.Ga=0:de=ve-ie}r(Y.ga!=null),r(ie+de<=ve);e:{if(Q=(ke=Y.ga).c,ve=ke.l.o,ke.$a==0){if(pt=Y.rc,ct=Y.Vc,Pt=Y.Fa,Ie=Y.P+1+ie*Q,Fe=Y.mb,tt=Y.nb+ie*Q,r(Ie<=Y.P+Y.qc),ke.Z!=0)for(r(Yo[ke.Z]!=null),we=0;we<de;++we)Yo[ke.Z](pt,ct,Pt,Ie,Fe,tt,Q),pt=Fe,ct=tt,tt+=Q,Ie+=Q;else for(we=0;we<de;++we)e(Fe,tt,Pt,Ie,Q),pt=Fe,ct=tt,tt+=Q,Ie+=Q;Y.rc=pt,Y.Vc=ct}else{if(r(ke.mc!=null),Q=ie+de,r((we=ke.mc)!=null),r(Q<=we.i),we.C>=Q)Q=1;else if(ke.ic||ht(),ke.ic){ke=we.V,pt=we.Ba,ct=we.c;var xt=we.i,Qe=(Pt=1,Ie=we.$/ct,Fe=we.$%ct,tt=we.m,ft=we.s,we.$),it=ct*xt,Dt=ct*Q,Bt=ft.wc,It=Qe<Dt?st(ft,Fe,Ie):null;r(Qe<=it),r(Q<=xt),r(Se(ft));t:for(;;){for(;!tt.h&&Qe<Dt;){if(Fe&Bt||(It=st(ft,Fe,Ie)),r(It!=null),J(tt),256>(xt=ur(It.G[0],It.H[0],tt)))ke[pt+Qe]=xt,++Qe,++Fe>=ct&&(Fe=0,++Ie<=Q&&!(Ie%16)&&Pe(we,Ie));else{if(!(280>xt)){Pt=0;break t}xt=Sr(xt-256,tt);var tr,Zt=ur(It.G[4],It.H[4],tt);if(J(tt),!(Qe>=(Zt=Nr(ct,Zt=Sr(Zt,tt)))&&it-Qe>=xt)){Pt=0;break t}for(tr=0;tr<xt;++tr)ke[pt+Qe+tr]=ke[pt+Qe+tr-Zt];for(Qe+=xt,Fe+=xt;Fe>=ct;)Fe-=ct,++Ie<=Q&&!(Ie%16)&&Pe(we,Ie);Qe<Dt&&Fe&Bt&&(It=st(ft,Fe,Ie))}r(tt.h==G(tt))}Pe(we,Ie>Q?Q:Ie);break t}!Pt||tt.h&&Qe<it?(Pt=0,we.a=tt.h?5:3):we.$=Qe,Q=Pt}else Q=je(we,we.V,we.Ba,we.c,we.i,Q,ut);if(!Q){de=0;break e}}ie+de>=ve&&(Y.Cc=1),de=1}if(!de)return null;if(Y.Cc&&((de=Y.ga)!=null&&(de.mc=null),Y.ga=null,0<Y.Ga))return alert("todo:WebPDequantizeLevels"),null}return Y.nb+ie*me}function se(Y,Q,ie,de,me,ve){for(;0<me--;){var we,ke=Y,Ie=Q+(ie?1:0),Fe=Y,tt=Q+(ie?0:3);for(we=0;we<de;++we){var ft=Fe[tt+4*we];ft!=255&&(ft*=32897,ke[Ie+4*we+0]=ke[Ie+4*we+0]*ft>>23,ke[Ie+4*we+1]=ke[Ie+4*we+1]*ft>>23,ke[Ie+4*we+2]=ke[Ie+4*we+2]*ft>>23)}Q+=ve}}function pe(Y,Q,ie,de,me){for(;0<de--;){var ve;for(ve=0;ve<ie;++ve){var we=Y[Q+2*ve+0],ke=15&(Fe=Y[Q+2*ve+1]),Ie=4369*ke,Fe=(240&Fe|Fe>>4)*Ie>>16;Y[Q+2*ve+0]=(240&we|we>>4)*Ie>>16&240|(15&we|we<<4)*Ie>>16>>4&15,Y[Q+2*ve+1]=240&Fe|ke}Q+=me}}function Be(Y,Q,ie,de,me,ve,we,ke){var Ie,Fe,tt=255;for(Fe=0;Fe<me;++Fe){for(Ie=0;Ie<de;++Ie){var ft=Y[Q+Ie];ve[we+4*Ie]=ft,tt&=ft}Q+=ie,we+=ke}return tt!=255}function Ze(Y,Q,ie,de,me){var ve;for(ve=0;ve<me;++ve)ie[de+ve]=Y[Q+ve]>>8}function ht(){Eo=se,Yn=pe,Bn=Be,js=Ze}function _t(Y,Q,ie){R[Y]=function(de,me,ve,we,ke,Ie,Fe,tt,ft,pt,ct,Pt,xt,Qe,it,Dt,Bt){var It,tr=Bt-1>>1,Zt=ke[Ie+0]|Fe[tt+0]<<16,mr=ft[pt+0]|ct[Pt+0]<<16;r(de!=null);var Gt=3*Zt+mr+131074>>2;for(Q(de[me+0],255&Gt,Gt>>16,xt,Qe),ve!=null&&(Gt=3*mr+Zt+131074>>2,Q(ve[we+0],255&Gt,Gt>>16,it,Dt)),It=1;It<=tr;++It){var Cn=ke[Ie+It]|Fe[tt+It]<<16,Mn=ft[pt+It]|ct[Pt+It]<<16,mn=Zt+Cn+mr+Mn+524296,Jr=mn+2*(Cn+mr)>>3;Gt=Jr+Zt>>1,Zt=(mn=mn+2*(Zt+Mn)>>3)+Cn>>1,Q(de[me+2*It-1],255&Gt,Gt>>16,xt,Qe+(2*It-1)*ie),Q(de[me+2*It-0],255&Zt,Zt>>16,xt,Qe+(2*It-0)*ie),ve!=null&&(Gt=mn+mr>>1,Zt=Jr+Mn>>1,Q(ve[we+2*It-1],255&Gt,Gt>>16,it,Dt+(2*It-1)*ie),Q(ve[we+2*It+0],255&Zt,Zt>>16,it,Dt+(2*It+0)*ie)),Zt=Cn,mr=Mn}1&Bt||(Gt=3*Zt+mr+131074>>2,Q(de[me+Bt-1],255&Gt,Gt>>16,xt,Qe+(Bt-1)*ie),ve!=null&&(Gt=3*mr+Zt+131074>>2,Q(ve[we+Bt-1],255&Gt,Gt>>16,it,Dt+(Bt-1)*ie)))}}function Ut(){zi[hd]=Hy,zi[Qf]=bd,zi[Lh]=Te,zi[Al]=sp,zi[fd]=Qa,zi[bg]=on,zi[Oy]=T5,zi[vg]=bd,zi[Oh]=sp,zi[pd]=Qa,zi[ep]=on}function er(Y){return Y&~D5?0>Y?0:255:Y>>qy}function vr(Y,Q){return er((19077*Y>>8)+(26149*Q>>8)-14234)}function Br(Y,Q,ie){return er((19077*Y>>8)-(6419*Q>>8)-(13320*ie>>8)+8708)}function Or(Y,Q){return er((19077*Y>>8)+(33050*Q>>8)-17685)}function tn(Y,Q,ie,de,me){de[me+0]=vr(Y,ie),de[me+1]=Br(Y,Q,ie),de[me+2]=Or(Y,Q)}function Gn(Y,Q,ie,de,me){de[me+0]=Or(Y,Q),de[me+1]=Br(Y,Q,ie),de[me+2]=vr(Y,ie)}function as(Y,Q,ie,de,me){var ve=Br(Y,Q,ie);Q=ve<<3&224|Or(Y,Q)>>3,de[me+0]=248&vr(Y,ie)|ve>>5,de[me+1]=Q}function Es(Y,Q,ie,de,me){var ve=240&Or(Y,Q)|15;de[me+0]=240&vr(Y,ie)|Br(Y,Q,ie)>>4,de[me+1]=ve}function Ps(Y,Q,ie,de,me){de[me+0]=255,tn(Y,Q,ie,de,me+1)}function Ns(Y,Q,ie,de,me){Gn(Y,Q,ie,de,me),de[me+3]=255}function Ka(Y,Q,ie,de,me){tn(Y,Q,ie,de,me),de[me+3]=255}function qi(Y,Q){return 0>Y?0:Y>Q?Q:Y}function fs(Y,Q,ie){R[Y]=function(de,me,ve,we,ke,Ie,Fe,tt,ft){for(var pt=tt+(-2&ft)*ie;tt!=pt;)Q(de[me+0],ve[we+0],ke[Ie+0],Fe,tt),Q(de[me+1],ve[we+0],ke[Ie+0],Fe,tt+ie),me+=2,++we,++Ie,tt+=2*ie;1&ft&&Q(de[me+0],ve[we+0],ke[Ie+0],Fe,tt)}}function eu(Y,Q,ie){return ie==0?Y==0?Q==0?6:5:Q==0?4:0:ie}function zo(Y,Q,ie,de,me){switch(Y>>>30){case 3:at(Q,ie,de,me,0);break;case 2:vt(Q,ie,de,me);break;case 1:Jt(Q,ie,de,me)}}function tu(Y,Q){var ie,de,me=Q.M,ve=Q.Nb,we=Y.oc,ke=Y.pc+40,Ie=Y.oc,Fe=Y.pc+584,tt=Y.oc,ft=Y.pc+600;for(ie=0;16>ie;++ie)we[ke+32*ie-1]=129;for(ie=0;8>ie;++ie)Ie[Fe+32*ie-1]=129,tt[ft+32*ie-1]=129;for(0<me?we[ke-1-32]=Ie[Fe-1-32]=tt[ft-1-32]=129:(s(we,ke-32-1,127,21),s(Ie,Fe-32-1,127,9),s(tt,ft-32-1,127,9)),de=0;de<Y.za;++de){var pt=Q.ya[Q.aa+de];if(0<de){for(ie=-1;16>ie;++ie)e(we,ke+32*ie-4,we,ke+32*ie+12,4);for(ie=-1;8>ie;++ie)e(Ie,Fe+32*ie-4,Ie,Fe+32*ie+4,4),e(tt,ft+32*ie-4,tt,ft+32*ie+4,4)}var ct=Y.Gd,Pt=Y.Hd+de,xt=pt.ad,Qe=pt.Hc;if(0<me&&(e(we,ke-32,ct[Pt].y,0,16),e(Ie,Fe-32,ct[Pt].f,0,8),e(tt,ft-32,ct[Pt].ea,0,8)),pt.Za){var it=we,Dt=ke-32+16;for(0<me&&(de>=Y.za-1?s(it,Dt,ct[Pt].y[15],4):e(it,Dt,ct[Pt+1].y,0,4)),ie=0;4>ie;ie++)it[Dt+128+ie]=it[Dt+256+ie]=it[Dt+384+ie]=it[Dt+0+ie];for(ie=0;16>ie;++ie,Qe<<=2)it=we,Dt=ke+zy[ie],Go[pt.Ob[ie]](it,Dt),zo(Qe,xt,16*+ie,it,Dt)}else if(it=eu(de,me,pt.Ob[0]),ou[it](we,ke),Qe!=0)for(ie=0;16>ie;++ie,Qe<<=2)zo(Qe,xt,16*+ie,we,ke+zy[ie]);for(ie=pt.Gc,it=eu(de,me,pt.Dd),cc[it](Ie,Fe),cc[it](tt,ft),Qe=xt,it=Ie,Dt=Fe,255&(pt=ie>>0)&&(170&pt?bt(Qe,256,it,Dt):_r(Qe,256,it,Dt)),pt=tt,Qe=ft,255&(ie>>=8)&&(170&ie?bt(xt,320,pt,Qe):_r(xt,320,pt,Qe)),me<Y.Ub-1&&(e(ct[Pt].y,0,we,ke+480,16),e(ct[Pt].f,0,Ie,Fe+224,8),e(ct[Pt].ea,0,tt,ft+224,8)),ie=8*ve*Y.B,ct=Y.sa,Pt=Y.ta+16*de+16*ve*Y.R,xt=Y.qa,pt=Y.ra+8*de+ie,Qe=Y.Ha,it=Y.Ia+8*de+ie,ie=0;16>ie;++ie)e(ct,Pt+ie*Y.R,we,ke+32*ie,16);for(ie=0;8>ie;++ie)e(xt,pt+ie*Y.B,Ie,Fe+32*ie,8),e(Qe,it+ie*Y.B,tt,ft+32*ie,8)}}function tc(Y,Q,ie,de,me,ve,we,ke,Ie){var Fe=[0],tt=[0],ft=0,pt=Ie!=null?Ie.kd:0,ct=Ie??new bi;if(Y==null||12>ie)return 7;ct.data=Y,ct.w=Q,ct.ha=ie,Q=[Q],ie=[ie],ct.gb=[ct.gb];e:{var Pt=Q,xt=ie,Qe=ct.gb;if(r(Y!=null),r(xt!=null),r(Qe!=null),Qe[0]=0,12<=xt[0]&&!t(Y,Pt[0],"RIFF")){if(t(Y,Pt[0]+8,"WEBP")){Qe=3;break e}var it=oe(Y,Pt[0]+4);if(12>it||4294967286<it){Qe=3;break e}if(pt&&it>xt[0]-8){Qe=7;break e}Qe[0]=it,Pt[0]+=12,xt[0]-=12}Qe=0}if(Qe!=0)return Qe;for(it=0<ct.gb[0],ie=ie[0];;){e:{var Dt=Y;xt=Q,Qe=ie;var Bt=Fe,It=tt,tr=Pt=[0];if((Gt=ft=[ft])[0]=0,8>Qe[0])Qe=7;else{if(!t(Dt,xt[0],"VP8X")){if(oe(Dt,xt[0]+4)!=10){Qe=3;break e}if(18>Qe[0]){Qe=7;break e}var Zt=oe(Dt,xt[0]+8),mr=1+te(Dt,xt[0]+12);if(2147483648<=mr*(Dt=1+te(Dt,xt[0]+15))){Qe=3;break e}tr!=null&&(tr[0]=Zt),Bt!=null&&(Bt[0]=mr),It!=null&&(It[0]=Dt),xt[0]+=18,Qe[0]-=18,Gt[0]=1}Qe=0}}if(ft=ft[0],Pt=Pt[0],Qe!=0)return Qe;if(xt=!!(2&Pt),!it&&ft)return 3;if(ve!=null&&(ve[0]=!!(16&Pt)),we!=null&&(we[0]=xt),ke!=null&&(ke[0]=0),we=Fe[0],Pt=tt[0],ft&&xt&&Ie==null){Qe=0;break}if(4>ie){Qe=7;break}if(it&&ft||!it&&!ft&&!t(Y,Q[0],"ALPH")){ie=[ie],ct.na=[ct.na],ct.P=[ct.P],ct.Sa=[ct.Sa];e:{Zt=Y,Qe=Q,it=ie;var Gt=ct.gb;Bt=ct.na,It=ct.P,tr=ct.Sa,mr=22,r(Zt!=null),r(it!=null),Dt=Qe[0];var Cn=it[0];for(r(Bt!=null),r(tr!=null),Bt[0]=null,It[0]=null,tr[0]=0;;){if(Qe[0]=Dt,it[0]=Cn,8>Cn){Qe=7;break e}var Mn=oe(Zt,Dt+4);if(4294967286<Mn){Qe=3;break e}var mn=8+Mn+1&-2;if(mr+=mn,0<Gt&&mr>Gt){Qe=3;break e}if(!t(Zt,Dt,"VP8 ")||!t(Zt,Dt,"VP8L")){Qe=0;break e}if(Cn[0]<mn){Qe=7;break e}t(Zt,Dt,"ALPH")||(Bt[0]=Zt,It[0]=Dt+8,tr[0]=Mn),Dt+=mn,Cn-=mn}}if(ie=ie[0],ct.na=ct.na[0],ct.P=ct.P[0],ct.Sa=ct.Sa[0],Qe!=0)break}ie=[ie],ct.Ja=[ct.Ja],ct.xa=[ct.xa];e:if(Gt=Y,Qe=Q,it=ie,Bt=ct.gb[0],It=ct.Ja,tr=ct.xa,Zt=Qe[0],Dt=!t(Gt,Zt,"VP8 "),mr=!t(Gt,Zt,"VP8L"),r(Gt!=null),r(it!=null),r(It!=null),r(tr!=null),8>it[0])Qe=7;else{if(Dt||mr){if(Gt=oe(Gt,Zt+4),12<=Bt&&Gt>Bt-12){Qe=3;break e}if(pt&&Gt>it[0]-8){Qe=7;break e}It[0]=Gt,Qe[0]+=8,it[0]-=8,tr[0]=mr}else tr[0]=5<=it[0]&&Gt[Zt+0]==47&&!(Gt[Zt+4]>>5),It[0]=it[0];Qe=0}if(ie=ie[0],ct.Ja=ct.Ja[0],ct.xa=ct.xa[0],Q=Q[0],Qe!=0)break;if(4294967286<ct.Ja)return 3;if(ke==null||xt||(ke[0]=ct.xa?2:1),we=[we],Pt=[Pt],ct.xa){if(5>ie){Qe=7;break}ke=we,pt=Pt,xt=ve,Y==null||5>ie?Y=0:5<=ie&&Y[Q+0]==47&&!(Y[Q+4]>>5)?(it=[0],Gt=[0],Bt=[0],S(It=new j,Y,Q,ie),Lt(It,it,Gt,Bt)?(ke!=null&&(ke[0]=it[0]),pt!=null&&(pt[0]=Gt[0]),xt!=null&&(xt[0]=Bt[0]),Y=1):Y=0):Y=0}else{if(10>ie){Qe=7;break}ke=Pt,Y==null||10>ie||!nn(Y,Q+3,ie-3)?Y=0:(pt=Y[Q+0]|Y[Q+1]<<8|Y[Q+2]<<16,xt=16383&(Y[Q+7]<<8|Y[Q+6]),Y=16383&(Y[Q+9]<<8|Y[Q+8]),1&pt||3<(pt>>1&7)||!(pt>>4&1)||pt>>5>=ct.Ja||!xt||!Y?Y=0:(we&&(we[0]=xt),ke&&(ke[0]=Y),Y=1))}if(!Y||(we=we[0],Pt=Pt[0],ft&&(Fe[0]!=we||tt[0]!=Pt)))return 3;Ie!=null&&(Ie[0]=ct,Ie.offset=Q-Ie.w,r(4294967286>Q-Ie.w),r(Ie.offset==Ie.ha-ie));break}return Qe==0||Qe==7&&ft&&Ie==null?(ve!=null&&(ve[0]|=ct.na!=null&&0<ct.na.length),de!=null&&(de[0]=we),me!=null&&(me[0]=Pt),0):Qe}function ad(Y,Q,ie){var de=Q.width,me=Q.height,ve=0,we=0,ke=de,Ie=me;if(Q.Da=Y!=null&&0<Y.Da,Q.Da&&(ke=Y.cd,Ie=Y.bd,ve=Y.v,we=Y.j,11>ie||(ve&=-2,we&=-2),0>ve||0>we||0>=ke||0>=Ie||ve+ke>de||we+Ie>me))return 0;if(Q.v=ve,Q.j=we,Q.va=ve+ke,Q.o=we+Ie,Q.U=ke,Q.T=Ie,Q.da=Y!=null&&0<Y.da,Q.da){if(!_e(ke,Ie,ie=[Y.ib],ve=[Y.hb]))return 0;Q.ib=ie[0],Q.hb=ve[0]}return Q.ob=Y!=null&&Y.ob,Q.Kb=Y==null||!Y.Sd,Q.da&&(Q.ob=Q.ib<3*de/4&&Q.hb<3*me/4,Q.Kb=0),1}function od(Y){if(Y==null)return 2;if(11>Y.S){var Q=Y.f.RGBA;Q.fb+=(Y.height-1)*Q.A,Q.A=-Q.A}else Q=Y.f.kb,Y=Y.height,Q.O+=(Y-1)*Q.fa,Q.fa=-Q.fa,Q.N+=(Y-1>>1)*Q.Ab,Q.Ab=-Q.Ab,Q.W+=(Y-1>>1)*Q.Db,Q.Db=-Q.Db,Q.F!=null&&(Q.J+=(Y-1)*Q.lb,Q.lb=-Q.lb);return 0}function ru(Y,Q,ie,de){if(de==null||0>=Y||0>=Q)return 2;if(ie!=null){if(ie.Da){var me=ie.cd,ve=ie.bd,we=-2&ie.v,ke=-2&ie.j;if(0>we||0>ke||0>=me||0>=ve||we+me>Y||ke+ve>Q)return 2;Y=me,Q=ve}if(ie.da){if(!_e(Y,Q,me=[ie.ib],ve=[ie.hb]))return 2;Y=me[0],Q=ve[0]}}de.width=Y,de.height=Q;e:{var Ie=de.width,Fe=de.height;if(Y=de.S,0>=Ie||0>=Fe||!(Y>=hd&&13>Y))Y=2;else{if(0>=de.Rd&&de.sd==null){we=ve=me=Q=0;var tt=(ke=Ie*Vy[Y])*Fe;if(11>Y||(ve=(Fe+1)/2*(Q=(Ie+1)/2),Y==12&&(we=(me=Ie)*Fe)),(Fe=i(tt+2*ve+we))==null){Y=1;break e}de.sd=Fe,11>Y?((Ie=de.f.RGBA).eb=Fe,Ie.fb=0,Ie.A=ke,Ie.size=tt):((Ie=de.f.kb).y=Fe,Ie.O=0,Ie.fa=ke,Ie.Fd=tt,Ie.f=Fe,Ie.N=0+tt,Ie.Ab=Q,Ie.Cd=ve,Ie.ea=Fe,Ie.W=0+tt+ve,Ie.Db=Q,Ie.Ed=ve,Y==12&&(Ie.F=Fe,Ie.J=0+tt+2*ve),Ie.Tc=we,Ie.lb=me)}if(Q=1,me=de.S,ve=de.width,we=de.height,me>=hd&&13>me)if(11>me)Y=de.f.RGBA,Q&=(ke=Math.abs(Y.A))*(we-1)+ve<=Y.size,Q&=ke>=ve*Vy[me],Q&=Y.eb!=null;else{Y=de.f.kb,ke=(ve+1)/2,tt=(we+1)/2,Ie=Math.abs(Y.fa),Fe=Math.abs(Y.Ab);var ft=Math.abs(Y.Db),pt=Math.abs(Y.lb),ct=pt*(we-1)+ve;Q&=Ie*(we-1)+ve<=Y.Fd,Q&=Fe*(tt-1)+ke<=Y.Cd,Q=(Q&=ft*(tt-1)+ke<=Y.Ed)&Ie>=ve&Fe>=ke&ft>=ke,Q&=Y.y!=null,Q&=Y.f!=null,Q&=Y.ea!=null,me==12&&(Q&=pt>=ve,Q&=ct<=Y.Tc,Q&=Y.F!=null)}else Q=0;Y=Q?0:2}}return Y!=0||ie!=null&&ie.fd&&(Y=od(de)),Y}var Rn=64,ki=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ya=24,rc=32,wo=8,vi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];xe("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(Y){return Y},R.Predictor2=function(Y,Q,ie){return Q[ie+0]},R.Predictor3=function(Y,Q,ie){return Q[ie+1]},R.Predictor4=function(Y,Q,ie){return Q[ie-1]},R.Predictor5=function(Y,Q,ie){return Me(Me(Y,Q[ie+1]),Q[ie+0])},R.Predictor6=function(Y,Q,ie){return Me(Y,Q[ie-1])},R.Predictor7=function(Y,Q,ie){return Me(Y,Q[ie+0])},R.Predictor8=function(Y,Q,ie){return Me(Q[ie-1],Q[ie+0])},R.Predictor9=function(Y,Q,ie){return Me(Q[ie+0],Q[ie+1])},R.Predictor10=function(Y,Q,ie){return Me(Me(Y,Q[ie-1]),Me(Q[ie+0],Q[ie+1]))},R.Predictor11=function(Y,Q,ie){var de=Q[ie+0];return 0>=Ke(de>>24&255,Y>>24&255,(Q=Q[ie-1])>>24&255)+Ke(de>>16&255,Y>>16&255,Q>>16&255)+Ke(de>>8&255,Y>>8&255,Q>>8&255)+Ke(255&de,255&Y,255&Q)?de:Y},R.Predictor12=function(Y,Q,ie){var de=Q[ie+0];return(Oe((Y>>24&255)+(de>>24&255)-((Q=Q[ie-1])>>24&255))<<24|Oe((Y>>16&255)+(de>>16&255)-(Q>>16&255))<<16|Oe((Y>>8&255)+(de>>8&255)-(Q>>8&255))<<8|Oe((255&Y)+(255&de)-(255&Q)))>>>0},R.Predictor13=function(Y,Q,ie){var de=Q[ie-1];return(ze((Y=Me(Y,Q[ie+0]))>>24&255,de>>24&255)<<24|ze(Y>>16&255,de>>16&255)<<16|ze(Y>>8&255,de>>8&255)<<8|ze(Y>>0&255,de>>0&255))>>>0};var ld=R.PredictorAdd0;R.PredictorAdd1=ot,xe("Predictor2","PredictorAdd2"),xe("Predictor3","PredictorAdd3"),xe("Predictor4","PredictorAdd4"),xe("Predictor5","PredictorAdd5"),xe("Predictor6","PredictorAdd6"),xe("Predictor7","PredictorAdd7"),xe("Predictor8","PredictorAdd8"),xe("Predictor9","PredictorAdd9"),xe("Predictor10","PredictorAdd10"),xe("Predictor11","PredictorAdd11"),xe("Predictor12","PredictorAdd12"),xe("Predictor13","PredictorAdd13");var na=R.PredictorAdd2;rt("ColorIndexInverseTransform","MapARGB","32b",function(Y){return Y>>8&255},function(Y){return Y}),rt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(Y){return Y},function(Y){return Y>>8&255});var nc,_o=R.ColorIndexInverseTransform,Rh=R.MapARGB,l0=R.VP8LColorIndexInverseTransformAlpha,sc=R.MapAlpha,yi=R.VP8LPredictorsAdd=[];yi.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var nu,xa,sa,su,ic,ac,Vo,at,vt,bt,Jt,_r,ln,As,kn,oc,cd,Qs,Nl,Mh,So,$o,iu,Kr,Eo,Yn,Bn,js,ei=i(511),lc=i(2041),au=i(225),Ja=i(767),ud=0,c0=lc,dd=au,wa=Ja,Za=ei,hd=0,Qf=1,Lh=2,Al=3,fd=4,bg=5,Oy=6,vg=7,Oh=8,pd=9,ep=10,E5=[2,3,7],Fy=[3,3,11],By=[280,256,256,256,40],N5=[0,1,1,1,0],ti=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Wi=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],A5=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],k5=8,u0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],yg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],md=null,tp=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],xg=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],gd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],rp=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],np=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],d0=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Fh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ou=[],Go=[],cc=[],C5=1,Uy=2,Yo=[],zi=[];_t("UpsampleRgbLinePair",tn,3),_t("UpsampleBgrLinePair",Gn,3),_t("UpsampleRgbaLinePair",Ka,4),_t("UpsampleBgraLinePair",Ns,4),_t("UpsampleArgbLinePair",Ps,4),_t("UpsampleRgba4444LinePair",Es,2),_t("UpsampleRgb565LinePair",as,2);var Hy=R.UpsampleRgbLinePair,Te=R.UpsampleBgrLinePair,bd=R.UpsampleRgbaLinePair,sp=R.UpsampleBgraLinePair,Qa=R.UpsampleArgbLinePair,on=R.UpsampleRgba4444LinePair,T5=R.UpsampleRgb565LinePair,h0=16,f0=1<<h0-1,Xo=-227,wg=482,qy=6,D5=(256<<qy)-1,Wy=0,I5=i(256),uc=i(256),P5=i(256),j5=i(256),R5=i(wg-Xo),M5=i(wg-Xo);fs("YuvToRgbRow",tn,3),fs("YuvToBgrRow",Gn,3),fs("YuvToRgbaRow",Ka,4),fs("YuvToBgraRow",Ns,4),fs("YuvToArgbRow",Ps,4),fs("YuvToRgba4444Row",Es,2),fs("YuvToRgb565Row",as,2);var zy=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],No=[0,2,8],L5=[8,7,6,4,4,2,2,2,1,1,1,1],O5=1;this.WebPDecodeRGBA=function(Y,Q,ie,de,me){var ve=Qf,we=new Qc,ke=new Xt;we.ba=ke,ke.S=ve,ke.width=[ke.width],ke.height=[ke.height];var Ie=ke.width,Fe=ke.height,tt=new fr;if(tt==null||Y==null)var ft=2;else r(tt!=null),ft=tc(Y,Q,ie,tt.width,tt.height,tt.Pd,tt.Qd,tt.format,null);if(ft!=0?Ie=0:(Ie!=null&&(Ie[0]=tt.width[0]),Fe!=null&&(Fe[0]=tt.height[0]),Ie=1),Ie){ke.width=ke.width[0],ke.height=ke.height[0],de!=null&&(de[0]=ke.width),me!=null&&(me[0]=ke.height);e:{if(de=new Ar,(me=new bi).data=Y,me.w=Q,me.ha=ie,me.kd=1,Q=[0],r(me!=null),((Y=tc(me.data,me.w,me.ha,null,null,null,Q,null,me))==0||Y==7)&&Q[0]&&(Y=4),(Q=Y)==0){if(r(we!=null),de.data=me.data,de.w=me.w+me.offset,de.ha=me.ha-me.offset,de.put=xr,de.ac=Qt,de.bc=Rr,de.ma=we,me.xa){if((Y=lt())==null){we=1;break e}if(function(pt,ct){var Pt=[0],xt=[0],Qe=[0];t:for(;;){if(pt==null)return 0;if(ct==null)return pt.a=2,0;if(pt.l=ct,pt.a=0,S(pt.m,ct.data,ct.w,ct.ha),!Lt(pt.m,Pt,xt,Qe)){pt.a=3;break t}if(pt.xb=Uy,ct.width=Pt[0],ct.height=xt[0],!Xe(Pt[0],xt[0],1,pt,null))break t;return 1}return r(pt.a!=0),0}(Y,de)){if(de=(Q=ru(de.width,de.height,we.Oa,we.ba))==0){t:{de=Y;r:for(;;){if(de==null){de=0;break t}if(r(de.s.yc!=null),r(de.s.Ya!=null),r(0<de.s.Wb),r((ie=de.l)!=null),r((me=ie.ma)!=null),de.xb!=0){if(de.ca=me.ba,de.tb=me.tb,r(de.ca!=null),!ad(me.Oa,ie,Al)){de.a=2;break r}if(!nt(de,ie.width)||ie.da)break r;if((ie.da||Tt(de.ca.S))&&ht(),11>de.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),de.ca.f.kb.F!=null&&ht()),de.Pb&&0<de.s.ua&&de.s.vb.X==null&&!ue(de.s.vb,de.s.Wa.Xa)){de.a=1;break r}de.xb=0}if(!je(de,de.V,de.Ba,de.c,de.i,ie.o,Ee))break r;me.Dc=de.Ma,de=1;break t}r(de.a!=0),de=0}de=!de}de&&(Q=Y.a)}else Q=Y.a}else{if((Y=new lr)==null){we=1;break e}if(Y.Fa=me.na,Y.P=me.P,Y.qc=me.Sa,sn(Y,de)){if((Q=ru(de.width,de.height,we.Oa,we.ba))==0){if(Y.Aa=0,ie=we.Oa,r((me=Y)!=null),ie!=null){if(0<(Ie=0>(Ie=ie.Md)?0:100<Ie?255:255*Ie/100)){for(Fe=tt=0;4>Fe;++Fe)12>(ft=me.pb[Fe]).lc&&(ft.ia=Ie*L5[0>ft.lc?0:ft.lc]>>3),tt|=ft.ia;tt&&(alert("todo:VP8InitRandom"),me.ia=1)}me.Ga=ie.Id,100<me.Ga?me.Ga=100:0>me.Ga&&(me.Ga=0)}Is(Y,de)||(Q=Y.a)}}else Q=Y.a}Q==0&&we.Oa!=null&&we.Oa.fd&&(Q=od(we.ba))}we=Q}ve=we!=0?null:11>ve?ke.f.RGBA.eb:ke.f.kb.y}else ve=null;return ve};var Vy=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(R,D){for(var L="",M=0;M<4;M++)L+=String.fromCharCode(R[D++]);return L}function l(R,D){return(R[D+0]<<0|R[D+1]<<8|R[D+2]<<16)>>>0}function d(R,D){return(R[D+0]<<0|R[D+1]<<8|R[D+2]<<16|R[D+3]<<24)>>>0}new c;var f=[0],h=[0],p=[],g=new c,v=n,m=function(R,D){var L={},M=0,H=!1,V=0,P=0;if(L.frames=[],!function(B,G,X,J){for(var O=0;O<J;O++)if(B[G+O]!=X.charCodeAt(O))return!0;return!1}(R,D,"RIFF",4)){var F,A;for(d(R,D+=4),D+=8;D<R.length;){var _=u(R,D),S=d(R,D+=4);D+=4;var N=S+(1&S);switch(_){case"VP8 ":case"VP8L":L.frames[M]===void 0&&(L.frames[M]={}),(j=L.frames[M]).src_off=H?P:D-8,j.src_size=V+S+8,M++,H&&(H=!1,V=0,P=0);break;case"VP8X":(j=L.header={}).feature_flags=R[D];var C=D+4;j.canvas_width=1+l(R,C),C+=3,j.canvas_height=1+l(R,C),C+=3;break;case"ALPH":H=!0,V=N+8,P=D-8;break;case"ANIM":(j=L.header).bgcolor=d(R,D),C=D+4,j.loop_count=(F=R)[(A=C)+0]<<0|F[A+1]<<8,C+=2;break;case"ANMF":var W,j;(j=L.frames[M]={}).offset_x=2*l(R,D),D+=3,j.offset_y=2*l(R,D),D+=3,j.width=1+l(R,D),D+=3,j.height=1+l(R,D),D+=3,j.duration=l(R,D),D+=3,W=R[D++],j.dispose=1&W,j.blend=W>>1&1}_!="ANMF"&&(D+=N)}return L}}(v,0);m.response=v,m.rgbaoutput=!0,m.dataurl=!1;var x=m.header?m.header:null,y=m.frames?m.frames:null;if(x){x.loop_counter=x.loop_count,f=[x.canvas_height],h=[x.canvas_width];for(var w=0;w<y.length&&y[w].blend!=0;w++);}var E=y[0],I=g.WebPDecodeRGBA(v,E.src_off,E.src_size,h,f);E.rgba=I,E.imgwidth=h[0],E.imgheight=f[0];for(var T=0;T<h[0]*f[0]*4;T++)p[T]=I[T];return this.width=h,this.height=f,this.data=p,this}(function(n){var r=function(){return typeof f_=="function"},t=function(f,h,p,g){var v=4,m=a;switch(g){case n.image_compression.FAST:v=1,m=i;break;case n.image_compression.MEDIUM:v=6,m=o;break;case n.image_compression.SLOW:v=9,m=c}f=e(f,h,p,m);var x=f_(f,{level:v});return n.__addimage__.arrayBufferToBinaryString(x)},e=function(f,h,p,g){for(var v,m,x,y=f.length/h,w=new Uint8Array(f.length+y),E=l(),I=0;I<y;I+=1){if(x=I*h,v=f.subarray(x,x+h),g)w.set(g(v,p,m),x+I);else{for(var T,R=E.length,D=[];T<R;T+=1)D[T]=E[T](v,p,m);var L=d(D.concat());w.set(D[L],x+I)}m=v}return w},s=function(f){var h=Array.apply([],f);return h.unshift(0),h},i=function(f,h){var p,g=[],v=f.length;g[0]=1;for(var m=0;m<v;m+=1)p=f[m-h]||0,g[m+1]=f[m]-p+256&255;return g},a=function(f,h,p){var g,v=[],m=f.length;v[0]=2;for(var x=0;x<m;x+=1)g=p&&p[x]||0,v[x+1]=f[x]-g+256&255;return v},o=function(f,h,p){var g,v,m=[],x=f.length;m[0]=3;for(var y=0;y<x;y+=1)g=f[y-h]||0,v=p&&p[y]||0,m[y+1]=f[y]+256-(g+v>>>1)&255;return m},c=function(f,h,p){var g,v,m,x,y=[],w=f.length;y[0]=4;for(var E=0;E<w;E+=1)g=f[E-h]||0,v=p&&p[E]||0,m=p&&p[E-h]||0,x=u(g,v,m),y[E+1]=f[E]-x+256&255;return y},u=function(f,h,p){if(f===h&&h===p)return f;var g=Math.abs(h-p),v=Math.abs(f-p),m=Math.abs(f+h-p-p);return g<=v&&g<=m?f:v<=m?h:p},l=function(){return[s,i,a,o,c]},d=function(f){var h=f.map(function(p){return p.reduce(function(g,v){return g+Math.abs(v)},0)});return h.indexOf(Math.min.apply(null,h))};n.processPNG=function(f,h,p,g){var v,m,x,y,w,E,I,T,R,D,L,M,H,V,P,F=this.decode.FLATE_DECODE,A="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(x=new uU(f)).imgData,m=x.bits,v=x.colorSpace,w=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){R=(T=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,L=new Uint8Array(R*x.colors),D=new Uint8Array(R);var _,S=x.pixelBitlength-x.bits;for(V=0,P=0;V<R;V++){for(H=T[V],_=0;_<S;)L[P++]=H>>>_&255,_+=x.bits;D[V]=H>>>_&255}}if(x.bits===16){R=(T=new Uint32Array(x.decodePixels().buffer)).length,L=new Uint8Array(R*(32/x.pixelBitlength)*x.colors),D=new Uint8Array(R*(32/x.pixelBitlength)),M=x.colors>1,V=0,P=0;for(var N=0;V<R;)H=T[V++],L[P++]=H>>>0&255,M&&(L[P++]=H>>>16&255,H=T[V++],L[P++]=H>>>0&255),D[N++]=H>>>16&255;m=8}g!==n.image_compression.NONE&&r()?(f=t(L,x.width*x.colors,x.colors,g),I=t(D,x.width,1,g)):(f=L,I=D,F=void 0)}if(x.colorType===3&&(v=this.color_spaces.INDEXED,E=x.palette,x.transparency.indexed)){var C=x.transparency.indexed,W=0;for(V=0,R=C.length;V<R;++V)W+=C[V];if((W/=255)===R-1&&C.indexOf(0)!==-1)y=[C.indexOf(0)];else if(W!==R){for(T=x.decodePixels(),D=new Uint8Array(T.length),V=0,R=T.length;V<R;V++)D[V]=C[T[V]];I=t(D,x.width,1)}}var j=function(B){var G;switch(B){case n.image_compression.FAST:G=11;break;case n.image_compression.MEDIUM:G=13;break;case n.image_compression.SLOW:G=14;break;default:G=12}return G}(g);return F===this.decode.FLATE_DECODE&&(A="/Predictor "+j+" "),A+="/Colors "+w+" /BitsPerComponent "+m+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(I&&this.__addimage__.isArrayBuffer(I)||this.__addimage__.isArrayBufferView(I))&&(I=this.__addimage__.arrayBufferToBinaryString(I)),{alias:p,data:f,index:h,filter:F,decodeParameters:A,transparency:y,palette:E,sMask:I,predictor:j,width:x.width,height:x.height,bitsPerComponent:m,colorSpace:v}}}})(Ir.API),function(n){n.processGIF89A=function(r,t,e,s){var i=new dU(r),a=i.width,o=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:a,height:o},l=new k6(100).encode(u,100);return n.processJPEG.call(this,l,t,e,s)},n.processGIF87A=n.processGIF89A}(Ir.API),xc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var r=0;r<n;r++){var t=this.datav.getUint8(this.pos++,!0),e=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[r]={red:s,green:e,blue:t,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},xc.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,r=this.width*this.height*4;this.data=new Uint8Array(r),this[n]()}catch(t){ls.log("bit decode error:"+t)}},xc.prototype.bit1=function(){var n,r=Math.ceil(this.width/8),t=r%4;for(n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,s=0;s<r;s++)for(var i=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+8*s*4,o=0;o<8&&8*s+o<this.width;o++){var c=this.palette[i>>7-o&1];this.data[a+4*o]=c.blue,this.data[a+4*o+1]=c.green,this.data[a+4*o+2]=c.red,this.data[a+4*o+3]=255}t!==0&&(this.pos+=4-t)}},xc.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),r=n%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,s=0;s<n;s++){var i=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+2*s*4,o=i>>4,c=15&i,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*s+1>=this.width)break;u=this.palette[c],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}r!==0&&(this.pos+=4-r)}},xc.prototype.bit8=function(){for(var n=this.width%4,r=this.height-1;r>=0;r--){for(var t=this.bottom_up?r:this.height-1-r,e=0;e<this.width;e++){var s=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*e;if(s<this.palette.length){var a=this.palette[s];this.data[i]=a.red,this.data[i+1]=a.green,this.data[i+2]=a.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}n!==0&&(this.pos+=4-n)}},xc.prototype.bit15=function(){for(var n=this.width%3,r=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(i&r)/r*255|0,o=(i>>5&r)/r*255|0,c=(i>>10&r)/r*255|0,u=i>>15?255:0,l=e*this.width*4+4*s;this.data[l]=c,this.data[l+1]=o,this.data[l+2]=a,this.data[l+3]=u}this.pos+=n}},xc.prototype.bit16=function(){for(var n=this.width%3,r=parseInt("11111",2),t=parseInt("111111",2),e=this.height-1;e>=0;e--){for(var s=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&r)/r*255|0,c=(a>>5&t)/t*255|0,u=(a>>11)/r*255|0,l=s*this.width*4+4*i;this.data[l]=u,this.data[l+1]=c,this.data[l+2]=o,this.data[l+3]=255}this.pos+=n}},xc.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var e=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*t;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=e,this.data[a+3]=255}this.pos+=this.width%4}},xc.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var r=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var e=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*t;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=e,this.data[o+3]=a}},xc.prototype.getData=function(){return this.data},function(n){n.processBMP=function(r,t,e,s){var i=new xc(r,!1),a=i.width,o=i.height,c={data:i.getData(),width:a,height:o},u=new k6(100).encode(c,100);return n.processJPEG.call(this,u,t,e,s)}}(Ir.API),f7.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(r,t,e,s){var i=new f7(r),a=i.width,o=i.height,c={data:i.getData(),width:a,height:o},u=new k6(100).encode(c,100);return n.processJPEG.call(this,u,t,e,s)}}(Ir.API),Ir.API.processRGBA=function(n,r,t){for(var e=n.data,s=e.length,i=new Uint8Array(s/4*3),a=new Uint8Array(s/4),o=0,c=0,u=0;u<s;u+=4){var l=e[u],d=e[u+1],f=e[u+2],h=e[u+3];i[o++]=l,i[o++]=d,i[o++]=f,a[c++]=h}var p=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:p,index:r,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Ir.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},I0=Ir.API,P2=I0.getCharWidthsArray=function(n,r){var t,e,s=(r=r||{}).font||this.internal.getFont(),i=r.fontSize||this.internal.getFontSize(),a=r.charSpace||this.internal.getCharSpace(),o=r.widths?r.widths:s.metadata.Unicode.widths,c=o.fof?o.fof:1,u=r.kerning?r.kerning:s.metadata.Unicode.kerning,l=u.fof?u.fof:1,d=r.doKerning!==!1,f=0,h=n.length,p=0,g=o[0]||c,v=[];for(t=0;t<h;t++)e=n.charCodeAt(t),typeof s.metadata.widthOfString=="function"?v.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(e))+a*(1e3/i)||0)/1e3):(f=d&&ts(u[e])==="object"&&!isNaN(parseInt(u[e][p],10))?u[e][p]/l:0,v.push((o[e]||g)/c+f)),p=e;return v},c7=I0.getStringUnitWidth=function(n,r){var t=(r=r||{}).fontSize||this.internal.getFontSize(),e=r.font||this.internal.getFont(),s=r.charSpace||this.internal.getCharSpace();return I0.processArabic&&(n=I0.processArabic(n)),typeof e.metadata.widthOfString=="function"?e.metadata.widthOfString(n,t,s)/t:P2.apply(this,arguments).reduce(function(i,a){return i+a},0)},u7=function(n,r,t,e){for(var s=[],i=0,a=n.length,o=0;i!==a&&o+r[i]<t;)o+=r[i],i++;s.push(n.slice(0,i));var c=i;for(o=0;i!==a;)o+r[i]>e&&(s.push(n.slice(c,i)),o=0,c=i),o+=r[i],i++;return c!==i&&s.push(n.slice(c,i)),s},d7=function(n,r,t){t||(t={});var e,s,i,a,o,c,u,l=[],d=[l],f=t.textIndent||0,h=0,p=0,g=n.split(" "),v=P2.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?g[0].length+2:t.lineIndent||0){var m=Array(c).join(" "),x=[];g.map(function(w){(w=w.split(/\s*\n/)).length>1?x=x.concat(w.map(function(E,I){return(I&&E.length?`
`:"")+E})):x.push(w[0])}),g=x,c=c7.apply(this,[m,t])}for(i=0,a=g.length;i<a;i++){var y=0;if(e=g[i],c&&e[0]==`
`&&(e=e.substr(1),y=1),f+h+(p=(s=P2.apply(this,[e,t])).reduce(function(w,E){return w+E},0))>r||y){if(p>r){for(o=u7.apply(this,[e,s,r-(f+h),r]),l.push(o.shift()),l=[o.pop()];o.length;)d.push([o.shift()]);p=s.slice(e.length-(l[0]?l[0].length:0)).reduce(function(w,E){return w+E},0)}else l=[e];d.push(l),f=p+c,h=v}else l.push(e),f+=h+p,h=v}return u=c?function(w,E){return(E?m:"")+w.join(" ")}:function(w){return w.join(" ")},d.map(u)},I0.splitTextToSize=function(n,r,t){var e,s=(t=t||{}).fontSize||this.internal.getFontSize(),i=(function(l){if(l.widths&&l.kerning)return{widths:l.widths,kerning:l.kerning};var d=this.internal.getFont(l.fontName,l.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);e=Array.isArray(n)?n:String(n).split(/\r?\n/);var a=1*this.internal.scaleFactor*r/s;i.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=t.lineIndent;var o,c,u=[];for(o=0,c=e.length;o<c;o++)u=u.concat(d7.apply(this,[e[o],a,i]));return u},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var r="klmnopqrstuvwxyz",t={},e={},s=0;s<r.length;s++)t[r[s]]="0123456789abcdef"[s],e["0123456789abcdef"[s]]=r[s];var i=function(d){return"0x"+parseInt(d,10).toString(16)},a=n.__fontmetrics__.compress=function(d){var f,h,p,g,v=["{"];for(var m in d){if(f=d[m],isNaN(parseInt(m,10))?h="'"+m+"'":(m=parseInt(m,10),h=(h=i(m).slice(2)).slice(0,-1)+e[h.slice(-1)]),typeof f=="number")f<0?(p=i(f).slice(3),g="-"):(p=i(f).slice(2),g=""),p=g+p.slice(0,-1)+e[p.slice(-1)];else{if(ts(f)!=="object")throw new Error("Don't know what to do with value type "+ts(f)+".");p=a(f)}v.push(h+p)}return v.push("}"),v.join("")},o=n.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,h,p,g,v={},m=1,x=v,y=[],w="",E="",I=d.length-1,T=1;T<I;T+=1)(g=d[T])=="'"?f?(p=f.join(""),f=void 0):f=[]:f?f.push(g):g=="{"?(y.push([x,p]),x={},p=void 0):g=="}"?((h=y.pop())[0][h[1]]=x,p=void 0,x=h[0]):g=="-"?m=-1:p===void 0?t.hasOwnProperty(g)?(w+=t[g],p=parseInt(w,16)*m,m=1,w=""):w+=g:t.hasOwnProperty(g)?(E+=t[g],x[p]=parseInt(E,16)*m,m=1,p=void 0,E=""):E+=g;return v},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},l={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(d){var f=d.font,h=l.Unicode[f.postScriptName];h&&(f.metadata.Unicode={},f.metadata.Unicode.widths=h.widths,f.metadata.Unicode.kerning=h.kerning);var p=u.Unicode[f.postScriptName];p&&(f.metadata.Unicode.encoding=p,f.encoding=p.codePages[0])}])}(Ir.API),function(n){var r=function(t){for(var e=t.length,s=new Uint8Array(e),i=0;i<e;i++)s[i]=t.charCodeAt(i);return s};n.API.events.push(["addFont",function(t){var e=void 0,s=t.font,i=t.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(e=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?r(o):r(ib(o)),a.metadata=n.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(s,e)}}])}(Ir),function(n){function r(){return(Fr.canvg?Promise.resolve(Fr.canvg):Np(()=>import("./index.es-a5ROL4H2.js"),__vite__mapDeps([0,1,2,3,4,5]))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}Ir.API.addSvgAsImage=function(t,e,s,i,a,o,c,u){if(isNaN(e)||isNaN(s))throw ls.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw ls.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=i,l.height=a;var d=l.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,l.width,l.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return r().then(function(p){return p.fromString(d,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(f)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),e,s,i,a,c,u)})}}(),Ir.API.putTotalPages=function(n){var r,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(r=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(r=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var e=1;e<=this.internal.getNumberOfPages();e++)for(var s=0;s<this.internal.pages[e].length;s++)this.internal.pages[e][s]=this.internal.pages[e][s].replace(r,t);return this},Ir.API.viewerPreferences=function(n,r){var t;n=n||{},r=r||!1;var e,s,i,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),c=[],u=0,l=0,d=0;function f(p,g){var v,m=!1;for(v=0;v<p.length;v+=1)p[v]===g&&(m=!0);return m}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||r===!0){var h=o.length;for(d=0;d<h;d+=1)t[o[d]].value=t[o[d]].defaultValue,t[o[d]].explicitSet=!1}if(ts(n)==="object"){for(s in n)if(i=n[s],f(o,s)&&i!==void 0){if(t[s].type==="boolean"&&typeof i=="boolean")t[s].value=i;else if(t[s].type==="name"&&f(t[s].valueSet,i))t[s].value=i;else if(t[s].type==="integer"&&Number.isInteger(i))t[s].value=i;else if(t[s].type==="array"){for(u=0;u<i.length;u+=1)if(e=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(l=0;l<i[u].length;l+=1)typeof i[u][l]!="number"&&(e=!1);e===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}t[s].value="["+c.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,g=[];for(p in t)t[p].explicitSet===!0&&(t[p].type==="name"?g.push("/"+p+" /"+t[p].value):g.push("/"+p+" "+t[p].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var r=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(e)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+a.length+o.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(s+i+a+o+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(e,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:e,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",r)),this}}(Ir.API),function(n){var r=n.API,t=r.pdfEscape16=function(i,a){for(var o,c=a.metadata.Unicode.widths,u=["","0","00","000","0000"],l=[""],d=0,f=i.length;d<f;++d){if(o=a.metadata.characterToGlyph(i.charCodeAt(d)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=i.charCodeAt(d),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return l.join("");o=o.toString(16),l.push(u[4-o.length],o)}return l.join("")},e=function(i){var a,o,c,u,l,d,f;for(l=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],d=0,f=(o=Object.keys(i).sort(function(h,p){return h-p})).length;d<f;d++)a=o[d],c.length>=100&&(l+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[a]!==void 0&&i[a]!==null&&typeof i[a].toString=="function"&&(u=("0000"+i[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+u+">"));return c.length&&(l+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),l+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};r.events.push(["putFont",function(i){(function(a){var o=a.font,c=a.out,u=a.newObject,l=a.putStream;if(o.metadata instanceof n.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,f=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var g=u();l({data:h,addLength1:!0,objectId:g}),c("endobj");var v=u();l({data:e(o.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var m=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+M0(o.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+n.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var x=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+M0(o.fontName)),c("/FontDescriptor "+m+" 0 R"),c("/W "+n.API.PDFObject.convert(d)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+M0(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+x+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]),r.events.push(["putFont",function(i){(function(a){var o=a.font,c=a.out,u=a.newObject,l=a.putStream;if(o.metadata instanceof n.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,f="",h=0;h<d.length;h++)f+=String.fromCharCode(d[h]);var p=u();l({data:f,addLength1:!0,objectId:p}),c("endobj");var g=u();l({data:e(o.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var v=u();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+p+" 0 R"),c("/Flags 96"),c("/FontBBox "+n.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+M0(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=u();for(var m=0;m<o.metadata.hmtx.widths.length;m++)o.metadata.hmtx.widths[m]=parseInt(o.metadata.hmtx.widths[m]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+M0(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]);var s=function(i){var a,o=i.text||"",c=i.x,u=i.y,l=i.options||{},d=i.mutex||{},f=d.pdfEscape,h=d.activeFontKey,p=d.fonts,g=h,v="",m=0,x="",y=p[g].encoding;if(p[g].encoding!=="Identity-H")return{text:o,x:c,y:u,options:l,mutex:d};for(x=o,g=h,Array.isArray(o)&&(x=o[0]),m=0;m<x.length;m+=1)p[g].metadata.hasOwnProperty("cmap")&&(a=p[g].metadata.cmap.unicode.codeMap[x[m].charCodeAt(0)]),a||x[m].charCodeAt(0)<256&&p[g].metadata.hasOwnProperty("Unicode")?v+=x[m]:v+="";var w="";return parseInt(g.slice(1))<14||y==="WinAnsiEncoding"?w=f(v,g).split("").map(function(E){return E.charCodeAt(0).toString(16)}).join(""):y==="Identity-H"&&(w=t(v,p[g])),d.isHex=!0,{text:w,x:c,y:u,options:l,mutex:d}};r.events.push(["postProcessText",function(i){var a=i.text||"",o=[],c={text:a,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([s(Object.assign({},c,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(s(Object.assign({},c,{text:a[u]})).text);i.text=o}else i.text=s(Object.assign({},c,{text:a})).text}])}(Ir),function(n){var r=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return r.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,e){return r.call(this),this.internal.vFS[t]=e,this},n.getFileFromVFS=function(t){return r.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Ir.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(e){var s,i,a,o,c,u,l,d=r,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,y=0;this.__bidiEngine__={};var w=function(M){var H=M.charCodeAt(),V=H>>8,P=g[V];return P!==void 0?d[256*P+(255&H)]:V===252||V===253?"AL":m.test(V)?"L":V===8?"R":"N"},E=function(M){for(var H,V=0;V<M.length;V++){if((H=w(M.charAt(V)))==="L")return!1;if(H==="R")return!0}return!1},I=function(M,H,V,P){var F,A,_,S,N=H[P];switch(N){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(N="AN");break;case"AL":x=!0,N="R";break;case"WS":N="N";break;case"CS":P<1||P+1>=H.length||(F=V[P-1])!=="EN"&&F!=="AN"||(A=H[P+1])!=="EN"&&A!=="AN"?N="N":x&&(A="AN"),N=A===F?A:"N";break;case"ES":N=(F=P>0?V[P-1]:"B")==="EN"&&P+1<H.length&&H[P+1]==="EN"?"EN":"N";break;case"ET":if(P>0&&V[P-1]==="EN"){N="EN";break}if(x){N="N";break}for(_=P+1,S=H.length;_<S&&H[_]==="ET";)_++;N=_<S&&H[_]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(S=H.length,_=P+1;_<S&&H[_]==="NSM";)_++;if(_<S){var C=M[P],W=C>=1425&&C<=2303||C===64286;if(F=H[_],W&&(F==="R"||F==="AL")){N="R";break}}}N=P<1||(F=H[P-1])==="B"?"N":V[P-1];break;case"B":x=!1,s=!0,N=y;break;case"S":i=!0,N="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":N="N"}return N},T=function(M,H,V){var P=M.split("");return V&&R(P,V,{hiLevel:y}),P.reverse(),H&&H.reverse(),P.join("")},R=function(M,H,V){var P,F,A,_,S,N=-1,C=M.length,W=0,j=[],B=y?h:f,G=[];for(x=!1,s=!1,i=!1,F=0;F<C;F++)G[F]=w(M[F]);for(A=0;A<C;A++){if(S=W,j[A]=I(M,G,j,A),P=240&(W=B[S][p[j[A]]]),W&=15,H[A]=_=B[W][5],P>0)if(P===16){for(F=N;F<A;F++)H[F]=1;N=-1}else N=-1;if(B[W][6])N===-1&&(N=A);else if(N>-1){for(F=N;F<A;F++)H[F]=_;N=-1}G[A]==="B"&&(H[A]=0),V.hiLevel|=_}i&&function(X,J,O){for(var ee=0;ee<O;ee++)if(X[ee]==="S"){J[ee]=y;for(var U=ee-1;U>=0&&X[U]==="WS";U--)J[U]=y}}(G,H,C)},D=function(M,H,V,P,F){if(!(F.hiLevel<M)){if(M===1&&y===1&&!s)return H.reverse(),void(V&&V.reverse());for(var A,_,S,N,C=H.length,W=0;W<C;){if(P[W]>=M){for(S=W+1;S<C&&P[S]>=M;)S++;for(N=W,_=S-1;N<_;N++,_--)A=H[N],H[N]=H[_],H[_]=A,V&&(A=V[N],V[N]=V[_],V[_]=A);W=S}W++}}},L=function(M,H,V){var P=M.split(""),F={hiLevel:y};return V||(V=[]),R(P,V,F),function(A,_,S){if(S.hiLevel!==0&&l)for(var N,C=0;C<A.length;C++)_[C]===1&&(N=v.indexOf(A[C]))>=0&&(A[C]=v[N+1])}(P,V,F),D(2,P,H,V,F),D(1,P,H,V,F),P.join("")};return this.__bidiEngine__.doBidiReorder=function(M,H,V){if(function(F,A){if(A)for(var _=0;_<F.length;_++)A[_]=_;o===void 0&&(o=E(F)),u===void 0&&(u=E(F))}(M,H),a||!c||u)if(a&&c&&o^u)y=o?1:0,M=T(M,H,V);else if(!a&&c&&u)y=o?1:0,M=L(M,H,V),M=T(M,H);else if(!a||o||c||u){if(a&&!c&&o^u)M=T(M,H),o?(y=0,M=L(M,H,V)):(y=1,M=L(M,H,V),M=T(M,H));else if(a&&o&&!c&&u)y=1,M=L(M,H,V),M=T(M,H);else if(!a&&!c&&o^u){var P=l;o?(y=1,M=L(M,H,V),y=0,l=!1,M=L(M,H,V),l=P):(y=0,M=L(M,H,V),M=T(M,H),y=1,l=!1,M=L(M,H,V),l=P,M=T(M,H))}}else y=0,M=L(M,H,V);else y=o?1:0,M=L(M,H,V);return M},this.__bidiEngine__.setOptions=function(M){M&&(a=M.isInputVisual,c=M.isOutputVisual,o=M.isInputRtl,u=M.isOutputRtl,l=M.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var r=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(e){var s=e.text,i=(e.x,e.y,e.options||{}),a=(e.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,t.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var o=0;for(a=[],o=0;o<s.length;o+=1)Object.prototype.toString.call(s[o])==="[object Array]"?a.push([t.doBidiReorder(s[o][0]),s[o][1],s[o][2]]):a.push([t.doBidiReorder(s[o])]);e.text=a}else e.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])}(Ir),Ir.API.TTFFont=function(){function n(r){var t;if(this.rawData=r,t=this.contents=new Rf(r),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new AU(this),this.registerTTF()}return n.open=function(r){return new n(r)},n.prototype.parse=function(){return this.directory=new hU(this.contents),this.head=new pU(this),this.name=new yU(this),this.cmap=new KA(this),this.toUnicode={},this.hhea=new mU(this),this.maxp=new xU(this),this.hmtx=new wU(this),this.post=new bU(this),this.os2=new gU(this),this.loca=new NU(this),this.glyf=new _U(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var r,t,e,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,c,u;for(u=[],a=0,o=(c=this.bbox).length;a<o;a++)r=c[a],u.push(Math.round(r*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(e=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+e)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(r){var t;return((t=this.cmap.unicode)!=null?t.codeMap[r]:void 0)||0},n.prototype.widthOfGlyph=function(r){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(r).advance*t},n.prototype.widthOfString=function(r,t,e){var s,i,a,o;for(a=0,i=0,o=(r=""+r).length;0<=o?i<o:i>o;i=0<=o?++i:--i)s=r.charCodeAt(i),a+=this.widthOfGlyph(this.characterToGlyph(s))+e*(1e3/t)||0;return a*(t/1e3)},n.prototype.lineHeight=function(r,t){var e;return t==null&&(t=!1),e=t?this.lineGap:0,(this.ascender+e-this.decender)/1e3*r},n}();var Yc,Rf=function(){function n(r){this.data=r??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(r){return this.data[this.pos++]=r},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(r){return this.writeByte(r>>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt32=function(){var r;return(r=this.readUInt32())>=2147483648?r-4294967296:r},n.prototype.writeInt32=function(r){return r<0&&(r+=4294967296),this.writeUInt32(r)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(r){return this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt16=function(){var r;return(r=this.readUInt16())>=32768?r-65536:r},n.prototype.writeInt16=function(r){return r<0&&(r+=65536),this.writeUInt16(r)},n.prototype.readString=function(r){var t,e;for(e=[],t=0;0<=r?t<r:t>r;t=0<=r?++t:--t)e[t]=String.fromCharCode(this.readByte());return e.join("")},n.prototype.writeString=function(r){var t,e,s;for(s=[],t=0,e=r.length;0<=e?t<e:t>e;t=0<=e?++t:--t)s.push(this.writeByte(r.charCodeAt(t)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(r){return this.writeInt16(r)},n.prototype.readLongLong=function(){var r,t,e,s,i,a,o,c;return r=this.readByte(),t=this.readByte(),e=this.readByte(),s=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),128&r?-1*(72057594037927940*(255^r)+281474976710656*(255^t)+1099511627776*(255^e)+4294967296*(255^s)+16777216*(255^i)+65536*(255^a)+256*(255^o)+(255^c)+1):72057594037927940*r+281474976710656*t+1099511627776*e+4294967296*s+16777216*i+65536*a+256*o+c},n.prototype.writeLongLong=function(r){var t,e;return t=Math.floor(r/4294967296),e=4294967295&r,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(r){return this.writeInt32(r)},n.prototype.read=function(r){var t,e;for(t=[],e=0;0<=r?e<r:e>r;e=0<=r?++e:--e)t.push(this.readByte());return t},n.prototype.write=function(r){var t,e,s,i;for(i=[],e=0,s=r.length;e<s;e++)t=r[e],i.push(this.writeByte(t));return i},n}(),hU=function(){var n;function r(t){var e,s,i;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)e={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[e.tag]=e}return r.prototype.encode=function(t){var e,s,i,a,o,c,u,l,d,f,h,p,g;for(g in h=Object.keys(t).length,c=Math.log(2),d=16*Math.floor(Math.log(h)/c),a=Math.floor(d/c),l=16*h-d,(s=new Rf).writeInt(this.scalarType),s.writeShort(h),s.writeShort(d),s.writeShort(a),s.writeShort(l),i=16*h,u=s.pos+i,o=null,p=[],t)for(f=t[g],s.writeString(g),s.writeInt(n(f)),s.writeInt(u),s.writeInt(f.length),p=p.concat(f),g==="head"&&(o=u),u+=f.length;u%4;)p.push(0),u++;return s.write(p),e=2981146554-n(s.data),s.pos=o+8,s.writeUInt32(e),s.data},n=function(t){var e,s,i,a;for(t=JA.call(t);t.length%4;)t.push(0);for(i=new Rf(t),s=0,e=0,a=t.length;e<a;e=e+=4)s+=i.readUInt32();return 4294967295&s},r}(),fU={}.hasOwnProperty,Ku=function(n,r){for(var t in r)fU.call(r,t)&&(n[t]=r[t]);function e(){this.constructor=n}return e.prototype=r.prototype,n.prototype=new e,n.__super__=r.prototype,n};Yc=function(){function n(r){var t;this.file=r,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var pU=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return Ku(r,Yc),r.prototype.tag="head",r.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},r.prototype.encode=function(t){var e;return(e=new Rf).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},r}(),p7=function(){function n(r,t){var e,s,i,a,o,c,u,l,d,f,h,p,g,v,m,x,y;switch(this.platformID=r.readUInt16(),this.encodingID=r.readShort(),this.offset=t+r.readInt(),d=r.pos,r.pos=this.offset,this.format=r.readUInt16(),this.length=r.readUInt16(),this.language=r.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=r.readByte();break;case 4:for(h=r.readUInt16(),f=h/2,r.pos+=6,i=function(){var w,E;for(E=[],c=w=0;0<=f?w<f:w>f;c=0<=f?++w:--w)E.push(r.readUInt16());return E}(),r.pos+=2,g=function(){var w,E;for(E=[],c=w=0;0<=f?w<f:w>f;c=0<=f?++w:--w)E.push(r.readUInt16());return E}(),u=function(){var w,E;for(E=[],c=w=0;0<=f?w<f:w>f;c=0<=f?++w:--w)E.push(r.readUInt16());return E}(),l=function(){var w,E;for(E=[],c=w=0;0<=f?w<f:w>f;c=0<=f?++w:--w)E.push(r.readUInt16());return E}(),s=(this.length-r.pos+this.offset)/2,o=function(){var w,E;for(E=[],c=w=0;0<=s?w<s:w>s;c=0<=s?++w:--w)E.push(r.readUInt16());return E}(),c=m=0,y=i.length;m<y;c=++m)for(v=i[c],e=x=p=g[c];p<=v?x<=v:x>=v;e=p<=v?++x:--x)l[c]===0?a=e+u[c]:(a=o[l[c]/2+(e-p)-(f-c)]||0)!==0&&(a+=u[c]),this.codeMap[e]=65535&a}r.pos=d}return n.encode=function(r,t){var e,s,i,a,o,c,u,l,d,f,h,p,g,v,m,x,y,w,E,I,T,R,D,L,M,H,V,P,F,A,_,S,N,C,W,j,B,G,X,J,O,ee,U,z,Z,te;switch(P=new Rf,a=Object.keys(r).sort(function(oe,ue){return oe-ue}),t){case"macroman":for(g=0,v=function(){var oe=[];for(p=0;p<256;++p)oe.push(0);return oe}(),x={0:0},i={},F=0,N=a.length;F<N;F++)x[U=r[s=a[F]]]==null&&(x[U]=++g),i[s]={old:r[s],new:x[r[s]]},v[s]=x[r[s]];return P.writeUInt16(1),P.writeUInt16(0),P.writeUInt32(12),P.writeUInt16(0),P.writeUInt16(262),P.writeUInt16(0),P.write(v),{charMap:i,subtable:P.data,maxGlyphID:g+1};case"unicode":for(H=[],d=[],y=0,x={},e={},m=u=null,A=0,C=a.length;A<C;A++)x[E=r[s=a[A]]]==null&&(x[E]=++y),e[s]={old:E,new:x[E]},o=x[E]-s,m!=null&&o===u||(m&&d.push(m),H.push(s),u=o),m=s;for(m&&d.push(m),d.push(65535),H.push(65535),L=2*(D=H.length),R=2*Math.pow(Math.log(D)/Math.LN2,2),f=Math.log(R/2)/Math.LN2,T=2*D-R,c=[],I=[],h=[],p=_=0,W=H.length;_<W;p=++_){if(M=H[p],l=d[p],M===65535){c.push(0),I.push(0);break}if(M-(V=e[M].new)>=32768)for(c.push(0),I.push(2*(h.length+D-p)),s=S=M;M<=l?S<=l:S>=l;s=M<=l?++S:--S)h.push(e[s].new);else c.push(V-M),I.push(0)}for(P.writeUInt16(3),P.writeUInt16(1),P.writeUInt32(12),P.writeUInt16(4),P.writeUInt16(16+8*D+2*h.length),P.writeUInt16(0),P.writeUInt16(L),P.writeUInt16(R),P.writeUInt16(f),P.writeUInt16(T),O=0,j=d.length;O<j;O++)s=d[O],P.writeUInt16(s);for(P.writeUInt16(0),ee=0,B=H.length;ee<B;ee++)s=H[ee],P.writeUInt16(s);for(z=0,G=c.length;z<G;z++)o=c[z],P.writeUInt16(o);for(Z=0,X=I.length;Z<X;Z++)w=I[Z],P.writeUInt16(w);for(te=0,J=h.length;te<J;te++)g=h[te],P.writeUInt16(g);return{charMap:e,subtable:P.data,maxGlyphID:y+1}}},n}(),KA=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return Ku(r,Yc),r.prototype.tag="cmap",r.prototype.parse=function(t){var e,s,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)e=new p7(t,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},r.encode=function(t,e){var s,i;return e==null&&(e="macroman"),s=p7.encode(t,e),(i=new Rf).writeUInt16(0),i.writeUInt16(1),s.table=i.data.concat(s.subtable),s},r}(),mU=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return Ku(r,Yc),r.prototype.tag="hhea",r.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},r}(),gU=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return Ku(r,Yc),r.prototype.tag="OS/2",r.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var e,s;for(s=[],e=0;e<10;++e)s.push(t.readByte());return s}(),this.charRange=function(){var e,s;for(s=[],e=0;e<4;++e)s.push(t.readInt());return s}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var e,s;for(s=[],e=0;e<2;e=++e)s.push(t.readInt());return s}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},r}(),bU=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return Ku(r,Yc),r.prototype.tag="post",r.prototype.parse=function(t){var e,s,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var a;for(s=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)e=t.readByte(),i.push(this.names.push(t.readString(e)));return i;case 151552:return s=t.readUInt16(),this.offsets=t.read(s);case 196608:break;case 262144:return this.map=(function(){var o,c,u;for(u=[],a=o=0,c=this.file.maxp.numGlyphs;0<=c?o<c:o>c;a=0<=c?++o:--o)u.push(t.readUInt32());return u}).call(this)}},r}(),vU=function(n,r){this.raw=n,this.length=n.length,this.platformID=r.platformID,this.encodingID=r.encodingID,this.languageID=r.languageID},yU=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return Ku(r,Yc),r.prototype.tag="name",r.prototype.parse=function(t){var e,s,i,a,o,c,u,l,d,f,h;for(t.pos=this.offset,t.readShort(),e=t.readShort(),c=t.readShort(),s=[],a=0;0<=e?a<e:a>e;a=0<=e?++a:--a)s.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(u={},a=d=0,f=s.length;d<f;a=++d)i=s[a],t.pos=i.offset,l=t.readString(i.length),o=new vU(l,i),u[h=i.nameID]==null&&(u[h]=[]),u[i.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},r}(),xU=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return Ku(r,Yc),r.prototype.tag="maxp",r.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},r}(),wU=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return Ku(r,Yc),r.prototype.tag="hmtx",r.prototype.parse=function(t){var e,s,i,a,o,c,u;for(t.pos=this.offset,this.metrics=[],e=0,c=this.file.hhea.numberOfMetrics;0<=c?e<c:e>c;e=0<=c?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var l,d;for(d=[],e=l=0;0<=i?l<i:l>i;e=0<=i?++l:--l)d.push(t.readInt16());return d}(),this.widths=(function(){var l,d,f,h;for(h=[],l=0,d=(f=this.metrics).length;l<d;l++)a=f[l],h.push(a.advance);return h}).call(this),s=this.widths[this.widths.length-1],u=[],e=o=0;0<=i?o<i:o>i;e=0<=i?++o:--o)u.push(this.widths.push(s));return u},r.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},r}(),JA=[].slice,_U=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return Ku(r,Yc),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(t){var e,s,i,a,o,c,u,l,d,f;return t in this.cache?this.cache[t]:(a=this.file.loca,e=this.file.contents,s=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(e.pos=this.offset+s,o=(c=new Rf(e.read(i))).readShort(),l=c.readShort(),f=c.readShort(),u=c.readShort(),d=c.readShort(),this.cache[t]=o===-1?new EU(c,l,f,u,d):new SU(c,o,l,f,u,d),this.cache[t]))},r.prototype.encode=function(t,e,s){var i,a,o,c,u;for(o=[],a=[],c=0,u=e.length;c<u;c++)i=t[e[c]],a.push(o.length),i&&(o=o.concat(i.encode(s)));return a.push(o.length),{table:o,offsets:a}},r}(),SU=function(){function n(r,t,e,s,i,a){this.raw=r,this.numberOfContours=t,this.xMin=e,this.yMin=s,this.xMax=i,this.yMax=a,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),EU=function(){function n(r,t,e,s,i){var a,o;for(this.raw=r,this.xMin=t,this.yMin=e,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return n.prototype.encode=function(){var r,t,e;for(t=new Rf(JA.call(this.raw.data)),r=0,e=this.glyphIDs.length;r<e;++r)t.pos=this.glyphOffsets[r];return t.data},n}(),NU=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return Ku(r,Yc),r.prototype.tag="loca",r.prototype.parse=function(t){var e,s;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],s=0,i=this.length;s<i;s+=4)a.push(t.readUInt32());return a}).call(this)},r.prototype.indexOf=function(t){return this.offsets[t]},r.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},r.prototype.encode=function(t,e){for(var s=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<s.length;++o)if(s[o]=i,a<e.length&&e[a]==o){++a,s[o]=i;var c=this.offsets[o],u=this.offsets[o+1]-c;u>0&&(i+=u)}for(var l=new Array(4*s.length),d=0;d<s.length;++d)l[4*d+3]=255&s[d],l[4*d+2]=(65280&s[d])>>8,l[4*d+1]=(16711680&s[d])>>16,l[4*d]=(4278190080&s[d])>>24;return l},r}(),AU=function(){function n(r){this.font=r,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var r,t,e,s,i;for(t in s=this.font.cmap.tables[0].codeMap,r={},i=this.subset)e=i[t],r[t]=s[e];return r},n.prototype.glyphsFor=function(r){var t,e,s,i,a,o,c;for(s={},a=0,o=r.length;a<o;a++)s[i=r[a]]=this.font.glyf.glyphFor(i);for(i in t=[],s)(e=s[i])!=null&&e.compound&&t.push.apply(t,e.glyphIDs);if(t.length>0)for(i in c=this.glyphsFor(t))e=c[i],s[i]=e;return s},n.prototype.encode=function(r,t){var e,s,i,a,o,c,u,l,d,f,h,p,g,v,m;for(s in e=KA.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(r),h={0:0},m=e.charMap)h[(c=m[s]).old]=c.new;for(p in f=e.maxGlyphID,a)p in h||(h[p]=f++);return l=function(x){var y,w;for(y in w={},x)w[x[y]]=y;return w}(h),d=Object.keys(l).sort(function(x,y){return x-y}),g=function(){var x,y,w;for(w=[],x=0,y=d.length;x<y;x++)o=d[x],w.push(l[o]);return w}(),i=this.font.glyf.encode(a,g,h),u=this.font.loca.encode(i.offsets,g),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},n}();Ir.API.PDFObject=function(){var n;function r(){}return n=function(t,e){return(Array(e+1).join("0")+t).slice(-e)},r.convert=function(t){var e,s,i,a;if(Array.isArray(t))return"["+function(){var o,c,u;for(u=[],o=0,c=t.length;o<c;o++)e=t[o],u.push(r.convert(e));return u}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in i=["<<"],t)a=t[s],i.push("/"+s+" "+r.convert(a));return i.push(">>"),i.join(`
`)}return""+t},r}();const kU=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:sU,AcroFormAppearance:hr,AcroFormButton:Mi,AcroFormCheckBox:lb,AcroFormChoiceField:Nm,AcroFormComboBox:km,AcroFormEditBox:ab,AcroFormListBox:Am,AcroFormPasswordField:cb,AcroFormPushButton:ob,AcroFormRadioButton:Cm,AcroFormTextField:kf,GState:kb,ShadingPattern:Kh,TilingPattern:Ap,default:Ir,jsPDF:Ir},Symbol.toStringTag,{value:"Module"}));var CU={exports:{}};const TU=wM(kU);(function(n,r){var t={};/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(s,i){n.exports=i(function(){try{return TU}catch{}}())})(typeof globalThis<"u"?globalThis:typeof Sb<"u"?Sb:typeof window<"u"?window:typeof self<"u"?self:t,function(e){return function(){var s={172:function(c,u){var l=this&&this.__extends||function(){var h=function(p,g){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var x in m)Object.prototype.hasOwnProperty.call(m,x)&&(v[x]=m[x])},h(p,g)};return function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");h(p,g);function v(){this.constructor=p}p.prototype=g===null?Object.create(g):(v.prototype=g.prototype,new v)}}();Object.defineProperty(u,"__esModule",{value:!0}),u.CellHookData=u.HookData=void 0;var d=function(){function h(p,g,v){this.table=g,this.pageNumber=g.pageNumber,this.pageCount=this.pageNumber,this.settings=g.settings,this.cursor=v,this.doc=p.getDocument()}return h}();u.HookData=d;var f=function(h){l(p,h);function p(g,v,m,x,y,w){var E=h.call(this,g,v,w)||this;return E.cell=m,E.row=x,E.column=y,E.section=x.section,E}return p}(d);u.CellHookData=f},340:function(c,u,l){Object.defineProperty(u,"__esModule",{value:!0});var d=l(4),f=l(136),h=l(744),p=l(776),g=l(664),v=l(972);function m(x){x.API.autoTable=function(){for(var y=[],w=0;w<arguments.length;w++)y[w]=arguments[w];var E;y.length===1?E=y[0]:(console.error("Use of deprecated autoTable initiation"),E=y[2]||{},E.columns=y[0],E.body=y[1]);var I=(0,p.parseInput)(this,E),T=(0,v.createTable)(this,I);return(0,g.drawTable)(this,T),this},x.API.lastAutoTable=!1,x.API.previousAutoTable=!1,x.API.autoTable.previous=!1,x.API.autoTableText=function(y,w,E,I){(0,f.default)(y,w,E,I,this)},x.API.autoTableSetDefaults=function(y){return h.DocHandler.setDefaults(y,this),this},x.autoTableSetDefaults=function(y,w){h.DocHandler.setDefaults(y,w)},x.API.autoTableHtmlToJson=function(y,w){var E;if(w===void 0&&(w=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var I=new h.DocHandler(this),T=(0,d.parseHtml)(I,y,window,w,!1),R=T.head,D=T.body,L=((E=R[0])===null||E===void 0?void 0:E.map(function(M){return M.content}))||[];return{columns:L,rows:D,data:D}},x.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var y=this.lastAutoTable;return y&&y.finalY?y.finalY:0},x.API.autoTableAddPageContent=function(y){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),x.API.autoTable.globalDefaults||(x.API.autoTable.globalDefaults={}),x.API.autoTable.globalDefaults.addPageContent=y,this},x.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}u.default=m},136:function(c,u){Object.defineProperty(u,"__esModule",{value:!0});function l(d,f,h,p,g){p=p||{};var v=1.15,m=g.internal.scaleFactor,x=g.internal.getFontSize()/m,y=g.getLineHeightFactor?g.getLineHeightFactor():v,w=x*y,E=/\r\n|\r|\n/g,I="",T=1;if((p.valign==="middle"||p.valign==="bottom"||p.halign==="center"||p.halign==="right")&&(I=typeof d=="string"?d.split(E):d,T=I.length||1),h+=x*(2-v),p.valign==="middle"?h-=T/2*w:p.valign==="bottom"&&(h-=T*w),p.halign==="center"||p.halign==="right"){var R=x;if(p.halign==="center"&&(R*=.5),I&&T>=1){for(var D=0;D<I.length;D++)g.text(I[D],f-g.getStringUnitWidth(I[D])*R,h),h+=w;return g}f-=g.getStringUnitWidth(d)*R}return p.halign==="justify"?g.text(d,f,h,{maxWidth:p.maxWidth||100,align:"justify"}):g.text(d,f,h),g}u.default=l},420:function(c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.getPageAvailableWidth=u.parseSpacing=u.getFillStyle=u.addTableBorder=u.getStringWidth=void 0;function l(g,v,m){m.applyStyles(v,!0);var x=Array.isArray(g)?g:[g],y=x.map(function(w){return m.getTextWidth(w)}).reduce(function(w,E){return Math.max(w,E)},0);return y}u.getStringWidth=l;function d(g,v,m,x){var y=v.settings.tableLineWidth,w=v.settings.tableLineColor;g.applyStyles({lineWidth:y,lineColor:w});var E=f(y,!1);E&&g.rect(m.x,m.y,v.getWidth(g.pageSize().width),x.y-m.y,E)}u.addTableBorder=d;function f(g,v){var m=g>0,x=v||v===0;return m&&x?"DF":m?"S":x?"F":null}u.getFillStyle=f;function h(g,v){var m,x,y,w;if(g=g||v,Array.isArray(g)){if(g.length>=4)return{top:g[0],right:g[1],bottom:g[2],left:g[3]};if(g.length===3)return{top:g[0],right:g[1],bottom:g[2],left:g[1]};if(g.length===2)return{top:g[0],right:g[1],bottom:g[0],left:g[1]};g.length===1?g=g[0]:g=v}return typeof g=="object"?(typeof g.vertical=="number"&&(g.top=g.vertical,g.bottom=g.vertical),typeof g.horizontal=="number"&&(g.right=g.horizontal,g.left=g.horizontal),{left:(m=g.left)!==null&&m!==void 0?m:v,top:(x=g.top)!==null&&x!==void 0?x:v,right:(y=g.right)!==null&&y!==void 0?y:v,bottom:(w=g.bottom)!==null&&w!==void 0?w:v}):(typeof g!="number"&&(g=v),{top:g,right:g,bottom:g,left:g})}u.parseSpacing=h;function p(g,v){var m=h(v.settings.margin,0);return g.pageSize().width-(m.left+m.right)}u.getPageAvailableWidth=p},796:function(c,u){var l=this&&this.__extends||function(){var p=function(g,v){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,x){m.__proto__=x}||function(m,x){for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(m[y]=x[y])},p(g,v)};return function(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");p(g,v);function m(){this.constructor=g}g.prototype=v===null?Object.create(v):(m.prototype=v.prototype,new m)}}();Object.defineProperty(u,"__esModule",{value:!0}),u.getTheme=u.defaultStyles=u.HtmlRowInput=void 0;var d=function(p){l(g,p);function g(v){var m=p.call(this)||this;return m._element=v,m}return g}(Array);u.HtmlRowInput=d;function f(p){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/p,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}u.defaultStyles=f;function h(p){var g={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return g[p]}u.getTheme=h},903:function(c,u,l){Object.defineProperty(u,"__esModule",{value:!0}),u.parseCss=void 0;var d=l(420);function f(m,x,y,w,E){var I={},T=1.3333333333333333,R=p(x,function(C){return E.getComputedStyle(C).backgroundColor});R!=null&&(I.fillColor=R);var D=p(x,function(C){return E.getComputedStyle(C).color});D!=null&&(I.textColor=D);var L=v(w,y);L&&(I.cellPadding=L);var M="borderTopColor",H=T*y,V=w.borderTopWidth;if(w.borderBottomWidth===V&&w.borderRightWidth===V&&w.borderLeftWidth===V){var P=(parseFloat(V)||0)/H;P&&(I.lineWidth=P)}else I.lineWidth={top:(parseFloat(w.borderTopWidth)||0)/H,right:(parseFloat(w.borderRightWidth)||0)/H,bottom:(parseFloat(w.borderBottomWidth)||0)/H,left:(parseFloat(w.borderLeftWidth)||0)/H},I.lineWidth.top||(I.lineWidth.right?M="borderRightColor":I.lineWidth.bottom?M="borderBottomColor":I.lineWidth.left&&(M="borderLeftColor"));var F=p(x,function(C){return E.getComputedStyle(C)[M]});F!=null&&(I.lineColor=F);var A=["left","right","center","justify"];A.indexOf(w.textAlign)!==-1&&(I.halign=w.textAlign),A=["middle","bottom","top"],A.indexOf(w.verticalAlign)!==-1&&(I.valign=w.verticalAlign);var _=parseInt(w.fontSize||"");isNaN(_)||(I.fontSize=_/T);var S=h(w);S&&(I.fontStyle=S);var N=(w.fontFamily||"").toLowerCase();return m.indexOf(N)!==-1&&(I.font=N),I}u.parseCss=f;function h(m){var x="";return(m.fontWeight==="bold"||m.fontWeight==="bolder"||parseInt(m.fontWeight)>=700)&&(x="bold"),(m.fontStyle==="italic"||m.fontStyle==="oblique")&&(x+="italic"),x}function p(m,x){var y=g(m,x);if(!y)return null;var w=y.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!w||!Array.isArray(w))return null;var E=[parseInt(w[1]),parseInt(w[2]),parseInt(w[3])],I=parseInt(w[4]);return I===0||isNaN(E[0])||isNaN(E[1])||isNaN(E[2])?null:E}function g(m,x){var y=x(m);return y==="rgba(0, 0, 0, 0)"||y==="transparent"||y==="initial"||y==="inherit"?m.parentElement==null?null:g(m.parentElement,x):y}function v(m,x){var y=[m.paddingTop,m.paddingRight,m.paddingBottom,m.paddingLeft],w=96/(72/x),E=(parseInt(m.lineHeight)-parseInt(m.fontSize))/x/2,I=y.map(function(R){return parseInt(R||"0")/w}),T=(0,d.parseSpacing)(I,0);return E>T.top&&(T.top=E),E>T.bottom&&(T.bottom=E),T}},744:function(c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.DocHandler=void 0;var l={},d=function(){function f(h){this.jsPDFDocument=h,this.userStyles={textColor:h.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:h.internal.getFontSize(),fontStyle:h.internal.getFont().fontStyle,font:h.internal.getFont().fontName,lineWidth:h.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:h.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return f.setDefaults=function(h,p){p===void 0&&(p=null),p?p.__autoTableDocumentDefaults=h:l=h},f.unifyColor=function(h){return Array.isArray(h)?h:typeof h=="number"?[h,h,h]:typeof h=="string"?[h]:null},f.prototype.applyStyles=function(h,p){var g,v,m;p===void 0&&(p=!1),h.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(h.fontStyle);var x=this.jsPDFDocument.internal.getFont(),y=x.fontStyle,w=x.fontName;if(h.font&&(w=h.font),h.fontStyle){y=h.fontStyle;var E=this.getFontList()[w];E&&E.indexOf(y)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(E[0]),y=E[0])}if(this.jsPDFDocument.setFont(w,y),h.fontSize&&this.jsPDFDocument.setFontSize(h.fontSize),!p){var I=f.unifyColor(h.fillColor);I&&(g=this.jsPDFDocument).setFillColor.apply(g,I),I=f.unifyColor(h.textColor),I&&(v=this.jsPDFDocument).setTextColor.apply(v,I),I=f.unifyColor(h.lineColor),I&&(m=this.jsPDFDocument).setDrawColor.apply(m,I),typeof h.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(h.lineWidth)}},f.prototype.splitTextToSize=function(h,p,g){return this.jsPDFDocument.splitTextToSize(h,p,g)},f.prototype.rect=function(h,p,g,v,m){return this.jsPDFDocument.rect(h,p,g,v,m)},f.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},f.prototype.getTextWidth=function(h){return this.jsPDFDocument.getTextWidth(h)},f.prototype.getDocument=function(){return this.jsPDFDocument},f.prototype.setPage=function(h){this.jsPDFDocument.setPage(h)},f.prototype.addPage=function(){return this.jsPDFDocument.addPage()},f.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},f.prototype.getGlobalOptions=function(){return l||{}},f.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},f.prototype.pageSize=function(){var h=this.jsPDFDocument.internal.pageSize;return h.width==null&&(h={width:h.getWidth(),height:h.getHeight()}),h},f.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},f.prototype.getLineHeightFactor=function(){var h=this.jsPDFDocument;return h.getLineHeightFactor?h.getLineHeightFactor():1.15},f.prototype.getLineHeight=function(h){return h/this.scaleFactor()*this.getLineHeightFactor()},f.prototype.pageNumber=function(){var h=this.jsPDFDocument.internal.getCurrentPageInfo();return h?h.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},f}();u.DocHandler=d},4:function(c,u,l){Object.defineProperty(u,"__esModule",{value:!0}),u.parseHtml=void 0;var d=l(903),f=l(796);function h(v,m,x,y,w){var E,I;y===void 0&&(y=!1),w===void 0&&(w=!1);var T;typeof m=="string"?T=x.document.querySelector(m):T=m;var R=Object.keys(v.getFontList()),D=v.scaleFactor(),L=[],M=[],H=[];if(!T)return console.error("Html table could not be found with input: ",m),{head:L,body:M,foot:H};for(var V=0;V<T.rows.length;V++){var P=T.rows[V],F=(I=(E=P==null?void 0:P.parentElement)===null||E===void 0?void 0:E.tagName)===null||I===void 0?void 0:I.toLowerCase(),A=p(R,D,x,P,y,w);A&&(F==="thead"?L.push(A):F==="tfoot"?H.push(A):M.push(A))}return{head:L,body:M,foot:H}}u.parseHtml=h;function p(v,m,x,y,w,E){for(var I=new f.HtmlRowInput(y),T=0;T<y.cells.length;T++){var R=y.cells[T],D=x.getComputedStyle(R);if(w||D.display!=="none"){var L=void 0;E&&(L=(0,d.parseCss)(v,R,m,D,x)),I.push({rowSpan:R.rowSpan,colSpan:R.colSpan,styles:L,_element:R,content:g(R)})}}var M=x.getComputedStyle(y);if(I.length>0&&(w||M.display!=="none"))return I}function g(v){var m=v.cloneNode(!0);return m.innerHTML=m.innerHTML.replace(/\n/g,"").replace(/ +/g," "),m.innerHTML=m.innerHTML.split(/<br.*?>/).map(function(x){return x.trim()}).join(`
`),m.innerText||m.textContent||""}},776:function(c,u,l){Object.defineProperty(u,"__esModule",{value:!0}),u.parseInput=void 0;var d=l(4),f=l(356),h=l(420),p=l(744),g=l(792);function v(T,R){var D=new p.DocHandler(T),L=D.getDocumentOptions(),M=D.getGlobalOptions();(0,g.default)(D,M,L,R);var H=(0,f.assign)({},M,L,R),V;typeof window<"u"&&(V=window);var P=m(M,L,R),F=x(M,L,R),A=y(D,H),_=E(D,H,V);return{id:R.tableId,content:_,hooks:F,styles:P,settings:A}}u.parseInput=v;function m(T,R,D){for(var L={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},M=function(F){if(F==="columnStyles"){var A=T[F],_=R[F],S=D[F];L.columnStyles=(0,f.assign)({},A,_,S)}else{var N=[T,R,D],C=N.map(function(W){return W[F]||{}});L[F]=(0,f.assign)({},C[0],C[1],C[2])}},H=0,V=Object.keys(L);H<V.length;H++){var P=V[H];M(P)}return L}function x(T,R,D){for(var L=[T,R,D],M={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},H=0,V=L;H<V.length;H++){var P=V[H];P.didParseCell&&M.didParseCell.push(P.didParseCell),P.willDrawCell&&M.willDrawCell.push(P.willDrawCell),P.didDrawCell&&M.didDrawCell.push(P.didDrawCell),P.willDrawPage&&M.willDrawPage.push(P.willDrawPage),P.didDrawPage&&M.didDrawPage.push(P.didDrawPage)}return M}function y(T,R){var D,L,M,H,V,P,F,A,_,S,N,C,W=(0,h.parseSpacing)(R.margin,40/T.scaleFactor()),j=(D=w(T,R.startY))!==null&&D!==void 0?D:W.top,B;R.showFoot===!0?B="everyPage":R.showFoot===!1?B="never":B=(L=R.showFoot)!==null&&L!==void 0?L:"everyPage";var G;R.showHead===!0?G="everyPage":R.showHead===!1?G="never":G=(M=R.showHead)!==null&&M!==void 0?M:"everyPage";var X=(H=R.useCss)!==null&&H!==void 0?H:!1,J=R.theme||(X?"plain":"striped"),O=!!R.horizontalPageBreak,ee=(V=R.horizontalPageBreakRepeat)!==null&&V!==void 0?V:null;return{includeHiddenHtml:(P=R.includeHiddenHtml)!==null&&P!==void 0?P:!1,useCss:X,theme:J,startY:j,margin:W,pageBreak:(F=R.pageBreak)!==null&&F!==void 0?F:"auto",rowPageBreak:(A=R.rowPageBreak)!==null&&A!==void 0?A:"auto",tableWidth:(_=R.tableWidth)!==null&&_!==void 0?_:"auto",showHead:G,showFoot:B,tableLineWidth:(S=R.tableLineWidth)!==null&&S!==void 0?S:0,tableLineColor:(N=R.tableLineColor)!==null&&N!==void 0?N:200,horizontalPageBreak:O,horizontalPageBreakRepeat:ee,horizontalPageBreakBehaviour:(C=R.horizontalPageBreakBehaviour)!==null&&C!==void 0?C:"afterAllRows"}}function w(T,R){var D=T.getLastAutoTable(),L=T.scaleFactor(),M=T.pageNumber(),H=!1;if(D&&D.startPageNumber){var V=D.startPageNumber+D.pageNumber-1;H=V===M}return typeof R=="number"?R:(R==null||R===!1)&&H&&(D==null?void 0:D.finalY)!=null?D.finalY+20/L:null}function E(T,R,D){var L=R.head||[],M=R.body||[],H=R.foot||[];if(R.html){var V=R.includeHiddenHtml;if(D){var P=(0,d.parseHtml)(T,R.html,D,V,R.useCss)||{};L=P.head||L,M=P.body||L,H=P.foot||L}else console.error("Cannot parse html in non browser environment")}var F=R.columns||I(L,M,H);return{columns:F,head:L,body:M,foot:H}}function I(T,R,D){var L=T[0]||R[0]||D[0]||[],M=[];return Object.keys(L).filter(function(H){return H!=="_element"}).forEach(function(H){var V=1,P;Array.isArray(L)?P=L[parseInt(H)]:P=L[H],typeof P=="object"&&!Array.isArray(P)&&(V=(P==null?void 0:P.colSpan)||1);for(var F=0;F<V;F++){var A=void 0;Array.isArray(L)?A=M.length:A=H+(F>0?"_".concat(F):"");var _={dataKey:A};M.push(_)}}),M}},792:function(c,u){Object.defineProperty(u,"__esModule",{value:!0});function l(f,h,p,g){for(var v=function(w){w&&typeof w!="object"&&console.error("The options parameter should be of type object, is: "+typeof w),typeof w.extendWidth<"u"&&(w.tableWidth=w.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof w.margins<"u"&&(typeof w.margin>"u"&&(w.margin=w.margins),console.error("Use of deprecated option: margins, use margin instead.")),w.startY&&typeof w.startY!="number"&&(console.error("Invalid value for startY option",w.startY),delete w.startY),!w.didDrawPage&&(w.afterPageContent||w.beforePageContent||w.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),w.didDrawPage=function(H){f.applyStyles(f.userStyles),w.beforePageContent&&w.beforePageContent(H),f.applyStyles(f.userStyles),w.afterPageContent&&w.afterPageContent(H),f.applyStyles(f.userStyles),w.afterPageAdd&&H.pageNumber>1&&H.afterPageAdd(H),f.applyStyles(f.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(H){w[H]&&console.error('The "'.concat(H,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(H){var V=H[0],P=H[1];w[P]&&(console.error("Use of deprecated option ".concat(P,". Use ").concat(V," instead")),w[V]=w[P])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(H){var V=typeof H=="string"?H:H[0],P=typeof H=="string"?H:H[1];typeof w[V]<"u"&&(typeof w.styles[P]>"u"&&(w.styles[P]=w[V]),console.error("Use of deprecated option: "+V+", use the style "+P+" instead."))});for(var E=0,I=["styles","bodyStyles","headStyles","footStyles"];E<I.length;E++){var T=I[E];d(w[T]||{})}for(var R=w.columnStyles||{},D=0,L=Object.keys(R);D<L.length;D++){var M=L[D];d(R[M]||{})}},m=0,x=[h,p,g];m<x.length;m++){var y=x[m];v(y)}}u.default=l;function d(f){f.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),f.minCellHeight||(f.minCellHeight=f.rowHeight)):f.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),f.cellWidth||(f.cellWidth=f.columnWidth))}},260:function(c,u,l){Object.defineProperty(u,"__esModule",{value:!0}),u.Column=u.Cell=u.Row=u.Table=void 0;var d=l(796),f=l(172),h=l(420),p=function(){function x(y,w){this.pageNumber=1,this.pageCount=1,this.id=y.id,this.settings=y.settings,this.styles=y.styles,this.hooks=y.hooks,this.columns=w.columns,this.head=w.head,this.body=w.body,this.foot=w.foot}return x.prototype.getHeadHeight=function(y){return this.head.reduce(function(w,E){return w+E.getMaxCellHeight(y)},0)},x.prototype.getFootHeight=function(y){return this.foot.reduce(function(w,E){return w+E.getMaxCellHeight(y)},0)},x.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},x.prototype.callCellHooks=function(y,w,E,I,T,R){for(var D=0,L=w;D<L.length;D++){var M=L[D],H=new f.CellHookData(y,this,E,I,T,R),V=M(H)===!1;if(E.text=Array.isArray(E.text)?E.text:[E.text],V)return!1}return!0},x.prototype.callEndPageHooks=function(y,w){y.applyStyles(y.userStyles);for(var E=0,I=this.hooks.didDrawPage;E<I.length;E++){var T=I[E];T(new f.HookData(y,this,w))}},x.prototype.callWillDrawPageHooks=function(y,w){for(var E=0,I=this.hooks.willDrawPage;E<I.length;E++){var T=I[E];T(new f.HookData(y,this,w))}},x.prototype.getWidth=function(y){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var w=this.columns.reduce(function(I,T){return I+T.wrappedWidth},0);return w}else{var E=this.settings.margin;return y-E.left-E.right}},x}();u.Table=p;var g=function(){function x(y,w,E,I,T){T===void 0&&(T=!1),this.height=0,this.raw=y,y instanceof d.HtmlRowInput&&(this.raw=y._element,this.element=y._element),this.index=w,this.section=E,this.cells=I,this.spansMultiplePages=T}return x.prototype.getMaxCellHeight=function(y){var w=this;return y.reduce(function(E,I){var T;return Math.max(E,((T=w.cells[I.index])===null||T===void 0?void 0:T.height)||0)},0)},x.prototype.hasRowSpan=function(y){var w=this;return y.filter(function(E){var I=w.cells[E.index];return I?I.rowSpan>1:!1}).length>0},x.prototype.canEntireRowFit=function(y,w){return this.getMaxCellHeight(w)<=y},x.prototype.getMinimumRowHeight=function(y,w){var E=this;return y.reduce(function(I,T){var R=E.cells[T.index];if(!R)return 0;var D=w.getLineHeight(R.styles.fontSize),L=R.padding("vertical"),M=L+D;return M>I?M:I},0)},x}();u.Row=g;var v=function(){function x(y,w,E){var I,T;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=w,this.section=E,this.raw=y;var R=y;y!=null&&typeof y=="object"&&!Array.isArray(y)?(this.rowSpan=y.rowSpan||1,this.colSpan=y.colSpan||1,R=(T=(I=y.content)!==null&&I!==void 0?I:y.title)!==null&&T!==void 0?T:y,y._element&&(this.raw=y._element)):(this.rowSpan=1,this.colSpan=1);var D=R!=null?""+R:"",L=/\r\n|\r|\n/g;this.text=D.split(L)}return x.prototype.getTextPos=function(){var y;if(this.styles.valign==="top")y=this.y+this.padding("top");else if(this.styles.valign==="bottom")y=this.y+this.height-this.padding("bottom");else{var w=this.height-this.padding("vertical");y=this.y+w/2+this.padding("top")}var E;if(this.styles.halign==="right")E=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var I=this.width-this.padding("horizontal");E=this.x+I/2+this.padding("left")}else E=this.x+this.padding("left");return{x:E,y}},x.prototype.getContentHeight=function(y,w){w===void 0&&(w=1.15);var E=Array.isArray(this.text)?this.text.length:1,I=this.styles.fontSize/y*w,T=E*I+this.padding("vertical");return Math.max(T,this.styles.minCellHeight)},x.prototype.padding=function(y){var w=(0,h.parseSpacing)(this.styles.cellPadding,0);return y==="vertical"?w.top+w.bottom:y==="horizontal"?w.left+w.right:w[y]},x}();u.Cell=v;var m=function(){function x(y,w,E){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=y,this.raw=w,this.index=E}return x.prototype.getMaxCustomCellWidth=function(y){for(var w=0,E=0,I=y.allRows();E<I.length;E++){var T=I[E],R=T.cells[this.index];R&&typeof R.styles.cellWidth=="number"&&(w=Math.max(w,R.styles.cellWidth))}return w},x}();u.Column=m},356:function(c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.assign=void 0;function l(d,f,h,p,g){if(d==null)throw new TypeError("Cannot convert undefined or null to object");for(var v=Object(d),m=1;m<arguments.length;m++){var x=arguments[m];if(x!=null)for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(v[y]=x[y])}return v}u.assign=l},972:function(c,u,l){Object.defineProperty(u,"__esModule",{value:!0}),u.createTable=void 0;var d=l(744),f=l(260),h=l(324),p=l(796),g=l(356);function v(T,R){var D=new d.DocHandler(T),L=m(R,D.scaleFactor()),M=new f.Table(R,L);return(0,h.calculateWidths)(D,M),D.applyStyles(D.userStyles),M}u.createTable=v;function m(T,R){var D=T.content,L=E(D.columns);if(D.head.length===0){var M=y(L,"head");M&&D.head.push(M)}if(D.foot.length===0){var M=y(L,"foot");M&&D.foot.push(M)}var H=T.settings.theme,V=T.styles;return{columns:L,head:x("head",D.head,L,V,H,R),body:x("body",D.body,L,V,H,R),foot:x("foot",D.foot,L,V,H,R)}}function x(T,R,D,L,M,H){var V={},P=R.map(function(F,A){for(var _=0,S={},N=0,C=0,W=0,j=D;W<j.length;W++){var B=j[W];if(V[B.index]==null||V[B.index].left===0)if(C===0){var G=void 0;Array.isArray(F)?G=F[B.index-N-_]:G=F[B.dataKey];var X={};typeof G=="object"&&!Array.isArray(G)&&(X=(G==null?void 0:G.styles)||{});var J=I(T,B,A,M,L,H,X),O=new f.Cell(G,J,T);S[B.dataKey]=O,S[B.index]=O,C=O.colSpan-1,V[B.index]={left:O.rowSpan-1,times:C}}else C--,N++;else V[B.index].left--,C=V[B.index].times,_++}return new f.Row(F,A,T,S)});return P}function y(T,R){var D={};return T.forEach(function(L){if(L.raw!=null){var M=w(R,L.raw);M!=null&&(D[L.dataKey]=M)}}),Object.keys(D).length>0?D:null}function w(T,R){if(T==="head"){if(typeof R=="object")return R.header||R.title||null;if(typeof R=="string"||typeof R=="number")return R}else if(T==="foot"&&typeof R=="object")return R.footer;return null}function E(T){return T.map(function(R,D){var L,M,H;return typeof R=="object"?H=(M=(L=R.dataKey)!==null&&L!==void 0?L:R.key)!==null&&M!==void 0?M:D:H=D,new f.Column(H,R,D)})}function I(T,R,D,L,M,H,V){var P=(0,p.getTheme)(L),F;T==="head"?F=M.headStyles:T==="body"?F=M.bodyStyles:T==="foot"&&(F=M.footStyles);var A=(0,g.assign)({},P.table,P[T],M.styles,F),_=M.columnStyles[R.dataKey]||M.columnStyles[R.index]||{},S=T==="body"?_:{},N=T==="body"&&D%2===0?(0,g.assign)({},P.alternateRow,M.alternateRowStyles):{},C=(0,p.defaultStyles)(H),W=(0,g.assign)({},C,A,N,S);return(0,g.assign)(W,V)}},664:function(c,u,l){Object.defineProperty(u,"__esModule",{value:!0}),u.addPage=u.drawTable=void 0;var d=l(420),f=l(260),h=l(744),p=l(356),g=l(136),v=l(224);function m(_,S){var N=S.settings,C=N.startY,W=N.margin,j={x:W.left,y:C},B=S.getHeadHeight(S.columns)+S.getFootHeight(S.columns),G=C+W.bottom+B;if(N.pageBreak==="avoid"){var X=S.body,J=X.reduce(function(U,z){return U+z.height},0);G+=J}var O=new h.DocHandler(_);(N.pageBreak==="always"||N.startY!=null&&G>O.pageSize().height)&&(A(O),j.y=W.top),S.callWillDrawPageHooks(O,j);var ee=(0,p.assign)({},j);S.startPageNumber=O.pageNumber(),N.horizontalPageBreak?x(O,S,ee,j):(O.applyStyles(O.userStyles),(N.showHead==="firstPage"||N.showHead==="everyPage")&&S.head.forEach(function(U){return M(O,S,U,j,S.columns)}),O.applyStyles(O.userStyles),S.body.forEach(function(U,z){var Z=z===S.body.length-1;L(O,S,U,Z,ee,j,S.columns)}),O.applyStyles(O.userStyles),(N.showFoot==="lastPage"||N.showFoot==="everyPage")&&S.foot.forEach(function(U){return M(O,S,U,j,S.columns)})),(0,d.addTableBorder)(O,S,ee,j),S.callEndPageHooks(O,j),S.finalY=j.y,_.lastAutoTable=S,_.previousAutoTable=S,_.autoTable&&(_.autoTable.previous=S),O.applyStyles(O.userStyles)}u.drawTable=m;function x(_,S,N,C){var W=(0,v.calculateAllColumnsCanFitInPage)(_,S),j=S.settings;if(j.horizontalPageBreakBehaviour==="afterAllRows")W.forEach(function(J,O){_.applyStyles(_.userStyles),O>0?F(_,S,N,C,J.columns,!0):y(_,S,C,J.columns),w(_,S,N,C,J.columns),I(_,S,C,J.columns)});else for(var B=-1,G=W[0],X=function(){var J=B;if(G){_.applyStyles(_.userStyles);var O=G.columns;B>=0?F(_,S,N,C,O,!0):y(_,S,C,O),J=E(_,S,B+1,C,O),I(_,S,C,O)}var ee=J-B;W.slice(1).forEach(function(U){_.applyStyles(_.userStyles),F(_,S,N,C,U.columns,!0),E(_,S,B+1,C,U.columns,ee),I(_,S,C,U.columns)}),B=J};B<S.body.length-1;)X()}function y(_,S,N,C){var W=S.settings;_.applyStyles(_.userStyles),(W.showHead==="firstPage"||W.showHead==="everyPage")&&S.head.forEach(function(j){return M(_,S,j,N,C)})}function w(_,S,N,C,W){_.applyStyles(_.userStyles),S.body.forEach(function(j,B){var G=B===S.body.length-1;L(_,S,j,G,N,C,W)})}function E(_,S,N,C,W,j){_.applyStyles(_.userStyles),j=j??S.body.length;var B=Math.min(N+j,S.body.length),G=-1;return S.body.slice(N,B).forEach(function(X,J){var O=N+J===S.body.length-1,ee=P(_,S,O,C);X.canEntireRowFit(ee,W)&&(M(_,S,X,C,W),G=N+J)}),G}function I(_,S,N,C){var W=S.settings;_.applyStyles(_.userStyles),(W.showFoot==="lastPage"||W.showFoot==="everyPage")&&S.foot.forEach(function(j){return M(_,S,j,N,C)})}function T(_,S,N){var C=N.getLineHeight(_.styles.fontSize),W=_.padding("vertical"),j=Math.floor((S-W)/C);return Math.max(0,j)}function R(_,S,N,C){var W={};_.spansMultiplePages=!0,_.height=0;for(var j=0,B=0,G=N.columns;B<G.length;B++){var X=G[B],J=_.cells[X.index];if(J){Array.isArray(J.text)||(J.text=[J.text]);var O=new f.Cell(J.raw,J.styles,J.section);O=(0,p.assign)(O,J),O.text=[];var ee=T(J,S,C);J.text.length>ee&&(O.text=J.text.splice(ee,J.text.length));var U=C.scaleFactor(),z=C.getLineHeightFactor();J.contentHeight=J.getContentHeight(U,z),J.contentHeight>=S&&(J.contentHeight=S,O.styles.minCellHeight-=S),J.contentHeight>_.height&&(_.height=J.contentHeight),O.contentHeight=O.getContentHeight(U,z),O.contentHeight>j&&(j=O.contentHeight),W[X.index]=O}}var Z=new f.Row(_.raw,-1,_.section,W,!0);Z.height=j;for(var te=0,oe=N.columns;te<oe.length;te++){var X=oe[te],O=Z.cells[X.index];O&&(O.height=Z.height);var J=_.cells[X.index];J&&(J.height=_.height)}return Z}function D(_,S,N,C){var W=_.pageSize().height,j=C.settings.margin,B=j.top+j.bottom,G=W-B;S.section==="body"&&(G-=C.getHeadHeight(C.columns)+C.getFootHeight(C.columns));var X=S.getMinimumRowHeight(C.columns,_),J=X<N;if(X>G)return console.error("Will not be able to print row ".concat(S.index," correctly since it's minimum height is larger than page height")),!0;if(!J)return!1;var O=S.hasRowSpan(C.columns),ee=S.getMaxCellHeight(C.columns)>G;return ee?(O&&console.error("The content of row ".concat(S.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(O||C.settings.rowPageBreak==="avoid")}function L(_,S,N,C,W,j,B){var G=P(_,S,C,j);if(N.canEntireRowFit(G,B))M(_,S,N,j,B);else if(D(_,N,G,S)){var X=R(N,G,S,_);M(_,S,N,j,B),F(_,S,W,j,B),L(_,S,X,C,W,j,B)}else F(_,S,W,j,B),L(_,S,N,C,W,j,B)}function M(_,S,N,C,W){C.x=S.settings.margin.left;for(var j=0,B=W;j<B.length;j++){var G=B[j],X=N.cells[G.index];if(!X){C.x+=G.width;continue}_.applyStyles(X.styles),X.x=C.x,X.y=C.y;var J=S.callCellHooks(_,S.hooks.willDrawCell,X,N,G,C);if(J===!1){C.x+=G.width;continue}H(_,X,C);var O=X.getTextPos();(0,g.default)(X.text,O.x,O.y,{halign:X.styles.halign,valign:X.styles.valign,maxWidth:Math.ceil(X.width-X.padding("left")-X.padding("right"))},_.getDocument()),S.callCellHooks(_,S.hooks.didDrawCell,X,N,G,C),C.x+=G.width}C.y+=N.height}function H(_,S,N){var C=S.styles;if(_.getDocument().setFillColor(_.getDocument().getFillColor()),typeof C.lineWidth=="number"){var W=(0,d.getFillStyle)(C.lineWidth,C.fillColor);W&&_.rect(S.x,N.y,S.width,S.height,W)}else typeof C.lineWidth=="object"&&(C.fillColor&&_.rect(S.x,N.y,S.width,S.height,"F"),V(_,S,N,C.lineWidth))}function V(_,S,N,C){var W,j,B,G;C.top&&(W=N.x,j=N.y,B=N.x+S.width,G=N.y,C.right&&(B+=.5*C.right),C.left&&(W-=.5*C.left),X(C.top,W,j,B,G)),C.bottom&&(W=N.x,j=N.y+S.height,B=N.x+S.width,G=N.y+S.height,C.right&&(B+=.5*C.right),C.left&&(W-=.5*C.left),X(C.bottom,W,j,B,G)),C.left&&(W=N.x,j=N.y,B=N.x,G=N.y+S.height,C.top&&(j-=.5*C.top),C.bottom&&(G+=.5*C.bottom),X(C.left,W,j,B,G)),C.right&&(W=N.x+S.width,j=N.y,B=N.x+S.width,G=N.y+S.height,C.top&&(j-=.5*C.top),C.bottom&&(G+=.5*C.bottom),X(C.right,W,j,B,G));function X(J,O,ee,U,z){_.getDocument().setLineWidth(J),_.getDocument().line(O,ee,U,z,"S")}}function P(_,S,N,C){var W=S.settings.margin.bottom,j=S.settings.showFoot;return(j==="everyPage"||j==="lastPage"&&N)&&(W+=S.getFootHeight(S.columns)),_.pageSize().height-C.y-W}function F(_,S,N,C,W,j){W===void 0&&(W=[]),j===void 0&&(j=!1),_.applyStyles(_.userStyles),S.settings.showFoot==="everyPage"&&!j&&S.foot.forEach(function(G){return M(_,S,G,C,W)}),S.callEndPageHooks(_,C);var B=S.settings.margin;(0,d.addTableBorder)(_,S,N,C),A(_),S.pageNumber++,S.pageCount++,C.x=B.left,C.y=B.top,N.y=B.top,S.callWillDrawPageHooks(_,C),S.settings.showHead==="everyPage"&&(S.head.forEach(function(G){return M(_,S,G,C,W)}),_.applyStyles(_.userStyles))}u.addPage=F;function A(_){var S=_.pageNumber();_.setPage(S+1);var N=_.pageNumber();return N===S?(_.addPage(),!0):!1}},224:function(c,u,l){Object.defineProperty(u,"__esModule",{value:!0}),u.calculateAllColumnsCanFitInPage=void 0;var d=l(420);function f(p,g,v){var m;v===void 0&&(v={});var x=(0,d.getPageAvailableWidth)(p,g),y=new Map,w=[],E=[],I=[];g.settings.horizontalPageBreakRepeat,Array.isArray(g.settings.horizontalPageBreakRepeat)?I=g.settings.horizontalPageBreakRepeat:(typeof g.settings.horizontalPageBreakRepeat=="string"||typeof g.settings.horizontalPageBreakRepeat=="number")&&(I=[g.settings.horizontalPageBreakRepeat]),I.forEach(function(L){var M=g.columns.find(function(H){return H.dataKey===L||H.index===L});M&&!y.has(M.index)&&(y.set(M.index,!0),w.push(M.index),E.push(g.columns[M.index]),x-=M.wrappedWidth)});for(var T=!0,R=(m=v==null?void 0:v.start)!==null&&m!==void 0?m:0;R<g.columns.length;){if(y.has(R)){R++;continue}var D=g.columns[R].wrappedWidth;if(T||x>=D)T=!1,w.push(R),E.push(g.columns[R]),x-=D;else break;R++}return{colIndexes:w,columns:E,lastIndex:R-1}}function h(p,g){for(var v=[],m=0;m<g.columns.length;m++){var x=f(p,g,{start:m});x.columns.length&&(v.push(x),m=x.lastIndex)}return v}u.calculateAllColumnsCanFitInPage=h},324:function(c,u,l){Object.defineProperty(u,"__esModule",{value:!0}),u.ellipsize=u.resizeColumns=u.calculateWidths=void 0;var d=l(420);function f(w,E){h(w,E);var I=[],T=0;E.columns.forEach(function(D){var L=D.getMaxCustomCellWidth(E);L?D.width=L:(D.width=D.wrappedWidth,I.push(D)),T+=D.width});var R=E.getWidth(w.pageSize().width)-T;R&&(R=p(I,R,function(D){return Math.max(D.minReadableWidth,D.minWidth)})),R&&(R=p(I,R,function(D){return D.minWidth})),R=Math.abs(R),!E.settings.horizontalPageBreak&&R>.1/w.scaleFactor()&&(R=R<1?R:Math.round(R),console.warn("Of the table content, ".concat(R," units width could not fit page"))),v(E),m(E,w),g(E)}u.calculateWidths=f;function h(w,E){var I=w.scaleFactor(),T=E.settings.horizontalPageBreak,R=(0,d.getPageAvailableWidth)(w,E);E.allRows().forEach(function(D){for(var L=0,M=E.columns;L<M.length;L++){var H=M[L],V=D.cells[H.index];if(V){var P=E.hooks.didParseCell;E.callCellHooks(w,P,V,D,H,null);var F=V.padding("horizontal");V.contentWidth=(0,d.getStringWidth)(V.text,V.styles,w)+F;var A=(0,d.getStringWidth)(V.text.join(" ").split(/[^\S\u00A0]+/),V.styles,w);if(V.minReadableWidth=A+V.padding("horizontal"),typeof V.styles.cellWidth=="number")V.minWidth=V.styles.cellWidth,V.wrappedWidth=V.styles.cellWidth;else if(V.styles.cellWidth==="wrap"||T===!0)V.contentWidth>R?(V.minWidth=R,V.wrappedWidth=R):(V.minWidth=V.contentWidth,V.wrappedWidth=V.contentWidth);else{var _=10/I;V.minWidth=V.styles.minCellWidth||_,V.wrappedWidth=V.contentWidth,V.minWidth>V.wrappedWidth&&(V.wrappedWidth=V.minWidth)}}}}),E.allRows().forEach(function(D){for(var L=0,M=E.columns;L<M.length;L++){var H=M[L],V=D.cells[H.index];if(V&&V.colSpan===1)H.wrappedWidth=Math.max(H.wrappedWidth,V.wrappedWidth),H.minWidth=Math.max(H.minWidth,V.minWidth),H.minReadableWidth=Math.max(H.minReadableWidth,V.minReadableWidth);else{var P=E.styles.columnStyles[H.dataKey]||E.styles.columnStyles[H.index]||{},F=P.cellWidth||P.minCellWidth;F&&typeof F=="number"&&(H.minWidth=F,H.wrappedWidth=F)}V&&(V.colSpan>1&&!H.minWidth&&(H.minWidth=V.minWidth),V.colSpan>1&&!H.wrappedWidth&&(H.wrappedWidth=V.minWidth))}})}function p(w,E,I){for(var T=E,R=w.reduce(function(_,S){return _+S.wrappedWidth},0),D=0;D<w.length;D++){var L=w[D],M=L.wrappedWidth/R,H=T*M,V=L.width+H,P=I(L),F=V<P?P:V;E-=F-L.width,L.width=F}if(E=Math.round(E*1e10)/1e10,E){var A=w.filter(function(_){return E<0?_.width>I(_):!0});A.length&&(E=p(A,E,I))}return E}u.resizeColumns=p;function g(w){for(var E={},I=1,T=w.allRows(),R=0;R<T.length;R++)for(var D=T[R],L=0,M=w.columns;L<M.length;L++){var H=M[L],V=E[H.index];if(I>1)I--,delete D.cells[H.index];else if(V)V.cell.height+=D.height,I=V.cell.colSpan,delete D.cells[H.index],V.left--,V.left<=1&&delete E[H.index];else{var P=D.cells[H.index];if(!P)continue;if(P.height=D.height,P.rowSpan>1){var F=T.length-R,A=P.rowSpan>F?F:P.rowSpan;E[H.index]={cell:P,left:A,row:D}}}}}function v(w){for(var E=w.allRows(),I=0;I<E.length;I++)for(var T=E[I],R=null,D=0,L=0,M=0;M<w.columns.length;M++){var H=w.columns[M];if(L-=1,L>1&&w.columns[M+1])D+=H.width,delete T.cells[H.index];else if(R){var V=R;delete T.cells[H.index],R=null,V.width=H.width+D}else{var V=T.cells[H.index];if(!V)continue;if(L=V.colSpan,D=0,V.colSpan>1){R=V,D+=H.width;continue}V.width=H.width+D}}}function m(w,E){for(var I={count:0,height:0},T=0,R=w.allRows();T<R.length;T++){for(var D=R[T],L=0,M=w.columns;L<M.length;L++){var H=M[L],V=D.cells[H.index];if(V){E.applyStyles(V.styles,!0);var P=V.width-V.padding("horizontal");if(V.styles.overflow==="linebreak")V.text=E.splitTextToSize(V.text,P+1/E.scaleFactor(),{fontSize:V.styles.fontSize});else if(V.styles.overflow==="ellipsize")V.text=x(V.text,P,V.styles,E,"...");else if(V.styles.overflow==="hidden")V.text=x(V.text,P,V.styles,E,"");else if(typeof V.styles.overflow=="function"){var F=V.styles.overflow(V.text,P);typeof F=="string"?V.text=[F]:V.text=F}V.contentHeight=V.getContentHeight(E.scaleFactor(),E.getLineHeightFactor());var A=V.contentHeight/V.rowSpan;V.rowSpan>1&&I.count*I.height<A*V.rowSpan?I={height:A,count:V.rowSpan}:I&&I.count>0&&I.height>A&&(A=I.height),A>D.height&&(D.height=A)}}I.count--}}function x(w,E,I,T,R){return w.map(function(D){return y(D,E,I,T,R)})}u.ellipsize=x;function y(w,E,I,T,R){var D=1e4*T.scaleFactor();if(E=Math.ceil(E*D)/D,E>=(0,d.getStringWidth)(w,I,T))return w;for(;E<(0,d.getStringWidth)(w+R,I,T)&&!(w.length<=1);)w=w.substring(0,w.length-1);return w.trim()+R}},964:function(c){if(typeof e>"u"){var u=new Error("Cannot find module 'undefined'");throw u.code="MODULE_NOT_FOUND",u}c.exports=e}},i={};function a(c){var u=i[c];if(u!==void 0)return u.exports;var l=i[c]={exports:{}};return s[c].call(l.exports,l,l.exports,a),l.exports}var o={};return function(){var c=o;Object.defineProperty(c,"__esModule",{value:!0}),c.Cell=c.Column=c.Row=c.Table=c.CellHookData=c.__drawTable=c.__createTable=c.applyPlugin=void 0;var u=a(340),l=a(776),d=a(664),f=a(972),h=a(260);Object.defineProperty(c,"Table",{enumerable:!0,get:function(){return h.Table}});var p=a(172);Object.defineProperty(c,"CellHookData",{enumerable:!0,get:function(){return p.CellHookData}});var g=a(260);Object.defineProperty(c,"Cell",{enumerable:!0,get:function(){return g.Cell}}),Object.defineProperty(c,"Column",{enumerable:!0,get:function(){return g.Column}}),Object.defineProperty(c,"Row",{enumerable:!0,get:function(){return g.Row}});function v(E){(0,u.default)(E)}c.applyPlugin=v;function m(E,I){var T=(0,l.parseInput)(E,I),R=(0,f.createTable)(E,T);(0,d.drawTable)(E,R)}function x(E,I){var T=(0,l.parseInput)(E,I);return(0,f.createTable)(E,T)}c.__createTable=x;function y(E,I){(0,d.drawTable)(E,I)}c.__drawTable=y;try{var w=a(964);w.jsPDF&&(w=w.jsPDF),v(w)}catch{}c.default=m}(),o}()})})(CU);const DU=({allData:n,typeOfReport:r,reportTitle:t})=>{const[e,s]=ne.useState([]),[i,a]=ne.useState(["Name","Employee Badge","Nationality","Date of Joined","Department","workPosition","Contract Start Date ","Contract End Date","LD Expiry","Duration of Renewal Contract"]);ne.useRef();const[o,c]=ne.useState(!0),u=(p,g)=>{const v=new Date(p),m=new Date(g);return isNaN(v.getTime())||isNaN(m.getTime())?"-":(m.getFullYear()-v.getFullYear())*12+(m.getMonth()-v.getMonth())},l=(p,g)=>{const v=new Date(p),m=new Date(g),x=new Date;if(isNaN(v.getTime())||isNaN(m.getTime()))return"-";const y=u(p,g),w=u(p,x),E=y-w;return E>=0?`${E} months`:"-"},d=p=>p.map(g=>{const v=l(g.contractStart,g.contractEnd);return[g.name||"-",g.empBadgeNo||"-",g.nationality||"-",g.doj||"-",g.department||"-",g.position||"-",g.contractStart||"-",g.contractEnd||"-",g.nlmsEmpValid||"-",v||"-"]});ne.useEffect(()=>{s(d(n))},[n]);const f=()=>{const p=new Ir("landscape");p.setFontSize(16),p.text("Contract Completion Form for the Month of January 2024",p.internal.pageSize.getWidth()/2,20,{align:"center"});const g=document.querySelector('input[type="text"]').value;p.setFontSize(12),p.text(`Attn: ${g}`,14,40);const v=40;p.setDrawColor(0,0,0),p.line(25,v,100,v);const m=document.querySelectorAll("table thead tr"),x=Array.from(m).map(T=>{const R=T.querySelectorAll("th");return Array.from(R).map(D=>D.innerText)}),y=document.querySelectorAll("table tbody tr"),w=Array.from(y).map(T=>{const R=T.querySelectorAll("td");return Array.from(R).map(D=>D.querySelector("input")?D.querySelector("input").value:D.innerText)});p.autoTable({head:x,body:w,startY:50,styles:{cellWidth:"auto",overflow:"linebreak"}}),p.setFontSize(11);const E=p.lastAutoTable.finalY+12;p.text("Notes: Deadline return to HRD after one week from the date received of Contract Completion Report",14,E),p.setFontSize(10);const I=E+25;p.text("Recommended By:",40,I),p.text("Acknowledged & Checked By:",130,I),p.text("Approved By:",230,I),p.line(30,I+10,85,I+10),p.line(120,I+10,190,I+10),p.line(220,I+10,265,I+10),p.setFontSize(11),p.text("Department Head",40,I+20),p.text("HRM",150,I+20),p.text("GM",238,I+20),p.save("contract_completion_form.pdf")},h=()=>{console.log("dnfnjdbf"),o===!0&&f()};return ne.useState(null),b.jsxs("div",{children:[b.jsx($c,{tableBody:e,tableHead:i,typeOfReport:r,reportTitle:t}),b.jsx("div",{className:"vertical-center p-5 pt-9 ",children:b.jsx("button",{className:" bg-[#FEF116] text-dark_grey text_size_5 w-[126px] p-2 rounded",onClick:h,children:"Download"})})]})},IU=({allData:n,typeOfReport:r,reportTitle:t})=>{const[e,s]=ne.useState([]),[i]=ne.useState(["Name","Employee ID","Employee Badge","Date of Joined","Department","Position","Probation Expiry Date","Deadline to return HRD","Download"]),[a,o]=ne.useState(null),c=Ga(),u=h=>h.filter(p=>p.probationEnd).map(p=>[p.name||"-",p.empID||"-",p.empBadgeNo||"-",p.doj||"-",p.department||"-",p.position||"-",p.probationEnd||"-",p.deadlineToReturnHRD||"-"]);ne.useEffect(()=>{s(u(n))},[n]);const l=h=>{o(h)},d=()=>{o(null)},f=()=>{d(),a&&c("/probForm",{state:{employeeData:a}})};return b.jsxs("div",{children:[b.jsx($c,{tableBody:e,tableHead:i,typeOfReport:r,reportTitle:t,allData:n,handleViewDetails:l}),a&&b.jsx("div",{className:"fixed inset-0 center z-50 bg-black bg-opacity-50",children:b.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-1/3",children:[b.jsxs("section",{className:"flex justify-start gap-10 items-center mb-5",children:[b.jsx("div",{className:"max-w-[150px] w-full",children:b.jsx("img",{className:"w-full",src:$m,alt:"Logo"})}),b.jsx("div",{children:b.jsx("h2",{className:"text-xl font-semibold border-b-2",children:"Person Details"})})]}),b.jsxs("p",{className:"flex justify-between mb-2",children:[b.jsx("strong",{children:"Name:"})," ",a.name]}),b.jsxs("p",{className:"flex justify-between mb-2",children:[b.jsx("strong",{children:"Emp ID:"})," ",a.empID]}),b.jsxs("p",{className:"flex justify-between mb-2",children:[b.jsx("strong",{children:"Emp Badge No:"})," ",a.empBadgeNo]}),b.jsxs("p",{className:"flex justify-between mb-2",children:[b.jsx("strong",{children:"Position:"})," ",a.position]}),b.jsxs("p",{className:"flex justify-between mb-2",children:[b.jsx("strong",{children:"Department:"})," ",a.department]}),b.jsxs("p",{className:"flex justify-between mb-2",children:[b.jsx("strong",{children:"Date Of Join:"})," ",a.doj]}),b.jsxs("p",{className:"flex justify-between mb-2",children:[b.jsx("strong",{children:"Probation End Date:"})," ",a.probationEnd]}),b.jsxs("p",{className:"flex justify-between mb-2",children:[b.jsx("strong",{children:"Contract End Date:"})," ",a.contractEnd||"-"]}),b.jsxs("div",{className:"flex justify-evenly items-center p-3",children:[b.jsx("button",{className:"mt-4 bg-blue text-white px-4 py-2 rounded",onClick:d,children:"Close"}),b.jsx("button",{className:"mt-4 bg-green text-white px-4 py-2 rounded",onClick:f,children:"Go to Probation Form"})]})]})})]})},PU=()=>{const{empPIData:n,LMIData:r,PPValidsData:t,empPDData:e,IDData:s,workInfoData:i,terminateData:a,DNData:o}=ne.useContext(bs),[c,u]=ne.useState([]),[l,d]=ne.useState([]),[f,h]=ne.useState(!1),[p,g]=ne.useState([]),[v,m]=ne.useState("Filter The Report"),[x,y]=ne.useState("Recruitment & Mobilization"),[w,E]=ne.useState(""),[I,T]=ne.useState(""),[R,D]=ne.useState(""),[L,M]=ne.useState(!0);console.log(n),console.log(e),console.log(s),console.log(i),console.log(a),console.log(o),console.log(t),console.log(r);const H=(A,_,S,N,C,W,j,B)=>A.map(G=>{const X=_.find(te=>te.empID===G.empID)||{},J=S.find(te=>te.empID===G.empID)||{},O=N.find(te=>te.empID===G.empID)||{},ee=C.find(te=>te.empID===G.empID)||{},U=B.find(te=>te.empID===G.empID)||{},z=W.find(te=>te.empID===G.empID)||{},Z=j.find(te=>te.empID===G.empID)||{};return{...G,...X,...J,...O,...ee,...U,...z,...Z}});ne.useEffect(()=>{if(n&&e&&s&&i&&a&&o&&t&&r){const A=H(n,e,s,i,a,o,t,r);g(A),console.log(A),M(!1)}},[n,e,s,i,a,o,t,r]),ne.useEffect(()=>{E(x)},[x,f,p]);const V=A=>{d(A)},P=()=>{if(!p)return;const A=p.filter(_=>{const S=_.dateOfJoin===I.trim(),N=_.contractEndDate===R.trim();return S&&N});d(A)};if(ne.useEffect(()=>{I&&R?P():h(!f)},[I,R]),L)return b.jsx("p",{children:"Loading data..."});const F=[{title:"Recruitment & Mobilization"},{title:"Resignation"},{title:"Termination"},{title:"Probation Review"},{title:"Contract Expiry Review"},{title:"Probation Form"},{title:"Contract Expiry PDF"},{title:"Employment Pass expiry"},{title:"LD expiry"},{title:"Passport Expiry"},{title:"Employment Medical"}];return b.jsxs("div",{className:"border border-white p-10 w-full",children:[b.jsx("p",{className:"text-2xl font-semibold text-dark_grey text-center uppercase mb-10",children:"Report"}),b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx(dB,{typeOfReport:x,setTypeOfReport:y,Reports:F,justFilterName:v}),b.jsxs("div",{className:"flex justify-end gap-4",children:[b.jsxs("div",{className:"flex items-center w-[20%] p-2 gap-1 border border-[#D9D9D9] rounded text-dark_grey",children:[b.jsx("input",{type:"text",value:I,placeholder:"Start Date",className:"outline-none w-full",onChange:A=>T(A.target.value)}),b.jsx("span",{children:b.jsx(Vx,{className:"text-xl text-dark_grey"})})]}),b.jsxs("div",{className:"border border-[#D9D9D9] rounded w-[20%] text-dark_grey flex items-center p-2 gap-1",children:[b.jsx("input",{type:"text",value:R,placeholder:"End Date",className:"outline-none w-full",onChange:A=>D(A.target.value)}),b.jsx("span",{children:b.jsx(Vx,{className:"text-xl text-dark_grey"})})]}),b.jsx($f,{placeholder:"Search Name",onResult:V,icon:b.jsx(Ds,{}),data:p})]})]}),w==="Recruitment & Mobilization"&&b.jsx(xB,{allData:p,typeOfReport:x,reportTitle:w}),w==="Resignation"&&b.jsx(wB,{allData:p,typeOfReport:x,reportTitle:w}),w==="Termination"&&b.jsx(_B,{allData:p,typeOfReport:x,reportTitle:w}),w==="Probation Review"&&b.jsx(SB,{allData:p,typeOfReport:x,reportTitle:w}),w==="Probation Form"&&b.jsx(IU,{allData:p,typeOfReport:x,reportTitle:w}),w==="Contract Expiry Review"&&b.jsx(EB,{allData:p,typeOfReport:x,reportTitle:w}),w==="Contract Expiry PDF"&&b.jsx(DU,{allData:p,typeOfReport:x,reportTitle:w}),w==="Employment Pass expiry"&&b.jsx(NB,{allData:p,typeOfReport:x,reportTitle:w}),w==="LD expiry"&&b.jsx(AB,{allData:p,typeOfReport:x,reportTitle:w}),w==="Passport Expiry"&&b.jsx(kB,{allData:p,typeOfReport:x,reportTitle:w}),w==="Employment Medical"&&b.jsx(CB,{allData:p,typeOfReport:x,reportTitle:w}),b.jsx("div",{children:w!=="Contract Expiry PDF"&&w!=="Probation Form"&&b.jsx(mB,{MRReport:c,MRRValues:l,reportTitle:w})})]})},jU="data:image/svg+xml,%3csvg%20width='67'%20height='74'%20viewBox='0%200%2067%2074'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M45.5062%2063.1407H3.38928C3.38928%2051.6318%2012.8163%2042.3042%2024.4478%2042.3042C36.0792%2042.3042%2045.5062%2051.6318%2045.5062%2063.1407Z'%20stroke='%23027797'%20stroke-width='3.20734'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M33.6927%2031.2003C33.6927%2036.2487%2029.5578%2042.3106%2024.4556%2042.3106C23.0711%2042.3106%2021.7623%2041.8602%2020.5863%2041.1094C19.6%2040.4901%2018.7086%2039.6644%2017.9689%2038.7073C17.9499%2038.6885%2017.9309%2038.6697%2017.912%2038.6509C16.2239%2036.5114%2015.1996%2033.7339%2015.1996%2031.2003C15.1996%2026.1519%2019.3346%2022.0419%2024.4556%2022.0419C29.5578%2022.0419%2033.6927%2026.1519%2033.6927%2031.2003Z'%20stroke='%23027797'%20stroke-width='3.20734'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M51.3653%2028.8693C58.3643%2028.8693%2064.0381%2023.2553%2064.0381%2016.3301C64.0381%209.40488%2058.3643%203.79089%2051.3653%203.79089C44.3663%203.79089%2038.6925%209.40488%2038.6925%2016.3301C38.6925%2023.2553%2044.3663%2028.8693%2051.3653%2028.8693Z'%20stroke='%23027797'%20stroke-width='3.20734'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M46.4165%2016.3298H56.3141'%20stroke='%23027797'%20stroke-width='3.20734'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M51.3652%2021.2267V11.4335'%20stroke='%23027797'%20stroke-width='3.20734'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",RU="/assets/candidate-B-jEx5lF.svg",MU="data:image/svg+xml,%3csvg%20width='83'%20height='83'%20viewBox='0%200%2083%2083'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.05493%2015.1387C8.05493%2034.4786%208.05493%2053.8185%208.05493%2073.1585H60.2094V15.1387H8.05493ZM9.79534%2016.756H58.469V71.5411H9.79534V16.756Z'%20fill='%23850849'/%3e%3cpath%20d='M40.4547%2014.0641C40.4547%2015.4083%2040.4547%2016.7526%2040.4547%2018.0968H57.2215V31.5383H61.1204V14.0641H40.4547Z'%20fill='%23850849'/%3e%3cpath%20d='M54.7299%203.99487C46.4613%203.99487%2039.7392%2010.5366%2039.7392%2018.5843C39.7392%2026.632%2046.4613%2033.1753%2054.7299%2033.1753C62.9984%2033.1753%2069.7205%2026.632%2069.7205%2018.5843C69.7205%2010.5366%2062.9984%203.99487%2054.7299%203.99487ZM54.7299%205.68866C62.0578%205.68865%2067.9801%2011.4519%2067.9801%2018.5843C67.9801%2025.7166%2062.0578%2031.4815%2054.7299%2031.4815C47.4019%2031.4815%2041.4796%2025.7166%2041.4796%2018.5843C41.4796%2011.4519%2047.4019%205.68865%2054.7299%205.68866Z'%20fill='%23850849'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M63.1548%2029.035C62.9817%2029.0361%2062.8128%2029.0873%2062.6698%2029.1822C62.5268%2029.2771%2062.4161%2029.4113%2062.3518%2029.5678C62.2876%2029.7242%2062.2728%2029.8958%2062.3092%2030.0604C62.3457%2030.2251%2062.4318%2030.3755%2062.5565%2030.4923L72.5469%2040.1078C72.6276%2040.1884%2072.724%2040.2525%2072.8305%2040.2964C72.9369%2040.3403%2073.0513%2040.3631%2073.1669%2040.3635C73.2826%2040.3639%2073.3971%2040.3419%2073.5039%2040.2988C73.6107%2040.2556%2073.7076%2040.1921%2073.7889%2040.1121C73.8702%2040.0321%2073.9343%2039.9371%2073.9774%2039.8328C74.0206%2039.7284%2074.042%2039.6166%2074.0403%2039.5041C74.0386%2039.3916%2074.0139%2039.2806%2073.9676%2039.1774C73.9213%2039.0743%2073.8544%2038.9812%2073.7707%2038.9036L63.7803%2029.2881C63.6987%2029.2074%2063.6013%2029.1434%2063.4939%2029.0999C63.3865%2029.0564%2063.2712%2029.0344%2063.1548%2029.035Z'%20fill='%23850849'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M17.3547%2023.3695V24.568H50.1929V23.3695H17.3547Z'%20fill='%23850849'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M17.3547%2031.3594V32.5578H50.1929V31.3594H17.3547Z'%20fill='%23850849'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M17.3547%2039.3492V40.5477H50.1929V39.3492H17.3547Z'%20fill='%23850849'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M17.3547%2047.339V48.5375H50.1929V47.339H17.3547Z'%20fill='%23850849'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M17.3547%2055.3289V56.5273H50.1929V55.3289H17.3547Z'%20fill='%23850849'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M17.3547%2063.3187V64.5172H50.1929V63.3187H17.3547Z'%20fill='%23850849'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M42.0145%2022.7703V25.1672H50.9095V22.7703H42.0145Z'%20fill='%23850849'/%3e%3c/svg%3e",LU="/assets/non-local-cv-DGqpwB1W.svg",OU="data:image/svg+xml,%3csvg%20width='57'%20height='56'%20viewBox='0%200%2057%2056'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.9312%200.0246582C6.68757%200.0246582%200.794983%205.8717%200.794983%2013.058C0.794983%2020.2443%206.68819%2026.0913%2013.9312%2026.0913C21.1742%2026.0913%2027.0674%2020.2443%2027.0674%2013.058C27.0674%205.8717%2021.1742%200.0246582%2013.9312%200.0246582ZM13.9312%2024.3612C7.64963%2024.3612%202.53932%2019.291%202.53932%2013.0586C2.53932%206.82622%207.64963%201.75533%2013.9312%201.75533C20.2128%201.75533%2025.3237%206.82561%2025.3237%2013.058C25.3237%2019.2904%2020.2128%2024.3612%2013.9312%2024.3612ZM16.7315%2012.2356C17.4549%2011.5215%2017.9034%2010.5335%2017.9034%209.44323C17.9034%207.27%2016.1216%205.50158%2013.9306%205.50158C11.7402%205.50158%209.95844%207.26939%209.95844%209.44323C9.95844%2010.5335%2010.407%2011.5215%2011.1303%2012.2356C8.65832%2013.31%206.92686%2015.759%206.92686%2018.6037C6.92686%2019.0816%207.31708%2019.4687%207.79872%2019.4687H20.0631C20.5447%2019.4687%2020.935%2019.0816%2020.935%2018.6037C20.935%2015.759%2019.2035%2013.31%2016.7315%2012.2356ZM11.7028%209.44323C11.7028%208.22391%2012.7023%207.23225%2013.9312%207.23225C15.1602%207.23225%2016.1596%208.22391%2016.1596%209.44323C16.1596%2010.6626%2015.1602%2011.6542%2013.9312%2011.6542C12.7023%2011.6542%2011.7028%2010.6626%2011.7028%209.44323ZM8.74299%2017.7381C9.15959%2015.2708%2011.3273%2013.3843%2013.9306%2013.3843C16.5339%2013.3843%2018.7016%2015.2708%2019.1182%2017.7381H8.74299ZM13.9312%2029.3366C6.68757%2029.3366%200.794983%2035.1836%200.794983%2042.3699C0.794983%2049.5562%206.68819%2055.4032%2013.9312%2055.4032C21.1742%2055.4032%2027.0674%2049.5562%2027.0674%2042.3699C27.0674%2035.1836%2021.1742%2029.3366%2013.9312%2029.3366ZM13.9312%2053.6731C7.64963%2053.6731%202.53932%2048.6029%202.53932%2042.3705C2.53932%2036.1381%207.64963%2031.0678%2013.9312%2031.0678C20.2128%2031.0678%2025.3237%2036.1381%2025.3237%2042.3705C25.3237%2048.6029%2020.2128%2053.6731%2013.9312%2053.6731ZM16.7315%2041.5475C17.4549%2040.8334%2017.9034%2039.8454%2017.9034%2038.7551C17.9034%2036.5819%2016.1216%2034.8135%2013.9306%2034.8135C11.7402%2034.8135%209.95844%2036.5813%209.95844%2038.7551C9.95844%2039.8454%2010.407%2040.8334%2011.1303%2041.5475C8.65832%2042.6219%206.92686%2045.0709%206.92686%2047.9156C6.92686%2048.3935%207.31708%2048.7806%207.79872%2048.7806H20.0631C20.5447%2048.7806%2020.935%2048.3935%2020.935%2047.9156C20.935%2045.0709%2019.2035%2042.6219%2016.7315%2041.5475ZM11.7028%2038.7551C11.7028%2037.5358%2012.7023%2036.5442%2013.9312%2036.5442C15.1602%2036.5442%2016.1596%2037.5358%2016.1596%2038.7551C16.1596%2039.9745%2015.1602%2040.9661%2013.9312%2040.9661C12.7023%2040.9661%2011.7028%2039.9739%2011.7028%2038.7551ZM8.74299%2047.05C9.15959%2044.5827%2011.3273%2042.6962%2013.9306%2042.6962C16.5339%2042.6962%2018.7016%2044.5821%2019.1182%2047.05H8.74299ZM32.4766%2013.0586C32.4766%2012.5807%2032.8668%2012.1936%2033.3484%2012.1936H55.7377C56.2193%2012.1936%2056.6096%2012.5807%2056.6096%2013.0586C56.6096%2013.5365%2056.2193%2013.9236%2055.7377%2013.9236H33.349C32.8674%2013.9236%2032.4766%2013.5365%2032.4766%2013.0586ZM56.6108%2018.818C56.6108%2019.2958%2056.2206%2019.683%2055.7389%2019.683H33.349C32.8674%2019.683%2032.4772%2019.2958%2032.4772%2018.818C32.4772%2018.3401%2032.8674%2017.9529%2033.349%2017.9529H55.7383C56.2199%2017.9529%2056.6108%2018.3401%2056.6108%2018.818ZM32.4766%207.29861C32.4766%206.82074%2032.8668%206.43357%2033.3484%206.43357H48.521C49.0027%206.43357%2049.3929%206.82074%2049.3929%207.29861C49.3929%207.77648%2049.0027%208.16364%2048.521%208.16364H33.349C32.8674%208.16425%2032.4766%207.77648%2032.4766%207.29861ZM56.6108%2042.3699C56.6108%2042.8478%2056.2206%2043.2349%2055.7389%2043.2349H33.349C32.8674%2043.2349%2032.4772%2042.8478%2032.4772%2042.3699C32.4772%2041.892%2032.8674%2041.5049%2033.349%2041.5049H55.7383C56.2199%2041.5049%2056.6108%2041.892%2056.6108%2042.3699ZM56.6108%2048.1299C56.6108%2048.6077%2056.2206%2048.9949%2055.7389%2048.9949H33.349C32.8674%2048.9949%2032.4772%2048.6077%2032.4772%2048.1299C32.4772%2047.652%2032.8674%2047.2648%2033.349%2047.2648H55.7383C56.2199%2047.2642%2056.6108%2047.652%2056.6108%2048.1299ZM32.4766%2036.6105C32.4766%2036.1326%2032.8668%2035.7455%2033.3484%2035.7455H48.521C49.0027%2035.7455%2049.3929%2036.1326%2049.3929%2036.6105C49.3929%2037.0884%2049.0027%2037.4755%2048.521%2037.4755H33.349C32.8674%2037.4755%2032.4766%2037.0884%2032.4766%2036.6105Z'%20fill='%23400C88'/%3e%3c/svg%3e",FU="data:image/svg+xml,%3csvg%20width='74'%20height='71'%20viewBox='0%200%2074%2071'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M58.6839%2025.2973H52.9528V20.6244C52.951%2019.0758%2052.3466%2017.5911%2051.2722%2016.4961C50.1978%2015.4011%2048.7411%2014.7851%2047.2217%2014.7832H26.5898C25.0704%2014.7851%2023.6137%2015.4011%2022.5393%2016.4961C21.4649%2017.5911%2020.8605%2019.0758%2020.8587%2020.6244V25.2973H15.1276C13.6082%2025.2992%2012.1515%2025.9152%2011.0772%2027.0102C10.0028%2028.1052%209.39837%2029.5899%209.39655%2031.1385V36.9797C9.39546%2038.5757%209.79855%2040.145%2010.5668%2041.5358C10.5566%2041.5742%2010.5486%2041.6132%2010.5428%2041.6526V55.6715C10.5191%2057.1936%2011.0886%2058.6633%2012.1264%2059.7582C13.1642%2060.8532%2014.5856%2061.4841%2016.079%2061.5126H57.7325C59.226%2061.4841%2060.6473%2060.8532%2061.6851%2059.7582C62.7229%2058.6633%2063.2924%2057.1936%2063.2688%2055.6715V41.6526C63.263%2041.6132%2063.2549%2041.5742%2063.2447%2041.5358C64.013%2040.145%2064.4161%2038.5757%2064.415%2036.9797V31.1385C64.4132%2029.5899%2063.8088%2028.1052%2062.7344%2027.0102C61.66%2025.9152%2060.2033%2025.2992%2058.6839%2025.2973ZM23.1512%2020.6244C23.1512%2019.6949%2023.5134%2018.8034%2024.1583%2018.1462C24.8032%2017.4889%2025.6778%2017.1197%2026.5898%2017.1197H47.2217C48.1337%2017.1197%2049.0083%2017.4889%2049.6532%2018.1462C50.2981%2018.8034%2050.6604%2019.6949%2050.6604%2020.6244V25.2973H48.3679V22.9609C48.3679%2022.0313%2048.0056%2021.1399%2047.3608%2020.4827C46.7159%2019.8254%2045.8413%2019.4561%2044.9293%2019.4561H28.8822C27.9703%2019.4561%2027.0956%2019.8254%2026.4507%2020.4827C25.8059%2021.1399%2025.4436%2022.0313%2025.4436%2022.9609V25.2973H23.1512V20.6244ZM46.0755%2025.2973H27.736V22.9609C27.736%2022.651%2027.8568%2022.3539%2028.0717%2022.1348C28.2867%2021.9157%2028.5782%2021.7926%2028.8822%2021.7926H44.9293C45.2333%2021.7926%2045.5248%2021.9157%2045.7398%2022.1348C45.9547%2022.3539%2046.0755%2022.651%2046.0755%2022.9609V25.2973ZM11.689%2031.1385C11.689%2030.209%2012.0513%2029.3176%2012.6961%2028.6603C13.341%2028.003%2014.2156%2027.6338%2015.1276%2027.6338H58.6839C59.5959%2027.6338%2060.4705%2028.003%2061.1154%2028.6603C61.7603%2029.3176%2062.1225%2030.209%2062.1225%2031.1385V36.9797C62.1207%2038.8381%2061.3956%2040.6199%2060.1062%2041.934C58.8169%2043.2482%2057.0687%2043.9872%2055.2452%2043.9891H51.8066V41.6526C51.8066%2041.3428%2051.6858%2041.0456%2051.4709%2040.8266C51.2559%2040.6075%2050.9644%2040.4844%2050.6604%2040.4844H46.0755C45.7715%2040.4844%2045.48%2040.6075%2045.265%2040.8266C45.05%2041.0456%2044.9293%2041.3428%2044.9293%2041.6526V43.9891H28.8822V41.6526C28.8822%2041.3428%2028.7615%2041.0456%2028.5465%2040.8266C28.3316%2040.6075%2028.04%2040.4844%2027.736%2040.4844H23.1512C22.8472%2040.4844%2022.5556%2040.6075%2022.3407%2040.8266C22.1257%2041.0456%2022.0049%2041.3428%2022.0049%2041.6526V43.9891H18.5663C16.7429%2043.9872%2014.9947%2043.2482%2013.7053%2041.934C12.416%2040.6199%2011.6908%2038.8381%2011.689%2036.9797V31.1385ZM47.2217%2042.8209H49.5142V47.4938H47.2217V42.8209ZM24.2974%2042.8209H26.5898V47.4938H24.2974V42.8209ZM57.7325%2059.1762H16.079C15.1934%2059.1481%2014.3549%2058.7635%2013.7469%2058.1066C13.1389%2057.4498%2012.8111%2056.5741%2012.8352%2055.6715V44.2636C14.458%2045.5986%2016.4808%2046.3264%2018.5663%2046.3256H22.0049V48.662C22.0049%2048.9719%2022.1257%2049.269%2022.3407%2049.4881C22.5556%2049.7072%2022.8472%2049.8303%2023.1512%2049.8303H27.736C28.04%2049.8303%2028.3316%2049.7072%2028.5465%2049.4881C28.7615%2049.269%2028.8822%2048.9719%2028.8822%2048.662V46.3256H44.9293V48.662C44.9293%2048.9719%2045.05%2049.269%2045.265%2049.4881C45.48%2049.7072%2045.7715%2049.8303%2046.0755%2049.8303H50.6604C50.9644%2049.8303%2051.2559%2049.7072%2051.4709%2049.4881C51.6858%2049.269%2051.8066%2048.9719%2051.8066%2048.662V46.3256H55.2452C57.3307%2046.3264%2059.3535%2045.5986%2060.9763%2044.2636V55.6715C61.0004%2056.5741%2060.6726%2057.4498%2060.0646%2058.1066C59.4566%2058.7635%2058.6181%2059.1481%2057.7325%2059.1762Z'%20fill='%238F3A0D'/%3e%3c/svg%3e",BU="/assets/apply_employreq-D9sKIy29.svg",ZA=[{bg:" shadow-[0_1px_6px_1px_rgba(0,0,0,0.2)]",bg1:"bg-[#C9C9C9]",icons:BU,title:"Apply Employee Requisition",path:"applyemployreq"},{bg:" shadow-[0_1px_4px_1px_rgba(0,0,0,0.2)]",bg1:"bg-[#9BE9FF]",icons:jU,title:"Employee Requisition",path:"employreq"},{bg:" shadow-[0_1px_6px_1px_rgba(0,0,0,0.2)]",bg1:"bg-[#FFEDA5]",icons:RU,title:"Candidate",path:"candidate"},{bg:" shadow-[0_1px_6px_1px_rgba(0,0,0,0.2)]",bg1:"bg-[#F58DC3]",icons:MU,title:"Local CV",path:"localcandi"},{bg:" shadow-[0_1px_6px_1px_rgba(0,0,0,0.2)]",bg1:"bg-[#B1F094]",icons:LU,title:"Non Local CV",path:"nonloccandi"},{bg:" shadow-[0_1px_6px_1px_rgba(0,0,0,0.2)]",bg1:"bg-[#BF91FF]",icons:OU,title:"Status",path:"status"},{bg:" shadow-[0_1px_6px_1px_rgba(0,0,0,0.2)]",bg1:"bg-[#FBB995]",icons:FU,title:"WorkPass Tracking",path:"workpasstracking"}],UU=()=>{const n=Ga(),r=f8("userID","Recruitment"),t=s=>{s==="Apply Employee Requisition"?n("/recrutiles/applyemployreq"):s==="Employee Requisition"?n("/recrutiles/employreq"):s==="Candidate"?n("/recrutiles/candidate"):s==="Local CV"?n("/recrutiles/localcandi"):s==="Non Local CV"?n("/recrutiles/nonloccandi"):s==="Status"?n("/recrutiles/status"):s==="WorkPass Tracking"&&n("/recrutiles/workpasstracking")},e=ZA.filter(s=>r.includes(s.title));return console.log(e,"kjhg"),b.jsx("section",{className:"min-h-screen p-10 bg-[#F5F6F1]",children:b.jsx("div",{className:" screen-size flex justify-between items-center flex-wrap gap-10 text-black",children:e.map((s,i)=>b.jsxs("div",{onClick:()=>t(s.title),className:`${s.bg} rounded-3xl w-72 h-50 p-4 bg-white border-4 border-white cursor-pointer transition-all duration-50 hover:border-[#faf362] hover:border-4`,children:[b.jsx("div",{className:`${s.bg1} rounded-full my-8 w-24 h-24 center m-auto`,children:b.jsx("img",{className:"w-13 h-16 object-cover",src:s.icons,alt:`${i} Icon not found`})}),b.jsx("h5",{className:"text-[18px] font-semibold text-center",children:s.title})]},i))})})},HU=()=>(ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),b.jsx("div",{children:b.jsx(UU,{})}));function qU(n){return Fn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"},child:[]}]})(n)}function WU(n){return Fn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M64 80c-8.8 0-16 7.2-16 16V416c0 8.8 7.2 16 16 16H384c8.8 0 16-7.2 16-16V96c0-8.8-7.2-16-16-16H64zM0 96C0 60.7 28.7 32 64 32H384c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM152 232H296c13.3 0 24 10.7 24 24s-10.7 24-24 24H152c-13.3 0-24-10.7-24-24s10.7-24 24-24z"},child:[]}]})(n)}function zU(n){return Fn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M64 80c-8.8 0-16 7.2-16 16V416c0 8.8 7.2 16 16 16H384c8.8 0 16-7.2 16-16V96c0-8.8-7.2-16-16-16H64zM0 96C0 60.7 28.7 32 64 32H384c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM200 344V280H136c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V168c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H248v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"},child:[]}]})(n)}function VU(n){return Fn({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"},child:[]}]})(n)}function Xc(n){return Fn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(n)}function $U(n){return Fn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(n)}function GU(n){return Fn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function m7(n){return Fn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(n)}function b8(n){return Fn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(n)}function v8(n){return Fn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(n)}function Mf(n){return Fn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(n)}function y8(n){return Fn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function YU(n){return Fn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(n)}function XU(n){return Fn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function KU(n){return Fn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(n)}function wh(n){return Fn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(n)}function Lf(n){return Fn({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function JU(n){return Fn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-83.6 290.5c4.8 4.8 4.8 12.6 0 17.4l-40.5 40.5c-4.8 4.8-12.6 4.8-17.4 0L256 313.3l-66.5 67.1c-4.8 4.8-12.6 4.8-17.4 0l-40.5-40.5c-4.8-4.8-4.8-12.6 0-17.4l67.1-66.5-67.1-66.5c-4.8-4.8-4.8-12.6 0-17.4l40.5-40.5c4.8-4.8 12.6-4.8 17.4 0l66.5 67.1 66.5-67.1c4.8-4.8 12.6-4.8 17.4 0l40.5 40.5c4.8 4.8 4.8 12.6 0 17.4L313.3 256l67.1 66.5z"},child:[]}]})(n)}const Zm=({currentPage:n,totalPages:r,onPageChange:t})=>{const s=(()=>{const i=[];if(r<=4)for(let a=1;a<=r;a++)i.push(a);else{let a=Math.max(n-1,1),o=a+3;o>r&&(o=r,a=Math.max(o-3,1));for(let c=a;c<=o;c++)i.push(c)}return i})();return b.jsxs("div",{className:"flex justify-between gap-6 w-3/5 items-center",children:[b.jsxs("button",{onClick:()=>t(n-1),disabled:n===1,className:"flex items-center gap-2 border border-[#5A5858] text-sm text-dark_grey rounded-lg hover:bg-gray-200 px-5 py-2 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors duration-200",children:[b.jsx(qU,{className:"text-[16px]"}),b.jsx("span",{children:"Previous"})]}),s.map((i,a)=>b.jsx("button",{onClick:()=>t(i),className:`w-8 h-8 p-4 flex items-center justify-center text-sm font-medium rounded-full ${n===i?"bg-[indigo] shadow-md text-white":"bg-gray-200 text-dark_grey"}`,children:i},a)),b.jsxs("button",{onClick:()=>t(n+1),disabled:n===r,className:"flex items-center gap-2 border border-[#5A5858] text-sm text-dark_grey rounded-lg  px-5 py-2 ",children:[b.jsx("span",{children:"Next"}),b.jsx($U,{className:"text-[16px]"})]})]})},ZU=({initialData:n,statusUpdate:r,handleClickForToggle:t,onViewClick:e,handleDelete:s,userType:i,personalInfo:a,formatDate:o})=>{const[c,u]=ne.useState(n),[l,d]=ne.useState(1),[f,h]=ne.useState(15);ne.useEffect(()=>{u(n)},[n]);const p=["S. No","Employee ID","Name","Received Date",i!=="Supervisior"&&i!=="Manager"&&"Supervisor Name",i!=="Manager"&&"Approved Date",i!=="Manager"&&i!=="Supervisior"&&"Manager Name",i!=="Supervisior"&&"Approved Date","Submitted Form",i!=="SuperAdmin"&&i!=="HR"&&"Status"].filter(Boolean),g=w=>w==="Rejected"?"text-[#C50000]":w==="Approved"?"text-[#0CB100]":w==="Pending"?"text-dark_grey":"text-gray-500",v=c.filter(w=>w.empStatus!=="Cancelled"),m=(i!=="SuperAdmin"||i!=="HR")&&i==="Manager"?v.filter(w=>w.supervisorStatus==="Approved"&&(w.managerName===a.name||w.supervisorName===a.name)):i==="Supervisior"?v.filter(w=>w.supervisorName===a.name):v;ne.useEffect(()=>{const w=m,E=(l-1)*f,I=w.slice(E,E+f);u(I)},[l,f]);const y=Math.ceil(m.length/f);return b.jsxs("section",{className:"flex flex-col",children:[b.jsx("div",{className:"leaveManagementTable h-[70vh] max-h-[calc(70vh-7rem)] max-w-[100%] overflow-x-auto",children:b.jsxs("table",{className:"w-[1150px]",children:[b.jsx("thead",{className:"bg-black sticky top-0",children:b.jsx("tr",{className:"bg-[#C5C5C5] rounded-sm",children:p.map((w,E)=>b.jsx("th",{className:"px-4 py-5 text-[15px] text-secondary",children:w},E))})}),b.jsx("tbody",{children:m&&m.length>0?m.map((w,E)=>b.jsxs("tr",{className:"text-center text-sm border-b-2 border-[#CECECE]",children:[b.jsx("td",{className:"border-b-2 border-[#CECECE] py-3",children:E+1}),b.jsx("td",{className:"border-b-2 border-[#CECECE] py-3",children:w.empID}),b.jsx("td",{className:"border-b-2 border-[#CECECE] text-start pl-4",children:w.employeeInfo.name||"Tony Stark"}),b.jsx("td",{className:"border-b-2 border-[#CECECE]",children:o(w.createdAt)}),i!=="Supervisior"&&i!=="Manager"&&b.jsx("td",{className:"border-b-2 border-[#CECECE]",children:w.supervisorName||"N/A"}),i!=="Manager"&&b.jsx("td",{className:"border-b-2 border-[#CECECE]",children:o(w.supervisorDate)||"N/A"}),i!=="Manager"&&i!=="Supervisior"&&b.jsx("td",{className:"border-b-2 border-[#CECECE]",children:w.managerName||"N/A"}),i!=="Supervisior"&&b.jsx("td",{className:"border-b-2 border-[#CECECE]",children:o(w.managerDate)||"N/A"}),b.jsx("td",{className:"border-b-2 border-[#CECECE] cursor-pointer",children:b.jsx("span",{className:"border-b-2 border-dark_grey",onClick:()=>{t(),e(w)},children:w["submitted Form"]||"View"})}),b.jsx("td",{className:`${g(w.managerStatus)}`,children:i==="Supervisior"&&w.supervisorStatus||i==="Manager"&&w.managerStatus})]},w.id)):b.jsx("tr",{children:b.jsx("td",{colSpan:p.length,className:"text-center py-4",children:"No data available"})})})]})}),b.jsx("div",{className:"ml-20 flex justify-center",children:b.jsx("div",{className:"w-[60%] flex justify-start mt-4  px-10",children:i!=="SuperAdmin"&&i!=="HR"&&b.jsx(Zm,{currentPage:l,totalPages:y,onPageChange:w=>{w>=1&&w<=y&&d(w)}})})})]})},QU=({initialData:n,userType:r,formatDate:t,personalInfo:e})=>{const[s,i]=ne.useState(1),[a,o]=ne.useState(n),[c,u]=ne.useState(15),l=["S.No","Employee ID","Leave Type","Start Date","End Date","Reason",r!=="SuperAdmin"&&"Status"],d=g=>g==="Rejected"?"text-[#C50000]":g==="Approved"?"text-[#0CB100]":g==="Pending"?"text-dark_grey":"text-gray-500",f=n==null?void 0:n.filter(g=>{const v=g.supervisorName,m=g.managerName,x=e.name===v||e.name===m||r==="SuperAdmin"||r==="HR";return g.managerStatus==="Approved"&&x});ne.useEffect(()=>{const g=f,v=(s-1)*c,m=g.slice(v,v+c);o(m)},[s,c]);const p=Math.ceil(f.length/c);return b.jsxs("section",{children:[b.jsx("div",{className:"leaveManagementTable h-[70vh] max-h-[calc(70vh-7rem)] max-w-[100%] overflow-x-auto",children:b.jsxs("table",{className:"w-[1150px]",children:[b.jsx("thead",{className:"bg-black",children:b.jsx("tr",{className:"bg-[#C5C5C5] rounded-sm",children:l.map((g,v)=>b.jsx("th",{className:"px-4 py-5 text-[15px] text-secondary",children:g},v))})}),b.jsx("tbody",{children:f&&f.map((g,v)=>b.jsxs("tr",{className:"text-center text-sm border-b-2 border-[#CECECE]",children:[b.jsx("td",{className:"border-b-2 border-[#CECECE] py-3",children:v+1}),b.jsx("td",{className:"border-b-2 border-[#CECECE] py-3",children:g.empID}),b.jsx("td",{className:"border-b-2 border-[#CECECE]",children:g.leaveType}),b.jsx("td",{className:"border-b-2 border-[#CECECE]",children:t(g.fromDate)}),b.jsx("td",{className:"border-b-2 border-[#CECECE]",children:t(g.toDate)}),b.jsx("td",{className:"border-b-2 border-[#CECECE]",children:g.reason}),b.jsx("td",{className:`${d(r==="Manager"?g.managerStatus:r==="Supervisior"?g.supervisorStatus:g.managerStatus)}`,children:r==="Manager"?g.managerStatus||"not found":r==="Supervisior"||r==="HR"?g.supervisorStatus||"not found":""})]},v))})]})}),b.jsx("div",{className:"ml-20 flex justify-center",children:b.jsx("div",{className:"w-[60%] flex justify-start mt-4 px-10",children:r!=="SuperAdmin"&&r!=="HR"&&b.jsx(Zm,{currentPage:s,totalPages:p,onPageChange:g=>{g>=1&&g<=p&&i(g)}})})})]})},eH=({AfterFilter:n})=>{const[r,t]=ne.useState(!1),[e,s]=ne.useState("All"),i=()=>{t(!r)},a=o=>{s(o),t(!1)};return ne.useEffect(()=>{n(e)},[e]),b.jsx("section",{className:"",children:b.jsxs("div",{className:"center gap-2 border relative rounded-md p-[9px]  text-sm text-secondary border-[#CDCDCD]",onClick:i,children:[b.jsx(i8,{}),b.jsx("p",{children:"Filter"}),r&&b.jsx("div",{className:" top-10 absolute left-0 w-32 shadow-lg bg-white z-50 ",children:b.jsxs("div",{className:"py-1 shadow-md  flex flex-col bg-white",children:[b.jsx("button",{onClick:()=>a("All"),className:" w-full text-left px-4 py-2 text-sm text-dark_grey hover:bg-lite_grey hover:text-white ",children:"All"}),b.jsx("button",{onClick:()=>a("Pending"),className:" w-full text-left px-4 py-2 text-sm text-dark_grey hover:bg-lite_grey hover:text-white ",children:"Pending"}),b.jsx("button",{onClick:()=>{a("Approved")},className:"   w-full text-left px-4 py-2 text-sm text-dark_grey hover:bg-lite_grey hover:text-white",children:"Approved"}),b.jsx("button",{onClick:()=>a("Rejected"),className:" w-full text-left px-4 py-2 text-sm text-dark_grey hover:bg-lite_grey hover:text-white",children:"Rejected"})]})})]})})};function QA(n){var r,t,e="";if(typeof n=="string"||typeof n=="number")e+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(r=0;r<s;r++)n[r]&&(t=QA(n[r]))&&(e&&(e+=" "),e+=t)}else for(t in n)n[t]&&(e&&(e+=" "),e+=t);return e}function Xs(){for(var n,r,t=0,e="",s=arguments.length;t<s;t++)(n=arguments[t])&&(r=QA(n))&&(e&&(e+=" "),e+=r);return e}function Gw(){return typeof window<"u"}function hg(n){return e9(n)?(n.nodeName||"").toLowerCase():"#document"}function vl(n){var r;return(n==null||(r=n.ownerDocument)==null?void 0:r.defaultView)||window}function Ju(n){var r;return(r=(e9(n)?n.ownerDocument:n.document)||window.document)==null?void 0:r.documentElement}function e9(n){return Gw()?n instanceof Node||n instanceof vl(n).Node:!1}function ho(n){return Gw()?n instanceof Element||n instanceof vl(n).Element:!1}function $u(n){return Gw()?n instanceof HTMLElement||n instanceof vl(n).HTMLElement:!1}function g7(n){return!Gw()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof vl(n).ShadowRoot}function yy(n){const{overflow:r,overflowX:t,overflowY:e,display:s}=Gl(n);return/auto|scroll|overlay|hidden|clip/.test(r+e+t)&&!["inline","contents"].includes(s)}function tH(n){return["table","td","th"].includes(hg(n))}function Yw(n){return[":popover-open",":modal"].some(r=>{try{return n.matches(r)}catch{return!1}})}function x8(n){const r=w8(),t=ho(n)?Gl(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!r&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!r&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(e=>(t.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(t.contain||"").includes(e))}function rH(n){let r=Of(n);for(;$u(r)&&!tg(r);){if(x8(r))return r;if(Yw(r))return null;r=Of(r)}return null}function w8(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function tg(n){return["html","body","#document"].includes(hg(n))}function Gl(n){return vl(n).getComputedStyle(n)}function Xw(n){return ho(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Of(n){if(hg(n)==="html")return n;const r=n.assignedSlot||n.parentNode||g7(n)&&n.host||Ju(n);return g7(r)?r.host:r}function t9(n){const r=Of(n);return tg(r)?n.ownerDocument?n.ownerDocument.body:n.body:$u(r)&&yy(r)?r:t9(r)}function Cb(n,r,t){var e;r===void 0&&(r=[]),t===void 0&&(t=!0);const s=t9(n),i=s===((e=n.ownerDocument)==null?void 0:e.body),a=vl(s);if(i){const o=x_(a);return r.concat(a,a.visualViewport||[],yy(s)?s:[],o&&t?Cb(o):[])}return r.concat(s,Cb(s,[],t))}function x_(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const rg=Math.min,Tm=Math.max,Gx=Math.round,j2=Math.floor,Ff=n=>({x:n,y:n}),nH={left:"right",right:"left",bottom:"top",top:"bottom"},sH={start:"end",end:"start"};function iH(n,r,t){return Tm(n,rg(r,t))}function Kw(n,r){return typeof n=="function"?n(r):n}function ng(n){return n.split("-")[0]}function xy(n){return n.split("-")[1]}function aH(n){return n==="x"?"y":"x"}function _8(n){return n==="y"?"height":"width"}function Tb(n){return["top","bottom"].includes(ng(n))?"y":"x"}function S8(n){return aH(Tb(n))}function oH(n,r,t){t===void 0&&(t=!1);const e=xy(n),s=S8(n),i=_8(s);let a=s==="x"?e===(t?"end":"start")?"right":"left":e==="start"?"bottom":"top";return r.reference[i]>r.floating[i]&&(a=Yx(a)),[a,Yx(a)]}function lH(n){const r=Yx(n);return[w_(n),r,w_(r)]}function w_(n){return n.replace(/start|end/g,r=>sH[r])}function cH(n,r,t){const e=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(n){case"top":case"bottom":return t?r?s:e:r?e:s;case"left":case"right":return r?i:a;default:return[]}}function uH(n,r,t,e){const s=xy(n);let i=cH(ng(n),t==="start",e);return s&&(i=i.map(a=>a+"-"+s),r&&(i=i.concat(i.map(w_)))),i}function Yx(n){return n.replace(/left|right|bottom|top/g,r=>nH[r])}function dH(n){return{top:0,right:0,bottom:0,left:0,...n}}function r9(n){return typeof n!="number"?dH(n):{top:n,right:n,bottom:n,left:n}}function Xx(n){const{x:r,y:t,width:e,height:s}=n;return{width:e,height:s,top:t,left:r,right:r+e,bottom:t+s,x:r,y:t}}function b7(n,r,t){let{reference:e,floating:s}=n;const i=Tb(r),a=S8(r),o=_8(a),c=ng(r),u=i==="y",l=e.x+e.width/2-s.width/2,d=e.y+e.height/2-s.height/2,f=e[o]/2-s[o]/2;let h;switch(c){case"top":h={x:l,y:e.y-s.height};break;case"bottom":h={x:l,y:e.y+e.height};break;case"right":h={x:e.x+e.width,y:d};break;case"left":h={x:e.x-s.width,y:d};break;default:h={x:e.x,y:e.y}}switch(xy(r)){case"start":h[a]-=f*(t&&u?-1:1);break;case"end":h[a]+=f*(t&&u?-1:1);break}return h}const hH=async(n,r,t)=>{const{placement:e="bottom",strategy:s="absolute",middleware:i=[],platform:a}=t,o=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(r));let u=await a.getElementRects({reference:n,floating:r,strategy:s}),{x:l,y:d}=b7(u,e,c),f=e,h={},p=0;for(let g=0;g<o.length;g++){const{name:v,fn:m}=o[g],{x,y,data:w,reset:E}=await m({x:l,y:d,initialPlacement:e,placement:f,strategy:s,middlewareData:h,rects:u,platform:a,elements:{reference:n,floating:r}});l=x??l,d=y??d,h={...h,[v]:{...h[v],...w}},E&&p<=50&&(p++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(u=E.rects===!0?await a.getElementRects({reference:n,floating:r,strategy:s}):E.rects),{x:l,y:d}=b7(u,f,c)),g=-1)}return{x:l,y:d,placement:f,strategy:s,middlewareData:h}};async function fH(n,r){var t;r===void 0&&(r={});const{x:e,y:s,platform:i,rects:a,elements:o,strategy:c}=n,{boundary:u="clippingAncestors",rootBoundary:l="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Kw(r,n),p=r9(h),v=o[f?d==="floating"?"reference":"floating":d],m=Xx(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(v)))==null||t?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:u,rootBoundary:l,strategy:c})),x=d==="floating"?{x:e,y:s,width:a.floating.width,height:a.floating.height}:a.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),w=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},E=Xx(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:y,strategy:c}):x);return{top:(m.top-E.top+p.top)/w.y,bottom:(E.bottom-m.bottom+p.bottom)/w.y,left:(m.left-E.left+p.left)/w.x,right:(E.right-m.right+p.right)/w.x}}const pH=n=>({name:"arrow",options:n,async fn(r){const{x:t,y:e,placement:s,rects:i,platform:a,elements:o,middlewareData:c}=r,{element:u,padding:l=0}=Kw(n,r)||{};if(u==null)return{};const d=r9(l),f={x:t,y:e},h=S8(s),p=_8(h),g=await a.getDimensions(u),v=h==="y",m=v?"top":"left",x=v?"bottom":"right",y=v?"clientHeight":"clientWidth",w=i.reference[p]+i.reference[h]-f[h]-i.floating[p],E=f[h]-i.reference[h],I=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let T=I?I[y]:0;(!T||!await(a.isElement==null?void 0:a.isElement(I)))&&(T=o.floating[y]||i.floating[p]);const R=w/2-E/2,D=T/2-g[p]/2-1,L=rg(d[m],D),M=rg(d[x],D),H=L,V=T-g[p]-M,P=T/2-g[p]/2+R,F=iH(H,P,V),A=!c.arrow&&xy(s)!=null&&P!==F&&i.reference[p]/2-(P<H?L:M)-g[p]/2<0,_=A?P<H?P-H:P-V:0;return{[h]:f[h]+_,data:{[h]:F,centerOffset:P-F-_,...A&&{alignmentOffset:_}},reset:A}}}),mH=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(r){var t,e;const{placement:s,middlewareData:i,rects:a,initialPlacement:o,platform:c,elements:u}=r,{mainAxis:l=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...v}=Kw(n,r);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const m=ng(s),x=Tb(o),y=ng(o)===o,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=f||(y||!g?[Yx(o)]:lH(o)),I=p!=="none";!f&&I&&E.push(...uH(o,g,p,w));const T=[o,...E],R=await fH(r,v),D=[];let L=((e=i.flip)==null?void 0:e.overflows)||[];if(l&&D.push(R[m]),d){const P=oH(s,a,w);D.push(R[P[0]],R[P[1]])}if(L=[...L,{placement:s,overflows:D}],!D.every(P=>P<=0)){var M,H;const P=(((M=i.flip)==null?void 0:M.index)||0)+1,F=T[P];if(F)return{data:{index:P,overflows:L},reset:{placement:F}};let A=(H=L.filter(_=>_.overflows[0]<=0).sort((_,S)=>_.overflows[1]-S.overflows[1])[0])==null?void 0:H.placement;if(!A)switch(h){case"bestFit":{var V;const _=(V=L.filter(S=>{if(I){const N=Tb(S.placement);return N===x||N==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(N=>N>0).reduce((N,C)=>N+C,0)]).sort((S,N)=>S[1]-N[1])[0])==null?void 0:V[0];_&&(A=_);break}case"initialPlacement":A=o;break}if(s!==A)return{reset:{placement:A}}}return{}}}};async function gH(n,r){const{placement:t,platform:e,elements:s}=n,i=await(e.isRTL==null?void 0:e.isRTL(s.floating)),a=ng(t),o=xy(t),c=Tb(t)==="y",u=["left","top"].includes(a)?-1:1,l=i&&c?-1:1,d=Kw(r,n);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof p=="number"&&(h=o==="end"?p*-1:p),c?{x:h*l,y:f*u}:{x:f*u,y:h*l}}const bH=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(r){var t,e;const{x:s,y:i,placement:a,middlewareData:o}=r,c=await gH(r,n);return a===((t=o.offset)==null?void 0:t.placement)&&(e=o.arrow)!=null&&e.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:a}}}}};function n9(n){const r=Gl(n);let t=parseFloat(r.width)||0,e=parseFloat(r.height)||0;const s=$u(n),i=s?n.offsetWidth:t,a=s?n.offsetHeight:e,o=Gx(t)!==i||Gx(e)!==a;return o&&(t=i,e=a),{width:t,height:e,$:o}}function E8(n){return ho(n)?n:n.contextElement}function G0(n){const r=E8(n);if(!$u(r))return Ff(1);const t=r.getBoundingClientRect(),{width:e,height:s,$:i}=n9(r);let a=(i?Gx(t.width):t.width)/e,o=(i?Gx(t.height):t.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const vH=Ff(0);function s9(n){const r=vl(n);return!w8()||!r.visualViewport?vH:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function yH(n,r,t){return r===void 0&&(r=!1),!t||r&&t!==vl(n)?!1:r}function Mm(n,r,t,e){r===void 0&&(r=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),i=E8(n);let a=Ff(1);r&&(e?ho(e)&&(a=G0(e)):a=G0(n));const o=yH(i,t,e)?s9(i):Ff(0);let c=(s.left+o.x)/a.x,u=(s.top+o.y)/a.y,l=s.width/a.x,d=s.height/a.y;if(i){const f=vl(i),h=e&&ho(e)?vl(e):e;let p=f,g=x_(p);for(;g&&e&&h!==p;){const v=G0(g),m=g.getBoundingClientRect(),x=Gl(g),y=m.left+(g.clientLeft+parseFloat(x.paddingLeft))*v.x,w=m.top+(g.clientTop+parseFloat(x.paddingTop))*v.y;c*=v.x,u*=v.y,l*=v.x,d*=v.y,c+=y,u+=w,p=vl(g),g=x_(p)}}return Xx({width:l,height:d,x:c,y:u})}function xH(n){let{elements:r,rect:t,offsetParent:e,strategy:s}=n;const i=s==="fixed",a=Ju(e),o=r?Yw(r.floating):!1;if(e===a||o&&i)return t;let c={scrollLeft:0,scrollTop:0},u=Ff(1);const l=Ff(0),d=$u(e);if((d||!d&&!i)&&((hg(e)!=="body"||yy(a))&&(c=Xw(e)),$u(e))){const f=Mm(e);u=G0(e),l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-c.scrollLeft*u.x+l.x,y:t.y*u.y-c.scrollTop*u.y+l.y}}function wH(n){return Array.from(n.getClientRects())}function __(n,r){const t=Xw(n).scrollLeft;return r?r.left+t:Mm(Ju(n)).left+t}function _H(n){const r=Ju(n),t=Xw(n),e=n.ownerDocument.body,s=Tm(r.scrollWidth,r.clientWidth,e.scrollWidth,e.clientWidth),i=Tm(r.scrollHeight,r.clientHeight,e.scrollHeight,e.clientHeight);let a=-t.scrollLeft+__(n);const o=-t.scrollTop;return Gl(e).direction==="rtl"&&(a+=Tm(r.clientWidth,e.clientWidth)-s),{width:s,height:i,x:a,y:o}}function SH(n,r){const t=vl(n),e=Ju(n),s=t.visualViewport;let i=e.clientWidth,a=e.clientHeight,o=0,c=0;if(s){i=s.width,a=s.height;const u=w8();(!u||u&&r==="fixed")&&(o=s.offsetLeft,c=s.offsetTop)}return{width:i,height:a,x:o,y:c}}function EH(n,r){const t=Mm(n,!0,r==="fixed"),e=t.top+n.clientTop,s=t.left+n.clientLeft,i=$u(n)?G0(n):Ff(1),a=n.clientWidth*i.x,o=n.clientHeight*i.y,c=s*i.x,u=e*i.y;return{width:a,height:o,x:c,y:u}}function v7(n,r,t){let e;if(r==="viewport")e=SH(n,t);else if(r==="document")e=_H(Ju(n));else if(ho(r))e=EH(r,t);else{const s=s9(n);e={...r,x:r.x-s.x,y:r.y-s.y}}return Xx(e)}function i9(n,r){const t=Of(n);return t===r||!ho(t)||tg(t)?!1:Gl(t).position==="fixed"||i9(t,r)}function NH(n,r){const t=r.get(n);if(t)return t;let e=Cb(n,[],!1).filter(o=>ho(o)&&hg(o)!=="body"),s=null;const i=Gl(n).position==="fixed";let a=i?Of(n):n;for(;ho(a)&&!tg(a);){const o=Gl(a),c=x8(a);!c&&o.position==="fixed"&&(s=null),(i?!c&&!s:!c&&o.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||yy(a)&&!c&&i9(n,a))?e=e.filter(l=>l!==a):s=o,a=Of(a)}return r.set(n,e),e}function AH(n){let{element:r,boundary:t,rootBoundary:e,strategy:s}=n;const a=[...t==="clippingAncestors"?Yw(r)?[]:NH(r,this._c):[].concat(t),e],o=a[0],c=a.reduce((u,l)=>{const d=v7(r,l,s);return u.top=Tm(d.top,u.top),u.right=rg(d.right,u.right),u.bottom=rg(d.bottom,u.bottom),u.left=Tm(d.left,u.left),u},v7(r,o,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function kH(n){const{width:r,height:t}=n9(n);return{width:r,height:t}}function CH(n,r,t){const e=$u(r),s=Ju(r),i=t==="fixed",a=Mm(n,!0,i,r);let o={scrollLeft:0,scrollTop:0};const c=Ff(0);if(e||!e&&!i)if((hg(r)!=="body"||yy(s))&&(o=Xw(r)),e){const h=Mm(r,!0,i,r);c.x=h.x+r.clientLeft,c.y=h.y+r.clientTop}else s&&(c.x=__(s));let u=0,l=0;if(s&&!e&&!i){const h=s.getBoundingClientRect();l=h.top+o.scrollTop,u=h.left+o.scrollLeft-__(s,h)}const d=a.left+o.scrollLeft-c.x-u,f=a.top+o.scrollTop-c.y-l;return{x:d,y:f,width:a.width,height:a.height}}function C6(n){return Gl(n).position==="static"}function y7(n,r){if(!$u(n)||Gl(n).position==="fixed")return null;if(r)return r(n);let t=n.offsetParent;return Ju(n)===t&&(t=t.ownerDocument.body),t}function a9(n,r){const t=vl(n);if(Yw(n))return t;if(!$u(n)){let s=Of(n);for(;s&&!tg(s);){if(ho(s)&&!C6(s))return s;s=Of(s)}return t}let e=y7(n,r);for(;e&&tH(e)&&C6(e);)e=y7(e,r);return e&&tg(e)&&C6(e)&&!x8(e)?t:e||rH(n)||t}const TH=async function(n){const r=this.getOffsetParent||a9,t=this.getDimensions,e=await t(n.floating);return{reference:CH(n.reference,await r(n.floating),n.strategy),floating:{x:0,y:0,width:e.width,height:e.height}}};function DH(n){return Gl(n).direction==="rtl"}const IH={convertOffsetParentRelativeRectToViewportRelativeRect:xH,getDocumentElement:Ju,getClippingRect:AH,getOffsetParent:a9,getElementRects:TH,getClientRects:wH,getDimensions:kH,getScale:G0,isElement:ho,isRTL:DH};function PH(n,r){let t=null,e;const s=Ju(n);function i(){var o;clearTimeout(e),(o=t)==null||o.disconnect(),t=null}function a(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),i();const{left:u,top:l,width:d,height:f}=n.getBoundingClientRect();if(o||r(),!d||!f)return;const h=j2(l),p=j2(s.clientWidth-(u+d)),g=j2(s.clientHeight-(l+f)),v=j2(u),x={rootMargin:-h+"px "+-p+"px "+-g+"px "+-v+"px",threshold:Tm(0,rg(1,c))||1};let y=!0;function w(E){const I=E[0].intersectionRatio;if(I!==c){if(!y)return a();I?a(!1,I):e=setTimeout(()=>{a(!1,1e-7)},1e3)}y=!1}try{t=new IntersectionObserver(w,{...x,root:s.ownerDocument})}catch{t=new IntersectionObserver(w,x)}t.observe(n)}return a(!0),i}function jH(n,r,t,e){e===void 0&&(e={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=e,u=E8(n),l=s||i?[...u?Cb(u):[],...Cb(r)]:[];l.forEach(m=>{s&&m.addEventListener("scroll",t,{passive:!0}),i&&m.addEventListener("resize",t)});const d=u&&o?PH(u,t):null;let f=-1,h=null;a&&(h=new ResizeObserver(m=>{let[x]=m;x&&x.target===u&&h&&(h.unobserve(r),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var y;(y=h)==null||y.observe(r)})),t()}),u&&!c&&h.observe(u),h.observe(r));let p,g=c?Mm(n):null;c&&v();function v(){const m=Mm(n);g&&(m.x!==g.x||m.y!==g.y||m.width!==g.width||m.height!==g.height)&&t(),g=m,p=requestAnimationFrame(v)}return t(),()=>{var m;l.forEach(x=>{s&&x.removeEventListener("scroll",t),i&&x.removeEventListener("resize",t)}),d==null||d(),(m=h)==null||m.disconnect(),h=null,c&&cancelAnimationFrame(p)}}const RH=bH,MH=mH,x7=pH,LH=(n,r,t)=>{const e=new Map,s={platform:IH,...t},i={...s.platform,_c:e};return hH(n,r,{...s,platform:i})};var nx=typeof document<"u"?ne.useLayoutEffect:ne.useEffect;function Kx(n,r){if(n===r)return!0;if(typeof n!=typeof r)return!1;if(typeof n=="function"&&n.toString()===r.toString())return!0;let t,e,s;if(n&&r&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==r.length)return!1;for(e=t;e--!==0;)if(!Kx(n[e],r[e]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(r).length)return!1;for(e=t;e--!==0;)if(!{}.hasOwnProperty.call(r,s[e]))return!1;for(e=t;e--!==0;){const i=s[e];if(!(i==="_owner"&&n.$$typeof)&&!Kx(n[i],r[i]))return!1}return!0}return n!==n&&r!==r}function o9(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function w7(n,r){const t=o9(n);return Math.round(r*t)/t}function T6(n){const r=ne.useRef(n);return nx(()=>{r.current=n}),r}function OH(n){n===void 0&&(n={});const{placement:r="bottom",strategy:t="absolute",middleware:e=[],platform:s,elements:{reference:i,floating:a}={},transform:o=!0,whileElementsMounted:c,open:u}=n,[l,d]=ne.useState({x:0,y:0,strategy:t,placement:r,middlewareData:{},isPositioned:!1}),[f,h]=ne.useState(e);Kx(f,e)||h(e);const[p,g]=ne.useState(null),[v,m]=ne.useState(null),x=ne.useCallback(S=>{S!==I.current&&(I.current=S,g(S))},[]),y=ne.useCallback(S=>{S!==T.current&&(T.current=S,m(S))},[]),w=i||p,E=a||v,I=ne.useRef(null),T=ne.useRef(null),R=ne.useRef(l),D=c!=null,L=T6(c),M=T6(s),H=T6(u),V=ne.useCallback(()=>{if(!I.current||!T.current)return;const S={placement:r,strategy:t,middleware:f};M.current&&(S.platform=M.current),LH(I.current,T.current,S).then(N=>{const C={...N,isPositioned:H.current!==!1};P.current&&!Kx(R.current,C)&&(R.current=C,YN.flushSync(()=>{d(C)}))})},[f,r,t,M,H]);nx(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,d(S=>({...S,isPositioned:!1})))},[u]);const P=ne.useRef(!1);nx(()=>(P.current=!0,()=>{P.current=!1}),[]),nx(()=>{if(w&&(I.current=w),E&&(T.current=E),w&&E){if(L.current)return L.current(w,E,V);V()}},[w,E,V,L,D]);const F=ne.useMemo(()=>({reference:I,floating:T,setReference:x,setFloating:y}),[x,y]),A=ne.useMemo(()=>({reference:w,floating:E}),[w,E]),_=ne.useMemo(()=>{const S={position:t,left:0,top:0};if(!A.floating)return S;const N=w7(A.floating,l.x),C=w7(A.floating,l.y);return o?{...S,transform:"translate("+N+"px, "+C+"px)",...o9(A.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:N,top:C}},[t,o,A.floating,l.x,l.y]);return ne.useMemo(()=>({...l,update:V,refs:F,elements:A,floatingStyles:_}),[l,V,F,A,_])}const FH=n=>{function r(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:e,padding:s}=typeof n=="function"?n(t):n;return e&&r(e)?e.current!=null?x7({element:e.current,padding:s}).fn(t):{}:e?x7({element:e,padding:s}).fn(t):{}}}},BH=(n,r)=>({...RH(n),options:[n,r]}),UH=(n,r)=>({...MH(n),options:[n,r]}),HH=(n,r)=>({...FH(n),options:[n,r]}),l9={..._M},qH=l9.useInsertionEffect,WH=qH||(n=>n());function zH(n){const r=ne.useRef(()=>{});return WH(()=>{r.current=n}),ne.useCallback(function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return r.current==null?void 0:r.current(...e)},[])}var Jx=typeof document<"u"?ne.useLayoutEffect:ne.useEffect;function S_(){return S_=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}return n},S_.apply(this,arguments)}let _7=!1,VH=0;const S7=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+VH++;function $H(){const[n,r]=ne.useState(()=>_7?S7():void 0);return Jx(()=>{n==null&&r(S7())},[]),ne.useEffect(()=>{_7=!0},[]),n}const GH=l9.useId,c9=GH||$H,YH=ne.forwardRef(function(r,t){const{context:{placement:e,elements:{floating:s},middlewareData:{arrow:i,shift:a}},width:o=14,height:c=7,tipRadius:u=0,strokeWidth:l=0,staticOffset:d,stroke:f,d:h,style:{transform:p,...g}={},...v}=r,m=c9(),[x,y]=ne.useState(!1);if(Jx(()=>{if(!s)return;Gl(s).direction==="rtl"&&y(!0)},[s]),!s)return null;const[w,E]=e.split("-"),I=w==="top"||w==="bottom";let T=d;(I&&a!=null&&a.x||!I&&a!=null&&a.y)&&(T=null);const R=l*2,D=R/2,L=o/2*(u/-8+1),M=c/2*u/4,H=!!h,V=T&&E==="end"?"bottom":"top";let P=T&&E==="end"?"right":"left";T&&x&&(P=E==="end"?"left":"right");const F=(i==null?void 0:i.x)!=null?T||i.x:"",A=(i==null?void 0:i.y)!=null?T||i.y:"",_=h||"M0,0"+(" H"+o)+(" L"+(o-L)+","+(c-M))+(" Q"+o/2+","+c+" "+L+","+(c-M))+" Z",S={top:H?"rotate(180deg)":"",left:H?"rotate(90deg)":"rotate(-90deg)",bottom:H?"":"rotate(180deg)",right:H?"rotate(-90deg)":"rotate(90deg)"}[w];return ne.createElement("svg",S_({},v,{"aria-hidden":!0,ref:t,width:H?o:o+R,height:o,viewBox:"0 0 "+o+" "+(c>o?c:o),style:{position:"absolute",pointerEvents:"none",[P]:F,[V]:A,[w]:I||H?"100%":"calc(100% - "+R/2+"px)",transform:[S,p].filter(N=>!!N).join(" "),...g}}),R>0&&ne.createElement("path",{clipPath:"url(#"+m+")",fill:"none",stroke:f,strokeWidth:R+(h?0:1),d:_}),ne.createElement("path",{stroke:R&&!h?v.fill:"none",d:_}),ne.createElement("clipPath",{id:m},ne.createElement("rect",{x:-D,y:D*(H?-1:1),width:o+R,height:o})))});function XH(){const n=new Map;return{emit(r,t){var e;(e=n.get(r))==null||e.forEach(s=>s(t))},on(r,t){n.set(r,[...n.get(r)||[],t])},off(r,t){var e;n.set(r,((e=n.get(r))==null?void 0:e.filter(s=>s!==t))||[])}}}const KH=ne.createContext(null),JH=ne.createContext(null),ZH=()=>{var n;return((n=ne.useContext(KH))==null?void 0:n.id)||null},QH=()=>ne.useContext(JH);function eq(n){const{open:r=!1,onOpenChange:t,elements:e}=n,s=c9(),i=ne.useRef({}),[a]=ne.useState(()=>XH()),o=ZH()!=null,[c,u]=ne.useState(e.reference),l=zH((h,p,g)=>{i.current.openEvent=h?p:void 0,a.emit("openchange",{open:h,event:p,reason:g,nested:o}),t==null||t(h,p,g)}),d=ne.useMemo(()=>({setPositionReference:u}),[]),f=ne.useMemo(()=>({reference:c||e.reference||null,floating:e.floating||null,domReference:e.reference}),[c,e.reference,e.floating]);return ne.useMemo(()=>({dataRef:i,open:r,onOpenChange:l,elements:f,events:a,floatingId:s,refs:d}),[r,l,f,a,s,d])}function tq(n){n===void 0&&(n={});const{nodeId:r}=n,t=eq({...n,elements:{reference:null,floating:null,...n.elements}}),e=n.rootContext||t,s=e.elements,[i,a]=ne.useState(null),[o,c]=ne.useState(null),l=(s==null?void 0:s.reference)||i,d=ne.useRef(null),f=QH();Jx(()=>{l&&(d.current=l)},[l]);const h=OH({...n,elements:{...s,...o&&{reference:o}}}),p=ne.useCallback(y=>{const w=ho(y)?{getBoundingClientRect:()=>y.getBoundingClientRect(),contextElement:y}:y;c(w),h.refs.setReference(w)},[h.refs]),g=ne.useCallback(y=>{(ho(y)||y===null)&&(d.current=y,a(y)),(ho(h.refs.reference.current)||h.refs.reference.current===null||y!==null&&!ho(y))&&h.refs.setReference(y)},[h.refs]),v=ne.useMemo(()=>({...h.refs,setReference:g,setPositionReference:p,domReference:d}),[h.refs,g,p]),m=ne.useMemo(()=>({...h.elements,domReference:l}),[h.elements,l]),x=ne.useMemo(()=>({...h,...e,refs:v,elements:m,nodeId:r}),[h,v,m,r,e]);return Jx(()=>{e.dataRef.current.floatingContext=x;const y=f==null?void 0:f.nodesRef.current.find(w=>w.id===r);y&&(y.context=x)}),ne.useMemo(()=>({...h,context:x,refs:v,elements:m}),[h,v,m,x])}/*!
  react-datepicker v7.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var E_=function(r,t){return E_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,s){e.__proto__=s}||function(e,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])},E_(r,t)};function Zi(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");E_(n,r);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var Dn=function(){return Dn=Object.assign||function(t){for(var e,s=1,i=arguments.length;s<i;s++){e=arguments[s];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Dn.apply(this,arguments)};function Bu(n,r,t){if(t||arguments.length===2)for(var e=0,s=r.length,i;e<s;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return n.concat(i||Array.prototype.slice.call(r))}var rq=function(n){var r=n.showTimeSelectOnly,t=r===void 0?!1:r,e=n.showTime,s=e===void 0?!1:e,i=n.className,a=n.children,o=t?"Choose Time":"Choose Date".concat(s?" and Time":"");return St.createElement("div",{className:i,role:"dialog","aria-label":o,"aria-modal":"true"},a)},nq=function(n,r){var t=ne.useRef(null),e=ne.useRef(n);e.current=n;var s=ne.useCallback(function(i){var a;t.current&&!t.current.contains(i.target)&&(r&&i.target instanceof HTMLElement&&i.target.classList.contains(r)||(a=e.current)===null||a===void 0||a.call(e,i))},[r]);return ne.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),t},Jw=function(n){var r=n.children,t=n.onClickOutside,e=n.className,s=n.containerRef,i=n.style,a=n.ignoreClass,o=nq(t,a);return St.createElement("div",{className:e,style:i,ref:function(c){o.current=c,s&&(s.current=c)}},r)},ir;(function(n){n.ArrowUp="ArrowUp",n.ArrowDown="ArrowDown",n.ArrowLeft="ArrowLeft",n.ArrowRight="ArrowRight",n.PageUp="PageUp",n.PageDown="PageDown",n.Home="Home",n.End="End",n.Enter="Enter",n.Space=" ",n.Tab="Tab",n.Escape="Escape",n.Backspace="Backspace",n.X="x"})(ir||(ir={}));function u9(){var n=typeof window<"u"?window:globalThis;return n}var wy=12,sq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function es(n){if(n==null)return new Date;var r=typeof n=="string"?kF(n):dr(n);return Fd(r)?r:new Date}function D6(n,r,t,e,s){var i,a=null,o=Dm(t)||Dm(ub()),c=!0;if(Array.isArray(r))return r.forEach(function(l){var d=g6(n,l,new Date,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});e&&(c=Fd(d,s)&&n===ws(d,l,t)),Fd(d,s)&&c&&(a=d)}),a;if(a=g6(n,r,new Date,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),e)c=Fd(a)&&n===ws(a,r,t);else if(!Fd(a)){var u=((i=r.match(sq))!==null&&i!==void 0?i:[]).map(function(l){var d=l[0];if(d==="p"||d==="P"){var f=Wx[d];return o?f(l,o.formatLong):d}return l}).join("");n.length>0&&(a=g6(n,u.slice(0,n.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Fd(a)||(a=new Date(n))}return Fd(a)&&c?a:null}function Fd(n,r){return Bx(n)&&!Rm(n,r??new Date("1/1/1800"))}function ws(n,r,t){if(t==="en")return W0(n,r,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var e=t?Dm(t):void 0;return t&&!e&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),!e&&ub()&&Dm(ub())&&(e=Dm(ub())),W0(n,r,{locale:e,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ql(n,r){var t=r.dateFormat,e=r.locale,s=Array.isArray(t)&&t.length>0?t[0]:t;return n&&ws(n,s,e)||""}function iq(n,r,t){if(!n)return"";var e=ql(n,t),s=r?ql(r,t):"";return"".concat(e," - ").concat(s)}function aq(n,r){if(!(n!=null&&n.length))return"";var t=n[0]?ql(n[0],r):"";if(n.length===1)return t;if(n.length===2&&n[1]){var e=ql(n[1],r);return"".concat(t,", ").concat(e)}var s=n.length-1;return"".concat(t," (+").concat(s,")")}function I6(n,r){var t=r.hour,e=t===void 0?0:t,s=r.minute,i=s===void 0?0:s,a=r.second,o=a===void 0?0:a;return ex(tx(rx(n,o),i),e)}function oq(n){return c8(n)}function lq(n,r){return ws(n,"ddd",r)}function sx(n){return jm(n)}function Cf(n,r,t){var e=Dm(r||ub());return xh(n,{locale:e,weekStartsOn:t})}function Tf(n){return gA(n)}function Fg(n){return Ww(n)}function E7(n){return a_(n)}function N7(){return jm(es())}function A7(n){return mA(n)}function cq(n){return PL(n)}function Ru(n,r){return n&&r?NF(n,r):!n&&!r}function ao(n,r){return n&&r?SF(n,r):!n&&!r}function Zx(n,r){return n&&r?EF(n,r):!n&&!r}function _n(n,r){return n&&r?DL(n,r):!n&&!r}function kp(n,r){return n&&r?CO(n,r):!n&&!r}function Bg(n,r,t){var e,s=jm(r),i=mA(t);try{e=Nb(n,{start:s,end:i})}catch{e=!1}return e}function ub(){var n=u9();return n.__localeId__}function Dm(n){if(typeof n=="string"){var r=u9();return r.__localeData__?r.__localeData__[n]:void 0}else return n}function uq(n,r,t){return r(ws(n,"EEEE",t))}function dq(n,r){return ws(n,"EEEEEE",r)}function hq(n,r){return ws(n,"EEE",r)}function N8(n,r){return ws(hl(es(),n),"LLLL",r)}function d9(n,r){return ws(hl(es(),n),"LLL",r)}function fq(n,r){return ws(j0(es(),n),"QQQ",r)}function Mu(n,r){var t=r===void 0?{}:r,e=t.minDate,s=t.maxDate,i=t.excludeDates,a=t.excludeDateIntervals,o=t.includeDates,c=t.includeDateIntervals,u=t.filterDate;return _y(n,{minDate:e,maxDate:s})||i&&i.some(function(l){return l instanceof Date?_n(n,l):_n(n,l.date)})||a&&a.some(function(l){var d=l.start,f=l.end;return Nb(n,{start:d,end:f})})||o&&!o.some(function(l){return _n(n,l)})||c&&!c.some(function(l){var d=l.start,f=l.end;return Nb(n,{start:d,end:f})})||u&&!u(es(n))||!1}function A8(n,r){var t=r===void 0?{}:r,e=t.excludeDates,s=t.excludeDateIntervals;return s&&s.length>0?s.some(function(i){var a=i.start,o=i.end;return Nb(n,{start:a,end:o})}):e&&e.some(function(i){var a;return i instanceof Date?_n(n,i):_n(n,(a=i.date)!==null&&a!==void 0?a:new Date)})||!1}function h9(n,r){var t=r===void 0?{}:r,e=t.minDate,s=t.maxDate,i=t.excludeDates,a=t.includeDates,o=t.filterDate;return _y(n,{minDate:e?gA(e):void 0,maxDate:s?IL(s):void 0})||(i==null?void 0:i.some(function(c){return ao(n,c instanceof Date?c:c.date)}))||a&&!a.some(function(c){return ao(n,c)})||o&&!o(es(n))||!1}function R2(n,r,t,e){var s=un(n),i=uo(n),a=un(r),o=uo(r),c=un(e);return s===a&&s===c?i<=t&&t<=o:s<a?c===s&&i<=t||c===a&&o>=t||c<a&&c>s:!1}function pq(n,r){var t=r===void 0?{}:r,e=t.minDate,s=t.maxDate,i=t.excludeDates,a=t.includeDates;return _y(n,{minDate:e,maxDate:s})||i&&i.some(function(o){return ao(o instanceof Date?o:o.date,n)})||a&&!a.some(function(o){return ao(o,n)})||!1}function M2(n,r){var t=r===void 0?{}:r,e=t.minDate,s=t.maxDate,i=t.excludeDates,a=t.includeDates,o=t.filterDate;return _y(n,{minDate:e,maxDate:s})||(i==null?void 0:i.some(function(c){return Zx(n,c instanceof Date?c:c.date)}))||a&&!a.some(function(c){return Zx(n,c)})||o&&!o(es(n))||!1}function L2(n,r,t){if(!r||!t||!Bx(r)||!Bx(t))return!1;var e=un(r),s=un(t);return e<=n&&s>=n}function ix(n,r){var t=r===void 0?{}:r,e=t.minDate,s=t.maxDate,i=t.excludeDates,a=t.includeDates,o=t.filterDate,c=new Date(n,0,1);return _y(c,{minDate:e?Ww(e):void 0,maxDate:s?bA(s):void 0})||(i==null?void 0:i.some(function(u){return Ru(c,u instanceof Date?u:u.date)}))||a&&!a.some(function(u){return Ru(c,u)})||o&&!o(es(c))||!1}function O2(n,r,t,e){var s=un(n),i=Em(n),a=un(r),o=Em(r),c=un(e);return s===a&&s===c?i<=t&&t<=o:s<a?c===s&&i<=t||c===a&&o>=t||c<a&&c>s:!1}function _y(n,r){var t,e=r===void 0?{}:r,s=e.minDate,i=e.maxDate;return(t=s&&Eb(n,s)<0||i&&Eb(n,i)>0)!==null&&t!==void 0?t:!1}function k7(n,r){return r.some(function(t){return Uu(t)===Uu(n)&&Hu(t)===Hu(n)&&fh(t)===fh(n)})}function C7(n,r){var t=r===void 0?{}:r,e=t.excludeTimes,s=t.includeTimes,i=t.filterTime;return e&&k7(n,e)||s&&!k7(n,s)||i&&!i(n)||!1}function T7(n,r){var t=r.minTime,e=r.maxTime;if(!t||!e)throw new Error("Both minTime and maxTime props required");var s=es();s=ex(s,Uu(n)),s=tx(s,Hu(n)),s=rx(s,fh(n));var i=es();i=ex(i,Uu(t)),i=tx(i,Hu(t)),i=rx(i,fh(t));var a=es();a=ex(a,Uu(e)),a=tx(a,Hu(e)),a=rx(a,fh(e));var o;try{o=!Nb(s,{start:i,end:a})}catch{o=!1}return o}function D7(n,r){var t=r===void 0?{}:r,e=t.minDate,s=t.includeDates,i=Q1(n,1);return e&&Ux(e,i)>0||s&&s.every(function(a){return Ux(a,i)>0})||!1}function I7(n,r){var t=r===void 0?{}:r,e=t.maxDate,s=t.includeDates,i=Vc(n,1);return e&&Ux(i,e)>0||s&&s.every(function(a){return Ux(i,a)>0})||!1}function mq(n,r){var t=r===void 0?{}:r,e=t.minDate,s=t.includeDates,i=Ww(n),a=CA(i,1);return e&&Hx(e,a)>0||s&&s.every(function(o){return Hx(o,a)>0})||!1}function gq(n,r){var t=r===void 0?{}:r,e=t.maxDate,s=t.includeDates,i=bA(n),a=l8(i,1);return e&&Hx(a,e)>0||s&&s.every(function(o){return Hx(a,o)>0})||!1}function P7(n,r){var t=r===void 0?{}:r,e=t.minDate,s=t.includeDates,i=eg(n,1);return e&&qx(e,i)>0||s&&s.every(function(a){return qx(a,i)>0})||!1}function bq(n,r){var t=r===void 0?{}:r,e=t.minDate,s=t.yearItemNumber,i=s===void 0?wy:s,a=Fg(eg(n,i)),o=Sf(a,i).endPeriod,c=e&&un(e);return c&&c>o||!1}function j7(n,r){var t=r===void 0?{}:r,e=t.maxDate,s=t.includeDates,i=dh(n,1);return e&&qx(i,e)>0||s&&s.every(function(a){return qx(i,a)>0})||!1}function vq(n,r){var t=r===void 0?{}:r,e=t.maxDate,s=t.yearItemNumber,i=s===void 0?wy:s,a=dh(n,i),o=Sf(a,i).startPeriod,c=e&&un(e);return c&&c<o||!1}function f9(n){var r=n.minDate,t=n.includeDates;if(t&&r){var e=t.filter(function(s){return Eb(s,r)>=0});return HE(e)}else return t?HE(t):r}function p9(n){var r=n.maxDate,t=n.includeDates;if(t&&r){var e=t.filter(function(s){return Eb(s,r)<=0});return UE(e)}else return t?UE(t):r}function R7(n,r){var t;n===void 0&&(n=[]),r===void 0&&(r="react-datepicker__day--highlighted");for(var e=new Map,s=0,i=n.length;s<i;s++){var a=n[s];if(hh(a)){var o=ws(a,"MM.dd.yyyy"),c=e.get(o)||[];c.includes(r)||(c.push(r),e.set(o,c))}else if(typeof a=="object"){var u=Object.keys(a),l=(t=u[0])!==null&&t!==void 0?t:"",d=a[l];if(typeof l=="string"&&Array.isArray(d))for(var f=0,h=d.length;f<h;f++){var p=d[f];if(p){var o=ws(p,"MM.dd.yyyy"),c=e.get(o)||[];c.includes(l)||(c.push(l),e.set(o,c))}}}}return e}function yq(n,r){return n.length!==r.length?!1:n.every(function(t,e){return t===r[e]})}function xq(n,r){n===void 0&&(n=[]),r===void 0&&(r="react-datepicker__day--holidays");var t=new Map;return n.forEach(function(e){var s=e.date,i=e.holidayName;if(hh(s)){var a=ws(s,"MM.dd.yyyy"),o=t.get(a)||{className:"",holidayNames:[]};if(!("className"in o&&o.className===r&&yq(o.holidayNames,[i]))){o.className=r;var c=o.holidayNames;o.holidayNames=c?Bu(Bu([],c,!0),[i],!1):[i],t.set(a,o)}}}),t}function wq(n,r,t,e,s){for(var i=s.length,a=[],o=0;o<i;o++){var c=n,u=s[o];u&&(c=AL(c,Uu(u)),c=i_(c,Hu(u)),c=TL(c,fh(u)));var l=i_(n,(t+1)*e);Pf(c,r)&&Rm(c,l)&&u!=null&&a.push(u)}return a}function M7(n){return n<10?"0".concat(n):"".concat(n)}function Sf(n,r){r===void 0&&(r=wy);var t=Math.ceil(un(n)/r)*r,e=t-(r-1);return{startPeriod:e,endPeriod:t}}function _q(n){var r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t=new Date(n.getFullYear(),n.getMonth(),n.getDate(),24);return Math.round((+t-+r)/36e5)}function L7(n){var r=n.getSeconds(),t=n.getMilliseconds();return dr(n.getTime()-r*1e3-t)}function Sq(n,r){return L7(n).getTime()===L7(r).getTime()}function O7(n){if(!hh(n))throw new Error("Invalid date");var r=new Date(n);return r.setHours(0,0,0,0),r}function F7(n,r){if(!hh(n)||!hh(r))throw new Error("Invalid date received");var t=O7(n),e=O7(r);return Rm(t,e)}function m9(n){return n.key===ir.Space}var Eq=function(n){Zi(r,n);function r(t){var e=n.call(this,t)||this;return e.inputRef=St.createRef(),e.onTimeChange=function(s){var i,a;e.setState({time:s});var o=e.props.date,c=o instanceof Date&&!isNaN(+o),u=c?o:new Date;if(s!=null&&s.includes(":")){var l=s.split(":"),d=l[0],f=l[1];u.setHours(Number(d)),u.setMinutes(Number(f))}(a=(i=e.props).onChange)===null||a===void 0||a.call(i,u)},e.renderTimeInput=function(){var s=e.state.time,i=e.props,a=i.date,o=i.timeString,c=i.customTimeInput;return c?ne.cloneElement(c,{date:a,value:s,onChange:e.onTimeChange}):St.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:e.inputRef,onClick:function(){var u;(u=e.inputRef.current)===null||u===void 0||u.focus()},required:!0,value:s,onChange:function(u){e.onTimeChange(u.target.value||o)}})},e.state={time:e.props.timeString},e}return r.getDerivedStateFromProps=function(t,e){return t.timeString!==e.time?{time:t.timeString}:null},r.prototype.render=function(){return St.createElement("div",{className:"react-datepicker__input-time-container"},St.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),St.createElement("div",{className:"react-datepicker-time__input-container"},St.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},r}(ne.Component),Nq=function(n){Zi(r,n);function r(){var t=n!==null&&n.apply(this,arguments)||this;return t.dayEl=ne.createRef(),t.handleClick=function(e){!t.isDisabled()&&t.props.onClick&&t.props.onClick(e)},t.handleMouseEnter=function(e){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(e)},t.handleOnKeyDown=function(e){var s,i,a=e.key;a===ir.Space&&(e.preventDefault(),e.key=ir.Enter),(i=(s=t.props).handleOnKeyDown)===null||i===void 0||i.call(s,e)},t.isSameDay=function(e){return _n(t.props.day,e)},t.isKeyboardSelected=function(){var e;if(t.props.disabledKeyboardNavigation)return!1;var s=t.props.selectsMultiple?(e=t.props.selectedDates)===null||e===void 0?void 0:e.some(function(a){return t.isSameDayOrWeek(a)}):t.isSameDayOrWeek(t.props.selected),i=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!s&&t.isSameDayOrWeek(t.props.preSelection)&&!i},t.isDisabled=function(e){return e===void 0&&(e=t.props.day),Mu(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return A8(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return _n(t.props.day,Cf(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(e){return t.props.showWeekPicker&&_n(e,Cf(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(e){return t.isSameDay(e)||t.isSameWeek(e)},t.getHighLightedClass=function(){var e=t.props,s=e.day,i=e.highlightDates;if(!i)return!1;var a=ws(s,"MM.dd.yyyy");return i.get(a)},t.getHolidaysClass=function(){var e,s=t.props,i=s.day,a=s.holidays;if(!a)return[void 0];var o=ws(i,"MM.dd.yyyy");return a.has(o)?[(e=a.get(o))===null||e===void 0?void 0:e.className]:[void 0]},t.isInRange=function(){var e=t.props,s=e.day,i=e.startDate,a=e.endDate;return!i||!a?!1:Bg(s,i,a)},t.isInSelectingRange=function(){var e,s=t.props,i=s.day,a=s.selectsStart,o=s.selectsEnd,c=s.selectsRange,u=s.selectsDisabledDaysInRange,l=s.startDate,d=s.endDate,f=(e=t.props.selectingDate)!==null&&e!==void 0?e:t.props.preSelection;return!(a||o||c)||!f||!u&&t.isDisabled()?!1:a&&d&&(Rm(f,d)||kp(f,d))?Bg(i,f,d):o&&l&&(Pf(f,l)||kp(f,l))||c&&l&&!d&&(Pf(f,l)||kp(f,l))?Bg(i,l,f):!1},t.isSelectingRangeStart=function(){var e;if(!t.isInSelectingRange())return!1;var s=t.props,i=s.day,a=s.startDate,o=s.selectsStart,c=(e=t.props.selectingDate)!==null&&e!==void 0?e:t.props.preSelection;return o?_n(i,c):_n(i,a)},t.isSelectingRangeEnd=function(){var e;if(!t.isInSelectingRange())return!1;var s=t.props,i=s.day,a=s.endDate,o=s.selectsEnd,c=s.selectsRange,u=(e=t.props.selectingDate)!==null&&e!==void 0?e:t.props.preSelection;return o||c?_n(i,u):_n(i,a)},t.isRangeStart=function(){var e=t.props,s=e.day,i=e.startDate,a=e.endDate;return!i||!a?!1:_n(i,s)},t.isRangeEnd=function(){var e=t.props,s=e.day,i=e.startDate,a=e.endDate;return!i||!a?!1:_n(a,s)},t.isWeekend=function(){var e=EO(t.props.day);return e===0||e===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===uo(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(uo(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(es())},t.isSelected=function(){var e;return t.props.selectsMultiple?(e=t.props.selectedDates)===null||e===void 0?void 0:e.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(e){var s=t.props.dayClassName?t.props.dayClassName(e):void 0;return Xs("react-datepicker__day",s,"react-datepicker__day--"+lq(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var e=t.props,s=e.day,i=e.ariaLabelPrefixWhenEnabled,a=i===void 0?"Choose":i,o=e.ariaLabelPrefixWhenDisabled,c=o===void 0?"Not available":o,u=t.isDisabled()||t.isExcluded()?c:a;return"".concat(u," ").concat(ws(s,"PPPP",t.props.locale))},t.getTitle=function(){var e=t.props,s=e.day,i=e.holidays,a=i===void 0?new Map:i,o=e.excludeDates,c=ws(s,"MM.dd.yyyy"),u=[];return a.has(c)&&u.push.apply(u,a.get(c).holidayNames),t.isExcluded()&&u.push(o==null?void 0:o.filter(function(l){return l instanceof Date?_n(l,s):_n(l==null?void 0:l.date,s)}).map(function(l){if(!(l instanceof Date))return l==null?void 0:l.message})),u.join(", ")},t.getTabIndex=function(){var e=t.props.selected,s=t.props.preSelection,i=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(e)&&_n(s,e))?0:-1;return i},t.handleFocusDay=function(){var e;t.shouldFocusDay()&&((e=t.dayEl.current)===null||e===void 0||e.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents($E(t.props.day),t.props.day):$E(t.props.day)},t.render=function(){return St.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&St.createElement("span",{className:"overlay"},t.getTitle()))},t}return r.prototype.componentDidMount=function(){this.handleFocusDay()},r.prototype.componentDidUpdate=function(){this.handleFocusDay()},r.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},r.prototype.isDayActiveElement=function(){var t,e,s;return((e=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||e===void 0?void 0:e.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},r.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},r}(ne.Component),Aq=function(n){Zi(r,n);function r(){var t=n!==null&&n.apply(this,arguments)||this;return t.weekNumberEl=ne.createRef(),t.handleClick=function(e){t.props.onClick&&t.props.onClick(e)},t.handleOnKeyDown=function(e){var s,i,a=e.key;a===ir.Space&&(e.preventDefault(),e.key=ir.Enter),(i=(s=t.props).handleOnKeyDown)===null||i===void 0||i.call(s,e)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!_n(t.props.date,t.props.selected)&&_n(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||_n(t.props.date,t.props.selected)&&_n(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(e){var s=!1;t.getTabIndex()===0&&!(e!=null&&e.isInputFocused)&&_n(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(s=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(r,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},r.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},r.prototype.render=function(){var t=this.props,e=t.weekNumber,s=t.ariaLabelPrefix,i=s===void 0?r.defaultProps.ariaLabelPrefix:s,a=t.onClick,o={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a,"react-datepicker__week-number--selected":!!a&&_n(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return St.createElement("div",{ref:this.weekNumberEl,className:Xs(o),"aria-label":"".concat(i," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},e)},r}(ne.Component),kq=function(n){Zi(r,n);function r(){var t=n!==null&&n.apply(this,arguments)||this;return t.isDisabled=function(e){return Mu(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(e,s){t.props.onDayClick&&t.props.onDayClick(e,s)},t.handleDayMouseEnter=function(e){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(e)},t.handleWeekClick=function(e,s,i){for(var a,o,c,u=new Date(e),l=0;l<7;l++){var d=new Date(e);d.setDate(d.getDate()+l);var f=!t.isDisabled(d);if(f){u=d;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(u,s,i),t.props.showWeekPicker&&t.handleDayClick(u,i),((a=t.props.shouldCloseOnSelect)!==null&&a!==void 0?a:r.defaultProps.shouldCloseOnSelect)&&((c=(o=t.props).setOpen)===null||c===void 0||c.call(o,!1))},t.formatWeekNumber=function(e){return t.props.formatWeekNumber?t.props.formatWeekNumber(e):oq(e)},t.renderDays=function(){var e=t.startOfWeek(),s=[],i=t.formatWeekNumber(e);if(t.props.showWeekNumber){var a=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,e,i):void 0;s.push(St.createElement(Aq,Dn({key:"W"},r.defaultProps,t.props,{weekNumber:i,date:e,onClick:a})))}return s.concat([0,1,2,3,4,5,6].map(function(o){var c=Vf(e,o);return St.createElement(Nq,Dn({},r.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,onClick:t.handleDayClick.bind(t,c),onMouseEnter:t.handleDayMouseEnter.bind(t,c)}))}))},t.startOfWeek=function(){return Cf(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!_n(t.startOfWeek(),t.props.selected)&&_n(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(r,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),r.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":_n(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return St.createElement("div",{className:Xs(t)},this.renderDays())},r}(ne.Component),Rg,Cq=6,Y0={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},P6=(Rg={},Rg[Y0.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Rg[Y0.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Rg[Y0.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Rg),F2=1;function B7(n,r){return n?Y0.FOUR_COLUMNS:r?Y0.TWO_COLUMNS:Y0.THREE_COLUMNS}var Tq=function(n){Zi(r,n);function r(){var t=n!==null&&n.apply(this,arguments)||this;return t.MONTH_REFS=Bu([],Array(12),!0).map(function(){return ne.createRef()}),t.QUARTER_REFS=Bu([],Array(4),!0).map(function(){return ne.createRef()}),t.isDisabled=function(e){return Mu(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(e){return A8(e,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(e,s){var i,a;(a=(i=t.props).onDayClick)===null||a===void 0||a.call(i,e,s,t.props.orderInDisplay)},t.handleDayMouseEnter=function(e){var s,i;(i=(s=t.props).onDayMouseEnter)===null||i===void 0||i.call(s,e)},t.handleMouseLeave=function(){var e,s;(s=(e=t.props).onMouseLeave)===null||s===void 0||s.call(e)},t.isRangeStartMonth=function(e){var s=t.props,i=s.day,a=s.startDate,o=s.endDate;return!a||!o?!1:ao(hl(i,e),a)},t.isRangeStartQuarter=function(e){var s=t.props,i=s.day,a=s.startDate,o=s.endDate;return!a||!o?!1:Zx(j0(i,e),a)},t.isRangeEndMonth=function(e){var s=t.props,i=s.day,a=s.startDate,o=s.endDate;return!a||!o?!1:ao(hl(i,e),o)},t.isRangeEndQuarter=function(e){var s=t.props,i=s.day,a=s.startDate,o=s.endDate;return!a||!o?!1:Zx(j0(i,e),o)},t.isInSelectingRangeMonth=function(e){var s,i=t.props,a=i.day,o=i.selectsStart,c=i.selectsEnd,u=i.selectsRange,l=i.startDate,d=i.endDate,f=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(o||c||u)||!f?!1:o&&d?R2(f,d,e,a):c&&l||u&&l&&!d?R2(l,f,e,a):!1},t.isSelectingMonthRangeStart=function(e){var s;if(!t.isInSelectingRangeMonth(e))return!1;var i=t.props,a=i.day,o=i.startDate,c=i.selectsStart,u=hl(a,e),l=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return c?ao(u,l):ao(u,o)},t.isSelectingMonthRangeEnd=function(e){var s;if(!t.isInSelectingRangeMonth(e))return!1;var i=t.props,a=i.day,o=i.endDate,c=i.selectsEnd,u=i.selectsRange,l=hl(a,e),d=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return c||u?ao(l,d):ao(l,o)},t.isInSelectingRangeQuarter=function(e){var s,i=t.props,a=i.day,o=i.selectsStart,c=i.selectsEnd,u=i.selectsRange,l=i.startDate,d=i.endDate,f=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(o||c||u)||!f?!1:o&&d?O2(f,d,e,a):c&&l||u&&l&&!d?O2(l,f,e,a):!1},t.isWeekInMonth=function(e){var s=t.props.day,i=Vf(e,6);return ao(e,s)||ao(i,s)},t.isCurrentMonth=function(e,s){return un(e)===un(es())&&s===uo(es())},t.isCurrentQuarter=function(e,s){return un(e)===un(es())&&s===Em(es())},t.isSelectedMonth=function(e,s,i){return uo(i)===s&&un(e)===un(i)},t.isSelectMonthInList=function(e,s,i){return i.some(function(a){return t.isSelectedMonth(e,s,a)})},t.isSelectedQuarter=function(e,s,i){return Em(e)===s&&un(e)===un(i)},t.renderWeeks=function(){for(var e=[],s=t.props.fixedHeight,i=0,a=!1,o=Cf(Tf(t.props.day),t.props.locale,t.props.calendarStartDay),c=function(p){return t.props.showWeekPicker?Cf(p,t.props.locale,t.props.calendarStartDay):t.props.preSelection},u=function(p){return t.props.showWeekPicker?Cf(p,t.props.locale,t.props.calendarStartDay):t.props.selected},l=t.props.selected?u(t.props.selected):void 0,d=t.props.preSelection?c(t.props.preSelection):void 0;e.push(St.createElement(kq,Dn({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:i,day:o,month:uo(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:l,preSelection:d,showWeekNumber:t.props.showWeekNumbers}))),!a;){i++,o=Fx(o,1);var f=s&&i>=Cq,h=!s&&!t.isWeekInMonth(o);if(f||h)if(t.props.peekNextMonth)a=!0;else break}return e},t.onMonthClick=function(e,s){var i=t.isMonthDisabledForLabelDate(s),a=i.isDisabled,o=i.labelDate;a||t.handleDayClick(Tf(o),e)},t.onMonthMouseEnter=function(e){var s=t.isMonthDisabledForLabelDate(e),i=s.isDisabled,a=s.labelDate;i||t.handleDayMouseEnter(Tf(a))},t.handleMonthNavigation=function(e,s){var i,a,o,c;(a=(i=t.props).setPreSelection)===null||a===void 0||a.call(i,s),(c=(o=t.MONTH_REFS[e])===null||o===void 0?void 0:o.current)===null||c===void 0||c.focus()},t.handleKeyboardNavigation=function(e,s,i){var a,o=t.props,c=o.selected,u=o.preSelection,l=o.setPreSelection,d=o.minDate,f=o.maxDate,h=o.showFourColumnMonthYearPicker,p=o.showTwoColumnMonthYearPicker;if(u){var g=B7(h,p),v=t.getVerticalOffset(g),m=(a=P6[g])===null||a===void 0?void 0:a.grid,x=function(T,R,D){var L,M,H=R,V=D;switch(T){case ir.ArrowRight:H=Vc(R,F2),V=D===11?0:D+F2;break;case ir.ArrowLeft:H=Q1(R,F2),V=D===0?11:D-F2;break;case ir.ArrowUp:H=Q1(R,v),V=!((L=m==null?void 0:m[0])===null||L===void 0)&&L.includes(D)?D+12-v:D-v;break;case ir.ArrowDown:H=Vc(R,v),V=!((M=m==null?void 0:m[m.length-1])===null||M===void 0)&&M.includes(D)?D-12+v:D+v;break}return{newCalculatedDate:H,newCalculatedMonth:V}},y=function(T,R,D){for(var L=40,M=T,H=!1,V=0,P=x(M,R,D),F=P.newCalculatedDate,A=P.newCalculatedMonth;!H;){if(V>=L){F=R,A=D;break}if(d&&F<d){M=ir.ArrowRight;var _=x(M,F,A);F=_.newCalculatedDate,A=_.newCalculatedMonth}if(f&&F>f){M=ir.ArrowLeft;var _=x(M,F,A);F=_.newCalculatedDate,A=_.newCalculatedMonth}if(pq(F,t.props)){var _=x(M,F,A);F=_.newCalculatedDate,A=_.newCalculatedMonth}else H=!0;V++}return{newCalculatedDate:F,newCalculatedMonth:A}};if(s===ir.Enter){t.isMonthDisabled(i)||(t.onMonthClick(e,i),l==null||l(c));return}var w=y(s,u,i),E=w.newCalculatedDate,I=w.newCalculatedMonth;switch(s){case ir.ArrowRight:case ir.ArrowLeft:case ir.ArrowUp:case ir.ArrowDown:t.handleMonthNavigation(I,E);break}}},t.getVerticalOffset=function(e){var s,i;return(i=(s=P6[e])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&i!==void 0?i:0},t.onMonthKeyDown=function(e,s){var i=t.props,a=i.disabledKeyboardNavigation,o=i.handleOnMonthKeyDown,c=e.key;c!==ir.Tab&&e.preventDefault(),a||t.handleKeyboardNavigation(e,c,s),o&&o(e)},t.onQuarterClick=function(e,s){var i=j0(t.props.day,s);M2(i,t.props)||t.handleDayClick(E7(i),e)},t.onQuarterMouseEnter=function(e){var s=j0(t.props.day,e);M2(s,t.props)||t.handleDayMouseEnter(E7(s))},t.handleQuarterNavigation=function(e,s){var i,a,o,c;t.isDisabled(s)||t.isExcluded(s)||((a=(i=t.props).setPreSelection)===null||a===void 0||a.call(i,s),(c=(o=t.QUARTER_REFS[e-1])===null||o===void 0?void 0:o.current)===null||c===void 0||c.focus())},t.onQuarterKeyDown=function(e,s){var i,a,o=e.key;if(!t.props.disabledKeyboardNavigation)switch(o){case ir.Enter:t.onQuarterClick(e,s),(a=(i=t.props).setPreSelection)===null||a===void 0||a.call(i,t.props.selected);break;case ir.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===4?1:s+1,l8(t.props.preSelection,1));break;case ir.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===1?4:s-1,CA(t.props.preSelection,1));break}},t.isMonthDisabledForLabelDate=function(e){var s,i=t.props,a=i.day,o=i.minDate,c=i.maxDate,u=i.excludeDates,l=i.includeDates,d=hl(a,e);return{isDisabled:(s=(o||c||u||l)&&h9(d,t.props))!==null&&s!==void 0?s:!1,labelDate:d}},t.isMonthDisabled=function(e){var s=t.isMonthDisabledForLabelDate(e).isDisabled;return s},t.getMonthClassNames=function(e){var s=t.props,i=s.day,a=s.startDate,o=s.endDate,c=s.preSelection,u=s.monthClassName,l=u?u(hl(i,e)):void 0,d=t.getSelection();return Xs("react-datepicker__month-text","react-datepicker__month-".concat(e),l,{"react-datepicker__month-text--disabled":t.isMonthDisabled(e),"react-datepicker__month-text--selected":d?t.isSelectMonthInList(i,e,d):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&c&&t.isSelectedMonth(i,e,c)&&!t.isMonthDisabled(e),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(e),"react-datepicker__month-text--in-range":a&&o?R2(a,o,e,i):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(e),"react-datepicker__month-text--range-end":t.isRangeEndMonth(e),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(e),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(e),"react-datepicker__month-text--today":t.isCurrentMonth(i,e)})},t.getTabIndex=function(e){if(t.props.preSelection==null)return"-1";var s=uo(t.props.preSelection),i=t.isMonthDisabledForLabelDate(s).isDisabled,a=e===s&&!(i||t.props.disabledKeyboardNavigation)?"0":"-1";return a},t.getQuarterTabIndex=function(e){if(t.props.preSelection==null)return"-1";var s=Em(t.props.preSelection),i=M2(t.props.day,t.props),a=e===s&&!(i||t.props.disabledKeyboardNavigation)?"0":"-1";return a},t.getAriaLabel=function(e){var s=t.props,i=s.chooseDayAriaLabelPrefix,a=i===void 0?"Choose":i,o=s.disabledDayAriaLabelPrefix,c=o===void 0?"Not available":o,u=s.day,l=s.locale,d=hl(u,e),f=t.isDisabled(d)||t.isExcluded(d)?c:a;return"".concat(f," ").concat(ws(d,"MMMM yyyy",l))},t.getQuarterClassNames=function(e){var s=t.props,i=s.day,a=s.startDate,o=s.endDate,c=s.selected,u=s.minDate,l=s.maxDate,d=s.excludeDates,f=s.includeDates,h=s.filterDate,p=s.preSelection,g=s.disabledKeyboardNavigation,v=(u||l||d||f||h)&&M2(j0(i,e),t.props);return Xs("react-datepicker__quarter-text","react-datepicker__quarter-".concat(e),{"react-datepicker__quarter-text--disabled":v,"react-datepicker__quarter-text--selected":c?t.isSelectedQuarter(i,e,c):void 0,"react-datepicker__quarter-text--keyboard-selected":!g&&p&&t.isSelectedQuarter(i,e,p)&&!v,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(e),"react-datepicker__quarter-text--in-range":a&&o?O2(a,o,e,i):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(e),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(e)})},t.getMonthContent=function(e){var s=t.props,i=s.showFullMonthYearPicker,a=s.renderMonthContent,o=s.locale,c=s.day,u=d9(e,o),l=N8(e,o);return a?a(e,u,l,c):i?l:u},t.getQuarterContent=function(e){var s,i=t.props,a=i.renderQuarterContent,o=i.locale,c=fq(e,o);return(s=a==null?void 0:a(e,c))!==null&&s!==void 0?s:c},t.renderMonths=function(){var e,s=t.props,i=s.showTwoColumnMonthYearPicker,a=s.showFourColumnMonthYearPicker,o=s.day,c=s.selected,u=(e=P6[B7(a,i)])===null||e===void 0?void 0:e.grid;return u==null?void 0:u.map(function(l,d){return St.createElement("div",{className:"react-datepicker__month-wrapper",key:d},l.map(function(f,h){return St.createElement("div",{ref:t.MONTH_REFS[f],key:h,onClick:function(p){t.onMonthClick(p,f)},onKeyDown:function(p){m9(p)&&(p.preventDefault(),p.key=ir.Enter),t.onMonthKeyDown(p,f)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(f)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(f)}:void 0,tabIndex:Number(t.getTabIndex(f)),className:t.getMonthClassNames(f),"aria-disabled":t.isMonthDisabled(f),role:"option","aria-label":t.getAriaLabel(f),"aria-current":t.isCurrentMonth(o,f)?"date":void 0,"aria-selected":c?t.isSelectedMonth(o,f,c):void 0},t.getMonthContent(f))}))})},t.renderQuarters=function(){var e=t.props,s=e.day,i=e.selected,a=[1,2,3,4];return St.createElement("div",{className:"react-datepicker__quarter-wrapper"},a.map(function(o,c){return St.createElement("div",{key:c,ref:t.QUARTER_REFS[c],role:"option",onClick:function(u){t.onQuarterClick(u,o)},onKeyDown:function(u){t.onQuarterKeyDown(u,o)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(o)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(o)}:void 0,className:t.getQuarterClassNames(o),"aria-selected":i?t.isSelectedQuarter(s,o,i):void 0,tabIndex:Number(t.getQuarterTabIndex(o)),"aria-current":t.isCurrentQuarter(s,o)?"date":void 0},t.getQuarterContent(o))}))},t.getClassNames=function(){var e=t.props,s=e.selectingDate,i=e.selectsStart,a=e.selectsEnd,o=e.showMonthYearPicker,c=e.showQuarterYearPicker,u=e.showWeekPicker;return Xs("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(i||a)},{"react-datepicker__monthPicker":o},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":u})},t}return r.prototype.getSelection=function(){var t=this.props,e=t.selected,s=t.selectedDates,i=t.selectsMultiple;if(i)return s;if(e)return[e]},r.prototype.render=function(){var t=this.props,e=t.showMonthYearPicker,s=t.showQuarterYearPicker,i=t.day,a=t.ariaLabelPrefix,o=a===void 0?"Month ":a,c=o?o.trim()+" ":"";return St.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(ws(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},e?this.renderMonths():s?this.renderQuarters():this.renderWeeks())},r}(ne.Component),Dq=function(n){Zi(r,n);function r(){var t=n!==null&&n.apply(this,arguments)||this;return t.isSelectedMonth=function(e){return t.props.month===e},t.renderOptions=function(){return t.props.monthNames.map(function(e,s){return St.createElement("div",{className:t.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:e,onClick:t.onChange.bind(t,s),"aria-selected":t.isSelectedMonth(s)?"true":void 0},t.isSelectedMonth(s)?St.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",e)})},t.onChange=function(e){return t.props.onChange(e)},t.handleClickOutside=function(){return t.props.onCancel()},t}return r.prototype.render=function(){return St.createElement(Jw,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},r}(ne.Component),Iq=function(n){Zi(r,n);function r(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(e){return e.map(function(s,i){return St.createElement("option",{key:s,value:i},s)})},t.renderSelectMode=function(e){return St.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(s){return t.onChange(parseInt(s.target.value))}},t.renderSelectOptions(e))},t.renderReadView=function(e,s){return St.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},St.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),St.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[t.props.month]))},t.renderDropdown=function(e){return St.createElement(Dq,Dn({key:"dropdown"},t.props,{monthNames:e,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(e){var s=t.state.dropdownVisible,i=[t.renderReadView(!s,e)];return s&&i.unshift(t.renderDropdown(e)),i},t.onChange=function(e){t.toggleDropdown(),e!==t.props.month&&t.props.onChange(e)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return r.prototype.render=function(){var t=this,e=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return d9(i,t.props.locale)}:function(i){return N8(i,t.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(e);break;case"select":s=this.renderSelectMode(e);break}return St.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},r}(ne.Component);function Pq(n,r){for(var t=[],e=Tf(n),s=Tf(r);!Pf(e,s);)t.push(es(e)),e=Vc(e,1);return t}var jq=function(n){Zi(r,n);function r(t){var e=n.call(this,t)||this;return e.renderOptions=function(){return e.state.monthYearsList.map(function(s){var i=l_(s),a=Ru(e.props.date,s)&&ao(e.props.date,s);return St.createElement("div",{className:a?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:e.onChange.bind(e,i),"aria-selected":a?"true":void 0},a?St.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",ws(s,e.props.dateFormat,e.props.locale))})},e.onChange=function(s){return e.props.onChange(s)},e.handleClickOutside=function(){e.props.onCancel()},e.state={monthYearsList:Pq(e.props.minDate,e.props.maxDate)},e}return r.prototype.render=function(){var t=Xs({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return St.createElement(Jw,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},r}(ne.Component),Rq=function(n){Zi(r,n);function r(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=Tf(t.props.minDate),s=Tf(t.props.maxDate),i=[];!Pf(e,s);){var a=l_(e);i.push(St.createElement("option",{key:a,value:a},ws(e,t.props.dateFormat,t.props.locale))),e=Vc(e,1)}return i},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return St.createElement("select",{value:l_(Tf(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){var s=ws(t.props.date,t.props.dateFormat,t.props.locale);return St.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},St.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),St.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},t.renderDropdown=function(){return St.createElement(jq,Dn({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,s=[t.renderReadView(!e)];return e&&s.unshift(t.renderDropdown()),s},t.onChange=function(e){t.toggleDropdown();var s=es(e);Ru(t.props.date,s)&&ao(t.props.date,s)||t.props.onChange(s)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return r.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return St.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},r}(ne.Component),Mq=function(n){Zi(r,n);function r(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var e,s,i;t.list&&(t.list.scrollTop=(i=t.centerLi&&r.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((s=(e=t.header)===null||e===void 0?void 0:e.clientHeight)!==null&&s!==void 0?s:0):t.list.clientHeight,t.centerLi))!==null&&i!==void 0?i:0)})},t.handleClick=function(e){var s,i;(t.props.minTime||t.props.maxTime)&&T7(e,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&C7(e,t.props)||(i=(s=t.props).onChange)===null||i===void 0||i.call(s,e)},t.isSelectedTime=function(e){return t.props.selected&&Sq(t.props.selected,e)},t.isDisabledTime=function(e){return(t.props.minTime||t.props.maxTime)&&T7(e,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&C7(e,t.props)},t.liClasses=function(e){var s,i=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(e):void 0];return t.isSelectedTime(e)&&i.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(e)&&i.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Uu(e)*3600+Hu(e)*60+fh(e))%(((s=t.props.intervals)!==null&&s!==void 0?s:r.defaultProps.intervals)*60)!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},t.handleOnKeyDown=function(e,s){var i,a;e.key===ir.Space&&(e.preventDefault(),e.key=ir.Enter),(e.key===ir.ArrowUp||e.key===ir.ArrowLeft)&&e.target instanceof HTMLElement&&e.target.previousSibling&&(e.preventDefault(),e.target.previousSibling instanceof HTMLElement&&e.target.previousSibling.focus()),(e.key===ir.ArrowDown||e.key===ir.ArrowRight)&&e.target instanceof HTMLElement&&e.target.nextSibling&&(e.preventDefault(),e.target.nextSibling instanceof HTMLElement&&e.target.nextSibling.focus()),e.key===ir.Enter&&t.handleClick(s),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,e)},t.renderTimes=function(){for(var e,s=[],i=t.props.format?t.props.format:"p",a=(e=t.props.intervals)!==null&&e!==void 0?e:r.defaultProps.intervals,o=t.props.selected||t.props.openToDate||es(),c=sx(o),u=t.props.injectTimes&&t.props.injectTimes.sort(function(v,m){return v.getTime()-m.getTime()}),l=60*_q(o),d=l/a,f=0;f<d;f++){var h=i_(c,f*a);if(s.push(h),u){var p=wq(c,h,f,a,u);s=s.concat(p)}}var g=s.reduce(function(v,m){return m.getTime()<=o.getTime()?m:v},s[0]);return s.map(function(v){return St.createElement("li",{key:v.valueOf(),onClick:t.handleClick.bind(t,v),className:t.liClasses(v),ref:function(m){v===g&&(t.centerLi=m)},onKeyDown:function(m){t.handleOnKeyDown(m,v)},tabIndex:v===g?0:-1,role:"option","aria-selected":t.isSelectedTime(v)?"true":void 0,"aria-disabled":t.isDisabledTime(v)?"true":void 0},ws(v,i,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?St.createElement(St.Fragment,null):St.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(e){t.header=e}},St.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(r,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},r.prototype.render=function(){var t=this,e,s=this.state.height;return St.createElement("div",{className:"react-datepicker__time-container ".concat(((e=this.props.todayButton)!==null&&e!==void 0?e:r.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),St.createElement("div",{className:"react-datepicker__time"},St.createElement("div",{className:"react-datepicker__time-box"},St.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){t.list=i},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},r.calcCenterPosition=function(t,e){return e.offsetTop-(t/2-e.clientHeight/2)},r}(ne.Component),U7=3,Lq=function(n){Zi(r,n);function r(t){var e=n.call(this,t)||this;return e.YEAR_REFS=Bu([],Array(e.props.yearItemNumber),!0).map(function(){return ne.createRef()}),e.isDisabled=function(s){return Mu(s,{minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,includeDates:e.props.includeDates,filterDate:e.props.filterDate})},e.isExcluded=function(s){return A8(s,{excludeDates:e.props.excludeDates})},e.selectingDate=function(){var s;return(s=e.props.selectingDate)!==null&&s!==void 0?s:e.props.preSelection},e.updateFocusOnPaginate=function(s){var i=function(){var a,o;(o=(a=e.YEAR_REFS[s])===null||a===void 0?void 0:a.current)===null||o===void 0||o.focus()};window.requestAnimationFrame(i)},e.handleYearClick=function(s,i){e.props.onDayClick&&e.props.onDayClick(s,i)},e.handleYearNavigation=function(s,i){var a,o,c,u,l=e.props,d=l.date,f=l.yearItemNumber;if(!(d===void 0||f===void 0)){var h=Sf(d,f).startPeriod;e.isDisabled(i)||e.isExcluded(i)||((o=(a=e.props).setPreSelection)===null||o===void 0||o.call(a,i),s-h<0?e.updateFocusOnPaginate(f-(h-s)):s-h>=f?e.updateFocusOnPaginate(Math.abs(f-(s-h))):(u=(c=e.YEAR_REFS[s-h])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus())}},e.isSameDay=function(s,i){return _n(s,i)},e.isCurrentYear=function(s){return s===un(es())},e.isRangeStart=function(s){return e.props.startDate&&e.props.endDate&&Ru(bu(es(),s),e.props.startDate)},e.isRangeEnd=function(s){return e.props.startDate&&e.props.endDate&&Ru(bu(es(),s),e.props.endDate)},e.isInRange=function(s){return L2(s,e.props.startDate,e.props.endDate)},e.isInSelectingRange=function(s){var i=e.props,a=i.selectsStart,o=i.selectsEnd,c=i.selectsRange,u=i.startDate,l=i.endDate;return!(a||o||c)||!e.selectingDate()?!1:a&&l?L2(s,e.selectingDate(),l):o&&u||c&&u&&!l?L2(s,u,e.selectingDate()):!1},e.isSelectingRangeStart=function(s){var i;if(!e.isInSelectingRange(s))return!1;var a=e.props,o=a.startDate,c=a.selectsStart,u=bu(es(),s);return c?Ru(u,(i=e.selectingDate())!==null&&i!==void 0?i:null):Ru(u,o??null)},e.isSelectingRangeEnd=function(s){var i;if(!e.isInSelectingRange(s))return!1;var a=e.props,o=a.endDate,c=a.selectsEnd,u=a.selectsRange,l=bu(es(),s);return c||u?Ru(l,(i=e.selectingDate())!==null&&i!==void 0?i:null):Ru(l,o??null)},e.isKeyboardSelected=function(s){if(!(e.props.date===void 0||e.props.selected==null||e.props.preSelection==null)){var i=e.props,a=i.minDate,o=i.maxDate,c=i.excludeDates,u=i.includeDates,l=i.filterDate,d=Fg(bu(e.props.date,s)),f=(a||o||c||u||l)&&ix(s,e.props);return!e.props.disabledKeyboardNavigation&&!e.props.inline&&!_n(d,Fg(e.props.selected))&&_n(d,Fg(e.props.preSelection))&&!f}},e.onYearClick=function(s,i){var a=e.props.date;a!==void 0&&e.handleYearClick(Fg(bu(a,i)),s)},e.onYearKeyDown=function(s,i){var a,o,c=s.key,u=e.props,l=u.date,d=u.yearItemNumber,f=u.handleOnKeyDown;if(c!==ir.Tab&&s.preventDefault(),!e.props.disabledKeyboardNavigation)switch(c){case ir.Enter:if(e.props.selected==null)break;e.onYearClick(s,i),(o=(a=e.props).setPreSelection)===null||o===void 0||o.call(a,e.props.selected);break;case ir.ArrowRight:if(e.props.preSelection==null)break;e.handleYearNavigation(i+1,dh(e.props.preSelection,1));break;case ir.ArrowLeft:if(e.props.preSelection==null)break;e.handleYearNavigation(i-1,eg(e.props.preSelection,1));break;case ir.ArrowUp:{if(l===void 0||d===void 0||e.props.preSelection==null)break;var h=Sf(l,d).startPeriod,p=U7,g=i-p;if(g<h){var v=d%p;i>=h&&i<h+v?p=v:p+=v,g=i-p}e.handleYearNavigation(g,eg(e.props.preSelection,p));break}case ir.ArrowDown:{if(l===void 0||d===void 0||e.props.preSelection==null)break;var m=Sf(l,d).endPeriod,p=U7,g=i+p;if(g>m){var v=d%p;i<=m&&i>m-v?p=v:p+=v,g=i+p}e.handleYearNavigation(g,dh(e.props.preSelection,p));break}}f&&f(s)},e.getYearClassNames=function(s){var i=e.props,a=i.date,o=i.minDate,c=i.maxDate,u=i.selected,l=i.excludeDates,d=i.includeDates,f=i.filterDate,h=i.yearClassName;return Xs("react-datepicker__year-text","react-datepicker__year-".concat(s),a?h==null?void 0:h(bu(a,s)):void 0,{"react-datepicker__year-text--selected":u?s===un(u):void 0,"react-datepicker__year-text--disabled":(o||c||l||d||f)&&ix(s,e.props),"react-datepicker__year-text--keyboard-selected":e.isKeyboardSelected(s),"react-datepicker__year-text--range-start":e.isRangeStart(s),"react-datepicker__year-text--range-end":e.isRangeEnd(s),"react-datepicker__year-text--in-range":e.isInRange(s),"react-datepicker__year-text--in-selecting-range":e.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":e.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":e.isSelectingRangeEnd(s),"react-datepicker__year-text--today":e.isCurrentYear(s)})},e.getYearTabIndex=function(s){if(e.props.disabledKeyboardNavigation||e.props.preSelection==null)return"-1";var i=un(e.props.preSelection),a=ix(s,e.props);return s===i&&!a?"0":"-1"},e.getYearContainerClassNames=function(){var s=e.props,i=s.selectingDate,a=s.selectsStart,o=s.selectsEnd,c=s.selectsRange;return Xs("react-datepicker__year",{"react-datepicker__year--selecting-range":i&&(a||o||c)})},e.getYearContent=function(s){return e.props.renderYearContent?e.props.renderYearContent(s):s},e}return r.prototype.render=function(){var t=this,e=[],s=this.props,i=s.date,a=s.yearItemNumber,o=s.onYearMouseEnter,c=s.onYearMouseLeave;if(i===void 0)return null;for(var u=Sf(i,a),l=u.startPeriod,d=u.endPeriod,f=function(g){e.push(St.createElement("div",{ref:h.YEAR_REFS[g-l],onClick:function(v){t.onYearClick(v,g)},onKeyDown:function(v){m9(v)&&(v.preventDefault(),v.key=ir.Enter),t.onYearKeyDown(v,g)},tabIndex:Number(h.getYearTabIndex(g)),className:h.getYearClassNames(g),onMouseEnter:h.props.usePointerEvent?void 0:function(v){return o(v,g)},onPointerEnter:h.props.usePointerEvent?function(v){return o(v,g)}:void 0,onMouseLeave:h.props.usePointerEvent?void 0:function(v){return c(v,g)},onPointerLeave:h.props.usePointerEvent?function(v){return c(v,g)}:void 0,key:g,"aria-current":h.isCurrentYear(g)?"date":void 0},h.getYearContent(g)))},h=this,p=l;p<=d;p++)f(p);return St.createElement("div",{className:this.getYearContainerClassNames()},St.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},e))},r}(ne.Component);function Oq(n,r,t,e){for(var s=[],i=0;i<2*r+1;i++){var a=n+r-i,o=!0;t&&(o=un(t)<=a),e&&o&&(o=un(e)>=a),o&&s.push(a)}return s}var Fq=function(n){Zi(r,n);function r(t){var e=n.call(this,t)||this;e.renderOptions=function(){var o=e.props.year,c=e.state.yearsList.map(function(d){return St.createElement("div",{className:o===d?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:d,onClick:e.onChange.bind(e,d),"aria-selected":o===d?"true":void 0},o===d?St.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",d)}),u=e.props.minDate?un(e.props.minDate):null,l=e.props.maxDate?un(e.props.maxDate):null;return(!l||!e.state.yearsList.find(function(d){return d===l}))&&c.unshift(St.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:e.incrementYears},St.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!e.state.yearsList.find(function(d){return d===u}))&&c.push(St.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:e.decrementYears},St.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c},e.onChange=function(o){e.props.onChange(o)},e.handleClickOutside=function(){e.props.onCancel()},e.shiftYears=function(o){var c=e.state.yearsList.map(function(u){return u+o});e.setState({yearsList:c})},e.incrementYears=function(){return e.shiftYears(1)},e.decrementYears=function(){return e.shiftYears(-1)};var s=t.yearDropdownItemNumber,i=t.scrollableYearDropdown,a=s||(i?10:5);return e.state={yearsList:Oq(e.props.year,a,e.props.minDate,e.props.maxDate)},e.dropdownRef=ne.createRef(),e}return r.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var e=t.children?Array.from(t.children):null,s=e?e.find(function(i){return i.ariaSelected}):null;t.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},r.prototype.render=function(){var t=Xs({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return St.createElement(Jw,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},r}(ne.Component),Bq=function(n){Zi(r,n);function r(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=t.props.minDate?un(t.props.minDate):1900,s=t.props.maxDate?un(t.props.maxDate):2100,i=[],a=e;a<=s;a++)i.push(St.createElement("option",{key:a,value:a},a));return i},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return St.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){return St.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(s){return t.toggleDropdown(s)}},St.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),St.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return St.createElement(Fq,Dn({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,s=[t.renderReadView(!e)];return e&&s.unshift(t.renderDropdown()),s},t.onChange=function(e){t.toggleDropdown(),e!==t.props.year&&t.props.onChange(e)},t.toggleDropdown=function(e){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,e)})},t.handleYearChange=function(e,s){var i;(i=t.onSelect)===null||i===void 0||i.call(t,e,s),t.setOpen()},t.onSelect=function(e,s){var i,a;(a=(i=t.props).onSelect)===null||a===void 0||a.call(i,e,s)},t.setOpen=function(){var e,s;(s=(e=t.props).setOpen)===null||s===void 0||s.call(e,!0)},t}return r.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return St.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},r}(ne.Component),Uq=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Hq=function(n){var r=(n.className||"").split(/\s+/);return Uq.some(function(t){return r.indexOf(t)>=0})},qq=function(n){Zi(r,n);function r(t){var e=n.call(this,t)||this;return e.monthContainer=void 0,e.handleClickOutside=function(s){e.props.onClickOutside(s)},e.setClickOutsideRef=function(){return e.containerRef.current},e.handleDropdownFocus=function(s){var i,a;Hq(s.target)&&((a=(i=e.props).onDropdownFocus)===null||a===void 0||a.call(i,s))},e.getDateInView=function(){var s=e.props,i=s.preSelection,a=s.selected,o=s.openToDate,c=f9(e.props),u=p9(e.props),l=es(),d=o||a||i;return d||(c&&Rm(l,c)?c:u&&Pf(l,u)?u:l)},e.increaseMonth=function(){e.setState(function(s){var i=s.date;return{date:Vc(i,1)}},function(){return e.handleMonthChange(e.state.date)})},e.decreaseMonth=function(){e.setState(function(s){var i=s.date;return{date:Q1(i,1)}},function(){return e.handleMonthChange(e.state.date)})},e.handleDayClick=function(s,i,a){e.props.onSelect(s,i,a),e.props.setPreSelection&&e.props.setPreSelection(s)},e.handleDayMouseEnter=function(s){e.setState({selectingDate:s}),e.props.onDayMouseEnter&&e.props.onDayMouseEnter(s)},e.handleMonthMouseLeave=function(){e.setState({selectingDate:void 0}),e.props.onMonthMouseLeave&&e.props.onMonthMouseLeave()},e.handleYearMouseEnter=function(s,i){e.setState({selectingDate:bu(es(),i)}),e.props.onYearMouseEnter&&e.props.onYearMouseEnter(s,i)},e.handleYearMouseLeave=function(s,i){e.props.onYearMouseLeave&&e.props.onYearMouseLeave(s,i)},e.handleYearChange=function(s){var i,a,o,c;(a=(i=e.props).onYearChange)===null||a===void 0||a.call(i,s),e.setState({isRenderAriaLiveMessage:!0}),e.props.adjustDateOnChange&&(e.props.onSelect(s),(c=(o=e.props).setOpen)===null||c===void 0||c.call(o,!0)),e.props.setPreSelection&&e.props.setPreSelection(s)},e.handleMonthChange=function(s){var i,a;e.handleCustomMonthChange(s),e.props.adjustDateOnChange&&(e.props.onSelect(s),(a=(i=e.props).setOpen)===null||a===void 0||a.call(i,!0)),e.props.setPreSelection&&e.props.setPreSelection(s)},e.handleCustomMonthChange=function(s){var i,a;(a=(i=e.props).onMonthChange)===null||a===void 0||a.call(i,s),e.setState({isRenderAriaLiveMessage:!0})},e.handleMonthYearChange=function(s){e.handleYearChange(s),e.handleMonthChange(s)},e.changeYear=function(s){e.setState(function(i){var a=i.date;return{date:bu(a,Number(s))}},function(){return e.handleYearChange(e.state.date)})},e.changeMonth=function(s){e.setState(function(i){var a=i.date;return{date:hl(a,Number(s))}},function(){return e.handleMonthChange(e.state.date)})},e.changeMonthYear=function(s){e.setState(function(i){var a=i.date;return{date:bu(hl(a,uo(s)),un(s))}},function(){return e.handleMonthYearChange(e.state.date)})},e.header=function(s){s===void 0&&(s=e.state.date);var i=Cf(s,e.props.locale,e.props.calendarStartDay),a=[];return e.props.showWeekNumbers&&a.push(St.createElement("div",{key:"W",className:"react-datepicker__day-name"},e.props.weekLabel||"#")),a.concat([0,1,2,3,4,5,6].map(function(o){var c=Vf(i,o),u=e.formatWeekday(c,e.props.locale),l=e.props.weekDayClassName?e.props.weekDayClassName(c):void 0;return St.createElement("div",{key:o,"aria-label":ws(c,"EEEE",e.props.locale),className:Xs("react-datepicker__day-name",l)},u)}))},e.formatWeekday=function(s,i){return e.props.formatWeekDay?uq(s,e.props.formatWeekDay,i):e.props.useWeekdaysShort?hq(s,i):dq(s,i)},e.decreaseYear=function(){e.setState(function(s){var i,a=s.date;return{date:eg(a,e.props.showYearPicker?(i=e.props.yearItemNumber)!==null&&i!==void 0?i:r.defaultProps.yearItemNumber:1)}},function(){return e.handleYearChange(e.state.date)})},e.clearSelectingDate=function(){e.setState({selectingDate:void 0})},e.renderPreviousButton=function(){var s;if(!e.props.renderCustomHeader){var i;switch(!0){case e.props.showMonthYearPicker:i=P7(e.state.date,e.props);break;case e.props.showYearPicker:i=bq(e.state.date,e.props);break;case e.props.showQuarterYearPicker:i=mq(e.state.date,e.props);break;default:i=D7(e.state.date,e.props);break}if(!(!((s=e.props.forceShowMonthNavigation)!==null&&s!==void 0?s:r.defaultProps.forceShowMonthNavigation)&&!e.props.showDisabledMonthNavigation&&i||e.props.showTimeSelectOnly)){var a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],o=["react-datepicker__navigation","react-datepicker__navigation--previous"],c=e.decreaseMonth;(e.props.showMonthYearPicker||e.props.showQuarterYearPicker||e.props.showYearPicker)&&(c=e.decreaseYear),i&&e.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--previous--disabled"),c=void 0);var u=e.props.showMonthYearPicker||e.props.showQuarterYearPicker||e.props.showYearPicker,l=e.props,d=l.previousMonthButtonLabel,f=d===void 0?r.defaultProps.previousMonthButtonLabel:d,h=l.previousYearButtonLabel,p=h===void 0?r.defaultProps.previousYearButtonLabel:h,g=e.props,v=g.previousMonthAriaLabel,m=v===void 0?typeof f=="string"?f:"Previous Month":v,x=g.previousYearAriaLabel,y=x===void 0?typeof p=="string"?p:"Previous Year":x;return St.createElement("button",{type:"button",className:o.join(" "),onClick:c,onKeyDown:e.props.handleOnKeyDown,"aria-label":u?y:m},St.createElement("span",{className:a.join(" ")},u?p:f))}}},e.increaseYear=function(){e.setState(function(s){var i,a=s.date;return{date:dh(a,e.props.showYearPicker?(i=e.props.yearItemNumber)!==null&&i!==void 0?i:r.defaultProps.yearItemNumber:1)}},function(){return e.handleYearChange(e.state.date)})},e.renderNextButton=function(){var s;if(!e.props.renderCustomHeader){var i;switch(!0){case e.props.showMonthYearPicker:i=j7(e.state.date,e.props);break;case e.props.showYearPicker:i=vq(e.state.date,e.props);break;case e.props.showQuarterYearPicker:i=gq(e.state.date,e.props);break;default:i=I7(e.state.date,e.props);break}if(!(!((s=e.props.forceShowMonthNavigation)!==null&&s!==void 0?s:r.defaultProps.forceShowMonthNavigation)&&!e.props.showDisabledMonthNavigation&&i||e.props.showTimeSelectOnly)){var a=["react-datepicker__navigation","react-datepicker__navigation--next"],o=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];e.props.showTimeSelect&&a.push("react-datepicker__navigation--next--with-time"),e.props.todayButton&&a.push("react-datepicker__navigation--next--with-today-button");var c=e.increaseMonth;(e.props.showMonthYearPicker||e.props.showQuarterYearPicker||e.props.showYearPicker)&&(c=e.increaseYear),i&&e.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--next--disabled"),c=void 0);var u=e.props.showMonthYearPicker||e.props.showQuarterYearPicker||e.props.showYearPicker,l=e.props,d=l.nextMonthButtonLabel,f=d===void 0?r.defaultProps.nextMonthButtonLabel:d,h=l.nextYearButtonLabel,p=h===void 0?r.defaultProps.nextYearButtonLabel:h,g=e.props,v=g.nextMonthAriaLabel,m=v===void 0?typeof f=="string"?f:"Next Month":v,x=g.nextYearAriaLabel,y=x===void 0?typeof p=="string"?p:"Next Year":x;return St.createElement("button",{type:"button",className:a.join(" "),onClick:c,onKeyDown:e.props.handleOnKeyDown,"aria-label":u?y:m},St.createElement("span",{className:o.join(" ")},u?p:f))}}},e.renderCurrentMonth=function(s){s===void 0&&(s=e.state.date);var i=["react-datepicker__current-month"];return e.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),e.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),e.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),St.createElement("h2",{className:i.join(" ")},ws(s,e.props.dateFormat,e.props.locale))},e.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!e.props.showYearDropdown||s))return St.createElement(Bq,Dn({},r.defaultProps,e.props,{date:e.state.date,onChange:e.changeYear,year:un(e.state.date)}))},e.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!e.props.showMonthDropdown||s))return St.createElement(Iq,Dn({},r.defaultProps,e.props,{month:uo(e.state.date),onChange:e.changeMonth}))},e.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!e.props.showMonthYearDropdown||s))return St.createElement(Rq,Dn({},r.defaultProps,e.props,{date:e.state.date,onChange:e.changeMonthYear}))},e.handleTodayButtonClick=function(s){e.props.onSelect(N7(),s),e.props.setPreSelection&&e.props.setPreSelection(N7())},e.renderTodayButton=function(){if(!(!e.props.todayButton||e.props.showTimeSelectOnly))return St.createElement("div",{className:"react-datepicker__today-button",onClick:e.handleTodayButtonClick},e.props.todayButton)},e.renderDefaultHeader=function(s){var i=s.monthDate,a=s.i;return St.createElement("div",{className:"react-datepicker__header ".concat(e.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},e.renderCurrentMonth(i),St.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(e.props.dropdownMode),onFocus:e.handleDropdownFocus},e.renderMonthDropdown(a!==0),e.renderMonthYearDropdown(a!==0),e.renderYearDropdown(a!==0)),St.createElement("div",{className:"react-datepicker__day-names"},e.header(i)))},e.renderCustomHeader=function(s){var i,a,o=s.monthDate,c=s.i;if(e.props.showTimeSelect&&!e.state.monthContainer||e.props.showTimeSelectOnly)return null;var u=D7(e.state.date,e.props),l=I7(e.state.date,e.props),d=P7(e.state.date,e.props),f=j7(e.state.date,e.props),h=!e.props.showMonthYearPicker&&!e.props.showQuarterYearPicker&&!e.props.showYearPicker;return St.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:e.props.onDropdownFocus},(a=(i=e.props).renderCustomHeader)===null||a===void 0?void 0:a.call(i,Dn(Dn({},e.state),{customHeaderCount:c,monthDate:o,changeMonth:e.changeMonth,changeYear:e.changeYear,decreaseMonth:e.decreaseMonth,increaseMonth:e.increaseMonth,decreaseYear:e.decreaseYear,increaseYear:e.increaseYear,prevMonthButtonDisabled:u,nextMonthButtonDisabled:l,prevYearButtonDisabled:d,nextYearButtonDisabled:f})),h&&St.createElement("div",{className:"react-datepicker__day-names"},e.header(o)))},e.renderYearHeader=function(s){var i=s.monthDate,a=e.props,o=a.showYearPicker,c=a.yearItemNumber,u=c===void 0?r.defaultProps.yearItemNumber:c,l=Sf(i,u),d=l.startPeriod,f=l.endPeriod;return St.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},o?"".concat(d," - ").concat(f):un(i))},e.renderHeader=function(s){var i=s.monthDate,a=s.i,o=a===void 0?0:a,c={monthDate:i,i:o};switch(!0){case e.props.renderCustomHeader!==void 0:return e.renderCustomHeader(c);case(e.props.showMonthYearPicker||e.props.showQuarterYearPicker||e.props.showYearPicker):return e.renderYearHeader(c);default:return e.renderDefaultHeader(c)}},e.renderMonths=function(){var s,i;if(!(e.props.showTimeSelectOnly||e.props.showYearPicker)){for(var a=[],o=(s=e.props.monthsShown)!==null&&s!==void 0?s:r.defaultProps.monthsShown,c=e.props.showPreviousMonths?o-1:0,u=e.props.showMonthYearPicker||e.props.showQuarterYearPicker?dh(e.state.date,c):Q1(e.state.date,c),l=(i=e.props.monthSelectedIn)!==null&&i!==void 0?i:c,d=0;d<o;++d){var f=d-l+c,h=e.props.showMonthYearPicker||e.props.showQuarterYearPicker?dh(u,f):Vc(u,f),p="month-".concat(d),g=d<o-1,v=d>0;a.push(St.createElement("div",{key:p,ref:function(m){e.monthContainer=m??void 0},className:"react-datepicker__month-container"},e.renderHeader({monthDate:h,i:d}),St.createElement(Tq,Dn({},r.defaultProps,e.props,{ariaLabelPrefix:e.props.monthAriaLabelPrefix,day:h,onDayClick:e.handleDayClick,handleOnKeyDown:e.props.handleOnDayKeyDown,handleOnMonthKeyDown:e.props.handleOnKeyDown,onDayMouseEnter:e.handleDayMouseEnter,onMouseLeave:e.handleMonthMouseLeave,orderInDisplay:d,selectingDate:e.state.selectingDate,monthShowsDuplicateDaysEnd:g,monthShowsDuplicateDaysStart:v}))))}return a}},e.renderYears=function(){if(!e.props.showTimeSelectOnly&&e.props.showYearPicker)return St.createElement("div",{className:"react-datepicker__year--container"},e.renderHeader({monthDate:e.state.date}),St.createElement(Lq,Dn({},r.defaultProps,e.props,{selectingDate:e.state.selectingDate,date:e.state.date,onDayClick:e.handleDayClick,clearSelectingDate:e.clearSelectingDate,onYearMouseEnter:e.handleYearMouseEnter,onYearMouseLeave:e.handleYearMouseLeave})))},e.renderTimeSection=function(){if(e.props.showTimeSelect&&(e.state.monthContainer||e.props.showTimeSelectOnly))return St.createElement(Mq,Dn({},r.defaultProps,e.props,{onChange:e.props.onTimeChange,format:e.props.timeFormat,intervals:e.props.timeIntervals,monthRef:e.state.monthContainer}))},e.renderInputTimeSection=function(){var s=e.props.selected?new Date(e.props.selected):void 0,i=s&&Fd(s)&&!!e.props.selected,a=i?"".concat(M7(s.getHours()),":").concat(M7(s.getMinutes())):"";if(e.props.showTimeInput)return St.createElement(Eq,Dn({},r.defaultProps,e.props,{date:s,timeString:a,onChange:e.props.onTimeChange}))},e.renderAriaLiveRegion=function(){var s,i=Sf(e.state.date,(s=e.props.yearItemNumber)!==null&&s!==void 0?s:r.defaultProps.yearItemNumber),a=i.startPeriod,o=i.endPeriod,c;return e.props.showYearPicker?c="".concat(a," - ").concat(o):e.props.showMonthYearPicker||e.props.showQuarterYearPicker?c=un(e.state.date):c="".concat(N8(uo(e.state.date),e.props.locale)," ").concat(un(e.state.date)),St.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},e.state.isRenderAriaLiveMessage&&c)},e.renderChildren=function(){if(e.props.children)return St.createElement("div",{className:"react-datepicker__children-container"},e.props.children)},e.containerRef=ne.createRef(),e.state={date:e.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},e}return Object.defineProperty(r,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:wy}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},r.prototype.componentDidUpdate=function(t){var e=this;if(this.props.preSelection&&(!_n(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var s=!ao(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&e.handleCustomMonthChange(e.state.date)})}else this.props.openToDate&&!_n(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},r.prototype.render=function(){var t=this.props.container||rq;return St.createElement(Jw,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},St.createElement(t,{className:Xs("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},r}(ne.Component),Wq=function(n){var r=n.icon,t=n.className,e=t===void 0?"":t,s=n.onClick,i="react-datepicker__calendar-icon";return typeof r=="string"?St.createElement("i",{className:"".concat(i," ").concat(r," ").concat(e),"aria-hidden":"true",onClick:s}):St.isValidElement(r)?St.cloneElement(r,{className:"".concat(r.props.className||""," ").concat(i," ").concat(e),onClick:function(a){typeof r.props.onClick=="function"&&r.props.onClick(a),typeof s=="function"&&s(a)}}):St.createElement("svg",{className:"".concat(i," ").concat(e),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},St.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},g9=function(n){Zi(r,n);function r(t){var e=n.call(this,t)||this;return e.portalRoot=null,e.el=document.createElement("div"),e}return r.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},r.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},r.prototype.render=function(){return SM.createPortal(this.props.children,this.el)},r}(ne.Component),zq="[tabindex], a, button, input, select, textarea",Vq=function(n){return(n instanceof HTMLAnchorElement||!n.disabled)&&n.tabIndex!==-1},b9=function(n){Zi(r,n);function r(t){var e=n.call(this,t)||this;return e.getTabChildren=function(){var s;return Array.prototype.slice.call((s=e.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(zq),1,-1).filter(Vq)},e.handleFocusStart=function(){var s=e.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},e.handleFocusEnd=function(){var s=e.getTabChildren();s&&s.length>1&&s[0].focus()},e.tabLoopRef=ne.createRef(),e}return r.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:r.defaultProps.enableTabLoop)?St.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},St.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,St.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},r.defaultProps={enableTabLoop:!0},r}(ne.Component);function $q(n){var r=function(t){var e,s=typeof t.hidePopper=="boolean"?t.hidePopper:!0,i=ne.useRef(null),a=tq(Dn({open:!s,whileElementsMounted:jH,placement:t.popperPlacement,middleware:Bu([UH({padding:15}),BH(10),HH({element:i})],(e=t.popperModifiers)!==null&&e!==void 0?e:[],!0)},t.popperProps)),o=Dn(Dn({},t),{hidePopper:s,popperProps:Dn(Dn({},a),{arrowRef:i})});return St.createElement(n,Dn({},o))};return r}var Gq=function(n){Zi(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),r.prototype.render=function(){var t=this.props,e=t.className,s=t.wrapperClassName,i=t.hidePopper,a=i===void 0?r.defaultProps.hidePopper:i,o=t.popperComponent,c=t.targetComponent,u=t.enableTabLoop,l=t.popperOnKeyDown,d=t.portalId,f=t.portalHost,h=t.popperProps,p=t.showArrow,g=void 0;if(!a){var v=Xs("react-datepicker-popper",e);g=St.createElement(b9,{enableTabLoop:u},St.createElement("div",{ref:h.refs.setFloating,style:h.floatingStyles,className:v,"data-placement":h.placement,onKeyDown:l},o,p&&St.createElement(YH,{ref:h.arrowRef,context:h.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(g=ne.createElement(this.props.popperContainer,{},g)),d&&!a&&(g=St.createElement(g9,{portalId:d,portalHost:f},g));var m=Xs("react-datepicker-wrapper",s);return St.createElement(St.Fragment,null,St.createElement("div",{ref:h.refs.setReference,className:m},c),g)},r}(ne.Component),Yq=$q(Gq),H7="react-datepicker-ignore-onclickoutside";function Xq(n,r){return n&&r?uo(n)!==uo(r)||un(n)!==un(r):n!==r}var j6="Date input not valid.",Kq=function(n){Zi(r,n);function r(t){var e=n.call(this,t)||this;return e.calendar=null,e.input=null,e.getPreSelection=function(){return e.props.openToDate?e.props.openToDate:e.props.selectsEnd&&e.props.startDate?e.props.startDate:e.props.selectsStart&&e.props.endDate?e.props.endDate:es()},e.modifyHolidays=function(){var s;return(s=e.props.holidays)===null||s===void 0?void 0:s.reduce(function(i,a){var o=new Date(a.date);return Fd(o)?Bu(Bu([],i,!0),[Dn(Dn({},a),{date:o})],!1):i},[])},e.calcInitialState=function(){var s,i=e.getPreSelection(),a=f9(e.props),o=p9(e.props),c=a&&Rm(i,sx(a))?a:o&&Pf(i,A7(o))?o:i;return{open:e.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=e.props.selectsRange?e.props.startDate:e.props.selected)!==null&&s!==void 0?s:c,highlightDates:R7(e.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},e.resetHiddenStatus=function(){e.setState(Dn(Dn({},e.state),{wasHidden:!1}))},e.setHiddenStatus=function(){e.setState(Dn(Dn({},e.state),{wasHidden:!0}))},e.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&e.setHiddenStatus()},e.clearPreventFocusTimeout=function(){e.preventFocusTimeout&&clearTimeout(e.preventFocusTimeout)},e.setFocus=function(){e.input&&e.input.focus&&e.input.focus({preventScroll:!0})},e.setBlur=function(){e.input&&e.input.blur&&e.input.blur(),e.cancelFocusInput()},e.setOpen=function(s,i){i===void 0&&(i=!1),e.setState({open:s,preSelection:s&&e.state.open?e.state.preSelection:e.calcInitialState().preSelection,lastPreSelectChange:R6},function(){s||e.setState(function(a){return{focused:i?a.focused:!1}},function(){!i&&e.setBlur(),e.setState({inputValue:null})})})},e.inputOk=function(){return hh(e.state.preSelection)},e.isCalendarOpen=function(){return e.props.open===void 0?e.state.open&&!e.props.disabled&&!e.props.readOnly:e.props.open},e.handleFocus=function(s){var i,a,o=e.state.wasHidden,c=o?e.state.open:!0;o&&e.resetHiddenStatus(),!e.state.preventFocus&&c&&((a=(i=e.props).onFocus)===null||a===void 0||a.call(i,s),!e.props.preventOpenOnFocus&&!e.props.readOnly&&e.setOpen(!0)),e.setState({focused:!0})},e.sendFocusBackToInput=function(){e.preventFocusTimeout&&e.clearPreventFocusTimeout(),e.setState({preventFocus:!0},function(){e.preventFocusTimeout=setTimeout(function(){e.setFocus(),e.setState({preventFocus:!1})})})},e.cancelFocusInput=function(){clearTimeout(e.inputFocusTimeout),e.inputFocusTimeout=void 0},e.deferFocusInput=function(){e.cancelFocusInput(),e.inputFocusTimeout=setTimeout(function(){return e.setFocus()},1)},e.handleDropdownFocus=function(){e.cancelFocusInput()},e.handleBlur=function(s){var i,a;(!e.state.open||e.props.withPortal||e.props.showTimeInput)&&((a=(i=e.props).onBlur)===null||a===void 0||a.call(i,s)),e.setState({focused:!1})},e.handleCalendarClickOutside=function(s){var i,a;e.props.inline||e.setOpen(!1),(a=(i=e.props).onClickOutside)===null||a===void 0||a.call(i,s),e.props.withPortal&&s.preventDefault()},e.handleChange=function(){for(var s,i,a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var c=a[0];if(!(e.props.onChangeRaw&&(e.props.onChangeRaw.apply(e,a),!c||typeof c.isDefaultPrevented!="function"||c.isDefaultPrevented()))){e.setState({inputValue:(c==null?void 0:c.target)instanceof HTMLInputElement?c.target.value:null,lastPreSelectChange:Jq});var u=e.props,l=u.dateFormat,d=l===void 0?r.defaultProps.dateFormat:l,f=u.strictParsing,h=f===void 0?r.defaultProps.strictParsing:f,p=u.selectsRange,g=u.startDate,v=u.endDate,m=(c==null?void 0:c.target)instanceof HTMLInputElement?c.target.value:"";if(p){var x=m.split("-",2).map(function(L){return L.trim()}),y=x[0],w=x[1],E=D6(y??"",d,e.props.locale,h),I=D6(w??"",d,e.props.locale,h),T=(g==null?void 0:g.getTime())!==(E==null?void 0:E.getTime()),R=(v==null?void 0:v.getTime())!==(I==null?void 0:I.getTime());if(!T&&!R||E&&Mu(E,e.props)||I&&Mu(I,e.props))return;(i=(s=e.props).onChange)===null||i===void 0||i.call(s,[E,I],c)}else{var D=D6(m,d,e.props.locale,h,e.props.minDate);e.props.showTimeSelectOnly&&e.props.selected&&D&&!_n(D,e.props.selected)&&(D=WF(e.props.selected,{hours:Uu(D),minutes:Hu(D),seconds:fh(D)})),(D||!m)&&e.setSelected(D,c,!0)}}},e.handleSelect=function(s,i,a){if(e.props.shouldCloseOnSelect&&!e.props.showTimeSelect&&e.sendFocusBackToInput(),e.props.onChangeRaw&&e.props.onChangeRaw(i),e.setSelected(s,i,!1,a),e.props.showDateSelect&&e.setState({isRenderAriaLiveMessage:!0}),!e.props.shouldCloseOnSelect||e.props.showTimeSelect)e.setPreSelection(s);else if(!e.props.inline){e.props.selectsRange||e.setOpen(!1);var o=e.props,c=o.startDate,u=o.endDate;c&&!u&&(e.props.swapRange||!F7(s,c))&&e.setOpen(!1)}},e.setSelected=function(s,i,a,o){var c,u,l=s;if(e.props.showYearPicker){if(l!==null&&ix(un(l),e.props))return}else if(e.props.showMonthYearPicker){if(l!==null&&h9(l,e.props))return}else if(l!==null&&Mu(l,e.props))return;var d=e.props,f=d.onChange,h=d.selectsRange,p=d.startDate,g=d.endDate,v=d.selectsMultiple,m=d.selectedDates,x=d.minTime,y=d.swapRange;if(!kp(e.props.selected,l)||e.props.allowSameDay||h||v)if(l!==null&&(e.props.selected&&(!a||!e.props.showTimeSelect&&!e.props.showTimeSelectOnly&&!e.props.showTimeInput)&&(l=I6(l,{hour:Uu(e.props.selected),minute:Hu(e.props.selected),second:fh(e.props.selected)})),!a&&(e.props.showTimeSelect||e.props.showTimeSelectOnly)&&x&&(l=I6(l,{hour:x.getHours(),minute:x.getMinutes(),second:x.getSeconds()})),e.props.inline||e.setState({preSelection:l}),e.props.focusSelectedMonth||e.setState({monthSelectedIn:o})),h){var w=!p&&!g,E=p&&!g,I=p&&g;w?f==null||f([l,null],i):E&&(l===null?f==null||f([null,null],i):F7(l,p)?y?f==null||f([l,p],i):f==null||f([l,null],i):f==null||f([p,l],i)),I&&(f==null||f([l,null],i))}else if(v){if(l!==null)if(!(m!=null&&m.length))f==null||f([l],i);else{var T=m.some(function(D){return _n(D,l)});if(T){var R=m.filter(function(D){return!_n(D,l)});f==null||f(R,i)}else f==null||f(Bu(Bu([],m,!0),[l],!1),i)}}else f==null||f(l,i);a||((u=(c=e.props).onSelect)===null||u===void 0||u.call(c,l,i),e.setState({inputValue:null}))},e.setPreSelection=function(s){var i=hh(e.props.minDate),a=hh(e.props.maxDate),o=!0;if(s){var c=sx(s);if(i&&a)o=Bg(s,e.props.minDate,e.props.maxDate);else if(i){var u=sx(e.props.minDate);o=Pf(s,u)||kp(c,u)}else if(a){var l=A7(e.props.maxDate);o=Rm(s,l)||kp(c,l)}}o&&e.setState({preSelection:s})},e.toggleCalendar=function(){e.setOpen(!e.state.open)},e.handleTimeChange=function(s){var i,a;if(!(e.props.selectsRange||e.props.selectsMultiple)){var o=e.props.selected?e.props.selected:e.getPreSelection(),c=e.props.selected?s:I6(o,{hour:Uu(s),minute:Hu(s)});e.setState({preSelection:c}),(a=(i=e.props).onChange)===null||a===void 0||a.call(i,c),e.props.shouldCloseOnSelect&&!e.props.showTimeInput&&(e.sendFocusBackToInput(),e.setOpen(!1)),e.props.showTimeInput&&e.setOpen(!0),(e.props.showTimeSelectOnly||e.props.showTimeSelect)&&e.setState({isRenderAriaLiveMessage:!0}),e.setState({inputValue:null})}},e.onInputClick=function(){var s,i;!e.props.disabled&&!e.props.readOnly&&e.setOpen(!0),(i=(s=e.props).onInputClick)===null||i===void 0||i.call(s)},e.onInputKeyDown=function(s){var i,a,o,c,u,l;(a=(i=e.props).onKeyDown)===null||a===void 0||a.call(i,s);var d=s.key;if(!e.state.open&&!e.props.inline&&!e.props.preventOpenOnFocus){(d===ir.ArrowDown||d===ir.ArrowUp||d===ir.Enter)&&((o=e.onInputClick)===null||o===void 0||o.call(e));return}if(e.state.open){if(d===ir.ArrowDown||d===ir.ArrowUp){s.preventDefault();var f=e.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":e.props.showWeekPicker&&e.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':e.props.showFullMonthYearPicker||e.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',h=((c=e.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&e.calendar.containerRef.current.querySelector(f);h instanceof HTMLElement&&h.focus({preventScroll:!0});return}var p=es(e.state.preSelection);d===ir.Enter?(s.preventDefault(),e.inputOk()&&e.state.lastPreSelectChange===R6?(e.handleSelect(p,s),!e.props.shouldCloseOnSelect&&e.setPreSelection(p)):e.setOpen(!1)):d===ir.Escape?(s.preventDefault(),e.sendFocusBackToInput(),e.setOpen(!1)):d===ir.Tab&&e.setOpen(!1),e.inputOk()||(l=(u=e.props).onInputError)===null||l===void 0||l.call(u,{code:1,msg:j6})}},e.onPortalKeyDown=function(s){var i=s.key;i===ir.Escape&&(s.preventDefault(),e.setState({preventFocus:!0},function(){e.setOpen(!1),setTimeout(function(){e.setFocus(),e.setState({preventFocus:!1})})}))},e.onDayKeyDown=function(s){var i,a,o,c,u,l,d=e.props,f=d.minDate,h=d.maxDate,p=d.disabledKeyboardNavigation,g=d.showWeekPicker,v=d.shouldCloseOnSelect,m=d.locale,x=d.calendarStartDay,y=d.adjustDateOnChange,w=d.inline;if((a=(i=e.props).onKeyDown)===null||a===void 0||a.call(i,s),!p){var E=s.key,I=s.shiftKey,T=es(e.state.preSelection),R=function(F,A){var _=A;switch(F){case ir.ArrowRight:_=g?Fx(A,1):Vf(A,1);break;case ir.ArrowLeft:_=g?GE(A,1):AF(A,1);break;case ir.ArrowUp:_=GE(A,1);break;case ir.ArrowDown:_=Fx(A,1);break;case ir.PageUp:_=I?eg(A,1):Q1(A,1);break;case ir.PageDown:_=I?dh(A,1):Vc(A,1);break;case ir.Home:_=Cf(A,m,x);break;case ir.End:_=cq(A);break}return _},D=function(F,A){for(var _=40,S=F,N=!1,C=0,W=R(F,A);!N;){if(C>=_){W=A;break}f&&W<f&&(S=ir.ArrowRight,W=Mu(f,e.props)?R(S,W):f),h&&W>h&&(S=ir.ArrowLeft,W=Mu(h,e.props)?R(S,W):h),Mu(W,e.props)?((S===ir.PageUp||S===ir.Home)&&(S=ir.ArrowRight),(S===ir.PageDown||S===ir.End)&&(S=ir.ArrowLeft),W=R(S,W)):N=!0,C++}return W};if(E===ir.Enter){s.preventDefault(),e.handleSelect(T,s),!v&&e.setPreSelection(T);return}else if(E===ir.Escape){s.preventDefault(),e.setOpen(!1),e.inputOk()||(c=(o=e.props).onInputError)===null||c===void 0||c.call(o,{code:1,msg:j6});return}var L=null;switch(E){case ir.ArrowLeft:case ir.ArrowRight:case ir.ArrowUp:case ir.ArrowDown:case ir.PageUp:case ir.PageDown:case ir.Home:case ir.End:L=D(E,T);break}if(!L){(l=(u=e.props).onInputError)===null||l===void 0||l.call(u,{code:1,msg:j6});return}if(s.preventDefault(),e.setState({lastPreSelectChange:R6}),y&&e.setSelected(L),e.setPreSelection(L),w){var M=uo(T),H=uo(L),V=un(T),P=un(L);M!==H||V!==P?e.setState({shouldFocusDayInline:!0}):e.setState({shouldFocusDayInline:!1})}}},e.onPopperKeyDown=function(s){var i=s.key;i===ir.Escape&&(s.preventDefault(),e.sendFocusBackToInput())},e.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),e.sendFocusBackToInput();var i=e.props,a=i.selectsRange,o=i.onChange;a?o==null||o([null,null],s):o==null||o(null,s),e.setState({inputValue:null})},e.clear=function(){e.onClearClick()},e.onScroll=function(s){typeof e.props.closeOnScroll=="boolean"&&e.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&e.setOpen(!1):typeof e.props.closeOnScroll=="function"&&e.props.closeOnScroll(s)&&e.setOpen(!1)},e.renderCalendar=function(){var s,i;return!e.props.inline&&!e.isCalendarOpen()?null:St.createElement(qq,Dn({showMonthYearDropdown:void 0,ref:function(a){e.calendar=a}},e.props,e.state,{setOpen:e.setOpen,dateFormat:(s=e.props.dateFormatCalendar)!==null&&s!==void 0?s:r.defaultProps.dateFormatCalendar,onSelect:e.handleSelect,onClickOutside:e.handleCalendarClickOutside,holidays:xq(e.modifyHolidays()),outsideClickIgnoreClass:H7,onDropdownFocus:e.handleDropdownFocus,onTimeChange:e.handleTimeChange,className:e.props.calendarClassName,container:e.props.calendarContainer,handleOnKeyDown:e.props.onKeyDown,handleOnDayKeyDown:e.onDayKeyDown,setPreSelection:e.setPreSelection,dropdownMode:(i=e.props.dropdownMode)!==null&&i!==void 0?i:r.defaultProps.dropdownMode}),e.props.children)},e.renderAriaLiveRegion=function(){var s=e.props,i=s.dateFormat,a=i===void 0?r.defaultProps.dateFormat:i,o=s.locale,c=e.props.showTimeInput||e.props.showTimeSelect,u=c?"PPPPp":"PPPP",l;return e.props.selectsRange?l="Selected start date: ".concat(ql(e.props.startDate,{dateFormat:u,locale:o}),". ").concat(e.props.endDate?"End date: "+ql(e.props.endDate,{dateFormat:u,locale:o}):""):e.props.showTimeSelectOnly?l="Selected time: ".concat(ql(e.props.selected,{dateFormat:a,locale:o})):e.props.showYearPicker?l="Selected year: ".concat(ql(e.props.selected,{dateFormat:"yyyy",locale:o})):e.props.showMonthYearPicker?l="Selected month: ".concat(ql(e.props.selected,{dateFormat:"MMMM yyyy",locale:o})):e.props.showQuarterYearPicker?l="Selected quarter: ".concat(ql(e.props.selected,{dateFormat:"yyyy, QQQ",locale:o})):l="Selected date: ".concat(ql(e.props.selected,{dateFormat:u,locale:o})),St.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},l)},e.renderDateInput=function(){var s,i,a,o=Xs(e.props.className,(s={},s[H7]=e.state.open,s)),c=e.props.customInput||St.createElement("input",{type:"text"}),u=e.props.customInputRef||"ref",l=e.props,d=l.dateFormat,f=d===void 0?r.defaultProps.dateFormat:d,h=l.locale,p=typeof e.props.value=="string"?e.props.value:typeof e.state.inputValue=="string"?e.state.inputValue:e.props.selectsRange?iq(e.props.startDate,e.props.endDate,{dateFormat:f,locale:h}):e.props.selectsMultiple?aq((a=e.props.selectedDates)!==null&&a!==void 0?a:[],{dateFormat:f,locale:h}):ql(e.props.selected,{dateFormat:f,locale:h});return ne.cloneElement(c,(i={},i[u]=function(g){e.input=g},i.value=p,i.onBlur=e.handleBlur,i.onChange=e.handleChange,i.onClick=e.onInputClick,i.onFocus=e.handleFocus,i.onKeyDown=e.onInputKeyDown,i.id=e.props.id,i.name=e.props.name,i.form=e.props.form,i.autoFocus=e.props.autoFocus,i.placeholder=e.props.placeholderText,i.disabled=e.props.disabled,i.autoComplete=e.props.autoComplete,i.className=Xs(c.props.className,o),i.title=e.props.title,i.readOnly=e.props.readOnly,i.required=e.props.required,i.tabIndex=e.props.tabIndex,i["aria-describedby"]=e.props.ariaDescribedBy,i["aria-invalid"]=e.props.ariaInvalid,i["aria-labelledby"]=e.props.ariaLabelledBy,i["aria-required"]=e.props.ariaRequired,i))},e.renderClearButton=function(){var s=e.props,i=s.isClearable,a=s.disabled,o=s.selected,c=s.startDate,u=s.endDate,l=s.clearButtonTitle,d=s.clearButtonClassName,f=d===void 0?"":d,h=s.ariaLabelClose,p=h===void 0?"Close":h,g=s.selectedDates;return i&&(o!=null||c!=null||u!=null||g!=null&&g.length)?St.createElement("button",{type:"button",className:Xs("react-datepicker__close-icon",f,{"react-datepicker__close-icon--disabled":a}),disabled:a,"aria-label":p,onClick:e.onClearClick,title:l,tabIndex:-1}):null},e.state=e.calcInitialState(),e.preventFocusTimeout=void 0,e}return Object.defineProperty(r,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:wy,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.componentDidUpdate=function(t,e){var s,i,a,o;t.inline&&Xq(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:R7(this.props.highlightDates)}),!e.focused&&!kp(t.selected,this.props.selected)&&this.setState({inputValue:null}),e.open!==this.state.open&&(e.open===!1&&this.state.open===!0&&((i=(s=this.props).onCalendarOpen)===null||i===void 0||i.call(s)),e.open===!0&&this.state.open===!1&&((o=(a=this.props).onCalendarClose)===null||o===void 0||o.call(a)))},r.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.renderInputContainer=function(){var t=this.props,e=t.showIcon,s=t.icon,i=t.calendarIconClassname,a=t.calendarIconClassName,o=t.toggleCalendarOnIconClick,c=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),St.createElement("div",{className:"react-datepicker__input-container".concat(e?" react-datepicker__view-calendar-icon":"")},e&&St.createElement(Wq,Dn({icon:s,className:Xs(a,!a&&i,c&&"react-datepicker-ignore-onclickoutside")},o?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},r.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var e=this.state.open?St.createElement(b9,{enableTabLoop:this.props.enableTabLoop},St.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(e=St.createElement(g9,Dn({portalId:this.props.portalId},this.props),e)),St.createElement("div",null,this.renderInputContainer(),e)}return St.createElement(Yq,Dn({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},r}(ne.Component),Jq="input",R6="navigate";const Zq=({onDateChange:n})=>{const[r,t]=ne.useState(null),[e,s]=ne.useState(!1),i=ne.useRef(),a=c=>{if(t(c),c){const u=(c.getMonth()+1).toString(),l=c.getDate().toString(),d=c.getFullYear().toString();n(`${u}, ${l}, ${d}`)}else n("");s(!1)},o=()=>{s(c=>!c)};return b.jsx("div",{className:"relative",style:{width:"200px"},children:b.jsxs("div",{className:"rounded-md flex items-center py-2 w-full text_size_5 bg-white border text-grey border-lite_grey ${border} px-3 gap-2",children:[b.jsx(Kq,{ref:i,selected:r,onChange:a,dateFormat:"MM/dd/yyyy",placeholderText:"Select a date",className:"uppercase outline-none text-sm w-full",open:e,onCalendarClose:()=>s(!1)}),b.jsx(GU,{className:"absolute right-2 text-gray-400 cursor-pointer",onClick:o})]})})};function k8(n){return Fn({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor"},child:[]}]})(n)}const Qq=`
  mutation CreateORMCSheet(
    $input: CreateORMCSheetInput!
    $condition: ModelORMCSheetConditionInput
  ) {
    createORMCSheet(input: $input, condition: $condition) {
      id
      date
      dailySheet
      status
      createdAt
      updatedAt
      __typename
    }
  }
`,eW=`
  mutation UpdateORMCSheet(
    $input: UpdateORMCSheetInput!
    $condition: ModelORMCSheetConditionInput
  ) {
    updateORMCSheet(input: $input, condition: $condition) {
      id
      date
      dailySheet
      status
      createdAt
      updatedAt
      __typename
    }
  }
`,tW=`
  mutation CreateSBWSheet(
    $input: CreateSBWSheetInput!
    $condition: ModelSBWSheetConditionInput
  ) {
    createSBWSheet(input: $input, condition: $condition) {
      id
      date
      dailySheet
      status
      createdAt
      updatedAt
      __typename
    }
  }
`,rW=`
  mutation UpdateSBWSheet(
    $input: UpdateSBWSheetInput!
    $condition: ModelSBWSheetConditionInput
  ) {
    updateSBWSheet(input: $input, condition: $condition) {
      id
      date
      dailySheet
      status
      createdAt
      updatedAt
      __typename
    }
  }
`,nW=`
  mutation CreateEmpRequisition(
    $input: CreateEmpRequisitionInput!
    $condition: ModelEmpRequisitionConditionInput
  ) {
    createEmpRequisition(input: $input, condition: $condition) {
      id
      department
      justification
      project
      position
      quantity
      qualification
      reasonForReq
      replacementFor
      tentativeDate
      createdAt
      updatedAt
      __typename
    }
  }
`,sW=`
  mutation CreateHeadOffice(
    $input: CreateHeadOfficeInput!
    $condition: ModelHeadOfficeConditionInput
  ) {
    createHeadOffice(input: $input, condition: $condition) {
      id
      dailySheet
      date
      status
      createdAt
      updatedAt
      __typename
    }
  }
`,iW=`
  mutation UpdateHeadOffice(
    $input: UpdateHeadOfficeInput!
    $condition: ModelHeadOfficeConditionInput
  ) {
    updateHeadOffice(input: $input, condition: $condition) {
      id
      dailySheet
      date
      status
      createdAt
      updatedAt
      __typename
    }
  }
`,aW=`
  mutation CreateTrainingCertificates(
    $input: CreateTrainingCertificatesInput!
    $condition: ModelTrainingCertificatesConditionInput
  ) {
    createTrainingCertificates(input: $input, condition: $condition) {
      id
      empID
      courseCode
      courseName
      company
      certifiExpiry
      eCertifiDate
      trainingUpCertifi
      orgiCertifiDate
      createdAt
      updatedAt
      __typename
    }
  }
`,oW=`
  mutation CreateEmpDepInsurance(
    $input: CreateEmpDepInsuranceInput!
    $condition: ModelEmpDepInsuranceConditionInput
  ) {
    createEmpDepInsurance(input: $input, condition: $condition) {
      id
      empID
      depInsurance
      createdAt
      updatedAt
      __typename
    }
  }
`,lW=`
  mutation UpdateEmpDepInsurance(
    $input: UpdateEmpDepInsuranceInput!
    $condition: ModelEmpDepInsuranceConditionInput
  ) {
    updateEmpDepInsurance(input: $input, condition: $condition) {
      id
      empID
      depInsurance
      createdAt
      updatedAt
      __typename
    }
  }
`,cW=`
  mutation CreateEmpInsurance(
    $input: CreateEmpInsuranceInput!
    $condition: ModelEmpInsuranceConditionInput
  ) {
    createEmpInsurance(input: $input, condition: $condition) {
      id
      empID
      groupIns
      groupInsEffectDate
      groupInsEndDate
      workmenComp
      workmePolicyNo
      travelIns
      accidentIns
      empInsUpload
      createdAt
      updatedAt
      __typename
    }
  }
`,uW=`
  mutation UpdateEmpInsurance(
    $input: UpdateEmpInsuranceInput!
    $condition: ModelEmpInsuranceConditionInput
  ) {
    updateEmpInsurance(input: $input, condition: $condition) {
      id
      empID
      groupIns
      groupInsEffectDate
      groupInsEndDate
      workmenComp
      workmePolicyNo
      travelIns
      accidentIns
      empInsUpload
      createdAt
      updatedAt
      __typename
    }
  }
`,dW=`
  mutation CreateSawpDetails(
    $input: CreateSawpDetailsInput!
    $condition: ModelSawpDetailsConditionInput
  ) {
    createSawpDetails(input: $input, condition: $condition) {
      id
      empID
      sawpEmpLtrReq
      sawpEmpLtrReci
      sawpEmpUpload
      createdAt
      updatedAt
      __typename
    }
  }
`,hW=`
  mutation UpdateSawpDetails(
    $input: UpdateSawpDetailsInput!
    $condition: ModelSawpDetailsConditionInput
  ) {
    updateSawpDetails(input: $input, condition: $condition) {
      id
      empID
      sawpEmpLtrReq
      sawpEmpLtrReci
      sawpEmpUpload
      createdAt
      updatedAt
      __typename
    }
  }
`,fW=`
  mutation CreateDNDetails(
    $input: CreateDNDetailsInput!
    $condition: ModelDNDetailsConditionInput
  ) {
    createDNDetails(input: $input, condition: $condition) {
      id
      empID
      doeEmpSubmit
      doeEmpApproval
      doeEmpValid
      doeEmpRefNo
      doeEmpUpload
      permitType
      nlmsEmpSubmit
      nlmsEmpSubmitRefNo
      nlmsEmpApproval
      nlmsRefNo
      nlmsEmpValid
      nlmsEmpUpload
      createdAt
      updatedAt
      __typename
    }
  }
`,v9=`
  mutation UpdateDNDetails(
    $input: UpdateDNDetailsInput!
    $condition: ModelDNDetailsConditionInput
  ) {
    updateDNDetails(input: $input, condition: $condition) {
      id
      empID
      doeEmpSubmit
      doeEmpApproval
      doeEmpValid
      doeEmpRefNo
      doeEmpUpload
      permitType
      nlmsEmpSubmit
      nlmsEmpSubmitRefNo
      nlmsEmpApproval
      nlmsRefNo
      nlmsEmpValid
      nlmsEmpUpload
      createdAt
      updatedAt
      __typename
    }
  }
`,pW=`
  mutation CreateBJLDetails(
    $input: CreateBJLDetailsInput!
    $condition: ModelBJLDetailsConditionInput
  ) {
    createBJLDetails(input: $input, condition: $condition) {
      id
      empID
      bankSubmit
      bankRece
      bankRefNo
      bankAmt
      bankValid
      bankEndorse
      bankEmpUpload
      tbaPurchase
      jitpaAmt
      jpValid
      jpEndorse
      jpEmpUpload
      lbrReceiptNo
      lbrDepoAmt
      lbrDepoSubmit
      lbrDepoUpload
      createdAt
      updatedAt
      __typename
    }
  }
`,C8=`
  mutation UpdateBJLDetails(
    $input: UpdateBJLDetailsInput!
    $condition: ModelBJLDetailsConditionInput
  ) {
    updateBJLDetails(input: $input, condition: $condition) {
      id
      empID
      bankSubmit
      bankRece
      bankRefNo
      bankAmt
      bankValid
      bankEndorse
      bankEmpUpload
      tbaPurchase
      jitpaAmt
      jpValid
      jpEndorse
      jpEmpUpload
      lbrReceiptNo
      lbrDepoAmt
      lbrDepoSubmit
      lbrDepoUpload
      createdAt
      updatedAt
      __typename
    }
  }
`,mW=`
  mutation CreatePassportValid(
    $input: CreatePassportValidInput!
    $condition: ModelPassportValidConditionInput
  ) {
    createPassportValid(input: $input, condition: $condition) {
      id
      empID
      ppLocation
      arrivStampUpload
      immigEmpUpload
      reEntryUpload
      arrivStampExp
      immigRefNo
      ppSubmit
      empPassExp
      empPassStatus
      airTktStatus
      reEntryVisa
      immigApproval
      reEntryVisaExp
      remarkImmig
      createdAt
      updatedAt
      __typename
    }
  }
`,gW=`
  mutation UpdatePassportValid(
    $input: UpdatePassportValidInput!
    $condition: ModelPassportValidConditionInput
  ) {
    updatePassportValid(input: $input, condition: $condition) {
      id
      empID
      ppLocation
      arrivStampUpload
      immigEmpUpload
      reEntryUpload
      arrivStampExp
      immigRefNo
      ppSubmit
      empPassExp
      empPassStatus
      airTktStatus
      reEntryVisa
      immigApproval
      reEntryVisaExp
      remarkImmig
      createdAt
      updatedAt
      __typename
    }
  }
`,bW=`
  mutation CreateBlng(
    $input: CreateBlngInput!
    $condition: ModelBlngConditionInput
  ) {
    createBlng(input: $input, condition: $condition) {
      id
      weeklySheet
      date
      status
      createdAt
      updatedAt
      __typename
    }
  }
`,vW=`
  mutation UpdateBlng(
    $input: UpdateBlngInput!
    $condition: ModelBlngConditionInput
  ) {
    updateBlng(input: $input, condition: $condition) {
      id
      weeklySheet
      date
      status
      createdAt
      updatedAt
      __typename
    }
  }
`,yW=`
  mutation CreateEmployeeNonLocalAcco(
    $input: CreateEmployeeNonLocalAccoInput!
    $condition: ModelEmployeeNonLocalAccoConditionInput
  ) {
    createEmployeeNonLocalAcco(input: $input, condition: $condition) {
      id
      empID
      accommodation
      accommodationAddress
      createdAt
      updatedAt
      __typename
    }
  }
`,xW=`
  mutation UpdateEmployeeNonLocalAcco(
    $input: UpdateEmployeeNonLocalAccoInput!
    $condition: ModelEmployeeNonLocalAccoConditionInput
  ) {
    updateEmployeeNonLocalAcco(input: $input, condition: $condition) {
      id
      empID
      accommodation
      accommodationAddress
      createdAt
      updatedAt
      __typename
    }
  }
`,wW=`
  mutation CreateLabourMedicalInfo(
    $input: CreateLabourMedicalInfoInput!
    $condition: ModelLabourMedicalInfoConditionInput
  ) {
    createLabourMedicalInfo(input: $input, condition: $condition) {
      id
      empID
      overMD
      overME
      bruhimsRD
      bruhimsRNo
      bruneiMAD
      bruneiME
      uploadFitness
      uploadRegis
      uploadBwn
      dependPass
      createdAt
      updatedAt
      __typename
    }
  }
`,_W=`
  mutation UpdateLabourMedicalInfo(
    $input: UpdateLabourMedicalInfoInput!
    $condition: ModelLabourMedicalInfoConditionInput
  ) {
    updateLabourMedicalInfo(input: $input, condition: $condition) {
      id
      empID
      overMD
      overME
      bruhimsRD
      bruhimsRNo
      bruneiMAD
      bruneiME
      uploadFitness
      uploadRegis
      uploadBwn
      dependPass
      createdAt
      updatedAt
      __typename
    }
  }
`,SW=`
  mutation CreateServiceRecord(
    $input: CreateServiceRecordInput!
    $condition: ModelServiceRecordConditionInput
  ) {
    createServiceRecord(input: $input, condition: $condition) {
      id
      empID
      depEmpDate
      depEmp
      positionRev
      positionRevDate
      revSalary
      revSalaryDate
      revLeavePass
      revLeaveDate
      revAnnualLeave
      revALD
      remarkWI
      uploadPR
      uploadSP
      uploadLP
      uploadAL
      uploadDep
      createdAt
      updatedAt
      __typename
    }
  }
`,EW=`
  mutation UpdateServiceRecord(
    $input: UpdateServiceRecordInput!
    $condition: ModelServiceRecordConditionInput
  ) {
    updateServiceRecord(input: $input, condition: $condition) {
      id
      empID
      depEmpDate
      depEmp
      positionRev
      positionRevDate
      revSalary
      revSalaryDate
      revLeavePass
      revLeaveDate
      revAnnualLeave
      revALD
      remarkWI
      uploadPR
      uploadSP
      uploadLP
      uploadAL
      uploadDep
      createdAt
      updatedAt
      __typename
    }
  }
`,NW=`
  mutation CreateEmpLeaveDetails(
    $input: CreateEmpLeaveDetailsInput!
    $condition: ModelEmpLeaveDetailsConditionInput
  ) {
    createEmpLeaveDetails(input: $input, condition: $condition) {
      id
      empID
      annualLeave
      annualLeaveDate
      compasLeave
      destinateLeavePass
      durLeavePass
      dateLeavePass
      leavePass
      materLeave
      mrageLeave
      paterLeave
      sickLeave
      sickLeaveDate
      hospLeave
      createdAt
      updatedAt
      __typename
    }
  }
`,AW=`
  mutation UpdateEmpLeaveDetails(
    $input: UpdateEmpLeaveDetailsInput!
    $condition: ModelEmpLeaveDetailsConditionInput
  ) {
    updateEmpLeaveDetails(input: $input, condition: $condition) {
      id
      empID
      annualLeave
      annualLeaveDate
      compasLeave
      destinateLeavePass
      durLeavePass
      dateLeavePass
      leavePass
      materLeave
      mrageLeave
      paterLeave
      sickLeave
      sickLeaveDate
      hospLeave
      createdAt
      updatedAt
      __typename
    }
  }
`,kW=`
  mutation CreateTerminationInfo(
    $input: CreateTerminationInfoInput!
    $condition: ModelTerminationInfoConditionInput
  ) {
    createTerminationInfo(input: $input, condition: $condition) {
      id
      empID
      resignDate
      resignNotProb
      otherResignNotProb
      resignNotConf
      otherResignNotConf
      reasonResign
      reasonTerminate
      termiDate
      termiNotProb
      otherTermiNotProb
      termiNotConf
      otherTermiNotConf
      WIContract
      WIProbation
      WIResignation
      WITermination
      WILeaveEntitle
      createdAt
      updatedAt
      __typename
    }
  }
`,CW=`
  mutation UpdateTerminationInfo(
    $input: UpdateTerminationInfoInput!
    $condition: ModelTerminationInfoConditionInput
  ) {
    updateTerminationInfo(input: $input, condition: $condition) {
      id
      empID
      resignDate
      resignNotProb
      otherResignNotProb
      resignNotConf
      otherResignNotConf
      reasonResign
      reasonTerminate
      termiDate
      termiNotProb
      otherTermiNotProb
      termiNotConf
      otherTermiNotConf
      WIContract
      WIProbation
      WIResignation
      WITermination
      WILeaveEntitle
      createdAt
      updatedAt
      __typename
    }
  }
`,TW=`
  mutation CreateEmpWorkInfo(
    $input: CreateEmpWorkInfoInput!
    $condition: ModelEmpWorkInfoConditionInput
  ) {
    createEmpWorkInfo(input: $input, condition: $condition) {
      id
      empID
      contractStart
      contractEnd
      contractPeriod
      doj
      department
      hr
      jobCat
      jobDesc
      manager
      otherJobCat
      otherDepartment
      otherPosition
      probationStart
      probationEnd
      probDuration
      position
      relationship
      supervisor
      skillPool
      salaryType
      sapNo
      upgradeDate
      upgradePosition
      workStatus
      workHrs
      workWeek
      workMonth
      createdAt
      updatedAt
      __typename
    }
  }
`,DW=`
  mutation UpdateEmpWorkInfo(
    $input: UpdateEmpWorkInfoInput!
    $condition: ModelEmpWorkInfoConditionInput
  ) {
    updateEmpWorkInfo(input: $input, condition: $condition) {
      id
      empID
      contractStart
      contractEnd
      contractPeriod
      doj
      department
      hr
      jobCat
      jobDesc
      manager
      otherJobCat
      otherDepartment
      otherPosition
      probationStart
      probationEnd
      probDuration
      position
      relationship
      supervisor
      skillPool
      salaryType
      sapNo
      upgradeDate
      upgradePosition
      workStatus
      workHrs
      workWeek
      workMonth
      createdAt
      updatedAt
      __typename
    }
  }
`,IW=`
  mutation CreateEmpPersonalInfo(
    $input: CreateEmpPersonalInfoInput!
    $condition: ModelEmpPersonalInfoConditionInput
  ) {
    createEmpPersonalInfo(input: $input, condition: $condition) {
      id
      empID
      age
      aTQualify
      alternateNo
      agent
      contactNo
      cob
      contractType
      ctryOfOrigin
      chinese
      dob
      educLevel
      email
      eduDetails
      empBadgeNo
      empType
      familyDetails
      gender
      lang
      marital
      name
      officialEmail
      oCOfOrigin
      profilePhoto
      permanentAddress
      position
      sapNo
      createdAt
      updatedAt
      __typename
    }
  }
`,y9=`
  mutation UpdateEmpPersonalInfo(
    $input: UpdateEmpPersonalInfoInput!
    $condition: ModelEmpPersonalInfoConditionInput
  ) {
    updateEmpPersonalInfo(input: $input, condition: $condition) {
      id
      empID
      age
      aTQualify
      alternateNo
      agent
      contactNo
      cob
      contractType
      ctryOfOrigin
      chinese
      dob
      educLevel
      email
      eduDetails
      empBadgeNo
      empType
      familyDetails
      gender
      lang
      marital
      name
      officialEmail
      oCOfOrigin
      profilePhoto
      permanentAddress
      position
      sapNo
      createdAt
      updatedAt
      __typename
    }
  }
`,PW=`
  mutation CreateIDDetails(
    $input: CreateIDDetailsInput!
    $condition: ModelIDDetailsConditionInput
  ) {
    createIDDetails(input: $input, condition: $condition) {
      id
      empID
      applicationUpload
      bwnIcNo
      bwnIcColour
      bwnIcExpiry
      bwnUpload
      cvCertifyUpload
      driveLic
      inducBrief
      inducBriefUp
      loiUpload
      myIcNo
      myIcUpload
      nationality
      nationalCat
      otherNation
      otherRace
      otherReligion
      ppNo
      paafCvevUpload
      ppIssued
      ppExpiry
      ppUpload
      ppDestinate
      preEmp
      preEmpPeriod
      race
      religion
      supportDocUpload
      createdAt
      updatedAt
      __typename
    }
  }
`,jW=`
  mutation UpdateIDDetails(
    $input: UpdateIDDetailsInput!
    $condition: ModelIDDetailsConditionInput
  ) {
    updateIDDetails(input: $input, condition: $condition) {
      id
      empID
      applicationUpload
      bwnIcNo
      bwnIcColour
      bwnIcExpiry
      bwnUpload
      cvCertifyUpload
      driveLic
      inducBrief
      inducBriefUp
      loiUpload
      myIcNo
      myIcUpload
      nationality
      nationalCat
      otherNation
      otherRace
      otherReligion
      ppNo
      paafCvevUpload
      ppIssued
      ppExpiry
      ppUpload
      ppDestinate
      preEmp
      preEmpPeriod
      race
      religion
      supportDocUpload
      createdAt
      updatedAt
      __typename
    }
  }
`,RW=`
  mutation CreateInterviewScheduleSchema(
    $input: CreateInterviewScheduleSchemaInput!
    $condition: ModelInterviewScheduleSchemaConditionInput
  ) {
    createInterviewScheduleSchema(input: $input, condition: $condition) {
      id
      date
      time
      venue
      interviewType
      interviewer
      message
      tempID
      candidateStatus
      department
      createdAt
      updatedAt
      __typename
    }
  }
`,MW=`
  mutation UpdateInterviewScheduleSchema(
    $input: UpdateInterviewScheduleSchemaInput!
    $condition: ModelInterviewScheduleSchemaConditionInput
  ) {
    updateInterviewScheduleSchema(input: $input, condition: $condition) {
      id
      date
      time
      venue
      interviewType
      interviewer
      message
      tempID
      candidateStatus
      department
      createdAt
      updatedAt
      __typename
    }
  }
`,LW=`
  mutation CreateEducationDetails(
    $input: CreateEducationDetailsInput!
    $condition: ModelEducationDetailsConditionInput
  ) {
    createEducationDetails(input: $input, condition: $condition) {
      id
      tempID
      crime
      crimeDesc
      emgDetails
      noExperience
      empStatement
      desc
      disease
      diseaseDesc
      liquor
      liquorDesc
      noticePeriod
      perIS
      perIDesc
      referees
      relatives
      salaryExpectation
      supportInfo
      uploadResume
      uploadCertificate
      uploadPp
      createdAt
      updatedAt
      __typename
    }
  }
`,OW=`
  mutation CreatePersonalDetails(
    $input: CreatePersonalDetailsInput!
    $condition: ModelPersonalDetailsConditionInput
  ) {
    createPersonalDetails(input: $input, condition: $condition) {
      id
      tempID
      age
      alternateNo
      agent
      bwnIcNo
      bwnIcExpiry
      bwnIcColour
      contactNo
      cob
      contractType
      chinese
      dob
      driveLic
      email
      empType
      eduDetails
      familyDetails
      gender
      lang
      marital
      name
      nationality
      otherNation
      otherRace
      otherReligion
      ppNo
      ppIssued
      ppExpiry
      ppDestinate
      presentAddress
      permanentAddress
      profilePhoto
      position
      race
      religion
      status
      workExperience
      createdAt
      updatedAt
      __typename
    }
  }
`,FW=`
  mutation UpdatePersonalDetails(
    $input: UpdatePersonalDetailsInput!
    $condition: ModelPersonalDetailsConditionInput
  ) {
    updatePersonalDetails(input: $input, condition: $condition) {
      id
      tempID
      age
      alternateNo
      agent
      bwnIcNo
      bwnIcExpiry
      bwnIcColour
      contactNo
      cob
      contractType
      chinese
      dob
      driveLic
      email
      empType
      eduDetails
      familyDetails
      gender
      lang
      marital
      name
      nationality
      otherNation
      otherRace
      otherReligion
      ppNo
      ppIssued
      ppExpiry
      ppDestinate
      presentAddress
      permanentAddress
      profilePhoto
      position
      race
      religion
      status
      workExperience
      createdAt
      updatedAt
      __typename
    }
  }
`,BW=`
  mutation CreateUser(
    $input: CreateUserInput!
    $condition: ModelUserConditionInput
  ) {
    createUser(input: $input, condition: $condition) {
      id
      empID
      selectType
      setPermissions
      password
      status
      createdAt
      updatedAt
      __typename
    }
  }
`,T8=`
  mutation UpdateUser(
    $input: UpdateUserInput!
    $condition: ModelUserConditionInput
  ) {
    updateUser(input: $input, condition: $condition) {
      id
      empID
      selectType
      setPermissions
      password
      status
      createdAt
      updatedAt
      __typename
    }
  }
`,UW=`
  mutation UpdateTicketRequest(
    $input: UpdateTicketRequestInput!
    $condition: ModelTicketRequestConditionInput
  ) {
    updateTicketRequest(input: $input, condition: $condition) {
      id
      empID
      empStatus
      empDate
      empRemarks
      departureDate
      arrivalDate
      destination
      remarks
      hrStatus
      hrDate
      hrRemarks
      hrName
      createdAt
      updatedAt
      __typename
    }
  }
`,HW=`
  mutation UpdateLeaveStatus(
    $input: UpdateLeaveStatusInput!
    $condition: ModelLeaveStatusConditionInput
  ) {
    updateLeaveStatus(input: $input, condition: $condition) {
      id
      empID
      leaveType
      fromDate
      toDate
      days
      applyTo
      reason
      medicalCertificate
      supervisorName
      supervisorStatus
      supervisorDate
      supervisorRemarks
      managerName
      managerStatus
      managerDate
      managerRemarks
      empStatus
      empDate
      empRemarks
      createdAt
      updatedAt
      __typename
    }
  }
`,qW=`
  mutation DeleteLeaveStatus(
    $input: DeleteLeaveStatusInput!
    $condition: ModelLeaveStatusConditionInput
  ) {
    deleteLeaveStatus(input: $input, condition: $condition) {
      id
      empID
      leaveType
      fromDate
      toDate
      days
      applyTo
      reason
      medicalCertificate
      supervisorName
      supervisorStatus
      supervisorDate
      supervisorRemarks
      managerName
      managerStatus
      managerDate
      managerRemarks
      empStatus
      empDate
      empRemarks
      createdAt
      updatedAt
      __typename
    }
  }
`,jl=Pr(),D8=()=>{const[n,r]=ne.useState([]),[t,e]=ne.useState([]),[s,i]=ne.useState([]),[a,o]=ne.useState([]),[c,u]=ne.useState(!0),[l,d]=ne.useState(null);return ne.useEffect(()=>{(async()=>{var v,m,x,y,w,E,I,T,R,D,L,M;u(!0);try{const[H,V,P,F,A,_]=await Promise.all([jl.graphql({query:EM}),jl.graphql({query:Px}),jl.graphql({query:IE}),jl.graphql({query:XN}),jl.graphql({query:s8}),jl.graphql({query:NM})]),S=((m=(v=H==null?void 0:H.data)==null?void 0:v.listLeaveStatuses)==null?void 0:m.items)||[],N=((y=(x=V==null?void 0:V.data)==null?void 0:x.listEmpPersonalInfos)==null?void 0:y.items)||[],C=((E=(w=P==null?void 0:P.data)==null?void 0:w.listTicketRequests)==null?void 0:E.items)||[],W=((T=(I=F==null?void 0:F.data)==null?void 0:I.listPersonalDetails)==null?void 0:T.items)||[],j=((D=(R=A==null?void 0:A.data)==null?void 0:R.listUsers)==null?void 0:D.items)||[],B=((M=(L=_==null?void 0:_.data)==null?void 0:L.listInterviewScheduleSchemas)==null?void 0:M.items)||[];o(C),r(W);const G=N.reduce((O,ee)=>(O[ee.empID]=ee,O),{}),X=C.reduce((O,ee)=>(O[ee.empID]=ee,O),{}),J=S.map(O=>({...O,employeeInfo:G[O.empID]||{},ticketRequest:X[O.empID]||{}}));e(J)}catch(H){d(H),console.error("Error fetching data:",H)}finally{u(!1)}})()},[]),ne.useEffect(()=>{(async()=>{var v,m,x,y,w,E;u(!0);try{const[I,T,R]=await Promise.all([jl.graphql({query:Px}),jl.graphql({query:IE}),jl.graphql({query:KN})]),D=((m=(v=I==null?void 0:I.data)==null?void 0:v.listEmpPersonalInfos)==null?void 0:m.items)||[],L=((y=(x=T==null?void 0:T.data)==null?void 0:x.listTicketRequests)==null?void 0:y.items)||[],M=((E=(w=R==null?void 0:R.data)==null?void 0:w.listEmpWorkInfos)==null?void 0:E.items)||[];o(L);const H=D.reduce((F,A)=>(F[A.empID]=A,F),{}),V=M.reduce((F,A)=>(F[A.empID]=A,F),{}),P=L.map(F=>({...F,employeeInfo:H[F.empID]||{},workInfo:V[F.empID]||{}}));i(P)}catch(I){d(I),console.error("Error fetching data:",I)}finally{u(!1)}})()},[]),{ticketMerged:s,mergedData:t,ticketRequests:a,loading:c,error:l,handleDeleteLeaveStatus:async g=>{u(!0);try{await jl.graphql({query:qW,variables:{input:{id:g}}}),e(v=>v.filter(m=>m.id!==g))}catch(v){d(v),console.error("Error deleting leave status:",v)}finally{u(!1)}},handleUpdateLeaveStatus:async(g,v)=>{u(!0);try{const x=(await jl.graphql({query:HW,variables:{input:{id:g,...v}}})).data.updateLeaveStatus;e(y=>y.map(w=>w.id===g?x:w))}catch(m){d(m),console.error("Error updating leave status:",m)}finally{u(!1)}},handleUpdateTicketRequest:async(g,v)=>{u(!0);try{const x=(await jl.graphql({query:UW,variables:{input:{id:g,...v}}})).data.updateTicketRequest;e(y=>y.map(w=>w.id===g?x:w))}catch(m){d(m),console.error("Error updating leave status:",m)}finally{u(!1)}},personalDetails:n}},WW=({handleClickForToggle:n,leaveData:r,ticketData:t,source:e,userType:s,personalInfo:i,formatDate:a})=>{const[o,c]=ne.useState(""),[u,l]=ne.useState(""),[d,f]=ne.useState(!1),[h,p]=ne.useState(""),g=Ga(),{handleUpdateLeaveStatus:v,handleUpdateTicketRequest:m}=D8(),{userData:x}=ne.useContext(bs),y=I=>{const T={},R=localStorage.getItem("userType"),D=new Date().toISOString();console.log("updateData:",r),R==="Manager"?(T.managerStatus=I,T.managerRemarks=o,T.managerDate=D,T.managerName=i.name):R==="Supervisior"&&(T.supervisorStatus=I,T.supervisorRemarks=o,T.supervisorDate=D,T.supervisorName=i.name),e==="LM"?(v(r.id,T),console.log(`Status: Leave ${I} by ${i.name} (${R} on ${D})`),p(`Leave ${I} by ${i.name} on ${D}`)):e==="Tickets"&&(T.hrStatus=I,T.hrRemarks=o,T.hrDate=D,m(t.id,T),console.log(`Ticket request ${I} by ${i.name} (${R} on ${D})`),p(`Ticket request ${I} by ${i.name} on ${D}`)),f(!0),setTimeout(()=>{f(!1),g("/dashboard")},3e3)},w=()=>y("Approved"),E=()=>y("Rejected");return ne.useEffect(()=>{const I=localStorage.getItem("userType");l(I),console.log(`UserType: '${I}'`)},[]),console.log("userData",x),b.jsxs("main",{className:"flex flex-col items-center justify-center inset-0 z-50 fixed",children:[b.jsx("header",{className:"w-[500px] mt-5 ",children:b.jsxs("div",{className:"flex justify-between bg-[#C6C6C6] py-1",children:[b.jsx("p",{}),b.jsx("p",{className:"text-dark_grey text-[24px] font-medium",children:"View Form"}),b.jsx(k8,{className:"text-2xl mt-2 mr-4 cursor-pointer",onClick:n})]})}),d&&b.jsx(fi,{text:h,notification:d,path:"/dashboard"}),e==="LM"&&b.jsxs("section",{className:"shadow-md w-[500px] px-5 bg-white",children:[b.jsxs("div",{className:"p-5 text_size_6 ",children:[b.jsx("div",{className:"py-2 mb-2",children:b.jsx("p",{className:"text-center text-[24px] font-semibold",children:`Manager  :${r.managerStatus+`Supervisor   :${r.supervisorStatus}`}`})}),b.jsxs("div",{className:"grid grid-cols-2 ",children:[b.jsx("p",{children:"Name"}),b.jsx("p",{children:r.employeeInfo.name})]}),b.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[b.jsx("p",{children:"Job Title"}),b.jsx("p",{children:r.jobTitle||"N/A"})]}),b.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[b.jsx("p",{children:"Badge"}),b.jsx("p",{children:r.employeeInfo.empBadgeNo})]}),b.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[b.jsx("p",{children:"Dept/Dev"}),b.jsx("p",{children:r.deptDev||"N/A"})]}),b.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[b.jsx("p",{children:"Select Date"}),b.jsx("p",{children:r.selectDate||"N/A"})]}),b.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[b.jsx("p",{children:"Leave Type"}),b.jsx("p",{children:r.leaveType})]}),b.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[b.jsx("p",{children:"Apply to"}),b.jsxs("p",{children:[a(r.fromDate)," to ",a(r.toDate)]})]}),b.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[b.jsx("p",{children:"No of days"}),b.jsx("p",{children:r.days})]}),r.remark&&b.jsxs("div",{className:"grid grid-cols-2 py-6 ",children:[b.jsx("p",{children:"Comments:"}),b.jsx("p",{className:"text-start text-[16px] font-medium border border-gray-400 w-[186px] h-[51px] ",children:r.remark||"No remarks added"})]}),(r.managerStatus==="Pending"||r.supervisorStatus==="Pending")&&s!=="SuperAdmin"&&s!=="HR"&&b.jsxs("div",{className:"grid grid-rows-2 pt-1",children:[b.jsx("label",{htmlFor:"remark",children:"Remark :"}),b.jsx("input",{type:"text",value:o,onChange:I=>c(I.target.value),className:"border border-grey w-full h-9 outline-none pl-2"})]})]}),b.jsx("div",{className:"flex justify-between px-5 pb-10",children:(r.managerStatus==="Pending"||r.supervisorStatus==="Pending")&&s!=="SuperAdmin"&&s!=="HR"&&b.jsxs(b.Fragment,{children:[b.jsx("button",{className:"bg-[#FEF116] p-2 px-3 rounded text-dark_grey text_size_6",onClick:w,children:"Approve"}),b.jsx("button",{className:"border border-grey p-2 px-5 rounded text-dark_grey text_size_6",onClick:E,children:"Reject"})]})})]}),e==="Tickets"&&b.jsxs("section",{className:"shadow-md w-[500px] px-5 bg-white",children:[b.jsxs("div",{className:"p-5 text_size_6 ",children:[b.jsx("div",{className:"py-2 mb-2",children:b.jsx("p",{className:"text-center text-[24px] font-semibold",children:t.hrStatus==="Pending"?"Request Tickets":t.hrStatus})}),b.jsxs("div",{className:"grid grid-cols-2 ",children:[b.jsx("p",{children:"Name"}),b.jsx("p",{children:t.employeeInfo.name})]}),b.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[b.jsx("p",{children:"Batch Number"}),b.jsx("p",{children:t.employeeInfo.empBadgeNo||"Web Developer"})]}),b.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[b.jsx("p",{children:"Department"}),b.jsx("p",{children:t.workInfo.department||"N/a"})]}),b.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[b.jsx("p",{children:"Position"}),b.jsx("p",{children:t.workInfo.position||"N/A"})]}),b.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[b.jsx("p",{children:"Date Join"}),b.jsx("p",{children:a(t.workInfo.doj)||"Testing"})]}),b.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[b.jsx("p",{children:"Departure Date"}),b.jsx("p",{children:a(t.departureDate)})]}),b.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[b.jsx("p",{children:"Arrival date"}),b.jsx("p",{children:a(t.arrivalDate)})]}),b.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[b.jsx("p",{children:"Reason"}),b.jsx("p",{children:t.remarks})]}),t.hrRemark&&b.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[b.jsx("p",{children:"Remark"}),b.jsx("p",{children:t.hrRemark||"No remarks added"})]}),t.hrStatus==="Pending"&&s!=="SuperAdmin"&&b.jsxs("div",{className:"grid grid-rows-2 pt-1",children:[b.jsx("label",{htmlFor:"remark",children:"Remark :"}),b.jsx("input",{type:"text",value:o,onChange:I=>c(I.target.value),className:"border border-grey w-full h-9 outline-none pl-2"})]})]}),b.jsx("div",{className:"flex justify-between px-5 pb-10",children:t.hrStatus==="Pending"&&s==="HR"&&b.jsxs(b.Fragment,{children:[b.jsx("button",{className:"bg-[#FEF116] p-2 px-3 rounded text-dark_grey text_size_6",onClick:w,children:"Approve"}),b.jsx("button",{className:"border border-grey p-2 px-5 rounded text-dark_grey text_size_6",onClick:E,children:"Reject"})]})})]})]})},zW=({initialData:n,userType:r})=>{const[t,e]=ne.useState(n),[s,i]=ne.useState(1),[a,o]=ne.useState(15),c=["Employee ID","Employee Name","No of Leave Taken","No of Leave Remaining"];ne.useEffect(()=>{const d=t,f=(s-1)*a,h=d.slice(f,f+a);e(h)},[s,a]);const l=Math.ceil(t.length/a);return b.jsxs("section",{children:[b.jsx("div",{className:"leaveManagementTable h-[70vh] max-h-[calc(70vh-7rem)] max-w-[100%] overflow-y-auto",children:b.jsxs("table",{className:"w-[1150px] ",children:[b.jsx("thead",{className:"bg-black",children:b.jsx("tr",{className:"bg-[#C5C5C5] rounded-sm",children:c.map((d,f)=>b.jsx("th",{className:"px-4 py-5 text-[15px] text-secondary",children:d},f))})}),b.jsx("tbody",{children:n&&n.map((d,f)=>b.jsxs("tr",{className:"text-center text-sm border-b-2 border-[#CECECE]",children:[b.jsx("td",{className:"border-b-2 border-[#CECECE] py-3",children:d.empID}),b.jsx("td",{className:"border-b-2 border-[#CECECE]",children:d.employeeInfo.name}),b.jsx("td",{className:"border-b-2 border-[#CECECE]",children:d.days}),b.jsx("td",{className:"border-b-2 border-[#CECECE]",children:d["no of leave remaining"]})]},f))})]})}),b.jsx("div",{className:"ml-20 flex justify-center",children:b.jsx("div",{className:"w-[60%] flex justify-start mt-4  px-10",children:r!=="SuperAdmin"&&r!=="HR"&&b.jsx(Zm,{currentPage:s,totalPages:l,onPageChange:d=>{d>=1&&d<=l&&i(d)}})})})]})},VW=({initialData:n,statusUpdate:r,handleClickForToggle:t,onViewClick:e,userType:s,formatDate:i,personalInfo:a})=>{const[o,c]=ne.useState(n),[u,l]=ne.useState(1),[d,f]=ne.useState(15);ne.useEffect(()=>{c(n)},[n]);const h=["S.No","Name","Batch Number","Department","Position","Date Join","Departure date","Arrival date","Submitted form",s!=="SuperAdmin"&&"Status"],p=o.filter(m=>m.empStatus!=="Cancelled").filter(m=>s==="HR"?m.hrName===a.name:!0);ne.useEffect(()=>{const m=p,x=(u-1)*d,y=m.slice(x,x+d);c(y)},[u,d]);const v=Math.ceil(p.length/d);return b.jsxs("section",{className:"",children:[b.jsx("div",{className:"leaveManagementTable h-[70vh] max-h-[calc(70vh-7rem)] max-w-[100%] overflow-x-auto flex-grow",children:b.jsxs("table",{className:"w-[1150px]",children:[b.jsx("thead",{className:"bg-black",children:b.jsx("tr",{className:"  bg-[#C5C5C5]  rounded-sm",children:h.map((m,x)=>b.jsx("th",{className:" px-4 py-5 text-[15px] text-secondary",children:m},x))})}),b.jsx("tbody",{children:p&&p.map((m,x)=>b.jsxs("tr",{className:"text-center text-sm border-b-2 border-[#CECECE]",children:[b.jsx("td",{className:"border-b-2 border-[#CECECE] py-3",children:x+1}),b.jsx("td",{className:"border-b-2 border-[#CECECE] py-3",children:m.employeeInfo.name}),b.jsx("td",{className:"border-b-2 border-[#CECECE] pl-4",children:m.employeeInfo.empBadgeNo}),b.jsx("td",{className:"border-b-2 border-[#CECECE]",children:m.workInfo.department||"N/A"}),b.jsx("td",{className:"border-b-2 border-[#CECECE]",children:m.workInfo.position||"N/A"}),b.jsx("td",{className:"border-b-2 border-[#CECECE]",children:i(m.createdAt)}),b.jsx("td",{className:"border-b-2 border-[#CECECE]",children:i(m.departureDate)}),b.jsx("td",{className:"border-b-2 border-[#CECECE]",children:i(m.arrivalDate)}),b.jsx("td",{className:"border-b-2 border-[#CECECE] cursor-pointer",children:b.jsx("span",{className:"border-b-2 border-dark_grey ",onClick:()=>{t(),e(m)},children:"View"})}),s!=="SuperAdmin"&&b.jsx("td",{className:`border-b-2 border-[#CECECE] ${m.hrStatus==="Rejected"?"text-[#C50000]":m.hrStatus==="Approved"?"text-[#0CB100]":m.hrStatus==="Pending"?"text-dark_grey":""}`,children:m.hrStatus})]},x))})]})}),b.jsx("div",{className:"ml-20 flex justify-center",children:b.jsx("div",{className:"w-[60%] flex justify-start mt-4  px-10",children:s!=="SuperAdmin"&&b.jsx(Zm,{currentPage:u,totalPages:v,onPageChange:m=>{m>=1&&m<=v&&l(m)}})})})]})},$W=Pr(),GW=n=>{const[r,t]=ne.useState({profilePhoto:"",name:"",email:"",contactNo:""}),[e,s]=ne.useState(!0),[i,a]=ne.useState(null);return ne.useEffect(()=>{n&&(async()=>{var c,u;try{s(!0);const l=await $W.graphql({query:Px}),d=((u=(c=l==null?void 0:l.data)==null?void 0:c.listEmpPersonalInfos)==null?void 0:u.items)||[];if(d.length===0){a("No employee data found."),s(!1);return}const f=d.find(h=>h.empID.toLowerCase()===n.toLowerCase());f?t({profilePhoto:f.profilePhoto,name:f.name,email:f.email,contactNo:f.contactNo||""}):(a(`No matching employee found for userID: ${n}`),console.log(`No matching employee found for userID: ${n}`))}catch(l){a("Error fetching employee personal info."),console.error("Error fetching data:",l)}finally{s(!1)}})()},[n]),{personalInfo:r,loading:e,error:i}},YW=()=>{const[n,r]=ne.useState([]),[t,e]=ne.useState(null),[s,i]=ne.useState(0),[a,o]=ne.useState("All");ne.useState(""),ne.useState("");const[c,u]=ne.useState(1),[l,d]=ne.useState(35),[f,h]=ne.useState(""),[p,g]=ne.useState(!1),[v,m]=ne.useState(null),[x,y]=ne.useState(null);ne.useState("");const[w,E]=ne.useState(""),[I,T]=ne.useState(""),[R,D]=ne.useState("");ne.useState("Hr");const{mergedData:L,loading:M,error:H,handleDeleteLeaveStatus:V,handleUpdateLeaveStatus:P,fetchedTicketRequests:F,ticketMerged:A}=D8();ne.useEffect(()=>{const ee=localStorage.getItem("userID");D(ee)},[]);const{personalInfo:_}=GW(R);ne.useEffect(()=>{r(N())},[L]);const S=()=>{if(s===0||s===1||s===2)return L;if(s===3)return A},N=()=>{let ee=S();if(a!=="All"&&(ee=ee.filter(U=>U.status===a)),w){const U=new Date(w);ee=ee.filter(z=>{const Z=s===0?new Date(z.createdAt):new Date(z["start Date"]);return Z.getFullYear()===U.getFullYear()&&Z.getMonth()===U.getMonth()&&Z.getDate()===U.getDate()})}return f&&(ee=ee.filter(U=>U.empID.toLowerCase().includes(f.toLowerCase()))),ee};ne.useEffect(()=>{const ee=N(),U=(c-1)*l,z=ee.slice(U,U+l);r(z)},[c,a,w,l,f,s]);const C=ee=>{o(ee),u(1)},W=()=>{g(!p)},j=N(),B=Math.ceil(j.length/l),G=(ee,U)=>{e(U),U==="LM"?(m(ee),y(null)):U==="Tickets"&&(y(ee),m(null)),g(!0)},X=async(ee,U,z)=>{try{await P(ee,{status:U,remark:z}),m(null),g(!1)}catch(Z){console.error("Error updating leave status:",Z)}};ne.useEffect(()=>{const ee=localStorage.getItem("userType");T(ee)},[]);const J=async ee=>{try{const U=await ee;r(U)}catch(U){console.error("Error search data",U)}};ne.useEffect(()=>{const ee=localStorage.getItem("userType");T(ee)},[]);const O=ee=>{if(!ee||isNaN(new Date(ee).getTime()))return"";const U=new Date(ee),z=U.getDate().toString().padStart(2,"0"),Z=(U.getMonth()+1).toString().padStart(2,"0"),te=U.getFullYear();return`${z}/${Z}/${te}`};return b.jsxs("section",{className:"py-20 px-10",children:[b.jsxs("div",{className:"screen-size",children:[b.jsxs("section",{className:"flex justify-between items-center py-3",children:[b.jsxs("p",{className:"text_size_5",children:[b.jsx("span",{className:`relative after:absolute after:-bottom-2 after:left-0 after:w-full after:h-1 cursor-pointer ${s===0&&"after:bg-primary"}`,onClick:()=>{i(0),u(1)},children:"Request Leave"})," ","/"," ",b.jsx("span",{className:`relative after:absolute after:-bottom-2 after:left-0 after:w-full after:h-1 cursor-pointer ${s===1&&"after:bg-primary"}`,onClick:()=>{i(1),u(1)},children:"History of leave"})," ","/"," ",b.jsx("span",{className:`relative after:absolute after:-bottom-2 after:left-0 after:w-full after:h-1 cursor-pointer ${s===2&&"after:bg-primary"}`,onClick:()=>{i(2),u(1)},children:"Employee Leave Balance"})," ",(I==="HR"||I==="SuperAdmin")&&b.jsxs(b.Fragment,{children:["/"," ",b.jsx("span",{className:`relative after:absolute after:-bottom-2 after:left-0 after:w-full after:h-1 cursor-pointer ${s===3&&"after:bg-primary"}`,onClick:()=>{i(3),u(1)},children:"Request Tickets"})]})]}),b.jsxs("div",{className:`flex gap-5 w-[600px] ${s===2?"justify-end":""}`,children:[b.jsx($f,{allEmpDetails:L,searchIcon2:b.jsx(Ds,{}),placeholder:"Employee ID",searchUserList:J,border:"rounded-md"}),s!==2&&b.jsxs(b.Fragment,{children:[b.jsx(Zq,{onDateChange:(ee,U,z)=>{E(`${z}-${U}-${ee}`),u(1)}}),b.jsx(eH,{AfterFilter:C})]})]})]}),b.jsxs("section",{className:"center w-full",children:[s===0&&b.jsx(b.Fragment,{children:j.length>0?b.jsx(ZU,{handleClickForToggle:W,initialData:n,userType:I,onViewClick:ee=>G(ee,"LM"),handleDelete:V,personalInfo:_,formatDate:O}):b.jsx("p",{className:"mt-12 text-center text-gray-500",children:"No results found in the history of leave."})}),s===1&&b.jsx(b.Fragment,{children:j.length>0?b.jsx(QU,{initialData:n,userType:I,currentPage:c,rowsPerPage:l,formatDate:O,personalInfo:_}):b.jsx("p",{className:"mt-12 text-center text-gray-500",children:"No results found in the history of leave."})}),s===2&&b.jsx(b.Fragment,{children:j.length>0?b.jsx(zW,{initialData:n,currentPage:c,rowsPerPage:l,formatDate:O,userType:I}):b.jsx("p",{className:"mt-12 text-center text-gray-500",children:"No results found in employee leave balance."})}),s===3&&b.jsx(b.Fragment,{children:j.length>0?b.jsx(VW,{handleClickForToggle:W,initialData:A,userType:I,formatDate:O,personalInfo:_,onViewClick:ee=>G(ee,"Tickets")}):b.jsx("p",{className:"mt-12 text-center text-gray-500",children:"No results found in ticket request."})})]}),b.jsx("div",{className:"ml-20 flex justify-center",children:b.jsx("div",{className:"w-[60%] flex justify-start mt-4 px-10",children:(I==="SuperAdmin"||I!=="Supervisior"&&I!=="Manager"&&s!==3)&&j.length>0&&b.jsx(Zm,{currentPage:c,totalPages:B,onPageChange:ee=>{ee>=1&&ee<=B&&u(ee)}})})})]}),p&&(v||x)&&b.jsx(WW,{handleClickForToggle:W,leaveData:v,ticketData:x,source:t,formatDate:O,onUpdate:X,userType:I,ticketRequest:A,personalInfo:_})]})},XW="/assets/icon1-CfCPE9X-.svg",KW="data:image/svg+xml,%3csvg%20width='22'%20height='20'%20viewBox='0%200%2022%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.65318%208.48788C7.65318%209.2283%207.94683%209.90139%208.42683%2010.3949C7.55718%2010.7455%206.78071%2011.326%206.20189%2012.0665C5.84613%2012.5236%205.5666%2013.0312%205.3746%2013.5725C5.17695%2014.1362%205.07812%2014.7252%205.07812%2015.3253C5.07812%2015.4235%205.11765%2015.5104%205.18542%2015.5721C5.21365%2015.6029%205.25036%2015.6282%205.29271%2015.6478C7.00095%2016.4303%208.73742%2016.8257%2010.4485%2016.8257H10.4513C12.1624%2016.8257%2013.8932%2016.4275%2015.5958%2015.645C15.7511%2015.5749%2015.8273%2015.4038%2015.7849%2015.244C15.7765%2014.6691%2015.6777%2014.1053%2015.4885%2013.5668C15.2965%2013.0228%2015.0198%2012.5152%2014.6612%2012.0608C14.0824%2011.3204%2013.3059%2010.7399%2012.4362%2010.3893C12.9162%209.89296%2013.2099%209.21988%2013.2099%208.48228C13.2099%206.95941%2011.9647%205.72266%2010.4315%205.72266C8.89836%205.72266%207.65318%206.96783%207.65318%208.48788ZM15.0875%2015.1234C14.6386%2015.3197%2014.1868%2015.488%2013.7379%2015.6282L12.9388%2013.8164C12.8626%2013.6426%2012.6565%2013.5641%2012.4814%2013.6398C12.3064%2013.7155%2012.2273%2013.9203%2012.3035%2014.0941L13.0631%2015.8161C11.3153%2016.2452%209.55624%2016.2424%207.80565%2015.8105L8.56236%2014.0941C8.6386%2013.9203%208.55954%2013.7155%208.38448%2013.6398C8.20942%2013.5641%208.0033%2013.6426%207.92707%2013.8164L7.13083%2015.6198C6.67907%2015.4796%206.2273%2015.3113%205.77836%2015.1122C5.86871%2013.1602%207.19577%2011.4635%209.07907%2010.897C9.48001%2011.1213%209.94024%2011.2476%2010.4315%2011.2476C10.9228%2011.2476%2011.3831%2011.1213%2011.784%2010.897C13.6729%2011.4663%2015%2013.1686%2015.0875%2015.1234ZM12.5153%208.48788C12.5153%209.62934%2011.5807%2010.5576%2010.4315%2010.5576C9.28236%2010.5576%208.34777%209.62934%208.34777%208.48788C8.34777%207.34647%209.28236%206.41814%2010.4315%206.41814C11.5807%206.41814%2012.5153%207.34647%2012.5153%208.48788Z'%20fill='%2356E7B4'/%3e%3cpath%20d='M20.7049%205.83478L10.6108%200.0462745C10.5035%20-0.0154248%2010.3708%20-0.0154248%2010.2635%200.0462745L0.172235%205.83478C0.0649412%205.89652%200%206.00866%200%206.13209V7.67454C0%2010.782%200.827294%2013.8445%202.38871%2016.534C3.95294%2019.2235%206.20894%2021.4672%208.91953%2023.0209L10.2664%2023.7921C10.32%2023.823%2010.3793%2023.837%2010.4386%2023.837C10.4979%2023.837%2010.5572%2023.823%2010.6108%2023.7921L11.9576%2023.0209C14.6654%2021.4672%2016.9242%2019.2264%2018.4885%2016.534C20.0527%2013.8445%2020.8772%2010.7792%2020.8772%207.67454V6.13209C20.8772%206.01148%2020.8122%205.89652%2020.7049%205.83478ZM20.1826%207.67737C20.1826%2010.6614%2019.3892%2013.6061%2017.8842%2016.1919C16.3793%2018.7776%2014.2108%2020.9315%2011.6075%2022.4263L10.4386%2023.0966L9.26682%2022.4235C6.66353%2020.9315%204.49506%2018.7748%202.99012%2016.1891C1.48518%2013.6033%200.691765%2010.6585%200.691765%207.67454V6.3312L10.4386%200.744598L20.1826%206.33398V7.67737Z'%20fill='%2356E7B4'/%3e%3cpath%20d='M10.2674%201.24159L1.2152%206.43274C1.10791%206.49444%201.04297%206.60663%201.04297%206.73001V7.67797C1.04297%2010.603%201.82226%2013.4889%203.29332%2016.0214C4.76438%2018.5539%206.89332%2020.6657%209.44297%2022.1296L10.2674%2022.6036C10.3211%2022.6344%2010.3804%2022.6485%2010.4397%2022.6485C10.499%2022.6485%2010.5583%2022.6344%2010.6119%2022.6036L11.4364%2022.1296C13.986%2020.6685%2016.1121%2018.5539%2017.586%2016.0214C19.0571%2013.4889%2019.8364%2010.603%2019.8364%207.67797V6.73001C19.8364%206.60663%2019.7714%206.49444%2019.6641%206.43274L10.6119%201.24159C10.5046%201.17989%2010.3747%201.17989%2010.2674%201.24159ZM19.1446%206.92917V7.67797C19.1446%2013.3739%2016.0585%2018.6829%2011.0919%2021.5323L10.4397%2021.9053L9.78744%2021.5323C4.82085%2018.6829%201.73473%2013.3739%201.73473%207.67797V6.92917L10.4397%201.93711L19.1446%206.92917Z'%20fill='%2356E7B4'/%3e%3c/svg%3e",JW="/assets/icon3-D9h3GSOk.svg",ZW=()=>(ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),b.jsxs("section",{className:"screen-size p-10 flex gap-16",children:[b.jsx(fl,{img:XW,text1:"Leave Benefits",fontSize:"text_size_5 ",borderColor:"border-[#FBCBCB]",bgColor:"white"}),b.jsx(fl,{img:KW,text1:"Paternity Benefits",fontSize:"text_size_5 ",borderColor:"border-[#7DF2E7]",bgColor:"white"}),b.jsx(fl,{img:JW,text1:"Employee Benefits",fontSize:"text_size_5 ",borderColor:"border-[#C379FF]",bgColor:"white"})]})),QW=({toggleFunction:n,specificNotificationDetails:r})=>(console.log(r),b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 ",children:b.jsxs("section",{className:"bg-[#FBFBFB] p-5 gap-2 flex flex-col item-center rounded-lg shadow-md border border-[#EBEBEB] ",children:[b.jsx("div",{className:"flex justify-end",children:b.jsx(k8,{className:"text-2xl cursor-pointer",onClick:n})}),b.jsx("div",{className:"flex justify-center ",children:b.jsx("img",{className:"size-32 h-12 w-full",src:"/src/assets/logo/logo-with-name.svg",alt:"not found"})}),b.jsx("div",{className:"flex justify-center py-2 ",children:b.jsx("p",{className:"text-dark_grey text_size_3",children:"Passport Expiry"})}),b.jsxs("div",{className:"grid grid-cols-2  pl-5",children:[b.jsx("p",{className:"text-dark_grey text_size_6",children:"Employee ID"}),b.jsx("p",{className:"text-dark_grey text-[16px] pl-5",children:r.empID})]}),b.jsxs("div",{className:"grid grid-cols-2 pl-5",children:[b.jsx("p",{className:"text-dark_grey text_size_6",children:"Employee Badge number"}),b.jsx("p",{className:"text-dark_grey text-[16px] pl-5",children:r.empBatchNo})]}),b.jsxs("div",{className:"grid grid-cols-2 pl-5",children:[b.jsx("p",{className:"text-dark_grey text_size_6",children:"Employee Name"}),b.jsx("p",{className:"text-dark_grey text-[16px] pl-5",children:r.name})]}),b.jsxs("div",{className:"grid grid-cols-2 pl-5",children:[b.jsx("p",{className:"text-dark_grey text_size_6",children:"Department"}),b.jsx("p",{className:"text-dark_grey text-[16px] pl-5",children:r.department})]}),b.jsxs("div",{className:"grid grid-cols-2 pl-5",children:[b.jsx("p",{className:"text-dark_grey text_size_6",children:"Nationality"}),b.jsx("p",{className:"text-dark_grey text-[16px] pl-5",children:r.nationality})]}),b.jsxs("div",{className:"grid grid-cols-2 pl-5",children:[b.jsx("p",{className:"text-dark_grey text_size_6",children:"Position"}),b.jsx("p",{className:"text-dark_grey text-[16px] pl-5",children:r.possition})]}),b.jsxs("div",{className:"grid grid-cols-2 pl-5 pb-3",children:[b.jsx("p",{className:"text-dark_grey text_size_6",children:r.subject}),b.jsx("p",{className:"text-dark_grey text-[16px] pl-5",children:r.expiryDate})]})]})})),ez=()=>{ne.useState();const[n,r]=ne.useState([]),[t,e]=ne.useState(!1),[s,i]=ne.useState();Pr();const a=()=>{e(!t)},o=d=>{i(d)};ne.useEffect(()=>()=>{l()},[]);const c=(d,f)=>{const h=new Date(d);return h.setMonth(h.getMonth()-f),h},u=(d,f)=>{const h=new Date(d);return h.setFullYear(h.getFullYear()-f),h},l=()=>{const h=[{empID:"E001",name:"John Doe",ProbationaryEndDate:"2024-11-15",contractEndDate:"2024-12-15",employmentPassExpiry:"2024-11-17",passportExpiry:"2025-10-16",bruneiMedicalExpiry:"2025-01-15",employeeBadgeNumber:"BAT001",workPosition:"Admin",department:"web development",nationality:"Bruneian"},{empID:"E002",name:"Jane Smith",ProbationaryEndDate:"2024-11-16",contractEndDate:"2025-01-15",employmentPassExpiry:"2024-11-18",passportExpiry:"2025-10-08",bruneiMedicalExpiry:"2025-01-08",employeeBadgeNumber:"BAT002",workPosition:"HR",department:"Mobile App development",nationality:"Brunei PR"},{empID:"E003",name:"Alice Brown",ProbationaryEndDate:"2024-12-15",contractEndDate:"2024-12-16",employmentPassExpiry:"2024-11-14",passportExpiry:"2025-10-14",bruneiMedicalExpiry:"2025-01-17",employeeBadgeNumber:"BAT003",workPosition:"Time keeper",department:"web development",nationality:"Indian"}].map(p=>{const g=new Date,v=c(new Date(p.ProbationaryEndDate),1),m=c(new Date(p.contractEndDate),2),x=c(new Date(p.employmentPassExpiry),1),y=u(new Date(p.passportExpiry),1),w=c(new Date(p.bruneiMedicalExpiry),3),E=[];return g>=v&&g<=new Date(p.ProbationaryEndDate)&&E.push({empID:p.empID,empBatchNo:p.employeeBadgeNumber,name:p.name,possition:p.workPosition,department:p.department,type:"Probation",expiryDate:p.ProbationaryEndDate,date:g.toLocaleDateString(),subject:"Probation Expiry",title:"Monthly Probation Expiry",nationality:p.nationality}),g>=m&&g<=new Date(p.contractEndDate)&&E.push({empID:p.empID,empBatchNo:p.employeeBadgeNumber,name:p.name,possition:p.workPosition,department:p.department,type:"Contract",expiryDate:p.contractEndDate,date:g.toLocaleDateString(),subject:"Contract Expiry",title:"Monthly Contract Expiry",nationality:p.nationality}),g>=x&&g<=new Date(p.employmentPassExpiry)&&E.push({empID:p.empID,empBatchNo:p.employeeBadgeNumber,name:p.name,possition:p.workPosition,department:p.department,type:"Employment Pass",expiryDate:p.employmentPassExpiry,date:g.toLocaleDateString(),subject:"Employment Pass Expiry",title:"Monthly Employment Pass Expiry",nationality:p.nationality}),g>=y&&g<=new Date(p.passportExpiry)&&E.push({empID:p.empID,empBatchNo:p.employeeBadgeNumber,name:p.name,possition:p.workPosition,department:p.department,type:"Passport",expiryDate:p.passportExpiry,date:g.toLocaleDateString(),subject:"Passport Expiry",title:"Monthly Passport Expiry",nationality:p.nationality}),g>=w&&g<=new Date(p.bruneiMedicalExpiry)&&E.push({empID:p.empID,empBatchNo:p.employeeBadgeNumber,name:p.name,possition:p.workPosition,department:p.department,type:"Brunei Medical",expiryDate:p.bruneiMedicalExpiry,date:g.toLocaleDateString(),subject:"Employment Medical Expiry",title:"Monthly Employment Pass Expiry",nationality:p.nationality}),E}).flat();r(h),console.log(h)};return b.jsxs("section",{className:"p-10 bg-[#F7F8F4] shadow-md rounded-lg",children:[b.jsxs("div",{className:" bg-white rounded-2xl",children:[b.jsxs("div",{className:" mb-4",children:[b.jsx("h2",{className:"text-lg font-semibold  pt-5 pl-16 text-dark_grey",children:"Notification"}),b.jsx("p",{className:"border-b-2 border-[#959595] mt-4"})]}),b.jsxs("table",{className:"w-full text-sm",children:[b.jsx("thead",{className:"text-grey",children:b.jsxs("tr",{className:"uppercase bg-[#F1F1F1]",children:[b.jsx("th",{className:"p-7 text-left",children:"Date"}),b.jsx("th",{className:"p-7 text-left",children:"Subject"}),b.jsx("th",{className:"p-7  text-left"}),b.jsx("th",{className:"p-7  text-left"})]})}),b.jsx("tbody",{children:n&&n.map((d,f)=>b.jsxs("tr",{className:"border-b last:border-b-0 ",children:[b.jsx("td",{className:"p-7",children:d.date}),b.jsxs("td",{className:"p-7 text_size_6 text-dark_grey gap-5",children:[d.subject," ",b.jsx("br",{}),b.jsxs("span",{className:"text-sm text-dark_ash",children:["Please take immediate action to renew your"," ",d.subject,"..."]})]}),b.jsx("td",{className:"pr-14 ",children:b.jsx("span",{className:"border-b-2 py-1 cursor-pointer",onClick:()=>{a(),o(d)},children:"Read More"})}),b.jsx("td",{className:"px-4",children:b.jsx("div",{className:" mt-3.5 w-[60px] border label-new ",children:b.jsx("span",{className:"flex justify-center items-center",children:"New"})})})]},f))})]})]}),t&&b.jsx(QW,{toggleFunction:a,specificNotificationDetails:s})]})},tz=()=>b.jsx("div",{children:"Logout"}),Vh=64,rz=16,nz=[1732584193,4023233417,2562383102,271733878];class sz{constructor(){this.reset()}update(r){if(iz(r))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const t=az(r);let e=0,{byteLength:s}=t;for(this.bytesHashed+=s;s>0;)this.buffer.setUint8(this.bufferLength++,t[e++]),s--,this.bufferLength===Vh&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){const{buffer:t,bufferLength:e,bytesHashed:s}=this,i=s*8;if(t.setUint8(this.bufferLength++,128),e%Vh>=Vh-8){for(let a=this.bufferLength;a<Vh;a++)t.setUint8(a,0);this.hashBuffer(),this.bufferLength=0}for(let a=this.bufferLength;a<Vh-8;a++)t.setUint8(a,0);t.setUint32(Vh-8,i>>>0,!0),t.setUint32(Vh-4,Math.floor(i/4294967296),!0),this.hashBuffer(),this.finished=!0}const r=new DataView(new ArrayBuffer(rz));for(let t=0;t<4;t++)r.setUint32(t*4,this.state[t],!0);return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}hashBuffer(){const{buffer:r,state:t}=this;let e=t[0],s=t[1],i=t[2],a=t[3];e=Da(e,s,i,a,r.getUint32(0,!0),7,3614090360),a=Da(a,e,s,i,r.getUint32(4,!0),12,3905402710),i=Da(i,a,e,s,r.getUint32(8,!0),17,606105819),s=Da(s,i,a,e,r.getUint32(12,!0),22,3250441966),e=Da(e,s,i,a,r.getUint32(16,!0),7,4118548399),a=Da(a,e,s,i,r.getUint32(20,!0),12,1200080426),i=Da(i,a,e,s,r.getUint32(24,!0),17,2821735955),s=Da(s,i,a,e,r.getUint32(28,!0),22,4249261313),e=Da(e,s,i,a,r.getUint32(32,!0),7,1770035416),a=Da(a,e,s,i,r.getUint32(36,!0),12,2336552879),i=Da(i,a,e,s,r.getUint32(40,!0),17,4294925233),s=Da(s,i,a,e,r.getUint32(44,!0),22,2304563134),e=Da(e,s,i,a,r.getUint32(48,!0),7,1804603682),a=Da(a,e,s,i,r.getUint32(52,!0),12,4254626195),i=Da(i,a,e,s,r.getUint32(56,!0),17,2792965006),s=Da(s,i,a,e,r.getUint32(60,!0),22,1236535329),e=Ia(e,s,i,a,r.getUint32(4,!0),5,4129170786),a=Ia(a,e,s,i,r.getUint32(24,!0),9,3225465664),i=Ia(i,a,e,s,r.getUint32(44,!0),14,643717713),s=Ia(s,i,a,e,r.getUint32(0,!0),20,3921069994),e=Ia(e,s,i,a,r.getUint32(20,!0),5,3593408605),a=Ia(a,e,s,i,r.getUint32(40,!0),9,38016083),i=Ia(i,a,e,s,r.getUint32(60,!0),14,3634488961),s=Ia(s,i,a,e,r.getUint32(16,!0),20,3889429448),e=Ia(e,s,i,a,r.getUint32(36,!0),5,568446438),a=Ia(a,e,s,i,r.getUint32(56,!0),9,3275163606),i=Ia(i,a,e,s,r.getUint32(12,!0),14,4107603335),s=Ia(s,i,a,e,r.getUint32(32,!0),20,1163531501),e=Ia(e,s,i,a,r.getUint32(52,!0),5,2850285829),a=Ia(a,e,s,i,r.getUint32(8,!0),9,4243563512),i=Ia(i,a,e,s,r.getUint32(28,!0),14,1735328473),s=Ia(s,i,a,e,r.getUint32(48,!0),20,2368359562),e=Pa(e,s,i,a,r.getUint32(20,!0),4,4294588738),a=Pa(a,e,s,i,r.getUint32(32,!0),11,2272392833),i=Pa(i,a,e,s,r.getUint32(44,!0),16,1839030562),s=Pa(s,i,a,e,r.getUint32(56,!0),23,4259657740),e=Pa(e,s,i,a,r.getUint32(4,!0),4,2763975236),a=Pa(a,e,s,i,r.getUint32(16,!0),11,1272893353),i=Pa(i,a,e,s,r.getUint32(28,!0),16,4139469664),s=Pa(s,i,a,e,r.getUint32(40,!0),23,3200236656),e=Pa(e,s,i,a,r.getUint32(52,!0),4,681279174),a=Pa(a,e,s,i,r.getUint32(0,!0),11,3936430074),i=Pa(i,a,e,s,r.getUint32(12,!0),16,3572445317),s=Pa(s,i,a,e,r.getUint32(24,!0),23,76029189),e=Pa(e,s,i,a,r.getUint32(36,!0),4,3654602809),a=Pa(a,e,s,i,r.getUint32(48,!0),11,3873151461),i=Pa(i,a,e,s,r.getUint32(60,!0),16,530742520),s=Pa(s,i,a,e,r.getUint32(8,!0),23,3299628645),e=ja(e,s,i,a,r.getUint32(0,!0),6,4096336452),a=ja(a,e,s,i,r.getUint32(28,!0),10,1126891415),i=ja(i,a,e,s,r.getUint32(56,!0),15,2878612391),s=ja(s,i,a,e,r.getUint32(20,!0),21,4237533241),e=ja(e,s,i,a,r.getUint32(48,!0),6,1700485571),a=ja(a,e,s,i,r.getUint32(12,!0),10,2399980690),i=ja(i,a,e,s,r.getUint32(40,!0),15,4293915773),s=ja(s,i,a,e,r.getUint32(4,!0),21,2240044497),e=ja(e,s,i,a,r.getUint32(32,!0),6,1873313359),a=ja(a,e,s,i,r.getUint32(60,!0),10,4264355552),i=ja(i,a,e,s,r.getUint32(24,!0),15,2734768916),s=ja(s,i,a,e,r.getUint32(52,!0),21,1309151649),e=ja(e,s,i,a,r.getUint32(16,!0),6,4149444226),a=ja(a,e,s,i,r.getUint32(44,!0),10,3174756917),i=ja(i,a,e,s,r.getUint32(8,!0),15,718787259),s=ja(s,i,a,e,r.getUint32(36,!0),21,3951481745),t[0]=e+t[0]&4294967295,t[1]=s+t[1]&4294967295,t[2]=i+t[2]&4294967295,t[3]=a+t[3]&4294967295}reset(){this.state=Uint32Array.from(nz),this.buffer=new DataView(new ArrayBuffer(Vh)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function Zw(n,r,t,e,s,i){return r=(r+n&4294967295)+(e+i&4294967295)&4294967295,(r<<s|r>>>32-s)+t&4294967295}function Da(n,r,t,e,s,i,a){return Zw(r&t|~r&e,n,r,s,i,a)}function Ia(n,r,t,e,s,i,a){return Zw(r&e|t&~e,n,r,s,i,a)}function Pa(n,r,t,e,s,i,a){return Zw(r^t^e,n,r,s,i,a)}function ja(n,r,t,e,s,i,a){return Zw(t^(r|~e),n,r,s,i,a)}function iz(n){return typeof n=="string"?n.length===0:n.byteLength===0}function az(n){return typeof n=="string"?AM(n):ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(n)}const oz=({job:n,onCancel:r})=>{const t="IN_PROGRESS";let e;const s={cancel:a=>{const{state:o}=s;if(o==="CANCELED"||o==="ERROR"||o==="SUCCESS"){zc.debug(`This task cannot be canceled. State: ${o}`);return}s.state="CANCELED",e=a,r(e)},state:t},i=(async()=>{try{const a=await n();return s.state="SUCCESS",a}catch(a){throw qM(a)&&(s.state="CANCELED",a.message=e??a.message),s.state="ERROR",a}})();return Object.assign(s,{result:i})},q7=({job:n,onCancel:r,onResume:t,onPause:e,isMultipartUpload:s})=>{const i=oz({job:n,onCancel:r}),a=Object.assign(i,{pause:()=>{const{state:o}=a;if(!s||o!=="IN_PROGRESS"){zc.debug(`This task cannot be paused. State: ${o}`);return}a.state="PAUSED",e==null||e()},resume:()=>{const{state:o}=a;if(!s||o!=="PAUSED"){zc.debug(`This task cannot be resumed. State: ${o}`);return}a.state="IN_PROGRESS",t==null||t()}});return a},lz=n=>{if(n==null)return 0;if(typeof n=="string"){let r=n.length;for(let t=r-1;t>=0;t--){const e=n.charCodeAt(t);e>127&&e<=2047?r++:e>2047&&e<=65535&&(r+=2),e>=56320&&e<=57343&&t--}return r}else{if(typeof n.byteLength=="number")return n.byteLength;if(typeof n.size=="number")return n.size}};function W7(n){const r=Array.from(n,t=>String.fromCodePoint(t)).join("");return btoa(r)}function cz(n){return W7(typeof n=="string"?new TextEncoder().encode(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength))}const x9=async n=>{const r=new sz,t=n instanceof Blob?await uz(n):n;r.update(t);const e=await r.digest();return cz(e)},uz=n=>new Promise((r,t)=>{const e=new FileReader;e.onload=()=>{r(e.result)},e.onabort=()=>{t(new Error("Read aborted"))},e.onerror=()=>{t(e.error)},e.readAsArrayBuffer(n)}),dz=async(n,r)=>{const t={...await nA({...n,ContentType:n.ContentType??"application/octet-stream"}),...sA({"content-md5":n.ContentMD5})},e=new og(r.url.toString());return $l(!!n.Key,"Key"),e.pathname=ug(e,n.Key),{method:"PUT",headers:t,url:e,body:n.Body}},hz=async n=>{if(n.statusCode>=300){const r=await Ym(n);throw Xm(r,n.statusCode)}else return{...dg(n.headers,{ETag:"etag",VersionId:"x-amz-version-id"}),$metadata:lg(n)}},fz=zf(cg,dz,hz,{...Gm,responseType:"text"}),pz=async(n,r)=>{const t=await nA(n),e=new og(r.url.toString());return $l(!!n.Key,"Key"),e.pathname=ug(e,n.Key),e.search="uploads",{method:"POST",headers:t,url:e}},mz=async n=>{if(n.statusCode>=300){const r=await Ym(n);throw Xm(r,n.statusCode)}else{const r=await Bw(n),t=dg(r,{UploadId:"UploadId"});return{$metadata:lg(n),...t}}},gz=zf(cg,pz,mz,{...Gm,responseType:"text"}),bz=async(n,r)=>{const t={...sA({"content-md5":n.ContentMD5})};t["content-type"]="application/octet-stream";const e=new og(r.url.toString());return $l(!!n.Key,"Key"),e.pathname=ug(e,n.Key),$l(!!n.PartNumber,"PartNumber"),$l(!!n.UploadId,"UploadId"),e.search=new Fw({partNumber:n.PartNumber+"",uploadId:n.UploadId}).toString(),{method:"PUT",headers:t,url:e,body:n.Body}},vz=async n=>{if(n.statusCode>=300){const r=await Ym(n);throw Xm(r,n.statusCode)}else return{...dg(n.headers,{ETag:"etag"}),$metadata:lg(n)}},yz=zf(cg,bz,vz,{...Gm,responseType:"text"}),w9="Invalid parameter for ComplteMultipartUpload API",xz=async(n,r)=>{const t={"content-type":"application/xml"},e=new og(r.url.toString());return $l(!!n.Key,"Key"),e.pathname=ug(e,n.Key),$l(!!n.UploadId,"UploadId"),e.search=new Fw({uploadId:n.UploadId}).toString(),$l(!!n.MultipartUpload,"MultipartUpload"),{method:"POST",headers:t,url:e,body:'<?xml version="1.0" encoding="UTF-8"?>'+wz(n.MultipartUpload)}},wz=n=>{var r;if(!((r=n.Parts)!=null&&r.length))throw new Error(`${w9}: ${n}`);return`<CompleteMultipartUpload xmlns="http://s3.amazonaws.com/doc/2006-03-01/">${n.Parts.map(_z).join("")}</CompleteMultipartUpload>`},_z=n=>{if(!n.ETag||n.PartNumber==null)throw new Error(`${w9}: ${n}`);return`<Part><ETag>${n.ETag}</ETag><PartNumber>${n.PartNumber}</PartNumber></Part>`},Sz=async n=>{const r=await Bw(n);if(r.Code!==void 0&&r.Message!==void 0){const t=await Ym({...n,statusCode:500});throw Xm(t,n.statusCode)}return r},Ez=async n=>{if(n.statusCode>=300){const r=await Ym(n);throw Xm(r,n.statusCode)}else{const r=await Sz(n),t=dg(r,{ETag:"ETag",Key:"Key",Location:"Location"});return{$metadata:lg(n),...t}}},Nz=async(n,r)=>{if(!n)return!1;if(n.statusCode===200){if(!n.body)return!0;const e=await Bw(n);return e.Code!==void 0&&e.Message!==void 0}const t=Gm.retryDecider;return t(n,r)},Az=zf(cg,xz,Ez,{...Gm,responseType:"text",retryDecider:Nz}),kz=async(n,r)=>{const t={},e=new og(r.url.toString());return $l(!!n.Key,"Key"),e.pathname=ug(e,n.Key),$l(!!n.UploadId,"UploadId"),e.search=new Fw({uploadId:n.UploadId}).toString(),{method:"GET",headers:t,url:e}},Cz=async n=>{if(n.statusCode>=300){const r=await Ym(n);throw Xm(r,n.statusCode)}else{const r=await Bw(n),t=dg(r,{UploadId:"UploadId",Parts:["Part",e=>WM(e,Tz)]});return{$metadata:lg(n),...t}}},Tz=n=>n.map(r=>dg(r,{PartNumber:["PartNumber",RE],ETag:"ETag",Size:["Size",RE]})),Dz=zf(cg,kz,Cz,{...Gm,responseType:"text"}),Iz=(n,r)=>{const t=new og(r.url.toString());return $l(!!n.Key,"Key"),t.pathname=ug(t,n.Key),$l(!!n.UploadId,"UploadId"),t.search=new Fw({uploadId:n.UploadId}).toString(),{method:"DELETE",headers:{},url:t}},Pz=async n=>{if(n.statusCode>=300){const r=await Ym(n);throw Xm(r,n.statusCode)}else return{$metadata:lg(n)}},jz=zf(cg,Iz,Pz,{...Gm,responseType:"text"}),Rz=(n,r,t)=>async()=>{const{options:e,data:s}=n,{bucket:i,keyPrefix:a,s3Config:o,isObjectLockEnabled:c,identityId:u}=await iA(by,e),{inputType:l,objectKey:d}=aA(n,u),f=l===Mx?a+d:d,{contentDisposition:h,contentEncoding:p,contentType:g="application/octet-stream",metadata:v,onProgress:m}=e??{},{ETag:x,VersionId:y}=await fz({...o,abortSignal:r,onUploadProgress:m,userAgentValue:oA(JN.UploadData)},{Bucket:i,Key:f,Body:s,ContentType:g,ContentDisposition:lA(h),ContentEncoding:p,Metadata:v,ContentMD5:c?await x9(s):void 0}),w={eTag:x,versionId:y,contentType:g,metadata:v,size:t};return l===Mx?{key:d,...w}:{path:d,...w}},Mz=async({dataChunkerGenerator:n,completedPartNumberSet:r,s3Config:t,abortSignal:e,bucket:s,finalKey:i,uploadId:a,onPartUploadCompletion:o,onProgress:c,isObjectLockEnabled:u})=>{let l=0;for(const{data:d,partNumber:f,size:h}of n){if(e.aborted){zc.debug("upload executor aborted.");break}if(r.has(f))zc.debug(`part ${f} already uploaded.`),l+=h,c==null||c({transferredBytes:l});else{const{ETag:p}=await yz({...t,abortSignal:e,onUploadProgress:g=>{const{transferredBytes:v}=g;c==null||c({transferredBytes:l+v})}},{Bucket:s,Key:i,UploadId:a,Body:d,PartNumber:f,ContentMD5:u?await x9(d):void 0});l+=h,o(f,p)}}},Lz=1e3*60*60,Oz=async({cacheKey:n,s3Config:r,bucket:t,finalKey:e})=>{const s=await I8(J1);if(!s[n]||s[n].lastTouched<Date.now()-Lz)return null;const i=s[n];i.lastTouched=Date.now(),await J1.setItem(Uw,JSON.stringify(s));try{const{Parts:a=[]}=await Dz(r,{Bucket:t,Key:e,UploadId:i.uploadId});return{parts:a,uploadId:i.uploadId}}catch{return zc.debug("failed to list cached parts, removing cached upload."),await A_(n),null}},I8=async n=>{try{return JSON.parse(await n.getItem(Uw)??"{}")}catch{return zc.debug("failed to parse cached uploads record."),{}}},N_=({file:n,size:r,contentType:t,bucket:e,accessLevel:s,key:i})=>{let a;const o=t??(n==null?void 0:n.type)??"application/octet-stream";s===void 0?a="custom":a=s==="guest"?"public":s;const c=`${r}_${o}_${e}_${a}_${i}`;return n?`${n.name}_${n.lastModified}_${c}`:c},Fz=async(n,r)=>{const t=await I8(J1);t[n]={...r,lastTouched:Date.now()},await J1.setItem(Uw,JSON.stringify(t))},A_=async n=>{const r=await I8(J1);delete r[n],await J1.setItem(Uw,JSON.stringify(r))},Bz=({size:n,onProgress:r})=>{const t=[],e=()=>t.reduce((s,i)=>s+i,0);return{getOnProgressListener:()=>{t.push(0);const s=t.length-1;return i=>{const{transferredBytes:a}=i;t[s]=a,r==null||r({transferredBytes:e(),totalBytes:n})}}}},Uz=async({s3Config:n,data:r,size:t,contentType:e,bucket:s,accessLevel:i,keyPrefix:a,key:o,contentDisposition:c,contentEncoding:u,metadata:l,abortSignal:d})=>{const f=a!==void 0?a+o:o;let h;if(t===void 0)zc.debug("uploaded data size cannot be determined, skipping cache."),h=void 0;else{const p=N_({size:t,contentType:e,file:r instanceof File?r:void 0,bucket:s,accessLevel:i,key:o}),g=await Oz({s3Config:n,cacheKey:p,bucket:s,finalKey:f});h=g?{...g,uploadCacheKey:p}:void 0}if(h)return{uploadId:h.uploadId,cachedParts:h.parts};{const{UploadId:p}=await gz({...n,abortSignal:d},{Bucket:s,Key:f,ContentType:e,ContentDisposition:lA(c),ContentEncoding:u,Metadata:l});if(t===void 0)return zc.debug("uploaded data size cannot be determined, skipping cache."),{uploadId:p,cachedParts:[]};const g=N_({size:t,contentType:e,file:r instanceof File?r:void 0,bucket:s,accessLevel:i,key:o});return await Fz(g,{uploadId:p,bucket:s,key:o,fileName:r instanceof File?r.name:""}),{uploadId:p,cachedParts:[]}}},Hz=n=>{if(!n)return Q6;let r=Q6,t=Math.ceil(n/r);for(;t>zM;)r*=2,t=Math.ceil(n/r);return r},_9=(n,r)=>{const t=Hz(r);if(n instanceof Blob)return M6(n,0,n.size,t);if(ArrayBuffer.isView(n))return M6(n.buffer,n.byteOffset,n.byteLength,t);if(n instanceof ArrayBuffer)return M6(n,0,n.byteLength,t);if(typeof n=="string"){const e=new Blob([n]);return _9(e,e.size)}else throw new cA({name:e_.InvalidUploadSource,...VM[e_.InvalidUploadSource]})},M6=function*(n,r,t,e){let s=1,i=r,a=r+Math.min(e,t);for(;a<t+r;)yield{partNumber:s,data:n.slice(i,a),size:e},s+=1,i=a,a=i+e;yield{partNumber:s,data:n.slice(i,t+r),size:t+r-i}},qz=(n,r)=>{let t,e,s,i,a,o,c,u,l,d,f,h=!1;const p=async()=>{const{options:w,data:E}=n,I=await iA(by,w);a=new AbortController,h=!1,i=I.s3Config,c=I.bucket,l=I.identityId;const{inputType:T,objectKey:R}=aA(n,l),{contentDisposition:D,contentEncoding:L,contentType:M="application/octet-stream",metadata:H,onProgress:V}=w??{};if(f=R,T===Mx){const W=w==null?void 0:w.accessLevel;u=I.keyPrefix,f=u+R,o=Wz(W)}if(!s){const{uploadId:W,cachedParts:j}=await Uz({s3Config:i,accessLevel:o,bucket:c,keyPrefix:u,key:R,contentType:M,contentDisposition:D,contentEncoding:L,metadata:H,data:E,size:r,abortSignal:a.signal});s={uploadId:W,completedParts:j}}d=r?N_({file:E instanceof File?E:void 0,accessLevel:o,contentType:w==null?void 0:w.contentType,bucket:c,size:r,key:R}):void 0;const P=_9(E,r),F=new Set(s.completedParts.map(({PartNumber:W})=>W)),A=(W,j)=>{s==null||s.completedParts.push({PartNumber:W,ETag:j})},_=Bz({size:r,onProgress:V}),S=[];for(let W=0;W<GM;W++)S.push(Mz({dataChunkerGenerator:P,completedPartNumberSet:F,s3Config:i,abortSignal:a.signal,bucket:c,finalKey:f,uploadId:s.uploadId,onPartUploadCompletion:A,onProgress:_.getOnProgressListener(),isObjectLockEnabled:I.isObjectLockEnabled}));await Promise.all(S);const{ETag:N}=await Az({...i,abortSignal:a.signal,userAgentValue:oA(JN.UploadData)},{Bucket:c,Key:f,UploadId:s.uploadId,MultipartUpload:{Parts:s.completedParts.sort((W,j)=>W.PartNumber-j.PartNumber)}});if(r){const{ContentLength:W}=await YM(i,{Bucket:c,Key:f});if(W&&W!==r)throw new cA({name:"Error",message:`Upload failed. Expected object size ${r}, but got ${W}.`})}d&&await A_(d);const C={eTag:N,contentType:M,metadata:H};return T===Mx?{key:R,...C}:{path:R,...C}},g=()=>p().then(t).catch(w=>{const E=a==null?void 0:a.signal;E!=null&&E.aborted&&h?zc.debug("upload paused."):e(w)});return{multipartUploadJob:()=>new Promise((w,E)=>{t=w,e=E,g()}),onPause:()=>{h=!0,a==null||a.abort()},onResume:()=>{g()},onCancel:w=>{a==null||a.abort(w),(async()=>{d&&await A_(d),await jz(i,{Bucket:c,Key:f,UploadId:s==null?void 0:s.uploadId})})().catch(I=>{zc.debug("error when cancelling upload task.",I)}),e(new $M(w?{message:w}:void 0))}}},Wz=n=>{var r,t;return n??((t=(r=by.libraryOptions.Storage)==null?void 0:r.S3)==null?void 0:t.defaultAccessLevel)??XM};function S9(n){const{data:r}=n,t=lz(r);if(KM(t===void 0||t<=JM,e_.ObjectIsTooLarge),t&&t<=Q6){const e=new AbortController;return q7({isMultipartUpload:!1,job:Rz(n,e.signal,t),onCancel:s=>{e.abort(s)}})}else{const{multipartUploadJob:e,onPause:s,onResume:i,onCancel:a}=qz(n,t);return q7({isMultipartUpload:!0,job:e,onCancel:o=>{a(o)},onPause:s,onResume:i})}}const di=async(n,r,t,e,s)=>{try{const i=await rA();if(console.log(e),i){const o=(await S9({path:`public/${r}/${e}/${n.name}`,data:n}).result).path;console.log(o);const c=new Date().toISOString().split("T")[0];typeof s=="number"?t(u=>{const l={...u};return l[r]=l[r]||[],l[r][s]=l[r][s]||[],l[r][s].find(f=>f.upload===o)||l[r][s].push({upload:o,date:c}),l}):(console.log("not index"),t(u=>({...u,[r]:[...u[r]||[],{upload:o,date:c}]})))}}catch(i){console.log(`Error uploading ${r}:`,i)}};var Qx={exports:{}};Qx.exports;(function(n,r){var t={};(function(){var e,s="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",c="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",l=500,d="__lodash_placeholder__",f=1,h=2,p=4,g=1,v=2,m=1,x=2,y=4,w=8,E=16,I=32,T=64,R=128,D=256,L=512,M=30,H="...",V=800,P=16,F=1,A=2,_=3,S=1/0,N=9007199254740991,C=17976931348623157e292,W=NaN,j=4294967295,B=j-1,G=j>>>1,X=[["ary",R],["bind",m],["bindKey",x],["curry",w],["curryRight",E],["flip",L],["partial",I],["partialRight",T],["rearg",D]],J="[object Arguments]",O="[object Array]",ee="[object AsyncFunction]",U="[object Boolean]",z="[object Date]",Z="[object DOMException]",te="[object Error]",oe="[object Function]",ue="[object GeneratorFunction]",le="[object Map]",ce="[object Number]",_e="[object Null]",fe="[object Object]",ge="[object Promise]",xe="[object Proxy]",Le="[object RegExp]",Me="[object Set]",Oe="[object String]",ze="[object Symbol]",Ke="[object Undefined]",ot="[object WeakMap]",$e="[object WeakSet]",Ve="[object ArrayBuffer]",He="[object DataView]",rt="[object Float32Array]",Je="[object Float64Array]",wt="[object Int8Array]",yt="[object Int16Array]",kt="[object Int32Array]",mt="[object Uint8Array]",At="[object Uint8ClampedArray]",$t="[object Uint16Array]",Tt="[object Uint32Array]",Yt=/\b__p \+= '';/g,nr=/\b(__p \+=) '' \+/g,Xt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,fr=/&(?:amp|lt|gt|quot|#39);/g,rr=/[&<>"']/g,qt=RegExp(fr.source),cr=RegExp(rr.source),Tr=/<%-([\s\S]+?)%>/g,Qt=/<%([\s\S]+?)%>/g,xr=/<%=([\s\S]+?)%>/g,Rr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lt=/^\w*$/,Sr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Nr=/[\\^$.*+?()[\]{}|]/g,ur=RegExp(Nr.source),qe=/^\s+/,st=/\s/,he=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ee=/\{\n\/\* \[wrapped with (.+)\] \*/,Se=/,? & /,ye=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Pe=/[()=,{}\[\]\/\s]/,je=/\\(\\)?/g,Ge=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,lt=/\w*$/,Xe=/^[-+]0x[0-9a-f]+$/i,nt=/^0b[01]+$/i,ut=/^\[object .+?Constructor\]$/,Nt=/^0o[0-7]+$/i,Ft=/^(?:0|[1-9]\d*)$/,zt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Rt=/($^)/,Ae=/['\n\r\u2028\u2029\\]/g,Ye="\\ud800-\\udfff",gt="\\u0300-\\u036f",Et="\\ufe20-\\ufe2f",Kt="\\u20d0-\\u20ff",Ht=gt+Et+Kt,Vt="\\u2700-\\u27bf",Dr="a-z\\xdf-\\xf6\\xf8-\\xff",wr="\\xac\\xb1\\xd7\\xf7",Ar="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",lr="\\u2000-\\u206f",Er=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",nn="A-Z\\xc0-\\xd6\\xd8-\\xde",sn="\\ufe0e\\ufe0f",An=wr+Ar+lr+Er,Wn="[']",Is="["+Ye+"]",rs="["+An+"]",Zs="["+Ht+"]",$n="\\d+",ba="["+Vt+"]",va="["+Dr+"]",an="[^"+Ye+An+$n+Vt+Dr+nn+"]",zr="\\ud83c[\\udffb-\\udfff]",Qi="(?:"+Zs+"|"+zr+")",ea="[^"+Ye+"]",vo="(?:\\ud83c[\\udde6-\\uddff]){2}",Ss="[\\ud800-\\udbff][\\udc00-\\udfff]",Hs="["+nn+"]",ta="\\u200d",yo="(?:"+va+"|"+an+")",Ui="(?:"+Hs+"|"+an+")",Hi="(?:"+Wn+"(?:d|ll|m|re|s|t|ve))?",pi="(?:"+Wn+"(?:D|LL|M|RE|S|T|VE))?",xl=Qi+"?",hs="["+sn+"]?",Kl="(?:"+ta+"(?:"+[ea,vo,Ss].join("|")+")"+hs+xl+")*",Uo="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Cr="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Jl=hs+xl+Kl,wl="(?:"+[ba,vo,Ss].join("|")+")"+Jl,Ni="(?:"+[ea+Zs+"?",Zs,vo,Ss,Is].join("|")+")",kh=RegExp(Wn,"g"),Ch=RegExp(Zs,"g"),_l=RegExp(zr+"(?="+zr+")|"+Ni+Jl,"g"),ed=RegExp([Hs+"?"+va+"+"+Hi+"(?="+[rs,Hs,"$"].join("|")+")",Ui+"+"+pi+"(?="+[rs,Hs+yo,"$"].join("|")+")",Hs+"?"+yo+"+"+Hi,Hs+"+"+pi,Cr,Uo,$n,wl].join("|"),"g"),Xf=RegExp("["+ta+Ye+Ht+sn+"]"),Kf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Jf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],td=-1,bn={};bn[rt]=bn[Je]=bn[wt]=bn[yt]=bn[kt]=bn[mt]=bn[At]=bn[$t]=bn[Tt]=!0,bn[J]=bn[O]=bn[Ve]=bn[U]=bn[He]=bn[z]=bn[te]=bn[oe]=bn[le]=bn[ce]=bn[fe]=bn[Le]=bn[Me]=bn[Oe]=bn[ot]=!1;var dn={};dn[J]=dn[O]=dn[Ve]=dn[He]=dn[U]=dn[z]=dn[rt]=dn[Je]=dn[wt]=dn[yt]=dn[kt]=dn[le]=dn[ce]=dn[fe]=dn[Le]=dn[Me]=dn[Oe]=dn[ze]=dn[mt]=dn[At]=dn[$t]=dn[Tt]=!0,dn[te]=dn[oe]=dn[ot]=!1;var Zf={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Zl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},rd={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Kc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Th=parseFloat,Dh=parseInt,nd=typeof t=="object"&&t&&t.Object===Object&&t,Ih=typeof self=="object"&&self&&self.Object===Object&&self,zn=nd||Ih||Function("return this")(),Xa=r&&!r.nodeType&&r,Sl=Xa&&!0&&n&&!n.nodeType&&n,Ho=Sl&&Sl.exports===Xa,ra=Ho&&nd.process,mi=function(){try{var at=Sl&&Sl.require&&Sl.require("util").types;return at||ra&&ra.binding&&ra.binding("util")}catch{}}(),El=mi&&mi.isArrayBuffer,Ph=mi&&mi.isDate,Ql=mi&&mi.isMap,jh=mi&&mi.isRegExp,Jc=mi&&mi.isSet,Zc=mi&&mi.isTypedArray;function gi(at,vt,bt){switch(bt.length){case 0:return at.call(vt);case 1:return at.call(vt,bt[0]);case 2:return at.call(vt,bt[0],bt[1]);case 3:return at.call(vt,bt[0],bt[1],bt[2])}return at.apply(vt,bt)}function Qc(at,vt,bt,Jt){for(var _r=-1,ln=at==null?0:at.length;++_r<ln;){var As=at[_r];vt(Jt,As,bt(As),at)}return Jt}function bi(at,vt){for(var bt=-1,Jt=at==null?0:at.length;++bt<Jt&&vt(at[bt],bt,at)!==!1;);return at}function sd(at,vt){for(var bt=at==null?0:at.length;bt--&&vt(at[bt],bt,at)!==!1;);return at}function id(at,vt){for(var bt=-1,Jt=at==null?0:at.length;++bt<Jt;)if(!vt(at[bt],bt,at))return!1;return!0}function xo(at,vt){for(var bt=-1,Jt=at==null?0:at.length,_r=0,ln=[];++bt<Jt;){var As=at[bt];vt(As,bt,at)&&(ln[_r++]=As)}return ln}function qo(at,vt){var bt=at==null?0:at.length;return!!bt&&er(at,vt,0)>-1}function Wo(at,vt,bt){for(var Jt=-1,_r=at==null?0:at.length;++Jt<_r;)if(bt(vt,at[Jt]))return!0;return!1}function jn(at,vt){for(var bt=-1,Jt=at==null?0:at.length,_r=Array(Jt);++bt<Jt;)_r[bt]=vt(at[bt],bt,at);return _r}function Ai(at,vt){for(var bt=-1,Jt=vt.length,_r=at.length;++bt<Jt;)at[_r+bt]=vt[bt];return at}function ec(at,vt,bt,Jt){var _r=-1,ln=at==null?0:at.length;for(Jt&&ln&&(bt=at[++_r]);++_r<ln;)bt=vt(bt,at[_r],_r,at);return bt}function se(at,vt,bt,Jt){var _r=at==null?0:at.length;for(Jt&&_r&&(bt=at[--_r]);_r--;)bt=vt(bt,at[_r],_r,at);return bt}function pe(at,vt){for(var bt=-1,Jt=at==null?0:at.length;++bt<Jt;)if(vt(at[bt],bt,at))return!0;return!1}var Be=tn("length");function Ze(at){return at.split("")}function ht(at){return at.match(ye)||[]}function _t(at,vt,bt){var Jt;return bt(at,function(_r,ln,As){if(vt(_r,ln,As))return Jt=ln,!1}),Jt}function Ut(at,vt,bt,Jt){for(var _r=at.length,ln=bt+(Jt?1:-1);Jt?ln--:++ln<_r;)if(vt(at[ln],ln,at))return ln;return-1}function er(at,vt,bt){return vt===vt?Rh(at,vt,bt):Ut(at,Br,bt)}function vr(at,vt,bt,Jt){for(var _r=bt-1,ln=at.length;++_r<ln;)if(Jt(at[_r],vt))return _r;return-1}function Br(at){return at!==at}function Or(at,vt){var bt=at==null?0:at.length;return bt?Ps(at,vt)/bt:W}function tn(at){return function(vt){return vt==null?e:vt[at]}}function Gn(at){return function(vt){return at==null?e:at[vt]}}function as(at,vt,bt,Jt,_r){return _r(at,function(ln,As,kn){bt=Jt?(Jt=!1,ln):vt(bt,ln,As,kn)}),bt}function Es(at,vt){var bt=at.length;for(at.sort(vt);bt--;)at[bt]=at[bt].value;return at}function Ps(at,vt){for(var bt,Jt=-1,_r=at.length;++Jt<_r;){var ln=vt(at[Jt]);ln!==e&&(bt=bt===e?ln:bt+ln)}return bt}function Ns(at,vt){for(var bt=-1,Jt=Array(at);++bt<at;)Jt[bt]=vt(bt);return Jt}function Ka(at,vt){return jn(vt,function(bt){return[bt,at[bt]]})}function qi(at){return at&&at.slice(0,nu(at)+1).replace(qe,"")}function fs(at){return function(vt){return at(vt)}}function eu(at,vt){return jn(vt,function(bt){return at[bt]})}function zo(at,vt){return at.has(vt)}function tu(at,vt){for(var bt=-1,Jt=at.length;++bt<Jt&&er(vt,at[bt],0)>-1;);return bt}function tc(at,vt){for(var bt=at.length;bt--&&er(vt,at[bt],0)>-1;);return bt}function ad(at,vt){for(var bt=at.length,Jt=0;bt--;)at[bt]===vt&&++Jt;return Jt}var od=Gn(Zf),ru=Gn(Zl);function Rn(at){return"\\"+Kc[at]}function ki(at,vt){return at==null?e:at[vt]}function ya(at){return Xf.test(at)}function rc(at){return Kf.test(at)}function wo(at){for(var vt,bt=[];!(vt=at.next()).done;)bt.push(vt.value);return bt}function vi(at){var vt=-1,bt=Array(at.size);return at.forEach(function(Jt,_r){bt[++vt]=[_r,Jt]}),bt}function ld(at,vt){return function(bt){return at(vt(bt))}}function na(at,vt){for(var bt=-1,Jt=at.length,_r=0,ln=[];++bt<Jt;){var As=at[bt];(As===vt||As===d)&&(at[bt]=d,ln[_r++]=bt)}return ln}function nc(at){var vt=-1,bt=Array(at.size);return at.forEach(function(Jt){bt[++vt]=Jt}),bt}function _o(at){var vt=-1,bt=Array(at.size);return at.forEach(function(Jt){bt[++vt]=[Jt,Jt]}),bt}function Rh(at,vt,bt){for(var Jt=bt-1,_r=at.length;++Jt<_r;)if(at[Jt]===vt)return Jt;return-1}function l0(at,vt,bt){for(var Jt=bt+1;Jt--;)if(at[Jt]===vt)return Jt;return Jt}function sc(at){return ya(at)?sa(at):Be(at)}function yi(at){return ya(at)?su(at):Ze(at)}function nu(at){for(var vt=at.length;vt--&&st.test(at.charAt(vt)););return vt}var xa=Gn(rd);function sa(at){for(var vt=_l.lastIndex=0;_l.test(at);)++vt;return vt}function su(at){return at.match(_l)||[]}function ic(at){return at.match(ed)||[]}var ac=function at(vt){vt=vt==null?zn:Vo.defaults(zn.Object(),vt,Vo.pick(zn,Jf));var bt=vt.Array,Jt=vt.Date,_r=vt.Error,ln=vt.Function,As=vt.Math,kn=vt.Object,oc=vt.RegExp,cd=vt.String,Qs=vt.TypeError,Nl=bt.prototype,Mh=ln.prototype,So=kn.prototype,$o=vt["__core-js_shared__"],iu=Mh.toString,Kr=So.hasOwnProperty,Eo=0,Yn=function(){var k=/[^.]+$/.exec($o&&$o.keys&&$o.keys.IE_PROTO||"");return k?"Symbol(src)_1."+k:""}(),Bn=So.toString,js=iu.call(kn),ei=zn._,lc=oc("^"+iu.call(Kr).replace(Nr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),au=Ho?vt.Buffer:e,Ja=vt.Symbol,ud=vt.Uint8Array,c0=au?au.allocUnsafe:e,dd=ld(kn.getPrototypeOf,kn),wa=kn.create,Za=So.propertyIsEnumerable,hd=Nl.splice,Qf=Ja?Ja.isConcatSpreadable:e,Lh=Ja?Ja.iterator:e,Al=Ja?Ja.toStringTag:e,fd=function(){try{var k=hp(kn,"defineProperty");return k({},"",{}),k}catch{}}(),bg=vt.clearTimeout!==zn.clearTimeout&&vt.clearTimeout,Oy=Jt&&Jt.now!==zn.Date.now&&Jt.now,vg=vt.setTimeout!==zn.setTimeout&&vt.setTimeout,Oh=As.ceil,pd=As.floor,ep=kn.getOwnPropertySymbols,E5=au?au.isBuffer:e,Fy=vt.isFinite,By=Nl.join,N5=ld(kn.keys,kn),ti=As.max,Wi=As.min,A5=Jt.now,k5=vt.parseInt,u0=As.random,yg=Nl.reverse,md=hp(vt,"DataView"),tp=hp(vt,"Map"),xg=hp(vt,"Promise"),gd=hp(vt,"Set"),rp=hp(vt,"WeakMap"),np=hp(kn,"create"),d0=rp&&new rp,Fh={},ou=fp(md),Go=fp(tp),cc=fp(xg),C5=fp(gd),Uy=fp(rp),Yo=Ja?Ja.prototype:e,zi=Yo?Yo.valueOf:e,Hy=Yo?Yo.toString:e;function Te(k){if(Vs(k)&&!Xr(k)&&!(k instanceof on)){if(k instanceof Qa)return k;if(Kr.call(k,"__wrapped__"))return YS(k)}return new Qa(k)}var bd=function(){function k(){}return function(q){if(!Ls(q))return{};if(wa)return wa(q);k.prototype=q;var re=new k;return k.prototype=e,re}}();function sp(){}function Qa(k,q){this.__wrapped__=k,this.__actions__=[],this.__chain__=!!q,this.__index__=0,this.__values__=e}Te.templateSettings={escape:Tr,evaluate:Qt,interpolate:xr,variable:"",imports:{_:Te}},Te.prototype=sp.prototype,Te.prototype.constructor=Te,Qa.prototype=bd(sp.prototype),Qa.prototype.constructor=Qa;function on(k){this.__wrapped__=k,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=j,this.__views__=[]}function T5(){var k=new on(this.__wrapped__);return k.__actions__=ko(this.__actions__),k.__dir__=this.__dir__,k.__filtered__=this.__filtered__,k.__iteratees__=ko(this.__iteratees__),k.__takeCount__=this.__takeCount__,k.__views__=ko(this.__views__),k}function h0(){if(this.__filtered__){var k=new on(this);k.__dir__=-1,k.__filtered__=!0}else k=this.clone(),k.__dir__*=-1;return k}function f0(){var k=this.__wrapped__.value(),q=this.__dir__,re=Xr(k),ae=q<0,be=re?k.length:0,Re=WD(0,be,this.__views__),We=Re.start,et=Re.end,dt=et-We,jt=ae?et:We-1,Mt=this.__iteratees__,Wt=Mt.length,sr=0,gr=Wi(dt,this.__takeCount__);if(!re||!ae&&be==dt&&gr==dt)return Cl(k,this.__actions__);var Mr=[];e:for(;dt--&&sr<gr;){jt+=q;for(var rn=-1,Lr=k[jt];++rn<Wt;){var hn=Mt[rn],vn=hn.iteratee,Qo=hn.type,ro=vn(Lr);if(Qo==A)Lr=ro;else if(!ro){if(Qo==F)continue e;break e}}Mr[sr++]=Lr}return Mr}on.prototype=bd(sp.prototype),on.prototype.constructor=on;function Xo(k){var q=-1,re=k==null?0:k.length;for(this.clear();++q<re;){var ae=k[q];this.set(ae[0],ae[1])}}function wg(){this.__data__=np?np(null):{},this.size=0}function qy(k){var q=this.has(k)&&delete this.__data__[k];return this.size-=q?1:0,q}function D5(k){var q=this.__data__;if(np){var re=q[k];return re===u?e:re}return Kr.call(q,k)?q[k]:e}function Wy(k){var q=this.__data__;return np?q[k]!==e:Kr.call(q,k)}function I5(k,q){var re=this.__data__;return this.size+=this.has(k)?0:1,re[k]=np&&q===e?u:q,this}Xo.prototype.clear=wg,Xo.prototype.delete=qy,Xo.prototype.get=D5,Xo.prototype.has=Wy,Xo.prototype.set=I5;function uc(k){var q=-1,re=k==null?0:k.length;for(this.clear();++q<re;){var ae=k[q];this.set(ae[0],ae[1])}}function P5(){this.__data__=[],this.size=0}function j5(k){var q=this.__data__,re=it(q,k);if(re<0)return!1;var ae=q.length-1;return re==ae?q.pop():hd.call(q,re,1),--this.size,!0}function R5(k){var q=this.__data__,re=it(q,k);return re<0?e:q[re][1]}function M5(k){return it(this.__data__,k)>-1}function zy(k,q){var re=this.__data__,ae=it(re,k);return ae<0?(++this.size,re.push([k,q])):re[ae][1]=q,this}uc.prototype.clear=P5,uc.prototype.delete=j5,uc.prototype.get=R5,uc.prototype.has=M5,uc.prototype.set=zy;function No(k){var q=-1,re=k==null?0:k.length;for(this.clear();++q<re;){var ae=k[q];this.set(ae[0],ae[1])}}function L5(){this.size=0,this.__data__={hash:new Xo,map:new(tp||uc),string:new Xo}}function O5(k){var q=h2(this,k).delete(k);return this.size-=q?1:0,q}function Vy(k){return h2(this,k).get(k)}function Y(k){return h2(this,k).has(k)}function Q(k,q){var re=h2(this,k),ae=re.size;return re.set(k,q),this.size+=re.size==ae?0:1,this}No.prototype.clear=L5,No.prototype.delete=O5,No.prototype.get=Vy,No.prototype.has=Y,No.prototype.set=Q;function ie(k){var q=-1,re=k==null?0:k.length;for(this.__data__=new No;++q<re;)this.add(k[q])}function de(k){return this.__data__.set(k,u),this}function me(k){return this.__data__.has(k)}ie.prototype.add=ie.prototype.push=de,ie.prototype.has=me;function ve(k){var q=this.__data__=new uc(k);this.size=q.size}function we(){this.__data__=new uc,this.size=0}function ke(k){var q=this.__data__,re=q.delete(k);return this.size=q.size,re}function Ie(k){return this.__data__.get(k)}function Fe(k){return this.__data__.has(k)}function tt(k,q){var re=this.__data__;if(re instanceof uc){var ae=re.__data__;if(!tp||ae.length<i-1)return ae.push([k,q]),this.size=++re.size,this;re=this.__data__=new No(ae)}return re.set(k,q),this.size=re.size,this}ve.prototype.clear=we,ve.prototype.delete=ke,ve.prototype.get=Ie,ve.prototype.has=Fe,ve.prototype.set=tt;function ft(k,q){var re=Xr(k),ae=!re&&pp(k),be=!re&&!ae&&Hh(k),Re=!re&&!ae&&!be&&k0(k),We=re||ae||be||Re,et=We?Ns(k.length,cd):[],dt=et.length;for(var jt in k)(q||Kr.call(k,jt))&&!(We&&(jt=="length"||be&&(jt=="offset"||jt=="parent")||Re&&(jt=="buffer"||jt=="byteLength"||jt=="byteOffset")||kd(jt,dt)))&&et.push(jt);return et}function pt(k){var q=k.length;return q?k[cp(0,q-1)]:e}function ct(k,q){return f2(ko(k),mr(q,0,k.length))}function Pt(k){return f2(ko(k))}function xt(k,q,re){(re!==e&&!bc(k[q],re)||re===e&&!(q in k))&&tr(k,q,re)}function Qe(k,q,re){var ae=k[q];(!(Kr.call(k,q)&&bc(ae,re))||re===e&&!(q in k))&&tr(k,q,re)}function it(k,q){for(var re=k.length;re--;)if(bc(k[re][0],q))return re;return-1}function Dt(k,q,re,ae){return gn(k,function(be,Re,We){q(ae,be,re(be),We)}),ae}function Bt(k,q){return k&&uu(q,Vi(q),k)}function It(k,q){return k&&uu(q,To(q),k)}function tr(k,q,re){q=="__proto__"&&fd?fd(k,q,{configurable:!0,enumerable:!0,value:re,writable:!0}):k[q]=re}function Zt(k,q){for(var re=-1,ae=q.length,be=bt(ae),Re=k==null;++re<ae;)be[re]=Re?e:s6(k,q[re]);return be}function mr(k,q,re){return k===k&&(re!==e&&(k=k<=re?k:re),q!==e&&(k=k>=q?k:q)),k}function Gt(k,q,re,ae,be,Re){var We,et=q&f,dt=q&h,jt=q&p;if(re&&(We=be?re(k,ae,be,Re):re(k)),We!==e)return We;if(!Ls(k))return k;var Mt=Xr(k);if(Mt){if(We=VD(k),!et)return ko(k,We)}else{var Wt=Na(k),sr=Wt==oe||Wt==ue;if(Hh(k))return xS(k,et);if(Wt==fe||Wt==J||sr&&!be){if(We=dt||sr?{}:BS(k),!et)return dt?RD(k,It(We,k)):jD(k,Bt(We,k))}else{if(!dn[Wt])return be?k:{};We=$D(k,Wt,et)}}Re||(Re=new ve);var gr=Re.get(k);if(gr)return gr;Re.set(k,We),pE(k)?k.forEach(function(Lr){We.add(Gt(Lr,q,re,Lr,k,Re))}):hE(k)&&k.forEach(function(Lr,hn){We.set(hn,Gt(Lr,q,re,hn,k,Re))});var Mr=jt?dt?z5:W5:dt?To:Vi,rn=Mt?e:Mr(k);return bi(rn||k,function(Lr,hn){rn&&(hn=Lr,Lr=k[hn]),Qe(We,hn,Gt(Lr,q,re,hn,k,Re))}),We}function Cn(k){var q=Vi(k);return function(re){return Mn(re,k,q)}}function Mn(k,q,re){var ae=re.length;if(k==null)return!ae;for(k=kn(k);ae--;){var be=re[ae],Re=q[be],We=k[be];if(We===e&&!(be in k)||!Re(We))return!1}return!0}function mn(k,q,re){if(typeof k!="function")throw new Qs(o);return kg(function(){k.apply(e,re)},q)}function Jr(k,q,re,ae){var be=-1,Re=qo,We=!0,et=k.length,dt=[],jt=q.length;if(!et)return dt;re&&(q=jn(q,fs(re))),ae?(Re=Wo,We=!1):q.length>=i&&(Re=zo,We=!1,q=new ie(q));e:for(;++be<et;){var Mt=k[be],Wt=re==null?Mt:re(Mt);if(Mt=ae||Mt!==0?Mt:0,We&&Wt===Wt){for(var sr=jt;sr--;)if(q[sr]===Wt)continue e;dt.push(Mt)}else Re(q,Wt,ae)||dt.push(Mt)}return dt}var gn=NS(ks),Un=NS(qs,!0);function $r(k,q){var re=!0;return gn(k,function(ae,be,Re){return re=!!q(ae,be,Re),re}),re}function ys(k,q,re){for(var ae=-1,be=k.length;++ae<be;){var Re=k[ae],We=q(Re);if(We!=null&&(et===e?We===We&&!Zo(We):re(We,et)))var et=We,dt=Re}return dt}function _a(k,q,re,ae){var be=k.length;for(re=en(re),re<0&&(re=-re>be?0:be+re),ae=ae===e||ae>be?be:en(ae),ae<0&&(ae+=be),ae=re>ae?0:gE(ae);re<ae;)k[re++]=q;return k}function Rs(k,q){var re=[];return gn(k,function(ae,be,Re){q(ae,be,Re)&&re.push(ae)}),re}function Ln(k,q,re,ae,be){var Re=-1,We=k.length;for(re||(re=YD),be||(be=[]);++Re<We;){var et=k[Re];q>0&&re(et)?q>1?Ln(et,q-1,re,ae,be):Ai(be,et):ae||(be[be.length]=et)}return be}var Tn=AS(),Sa=AS(!0);function ks(k,q){return k&&Tn(k,q,Vi)}function qs(k,q){return k&&Sa(k,q,Vi)}function Ws(k,q){return xo(q,function(re){return Cd(k[re])})}function Ms(k,q){q=gc(q,k);for(var re=0,ae=q.length;k!=null&&re<ae;)k=k[du(q[re++])];return re&&re==ae?k:e}function eo(k,q,re){var ae=q(k);return Xr(k)?ae:Ai(ae,re(k))}function ps(k){return k==null?k===e?Ke:_e:Al&&Al in kn(k)?qD(k):tI(k)}function zs(k,q){return k>q}function dc(k,q){return k!=null&&Kr.call(k,q)}function vd(k,q){return k!=null&&q in kn(k)}function Bh(k,q,re){return k>=Wi(q,re)&&k<ti(q,re)}function kl(k,q,re){for(var ae=re?Wo:qo,be=k[0].length,Re=k.length,We=Re,et=bt(Re),dt=1/0,jt=[];We--;){var Mt=k[We];We&&q&&(Mt=jn(Mt,fs(q))),dt=Wi(Mt.length,dt),et[We]=!re&&(q||be>=120&&Mt.length>=120)?new ie(We&&Mt):e}Mt=k[0];var Wt=-1,sr=et[0];e:for(;++Wt<be&&jt.length<dt;){var gr=Mt[Wt],Mr=q?q(gr):gr;if(gr=re||gr!==0?gr:0,!(sr?zo(sr,Mr):ae(jt,Mr,re))){for(We=Re;--We;){var rn=et[We];if(!(rn?zo(rn,Mr):ae(k[We],Mr,re)))continue e}sr&&sr.push(Mr),jt.push(gr)}}return jt}function Cs(k,q,re,ae){return ks(k,function(be,Re,We){q(ae,re(be),Re,We)}),ae}function yd(k,q,re){q=gc(q,k),k=WS(k,q);var ae=k==null?k:k[du(Il(q))];return ae==null?e:gi(ae,k,re)}function _g(k){return Vs(k)&&ps(k)==J}function $y(k){return Vs(k)&&ps(k)==Ve}function p0(k){return Vs(k)&&ps(k)==z}function hc(k,q,re,ae,be){return k===q?!0:k==null||q==null||!Vs(k)&&!Vs(q)?k!==k&&q!==q:m0(k,q,re,ae,hc,be)}function m0(k,q,re,ae,be,Re){var We=Xr(k),et=Xr(q),dt=We?O:Na(k),jt=et?O:Na(q);dt=dt==J?fe:dt,jt=jt==J?fe:jt;var Mt=dt==fe,Wt=jt==fe,sr=dt==jt;if(sr&&Hh(k)){if(!Hh(q))return!1;We=!0,Mt=!1}if(sr&&!Mt)return Re||(Re=new ve),We||k0(k)?LS(k,q,re,ae,be,Re):UD(k,q,dt,re,ae,be,Re);if(!(re&g)){var gr=Mt&&Kr.call(k,"__wrapped__"),Mr=Wt&&Kr.call(q,"__wrapped__");if(gr||Mr){var rn=gr?k.value():k,Lr=Mr?q.value():q;return Re||(Re=new ve),be(rn,Lr,re,ae,Re)}}return sr?(Re||(Re=new ve),HD(k,q,re,ae,be,Re)):!1}function Ko(k){return Vs(k)&&Na(k)==le}function lu(k,q,re,ae){var be=re.length,Re=be,We=!ae;if(k==null)return!Re;for(k=kn(k);be--;){var et=re[be];if(We&&et[2]?et[1]!==k[et[0]]:!(et[0]in k))return!1}for(;++be<Re;){et=re[be];var dt=et[0],jt=k[dt],Mt=et[1];if(We&&et[2]){if(jt===e&&!(dt in k))return!1}else{var Wt=new ve;if(ae)var sr=ae(jt,Mt,dt,k,q,Wt);if(!(sr===e?hc(Mt,jt,g|v,ae,Wt):sr))return!1}}return!0}function xd(k){if(!Ls(k)||KD(k))return!1;var q=Cd(k)?lc:ut;return q.test(fp(k))}function Gy(k){return Vs(k)&&ps(k)==Le}function g0(k){return Vs(k)&&Na(k)==Me}function Yy(k){return Vs(k)&&y2(k.length)&&!!bn[ps(k)]}function ip(k){return typeof k=="function"?k:k==null?Do:typeof k=="object"?Xr(k)?v0(k[0],k[1]):Ky(k):kE(k)}function ap(k){if(!Ag(k))return N5(k);var q=[];for(var re in kn(k))Kr.call(k,re)&&re!="constructor"&&q.push(re);return q}function b0(k){if(!Ls(k))return eI(k);var q=Ag(k),re=[];for(var ae in k)ae=="constructor"&&(q||!Kr.call(k,ae))||re.push(ae);return re}function wd(k,q){return k<q}function Xy(k,q){var re=-1,ae=Co(k)?bt(k.length):[];return gn(k,function(be,Re,We){ae[++re]=q(be,Re,We)}),ae}function Ky(k){var q=$5(k);return q.length==1&&q[0][2]?HS(q[0][0],q[0][1]):function(re){return re===k||lu(re,k,q)}}function v0(k,q){return Y5(k)&&US(q)?HS(du(k),q):function(re){var ae=s6(re,k);return ae===e&&ae===q?i6(re,k):hc(q,ae,g|v)}}function Jo(k,q,re,ae,be){k!==q&&Tn(q,function(Re,We){if(be||(be=new ve),Ls(Re))F5(k,q,We,re,Jo,ae,be);else{var et=ae?ae(K5(k,We),Re,We+"",k,q,be):e;et===e&&(et=Re),xt(k,We,et)}},To)}function F5(k,q,re,ae,be,Re,We){var et=K5(k,re),dt=K5(q,re),jt=We.get(dt);if(jt){xt(k,re,jt);return}var Mt=Re?Re(et,dt,re+"",k,q,We):e,Wt=Mt===e;if(Wt){var sr=Xr(dt),gr=!sr&&Hh(dt),Mr=!sr&&!gr&&k0(dt);Mt=dt,sr||gr||Mr?Xr(et)?Mt=et:ri(et)?Mt=ko(et):gr?(Wt=!1,Mt=xS(dt,!0)):Mr?(Wt=!1,Mt=wS(dt,!0)):Mt=[]:Cg(dt)||pp(dt)?(Mt=et,pp(et)?Mt=bE(et):(!Ls(et)||Cd(et))&&(Mt=BS(dt))):Wt=!1}Wt&&(We.set(dt,Mt),be(Mt,dt,ae,Re,We),We.delete(dt)),xt(k,re,Mt)}function Jy(k,q){var re=k.length;if(re)return q+=q<0?re:0,kd(q,re)?k[q]:e}function Zy(k,q,re){q.length?q=jn(q,function(Re){return Xr(Re)?function(We){return Ms(We,Re.length===1?Re[0]:Re)}:Re}):q=[Do];var ae=-1;q=jn(q,fs(jr()));var be=Xy(k,function(Re,We,et){var dt=jn(q,function(jt){return jt(Re)});return{criteria:dt,index:++ae,value:Re}});return Es(be,function(Re,We){return PD(Re,We,re)})}function Qy(k,q){return op(k,q,function(re,ae){return i6(k,ae)})}function op(k,q,re){for(var ae=-1,be=q.length,Re={};++ae<be;){var We=q[ae],et=Ms(k,We);re(et,We)&&_d(Re,gc(We,k),et)}return Re}function e2(k){return function(q){return Ms(q,k)}}function y0(k,q,re,ae){var be=ae?vr:er,Re=-1,We=q.length,et=k;for(k===q&&(q=ko(q)),re&&(et=jn(k,fs(re)));++Re<We;)for(var dt=0,jt=q[Re],Mt=re?re(jt):jt;(dt=be(et,Mt,dt,ae))>-1;)et!==k&&hd.call(et,dt,1),hd.call(k,dt,1);return k}function lp(k,q){for(var re=k?q.length:0,ae=re-1;re--;){var be=q[re];if(re==ae||be!==Re){var Re=be;kd(be)?hd.call(k,be,1):Sd(k,be)}}return k}function cp(k,q){return k+pd(u0()*(q-k+1))}function up(k,q,re,ae){for(var be=-1,Re=ti(Oh((q-k)/(re||1)),0),We=bt(Re);Re--;)We[ae?Re:++be]=k,k+=re;return We}function x0(k,q){var re="";if(!k||q<1||q>N)return re;do q%2&&(re+=k),q=pd(q/2),q&&(k+=k);while(q);return re}function Qr(k,q){return J5(qS(k,q,Do),k+"")}function w0(k){return pt(C0(k))}function t2(k,q){var re=C0(k);return f2(re,mr(q,0,re.length))}function _d(k,q,re,ae){if(!Ls(k))return k;q=gc(q,k);for(var be=-1,Re=q.length,We=Re-1,et=k;et!=null&&++be<Re;){var dt=du(q[be]),jt=re;if(dt==="__proto__"||dt==="constructor"||dt==="prototype")return k;if(be!=We){var Mt=et[dt];jt=ae?ae(Mt,dt,et):e,jt===e&&(jt=Ls(Mt)?Mt:kd(q[be+1])?[]:{})}Qe(et,dt,jt),et=et[dt]}return k}var fc=d0?function(k,q){return d0.set(k,q),k}:Do,r2=fd?function(k,q){return fd(k,"toString",{configurable:!0,enumerable:!1,value:o6(q),writable:!0})}:Do;function n2(k){return f2(C0(k))}function Ao(k,q,re){var ae=-1,be=k.length;q<0&&(q=-q>be?0:be+q),re=re>be?be:re,re<0&&(re+=be),be=q>re?0:re-q>>>0,q>>>=0;for(var Re=bt(be);++ae<be;)Re[ae]=k[ae+q];return Re}function s2(k,q){var re;return gn(k,function(ae,be,Re){return re=q(ae,be,Re),!re}),!!re}function pc(k,q,re){var ae=0,be=k==null?ae:k.length;if(typeof q=="number"&&q===q&&be<=G){for(;ae<be;){var Re=ae+be>>>1,We=k[Re];We!==null&&!Zo(We)&&(re?We<=q:We<q)?ae=Re+1:be=Re}return be}return Sg(k,q,Do,re)}function Sg(k,q,re,ae){var be=0,Re=k==null?0:k.length;if(Re===0)return 0;q=re(q);for(var We=q!==q,et=q===null,dt=Zo(q),jt=q===e;be<Re;){var Mt=pd((be+Re)/2),Wt=re(k[Mt]),sr=Wt!==e,gr=Wt===null,Mr=Wt===Wt,rn=Zo(Wt);if(We)var Lr=ae||Mr;else jt?Lr=Mr&&(ae||sr):et?Lr=Mr&&sr&&(ae||!gr):dt?Lr=Mr&&sr&&!gr&&(ae||!rn):gr||rn?Lr=!1:Lr=ae?Wt<=q:Wt<q;Lr?be=Mt+1:Re=Mt}return Wi(Re,B)}function Eg(k,q){for(var re=-1,ae=k.length,be=0,Re=[];++re<ae;){var We=k[re],et=q?q(We):We;if(!re||!bc(et,dt)){var dt=et;Re[be++]=We===0?0:We}}return Re}function i2(k){return typeof k=="number"?k:Zo(k)?W:+k}function Ea(k){if(typeof k=="string")return k;if(Xr(k))return jn(k,Ea)+"";if(Zo(k))return Hy?Hy.call(k):"";var q=k+"";return q=="0"&&1/k==-S?"-0":q}function cu(k,q,re){var ae=-1,be=qo,Re=k.length,We=!0,et=[],dt=et;if(re)We=!1,be=Wo;else if(Re>=i){var jt=q?null:FD(k);if(jt)return nc(jt);We=!1,be=zo,dt=new ie}else dt=q?[]:et;e:for(;++ae<Re;){var Mt=k[ae],Wt=q?q(Mt):Mt;if(Mt=re||Mt!==0?Mt:0,We&&Wt===Wt){for(var sr=dt.length;sr--;)if(dt[sr]===Wt)continue e;q&&dt.push(Wt),et.push(Mt)}else be(dt,Wt,re)||(dt!==et&&dt.push(Wt),et.push(Mt))}return et}function Sd(k,q){return q=gc(q,k),k=WS(k,q),k==null||delete k[du(Il(q))]}function _0(k,q,re,ae){return _d(k,q,re(Ms(k,q)),ae)}function Ed(k,q,re,ae){for(var be=k.length,Re=ae?be:-1;(ae?Re--:++Re<be)&&q(k[Re],Re,k););return re?Ao(k,ae?0:Re,ae?Re+1:be):Ao(k,ae?Re+1:0,ae?be:Re)}function Cl(k,q){var re=k;return re instanceof on&&(re=re.value()),ec(q,function(ae,be){return be.func.apply(be.thisArg,Ai([ae],be.args))},re)}function Tl(k,q,re){var ae=k.length;if(ae<2)return ae?cu(k[0]):[];for(var be=-1,Re=bt(ae);++be<ae;)for(var We=k[be],et=-1;++et<ae;)et!=be&&(Re[be]=Jr(Re[be]||We,k[et],q,re));return cu(Ln(Re,1),q,re)}function mc(k,q,re){for(var ae=-1,be=k.length,Re=q.length,We={};++ae<be;){var et=ae<Re?q[ae]:e;re(We,k[ae],et)}return We}function Uh(k){return ri(k)?k:[]}function dp(k){return typeof k=="function"?k:Do}function gc(k,q){return Xr(k)?k:Y5(k,q)?[k]:GS(Vn(k))}var B5=Qr;function Dl(k,q,re){var ae=k.length;return re=re===e?ae:re,!q&&re>=ae?k:Ao(k,q,re)}var S0=bg||function(k){return zn.clearTimeout(k)};function xS(k,q){if(q)return k.slice();var re=k.length,ae=c0?c0(re):new k.constructor(re);return k.copy(ae),ae}function U5(k){var q=new k.constructor(k.byteLength);return new ud(q).set(new ud(k)),q}function TD(k,q){var re=q?U5(k.buffer):k.buffer;return new k.constructor(re,k.byteOffset,k.byteLength)}function DD(k){var q=new k.constructor(k.source,lt.exec(k));return q.lastIndex=k.lastIndex,q}function ID(k){return zi?kn(zi.call(k)):{}}function wS(k,q){var re=q?U5(k.buffer):k.buffer;return new k.constructor(re,k.byteOffset,k.length)}function _S(k,q){if(k!==q){var re=k!==e,ae=k===null,be=k===k,Re=Zo(k),We=q!==e,et=q===null,dt=q===q,jt=Zo(q);if(!et&&!jt&&!Re&&k>q||Re&&We&&dt&&!et&&!jt||ae&&We&&dt||!re&&dt||!be)return 1;if(!ae&&!Re&&!jt&&k<q||jt&&re&&be&&!ae&&!Re||et&&re&&be||!We&&be||!dt)return-1}return 0}function PD(k,q,re){for(var ae=-1,be=k.criteria,Re=q.criteria,We=be.length,et=re.length;++ae<We;){var dt=_S(be[ae],Re[ae]);if(dt){if(ae>=et)return dt;var jt=re[ae];return dt*(jt=="desc"?-1:1)}}return k.index-q.index}function SS(k,q,re,ae){for(var be=-1,Re=k.length,We=re.length,et=-1,dt=q.length,jt=ti(Re-We,0),Mt=bt(dt+jt),Wt=!ae;++et<dt;)Mt[et]=q[et];for(;++be<We;)(Wt||be<Re)&&(Mt[re[be]]=k[be]);for(;jt--;)Mt[et++]=k[be++];return Mt}function ES(k,q,re,ae){for(var be=-1,Re=k.length,We=-1,et=re.length,dt=-1,jt=q.length,Mt=ti(Re-et,0),Wt=bt(Mt+jt),sr=!ae;++be<Mt;)Wt[be]=k[be];for(var gr=be;++dt<jt;)Wt[gr+dt]=q[dt];for(;++We<et;)(sr||be<Re)&&(Wt[gr+re[We]]=k[be++]);return Wt}function ko(k,q){var re=-1,ae=k.length;for(q||(q=bt(ae));++re<ae;)q[re]=k[re];return q}function uu(k,q,re,ae){var be=!re;re||(re={});for(var Re=-1,We=q.length;++Re<We;){var et=q[Re],dt=ae?ae(re[et],k[et],et,re,k):e;dt===e&&(dt=k[et]),be?tr(re,et,dt):Qe(re,et,dt)}return re}function jD(k,q){return uu(k,G5(k),q)}function RD(k,q){return uu(k,OS(k),q)}function a2(k,q){return function(re,ae){var be=Xr(re)?Qc:Dt,Re=q?q():{};return be(re,k,jr(ae,2),Re)}}function E0(k){return Qr(function(q,re){var ae=-1,be=re.length,Re=be>1?re[be-1]:e,We=be>2?re[2]:e;for(Re=k.length>3&&typeof Re=="function"?(be--,Re):e,We&&to(re[0],re[1],We)&&(Re=be<3?e:Re,be=1),q=kn(q);++ae<be;){var et=re[ae];et&&k(q,et,ae,Re)}return q})}function NS(k,q){return function(re,ae){if(re==null)return re;if(!Co(re))return k(re,ae);for(var be=re.length,Re=q?be:-1,We=kn(re);(q?Re--:++Re<be)&&ae(We[Re],Re,We)!==!1;);return re}}function AS(k){return function(q,re,ae){for(var be=-1,Re=kn(q),We=ae(q),et=We.length;et--;){var dt=We[k?et:++be];if(re(Re[dt],dt,Re)===!1)break}return q}}function MD(k,q,re){var ae=q&m,be=Ng(k);function Re(){var We=this&&this!==zn&&this instanceof Re?be:k;return We.apply(ae?re:this,arguments)}return Re}function kS(k){return function(q){q=Vn(q);var re=ya(q)?yi(q):e,ae=re?re[0]:q.charAt(0),be=re?Dl(re,1).join(""):q.slice(1);return ae[k]()+be}}function N0(k){return function(q){return ec(NE(EE(q).replace(kh,"")),k,"")}}function Ng(k){return function(){var q=arguments;switch(q.length){case 0:return new k;case 1:return new k(q[0]);case 2:return new k(q[0],q[1]);case 3:return new k(q[0],q[1],q[2]);case 4:return new k(q[0],q[1],q[2],q[3]);case 5:return new k(q[0],q[1],q[2],q[3],q[4]);case 6:return new k(q[0],q[1],q[2],q[3],q[4],q[5]);case 7:return new k(q[0],q[1],q[2],q[3],q[4],q[5],q[6])}var re=bd(k.prototype),ae=k.apply(re,q);return Ls(ae)?ae:re}}function LD(k,q,re){var ae=Ng(k);function be(){for(var Re=arguments.length,We=bt(Re),et=Re,dt=A0(be);et--;)We[et]=arguments[et];var jt=Re<3&&We[0]!==dt&&We[Re-1]!==dt?[]:na(We,dt);if(Re-=jt.length,Re<re)return PS(k,q,o2,be.placeholder,e,We,jt,e,e,re-Re);var Mt=this&&this!==zn&&this instanceof be?ae:k;return gi(Mt,this,We)}return be}function CS(k){return function(q,re,ae){var be=kn(q);if(!Co(q)){var Re=jr(re,3);q=Vi(q),re=function(et){return Re(be[et],et,be)}}var We=k(q,re,ae);return We>-1?be[Re?q[We]:We]:e}}function TS(k){return Ad(function(q){var re=q.length,ae=re,be=Qa.prototype.thru;for(k&&q.reverse();ae--;){var Re=q[ae];if(typeof Re!="function")throw new Qs(o);if(be&&!We&&d2(Re)=="wrapper")var We=new Qa([],!0)}for(ae=We?ae:re;++ae<re;){Re=q[ae];var et=d2(Re),dt=et=="wrapper"?V5(Re):e;dt&&X5(dt[0])&&dt[1]==(R|w|I|D)&&!dt[4].length&&dt[9]==1?We=We[d2(dt[0])].apply(We,dt[3]):We=Re.length==1&&X5(Re)?We[et]():We.thru(Re)}return function(){var jt=arguments,Mt=jt[0];if(We&&jt.length==1&&Xr(Mt))return We.plant(Mt).value();for(var Wt=0,sr=re?q[Wt].apply(this,jt):Mt;++Wt<re;)sr=q[Wt].call(this,sr);return sr}})}function o2(k,q,re,ae,be,Re,We,et,dt,jt){var Mt=q&R,Wt=q&m,sr=q&x,gr=q&(w|E),Mr=q&L,rn=sr?e:Ng(k);function Lr(){for(var hn=arguments.length,vn=bt(hn),Qo=hn;Qo--;)vn[Qo]=arguments[Qo];if(gr)var ro=A0(Lr),el=ad(vn,ro);if(ae&&(vn=SS(vn,ae,be,gr)),Re&&(vn=ES(vn,Re,We,gr)),hn-=el,gr&&hn<jt){var ni=na(vn,ro);return PS(k,q,o2,Lr.placeholder,re,vn,ni,et,dt,jt-hn)}var vc=Wt?re:this,Dd=sr?vc[k]:k;return hn=vn.length,et?vn=rI(vn,et):Mr&&hn>1&&vn.reverse(),Mt&&dt<hn&&(vn.length=dt),this&&this!==zn&&this instanceof Lr&&(Dd=rn||Ng(Dd)),Dd.apply(vc,vn)}return Lr}function DS(k,q){return function(re,ae){return Cs(re,k,q(ae),{})}}function l2(k,q){return function(re,ae){var be;if(re===e&&ae===e)return q;if(re!==e&&(be=re),ae!==e){if(be===e)return ae;typeof re=="string"||typeof ae=="string"?(re=Ea(re),ae=Ea(ae)):(re=i2(re),ae=i2(ae)),be=k(re,ae)}return be}}function H5(k){return Ad(function(q){return q=jn(q,fs(jr())),Qr(function(re){var ae=this;return k(q,function(be){return gi(be,ae,re)})})})}function c2(k,q){q=q===e?" ":Ea(q);var re=q.length;if(re<2)return re?x0(q,k):q;var ae=x0(q,Oh(k/sc(q)));return ya(q)?Dl(yi(ae),0,k).join(""):ae.slice(0,k)}function OD(k,q,re,ae){var be=q&m,Re=Ng(k);function We(){for(var et=-1,dt=arguments.length,jt=-1,Mt=ae.length,Wt=bt(Mt+dt),sr=this&&this!==zn&&this instanceof We?Re:k;++jt<Mt;)Wt[jt]=ae[jt];for(;dt--;)Wt[jt++]=arguments[++et];return gi(sr,be?re:this,Wt)}return We}function IS(k){return function(q,re,ae){return ae&&typeof ae!="number"&&to(q,re,ae)&&(re=ae=e),q=Td(q),re===e?(re=q,q=0):re=Td(re),ae=ae===e?q<re?1:-1:Td(ae),up(q,re,ae,k)}}function u2(k){return function(q,re){return typeof q=="string"&&typeof re=="string"||(q=Pl(q),re=Pl(re)),k(q,re)}}function PS(k,q,re,ae,be,Re,We,et,dt,jt){var Mt=q&w,Wt=Mt?We:e,sr=Mt?e:We,gr=Mt?Re:e,Mr=Mt?e:Re;q|=Mt?I:T,q&=~(Mt?T:I),q&y||(q&=~(m|x));var rn=[k,q,be,gr,Wt,Mr,sr,et,dt,jt],Lr=re.apply(e,rn);return X5(k)&&zS(Lr,rn),Lr.placeholder=ae,VS(Lr,k,q)}function q5(k){var q=As[k];return function(re,ae){if(re=Pl(re),ae=ae==null?0:Wi(en(ae),292),ae&&Fy(re)){var be=(Vn(re)+"e").split("e"),Re=q(be[0]+"e"+(+be[1]+ae));return be=(Vn(Re)+"e").split("e"),+(be[0]+"e"+(+be[1]-ae))}return q(re)}}var FD=gd&&1/nc(new gd([,-0]))[1]==S?function(k){return new gd(k)}:u6;function jS(k){return function(q){var re=Na(q);return re==le?vi(q):re==Me?_o(q):Ka(q,k(q))}}function Nd(k,q,re,ae,be,Re,We,et){var dt=q&x;if(!dt&&typeof k!="function")throw new Qs(o);var jt=ae?ae.length:0;if(jt||(q&=~(I|T),ae=be=e),We=We===e?We:ti(en(We),0),et=et===e?et:en(et),jt-=be?be.length:0,q&T){var Mt=ae,Wt=be;ae=be=e}var sr=dt?e:V5(k),gr=[k,q,re,ae,be,Mt,Wt,Re,We,et];if(sr&&QD(gr,sr),k=gr[0],q=gr[1],re=gr[2],ae=gr[3],be=gr[4],et=gr[9]=gr[9]===e?dt?0:k.length:ti(gr[9]-jt,0),!et&&q&(w|E)&&(q&=~(w|E)),!q||q==m)var Mr=MD(k,q,re);else q==w||q==E?Mr=LD(k,q,et):(q==I||q==(m|I))&&!be.length?Mr=OD(k,q,re,ae):Mr=o2.apply(e,gr);var rn=sr?fc:zS;return VS(rn(Mr,gr),k,q)}function RS(k,q,re,ae){return k===e||bc(k,So[re])&&!Kr.call(ae,re)?q:k}function MS(k,q,re,ae,be,Re){return Ls(k)&&Ls(q)&&(Re.set(q,k),Jo(k,q,e,MS,Re),Re.delete(q)),k}function BD(k){return Cg(k)?e:k}function LS(k,q,re,ae,be,Re){var We=re&g,et=k.length,dt=q.length;if(et!=dt&&!(We&&dt>et))return!1;var jt=Re.get(k),Mt=Re.get(q);if(jt&&Mt)return jt==q&&Mt==k;var Wt=-1,sr=!0,gr=re&v?new ie:e;for(Re.set(k,q),Re.set(q,k);++Wt<et;){var Mr=k[Wt],rn=q[Wt];if(ae)var Lr=We?ae(rn,Mr,Wt,q,k,Re):ae(Mr,rn,Wt,k,q,Re);if(Lr!==e){if(Lr)continue;sr=!1;break}if(gr){if(!pe(q,function(hn,vn){if(!zo(gr,vn)&&(Mr===hn||be(Mr,hn,re,ae,Re)))return gr.push(vn)})){sr=!1;break}}else if(!(Mr===rn||be(Mr,rn,re,ae,Re))){sr=!1;break}}return Re.delete(k),Re.delete(q),sr}function UD(k,q,re,ae,be,Re,We){switch(re){case He:if(k.byteLength!=q.byteLength||k.byteOffset!=q.byteOffset)return!1;k=k.buffer,q=q.buffer;case Ve:return!(k.byteLength!=q.byteLength||!Re(new ud(k),new ud(q)));case U:case z:case ce:return bc(+k,+q);case te:return k.name==q.name&&k.message==q.message;case Le:case Oe:return k==q+"";case le:var et=vi;case Me:var dt=ae&g;if(et||(et=nc),k.size!=q.size&&!dt)return!1;var jt=We.get(k);if(jt)return jt==q;ae|=v,We.set(k,q);var Mt=LS(et(k),et(q),ae,be,Re,We);return We.delete(k),Mt;case ze:if(zi)return zi.call(k)==zi.call(q)}return!1}function HD(k,q,re,ae,be,Re){var We=re&g,et=W5(k),dt=et.length,jt=W5(q),Mt=jt.length;if(dt!=Mt&&!We)return!1;for(var Wt=dt;Wt--;){var sr=et[Wt];if(!(We?sr in q:Kr.call(q,sr)))return!1}var gr=Re.get(k),Mr=Re.get(q);if(gr&&Mr)return gr==q&&Mr==k;var rn=!0;Re.set(k,q),Re.set(q,k);for(var Lr=We;++Wt<dt;){sr=et[Wt];var hn=k[sr],vn=q[sr];if(ae)var Qo=We?ae(vn,hn,sr,q,k,Re):ae(hn,vn,sr,k,q,Re);if(!(Qo===e?hn===vn||be(hn,vn,re,ae,Re):Qo)){rn=!1;break}Lr||(Lr=sr=="constructor")}if(rn&&!Lr){var ro=k.constructor,el=q.constructor;ro!=el&&"constructor"in k&&"constructor"in q&&!(typeof ro=="function"&&ro instanceof ro&&typeof el=="function"&&el instanceof el)&&(rn=!1)}return Re.delete(k),Re.delete(q),rn}function Ad(k){return J5(qS(k,e,JS),k+"")}function W5(k){return eo(k,Vi,G5)}function z5(k){return eo(k,To,OS)}var V5=d0?function(k){return d0.get(k)}:u6;function d2(k){for(var q=k.name+"",re=Fh[q],ae=Kr.call(Fh,q)?re.length:0;ae--;){var be=re[ae],Re=be.func;if(Re==null||Re==k)return be.name}return q}function A0(k){var q=Kr.call(Te,"placeholder")?Te:k;return q.placeholder}function jr(){var k=Te.iteratee||l6;return k=k===l6?ip:k,arguments.length?k(arguments[0],arguments[1]):k}function h2(k,q){var re=k.__data__;return XD(q)?re[typeof q=="string"?"string":"hash"]:re.map}function $5(k){for(var q=Vi(k),re=q.length;re--;){var ae=q[re],be=k[ae];q[re]=[ae,be,US(be)]}return q}function hp(k,q){var re=ki(k,q);return xd(re)?re:e}function qD(k){var q=Kr.call(k,Al),re=k[Al];try{k[Al]=e;var ae=!0}catch{}var be=Bn.call(k);return ae&&(q?k[Al]=re:delete k[Al]),be}var G5=ep?function(k){return k==null?[]:(k=kn(k),xo(ep(k),function(q){return Za.call(k,q)}))}:d6,OS=ep?function(k){for(var q=[];k;)Ai(q,G5(k)),k=dd(k);return q}:d6,Na=ps;(md&&Na(new md(new ArrayBuffer(1)))!=He||tp&&Na(new tp)!=le||xg&&Na(xg.resolve())!=ge||gd&&Na(new gd)!=Me||rp&&Na(new rp)!=ot)&&(Na=function(k){var q=ps(k),re=q==fe?k.constructor:e,ae=re?fp(re):"";if(ae)switch(ae){case ou:return He;case Go:return le;case cc:return ge;case C5:return Me;case Uy:return ot}return q});function WD(k,q,re){for(var ae=-1,be=re.length;++ae<be;){var Re=re[ae],We=Re.size;switch(Re.type){case"drop":k+=We;break;case"dropRight":q-=We;break;case"take":q=Wi(q,k+We);break;case"takeRight":k=ti(k,q-We);break}}return{start:k,end:q}}function zD(k){var q=k.match(Ee);return q?q[1].split(Se):[]}function FS(k,q,re){q=gc(q,k);for(var ae=-1,be=q.length,Re=!1;++ae<be;){var We=du(q[ae]);if(!(Re=k!=null&&re(k,We)))break;k=k[We]}return Re||++ae!=be?Re:(be=k==null?0:k.length,!!be&&y2(be)&&kd(We,be)&&(Xr(k)||pp(k)))}function VD(k){var q=k.length,re=new k.constructor(q);return q&&typeof k[0]=="string"&&Kr.call(k,"index")&&(re.index=k.index,re.input=k.input),re}function BS(k){return typeof k.constructor=="function"&&!Ag(k)?bd(dd(k)):{}}function $D(k,q,re){var ae=k.constructor;switch(q){case Ve:return U5(k);case U:case z:return new ae(+k);case He:return TD(k,re);case rt:case Je:case wt:case yt:case kt:case mt:case At:case $t:case Tt:return wS(k,re);case le:return new ae;case ce:case Oe:return new ae(k);case Le:return DD(k);case Me:return new ae;case ze:return ID(k)}}function GD(k,q){var re=q.length;if(!re)return k;var ae=re-1;return q[ae]=(re>1?"& ":"")+q[ae],q=q.join(re>2?", ":" "),k.replace(he,`{
/* [wrapped with `+q+`] */
`)}function YD(k){return Xr(k)||pp(k)||!!(Qf&&k&&k[Qf])}function kd(k,q){var re=typeof k;return q=q??N,!!q&&(re=="number"||re!="symbol"&&Ft.test(k))&&k>-1&&k%1==0&&k<q}function to(k,q,re){if(!Ls(re))return!1;var ae=typeof q;return(ae=="number"?Co(re)&&kd(q,re.length):ae=="string"&&q in re)?bc(re[q],k):!1}function Y5(k,q){if(Xr(k))return!1;var re=typeof k;return re=="number"||re=="symbol"||re=="boolean"||k==null||Zo(k)?!0:Lt.test(k)||!Rr.test(k)||q!=null&&k in kn(q)}function XD(k){var q=typeof k;return q=="string"||q=="number"||q=="symbol"||q=="boolean"?k!=="__proto__":k===null}function X5(k){var q=d2(k),re=Te[q];if(typeof re!="function"||!(q in on.prototype))return!1;if(k===re)return!0;var ae=V5(re);return!!ae&&k===ae[0]}function KD(k){return!!Yn&&Yn in k}var JD=$o?Cd:h6;function Ag(k){var q=k&&k.constructor,re=typeof q=="function"&&q.prototype||So;return k===re}function US(k){return k===k&&!Ls(k)}function HS(k,q){return function(re){return re==null?!1:re[k]===q&&(q!==e||k in kn(re))}}function ZD(k){var q=b2(k,function(ae){return re.size===l&&re.clear(),ae}),re=q.cache;return q}function QD(k,q){var re=k[1],ae=q[1],be=re|ae,Re=be<(m|x|R),We=ae==R&&re==w||ae==R&&re==D&&k[7].length<=q[8]||ae==(R|D)&&q[7].length<=q[8]&&re==w;if(!(Re||We))return k;ae&m&&(k[2]=q[2],be|=re&m?0:y);var et=q[3];if(et){var dt=k[3];k[3]=dt?SS(dt,et,q[4]):et,k[4]=dt?na(k[3],d):q[4]}return et=q[5],et&&(dt=k[5],k[5]=dt?ES(dt,et,q[6]):et,k[6]=dt?na(k[5],d):q[6]),et=q[7],et&&(k[7]=et),ae&R&&(k[8]=k[8]==null?q[8]:Wi(k[8],q[8])),k[9]==null&&(k[9]=q[9]),k[0]=q[0],k[1]=be,k}function eI(k){var q=[];if(k!=null)for(var re in kn(k))q.push(re);return q}function tI(k){return Bn.call(k)}function qS(k,q,re){return q=ti(q===e?k.length-1:q,0),function(){for(var ae=arguments,be=-1,Re=ti(ae.length-q,0),We=bt(Re);++be<Re;)We[be]=ae[q+be];be=-1;for(var et=bt(q+1);++be<q;)et[be]=ae[be];return et[q]=re(We),gi(k,this,et)}}function WS(k,q){return q.length<2?k:Ms(k,Ao(q,0,-1))}function rI(k,q){for(var re=k.length,ae=Wi(q.length,re),be=ko(k);ae--;){var Re=q[ae];k[ae]=kd(Re,re)?be[Re]:e}return k}function K5(k,q){if(!(q==="constructor"&&typeof k[q]=="function")&&q!="__proto__")return k[q]}var zS=$S(fc),kg=vg||function(k,q){return zn.setTimeout(k,q)},J5=$S(r2);function VS(k,q,re){var ae=q+"";return J5(k,GD(ae,nI(zD(ae),re)))}function $S(k){var q=0,re=0;return function(){var ae=A5(),be=P-(ae-re);if(re=ae,be>0){if(++q>=V)return arguments[0]}else q=0;return k.apply(e,arguments)}}function f2(k,q){var re=-1,ae=k.length,be=ae-1;for(q=q===e?ae:q;++re<q;){var Re=cp(re,be),We=k[Re];k[Re]=k[re],k[re]=We}return k.length=q,k}var GS=ZD(function(k){var q=[];return k.charCodeAt(0)===46&&q.push(""),k.replace(Sr,function(re,ae,be,Re){q.push(be?Re.replace(je,"$1"):ae||re)}),q});function du(k){if(typeof k=="string"||Zo(k))return k;var q=k+"";return q=="0"&&1/k==-S?"-0":q}function fp(k){if(k!=null){try{return iu.call(k)}catch{}try{return k+""}catch{}}return""}function nI(k,q){return bi(X,function(re){var ae="_."+re[0];q&re[1]&&!qo(k,ae)&&k.push(ae)}),k.sort()}function YS(k){if(k instanceof on)return k.clone();var q=new Qa(k.__wrapped__,k.__chain__);return q.__actions__=ko(k.__actions__),q.__index__=k.__index__,q.__values__=k.__values__,q}function sI(k,q,re){(re?to(k,q,re):q===e)?q=1:q=ti(en(q),0);var ae=k==null?0:k.length;if(!ae||q<1)return[];for(var be=0,Re=0,We=bt(Oh(ae/q));be<ae;)We[Re++]=Ao(k,be,be+=q);return We}function iI(k){for(var q=-1,re=k==null?0:k.length,ae=0,be=[];++q<re;){var Re=k[q];Re&&(be[ae++]=Re)}return be}function aI(){var k=arguments.length;if(!k)return[];for(var q=bt(k-1),re=arguments[0],ae=k;ae--;)q[ae-1]=arguments[ae];return Ai(Xr(re)?ko(re):[re],Ln(q,1))}var oI=Qr(function(k,q){return ri(k)?Jr(k,Ln(q,1,ri,!0)):[]}),lI=Qr(function(k,q){var re=Il(q);return ri(re)&&(re=e),ri(k)?Jr(k,Ln(q,1,ri,!0),jr(re,2)):[]}),cI=Qr(function(k,q){var re=Il(q);return ri(re)&&(re=e),ri(k)?Jr(k,Ln(q,1,ri,!0),e,re):[]});function uI(k,q,re){var ae=k==null?0:k.length;return ae?(q=re||q===e?1:en(q),Ao(k,q<0?0:q,ae)):[]}function dI(k,q,re){var ae=k==null?0:k.length;return ae?(q=re||q===e?1:en(q),q=ae-q,Ao(k,0,q<0?0:q)):[]}function hI(k,q){return k&&k.length?Ed(k,jr(q,3),!0,!0):[]}function fI(k,q){return k&&k.length?Ed(k,jr(q,3),!0):[]}function pI(k,q,re,ae){var be=k==null?0:k.length;return be?(re&&typeof re!="number"&&to(k,q,re)&&(re=0,ae=be),_a(k,q,re,ae)):[]}function XS(k,q,re){var ae=k==null?0:k.length;if(!ae)return-1;var be=re==null?0:en(re);return be<0&&(be=ti(ae+be,0)),Ut(k,jr(q,3),be)}function KS(k,q,re){var ae=k==null?0:k.length;if(!ae)return-1;var be=ae-1;return re!==e&&(be=en(re),be=re<0?ti(ae+be,0):Wi(be,ae-1)),Ut(k,jr(q,3),be,!0)}function JS(k){var q=k==null?0:k.length;return q?Ln(k,1):[]}function mI(k){var q=k==null?0:k.length;return q?Ln(k,S):[]}function gI(k,q){var re=k==null?0:k.length;return re?(q=q===e?1:en(q),Ln(k,q)):[]}function bI(k){for(var q=-1,re=k==null?0:k.length,ae={};++q<re;){var be=k[q];ae[be[0]]=be[1]}return ae}function ZS(k){return k&&k.length?k[0]:e}function vI(k,q,re){var ae=k==null?0:k.length;if(!ae)return-1;var be=re==null?0:en(re);return be<0&&(be=ti(ae+be,0)),er(k,q,be)}function yI(k){var q=k==null?0:k.length;return q?Ao(k,0,-1):[]}var xI=Qr(function(k){var q=jn(k,Uh);return q.length&&q[0]===k[0]?kl(q):[]}),wI=Qr(function(k){var q=Il(k),re=jn(k,Uh);return q===Il(re)?q=e:re.pop(),re.length&&re[0]===k[0]?kl(re,jr(q,2)):[]}),_I=Qr(function(k){var q=Il(k),re=jn(k,Uh);return q=typeof q=="function"?q:e,q&&re.pop(),re.length&&re[0]===k[0]?kl(re,e,q):[]});function SI(k,q){return k==null?"":By.call(k,q)}function Il(k){var q=k==null?0:k.length;return q?k[q-1]:e}function EI(k,q,re){var ae=k==null?0:k.length;if(!ae)return-1;var be=ae;return re!==e&&(be=en(re),be=be<0?ti(ae+be,0):Wi(be,ae-1)),q===q?l0(k,q,be):Ut(k,Br,be,!0)}function NI(k,q){return k&&k.length?Jy(k,en(q)):e}var AI=Qr(QS);function QS(k,q){return k&&k.length&&q&&q.length?y0(k,q):k}function kI(k,q,re){return k&&k.length&&q&&q.length?y0(k,q,jr(re,2)):k}function CI(k,q,re){return k&&k.length&&q&&q.length?y0(k,q,e,re):k}var TI=Ad(function(k,q){var re=k==null?0:k.length,ae=Zt(k,q);return lp(k,jn(q,function(be){return kd(be,re)?+be:be}).sort(_S)),ae});function DI(k,q){var re=[];if(!(k&&k.length))return re;var ae=-1,be=[],Re=k.length;for(q=jr(q,3);++ae<Re;){var We=k[ae];q(We,ae,k)&&(re.push(We),be.push(ae))}return lp(k,be),re}function Z5(k){return k==null?k:yg.call(k)}function II(k,q,re){var ae=k==null?0:k.length;return ae?(re&&typeof re!="number"&&to(k,q,re)?(q=0,re=ae):(q=q==null?0:en(q),re=re===e?ae:en(re)),Ao(k,q,re)):[]}function PI(k,q){return pc(k,q)}function jI(k,q,re){return Sg(k,q,jr(re,2))}function RI(k,q){var re=k==null?0:k.length;if(re){var ae=pc(k,q);if(ae<re&&bc(k[ae],q))return ae}return-1}function MI(k,q){return pc(k,q,!0)}function LI(k,q,re){return Sg(k,q,jr(re,2),!0)}function OI(k,q){var re=k==null?0:k.length;if(re){var ae=pc(k,q,!0)-1;if(bc(k[ae],q))return ae}return-1}function FI(k){return k&&k.length?Eg(k):[]}function BI(k,q){return k&&k.length?Eg(k,jr(q,2)):[]}function UI(k){var q=k==null?0:k.length;return q?Ao(k,1,q):[]}function HI(k,q,re){return k&&k.length?(q=re||q===e?1:en(q),Ao(k,0,q<0?0:q)):[]}function qI(k,q,re){var ae=k==null?0:k.length;return ae?(q=re||q===e?1:en(q),q=ae-q,Ao(k,q<0?0:q,ae)):[]}function WI(k,q){return k&&k.length?Ed(k,jr(q,3),!1,!0):[]}function zI(k,q){return k&&k.length?Ed(k,jr(q,3)):[]}var VI=Qr(function(k){return cu(Ln(k,1,ri,!0))}),$I=Qr(function(k){var q=Il(k);return ri(q)&&(q=e),cu(Ln(k,1,ri,!0),jr(q,2))}),GI=Qr(function(k){var q=Il(k);return q=typeof q=="function"?q:e,cu(Ln(k,1,ri,!0),e,q)});function YI(k){return k&&k.length?cu(k):[]}function XI(k,q){return k&&k.length?cu(k,jr(q,2)):[]}function KI(k,q){return q=typeof q=="function"?q:e,k&&k.length?cu(k,e,q):[]}function Q5(k){if(!(k&&k.length))return[];var q=0;return k=xo(k,function(re){if(ri(re))return q=ti(re.length,q),!0}),Ns(q,function(re){return jn(k,tn(re))})}function eE(k,q){if(!(k&&k.length))return[];var re=Q5(k);return q==null?re:jn(re,function(ae){return gi(q,e,ae)})}var JI=Qr(function(k,q){return ri(k)?Jr(k,q):[]}),ZI=Qr(function(k){return Tl(xo(k,ri))}),QI=Qr(function(k){var q=Il(k);return ri(q)&&(q=e),Tl(xo(k,ri),jr(q,2))}),eP=Qr(function(k){var q=Il(k);return q=typeof q=="function"?q:e,Tl(xo(k,ri),e,q)}),tP=Qr(Q5);function rP(k,q){return mc(k||[],q||[],Qe)}function nP(k,q){return mc(k||[],q||[],_d)}var sP=Qr(function(k){var q=k.length,re=q>1?k[q-1]:e;return re=typeof re=="function"?(k.pop(),re):e,eE(k,re)});function tE(k){var q=Te(k);return q.__chain__=!0,q}function iP(k,q){return q(k),k}function p2(k,q){return q(k)}var aP=Ad(function(k){var q=k.length,re=q?k[0]:0,ae=this.__wrapped__,be=function(Re){return Zt(Re,k)};return q>1||this.__actions__.length||!(ae instanceof on)||!kd(re)?this.thru(be):(ae=ae.slice(re,+re+(q?1:0)),ae.__actions__.push({func:p2,args:[be],thisArg:e}),new Qa(ae,this.__chain__).thru(function(Re){return q&&!Re.length&&Re.push(e),Re}))});function oP(){return tE(this)}function lP(){return new Qa(this.value(),this.__chain__)}function cP(){this.__values__===e&&(this.__values__=mE(this.value()));var k=this.__index__>=this.__values__.length,q=k?e:this.__values__[this.__index__++];return{done:k,value:q}}function uP(){return this}function dP(k){for(var q,re=this;re instanceof sp;){var ae=YS(re);ae.__index__=0,ae.__values__=e,q?be.__wrapped__=ae:q=ae;var be=ae;re=re.__wrapped__}return be.__wrapped__=k,q}function hP(){var k=this.__wrapped__;if(k instanceof on){var q=k;return this.__actions__.length&&(q=new on(this)),q=q.reverse(),q.__actions__.push({func:p2,args:[Z5],thisArg:e}),new Qa(q,this.__chain__)}return this.thru(Z5)}function fP(){return Cl(this.__wrapped__,this.__actions__)}var pP=a2(function(k,q,re){Kr.call(k,re)?++k[re]:tr(k,re,1)});function mP(k,q,re){var ae=Xr(k)?id:$r;return re&&to(k,q,re)&&(q=e),ae(k,jr(q,3))}function gP(k,q){var re=Xr(k)?xo:Rs;return re(k,jr(q,3))}var bP=CS(XS),vP=CS(KS);function yP(k,q){return Ln(m2(k,q),1)}function xP(k,q){return Ln(m2(k,q),S)}function wP(k,q,re){return re=re===e?1:en(re),Ln(m2(k,q),re)}function rE(k,q){var re=Xr(k)?bi:gn;return re(k,jr(q,3))}function nE(k,q){var re=Xr(k)?sd:Un;return re(k,jr(q,3))}var _P=a2(function(k,q,re){Kr.call(k,re)?k[re].push(q):tr(k,re,[q])});function SP(k,q,re,ae){k=Co(k)?k:C0(k),re=re&&!ae?en(re):0;var be=k.length;return re<0&&(re=ti(be+re,0)),x2(k)?re<=be&&k.indexOf(q,re)>-1:!!be&&er(k,q,re)>-1}var EP=Qr(function(k,q,re){var ae=-1,be=typeof q=="function",Re=Co(k)?bt(k.length):[];return gn(k,function(We){Re[++ae]=be?gi(q,We,re):yd(We,q,re)}),Re}),NP=a2(function(k,q,re){tr(k,re,q)});function m2(k,q){var re=Xr(k)?jn:Xy;return re(k,jr(q,3))}function AP(k,q,re,ae){return k==null?[]:(Xr(q)||(q=q==null?[]:[q]),re=ae?e:re,Xr(re)||(re=re==null?[]:[re]),Zy(k,q,re))}var kP=a2(function(k,q,re){k[re?0:1].push(q)},function(){return[[],[]]});function CP(k,q,re){var ae=Xr(k)?ec:as,be=arguments.length<3;return ae(k,jr(q,4),re,be,gn)}function TP(k,q,re){var ae=Xr(k)?se:as,be=arguments.length<3;return ae(k,jr(q,4),re,be,Un)}function DP(k,q){var re=Xr(k)?xo:Rs;return re(k,v2(jr(q,3)))}function IP(k){var q=Xr(k)?pt:w0;return q(k)}function PP(k,q,re){(re?to(k,q,re):q===e)?q=1:q=en(q);var ae=Xr(k)?ct:t2;return ae(k,q)}function jP(k){var q=Xr(k)?Pt:n2;return q(k)}function RP(k){if(k==null)return 0;if(Co(k))return x2(k)?sc(k):k.length;var q=Na(k);return q==le||q==Me?k.size:ap(k).length}function MP(k,q,re){var ae=Xr(k)?pe:s2;return re&&to(k,q,re)&&(q=e),ae(k,jr(q,3))}var LP=Qr(function(k,q){if(k==null)return[];var re=q.length;return re>1&&to(k,q[0],q[1])?q=[]:re>2&&to(q[0],q[1],q[2])&&(q=[q[0]]),Zy(k,Ln(q,1),[])}),g2=Oy||function(){return zn.Date.now()};function OP(k,q){if(typeof q!="function")throw new Qs(o);return k=en(k),function(){if(--k<1)return q.apply(this,arguments)}}function sE(k,q,re){return q=re?e:q,q=k&&q==null?k.length:q,Nd(k,R,e,e,e,e,q)}function iE(k,q){var re;if(typeof q!="function")throw new Qs(o);return k=en(k),function(){return--k>0&&(re=q.apply(this,arguments)),k<=1&&(q=e),re}}var e6=Qr(function(k,q,re){var ae=m;if(re.length){var be=na(re,A0(e6));ae|=I}return Nd(k,ae,q,re,be)}),aE=Qr(function(k,q,re){var ae=m|x;if(re.length){var be=na(re,A0(aE));ae|=I}return Nd(q,ae,k,re,be)});function oE(k,q,re){q=re?e:q;var ae=Nd(k,w,e,e,e,e,e,q);return ae.placeholder=oE.placeholder,ae}function lE(k,q,re){q=re?e:q;var ae=Nd(k,E,e,e,e,e,e,q);return ae.placeholder=lE.placeholder,ae}function cE(k,q,re){var ae,be,Re,We,et,dt,jt=0,Mt=!1,Wt=!1,sr=!0;if(typeof k!="function")throw new Qs(o);q=Pl(q)||0,Ls(re)&&(Mt=!!re.leading,Wt="maxWait"in re,Re=Wt?ti(Pl(re.maxWait)||0,q):Re,sr="trailing"in re?!!re.trailing:sr);function gr(ni){var vc=ae,Dd=be;return ae=be=e,jt=ni,We=k.apply(Dd,vc),We}function Mr(ni){return jt=ni,et=kg(hn,q),Mt?gr(ni):We}function rn(ni){var vc=ni-dt,Dd=ni-jt,CE=q-vc;return Wt?Wi(CE,Re-Dd):CE}function Lr(ni){var vc=ni-dt,Dd=ni-jt;return dt===e||vc>=q||vc<0||Wt&&Dd>=Re}function hn(){var ni=g2();if(Lr(ni))return vn(ni);et=kg(hn,rn(ni))}function vn(ni){return et=e,sr&&ae?gr(ni):(ae=be=e,We)}function Qo(){et!==e&&S0(et),jt=0,ae=dt=be=et=e}function ro(){return et===e?We:vn(g2())}function el(){var ni=g2(),vc=Lr(ni);if(ae=arguments,be=this,dt=ni,vc){if(et===e)return Mr(dt);if(Wt)return S0(et),et=kg(hn,q),gr(dt)}return et===e&&(et=kg(hn,q)),We}return el.cancel=Qo,el.flush=ro,el}var FP=Qr(function(k,q){return mn(k,1,q)}),BP=Qr(function(k,q,re){return mn(k,Pl(q)||0,re)});function UP(k){return Nd(k,L)}function b2(k,q){if(typeof k!="function"||q!=null&&typeof q!="function")throw new Qs(o);var re=function(){var ae=arguments,be=q?q.apply(this,ae):ae[0],Re=re.cache;if(Re.has(be))return Re.get(be);var We=k.apply(this,ae);return re.cache=Re.set(be,We)||Re,We};return re.cache=new(b2.Cache||No),re}b2.Cache=No;function v2(k){if(typeof k!="function")throw new Qs(o);return function(){var q=arguments;switch(q.length){case 0:return!k.call(this);case 1:return!k.call(this,q[0]);case 2:return!k.call(this,q[0],q[1]);case 3:return!k.call(this,q[0],q[1],q[2])}return!k.apply(this,q)}}function HP(k){return iE(2,k)}var qP=B5(function(k,q){q=q.length==1&&Xr(q[0])?jn(q[0],fs(jr())):jn(Ln(q,1),fs(jr()));var re=q.length;return Qr(function(ae){for(var be=-1,Re=Wi(ae.length,re);++be<Re;)ae[be]=q[be].call(this,ae[be]);return gi(k,this,ae)})}),t6=Qr(function(k,q){var re=na(q,A0(t6));return Nd(k,I,e,q,re)}),uE=Qr(function(k,q){var re=na(q,A0(uE));return Nd(k,T,e,q,re)}),WP=Ad(function(k,q){return Nd(k,D,e,e,e,q)});function zP(k,q){if(typeof k!="function")throw new Qs(o);return q=q===e?q:en(q),Qr(k,q)}function VP(k,q){if(typeof k!="function")throw new Qs(o);return q=q==null?0:ti(en(q),0),Qr(function(re){var ae=re[q],be=Dl(re,0,q);return ae&&Ai(be,ae),gi(k,this,be)})}function $P(k,q,re){var ae=!0,be=!0;if(typeof k!="function")throw new Qs(o);return Ls(re)&&(ae="leading"in re?!!re.leading:ae,be="trailing"in re?!!re.trailing:be),cE(k,q,{leading:ae,maxWait:q,trailing:be})}function GP(k){return sE(k,1)}function YP(k,q){return t6(dp(q),k)}function XP(){if(!arguments.length)return[];var k=arguments[0];return Xr(k)?k:[k]}function KP(k){return Gt(k,p)}function JP(k,q){return q=typeof q=="function"?q:e,Gt(k,p,q)}function ZP(k){return Gt(k,f|p)}function QP(k,q){return q=typeof q=="function"?q:e,Gt(k,f|p,q)}function ej(k,q){return q==null||Mn(k,q,Vi(q))}function bc(k,q){return k===q||k!==k&&q!==q}var tj=u2(zs),rj=u2(function(k,q){return k>=q}),pp=_g(function(){return arguments}())?_g:function(k){return Vs(k)&&Kr.call(k,"callee")&&!Za.call(k,"callee")},Xr=bt.isArray,nj=El?fs(El):$y;function Co(k){return k!=null&&y2(k.length)&&!Cd(k)}function ri(k){return Vs(k)&&Co(k)}function sj(k){return k===!0||k===!1||Vs(k)&&ps(k)==U}var Hh=E5||h6,ij=Ph?fs(Ph):p0;function aj(k){return Vs(k)&&k.nodeType===1&&!Cg(k)}function oj(k){if(k==null)return!0;if(Co(k)&&(Xr(k)||typeof k=="string"||typeof k.splice=="function"||Hh(k)||k0(k)||pp(k)))return!k.length;var q=Na(k);if(q==le||q==Me)return!k.size;if(Ag(k))return!ap(k).length;for(var re in k)if(Kr.call(k,re))return!1;return!0}function lj(k,q){return hc(k,q)}function cj(k,q,re){re=typeof re=="function"?re:e;var ae=re?re(k,q):e;return ae===e?hc(k,q,e,re):!!ae}function r6(k){if(!Vs(k))return!1;var q=ps(k);return q==te||q==Z||typeof k.message=="string"&&typeof k.name=="string"&&!Cg(k)}function uj(k){return typeof k=="number"&&Fy(k)}function Cd(k){if(!Ls(k))return!1;var q=ps(k);return q==oe||q==ue||q==ee||q==xe}function dE(k){return typeof k=="number"&&k==en(k)}function y2(k){return typeof k=="number"&&k>-1&&k%1==0&&k<=N}function Ls(k){var q=typeof k;return k!=null&&(q=="object"||q=="function")}function Vs(k){return k!=null&&typeof k=="object"}var hE=Ql?fs(Ql):Ko;function dj(k,q){return k===q||lu(k,q,$5(q))}function hj(k,q,re){return re=typeof re=="function"?re:e,lu(k,q,$5(q),re)}function fj(k){return fE(k)&&k!=+k}function pj(k){if(JD(k))throw new _r(a);return xd(k)}function mj(k){return k===null}function gj(k){return k==null}function fE(k){return typeof k=="number"||Vs(k)&&ps(k)==ce}function Cg(k){if(!Vs(k)||ps(k)!=fe)return!1;var q=dd(k);if(q===null)return!0;var re=Kr.call(q,"constructor")&&q.constructor;return typeof re=="function"&&re instanceof re&&iu.call(re)==js}var n6=jh?fs(jh):Gy;function bj(k){return dE(k)&&k>=-N&&k<=N}var pE=Jc?fs(Jc):g0;function x2(k){return typeof k=="string"||!Xr(k)&&Vs(k)&&ps(k)==Oe}function Zo(k){return typeof k=="symbol"||Vs(k)&&ps(k)==ze}var k0=Zc?fs(Zc):Yy;function vj(k){return k===e}function yj(k){return Vs(k)&&Na(k)==ot}function xj(k){return Vs(k)&&ps(k)==$e}var wj=u2(wd),_j=u2(function(k,q){return k<=q});function mE(k){if(!k)return[];if(Co(k))return x2(k)?yi(k):ko(k);if(Lh&&k[Lh])return wo(k[Lh]());var q=Na(k),re=q==le?vi:q==Me?nc:C0;return re(k)}function Td(k){if(!k)return k===0?k:0;if(k=Pl(k),k===S||k===-S){var q=k<0?-1:1;return q*C}return k===k?k:0}function en(k){var q=Td(k),re=q%1;return q===q?re?q-re:q:0}function gE(k){return k?mr(en(k),0,j):0}function Pl(k){if(typeof k=="number")return k;if(Zo(k))return W;if(Ls(k)){var q=typeof k.valueOf=="function"?k.valueOf():k;k=Ls(q)?q+"":q}if(typeof k!="string")return k===0?k:+k;k=qi(k);var re=nt.test(k);return re||Nt.test(k)?Dh(k.slice(2),re?2:8):Xe.test(k)?W:+k}function bE(k){return uu(k,To(k))}function Sj(k){return k?mr(en(k),-N,N):k===0?k:0}function Vn(k){return k==null?"":Ea(k)}var Ej=E0(function(k,q){if(Ag(q)||Co(q)){uu(q,Vi(q),k);return}for(var re in q)Kr.call(q,re)&&Qe(k,re,q[re])}),vE=E0(function(k,q){uu(q,To(q),k)}),w2=E0(function(k,q,re,ae){uu(q,To(q),k,ae)}),Nj=E0(function(k,q,re,ae){uu(q,Vi(q),k,ae)}),Aj=Ad(Zt);function kj(k,q){var re=bd(k);return q==null?re:Bt(re,q)}var Cj=Qr(function(k,q){k=kn(k);var re=-1,ae=q.length,be=ae>2?q[2]:e;for(be&&to(q[0],q[1],be)&&(ae=1);++re<ae;)for(var Re=q[re],We=To(Re),et=-1,dt=We.length;++et<dt;){var jt=We[et],Mt=k[jt];(Mt===e||bc(Mt,So[jt])&&!Kr.call(k,jt))&&(k[jt]=Re[jt])}return k}),Tj=Qr(function(k){return k.push(e,MS),gi(yE,e,k)});function Dj(k,q){return _t(k,jr(q,3),ks)}function Ij(k,q){return _t(k,jr(q,3),qs)}function Pj(k,q){return k==null?k:Tn(k,jr(q,3),To)}function jj(k,q){return k==null?k:Sa(k,jr(q,3),To)}function Rj(k,q){return k&&ks(k,jr(q,3))}function Mj(k,q){return k&&qs(k,jr(q,3))}function Lj(k){return k==null?[]:Ws(k,Vi(k))}function Oj(k){return k==null?[]:Ws(k,To(k))}function s6(k,q,re){var ae=k==null?e:Ms(k,q);return ae===e?re:ae}function Fj(k,q){return k!=null&&FS(k,q,dc)}function i6(k,q){return k!=null&&FS(k,q,vd)}var Bj=DS(function(k,q,re){q!=null&&typeof q.toString!="function"&&(q=Bn.call(q)),k[q]=re},o6(Do)),Uj=DS(function(k,q,re){q!=null&&typeof q.toString!="function"&&(q=Bn.call(q)),Kr.call(k,q)?k[q].push(re):k[q]=[re]},jr),Hj=Qr(yd);function Vi(k){return Co(k)?ft(k):ap(k)}function To(k){return Co(k)?ft(k,!0):b0(k)}function qj(k,q){var re={};return q=jr(q,3),ks(k,function(ae,be,Re){tr(re,q(ae,be,Re),ae)}),re}function Wj(k,q){var re={};return q=jr(q,3),ks(k,function(ae,be,Re){tr(re,be,q(ae,be,Re))}),re}var zj=E0(function(k,q,re){Jo(k,q,re)}),yE=E0(function(k,q,re,ae){Jo(k,q,re,ae)}),Vj=Ad(function(k,q){var re={};if(k==null)return re;var ae=!1;q=jn(q,function(Re){return Re=gc(Re,k),ae||(ae=Re.length>1),Re}),uu(k,z5(k),re),ae&&(re=Gt(re,f|h|p,BD));for(var be=q.length;be--;)Sd(re,q[be]);return re});function $j(k,q){return xE(k,v2(jr(q)))}var Gj=Ad(function(k,q){return k==null?{}:Qy(k,q)});function xE(k,q){if(k==null)return{};var re=jn(z5(k),function(ae){return[ae]});return q=jr(q),op(k,re,function(ae,be){return q(ae,be[0])})}function Yj(k,q,re){q=gc(q,k);var ae=-1,be=q.length;for(be||(be=1,k=e);++ae<be;){var Re=k==null?e:k[du(q[ae])];Re===e&&(ae=be,Re=re),k=Cd(Re)?Re.call(k):Re}return k}function Xj(k,q,re){return k==null?k:_d(k,q,re)}function Kj(k,q,re,ae){return ae=typeof ae=="function"?ae:e,k==null?k:_d(k,q,re,ae)}var wE=jS(Vi),_E=jS(To);function Jj(k,q,re){var ae=Xr(k),be=ae||Hh(k)||k0(k);if(q=jr(q,4),re==null){var Re=k&&k.constructor;be?re=ae?new Re:[]:Ls(k)?re=Cd(Re)?bd(dd(k)):{}:re={}}return(be?bi:ks)(k,function(We,et,dt){return q(re,We,et,dt)}),re}function Zj(k,q){return k==null?!0:Sd(k,q)}function Qj(k,q,re){return k==null?k:_0(k,q,dp(re))}function eR(k,q,re,ae){return ae=typeof ae=="function"?ae:e,k==null?k:_0(k,q,dp(re),ae)}function C0(k){return k==null?[]:eu(k,Vi(k))}function tR(k){return k==null?[]:eu(k,To(k))}function rR(k,q,re){return re===e&&(re=q,q=e),re!==e&&(re=Pl(re),re=re===re?re:0),q!==e&&(q=Pl(q),q=q===q?q:0),mr(Pl(k),q,re)}function nR(k,q,re){return q=Td(q),re===e?(re=q,q=0):re=Td(re),k=Pl(k),Bh(k,q,re)}function sR(k,q,re){if(re&&typeof re!="boolean"&&to(k,q,re)&&(q=re=e),re===e&&(typeof q=="boolean"?(re=q,q=e):typeof k=="boolean"&&(re=k,k=e)),k===e&&q===e?(k=0,q=1):(k=Td(k),q===e?(q=k,k=0):q=Td(q)),k>q){var ae=k;k=q,q=ae}if(re||k%1||q%1){var be=u0();return Wi(k+be*(q-k+Th("1e-"+((be+"").length-1))),q)}return cp(k,q)}var iR=N0(function(k,q,re){return q=q.toLowerCase(),k+(re?SE(q):q)});function SE(k){return a6(Vn(k).toLowerCase())}function EE(k){return k=Vn(k),k&&k.replace(zt,od).replace(Ch,"")}function aR(k,q,re){k=Vn(k),q=Ea(q);var ae=k.length;re=re===e?ae:mr(en(re),0,ae);var be=re;return re-=q.length,re>=0&&k.slice(re,be)==q}function oR(k){return k=Vn(k),k&&cr.test(k)?k.replace(rr,ru):k}function lR(k){return k=Vn(k),k&&ur.test(k)?k.replace(Nr,"\\$&"):k}var cR=N0(function(k,q,re){return k+(re?"-":"")+q.toLowerCase()}),uR=N0(function(k,q,re){return k+(re?" ":"")+q.toLowerCase()}),dR=kS("toLowerCase");function hR(k,q,re){k=Vn(k),q=en(q);var ae=q?sc(k):0;if(!q||ae>=q)return k;var be=(q-ae)/2;return c2(pd(be),re)+k+c2(Oh(be),re)}function fR(k,q,re){k=Vn(k),q=en(q);var ae=q?sc(k):0;return q&&ae<q?k+c2(q-ae,re):k}function pR(k,q,re){k=Vn(k),q=en(q);var ae=q?sc(k):0;return q&&ae<q?c2(q-ae,re)+k:k}function mR(k,q,re){return re||q==null?q=0:q&&(q=+q),k5(Vn(k).replace(qe,""),q||0)}function gR(k,q,re){return(re?to(k,q,re):q===e)?q=1:q=en(q),x0(Vn(k),q)}function bR(){var k=arguments,q=Vn(k[0]);return k.length<3?q:q.replace(k[1],k[2])}var vR=N0(function(k,q,re){return k+(re?"_":"")+q.toLowerCase()});function yR(k,q,re){return re&&typeof re!="number"&&to(k,q,re)&&(q=re=e),re=re===e?j:re>>>0,re?(k=Vn(k),k&&(typeof q=="string"||q!=null&&!n6(q))&&(q=Ea(q),!q&&ya(k))?Dl(yi(k),0,re):k.split(q,re)):[]}var xR=N0(function(k,q,re){return k+(re?" ":"")+a6(q)});function wR(k,q,re){return k=Vn(k),re=re==null?0:mr(en(re),0,k.length),q=Ea(q),k.slice(re,re+q.length)==q}function _R(k,q,re){var ae=Te.templateSettings;re&&to(k,q,re)&&(q=e),k=Vn(k),q=w2({},q,ae,RS);var be=w2({},q.imports,ae.imports,RS),Re=Vi(be),We=eu(be,Re),et,dt,jt=0,Mt=q.interpolate||Rt,Wt="__p += '",sr=oc((q.escape||Rt).source+"|"+Mt.source+"|"+(Mt===xr?Ge:Rt).source+"|"+(q.evaluate||Rt).source+"|$","g"),gr="//# sourceURL="+(Kr.call(q,"sourceURL")?(q.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++td+"]")+`
`;k.replace(sr,function(Lr,hn,vn,Qo,ro,el){return vn||(vn=Qo),Wt+=k.slice(jt,el).replace(Ae,Rn),hn&&(et=!0,Wt+=`' +
__e(`+hn+`) +
'`),ro&&(dt=!0,Wt+=`';
`+ro+`;
__p += '`),vn&&(Wt+=`' +
((__t = (`+vn+`)) == null ? '' : __t) +
'`),jt=el+Lr.length,Lr}),Wt+=`';
`;var Mr=Kr.call(q,"variable")&&q.variable;if(!Mr)Wt=`with (obj) {
`+Wt+`
}
`;else if(Pe.test(Mr))throw new _r(c);Wt=(dt?Wt.replace(Yt,""):Wt).replace(nr,"$1").replace(Xt,"$1;"),Wt="function("+(Mr||"obj")+`) {
`+(Mr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(et?", __e = _.escape":"")+(dt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Wt+`return __p
}`;var rn=AE(function(){return ln(Re,gr+"return "+Wt).apply(e,We)});if(rn.source=Wt,r6(rn))throw rn;return rn}function SR(k){return Vn(k).toLowerCase()}function ER(k){return Vn(k).toUpperCase()}function NR(k,q,re){if(k=Vn(k),k&&(re||q===e))return qi(k);if(!k||!(q=Ea(q)))return k;var ae=yi(k),be=yi(q),Re=tu(ae,be),We=tc(ae,be)+1;return Dl(ae,Re,We).join("")}function AR(k,q,re){if(k=Vn(k),k&&(re||q===e))return k.slice(0,nu(k)+1);if(!k||!(q=Ea(q)))return k;var ae=yi(k),be=tc(ae,yi(q))+1;return Dl(ae,0,be).join("")}function kR(k,q,re){if(k=Vn(k),k&&(re||q===e))return k.replace(qe,"");if(!k||!(q=Ea(q)))return k;var ae=yi(k),be=tu(ae,yi(q));return Dl(ae,be).join("")}function CR(k,q){var re=M,ae=H;if(Ls(q)){var be="separator"in q?q.separator:be;re="length"in q?en(q.length):re,ae="omission"in q?Ea(q.omission):ae}k=Vn(k);var Re=k.length;if(ya(k)){var We=yi(k);Re=We.length}if(re>=Re)return k;var et=re-sc(ae);if(et<1)return ae;var dt=We?Dl(We,0,et).join(""):k.slice(0,et);if(be===e)return dt+ae;if(We&&(et+=dt.length-et),n6(be)){if(k.slice(et).search(be)){var jt,Mt=dt;for(be.global||(be=oc(be.source,Vn(lt.exec(be))+"g")),be.lastIndex=0;jt=be.exec(Mt);)var Wt=jt.index;dt=dt.slice(0,Wt===e?et:Wt)}}else if(k.indexOf(Ea(be),et)!=et){var sr=dt.lastIndexOf(be);sr>-1&&(dt=dt.slice(0,sr))}return dt+ae}function TR(k){return k=Vn(k),k&&qt.test(k)?k.replace(fr,xa):k}var DR=N0(function(k,q,re){return k+(re?" ":"")+q.toUpperCase()}),a6=kS("toUpperCase");function NE(k,q,re){return k=Vn(k),q=re?e:q,q===e?rc(k)?ic(k):ht(k):k.match(q)||[]}var AE=Qr(function(k,q){try{return gi(k,e,q)}catch(re){return r6(re)?re:new _r(re)}}),IR=Ad(function(k,q){return bi(q,function(re){re=du(re),tr(k,re,e6(k[re],k))}),k});function PR(k){var q=k==null?0:k.length,re=jr();return k=q?jn(k,function(ae){if(typeof ae[1]!="function")throw new Qs(o);return[re(ae[0]),ae[1]]}):[],Qr(function(ae){for(var be=-1;++be<q;){var Re=k[be];if(gi(Re[0],this,ae))return gi(Re[1],this,ae)}})}function jR(k){return Cn(Gt(k,f))}function o6(k){return function(){return k}}function RR(k,q){return k==null||k!==k?q:k}var MR=TS(),LR=TS(!0);function Do(k){return k}function l6(k){return ip(typeof k=="function"?k:Gt(k,f))}function OR(k){return Ky(Gt(k,f))}function FR(k,q){return v0(k,Gt(q,f))}var BR=Qr(function(k,q){return function(re){return yd(re,k,q)}}),UR=Qr(function(k,q){return function(re){return yd(k,re,q)}});function c6(k,q,re){var ae=Vi(q),be=Ws(q,ae);re==null&&!(Ls(q)&&(be.length||!ae.length))&&(re=q,q=k,k=this,be=Ws(q,Vi(q)));var Re=!(Ls(re)&&"chain"in re)||!!re.chain,We=Cd(k);return bi(be,function(et){var dt=q[et];k[et]=dt,We&&(k.prototype[et]=function(){var jt=this.__chain__;if(Re||jt){var Mt=k(this.__wrapped__),Wt=Mt.__actions__=ko(this.__actions__);return Wt.push({func:dt,args:arguments,thisArg:k}),Mt.__chain__=jt,Mt}return dt.apply(k,Ai([this.value()],arguments))})}),k}function HR(){return zn._===this&&(zn._=ei),this}function u6(){}function qR(k){return k=en(k),Qr(function(q){return Jy(q,k)})}var WR=H5(jn),zR=H5(id),VR=H5(pe);function kE(k){return Y5(k)?tn(du(k)):e2(k)}function $R(k){return function(q){return k==null?e:Ms(k,q)}}var GR=IS(),YR=IS(!0);function d6(){return[]}function h6(){return!1}function XR(){return{}}function KR(){return""}function JR(){return!0}function ZR(k,q){if(k=en(k),k<1||k>N)return[];var re=j,ae=Wi(k,j);q=jr(q),k-=j;for(var be=Ns(ae,q);++re<k;)q(re);return be}function QR(k){return Xr(k)?jn(k,du):Zo(k)?[k]:ko(GS(Vn(k)))}function eM(k){var q=++Eo;return Vn(k)+q}var tM=l2(function(k,q){return k+q},0),rM=q5("ceil"),nM=l2(function(k,q){return k/q},1),sM=q5("floor");function iM(k){return k&&k.length?ys(k,Do,zs):e}function aM(k,q){return k&&k.length?ys(k,jr(q,2),zs):e}function oM(k){return Or(k,Do)}function lM(k,q){return Or(k,jr(q,2))}function cM(k){return k&&k.length?ys(k,Do,wd):e}function uM(k,q){return k&&k.length?ys(k,jr(q,2),wd):e}var dM=l2(function(k,q){return k*q},1),hM=q5("round"),fM=l2(function(k,q){return k-q},0);function pM(k){return k&&k.length?Ps(k,Do):0}function mM(k,q){return k&&k.length?Ps(k,jr(q,2)):0}return Te.after=OP,Te.ary=sE,Te.assign=Ej,Te.assignIn=vE,Te.assignInWith=w2,Te.assignWith=Nj,Te.at=Aj,Te.before=iE,Te.bind=e6,Te.bindAll=IR,Te.bindKey=aE,Te.castArray=XP,Te.chain=tE,Te.chunk=sI,Te.compact=iI,Te.concat=aI,Te.cond=PR,Te.conforms=jR,Te.constant=o6,Te.countBy=pP,Te.create=kj,Te.curry=oE,Te.curryRight=lE,Te.debounce=cE,Te.defaults=Cj,Te.defaultsDeep=Tj,Te.defer=FP,Te.delay=BP,Te.difference=oI,Te.differenceBy=lI,Te.differenceWith=cI,Te.drop=uI,Te.dropRight=dI,Te.dropRightWhile=hI,Te.dropWhile=fI,Te.fill=pI,Te.filter=gP,Te.flatMap=yP,Te.flatMapDeep=xP,Te.flatMapDepth=wP,Te.flatten=JS,Te.flattenDeep=mI,Te.flattenDepth=gI,Te.flip=UP,Te.flow=MR,Te.flowRight=LR,Te.fromPairs=bI,Te.functions=Lj,Te.functionsIn=Oj,Te.groupBy=_P,Te.initial=yI,Te.intersection=xI,Te.intersectionBy=wI,Te.intersectionWith=_I,Te.invert=Bj,Te.invertBy=Uj,Te.invokeMap=EP,Te.iteratee=l6,Te.keyBy=NP,Te.keys=Vi,Te.keysIn=To,Te.map=m2,Te.mapKeys=qj,Te.mapValues=Wj,Te.matches=OR,Te.matchesProperty=FR,Te.memoize=b2,Te.merge=zj,Te.mergeWith=yE,Te.method=BR,Te.methodOf=UR,Te.mixin=c6,Te.negate=v2,Te.nthArg=qR,Te.omit=Vj,Te.omitBy=$j,Te.once=HP,Te.orderBy=AP,Te.over=WR,Te.overArgs=qP,Te.overEvery=zR,Te.overSome=VR,Te.partial=t6,Te.partialRight=uE,Te.partition=kP,Te.pick=Gj,Te.pickBy=xE,Te.property=kE,Te.propertyOf=$R,Te.pull=AI,Te.pullAll=QS,Te.pullAllBy=kI,Te.pullAllWith=CI,Te.pullAt=TI,Te.range=GR,Te.rangeRight=YR,Te.rearg=WP,Te.reject=DP,Te.remove=DI,Te.rest=zP,Te.reverse=Z5,Te.sampleSize=PP,Te.set=Xj,Te.setWith=Kj,Te.shuffle=jP,Te.slice=II,Te.sortBy=LP,Te.sortedUniq=FI,Te.sortedUniqBy=BI,Te.split=yR,Te.spread=VP,Te.tail=UI,Te.take=HI,Te.takeRight=qI,Te.takeRightWhile=WI,Te.takeWhile=zI,Te.tap=iP,Te.throttle=$P,Te.thru=p2,Te.toArray=mE,Te.toPairs=wE,Te.toPairsIn=_E,Te.toPath=QR,Te.toPlainObject=bE,Te.transform=Jj,Te.unary=GP,Te.union=VI,Te.unionBy=$I,Te.unionWith=GI,Te.uniq=YI,Te.uniqBy=XI,Te.uniqWith=KI,Te.unset=Zj,Te.unzip=Q5,Te.unzipWith=eE,Te.update=Qj,Te.updateWith=eR,Te.values=C0,Te.valuesIn=tR,Te.without=JI,Te.words=NE,Te.wrap=YP,Te.xor=ZI,Te.xorBy=QI,Te.xorWith=eP,Te.zip=tP,Te.zipObject=rP,Te.zipObjectDeep=nP,Te.zipWith=sP,Te.entries=wE,Te.entriesIn=_E,Te.extend=vE,Te.extendWith=w2,c6(Te,Te),Te.add=tM,Te.attempt=AE,Te.camelCase=iR,Te.capitalize=SE,Te.ceil=rM,Te.clamp=rR,Te.clone=KP,Te.cloneDeep=ZP,Te.cloneDeepWith=QP,Te.cloneWith=JP,Te.conformsTo=ej,Te.deburr=EE,Te.defaultTo=RR,Te.divide=nM,Te.endsWith=aR,Te.eq=bc,Te.escape=oR,Te.escapeRegExp=lR,Te.every=mP,Te.find=bP,Te.findIndex=XS,Te.findKey=Dj,Te.findLast=vP,Te.findLastIndex=KS,Te.findLastKey=Ij,Te.floor=sM,Te.forEach=rE,Te.forEachRight=nE,Te.forIn=Pj,Te.forInRight=jj,Te.forOwn=Rj,Te.forOwnRight=Mj,Te.get=s6,Te.gt=tj,Te.gte=rj,Te.has=Fj,Te.hasIn=i6,Te.head=ZS,Te.identity=Do,Te.includes=SP,Te.indexOf=vI,Te.inRange=nR,Te.invoke=Hj,Te.isArguments=pp,Te.isArray=Xr,Te.isArrayBuffer=nj,Te.isArrayLike=Co,Te.isArrayLikeObject=ri,Te.isBoolean=sj,Te.isBuffer=Hh,Te.isDate=ij,Te.isElement=aj,Te.isEmpty=oj,Te.isEqual=lj,Te.isEqualWith=cj,Te.isError=r6,Te.isFinite=uj,Te.isFunction=Cd,Te.isInteger=dE,Te.isLength=y2,Te.isMap=hE,Te.isMatch=dj,Te.isMatchWith=hj,Te.isNaN=fj,Te.isNative=pj,Te.isNil=gj,Te.isNull=mj,Te.isNumber=fE,Te.isObject=Ls,Te.isObjectLike=Vs,Te.isPlainObject=Cg,Te.isRegExp=n6,Te.isSafeInteger=bj,Te.isSet=pE,Te.isString=x2,Te.isSymbol=Zo,Te.isTypedArray=k0,Te.isUndefined=vj,Te.isWeakMap=yj,Te.isWeakSet=xj,Te.join=SI,Te.kebabCase=cR,Te.last=Il,Te.lastIndexOf=EI,Te.lowerCase=uR,Te.lowerFirst=dR,Te.lt=wj,Te.lte=_j,Te.max=iM,Te.maxBy=aM,Te.mean=oM,Te.meanBy=lM,Te.min=cM,Te.minBy=uM,Te.stubArray=d6,Te.stubFalse=h6,Te.stubObject=XR,Te.stubString=KR,Te.stubTrue=JR,Te.multiply=dM,Te.nth=NI,Te.noConflict=HR,Te.noop=u6,Te.now=g2,Te.pad=hR,Te.padEnd=fR,Te.padStart=pR,Te.parseInt=mR,Te.random=sR,Te.reduce=CP,Te.reduceRight=TP,Te.repeat=gR,Te.replace=bR,Te.result=Yj,Te.round=hM,Te.runInContext=at,Te.sample=IP,Te.size=RP,Te.snakeCase=vR,Te.some=MP,Te.sortedIndex=PI,Te.sortedIndexBy=jI,Te.sortedIndexOf=RI,Te.sortedLastIndex=MI,Te.sortedLastIndexBy=LI,Te.sortedLastIndexOf=OI,Te.startCase=xR,Te.startsWith=wR,Te.subtract=fM,Te.sum=pM,Te.sumBy=mM,Te.template=_R,Te.times=ZR,Te.toFinite=Td,Te.toInteger=en,Te.toLength=gE,Te.toLower=SR,Te.toNumber=Pl,Te.toSafeInteger=Sj,Te.toString=Vn,Te.toUpper=ER,Te.trim=NR,Te.trimEnd=AR,Te.trimStart=kR,Te.truncate=CR,Te.unescape=TR,Te.uniqueId=eM,Te.upperCase=DR,Te.upperFirst=a6,Te.each=rE,Te.eachRight=nE,Te.first=ZS,c6(Te,function(){var k={};return ks(Te,function(q,re){Kr.call(Te.prototype,re)||(k[re]=q)}),k}(),{chain:!1}),Te.VERSION=s,bi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(k){Te[k].placeholder=Te}),bi(["drop","take"],function(k,q){on.prototype[k]=function(re){re=re===e?1:ti(en(re),0);var ae=this.__filtered__&&!q?new on(this):this.clone();return ae.__filtered__?ae.__takeCount__=Wi(re,ae.__takeCount__):ae.__views__.push({size:Wi(re,j),type:k+(ae.__dir__<0?"Right":"")}),ae},on.prototype[k+"Right"]=function(re){return this.reverse()[k](re).reverse()}}),bi(["filter","map","takeWhile"],function(k,q){var re=q+1,ae=re==F||re==_;on.prototype[k]=function(be){var Re=this.clone();return Re.__iteratees__.push({iteratee:jr(be,3),type:re}),Re.__filtered__=Re.__filtered__||ae,Re}}),bi(["head","last"],function(k,q){var re="take"+(q?"Right":"");on.prototype[k]=function(){return this[re](1).value()[0]}}),bi(["initial","tail"],function(k,q){var re="drop"+(q?"":"Right");on.prototype[k]=function(){return this.__filtered__?new on(this):this[re](1)}}),on.prototype.compact=function(){return this.filter(Do)},on.prototype.find=function(k){return this.filter(k).head()},on.prototype.findLast=function(k){return this.reverse().find(k)},on.prototype.invokeMap=Qr(function(k,q){return typeof k=="function"?new on(this):this.map(function(re){return yd(re,k,q)})}),on.prototype.reject=function(k){return this.filter(v2(jr(k)))},on.prototype.slice=function(k,q){k=en(k);var re=this;return re.__filtered__&&(k>0||q<0)?new on(re):(k<0?re=re.takeRight(-k):k&&(re=re.drop(k)),q!==e&&(q=en(q),re=q<0?re.dropRight(-q):re.take(q-k)),re)},on.prototype.takeRightWhile=function(k){return this.reverse().takeWhile(k).reverse()},on.prototype.toArray=function(){return this.take(j)},ks(on.prototype,function(k,q){var re=/^(?:filter|find|map|reject)|While$/.test(q),ae=/^(?:head|last)$/.test(q),be=Te[ae?"take"+(q=="last"?"Right":""):q],Re=ae||/^find/.test(q);be&&(Te.prototype[q]=function(){var We=this.__wrapped__,et=ae?[1]:arguments,dt=We instanceof on,jt=et[0],Mt=dt||Xr(We),Wt=function(hn){var vn=be.apply(Te,Ai([hn],et));return ae&&sr?vn[0]:vn};Mt&&re&&typeof jt=="function"&&jt.length!=1&&(dt=Mt=!1);var sr=this.__chain__,gr=!!this.__actions__.length,Mr=Re&&!sr,rn=dt&&!gr;if(!Re&&Mt){We=rn?We:new on(this);var Lr=k.apply(We,et);return Lr.__actions__.push({func:p2,args:[Wt],thisArg:e}),new Qa(Lr,sr)}return Mr&&rn?k.apply(this,et):(Lr=this.thru(Wt),Mr?ae?Lr.value()[0]:Lr.value():Lr)})}),bi(["pop","push","shift","sort","splice","unshift"],function(k){var q=Nl[k],re=/^(?:push|sort|unshift)$/.test(k)?"tap":"thru",ae=/^(?:pop|shift)$/.test(k);Te.prototype[k]=function(){var be=arguments;if(ae&&!this.__chain__){var Re=this.value();return q.apply(Xr(Re)?Re:[],be)}return this[re](function(We){return q.apply(Xr(We)?We:[],be)})}}),ks(on.prototype,function(k,q){var re=Te[q];if(re){var ae=re.name+"";Kr.call(Fh,ae)||(Fh[ae]=[]),Fh[ae].push({name:q,func:re})}}),Fh[o2(e,x).name]=[{name:"wrapper",func:e}],on.prototype.clone=T5,on.prototype.reverse=h0,on.prototype.value=f0,Te.prototype.at=aP,Te.prototype.chain=oP,Te.prototype.commit=lP,Te.prototype.next=cP,Te.prototype.plant=dP,Te.prototype.reverse=hP,Te.prototype.toJSON=Te.prototype.valueOf=Te.prototype.value=fP,Te.prototype.first=Te.prototype.head,Lh&&(Te.prototype[Lh]=uP),Te},Vo=ac();Sl?((Sl.exports=Vo)._=Vo,Xa._=Vo):zn._=Vo}).call(Sb)})(Qx,Qx.exports);var zz=Qx.exports;const Ct=({label:n,name:r,type:t="text",options:e=[],register:s,value:i,errors:a,select:o,onChange:c,valueData:u,setValue:l,append:d,isArray:f,control:h,arrayDate:p,errorValue:g,arrayString:v})=>{var E,I,T,R,D;const[m,x]=ne.useState(i||(f?[]:""));ne.useEffect(()=>{if(i!==void 0){const L=Array.isArray(i)?i:f?[i]:i;x(L)}},[i,f]);const y=(E=zz.get(a,r))==null?void 0:E.message,w=L=>{const M=L.target.value;if(d){const H=m.includes(M)?m:[...m,M];x(H),l&&l(r,H),c&&c(L)}else x(M),l&&l(r,f?[M]:M),c&&c(L)};return b.jsxs("div",{className:"form-group w-full",children:[b.jsx("label",{className:"block text_size_6",children:n}),t==="selectOption"?b.jsxs("select",{className:"input-field select-custom",...s(r),value:m[m.length-1],onChange:L=>{w(L)},children:[b.jsx("option",{value:"",children:o||" "}),e==null?void 0:e.map((L,M)=>b.jsx("option",{value:L.value,children:L.label},M))]}):t==="select"?b.jsxs("select",{className:"input-field select-custom",...s(r),onChange:w,children:[b.jsx("option",{value:`${u||""}`,children:o}),e==null?void 0:e.map((L,M)=>b.jsx("option",{value:L.value,children:L.label},M))]}):p&&h?b.jsx(Jn,{name:r,control:h,render:({field:L})=>b.jsx("div",{children:b.jsx("input",{className:"input-field border",type:"date",...L,value:L.value||"",onChange:M=>{const H=M.target.value;L.onChange(f?[H]:H)}})})}):v&&h?b.jsx(Jn,{name:r,control:h,render:({field:L})=>b.jsx("div",{children:b.jsx("input",{type:"text",className:"input-field border",...L,value:L.value||"",onChange:M=>{const H=M.target.value;L.onChange(f?[H]:H)}})})}):t==="textarea"?b.jsx("textarea",{className:"input-field border",...s(r),rows:4,value:i,onChange:L=>{c&&c(L)}}):b.jsx("input",{type:t,value:i,className:"input-field border",...s(r)}),m==="other"&&b.jsx("input",{type:"text",className:"input-field border mt-2",placeholder:"Please specify",value:i,...s(`${r}Details`)}),((T=(I=g==null?void 0:g[r])==null?void 0:I[0])==null?void 0:T.message)&&b.jsx("p",{className:"text-[red] text-[12px] pt-2",children:(D=(R=g==null?void 0:g[r])==null?void 0:R[0])==null?void 0:D.message}),y&&b.jsx("p",{className:"text-[red] text-[12px] pt-2",children:y})]})},Qw=[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],Vz=[{value:"English",label:"English"},{value:"Mandarin",label:"Mandarin"},{value:"Malay",label:"Malay"},{value:"Tamil",label:"Tamil"},{value:"Other",label:"Other"}],E9=[{value:"Malay",label:"Malay"},{value:"Chinese",label:"Chinese"},{value:"Indian",label:"Indian"},{value:"Other",label:"Other"}],N9=[{value:"Islam",label:"Islam"},{value:"Christian",label:"Christian"},{value:"Hindu",label:"Hindu"},{value:"Buddhist",label:"Buddhist"},{value:"Free Thinker",label:"Free Thinker"},{value:"Not Mentioned",label:"Not Mentioned"}],$z=[{value:"Local",label:"Local"},{value:"Foreigner",label:"Foreigner"}],P8=[{value:"Single",label:"Single"},{value:"Married",label:"Married"},{value:"Widow",label:"Widow"},{value:"Divorce",label:"Divorce"}],e5=[{value:"Bruneian",label:"Bruneian"},{value:"Brunei PR",label:"Brunei PR"},{value:"Malaysian",label:"Malaysian"},{value:"Indonesian",label:"Indonesian"},{value:"Indian",label:"Indian"},{value:"Bangladeshi",label:"Bangladeshi"},{value:"Thai",label:"Thai"},{value:"Sri Lankan",label:"Sri Lankan"},{value:"Filipino",label:"Filipino"},{value:"Other",label:"Other"}],A9=[{value:"Local",label:"Local"},{value:"LPA",label:"LPA"},{value:"SAWP",label:"SAWP"}],Gz=[{value:"Onshore",label:"OnShore"},{value:"Offshore",label:"OffShore"}],Yz=[{value:"Brunei",label:"Brunei"},{value:"Malaysia",label:"Malaysia"},{value:"Indonesia",label:"Indonesia"},{value:"India",label:"India"},{value:"Bangladesh",label:"Bangladesh"},{value:"Thailand",label:"Thailand"},{value:"Sri Lanka",label:"Sri Lanka"},{value:"Philippines",label:"Philippines"},{value:"Other",label:"Other"}],k9=[{value:"Yellow",label:"Yellow"},{value:"Red",label:"Red"},{value:"Green",label:"Green"}],Xz=[{value:"Postgraduate",label:"Postgraduate"},{value:"Bachelor or Equivalent",label:"Bachelor or Equivalent"},{value:"Advance Diploma or Equivalant",label:"Advance Diploma or Equivalent"},{value:"Technical/Vocational/Diploma/Certificate",label:"Technical/Vocational/Diploma/Certificate"},{value:"Secondary Education",label:"Secondary Education"},{value:"Primary Education or Below",label:"Primary Education or Below"},{value:"Others",label:"Others"}],Kz=[{label:"Brunei IC Loc/Non-Loc",icon:b.jsx(Bs,{}),title:"bwnUpload"},{label:"Malaysia IC",icon:b.jsx(Bs,{}),title:"myIcUpload"},{label:"Passport Copy",icon:b.jsx(Bs,{}),title:"ppUpload"},{label:"CV & Certificates",icon:b.jsx(Bs,{}),title:"cvCertifyUpload"},{label:"Application Form",icon:b.jsx(Bs,{}),title:"applicationUpload"},{label:"LOI",icon:b.jsx(Bs,{}),title:"loiUpload"},{label:"PAAF/CVEV Approval",icon:b.jsx(Bs,{}),title:"paafCvevUpload"},{label:"Any Supporting Doc",icon:b.jsx(Bs,{}),title:"supportDocUpload"}],Jz=[{value:"own",label:"Own"},{value:"company",label:"Company"}],Zz=[{value:"Corporate",label:"Corporate"},{value:"Human Resources",label:"Human Resources"},{value:"Accounts",label:"Accounts"},{value:"LBD",label:"LBD"},{value:"Purchasing",label:"Purchasing"},{value:"Offshore",label:"Offshore"},{value:"BLNG",label:"BLNG"},{value:"CPD",label:"CPD"},{value:"E&I",label:"E&I"},{value:"Other",label:"Other"}],Qz=[{value:"",label:"Select Category"},{value:"Director",label:"Director"},{value:"Mechanic",label:"Mechanic"},{value:"Manager",label:"Manager"},{value:"Blaster/Painter",label:"Blaster/Painter"},{value:"Coordinator",label:"Coordinator"},{value:"Fitter",label:"Fitter"},{value:"Superintendent",label:"Superintendent"},{value:"Welder",label:"Welder"},{value:"Inspector",label:"Inspector"},{value:"Machinist",label:"Machinist"},{value:"Engineer",label:"Engineer"},{value:"Scaffolder",label:"Scaffolder"},{value:"Supervisor",label:"Supervisor"},{value:"Storekeeper",label:"Storekeeper"},{value:"Safety",label:"Safety"},{value:"Insulation",label:"Insulation"},{value:"Technician",label:"Technician"},{value:"Leadman",label:"Leadman"},{value:"Rigger/Field Support",label:"Rigger/Field Support"},{value:"Clerical",label:"Clerical"},{value:"Helper/Store Assistant",label:"Helper/Store Assistant"},{value:"Electrician",label:"Electrician"},{value:"Driver",label:"Driver"},{value:"Driver/Operator",label:"Driver/Operator"},{value:"Other",label:"Other"}],eV=[{label:"Contract",icon:b.jsx(Bs,{}),title:"WIContract"},{label:"Probation",icon:b.jsx(Bs,{}),title:"WIProbation"},{label:"Resignation",icon:b.jsx(Bs,{}),title:"WIResignation"},{label:"Termination",icon:b.jsx(Bs,{}),title:"WITermination"},{label:"Leave Entitlement",icon:b.jsx(Bs,{}),title:"WILeaveEntitle"}],tV=()=>{var h,p,g,v;ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const n=Ga();ne.useState(null),(h=Xu().state)==null||h.editingData;const{register:t,handleSubmit:e,setValue:s,watch:i,formState:{errors:a}}=ds({resolver:vs(RM),defaultValues:JSON.parse(localStorage.getItem("applicantFormData"))||{}}),[o,c]=ne.useState({profilePhoto:null}),[u,l]=ne.useState(null);ne.useEffect(()=>{const m=JSON.parse(localStorage.getItem("applicantFormData"));m&&Object.keys(m).forEach(x=>s(x,m[x]))},[s]);const d=async m=>{const x=m.target.files[0];x&&(l(x),s("profilePhoto",x),await di(x,"profilePhoto",c,"Employee"))},f=async m=>{try{console.log(m);const x={...m,profilePhoto:o.profilePhoto};localStorage.setItem("applicantFormData",JSON.stringify(x)),n("/addCandidates/personalDetails",{state:{FormData:x}}),c({profilePhoto:null})}catch(x){console.log(x)}};return b.jsx("section",{className:"w-full",children:b.jsxs("form",{className:"",onSubmit:e(f),children:[b.jsxs("div",{className:"flex justify-between items-center flex-wrap",children:[b.jsx("div",{className:"mt-10 mb-5 text_size_6",children:b.jsx(Ct,{label:"Applying for the position of",register:t,name:"position",type:"text",errors:a})}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-center items-center gap-5",children:[b.jsx("input",{type:"radio",id:"offshore",...t("empType"),value:"Offshore"}),b.jsx("label",{htmlFor:"offshore",children:"Offshore"}),b.jsx("input",{type:"radio",id:"onshore",...t("empType"),value:"Onshore"}),b.jsx("label",{htmlFor:"onshore",children:"Onshore"})]}),a.empType&&b.jsx("p",{className:"text-[red] text-[13px] text-center mt-3",children:a.empType.message})]}),b.jsxs("div",{className:"py-2 center flex-col max-w-[160px]",children:[b.jsx("input",{type:"file",id:"fileInput",name:"profilePhoto",accept:".jpg,.jpeg,.png",onChange:d,className:"hidden"}),b.jsxs("div",{className:"h-[120px] max-w-[120px] relative rounded-md bg-lite_skyBlue",children:[b.jsx("img",{src:u?URL.createObjectURL(u):o.profilePhoto?o.profilePhoto:Lx,id:"previewImg",alt:"profile",className:"object-cover w-full h-full",onError:m=>m.target.src=Lx}),(u||o.profilePhoto)&&b.jsx("div",{className:"absolute top-24 -right-3  bg-lite_grey p-[2px] rounded-full cursor-pointer",onClick:()=>document.getElementById("fileInput").click(),children:b.jsx(eA,{className:"w-6 h-6 p-1"})})]}),!u&&!o.profilePhoto&&b.jsx("div",{className:"mt-1 rounded-lg text-center",children:b.jsx("button",{type:"button",className:"text_size_6",onClick:()=>document.getElementById("fileInput").click(),children:"Choose Image"})}),a.profilePhoto&&b.jsx("p",{className:"text-[red] text-[13px] text-center",children:a.profilePhoto.message})]})]}),b.jsx("div",{className:"grid grid-cols-2 gap-x-12 gap-y-5 mb-4 text_size_6",children:[{label:"Contract Type",name:"contractType",type:"select",options:A9},{label:"Agent",name:"agent",type:"text"},{label:"Name",name:"name",type:"text"},{label:"Chinese characters (if applicable)",name:"chinese",type:"text"},{label:"Gender",name:"gender",type:"select",options:Qw},{label:"Date of Birth",name:"dob",type:"date"},{label:"Age",name:"age",type:"number",min:20,max:99},{label:"Email ID",name:"email",type:"email"},{label:"Marital Status",name:"marital",type:"select",options:P8},{label:"Country of Birth",name:"cob",type:"text"},{label:"Nationality",name:"nationality",type:"select",options:e5},{label:"Other Nationality",name:"otherNation",type:"text",disabled:((p=i("nationality"))==null?void 0:p.toLowerCase())!=="other"},{label:"Race",name:"race",type:"select",options:E9},{label:"Other Race",name:"otherRace",type:"text",disabled:((g=i("race"))==null?void 0:g.toLowerCase())!=="other"},{label:"Religion",name:"religion",type:"select",options:N9},{label:"Other Religion",name:"otherReligion",type:"text",disabled:((v=i("religion"))==null?void 0:v.toLowerCase())!=="other"}].map((m,x)=>{var y;return b.jsxs("div",{children:[b.jsx("label",{className:"block",children:m.label}),m.type==="select"?b.jsxs("select",{...t(m.name),className:"mt-2 p-2.5 text_size_7 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full",children:[b.jsx("option",{value:""}),(m.options||[]).map((w,E)=>b.jsx("option",{value:w.value,children:w.label},E))]}):b.jsx("input",{...t(m.name),type:m.type,disabled:m.disabled,min:m.min,max:m.max,className:"mt-2 p-2 text_size_7 bg-lite_skyBlue border border-[#dedddd] text-dark_grey   outline-none rounded w-full"}),a[m.name]&&b.jsx("p",{className:"text-[red] text-[13px]",children:(y=a[m.name])==null?void 0:y.message})]},x)})}),b.jsx("div",{className:"flex justify-center my-10 gap-10",children:b.jsx("button",{type:"submit",className:"primary_btn",children:"Next"})})]})})};function rV(n){return Fn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 13.5V4a2 2 0 0 1 2-2h8.5L20 7.5V20a2 2 0 0 1-2 2h-5.5"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"path",attr:{d:"M10.42 12.61a2.1 2.1 0 1 1 2.97 2.97L7.95 21 4 22l.99-3.95 5.43-5.44Z"},child:[]}]})(n)}function C9(n){return Fn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(n)}function Df(n){return Fn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"18",height:"18",x:"3",y:"3",rx:"2"},child:[]},{tag:"path",attr:{d:"M8 12h8"},child:[]}]})(n)}function Wu(n){return Fn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"18",height:"18",x:"3",y:"3",rx:"2"},child:[]},{tag:"path",attr:{d:"M8 12h8"},child:[]},{tag:"path",attr:{d:"M12 8v8"},child:[]}]})(n)}Pr();const nV=()=>{var E,I;const r=(E=Xu().state)==null?void 0:E.FormData;ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{register:t,handleSubmit:e,control:s,setValue:i,formState:{errors:a}}=ds({resolver:vs(MM(r==null?void 0:r.nationality)),defaultValues:{familyDetails:[{}],eduDetails:[{university:"",fromDate:"",toDate:"",degree:""}],workExperience:[{}]}});ne.useEffect(()=>{const T=JSON.parse(localStorage.getItem("personalFormData"));T&&Object.keys(T).forEach(R=>i(R,T[R]))},[i]);const{fields:o,append:c,remove:u}=Af({control:s,name:"familyDetails"}),{fields:l,append:d,remove:f}=Af({control:s,name:"eduDetails"}),{fields:h,append:p,remove:g}=Af({control:s,name:"workExperience"}),v=()=>{c({isNew:!0})},m=()=>{d({isNew:!0})},x=()=>{p({isNew:!0})},y=Ga(),w=T=>{const R={...T,...r};localStorage.setItem("personalFormData",JSON.stringify(R)),console.log(R),y("/addCandidates/educationDetails",{state:{FormData:R}})};return b.jsxs("form",{onSubmit:e(w),className:" mx-auto py-6",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text_size_6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block mb-1",children:"Contact Number"}),b.jsx("input",{type:"text",...t("contactNo"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"}),a.contactNo&&b.jsx("p",{className:"text-[red] text-[12px]",children:a.contactNo.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block mb-1",children:"Alternate Number"}),b.jsx("input",{type:"text",...t("alternateNo"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd]  text-dark_grey outline-none rounded w-full"}),a.alternateNo&&b.jsx("p",{className:"text-[red] text-[12px]",children:a.alternateNo.message})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text_size_6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block mb-1",children:"Present Address"}),b.jsx("input",{type:"text",...t("presentAddress"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"}),a.presentAddress&&b.jsx("p",{className:"text-[red] text-[12px]",children:a.presentAddress.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block mb-1",children:"Permanent Address"}),b.jsx("input",{type:"text",...t("permanentAddress"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"}),b.jsx("p",{className:"text-[red] text-[12px]",children:(I=a.permanentAddress)==null?void 0:I.message})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text_size_6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block mb-1",children:"Driving License Class"}),b.jsx("input",{type:"text",...t("driveLic"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block mb-1",children:"Language Proficiency"}),b.jsxs("select",{...t("lang"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full",children:[b.jsx("option",{value:""}),Vz.map((T,R)=>b.jsx("option",{value:T.value,children:T.label},R))]}),a.lang&&b.jsx("p",{className:"text-[red] text-[12px]",children:a.lang.message})]})]}),b.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4 text_size_6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block mb-1",children:"Brunei I/C No"}),b.jsx("input",{type:"text",...t("bwnIcNo"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"}),a.bwnIcNo&&b.jsx("p",{className:"text-[red] text-[12px]",children:a.bwnIcNo.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block mb-1",children:"Brunei I/C Colour"}),b.jsxs("select",{...t("bwnIcColour"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full",children:[b.jsx("option",{value:""}),k9.map((T,R)=>b.jsx("option",{value:T.value,children:T.label},R))]}),a.bwnIcColour&&b.jsx("p",{className:"text-[red] text-[12px]",children:a.bwnIcColour.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block mb-1",children:"Brunei I/C Expiry"}),b.jsx("input",{type:"date",...t("bwnIcExpiry"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"}),a.bwnIcExpiry&&b.jsx("p",{className:"text-[red] text-[12px]",children:a.bwnIcExpiry.message})]})]}),b.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4 text_size_6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block mb-1",children:"Passport Number"}),b.jsx("input",{type:"text",...t("ppNo"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"}),a.ppNo&&b.jsx("p",{className:"text-[red] text-[12px] ",children:a.ppNo.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block mb-1",children:"Passport issued date"}),b.jsx("input",{type:"date",...t("ppIssued"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"}),a.ppIssued&&b.jsx("p",{className:"text-[red] text-[12px]",children:a.ppIssued.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block mb-1",children:"Passport Expiry"}),b.jsx("input",{type:"date",...t("ppExpiry"),className:"mt-2 text_size_9 p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"}),a.ppExpiry&&b.jsx("p",{className:"text-[red] text-[12px]",children:a.ppExpiry.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block mb-1",children:"Passport issued destination"}),b.jsx("input",{type:"text",...t("ppDestinate"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"}),a.ppDestinate&&b.jsx("p",{className:"text-[red] text-[12px]",children:a.ppDestinate.message})]})]}),b.jsxs("div",{className:"mb-4 relative text_size_6",children:[b.jsx("label",{className:"block mb-1",children:"Particulars of Immediate Family (Spouse, Children, Parents, Brothers & Sisters)"}),o.map((T,R)=>b.jsxs("div",{className:"grid grid-cols-5 gap-4 mb-2",children:[b.jsx("input",{type:"text",...t(`familyDetails.${R}.name`),placeholder:"Name",className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),b.jsx("input",{type:"text",...t(`familyDetails.${R}.relationship`),placeholder:"Relationship",className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),b.jsx("input",{type:"text",...t(`familyDetails.${R}.age`),placeholder:"Age",className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),b.jsx("input",{type:"text",...t(`familyDetails.${R}.occupation`),placeholder:"Occupation",className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),b.jsx("input",{type:"text",...t(`familyDetails.${R}.placeOfOccupation`),placeholder:"Place of Occupation",className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),T.isNew&&b.jsxs("button",{type:"button",onClick:()=>u(R),className:"absolute top-15 -right-7 text-medium_grey text-[18px]",children:[b.jsx(Df,{})," "]})]},T.id)),b.jsx("button",{type:"button",onClick:v,className:"absolute top-11 -right-7 text-medium_grey text-[18px]",children:b.jsx(Wu,{})})]}),b.jsxs("div",{className:"mb-4 relative text_size_6",children:[b.jsx("label",{className:"block mb-1",children:"Education Details"}),l.map((T,R)=>b.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-2",children:[b.jsx(Jn,{name:`eduDetails.${R}.university`,control:s,render:({field:D})=>{var L,M;return b.jsxs("div",{className:"flex flex-col",children:[b.jsx("textarea",{...D,placeholder:"School / University / Professional Institute",className:"resize-none text_size_9 mt-2 p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),((M=(L=a.eduDetails)==null?void 0:L[R])==null?void 0:M.university)&&b.jsx("p",{className:"text-[red] text-xs mt-1",children:a.eduDetails[R].university.message})]})}}),b.jsx(Jn,{name:`eduDetails.${R}.fromDate`,control:s,render:({field:D})=>{var L,M;return b.jsxs("div",{className:"flex flex-col",children:[b.jsx("textarea",{...D,type:"date",placeholder:"From Date",className:"resize-none mt-2 p-2.5 text_size_9  bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),((M=(L=a.eduDetails)==null?void 0:L[R])==null?void 0:M.fromDate)&&b.jsx("p",{className:"text-[red] text-xs mt-1",children:a.eduDetails[R].fromDate.message})]})}}),b.jsx(Jn,{name:`eduDetails.${R}.toDate`,control:s,render:({field:D})=>{var L,M;return b.jsxs("div",{className:"flex flex-col",children:[b.jsx("textarea",{...D,type:"date",placeholder:"To Date",className:"resize-none mt-2 p-2.5 text_size_9  bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),((M=(L=a.eduDetails)==null?void 0:L[R])==null?void 0:M.toDate)&&b.jsx("p",{className:"text-[red] text-xs mt-1",children:a.eduDetails[R].toDate.message})]})}}),b.jsx(Jn,{name:`eduDetails.${R}.degree`,control:s,render:({field:D})=>{var L,M;return b.jsxs("div",{className:"flex flex-col",children:[b.jsx("textarea",{...D,placeholder:"Highest Standard / Passed / Certificate / Degree / Professional Qualification",className:"resize-none mt-2 p-2.5  bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded text_size_9"}),((M=(L=a.eduDetails)==null?void 0:L[R])==null?void 0:M.degree)&&b.jsx("p",{className:"text-[red] text-xs mt-1",children:a.eduDetails[R].degree.message})]})}}),T.isNew&&b.jsxs("button",{type:"button",onClick:()=>f(R),className:"absolute top-15 -right-7 text-medium_grey text-[18px]",children:[b.jsx(Df,{})," "]})]},T.id)),b.jsx("button",{type:"button",onClick:m,className:"absolute top-12 -right-7 text-medium_grey text-[18px]",children:b.jsx(Wu,{})})]}),b.jsxs("div",{className:"mb-4 relative text_size_6",children:[b.jsx("label",{className:"block mb-1",children:"Previous Employment Including Temporary Work"}),h.map((T,R)=>b.jsxs("div",{className:"grid grid-cols-6 gap-4 mb-2",children:[b.jsx("input",{type:"text",...t(`workExperience.${R}.name`),placeholder:"Name and Address",className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),b.jsx("input",{type:"text",...t(`workExperience.${R}.position`),placeholder:"Position Held",className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),b.jsx("input",{type:"date",...t(`workExperience.${R}.from`),placeholder:"From",className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),b.jsx("input",{type:"date",...t(`workExperience.${R}.to`),placeholder:"To",className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),b.jsx("input",{type:"text",...t(`workExperience.${R}.salary`),placeholder:"Salary",className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),b.jsx("input",{type:"text",...t(`workExperience.${R}.reasonForLeaving`),placeholder:"Reason for Leaving",className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),T.isNew&&b.jsxs("button",{type:"button",onClick:()=>g(R),className:"absolute top-15 -right-7 text-medium_grey text-[18px]",children:[b.jsx(Df,{})," "]})]},T.id)),b.jsx("button",{type:"button",onClick:x,className:"absolute top-11 -right-7 text-medium_grey text-[18px]",children:b.jsx(Wu,{})})]}),b.jsx("div",{className:"flex justify-center mt-12 gap-10",children:b.jsx("button",{type:"submit",className:"primary_btn",children:"Next"})})]})};Pr();const sV=()=>{var w;const r=(w=Xu().state)==null?void 0:w.FormData;ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{handleSubmit:t,control:e,formState:{errors:s},watch:i}=ds({resolver:vs(LM),defaultValues:{referees:[{name:"",address:"",telephone:"",profession:""}],relatives:[{name:"",positionHeld:"",relationship:""}],emgDetails:[{name:"",relationship:"",address:"",phoneNumber:"",bloodGroup:""}],disease:"no",liquor:"no",crime:"no",diseaseDesc:"",liquorDesc:"",crimeDesc:""}}),a=Ga(),{fields:o,append:c,remove:u}=Af({control:e,name:"emgDetails"}),{fields:l,append:d,remove:f}=Af({control:e,name:"referees"}),{fields:h,append:p,remove:g}=Af({control:e,name:"relatives"}),v=()=>{c({name:"",relationship:"",address:"",phoneNumber:"",bloodGroup:"",isNew:!0})},m=()=>{d({name:"",address:"",telephone:"",profession:"",isNew:!0})},x=()=>{p({name:"",positionHeld:"",relationship:"",isNew:!0})},y=E=>{console.log(E);const I={...E,...r};console.log(I),a("/addCandidates/otherDetails",{state:{FormData:I}})};return b.jsxs("form",{onSubmit:t(y),className:"",children:[b.jsxs("div",{className:"relative mt-10",children:[b.jsxs("label",{className:"text_size_6 mb-3",children:["Characters Referees"," ",b.jsx("span",{className:"text-[#838383]",children:"(Names of relatives should not be given)"})]}),l.map((E,I)=>b.jsxs("div",{className:"flex gap-2 mb-7",children:[b.jsx(Jn,{name:`referees.${I}.name`,control:e,render:({field:T})=>b.jsx("input",{...T,placeholder:"Name",className:"mt-2  text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"})}),b.jsx(Jn,{name:`referees.${I}.address`,control:e,render:({field:T})=>b.jsx("input",{...T,placeholder:"Address",className:"mt-2  text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"})}),b.jsx(Jn,{name:`referees.${I}.telephone`,control:e,render:({field:T})=>b.jsx("input",{...T,placeholder:"Telephone",className:"mt-2 text_size_7 w-[150px] p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"})}),b.jsx(Jn,{name:`referees.${I}.profession`,control:e,render:({field:T})=>b.jsx("input",{...T,placeholder:"Profession",className:"mt-2 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"})}),E.isNew&&b.jsx("button",{type:"button",onClick:()=>f(I),className:"absolute top-15 -right-7 text-medium_grey text-[18px]",children:b.jsx(Df,{})})]},E.id)),b.jsx("button",{type:"button",onClick:m,className:"absolute top-11 -right-7 text-medium_grey text-[18px]",children:b.jsx(Wu,{})})]}),b.jsxs("div",{className:"relative",children:[b.jsx("label",{className:"text_size_6 mb-3",children:"Relatives Employed by the company"}),h.map((E,I)=>b.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-7",children:[b.jsx(Jn,{name:`relatives.${I}.name`,control:e,render:({field:T})=>b.jsx("input",{...T,placeholder:"Name",className:"mt-2  text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"})}),b.jsx(Jn,{name:`relatives.${I}.positionHeld`,control:e,render:({field:T})=>b.jsx("input",{...T,placeholder:"Position Held",className:"mt-2  text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"})}),b.jsx(Jn,{name:`relatives.${I}.relationship`,control:e,render:({field:T})=>b.jsx("input",{...T,placeholder:"Relationship",className:"mt-2  text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"})}),E.isNew&&b.jsxs("button",{type:"button",onClick:()=>g(I),className:"absolute top-15 -right-7 text-medium_grey text-[18px]",children:[b.jsx(Df,{})," "]})]},E.id)),b.jsx("button",{type:"button",onClick:x,className:"absolute top-11 -right-7 text-medium_grey text-[18px]",children:b.jsx(Wu,{})})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_6 mb-3",children:"Brief Description of Present Duties"}),b.jsx(Jn,{name:"description",control:e,render:({field:E})=>b.jsx("textarea",{...E,className:"resize-none mt-2 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full",rows:"3"})})]}),b.jsxs("div",{className:"mb-4 relative text_size_6",children:[b.jsx("label",{className:"block mb-1",children:"In Case of Accident / Emergency"}),o.map((E,I)=>b.jsxs("div",{className:"grid grid-cols-5 gap-3 mb-2",children:[b.jsx(Jn,{name:`emgDetails.${I}.name`,control:e,render:({field:T})=>{var R,D;return b.jsxs("div",{className:"flex flex-col",children:[b.jsx("input",{...T,placeholder:"Name of Person notify",className:"resize-none text_size_9 mt-2   p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),((D=(R=s.emgDetails)==null?void 0:R[I])==null?void 0:D.name)&&b.jsx("p",{className:"text-[red] text-xs mt-1",children:s.emgDetails[I].name.message})]})}}),b.jsx(Jn,{name:`emgDetails.${I}.relationship`,control:e,render:({field:T})=>{var R,D;return b.jsxs("div",{className:"flex flex-col",children:[b.jsx("input",{...T,placeholder:"Relationship",className:"mt-2 p-2.5 text_size_9  bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),((D=(R=s.emgDetails)==null?void 0:R[I])==null?void 0:D.relationship)&&b.jsx("p",{className:"text-[red] text-xs mt-1",children:s.emgDetails[I].relationship.message})]})}}),b.jsx(Jn,{name:`emgDetails.${I}.address`,control:e,render:({field:T})=>{var R,D;return b.jsxs("div",{className:"flex flex-col",children:[b.jsx("input",{...T,placeholder:"Address",className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),((D=(R=s.emgDetails)==null?void 0:R[I])==null?void 0:D.address)&&b.jsx("p",{className:"text-[red] text-xs mt-1",children:s.emgDetails[I].address.message})]})}}),b.jsx(Jn,{name:`emgDetails.${I}.phoneNumber`,control:e,render:({field:T})=>{var R,D;return b.jsxs("div",{className:"flex flex-col",children:[b.jsx("input",{...T,placeholder:"Contant Number",className:" mt-2 p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded text_size_9"}),((D=(R=s.emgDetails)==null?void 0:R[I])==null?void 0:D.phoneNumber)&&b.jsx("p",{className:"text-[red] text-xs mt-1",children:s.emgDetails[I].phoneNumber.message})]})}}),b.jsx(Jn,{name:`emgDetails.${I}.bloodGroup`,control:e,render:({field:T})=>{var R,D;return b.jsxs("div",{className:"flex flex-col",children:[b.jsx("input",{...T,placeholder:"Blood Group",className:" mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),((D=(R=s.emgDetails)==null?void 0:R[I])==null?void 0:D.bloodGroup)&&b.jsx("p",{className:"text-[red] text-xs mt-1",children:s.emgDetails[I].bloodGroup.message})]})}}),E.isNew&&b.jsxs("button",{type:"button",onClick:()=>u(I),className:"absolute top-15 -right-7 text-medium_grey text-[18px]",children:[b.jsx(Df,{})," "]})]},E.id)),b.jsx("button",{type:"button",onClick:v,className:"absolute top-11 -right-7 text-medium_grey text-[18px]",children:b.jsx(Wu,{})})]}),[{field:"disease",label:"Have you ever suffered from any disease or received treatment?"},{field:"liquor",label:"Were you ever an alcoholic or substance abuser?"},{field:"crime",label:"Have you ever been convicted of a crime?"}].map((E,I)=>{var T;return b.jsxs("div",{className:"grid grid-cols-1 gap-4 text_size_6 mt-5",children:[b.jsx("div",{children:b.jsx("label",{htmlFor:E.field,className:"text_size_6 mb-2",children:E.label})}),b.jsxs("div",{className:"flex justify-between items-center mb-5",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"flex items-center gap-2",children:b.jsx(Jn,{name:E.field,control:e,defaultValue:"no",render:({field:R})=>b.jsxs(b.Fragment,{children:[b.jsx("input",{type:"radio",id:`${E.field}_yes`,...R,value:"yes",name:`${E.field}`,className:"border p-2.5 rounded"}),b.jsx("label",{htmlFor:`${E.field}_yes`,children:"Yes"})]})})}),b.jsx("div",{className:"flex items-center gap-2",children:b.jsx(Jn,{name:E.field,control:e,defaultValue:"no",render:({field:R})=>b.jsxs(b.Fragment,{children:[b.jsx("input",{type:"radio",id:`${E.field}_no`,...R,value:"no",name:`${E.field}`,defaultChecked:!0,className:"border p-2.5 rounded"}),b.jsx("label",{htmlFor:`${E.field}_no`,children:"No"})]})})})]}),b.jsxs("div",{className:"items-center",children:[b.jsx("label",{htmlFor:`${E.field}Desc`,className:"text_size_7 mr-5 text-[#C7C7C7]",children:"If yes, please provide details"}),b.jsx(Jn,{name:`${E.field}Desc`,control:e,defaultValue:"",render:({field:R})=>b.jsx("input",{id:`${E.field}Desc`,...R,className:`w-[450px] mt-2 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded ${s[`${E.field}Desc`]?"border-red-500":""}`,disabled:i(E.field)!=="yes"})}),s[`${E.field}Desc`]&&b.jsx("p",{className:"text-[red] text-xs mt-4",children:(T=s[`${E.field}Desc`])==null?void 0:T.message})]})]})]},I)}),b.jsx("div",{className:"flex justify-center my-7 gap-10",children:b.jsx("button",{type:"submit",className:"primary_btn",children:"Next"})})]})},iV=()=>{const n=Pr();return{submitODFunc:ne.useCallback(async({reqValue:t,latestTempIDData:e})=>{if(!t||!e)throw new Error("Missing required parameters");const{crime:s,crimeDesc:i,emgDetails:a,noExperience:o,empStatement:c,desc:u,disease:l,diseaseDesc:d,liquor:f,liquorDesc:h,noticePeriod:p,perIS:g,perIDesc:v,referees:m,relatives:x,salaryExpectation:y,supportInfo:w,age:E,alternateNo:I,agent:T,bwnIcNo:R,bwnIcExpiry:D,bwnIcColour:L,contactNo:M,cob:H,contractType:V,chinese:P,dob:F,driveLic:A,email:_,empType:S,eduDetails:N,familyDetails:C,gender:W,lang:j,marital:B,name:G,nationality:X,otherNation:J,otherRace:O,otherReligion:ee,ppNo:U,ppIssued:z,ppExpiry:Z,ppDestinate:te,presentAddress:oe,permanentAddress:ue,profilePhoto:le,position:ce,race:_e,religion:fe,workExperience:ge,uploadResume:xe,uploadCertificate:Le,uploadPp:Me,status:Oe}=t,ze={tempID:e,crime:s,crimeDesc:i,emgDetails:a,noExperience:o,empStatement:c,desc:u,disease:l,diseaseDesc:d,liquor:f,liquorDesc:h,noticePeriod:p,perIS:g,perIDesc:v,referees:m,relatives:x,salaryExpectation:y,supportInfo:w,uploadResume:xe,uploadCertificate:Le,uploadPp:Me},Ke={tempID:e,age:E,alternateNo:I,agent:T,bwnIcNo:R,bwnIcExpiry:D,bwnIcColour:L,contactNo:M,cob:H,contractType:V,chinese:P,dob:F,driveLic:A,email:_,empType:S,eduDetails:N,familyDetails:C,gender:W,lang:j,marital:B,name:G,nationality:X,otherNation:J,otherRace:O,otherReligion:ee,ppNo:U,ppIssued:z,ppExpiry:Z,ppDestinate:te,presentAddress:oe,permanentAddress:ue,profilePhoto:le,position:ce,race:_e,religion:fe,status:Oe,workExperience:ge};console.log(ze);try{await Promise.all([n.graphql({query:OW,variables:{input:Ke}}),n.graphql({query:LW,variables:{input:ze}})]),localStorage.removeItem("applicantFormData"),localStorage.removeItem("personalFormData")}catch(ot){throw console.error("Error executing GraphQL requests:",ot),ot}},[])}},aV=Pr(),oV=()=>{var E,I,T,R,D;const{submitODFunc:n}=iV(),[r,t]=ne.useState(!1),s=(E=Xu().state)==null?void 0:E.FormData,[i,a]=ne.useState(""),[o,c]=ne.useState({uploadResume:null,uploadCertificate:null,uploadPp:null}),[u,l]=ne.useState({uploadResume:null,uploadCertificate:null,uploadPassport:null}),{register:d,control:f,watch:h,handleSubmit:p,setValue:g,formState:{errors:v}}=ds({resolver:vs(OM),defaultValues:{perIS:"no",perIDesc:""}}),m=async(L,M)=>{const H=L.target.files[0];g(M,H);const V=s==null?void 0:s.name;H&&(M==="uploadResume"?(await di(H,"uploadResume",l,V),c(P=>({...P,uploadResume:H.name}))):M==="uploadCertificate"?(await di(H,"uploadCertificate",l,V),c(P=>({...P,uploadCertificate:H.name}))):M==="uploadPp"&&(await di(H,"uploadPassport",l,V),c(P=>({...P,uploadPp:H.name}))))},x=async()=>{var L,M;try{const H=await aV.graphql({query:XN});return(((M=(L=H==null?void 0:H.data)==null?void 0:L.listPersonalDetails)==null?void 0:M.items)||[]).length}catch(H){return console.error("Error fetching total count:",H),0}},y=L=>{const M=L+1;return`TEMP${String(M).padStart(3,"0")}`};ne.useEffect(()=>{(async()=>{const M=await x(),H=y(M);a(H)})()},[]);const w=async L=>{try{const M={...L,...s,eduDetails:JSON.stringify(L.eduDetails),familyDetails:JSON.stringify(L.familyDetails),workExperience:JSON.stringify(L.workExperience),emgDetails:JSON.stringify(L.emgDetails),referees:JSON.stringify(L.referees),relatives:JSON.stringify(L.relatives),uploadResume:u.uploadResume,uploadCertificate:u.uploadCertificate,uploadPp:u.uploadPassport,status:"Acitve"};await n({reqValue:M,latestTempIDData:i}),t(!0)}catch(M){console.log(M),console.error("Error submitting data to AWS:",JSON.stringify(M,null,2))}};return b.jsxs("form",{onSubmit:p(w),className:"pt-5",children:[b.jsxs("div",{className:" grid grid-cols-2 gap-5",children:[b.jsx("div",{className:"mb-4",children:b.jsx(Ct,{label:"Number of Years Experience in Applied Position",register:d,name:"noExperience",type:"text",errors:v})}),b.jsx("div",{className:"mb-4",children:b.jsx(Ct,{label:"Salary Expected",register:d,name:"salaryExpectation",type:"text",errors:v})})]}),b.jsx("div",{className:"mb-4",children:b.jsx(Ct,{label:"  Termination Notice for Present job (month/Date)",register:d,name:"noticePeriod",type:"text",errors:v})}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"text_size_6",children:"Have you been interviewed for a position at this company before?"}),b.jsxs("div",{className:"flex justify-between items-center mt-2 mb-4",children:[b.jsxs("div",{children:[b.jsx(Jn,{name:"perIS",control:f,defaultValue:"no",render:({field:L})=>b.jsxs(b.Fragment,{children:[b.jsx("input",{type:"radio",id:"yes",...L,value:"yes",className:"mr-2 p-3"}),b.jsx("label",{htmlFor:"yes",className:"mr-4 text_size_6",children:"Yes"}),b.jsx("input",{type:"radio",id:"no",...L,value:"no",className:"mr-2 p-3",defaultChecked:!0}),b.jsx("label",{htmlFor:"no",className:"text_size_6",children:"No"})]})}),v.perIS&&b.jsx("p",{className:"text-[red] text-xs mt-1",children:v.perIS.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"w-[350px] text_size_7",children:"If yes, please give Details"}),b.jsx(Jn,{name:"perIDesc",control:f,defaultValue:"",render:({field:L})=>b.jsx("input",{...L,disabled:h("perIS")!=="yes",className:`mt-2 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full ${v.perIDesc?"border-[red]":""}`})}),v.perIDesc&&b.jsx("p",{className:"text-[red] text-xs mt-4",children:v.perIDesc.message})]})]})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"text_size_6 mb-2",children:"Any other information you wish to provide?"}),b.jsx("textarea",{...d("supportInfo"),className:"resize-none mt-2 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full",rows:"4"})]}),b.jsxs("div",{className:"my-5 ",children:[b.jsx("label",{className:"text_size_6",children:"Choose file"}),b.jsxs("div",{className:"flex items-center justify-between mt-3 mb-10 gap-5",children:[b.jsxs("div",{children:[b.jsxs("label",{className:"flex items-center px-3 py-2 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] rounded-md cursor-pointer",children:["Upload Resume",b.jsx("input",{type:"file",...d("uploadResume"),onChange:L=>m(L,"uploadResume"),className:"hidden",accept:"application/pdf, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),b.jsx("span",{className:"ml-2",children:b.jsx(Bs,{})})]}),o.uploadResume?b.jsxs("p",{className:"text-xs mt-1 text-grey",children:["Uploaded: ",o.uploadResume]}):b.jsx("p",{className:"text-[red] text-xs mt-1",children:(I=v==null?void 0:v.uploadResume)==null?void 0:I.message})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"flex items-center px-3 py-2 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] rounded-md cursor-pointer",children:["Qualification Certificate",b.jsx("input",{type:"file",...d("uploadCertificate"),onChange:L=>m(L,"uploadCertificate"),className:"hidden",accept:"application/pdf, image/png, image/jpeg"}),b.jsx("span",{className:"ml-2",children:b.jsx(Bs,{})})]}),o.uploadCertificate?b.jsxs("p",{className:"text-xs mt-1 text-grey",children:["Uploaded: ",o.uploadCertificate]}):b.jsx("p",{className:"text-[red] text-xs mt-1",children:(T=v==null?void 0:v.uploadCertificate)==null?void 0:T.message})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"flex items-center px-3 py-2 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] rounded-md cursor-pointer",children:["Upload IC / Passport",b.jsx("input",{type:"file",...d("uploadPp"),onChange:L=>m(L,"uploadPp"),className:"hidden",accept:"application/pdf, image/png, image/jpeg"}),b.jsx("span",{className:"ml-2",children:b.jsx(Bs,{})})]}),o.uploadPp?b.jsxs("p",{className:"text-xs mt-1 text-grey",children:["Uploaded: ",o.uploadPp]}):b.jsx("p",{className:"text-[red] text-xs mt-1",children:(R=v==null?void 0:v.uploadPp)==null?void 0:R.message})]})]})]}),b.jsxs("div",{className:"flex items-start mb-4",children:[b.jsx("input",{type:"checkbox",id:"employeeStatement",...d("empStatement",{required:"This field is required"}),className:"w-5 h-5 border-medium_grey rounded"}),b.jsx("label",{htmlFor:"empStatement",className:"ml-2 text-gray-700",children:"I Hereby Declare that every statement made by me in this form is true and correct and I understand and agree that any false declaration made by me may be ground for termination of my contract of employment without notice."})]}),v.empStatement&&b.jsx("p",{className:"text-[red] text-sm",children:(D=v==null?void 0:v.empStatement)==null?void 0:D.message}),b.jsx("div",{className:"text-center my-10",children:b.jsx("button",{type:"submit",className:"primary_btn",children:"Submit"})}),r&&b.jsx(fi,{text:"Your Application Submitted Successfully",notification:r,path:"/recrutiles/candidate"})]})},lV=()=>{const n=Ga(),r=Xu(),[t,e]=ne.useState("");ne.useEffect(()=>{r.pathname.includes("applyemployreq")?e("Apply Employee Requisition"):r.pathname.includes("employreq")?e("Employee Requisition"):r.pathname.includes("candidate")?e("Candidate"):r.pathname.includes("localcandi")?e("Local CV"):r.pathname.includes("nonloccandi")?e("Non Local CV"):r.pathname.includes("status")?e("Status"):r.pathname.includes("workpasstracking")&&e("WorkPass Tracking")},[r.pathname]);const s=(i,a)=>{e(i),n(a)};return b.jsxs("section",{className:"h-full bg-[#F5F6F1]",children:[b.jsx("div",{className:"flex flex-wrap justify-center sm:justify-evenly items-center gap-4 py-10 text-black",children:ZA.map((i,a)=>b.jsxs("div",{onClick:()=>s(i.title,i.path),className:`${i.bg} rounded-3xl w-[10rem] sm:w-[11.1rem] h-40 p-4 cursor-pointer ${t===i.title?"border-4 bg-white border-[#faf362]":""}`,children:[b.jsx("div",{className:`${i.bg1} rounded-full my-4 w-16 h-16 flex justify-center items-center m-auto`,children:b.jsx("img",{className:"w-[2.2rem] h-9 object-cover",src:i.icons,alt:`${a} Icon not found`})}),b.jsx("h5",{className:"text-[14px] font-semibold text-center",children:i.title})]},a))}),b.jsx(vy,{})]})},cV="data:image/svg+xml,%3csvg%20width='86'%20height='88'%20viewBox='0%200%2086%2088'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M29.0861%2060.643C29.8672%2060.643%2030.5218%2060.3716%2031.0497%2059.829C31.5753%2059.2887%2031.8381%2058.6177%2031.8381%2057.816C31.8381%2057.0142%2031.5729%2056.3444%2031.0426%2055.8066C30.5122%2055.2688%2029.8565%2055%2029.0753%2055C28.2942%2055%2027.6396%2055.2713%2027.1117%2055.814C26.5837%2056.3566%2026.3209%2057.0276%2026.3233%2057.827C26.3257%2058.6263%2026.5909%2059.2948%2027.1188%2059.8326C27.6468%2060.3704%2028.3025%2060.643%2029.0861%2060.643ZM29.0861%2046.8196C29.8672%2046.8196%2030.5218%2046.5495%2031.0497%2046.0093C31.5753%2045.4666%2031.8381%2044.7944%2031.8381%2043.9926C31.8381%2043.1908%2031.5729%2042.5223%2031.0426%2041.987C30.5122%2041.4516%2029.8565%2041.1827%2029.0753%2041.1803C28.2942%2041.1778%2027.6396%2041.448%2027.1117%2041.9906C26.5837%2042.5333%2026.3209%2043.2055%2026.3233%2044.0073C26.3257%2044.8091%2026.5909%2045.4776%2027.1188%2046.013C27.6468%2046.5483%2028.3025%2046.8172%2029.0861%2046.8196ZM29.0861%2033C29.8672%2033%2030.5218%2032.7298%2031.0497%2032.1896C31.5753%2031.647%2031.8381%2030.9747%2031.8381%2030.173C31.8381%2029.3712%2031.5729%2028.7026%2031.0426%2028.1673C30.5122%2027.632%2029.8565%2027.3631%2029.0753%2027.3606C28.2942%2027.3582%2027.6396%2027.6283%2027.1117%2028.171C26.5861%2028.7136%2026.3233%2029.3846%2026.3233%2030.184C26.3233%2030.9833%2026.5885%2031.6531%2027.1188%2032.1933C27.6492%2032.7335%2028.3049%2033.0024%2029.0861%2033ZM40.1048%2059.6566H59.4011V55.99H40.1048V59.6566ZM40.1048%2045.8333H59.4011V42.1666H40.1048V45.8333ZM40.1048%2032.01H59.4011V28.3433H40.1048V32.01ZM20.1242%2073.3333C18.4734%2073.3333%2017.0962%2072.7686%2015.9926%2071.6393C14.8889%2070.51%2014.3359%2069.0995%2014.3335%2067.408V20.592C14.3335%2018.9028%2014.8865%2017.4936%2015.9926%2016.3643C17.0986%2015.235%2018.4758%2014.6691%2020.1242%2014.6666H65.8797C67.5281%2014.6666%2068.9053%2015.2325%2070.0113%2016.3643C71.1174%2017.4961%2071.6692%2018.9053%2071.6668%2020.592V67.4116C71.6668%2069.0983%2071.115%2070.5075%2070.0113%2071.6393C68.9077%2072.7711%2067.5293%2073.3357%2065.8762%2073.3333H20.1242ZM20.1242%2069.6666H65.8797C66.4292%2069.6666%2066.9344%2069.432%2067.3955%2068.9626C67.8566%2068.4933%2068.0859%2067.9751%2068.0835%2067.408V20.592C68.0835%2020.0273%2067.8542%2019.5091%2067.3955%2019.0373C66.9368%2018.5655%2066.4304%2018.3308%2065.8762%2018.3333H20.1242C19.5723%2018.3333%2019.0659%2018.568%2018.6048%2019.0373C18.1438%2019.5066%2017.9144%2020.0248%2017.9168%2020.592V67.4116C17.9168%2067.9738%2018.1462%2068.4908%2018.6048%2068.9626C19.0635%2069.4344%2019.5687%2069.6691%2020.1206%2069.6666'%20fill='%230D4B8F'/%3e%3c/svg%3e",uV="/assets/add-candidate-kBJp-1Eg.svg",dV=()=>{const n=Ga();return b.jsxs("section",{className:"min-h-screen bg-[#F5F6F1]",children:[b.jsxs("div",{className:"center gap-20 m-20 text-black",children:[b.jsxs("div",{onClick:()=>n("/recrutiles/listofcandi"),className:"border-1 shadow-[0_1px_4px_1px_rgba(0,0,0,0.2)] bg-white rounded-xl w-64 h-72 p-5 cursor-pointer hover:border-4 hover:border-[#0D4B8F]",children:[b.jsx("div",{className:"bg-[#CDE4FD] rounded-full my-10 w-24 h-24 flex justify-center items-center m-auto",children:b.jsx("img",{className:"w-13 h-16 object-cover",src:cV,alt:"Candidates List Icon"})}),b.jsx("h5",{className:"text-[18px] font-semibold text-center",children:"Candidates List"})]}),b.jsxs("div",{onClick:()=>n("/addCandidates"),className:"border-1 shadow-[0_1px_4px_1px_rgba(0,0,0,0.2)] bg-white rounded-xl w-64 h-72 p-5 cursor-pointer hover:border-4 hover:border-[#0D4B8F]",children:[b.jsx("div",{className:"bg-[#CDE4FD] rounded-full my-10 w-24 h-24 flex justify-center items-center m-auto",children:b.jsx("img",{className:"w-13 h-16 object-cover",src:uV,alt:"Add Candidate Icon"})}),b.jsx("h5",{className:"text-[18px] font-semibold text-center",children:"Add Candidate"})]})]}),b.jsx(vy,{})]})},hV=Pr(),fV=()=>{const[n,r]=ne.useState(!1),[t,e]=ne.useState(!1),[s,i]=ne.useState(null);return{createSchedule:async o=>{r(!0),e(!1),i(null);try{const c=await hV.graphql({query:RW,variables:{input:o}});console.log("API Response:",c),e(!0)}catch(c){console.error("Error during API call:",c),i(c)}finally{r(!1)}},isLoading:n,notification:t,error:s}};Pr();const pV=({candidate:n,onClose:r,onSave:t})=>{const[e,s]=ne.useState(!1),{register:i,handleSubmit:a,formState:{errors:o}}=ds({resolver:vs(FM)}),{createSchedule:c,isLoading:u,error:l}=fV(),d=a(async f=>{const h={...f,date:new Date(f.date).toISOString().split("T")[0],tempID:n.tempID,candidateStatus:"pending"};console.log("Formatted Data:",h),await c(h)});return b.jsx("section",{className:"min-h-screen bg-opacity-80 w-full center",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-[400px] overflow-y-auto ",children:[b.jsxs("div",{className:"text-xl relative text-dark_grey text-center font-semibold p-3 rounded-t-lg bg-yellow",children:[b.jsx("p",{children:" Schedule Interview"}),b.jsxs("button",{className:"border absolute right-4 top-3 rounded-full px-2 center",onClick:r,children:[" ",""]})]}),b.jsxs("div",{className:"p-5",children:[b.jsxs("div",{className:"flex flex-row justify-between space-x-8",children:[b.jsxs("div",{className:"mt-2",children:[b.jsx("label",{className:"text-dark_grey text-[14px] font-normal",children:"Date"}),b.jsx("input",{type:"date",name:"date",...i("date"),className:"w-full p-2 shadow-[0_1px_4px_1px_rgba(0,0,0,0.2)] rounded mt-1"}),o.date&&b.jsx("p",{className:"text-[red] mt-1 text-[11px]",children:o.date.message})]}),b.jsxs("div",{className:"mt-2",children:[b.jsx("label",{className:"text-dark_grey text-[14px] font-normal",children:"Time"}),b.jsx("input",{type:"time",name:"time",...i("time"),className:"w-full p-2 shadow-[0_1px_4px_1px_rgba(0,0,0,0.2)] rounded mt-1"}),o.time&&b.jsx("p",{className:"text-[red] mt-1 text-[11px]",children:o.time.message})]})]}),b.jsxs("div",{className:"mt-2",children:[b.jsx("label",{className:"text-dark_grey text-[14px] font-normal",children:"Interview Type"}),b.jsxs("div",{className:"flex items-center mt-2 space-x-11 pl-4",children:[b.jsxs("label",{className:"flex items-center text-[14px] font-normal text-ash",children:[b.jsx("input",{type:"radio",name:"interviewType",value:"Offline",...i("interviewType"),className:"mr-2"}),"Offline"]}),b.jsxs("label",{className:"flex items-center text-[14px] font-normal text-ash",children:[b.jsx("input",{type:"radio",name:"interviewType",value:"Online",...i("interviewType"),className:"mr-2"}),"Online"]})]}),o.interviewType&&b.jsx("p",{className:"text-[red] text-[11px]",children:o.interviewType.message})]}),b.jsxs("div",{className:"mt-2",children:[b.jsx("label",{className:"text-dark_grey text-[14px] font-normal",children:"Venue"}),b.jsx("input",{type:"text",name:"venue",...i("venue"),className:"w-full p-2 shadow-[0_1px_4px_1px_rgba(0,0,0,0.2)] rounded mt-1 outline-none"}),o.venue&&b.jsx("p",{className:"text-[red] mt-1 text-[11px]",children:o.venue.message})]}),b.jsxs("div",{className:"mt-2",children:[b.jsx("label",{className:"text-dark_grey text-[14px] font-normal",children:"Assign Manager"}),b.jsx("input",{type:"text",name:"interviewer",...i("interviewer"),className:"w-full p-2 shadow-[0_1px_4px_1px_rgba(0,0,0,0.2)] rounded mt-1 outline-none"}),o.interviewer&&b.jsx("p",{className:"text-[red] mt-1 text-[11px]",children:o.interviewer.message})]}),b.jsxs("div",{className:"mt-2",children:[b.jsx("label",{className:"text-dark_grey text-[14px] font-normal",children:"Message"}),b.jsx("textarea",{name:"message",...i("message"),className:"w-full p-2 resize-none shadow-[0_1px_4px_1px_rgba(0,0,0,0.2)] rounded mt-1 outline-none"}),o.message&&b.jsx("p",{className:"text-[red]  text-[11px]",children:o.message.message})]}),b.jsx("div",{className:"text-center mt-1 center",children:b.jsx("button",{className:"border-2 border-[#F7EC3D] text-dark_grey font-medium hover:bg-yellow py-1 px-2 rounded w-32",onClick:()=>{d()},children:"Send"})}),e&&b.jsx(fi,{text:"Notification Successfully Sent to HRD",notification:e,path:"/recrutiles/listofcandi"})]})]})})},mV=Pr(),gV=()=>{const[n,r]=ne.useState(!1),[t,e]=ne.useState(!1),[s,i]=ne.useState(null);return{isRejected:n,isLoading:t,error:s,rejectCandidate:async(o,c)=>{if(!o){i("Candidate ID is missing");return}e(!0),i(null);const u={id:o,status:"Inactive"};try{const l=await mV.graphql({query:FW,variables:{input:u}});console.log("Candidate status updated to 'Inactive' successfully",l),r(!0),c()}catch(l){i(l.message||"An error occurred while rejecting the candidate"),console.error("Error updating candidate status:",l)}finally{e(!1)}}}},bV=Pr(),vV=({candidate:n,onClose:r,showDecisionButtons:t})=>{const[e,s]=ne.useState(!1),[i,a]=ne.useState(!1),{personalDetails:o}=D8(),{isRejected:c,isLoading:u,error:l,rejectCandidate:d}=gV(),f=()=>{s(!0)},h=()=>{s(!1)};console.log("hey buddy",o);const p=()=>{d(n.id,()=>{a(!0),r()})},g=async v=>{try{if(!v)throw new Error("tempID is missing or invalid");console.log(v);const m={id:v,candidateStatus:"Selected"},x=await bV.graphql({query:MW,variables:{input:m}}).then(y=>{console.log(y),a(!0),r()}).catch(y=>{console.log(y)});console.log("Mutation Response:",x)}catch(m){console.error("Error:",m.message)}};return ne.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[]),b.jsxs("section",{children:[b.jsx("div",{className:"fixed top-0 left-0 inset-0 bg-grey bg-opacity-80 center z-[60]",children:b.jsxs("div",{className:"bg-white w-full max-w-[700px] max-h-[90vh] p-6 rounded-lg relative overflow-y-auto",children:[b.jsx("button",{className:"absolute top-2 right-4 w-8 h-8 border rounded-full text-xl",onClick:r,children:""}),b.jsxs("div",{className:"flex items-center gap-20",children:[b.jsx("img",{src:$m,alt:"Logo",className:"max-w-[180px] w-full"}),b.jsx("h2",{className:"text-xl font-bold underline",children:"Employee Application Review"})]}),b.jsxs("div",{className:"mt-6 relative",children:[b.jsx("div",{className:"flex justify-end absolute right-0 top-0 mt-4 mr-4",children:b.jsx("img",{src:n.profilePhoto,alt:`${n.name}'s photo`,className:"w-32 h-36 border-2 border-lite_grey shadow-[0_3px_6px_1px_rgba(0,0,0,0.2)]"})}),[{label:"Applying For",value:n.position},{label:"Name",value:n.name},{label:"Gender",value:n.gender},{label:"Nationality",value:n.nationality},{label:"Experience",value:n.noExperience},{label:"Contract",value:n.contractType},{label:"Type",value:n.empType},{label:"Email",value:n.email},{label:"Contact",value:n.contactNo}].map((v,m)=>b.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[b.jsx("strong",{className:"w-full",children:v.label}),b.jsxs("span",{className:"w-full col-span-2",children:[": ",v.value]})]},m))]}),b.jsxs("div",{className:"flex justify-center mt-6 gap-5",children:[!t&&b.jsxs(b.Fragment,{children:[b.jsx("button",{className:"hover:bg-medium_red hover:border-medium_red border-2 border-yellow px-4 py-1 shadow-xl rounded-lg",onClick:p,children:"Reject"}),b.jsx("button",{className:"hover:bg-[#faf362] border-2 border-yellow px-4 py-1 shadow-xl rounded-lg",onClick:f,children:"Schedule Interview"})]}),t&&b.jsxs(b.Fragment,{children:[b.jsx("button",{className:"hover:bg-medium_red hover:border-medium_red border-2 border-yellow px-4 py-1 shadow-xl rounded-lg",onClick:p,children:"Rejected"}),b.jsx("button",{className:"hover:bg-[#faf362] border-2 border-yellow px-4 py-1 shadow-xl rounded-lg",onClick:()=>{g(n.id)},children:"Selected"})]}),i&&b.jsx(fi,{text:"Candidate Selected Successfully",notification:i,path:"/employee"})]})]})}),e&&b.jsx("div",{className:"fixed top-0 left-0 inset-0 bg-black bg-opacity-50 w-full z-[70]",children:b.jsx(pV,{candidate:n,onClose:h})})]})},Sy=({columns:n,rowClickHandler:r,selectedRows:t,onRowSelect:e,showCheckboxes:s=!0,currentPage:i,selectedTable:a,edited:o,showEditIcon:c,data:u})=>{const[l,d]=ne.useState(t||[]),[f,h]=ne.useState({}),[p,g]=ne.useState(!1),[v,m]=ne.useState(null),x=ne.useRef(null),y=u.filter(D=>D.status!=="Inactive"),w=(D,L,M)=>{h(H=>({...H,[L]:(H==null?void 0:H[L])===M?null:M})),m(D),g(!0)},E=()=>{g(!1)},I=D=>{const L=l.includes(D)?l.filter(M=>M!==D):[...l,D];d(L),e&&e(L)},T=D=>{if(D.target.checked){const L=u.map((M,H)=>H);d(L),e&&e(L)}else d([]),e&&e([])},R={TempID:"tempID",Name:"name",Gender:"gender",Nationality:"nationality",Position:"position",Experience:"noExperience",Email:"email",Contact:"contactNo",Contract:"contractType",Type:"empType",Interviewer:"interviewer","Interview Date":"date",Time:"time",Venue:"venue",Status:"status"};return ne.useEffect(()=>{const D=L=>{x.current&&!x.current.contains(L.target)&&h({})};return document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[]),y?y.length===0?b.jsx("div",{className:"text-center text-grey py-10",children:"No data available."}):b.jsxs("div",{className:"overflow-x-auto rounded-lg",ref:x,children:[" ",b.jsxs("table",{className:"w-full text-left",children:[b.jsx("thead",{className:"bg-[#939393] text-white",children:b.jsxs("tr",{children:[s&&b.jsx("th",{className:"pl-4 py-4",children:b.jsx("input",{className:"w-6 h-6",type:"checkbox",onClick:D=>D.stopPropagation(),onChange:T,checked:l.length===y.length&&y.length>0})}),b.jsx("th",{className:"pl-4 py-4",children:"S.No"}),n.map((D,L)=>b.jsx("th",{className:"pl-4 py-4",children:D},L)),(i==="status"||i==="workpasstracking")&&b.jsx("th",{})]})}),b.jsx("tbody",{className:"bg-white cursor-pointer",children:y.map((D,L)=>b.jsxs("tr",{className:`shadow-[0_3px_6px_1px_rgba(0,0,0,0.2)] ${s?l.includes(L)?"bg-medium_blue":"":f[a]===L?"bg-medium_blue":""}`,onClick:()=>w(D,a,L),children:[s&&b.jsx("td",{className:"pl-4 py-4",children:b.jsx("input",{className:"w-5 h-6",type:"checkbox",onClick:M=>{M.stopPropagation(),o(D)},checked:l.includes(L),onChange:()=>I(L)})}),b.jsx("td",{className:"pl-4 py-4",children:L+1}),n.map((M,H)=>b.jsx("td",{className:"pl-4 py-4",children:D[R[M]]||"-"},H)),(i==="status"||i==="workpasstracking")&&c&&b.jsx("td",{className:"px-4 py-4 text-[#835c1d]",children:b.jsx(rV,{className:"text-2xl cursor-pointer",onClick:M=>{M.stopPropagation(),o(D)}})})]},L))})]}),p&&v&&b.jsx(vV,{candidate:v,onClose:E,showDecisionButtons:i==="status"})]}):b.jsx("div",{children:"Loading..."})},yV=()=>{const[n,r]=ne.useState(""),[t,e]=ne.useState(!0),[s,i]=ne.useState(!1),[a,o]=ne.useState([]),[c,u]=ne.useState(null),{empPDData:l}=ne.useContext(bs),d=Ga(),[f,h]=ne.useState([]),p=l.filter(w=>w.nationality==="Bruneian"||w.nationality==="Brunei PR").filter(w=>w.name.toLowerCase().includes(n.toLowerCase())||w.position.toLowerCase().includes(n.toLowerCase())||w.nationality.toLowerCase().includes(n.toLowerCase()));ne.useEffect(()=>{p.length>0?e(!1):(e(!1),i(!0))},[p]);const g=w=>{u(w)},v=w=>{h(w)},m=()=>{p.filter(w=>!a.includes(w.sno)),o([])},x=w=>{o(w)},y=["Name","Gender","Nationality","Position","Experience","Type","Email","Contact"];return b.jsxs("section",{className:"screen-size min-h-screen w-full my-5",children:[b.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[b.jsx("div",{className:"flex-1",children:b.jsx("button",{className:"bg-[#faf362] py-2 px-3 rounded-lg text-[18px] font-semibold",children:"Local CV Candidates"})}),b.jsx("div",{className:" flex-1 flex justify-end ",children:b.jsx($f,{newFormData:p,searchHandler:r,emptySearch:()=>console.log("Search cleared!"),searchIcon1:b.jsx(Ds,{}),placeholder:"Search",border:"rounded-full",shadow:"shadow-[0_1px_6px_1px_rgba(0,0,0,0.2)]"})})]}),b.jsxs("div",{className:"flex relative mb-8",children:[b.jsx("div",{className:" absolute top-1/2 right-14 transform -translate-y-1/2 text-2xl hover:text-3xl flex items-center cursor-pointer",onClick:()=>{a.length===1?d("/addCandidates",{state:{editingData:a[0]}}):a.length>1?alert("Please select only one row to edit."):alert("Please select a row before editing.")},disabled:a.length===0,children:b.jsx(y8,{className:"mr-2"})}),b.jsx("div",{className:"absolute top-1/2 right-0 transform -translate-y-1/2 text-3xl hover:text-4xl cursor-pointer text-[#f42232cc] flex items-center",onClick:m,children:b.jsx(a8,{className:"mr-2"})})]}),t?b.jsx("div",{className:"text-center py-10",children:"Loading..."}):s?b.jsx("div",{className:"text-center py-10",children:"No data available."}):b.jsx(Sy,{columns:y,rowClickHandler:g,data:p,selectedRows:a,onRowSelect:x,edited:v})]})},xV=()=>{const[n,r]=ne.useState(""),[t,e]=ne.useState(!1),[s,i]=ne.useState(""),[a,o]=ne.useState([]),[c,u]=ne.useState(null),{empPDData:l}=ne.useContext(bs),d=Ga(),[f,h]=ne.useState([]),[p,g]=ne.useState(!0),[v,m]=ne.useState(!1),x=()=>{e(!t)},y=L=>{u(L)},w=L=>{h(L)},E=()=>{T.filter(L=>!a.includes(L.id)),o([])},I=L=>{o(L)};console.log(l);const T=l.filter(L=>{const M=L.nationality!=="Bruneian"&&L.nationality!=="Brunei PR",H=!s||s==="LPA"&&L.contractType.toLowerCase()==="lpa"||s==="SAWP"&&L.contractType.toLowerCase()==="sawp",V=L.name.toLowerCase().includes(n.toLowerCase())||L.position.toLowerCase().includes(n.toLowerCase())||L.nationality.toLowerCase().includes(n.toLowerCase());return M&&H&&V});ne.useEffect(()=>{T.length>0?(g(!1),m(null)):m("No data available.")},[T]);const R=L=>{i(L==="Show All"?"":L),e(!1)},D=["Name","Gender","Nationality","Position","Experience","Contract","Type","Email","Contact"];return b.jsxs("section",{className:"screen-size min-h-screen w-full my-5",children:[b.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[b.jsxs("div",{className:"relative ",children:[b.jsxs("button",{onClick:x,className:"bg-[#faf362] py-2 px-3 rounded-lg text-[18px] font-semibold flex items-center",children:["Non Local CV Candidates",t?b.jsx(v8,{className:"ml-2"}):b.jsx(b8,{className:"ml-2"})]}),t&&b.jsxs("div",{className:"absolute mt-2 bg-white border-2 border-grey rounded-lg shadow-lg",children:[b.jsx("button",{onClick:()=>R("LPA"),className:"block px-4 py-2 hover:bg-[#f8a595cc] rounded-lg text-left w-full",children:"LPA"}),b.jsx("button",{onClick:()=>R("SAWP"),className:"block px-4 py-2 hover:bg-[#f8a595cc] rounded-lg text-left w-full",children:"SAWP"}),b.jsx("button",{onClick:()=>R("Show All"),className:"block px-4 py-2 hover:bg-[#f8a595cc] rounded-lg text-left w-full",children:"Show All"})]})]}),b.jsx("div",{className:" flex-1 flex justify-end ",children:b.jsx($f,{newFormData:T,searchHandler:r,emptySearch:()=>console.log("Search cleared!"),searchIcon1:b.jsx(Ds,{}),placeholder:"Search",border:"rounded-full",shadow:"shadow-[0_1px_6px_1px_rgba(0,0,0,0.2)]"})})]}),b.jsxs("div",{className:"flex relative mb-8 ",children:[b.jsx("div",{className:" absolute top-1/2 right-14 transform -translate-y-1/2 text-2xl hover:text-3xl flex items-center cursor-pointer",onClick:()=>{a.length===1?d("/addCandidates",{state:{editingData:a[0]}}):a.length>1?alert("Please select only one row to edit."):alert("Please select a row before editing.")},disabled:a.length===0,children:b.jsx(y8,{className:"mr-2"})}),b.jsx("div",{className:"absolute top-1/2 right-0 transform -translate-y-1/2 text-3xl hover:text-4xl cursor-pointer text-[#f42232cc] flex items-center",onClick:E,children:b.jsx(a8,{className:"mr-2"})})]}),s&&b.jsx("div",{className:"mb-3 text-[18px] w-20 py-1 text-center rounded-lg font-bold bg-medium_red",children:s}),p?b.jsx("div",{className:"text-center py-10",children:"Loading..."}):v?b.jsx("div",{className:"text-center py-10",children:v}):b.jsx(Sy,{columns:D,rowClickHandler:y,data:T,selectedRows:a,onRowSelect:I,edited:w})]})},wV=()=>{ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const[n,r]=ne.useState("applicantDetails"),t=Ga(),e=Xu(),s=()=>{switch(n){case"applicantDetails":t("/addCandidates/personalDetails"),r("personalDetails");break;case"personalDetails":t("/addCandidates/educationDetails"),r("educationExperience");break;case"educationExperience":t("/addCandidates/otherDetails"),r("otherDetails");break}},i=(a,o)=>{r(a),t(o)};return ne.useEffect(()=>{const a=e.pathname;a.includes("/personalDetails")?r("personalDetails"):a.includes("/educationDetails")?r("educationExperience"):a.includes("/otherDetails")?r("otherDetails"):r("applicantDetails")},[e]),b.jsx("section",{className:"w-full bg-[#F5F6F1] ",children:b.jsxs("div",{className:"w-11/12 relative mx-auto p-6",children:[b.jsx("h2",{className:"text-[20px] font-bold mb-4 text-center",children:"Application Form"}),b.jsxs("div",{className:"flex justify-between border-b mb-4 text-[14px] font-semibold",children:[b.jsx("button",{className:`py-2 px-4 focus:outline-none ${n==="applicantDetails"?"border-b-8 border-yellow":""}`,onClick:()=>i("applicantDetails","/addCandidates"),children:"Applicant Details"}),b.jsx("button",{className:`py-2 px-4 focus:outline-none ${n==="personalDetails"?"border-b-8 border-yellow":""}`,onClick:()=>i("personalDetails","/addCandidates/personalDetails"),children:"Personal Details"}),b.jsx("button",{className:`py-2 px-4 focus:outline-none ${n==="educationExperience"?"border-b-8 border-yellow":""}`,onClick:()=>i("educationExperience","/addCandidates/educationDetails"),children:"Reference Details"}),b.jsx("button",{className:`py-2 px-4 focus:outline-none ${n==="otherDetails"?"border-b-8 border-yellow":""}`,onClick:()=>i("otherDetails","/addCandidates/otherDetails"),children:"Other Details"})]}),b.jsx("div",{children:b.jsx(vy,{context:{activeTab:n,handleNext:s}})})]})})};function _V(n){return Fn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M6.41421 15.89L16.5563 5.74785L15.1421 4.33363L5 14.4758V15.89H6.41421ZM7.24264 17.89H3V13.6473L14.435 2.21231C14.8256 1.82179 15.4587 1.82179 15.8492 2.21231L18.6777 5.04074C19.0682 5.43126 19.0682 6.06443 18.6777 6.45495L7.24264 17.89ZM3 19.89H21V21.89H3V19.89Z"},child:[]}]})(n)}function SV(n){return Fn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7 4V2H17V4H22V6H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V6H2V4H7ZM6 6V20H18V6H6ZM9 9H11V17H9V9ZM13 9H15V17H13V9Z"},child:[]}]})(n)}const EV=({data:n,onclose:r})=>{const[t,e]=ne.useState(!1),s=()=>{e(!t)};return b.jsx("section",{className:"fixed top-0 left-0 inset-0 bg-black bg-opacity-80 center w-full h-screen z-[60]",children:b.jsx("div",{className:"bg-white w-full max-w-xl max-h-[90vh]  rounded-lg relative overflow-y-auto",children:b.jsxs("div",{className:"p-6",children:[b.jsxs("div",{className:"relative center mb-8",children:[" ",b.jsx("h6",{className:"text-xl font-bold underline text-dark_grey",children:"View Form"}),b.jsx("button",{className:"absolute top-0 right-4 w-8 h-8 border rounded-full text-xl",onClick:r,children:""})]}),[{label:"UserID",value:n.empID},{label:"Name",value:n.name},{label:"Type",value:n.selectType},{label:"Email",value:n.officialEmail},{label:"Password",value:t?n.password:"",isPassword:!0}].map((i,a)=>b.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[b.jsx("strong",{className:"w-full",children:i.label}),b.jsxs("span",{className:"flex items-center gap-3 col-span-2",children:[": ",i.value,i.isPassword&&b.jsxs("div",{className:" center",children:[" ",b.jsx("button",{type:"button",className:" text-dark_grey underline text-xl",onClick:s,children:t?b.jsx(XU,{}):b.jsx(YU,{})})]})]}),"            "]},a)),b.jsx("div",{className:"center mt-7",children:b.jsx("button",{className:"primary_btn text_size_4",onClick:r,children:"Okay"})})]})})})},NV=()=>{const n=Pr();return{SubmitDeletedUser:ne.useCallback(async({deleteUserData:t})=>{if(!t)throw new Error("Missing required parameters");const{id:e}=t,s={id:e,status:"InActive"};console.log(e);try{await n.graphql({query:T8,variables:{input:s}}).then(i=>{console.log(i,"deleted successfully")})}catch(i){console.log("Error deleting user:",i)}})}},z7=()=>{const{empPIData:n,userData:r,workInfoData:t}=ne.useContext(bs),{SubmitDeletedUser:e}=NV(),[s,i]=ne.useState([]),[a,o]=ne.useState([]),[c,u]=ne.useState(!1),[l,d]=ne.useState([]);ne.useState([]);const[f,h]=ne.useState([]),p=Ga(),[g,v]=ne.useState(1),[m,x]=ne.useState(5),[y,w]=ne.useState([]);ne.useEffect(()=>{const M=(g-1)*m,P=(y.length>0?y:a).sort((F,A)=>{const _=/\d+$/,S=F.empID.match(_)?F.empID.match(_)[0].padStart(5,"0"):"",N=A.empID.match(_)?A.empID.match(_)[0].padStart(5,"0"):"",C=F.empID.replace(_,"").toLowerCase(),W=A.empID.replace(_,"").toLowerCase();return C!==W?C.localeCompare(W):S.localeCompare(N)}).slice(M,M+m);h(P)},[g,m,a,y]);const E=Math.ceil((y.length>0?y.length:a.length)/m),I=()=>{u(!c)};ne.useEffect(()=>{(async()=>{try{const H=r.map(V=>{const P=n.find(A=>A.empID===V.empID),F=t?t.find(A=>A.empID===V.empID):{};return P?{...V,...P,...F}:null}).filter(Boolean).filter(V=>V.status==="Active");i(H),o(H)}catch(H){console.log(H)}})()},[r,n]);const T=M=>{w(M),v(1)},R=async M=>{p("/addNewForm",{state:{editUserData:{storedValue:{data:M,title:"Edit User"},userValue:r,employeeValue:n,workValue:t}}})},D=()=>{p("/addNewForm",{state:{addUserData:{userValue:r,employeeValue:n,workValue:t}}})},L=M=>{const H=r.find(V=>V.empID===M.empID);e({deleteUserData:H})};return b.jsxs("section",{className:" flex justify-center px-10 py-20 bg-[#F8F8F8] h-screen relative",children:[b.jsxs("div",{className:"bg-white flex flex-col gap-10 rounded-b-lg shadow-lg max-w-[99%] w-full",children:[b.jsx("article",{className:"bg-[#E1E1E2] py-3 shadow-md rounded-t-lg text-center",children:b.jsx("h1",{className:"text-dark_grey text-2xl font-semibold",children:"User List"})}),b.jsx("section",{children:b.jsxs("div",{className:"flex items-center justify-between  px-14",children:[b.jsxs("div",{className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2",onClick:D,children:[" ",b.jsx("span",{className:"text-2xl",children:"+"})," Add"]}),b.jsx($f,{allEmpDetails:a,searchUserList:T,searchIcon2:b.jsx(Ds,{}),placeholder:"Employee ID",border:"rounded-lg"})]})}),b.jsxs("div",{className:"flex flex-col flex-grow",children:[b.jsx("div",{className:"px-1 ",children:b.jsxs("table",{className:"w-full mx-auto bg-white pt-10",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"text_size_5 text-dark_grey ",children:[b.jsx("th",{className:"px-6 text-start py-3",children:"EMP ID"}),b.jsx("th",{className:"px-6 text-start  py-3",children:"Name"}),b.jsx("th",{className:"px-6 text-start py-3",children:"Type"}),b.jsx("th",{className:"px-6 text-start py-3",children:"Official Email Id"}),b.jsx("th",{className:"px-6 text-start py-3",children:"Password"}),b.jsx("th",{className:"px-6 text-start py-3",children:"Actions"})]})}),b.jsx("tbody",{children:f&&f.length>0?f.map((M,H)=>b.jsxs("tr",{onClick:()=>{I(),d(M)},children:[b.jsx("td",{className:"px-6 py-2",children:M.empID}),b.jsx("td",{className:"px-6 py-2",children:M.name}),b.jsx("td",{className:"px-6 py-2",children:M.selectType}),b.jsx("td",{className:"px-6 py-2",children:M.officialEmail}),b.jsx("td",{className:"px-6 w-[200px] py-2 text-center",children:b.jsx("input",{type:"password",className:"outline-none w-full",value:M.password,readOnly:!0})}),b.jsx("td",{className:"px-6 py-2",children:b.jsxs("div",{className:"flex gap-5",children:[b.jsx("span",{onClick:()=>{R(M)},children:b.jsx(_V,{})}),b.jsx("span",{onClick:()=>{L(M)},children:b.jsx(SV,{})})]})})]},H)):b.jsx("tr",{children:b.jsx("td",{colSpan:"6",className:"px-6 py-6 text-center text-dark_ash text_size_5",children:"No User List Available Here"})})})]})}),b.jsx("div",{className:"flex justify-center mt-auto",children:b.jsx("div",{className:"ml-[650px] flex justify-between px-10 py-8",children:b.jsx(Zm,{currentPage:g,totalPages:E,onPageChange:M=>{M>=1&&M<=E&&v(M)}})})})]})]}),c&&b.jsx(EV,{data:l,onclose:I})]})};function k_(n){return Fn({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M8 8.707l3.646 3.647.708-.707L8.707 8l3.647-3.646-.707-.708L8 7.293 4.354 3.646l-.707.708L7.293 8l-3.646 3.646.707.708L8 8.707z"},child:[]}]})(n)}const T9=({isVisible:n,onClose:r,isMdView:t=!1})=>{const[e,s]=ne.useState([]),[i,a]=ne.useState(null),[o,c]=ne.useState(null);ne.useEffect(()=>{const l=Pr();n&&(async()=>{var f,h;try{const p=await l.graphql({query:ZN}),g=(h=(f=p==null?void 0:p.data)==null?void 0:f.listEmpRequisitions)==null?void 0:h.items.map(v=>({id:v.id,manager:v.manager,department:v.department,position:v.position,project:v.project,additional:v.additional||"",quantity:v.quantity,date:v.createdAt,status:v.status||"Pending",remarks:v.remarks||""}));s(g)}catch(p){console.error("Error fetching requisition data:",p),c("Error fetching requisition data")}})()},[n]);const u=l=>{s(d=>d.map(f=>f.id===i.id?{...f,status:l}:f)),a(null)};return b.jsx("div",{className:`fixed inset-0 ${n?"flex":"hidden"} items-center justify-center z-[70]`,children:b.jsxs("div",{className:"bg-white w-full max-w-[700px] rounded-lg relative p-10 overflow-y-auto border",children:[b.jsx("button",{onClick:r,className:"absolute top-5 right-6 border rounded-full p-1",children:b.jsx(k_,{size:20})}),b.jsxs("div",{className:"flex items-center gap-8 py-2 pb-5",children:[b.jsx("img",{src:$m,alt:"Logo",className:"max-w-[180px] w-full"}),b.jsx("h2",{className:"text-xl font-bold underline",children:"Employee Requisition Review"})]}),o?b.jsx("div",{className:"text-[red]",children:o}):b.jsx(D9,{requestData:e,onStatusChange:u,onRequestSelect:l=>a(l)}),i&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:b.jsxs("div",{className:"bg-white w-full max-w-[600px] rounded-lg p-8 relative",children:[b.jsx("button",{onClick:()=>a(null),className:"absolute top-4 right-4",children:b.jsx(k_,{size:20})}),b.jsx("h3",{className:"text-xl font-bold mb-4",children:"Review Requisition"}),b.jsx("div",{className:"gap-4",children:[{label:"Requested Manager",value:i.manager},{label:"Department",value:i.department},{label:"Position",value:i.position},{label:"Project",value:i.project},{label:"Quantity",value:i.quantity},{label:"Additional",value:i.additional||""},{label:"Justification",value:i.justification||""}].map((l,d)=>b.jsxs("div",{className:"flex mb-2",children:[b.jsxs("strong",{className:"w-1/3",children:[l.label,":"]}),b.jsx("span",{className:"w-2/3",children:l.value})]},d))}),t&&b.jsxs("div",{className:"flex justify-center mt-4",children:[b.jsx("button",{className:"bg-red text-white px-4 py-2 rounded-lg mr-2",onClick:()=>u("Rejected"),children:"Reject"}),b.jsx("button",{className:"bg-green text-white px-4 py-2 rounded-lg",onClick:()=>u("Approved"),children:"Approve"})]})]})})]})})},AV=({isOpen:n,onClose:r,onSave:t,initialRemarks:e})=>{const[s,i]=ne.useState("");ne.useEffect(()=>{n&&i(e||"")},[n,e]);const a=()=>{i(""),r()},o=()=>{t(s),i(""),r()};return n?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex justify-center items-center",children:b.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[b.jsx("h3",{className:"mb-4 text-xl font-semibold",children:"Remarks"}),b.jsx("textarea",{value:s,onChange:c=>i(c.target.value),rows:"4",className:"w-full p-2 border rounded-md",placeholder:"Enter your remarks here..."}),b.jsxs("div",{className:"mt-4 flex justify-end",children:[b.jsx("button",{className:"hover:bg-grey border-2 border-grey hover:text-white px-4 py-1 mr-2 rounded-lg",onClick:a,children:"Cancel"}),b.jsx("button",{className:"hover:bg-[#faf362] border-2 border-yellow px-4 py-1 rounded-lg",onClick:o,children:"Save"})]})]})}):null},D9=({requestData:n,onStatusChange:r,onRequestSelect:t})=>{const[e,s]=ne.useState(""),[i,a]=ne.useState(null),[o,c]=ne.useState(null),u=n==null?void 0:n.filter(h=>{var p,g,v,m;return(((p=h.manager)==null?void 0:p.toLowerCase())||"").includes(e.toLowerCase())||(((g=h.department)==null?void 0:g.toLowerCase())||"").includes(e.toLowerCase())||(((v=h.position)==null?void 0:v.toLowerCase())||"").includes(e.toLowerCase())||(((m=h.project)==null?void 0:m.toLowerCase())||"").includes(e.toLowerCase())}),l=()=>{a(null)},d=h=>{r(i.id,h),a(null)},f=()=>{c(null)};return b.jsxs("section",{className:"screen-size h-screen w-full my-5",children:[b.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[b.jsx("button",{className:"bg-[#faf362] py-2 px-3 rounded-lg text-[18px] font-semibold",children:"Employee Requisition Review"}),b.jsx($f,{value:e,searchHandler:s,searchIcon1:b.jsx(Ds,{}),placeholder:"name, position"})]}),b.jsx("div",{className:"overflow-x-auto rounded-lg",children:b.jsxs("table",{className:"w-full text-left",children:[b.jsx("thead",{className:"bg-[#939393] text-white rounded-lg",children:b.jsxs("tr",{children:[b.jsx("th",{className:"pl-4 py-4",children:"Requested Manager"}),b.jsx("th",{className:"py-4",children:"Department"}),b.jsx("th",{className:"py-4",children:"Position"}),b.jsx("th",{className:"py-4",children:"Project"}),b.jsx("th",{className:"py-4",children:"Quantity"}),b.jsx("th",{className:"py-4",children:"Received Date"}),b.jsx("th",{className:"py-4",children:"Submitted Form"}),b.jsx("th",{className:"py-4",children:"Status Update"}),b.jsx("th",{className:"py-4",children:"Remarks"})]})}),b.jsx("tbody",{className:"bg-white",children:(u==null?void 0:u.length)>0?u.map((h,p)=>b.jsxs("tr",{className:"shadow-[0_3px_6px_1px_rgba(0,0,0,0.2)]",children:[b.jsx("td",{className:"pl-4 py-4",children:h.manager}),b.jsx("td",{className:"py-4",children:h.department}),b.jsx("td",{className:"py-4",children:h.position}),b.jsx("td",{className:"py-4",children:h.project}),b.jsx("td",{className:"py-4",children:h.quantity}),b.jsx("td",{className:"py-4",children:new Date(h.date).toLocaleDateString("en-GB")}),b.jsx("td",{className:"py-4",children:b.jsx("button",{onClick:()=>c(h),children:"View"})}),b.jsx("td",{className:`py-4 font-semibold ${h.status==="Approved"?"text-[#25a041]":h.status==="Rejected"?"text-[#f75a11]":"text-grey"}`,children:h.status}),b.jsxs("td",{className:"py-4 flex items-center gap-2",children:[b.jsx("span",{children:h.remarks}),b.jsx(KU,{onClick:()=>a(h)})]})]},p)):b.jsx("tr",{children:b.jsx("td",{colSpan:"9",className:"text-center py-4",children:"No Requisitions Found"})})})]})}),o&&b.jsx(T9,{isVisible:!!o,onClose:f,requestData:o,onStatusChange:r}),b.jsx(AV,{isOpen:!!i,onClose:l,onSave:d,initialRemarks:(i==null?void 0:i.remarks)||""})]})};function I9(n){return Fn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.406 1.342A5.53 5.53 0 0 1 8 0c2.69 0 4.923 2 5.166 4.579C14.758 4.804 16 6.137 16 7.773 16 9.569 14.502 11 12.687 11H10a.5.5 0 0 1 0-1h2.688C13.979 10 15 8.988 15 7.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 2.825 10.328 1 8 1a4.53 4.53 0 0 0-2.941 1.1c-.757.652-1.153 1.438-1.153 2.055v.448l-.445.049C2.064 4.805 1 5.952 1 7.318 1 8.785 2.23 10 3.781 10H6a.5.5 0 0 1 0 1H3.781C1.708 11 0 9.366 0 7.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M7.646 4.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V14.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708z"},child:[]}]})(n)}const V7={Interview:[{label:"Date",field:"date",type:"date"},{label:"Time",field:"time",type:"time"},{label:"Venue",field:"venue",type:"text"},{label:"Interview Type",field:"interviewType",type:"text"},{label:"Interviewer",field:"interviewer",type:"text"},{label:"Message",field:"message",type:"text"}],Candidate:[{label:"Name",field:"name",type:"text"},{label:"Position",field:"position",type:"text"},{label:"Selected Department",field:"department",type:"text"}],LOI:[{label:"Date of Issue",field:"loiIssueDate",type:"date"},{label:"Date of Acceptance",field:"loiAcceptDate",type:"date"},{label:"Date of Decline",field:"loiDeclineDate",type:"date"},{label:"Decline Reason",field:"declineReason",type:"text"},{label:"Upload LOI PDF",field:"loiFile",type:"file"}],CVEV:[{label:"Date of Approval",field:"cvecApproveDate",type:"date"},{label:"Upload CVEC PDF",field:"cvecFile",type:"file"}],PAAF:[{label:"Date of Approval",field:"paafApproveDate",type:"date"},{label:"Upload PAAF PDF",field:"paafFile",type:"file"}],Mobilization:[{label:"Date of Signing",field:"mobSignDate",type:"date"},{label:"Upload Contract PDF",field:"mobFile",type:"file"}]},kV=({candidate:n,onClose:r,onSave:t})=>{const[e,s]=ne.useState("Interview"),[i,a]=ne.useState({Interview:{date:"",time:"",venue:"",interviewType:"",interviewer:"",message:""},Candidate:{name:"",position:"",department:""},LOI:{loiIssueDate:"",loiAcceptDate:"",loiDeclineDate:"",declineReason:"",loiFile:null},CVEV:{cvecApproveDate:"",cvecFile:null},PAAF:{paafApproveDate:"",paafFile:null},Mobilization:{mobSignDate:"",mobFile:null}});ne.useEffect(()=>{n&&a({Interview:{date:n.date||"",time:n.time||"",venue:n.venue||"",interviewType:n.interviewType||"",interviewer:n.interviewer||"",message:n.message||""},Candidate:{name:n.name||"",position:n.position||"",department:n.department||""},LOI:{loiIssueDate:n.loiIssueDate||"",loiAcceptDate:n.loiAcceptDate||"",loiDeclineDate:n.loiDeclineDate||"",declineReason:n.declineReason||"",loiFile:null},CVEV:{cvecApproveDate:n.cvecApproveDate||"",cvecFile:null},PAAF:{paafApproveDate:n.paafApproveDate||"",paafFile:null},Mobilization:{mobSignDate:n.mobSignDate||"",mobFile:null}})},[n]);const o=(d,f,h)=>{a(p=>({...p,[d]:{...p[d],[f]:h}}))},c=(d,f,h)=>{a(p=>({...p,[d]:{...p[d],[f]:h}}))},u=()=>{t({...n,...i.Interview}),r()},l=()=>V7[e].map(d=>b.jsxs("label",{className:"block",children:[d.label,":",d.type!=="file"?b.jsx("input",{type:d.type,className:"w-full border p-2 rounded mt-1",value:i[e][d.field],onChange:f=>o(e,d.field,f.target.value)}):b.jsxs("div",{className:"flex items-center mt-1",children:[b.jsx("input",{type:"file",className:"hidden",id:d.field,onChange:f=>c(e,d.field,f.target.files[0])}),b.jsxs("label",{htmlFor:d.field,className:"flex items-center cursor-pointer text-lite_grey",children:[b.jsx(I9,{className:"mr-2 text-lg text-[#ab1234]"}),i[e][d.field]?i[e][d.field].name:"Upload PDF"]})]})]},d.field));return b.jsx("div",{className:"fixed inset-0 bg-grey bg-opacity-80 z-50 center",children:b.jsxs("div",{className:"bg-white p-8 rounded-lg w-full max-w-[650px] h-[70vh] overflow-hidden",children:[b.jsxs("h2",{className:"text-xl font-bold mb-4 p-1 rounded-md bg-[#f7f183ea]",children:["TempID: ",n==null?void 0:n.tempID,"  Name: ",n==null?void 0:n.name]}),b.jsx("div",{className:"flex space-x-4 mb-6",children:Object.keys(V7).map(d=>b.jsx("button",{className:`px-3 py-1 rounded-lg whitespace-nowrap ${e===d?"border-2 border-[#FEF116] bg-[#FFFEF4]":"bg-[#DDDDDD]"}`,onClick:()=>s(d),children:d},d))}),b.jsx("div",{className:"grid grid-cols-2 gap-x-10 overflow-y-auto h-[40vh] pr-4",children:l()}),b.jsxs("div",{className:"flex justify-between mt-4",children:[b.jsx("button",{onClick:r,className:"border-2 border-grey hover:bg-slate_grey hover:text-white px-4 py-2 rounded-xl",children:"Close"}),b.jsx("button",{onClick:u,className:"py-1 px-5 rounded-xl shadow-lg border-2 border-yellow hover:bg-yellow",children:"Save"})]})]})})};Pr();const CV={"Interview Scheduled":["TempID","Name","Nationality","Interview Date","Time","Venue","Interviewer"],"Selected Candidate":["TempID","Name","Nationality","Position","Department","Status Update"],LOI:["TempID","Name","Nationality","Issue Date","Accept Date","LOI PDF","Decline Date","Status Update"],CVEV_OffShore:["TempID","Name","Nationality","Position","Approved Date","CVEV PDF","Status Update"],PAAF_OnShore:["TempID","Name","Nationality","Position","Approved Date","PAAF PDF","Status Update"],Mobilization:["TempID","Name","Nationality","Position","Signed Date","Contract PDF","Status Update"]},TV=["Interview Scheduled","Selected Candidate","LOI","CVEV_OffShore","PAAF_OnShore","Mobilization"],DV=()=>{ne.useState(null);const[n,r]=ne.useState(!0),[t,e]=ne.useState(null),[s,i]=ne.useState(!1),[a,o]=ne.useState([]),[c,u]=ne.useState([]),[l,d]=ne.useState(!1),[f,h]=ne.useState(null),[p,g]=ne.useState(!1),[v,m]=ne.useState([]),[x,y]=ne.useState("Interview Scheduled"),[w,E]=ne.useState("Interview Scheduled"),I=ne.useRef(null);ne.useState([]);const[T,R]=ne.useState([]),D=A=>{o(_=>_.includes(A)?_.filter(S=>S!==A):A==="LOCAL"?["LOCAL",..._.filter(S=>S!=="NON LOCAL"&&S!=="LPA"&&S!=="SAWP")]:A==="NON LOCAL"?["NON LOCAL",..._.filter(S=>S!=="LOCAL")]:A==="ONSHORE"||A==="OFFSHORE"?[A,..._.filter(S=>S!=="ONSHORE"&&S!=="OFFSHORE")]:A==="LPA"||A==="SAWP"?[A,..._.filter(S=>S!=="LPA"&&S!=="SAWP")]:[..._,A])},L=A=>a.includes("LOCAL")?A==="NON LOCAL"||A==="LPA"||A==="SAWP":a.includes("NON LOCAL")?A==="LOCAL":!1;ne.useEffect(()=>{const A=_=>{!_.target.closest(".cvTypeDropdown")&&s&&i(!1),I.current&&!I.current.contains(_.target)&&p&&g(!1)};return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[s,p]);const M=A=>{A==null||A.stopPropagation(),g(_=>!_)},H=async A=>{const _=A.target.value;switch(y(_),E(_),_){case"Interview Scheduled":const S=T.filter(G=>G.candidateStatus==="Pending");m(S);break;case"Selected Candidate":const N=T.filter(G=>G.candidateStatus==="Selected");m(N);break;case"LOI":const C=T.filter(G=>G.candidateStatus==="Selected");m(C);break;case"CVEV_OffShore":const W=T.filter(G=>G.candidateStatus==="Selected");m(W);break;case"PAAF_OnShore":const j=T.filter(G=>G.candidateStatus==="Selected");m(j);break;case"Mobilization":const B=T.filter(G=>G.candidateStatus==="Selected");m(B);break;default:m(T);break}g(!1)},V=A=>{h(A),d(!0)},P=()=>{d(!1),h(null)},F=A=>{const _=S=>S.map(N=>N.tempid===A.tempid?{...N,...A}:N);R(S=>_(S)),m(S=>_(S)),d(!1)};return b.jsxs("section",{className:"screen-size min-h-screen mb-4",children:[b.jsxs("div",{className:"relative",children:[b.jsxs("button",{className:`font-semibold py-2 px-6 mb-6 rounded-lg flex items-center ${a.length>0?"bg-[#faf362]":"bg-[#8d8f9036]"} cvTypeDropdown`,onClick:()=>i(!s),children:[a.length>0?a.join(" + "):"CV TYPE",s?b.jsx(v8,{className:"ml-10"}):b.jsx(b8,{className:"ml-10"})]}),s&&b.jsx("div",{className:"absolute bg-white border shadow-lg rounded-lg z-20 cvTypeDropdown",children:["LOCAL","NON LOCAL","LPA","SAWP","ONSHORE","OFFSHORE"].map(A=>b.jsxs("label",{className:"block w-full text-left px-4 py-2",children:[b.jsx("input",{type:"checkbox",className:"mr-2",checked:a.includes(A),onChange:()=>D(A),disabled:L(A)}),A]},A))}),b.jsxs("button",{onClick:M,className:`absolute top-0 right-0 px-6 py-2 font-semibold rounded-lg flex items-center ${x.length?"bg-[#faf362]":"bg-[#8d8f9036]"}`,children:[b.jsx(C9,{className:"mr-5"}),b.jsx("span",{children:w})]}),p&&b.jsx("div",{ref:I,className:"absolute top-12 right-0 mt-2 bg-white shadow-lg rounded-lg p-4 z-50 flex flex-col space-y-2",children:TV.map(A=>b.jsxs("label",{className:`flex items-center font-semibold  space-x-2 hover:font-bold hover:text-[#c7bd03] p-2 rounded-md ${x===A?"text-[#faf362]":"text-lite_grey"}`,children:[b.jsx("input",{type:"radio",className:"w-5 h-6",name:"status",value:A,checked:x===A,onChange:H}),b.jsx("span",{children:A})]},A))})]}),n?b.jsx("p",{children:"Loading..."}):t?b.jsx("p",{children:t}):b.jsxs(b.Fragment,{children:[b.jsx(Sy,{columns:CV[x],data:v,showCheckboxes:!1,selectedRows:c,currentPage:"status",selectedTable:"status",edited:V,showEditIcon:!0}),l&&b.jsx(kV,{candidate:f,onSave:F,onClose:P})]})]})},$7={SAWP:[{label:"Client Support Letter Requested Date",field:"supportletterReqDate",type:"date"},{label:"Client Support Letter Received Date",field:"supportletterReceiveDate",type:"date"},{label:"Upload Letter PDF",field:"letterfile",type:"file"}],DOE:[{label:"Date of Submission",field:"doesubmitdate",type:"date"},{label:"Date of Approval",field:"doeapprovedate",type:"date"},{label:"Valid Until",field:"doeexpirydate",type:"date"},{label:"Reference No",field:"referenceno",type:"text"},{label:"Upload DOE PDF",field:"doefile",type:"file"}],NLMS:[{label:"Date of Submission",field:"nlmssubmitdate",type:"date"},{label:"Submission Reference No",field:"submissionrefrenceno",type:"text"},{label:"Date of Approval",field:"nlmsapprovedate",type:"date"},{label:"LD Reference No",field:"ldreferenceno",type:"text"},{label:"Valid Until",field:"nlmsexpirydate",type:"date"},{label:"Upload NLMS PDF",field:"nlmsfile",type:"file"}],BankGuarantee:[{label:"Date of Submission",field:"bgsubmitdate",type:"date"},{label:"Date Received",field:"bgreceivedate",type:"date"},{label:"Reference No",field:"referenceno",type:"text"},{label:"BG Amount",field:"bgamount",type:"text"},{label:"Valid Until",field:"bgexpirydate",type:"date"},{label:"Upload BG PDF",field:"bgfile",type:"file"}],JITPA:[{label:"TBA Purchase Date",field:"tbapurchasedate",type:"date"},{label:"JITPA Amount",field:"jitpaamount",type:"text"},{label:"Valid Until",field:"jitpaexpirydate",type:"date"},{label:"Labour Deposit Receipt No",field:"receiptno",type:"text"},{label:"Deposit Amount",field:"depositamount",type:"text"},{label:"Submit Date for Endorsement",field:"submitdateendorsement",type:"date"},{label:"Upload JITPA PDF",field:"jitpafile",type:"file"}],Immigration:[{label:"Immigration Reference No",field:"immbdno",type:"text"},{label:"Date of Submission",field:"docsubmitdate",type:"date"},{label:"Date of Approval",field:"visaapprovedate",type:"date"},{label:"Visa Reference No",field:"visareferenceno",type:"text"},{label:"Upload Visa PDF",field:"visaFile",type:"file"}],AirTicket:[{label:"Date of Departure",field:"departuredate",type:"date"},{label:"Date of Arrival",field:"arrivaldate",type:"date"},{label:"Departure From",field:"cityname",type:"text"},{label:"AirFare",field:"airfare",type:"text"},{label:"Upload Ticket",field:"airticketfile",type:"file"}],Mobilization:[{label:"Agent Name",field:"agentname",type:"text"},{label:"Date of Signing",field:"mobSignDate",type:"date"},{label:"Upload Contract PDF",field:"mobFile",type:"file"}]},IV=({candidate:n,onClose:r,onSave:t})=>{const[e,s]=ne.useState("DOE"),[i,a]=ne.useState({SAWP:{supportletterReqDate:"",supportletterReceiveDate:"",letterfile:null},DOE:{doesubmitdate:"",doeapprovedate:"",doeexpirydate:"",referenceno:"",doefile:null},NLMS:{nlmssubmitdate:"",submissionrefrenceno:"",nlmsapprovedate:"",ldreferenceno:"",nlmsexpirydate:"",nlmsfile:null},BankGuarantee:{bgsubmitdate:"",bgreceivedate:"",referenceno:"",bgamount:"",bgexpirydate:"",bgfile:null},JITPA:{tbapurchasedate:"",jitpaamount:"",jitpaexpirydate:"",receiptno:"",depositamount:"",submitdateendorsement:"",jitpafile:null},Immigration:{immbdno:"",docsubmitdate:"",visaapprovedate:"",visareferenceno:"",visaFile:null},AirTicket:{departuredate:"",arrivaldate:"",cityname:"",airfare:"",airticketfile:null},Mobilization:{agentname:"",mobSignDate:"",mobFile:null}}),o=f=>{s(f)},c=(f,h,p)=>{a(g=>({...g,[f]:{...g[f],[h]:p}}))},u=(f,h,p)=>{a(g=>({...g,[f]:{...g[f],[h]:p}}))},l=()=>{t(i),r()};ne.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[]);const d=()=>$7[e].map(f=>b.jsxs("label",{className:"block",children:[f.label,":",f.type!=="file"?b.jsx("input",{type:f.type,className:"w-full border p-2 rounded mt-1 ",value:i[e][f.field]||"",onChange:h=>c(e,f.field,h.target.value)}):b.jsxs("div",{className:"flex items-center mt-1",children:[b.jsx("input",{type:"file",className:"hidden",id:f.field,onChange:h=>u(e,f.field,h.target.files[0])}),b.jsxs("label",{htmlFor:f.field,className:"flex items-center cursor-pointer text-lite_grey",children:[b.jsx(I9,{className:"mr-2 text-lg text-[#ab1234]"}),i[e][f.field]?i[e][f.field].name:"Upload PDF"]})]})]},f.field));return b.jsx("div",{className:"fixed inset-0 bg-grey bg-opacity-80 z-50 center",children:b.jsxs("div",{className:"bg-white p-8 rounded-lg w-full max-w-[900px] h-[80vh] overflow-hidden",children:[b.jsxs("h2",{className:"text-xl font-bold mb-4 p-1 rounded-md bg-[#f7f183ea]",children:["Temp Id: ",n.tempid,"  Name: ",n.name]}),b.jsx("div",{className:"flex space-x-4 mb-6  ",children:Object.keys($7).map(f=>b.jsx("button",{className:`px-3 py-1 rounded-lg whitespace-nowrap ${e===f?"border-2 border-[#FEF116] bg-[#FFFEF4]":"bg-[#DDDDDD]"}`,onClick:()=>o(f),children:f},f))}),b.jsx("div",{className:"grid grid-cols-2 gap-x-10 overflow-y-auto h-[50vh] pr-4",children:d()}),b.jsxs("div",{className:"flex justify-between mt-4",children:[b.jsx("button",{onClick:r,className:"border-2 border-grey hover:bg-slate_grey hover:text-white px-4 py-2 rounded-xl",children:"Close"}),b.jsx("button",{onClick:l,className:"py-1 px-5 rounded-xl shadow-lg border-2 border-yellow hover:bg-yellow",children:"Save"})]})]})})},PV=()=>{const[n,r]=ne.useState([]),[t,e]=ne.useState(!0),[s,i]=ne.useState(null);ne.useState("");const[a,o]=ne.useState([]),[c,u]=ne.useState(!1),[l,d]=ne.useState(null),[f,h]=ne.useState(!1),[p,g]=ne.useState([]),v=ne.useRef(null),[m,x]=ne.useState("Check status"),[y,w]=ne.useState(""),[E,I]=ne.useState([]),[T,R]=ne.useState(!1);ne.useEffect(()=>{if(n&&n.length>0){const A=n.filter(_=>_.approvalStatus==="CVEV"||_.approvalStatus==="PAAF");g(A)}else g([])},[n]);const D=A=>{A==null||A.stopPropagation(),h(_=>!_)},L=A=>{d(A),u(!0)},M=A=>{const _=A.target.value;w(_),x(_);const S=n.filter(N=>N.workpasstracking===_);g(S),h(!1)},H=()=>u(!1),V=["TempId","Name","Nationality","Position","Contract","Type","Email","Contact"];ne.useEffect(()=>{const A=_=>{v.current&&!v.current.contains(_.target)&&h(!1),_.target.closest(".candidateTypeDropdown")||R(!1)};return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[]);const P=A=>{const _=n.map(S=>S.tempid===l.tempid?{...S,...A}:S);g(_),u(!1)},F=A=>{let _=[...E];if(_.includes(A)?_=_.filter(S=>S!==A):_.push(A),I(_),_.length===0)g(n);else{const S=n.filter(N=>_.some(C=>C==="SAWP"?N.contract==="SAWP":C==="LPA"?N.contract==="LPA":C==="OnShore"?N.type==="OnShore":C==="OffShore"?N.type==="OffShore":!0));g(S)}};return b.jsx("section",{className:"screen-size min-h-screen mb-4 ",children:b.jsxs("div",{className:"relative",children:[b.jsxs("button",{className:`font-semibold py-2 px-6 mb-6 rounded-lg flex items-center ${E.length>0?"bg-[#faf362]":"bg-[#8d8f9036]"} candidateTypeDropdown`,onClick:()=>R(!T),children:[E.length>0?E.join(" + "):"CANDIDATE TYPE",T?b.jsx(v8,{className:"ml-10"}):b.jsx(b8,{className:"ml-10"})]}),T&&b.jsx("div",{className:"absolute bg-white border shadow-lg rounded-lg z-20 candidateTypeDropdown",children:["SAWP","LPA","OnShore","OffShore"].map(A=>b.jsxs("label",{className:"block w-full text-left px-4 py-2",children:[b.jsx("input",{type:"checkbox",className:"mr-2",checked:E.includes(A),onChange:()=>F(A)}),A]},A))}),b.jsxs("button",{onClick:D,className:`absolute top-0 right-0 px-6 py-2 font-semibold rounded-lg flex items-center ${y.length?"bg-[#faf362]":"bg-[#8d8f9036]"}`,children:[b.jsx(C9,{className:"mr-5"}),b.jsx("span",{children:m})]}),f&&b.jsxs("div",{ref:v,className:"absolute top-12 right-0 mt-2 bg-white shadow-lg rounded-lg p-4 z-50 flex flex-col space-y-2",children:[["SAWP","DOE","NLMS","Bank Guarantee","JITPA","Immigration","Air Ticket","Mobilization"].map(A=>b.jsxs("label",{className:`flex items-center font-semibold space-x-2 hover:font-bold hover:text-[#c7bd03] p-2 rounded-md ${y===A?"text-[#faf362]":"text-lite_grey"}`,children:[b.jsx("input",{type:"radio",className:"w-5 h-6",name:"workpasstracking",value:A,checked:y===A,onChange:M}),b.jsx("span",{children:A})]},A)),b.jsx("button",{className:"mt-4 px-1 py-2 border-2 border-yellow rounded-lg shadow-lg hover:bg-[#faf362]",onClick:A=>{A.stopPropagation(),w(""),g(n),x("Check status"),h(!1)},children:"Reset"})]}),!t&&!s?p.length>0?b.jsx(Sy,{columns:V,data:p,rowClickHandler:L,showCheckboxes:!1,selectedRows:a,currentPage:"workpasstracking",selectedTable:"workpasstracking",edited:L,showEditIcon:!0}):b.jsx("div",{className:"text-center text-grey py-10",children:"No data found"}):b.jsx("div",{children:t?"Loading...":"Error fetching data. Check your Internet connection."}),c&&l&&b.jsx(IV,{candidate:l,onClose:H,onSave:P})]})})},jV="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.1667%2014.1667L17.5%2017.5M2.5%209.16667C2.5%2010.9348%203.20238%2012.6305%204.45262%2013.8807C5.70286%2015.131%207.39856%2015.8333%209.16667%2015.8333C10.9348%2015.8333%2012.6305%2015.131%2013.8807%2013.8807C15.131%2012.6305%2015.8333%2010.9348%2015.8333%209.16667C15.8333%207.39856%2015.131%205.70286%2013.8807%204.45262C12.6305%203.20238%2010.9348%202.5%209.16667%202.5C7.39856%202.5%205.70286%203.20238%204.45262%204.45262C3.20238%205.70286%202.5%207.39856%202.5%209.16667Z'%20stroke='%23303030'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",RV=({activeTab:n,handleTabClick:r})=>{const t=["Personal Details","Educational Details","Family Details","Medical Details","Non-Local Accommodation Details","Insurance Details","Work Info","Work Pass"];return b.jsx("div",{className:"sticky top-11 bg-white flex justify-between items-center  z-40",children:b.jsx("p",{className:"text_size_5",children:t.map((e,s)=>b.jsxs("span",{className:`relative after:absolute after:-bottom-2 after:left-0 after:w-full after:h-1 cursor-pointer ${n===s&&"after:bg-primary"}`,onClick:()=>r(s),children:[e," ",s<t.length-1&&" -> "]},s))})})};var db={};db.d=(n,r)=>{for(var t in r)db.o(r,t)&&!db.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:r[t]})};db.o=(n,r)=>Object.prototype.hasOwnProperty.call(n,r);var qr=globalThis.pdfjsLib={};db.d(qr,{AbortException:()=>e0,AnnotationEditorLayer:()=>O4,AnnotationEditorParamsType:()=>Vr,AnnotationEditorType:()=>wn,AnnotationEditorUIManager:()=>Om,AnnotationLayer:()=>PG,AnnotationMode:()=>Jh,CMapCompressionType:()=>T_,ColorPicker:()=>aw,DOMSVGFactory:()=>M8,DrawLayer:()=>H4,FeatureTest:()=>Lo,GlobalWorkerOptions:()=>ph,ImageKind:()=>ax,InvalidPDFException:()=>j9,MissingPDFException:()=>Qm,OPS:()=>Nc,Outliner:()=>v4,PDFDataRangeTransport:()=>Ck,PDFDateString:()=>U9,PDFWorker:()=>K0,PasswordResponses:()=>FV,PermissionFlag:()=>OV,PixelsPerInch:()=>Bf,RenderingCancelledException:()=>L8,TextLayer:()=>sw,UnexpectedResponseException:()=>s5,Util:()=>yr,VerbosityLevel:()=>t5,XfaLayer:()=>Dk,build:()=>hG,createValidAbsoluteUrl:()=>qV,fetchData:()=>c5,getDocument:()=>nG,getFilenameFromUrl:()=>ZV,getPdfFilenameFromUrl:()=>QV,getXfaPageViewport:()=>e$,isDataScheme:()=>O8,isPdfFile:()=>F8,noContextMenu:()=>Fo,normalizeUnicode:()=>YV,renderTextLayer:()=>Y$,setLayerDimensions:()=>Lm,shadow:()=>In,updateTextLayer:()=>X$,version:()=>dG});const Wa=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),P9=[1,0,0,1,0,0],C_=[.001,0,0,.001,0,0],MV=1e7,L6=1.35,Wl={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},Jh={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},LV="pdfjs_internal_editor_",wn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Vr={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},OV={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Ma={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ax={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ci={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Mg={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t5={ERRORS:0,WARNINGS:1,INFOS:5},T_={NONE:0,BINARY:1},Nc={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},FV={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let r5=t5.WARNINGS;function BV(n){Number.isInteger(n)&&(r5=n)}function UV(){return r5}function n5(n){r5>=t5.INFOS&&console.log(`Info: ${n}`)}function cn(n){r5>=t5.WARNINGS&&console.log(`Warning: ${n}`)}function ss(n){throw new Error(n)}function Oi(n,r){n||ss(r)}function HV(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function qV(n,r=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const s=n.match(/\./g);(s==null?void 0:s.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=GV(n)}catch{}}const e=r?new URL(n,r):new URL(n);if(HV(e))return e}catch{}return null}function In(n,r,t,e=!1){return Object.defineProperty(n,r,{value:t,enumerable:!e,configurable:!0,writable:!1}),t}const Gf=function(){function r(t,e){this.constructor===r&&ss("Cannot initialize BaseException."),this.message=t,this.name=e}return r.prototype=new Error,r.constructor=r,r}();class D_ extends Gf{constructor(r,t){super(r,"PasswordException"),this.code=t}}class I_ extends Gf{constructor(r,t){super(r,"UnknownErrorException"),this.details=t}}class j9 extends Gf{constructor(r){super(r,"InvalidPDFException")}}class Qm extends Gf{constructor(r){super(r,"MissingPDFException")}}class s5 extends Gf{constructor(r,t){super(r,"UnexpectedResponseException"),this.status=t}}class WV extends Gf{constructor(r){super(r,"FormatError")}}class e0 extends Gf{constructor(r){super(r,"AbortException")}}function R9(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&ss("Invalid argument for bytesToString");const r=n.length,t=8192;if(r<t)return String.fromCharCode.apply(null,n);const e=[];for(let s=0;s<r;s+=t){const i=Math.min(s+t,r),a=n.subarray(s,i);e.push(String.fromCharCode.apply(null,a))}return e.join("")}function i5(n){typeof n!="string"&&ss("Invalid argument for stringToBytes");const r=n.length,t=new Uint8Array(r);for(let e=0;e<r;++e)t[e]=n.charCodeAt(e)&255;return t}function zV(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function j8(n){const r=Object.create(null);for(const[t,e]of n)r[t]=e;return r}function VV(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function $V(){try{return new Function(""),!0}catch{return!1}}class Lo{static get isLittleEndian(){return In(this,"isLittleEndian",VV())}static get isEvalSupported(){return In(this,"isEvalSupported",$V())}static get isOffscreenCanvasSupported(){return In(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?In(this,"platform",{isMac:navigator.platform.includes("Mac")}):In(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var r,t;return In(this,"isCSSRoundSupported",(t=(r=globalThis.CSS)==null?void 0:r.supports)==null?void 0:t.call(r,"width: round(1.5px, 1px)"))}}const O6=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var vh,ox,P_;class yr{static makeHexColor(r,t,e){return`#${O6[r]}${O6[t]}${O6[e]}`}static scaleMinMax(r,t){let e;r[0]?(r[0]<0&&(e=t[0],t[0]=t[2],t[2]=e),t[0]*=r[0],t[2]*=r[0],r[3]<0&&(e=t[1],t[1]=t[3],t[3]=e),t[1]*=r[3],t[3]*=r[3]):(e=t[0],t[0]=t[1],t[1]=e,e=t[2],t[2]=t[3],t[3]=e,r[1]<0&&(e=t[1],t[1]=t[3],t[3]=e),t[1]*=r[1],t[3]*=r[1],r[2]<0&&(e=t[0],t[0]=t[2],t[2]=e),t[0]*=r[2],t[2]*=r[2]),t[0]+=r[4],t[1]+=r[5],t[2]+=r[4],t[3]+=r[5]}static transform(r,t){return[r[0]*t[0]+r[2]*t[1],r[1]*t[0]+r[3]*t[1],r[0]*t[2]+r[2]*t[3],r[1]*t[2]+r[3]*t[3],r[0]*t[4]+r[2]*t[5]+r[4],r[1]*t[4]+r[3]*t[5]+r[5]]}static applyTransform(r,t){const e=r[0]*t[0]+r[1]*t[2]+t[4],s=r[0]*t[1]+r[1]*t[3]+t[5];return[e,s]}static applyInverseTransform(r,t){const e=t[0]*t[3]-t[1]*t[2],s=(r[0]*t[3]-r[1]*t[2]+t[2]*t[5]-t[4]*t[3])/e,i=(-r[0]*t[1]+r[1]*t[0]+t[4]*t[1]-t[5]*t[0])/e;return[s,i]}static getAxialAlignedBoundingBox(r,t){const e=this.applyTransform(r,t),s=this.applyTransform(r.slice(2,4),t),i=this.applyTransform([r[0],r[3]],t),a=this.applyTransform([r[2],r[1]],t);return[Math.min(e[0],s[0],i[0],a[0]),Math.min(e[1],s[1],i[1],a[1]),Math.max(e[0],s[0],i[0],a[0]),Math.max(e[1],s[1],i[1],a[1])]}static inverseTransform(r){const t=r[0]*r[3]-r[1]*r[2];return[r[3]/t,-r[1]/t,-r[2]/t,r[0]/t,(r[2]*r[5]-r[4]*r[3])/t,(r[4]*r[1]-r[5]*r[0])/t]}static singularValueDecompose2dScale(r){const t=[r[0],r[2],r[1],r[3]],e=r[0]*t[0]+r[1]*t[2],s=r[0]*t[1]+r[1]*t[3],i=r[2]*t[0]+r[3]*t[2],a=r[2]*t[1]+r[3]*t[3],o=(e+a)/2,c=Math.sqrt((e+a)**2-4*(e*a-i*s))/2,u=o+c||1,l=o-c||1;return[Math.sqrt(u),Math.sqrt(l)]}static normalizeRect(r){const t=r.slice(0);return r[0]>r[2]&&(t[0]=r[2],t[2]=r[0]),r[1]>r[3]&&(t[1]=r[3],t[3]=r[1]),t}static intersect(r,t){const e=Math.max(Math.min(r[0],r[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(r[0],r[2]),Math.max(t[0],t[2]));if(e>s)return null;const i=Math.max(Math.min(r[1],r[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(r[1],r[3]),Math.max(t[1],t[3]));return i>a?null:[e,i,s,a]}static bezierBoundingBox(r,t,e,s,i,a,o,c,u){return u?(u[0]=Math.min(u[0],r,o),u[1]=Math.min(u[1],t,c),u[2]=Math.max(u[2],r,o),u[3]=Math.max(u[3],t,c)):u=[Math.min(r,o),Math.min(t,c),Math.max(r,o),Math.max(t,c)],Ce(this,vh,P_).call(this,r,e,i,o,t,s,a,c,3*(-r+3*(e-i)+o),6*(r-2*e+i),3*(e-r),u),Ce(this,vh,P_).call(this,r,e,i,o,t,s,a,c,3*(-t+3*(s-a)+c),6*(t-2*s+a),3*(s-t),u),u}}vh=new WeakSet,ox=function(r,t,e,s,i,a,o,c,u,l){if(u<=0||u>=1)return;const d=1-u,f=u*u,h=f*u,p=d*(d*(d*r+3*u*t)+3*f*e)+h*s,g=d*(d*(d*i+3*u*a)+3*f*o)+h*c;l[0]=Math.min(l[0],p),l[1]=Math.min(l[1],g),l[2]=Math.max(l[2],p),l[3]=Math.max(l[3],g)},P_=function(r,t,e,s,i,a,o,c,u,l,d,f){if(Math.abs(u)<1e-12){Math.abs(l)>=1e-12&&Ce(this,vh,ox).call(this,r,t,e,s,i,a,o,c,-d/l,f);return}const h=l**2-4*d*u;if(h<0)return;const p=Math.sqrt(h),g=2*u;Ce(this,vh,ox).call(this,r,t,e,s,i,a,o,c,(-l+p)/g,f),Ce(this,vh,ox).call(this,r,t,e,s,i,a,o,c,(-l-p)/g,f)},De(yr,vh);function GV(n){return decodeURIComponent(escape(n))}let F6=null,G7=null;function YV(n){return F6||(F6=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,G7=new Map([["","t"]])),n.replaceAll(F6,(r,t,e)=>t?t.normalize("NFKC"):G7.get(e))}function XV(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let r=0;r<32;r++)n[r]=Math.floor(Math.random()*255);return R9(n)}const M9="pdfjs_internal_id_",Pd={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class a5{constructor(){this.constructor===a5&&ss("Cannot initialize BaseFilterFactory.")}addFilter(r){return"none"}addHCMFilter(r,t){return"none"}addAlphaFilter(r){return"none"}addLuminosityFilter(r){return"none"}addHighlightHCMFilter(r,t,e,s,i){return"none"}destroy(r=!1){}}var Bb;const gS=class gS{constructor({enableHWA:r=!1}={}){De(this,Bb,!1);this.constructor===gS&&ss("Cannot initialize BaseCanvasFactory."),Ne(this,Bb,r)}create(r,t){if(r<=0||t<=0)throw new Error("Invalid canvas size");const e=this._createCanvas(r,t);return{canvas:e,context:e.getContext("2d",{willReadFrequently:!K(this,Bb)})}}reset(r,t,e){if(!r.canvas)throw new Error("Canvas is not specified");if(t<=0||e<=0)throw new Error("Invalid canvas size");r.canvas.width=t,r.canvas.height=e}destroy(r){if(!r.canvas)throw new Error("Canvas is not specified");r.canvas.width=0,r.canvas.height=0,r.canvas=null,r.context=null}_createCanvas(r,t){ss("Abstract method `_createCanvas` called.")}};Bb=new WeakMap;let ew=gS;class o5{constructor({baseUrl:r=null,isCompressed:t=!0}){this.constructor===o5&&ss("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=r,this.isCompressed=t}async fetch({name:r}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!r)throw new Error("CMap name must be specified.");const t=this.baseUrl+r+(this.isCompressed?".bcmap":""),e=this.isCompressed?T_.BINARY:T_.NONE;return this._fetchData(t,e).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(r,t){ss("Abstract method `_fetchData` called.")}}class l5{constructor({baseUrl:r=null}){this.constructor===l5&&ss("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=r}async fetch({filename:r}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!r)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${r}`;return this._fetchData(t).catch(e=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(r){ss("Abstract method `_fetchData` called.")}}class R8{constructor(){this.constructor===R8&&ss("Cannot initialize BaseSVGFactory.")}create(r,t,e=!1){if(r<=0||t<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),e||(s.setAttribute("width",`${r}px`),s.setAttribute("height",`${t}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${r} ${t}`),s}createElement(r){if(typeof r!="string")throw new Error("Invalid SVG element type");return this._createSVG(r)}_createSVG(r){ss("Abstract method `_createSVG` called.")}}const Rd="http://www.w3.org/2000/svg",Sp=class Sp{};Ot(Sp,"CSS",96),Ot(Sp,"PDF",72),Ot(Sp,"PDF_TO_CSS_UNITS",Sp.CSS/Sp.PDF);let Bf=Sp;var Tp,vu,Ud,Po,yw,Dp,pr,La,L0,O0,lx,L9,j_,F0,Ug,Hg,R_,qg;class KV extends a5{constructor({docId:t,ownerDocument:e=globalThis.document}={}){super();De(this,pr);De(this,Tp);De(this,vu);De(this,Ud);De(this,Po);De(this,yw);De(this,Dp,0);Ne(this,Ud,t),Ne(this,Po,e)}addFilter(t){if(!t)return"none";let e=K(this,pr,La).get(t);if(e)return e;const[s,i,a]=Ce(this,pr,lx).call(this,t),o=t.length===1?s:`${s}${i}${a}`;if(e=K(this,pr,La).get(o),e)return K(this,pr,La).set(t,e),e;const c=`g_${K(this,Ud)}_transfer_map_${tl(this,Dp)._++}`,u=`url(#${c})`;K(this,pr,La).set(t,u),K(this,pr,La).set(o,u);const l=Ce(this,pr,F0).call(this,c);return Ce(this,pr,Hg).call(this,s,i,a,l),u}addHCMFilter(t,e){var p;const s=`${t}-${e}`,i="base";let a=K(this,pr,L0).get(i);if((a==null?void 0:a.key)===s||(a?((p=a.filter)==null||p.remove(),a.key=s,a.url="none",a.filter=null):(a={key:s,url:"none",filter:null},K(this,pr,L0).set(i,a)),!t||!e))return a.url;const o=Ce(this,pr,qg).call(this,t);t=yr.makeHexColor(...o);const c=Ce(this,pr,qg).call(this,e);if(e=yr.makeHexColor(...c),K(this,pr,O0).style.color="",t==="#000000"&&e==="#ffffff"||t===e)return a.url;const u=new Array(256);for(let g=0;g<=255;g++){const v=g/255;u[g]=v<=.03928?v/12.92:((v+.055)/1.055)**2.4}const l=u.join(","),d=`g_${K(this,Ud)}_hcm_filter`,f=a.filter=Ce(this,pr,F0).call(this,d);Ce(this,pr,Hg).call(this,l,l,l,f),Ce(this,pr,j_).call(this,f);const h=(g,v)=>{const m=o[g]/255,x=c[g]/255,y=new Array(v+1);for(let w=0;w<=v;w++)y[w]=m+w/v*(x-m);return y.join(",")};return Ce(this,pr,Hg).call(this,h(0,5),h(1,5),h(2,5),f),a.url=`url(#${d})`,a.url}addAlphaFilter(t){let e=K(this,pr,La).get(t);if(e)return e;const[s]=Ce(this,pr,lx).call(this,[t]),i=`alpha_${s}`;if(e=K(this,pr,La).get(i),e)return K(this,pr,La).set(t,e),e;const a=`g_${K(this,Ud)}_alpha_map_${tl(this,Dp)._++}`,o=`url(#${a})`;K(this,pr,La).set(t,o),K(this,pr,La).set(i,o);const c=Ce(this,pr,F0).call(this,a);return Ce(this,pr,R_).call(this,s,c),o}addLuminosityFilter(t){let e=K(this,pr,La).get(t||"luminosity");if(e)return e;let s,i;if(t?([s]=Ce(this,pr,lx).call(this,[t]),i=`luminosity_${s}`):i="luminosity",e=K(this,pr,La).get(i),e)return K(this,pr,La).set(t,e),e;const a=`g_${K(this,Ud)}_luminosity_map_${tl(this,Dp)._++}`,o=`url(#${a})`;K(this,pr,La).set(t,o),K(this,pr,La).set(i,o);const c=Ce(this,pr,F0).call(this,a);return Ce(this,pr,L9).call(this,c),t&&Ce(this,pr,R_).call(this,s,c),o}addHighlightHCMFilter(t,e,s,i,a){var x;const o=`${e}-${s}-${i}-${a}`;let c=K(this,pr,L0).get(t);if((c==null?void 0:c.key)===o||(c?((x=c.filter)==null||x.remove(),c.key=o,c.url="none",c.filter=null):(c={key:o,url:"none",filter:null},K(this,pr,L0).set(t,c)),!e||!s))return c.url;const[u,l]=[e,s].map(Ce(this,pr,qg).bind(this));let d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),[h,p]=[i,a].map(Ce(this,pr,qg).bind(this));f<d&&([d,f,h,p]=[f,d,p,h]),K(this,pr,O0).style.color="";const g=(y,w,E)=>{const I=new Array(256),T=(f-d)/E,R=y/255,D=(w-y)/(255*E);let L=0;for(let M=0;M<=E;M++){const H=Math.round(d+M*T),V=R+M*D;for(let P=L;P<=H;P++)I[P]=V;L=H+1}for(let M=L;M<256;M++)I[M]=I[L-1];return I.join(",")},v=`g_${K(this,Ud)}_hcm_${t}_filter`,m=c.filter=Ce(this,pr,F0).call(this,v);return Ce(this,pr,j_).call(this,m),Ce(this,pr,Hg).call(this,g(h[0],p[0],5),g(h[1],p[1],5),g(h[2],p[2],5),m),c.url=`url(#${v})`,c.url}destroy(t=!1){t&&K(this,pr,L0).size!==0||(K(this,vu)&&(K(this,vu).parentNode.parentNode.remove(),Ne(this,vu,null)),K(this,Tp)&&(K(this,Tp).clear(),Ne(this,Tp,null)),Ne(this,Dp,0))}}Tp=new WeakMap,vu=new WeakMap,Ud=new WeakMap,Po=new WeakMap,yw=new WeakMap,Dp=new WeakMap,pr=new WeakSet,La=function(){return K(this,Tp)||Ne(this,Tp,new Map)},L0=function(){return K(this,yw)||Ne(this,yw,new Map)},O0=function(){if(!K(this,vu)){const t=K(this,Po).createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const s=K(this,Po).createElementNS(Rd,"svg");s.setAttribute("width",0),s.setAttribute("height",0),Ne(this,vu,K(this,Po).createElementNS(Rd,"defs")),t.append(s),s.append(K(this,vu)),K(this,Po).body.append(t)}return K(this,vu)},lx=function(t){if(t.length===1){const u=t[0],l=new Array(256);for(let f=0;f<256;f++)l[f]=u[f]/255;const d=l.join(",");return[d,d,d]}const[e,s,i]=t,a=new Array(256),o=new Array(256),c=new Array(256);for(let u=0;u<256;u++)a[u]=e[u]/255,o[u]=s[u]/255,c[u]=i[u]/255;return[a.join(","),o.join(","),c.join(",")]},L9=function(t){const e=K(this,Po).createElementNS(Rd,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)},j_=function(t){const e=K(this,Po).createElementNS(Rd,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)},F0=function(t){const e=K(this,Po).createElementNS(Rd,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),K(this,pr,O0).append(e),e},Ug=function(t,e,s){const i=K(this,Po).createElementNS(Rd,e);i.setAttribute("type","discrete"),i.setAttribute("tableValues",s),t.append(i)},Hg=function(t,e,s,i){const a=K(this,Po).createElementNS(Rd,"feComponentTransfer");i.append(a),Ce(this,pr,Ug).call(this,a,"feFuncR",t),Ce(this,pr,Ug).call(this,a,"feFuncG",e),Ce(this,pr,Ug).call(this,a,"feFuncB",s)},R_=function(t,e){const s=K(this,Po).createElementNS(Rd,"feComponentTransfer");e.append(s),Ce(this,pr,Ug).call(this,s,"feFuncA",t)},qg=function(t){return K(this,pr,O0).style.color=t,B8(getComputedStyle(K(this,pr,O0)).getPropertyValue("color"))};class JV extends ew{constructor({ownerDocument:r=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=r}_createCanvas(r,t){const e=this._document.createElement("canvas");return e.width=r,e.height=t,e}}async function c5(n,r="text"){if(Wg(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(r){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,e)=>{const s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType=r,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(r){case"arraybuffer":case"blob":case"json":t(s.response);return}t(s.responseText);return}e(new Error(s.statusText))}},s.send(null)})}class O9 extends o5{_fetchData(r,t){return c5(r,this.isCompressed?"arraybuffer":"text").then(e=>({cMapData:e instanceof ArrayBuffer?new Uint8Array(e):i5(e),compressionType:t}))}}class F9 extends l5{_fetchData(r){return c5(r,"arraybuffer").then(t=>new Uint8Array(t))}}class M8 extends R8{_createSVG(r){return document.createElementNS(Rd,r)}}class Ey{constructor({viewBox:r,scale:t,rotation:e,offsetX:s=0,offsetY:i=0,dontFlip:a=!1}){this.viewBox=r,this.scale=t,this.rotation=e,this.offsetX=s,this.offsetY=i;const o=(r[2]+r[0])/2,c=(r[3]+r[1])/2;let u,l,d,f;switch(e%=360,e<0&&(e+=360),e){case 180:u=-1,l=0,d=0,f=1;break;case 90:u=0,l=1,d=1,f=0;break;case 270:u=0,l=-1,d=-1,f=0;break;case 0:u=1,l=0,d=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(d=-d,f=-f);let h,p,g,v;u===0?(h=Math.abs(c-r[1])*t+s,p=Math.abs(o-r[0])*t+i,g=(r[3]-r[1])*t,v=(r[2]-r[0])*t):(h=Math.abs(o-r[0])*t+s,p=Math.abs(c-r[1])*t+i,g=(r[2]-r[0])*t,v=(r[3]-r[1])*t),this.transform=[u*t,l*t,d*t,f*t,h-u*t*o-d*t*c,p-l*t*o-f*t*c],this.width=g,this.height=v}get rawDims(){const{viewBox:r}=this;return In(this,"rawDims",{pageWidth:r[2]-r[0],pageHeight:r[3]-r[1],pageX:r[0],pageY:r[1]})}clone({scale:r=this.scale,rotation:t=this.rotation,offsetX:e=this.offsetX,offsetY:s=this.offsetY,dontFlip:i=!1}={}){return new Ey({viewBox:this.viewBox.slice(),scale:r,rotation:t,offsetX:e,offsetY:s,dontFlip:i})}convertToViewportPoint(r,t){return yr.applyTransform([r,t],this.transform)}convertToViewportRectangle(r){const t=yr.applyTransform([r[0],r[1]],this.transform),e=yr.applyTransform([r[2],r[3]],this.transform);return[t[0],t[1],e[0],e[1]]}convertToPdfPoint(r,t){return yr.applyInverseTransform([r,t],this.transform)}}class L8 extends Gf{constructor(r,t=0){super(r,"RenderingCancelledException"),this.extraDelay=t}}function O8(n){const r=n.length;let t=0;for(;t<r&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function F8(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function ZV(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function QV(n,r="document.pdf"){if(typeof n!="string")return r;if(O8(n))return cn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),r;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,e=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=t.exec(n);let i=e.exec(s[1])||e.exec(s[2])||e.exec(s[3]);if(i&&(i=i[0],i.includes("%")))try{i=e.exec(decodeURIComponent(i))[0]}catch{}return i||r}class Y7{constructor(){Ot(this,"started",Object.create(null));Ot(this,"times",[])}time(r){r in this.started&&cn(`Timer is already running for ${r}`),this.started[r]=Date.now()}timeEnd(r){r in this.started||cn(`Timer has not been started for ${r}`),this.times.push({name:r,start:this.started[r],end:Date.now()}),delete this.started[r]}toString(){const r=[];let t=0;for(const{name:e}of this.times)t=Math.max(e.length,t);for(const{name:e,start:s,end:i}of this.times)r.push(`${e.padEnd(t)} ${i-s}ms
`);return r.join("")}}function Wg(n,r){try{const{protocol:t}=r?new URL(n,r):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function Fo(n){n.preventDefault()}function B9(n){console.log("Deprecated API usage: "+n)}let X7;class U9{static toDateObject(r){if(!r||typeof r!="string")return null;X7||(X7=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=X7.exec(r);if(!t)return null;const e=parseInt(t[1],10);let s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const u=t[7]||"Z";let l=parseInt(t[8],10);l=l>=0&&l<=23?l:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,u==="-"?(a+=l,o+=d):u==="+"&&(a-=l,o-=d),new Date(Date.UTC(e,s,i,a,o,c))}}function e$(n,{scale:r=1,rotation:t=0}){const{width:e,height:s}=n.attributes.style,i=[0,0,parseInt(e),parseInt(s)];return new Ey({viewBox:i,scale:r,rotation:t})}function B8(n){if(n.startsWith("#")){const r=parseInt(n.slice(1),16);return[(r&16711680)>>16,(r&65280)>>8,r&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(r=>parseInt(r)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(r=>parseInt(r)).slice(0,3):(cn(`Not a valid color format: "${n}"`),[0,0,0])}function t$(n){const r=document.createElement("span");r.style.visibility="hidden",document.body.append(r);for(const t of n.keys()){r.style.color=t;const e=window.getComputedStyle(r).color;n.set(t,B8(e))}r.remove()}function Fs(n){const{a:r,b:t,c:e,d:s,e:i,f:a}=n.getTransform();return[r,t,e,s,i,a]}function jd(n){const{a:r,b:t,c:e,d:s,e:i,f:a}=n.getTransform().invertSelf();return[r,t,e,s,i,a]}function Lm(n,r,t=!1,e=!0){if(r instanceof Ey){const{pageWidth:s,pageHeight:i}=r.rawDims,{style:a}=n,o=Lo.isCSSRoundSupported,c=`var(--scale-factor) * ${s}px`,u=`var(--scale-factor) * ${i}px`,l=o?`round(${c}, 1px)`:`calc(${c})`,d=o?`round(${u}, 1px)`:`calc(${u})`;!t||r.rotation%180===0?(a.width=l,a.height=d):(a.width=d,a.height=l)}e&&n.setAttribute("data-main-rotation",r.rotation)}var Ip,Pp,sl,jp,xw,H9,mo,q9,W9,cx,z9,L_;const ww=class ww{constructor(r){De(this,mo);De(this,Ip,null);De(this,Pp,null);De(this,sl);De(this,jp,null);Ne(this,sl,r)}render(){const r=Ne(this,Ip,document.createElement("div"));r.className="editToolbar",r.setAttribute("role","toolbar");const t=K(this,sl)._uiManager._signal;r.addEventListener("contextmenu",Fo,{signal:t}),r.addEventListener("pointerdown",Ce(ww,xw,H9),{signal:t});const e=Ne(this,jp,document.createElement("div"));e.className="buttons",r.append(e);const s=K(this,sl).toolbarPosition;if(s){const{style:i}=r,a=K(this,sl)._uiManager.direction==="ltr"?1-s[0]:s[0];i.insetInlineEnd=`${100*a}%`,i.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return Ce(this,mo,z9).call(this),r}hide(){var r;K(this,Ip).classList.add("hidden"),(r=K(this,Pp))==null||r.hideDropdown()}show(){K(this,Ip).classList.remove("hidden")}addAltTextButton(r){Ce(this,mo,cx).call(this,r),K(this,jp).prepend(r,K(this,mo,L_))}addColorPicker(r){Ne(this,Pp,r);const t=r.renderButton();Ce(this,mo,cx).call(this,t),K(this,jp).prepend(t,K(this,mo,L_))}remove(){var r;K(this,Ip).remove(),(r=K(this,Pp))==null||r.destroy(),Ne(this,Pp,null)}};Ip=new WeakMap,Pp=new WeakMap,sl=new WeakMap,jp=new WeakMap,xw=new WeakSet,H9=function(r){r.stopPropagation()},mo=new WeakSet,q9=function(r){K(this,sl)._focusEventsAllowed=!1,r.preventDefault(),r.stopPropagation()},W9=function(r){K(this,sl)._focusEventsAllowed=!0,r.preventDefault(),r.stopPropagation()},cx=function(r){const t=K(this,sl)._uiManager._signal;r.addEventListener("focusin",Ce(this,mo,q9).bind(this),{capture:!0,signal:t}),r.addEventListener("focusout",Ce(this,mo,W9).bind(this),{capture:!0,signal:t}),r.addEventListener("contextmenu",Fo,{signal:t})},z9=function(){const r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",`pdfjs-editor-remove-${K(this,sl).editorType}-button`),Ce(this,mo,cx).call(this,r),r.addEventListener("click",t=>{K(this,sl)._uiManager.delete()},{signal:K(this,sl)._uiManager._signal}),K(this,jp).append(r)},L_=function(){const r=document.createElement("div");return r.className="divider",r},De(ww,xw);let M_=ww;var Ub,Rp,Mp,qf,V9,$9,G9;class r${constructor(r){De(this,qf);De(this,Ub,null);De(this,Rp,null);De(this,Mp);Ne(this,Mp,r)}show(r,t,e){const[s,i]=Ce(this,qf,$9).call(this,t,e),{style:a}=K(this,Rp)||Ne(this,Rp,Ce(this,qf,V9).call(this));r.append(K(this,Rp)),a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*i}% + var(--editor-toolbar-vert-offset))`}hide(){K(this,Rp).remove()}}Ub=new WeakMap,Rp=new WeakMap,Mp=new WeakMap,qf=new WeakSet,V9=function(){const r=Ne(this,Rp,document.createElement("div"));r.className="editToolbar",r.setAttribute("role","toolbar"),r.addEventListener("contextmenu",Fo,{signal:K(this,Mp)._signal});const t=Ne(this,Ub,document.createElement("div"));return t.className="buttons",r.append(t),Ce(this,qf,G9).call(this),r},$9=function(r,t){let e=0,s=0;for(const i of r){const a=i.y+i.height;if(a<e)continue;const o=i.x+(t?i.width:0);if(a>e){s=o,e=a;continue}t?o>s&&(s=o):o<s&&(s=o)}return[t?1-s:s,e]},G9=function(){const r=document.createElement("button");r.className="highlightButton",r.tabIndex=0,r.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");r.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const e=K(this,Mp)._signal;r.addEventListener("contextmenu",Fo,{signal:e}),r.addEventListener("click",()=>{K(this,Mp).highlightSelection("floating_button")},{signal:e}),K(this,Ub).append(r)};function tw(n,r,t){for(const e of t)r.addEventListener(e,n[e].bind(n))}function n$(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var _w;class s${constructor(){De(this,_w,0)}get id(){return`${LV}${tl(this,_w)._++}`}}_w=new WeakMap;var Hb,Sw,Fl,qb,F_;const bS=class bS{constructor(){De(this,qb);De(this,Hb,XV());De(this,Sw,0);De(this,Fl,null)}static get _isSVGFittingCanvas(){const r='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',e=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=r;const i=s.decode().then(()=>(e.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0]===0));return In(this,"_isSVGFittingCanvas",i)}async getFromFile(r){const{lastModified:t,name:e,size:s,type:i}=r;return Ce(this,qb,F_).call(this,`${t}_${e}_${s}_${i}`,r)}async getFromUrl(r){return Ce(this,qb,F_).call(this,r,r)}async getFromId(r){K(this,Fl)||Ne(this,Fl,new Map);const t=K(this,Fl).get(r);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(r){const t=K(this,Fl).get(r);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(r){K(this,Fl)||Ne(this,Fl,new Map);const t=K(this,Fl).get(r);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(r){return r.startsWith(`image_${K(this,Hb)}_`)}};Hb=new WeakMap,Sw=new WeakMap,Fl=new WeakMap,qb=new WeakSet,F_=async function(r,t){K(this,Fl)||Ne(this,Fl,new Map);let e=K(this,Fl).get(r);if(e===null)return null;if(e!=null&&e.bitmap)return e.refCounter+=1,e;try{e||(e={bitmap:null,id:`image_${K(this,Hb)}_${tl(this,Sw)._++}`,refCounter:0,isSvg:!1});let s;if(typeof t=="string"?(e.url=t,s=await c5(t,"blob")):s=e.file=t,s.type==="image/svg+xml"){const i=bS._isSVGFittingCanvas,a=new FileReader,o=new Image,c=new Promise((u,l)=>{o.onload=()=>{e.bitmap=o,e.isSvg=!0,u()},a.onload=async()=>{const d=e.svgUrl=a.result;o.src=await i?`${d}#svgView(preserveAspectRatio(none))`:d},o.onerror=a.onerror=l});a.readAsDataURL(s),await c}else e.bitmap=await createImageBitmap(s);e.refCounter=1}catch(s){console.error(s),e=null}return K(this,Fl).set(r,e),e&&K(this,Fl).set(e.id,e),e};let O_=bS;var Gi,ef,Wb,Yi;class i${constructor(r=128){De(this,Gi,[]);De(this,ef,!1);De(this,Wb);De(this,Yi,-1);Ne(this,Wb,r)}add({cmd:r,undo:t,post:e,mustExec:s,type:i=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(s&&r(),K(this,ef))return;const c={cmd:r,undo:t,post:e,type:i};if(K(this,Yi)===-1){K(this,Gi).length>0&&(K(this,Gi).length=0),Ne(this,Yi,0),K(this,Gi).push(c);return}if(a&&K(this,Gi)[K(this,Yi)].type===i){o&&(c.undo=K(this,Gi)[K(this,Yi)].undo),K(this,Gi)[K(this,Yi)]=c;return}const u=K(this,Yi)+1;u===K(this,Wb)?K(this,Gi).splice(0,1):(Ne(this,Yi,u),u<K(this,Gi).length&&K(this,Gi).splice(u)),K(this,Gi).push(c)}undo(){if(K(this,Yi)===-1)return;Ne(this,ef,!0);const{undo:r,post:t}=K(this,Gi)[K(this,Yi)];r(),t==null||t(),Ne(this,ef,!1),Ne(this,Yi,K(this,Yi)-1)}redo(){if(K(this,Yi)<K(this,Gi).length-1){Ne(this,Yi,K(this,Yi)+1),Ne(this,ef,!0);const{cmd:r,post:t}=K(this,Gi)[K(this,Yi)];r(),t==null||t(),Ne(this,ef,!1)}}hasSomethingToUndo(){return K(this,Yi)!==-1}hasSomethingToRedo(){return K(this,Yi)<K(this,Gi).length-1}destroy(){Ne(this,Gi,null)}}Gi=new WeakMap,ef=new WeakMap,Wb=new WeakMap,Yi=new WeakMap;var Ew,Y9;class Ny{constructor(r){De(this,Ew);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Lo.platform;for(const[e,s,i={}]of r)for(const a of e){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:s,options:i}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:s,options:i}),this.allKeys.add(a.split("+").at(-1)))}}exec(r,t){if(!this.allKeys.has(t.key))return;const e=this.callbacks.get(Ce(this,Ew,Y9).call(this,t));if(!e)return;const{callback:s,options:{bubbles:i=!1,args:a=[],checker:o=null}}=e;o&&!o(r,t)||(s.bind(r,...a,t)(),i||(t.stopPropagation(),t.preventDefault()))}}Ew=new WeakSet,Y9=function(r){r.altKey&&this.buffer.push("alt"),r.ctrlKey&&this.buffer.push("ctrl"),r.metaKey&&this.buffer.push("meta"),r.shiftKey&&this.buffer.push("shift"),this.buffer.push(r.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Nw=class Nw{get _colors(){const r=new Map([["CanvasText",null],["Canvas",null]]);return t$(r),In(this,"_colors",r)}convert(r){const t=B8(r);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[e,s]of this._colors)if(s.every((i,a)=>i===t[a]))return Nw._colorsMapping.get(e);return t}getHexCode(r){const t=this._colors.get(r);return t?yr.makeHexColor(...t):r}};Ot(Nw,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let B_=Nw;var r1,il,Ti,aa,n1,Hd,s1,Ac,i1,Lp,yu,kc,Op,zb,Vb,xu,a1,tf,wu,Aw,rf,$b,Fp,Gb,o1,oa,Xn,qd,Bp,Yb,Xb,Kb,Jb,Zb,Qb,ev,tv,rv,nv,sv,iv,av,nf,_u,Wd,ov,ar,ux,X9,K9,dx,J9,Z9,Q9,U_,ek,H_,q_,tk,no,Gh,rk,nk,W_,sk,zg,z_;const V0=class V0{constructor(r,t,e,s,i,a,o,c,u){De(this,ar);De(this,r1,new AbortController);De(this,il,null);De(this,Ti,new Map);De(this,aa,new Map);De(this,n1,null);De(this,Hd,null);De(this,s1,null);De(this,Ac,new i$);De(this,i1,0);De(this,Lp,new Set);De(this,yu,null);De(this,kc,null);De(this,Op,new Set);De(this,zb,!1);De(this,Vb,null);De(this,xu,null);De(this,a1,null);De(this,tf,!1);De(this,wu,null);De(this,Aw,new s$);De(this,rf,!1);De(this,$b,!1);De(this,Fp,null);De(this,Gb,null);De(this,o1,null);De(this,oa,wn.NONE);De(this,Xn,new Set);De(this,qd,null);De(this,Bp,null);De(this,Yb,null);De(this,Xb,this.blur.bind(this));De(this,Kb,this.focus.bind(this));De(this,Jb,this.copy.bind(this));De(this,Zb,this.cut.bind(this));De(this,Qb,this.paste.bind(this));De(this,ev,this.keydown.bind(this));De(this,tv,this.keyup.bind(this));De(this,rv,this.onEditingAction.bind(this));De(this,nv,this.onPageChanging.bind(this));De(this,sv,this.onScaleChanging.bind(this));De(this,iv,this.onRotationChanging.bind(this));De(this,av,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});De(this,nf,[0,0]);De(this,_u,null);De(this,Wd,null);De(this,ov,null);this._signal=K(this,r1).signal,Ne(this,Wd,r),Ne(this,ov,t),Ne(this,n1,e),this._eventBus=s,this._eventBus._on("editingaction",K(this,rv)),this._eventBus._on("pagechanging",K(this,nv)),this._eventBus._on("scalechanging",K(this,sv)),this._eventBus._on("rotationchanging",K(this,iv)),Ce(this,ar,J9).call(this),Ce(this,ar,tk).call(this),Ce(this,ar,U_).call(this),Ne(this,Hd,i.annotationStorage),Ne(this,Vb,i.filterFactory),Ne(this,Bp,a),Ne(this,a1,o||null),Ne(this,zb,c),Ne(this,o1,u||null),this.viewParameters={realScale:Bf.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const r=V0.prototype,t=a=>K(a,Wd).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),e=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:c}=o;return c!=="text"&&c!=="number"}return!0},s=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return In(this,"_keyboardManager",new Ny([[["ctrl+a","mac+meta+a"],r.selectAll,{checker:e}],[["ctrl+z","mac+meta+z"],r.undo,{checker:e}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],r.redo,{checker:e}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],r.delete,{checker:e}],[["Enter","mac+Enter"],r.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&K(a,Wd).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],r.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&K(a,Wd).contains(document.activeElement)}],[["Escape","mac+Escape"],r.unselectAll],[["ArrowLeft","mac+ArrowLeft"],r.translateSelectedEditors,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],r.translateSelectedEditors,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],r.translateSelectedEditors,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],r.translateSelectedEditors,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],r.translateSelectedEditors,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],r.translateSelectedEditors,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],r.translateSelectedEditors,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],r.translateSelectedEditors,{args:[0,i],checker:t}]]))}destroy(){var r,t,e;(r=K(this,r1))==null||r.abort(),Ne(this,r1,null),this._signal=null,this._eventBus._off("editingaction",K(this,rv)),this._eventBus._off("pagechanging",K(this,nv)),this._eventBus._off("scalechanging",K(this,sv)),this._eventBus._off("rotationchanging",K(this,iv));for(const s of K(this,aa).values())s.destroy();K(this,aa).clear(),K(this,Ti).clear(),K(this,Op).clear(),Ne(this,il,null),K(this,Xn).clear(),K(this,Ac).destroy(),(t=K(this,n1))==null||t.destroy(),(e=K(this,wu))==null||e.hide(),Ne(this,wu,null),K(this,xu)&&(clearTimeout(K(this,xu)),Ne(this,xu,null)),K(this,_u)&&(clearTimeout(K(this,_u)),Ne(this,_u,null))}async mlGuess(r){var t;return((t=K(this,o1))==null?void 0:t.guess(r))||null}get hasMLManager(){return!!K(this,o1)}get hcmFilter(){return In(this,"hcmFilter",K(this,Bp)?K(this,Vb).addHCMFilter(K(this,Bp).foreground,K(this,Bp).background):"none")}get direction(){return In(this,"direction",getComputedStyle(K(this,Wd)).direction)}get highlightColors(){return In(this,"highlightColors",K(this,a1)?new Map(K(this,a1).split(",").map(r=>r.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return In(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,r=>r.reverse())):null)}setMainHighlightColorPicker(r){Ne(this,Gb,r)}editAltText(r){var t;(t=K(this,n1))==null||t.editAltText(this,r)}onPageChanging({pageNumber:r}){Ne(this,i1,r-1)}focusMainContainer(){K(this,Wd).focus()}findParent(r,t){for(const e of K(this,aa).values()){const{x:s,y:i,width:a,height:o}=e.div.getBoundingClientRect();if(r>=s&&r<=s+a&&t>=i&&t<=i+o)return e}return null}disableUserSelect(r=!1){K(this,ov).classList.toggle("noUserSelect",r)}addShouldRescale(r){K(this,Op).add(r)}removeShouldRescale(r){K(this,Op).delete(r)}onScaleChanging({scale:r}){this.commitOrRemove(),this.viewParameters.realScale=r*Bf.PDF_TO_CSS_UNITS;for(const t of K(this,Op))t.onScaleChanging()}onRotationChanging({pagesRotation:r}){this.commitOrRemove(),this.viewParameters.rotation=r}highlightSelection(r=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:e,anchorOffset:s,focusNode:i,focusOffset:a}=t,o=t.toString(),u=Ce(this,ar,ux).call(this,t).closest(".textLayer"),l=this.getSelectionBoxes(u);if(l){t.empty(),K(this,oa)===wn.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:wn.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const d of K(this,aa).values())if(d.hasTextLayer(u)){d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:r,boxes:l,anchorNode:e,anchorOffset:s,focusNode:i,focusOffset:a,text:o});break}}}addToAnnotationStorage(r){!r.isEmpty()&&K(this,Hd)&&!K(this,Hd).has(r.id)&&K(this,Hd).setValue(r.id,r)}blur(){if(this.isShiftKeyDown=!1,K(this,tf)&&(Ne(this,tf,!1),Ce(this,ar,dx).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:r}=document;for(const t of K(this,Xn))if(t.div.contains(r)){Ne(this,Fp,[t,r]),t._focusEventsAllowed=!1;break}}focus(){if(!K(this,Fp))return;const[r,t]=K(this,Fp);Ne(this,Fp,null),t.addEventListener("focusin",()=>{r._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){Ce(this,ar,U_).call(this),Ce(this,ar,H_).call(this)}removeEditListeners(){Ce(this,ar,ek).call(this),Ce(this,ar,q_).call(this)}dragOver(r){for(const{type:t}of r.dataTransfer.items)for(const e of K(this,kc))if(e.isHandlingMimeForPasting(t)){r.dataTransfer.dropEffect="copy",r.preventDefault();return}}drop(r){for(const t of r.dataTransfer.items)for(const e of K(this,kc))if(e.isHandlingMimeForPasting(t.type)){e.paste(t,this.currentLayer),r.preventDefault();return}}copy(r){var e;if(r.preventDefault(),(e=K(this,il))==null||e.commitOrRemove(),!this.hasSelection)return;const t=[];for(const s of K(this,Xn)){const i=s.serialize(!0);i&&t.push(i)}t.length!==0&&r.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(r){this.copy(r),this.delete()}paste(r){r.preventDefault();const{clipboardData:t}=r;for(const i of t.items)for(const a of K(this,kc))if(a.isHandlingMimeForPasting(i.type)){a.paste(i,this.currentLayer);return}let e=t.getData("application/pdfjs");if(!e)return;try{e=JSON.parse(e)}catch(i){cn(`paste: "${i.message}".`);return}if(!Array.isArray(e))return;this.unselectAll();const s=this.currentLayer;try{const i=[];for(const c of e){const u=s.deserialize(c);if(!u)return;i.push(u)}const a=()=>{for(const c of i)Ce(this,ar,W_).call(this,c);Ce(this,ar,z_).call(this,i)},o=()=>{for(const c of i)c.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(i){cn(`paste: "${i.message}".`)}}keydown(r){!this.isShiftKeyDown&&r.key==="Shift"&&(this.isShiftKeyDown=!0),K(this,oa)!==wn.NONE&&!this.isEditorHandlingKeyboard&&V0._keyboardManager.exec(this,r)}keyup(r){this.isShiftKeyDown&&r.key==="Shift"&&(this.isShiftKeyDown=!1,K(this,tf)&&(Ne(this,tf,!1),Ce(this,ar,dx).call(this,"main_toolbar")))}onEditingAction({name:r}){switch(r){case"undo":case"redo":case"delete":case"selectAll":this[r]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(r){r?(Ce(this,ar,Z9).call(this),Ce(this,ar,H_).call(this),Ce(this,ar,no).call(this,{isEditing:K(this,oa)!==wn.NONE,isEmpty:Ce(this,ar,zg).call(this),hasSomethingToUndo:K(this,Ac).hasSomethingToUndo(),hasSomethingToRedo:K(this,Ac).hasSomethingToRedo(),hasSelectedEditor:!1})):(Ce(this,ar,Q9).call(this),Ce(this,ar,q_).call(this),Ce(this,ar,no).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(r){if(!K(this,kc)){Ne(this,kc,r);for(const t of K(this,kc))Ce(this,ar,Gh).call(this,t.defaultPropertiesToUpdate)}}getId(){return K(this,Aw).id}get currentLayer(){return K(this,aa).get(K(this,i1))}getLayer(r){return K(this,aa).get(r)}get currentPageIndex(){return K(this,i1)}addLayer(r){K(this,aa).set(r.pageIndex,r),K(this,rf)?r.enable():r.disable()}removeLayer(r){K(this,aa).delete(r.pageIndex)}updateMode(r,t=null,e=!1){if(K(this,oa)!==r){if(Ne(this,oa,r),r===wn.NONE){this.setEditingState(!1),Ce(this,ar,nk).call(this);return}this.setEditingState(!0),Ce(this,ar,rk).call(this),this.unselectAll();for(const s of K(this,aa).values())s.updateMode(r);if(!t&&e){this.addNewEditorFromKeyboard();return}if(t){for(const s of K(this,Ti).values())if(s.annotationElementId===t){this.setSelected(s),s.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(r){r!==K(this,oa)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:r})}updateParams(r,t){var e;if(K(this,kc)){switch(r){case Vr.CREATE:this.currentLayer.addNewEditor();return;case Vr.HIGHLIGHT_DEFAULT_COLOR:(e=K(this,Gb))==null||e.updateColor(t);break;case Vr.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(K(this,Yb)||Ne(this,Yb,new Map)).set(r,t),this.showAllEditors("highlight",t);break}for(const s of K(this,Xn))s.updateParams(r,t);for(const s of K(this,kc))s.updateDefaultParams(r,t)}}showAllEditors(r,t,e=!1){var i;for(const a of K(this,Ti).values())a.editorType===r&&a.show(t);(((i=K(this,Yb))==null?void 0:i.get(Vr.HIGHLIGHT_SHOW_ALL))??!0)!==t&&Ce(this,ar,Gh).call(this,[[Vr.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(r=!1){if(K(this,$b)!==r){Ne(this,$b,r);for(const t of K(this,aa).values())r?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",r)}}getEditors(r){const t=[];for(const e of K(this,Ti).values())e.pageIndex===r&&t.push(e);return t}getEditor(r){return K(this,Ti).get(r)}addEditor(r){K(this,Ti).set(r.id,r)}removeEditor(r){var t;r.div.contains(document.activeElement)&&(K(this,xu)&&clearTimeout(K(this,xu)),Ne(this,xu,setTimeout(()=>{this.focusMainContainer(),Ne(this,xu,null)},0))),K(this,Ti).delete(r.id),this.unselect(r),(!r.annotationElementId||!K(this,Lp).has(r.annotationElementId))&&((t=K(this,Hd))==null||t.remove(r.id))}addDeletedAnnotationElement(r){K(this,Lp).add(r.annotationElementId),this.addChangedExistingAnnotation(r),r.deleted=!0}isDeletedAnnotationElement(r){return K(this,Lp).has(r)}removeDeletedAnnotationElement(r){K(this,Lp).delete(r.annotationElementId),this.removeChangedExistingAnnotation(r),r.deleted=!1}setActiveEditor(r){K(this,il)!==r&&(Ne(this,il,r),r&&Ce(this,ar,Gh).call(this,r.propertiesToUpdate))}updateUI(r){K(this,ar,sk)===r&&Ce(this,ar,Gh).call(this,r.propertiesToUpdate)}toggleSelected(r){if(K(this,Xn).has(r)){K(this,Xn).delete(r),r.unselect(),Ce(this,ar,no).call(this,{hasSelectedEditor:this.hasSelection});return}K(this,Xn).add(r),r.select(),Ce(this,ar,Gh).call(this,r.propertiesToUpdate),Ce(this,ar,no).call(this,{hasSelectedEditor:!0})}setSelected(r){for(const t of K(this,Xn))t!==r&&t.unselect();K(this,Xn).clear(),K(this,Xn).add(r),r.select(),Ce(this,ar,Gh).call(this,r.propertiesToUpdate),Ce(this,ar,no).call(this,{hasSelectedEditor:!0})}isSelected(r){return K(this,Xn).has(r)}get firstSelectedEditor(){return K(this,Xn).values().next().value}unselect(r){r.unselect(),K(this,Xn).delete(r),Ce(this,ar,no).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return K(this,Xn).size!==0}get isEnterHandled(){return K(this,Xn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){K(this,Ac).undo(),Ce(this,ar,no).call(this,{hasSomethingToUndo:K(this,Ac).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Ce(this,ar,zg).call(this)})}redo(){K(this,Ac).redo(),Ce(this,ar,no).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:K(this,Ac).hasSomethingToRedo(),isEmpty:Ce(this,ar,zg).call(this)})}addCommands(r){K(this,Ac).add(r),Ce(this,ar,no).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Ce(this,ar,zg).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const r=[...K(this,Xn)],t=()=>{for(const s of r)s.remove()},e=()=>{for(const s of r)Ce(this,ar,W_).call(this,s)};this.addCommands({cmd:t,undo:e,mustExec:!0})}commitOrRemove(){var r;(r=K(this,il))==null||r.commitOrRemove()}hasSomethingToControl(){return K(this,il)||this.hasSelection}selectAll(){for(const r of K(this,Xn))r.commit();Ce(this,ar,z_).call(this,K(this,Ti).values())}unselectAll(){if(!(K(this,il)&&(K(this,il).commitOrRemove(),K(this,oa)!==wn.NONE))&&this.hasSelection){for(const r of K(this,Xn))r.unselect();K(this,Xn).clear(),Ce(this,ar,no).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(r,t,e=!1){if(e||this.commitOrRemove(),!this.hasSelection)return;K(this,nf)[0]+=r,K(this,nf)[1]+=t;const[s,i]=K(this,nf),a=[...K(this,Xn)],o=1e3;K(this,_u)&&clearTimeout(K(this,_u)),Ne(this,_u,setTimeout(()=>{Ne(this,_u,null),K(this,nf)[0]=K(this,nf)[1]=0,this.addCommands({cmd:()=>{for(const c of a)K(this,Ti).has(c.id)&&c.translateInPage(s,i)},undo:()=>{for(const c of a)K(this,Ti).has(c.id)&&c.translateInPage(-s,-i)},mustExec:!1})},o));for(const c of a)c.translateInPage(r,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Ne(this,yu,new Map);for(const r of K(this,Xn))K(this,yu).set(r,{savedX:r.x,savedY:r.y,savedPageIndex:r.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!K(this,yu))return!1;this.disableUserSelect(!1);const r=K(this,yu);Ne(this,yu,null);let t=!1;for(const[{x:s,y:i,pageIndex:a},o]of r)o.newX=s,o.newY=i,o.newPageIndex=a,t||(t=s!==o.savedX||i!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const e=(s,i,a,o)=>{if(K(this,Ti).has(s.id)){const c=K(this,aa).get(o);c?s._setParentAndPosition(c,i,a):(s.pageIndex=o,s.x=i,s.y=a)}};return this.addCommands({cmd:()=>{for(const[s,{newX:i,newY:a,newPageIndex:o}]of r)e(s,i,a,o)},undo:()=>{for(const[s,{savedX:i,savedY:a,savedPageIndex:o}]of r)e(s,i,a,o)},mustExec:!0}),!0}dragSelectedEditors(r,t){if(K(this,yu))for(const e of K(this,yu).keys())e.drag(r,t)}rebuild(r){if(r.parent===null){const t=this.getLayer(r.pageIndex);t?(t.changeParent(r),t.addOrRebuild(r)):(this.addEditor(r),this.addToAnnotationStorage(r),r.rebuild())}else r.parent.addOrRebuild(r)}get isEditorHandlingKeyboard(){var r;return((r=this.getActive())==null?void 0:r.shouldGetKeyboardEvents())||K(this,Xn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(r){return K(this,il)===r}getActive(){return K(this,il)}getMode(){return K(this,oa)}get imageManager(){return In(this,"imageManager",new O_)}getSelectionBoxes(r){if(!r)return null;const t=document.getSelection();for(let u=0,l=t.rangeCount;u<l;u++)if(!r.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:e,y:s,width:i,height:a}=r.getBoundingClientRect();let o;switch(r.getAttribute("data-main-rotation")){case"90":o=(u,l,d,f)=>({x:(l-s)/a,y:1-(u+d-e)/i,width:f/a,height:d/i});break;case"180":o=(u,l,d,f)=>({x:1-(u+d-e)/i,y:1-(l+f-s)/a,width:d/i,height:f/a});break;case"270":o=(u,l,d,f)=>({x:1-(l+f-s)/a,y:(u-e)/i,width:f/a,height:d/i});break;default:o=(u,l,d,f)=>({x:(u-e)/i,y:(l-s)/a,width:d/i,height:f/a});break}const c=[];for(let u=0,l=t.rangeCount;u<l;u++){const d=t.getRangeAt(u);if(!d.collapsed)for(const{x:f,y:h,width:p,height:g}of d.getClientRects())p===0||g===0||c.push(o(f,h,p,g))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:r,id:t}){(K(this,s1)||Ne(this,s1,new Map)).set(r,t)}removeChangedExistingAnnotation({annotationElementId:r}){var t;(t=K(this,s1))==null||t.delete(r)}renderAnnotationElement(r){var s;const t=(s=K(this,s1))==null?void 0:s.get(r.data.id);if(!t)return;const e=K(this,Hd).getRawValue(t);e&&(K(this,oa)===wn.NONE&&!e.hasBeenModified||e.renderAnnotationElement(r))}};r1=new WeakMap,il=new WeakMap,Ti=new WeakMap,aa=new WeakMap,n1=new WeakMap,Hd=new WeakMap,s1=new WeakMap,Ac=new WeakMap,i1=new WeakMap,Lp=new WeakMap,yu=new WeakMap,kc=new WeakMap,Op=new WeakMap,zb=new WeakMap,Vb=new WeakMap,xu=new WeakMap,a1=new WeakMap,tf=new WeakMap,wu=new WeakMap,Aw=new WeakMap,rf=new WeakMap,$b=new WeakMap,Fp=new WeakMap,Gb=new WeakMap,o1=new WeakMap,oa=new WeakMap,Xn=new WeakMap,qd=new WeakMap,Bp=new WeakMap,Yb=new WeakMap,Xb=new WeakMap,Kb=new WeakMap,Jb=new WeakMap,Zb=new WeakMap,Qb=new WeakMap,ev=new WeakMap,tv=new WeakMap,rv=new WeakMap,nv=new WeakMap,sv=new WeakMap,iv=new WeakMap,av=new WeakMap,nf=new WeakMap,_u=new WeakMap,Wd=new WeakMap,ov=new WeakMap,ar=new WeakSet,ux=function({anchorNode:r}){return r.nodeType===Node.TEXT_NODE?r.parentElement:r},X9=function(){const r=document.getSelection();if(!r||r.isCollapsed)return;const e=Ce(this,ar,ux).call(this,r).closest(".textLayer"),s=this.getSelectionBoxes(e);s&&(K(this,wu)||Ne(this,wu,new r$(this)),K(this,wu).show(e,s,this.direction==="ltr"))},K9=function(){var i,a,o;const r=document.getSelection();if(!r||r.isCollapsed){K(this,qd)&&((i=K(this,wu))==null||i.hide(),Ne(this,qd,null),Ce(this,ar,no).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=r;if(t===K(this,qd))return;if(!Ce(this,ar,ux).call(this,r).closest(".textLayer")){K(this,qd)&&((a=K(this,wu))==null||a.hide(),Ne(this,qd,null),Ce(this,ar,no).call(this,{hasSelectedText:!1}));return}if((o=K(this,wu))==null||o.hide(),Ne(this,qd,t),Ce(this,ar,no).call(this,{hasSelectedText:!0}),!(K(this,oa)!==wn.HIGHLIGHT&&K(this,oa)!==wn.NONE)&&(K(this,oa)===wn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),Ne(this,tf,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=this._signal,u=l=>{l.type==="pointerup"&&l.button!==0||(window.removeEventListener("pointerup",u),window.removeEventListener("blur",u),l.type==="pointerup"&&Ce(this,ar,dx).call(this,"main_toolbar"))};window.addEventListener("pointerup",u,{signal:c}),window.addEventListener("blur",u,{signal:c})}},dx=function(r=""){K(this,oa)===wn.HIGHLIGHT?this.highlightSelection(r):K(this,zb)&&Ce(this,ar,X9).call(this)},J9=function(){document.addEventListener("selectionchange",Ce(this,ar,K9).bind(this),{signal:this._signal})},Z9=function(){const r=this._signal;window.addEventListener("focus",K(this,Kb),{signal:r}),window.addEventListener("blur",K(this,Xb),{signal:r})},Q9=function(){window.removeEventListener("focus",K(this,Kb)),window.removeEventListener("blur",K(this,Xb))},U_=function(){const r=this._signal;window.addEventListener("keydown",K(this,ev),{signal:r}),window.addEventListener("keyup",K(this,tv),{signal:r})},ek=function(){window.removeEventListener("keydown",K(this,ev)),window.removeEventListener("keyup",K(this,tv))},H_=function(){const r=this._signal;document.addEventListener("copy",K(this,Jb),{signal:r}),document.addEventListener("cut",K(this,Zb),{signal:r}),document.addEventListener("paste",K(this,Qb),{signal:r})},q_=function(){document.removeEventListener("copy",K(this,Jb)),document.removeEventListener("cut",K(this,Zb)),document.removeEventListener("paste",K(this,Qb))},tk=function(){const r=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:r}),document.addEventListener("drop",this.drop.bind(this),{signal:r})},no=function(r){Object.entries(r).some(([e,s])=>K(this,av)[e]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(K(this,av),r)}),K(this,oa)===wn.HIGHLIGHT&&r.hasSelectedEditor===!1&&Ce(this,ar,Gh).call(this,[[Vr.HIGHLIGHT_FREE,!0]]))},Gh=function(r){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:r})},rk=function(){if(!K(this,rf)){Ne(this,rf,!0);for(const r of K(this,aa).values())r.enable();for(const r of K(this,Ti).values())r.enable()}},nk=function(){if(this.unselectAll(),K(this,rf)){Ne(this,rf,!1);for(const r of K(this,aa).values())r.disable();for(const r of K(this,Ti).values())r.disable()}},W_=function(r){const t=K(this,aa).get(r.pageIndex);t?t.addOrRebuild(r):(this.addEditor(r),this.addToAnnotationStorage(r))},sk=function(){let r=null;for(r of K(this,Xn));return r},zg=function(){if(K(this,Ti).size===0)return!0;if(K(this,Ti).size===1)for(const r of K(this,Ti).values())return r.isEmpty();return!1},z_=function(r){for(const t of K(this,Xn))t.unselect();K(this,Xn).clear();for(const t of r)t.isEmpty()||(K(this,Xn).add(t),t.select());Ce(this,ar,no).call(this,{hasSelectedEditor:this.hasSelection})},Ot(V0,"TRANSLATE_SMALL",1),Ot(V0,"TRANSLATE_BIG",10);let Om=V0;var zd,Vd,Cc,$d,al,l1,Tc,lv,V_;const Md=class Md{constructor(r){De(this,lv);De(this,zd,"");De(this,Vd,!1);De(this,Cc,null);De(this,$d,null);De(this,al,null);De(this,l1,!1);De(this,Tc,null);Ne(this,Tc,r)}static initialize(r){Md._l10nPromise||(Md._l10nPromise=r)}async render(){const r=Ne(this,Cc,document.createElement("button"));r.className="altText";const t=await Md._l10nPromise.get("pdfjs-editor-alt-text-button-label");r.textContent=t,r.setAttribute("aria-label",t),r.tabIndex="0";const e=K(this,Tc)._uiManager._signal;r.addEventListener("contextmenu",Fo,{signal:e}),r.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:e});const s=i=>{i.preventDefault(),K(this,Tc)._uiManager.editAltText(K(this,Tc))};return r.addEventListener("click",s,{capture:!0,signal:e}),r.addEventListener("keydown",i=>{i.target===r&&i.key==="Enter"&&(Ne(this,l1,!0),s(i))},{signal:e}),await Ce(this,lv,V_).call(this),r}finish(){K(this,Cc)&&(K(this,Cc).focus({focusVisible:K(this,l1)}),Ne(this,l1,!1))}isEmpty(){return!K(this,zd)&&!K(this,Vd)}get data(){return{altText:K(this,zd),decorative:K(this,Vd)}}set data({altText:r,decorative:t}){K(this,zd)===r&&K(this,Vd)===t||(Ne(this,zd,r),Ne(this,Vd,t),Ce(this,lv,V_).call(this))}toggle(r=!1){K(this,Cc)&&(!r&&K(this,al)&&(clearTimeout(K(this,al)),Ne(this,al,null)),K(this,Cc).disabled=!r)}destroy(){var r;(r=K(this,Cc))==null||r.remove(),Ne(this,Cc,null),Ne(this,$d,null)}};zd=new WeakMap,Vd=new WeakMap,Cc=new WeakMap,$d=new WeakMap,al=new WeakMap,l1=new WeakMap,Tc=new WeakMap,lv=new WeakSet,V_=async function(){var s;const r=K(this,Cc);if(!r)return;if(!K(this,zd)&&!K(this,Vd)){r.classList.remove("done"),(s=K(this,$d))==null||s.remove();return}r.classList.add("done"),Md._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(i=>{r.setAttribute("aria-label",i)});let t=K(this,$d);if(!t){Ne(this,$d,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const i=t.id=`alt-text-tooltip-${K(this,Tc).id}`;r.setAttribute("aria-describedby",i);const a=100,o=K(this,Tc)._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(K(this,al)),Ne(this,al,null)},{once:!0}),r.addEventListener("mouseenter",()=>{Ne(this,al,setTimeout(()=>{Ne(this,al,null),K(this,$d).classList.add("show"),K(this,Tc)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:o}),r.addEventListener("mouseleave",()=>{var c;K(this,al)&&(clearTimeout(K(this,al)),Ne(this,al,null)),(c=K(this,$d))==null||c.classList.remove("show")},{signal:o})}t.innerText=K(this,Vd)?await Md._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):K(this,zd),t.parentNode||r.append(t);const e=K(this,Tc).getImageForAltText();e==null||e.setAttribute("aria-describedby",t.id)},Ot(Md,"_l10nPromise",null);let rw=Md;var Up,Dc,Oa,c1,Hp,la,qp,u1,d1,Fa,cv,Wp,sf,uv,zp,Gd,Su,h1,f1,Bl,dv,kw,fn,$_,hv,G_,Y_,ik,ak,X_,K_,J_,ok,lk,ck,uk,Z_,Vg;const os=class os{constructor(r){De(this,fn);De(this,Up,null);De(this,Dc,null);De(this,Oa,null);De(this,c1,!1);De(this,Hp,!1);De(this,la,null);De(this,qp,null);De(this,u1,this.focusin.bind(this));De(this,d1,this.focusout.bind(this));De(this,Fa,null);De(this,cv,"");De(this,Wp,!1);De(this,sf,null);De(this,uv,!1);De(this,zp,!1);De(this,Gd,!1);De(this,Su,null);De(this,h1,0);De(this,f1,0);De(this,Bl,null);Ot(this,"_initialOptions",Object.create(null));Ot(this,"_isVisible",!0);Ot(this,"_uiManager",null);Ot(this,"_focusEventsAllowed",!0);Ot(this,"_l10nPromise",null);De(this,dv,!1);De(this,kw,os._zIndex++);this.constructor===os&&ss("Cannot initialize AnnotationEditor."),this.parent=r.parent,this.id=r.id,this.width=this.height=null,this.pageIndex=r.parent.pageIndex,this.name=r.name,this.div=null,this._uiManager=r.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=r.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:e,pageHeight:s,pageX:i,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[e,s],this.pageTranslation=[i,a];const[o,c]=this.parentDimensions;this.x=r.x/o,this.y=r.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const r=os.prototype._resizeWithKeyboard,t=Om.TRANSLATE_SMALL,e=Om.TRANSLATE_BIG;return In(this,"_resizerKeyboardManager",new Ny([[["ArrowLeft","mac+ArrowLeft"],r,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],r,{args:[-e,0]}],[["ArrowRight","mac+ArrowRight"],r,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],r,{args:[e,0]}],[["ArrowUp","mac+ArrowUp"],r,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],r,{args:[0,-e]}],[["ArrowDown","mac+ArrowDown"],r,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],r,{args:[0,e]}],[["Escape","mac+Escape"],os.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return In(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(r){const t=new a$({id:r.parent.getNextId(),parent:r.parent,uiManager:r._uiManager});t.annotationElementId=r.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(r,t,e){if(os._l10nPromise||(os._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(i=>[i,r.get(i.replaceAll(/([A-Z])/g,a=>`-${a.toLowerCase()}`))]))),e!=null&&e.strings)for(const i of e.strings)os._l10nPromise.set(i,r.get(i));if(os._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);os._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(r,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(r){return!1}static paste(r,t){ss("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return K(this,dv)}set _isDraggable(r){var t;Ne(this,dv,r),(t=this.div)==null||t.classList.toggle("draggable",r)}get isEnterHandled(){return!0}center(){const[r,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(r*2),this.y+=this.width*r/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(r*2),this.y-=this.width*r/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(r){this._uiManager.addCommands(r)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=K(this,kw)}setParent(r){r!==null?(this.pageIndex=r.pageIndex,this.pageDimensions=r.pageDimensions):Ce(this,fn,Vg).call(this),this.parent=r}focusin(r){this._focusEventsAllowed&&(K(this,Wp)?Ne(this,Wp,!1):this.parent.setSelected(this))}focusout(r){var e;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=r.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(r.preventDefault(),(e=this.parent)!=null&&e.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(r,t,e,s){const[i,a]=this.parentDimensions;[e,s]=this.screenToPageTranslation(e,s),this.x=(r+e)/i,this.y=(t+s)/a,this.fixAndSetPosition()}translate(r,t){Ce(this,fn,$_).call(this,this.parentDimensions,r,t)}translateInPage(r,t){K(this,sf)||Ne(this,sf,[this.x,this.y]),Ce(this,fn,$_).call(this,this.pageDimensions,r,t),this.div.scrollIntoView({block:"nearest"})}drag(r,t){K(this,sf)||Ne(this,sf,[this.x,this.y]);const[e,s]=this.parentDimensions;if(this.x+=r/e,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:l}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,l)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:i,y:a}=this;const[o,c]=this.getBaseTranslation();i+=o,a+=c,this.div.style.left=`${(100*i).toFixed(2)}%`,this.div.style.top=`${(100*a).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!K(this,sf)&&(K(this,sf)[0]!==this.x||K(this,sf)[1]!==this.y)}getBaseTranslation(){const[r,t]=this.parentDimensions,{_borderLineWidth:e}=os,s=e/r,i=e/t;switch(this.rotation){case 90:return[-s,i];case 180:return[s,i];case 270:return[s,-i];default:return[-s,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(r=this.rotation){const[t,e]=this.pageDimensions;let{x:s,y:i,width:a,height:o}=this;if(a*=t,o*=e,s*=t,i*=e,this._mustFixPosition)switch(r){case 0:s=Math.max(0,Math.min(t-a,s)),i=Math.max(0,Math.min(e-o,i));break;case 90:s=Math.max(0,Math.min(t-o,s)),i=Math.min(e,Math.max(a,i));break;case 180:s=Math.min(t,Math.max(a,s)),i=Math.min(e,Math.max(o,i));break;case 270:s=Math.min(t,Math.max(o,s)),i=Math.max(0,Math.min(e-a,i));break}this.x=s/=t,this.y=i/=e;const[c,u]=this.getBaseTranslation();s+=c,i+=u;const{style:l}=this.div;l.left=`${(100*s).toFixed(2)}%`,l.top=`${(100*i).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(r,t){var e;return Ce(e=os,hv,G_).call(e,r,t,this.parentRotation)}pageTranslationToScreen(r,t){var e;return Ce(e=os,hv,G_).call(e,r,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:r,pageDimensions:[t,e]}=this,s=t*r,i=e*r;return Lo.isCSSRoundSupported?[Math.round(s),Math.round(i)]:[s,i]}setDims(r,t){const[e,s]=this.parentDimensions;this.div.style.width=`${(100*r/e).toFixed(2)}%`,K(this,Hp)||(this.div.style.height=`${(100*t/s).toFixed(2)}%`)}fixDims(){const{style:r}=this.div,{height:t,width:e}=r,s=e.endsWith("%"),i=!K(this,Hp)&&t.endsWith("%");if(s&&i)return;const[a,o]=this.parentDimensions;s||(r.width=`${(100*parseFloat(e)/a).toFixed(2)}%`),!K(this,Hp)&&!i&&(r.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var r;(r=K(this,Oa))==null||r.finish()}async addEditToolbar(){return K(this,Fa)||K(this,zp)?K(this,Fa):(Ne(this,Fa,new M_(this)),this.div.append(K(this,Fa).render()),K(this,Oa)&&K(this,Fa).addAltTextButton(await K(this,Oa).render()),K(this,Fa))}removeEditToolbar(){var r;K(this,Fa)&&(K(this,Fa).remove(),Ne(this,Fa,null),(r=K(this,Oa))==null||r.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){K(this,Oa)||(rw.initialize(os._l10nPromise),Ne(this,Oa,new rw(this)),K(this,Up)&&(K(this,Oa).data=K(this,Up),Ne(this,Up,null)),await this.addEditToolbar())}get altTextData(){var r;return(r=K(this,Oa))==null?void 0:r.data}set altTextData(r){K(this,Oa)&&(K(this,Oa).data=r)}hasAltText(){var r;return!((r=K(this,Oa))!=null&&r.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=K(this,c1)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const r=this._uiManager._signal;this.div.addEventListener("focusin",K(this,u1),{signal:r}),this.div.addEventListener("focusout",K(this,d1),{signal:r});const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[s,i]=this.getInitialTranslation();return this.translate(s,i),tw(this,this.div,["pointerdown"]),this.div}pointerdown(r){const{isMac:t}=Lo.platform;if(r.button!==0||r.ctrlKey&&t){r.preventDefault();return}if(Ne(this,Wp,!0),this._isDraggable){Ce(this,fn,ok).call(this,r);return}Ce(this,fn,J_).call(this,r)}moveInDOM(){K(this,Su)&&clearTimeout(K(this,Su)),Ne(this,Su,setTimeout(()=>{var r;Ne(this,Su,null),(r=this.parent)==null||r.moveEditorInDOM(this)},0))}_setParentAndPosition(r,t,e){r.changeParent(this),this.x=t,this.y=e,this.fixAndSetPosition()}getRect(r,t,e=this.rotation){const s=this.parentScale,[i,a]=this.pageDimensions,[o,c]=this.pageTranslation,u=r/s,l=t/s,d=this.x*i,f=this.y*a,h=this.width*i,p=this.height*a;switch(e){case 0:return[d+u+o,a-f-l-p+c,d+u+h+o,a-f-l+c];case 90:return[d+l+o,a-f+u+c,d+l+p+o,a-f+u+h+c];case 180:return[d-u-h+o,a-f+l+c,d-u+o,a-f+l+p+c];case 270:return[d-l-p+o,a-f-u-h+c,d-l+o,a-f-u+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(r,t){const[e,s,i,a]=r,o=i-e,c=a-s;switch(this.rotation){case 0:return[e,t-a,o,c];case 90:return[e,t-s,c,o];case 180:return[i,t-s,o,c];case 270:return[i,t-a,c,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Ne(this,zp,!0)}disableEditMode(){Ne(this,zp,!1)}isInEditMode(){return K(this,zp)}shouldGetKeyboardEvents(){return K(this,Gd)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var t,e;const r=this._uiManager._signal;(t=this.div)==null||t.addEventListener("focusin",K(this,u1),{signal:r}),(e=this.div)==null||e.addEventListener("focusout",K(this,d1),{signal:r})}rotate(r){}serialize(r=!1,t=null){ss("An editor must be serializable")}static deserialize(r,t,e){const s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:e});s.rotation=r.rotation,Ne(s,Up,r.accessibilityData);const[i,a]=s.pageDimensions,[o,c,u,l]=s.getRectInCurrentCoords(r.rect,a);return s.x=o/i,s.y=c/a,s.width=u/i,s.height=l/a,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",K(this,u1)),this.div.removeEventListener("focusout",K(this,d1)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),K(this,Su)&&(clearTimeout(K(this,Su)),Ne(this,Su,null)),Ce(this,fn,Vg).call(this),this.removeEditToolbar(),K(this,Bl)){for(const r of K(this,Bl).values())clearTimeout(r);Ne(this,Bl,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(Ce(this,fn,ik).call(this),K(this,la).classList.remove("hidden"),tw(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(r){if(!this.isResizable||r.target!==this.div||r.key!=="Enter")return;this._uiManager.setSelected(this),Ne(this,qp,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=K(this,la).children;if(!K(this,Dc)){Ne(this,Dc,Array.from(t));const a=Ce(this,fn,lk).bind(this),o=Ce(this,fn,ck).bind(this),c=this._uiManager._signal;for(const u of K(this,Dc)){const l=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",a,{signal:c}),u.addEventListener("blur",o,{signal:c}),u.addEventListener("focus",Ce(this,fn,uk).bind(this,l),{signal:c}),os._l10nPromise.get(`pdfjs-editor-resizer-label-${l}`).then(d=>u.setAttribute("aria-label",d))}}const e=K(this,Dc)[0];let s=0;for(const a of t){if(a===e)break;s++}const i=(360-this.rotation+this.parentRotation)%360/90*(K(this,Dc).length/4);if(i!==s){if(i<s)for(let o=0;o<s-i;o++)K(this,la).append(K(this,la).firstChild);else if(i>s)for(let o=0;o<i-s;o++)K(this,la).firstChild.before(K(this,la).lastChild);let a=0;for(const o of t){const u=K(this,Dc)[a++].getAttribute("data-resizer-name");os._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(l=>o.setAttribute("aria-label",l))}}Ce(this,fn,Z_).call(this,0),Ne(this,Gd,!0),K(this,la).firstChild.focus({focusVisible:!0}),r.preventDefault(),r.stopImmediatePropagation()}_resizeWithKeyboard(r,t){K(this,Gd)&&Ce(this,fn,K_).call(this,K(this,cv),{movementX:r,movementY:t})}_stopResizingWithKeyboard(){Ce(this,fn,Vg).call(this),this.div.focus()}select(){var r,t;if(this.makeResizable(),(r=this.div)==null||r.classList.add("selectedEditor"),!K(this,Fa)){this.addEditToolbar().then(()=>{var e,s;(e=this.div)!=null&&e.classList.contains("selectedEditor")&&((s=K(this,Fa))==null||s.show())});return}(t=K(this,Fa))==null||t.show()}unselect(){var r,t,e,s;(r=K(this,la))==null||r.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(e=this.div)!=null&&e.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=K(this,Fa))==null||s.hide()}updateParams(r,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return K(this,uv)}set isEditing(r){Ne(this,uv,r),this.parent&&(r?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(r,t){Ne(this,Hp,!0);const e=r/t,{style:s}=this.div;s.aspectRatio=e,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(r,t=!1){if(t){K(this,Bl)||Ne(this,Bl,new Map);const{action:e}=r;let s=K(this,Bl).get(e);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(r),K(this,Bl).delete(e),K(this,Bl).size===0&&Ne(this,Bl,null)},os._telemetryTimeout),K(this,Bl).set(e,s);return}r.type||(r.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:r}})}show(r=this._isVisible){this.div.classList.toggle("hidden",!r),this._isVisible=r}enable(){this.div&&(this.div.tabIndex=0),Ne(this,c1,!1)}disable(){this.div&&(this.div.tabIndex=-1),Ne(this,c1,!0)}renderAnnotationElement(r){let t=r.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.container.prepend(t);else if(t.nodeName==="CANVAS"){const e=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.before(t)}return t}resetAnnotationElement(r){const{firstChild:t}=r.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Up=new WeakMap,Dc=new WeakMap,Oa=new WeakMap,c1=new WeakMap,Hp=new WeakMap,la=new WeakMap,qp=new WeakMap,u1=new WeakMap,d1=new WeakMap,Fa=new WeakMap,cv=new WeakMap,Wp=new WeakMap,sf=new WeakMap,uv=new WeakMap,zp=new WeakMap,Gd=new WeakMap,Su=new WeakMap,h1=new WeakMap,f1=new WeakMap,Bl=new WeakMap,dv=new WeakMap,kw=new WeakMap,fn=new WeakSet,$_=function([r,t],e,s){[e,s]=this.screenToPageTranslation(e,s),this.x+=e/r,this.y+=s/t,this.fixAndSetPosition()},hv=new WeakSet,G_=function(r,t,e){switch(e){case 90:return[t,-r];case 180:return[-r,-t];case 270:return[-t,r];default:return[r,t]}},Y_=function(r){switch(r){case 90:{const[t,e]=this.pageDimensions;return[0,-t/e,e/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,e]=this.pageDimensions;return[0,t/e,-e/t,0]}default:return[1,0,0,1]}},ik=function(){if(K(this,la))return;Ne(this,la,document.createElement("div")),K(this,la).classList.add("resizers");const r=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const e of r){const s=document.createElement("div");K(this,la).append(s),s.classList.add("resizer",e),s.setAttribute("data-resizer-name",e),s.addEventListener("pointerdown",Ce(this,fn,ak).bind(this,e),{signal:t}),s.addEventListener("contextmenu",Fo,{signal:t}),s.tabIndex=-1}this.div.prepend(K(this,la))},ak=function(r,t){var g;t.preventDefault();const{isMac:e}=Lo.platform;if(t.button!==0||t.ctrlKey&&e)return;(g=K(this,Oa))==null||g.toggle(!1);const s=Ce(this,fn,K_).bind(this,r),i=this._isDraggable;this._isDraggable=!1;const a=this._uiManager._signal,o={passive:!0,capture:!0,signal:a};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",s,o),window.addEventListener("contextmenu",Fo,{signal:a});const c=this.x,u=this.y,l=this.width,d=this.height,f=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const p=()=>{var v;this.parent.togglePointerEvents(!0),(v=K(this,Oa))==null||v.toggle(!0),this._isDraggable=i,window.removeEventListener("pointerup",p),window.removeEventListener("blur",p),window.removeEventListener("pointermove",s,o),window.removeEventListener("contextmenu",Fo),this.parent.div.style.cursor=f,this.div.style.cursor=h,Ce(this,fn,X_).call(this,c,u,l,d)};window.addEventListener("pointerup",p,{signal:a}),window.addEventListener("blur",p,{signal:a})},X_=function(r,t,e,s){const i=this.x,a=this.y,o=this.width,c=this.height;i===r&&a===t&&o===e&&c===s||this.addCommands({cmd:()=>{this.width=o,this.height=c,this.x=i,this.y=a;const[u,l]=this.parentDimensions;this.setDims(u*o,l*c),this.fixAndSetPosition()},undo:()=>{this.width=e,this.height=s,this.x=r,this.y=t;const[u,l]=this.parentDimensions;this.setDims(u*e,l*s),this.fixAndSetPosition()},mustExec:!0})},K_=function(r,t){const[e,s]=this.parentDimensions,i=this.x,a=this.y,o=this.width,c=this.height,u=os.MIN_SIZE/e,l=os.MIN_SIZE/s,d=_=>Math.round(_*1e4)/1e4,f=Ce(this,fn,Y_).call(this,this.rotation),h=(_,S)=>[f[0]*_+f[2]*S,f[1]*_+f[3]*S],p=Ce(this,fn,Y_).call(this,360-this.rotation),g=(_,S)=>[p[0]*_+p[2]*S,p[1]*_+p[3]*S];let v,m,x=!1,y=!1;switch(r){case"topLeft":x=!0,v=(_,S)=>[0,0],m=(_,S)=>[_,S];break;case"topMiddle":v=(_,S)=>[_/2,0],m=(_,S)=>[_/2,S];break;case"topRight":x=!0,v=(_,S)=>[_,0],m=(_,S)=>[0,S];break;case"middleRight":y=!0,v=(_,S)=>[_,S/2],m=(_,S)=>[0,S/2];break;case"bottomRight":x=!0,v=(_,S)=>[_,S],m=(_,S)=>[0,0];break;case"bottomMiddle":v=(_,S)=>[_/2,S],m=(_,S)=>[_/2,0];break;case"bottomLeft":x=!0,v=(_,S)=>[0,S],m=(_,S)=>[_,0];break;case"middleLeft":y=!0,v=(_,S)=>[0,S/2],m=(_,S)=>[_,S/2];break}const w=v(o,c),E=m(o,c);let I=h(...E);const T=d(i+I[0]),R=d(a+I[1]);let D=1,L=1,[M,H]=this.screenToPageTranslation(t.movementX,t.movementY);if([M,H]=g(M/e,H/s),x){const _=Math.hypot(o,c);D=L=Math.max(Math.min(Math.hypot(E[0]-w[0]-M,E[1]-w[1]-H)/_,1/o,1/c),u/o,l/c)}else y?D=Math.max(u,Math.min(1,Math.abs(E[0]-w[0]-M)))/o:L=Math.max(l,Math.min(1,Math.abs(E[1]-w[1]-H)))/c;const V=d(o*D),P=d(c*L);I=h(...m(V,P));const F=T-I[0],A=R-I[1];this.width=V,this.height=P,this.x=F,this.y=A,this.setDims(e*V,s*P),this.fixAndSetPosition()},J_=function(r){const{isMac:t}=Lo.platform;r.ctrlKey&&!t||r.shiftKey||r.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},ok=function(r){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let e,s;const i=this._uiManager._signal;t&&(this.div.classList.add("moving"),e={passive:!0,capture:!0,signal:i},Ne(this,h1,r.clientX),Ne(this,f1,r.clientY),s=o=>{const{clientX:c,clientY:u}=o,[l,d]=this.screenToPageTranslation(c-K(this,h1),u-K(this,f1));Ne(this,h1,c),Ne(this,f1,u),this._uiManager.dragSelectedEditors(l,d)},window.addEventListener("pointermove",s,e));const a=()=>{window.removeEventListener("pointerup",a),window.removeEventListener("blur",a),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",s,e)),Ne(this,Wp,!1),this._uiManager.endDragSession()||Ce(this,fn,J_).call(this,r)};window.addEventListener("pointerup",a,{signal:i}),window.addEventListener("blur",a,{signal:i})},lk=function(r){os._resizerKeyboardManager.exec(this,r)},ck=function(r){var t;K(this,Gd)&&((t=r.relatedTarget)==null?void 0:t.parentNode)!==K(this,la)&&Ce(this,fn,Vg).call(this)},uk=function(r){Ne(this,cv,K(this,Gd)?r:"")},Z_=function(r){if(K(this,Dc))for(const t of K(this,Dc))t.tabIndex=r},Vg=function(){if(Ne(this,Gd,!1),Ce(this,fn,Z_).call(this,-1),K(this,qp)){const{savedX:r,savedY:t,savedWidth:e,savedHeight:s}=K(this,qp);Ce(this,fn,X_).call(this,r,t,e,s),Ne(this,qp,null)}},De(os,hv),Ot(os,"_borderLineWidth",-1),Ot(os,"_colorManager",new B_),Ot(os,"_zIndex",1),Ot(os,"_telemetryTimeout",1e3);let Zn=os;class a$ extends Zn{constructor(r){super(r),this.annotationElementId=r.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const K7=3285377520,Rl=4294901760,fu=65535;class dk{constructor(r){this.h1=r?r&4294967295:K7,this.h2=r?r&4294967295:K7}update(r){let t,e;if(typeof r=="string"){t=new Uint8Array(r.length*2),e=0;for(let g=0,v=r.length;g<v;g++){const m=r.charCodeAt(g);m<=255?t[e++]=m:(t[e++]=m>>>8,t[e++]=m&255)}}else if(ArrayBuffer.isView(r))t=r.slice(),e=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=e>>2,i=e-s*4,a=new Uint32Array(t.buffer,0,s);let o=0,c=0,u=this.h1,l=this.h2;const d=3432918353,f=461845907,h=d&fu,p=f&fu;for(let g=0;g<s;g++)g&1?(o=a[g],o=o*d&Rl|o*h&fu,o=o<<15|o>>>17,o=o*f&Rl|o*p&fu,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(c=a[g],c=c*d&Rl|c*h&fu,c=c<<15|c>>>17,c=c*f&Rl|c*p&fu,l^=c,l=l<<13|l>>>19,l=l*5+3864292196);switch(o=0,i){case 3:o^=t[s*4+2]<<16;case 2:o^=t[s*4+1]<<8;case 1:o^=t[s*4],o=o*d&Rl|o*h&fu,o=o<<15|o>>>17,o=o*f&Rl|o*p&fu,s&1?u^=o:l^=o}this.h1=u,this.h2=l}hexdigest(){let r=this.h1,t=this.h2;return r^=t>>>1,r=r*3981806797&Rl|r*36045&fu,t=t*4283543511&Rl|((t<<16|r>>>16)*2950163797&Rl)>>>16,r^=t>>>1,r=r*444984403&Rl|r*60499&fu,t=t*3301882366&Rl|((t<<16|r>>>16)*3120437893&Rl)>>>16,r^=t>>>1,(r>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Q_=Object.freeze({map:null,hash:"",transfer:void 0});var Vp,ca,Cw,hk;class U8{constructor(){De(this,Cw);De(this,Vp,!1);De(this,ca,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(r,t){const e=K(this,ca).get(r);return e===void 0?t:Object.assign(t,e)}getRawValue(r){return K(this,ca).get(r)}remove(r){if(K(this,ca).delete(r),K(this,ca).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of K(this,ca).values())if(t instanceof Zn)return;this.onAnnotationEditor(null)}}setValue(r,t){const e=K(this,ca).get(r);let s=!1;if(e!==void 0)for(const[i,a]of Object.entries(t))e[i]!==a&&(s=!0,e[i]=a);else s=!0,K(this,ca).set(r,t);s&&Ce(this,Cw,hk).call(this),t instanceof Zn&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(r){return K(this,ca).has(r)}getAll(){return K(this,ca).size>0?j8(K(this,ca)):null}setAll(r){for(const[t,e]of Object.entries(r))this.setValue(t,e)}get size(){return K(this,ca).size}resetModified(){K(this,Vp)&&(Ne(this,Vp,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new fk(this)}get serializable(){if(K(this,ca).size===0)return Q_;const r=new Map,t=new dk,e=[],s=Object.create(null);let i=!1;for(const[a,o]of K(this,ca)){const c=o instanceof Zn?o.serialize(!1,s):o;c&&(r.set(a,c),t.update(`${a}:${JSON.stringify(c)}`),i||(i=!!c.bitmap))}if(i)for(const a of r.values())a.bitmap&&e.push(a.bitmap);return r.size>0?{map:r,hash:t.hexdigest(),transfer:e}:Q_}get editorStats(){let r=null;const t=new Map;for(const e of K(this,ca).values()){if(!(e instanceof Zn))continue;const s=e.telemetryFinalData;if(!s)continue;const{type:i}=s;t.has(i)||t.set(i,Object.getPrototypeOf(e).constructor),r||(r=Object.create(null));const a=r[i]||(r[i]=new Map);for(const[o,c]of Object.entries(s)){if(o==="type")continue;let u=a.get(o);u||(u=new Map,a.set(o,u));const l=u.get(c)??0;u.set(c,l+1)}}for(const[e,s]of t)r[e]=s.computeTelemetryFinalData(r[e]);return r}}Vp=new WeakMap,ca=new WeakMap,Cw=new WeakSet,hk=function(){K(this,Vp)||(Ne(this,Vp,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var fv;class fk extends U8{constructor(t){super();De(this,fv);const{map:e,hash:s,transfer:i}=t.serializable,a=structuredClone(e,i?{transfer:i}:null);Ne(this,fv,{map:a,hash:s,transfer:i})}get print(){ss("Should not call PrintAnnotationStorage.print")}get serializable(){return K(this,fv)}}fv=new WeakMap;var p1;class o${constructor({ownerDocument:r=globalThis.document,styleElement:t=null}){De(this,p1,new Set);this._document=r,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(r){this.nativeFontFaces.add(r),this._document.fonts.add(r)}removeNativeFontFace(r){this.nativeFontFaces.delete(r),this._document.fonts.delete(r)}insertRule(r){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(r,t.cssRules.length)}clear(){for(const r of this.nativeFontFaces)this._document.fonts.delete(r);this.nativeFontFaces.clear(),K(this,p1).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:r,_inspectFont:t}){if(!(!r||K(this,p1).has(r.loadedName))){if(Oi(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:e,src:s,style:i}=r,a=new FontFace(e,s,i);this.addNativeFontFace(a);try{await a.load(),K(this,p1).add(e),t==null||t(r)}catch{cn(`Cannot load system font: ${r.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}ss("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(r){if(r.attached||r.missingFile&&!r.systemFontInfo)return;if(r.attached=!0,r.systemFontInfo){await this.loadSystemFont(r);return}if(this.isFontLoadingAPISupported){const e=r.createNativeFontFace();if(e){this.addNativeFontFace(e);try{await e.loaded}catch(s){throw cn(`Failed to load font '${e.family}': '${s}'.`),r.disableFontFace=!0,s}}return}const t=r.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(e=>{const s=this._queueLoadingCallback(e);this._prepareFontLoadEvent(r,s)})}}get isFontLoadingAPISupported(){var t;const r=!!((t=this._document)!=null&&t.fonts);return In(this,"isFontLoadingAPISupported",r)}get isSyncFontLoadingSupported(){let r=!1;return(Wa||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(r=!0),In(this,"isSyncFontLoadingSupported",r)}_queueLoadingCallback(r){function t(){for(Oi(!s.done,"completeRequest() cannot be called twice."),s.done=!0;e.length>0&&e[0].done;){const i=e.shift();setTimeout(i.callback,0)}}const{loadingRequests:e}=this,s={done:!1,complete:t,callback:r};return e.push(s),s}get _loadTestFont(){const r=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return In(this,"_loadTestFont",r)}_prepareFontLoadEvent(r,t){function e(w,E){return w.charCodeAt(E)<<24|w.charCodeAt(E+1)<<16|w.charCodeAt(E+2)<<8|w.charCodeAt(E+3)&255}function s(w,E,I,T){const R=w.substring(0,E),D=w.substring(E+I);return R+T+D}let i,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const c=o.getContext("2d");let u=0;function l(w,E){if(++u>30){cn("Load test font never loaded."),E();return}if(c.font="30px "+w,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){E();return}setTimeout(l.bind(null,w,E))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=s(f,976,d.length,d);const p=16,g=1482184792;let v=e(f,p);for(i=0,a=d.length-3;i<a;i+=4)v=v-g+e(d,i)|0;i<d.length&&(v=v-g+e(d+"XXX",i)|0),f=s(f,p,4,zV(v));const m=`url(data:font/opentype;base64,${btoa(f)});`,x=`@font-face {font-family:"${d}";src:${m}}`;this.insertRule(x);const y=this._document.createElement("div");y.style.visibility="hidden",y.style.width=y.style.height="10px",y.style.position="absolute",y.style.top=y.style.left="0px";for(const w of[r.loadedName,d]){const E=this._document.createElement("span");E.textContent="Hi",E.style.fontFamily=w,y.append(E)}this._document.body.append(y),l(d,()=>{y.remove(),t.complete()})}}p1=new WeakMap;class l${constructor(r,{disableFontFace:t=!1,inspectFont:e=null}){this.compiledGlyphs=Object.create(null);for(const s in r)this[s]=r[s];this.disableFontFace=t===!0,this._inspectFont=e}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let r;if(!this.cssFontInfo)r=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),r=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return(t=this._inspectFont)==null||t.call(this,this),r}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const r=R9(this.data),t=`url(data:${this.mimetype};base64,${btoa(r)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${t}}`}return(s=this._inspectFont)==null||s.call(this,this,t),e}getPathGenerator(r,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let e;try{e=r.get(this.loadedName+"_path_"+t)}catch(i){cn(`getPathGenerator - ignoring character: "${i}".`)}if(!Array.isArray(e)||e.length===0)return this.compiledGlyphs[t]=function(i,a){};const s=[];for(let i=0,a=e.length;i<a;)switch(e[i++]){case Pd.BEZIER_CURVE_TO:{const[o,c,u,l,d,f]=e.slice(i,i+6);s.push(h=>h.bezierCurveTo(o,c,u,l,d,f)),i+=6}break;case Pd.MOVE_TO:{const[o,c]=e.slice(i,i+2);s.push(u=>u.moveTo(o,c)),i+=2}break;case Pd.LINE_TO:{const[o,c]=e.slice(i,i+2);s.push(u=>u.lineTo(o,c)),i+=2}break;case Pd.QUADRATIC_CURVE_TO:{const[o,c,u,l]=e.slice(i,i+4);s.push(d=>d.quadraticCurveTo(o,c,u,l)),i+=4}break;case Pd.RESTORE:s.push(o=>o.restore());break;case Pd.SAVE:s.push(o=>o.save());break;case Pd.SCALE:Oi(s.length===2,"Scale command is only valid at the third position.");break;case Pd.TRANSFORM:{const[o,c,u,l,d,f]=e.slice(i,i+6);s.push(h=>h.transform(o,c,u,l,d,f)),i+=6}break;case Pd.TRANSLATE:{const[o,c]=e.slice(i,i+2);s.push(u=>u.translate(o,c)),i+=2}break}return this.compiledGlyphs[t]=function(a,o){s[0](a),s[1](a),a.scale(o,-o);for(let c=2,u=s.length;c<u;c++)s[c](a)}}}if(Wa){var e4=Promise.withResolvers(),hb=null;(async()=>{const r=await Np(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await Np(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await Np(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await Np(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let i,a;return new Map(Object.entries({fs:r,http:t,https:e,url:s,canvas:i,path2d:a}))})().then(r=>{hb=r,e4.resolve()},r=>{cn(`loadPackages: ${r}`),hb=new Map,e4.resolve()})}class Gu{static get promise(){return e4.promise}static get(r){return hb==null?void 0:hb.get(r)}}const pk=function(n){return Gu.get("fs").promises.readFile(n).then(t=>new Uint8Array(t))};class c$ extends a5{}class u$ extends ew{_createCanvas(r,t){return Gu.get("canvas").createCanvas(r,t)}}class d$ extends o5{_fetchData(r,t){return pk(r).then(e=>({cMapData:e,compressionType:t}))}}class h$ extends l5{_fetchData(r){return pk(r)}}const lo={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function t4(n,r){if(!r)return;const t=r[2]-r[0],e=r[3]-r[1],s=new Path2D;s.rect(r[0],r[1],t,e),n.clip(s)}class Ay{constructor(){this.constructor===Ay&&ss("Cannot initialize BaseShadingPattern.")}getPattern(){ss("Abstract method `getPattern` called.")}}class f$ extends Ay{constructor(r){super(),this._type=r[1],this._bbox=r[2],this._colorStops=r[3],this._p0=r[4],this._p1=r[5],this._r0=r[6],this._r1=r[7],this.matrix=null}_createGradient(r){let t;this._type==="axial"?t=r.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=r.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const e of this._colorStops)t.addColorStop(e[0],e[1]);return t}getPattern(r,t,e,s){let i;if(s===lo.STROKE||s===lo.FILL){const a=t.current.getClippedPathBoundingBox(s,Fs(r))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,c=Math.ceil(a[3]-a[1])||1,u=t.cachedCanvases.getCanvas("pattern",o,c,!0),l=u.context;l.clearRect(0,0,l.canvas.width,l.canvas.height),l.beginPath(),l.rect(0,0,l.canvas.width,l.canvas.height),l.translate(-a[0],-a[1]),e=yr.transform(e,[1,0,0,1,a[0],a[1]]),l.transform(...t.baseTransform),this.matrix&&l.transform(...this.matrix),t4(l,this._bbox),l.fillStyle=this._createGradient(l),l.fill(),i=r.createPattern(u.canvas,"no-repeat");const d=new DOMMatrix(e);i.setTransform(d)}else t4(r,this._bbox),i=this._createGradient(r);return i}}function B6(n,r,t,e,s,i,a,o){const c=r.coords,u=r.colors,l=n.data,d=n.width*4;let f;c[t+1]>c[e+1]&&(f=t,t=e,e=f,f=i,i=a,a=f),c[e+1]>c[s+1]&&(f=e,e=s,s=f,f=a,a=o,o=f),c[t+1]>c[e+1]&&(f=t,t=e,e=f,f=i,i=a,a=f);const h=(c[t]+r.offsetX)*r.scaleX,p=(c[t+1]+r.offsetY)*r.scaleY,g=(c[e]+r.offsetX)*r.scaleX,v=(c[e+1]+r.offsetY)*r.scaleY,m=(c[s]+r.offsetX)*r.scaleX,x=(c[s+1]+r.offsetY)*r.scaleY;if(p>=x)return;const y=u[i],w=u[i+1],E=u[i+2],I=u[a],T=u[a+1],R=u[a+2],D=u[o],L=u[o+1],M=u[o+2],H=Math.round(p),V=Math.round(x);let P,F,A,_,S,N,C,W;for(let j=H;j<=V;j++){if(j<v){const O=j<p?0:(p-j)/(p-v);P=h-(h-g)*O,F=y-(y-I)*O,A=w-(w-T)*O,_=E-(E-R)*O}else{let O;j>x?O=1:v===x?O=0:O=(v-j)/(v-x),P=g-(g-m)*O,F=I-(I-D)*O,A=T-(T-L)*O,_=R-(R-M)*O}let B;j<p?B=0:j>x?B=1:B=(p-j)/(p-x),S=h-(h-m)*B,N=y-(y-D)*B,C=w-(w-L)*B,W=E-(E-M)*B;const G=Math.round(Math.min(P,S)),X=Math.round(Math.max(P,S));let J=d*j+G*4;for(let O=G;O<=X;O++)B=(P-O)/(P-S),B<0?B=0:B>1&&(B=1),l[J++]=F-(F-N)*B|0,l[J++]=A-(A-C)*B|0,l[J++]=_-(_-W)*B|0,l[J++]=255}}function p$(n,r,t){const e=r.coords,s=r.colors;let i,a;switch(r.type){case"lattice":const o=r.verticesPerRow,c=Math.floor(e.length/o)-1,u=o-1;for(i=0;i<c;i++){let l=i*o;for(let d=0;d<u;d++,l++)B6(n,t,e[l],e[l+1],e[l+o],s[l],s[l+1],s[l+o]),B6(n,t,e[l+o+1],e[l+1],e[l+o],s[l+o+1],s[l+1],s[l+o])}break;case"triangles":for(i=0,a=e.length;i<a;i+=3)B6(n,t,e[i],e[i+1],e[i+2],s[i],s[i+1],s[i+2]);break;default:throw new Error("illegal figure")}}class m$ extends Ay{constructor(r){super(),this._coords=r[2],this._colors=r[3],this._figures=r[4],this._bounds=r[5],this._bbox=r[7],this._background=r[8],this.matrix=null}_createMeshCanvas(r,t,e){const o=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,l=Math.ceil(this._bounds[3])-c,d=Math.min(Math.ceil(Math.abs(u*r[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(l*r[1]*1.1)),3e3),h=u/d,p=l/f,g={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-c,scaleX:1/h,scaleY:1/p},v=d+2*2,m=f+2*2,x=e.getCanvas("mesh",v,m,!1),y=x.context,w=y.createImageData(d,f);if(t){const I=w.data;for(let T=0,R=I.length;T<R;T+=4)I[T]=t[0],I[T+1]=t[1],I[T+2]=t[2],I[T+3]=255}for(const I of this._figures)p$(w,I,g);return y.putImageData(w,2,2),{canvas:x.canvas,offsetX:o-2*h,offsetY:c-2*p,scaleX:h,scaleY:p}}getPattern(r,t,e,s){t4(r,this._bbox);let i;if(s===lo.SHADING)i=yr.singularValueDecompose2dScale(Fs(r));else if(i=yr.singularValueDecompose2dScale(t.baseTransform),this.matrix){const o=yr.singularValueDecompose2dScale(this.matrix);i=[i[0]*o[0],i[1]*o[1]]}const a=this._createMeshCanvas(i,s===lo.SHADING?null:this._background,t.cachedCanvases);return s!==lo.SHADING&&(r.setTransform(...t.baseTransform),this.matrix&&r.transform(...this.matrix)),r.translate(a.offsetX,a.offsetY),r.scale(a.scaleX,a.scaleY),r.createPattern(a.canvas,"no-repeat")}}class g$ extends Ay{getPattern(){return"hotpink"}}function b$(n){switch(n[0]){case"RadialAxial":return new f$(n);case"Mesh":return new m$(n);case"Dummy":return new g$}throw new Error(`Unknown IR type: ${n[0]}`)}const J7={COLORED:1,UNCOLORED:2},Tw=class Tw{constructor(r,t,e,s,i){this.operatorList=r[2],this.matrix=r[3],this.bbox=r[4],this.xstep=r[5],this.ystep=r[6],this.paintType=r[7],this.tilingType=r[8],this.color=t,this.ctx=e,this.canvasGraphicsFactory=s,this.baseTransform=i}createPatternCanvas(r){const t=this.operatorList,e=this.bbox,s=this.xstep,i=this.ystep,a=this.paintType,o=this.tilingType,c=this.color,u=this.canvasGraphicsFactory;n5("TilingType: "+o);const l=e[0],d=e[1],f=e[2],h=e[3],p=yr.singularValueDecompose2dScale(this.matrix),g=yr.singularValueDecompose2dScale(this.baseTransform),v=[p[0]*g[0],p[1]*g[1]],m=this.getSizeAndScale(s,this.ctx.canvas.width,v[0]),x=this.getSizeAndScale(i,this.ctx.canvas.height,v[1]),y=r.cachedCanvases.getCanvas("pattern",m.size,x.size,!0),w=y.context,E=u.createCanvasGraphics(w);E.groupLevel=r.groupLevel,this.setFillAndStrokeStyleToContext(E,a,c);let I=l,T=d,R=f,D=h;return l<0&&(I=0,R+=Math.abs(l)),d<0&&(T=0,D+=Math.abs(d)),w.translate(-(m.scale*I),-(x.scale*T)),E.transform(m.scale,0,0,x.scale,0,0),w.save(),this.clipBbox(E,I,T,R,D),E.baseTransform=Fs(E.ctx),E.executeOperatorList(t),E.endDrawing(),{canvas:y.canvas,scaleX:m.scale,scaleY:x.scale,offsetX:I,offsetY:T}}getSizeAndScale(r,t,e){r=Math.abs(r);const s=Math.max(Tw.MAX_PATTERN_SIZE,t);let i=Math.ceil(r*e);return i>=s?i=s:e=i/r,{scale:e,size:i}}clipBbox(r,t,e,s,i){const a=s-t,o=i-e;r.ctx.rect(t,e,a,o),r.current.updateRectMinMax(Fs(r.ctx),[t,e,s,i]),r.clip(),r.endPath()}setFillAndStrokeStyleToContext(r,t,e){const s=r.ctx,i=r.current;switch(t){case J7.COLORED:const a=this.ctx;s.fillStyle=a.fillStyle,s.strokeStyle=a.strokeStyle,i.fillColor=a.fillStyle,i.strokeColor=a.strokeStyle;break;case J7.UNCOLORED:const o=yr.makeHexColor(e[0],e[1],e[2]);s.fillStyle=o,s.strokeStyle=o,i.fillColor=o,i.strokeColor=o;break;default:throw new WV(`Unsupported paint type: ${t}`)}}getPattern(r,t,e,s){let i=e;s!==lo.SHADING&&(i=yr.transform(i,t.baseTransform),this.matrix&&(i=yr.transform(i,this.matrix)));const a=this.createPatternCanvas(t);let o=new DOMMatrix(i);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const c=r.createPattern(a.canvas,"repeat");return c.setTransform(o),c}};Ot(Tw,"MAX_PATTERN_SIZE",3e3);let r4=Tw;function v$({src:n,srcPos:r=0,dest:t,width:e,height:s,nonBlackColor:i=4294967295,inverseDecode:a=!1}){const o=Lo.isLittleEndian?4278190080:255,[c,u]=a?[i,o]:[o,i],l=e>>3,d=e&7,f=n.length;t=new Uint32Array(t.buffer);let h=0;for(let p=0;p<s;p++){for(const v=r+l;r<v;r++){const m=r<f?n[r]:255;t[h++]=m&128?u:c,t[h++]=m&64?u:c,t[h++]=m&32?u:c,t[h++]=m&16?u:c,t[h++]=m&8?u:c,t[h++]=m&4?u:c,t[h++]=m&2?u:c,t[h++]=m&1?u:c}if(d===0)continue;const g=r<f?n[r++]:255;for(let v=0;v<d;v++)t[h++]=g&1<<7-v?u:c}return{srcPos:r,destPos:h}}const Z7=16,Q7=100,y$=15,e3=10,t3=1e3,Ro=16;function x$(n,r){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){r.save(),this.__originalSave()},n.restore=function(){r.restore(),this.__originalRestore()},n.translate=function(e,s){r.translate(e,s),this.__originalTranslate(e,s)},n.scale=function(e,s){r.scale(e,s),this.__originalScale(e,s)},n.transform=function(e,s,i,a,o,c){r.transform(e,s,i,a,o,c),this.__originalTransform(e,s,i,a,o,c)},n.setTransform=function(e,s,i,a,o,c){r.setTransform(e,s,i,a,o,c),this.__originalSetTransform(e,s,i,a,o,c)},n.resetTransform=function(){r.resetTransform(),this.__originalResetTransform()},n.rotate=function(e){r.rotate(e),this.__originalRotate(e)},n.clip=function(e){r.clip(e),this.__originalClip(e)},n.moveTo=function(t,e){r.moveTo(t,e),this.__originalMoveTo(t,e)},n.lineTo=function(t,e){r.lineTo(t,e),this.__originalLineTo(t,e)},n.bezierCurveTo=function(t,e,s,i,a,o){r.bezierCurveTo(t,e,s,i,a,o),this.__originalBezierCurveTo(t,e,s,i,a,o)},n.rect=function(t,e,s,i){r.rect(t,e,s,i),this.__originalRect(t,e,s,i)},n.closePath=function(){r.closePath(),this.__originalClosePath()},n.beginPath=function(){r.beginPath(),this.__originalBeginPath()}}class w${constructor(r){this.canvasFactory=r,this.cache=Object.create(null)}getCanvas(r,t,e){let s;return this.cache[r]!==void 0?(s=this.cache[r],this.canvasFactory.reset(s,t,e)):(s=this.canvasFactory.create(t,e),this.cache[r]=s),s}delete(r){delete this.cache[r]}clear(){for(const r in this.cache){const t=this.cache[r];this.canvasFactory.destroy(t),delete this.cache[r]}}}function B2(n,r,t,e,s,i,a,o,c,u){const[l,d,f,h,p,g]=Fs(n);if(d===0&&f===0){const x=a*l+p,y=Math.round(x),w=o*h+g,E=Math.round(w),I=(a+c)*l+p,T=Math.abs(Math.round(I)-y)||1,R=(o+u)*h+g,D=Math.abs(Math.round(R)-E)||1;return n.setTransform(Math.sign(l),0,0,Math.sign(h),y,E),n.drawImage(r,t,e,s,i,0,0,T,D),n.setTransform(l,d,f,h,p,g),[T,D]}if(l===0&&h===0){const x=o*f+p,y=Math.round(x),w=a*d+g,E=Math.round(w),I=(o+u)*f+p,T=Math.abs(Math.round(I)-y)||1,R=(a+c)*d+g,D=Math.abs(Math.round(R)-E)||1;return n.setTransform(0,Math.sign(d),Math.sign(f),0,y,E),n.drawImage(r,t,e,s,i,0,0,D,T),n.setTransform(l,d,f,h,p,g),[D,T]}n.drawImage(r,t,e,s,i,a,o,c,u);const v=Math.hypot(l,d),m=Math.hypot(f,h);return[v*c,m*u]}function _$(n){const{width:r,height:t}=n;if(r>t3||t>t3)return null;const e=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),i=r+1;let a=new Uint8Array(i*(t+1)),o,c,u;const l=r+7&-8;let d=new Uint8Array(l*t),f=0;for(const m of n.data){let x=128;for(;x>0;)d[f++]=m&x?0:255,x>>=1}let h=0;for(f=0,d[f]!==0&&(a[0]=1,++h),c=1;c<r;c++)d[f]!==d[f+1]&&(a[c]=d[f]?2:1,++h),f++;for(d[f]!==0&&(a[c]=2,++h),o=1;o<t;o++){f=o*l,u=o*i,d[f-l]!==d[f]&&(a[u]=d[f]?1:8,++h);let m=(d[f]?4:0)+(d[f-l]?8:0);for(c=1;c<r;c++)m=(m>>2)+(d[f+1]?4:0)+(d[f-l+1]?8:0),s[m]&&(a[u+c]=s[m],++h),f++;if(d[f-l]!==d[f]&&(a[u+c]=d[f]?2:4,++h),h>e)return null}for(f=l*(t-1),u=o*i,d[f]!==0&&(a[u]=8,++h),c=1;c<r;c++)d[f]!==d[f+1]&&(a[u+c]=d[f]?4:8,++h),f++;if(d[f]!==0&&(a[u+c]=4,++h),h>e)return null;const p=new Int32Array([0,i,-1,0,-i,0,0,0,1]),g=new Path2D;for(o=0;h&&o<=t;o++){let m=o*i;const x=m+r;for(;m<x&&!a[m];)m++;if(m===x)continue;g.moveTo(m%i,o);const y=m;let w=a[m];do{const E=p[w];do m+=E;while(!a[m]);const I=a[m];I!==5&&I!==10?(w=I,a[m]=0):(w=I&51*w>>4,a[m]&=w>>2|w<<2),g.lineTo(m%i,m/i|0),a[m]||--h}while(y!==m);--o}return d=null,a=null,function(m){m.save(),m.scale(1/r,-1/t),m.translate(0,-t),m.fill(g),m.beginPath(),m.restore()}}class r3{constructor(r,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=P9,this.textMatrixScale=1,this.fontMatrix=C_,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Ma.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,r,t])}clone(){const r=Object.create(this);return r.clipBox=this.clipBox.slice(),r}setCurrentPoint(r,t){this.x=r,this.y=t}updatePathMinMax(r,t,e){[t,e]=yr.applyTransform([t,e],r),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,e),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,e)}updateRectMinMax(r,t){const e=yr.applyTransform(t,r),s=yr.applyTransform(t.slice(2),r),i=yr.applyTransform([t[0],t[3]],r),a=yr.applyTransform([t[2],t[1]],r);this.minX=Math.min(this.minX,e[0],s[0],i[0],a[0]),this.minY=Math.min(this.minY,e[1],s[1],i[1],a[1]),this.maxX=Math.max(this.maxX,e[0],s[0],i[0],a[0]),this.maxY=Math.max(this.maxY,e[1],s[1],i[1],a[1])}updateScalingPathMinMax(r,t){yr.scaleMinMax(r,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(r,t,e,s,i,a,o,c,u,l){const d=yr.bezierBoundingBox(t,e,s,i,a,o,c,u,l);l||this.updateRectMinMax(r,d)}getPathBoundingBox(r=lo.FILL,t=null){const e=[this.minX,this.minY,this.maxX,this.maxY];if(r===lo.STROKE){t||ss("Stroke bounding box must include transform.");const s=yr.singularValueDecompose2dScale(t),i=s[0]*this.lineWidth/2,a=s[1]*this.lineWidth/2;e[0]-=i,e[1]-=a,e[2]+=i,e[3]+=a}return e}updateClipFromPath(){const r=yr.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(r||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(r){this.clipBox=r,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(r=lo.FILL,t=null){return yr.intersect(this.clipBox,this.getPathBoundingBox(r,t))}}function n3(n,r){if(typeof ImageData<"u"&&r instanceof ImageData){n.putImageData(r,0,0);return}const t=r.height,e=r.width,s=t%Ro,i=(t-s)/Ro,a=s===0?i:i+1,o=n.createImageData(e,Ro);let c=0,u;const l=r.data,d=o.data;let f,h,p,g;if(r.kind===ax.GRAYSCALE_1BPP){const v=l.byteLength,m=new Uint32Array(d.buffer,0,d.byteLength>>2),x=m.length,y=e+7>>3,w=4294967295,E=Lo.isLittleEndian?4278190080:255;for(f=0;f<a;f++){for(p=f<i?Ro:s,u=0,h=0;h<p;h++){const I=v-c;let T=0;const R=I>y?e:I*8-7,D=R&-8;let L=0,M=0;for(;T<D;T+=8)M=l[c++],m[u++]=M&128?w:E,m[u++]=M&64?w:E,m[u++]=M&32?w:E,m[u++]=M&16?w:E,m[u++]=M&8?w:E,m[u++]=M&4?w:E,m[u++]=M&2?w:E,m[u++]=M&1?w:E;for(;T<R;T++)L===0&&(M=l[c++],L=128),m[u++]=M&L?w:E,L>>=1}for(;u<x;)m[u++]=0;n.putImageData(o,0,f*Ro)}}else if(r.kind===ax.RGBA_32BPP){for(h=0,g=e*Ro*4,f=0;f<i;f++)d.set(l.subarray(c,c+g)),c+=g,n.putImageData(o,0,h),h+=Ro;f<a&&(g=e*s*4,d.set(l.subarray(c,c+g)),n.putImageData(o,0,h))}else if(r.kind===ax.RGB_24BPP)for(p=Ro,g=e*p,f=0;f<a;f++){for(f>=i&&(p=s,g=e*p),u=0,h=g;h--;)d[u++]=l[c++],d[u++]=l[c++],d[u++]=l[c++],d[u++]=255;n.putImageData(o,0,f*Ro)}else throw new Error(`bad image kind: ${r.kind}`)}function s3(n,r){if(r.bitmap){n.drawImage(r.bitmap,0,0);return}const t=r.height,e=r.width,s=t%Ro,i=(t-s)/Ro,a=s===0?i:i+1,o=n.createImageData(e,Ro);let c=0;const u=r.data,l=o.data;for(let d=0;d<a;d++){const f=d<i?Ro:s;({srcPos:c}=v$({src:u,srcPos:c,dest:l,width:e,height:f,nonBlackColor:0})),n.putImageData(o,0,d*Ro)}}function Lg(n,r){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const e of t)n[e]!==void 0&&(r[e]=n[e]);n.setLineDash!==void 0&&(r.setLineDash(n.getLineDash()),r.lineDashOffset=n.lineDashOffset)}function U2(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Wa){const{filter:r}=n;r!=="none"&&r!==""&&(n.filter="none")}}function i3(n,r){if(r)return!0;const t=yr.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const e=Math.fround((globalThis.devicePixelRatio||1)*Bf.PDF_TO_CSS_UNITS);return t[0]<=e&&t[1]<=e}const S$=["butt","round","square"],E$=["miter","round","bevel"],N$={},a3={};var Wf,n4,s4;const vS=class vS{constructor(r,t,e,s,i,{optionalContentConfig:a,markedContentStack:o=null},c,u){De(this,Wf);this.ctx=r,this.current=new r3(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=e,this.canvasFactory=s,this.filterFactory=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new w$(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(r,t=null){return typeof r=="string"?r.startsWith("g_")?this.commonObjs.get(r):this.objs.get(r):t}beginDrawing({transform:r,viewport:t,transparency:e=!1,background:s=null}){const i=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,i,a),this.ctx.fillStyle=o,e){const c=this.cachedCanvases.getCanvas("transparent",i,a);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...Fs(this.compositeCtx))}this.ctx.save(),U2(this.ctx),r&&(this.ctx.transform(...r),this.outputScaleX=r[0],this.outputScaleY=r[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Fs(this.ctx)}executeOperatorList(r,t,e,s){const i=r.argsArray,a=r.fnArray;let o=t||0;const c=i.length;if(c===o)return o;const u=c-o>e3&&typeof e=="function",l=u?Date.now()+y$:0;let d=0;const f=this.commonObjs,h=this.objs;let p;for(;;){if(s!==void 0&&o===s.nextBreakPoint)return s.breakIt(o,e),o;if(p=a[o],p!==Nc.dependency)this[p].apply(this,i[o]);else for(const g of i[o]){const v=g.startsWith("g_")?f:h;if(!v.has(g))return v.get(g,e),o}if(o++,o===c)return o;if(u&&++d>e3){if(Date.now()>l)return e(),o;d=0}}}endDrawing(){Ce(this,Wf,n4).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const r of this._cachedBitmapsMap.values()){for(const t of r.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);r.clear()}this._cachedBitmapsMap.clear(),Ce(this,Wf,s4).call(this)}_scaleImage(r,t){const e=r.width,s=r.height;let i=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=e,c=s,u="prescale1",l,d;for(;i>2&&o>1||a>2&&c>1;){let f=o,h=c;i>2&&o>1&&(f=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),i/=o/f),a>2&&c>1&&(h=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,a/=c/h),l=this.cachedCanvases.getCanvas(u,f,h),d=l.context,d.clearRect(0,0,f,h),d.drawImage(r,0,0,o,c,0,0,f,h),r=l.canvas,o=f,c=h,u=u==="prescale1"?"prescale2":"prescale1"}return{img:r,paintWidth:o,paintHeight:c}}_createMaskCanvas(r){const t=this.ctx,{width:e,height:s}=r,i=this.current.fillColor,a=this.current.patternFill,o=Fs(t);let c,u,l,d;if((r.bitmap||r.data)&&r.count>1){const R=r.bitmap||r.data.buffer;u=JSON.stringify(a?o:[o.slice(0,4),i]),c=this._cachedBitmapsMap.get(R),c||(c=new Map,this._cachedBitmapsMap.set(R,c));const D=c.get(u);if(D&&!a){const L=Math.round(Math.min(o[0],o[2])+o[4]),M=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:D,offsetX:L,offsetY:M}}l=D}l||(d=this.cachedCanvases.getCanvas("maskCanvas",e,s),s3(d.context,r));let f=yr.transform(o,[1/e,0,0,-1/s,0,0]);f=yr.transform(f,[1,0,0,1,0,-s]);const[h,p,g,v]=yr.getAxialAlignedBoundingBox([0,0,e,s],f),m=Math.round(g-h)||1,x=Math.round(v-p)||1,y=this.cachedCanvases.getCanvas("fillCanvas",m,x),w=y.context,E=h,I=p;w.translate(-E,-I),w.transform(...f),l||(l=this._scaleImage(d.canvas,jd(w)),l=l.img,c&&a&&c.set(u,l)),w.imageSmoothingEnabled=i3(Fs(w),r.interpolate),B2(w,l,0,0,l.width,l.height,0,0,e,s),w.globalCompositeOperation="source-in";const T=yr.transform(jd(w),[1,0,0,1,-E,-I]);return w.fillStyle=a?i.getPattern(t,this,T,lo.FILL):i,w.fillRect(0,0,e,s),c&&!a&&(this.cachedCanvases.delete("fillCanvas"),c.set(u,y.canvas)),{canvas:y.canvas,offsetX:Math.round(E),offsetY:Math.round(I)}}setLineWidth(r){r!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=r,this.ctx.lineWidth=r}setLineCap(r){this.ctx.lineCap=S$[r]}setLineJoin(r){this.ctx.lineJoin=E$[r]}setMiterLimit(r){this.ctx.miterLimit=r}setDash(r,t){const e=this.ctx;e.setLineDash!==void 0&&(e.setLineDash(r),e.lineDashOffset=t)}setRenderingIntent(r){}setFlatness(r){}setGState(r){for(const[t,e]of r)switch(t){case"LW":this.setLineWidth(e);break;case"LC":this.setLineCap(e);break;case"LJ":this.setLineJoin(e);break;case"ML":this.setMiterLimit(e);break;case"D":this.setDash(e[0],e[1]);break;case"RI":this.setRenderingIntent(e);break;case"FL":this.setFlatness(e);break;case"Font":this.setFont(e[0],e[1]);break;case"CA":this.current.strokeAlpha=e;break;case"ca":this.current.fillAlpha=e,this.ctx.globalAlpha=e;break;case"BM":this.ctx.globalCompositeOperation=e;break;case"SMask":this.current.activeSMask=e?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(e);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const r=this.inSMaskMode;this.current.activeSMask&&!r?this.beginSMaskMode():!this.current.activeSMask&&r&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const r=this.ctx.canvas.width,t=this.ctx.canvas.height,e="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(e,r,t);this.suspendedCtx=this.ctx,this.ctx=s.context;const i=this.ctx;i.setTransform(...Fs(this.suspendedCtx)),Lg(this.suspendedCtx,i),x$(i,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Lg(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(r){if(!this.current.activeSMask)return;r?(r[0]=Math.floor(r[0]),r[1]=Math.floor(r[1]),r[2]=Math.ceil(r[2]),r[3]=Math.ceil(r[3])):r=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,e=this.suspendedCtx;this.composeSMask(e,t,this.ctx,r),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(r,t,e,s){const i=s[0],a=s[1],o=s[2]-i,c=s[3]-a;o===0||c===0||(this.genericComposeSMask(t.context,e,o,c,t.subtype,t.backdrop,t.transferMap,i,a,t.offsetX,t.offsetY),r.save(),r.globalAlpha=1,r.globalCompositeOperation="source-over",r.setTransform(1,0,0,1,0,0),r.drawImage(e.canvas,0,0),r.restore())}genericComposeSMask(r,t,e,s,i,a,o,c,u,l,d){let f=r.canvas,h=c-l,p=u-d;if(a){if(h<0||p<0||h+e>f.width||p+s>f.height){const v=this.cachedCanvases.getCanvas("maskExtension",e,s),m=v.context;m.drawImage(f,-h,-p),a.some(x=>x!==0)&&(m.globalCompositeOperation="destination-atop",m.fillStyle=yr.makeHexColor(...a),m.fillRect(0,0,e,s),m.globalCompositeOperation="source-over"),f=v.canvas,h=p=0}else if(a.some(v=>v!==0)){r.save(),r.globalAlpha=1,r.setTransform(1,0,0,1,0,0);const v=new Path2D;v.rect(h,p,e,s),r.clip(v),r.globalCompositeOperation="destination-atop",r.fillStyle=yr.makeHexColor(...a),r.fillRect(h,p,e,s),r.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),i==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):i==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const g=new Path2D;g.rect(c,u,e,s),t.clip(g),t.globalCompositeOperation="destination-in",t.drawImage(f,h,p,e,s,c,u,e,s),t.restore()}save(){this.inSMaskMode?(Lg(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const r=this.current;this.stateStack.push(r),this.current=r.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Lg(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(r,t,e,s,i,a){this.ctx.transform(r,t,e,s,i,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(r,t,e){const s=this.ctx,i=this.current;let a=i.x,o=i.y,c,u;const l=Fs(s),d=l[0]===0&&l[3]===0||l[1]===0&&l[2]===0,f=d?e.slice(0):null;for(let h=0,p=0,g=r.length;h<g;h++)switch(r[h]|0){case Nc.rectangle:a=t[p++],o=t[p++];const v=t[p++],m=t[p++],x=a+v,y=o+m;s.moveTo(a,o),v===0||m===0?s.lineTo(x,y):(s.lineTo(x,o),s.lineTo(x,y),s.lineTo(a,y)),d||i.updateRectMinMax(l,[a,o,x,y]),s.closePath();break;case Nc.moveTo:a=t[p++],o=t[p++],s.moveTo(a,o),d||i.updatePathMinMax(l,a,o);break;case Nc.lineTo:a=t[p++],o=t[p++],s.lineTo(a,o),d||i.updatePathMinMax(l,a,o);break;case Nc.curveTo:c=a,u=o,a=t[p+4],o=t[p+5],s.bezierCurveTo(t[p],t[p+1],t[p+2],t[p+3],a,o),i.updateCurvePathMinMax(l,c,u,t[p],t[p+1],t[p+2],t[p+3],a,o,f),p+=6;break;case Nc.curveTo2:c=a,u=o,s.bezierCurveTo(a,o,t[p],t[p+1],t[p+2],t[p+3]),i.updateCurvePathMinMax(l,c,u,a,o,t[p],t[p+1],t[p+2],t[p+3],f),a=t[p+2],o=t[p+3],p+=4;break;case Nc.curveTo3:c=a,u=o,a=t[p+2],o=t[p+3],s.bezierCurveTo(t[p],t[p+1],a,o,a,o),i.updateCurvePathMinMax(l,c,u,t[p],t[p+1],a,o,a,o,f),p+=4;break;case Nc.closePath:s.closePath();break}d&&i.updateScalingPathMinMax(l,f),i.setCurrentPoint(a,o)}closePath(){this.ctx.closePath()}stroke(r=!0){const t=this.ctx,e=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof e=="object"&&(e!=null&&e.getPattern)?(t.save(),t.strokeStyle=e.getPattern(t,this,jd(t),lo.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),r&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(r=!0){const t=this.ctx,e=this.current.fillColor,s=this.current.patternFill;let i=!1;s&&(t.save(),t.fillStyle=e.getPattern(t,this,jd(t),lo.FILL),i=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),i&&t.restore(),r&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=N$}eoClip(){this.pendingClip=a3}beginText(){this.current.textMatrix=P9,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const r=this.pendingTextPaths,t=this.ctx;if(r===void 0){t.beginPath();return}t.save(),t.beginPath();for(const e of r)t.setTransform(...e.transform),t.translate(e.x,e.y),e.addToPath(t,e.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(r){this.current.charSpacing=r}setWordSpacing(r){this.current.wordSpacing=r}setHScale(r){this.current.textHScale=r/100}setLeading(r){this.current.leading=-r}setFont(r,t){var l;const e=this.commonObjs.get(r),s=this.current;if(!e)throw new Error(`Can't find font for ${r}`);if(s.fontMatrix=e.fontMatrix||C_,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&cn("Invalid font matrix for font "+r),t<0?(t=-t,s.fontDirection=-1):s.fontDirection=1,this.current.font=e,this.current.fontSize=t,e.isType3Font)return;const i=e.loadedName||"sans-serif",a=((l=e.systemFontInfo)==null?void 0:l.css)||`"${i}", ${e.fallbackName}`;let o="normal";e.black?o="900":e.bold&&(o="bold");const c=e.italic?"italic":"normal";let u=t;t<Z7?u=Z7:t>Q7&&(u=Q7),this.current.fontSizeScale=t/u,this.ctx.font=`${c} ${o} ${u}px ${a}`}setTextRenderingMode(r){this.current.textRenderingMode=r}setTextRise(r){this.current.textRise=r}moveText(r,t){this.current.x=this.current.lineX+=r,this.current.y=this.current.lineY+=t}setLeadingMoveText(r,t){this.setLeading(-t),this.moveText(r,t)}setTextMatrix(r,t,e,s,i,a){this.current.textMatrix=[r,t,e,s,i,a],this.current.textMatrixScale=Math.hypot(r,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(r,t,e,s){const i=this.ctx,a=this.current,o=a.font,c=a.textRenderingMode,u=a.fontSize/a.fontSizeScale,l=c&Ma.FILL_STROKE_MASK,d=!!(c&Ma.ADD_TO_PATH_FLAG),f=a.patternFill&&!o.missingFile;let h;(o.disableFontFace||d||f)&&(h=o.getPathGenerator(this.commonObjs,r)),o.disableFontFace||f?(i.save(),i.translate(t,e),i.beginPath(),h(i,u),s&&i.setTransform(...s),(l===Ma.FILL||l===Ma.FILL_STROKE)&&i.fill(),(l===Ma.STROKE||l===Ma.FILL_STROKE)&&i.stroke(),i.restore()):((l===Ma.FILL||l===Ma.FILL_STROKE)&&i.fillText(r,t,e),(l===Ma.STROKE||l===Ma.FILL_STROKE)&&i.strokeText(r,t,e)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Fs(i),x:t,y:e,fontSize:u,addToPath:h})}get isFontSubpixelAAEnabled(){const{context:r}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);r.scale(1.5,1),r.fillText("I",0,10);const t=r.getImageData(0,0,10,10).data;let e=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){e=!0;break}return In(this,"isFontSubpixelAAEnabled",e)}showText(r){const t=this.current,e=t.font;if(e.isType3Font)return this.showType3Text(r);const s=t.fontSize;if(s===0)return;const i=this.ctx,a=t.fontSizeScale,o=t.charSpacing,c=t.wordSpacing,u=t.fontDirection,l=t.textHScale*u,d=r.length,f=e.vertical,h=f?1:-1,p=e.defaultVMetrics,g=s*t.fontMatrix[0],v=t.textRenderingMode===Ma.FILL&&!e.disableFontFace&&!t.patternFill;i.save(),i.transform(...t.textMatrix),i.translate(t.x,t.y+t.textRise),u>0?i.scale(l,-1):i.scale(l,1);let m;if(t.patternFill){i.save();const I=t.fillColor.getPattern(i,this,jd(i),lo.FILL);m=Fs(i),i.restore(),i.fillStyle=I}let x=t.lineWidth;const y=t.textMatrixScale;if(y===0||x===0){const I=t.textRenderingMode&Ma.FILL_STROKE_MASK;(I===Ma.STROKE||I===Ma.FILL_STROKE)&&(x=this.getSinglePixelWidth())}else x/=y;if(a!==1&&(i.scale(a,a),x/=a),i.lineWidth=x,e.isInvalidPDFjsFont){const I=[];let T=0;for(const R of r)I.push(R.unicode),T+=R.width;i.fillText(I.join(""),0,0),t.x+=T*g*l,i.restore(),this.compose();return}let w=0,E;for(E=0;E<d;++E){const I=r[E];if(typeof I=="number"){w+=h*I*s/1e3;continue}let T=!1;const R=(I.isSpace?c:0)+o,D=I.fontChar,L=I.accent;let M,H,V=I.width;if(f){const F=I.vmetric||p,A=-(I.vmetric?F[1]:V*.5)*g,_=F[2]*g;V=F?-F[0]:V,M=A/a,H=(w+_)/a}else M=w/a,H=0;if(e.remeasure&&V>0){const F=i.measureText(D).width*1e3/s*a;if(V<F&&this.isFontSubpixelAAEnabled){const A=V/F;T=!0,i.save(),i.scale(A,1),M/=A}else V!==F&&(M+=(V-F)/2e3*s/a)}if(this.contentVisible&&(I.isInFont||e.missingFile)){if(v&&!L)i.fillText(D,M,H);else if(this.paintChar(D,M,H,m),L){const F=M+s*L.offset.x/a,A=H-s*L.offset.y/a;this.paintChar(L.fontChar,F,A,m)}}const P=f?V*g-R*u:V*g+R*u;w+=P,T&&i.restore()}f?t.y-=w:t.x+=w*l,i.restore(),this.compose()}showType3Text(r){const t=this.ctx,e=this.current,s=e.font,i=e.fontSize,a=e.fontDirection,o=s.vertical?1:-1,c=e.charSpacing,u=e.wordSpacing,l=e.textHScale*a,d=e.fontMatrix||C_,f=r.length,h=e.textRenderingMode===Ma.INVISIBLE;let p,g,v,m;if(!(h||i===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...e.textMatrix),t.translate(e.x,e.y),t.scale(l,a),p=0;p<f;++p){if(g=r[p],typeof g=="number"){m=o*g*i/1e3,this.ctx.translate(m,0),e.x+=m*l;continue}const x=(g.isSpace?u:0)+c,y=s.charProcOperatorList[g.operatorListId];if(!y){cn(`Type3 character "${g.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=g,this.save(),t.scale(i,i),t.transform(...d),this.executeOperatorList(y),this.restore()),v=yr.applyTransform([g.width,0],d)[0]*i+x,t.translate(v,0),e.x+=v*l}t.restore(),this.processingType3=null}}setCharWidth(r,t){}setCharWidthAndBounds(r,t,e,s,i,a){this.ctx.rect(e,s,i-e,a-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(r){let t;if(r[0]==="TilingPattern"){const e=r[1],s=this.baseTransform||Fs(this.ctx),i={createCanvasGraphics:a=>new vS(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new r4(r,e,this.ctx,i,s)}else t=this._getPattern(r[1],r[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(r,t,e){const s=yr.makeHexColor(r,t,e);this.ctx.strokeStyle=s,this.current.strokeColor=s}setFillRGBColor(r,t,e){const s=yr.makeHexColor(r,t,e);this.ctx.fillStyle=s,this.current.fillColor=s,this.current.patternFill=!1}_getPattern(r,t=null){let e;return this.cachedPatterns.has(r)?e=this.cachedPatterns.get(r):(e=b$(this.getObject(r)),this.cachedPatterns.set(r,e)),t&&(e.matrix=t),e}shadingFill(r){if(!this.contentVisible)return;const t=this.ctx;this.save();const e=this._getPattern(r);t.fillStyle=e.getPattern(t,this,jd(t),lo.SHADING);const s=jd(t);if(s){const{width:i,height:a}=t.canvas,[o,c,u,l]=yr.getAxialAlignedBoundingBox([0,0,i,a],s);this.ctx.fillRect(o,c,u-o,l-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ss("Should not call beginInlineImage")}beginImageData(){ss("Should not call beginImageData")}paintFormXObjectBegin(r,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),r&&this.transform(...r),this.baseTransform=Fs(this.ctx),t)){const e=t[2]-t[0],s=t[3]-t[1];this.ctx.rect(t[0],t[1],e,s),this.current.updateRectMinMax(Fs(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(r){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;r.isolated||n5("TODO: Support non-isolated groups."),r.knockout&&cn("Knockout groups not supported.");const e=Fs(t);if(r.matrix&&t.transform(...r.matrix),!r.bbox)throw new Error("Bounding box is required.");let s=yr.getAxialAlignedBoundingBox(r.bbox,Fs(t));const i=[0,0,t.canvas.width,t.canvas.height];s=yr.intersect(s,i)||[0,0,0,0];const a=Math.floor(s[0]),o=Math.floor(s[1]),c=Math.max(Math.ceil(s[2])-a,1),u=Math.max(Math.ceil(s[3])-o,1);this.current.startNewPathAndClipBox([0,0,c,u]);let l="groupAt"+this.groupLevel;r.smask&&(l+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(l,c,u),f=d.context;f.translate(-a,-o),f.transform(...e),r.smask?this.smaskStack.push({canvas:d.canvas,context:f,offsetX:a,offsetY:o,subtype:r.smask.subtype,backdrop:r.smask.backdrop,transferMap:r.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,o),t.save()),Lg(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(r){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,e=this.groupStack.pop();if(this.ctx=e,this.ctx.imageSmoothingEnabled=!1,r.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=Fs(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const i=yr.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],s);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(i)}}beginAnnotation(r,t,e,s,i){if(Ce(this,Wf,n4).call(this),U2(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const a=t[2]-t[0],o=t[3]-t[1];if(i&&this.annotationCanvasMap){e=e.slice(),e[4]-=t[0],e[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=a,t[3]=o;const[c,u]=yr.singularValueDecompose2dScale(Fs(this.ctx)),{viewportScale:l}=this,d=Math.ceil(a*this.outputScaleX*l),f=Math.ceil(o*this.outputScaleY*l);this.annotationCanvas=this.canvasFactory.create(d,f);const{canvas:h,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(r,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(c,0,0,-u,0,o*u),U2(this.ctx)}else U2(this.ctx),this.ctx.rect(t[0],t[1],a,o),this.ctx.clip(),this.endPath()}this.current=new r3(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...e),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Ce(this,Wf,s4).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(r){if(!this.contentVisible)return;const t=r.count;r=this.getObject(r.data,r),r.count=t;const e=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=_$(r)),s.compiled)){s.compiled(e);return}const i=this._createMaskCanvas(r),a=i.canvas;e.save(),e.setTransform(1,0,0,1,0,0),e.drawImage(a,i.offsetX,i.offsetY),e.restore(),this.compose()}paintImageMaskXObjectRepeat(r,t,e=0,s=0,i,a){if(!this.contentVisible)return;r=this.getObject(r.data,r);const o=this.ctx;o.save();const c=Fs(o);o.transform(t,e,s,i,0,0);const u=this._createMaskCanvas(r);o.setTransform(1,0,0,1,u.offsetX-c[4],u.offsetY-c[5]);for(let l=0,d=a.length;l<d;l+=2){const f=yr.transform(c,[t,e,s,i,a[l],a[l+1]]),[h,p]=yr.applyTransform([0,0],f);o.drawImage(u.canvas,h,p)}o.restore(),this.compose()}paintImageMaskXObjectGroup(r){if(!this.contentVisible)return;const t=this.ctx,e=this.current.fillColor,s=this.current.patternFill;for(const i of r){const{data:a,width:o,height:c,transform:u}=i,l=this.cachedCanvases.getCanvas("maskCanvas",o,c),d=l.context;d.save();const f=this.getObject(a,i);s3(d,f),d.globalCompositeOperation="source-in",d.fillStyle=s?e.getPattern(d,this,jd(t),lo.FILL):e,d.fillRect(0,0,o,c),d.restore(),t.save(),t.transform(...u),t.scale(1,-1),B2(t,l.canvas,0,0,o,c,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(r){if(!this.contentVisible)return;const t=this.getObject(r);if(!t){cn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(r,t,e,s){if(!this.contentVisible)return;const i=this.getObject(r);if(!i){cn("Dependent image isn't ready yet");return}const a=i.width,o=i.height,c=[];for(let u=0,l=s.length;u<l;u+=2)c.push({transform:[t,0,0,e,s[u],s[u+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(i,c)}applyTransferMapsToCanvas(r){return this.current.transferMaps!=="none"&&(r.filter=this.current.transferMaps,r.drawImage(r.canvas,0,0),r.filter="none"),r.canvas}applyTransferMapsToBitmap(r){if(this.current.transferMaps==="none")return r.bitmap;const{bitmap:t,width:e,height:s}=r,i=this.cachedCanvases.getCanvas("inlineImage",e,s),a=i.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",i.canvas}paintInlineImageXObject(r){if(!this.contentVisible)return;const t=r.width,e=r.height,s=this.ctx;if(this.save(),!Wa){const{filter:o}=s;o!=="none"&&o!==""&&(s.filter="none")}s.scale(1/t,-1/e);let i;if(r.bitmap)i=this.applyTransferMapsToBitmap(r);else if(typeof HTMLElement=="function"&&r instanceof HTMLElement||!r.data)i=r;else{const c=this.cachedCanvases.getCanvas("inlineImage",t,e).context;n3(c,r),i=this.applyTransferMapsToCanvas(c)}const a=this._scaleImage(i,jd(s));s.imageSmoothingEnabled=i3(Fs(s),r.interpolate),B2(s,a.img,0,0,a.paintWidth,a.paintHeight,0,-e,t,e),this.compose(),this.restore()}paintInlineImageXObjectGroup(r,t){if(!this.contentVisible)return;const e=this.ctx;let s;if(r.bitmap)s=r.bitmap;else{const i=r.width,a=r.height,c=this.cachedCanvases.getCanvas("inlineImage",i,a).context;n3(c,r),s=this.applyTransferMapsToCanvas(c)}for(const i of t)e.save(),e.transform(...i.transform),e.scale(1,-1),B2(e,s,i.x,i.y,i.w,i.h,0,-1,1,1),e.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(r){}markPointProps(r,t){}beginMarkedContent(r){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(r,t){r==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(r){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const e=this.ctx;this.pendingClip&&(t||(this.pendingClip===a3?e.clip("evenodd"):e.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),e.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const r=Fs(this.ctx);if(r[1]===0&&r[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(r[0]),Math.abs(r[3]));else{const t=Math.abs(r[0]*r[3]-r[2]*r[1]),e=Math.hypot(r[0],r[2]),s=Math.hypot(r[1],r[3]);this._cachedGetSinglePixelWidth=Math.max(e,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:r}=this.current,{a:t,b:e,c:s,d:i}=this.ctx.getTransform();let a,o;if(e===0&&s===0){const c=Math.abs(t),u=Math.abs(i);if(c===u)if(r===0)a=o=1/c;else{const l=c*r;a=o=l<1?1/l:1}else if(r===0)a=1/c,o=1/u;else{const l=c*r,d=u*r;a=l<1?1/l:1,o=d<1?1/d:1}}else{const c=Math.abs(t*i-e*s),u=Math.hypot(t,e),l=Math.hypot(s,i);if(r===0)a=l/c,o=u/c;else{const d=r*c;a=l>d?l/d:1,o=u>d?u/d:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(r){const{ctx:t}=this,{lineWidth:e}=this.current,[s,i]=this.getScaleForStroking();if(t.lineWidth=e||1,s===1&&i===1){t.stroke();return}const a=t.getLineDash();if(r&&t.save(),t.scale(s,i),a.length>0){const o=Math.max(s,i);t.setLineDash(a.map(c=>c/o)),t.lineDashOffset/=o}t.stroke(),r&&t.restore()}isContentVisible(){for(let r=this.markedContentStack.length-1;r>=0;r--)if(!this.markedContentStack[r].visible)return!1;return!0}};Wf=new WeakSet,n4=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},s4=function(){if(this.pageColors){const r=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(r!=="none"){const t=this.ctx.filter;this.ctx.filter=r,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let X0=vS;for(const n in Nc)X0.prototype[n]!==void 0&&(X0.prototype[Nc[n]]=X0.prototype[n]);var pv,mv;class ph{static get workerPort(){return K(this,pv)}static set workerPort(r){if(!(typeof Worker<"u"&&r instanceof Worker)&&r!==null)throw new Error("Invalid `workerPort` type.");Ne(this,pv,r)}static get workerSrc(){return K(this,mv)}static set workerSrc(r){if(typeof r!="string")throw new Error("Invalid `workerSrc` type.");Ne(this,mv,r)}}pv=new WeakMap,mv=new WeakMap,De(ph,pv,null),De(ph,mv,"");const H2={UNKNOWN:0,DATA:1,ERROR:2},xi={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function rl(n){switch(n instanceof Error||typeof n=="object"&&n!==null||ss('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new e0(n.message);case"MissingPDFException":return new Qm(n.message);case"PasswordException":return new D_(n.message,n.code);case"UnexpectedResponseException":return new s5(n.message,n.status);case"UnknownErrorException":return new I_(n.message,n.details);default:return new I_(n.message,n.toString())}}var zu,mk,gk,hx;class $g{constructor(r,t,e){De(this,zu);this.sourceName=r,this.targetName=t,this.comObj=e,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=s=>{const i=s.data;if(i.targetName!==this.sourceName)return;if(i.stream){Ce(this,zu,gk).call(this,i);return}if(i.callback){const o=i.callbackId,c=this.callbackCapabilities[o];if(!c)throw new Error(`Cannot resolve callback ${o}`);if(delete this.callbackCapabilities[o],i.callback===H2.DATA)c.resolve(i.data);else if(i.callback===H2.ERROR)c.reject(rl(i.reason));else throw new Error("Unexpected callback case");return}const a=this.actionHandler[i.action];if(!a)throw new Error(`Unknown action from worker: ${i.action}`);if(i.callbackId){const o=this.sourceName,c=i.sourceName;new Promise(function(u){u(a(i.data))}).then(function(u){e.postMessage({sourceName:o,targetName:c,callback:H2.DATA,callbackId:i.callbackId,data:u})},function(u){e.postMessage({sourceName:o,targetName:c,callback:H2.ERROR,callbackId:i.callbackId,reason:rl(u)})});return}if(i.streamId){Ce(this,zu,mk).call(this,i);return}a(i.data)},e.addEventListener("message",this._onComObjOnMessage)}on(r,t){const e=this.actionHandler;if(e[r])throw new Error(`There is already an actionName called "${r}"`);e[r]=t}send(r,t,e){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:r,data:t},e)}sendWithPromise(r,t,e){const s=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[s]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:r,callbackId:s,data:t},e)}catch(a){i.reject(a)}return i.promise}sendWithStream(r,t,e,s){const i=this.streamId++,a=this.sourceName,o=this.targetName,c=this.comObj;return new ReadableStream({start:u=>{const l=Promise.withResolvers();return this.streamControllers[i]={controller:u,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:a,targetName:o,action:r,streamId:i,data:t,desiredSize:u.desiredSize},s),l.promise},pull:u=>{const l=Promise.withResolvers();return this.streamControllers[i].pullCall=l,c.postMessage({sourceName:a,targetName:o,stream:xi.PULL,streamId:i,desiredSize:u.desiredSize}),l.promise},cancel:u=>{Oi(u instanceof Error,"cancel must have a valid reason");const l=Promise.withResolvers();return this.streamControllers[i].cancelCall=l,this.streamControllers[i].isClosed=!0,c.postMessage({sourceName:a,targetName:o,stream:xi.CANCEL,streamId:i,reason:rl(u)}),l.promise}},e)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}zu=new WeakSet,mk=function(r){const t=r.streamId,e=this.sourceName,s=r.sourceName,i=this.comObj,a=this,o=this.actionHandler[r.action],c={enqueue(u,l=1,d){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=l,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:e,targetName:s,stream:xi.ENQUEUE,streamId:t,chunk:u},d)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:e,targetName:s,stream:xi.CLOSE,streamId:t}),delete a.streamSinks[t])},error(u){Oi(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,i.postMessage({sourceName:e,targetName:s,stream:xi.ERROR,streamId:t,reason:rl(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:r.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,new Promise(function(u){u(o(r.data,c))}).then(function(){i.postMessage({sourceName:e,targetName:s,stream:xi.START_COMPLETE,streamId:t,success:!0})},function(u){i.postMessage({sourceName:e,targetName:s,stream:xi.START_COMPLETE,streamId:t,reason:rl(u)})})},gk=function(r){const t=r.streamId,e=this.sourceName,s=r.sourceName,i=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(r.stream){case xi.START_COMPLETE:r.success?a.startCall.resolve():a.startCall.reject(rl(r.reason));break;case xi.PULL_COMPLETE:r.success?a.pullCall.resolve():a.pullCall.reject(rl(r.reason));break;case xi.PULL:if(!o){i.postMessage({sourceName:e,targetName:s,stream:xi.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&r.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=r.desiredSize,new Promise(function(c){var u;c((u=o.onPull)==null?void 0:u.call(o))}).then(function(){i.postMessage({sourceName:e,targetName:s,stream:xi.PULL_COMPLETE,streamId:t,success:!0})},function(c){i.postMessage({sourceName:e,targetName:s,stream:xi.PULL_COMPLETE,streamId:t,reason:rl(c)})});break;case xi.ENQUEUE:if(Oi(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(r.chunk);break;case xi.CLOSE:if(Oi(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),Ce(this,zu,hx).call(this,a,t);break;case xi.ERROR:Oi(a,"error should have stream controller"),a.controller.error(rl(r.reason)),Ce(this,zu,hx).call(this,a,t);break;case xi.CANCEL_COMPLETE:r.success?a.cancelCall.resolve():a.cancelCall.reject(rl(r.reason)),Ce(this,zu,hx).call(this,a,t);break;case xi.CANCEL:if(!o)break;new Promise(function(c){var u;c((u=o.onCancel)==null?void 0:u.call(o,rl(r.reason)))}).then(function(){i.postMessage({sourceName:e,targetName:s,stream:xi.CANCEL_COMPLETE,streamId:t,success:!0})},function(c){i.postMessage({sourceName:e,targetName:s,stream:xi.CANCEL_COMPLETE,streamId:t,reason:rl(c)})}),o.sinkCapability.reject(rl(r.reason)),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},hx=async function(r,t){var e,s,i;await Promise.allSettled([(e=r.startCall)==null?void 0:e.promise,(s=r.pullCall)==null?void 0:s.promise,(i=r.cancelCall)==null?void 0:i.promise]),delete this.streamControllers[t]};var $p,gv;class A${constructor({parsedData:r,rawData:t}){De(this,$p);De(this,gv);Ne(this,$p,r),Ne(this,gv,t)}getRaw(){return K(this,gv)}get(r){return K(this,$p).get(r)??null}getAll(){return j8(K(this,$p))}has(r){return K(this,$p).has(r)}}$p=new WeakMap,gv=new WeakMap;const Yh=Symbol("INTERNAL");var bv,vv,yv,m1;class k${constructor(r,{name:t,intent:e,usage:s}){De(this,bv,!1);De(this,vv,!1);De(this,yv,!1);De(this,m1,!0);Ne(this,bv,!!(r&Wl.DISPLAY)),Ne(this,vv,!!(r&Wl.PRINT)),this.name=t,this.intent=e,this.usage=s}get visible(){if(K(this,yv))return K(this,m1);if(!K(this,m1))return!1;const{print:r,view:t}=this.usage;return K(this,bv)?(t==null?void 0:t.viewState)!=="OFF":K(this,vv)?(r==null?void 0:r.printState)!=="OFF":!0}_setVisible(r,t,e=!1){r!==Yh&&ss("Internal method `_setVisible` called."),Ne(this,yv,e),Ne(this,m1,t)}}bv=new WeakMap,vv=new WeakMap,yv=new WeakMap,m1=new WeakMap;var af,ns,g1,b1,xv,i4;class C${constructor(r,t=Wl.DISPLAY){De(this,xv);De(this,af,null);De(this,ns,new Map);De(this,g1,null);De(this,b1,null);if(this.renderingIntent=t,this.name=null,this.creator=null,r!==null){this.name=r.name,this.creator=r.creator,Ne(this,b1,r.order);for(const e of r.groups)K(this,ns).set(e.id,new k$(t,e));if(r.baseState==="OFF")for(const e of K(this,ns).values())e._setVisible(Yh,!1);for(const e of r.on)K(this,ns).get(e)._setVisible(Yh,!0);for(const e of r.off)K(this,ns).get(e)._setVisible(Yh,!1);Ne(this,g1,this.getHash())}}isVisible(r){if(K(this,ns).size===0)return!0;if(!r)return n5("Optional content group not defined."),!0;if(r.type==="OCG")return K(this,ns).has(r.id)?K(this,ns).get(r.id).visible:(cn(`Optional content group not found: ${r.id}`),!0);if(r.type==="OCMD"){if(r.expression)return Ce(this,xv,i4).call(this,r.expression);if(!r.policy||r.policy==="AnyOn"){for(const t of r.ids){if(!K(this,ns).has(t))return cn(`Optional content group not found: ${t}`),!0;if(K(this,ns).get(t).visible)return!0}return!1}else if(r.policy==="AllOn"){for(const t of r.ids){if(!K(this,ns).has(t))return cn(`Optional content group not found: ${t}`),!0;if(!K(this,ns).get(t).visible)return!1}return!0}else if(r.policy==="AnyOff"){for(const t of r.ids){if(!K(this,ns).has(t))return cn(`Optional content group not found: ${t}`),!0;if(!K(this,ns).get(t).visible)return!0}return!1}else if(r.policy==="AllOff"){for(const t of r.ids){if(!K(this,ns).has(t))return cn(`Optional content group not found: ${t}`),!0;if(K(this,ns).get(t).visible)return!1}return!0}return cn(`Unknown optional content policy ${r.policy}.`),!0}return cn(`Unknown group type ${r.type}.`),!0}setVisibility(r,t=!0){const e=K(this,ns).get(r);if(!e){cn(`Optional content group not found: ${r}`);return}e._setVisible(Yh,!!t,!0),Ne(this,af,null)}setOCGState({state:r,preserveRB:t}){let e;for(const s of r){switch(s){case"ON":case"OFF":case"Toggle":e=s;continue}const i=K(this,ns).get(s);if(i)switch(e){case"ON":i._setVisible(Yh,!0);break;case"OFF":i._setVisible(Yh,!1);break;case"Toggle":i._setVisible(Yh,!i.visible);break}}Ne(this,af,null)}get hasInitialVisibility(){return K(this,g1)===null||this.getHash()===K(this,g1)}getOrder(){return K(this,ns).size?K(this,b1)?K(this,b1).slice():[...K(this,ns).keys()]:null}getGroups(){return K(this,ns).size>0?j8(K(this,ns)):null}getGroup(r){return K(this,ns).get(r)||null}getHash(){if(K(this,af)!==null)return K(this,af);const r=new dk;for(const[t,e]of K(this,ns))r.update(`${t}:${e.visible}`);return Ne(this,af,r.hexdigest())}}af=new WeakMap,ns=new WeakMap,g1=new WeakMap,b1=new WeakMap,xv=new WeakSet,i4=function(r){const t=r.length;if(t<2)return!0;const e=r[0];for(let s=1;s<t;s++){const i=r[s];let a;if(Array.isArray(i))a=Ce(this,xv,i4).call(this,i);else if(K(this,ns).has(i))a=K(this,ns).get(i).visible;else return cn(`Optional content group not found: ${i}`),!0;switch(e){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return e==="And"};class T${constructor(r,{disableRange:t=!1,disableStream:e=!1}){Oi(r,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:i,progressiveDone:a,contentDispositionFilename:o}=r;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(i==null?void 0:i.length)>0){const c=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=r,this._isStreamingSupported=!e,this._isRangeSupported=!t,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],r.addRangeListener((c,u)=>{this._onReceiveData({begin:c,chunk:u})}),r.addProgressListener((c,u)=>{this._onProgress({loaded:c,total:u})}),r.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),r.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),r.transportReady()}_onReceiveData({begin:r,chunk:t}){const e=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(r===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(e):this._queuedChunks.push(e);else{const s=this._rangeReaders.some(function(i){return i._begin!==r?!1:(i._enqueue(e),!0)});Oi(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var r;return((r=this._fullRequestReader)==null?void 0:r._loaded)??0}_onProgress(r){var t,e,s,i;r.total===void 0?(e=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||e.call(t,{loaded:r.loaded}):(i=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||i.call(s,{loaded:r.loaded,total:r.total})}_onProgressiveDone(){var r;(r=this._fullRequestReader)==null||r.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(r){const t=this._rangeReaders.indexOf(r);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Oi(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const r=this._queuedChunks;return this._queuedChunks=null,new D$(this,r,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(r,t){if(t<=this._progressiveDataLength)return null;const e=new I$(this,r,t);return this._pdfDataRangeTransport.requestDataRange(r,t),this._rangeReaders.push(e),e}cancelAllRequests(r){var t;(t=this._fullRequestReader)==null||t.cancel(r);for(const e of this._rangeReaders.slice(0))e.cancel(r);this._pdfDataRangeTransport.abort()}}class D${constructor(r,t,e=!1,s=null){this._stream=r,this._done=e||!1,this._filename=F8(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),r._fullRequestReader=this,this.onProgress=null}_enqueue(r){this._done||(this._requests.length>0?this._requests.shift().resolve({value:r,done:!1}):this._queuedChunks.push(r),this._loaded+=r.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const r=Promise.withResolvers();return this._requests.push(r),r.promise}cancel(r){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class I${constructor(r,t,e){this._stream=r,this._begin=t,this._end=e,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(r){if(!this._done){if(this._requests.length===0)this._queuedChunk=r;else{this._requests.shift().resolve({value:r,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const r=Promise.withResolvers();return this._requests.push(r),r.promise}cancel(r){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function P$(n){let r=!0,t=e("filename\\*","i").exec(n);if(t){t=t[1];let l=o(t);return l=unescape(l),l=c(l),l=u(l),i(l)}if(t=a(n),t){const l=u(t);return i(l)}if(t=e("filename","i").exec(n),t){t=t[1];let l=o(t);return l=u(l),i(l)}function e(l,d){return new RegExp("(?:^|;)\\s*"+l+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function s(l,d){if(l){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(l,{fatal:!0}),h=i5(d);d=f.decode(h),r=!1}catch{}}return d}function i(l){return r&&/[\x80-\xff]/.test(l)&&(l=s("utf-8",l),r&&(l=s("iso-8859-1",l))),l}function a(l){const d=[];let f;const h=e("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=h.exec(l))!==null;){let[,g,v,m]=f;if(g=parseInt(g,10),g in d){if(g===0)break;continue}d[g]=[v,m]}const p=[];for(let g=0;g<d.length&&g in d;++g){let[v,m]=d[g];m=o(m),v&&(m=unescape(m),g===0&&(m=c(m))),p.push(m)}return p.join("")}function o(l){if(l.startsWith('"')){const d=l.slice(1).split('\\"');for(let f=0;f<d.length;++f){const h=d[f].indexOf('"');h!==-1&&(d[f]=d[f].slice(0,h),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}l=d.join('"')}return l}function c(l){const d=l.indexOf("'");if(d===-1)return l;const f=l.slice(0,d),p=l.slice(d+1).replace(/^[^']*'/,"");return s(f,p)}function u(l){return!l.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(l)?l:l.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,h,p){if(h==="q"||h==="Q")return p=p.replaceAll("_"," "),p=p.replaceAll(/=([0-9a-fA-F]{2})/g,function(g,v){return String.fromCharCode(parseInt(v,16))}),s(f,p);try{p=atob(p)}catch{}return s(f,p)})}return""}function H8({getResponseHeader:n,isHttp:r,rangeChunkSize:t,disableRange:e}){const s={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(n("Content-Length"),10);return!Number.isInteger(i)||(s.suggestedLength=i,i<=2*t)||e||!r||n("Accept-Ranges")!=="bytes"||(n("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function q8(n){const r=n("Content-Disposition");if(r){let t=P$(r);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(F8(t))return t}return null}function u5(n,r){return n===404||n===0&&r.startsWith("file:")?new Qm('Missing PDF "'+r+'".'):new s5(`Unexpected server response (${n}) while retrieving PDF "${r}".`,n)}function bk(n){return n===200||n===206}function vk(n,r,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:r?"include":"same-origin",redirect:"follow"}}function yk(n){const r=new Headers;for(const t in n){const e=n[t];e!==void 0&&r.append(t,e)}return r}function xk(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(cn(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class o3{constructor(r){this.source=r,this.isHttp=/^https?:/i.test(r.url),this.httpHeaders=this.isHttp&&r.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var r;return((r=this._fullRequestReader)==null?void 0:r._loaded)??0}getFullReader(){return Oi(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new j$(this),this._fullRequestReader}getRangeReader(r,t){if(t<=this._progressiveDataLength)return null;const e=new R$(this,r,t);return this._rangeRequestReaders.push(e),e}cancelAllRequests(r){var t;(t=this._fullRequestReader)==null||t.cancel(r);for(const e of this._rangeRequestReaders.slice(0))e.cancel(r)}}class j${constructor(r){this._stream=r,this._reader=null,this._loaded=0,this._filename=null;const t=r.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=yk(this._stream.httpHeaders);const e=t.url;fetch(e,vk(this._headers,this._withCredentials,this._abortController)).then(s=>{if(!bk(s.status))throw u5(s.status,e);this._reader=s.body.getReader(),this._headersCapability.resolve();const i=c=>s.headers.get(c),{allowRangeRequests:a,suggestedLength:o}=H8({getResponseHeader:i,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=o||this._contentLength,this._filename=q8(i),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new e0("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._headersCapability.promise;const{value:r,done:t}=await this._reader.read();return t?{value:r,done:t}:(this._loaded+=r.byteLength,(e=this.onProgress)==null||e.call(this,{loaded:this._loaded,total:this._contentLength}),{value:xk(r),done:!1})}cancel(r){var t;(t=this._reader)==null||t.cancel(r),this._abortController.abort()}}class R${constructor(r,t,e){this._stream=r,this._reader=null,this._loaded=0;const s=r.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController,this._headers=yk(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${e-1}`);const i=s.url;fetch(i,vk(this._headers,this._withCredentials,this._abortController)).then(a=>{if(!bk(a.status))throw u5(a.status,i);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._readCapability.promise;const{value:r,done:t}=await this._reader.read();return t?{value:r,done:t}:(this._loaded+=r.byteLength,(e=this.onProgress)==null||e.call(this,{loaded:this._loaded}),{value:xk(r),done:!1})}cancel(r){var t;(t=this._reader)==null||t.cancel(r),this._abortController.abort()}}const U6=200,H6=206;function M$(n){const r=n.response;return typeof r!="string"?r:i5(r).buffer}class L${constructor(r,t={}){this.url=r,this.isHttp=/^https?:/i.test(r),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(r,t,e){const s={begin:r,end:t};for(const i in e)s[i]=e[i];return this.request(s)}requestFull(r){return this.request(r)}request(r){const t=new XMLHttpRequest,e=this.currXhrId++,s=this.pendingRequests[e]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const i in this.httpHeaders){const a=this.httpHeaders[i];a!==void 0&&t.setRequestHeader(i,a)}return this.isHttp&&"begin"in r&&"end"in r?(t.setRequestHeader("Range",`bytes=${r.begin}-${r.end-1}`),s.expectedStatus=H6):s.expectedStatus=U6,t.responseType="arraybuffer",r.onError&&(t.onerror=function(i){r.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,e),t.onprogress=this.onProgress.bind(this,e),s.onHeadersReceived=r.onHeadersReceived,s.onDone=r.onDone,s.onError=r.onError,s.onProgress=r.onProgress,t.send(null),e}onProgress(r,t){var s;const e=this.pendingRequests[r];e&&((s=e.onProgress)==null||s.call(e,t))}onStateChange(r,t){var c,u,l;const e=this.pendingRequests[r];if(!e)return;const s=e.xhr;if(s.readyState>=2&&e.onHeadersReceived&&(e.onHeadersReceived(),delete e.onHeadersReceived),s.readyState!==4||!(r in this.pendingRequests))return;if(delete this.pendingRequests[r],s.status===0&&this.isHttp){(c=e.onError)==null||c.call(e,s.status);return}const i=s.status||U6;if(!(i===U6&&e.expectedStatus===H6)&&i!==e.expectedStatus){(u=e.onError)==null||u.call(e,s.status);return}const o=M$(s);if(i===H6){const d=s.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);e.onDone({begin:parseInt(f[1],10),chunk:o})}else o?e.onDone({begin:0,chunk:o}):(l=e.onError)==null||l.call(e,s.status)}getRequestXhr(r){return this.pendingRequests[r].xhr}isPendingRequest(r){return r in this.pendingRequests}abortRequest(r){const t=this.pendingRequests[r].xhr;delete this.pendingRequests[r],t.abort()}}class O${constructor(r){this._source=r,this._manager=new L$(r.url,{httpHeaders:r.httpHeaders,withCredentials:r.withCredentials}),this._rangeChunkSize=r.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(r){const t=this._rangeRequestReaders.indexOf(r);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Oi(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new F$(this._manager,this._source),this._fullRequestReader}getRangeReader(r,t){const e=new B$(this._manager,r,t);return e.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(e),e}cancelAllRequests(r){var t;(t=this._fullRequestReader)==null||t.cancel(r);for(const e of this._rangeRequestReaders.slice(0))e.cancel(r)}}class F${constructor(r,t){this._manager=r;const e={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=r.requestFull(e),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const r=this._fullRequestId,t=this._manager.getRequestXhr(r),e=a=>t.getResponseHeader(a),{allowRangeRequests:s,suggestedLength:i}=H8({getResponseHeader:e,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=i||this._contentLength,this._filename=q8(e),this._isRangeSupported&&this._manager.abortRequest(r),this._headersReceivedCapability.resolve()}_onDone(r){if(r&&(this._requests.length>0?this._requests.shift().resolve({value:r.chunk,done:!1}):this._cachedChunks.push(r.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(r){this._storedError=u5(r,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(r){var t;(t=this.onProgress)==null||t.call(this,{loaded:r.loaded,total:r.lengthComputable?r.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const r=Promise.withResolvers();return this._requests.push(r),r.promise}cancel(r){this._done=!0,this._headersReceivedCapability.reject(r);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class B${constructor(r,t,e){this._manager=r;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=r.url,this._requestId=r.requestRange(t,e,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var r;(r=this.onClosed)==null||r.call(this,this)}_onDone(r){const t=r.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(r){this._storedError=u5(r,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(r){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:r.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const r=Promise.withResolvers();return this._requests.push(r),r.promise}cancel(r){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const wk=/^file:\/\/\/[a-zA-Z]:\//;function U$(n){const r=Gu.get("url"),t=r.parse(n);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(n)?r.parse(`file:///${n}`):(t.host||(t.protocol="file:"),t)}class H${constructor(r){this.source=r,this.url=U$(r.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&r.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var r;return((r=this._fullRequestReader)==null?void 0:r._loaded)??0}getFullReader(){return Oi(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new z$(this):new q$(this),this._fullRequestReader}getRangeReader(r,t){if(t<=this._progressiveDataLength)return null;const e=this.isFsUrl?new V$(this,r,t):new W$(this,r,t);return this._rangeRequestReaders.push(e),e}cancelAllRequests(r){var t;(t=this._fullRequestReader)==null||t.cancel(r);for(const e of this._rangeRequestReaders.slice(0))e.cancel(r)}}class _k{constructor(r){this._url=r.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=r.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const r=this._readableStream.read();return r===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=r.length,(e=this.onProgress)==null||e.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(r).buffer,done:!1})}cancel(r){if(!this._readableStream){this._error(r);return}this._readableStream.destroy(r)}_error(r){this._storedError=r,this._readCapability.resolve()}_setReadableStream(r){this._readableStream=r,r.on("readable",()=>{this._readCapability.resolve()}),r.on("end",()=>{r.destroy(),this._done=!0,this._readCapability.resolve()}),r.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new e0("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Sk{constructor(r){this._url=r.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=r.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const r=this._readableStream.read();return r===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=r.length,(e=this.onProgress)==null||e.call(this,{loaded:this._loaded}),{value:new Uint8Array(r).buffer,done:!1})}cancel(r){if(!this._readableStream){this._error(r);return}this._readableStream.destroy(r)}_error(r){this._storedError=r,this._readCapability.resolve()}_setReadableStream(r){this._readableStream=r,r.on("readable",()=>{this._readCapability.resolve()}),r.on("end",()=>{r.destroy(),this._done=!0,this._readCapability.resolve()}),r.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function nw(n,r){return{protocol:n.protocol,auth:n.auth,host:n.hostname,port:n.port,path:n.path,method:"GET",headers:r}}class q$ extends _k{constructor(r){super(r);const t=e=>{if(e.statusCode===404){const o=new Qm(`Missing PDF "${this._url}".`);this._storedError=o,this._headersCapability.reject(o);return}this._headersCapability.resolve(),this._setReadableStream(e);const s=o=>this._readableStream.headers[o.toLowerCase()],{allowRangeRequests:i,suggestedLength:a}=H8({getResponseHeader:s,isHttp:r.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=a||this._contentLength,this._filename=q8(s)};if(this._request=null,this._url.protocol==="http:"){const e=Gu.get("http");this._request=e.request(nw(this._url,r.httpHeaders),t)}else{const e=Gu.get("https");this._request=e.request(nw(this._url,r.httpHeaders),t)}this._request.on("error",e=>{this._storedError=e,this._headersCapability.reject(e)}),this._request.end()}}class W$ extends Sk{constructor(r,t,e){super(r),this._httpHeaders={};for(const i in r.httpHeaders){const a=r.httpHeaders[i];a!==void 0&&(this._httpHeaders[i]=a)}this._httpHeaders.Range=`bytes=${t}-${e-1}`;const s=i=>{if(i.statusCode===404){const a=new Qm(`Missing PDF "${this._url}".`);this._storedError=a;return}this._setReadableStream(i)};if(this._request=null,this._url.protocol==="http:"){const i=Gu.get("http");this._request=i.request(nw(this._url,this._httpHeaders),s)}else{const i=Gu.get("https");this._request=i.request(nw(this._url,this._httpHeaders),s)}this._request.on("error",i=>{this._storedError=i}),this._request.end()}}class z$ extends _k{constructor(r){super(r);let t=decodeURIComponent(this._url.path);wk.test(this._url.href)&&(t=t.replace(/^\//,""));const e=Gu.get("fs");e.promises.lstat(t).then(s=>{this._contentLength=s.size,this._setReadableStream(e.createReadStream(t)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new Qm(`Missing PDF "${t}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class V$ extends Sk{constructor(r,t,e){super(r);let s=decodeURIComponent(this._url.path);wk.test(this._url.href)&&(s=s.replace(/^\//,""));const i=Gu.get("fs");this._setReadableStream(i.createReadStream(s,{start:t,end:e-1}))}}const $$=1e5,Io=30,G$=.8;var ON,of,jo,wv,_v,Gp,Yd,Sv,Ev,Yp,v1,y1,lf,x1,Nv,w1,Xp,Av,kv,Ri,Kp,Jp,cf,_1,Sh,Ek,Nk,a4,Vu,fx,Ak,kk;let sw=(Ri=class{constructor({textContentSource:r,container:t,viewport:e}){De(this,Sh);De(this,of,Promise.withResolvers());De(this,jo,null);De(this,wv,!1);De(this,_v,!!((ON=globalThis.FontInspector)!=null&&ON.enabled));De(this,Gp,null);De(this,Yd,null);De(this,Sv,0);De(this,Ev,0);De(this,Yp,null);De(this,v1,null);De(this,y1,0);De(this,lf,0);De(this,x1,Object.create(null));De(this,Nv,[]);De(this,w1,null);De(this,Xp,[]);De(this,Av,new WeakMap);De(this,kv,null);var c;if(r instanceof ReadableStream)Ne(this,w1,r);else if(typeof r=="object")Ne(this,w1,new ReadableStream({start(u){u.enqueue(r),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');Ne(this,jo,Ne(this,v1,t)),Ne(this,lf,e.scale*(globalThis.devicePixelRatio||1)),Ne(this,y1,e.rotation),Ne(this,Yd,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:i,pageX:a,pageY:o}=e.rawDims;Ne(this,kv,[1,0,0,-1,-a,o+i]),Ne(this,Ev,s),Ne(this,Sv,i),Ce(c=Ri,Vu,Ak).call(c),Lm(t,e),K(this,of).promise.catch(()=>{}).then(()=>{K(Ri,_1).delete(this),Ne(this,Yd,null),Ne(this,x1,null)})}render(){const r=()=>{K(this,Yp).read().then(({value:t,done:e})=>{if(e){K(this,of).resolve();return}K(this,Gp)??Ne(this,Gp,t.lang),Object.assign(K(this,x1),t.styles),Ce(this,Sh,Ek).call(this,t.items),r()},K(this,of).reject)};return Ne(this,Yp,K(this,w1).getReader()),K(Ri,_1).add(this),r(),K(this,of).promise}update({viewport:r,onBefore:t=null}){var i;const e=r.scale*(globalThis.devicePixelRatio||1),s=r.rotation;if(s!==K(this,y1)&&(t==null||t(),Ne(this,y1,s),Lm(K(this,v1),{rotation:s})),e!==K(this,lf)){t==null||t(),Ne(this,lf,e);const a={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:Ce(i=Ri,Vu,fx).call(i,K(this,Gp))};for(const o of K(this,Xp))a.properties=K(this,Av).get(o),a.div=o,Ce(this,Sh,a4).call(this,a)}}cancel(){var t;const r=new e0("TextLayer task cancelled.");(t=K(this,Yp))==null||t.cancel(r).catch(()=>{}),Ne(this,Yp,null),K(this,of).reject(r)}get textDivs(){return K(this,Xp)}get textContentItemsStr(){return K(this,Nv)}static cleanup(){if(!(K(this,_1).size>0)){K(this,Kp).clear();for(const{canvas:r}of K(this,Jp).values())r.remove();K(this,Jp).clear()}}},of=new WeakMap,jo=new WeakMap,wv=new WeakMap,_v=new WeakMap,Gp=new WeakMap,Yd=new WeakMap,Sv=new WeakMap,Ev=new WeakMap,Yp=new WeakMap,v1=new WeakMap,y1=new WeakMap,lf=new WeakMap,x1=new WeakMap,Nv=new WeakMap,w1=new WeakMap,Xp=new WeakMap,Av=new WeakMap,kv=new WeakMap,Kp=new WeakMap,Jp=new WeakMap,cf=new WeakMap,_1=new WeakMap,Sh=new WeakSet,Ek=function(r){var s,i;if(K(this,wv))return;(i=K(this,Yd)).ctx??(i.ctx=Ce(s=Ri,Vu,fx).call(s,K(this,Gp)));const t=K(this,Xp),e=K(this,Nv);for(const a of r){if(t.length>$$){cn("Ignoring additional textDivs for performance reasons."),Ne(this,wv,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=K(this,jo);Ne(this,jo,document.createElement("span")),K(this,jo).classList.add("markedContent"),a.id!==null&&K(this,jo).setAttribute("id",`${a.id}`),o.append(K(this,jo))}else a.type==="endMarkedContent"&&Ne(this,jo,K(this,jo).parentNode);continue}e.push(a.str),Ce(this,Sh,Nk).call(this,a)}},Nk=function(r){var g;const t=document.createElement("span"),e={angle:0,canvasWidth:0,hasText:r.str!=="",hasEOL:r.hasEOL,fontSize:0};K(this,Xp).push(t);const s=yr.transform(K(this,kv),r.transform);let i=Math.atan2(s[1],s[0]);const a=K(this,x1)[r.fontName];a.vertical&&(i+=Math.PI/2);const o=K(this,_v)&&a.fontSubstitution||a.fontFamily,c=Math.hypot(s[2],s[3]),u=c*Ce(g=Ri,Vu,kk).call(g,o,K(this,Gp));let l,d;i===0?(l=s[4],d=s[5]-u):(l=s[4]+u*Math.sin(i),d=s[5]-u*Math.cos(i));const f="calc(var(--scale-factor)*",h=t.style;K(this,jo)===K(this,v1)?(h.left=`${(100*l/K(this,Ev)).toFixed(2)}%`,h.top=`${(100*d/K(this,Sv)).toFixed(2)}%`):(h.left=`${f}${l.toFixed(2)}px)`,h.top=`${f}${d.toFixed(2)}px)`),h.fontSize=`${f}${(K(Ri,cf)*c).toFixed(2)}px)`,h.fontFamily=o,e.fontSize=c,t.setAttribute("role","presentation"),t.textContent=r.str,t.dir=r.dir,K(this,_v)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||r.fontName),i!==0&&(e.angle=i*(180/Math.PI));let p=!1;if(r.str.length>1)p=!0;else if(r.str!==" "&&r.transform[0]!==r.transform[3]){const v=Math.abs(r.transform[0]),m=Math.abs(r.transform[3]);v!==m&&Math.max(v,m)/Math.min(v,m)>1.5&&(p=!0)}if(p&&(e.canvasWidth=a.vertical?r.height:r.width),K(this,Av).set(t,e),K(this,Yd).div=t,K(this,Yd).properties=e,Ce(this,Sh,a4).call(this,K(this,Yd)),e.hasText&&K(this,jo).append(t),e.hasEOL){const v=document.createElement("br");v.setAttribute("role","presentation"),K(this,jo).append(v)}},a4=function(r){const{div:t,properties:e,ctx:s,prevFontSize:i,prevFontFamily:a}=r,{style:o}=t;let c="";if(K(Ri,cf)>1&&(c=`scale(${1/K(Ri,cf)})`),e.canvasWidth!==0&&e.hasText){const{fontFamily:u}=o,{canvasWidth:l,fontSize:d}=e;(i!==d||a!==u)&&(s.font=`${d*K(this,lf)}px ${u}`,r.prevFontSize=d,r.prevFontFamily=u);const{width:f}=s.measureText(t.textContent);f>0&&(c=`scaleX(${l*K(this,lf)/f}) ${c}`)}e.angle!==0&&(c=`rotate(${e.angle}deg) ${c}`),c.length>0&&(o.transform=c)},Vu=new WeakSet,fx=function(r=null){let t=K(this,Jp).get(r||(r=""));if(!t){const e=document.createElement("canvas");e.className="hiddenCanvasElement",e.lang=r,document.body.append(e),t=e.getContext("2d",{alpha:!1,willReadFrequently:!0}),K(this,Jp).set(r,t)}return t},Ak=function(){if(K(this,cf)!==null)return;const r=document.createElement("div");r.style.opacity=0,r.style.lineHeight=1,r.style.fontSize="1px",r.textContent="X",document.body.append(r),Ne(this,cf,r.getBoundingClientRect().height),r.remove()},kk=function(r,t){const e=K(this,Kp).get(r);if(e)return e;const s=Ce(this,Vu,fx).call(this,t),i=s.font;s.canvas.width=s.canvas.height=Io,s.font=`${Io}px ${r}`;const a=s.measureText("");let o=a.fontBoundingBoxAscent,c=Math.abs(a.fontBoundingBoxDescent);if(o){const d=o/(o+c);return K(this,Kp).set(r,d),s.canvas.width=s.canvas.height=0,s.font=i,d}s.strokeStyle="red",s.clearRect(0,0,Io,Io),s.strokeText("g",0,0);let u=s.getImageData(0,0,Io,Io).data;c=0;for(let d=u.length-1-3;d>=0;d-=4)if(u[d]>0){c=Math.ceil(d/4/Io);break}s.clearRect(0,0,Io,Io),s.strokeText("A",0,Io),u=s.getImageData(0,0,Io,Io).data,o=0;for(let d=0,f=u.length;d<f;d+=4)if(u[d]>0){o=Io-Math.floor(d/4/Io);break}s.canvas.width=s.canvas.height=0,s.font=i;const l=o?o/(o+c):G$;return K(this,Kp).set(r,l),l},De(Ri,Vu),De(Ri,Kp,new Map),De(Ri,Jp,new Map),De(Ri,cf,null),De(Ri,_1,new Set),Ri);function Y$(){B9("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:n,container:r,viewport:t,...e}=arguments[0],s=Object.keys(e);s.length>0&&cn("Ignoring `renderTextLayer` parameters: "+s.join(", "));const i=new sw({textContentSource:n,container:r,viewport:t}),{textDivs:a,textContentItemsStr:o}=i;return{promise:i.render(),textDivs:a,textContentItemsStr:o}}function X$(){B9("`updateTextLayer`, please use `TextLayer` instead.")}class Db{static textContent(r){const t=[],e={items:t,styles:Object.create(null)};function s(i){var c;if(!i)return;let a=null;const o=i.name;if(o==="#text")a=i.value;else if(Db.shouldBuildText(o))(c=i==null?void 0:i.attributes)!=null&&c.textContent?a=i.attributes.textContent:i.value&&(a=i.value);else return;if(a!==null&&t.push({str:a}),!!i.children)for(const u of i.children)s(u)}return s(r),e}static shouldBuildText(r){return!(r==="textarea"||r==="input"||r==="option"||r==="select")}}const K$=65536,J$=100,Z$=5e3,Q$=Wa?u$:JV,eG=Wa?d$:O9,tG=Wa?c$:KV,rG=Wa?h$:F9;function nG(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const r=new o4,{docId:t}=r,e=n.url?sG(n.url):null,s=n.data?iG(n.data):null,i=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,c=n.range instanceof Ck?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:K$;let l=n.worker instanceof K0?n.worker:null;const d=n.verbosity,f=typeof n.docBaseUrl=="string"&&!O8(n.docBaseUrl)?n.docBaseUrl:null,h=typeof n.cMapUrl=="string"?n.cMapUrl:null,p=n.cMapPacked!==!1,g=n.CMapReaderFactory||eG,v=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,m=n.StandardFontDataFactory||rG,x=n.stopAtErrors!==!0,y=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,w=n.isEvalSupported!==!1,E=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Wa,I=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,T=typeof n.disableFontFace=="boolean"?n.disableFontFace:Wa,R=n.fontExtraProperties===!0,D=n.enableXfa===!0,L=n.ownerDocument||globalThis.document,M=n.disableRange===!0,H=n.disableStream===!0,V=n.disableAutoFetch===!0,P=n.pdfBug===!0,F=n.enableHWA===!0,A=c?c.length:n.length??NaN,_=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Wa&&!T,S=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:g===O9&&m===F9&&h&&v&&Wg(h,document.baseURI)&&Wg(v,document.baseURI),N=n.canvasFactory||new Q$({ownerDocument:L,enableHWA:F}),C=n.filterFactory||new tG({docId:t,ownerDocument:L}),W=null;BV(d);const j={canvasFactory:N,filterFactory:C};if(S||(j.cMapReaderFactory=new g({baseUrl:h,isCompressed:p}),j.standardFontDataFactory=new m({baseUrl:v})),!l){const X={verbosity:d,port:ph.workerPort};l=X.port?K0.fromPort(X):new K0(X),r._worker=l}const B={docId:t,apiVersion:"4.4.168",data:s,password:o,disableAutoFetch:V,rangeChunkSize:u,length:A,docBaseUrl:f,enableXfa:D,evaluatorOptions:{maxImageSize:y,disableFontFace:T,ignoreErrors:x,isEvalSupported:w,isOffscreenCanvasSupported:E,canvasMaxAreaInBytes:I,fontExtraProperties:R,useSystemFonts:_,cMapUrl:S?h:null,standardFontDataUrl:S?v:null}},G={disableFontFace:T,fontExtraProperties:R,ownerDocument:L,pdfBug:P,styleElement:W,loadingParams:{disableAutoFetch:V,enableXfa:D}};return l.promise.then(function(){if(r.destroyed)throw new Error("Loading aborted");if(l.destroyed)throw new Error("Worker was destroyed");const X=l.messageHandler.sendWithPromise("GetDocRequest",B,s?[s.buffer]:null);let J;if(c)J=new T$(c,{disableRange:M,disableStream:H});else if(!s){if(!e)throw new Error("getDocument - no `url` parameter provided.");J=(ee=>Wa?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&Wg(ee.url)?new o3(ee):new H$(ee):Wg(ee.url)?new o3(ee):new O$(ee))({url:e,length:A,httpHeaders:i,withCredentials:a,rangeChunkSize:u,disableRange:M,disableStream:H})}return X.then(O=>{if(r.destroyed)throw new Error("Loading aborted");if(l.destroyed)throw new Error("Worker was destroyed");const ee=new $g(t,O,l.port),U=new cG(ee,r,J,G,j);r._transport=U,ee.send("Ready",null)})}).catch(r._capability.reject),r}function sG(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Wa&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function iG(n){if(Wa&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return i5(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function l3(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var Dw;const Iw=class Iw{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${tl(Iw,Dw)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var r,t,e;this.destroyed=!0;try{(r=this._worker)!=null&&r.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(e=this._worker)!=null&&e.port&&delete this._worker._pendingDestroy,s}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Dw=new WeakMap,De(Iw,Dw,0);let o4=Iw,Ck=class{constructor(r,t,e=!1,s=null){this.length=r,this.initialData=t,this.progressiveDone=e,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(r){this._rangeListeners.push(r)}addProgressListener(r){this._progressListeners.push(r)}addProgressiveReadListener(r){this._progressiveReadListeners.push(r)}addProgressiveDoneListener(r){this._progressiveDoneListeners.push(r)}onDataRange(r,t){for(const e of this._rangeListeners)e(r,t)}onDataProgress(r,t){this._readyCapability.promise.then(()=>{for(const e of this._progressListeners)e(r,t)})}onDataProgressiveRead(r){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(r)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const r of this._progressiveDoneListeners)r()})}transportReady(){this._readyCapability.resolve()}requestDataRange(r,t){ss("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class aG{constructor(r,t){this._pdfInfo=r,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return In(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(r){return this._transport.getPage(r)}getPageIndex(r){return this._transport.getPageIndex(r)}getDestinations(){return this._transport.getDestinations()}getDestination(r){return this._transport.getDestination(r)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:r="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(r);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(r=!1){return this._transport.startCleanup(r||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(r){return this._transport.cachedPageNumber(r)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var uf,Xd,zl,B0,px;class oG{constructor(r,t,e,s=!1){De(this,zl);De(this,uf,null);De(this,Xd,!1);this._pageIndex=r,this._pageInfo=t,this._transport=e,this._stats=s?new Y7:null,this._pdfBug=s,this.commonObjs=e.commonObjs,this.objs=new Tk,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:r,rotation:t=this.rotate,offsetX:e=0,offsetY:s=0,dontFlip:i=!1}={}){return new Ey({viewBox:this.view,scale:r,rotation:t,offsetX:e,offsetY:s,dontFlip:i})}getAnnotations({intent:r="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(r);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return In(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var r;return((r=this._transport._htmlForXfa)==null?void 0:r.children[this._pageIndex])||null}render({canvasContext:r,viewport:t,intent:e="display",annotationMode:s=Jh.ENABLE,transform:i=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:c=null,pageColors:u=null,printAnnotationStorage:l=null}){var y,w;(y=this._stats)==null||y.time("Overall");const d=this._transport.getRenderingIntent(e,s,l),{renderingIntent:f,cacheKey:h}=d;Ne(this,Xd,!1),Ce(this,zl,px).call(this),o||(o=this._transport.getOptionalContentConfig(f));let p=this._intentStates.get(h);p||(p=Object.create(null),this._intentStates.set(h,p)),p.streamReaderCancelTimeout&&(clearTimeout(p.streamReaderCancelTimeout),p.streamReaderCancelTimeout=null);const g=!!(f&Wl.PRINT);p.displayReadyCapability||(p.displayReadyCapability=Promise.withResolvers(),p.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(w=this._stats)==null||w.time("Page Request"),this._pumpOperatorList(d));const v=E=>{var I;p.renderTasks.delete(m),(this._maybeCleanupAfterRender||g)&&Ne(this,Xd,!0),Ce(this,zl,B0).call(this,!g),E?(m.capability.reject(E),this._abortOperatorList({intentState:p,reason:E instanceof Error?E:new Error(E)})):m.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(I=globalThis.Stats)!=null&&I.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},m=new c4({callback:v,params:{canvasContext:r,viewport:t,transform:i,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:p.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!g,pdfBug:this._pdfBug,pageColors:u});(p.renderTasks||(p.renderTasks=new Set)).add(m);const x=m.task;return Promise.all([p.displayReadyCapability.promise,o]).then(([E,I])=>{var T;if(this.destroyed){v();return}if((T=this._stats)==null||T.time("Rendering"),!(I.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");m.initializeGraphics({transparency:E,optionalContentConfig:I}),m.operatorListChanged()}).catch(v),x}getOperatorList({intent:r="display",annotationMode:t=Jh.ENABLE,printAnnotationStorage:e=null}={}){var c;function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(o))}const i=this._transport.getRenderingIntent(r,t,e,!0);let a=this._intentStates.get(i.cacheKey);a||(a=Object.create(null),this._intentStates.set(i.cacheKey,a));let o;return a.opListReadCapability||(o=Object.create(null),o.operatorListChanged=s,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(o),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(i)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:r=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:r===!0,disableNormalization:t===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(r={}){if(this._transport._htmlForXfa)return this.getXfa().then(e=>Db.textContent(e));const t=this.streamTextContent(r);return new Promise(function(e,s){function i(){a.read().then(function({value:c,done:u}){if(u){e(o);return}o.lang??(o.lang=c.lang),Object.assign(o.styles,c.styles),o.items.push(...c.items),i()},s)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};i()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const r=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const e of t.renderTasks)r.push(e.completed),e.cancel();return this.objs.clear(),Ne(this,Xd,!1),Ce(this,zl,px).call(this),Promise.all(r)}cleanup(r=!1){Ne(this,Xd,!0);const t=Ce(this,zl,B0).call(this,!1);return r&&t&&this._stats&&(this._stats=new Y7),t}_startRenderPage(r,t){var s,i;const e=this._intentStates.get(t);e&&((s=this._stats)==null||s.timeEnd("Page Request"),(i=e.displayReadyCapability)==null||i.resolve(r))}_renderPageChunk(r,t){for(let e=0,s=r.length;e<s;e++)t.operatorList.fnArray.push(r.fnArray[e]),t.operatorList.argsArray.push(r.argsArray[e]);t.operatorList.lastChunk=r.lastChunk,t.operatorList.separateAnnots=r.separateAnnots;for(const e of t.renderTasks)e.operatorListChanged();r.lastChunk&&Ce(this,zl,B0).call(this,!0)}_pumpOperatorList({renderingIntent:r,cacheKey:t,annotationStorageSerializable:e}){const{map:s,transfer:i}=e,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:r,cacheKey:t,annotationStorage:s},i).getReader(),c=this._intentStates.get(t);c.streamReader=o;const u=()=>{o.read().then(({value:l,done:d})=>{if(d){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(l,c),u())},l=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const d of c.renderTasks)d.operatorListChanged();Ce(this,zl,B0).call(this,!0)}if(c.displayReadyCapability)c.displayReadyCapability.reject(l);else if(c.opListReadCapability)c.opListReadCapability.reject(l);else throw l}})};u()}_abortOperatorList({intentState:r,reason:t,force:e=!1}){if(r.streamReader){if(r.streamReaderCancelTimeout&&(clearTimeout(r.streamReaderCancelTimeout),r.streamReaderCancelTimeout=null),!e){if(r.renderTasks.size>0)return;if(t instanceof L8){let s=J$;t.extraDelay>0&&t.extraDelay<1e3&&(s+=t.extraDelay),r.streamReaderCancelTimeout=setTimeout(()=>{r.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:r,reason:t,force:!0})},s);return}}if(r.streamReader.cancel(new e0(t.message)).catch(()=>{}),r.streamReader=null,!this._transport.destroyed){for(const[s,i]of this._intentStates)if(i===r){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}uf=new WeakMap,Xd=new WeakMap,zl=new WeakSet,B0=function(r=!1){if(Ce(this,zl,px).call(this),!K(this,Xd)||this.destroyed)return!1;if(r)return Ne(this,uf,setTimeout(()=>{Ne(this,uf,null),Ce(this,zl,B0).call(this,!1)},Z$)),!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Ne(this,Xd,!1),!0},px=function(){K(this,uf)&&(clearTimeout(K(this,uf)),Ne(this,uf,null))};var Zp,Pw;class lG{constructor(){De(this,Zp,new Set);De(this,Pw,Promise.resolve())}postMessage(r,t){const e={data:structuredClone(r,t?{transfer:t}:null)};K(this,Pw).then(()=>{for(const s of K(this,Zp))s.call(this,e)})}addEventListener(r,t){K(this,Zp).add(t)}removeEventListener(r,t){K(this,Zp).delete(t)}terminate(){K(this,Zp).clear()}}Zp=new WeakMap,Pw=new WeakMap;const Bd={isWorkerDisabled:!1,fakeWorkerId:0};Wa&&(Bd.isWorkerDisabled=!0,ph.workerSrc||(ph.workerSrc="./pdf.worker.mjs")),Bd.isSameOrigin=function(n,r){let t;try{if(t=new URL(n),!t.origin||t.origin==="null")return!1}catch{return!1}const e=new URL(r,t);return t.origin===e.origin},Bd.createCDNWrapper=function(n){const r=`await import("${n}");`;return URL.createObjectURL(new Blob([r],{type:"text/javascript"}))};var Qp,S1,mx,E1,gx;const nl=class nl{constructor({name:r=null,port:t=null,verbosity:e=UV()}={}){De(this,S1);var s;if(this.name=r,this.destroyed=!1,this.verbosity=e,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((s=K(nl,Qp))!=null&&s.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(K(nl,Qp)||Ne(nl,Qp,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return Wa?Promise.all([Gu.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(r){this._port=r,this._messageHandler=new $g("main","worker",r),this._messageHandler.on("ready",function(){}),Ce(this,S1,mx).call(this)}_initialize(){if(Bd.isWorkerDisabled||K(nl,E1,gx)){this._setupFakeWorker();return}let{workerSrc:r}=nl;try{Bd.isSameOrigin(window.location.href,r)||(r=Bd.createCDNWrapper(new URL(r,window.location).href));const t=new Worker(r,{type:"module"}),e=new $g("main","worker",t),s=()=>{i.abort(),e.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=new AbortController;t.addEventListener("error",()=>{this._webWorker||s()},{signal:i.signal}),e.on("test",o=>{if(i.abort(),this.destroyed||!o){s();return}this._messageHandler=e,this._port=t,this._webWorker=t,Ce(this,S1,mx).call(this)}),e.on("ready",o=>{if(i.abort(),this.destroyed){s();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const o=new Uint8Array;e.send("test",o,[o.buffer])};a();return}catch{n5("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){Bd.isWorkerDisabled||(cn("Setting up fake worker."),Bd.isWorkerDisabled=!0),nl._setupFakeWorkerGlobal.then(r=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new lG;this._port=t;const e=`fake${Bd.fakeWorkerId++}`,s=new $g(e+"_worker",e,t);r.setup(s,t),this._messageHandler=new $g(e,e+"_worker",t),Ce(this,S1,mx).call(this)}).catch(r=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${r.message}".`))})}destroy(){var r;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(r=K(nl,Qp))==null||r.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(r){var e;if(!(r!=null&&r.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(e=K(this,Qp))==null?void 0:e.get(r.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new nl(r)}static get workerSrc(){if(ph.workerSrc)return ph.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return In(this,"_setupFakeWorkerGlobal",(async()=>K(this,E1,gx)?K(this,E1,gx):(await import(this.workerSrc)).WorkerMessageHandler)())}};Qp=new WeakMap,S1=new WeakSet,mx=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},E1=new WeakSet,gx=function(){var r;try{return((r=globalThis.pdfjsWorker)==null?void 0:r.WorkerMessageHandler)||null}catch{return null}},De(nl,E1),De(nl,Qp);let K0=nl;var Kd,Eu,N1,A1,Nu,em,Gg;class cG{constructor(r,t,e,s,i){De(this,em);De(this,Kd,new Map);De(this,Eu,new Map);De(this,N1,new Map);De(this,A1,new Map);De(this,Nu,null);this.messageHandler=r,this.loadingTask=t,this.commonObjs=new Tk,this.fontLoader=new o$({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=e,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return In(this,"annotationStorage",new U8)}getRenderingIntent(r,t=Jh.ENABLE,e=null,s=!1){let i=Wl.DISPLAY,a=Q_;switch(r){case"any":i=Wl.ANY;break;case"display":break;case"print":i=Wl.PRINT;break;default:cn(`getRenderingIntent - invalid intent: ${r}`)}switch(t){case Jh.DISABLE:i+=Wl.ANNOTATIONS_DISABLE;break;case Jh.ENABLE:break;case Jh.ENABLE_FORMS:i+=Wl.ANNOTATIONS_FORMS;break;case Jh.ENABLE_STORAGE:i+=Wl.ANNOTATIONS_STORAGE,a=(i&Wl.PRINT&&e instanceof fk?e:this.annotationStorage).serializable;break;default:cn(`getRenderingIntent - invalid annotationMode: ${t}`)}return s&&(i+=Wl.OPLIST),{renderingIntent:i,cacheKey:`${i}_${a.hash}`,annotationStorageSerializable:a}}destroy(){var e;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(e=K(this,Nu))==null||e.reject(new Error("Worker was destroyed during onPassword callback"));const r=[];for(const s of K(this,Eu).values())r.push(s._destroy());K(this,Eu).clear(),K(this,N1).clear(),K(this,A1).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return r.push(t),Promise.all(r).then(()=>{var s;this.commonObjs.clear(),this.fontLoader.clear(),K(this,Kd).clear(),this.filterFactory.destroy(),sw.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new e0("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:r,loadingTask:t}=this;r.on("GetReader",(e,s)=>{Oi(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=i=>{this._lastProgress={loaded:i.loaded,total:i.total}},s.onPull=()=>{this._fullReader.read().then(function({value:i,done:a}){if(a){s.close();return}Oi(i instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(i),1,[i])}).catch(i=>{s.error(i)})},s.onCancel=i=>{this._fullReader.cancel(i),s.ready.catch(a=>{if(!this.destroyed)throw a})}}),r.on("ReaderHeadersReady",e=>{const s=Promise.withResolvers(),i=this._fullReader;return i.headersReady.then(()=>{var a;(!i.isStreamingSupported||!i.isRangeSupported)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),i.onProgress=o=>{var c;(c=t.onProgress)==null||c.call(t,{loaded:o.loaded,total:o.total})}),s.resolve({isStreamingSupported:i.isStreamingSupported,isRangeSupported:i.isRangeSupported,contentLength:i.contentLength})},s.reject),s.promise}),r.on("GetRangeReader",(e,s)=>{Oi(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const i=this._networkStream.getRangeReader(e.begin,e.end);if(!i){s.close();return}s.onPull=()=>{i.read().then(function({value:a,done:o}){if(o){s.close();return}Oi(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{s.error(a)})},s.onCancel=a=>{i.cancel(a),s.ready.catch(o=>{if(!this.destroyed)throw o})}}),r.on("GetDoc",({pdfInfo:e})=>{this._numPages=e.numPages,this._htmlForXfa=e.htmlForXfa,delete e.htmlForXfa,t._capability.resolve(new aG(e,this))}),r.on("DocException",function(e){let s;switch(e.name){case"PasswordException":s=new D_(e.message,e.code);break;case"InvalidPDFException":s=new j9(e.message);break;case"MissingPDFException":s=new Qm(e.message);break;case"UnexpectedResponseException":s=new s5(e.message,e.status);break;case"UnknownErrorException":s=new I_(e.message,e.details);break;default:ss("DocException - expected a valid Error.")}t._capability.reject(s)}),r.on("PasswordRequest",e=>{if(Ne(this,Nu,Promise.withResolvers()),t.onPassword){const s=i=>{i instanceof Error?K(this,Nu).reject(i):K(this,Nu).resolve({password:i})};try{t.onPassword(s,e.code)}catch(i){K(this,Nu).reject(i)}}else K(this,Nu).reject(new D_(e.message,e.code));return K(this,Nu).promise}),r.on("DataLoaded",e=>{var s;(s=t.onProgress)==null||s.call(t,{loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)}),r.on("StartRenderPage",e=>{if(this.destroyed)return;K(this,Eu).get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)}),r.on("commonobj",([e,s,i])=>{var a;if(this.destroyed||this.commonObjs.has(e))return null;switch(s){case"Font":const{disableFontFace:o,fontExtraProperties:c,pdfBug:u}=this._params;if("error"in i){const h=i.error;cn(`Error during font loading: ${h}`),this.commonObjs.resolve(e,h);break}const l=u&&((a=globalThis.FontInspector)!=null&&a.enabled)?(h,p)=>globalThis.FontInspector.fontAdded(h,p):null,d=new l$(i,{disableFontFace:o,inspectFont:l});this.fontLoader.bind(d).catch(()=>r.sendWithPromise("FontFallback",{id:e})).finally(()=>{!c&&d.data&&(d.data=null),this.commonObjs.resolve(e,d)});break;case"CopyLocalImage":const{imageRef:f}=i;Oi(f,"The imageRef must be defined.");for(const h of K(this,Eu).values())for(const[,p]of h.objs)if((p==null?void 0:p.ref)===f)return p.dataLen?(this.commonObjs.resolve(e,structuredClone(p)),p.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(e,i);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),r.on("obj",([e,s,i,a])=>{var c;if(this.destroyed)return;const o=K(this,Eu).get(s);if(!o.objs.has(e)){if(o._intentStates.size===0){(c=a==null?void 0:a.bitmap)==null||c.close();return}switch(i){case"Image":o.objs.resolve(e,a),(a==null?void 0:a.dataLen)>MV&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(e,a);break;default:throw new Error(`Got unknown object type ${i}`)}}}),r.on("DocProgress",e=>{var s;this.destroyed||(s=t.onProgress)==null||s.call(t,{loaded:e.loaded,total:e.total})}),r.on("FetchBuiltInCMap",e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),r.on("FetchStandardFontData",e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var e;this.annotationStorage.size<=0&&cn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:r,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:r,filename:((e=this._fullReader)==null?void 0:e.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(r){if(!Number.isInteger(r)||r<=0||r>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=r-1,e=K(this,N1).get(t);if(e)return e;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(i=>{if(this.destroyed)throw new Error("Transport destroyed");i.refStr&&K(this,A1).set(i.refStr,r);const a=new oG(t,i,this,this._params.pdfBug);return K(this,Eu).set(t,a),a});return K(this,N1).set(t,s),s}getPageIndex(r){return l3(r)?this.messageHandler.sendWithPromise("GetPageIndex",{num:r.num,gen:r.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(r,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:r,intent:t})}getFieldObjects(){return Ce(this,em,Gg).call(this,"GetFieldObjects")}hasJSActions(){return Ce(this,em,Gg).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(r){return typeof r!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:r})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Ce(this,em,Gg).call(this,"GetDocJSActions")}getPageJSActions(r){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:r})}getStructTree(r){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:r})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(r){return Ce(this,em,Gg).call(this,"GetOptionalContentConfig").then(t=>new C$(t,r))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const r="GetMetadata",t=K(this,Kd).get(r);if(t)return t;const e=this.messageHandler.sendWithPromise(r,null).then(s=>{var i,a;return{info:s[0],metadata:s[1]?new A$(s[1]):null,contentDispositionFilename:((i=this._fullReader)==null?void 0:i.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return K(this,Kd).set(r,e),e}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(r=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of K(this,Eu).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),r||this.fontLoader.clear(),K(this,Kd).clear(),this.filterFactory.destroy(!0),sw.cleanup()}}cachedPageNumber(r){if(!l3(r))return null;const t=r.gen===0?`${r.num}R`:`${r.num}R${r.gen}`;return K(this,A1).get(t)??null}}Kd=new WeakMap,Eu=new WeakMap,N1=new WeakMap,A1=new WeakMap,Nu=new WeakMap,em=new WeakSet,Gg=function(r,t=null){const e=K(this,Kd).get(r);if(e)return e;const s=this.messageHandler.sendWithPromise(r,t);return K(this,Kd).set(r,s),s};const q2=Symbol("INITIAL_DATA");var Ic,Cv,l4;class Tk{constructor(){De(this,Cv);De(this,Ic,Object.create(null))}get(r,t=null){if(t){const s=Ce(this,Cv,l4).call(this,r);return s.promise.then(()=>t(s.data)),null}const e=K(this,Ic)[r];if(!e||e.data===q2)throw new Error(`Requesting object that isn't resolved yet ${r}.`);return e.data}has(r){const t=K(this,Ic)[r];return!!t&&t.data!==q2}resolve(r,t=null){const e=Ce(this,Cv,l4).call(this,r);e.data=t,e.resolve()}clear(){var r;for(const t in K(this,Ic)){const{data:e}=K(this,Ic)[t];(r=e==null?void 0:e.bitmap)==null||r.close()}Ne(this,Ic,Object.create(null))}*[Symbol.iterator](){for(const r in K(this,Ic)){const{data:t}=K(this,Ic)[r];t!==q2&&(yield[r,t])}}}Ic=new WeakMap,Cv=new WeakSet,l4=function(r){var t;return(t=K(this,Ic))[r]||(t[r]={...Promise.withResolvers(),data:q2})};var df;class uG{constructor(r){De(this,df,null);Ne(this,df,r),this.onContinue=null}get promise(){return K(this,df).capability.promise}cancel(r=0){K(this,df).cancel(null,r)}get separateAnnots(){const{separateAnnots:r}=K(this,df).operatorList;if(!r)return!1;const{annotationCanvasMap:t}=K(this,df);return r.form||r.canvas&&(t==null?void 0:t.size)>0}}df=new WeakMap;var hf,tm;const Ep=class Ep{constructor({callback:r,params:t,objs:e,commonObjs:s,annotationCanvasMap:i,operatorList:a,pageIndex:o,canvasFactory:c,filterFactory:u,useRequestAnimationFrame:l=!1,pdfBug:d=!1,pageColors:f=null}){De(this,hf,null);this.callback=r,this.params=t,this.objs=e,this.commonObjs=s,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=c,this.filterFactory=u,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=l===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new uG(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:r=!1,optionalContentConfig:t}){var o,c;if(this.cancelled)return;if(this._canvas){if(K(Ep,tm).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");K(Ep,tm).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:e,viewport:s,transform:i,background:a}=this.params;this.gfx=new X0(e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:i,viewport:s,transparency:r,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(r=null,t=0){var e;this.running=!1,this.cancelled=!0,(e=this.gfx)==null||e.endDrawing(),K(this,hf)&&(window.cancelAnimationFrame(K(this,hf)),Ne(this,hf,null)),K(Ep,tm).delete(this._canvas),this.callback(r||new L8(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var r;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(r=this.stepper)==null||r.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?Ne(this,hf,window.requestAnimationFrame(()=>{Ne(this,hf,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),K(Ep,tm).delete(this._canvas),this.callback())))}};hf=new WeakMap,tm=new WeakMap,De(Ep,tm,new WeakSet);let c4=Ep;const dG="4.4.168",hG="19fbc8998";function c3(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Og(n){return Math.max(0,Math.min(255,255*n))}class u3{static CMYK_G([r,t,e,s]){return["G",1-Math.min(1,.3*r+.59*e+.11*t+s)]}static G_CMYK([r]){return["CMYK",0,0,0,1-r]}static G_RGB([r]){return["RGB",r,r,r]}static G_rgb([r]){return r=Og(r),[r,r,r]}static G_HTML([r]){const t=c3(r);return`#${t}${t}${t}`}static RGB_G([r,t,e]){return["G",.3*r+.59*t+.11*e]}static RGB_rgb(r){return r.map(Og)}static RGB_HTML(r){return`#${r.map(c3).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([r,t,e,s]){return["RGB",1-Math.min(1,r+s),1-Math.min(1,e+s),1-Math.min(1,t+s)]}static CMYK_rgb([r,t,e,s]){return[Og(1-Math.min(1,r+s)),Og(1-Math.min(1,e+s)),Og(1-Math.min(1,t+s))]}static CMYK_HTML(r){const t=this.CMYK_RGB(r).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([r,t,e]){const s=1-r,i=1-t,a=1-e,o=Math.min(s,i,a);return["CMYK",s,i,a,o]}}class Dk{static setupStorage(r,t,e,s,i){const a=s.getValue(t,{value:null});switch(e.name){case"textarea":if(a.value!==null&&(r.textContent=a.value),i==="print")break;r.addEventListener("input",o=>{s.setValue(t,{value:o.target.value})});break;case"input":if(e.attributes.type==="radio"||e.attributes.type==="checkbox"){if(a.value===e.attributes.xfaOn?r.setAttribute("checked",!0):a.value===e.attributes.xfaOff&&r.removeAttribute("checked"),i==="print")break;r.addEventListener("change",o=>{s.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&r.setAttribute("value",a.value),i==="print")break;r.addEventListener("input",o=>{s.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){r.setAttribute("value",a.value);for(const o of e.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}r.addEventListener("input",o=>{const c=o.target.options,u=c.selectedIndex===-1?"":c[c.selectedIndex].value;s.setValue(t,{value:u})});break}}static setAttributes({html:r,element:t,storage:e=null,intent:s,linkService:i}){const{attributes:a}=t,o=r instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${s}`);for(const[c,u]of Object.entries(a))if(u!=null)switch(c){case"class":u.length&&r.setAttribute(c,u.join(" "));break;case"dataId":break;case"id":r.setAttribute("data-element-id",u);break;case"style":Object.assign(r.style,u);break;case"textContent":r.textContent=u;break;default:(!o||c!=="href"&&c!=="newWindow")&&r.setAttribute(c,u)}o&&i.addLinkAttributes(r,a.href,a.newWindow),e&&a.dataId&&this.setupStorage(r,a.dataId,t,e)}static render(r){var d,f;const t=r.annotationStorage,e=r.linkService,s=r.xfaHtml,i=r.intent||"display",a=document.createElement(s.name);s.attributes&&this.setAttributes({html:a,element:s,intent:i,linkService:e});const o=i!=="richText",c=r.div;if(c.append(a),r.viewport){const h=`matrix(${r.viewport.transform.join(",")})`;c.style.transform=h}o&&c.setAttribute("class","xfaLayer xfaFont");const u=[];if(s.children.length===0){if(s.value){const h=document.createTextNode(s.value);a.append(h),o&&Db.shouldBuildText(s.name)&&u.push(h)}return{textDivs:u}}const l=[[s,-1,a]];for(;l.length>0;){const[h,p,g]=l.at(-1);if(p+1===h.children.length){l.pop();continue}const v=h.children[++l.at(-1)[1]];if(v===null)continue;const{name:m}=v;if(m==="#text"){const y=document.createTextNode(v.value);u.push(y),g.append(y);continue}const x=(d=v==null?void 0:v.attributes)!=null&&d.xmlns?document.createElementNS(v.attributes.xmlns,m):document.createElement(m);if(g.append(x),v.attributes&&this.setAttributes({html:x,element:v,storage:t,intent:i,linkService:e}),((f=v.children)==null?void 0:f.length)>0)l.push([v,-1,x]);else if(v.value){const y=document.createTextNode(v.value);o&&Db.shouldBuildText(m)&&u.push(y),x.append(y)}}for(const h of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))h.setAttribute("readOnly",!0);return{textDivs:u}}static update(r){const t=`matrix(${r.viewport.transform.join(",")})`;r.div.style.transform=t,r.div.hidden=!1}}const ky=1e3,fG=9,Fm=new WeakSet;function mh(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class pG{static create(r){switch(r.data.annotationType){case Ci.LINK:return new Ik(r);case Ci.TEXT:return new mG(r);case Ci.WIDGET:switch(r.data.fieldType){case"Tx":return new gG(r);case"Btn":return r.data.radioButton?new Rk(r):r.data.checkBox?new vG(r):new yG(r);case"Ch":return new xG(r);case"Sig":return new bG(r)}return new t0(r);case Ci.POPUP:return new d4(r);case Ci.FREETEXT:return new Bk(r);case Ci.LINE:return new _G(r);case Ci.SQUARE:return new SG(r);case Ci.CIRCLE:return new EG(r);case Ci.POLYLINE:return new Uk(r);case Ci.CARET:return new AG(r);case Ci.INK:return new Hk(r);case Ci.POLYGON:return new NG(r);case Ci.HIGHLIGHT:return new kG(r);case Ci.UNDERLINE:return new CG(r);case Ci.SQUIGGLY:return new TG(r);case Ci.STRIKEOUT:return new DG(r);case Ci.STAMP:return new qk(r);case Ci.FILEATTACHMENT:return new IG(r);default:return new hi(r)}}}var rm,k1,C1,Tv,u4;const yS=class yS{constructor(r,{isRenderable:t=!1,ignoreBorder:e=!1,createQuadrilaterals:s=!1}={}){De(this,Tv);De(this,rm,null);De(this,k1,!1);De(this,C1,null);this.isRenderable=t,this.data=r.data,this.layer=r.layer,this.linkService=r.linkService,this.downloadManager=r.downloadManager,this.imageResourcesPath=r.imageResourcesPath,this.renderForms=r.renderForms,this.svgFactory=r.svgFactory,this.annotationStorage=r.annotationStorage,this.enableScripting=r.enableScripting,this.hasJSActions=r.hasJSActions,this._fieldObjects=r.fieldObjects,this.parent=r.parent,t&&(this.container=this._createContainer(e)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:r,contentsObj:t,richText:e}){return!!(r!=null&&r.str||t!=null&&t.str||e!=null&&e.str)}get hasPopupData(){return yS._hasPopupData(this.data)}updateEdited(r){var e;if(!this.container)return;K(this,rm)||Ne(this,rm,{rect:this.data.rect.slice(0)});const{rect:t}=r;t&&Ce(this,Tv,u4).call(this,t),(e=K(this,C1))==null||e.popup.updateEdited(r)}resetEdited(){var r;K(this,rm)&&(Ce(this,Tv,u4).call(this,K(this,rm).rect),(r=K(this,C1))==null||r.popup.resetEdited(),Ne(this,rm,null))}_createContainer(r){const{data:t,parent:{page:e,viewport:s}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",t.id),this instanceof t0||(i.tabIndex=ky);const{style:a}=i;if(a.zIndex=this.parent.zIndex++,t.popupRef&&i.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(i.title=t.alternativeText),t.noRotate&&i.classList.add("norotate"),!t.rect||this instanceof d4){const{rotation:g}=t;return!t.hasOwnCanvas&&g!==0&&this.setRotation(g,i),i}const{width:o,height:c}=mh(t.rect);if(!r&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const g=t.borderStyle.horizontalCornerRadius,v=t.borderStyle.verticalCornerRadius;if(g>0||v>0){const x=`calc(${g}px * var(--scale-factor)) / calc(${v}px * var(--scale-factor))`;a.borderRadius=x}else if(this instanceof Rk){const x=`calc(${o}px * var(--scale-factor)) / calc(${c}px * var(--scale-factor))`;a.borderRadius=x}switch(t.borderStyle.style){case Mg.SOLID:a.borderStyle="solid";break;case Mg.DASHED:a.borderStyle="dashed";break;case Mg.BEVELED:cn("Unimplemented border style: beveled");break;case Mg.INSET:cn("Unimplemented border style: inset");break;case Mg.UNDERLINE:a.borderBottomStyle="solid";break}const m=t.borderColor||null;m?(Ne(this,k1,!0),a.borderColor=yr.makeHexColor(m[0]|0,m[1]|0,m[2]|0)):a.borderWidth=0}const u=yr.normalizeRect([t.rect[0],e.view[3]-t.rect[1]+e.view[1],t.rect[2],e.view[3]-t.rect[3]+e.view[1]]),{pageWidth:l,pageHeight:d,pageX:f,pageY:h}=s.rawDims;a.left=`${100*(u[0]-f)/l}%`,a.top=`${100*(u[1]-h)/d}%`;const{rotation:p}=t;return t.hasOwnCanvas||p===0?(a.width=`${100*o/l}%`,a.height=`${100*c/d}%`):this.setRotation(p,i),i}setRotation(r,t=this.container){if(!this.data.rect)return;const{pageWidth:e,pageHeight:s}=this.parent.viewport.rawDims,{width:i,height:a}=mh(this.data.rect);let o,c;r%180===0?(o=100*i/e,c=100*a/s):(o=100*a/e,c=100*i/s),t.style.width=`${o}%`,t.style.height=`${c}%`,t.setAttribute("data-main-rotation",(360-r)%360)}get _commonActions(){const r=(t,e,s)=>{const i=s.detail[t],a=i[0],o=i.slice(1);s.target.style[e]=u3[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[e]:u3[`${a}_rgb`](o)})};return In(this,"_commonActions",{display:t=>{const{display:e}=t.detail,s=e%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:e===1||e===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:e}=t.detail;this.container.style.visibility=e?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:e,noView:e})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{r("bgColor","backgroundColor",t)},fillColor:t=>{r("fillColor","backgroundColor",t)},fgColor:t=>{r("fgColor","color",t)},textColor:t=>{r("textColor","color",t)},borderColor:t=>{r("borderColor","borderColor",t)},strokeColor:t=>{r("strokeColor","borderColor",t)},rotation:t=>{const e=t.detail.rotation;this.setRotation(e),this.annotationStorage.setValue(this.data.id,{rotation:e})}})}_dispatchEventFromSandbox(r,t){const e=this._commonActions;for(const s of Object.keys(t.detail)){const i=r[s]||e[s];i==null||i(t)}}_setDefaultPropertiesFromJS(r){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const e=this._commonActions;for(const[s,i]of Object.entries(t)){const a=e[s];if(a){const o={detail:{[s]:i},target:r};a(o),delete t[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:r}=this.data;if(!r)return;const[t,e,s,i]=this.data.rect.map(g=>Math.fround(g));if(r.length===8){const[g,v,m,x]=r.subarray(2,6);if(s===g&&i===v&&t===m&&e===x)return}const{style:a}=this.container;let o;if(K(this,k1)){const{borderColor:g,borderWidth:v}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${v}">`],this.container.classList.add("hasBorder")}const c=s-t,u=i-e,{svgFactory:l}=this,d=l.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const f=l.createElement("defs");d.append(f);const h=l.createElement("clipPath"),p=`clippath_${this.data.id}`;h.setAttribute("id",p),h.setAttribute("clipPathUnits","objectBoundingBox"),f.append(h);for(let g=2,v=r.length;g<v;g+=8){const m=r[g],x=r[g+1],y=r[g+2],w=r[g+3],E=l.createElement("rect"),I=(y-t)/c,T=(i-x)/u,R=(m-y)/c,D=(x-w)/u;E.setAttribute("x",I),E.setAttribute("y",T),E.setAttribute("width",R),E.setAttribute("height",D),h.append(E),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${I}" y="${T}" width="${R}" height="${D}"/>`)}K(this,k1)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(d),this.container.style.clipPath=`url(#${p})`}_createPopup(){const{container:r,data:t}=this;r.setAttribute("aria-haspopup","dialog");const e=Ne(this,C1,new d4({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){ss("Abstract method `AnnotationElement.render` called")}_getElementsByName(r,t=null){const e=[];if(this._fieldObjects){const s=this._fieldObjects[r];if(s)for(const{page:i,id:a,exportValues:o}of s){if(i===-1||a===t)continue;const c=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${a}"]`);if(u&&!Fm.has(u)){cn(`_getElementsByName - element not allowed: ${a}`);continue}e.push({id:a,exportValue:c,domElement:u})}return e}for(const s of document.getElementsByName(r)){const{exportValue:i}=s,a=s.getAttribute("data-element-id");a!==t&&Fm.has(s)&&e.push({id:a,exportValue:i,domElement:s})}return e}show(){var r;this.container&&(this.container.hidden=!1),(r=this.popup)==null||r.maybeShow()}hide(){var r;this.container&&(this.container.hidden=!0),(r=this.popup)==null||r.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const r=this.getElementsToTriggerPopup();if(Array.isArray(r))for(const t of r)t.classList.add("highlightArea");else r.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:r,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var e;(e=this.linkService.eventBus)==null||e.dispatch("switchannotationeditormode",{source:this,mode:r,editId:t})})}};rm=new WeakMap,k1=new WeakMap,C1=new WeakMap,Tv=new WeakSet,u4=function(r){const{container:{style:t},data:{rect:e,rotation:s},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:a,pageX:o,pageY:c}}}}=this;e==null||e.splice(0,4,...r);const{width:u,height:l}=mh(r);t.left=`${100*(r[0]-o)/i}%`,t.top=`${100*(a-r[3]+c)/a}%`,s===0?(t.width=`${100*u/i}%`,t.height=`${100*l/a}%`):this.setRotation(s)};let hi=yS;var ml,yp,Pk,jk;class Ik extends hi{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!(e!=null&&e.ignoreBorder),createQuadrilaterals:!0});De(this,ml);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,s=document.createElement("a");s.setAttribute("data-element-id",t.id);let i=!1;return t.url?(e.addLinkAttributes(s,t.url,t.newWindow),i=!0):t.action?(this._bindNamedAction(s,t.action),i=!0):t.attachment?(Ce(this,ml,Pk).call(this,s,t.attachment,t.attachmentDest),i=!0):t.setOCGState?(Ce(this,ml,jk).call(this,s,t.setOCGState),i=!0):t.dest?(this._bindLink(s,t.dest),i=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,t),i=!0),t.resetForm?(this._bindResetFormAction(s,t.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(s,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(s),this.container}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&Ce(this,ml,yp).call(this)}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),Ce(this,ml,yp).call(this)}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(e.actions)){const a=s.get(i);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:i}}),!1})}t.onclick||(t.onclick=()=>!1),Ce(this,ml,yp).call(this)}_bindResetFormAction(t,e){const s=t.onclick;if(s||(t.href=this.linkService.getAnchorUrl("")),Ce(this,ml,yp).call(this),!this._fieldObjects){cn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(t.onclick=()=>!1);return}t.onclick=()=>{var d;s==null||s();const{fields:i,refs:a,include:o}=e,c=[];if(i.length!==0||a.length!==0){const f=new Set(a);for(const h of i){const p=this._fieldObjects[h]||[];for(const{id:g}of p)f.add(g)}for(const h of Object.values(this._fieldObjects))for(const p of h)f.has(p.id)===o&&c.push(p)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const u=this.annotationStorage,l=[];for(const f of c){const{id:h}=f;switch(l.push(h),f.type){case"text":{const g=f.defaultValue||"";u.setValue(h,{value:g});break}case"checkbox":case"radiobutton":{const g=f.defaultValue===f.exportValues;u.setValue(h,{value:g});break}case"combobox":case"listbox":{const g=f.defaultValue||"";u.setValue(h,{value:g});break}default:continue}const p=document.querySelector(`[data-element-id="${h}"]`);if(p){if(!Fm.has(p)){cn(`_bindResetFormAction - element not allowed: ${h}`);continue}}else continue;p.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:l,name:"ResetForm"}})),!1}}}ml=new WeakSet,yp=function(){this.container.setAttribute("data-internal-link","")},Pk=function(t,e,s=null){t.href=this.linkService.getAnchorUrl(""),e.description&&(t.title=e.description),t.onclick=()=>{var i;return(i=this.downloadManager)==null||i.openOrDownloadData(e.content,e.filename,s),!1},Ce(this,ml,yp).call(this)},jk=function(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),Ce(this,ml,yp).call(this)};class mG extends hi{constructor(r){super(r,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const r=document.createElement("img");return r.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",r.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),r.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(r),this.container}}class t0 extends hi{render(){return this.container}showElementAndHideCanvas(r){var t;this.data.hasOwnCanvas&&(((t=r.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(r.previousSibling.hidden=!0),r.hidden=!1)}_getKeyModifier(r){return Lo.platform.isMac?r.metaKey:r.ctrlKey}_setEventListener(r,t,e,s,i){e.includes("mouse")?r.addEventListener(e,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:i(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):r.addEventListener(e,a=>{var o;if(e==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(e==="focus"){if(t.focused)return;t.focused=!0}i&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:i(a)}}))})}_setEventListeners(r,t,e,s){var i,a,o;for(const[c,u]of e)(u==="Action"||(i=this.data.actions)!=null&&i[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(r,t,c,u,s),u==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(r,t,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(r,t,"focus","Focus",null))}_setBackgroundColor(r){const t=this.data.backgroundColor||null;r.style.backgroundColor=t===null?"transparent":yr.makeHexColor(t[0],t[1],t[2])}_setTextStyle(r){const t=["left","center","right"],{fontColor:e}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||fG,i=r.style;let a;const o=2,c=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),l=Math.round(u/(L6*s))||1,d=u/l;a=Math.min(s,c(d/L6))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(s,c(u/L6))}i.fontSize=`calc(${a}px * var(--scale-factor))`,i.color=yr.makeHexColor(e[0],e[1],e[2]),this.data.textAlignment!==null&&(i.textAlign=t[this.data.textAlignment])}_setRequired(r,t){t?r.setAttribute("required",!0):r.removeAttribute("required"),r.setAttribute("aria-required",t)}}class gG extends t0{constructor(r){const t=r.renderForms||r.data.hasOwnCanvas||!r.data.hasAppearance&&!!r.data.fieldValue;super(r,{isRenderable:t})}setPropertyOnSiblings(r,t,e,s){const i=this.annotationStorage;for(const a of this._getElementsByName(r.name,r.id))a.domElement&&(a.domElement[t]=e),i.setValue(a.id,{[s]:e})}render(){var s,i;const r=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let e=null;if(this.renderForms){const a=r.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const c=r.getValue(t,{charLimit:this.data.maxLen}).charLimit;c&&o.length>c&&(o=o.slice(0,c));let u=a.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const l={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(e=document.createElement("textarea"),e.textContent=u??o,this.data.doNotScroll&&(e.style.overflowY="hidden")):(e=document.createElement("input"),e.type="text",e.setAttribute("value",u??o),this.data.doNotScroll&&(e.style.overflowX="hidden")),this.data.hasOwnCanvas&&(e.hidden=!0),Fm.add(e),e.setAttribute("data-element-id",t),e.disabled=this.data.readOnly,e.name=this.data.fieldName,e.tabIndex=ky,this._setRequired(e,this.data.required),c&&(e.maxLength=c),e.addEventListener("input",f=>{r.setValue(t,{value:f.target.value}),this.setPropertyOnSiblings(e,"value",f.target.value,"value"),l.formattedValue=null}),e.addEventListener("resetform",f=>{const h=this.data.defaultFieldValue??"";e.value=l.userValue=h,l.formattedValue=null});let d=f=>{const{formattedValue:h}=l;h!=null&&(f.target.value=h),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){e.addEventListener("focus",h=>{var g;if(l.focused)return;const{target:p}=h;l.userValue&&(p.value=l.userValue),l.lastCommittedValue=p.value,l.commitKey=1,(g=this.data.actions)!=null&&g.Focus||(l.focused=!0)}),e.addEventListener("updatefromsandbox",h=>{this.showElementAndHideCanvas(h.target);const p={value(g){l.userValue=g.detail.value??"",r.setValue(t,{value:l.userValue.toString()}),g.target.value=l.userValue},formattedValue(g){const{formattedValue:v}=g.detail;l.formattedValue=v,v!=null&&g.target!==document.activeElement&&(g.target.value=v),r.setValue(t,{formattedValue:v})},selRange(g){g.target.setSelectionRange(...g.detail.selRange)},charLimit:g=>{var y;const{charLimit:v}=g.detail,{target:m}=g;if(v===0){m.removeAttribute("maxLength");return}m.setAttribute("maxLength",v);let x=l.userValue;!x||x.length<=v||(x=x.slice(0,v),m.value=l.userValue=x,r.setValue(t,{value:x}),(y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:1,selStart:m.selectionStart,selEnd:m.selectionEnd}}))}};this._dispatchEventFromSandbox(p,h)}),e.addEventListener("keydown",h=>{var v;l.commitKey=1;let p=-1;if(h.key==="Escape"?p=0:h.key==="Enter"&&!this.data.multiLine?p=2:h.key==="Tab"&&(l.commitKey=3),p===-1)return;const{value:g}=h.target;l.lastCommittedValue!==g&&(l.lastCommittedValue=g,l.userValue=g,(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:g,willCommit:!0,commitKey:p,selStart:h.target.selectionStart,selEnd:h.target.selectionEnd}}))});const f=d;d=null,e.addEventListener("blur",h=>{var g,v;if(!l.focused||!h.relatedTarget)return;(g=this.data.actions)!=null&&g.Blur||(l.focused=!1);const{value:p}=h.target;l.userValue=p,l.lastCommittedValue!==p&&((v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:p,willCommit:!0,commitKey:l.commitKey,selStart:h.target.selectionStart,selEnd:h.target.selectionEnd}})),f(h)}),(i=this.data.actions)!=null&&i.Keystroke&&e.addEventListener("beforeinput",h=>{var E;l.lastCommittedValue=null;const{data:p,target:g}=h,{value:v,selectionStart:m,selectionEnd:x}=g;let y=m,w=x;switch(h.inputType){case"deleteWordBackward":{const I=v.substring(0,m).match(/\w*[^\w]*$/);I&&(y-=I[0].length);break}case"deleteWordForward":{const I=v.substring(m).match(/^[^\w]*\w*/);I&&(w+=I[0].length);break}case"deleteContentBackward":m===x&&(y-=1);break;case"deleteContentForward":m===x&&(w+=1);break}h.preventDefault(),(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,change:p||"",willCommit:!1,selStart:y,selEnd:w}})}),this._setEventListeners(e,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.value)}if(d&&e.addEventListener("blur",d),this.data.comb){const h=(this.data.rect[2]-this.data.rect[0])/c;e.classList.add("comb"),e.style.letterSpacing=`calc(${h}px * var(--scale-factor) - 1ch)`}}else e=document.createElement("div"),e.textContent=this.data.fieldValue,e.style.verticalAlign="middle",e.style.display="table-cell",this.data.hasOwnCanvas&&(e.hidden=!0);return this._setTextStyle(e),this._setBackgroundColor(e),this._setDefaultPropertiesFromJS(e),this.container.append(e),this.container}}class bG extends t0{constructor(r){super(r,{isRenderable:!!r.data.hasOwnCanvas})}}class vG extends t0{constructor(r){super(r,{isRenderable:r.renderForms})}render(){const r=this.annotationStorage,t=this.data,e=t.id;let s=r.getValue(e,{value:t.exportValue===t.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",r.setValue(e,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return Fm.add(i),i.setAttribute("data-element-id",e),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,s&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=ky,i.addEventListener("change",a=>{const{name:o,checked:c}=a.target;for(const u of this._getElementsByName(o,e)){const l=c&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=l),r.setValue(u.id,{value:l})}r.setValue(e,{value:c})}),i.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",a=>{const o={value(c){c.target.checked=c.detail.value!=="Off",r.setValue(e,{value:c.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Rk extends t0{constructor(r){super(r,{isRenderable:r.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const r=this.annotationStorage,t=this.data,e=t.id;let s=r.getValue(e,{value:t.fieldValue===t.buttonValue}).value;if(typeof s=="string"&&(s=s!==t.buttonValue,r.setValue(e,{value:s})),s)for(const a of this._getElementsByName(t.fieldName,e))r.setValue(a.id,{value:!1});const i=document.createElement("input");if(Fm.add(i),i.setAttribute("data-element-id",e),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,s&&i.setAttribute("checked",!0),i.tabIndex=ky,i.addEventListener("change",a=>{const{name:o,checked:c}=a.target;for(const u of this._getElementsByName(o,e))r.setValue(u.id,{value:!1});r.setValue(e,{value:c})}),i.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;i.addEventListener("updatefromsandbox",o=>{const c={value:u=>{const l=a===u.detail.value;for(const d of this._getElementsByName(u.target.name)){const f=l&&d.id===e;d.domElement&&(d.domElement.checked=f),r.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(c,o)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class yG extends Ik{constructor(r){super(r,{ignoreBorder:r.data.hasAppearance})}render(){const r=super.render();r.classList.add("buttonWidgetAnnotation","pushButton");const t=r.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",e=>{this._dispatchEventFromSandbox({},e)})),r}}class xG extends t0{constructor(r){super(r,{isRenderable:r.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const r=this.annotationStorage,t=this.data.id,e=r.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");Fm.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=ky;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",l=>{const d=this.data.defaultFieldValue;for(const f of s.options)f.selected=f.value===d});for(const l of this.data.options){const d=document.createElement("option");d.textContent=l.displayValue,d.value=l.exportValue,e.value.includes(l.exportValue)&&(d.setAttribute("selected",!0),i=!1),s.append(d)}let a=null;if(i){const l=document.createElement("option");l.value=" ",l.setAttribute("hidden",!0),l.setAttribute("selected",!0),s.prepend(l),a=()=>{l.remove(),s.removeEventListener("input",a),a=null},s.addEventListener("input",a)}const o=l=>{const d=l?"value":"textContent",{options:f,multiple:h}=s;return h?Array.prototype.filter.call(f,p=>p.selected).map(p=>p[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let c=o(!1);const u=l=>{const d=l.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",l=>{const d={value(f){a==null||a();const h=f.detail.value,p=new Set(Array.isArray(h)?h:[h]);for(const g of s.options)g.selected=p.has(g.value);r.setValue(t,{value:o(!0)}),c=o(!1)},multipleSelection(f){s.multiple=!0},remove(f){const h=s.options,p=f.detail.remove;h[p].selected=!1,s.remove(p),h.length>0&&Array.prototype.findIndex.call(h,v=>v.selected)===-1&&(h[0].selected=!0),r.setValue(t,{value:o(!0),items:u(f)}),c=o(!1)},clear(f){for(;s.length!==0;)s.remove(0);r.setValue(t,{value:null,items:[]}),c=o(!1)},insert(f){const{index:h,displayValue:p,exportValue:g}=f.detail.insert,v=s.children[h],m=document.createElement("option");m.textContent=p,m.value=g,v?v.before(m):s.append(m),r.setValue(t,{value:o(!0),items:u(f)}),c=o(!1)},items(f){const{items:h}=f.detail;for(;s.length!==0;)s.remove(0);for(const p of h){const{displayValue:g,exportValue:v}=p,m=document.createElement("option");m.textContent=g,m.value=v,s.append(m)}s.options.length>0&&(s.options[0].selected=!0),r.setValue(t,{value:o(!0),items:u(f)}),c=o(!1)},indices(f){const h=new Set(f.detail.indices);for(const p of f.target.options)p.selected=h.has(p.index);r.setValue(t,{value:o(!0)}),c=o(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,l)}),s.addEventListener("input",l=>{var h;const d=o(!0),f=o(!1);r.setValue(t,{value:d}),l.preventDefault(),(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:f,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],l=>l.target.value)):s.addEventListener("input",function(l){r.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class d4 extends hi{constructor(r){const{data:t,elements:e}=r;super(r,{isRenderable:hi._hasPopupData(t)}),this.elements=e,this.popup=null}render(){this.container.classList.add("popupAnnotation");const r=this.popup=new wG({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const e of this.elements)e.popup=r,t.push(e.data.id),e.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(e=>`${M9}${e}`).join(",")),this.container}}var T1,jw,Rw,D1,nm,$s,Jd,sm,Dv,Iv,I1,Zd,Pc,Qd,Pv,eh,jv,im,am,is,bx,h4,Mk,Lk,Ok,Fk,vx,yx,f4;class wG{constructor({container:r,color:t,elements:e,titleObj:s,modificationDate:i,contentsObj:a,richText:o,parent:c,rect:u,parentRect:l,open:d}){De(this,is);De(this,T1,Ce(this,is,Ok).bind(this));De(this,jw,Ce(this,is,f4).bind(this));De(this,Rw,Ce(this,is,yx).bind(this));De(this,D1,Ce(this,is,vx).bind(this));De(this,nm,null);De(this,$s,null);De(this,Jd,null);De(this,sm,null);De(this,Dv,null);De(this,Iv,null);De(this,I1,null);De(this,Zd,!1);De(this,Pc,null);De(this,Qd,null);De(this,Pv,null);De(this,eh,null);De(this,jv,null);De(this,im,null);De(this,am,!1);var f;Ne(this,$s,r),Ne(this,jv,s),Ne(this,Jd,a),Ne(this,eh,o),Ne(this,Iv,c),Ne(this,nm,t),Ne(this,Pv,u),Ne(this,I1,l),Ne(this,Dv,e),Ne(this,sm,U9.toDateObject(i)),this.trigger=e.flatMap(h=>h.getElementsToTriggerPopup());for(const h of this.trigger)h.addEventListener("click",K(this,D1)),h.addEventListener("mouseenter",K(this,Rw)),h.addEventListener("mouseleave",K(this,jw)),h.classList.add("popupTriggerArea");for(const h of e)(f=h.container)==null||f.addEventListener("keydown",K(this,T1));K(this,$s).hidden=!0,d&&Ce(this,is,vx).call(this)}render(){if(K(this,Pc))return;const r=Ne(this,Pc,document.createElement("div"));if(r.className="popup",K(this,nm)){const i=r.style.outlineColor=yr.makeHexColor(...K(this,nm));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?r.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`:r.style.backgroundColor=yr.makeHexColor(...K(this,nm).map(o=>Math.floor(.7*(255-o)+o)))}const t=document.createElement("span");t.className="header";const e=document.createElement("h1");if(t.append(e),{dir:e.dir,str:e.textContent}=K(this,jv),r.append(t),K(this,sm)){const i=document.createElement("span");i.classList.add("popupDate"),i.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),i.setAttribute("data-l10n-args",JSON.stringify({date:K(this,sm).toLocaleDateString(),time:K(this,sm).toLocaleTimeString()})),t.append(i)}const s=K(this,is,bx);if(s)Dk.render({xfaHtml:s,intent:"richText",div:r}),r.lastChild.classList.add("richText","popupContent");else{const i=this._formatContents(K(this,Jd));r.append(i)}K(this,$s).append(r)}_formatContents({str:r,dir:t}){const e=document.createElement("p");e.classList.add("popupContent"),e.dir=t;const s=r.split(/(?:\r\n?|\n)/);for(let i=0,a=s.length;i<a;++i){const o=s[i];e.append(document.createTextNode(o)),i<a-1&&e.append(document.createElement("br"))}return e}updateEdited({rect:r,popupContent:t}){var e;K(this,im)||Ne(this,im,{contentsObj:K(this,Jd),richText:K(this,eh)}),r&&Ne(this,Qd,null),t&&(Ne(this,eh,Ce(this,is,Lk).call(this,t)),Ne(this,Jd,null)),(e=K(this,Pc))==null||e.remove(),Ne(this,Pc,null)}resetEdited(){var r;K(this,im)&&({contentsObj:tl(this,Jd)._,richText:tl(this,eh)._}=K(this,im),Ne(this,im,null),(r=K(this,Pc))==null||r.remove(),Ne(this,Pc,null),Ne(this,Qd,null))}forceHide(){Ne(this,am,this.isVisible),K(this,am)&&(K(this,$s).hidden=!0)}maybeShow(){K(this,am)&&(K(this,Pc)||Ce(this,is,yx).call(this),Ne(this,am,!1),K(this,$s).hidden=!1)}get isVisible(){return K(this,$s).hidden===!1}}T1=new WeakMap,jw=new WeakMap,Rw=new WeakMap,D1=new WeakMap,nm=new WeakMap,$s=new WeakMap,Jd=new WeakMap,sm=new WeakMap,Dv=new WeakMap,Iv=new WeakMap,I1=new WeakMap,Zd=new WeakMap,Pc=new WeakMap,Qd=new WeakMap,Pv=new WeakMap,eh=new WeakMap,jv=new WeakMap,im=new WeakMap,am=new WeakMap,is=new WeakSet,bx=function(){const r=K(this,eh),t=K(this,Jd);return r!=null&&r.str&&(!(t!=null&&t.str)||t.str===r.str)&&K(this,eh).html||null},h4=function(){var r,t,e;return((e=(t=(r=K(this,is,bx))==null?void 0:r.attributes)==null?void 0:t.style)==null?void 0:e.fontSize)||0},Mk=function(){var r,t,e;return((e=(t=(r=K(this,is,bx))==null?void 0:r.attributes)==null?void 0:t.style)==null?void 0:e.color)||null},Lk=function(r){const t=[],e={str:r,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},s={style:{color:K(this,is,Mk),fontSize:K(this,is,h4)?`calc(${K(this,is,h4)}px * var(--scale-factor))`:""}};for(const i of r.split(`
`))t.push({name:"span",value:i,attributes:s});return e},Ok=function(r){r.altKey||r.shiftKey||r.ctrlKey||r.metaKey||(r.key==="Enter"||r.key==="Escape"&&K(this,Zd))&&Ce(this,is,vx).call(this)},Fk=function(){if(K(this,Qd)!==null)return;const{page:{view:r},viewport:{rawDims:{pageWidth:t,pageHeight:e,pageX:s,pageY:i}}}=K(this,Iv);let a=!!K(this,I1),o=a?K(this,I1):K(this,Pv);for(const p of K(this,Dv))if(!o||yr.intersect(p.data.rect,o)!==null){o=p.data.rect,a=!0;break}const c=yr.normalizeRect([o[0],r[3]-o[1]+r[1],o[2],r[3]-o[3]+r[1]]),l=a?o[2]-o[0]+5:0,d=c[0]+l,f=c[1];Ne(this,Qd,[100*(d-s)/t,100*(f-i)/e]);const{style:h}=K(this,$s);h.left=`${K(this,Qd)[0]}%`,h.top=`${K(this,Qd)[1]}%`},vx=function(){Ne(this,Zd,!K(this,Zd)),K(this,Zd)?(Ce(this,is,yx).call(this),K(this,$s).addEventListener("click",K(this,D1)),K(this,$s).addEventListener("keydown",K(this,T1))):(Ce(this,is,f4).call(this),K(this,$s).removeEventListener("click",K(this,D1)),K(this,$s).removeEventListener("keydown",K(this,T1)))},yx=function(){K(this,Pc)||this.render(),this.isVisible?K(this,Zd)&&K(this,$s).classList.add("focused"):(Ce(this,is,Fk).call(this),K(this,$s).hidden=!1,K(this,$s).style.zIndex=parseInt(K(this,$s).style.zIndex)+1e3)},f4=function(){K(this,$s).classList.remove("focused"),!(K(this,Zd)||!this.isVisible)&&(K(this,$s).hidden=!0,K(this,$s).style.zIndex=parseInt(K(this,$s).style.zIndex)-1e3)};class Bk extends hi{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0}),this.textContent=r.data.textContent,this.textPosition=r.data.textPosition,this.annotationEditorType=wn.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const r=document.createElement("div");r.classList.add("annotationTextContent"),r.setAttribute("role","comment");for(const t of this.textContent){const e=document.createElement("span");e.textContent=t,r.append(e)}this.container.append(r)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var Rv;class _G extends hi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});De(this,Rv,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:e,height:s}=mh(t.rect),i=this.svgFactory.create(e,s,!0),a=Ne(this,Rv,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return K(this,Rv)}addHighlightArea(){this.container.classList.add("highlightArea")}}Rv=new WeakMap;var Mv;class SG extends hi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});De(this,Mv,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:e,height:s}=mh(t.rect),i=this.svgFactory.create(e,s,!0),a=t.borderStyle.width,o=Ne(this,Mv,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",e-a),o.setAttribute("height",s-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return K(this,Mv)}addHighlightArea(){this.container.classList.add("highlightArea")}}Mv=new WeakMap;var Lv;class EG extends hi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});De(this,Lv,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:e,height:s}=mh(t.rect),i=this.svgFactory.create(e,s,!0),a=t.borderStyle.width,o=Ne(this,Lv,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",e/2),o.setAttribute("cy",s/2),o.setAttribute("rx",e/2-a/2),o.setAttribute("ry",s/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return K(this,Lv)}addHighlightArea(){this.container.classList.add("highlightArea")}}Lv=new WeakMap;var Ov;class Uk extends hi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});De(this,Ov,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:s,popupRef:i}}=this;if(!e)return this.container;const{width:a,height:o}=mh(t),c=this.svgFactory.create(a,o,!0);let u=[];for(let d=0,f=e.length;d<f;d+=2){const h=e[d]-t[0],p=t[3]-e[d+1];u.push(`${h},${p}`)}u=u.join(" ");const l=Ne(this,Ov,this.svgFactory.createElement(this.svgElementName));return l.setAttribute("points",u),l.setAttribute("stroke-width",s.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),c.append(l),this.container.append(c),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return K(this,Ov)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ov=new WeakMap;class NG extends Uk{constructor(r){super(r),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class AG extends hi{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Fv;class Hk extends hi{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});De(this,Fv,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=wn.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:e,borderStyle:s,popupRef:i}}=this,{width:a,height:o}=mh(t),c=this.svgFactory.create(a,o,!0);for(const u of e){let l=[];for(let f=0,h=u.length;f<h;f+=2){const p=u[f]-t[0],g=t[3]-u[f+1];l.push(`${p},${g}`)}l=l.join(" ");const d=this.svgFactory.createElement(this.svgElementName);K(this,Fv).push(d),d.setAttribute("points",l),d.setAttribute("stroke-width",s.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),!i&&this.hasPopupData&&this._createPopup(),c.append(d)}return this.container.append(c),this.container}getElementsToTriggerPopup(){return K(this,Fv)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fv=new WeakMap;class kG extends hi{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class CG extends hi{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class TG extends hi{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class DG extends hi{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class qk extends hi{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Bv,Uv,p4;class IG extends hi{constructor(t){var s;super(t,{isRenderable:!0});De(this,Uv);De(this,Bv,null);const{file:e}=this.data;this.filename=e.filename,this.content=e.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let s;e.hasAppearance||e.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),s.addEventListener("dblclick",Ce(this,Uv,p4).bind(this)),Ne(this,Bv,s);const{isMac:i}=Lo.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(i?a.metaKey:a.ctrlKey)&&Ce(this,Uv,p4).call(this)}),!e.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),t.append(s),t}getElementsToTriggerPopup(){return K(this,Bv)}addHighlightArea(){this.container.classList.add("highlightArea")}}Bv=new WeakMap,Uv=new WeakSet,p4=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Hv,om,P1,zm,Wk,m4,FN;let PG=(FN=class{constructor({div:r,accessibilityManager:t,annotationCanvasMap:e,annotationEditorUIManager:s,page:i,viewport:a}){De(this,zm);De(this,Hv,null);De(this,om,null);De(this,P1,new Map);this.div=r,Ne(this,Hv,t),Ne(this,om,e),this.page=i,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=s}async render(r){var a;const{annotations:t}=r,e=this.div;Lm(e,this.viewport);const s=new Map,i={data:null,layer:e,linkService:r.linkService,downloadManager:r.downloadManager,imageResourcesPath:r.imageResourcesPath||"",renderForms:r.renderForms!==!1,svgFactory:new M8,annotationStorage:r.annotationStorage||new U8,enableScripting:r.enableScripting===!0,hasJSActions:r.hasJSActions,fieldObjects:r.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const c=o.annotationType===Ci.POPUP;if(c){const d=s.get(o.id);if(!d)continue;i.elements=d}else{const{width:d,height:f}=mh(o.rect);if(d<=0||f<=0)continue}i.data=o;const u=pG.create(i);if(!u.isRenderable)continue;if(!c&&o.popupRef){const d=s.get(o.popupRef);d?d.push(u):s.set(o.popupRef,[u])}const l=u.render();o.hidden&&(l.style.visibility="hidden"),Ce(this,zm,Wk).call(this,l,o.id),u.annotationEditorType>0&&(K(this,P1).set(u.data.id,u),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(u))}Ce(this,zm,m4).call(this)}update({viewport:r}){const t=this.div;this.viewport=r,Lm(t,{rotation:r.rotation}),Ce(this,zm,m4).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(K(this,P1).values())}getEditableAnnotation(r){return K(this,P1).get(r)}},Hv=new WeakMap,om=new WeakMap,P1=new WeakMap,zm=new WeakSet,Wk=function(r,t){var s;const e=r.firstChild||r;e.id=`${M9}${t}`,this.div.append(r),(s=K(this,Hv))==null||s.moveElementInDOM(this.div,r,e,!1)},m4=function(){if(!K(this,om))return;const r=this.div;for(const[t,e]of K(this,om)){const s=r.querySelector(`[data-annotation-id="${t}"]`);if(!s)continue;e.className="annotationContent";const{firstChild:i}=s;i?i.nodeName==="CANVAS"?i.replaceWith(e):i.classList.contains("annotationContent")?i.after(e):i.before(e):s.append(e)}K(this,om).clear()},FN);const W2=/\r\n?|\n/g;var qv,Wv,zv,Vv,$v,jc,ol,Gv,ll,j1,Ei,zk,Vk,$k,xx,yh,wx,_x,Gk,b4,Yk;const ms=class ms extends Zn{constructor(t){super({...t,name:"freeTextEditor"});De(this,Ei);De(this,qv,this.editorDivBlur.bind(this));De(this,Wv,this.editorDivFocus.bind(this));De(this,zv,this.editorDivInput.bind(this));De(this,Vv,this.editorDivKeydown.bind(this));De(this,$v,this.editorDivPaste.bind(this));De(this,jc);De(this,ol,"");De(this,Gv,`${this.id}-editor`);De(this,ll);De(this,j1,null);Ne(this,jc,t.color||ms._defaultColor||Zn._defaultLineColor),Ne(this,ll,t.fontSize||ms._defaultFontSize)}static get _keyboardManager(){const t=ms.prototype,e=a=>a.isEmpty(),s=Om.TRANSLATE_SMALL,i=Om.TRANSLATE_BIG;return In(this,"_keyboardManager",new Ny([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:e}]]))}static initialize(t,e){Zn.initialize(t,e,{strings:["pdfjs-free-text-default-content"]});const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case Vr.FREETEXT_SIZE:ms._defaultFontSize=e;break;case Vr.FREETEXT_COLOR:ms._defaultColor=e;break}}updateParams(t,e){switch(t){case Vr.FREETEXT_SIZE:Ce(this,Ei,zk).call(this,e);break;case Vr.FREETEXT_COLOR:Ce(this,Ei,Vk).call(this,e);break}}static get defaultPropertiesToUpdate(){return[[Vr.FREETEXT_SIZE,ms._defaultFontSize],[Vr.FREETEXT_COLOR,ms._defaultColor||Zn._defaultLineColor]]}get propertiesToUpdate(){return[[Vr.FREETEXT_SIZE,K(this,ll)],[Vr.FREETEXT_COLOR,K(this,jc)]]}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-ms._internalPadding*t,-(ms._internalPadding+K(this,ll))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(wn.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const t=this._uiManager._signal;this.editorDiv.addEventListener("keydown",K(this,Vv),{signal:t}),this.editorDiv.addEventListener("focus",K(this,Wv),{signal:t}),this.editorDiv.addEventListener("blur",K(this,qv),{signal:t}),this.editorDiv.addEventListener("input",K(this,zv),{signal:t}),this.editorDiv.addEventListener("paste",K(this,$v),{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",K(this,Gv)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",K(this,Vv)),this.editorDiv.removeEventListener("focus",K(this,Wv)),this.editorDiv.removeEventListener("blur",K(this,qv)),this.editorDiv.removeEventListener("input",K(this,zv)),this.editorDiv.removeEventListener("paste",K(this,$v)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=K(this,ol),e=Ne(this,ol,Ce(this,Ei,$k).call(this).trimEnd());if(t===e)return;const s=i=>{if(Ne(this,ol,i),!i){this.remove();return}Ce(this,Ei,_x).call(this),this._uiManager.rebuild(this),Ce(this,Ei,xx).call(this)};this.addCommands({cmd:()=>{s(e)},undo:()=>{s(t)},mustExec:!1}),Ce(this,Ei,xx).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){ms._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",K(this,Gv)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Zn._l10nPromise.get("pdfjs-free-text-default-content").then(i=>{var a;return(a=this.editorDiv)==null?void 0:a.setAttribute("default-content",i)}),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${K(this,ll)}px * var(--scale-factor))`,s.color=K(this,jc),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),tw(this,this.div,["dblclick","keydown"]),this.width){const[i,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=K(this,j1);let[c,u]=this.getInitialTranslation();[c,u]=this.pageTranslationToScreen(c,u);const[l,d]=this.pageDimensions,[f,h]=this.pageTranslation;let p,g;switch(this.rotation){case 0:p=t+(o[0]-f)/l,g=e+this.height-(o[1]-h)/d;break;case 90:p=t+(o[0]-f)/l,g=e-(o[1]-h)/d,[c,u]=[u,-c];break;case 180:p=t-this.width+(o[0]-f)/l,g=e-(o[1]-h)/d,[c,u]=[-c,-u];break;case 270:p=t+(o[0]-f-this.height*d)/l,g=e+(o[1]-h-this.width*l)/d,[c,u]=[-u,c];break}this.setAt(p*i,g*a,c,u)}else this.setAt(t*i,e*a,this.width*i,this.height*a);Ce(this,Ei,_x).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var p,g,v;const e=t.clipboardData||window.clipboardData,{types:s}=e;if(s.length===1&&s[0]==="text/plain")return;t.preventDefault();const i=Ce(p=ms,yh,b4).call(p,e.getData("text")||"").replaceAll(W2,`
`);if(!i)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!i.includes(`
`)){o.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:c,startOffset:u}=o,l=[],d=[];if(c.nodeType===Node.TEXT_NODE){const m=c.parentElement;if(d.push(c.nodeValue.slice(u).replaceAll(W2,"")),m!==this.editorDiv){let x=l;for(const y of this.editorDiv.childNodes){if(y===m){x=d;continue}x.push(Ce(g=ms,yh,wx).call(g,y))}}l.push(c.nodeValue.slice(0,u).replaceAll(W2,""))}else if(c===this.editorDiv){let m=l,x=0;for(const y of this.editorDiv.childNodes)x++===u&&(m=d),m.push(Ce(v=ms,yh,wx).call(v,y))}Ne(this,ol,`${l.join(`
`)}${i}${d.join(`
`)}`),Ce(this,Ei,_x).call(this);const f=new Range;let h=l.reduce((m,x)=>m+x.length,0);for(const{firstChild:m}of this.editorDiv.childNodes)if(m.nodeType===Node.TEXT_NODE){const x=m.nodeValue.length;if(h<=x){f.setStart(m,h),f.setEnd(m,h);break}h-=x}a.removeAllRanges(),a.addRange(f)}get contentDiv(){return this.editorDiv}static deserialize(t,e,s){var o;let i=null;if(t instanceof Bk){const{data:{defaultAppearanceData:{fontSize:c,fontColor:u},rect:l,rotation:d,id:f},textContent:h,textPosition:p,parent:{page:{pageNumber:g}}}=t;if(!h||h.length===0)return null;i=t={annotationType:wn.FREETEXT,color:Array.from(u),fontSize:c,value:h.join(`
`),position:p,pageIndex:g-1,rect:l.slice(0),rotation:d,id:f,deleted:!1}}const a=super.deserialize(t,e,s);return Ne(a,ll,t.fontSize),Ne(a,jc,yr.makeHexColor(...t.color)),Ne(a,ol,Ce(o=ms,yh,b4).call(o,t.value)),a.annotationElementId=t.id||null,Ne(a,j1,i),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const e=ms._internalPadding*this.parentScale,s=this.getRect(e,e),i=Zn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:K(this,jc)),a={annotationType:wn.FREETEXT,color:i,fontSize:K(this,ll),value:Ce(this,Ei,Gk).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?a:this.annotationElementId&&!Ce(this,Ei,Yk).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(this.deleted)return e;const{style:s}=e;s.fontSize=`calc(${K(this,ll)}px * var(--scale-factor))`,s.color=K(this,jc),e.replaceChildren();for(const a of K(this,ol).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),e.append(o)}const i=ms._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(i,i),popupContent:K(this,ol)}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};qv=new WeakMap,Wv=new WeakMap,zv=new WeakMap,Vv=new WeakMap,$v=new WeakMap,jc=new WeakMap,ol=new WeakMap,Gv=new WeakMap,ll=new WeakMap,j1=new WeakMap,Ei=new WeakSet,zk=function(t){const e=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--scale-factor))`,this.translate(0,-(i-K(this,ll))*this.parentScale),Ne(this,ll,i),Ce(this,Ei,xx).call(this)},s=K(this,ll);this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vr.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Vk=function(t){const e=i=>{Ne(this,jc,this.editorDiv.style.color=i)},s=K(this,jc);this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vr.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},$k=function(){var e;const t=[];this.editorDiv.normalize();for(const s of this.editorDiv.childNodes)t.push(Ce(e=ms,yh,wx).call(e,s));return t.join(`
`)},xx=function(){const[t,e]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:i,div:a}=this,o=a.style.display,c=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",i.div.append(this.div),s=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=s.width/t,this.height=s.height/e):(this.width=s.height/t,this.height=s.width/e),this.fixAndSetPosition()},yh=new WeakSet,wx=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(W2,"")},_x=function(){if(this.editorDiv.replaceChildren(),!!K(this,ol))for(const t of K(this,ol).split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}},Gk=function(){return K(this,ol).replaceAll(""," ")},b4=function(t){return t.replaceAll(" ","")},Yk=function(t){const{value:e,fontSize:s,color:i,pageIndex:a}=K(this,j1);return this._hasBeenMoved||t.value!==e||t.fontSize!==s||t.color.some((o,c)=>o!==i[c])||t.pageIndex!==a},De(ms,yh),Ot(ms,"_freeTextDefaultContent",""),Ot(ms,"_internalPadding",0),Ot(ms,"_defaultColor",null),Ot(ms,"_defaultFontSize",10),Ot(ms,"_type","freetext"),Ot(ms,"_editorType",wn.FREETEXT);let g4=ms;var Yv,ff,Rc,go,Xk,Sx,Kk,Jk,y4;class v4{constructor(r,t=0,e=0,s=!0){De(this,go);De(this,Yv);De(this,ff,[]);De(this,Rc,[]);let i=1/0,a=-1/0,o=1/0,c=-1/0;const l=10**-4;for(const{x:m,y:x,width:y,height:w}of r){const E=Math.floor((m-t)/l)*l,I=Math.ceil((m+y+t)/l)*l,T=Math.floor((x-t)/l)*l,R=Math.ceil((x+w+t)/l)*l,D=[E,T,R,!0],L=[I,T,R,!1];K(this,ff).push(D,L),i=Math.min(i,E),a=Math.max(a,I),o=Math.min(o,T),c=Math.max(c,R)}const d=a-i+2*e,f=c-o+2*e,h=i-e,p=o-e,g=K(this,ff).at(s?-1:-2),v=[g[0],g[2]];for(const m of K(this,ff)){const[x,y,w]=m;m[0]=(x-h)/d,m[1]=(y-p)/f,m[2]=(w-p)/f}Ne(this,Yv,{x:h,y:p,width:d,height:f,lastPoint:v})}getOutlines(){K(this,ff).sort((t,e)=>t[0]-e[0]||t[1]-e[1]||t[2]-e[2]);const r=[];for(const t of K(this,ff))t[3]?(r.push(...Ce(this,go,y4).call(this,t)),Ce(this,go,Kk).call(this,t)):(Ce(this,go,Jk).call(this,t),r.push(...Ce(this,go,y4).call(this,t)));return Ce(this,go,Xk).call(this,r)}}Yv=new WeakMap,ff=new WeakMap,Rc=new WeakMap,go=new WeakSet,Xk=function(r){const t=[],e=new Set;for(const a of r){const[o,c,u]=a;t.push([o,c,a],[o,u,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const c=t[a][2],u=t[a+1][2];c.push(u),u.push(c),e.add(c),e.add(u)}const s=[];let i;for(;e.size>0;){const a=e.values().next().value;let[o,c,u,l,d]=a;e.delete(a);let f=o,h=c;for(i=[o,u],s.push(i);;){let p;if(e.has(l))p=l;else if(e.has(d))p=d;else break;e.delete(p),[o,c,u,l,d]=p,f!==o&&(i.push(f,h,o,h===c?c:u),f=o),h=h===c?u:c}i.push(f,h)}return new jG(s,K(this,Yv))},Sx=function(r){const t=K(this,Rc);let e=0,s=t.length-1;for(;e<=s;){const i=e+s>>1,a=t[i][0];if(a===r)return i;a<r?e=i+1:s=i-1}return s+1},Kk=function([,r,t]){const e=Ce(this,go,Sx).call(this,r);K(this,Rc).splice(e,0,[r,t])},Jk=function([,r,t]){const e=Ce(this,go,Sx).call(this,r);for(let s=e;s<K(this,Rc).length;s++){const[i,a]=K(this,Rc)[s];if(i!==r)break;if(i===r&&a===t){K(this,Rc).splice(s,1);return}}for(let s=e-1;s>=0;s--){const[i,a]=K(this,Rc)[s];if(i!==r)break;if(i===r&&a===t){K(this,Rc).splice(s,1);return}}},y4=function(r){const[t,e,s]=r,i=[[t,e,s]],a=Ce(this,go,Sx).call(this,s);for(let o=0;o<a;o++){const[c,u]=K(this,Rc)[o];for(let l=0,d=i.length;l<d;l++){const[,f,h]=i[l];if(!(u<=f||h<=c)){if(f>=c){if(h>u)i[l][1]=u;else{if(d===1)return[];i.splice(l,1),l--,d--}continue}i[l][2]=c,h>u&&i.push([t,u,h])}}}return i};class Zk{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(r,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof w4}}var Xv,R1;class jG extends Zk{constructor(t,e){super();De(this,Xv);De(this,R1);Ne(this,R1,t),Ne(this,Xv,e)}toSVGPath(){const t=[];for(const e of K(this,R1)){let[s,i]=e;t.push(`M${s} ${i}`);for(let a=2;a<e.length;a+=2){const o=e[a],c=e[a+1];o===s?(t.push(`V${c}`),i=c):c===i&&(t.push(`H${o}`),s=o)}t.push("Z")}return t.join(" ")}serialize([t,e,s,i],a){const o=[],c=s-t,u=i-e;for(const l of K(this,R1)){const d=new Array(l.length);for(let f=0;f<l.length;f+=2)d[f]=t+l[f]*c,d[f+1]=i-l[f+1]*u;o.push(d)}return o}get box(){return K(this,Xv)}}Xv=new WeakMap,R1=new WeakMap;var Au,th,M1,L1,ku,yn,lm,cm,Kv,Jv,O1,F1,pf,Zv,Mw,Lw,Qv,x4;const Ld=class Ld{constructor({x:r,y:t},e,s,i,a,o=0){De(this,Qv);De(this,Au);De(this,th,[]);De(this,M1);De(this,L1);De(this,ku,[]);De(this,yn,new Float64Array(18));De(this,lm);De(this,cm);De(this,Kv);De(this,Jv);De(this,O1);De(this,F1);De(this,pf,[]);Ne(this,Au,e),Ne(this,F1,i*s),Ne(this,L1,a),K(this,yn).set([NaN,NaN,NaN,NaN,r,t],6),Ne(this,M1,o),Ne(this,Jv,K(Ld,Zv)*s),Ne(this,Kv,K(Ld,Lw)*s),Ne(this,O1,s),K(this,pf).push(r,t)}get free(){return!0}isEmpty(){return isNaN(K(this,yn)[8])}add({x:r,y:t}){var D;Ne(this,lm,r),Ne(this,cm,t);const[e,s,i,a]=K(this,Au);let[o,c,u,l]=K(this,yn).subarray(8,12);const d=r-u,f=t-l,h=Math.hypot(d,f);if(h<K(this,Kv))return!1;const p=h-K(this,Jv),g=p/h,v=g*d,m=g*f;let x=o,y=c;o=u,c=l,u+=v,l+=m,(D=K(this,pf))==null||D.push(r,t);const w=-m/p,E=v/p,I=w*K(this,F1),T=E*K(this,F1);return K(this,yn).set(K(this,yn).subarray(2,8),0),K(this,yn).set([u+I,l+T],4),K(this,yn).set(K(this,yn).subarray(14,18),12),K(this,yn).set([u-I,l-T],16),isNaN(K(this,yn)[6])?(K(this,ku).length===0&&(K(this,yn).set([o+I,c+T],2),K(this,ku).push(NaN,NaN,NaN,NaN,(o+I-e)/i,(c+T-s)/a),K(this,yn).set([o-I,c-T],14),K(this,th).push(NaN,NaN,NaN,NaN,(o-I-e)/i,(c-T-s)/a)),K(this,yn).set([x,y,o,c,u,l],6),!this.isEmpty()):(K(this,yn).set([x,y,o,c,u,l],6),Math.abs(Math.atan2(y-c,x-o)-Math.atan2(m,v))<Math.PI/2?([o,c,u,l]=K(this,yn).subarray(2,6),K(this,ku).push(NaN,NaN,NaN,NaN,((o+u)/2-e)/i,((c+l)/2-s)/a),[o,c,x,y]=K(this,yn).subarray(14,18),K(this,th).push(NaN,NaN,NaN,NaN,((x+o)/2-e)/i,((y+c)/2-s)/a),!0):([x,y,o,c,u,l]=K(this,yn).subarray(0,6),K(this,ku).push(((x+5*o)/6-e)/i,((y+5*c)/6-s)/a,((5*o+u)/6-e)/i,((5*c+l)/6-s)/a,((o+u)/2-e)/i,((c+l)/2-s)/a),[u,l,o,c,x,y]=K(this,yn).subarray(12,18),K(this,th).push(((x+5*o)/6-e)/i,((y+5*c)/6-s)/a,((5*o+u)/6-e)/i,((5*c+l)/6-s)/a,((o+u)/2-e)/i,((c+l)/2-s)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const r=K(this,ku),t=K(this,th),e=K(this,yn).subarray(4,6),s=K(this,yn).subarray(16,18),[i,a,o,c]=K(this,Au),[u,l,d,f]=Ce(this,Qv,x4).call(this);if(isNaN(K(this,yn)[6])&&!this.isEmpty())return`M${(K(this,yn)[2]-i)/o} ${(K(this,yn)[3]-a)/c} L${(K(this,yn)[4]-i)/o} ${(K(this,yn)[5]-a)/c} L${u} ${l} L${d} ${f} L${(K(this,yn)[16]-i)/o} ${(K(this,yn)[17]-a)/c} L${(K(this,yn)[14]-i)/o} ${(K(this,yn)[15]-a)/c} Z`;const h=[];h.push(`M${r[4]} ${r[5]}`);for(let p=6;p<r.length;p+=6)isNaN(r[p])?h.push(`L${r[p+4]} ${r[p+5]}`):h.push(`C${r[p]} ${r[p+1]} ${r[p+2]} ${r[p+3]} ${r[p+4]} ${r[p+5]}`);h.push(`L${(e[0]-i)/o} ${(e[1]-a)/c} L${u} ${l} L${d} ${f} L${(s[0]-i)/o} ${(s[1]-a)/c}`);for(let p=t.length-6;p>=6;p-=6)isNaN(t[p])?h.push(`L${t[p+4]} ${t[p+5]}`):h.push(`C${t[p]} ${t[p+1]} ${t[p+2]} ${t[p+3]} ${t[p+4]} ${t[p+5]}`);return h.push(`L${t[4]} ${t[5]} Z`),h.join(" ")}getOutlines(){var m;const r=K(this,ku),t=K(this,th),e=K(this,yn),s=e.subarray(4,6),i=e.subarray(16,18),[a,o,c,u]=K(this,Au),l=new Float64Array((((m=K(this,pf))==null?void 0:m.length)??0)+2);for(let x=0,y=l.length-2;x<y;x+=2)l[x]=(K(this,pf)[x]-a)/c,l[x+1]=(K(this,pf)[x+1]-o)/u;l[l.length-2]=(K(this,lm)-a)/c,l[l.length-1]=(K(this,cm)-o)/u;const[d,f,h,p]=Ce(this,Qv,x4).call(this);if(isNaN(e[6])&&!this.isEmpty()){const x=new Float64Array(36);return x.set([NaN,NaN,NaN,NaN,(e[2]-a)/c,(e[3]-o)/u,NaN,NaN,NaN,NaN,(e[4]-a)/c,(e[5]-o)/u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,(e[16]-a)/c,(e[17]-o)/u,NaN,NaN,NaN,NaN,(e[14]-a)/c,(e[15]-o)/u],0),new w4(x,l,K(this,Au),K(this,O1),K(this,M1),K(this,L1))}const g=new Float64Array(K(this,ku).length+24+K(this,th).length);let v=r.length;for(let x=0;x<v;x+=2){if(isNaN(r[x])){g[x]=g[x+1]=NaN;continue}g[x]=r[x],g[x+1]=r[x+1]}g.set([NaN,NaN,NaN,NaN,(s[0]-a)/c,(s[1]-o)/u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,(i[0]-a)/c,(i[1]-o)/u],v),v+=24;for(let x=t.length-6;x>=6;x-=6)for(let y=0;y<6;y+=2){if(isNaN(t[x+y])){g[v]=g[v+1]=NaN,v+=2;continue}g[v]=t[x+y],g[v+1]=t[x+y+1],v+=2}return g.set([NaN,NaN,NaN,NaN,t[4],t[5]],v),new w4(g,l,K(this,Au),K(this,O1),K(this,M1),K(this,L1))}};Au=new WeakMap,th=new WeakMap,M1=new WeakMap,L1=new WeakMap,ku=new WeakMap,yn=new WeakMap,lm=new WeakMap,cm=new WeakMap,Kv=new WeakMap,Jv=new WeakMap,O1=new WeakMap,F1=new WeakMap,pf=new WeakMap,Zv=new WeakMap,Mw=new WeakMap,Lw=new WeakMap,Qv=new WeakSet,x4=function(){const r=K(this,yn).subarray(4,6),t=K(this,yn).subarray(16,18),[e,s,i,a]=K(this,Au);return[(K(this,lm)+(r[0]-t[0])/2-e)/i,(K(this,cm)+(r[1]-t[1])/2-s)/a,(K(this,lm)+(t[0]-r[0])/2-e)/i,(K(this,cm)+(t[1]-r[1])/2-s)/a]},De(Ld,Zv,8),De(Ld,Mw,2),De(Ld,Lw,K(Ld,Zv)+K(Ld,Mw));let iw=Ld;var B1,um,rh,ey,cl,ty,ii,Oo,Yg,Xg,Qk;class w4 extends Zk{constructor(t,e,s,i,a,o){super();De(this,Oo);De(this,B1);De(this,um,null);De(this,rh);De(this,ey);De(this,cl);De(this,ty);De(this,ii);Ne(this,ii,t),Ne(this,cl,e),Ne(this,B1,s),Ne(this,ty,i),Ne(this,rh,a),Ne(this,ey,o),Ce(this,Oo,Qk).call(this,o);const{x:c,y:u,width:l,height:d}=K(this,um);for(let f=0,h=t.length;f<h;f+=2)t[f]=(t[f]-c)/l,t[f+1]=(t[f+1]-u)/d;for(let f=0,h=e.length;f<h;f+=2)e[f]=(e[f]-c)/l,e[f+1]=(e[f+1]-u)/d}toSVGPath(){const t=[`M${K(this,ii)[4]} ${K(this,ii)[5]}`];for(let e=6,s=K(this,ii).length;e<s;e+=6){if(isNaN(K(this,ii)[e])){t.push(`L${K(this,ii)[e+4]} ${K(this,ii)[e+5]}`);continue}t.push(`C${K(this,ii)[e]} ${K(this,ii)[e+1]} ${K(this,ii)[e+2]} ${K(this,ii)[e+3]} ${K(this,ii)[e+4]} ${K(this,ii)[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,s,i],a){const o=s-t,c=i-e;let u,l;switch(a){case 0:u=Ce(this,Oo,Yg).call(this,K(this,ii),t,i,o,-c),l=Ce(this,Oo,Yg).call(this,K(this,cl),t,i,o,-c);break;case 90:u=Ce(this,Oo,Xg).call(this,K(this,ii),t,e,o,c),l=Ce(this,Oo,Xg).call(this,K(this,cl),t,e,o,c);break;case 180:u=Ce(this,Oo,Yg).call(this,K(this,ii),s,e,-o,c),l=Ce(this,Oo,Yg).call(this,K(this,cl),s,e,-o,c);break;case 270:u=Ce(this,Oo,Xg).call(this,K(this,ii),s,i,-o,-c),l=Ce(this,Oo,Xg).call(this,K(this,cl),s,i,-o,-c);break}return{outline:Array.from(u),points:[Array.from(l)]}}get box(){return K(this,um)}getNewOutline(t,e){const{x:s,y:i,width:a,height:o}=K(this,um),[c,u,l,d]=K(this,B1),f=a*l,h=o*d,p=s*l+c,g=i*d+u,v=new iw({x:K(this,cl)[0]*f+p,y:K(this,cl)[1]*h+g},K(this,B1),K(this,ty),t,K(this,ey),e??K(this,rh));for(let m=2;m<K(this,cl).length;m+=2)v.add({x:K(this,cl)[m]*f+p,y:K(this,cl)[m+1]*h+g});return v.getOutlines()}}B1=new WeakMap,um=new WeakMap,rh=new WeakMap,ey=new WeakMap,cl=new WeakMap,ty=new WeakMap,ii=new WeakMap,Oo=new WeakSet,Yg=function(t,e,s,i,a){const o=new Float64Array(t.length);for(let c=0,u=t.length;c<u;c+=2)o[c]=e+t[c]*i,o[c+1]=s+t[c+1]*a;return o},Xg=function(t,e,s,i,a){const o=new Float64Array(t.length);for(let c=0,u=t.length;c<u;c+=2)o[c]=e+t[c+1]*i,o[c+1]=s+t[c]*a;return o},Qk=function(t){const e=K(this,ii);let s=e[4],i=e[5],a=s,o=i,c=s,u=i,l=s,d=i;const f=t?Math.max:Math.min;for(let m=6,x=e.length;m<x;m+=6){if(isNaN(e[m]))a=Math.min(a,e[m+4]),o=Math.min(o,e[m+5]),c=Math.max(c,e[m+4]),u=Math.max(u,e[m+5]),d<e[m+5]?(l=e[m+4],d=e[m+5]):d===e[m+5]&&(l=f(l,e[m+4]));else{const y=yr.bezierBoundingBox(s,i,...e.slice(m,m+6));a=Math.min(a,y[0]),o=Math.min(o,y[1]),c=Math.max(c,y[2]),u=Math.max(u,y[3]),d<y[3]?(l=y[2],d=y[3]):d===y[3]&&(l=f(l,y[2]))}s=e[m+4],i=e[m+5]}const h=a-K(this,rh),p=o-K(this,rh),g=c-a+2*K(this,rh),v=u-o+2*K(this,rh);Ne(this,um,{x:h,y:p,width:g,height:v,lastPoint:[l,d]})};var ry,ny,Mc,dm,U1,Di,sy,H1,iy,ay,Lc,q1,us,_4,S4,eC,xp,tC,Xh;const Od=class Od{constructor({editor:r=null,uiManager:t=null}){De(this,us);De(this,ry,Ce(this,us,eC).bind(this));De(this,ny,Ce(this,us,tC).bind(this));De(this,Mc,null);De(this,dm,null);De(this,U1);De(this,Di,null);De(this,sy,!1);De(this,H1,!1);De(this,iy,null);De(this,ay);De(this,Lc,null);De(this,q1);var e;r?(Ne(this,H1,!1),Ne(this,q1,Vr.HIGHLIGHT_COLOR),Ne(this,iy,r)):(Ne(this,H1,!0),Ne(this,q1,Vr.HIGHLIGHT_DEFAULT_COLOR)),Ne(this,Lc,(r==null?void 0:r._uiManager)||t),Ne(this,ay,K(this,Lc)._eventBus),Ne(this,U1,(r==null?void 0:r.color)||((e=K(this,Lc))==null?void 0:e.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return In(this,"_keyboardManager",new Ny([[["Escape","mac+Escape"],Od.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Od.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Od.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Od.prototype._moveToPrevious],[["Home","mac+Home"],Od.prototype._moveToBeginning],[["End","mac+End"],Od.prototype._moveToEnd]]))}renderButton(){const r=Ne(this,Mc,document.createElement("button"));r.className="colorPicker",r.tabIndex="0",r.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),r.setAttribute("aria-haspopup",!0);const t=K(this,Lc)._signal;r.addEventListener("click",Ce(this,us,xp).bind(this),{signal:t}),r.addEventListener("keydown",K(this,ry),{signal:t});const e=Ne(this,dm,document.createElement("span"));return e.className="swatch",e.setAttribute("aria-hidden",!0),e.style.backgroundColor=K(this,U1),r.append(e),r}renderMainDropdown(){const r=Ne(this,Di,Ce(this,us,_4).call(this));return r.setAttribute("aria-orientation","horizontal"),r.setAttribute("aria-labelledby","highlightColorPickerLabel"),r}_colorSelectFromKeyboard(r){if(r.target===K(this,Mc)){Ce(this,us,xp).call(this,r);return}const t=r.target.getAttribute("data-color");t&&Ce(this,us,S4).call(this,t,r)}_moveToNext(r){var t,e;if(!K(this,us,Xh)){Ce(this,us,xp).call(this,r);return}if(r.target===K(this,Mc)){(t=K(this,Di).firstChild)==null||t.focus();return}(e=r.target.nextSibling)==null||e.focus()}_moveToPrevious(r){var t,e;if(r.target===((t=K(this,Di))==null?void 0:t.firstChild)||r.target===K(this,Mc)){K(this,us,Xh)&&this._hideDropdownFromKeyboard();return}K(this,us,Xh)||Ce(this,us,xp).call(this,r),(e=r.target.previousSibling)==null||e.focus()}_moveToBeginning(r){var t;if(!K(this,us,Xh)){Ce(this,us,xp).call(this,r);return}(t=K(this,Di).firstChild)==null||t.focus()}_moveToEnd(r){var t;if(!K(this,us,Xh)){Ce(this,us,xp).call(this,r);return}(t=K(this,Di).lastChild)==null||t.focus()}hideDropdown(){var r;(r=K(this,Di))==null||r.classList.add("hidden"),window.removeEventListener("pointerdown",K(this,ny))}_hideDropdownFromKeyboard(){var r;if(!K(this,H1)){if(!K(this,us,Xh)){(r=K(this,iy))==null||r.unselect();return}this.hideDropdown(),K(this,Mc).focus({preventScroll:!0,focusVisible:K(this,sy)})}}updateColor(r){if(K(this,dm)&&(K(this,dm).style.backgroundColor=r),!K(this,Di))return;const t=K(this,Lc).highlightColors.values();for(const e of K(this,Di).children)e.setAttribute("aria-selected",t.next().value===r)}destroy(){var r,t;(r=K(this,Mc))==null||r.remove(),Ne(this,Mc,null),Ne(this,dm,null),(t=K(this,Di))==null||t.remove(),Ne(this,Di,null)}};ry=new WeakMap,ny=new WeakMap,Mc=new WeakMap,dm=new WeakMap,U1=new WeakMap,Di=new WeakMap,sy=new WeakMap,H1=new WeakMap,iy=new WeakMap,ay=new WeakMap,Lc=new WeakMap,q1=new WeakMap,us=new WeakSet,_4=function(){const r=document.createElement("div"),t=K(this,Lc)._signal;r.addEventListener("contextmenu",Fo,{signal:t}),r.className="dropdown",r.role="listbox",r.setAttribute("aria-multiselectable",!1),r.setAttribute("aria-orientation","vertical"),r.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[e,s]of K(this,Lc).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",s),i.title=e,i.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${e}`);const a=document.createElement("span");i.append(a),a.className="swatch",a.style.backgroundColor=s,i.setAttribute("aria-selected",s===K(this,U1)),i.addEventListener("click",Ce(this,us,S4).bind(this,s),{signal:t}),r.append(i)}return r.addEventListener("keydown",K(this,ry),{signal:t}),r},S4=function(r,t){t.stopPropagation(),K(this,ay).dispatch("switchannotationeditorparams",{source:this,type:K(this,q1),value:r})},eC=function(r){Od._keyboardManager.exec(this,r)},xp=function(r){if(K(this,us,Xh)){this.hideDropdown();return}if(Ne(this,sy,r.detail===0),window.addEventListener("pointerdown",K(this,ny),{signal:K(this,Lc)._signal}),K(this,Di)){K(this,Di).classList.remove("hidden");return}const t=Ne(this,Di,Ce(this,us,_4).call(this));K(this,Mc).append(t)},tC=function(r){var t;(t=K(this,Di))!=null&&t.contains(r.target)||this.hideDropdown()},Xh=function(){return K(this,Di)&&!K(this,Di).classList.contains("hidden")};let aw=Od;var W1,oy,mf,hm,z1,Ul,ly,cy,fm,Oc,so,ul,Ow,V1,pm,Ii,$1,Cu,uy,pn,E4,N4,rC,nC,sC,A4,Kg,Vl,U0,iC,Ex,Jg,aC,oC,lC,cC;const Hn=class Hn extends Zn{constructor(t){super({...t,name:"highlightEditor"});De(this,pn);De(this,W1,null);De(this,oy,0);De(this,mf);De(this,hm,null);De(this,z1,null);De(this,Ul,null);De(this,ly,null);De(this,cy,0);De(this,fm,null);De(this,Oc,null);De(this,so,null);De(this,ul,!1);De(this,Ow,Ce(this,pn,iC).bind(this));De(this,V1,null);De(this,pm);De(this,Ii,null);De(this,$1,"");De(this,Cu);De(this,uy,"");this.color=t.color||Hn._defaultColor,Ne(this,Cu,t.thickness||Hn._defaultThickness),Ne(this,pm,t.opacity||Hn._defaultOpacity),Ne(this,mf,t.boxes||null),Ne(this,uy,t.methodOfCreation||""),Ne(this,$1,t.text||""),this._isDraggable=!1,t.highlightId>-1?(Ne(this,ul,!0),Ce(this,pn,N4).call(this,t),Ce(this,pn,Kg).call(this)):(Ne(this,W1,t.anchorNode),Ne(this,oy,t.anchorOffset),Ne(this,ly,t.focusNode),Ne(this,cy,t.focusOffset),Ce(this,pn,E4).call(this),Ce(this,pn,Kg).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Hn.prototype;return In(this,"_keyboardManager",new Ny([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:K(this,ul)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:K(this,Cu),methodOfCreation:K(this,uy)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,e){var s;Zn.initialize(t,e),Hn._defaultColor||(Hn._defaultColor=((s=e.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(t,e){switch(t){case Vr.HIGHLIGHT_DEFAULT_COLOR:Hn._defaultColor=e;break;case Vr.HIGHLIGHT_THICKNESS:Hn._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return K(this,V1)}updateParams(t,e){switch(t){case Vr.HIGHLIGHT_COLOR:Ce(this,pn,rC).call(this,e);break;case Vr.HIGHLIGHT_THICKNESS:Ce(this,pn,nC).call(this,e);break}}static get defaultPropertiesToUpdate(){return[[Vr.HIGHLIGHT_DEFAULT_COLOR,Hn._defaultColor],[Vr.HIGHLIGHT_THICKNESS,Hn._defaultThickness]]}get propertiesToUpdate(){return[[Vr.HIGHLIGHT_COLOR,this.color||Hn._defaultColor],[Vr.HIGHLIGHT_THICKNESS,K(this,Cu)||Hn._defaultThickness],[Vr.HIGHLIGHT_FREE,K(this,ul)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(Ne(this,z1,new aw({editor:this})),t.addColorPicker(K(this,z1))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(Ce(this,pn,Jg).call(this))}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,Ce(this,pn,Jg).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){Ce(this,pn,A4).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(Ce(this,pn,Kg).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let e=!1;this.parent&&!t?Ce(this,pn,A4).call(this):t&&(Ce(this,pn,Kg).call(this,t),e=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),e&&this.select()}rotate(t){var i,a,o;const{drawLayer:e}=this.parent;let s;K(this,ul)?(t=(t-this.rotation+360)%360,s=Ce(i=Hn,Vl,U0).call(i,K(this,Oc).box,t)):s=Ce(a=Hn,Vl,U0).call(a,this,t),e.rotate(K(this,so),t),e.rotate(K(this,Ii),t),e.updateBox(K(this,so),s),e.updateBox(K(this,Ii),Ce(o=Hn,Vl,U0).call(o,K(this,Ul).box,t))}render(){if(this.div)return this.div;const t=super.render();K(this,$1)&&(t.setAttribute("aria-label",K(this,$1)),t.setAttribute("role","mark")),K(this,ul)?t.classList.add("free"):this.div.addEventListener("keydown",K(this,Ow),{signal:this._uiManager._signal});const e=Ne(this,fm,document.createElement("div"));t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=K(this,hm);const[s,i]=this.parentDimensions;return this.setDims(this.width*s,this.height*i),tw(this,K(this,fm),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(K(this,Ii),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(K(this,Ii),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:Ce(this,pn,Ex).call(this,!0);break;case 1:case 3:Ce(this,pn,Ex).call(this,!1);break}}select(){var t,e;super.select(),K(this,Ii)&&((t=this.parent)==null||t.drawLayer.removeClass(K(this,Ii),"hovered"),(e=this.parent)==null||e.drawLayer.addClass(K(this,Ii),"selected"))}unselect(){var t;super.unselect(),K(this,Ii)&&((t=this.parent)==null||t.drawLayer.removeClass(K(this,Ii),"selected"),K(this,ul)||Ce(this,pn,Ex).call(this,!1))}get _mustFixPosition(){return!K(this,ul)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(K(this,so),t),this.parent.drawLayer.show(K(this,Ii),t))}static startHighlighting(t,e,{target:s,x:i,y:a}){const{x:o,y:c,width:u,height:l}=s.getBoundingClientRect(),d=v=>{Ce(this,Vl,lC).call(this,t,v)},f=t._signal,h={capture:!0,passive:!1,signal:f},p=v=>{v.preventDefault(),v.stopPropagation()},g=v=>{s.removeEventListener("pointermove",d),window.removeEventListener("blur",g),window.removeEventListener("pointerup",g),window.removeEventListener("pointerdown",p,h),window.removeEventListener("contextmenu",Fo),Ce(this,Vl,cC).call(this,t,v)};window.addEventListener("blur",g,{signal:f}),window.addEventListener("pointerup",g,{signal:f}),window.addEventListener("pointerdown",p,h),window.addEventListener("contextmenu",Fo,{signal:f}),s.addEventListener("pointermove",d,{signal:f}),this._freeHighlight=new iw({x:i,y:a},[o,c,u,l],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,e,s){var g;const i=super.deserialize(t,e,s),{rect:[a,o,c,u],color:l,quadPoints:d}=t;i.color=yr.makeHexColor(...l),Ne(i,pm,t.opacity);const[f,h]=i.pageDimensions;i.width=(c-a)/f,i.height=(u-o)/h;const p=Ne(i,mf,[]);for(let v=0;v<d.length;v+=8)p.push({x:(d[4]-c)/f,y:(u-(1-d[v+5]))/h,width:(d[v+2]-d[v])/f,height:(d[v+5]-d[v+1])/h});return Ce(g=i,pn,E4).call(g),i}serialize(t=!1){if(this.isEmpty()||t)return null;const e=this.getRect(0,0),s=Zn._colorManager.convert(this.color);return{annotationType:wn.HIGHLIGHT,color:s,opacity:K(this,pm),thickness:K(this,Cu),quadPoints:Ce(this,pn,aC).call(this),outlines:Ce(this,pn,oC).call(this,e),pageIndex:this.pageIndex,rect:e,rotation:Ce(this,pn,Jg).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};W1=new WeakMap,oy=new WeakMap,mf=new WeakMap,hm=new WeakMap,z1=new WeakMap,Ul=new WeakMap,ly=new WeakMap,cy=new WeakMap,fm=new WeakMap,Oc=new WeakMap,so=new WeakMap,ul=new WeakMap,Ow=new WeakMap,V1=new WeakMap,pm=new WeakMap,Ii=new WeakMap,$1=new WeakMap,Cu=new WeakMap,uy=new WeakMap,pn=new WeakSet,E4=function(){const t=new v4(K(this,mf),.001);Ne(this,Oc,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=K(this,Oc).box;const e=new v4(K(this,mf),.0025,.001,this._uiManager.direction==="ltr");Ne(this,Ul,e.getOutlines());const{lastPoint:s}=K(this,Ul).box;Ne(this,V1,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},N4=function({highlightOutlines:t,highlightId:e,clipPathId:s}){var d,f;if(Ne(this,Oc,t),Ne(this,Ul,t.getNewOutline(K(this,Cu)/2+1.5,.0025)),e>=0)Ne(this,so,e),Ne(this,hm,s),this.parent.drawLayer.finalizeLine(e,t),Ne(this,Ii,this.parent.drawLayer.highlightOutline(K(this,Ul)));else if(this.parent){const h=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(K(this,so),t),this.parent.drawLayer.updateBox(K(this,so),Ce(d=Hn,Vl,U0).call(d,K(this,Oc).box,(h-this.rotation+360)%360)),this.parent.drawLayer.updateLine(K(this,Ii),K(this,Ul)),this.parent.drawLayer.updateBox(K(this,Ii),Ce(f=Hn,Vl,U0).call(f,K(this,Ul).box,h))}const{x:a,y:o,width:c,height:u}=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=c,this.height=u;break;case 90:{const[h,p]=this.parentDimensions;this.x=o,this.y=1-a,this.width=c*p/h,this.height=u*h/p;break}case 180:this.x=1-a,this.y=1-o,this.width=c,this.height=u;break;case 270:{const[h,p]=this.parentDimensions;this.x=1-o,this.y=a,this.width=c*p/h,this.height=u*h/p;break}}const{lastPoint:l}=K(this,Ul).box;Ne(this,V1,[(l[0]-a)/c,(l[1]-o)/u])},rC=function(t){const e=i=>{var a,o;this.color=i,(a=this.parent)==null||a.drawLayer.changeColor(K(this,so),i),(o=K(this,z1))==null||o.updateColor(i)},s=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vr.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},nC=function(t){const e=K(this,Cu),s=i=>{Ne(this,Cu,i),Ce(this,pn,sC).call(this,i)};this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vr.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},sC=function(t){if(!K(this,ul))return;Ce(this,pn,N4).call(this,{highlightOutlines:K(this,Oc).getNewOutline(t/2)}),this.fixAndSetPosition();const[e,s]=this.parentDimensions;this.setDims(this.width*e,this.height*s)},A4=function(){K(this,so)===null||!this.parent||(this.parent.drawLayer.remove(K(this,so)),Ne(this,so,null),this.parent.drawLayer.remove(K(this,Ii)),Ne(this,Ii,null))},Kg=function(t=this.parent){K(this,so)===null&&({id:tl(this,so)._,clipPathId:tl(this,hm)._}=t.drawLayer.highlight(K(this,Oc),this.color,K(this,pm)),Ne(this,Ii,t.drawLayer.highlightOutline(K(this,Ul))),K(this,fm)&&(K(this,fm).style.clipPath=K(this,hm)))},Vl=new WeakSet,U0=function({x:t,y:e,width:s,height:i},a){switch(a){case 90:return{x:1-e-i,y:t,width:i,height:s};case 180:return{x:1-t-s,y:1-e-i,width:s,height:i};case 270:return{x:e,y:1-t-s,width:i,height:s}}return{x:t,y:e,width:s,height:i}},iC=function(t){Hn._keyboardManager.exec(this,t)},Ex=function(t){if(!K(this,W1))return;const e=window.getSelection();t?e.setPosition(K(this,W1),K(this,oy)):e.setPosition(K(this,ly),K(this,cy))},Jg=function(){return K(this,ul)?this.rotation:0},aC=function(){if(K(this,ul))return null;const[t,e]=this.pageDimensions,s=K(this,mf),i=new Float32Array(s.length*8);let a=0;for(const{x:o,y:c,width:u,height:l}of s){const d=o*t,f=(1-c-l)*e;i[a]=i[a+4]=d,i[a+1]=i[a+3]=f,i[a+2]=i[a+6]=d+u*t,i[a+5]=i[a+7]=f+l*e,a+=8}return i},oC=function(t){return K(this,Oc).serialize(t,Ce(this,pn,Jg).call(this))},lC=function(t,e){this._freeHighlight.add(e)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},cC=function(t,e){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},De(Hn,Vl),Ot(Hn,"_defaultColor",null),Ot(Hn,"_defaultOpacity",1),Ot(Hn,"_defaultThickness",12),Ot(Hn,"_l10nPromise"),Ot(Hn,"_type","highlight"),Ot(Hn,"_editorType",wn.HIGHLIGHT),Ot(Hn,"_freeHighlightId",-1),Ot(Hn,"_freeHighlight",null),Ot(Hn,"_freeHighlightClipId","");let ow=Hn;var mm,gm,dy,hy,fy,bm,Tu,nh,Hl,vm,ym,sh,xm,wm,gf,or,uC,dC,hC,fC,C4,pC,T4,mC,gC,bC,vC,yC,wp,D4,Nx,Ax,H0,I4,kx,Eh,xC,P4,wC,_C,j4,Cx,Zg;const Os=class Os extends Zn{constructor(t){super({...t,name:"inkEditor"});De(this,or);De(this,mm,0);De(this,gm,0);De(this,dy,this.canvasPointermove.bind(this));De(this,hy,this.canvasPointerleave.bind(this));De(this,fy,this.canvasPointerup.bind(this));De(this,bm,this.canvasPointerdown.bind(this));De(this,Tu,null);De(this,nh,new Path2D);De(this,Hl,!1);De(this,vm,!1);De(this,ym,!1);De(this,sh,null);De(this,xm,0);De(this,wm,0);De(this,gf,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,e){Zn.initialize(t,e)}static updateDefaultParams(t,e){switch(t){case Vr.INK_THICKNESS:Os._defaultThickness=e;break;case Vr.INK_COLOR:Os._defaultColor=e;break;case Vr.INK_OPACITY:Os._defaultOpacity=e/100;break}}updateParams(t,e){switch(t){case Vr.INK_THICKNESS:Ce(this,or,uC).call(this,e);break;case Vr.INK_COLOR:Ce(this,or,dC).call(this,e);break;case Vr.INK_OPACITY:Ce(this,or,hC).call(this,e);break}}static get defaultPropertiesToUpdate(){return[[Vr.INK_THICKNESS,Os._defaultThickness],[Vr.INK_COLOR,Os._defaultColor||Zn._defaultLineColor],[Vr.INK_OPACITY,Math.round(Os._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Vr.INK_THICKNESS,this.thickness||Os._defaultThickness],[Vr.INK_COLOR,this.color||Os._defaultColor||Zn._defaultLineColor],[Vr.INK_OPACITY,Math.round(100*(this.opacity??Os._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Ce(this,or,Nx).call(this),Ce(this,or,Ax).call(this)),this.isAttachedToDOM||(this.parent.add(this),Ce(this,or,H0).call(this)),Ce(this,or,Zg).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,K(this,Tu)&&(clearTimeout(K(this,Tu)),Ne(this,Tu,null)),(t=K(this,sh))==null||t.disconnect(),Ne(this,sh,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,e]=this.parentDimensions,s=this.width*t,i=this.height*e;this.setDimensions(s,i)}enableEditMode(){K(this,Hl)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",K(this,bm),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",K(this,bm)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){K(this,Hl)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Ne(this,Hl,!0),this.div.classList.add("disabled"),Ce(this,or,Zg).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||K(this,Hl)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),Ce(this,or,pC).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),Ce(this,or,T4).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),Ce(this,or,D4).call(this,t)}canvasPointerleave(t){Ce(this,or,D4).call(this,t)}get isResizable(){return!this.isEmpty()&&K(this,Hl)}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[s,i,a,o]=Ce(this,or,fC).call(this);if(this.setAt(s,i,0,0),this.setDims(a,o),Ce(this,or,Nx).call(this),this.width){const[c,u]=this.parentDimensions;this.setAspectRatio(this.width*c,this.height*u),this.setAt(t*c,e*u,this.width*c,this.height*u),Ne(this,ym,!0),Ce(this,or,H0).call(this),this.setDims(this.width*c,this.height*u),Ce(this,or,wp).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Ce(this,or,Ax).call(this),this.div}setDimensions(t,e){const s=Math.round(t),i=Math.round(e);if(K(this,xm)===s&&K(this,wm)===i)return;Ne(this,xm,s),Ne(this,wm,i),this.canvas.style.visibility="hidden";const[a,o]=this.parentDimensions;this.width=t/a,this.height=e/o,this.fixAndSetPosition(),K(this,Hl)&&Ce(this,or,I4).call(this,t,e),Ce(this,or,H0).call(this),Ce(this,or,wp).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,e,s){var v,m,x;if(t instanceof Hk)return null;const i=super.deserialize(t,e,s);i.thickness=t.thickness,i.color=yr.makeHexColor(...t.color),i.opacity=t.opacity;const[a,o]=i.pageDimensions,c=i.width*a,u=i.height*o,l=i.parentScale,d=t.thickness/2;Ne(i,Hl,!0),Ne(i,xm,Math.round(c)),Ne(i,wm,Math.round(u));const{paths:f,rect:h,rotation:p}=t;for(let{bezier:y}of f){y=Ce(v=Os,Eh,wC).call(v,y,h,p);const w=[];i.paths.push(w);let E=l*(y[0]-d),I=l*(y[1]-d);for(let R=2,D=y.length;R<D;R+=6){const L=l*(y[R]-d),M=l*(y[R+1]-d),H=l*(y[R+2]-d),V=l*(y[R+3]-d),P=l*(y[R+4]-d),F=l*(y[R+5]-d);w.push([[E,I],[L,M],[H,V],[P,F]]),E=P,I=F}const T=Ce(this,Eh,xC).call(this,w);i.bezierPath2D.push(T)}const g=Ce(m=i,or,j4).call(m);return Ne(i,gm,Math.max(Zn.MIN_SIZE,g[2]-g[0])),Ne(i,mm,Math.max(Zn.MIN_SIZE,g[3]-g[1])),Ce(x=i,or,I4).call(x,c,u),i}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),e=Zn._colorManager.convert(this.ctx.strokeStyle);return{annotationType:wn.INK,color:e,thickness:this.thickness,opacity:this.opacity,paths:Ce(this,or,_C).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};mm=new WeakMap,gm=new WeakMap,dy=new WeakMap,hy=new WeakMap,fy=new WeakMap,bm=new WeakMap,Tu=new WeakMap,nh=new WeakMap,Hl=new WeakMap,vm=new WeakMap,ym=new WeakMap,sh=new WeakMap,xm=new WeakMap,wm=new WeakMap,gf=new WeakMap,or=new WeakSet,uC=function(t){const e=i=>{this.thickness=i,Ce(this,or,Zg).call(this)},s=this.thickness;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vr.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},dC=function(t){const e=i=>{this.color=i,Ce(this,or,wp).call(this)},s=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vr.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},hC=function(t){const e=i=>{this.opacity=i,Ce(this,or,wp).call(this)};t/=100;const s=this.opacity;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vr.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},fC=function(){const{parentRotation:t,parentDimensions:[e,s]}=this;switch(t){case 90:return[0,s,s,e];case 180:return[e,s,e,s];case 270:return[e,0,s,e];default:return[0,0,e,s]}},C4=function(){const{ctx:t,color:e,opacity:s,thickness:i,parentScale:a,scaleFactor:o}=this;t.lineWidth=i*a/o,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${e}${n$(s)}`},pC=function(t,e){const s=this._uiManager._signal;this.canvas.addEventListener("contextmenu",Fo,{signal:s}),this.canvas.addEventListener("pointerleave",K(this,hy),{signal:s}),this.canvas.addEventListener("pointermove",K(this,dy),{signal:s}),this.canvas.addEventListener("pointerup",K(this,fy),{signal:s}),this.canvas.removeEventListener("pointerdown",K(this,bm)),this.isEditing=!0,K(this,ym)||(Ne(this,ym,!0),Ce(this,or,H0).call(this),this.thickness||(this.thickness=Os._defaultThickness),this.color||(this.color=Os._defaultColor||Zn._defaultLineColor),this.opacity??(this.opacity=Os._defaultOpacity)),this.currentPath.push([t,e]),Ne(this,vm,!1),Ce(this,or,C4).call(this),Ne(this,gf,()=>{Ce(this,or,bC).call(this),K(this,gf)&&window.requestAnimationFrame(K(this,gf))}),window.requestAnimationFrame(K(this,gf))},T4=function(t,e){const[s,i]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===s&&e===i)return;const a=this.currentPath;let o=K(this,nh);if(a.push([t,e]),Ne(this,vm,!0),a.length<=2){o.moveTo(...a[0]),o.lineTo(t,e);return}a.length===3&&(Ne(this,nh,o=new Path2D),o.moveTo(...a[0])),Ce(this,or,vC).call(this,o,...a.at(-3),...a.at(-2),t,e)},mC=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);K(this,nh).lineTo(...t)},gC=function(t,e){Ne(this,gf,null),t=Math.min(Math.max(t,0),this.canvas.width),e=Math.min(Math.max(e,0),this.canvas.height),Ce(this,or,T4).call(this,t,e),Ce(this,or,mC).call(this);let s;if(this.currentPath.length!==1)s=Ce(this,or,yC).call(this);else{const u=[t,e];s=[[u,u.slice(),u.slice(),u]]}const i=K(this,nh),a=this.currentPath;this.currentPath=[],Ne(this,nh,new Path2D);const o=()=>{this.allRawPaths.push(a),this.paths.push(s),this.bezierPath2D.push(i),this._uiManager.rebuild(this)},c=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Ce(this,or,Nx).call(this),Ce(this,or,Ax).call(this)),Ce(this,or,Zg).call(this))};this.addCommands({cmd:o,undo:c,mustExec:!0})},bC=function(){if(!K(this,vm))return;Ne(this,vm,!1);const t=Math.ceil(this.thickness*this.parentScale),e=this.currentPath.slice(-3),s=e.map(o=>o[0]),i=e.map(o=>o[1]);Math.min(...s)-t,Math.max(...s)+t,Math.min(...i)-t,Math.max(...i)+t;const{ctx:a}=this;a.save(),a.clearRect(0,0,this.canvas.width,this.canvas.height);for(const o of this.bezierPath2D)a.stroke(o);a.stroke(K(this,nh)),a.restore()},vC=function(t,e,s,i,a,o,c){const u=(e+i)/2,l=(s+a)/2,d=(i+o)/2,f=(a+c)/2;t.bezierCurveTo(u+2*(i-u)/3,l+2*(a-l)/3,d+2*(i-d)/3,f+2*(a-f)/3,d,f)},yC=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const e=[];let s,[i,a]=t[0];for(s=1;s<t.length-2;s++){const[h,p]=t[s],[g,v]=t[s+1],m=(h+g)/2,x=(p+v)/2,y=[i+2*(h-i)/3,a+2*(p-a)/3],w=[m+2*(h-m)/3,x+2*(p-x)/3];e.push([[i,a],y,w,[m,x]]),[i,a]=[m,x]}const[o,c]=t[s],[u,l]=t[s+1],d=[i+2*(o-i)/3,a+2*(c-a)/3],f=[u+2*(o-u)/3,l+2*(c-l)/3];return e.push([[i,a],d,f,[u,l]]),e},wp=function(){if(this.isEmpty()){Ce(this,or,kx).call(this);return}Ce(this,or,C4).call(this);const{canvas:t,ctx:e}=this;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height),Ce(this,or,kx).call(this);for(const s of this.bezierPath2D)e.stroke(s)},D4=function(t){this.canvas.removeEventListener("pointerleave",K(this,hy)),this.canvas.removeEventListener("pointermove",K(this,dy)),this.canvas.removeEventListener("pointerup",K(this,fy)),this.canvas.addEventListener("pointerdown",K(this,bm),{signal:this._uiManager._signal}),K(this,Tu)&&clearTimeout(K(this,Tu)),Ne(this,Tu,setTimeout(()=>{Ne(this,Tu,null),this.canvas.removeEventListener("contextmenu",Fo)},10)),Ce(this,or,gC).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Nx=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Ax=function(){Ne(this,sh,new ResizeObserver(t=>{const e=t[0].contentRect;e.width&&e.height&&this.setDimensions(e.width,e.height)})),K(this,sh).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=K(this,sh))==null||t.disconnect(),Ne(this,sh,null)},{once:!0})},H0=function(){if(!K(this,ym))return;const[t,e]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*e),Ce(this,or,kx).call(this)},I4=function(t,e){const s=Ce(this,or,Cx).call(this),i=(t-s)/K(this,gm),a=(e-s)/K(this,mm);this.scaleFactor=Math.min(i,a)},kx=function(){const t=Ce(this,or,Cx).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Eh=new WeakSet,xC=function(t){const e=new Path2D;for(let s=0,i=t.length;s<i;s++){const[a,o,c,u]=t[s];s===0&&e.moveTo(...a),e.bezierCurveTo(o[0],o[1],c[0],c[1],u[0],u[1])}return e},P4=function(t,e,s){const[i,a,o,c]=e;switch(s){case 0:for(let u=0,l=t.length;u<l;u+=2)t[u]+=i,t[u+1]=c-t[u+1];break;case 90:for(let u=0,l=t.length;u<l;u+=2){const d=t[u];t[u]=t[u+1]+i,t[u+1]=d+a}break;case 180:for(let u=0,l=t.length;u<l;u+=2)t[u]=o-t[u],t[u+1]+=a;break;case 270:for(let u=0,l=t.length;u<l;u+=2){const d=t[u];t[u]=o-t[u+1],t[u+1]=c-d}break;default:throw new Error("Invalid rotation")}return t},wC=function(t,e,s){const[i,a,o,c]=e;switch(s){case 0:for(let u=0,l=t.length;u<l;u+=2)t[u]-=i,t[u+1]=c-t[u+1];break;case 90:for(let u=0,l=t.length;u<l;u+=2){const d=t[u];t[u]=t[u+1]-a,t[u+1]=d-i}break;case 180:for(let u=0,l=t.length;u<l;u+=2)t[u]=o-t[u],t[u+1]-=a;break;case 270:for(let u=0,l=t.length;u<l;u+=2){const d=t[u];t[u]=c-t[u+1],t[u+1]=o-d}break;default:throw new Error("Invalid rotation")}return t},_C=function(t,e,s,i){var l,d;const a=[],o=this.thickness/2,c=t*e+o,u=t*s+o;for(const f of this.paths){const h=[],p=[];for(let g=0,v=f.length;g<v;g++){const[m,x,y,w]=f[g];if(m[0]===w[0]&&m[1]===w[1]&&v===1){const V=t*m[0]+c,P=t*m[1]+u;h.push(V,P),p.push(V,P);break}const E=t*m[0]+c,I=t*m[1]+u,T=t*x[0]+c,R=t*x[1]+u,D=t*y[0]+c,L=t*y[1]+u,M=t*w[0]+c,H=t*w[1]+u;g===0&&(h.push(E,I),p.push(E,I)),h.push(T,R,D,L,M,H),p.push(T,R),g===v-1&&p.push(M,H)}a.push({bezier:Ce(l=Os,Eh,P4).call(l,h,i,this.rotation),points:Ce(d=Os,Eh,P4).call(d,p,i,this.rotation)})}return a},j4=function(){let t=1/0,e=-1/0,s=1/0,i=-1/0;for(const a of this.paths)for(const[o,c,u,l]of a){const d=yr.bezierBoundingBox(...o,...c,...u,...l);t=Math.min(t,d[0]),s=Math.min(s,d[1]),e=Math.max(e,d[2]),i=Math.max(i,d[3])}return[t,s,e,i]},Cx=function(){return K(this,Hl)?Math.ceil(this.thickness*this.parentScale):0},Zg=function(t=!1){if(this.isEmpty())return;if(!K(this,Hl)){Ce(this,or,wp).call(this);return}const e=Ce(this,or,j4).call(this),s=Ce(this,or,Cx).call(this);Ne(this,gm,Math.max(Zn.MIN_SIZE,e[2]-e[0])),Ne(this,mm,Math.max(Zn.MIN_SIZE,e[3]-e[1]));const i=Math.ceil(s+K(this,gm)*this.scaleFactor),a=Math.ceil(s+K(this,mm)*this.scaleFactor),[o,c]=this.parentDimensions;this.width=i/o,this.height=a/c,this.setAspectRatio(i,a);const u=this.translationX,l=this.translationY;this.translationX=-e[0],this.translationY=-e[1],Ce(this,or,H0).call(this),Ce(this,or,wp).call(this),Ne(this,xm,i),Ne(this,wm,a),this.setDims(i,a);const d=t?s/this.scaleFactor/2:0;this.translate(u-this.translationX-d,l-this.translationY-d)},De(Os,Eh),Ot(Os,"_defaultColor",null),Ot(Os,"_defaultOpacity",1),Ot(Os,"_defaultThickness",1),Ot(Os,"_type","ink"),Ot(Os,"_editorType",wn.INK);let k4=Os;var ua,da,bf,ih,vf,G1,Du,ah,Iu,Fc,py,On,Qg,eb,Tx,M4,SC,EC,L4,Dx,NC;const _b=class _b extends Zn{constructor(t){super({...t,name:"stampEditor"});De(this,On);De(this,ua,null);De(this,da,null);De(this,bf,null);De(this,ih,null);De(this,vf,null);De(this,G1,"");De(this,Du,null);De(this,ah,null);De(this,Iu,null);De(this,Fc,!1);De(this,py,!1);Ne(this,ih,t.bitmapUrl),Ne(this,vf,t.bitmapFile)}static initialize(t,e){Zn.initialize(t,e)}static get supportedTypes(){return In(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(e=>`image/${e}`))}static get supportedTypesStr(){return In(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,e){e.pasteEditor(wn.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,e;K(this,da)&&(Ne(this,ua,null),this._uiManager.imageManager.deleteId(K(this,da)),(t=K(this,Du))==null||t.remove(),Ne(this,Du,null),(e=K(this,ah))==null||e.disconnect(),Ne(this,ah,null),K(this,Iu)&&(clearTimeout(K(this,Iu)),Ne(this,Iu,null))),super.remove()}rebuild(){if(!this.parent){K(this,da)&&Ce(this,On,Tx).call(this);return}super.rebuild(),this.div!==null&&(K(this,da)&&K(this,Du)===null&&Ce(this,On,Tx).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(K(this,bf)||K(this,ua)||K(this,ih)||K(this,vf)||K(this,da))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;if(this.width&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),K(this,ua)?Ce(this,On,M4).call(this):Ce(this,On,Tx).call(this),this.width){const[s,i]=this.parentDimensions;this.setAt(t*s,e*i,this.width*s,this.height*i)}return this.div}getImageForAltText(){return K(this,Du)}static deserialize(t,e,s){if(t instanceof qk)return null;const i=super.deserialize(t,e,s),{rect:a,bitmapUrl:o,bitmapId:c,isSvg:u,accessibilityData:l}=t;c&&s.imageManager.isValidId(c)?Ne(i,da,c):Ne(i,ih,o),Ne(i,Fc,u);const[d,f]=i.pageDimensions;return i.width=(a[2]-a[0])/d,i.height=(a[3]-a[1])/f,l&&(i.altTextData=l),i}serialize(t=!1,e=null){if(this.isEmpty())return null;const s={annotationType:wn.STAMP,bitmapId:K(this,da),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:K(this,Fc),structTreeParentId:this._structTreeParentId};if(t)return s.bitmapUrl=Ce(this,On,Dx).call(this,!0),s.accessibilityData=this.altTextData,s;const{decorative:i,altText:a}=this.altTextData;if(!i&&a&&(s.accessibilityData={type:"Figure",alt:a}),e===null)return s;e.stamps||(e.stamps=new Map);const o=K(this,Fc)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!e.stamps.has(K(this,da)))e.stamps.set(K(this,da),{area:o,serialized:s}),s.bitmap=Ce(this,On,Dx).call(this,!1);else if(K(this,Fc)){const c=e.stamps.get(K(this,da));o>c.area&&(c.area=o,c.serialized.bitmap.close(),c.serialized.bitmap=Ce(this,On,Dx).call(this,!1))}return s}};ua=new WeakMap,da=new WeakMap,bf=new WeakMap,ih=new WeakMap,vf=new WeakMap,G1=new WeakMap,Du=new WeakMap,ah=new WeakMap,Iu=new WeakMap,Fc=new WeakMap,py=new WeakMap,On=new WeakSet,Qg=function(t,e=!1){if(!t){this.remove();return}Ne(this,ua,t.bitmap),e||(Ne(this,da,t.id),Ne(this,Fc,t.isSvg)),t.file&&Ne(this,G1,t.file.name),Ce(this,On,M4).call(this)},eb=function(){Ne(this,bf,null),this._uiManager.enableWaiting(!1),K(this,Du)&&this.div.focus()},Tx=function(){if(K(this,da)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(K(this,da)).then(s=>Ce(this,On,Qg).call(this,s,!0)).finally(()=>Ce(this,On,eb).call(this));return}if(K(this,ih)){const s=K(this,ih);Ne(this,ih,null),this._uiManager.enableWaiting(!0),Ne(this,bf,this._uiManager.imageManager.getFromUrl(s).then(i=>Ce(this,On,Qg).call(this,i)).finally(()=>Ce(this,On,eb).call(this)));return}if(K(this,vf)){const s=K(this,vf);Ne(this,vf,null),this._uiManager.enableWaiting(!0),Ne(this,bf,this._uiManager.imageManager.getFromFile(s).then(i=>Ce(this,On,Qg).call(this,i)).finally(()=>Ce(this,On,eb).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=_b.supportedTypesStr;const e=this._uiManager._signal;Ne(this,bf,new Promise(s=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(t.files[0]);Ce(this,On,Qg).call(this,i)}s()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),s()},{signal:e})}).finally(()=>Ce(this,On,eb).call(this))),t.click()},M4=function(){const{div:t}=this;let{width:e,height:s}=K(this,ua);const[i,a]=this.pageDimensions,o=.75;if(this.width)e=this.width*i,s=this.height*a;else if(e>o*i||s>o*a){const d=Math.min(o*i/e,o*a/s);e*=d,s*=d}const[c,u]=this.parentDimensions;this.setDims(e*c/i,s*u/a),this._uiManager.enableWaiting(!1);const l=Ne(this,Du,document.createElement("canvas"));t.append(l),t.hidden=!1,Ce(this,On,L4).call(this,e,s),Ce(this,On,NC).call(this),K(this,py)||(this.parent.addUndoableEditor(this),Ne(this,py,!0)),this._reportTelemetry({action:"inserted_image"}),K(this,G1)&&l.setAttribute("aria-label",K(this,G1))},SC=function(t,e){var o;const[s,i]=this.parentDimensions;this.width=t/s,this.height=e/i,this.setDims(t,e),(o=this._initialOptions)!=null&&o.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,K(this,Iu)!==null&&clearTimeout(K(this,Iu)),Ne(this,Iu,setTimeout(()=>{Ne(this,Iu,null),Ce(this,On,L4).call(this,t,e)},200))},EC=function(t,e){const{width:s,height:i}=K(this,ua);let a=s,o=i,c=K(this,ua);for(;a>2*t||o>2*e;){const u=a,l=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*e&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const d=new OffscreenCanvas(a,o);d.getContext("2d").drawImage(c,0,0,u,l,0,0,a,o),c=d.transferToImageBitmap()}return c},L4=function(t,e){t=Math.ceil(t),e=Math.ceil(e);const s=K(this,Du);if(!s||s.width===t&&s.height===e)return;s.width=t,s.height=e;const i=K(this,Fc)?K(this,ua):Ce(this,On,EC).call(this,t,e);if(this._uiManager.hasMLManager&&!this.hasAltText()){const c=new OffscreenCanvas(t,e).getContext("2d");c.drawImage(i,0,0,i.width,i.height,0,0,t,e),this._uiManager.mlGuess({service:"image-to-text",request:{data:c.getImageData(0,0,t,e).data,width:t,height:e,channels:4}}).then(u=>{const l=(u==null?void 0:u.output)||"";this.parent&&l&&!this.hasAltText()&&(this.altTextData={altText:l,decorative:!1})})}const a=s.getContext("2d");a.filter=this._uiManager.hcmFilter,a.drawImage(i,0,0,i.width,i.height,0,0,t,e)},Dx=function(t){if(t){if(K(this,Fc)){const i=this._uiManager.imageManager.getSvgUrl(K(this,da));if(i)return i}const e=document.createElement("canvas");return{width:e.width,height:e.height}=K(this,ua),e.getContext("2d").drawImage(K(this,ua),0,0),e.toDataURL()}if(K(this,Fc)){const[e,s]=this.pageDimensions,i=Math.round(this.width*e*Bf.PDF_TO_CSS_UNITS),a=Math.round(this.height*s*Bf.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(i,a);return o.getContext("2d").drawImage(K(this,ua),0,0,K(this,ua).width,K(this,ua).height,0,0,i,a),o.transferToImageBitmap()}return structuredClone(K(this,ua))},NC=function(){this._uiManager._signal&&(Ne(this,ah,new ResizeObserver(t=>{const e=t[0].contentRect;e.width&&e.height&&Ce(this,On,SC).call(this,e.width,e.height)})),K(this,ah).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=K(this,ah))==null||t.disconnect(),Ne(this,ah,null)},{once:!0}))},Ot(_b,"_type","stamp"),Ot(_b,"_editorType",wn.STAMP);let R4=_b;var _m,Y1,Pu,Sm,oh,lh,ch,dl,yf,X1,K1,io,kr,xf,ma,AC,F4,B4,U4,Ix;const Sc=class Sc{constructor({uiManager:r,pageIndex:t,div:e,accessibilityManager:s,annotationLayer:i,drawLayer:a,textLayer:o,viewport:c,l10n:u}){De(this,ma);De(this,_m);De(this,Y1,!1);De(this,Pu,null);De(this,Sm,null);De(this,oh,null);De(this,lh,null);De(this,ch,null);De(this,dl,new Map);De(this,yf,!1);De(this,X1,!1);De(this,K1,!1);De(this,io,null);De(this,kr);const l=[...K(Sc,xf).values()];if(!Sc._initialized){Sc._initialized=!0;for(const d of l)d.initialize(u,r)}r.registerEditorTypes(l),Ne(this,kr,r),this.pageIndex=t,this.div=e,Ne(this,_m,s),Ne(this,Pu,i),this.viewport=c,Ne(this,io,o),this.drawLayer=a,K(this,kr).addLayer(this)}get isEmpty(){return K(this,dl).size===0}get isInvisible(){return this.isEmpty&&K(this,kr).getMode()===wn.NONE}updateToolbar(r){K(this,kr).updateToolbar(r)}updateMode(r=K(this,kr).getMode()){switch(Ce(this,ma,Ix).call(this),r){case wn.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case wn.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case wn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const e of K(Sc,xf).values())t.toggle(`${e._type}Editing`,r===e._editorType);this.div.hidden=!1}hasTextLayer(r){var t;return r===((t=K(this,io))==null?void 0:t.div)}addInkEditorIfNeeded(r){if(K(this,kr).getMode()!==wn.INK)return;if(!r){for(const e of K(this,dl).values())if(e.isEmpty()){e.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(r){K(this,kr).setEditingState(r)}addCommands(r){K(this,kr).addCommands(r)}togglePointerEvents(r=!1){this.div.classList.toggle("disabled",!r)}toggleAnnotationLayerPointerEvents(r=!1){var t;(t=K(this,Pu))==null||t.div.classList.toggle("disabled",!r)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const r=new Set;for(const e of K(this,dl).values())e.enableEditing(),e.show(!0),e.annotationElementId&&(K(this,kr).removeChangedExistingAnnotation(e),r.add(e.annotationElementId));if(!K(this,Pu))return;const t=K(this,Pu).getEditableAnnotations();for(const e of t){if(e.hide(),K(this,kr).isDeletedAnnotationElement(e.data.id)||r.has(e.data.id))continue;const s=this.deserialize(e);s&&(this.addOrRebuild(s),s.enableEditing())}}disable(){var s;Ne(this,K1,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const r=new Map,t=new Map;for(const i of K(this,dl).values())if(i.disableEditing(),!!i.annotationElementId){if(i.serialize()!==null){r.set(i.annotationElementId,i);continue}else t.set(i.annotationElementId,i);(s=this.getEditableAnnotation(i.annotationElementId))==null||s.show(),i.remove()}if(K(this,Pu)){const i=K(this,Pu).getEditableAnnotations();for(const a of i){const{id:o}=a.data;if(K(this,kr).isDeletedAnnotationElement(o))continue;let c=t.get(o);if(c){c.resetAnnotationElement(a),c.show(!1),a.show();continue}c=r.get(o),c&&(K(this,kr).addChangedExistingAnnotation(c),c.renderAnnotationElement(a),c.show(!1)),a.show()}}Ce(this,ma,Ix).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:e}=this.div;for(const i of K(Sc,xf).values())e.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),Ne(this,K1,!1)}getEditableAnnotation(r){var t;return((t=K(this,Pu))==null?void 0:t.getEditableAnnotation(r))||null}setActiveEditor(r){K(this,kr).getActive()!==r&&K(this,kr).setActiveEditor(r)}enableTextSelection(){var r;this.div.tabIndex=-1,(r=K(this,io))!=null&&r.div&&!K(this,lh)&&(Ne(this,lh,Ce(this,ma,AC).bind(this)),K(this,io).div.addEventListener("pointerdown",K(this,lh),{signal:K(this,kr)._signal}),K(this,io).div.classList.add("highlighting"))}disableTextSelection(){var r;this.div.tabIndex=0,(r=K(this,io))!=null&&r.div&&K(this,lh)&&(K(this,io).div.removeEventListener("pointerdown",K(this,lh)),Ne(this,lh,null),K(this,io).div.classList.remove("highlighting"))}enableClick(){if(K(this,oh))return;const r=K(this,kr)._signal;Ne(this,oh,this.pointerdown.bind(this)),Ne(this,Sm,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",K(this,oh),{signal:r}),this.div.addEventListener("pointerup",K(this,Sm),{signal:r})}disableClick(){K(this,oh)&&(this.div.removeEventListener("pointerdown",K(this,oh)),this.div.removeEventListener("pointerup",K(this,Sm)),Ne(this,oh,null),Ne(this,Sm,null))}attach(r){K(this,dl).set(r.id,r);const{annotationElementId:t}=r;t&&K(this,kr).isDeletedAnnotationElement(t)&&K(this,kr).removeDeletedAnnotationElement(r)}detach(r){var t;K(this,dl).delete(r.id),(t=K(this,_m))==null||t.removePointerInTextLayer(r.contentDiv),!K(this,K1)&&r.annotationElementId&&K(this,kr).addDeletedAnnotationElement(r)}remove(r){this.detach(r),K(this,kr).removeEditor(r),r.div.remove(),r.isAttachedToDOM=!1,K(this,X1)||this.addInkEditorIfNeeded(!1)}changeParent(r){var t;r.parent!==this&&(r.parent&&r.annotationElementId&&(K(this,kr).addDeletedAnnotationElement(r.annotationElementId),Zn.deleteAnnotationElement(r),r.annotationElementId=null),this.attach(r),(t=r.parent)==null||t.detach(r),r.setParent(this),r.div&&r.isAttachedToDOM&&(r.div.remove(),this.div.append(r.div)))}add(r){if(!(r.parent===this&&r.isAttachedToDOM)){if(this.changeParent(r),K(this,kr).addEditor(r),this.attach(r),!r.isAttachedToDOM){const t=r.render();this.div.append(t),r.isAttachedToDOM=!0}r.fixAndSetPosition(),r.onceAdded(),K(this,kr).addToAnnotationStorage(r),r._reportTelemetry(r.telemetryInitialData)}}moveEditorInDOM(r){var e;if(!r.isAttachedToDOM)return;const{activeElement:t}=document;r.div.contains(t)&&!K(this,ch)&&(r._focusEventsAllowed=!1,Ne(this,ch,setTimeout(()=>{Ne(this,ch,null),r.div.contains(document.activeElement)?r._focusEventsAllowed=!0:(r.div.addEventListener("focusin",()=>{r._focusEventsAllowed=!0},{once:!0,signal:K(this,kr)._signal}),t.focus())},0))),r._structTreeParentId=(e=K(this,_m))==null?void 0:e.moveElementInDOM(this.div,r.div,r.contentDiv,!0)}addOrRebuild(r){r.needsToBeRebuilt()?(r.parent||(r.parent=this),r.rebuild(),r.show()):this.add(r)}addUndoableEditor(r){const t=()=>r._uiManager.rebuild(r),e=()=>{r.remove()};this.addCommands({cmd:t,undo:e,mustExec:!1})}getNextId(){return K(this,kr).getId()}get _signal(){return K(this,kr)._signal}canCreateNewEmptyEditor(){var r;return(r=K(this,ma,F4))==null?void 0:r.canCreateNewEmptyEditor()}pasteEditor(r,t){K(this,kr).updateToolbar(r),K(this,kr).updateMode(r);const{offsetX:e,offsetY:s}=Ce(this,ma,U4).call(this),i=this.getNextId(),a=Ce(this,ma,B4).call(this,{parent:this,id:i,x:e,y:s,uiManager:K(this,kr),isCentered:!0,...t});a&&this.add(a)}deserialize(r){var t;return((t=K(Sc,xf).get(r.annotationType??r.annotationEditorType))==null?void 0:t.deserialize(r,this,K(this,kr)))||null}createAndAddNewEditor(r,t,e={}){const s=this.getNextId(),i=Ce(this,ma,B4).call(this,{parent:this,id:s,x:r.offsetX,y:r.offsetY,uiManager:K(this,kr),isCentered:t,...e});return i&&this.add(i),i}addNewEditor(){this.createAndAddNewEditor(Ce(this,ma,U4).call(this),!0)}setSelected(r){K(this,kr).setSelected(r)}toggleSelected(r){K(this,kr).toggleSelected(r)}isSelected(r){return K(this,kr).isSelected(r)}unselect(r){K(this,kr).unselect(r)}pointerup(r){const{isMac:t}=Lo.platform;if(!(r.button!==0||r.ctrlKey&&t)&&r.target===this.div&&K(this,yf)){if(Ne(this,yf,!1),!K(this,Y1)){Ne(this,Y1,!0);return}if(K(this,kr).getMode()===wn.STAMP){K(this,kr).unselectAll();return}this.createAndAddNewEditor(r,!1)}}pointerdown(r){if(K(this,kr).getMode()===wn.HIGHLIGHT&&this.enableTextSelection(),K(this,yf)){Ne(this,yf,!1);return}const{isMac:t}=Lo.platform;if(r.button!==0||r.ctrlKey&&t||r.target!==this.div)return;Ne(this,yf,!0);const e=K(this,kr).getActive();Ne(this,Y1,!e||e.isEmpty())}findNewParent(r,t,e){const s=K(this,kr).findParent(t,e);return s===null||s===this?!1:(s.changeParent(r),!0)}destroy(){var r,t;((r=K(this,kr).getActive())==null?void 0:r.parent)===this&&(K(this,kr).commitOrRemove(),K(this,kr).setActiveEditor(null)),K(this,ch)&&(clearTimeout(K(this,ch)),Ne(this,ch,null));for(const e of K(this,dl).values())(t=K(this,_m))==null||t.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,K(this,dl).clear(),K(this,kr).removeLayer(this)}render({viewport:r}){this.viewport=r,Lm(this.div,r);for(const t of K(this,kr).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:r}){K(this,kr).commitOrRemove(),Ce(this,ma,Ix).call(this);const t=this.viewport.rotation,e=r.rotation;if(this.viewport=r,Lm(this.div,{rotation:e}),t!==e)for(const s of K(this,dl).values())s.rotate(e);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:r,pageHeight:t}=this.viewport.rawDims;return[r,t]}get scale(){return K(this,kr).viewParameters.realScale}};_m=new WeakMap,Y1=new WeakMap,Pu=new WeakMap,Sm=new WeakMap,oh=new WeakMap,lh=new WeakMap,ch=new WeakMap,dl=new WeakMap,yf=new WeakMap,X1=new WeakMap,K1=new WeakMap,io=new WeakMap,kr=new WeakMap,xf=new WeakMap,ma=new WeakSet,AC=function(r){if(K(this,kr).unselectAll(),r.target===K(this,io).div){const{isMac:t}=Lo.platform;if(r.button!==0||r.ctrlKey&&t)return;K(this,kr).showAllEditors("highlight",!0,!0),K(this,io).div.classList.add("free"),ow.startHighlighting(this,K(this,kr).direction==="ltr",r),K(this,io).div.addEventListener("pointerup",()=>{K(this,io).div.classList.remove("free")},{once:!0,signal:K(this,kr)._signal}),r.preventDefault()}},F4=function(){return K(Sc,xf).get(K(this,kr).getMode())},B4=function(r){const t=K(this,ma,F4);return t?new t.prototype.constructor(r):null},U4=function(){const{x:r,y:t,width:e,height:s}=this.div.getBoundingClientRect(),i=Math.max(0,r),a=Math.max(0,t),o=Math.min(window.innerWidth,r+e),c=Math.min(window.innerHeight,t+s),u=(i+o)/2-r,l=(a+c)/2-t,[d,f]=this.viewport.rotation%180===0?[u,l]:[l,u];return{offsetX:d,offsetY:f}},Ix=function(){Ne(this,X1,!0);for(const r of K(this,dl).values())r.isEmpty()&&r.remove();Ne(this,X1,!1)},Ot(Sc,"_initialized",!1),De(Sc,xf,new Map([g4,k4,R4,ow].map(r=>[r._editorType,r])));let O4=Sc;var ju,my,Pi,wf,gy,q4,Vm,W4,kC;const ia=class ia{constructor({pageIndex:r}){De(this,Vm);De(this,ju,null);De(this,my,0);De(this,Pi,new Map);De(this,wf,new Map);this.pageIndex=r}setParent(r){if(!K(this,ju)){Ne(this,ju,r);return}if(K(this,ju)!==r){if(K(this,Pi).size>0)for(const t of K(this,Pi).values())t.remove(),r.append(t);Ne(this,ju,r)}}static get _svgFactory(){return In(this,"_svgFactory",new M8)}highlight(r,t,e,s=!1){const i=tl(this,my)._++,a=Ce(this,Vm,W4).call(this,r.box);a.classList.add("highlight"),r.free&&a.classList.add("free");const o=ia._svgFactory.createElement("defs");a.append(o);const c=ia._svgFactory.createElement("path");o.append(c);const u=`path_p${this.pageIndex}_${i}`;c.setAttribute("id",u),c.setAttribute("d",r.toSVGPath()),s&&K(this,wf).set(i,c);const l=Ce(this,Vm,kC).call(this,o,u),d=ia._svgFactory.createElement("use");return a.append(d),a.setAttribute("fill",t),a.setAttribute("fill-opacity",e),d.setAttribute("href",`#${u}`),K(this,Pi).set(i,a),{id:i,clipPathId:`url(#${l})`}}highlightOutline(r){const t=tl(this,my)._++,e=Ce(this,Vm,W4).call(this,r.box);e.classList.add("highlightOutline");const s=ia._svgFactory.createElement("defs");e.append(s);const i=ia._svgFactory.createElement("path");s.append(i);const a=`path_p${this.pageIndex}_${t}`;i.setAttribute("id",a),i.setAttribute("d",r.toSVGPath()),i.setAttribute("vector-effect","non-scaling-stroke");let o;if(r.free){e.classList.add("free");const l=ia._svgFactory.createElement("mask");s.append(l),o=`mask_p${this.pageIndex}_${t}`,l.setAttribute("id",o),l.setAttribute("maskUnits","objectBoundingBox");const d=ia._svgFactory.createElement("rect");l.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const f=ia._svgFactory.createElement("use");l.append(f),f.setAttribute("href",`#${a}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const c=ia._svgFactory.createElement("use");e.append(c),c.setAttribute("href",`#${a}`),o&&c.setAttribute("mask",`url(#${o})`);const u=c.cloneNode();return e.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),K(this,Pi).set(t,e),t}finalizeLine(r,t){const e=K(this,wf).get(r);K(this,wf).delete(r),this.updateBox(r,t.box),e.setAttribute("d",t.toSVGPath())}updateLine(r,t){K(this,Pi).get(r).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(r){this.remove(r),K(this,wf).delete(r)}updatePath(r,t){K(this,wf).get(r).setAttribute("d",t.toSVGPath())}updateBox(r,t){var e;Ce(e=ia,gy,q4).call(e,K(this,Pi).get(r),t)}show(r,t){K(this,Pi).get(r).classList.toggle("hidden",!t)}rotate(r,t){K(this,Pi).get(r).setAttribute("data-main-rotation",t)}changeColor(r,t){K(this,Pi).get(r).setAttribute("fill",t)}changeOpacity(r,t){K(this,Pi).get(r).setAttribute("fill-opacity",t)}addClass(r,t){K(this,Pi).get(r).classList.add(t)}removeClass(r,t){K(this,Pi).get(r).classList.remove(t)}remove(r){K(this,ju)!==null&&(K(this,Pi).get(r).remove(),K(this,Pi).delete(r))}destroy(){Ne(this,ju,null);for(const r of K(this,Pi).values())r.remove();K(this,Pi).clear()}};ju=new WeakMap,my=new WeakMap,Pi=new WeakMap,wf=new WeakMap,gy=new WeakSet,q4=function(r,{x:t=0,y:e=0,width:s=1,height:i=1}={}){const{style:a}=r;a.top=`${100*e}%`,a.left=`${100*t}%`,a.width=`${100*s}%`,a.height=`${100*i}%`},Vm=new WeakSet,W4=function(r){var e;const t=ia._svgFactory.create(1,1,!0);return K(this,ju).append(t),t.setAttribute("aria-hidden",!0),Ce(e=ia,gy,q4).call(e,t,r),t},kC=function(r,t){const e=ia._svgFactory.createElement("clipPath");r.append(e);const s=`clip_${t}`;e.setAttribute("id",s),e.setAttribute("clipPathUnits","objectBoundingBox");const i=ia._svgFactory.createElement("use");return e.append(i),i.setAttribute("href",`#${t}`),i.classList.add("clip"),s},De(ia,gy);let H4=ia;var RG=qr.AbortException,MG=qr.AnnotationEditorLayer,LG=qr.AnnotationEditorParamsType,OG=qr.AnnotationEditorType,FG=qr.AnnotationEditorUIManager,CC=qr.AnnotationLayer,TC=qr.AnnotationMode,BG=qr.CMapCompressionType,UG=qr.ColorPicker,HG=qr.DOMSVGFactory,qG=qr.DrawLayer,WG=qr.FeatureTest,DC=qr.GlobalWorkerOptions,zG=qr.ImageKind,VG=qr.InvalidPDFException,$G=qr.MissingPDFException,GG=qr.OPS,YG=qr.Outliner,XG=qr.PDFDataRangeTransport,KG=qr.PDFDateString,JG=qr.PDFWorker,ZG=qr.PasswordResponses,QG=qr.PermissionFlag,eY=qr.PixelsPerInch,tY=qr.RenderingCancelledException,IC=qr.TextLayer,rY=qr.UnexpectedResponseException,nY=qr.Util,sY=qr.VerbosityLevel,iY=qr.XfaLayer,aY=qr.build,oY=qr.createValidAbsoluteUrl,lY=qr.fetchData,PC=qr.getDocument,cY=qr.getFilenameFromUrl,uY=qr.getPdfFilenameFromUrl,dY=qr.getXfaPageViewport,hY=qr.isDataScheme,fY=qr.isPdfFile,pY=qr.noContextMenu,mY=qr.normalizeUnicode,gY=qr.renderTextLayer,bY=qr.setLayerDimensions,vY=qr.shadow,yY=qr.updateTextLayer,xY=qr.version;const wY=Object.freeze(Object.defineProperty({__proto__:null,AbortException:RG,AnnotationEditorLayer:MG,AnnotationEditorParamsType:LG,AnnotationEditorType:OG,AnnotationEditorUIManager:FG,AnnotationLayer:CC,AnnotationMode:TC,CMapCompressionType:BG,ColorPicker:UG,DOMSVGFactory:HG,DrawLayer:qG,FeatureTest:WG,GlobalWorkerOptions:DC,ImageKind:zG,InvalidPDFException:VG,MissingPDFException:$G,OPS:GG,Outliner:YG,PDFDataRangeTransport:XG,PDFDateString:KG,PDFWorker:JG,PasswordResponses:ZG,PermissionFlag:QG,PixelsPerInch:eY,RenderingCancelledException:tY,TextLayer:IC,UnexpectedResponseException:rY,Util:nY,VerbosityLevel:sY,XfaLayer:iY,build:aY,createValidAbsoluteUrl:oY,fetchData:lY,getDocument:PC,getFilenameFromUrl:cY,getPdfFilenameFromUrl:uY,getXfaPageViewport:dY,isDataScheme:hY,isPdfFile:fY,noContextMenu:pY,normalizeUnicode:mY,renderTextLayer:gY,setLayerDimensions:bY,shadow:vY,updateTextLayer:yY,version:xY},Symbol.toStringTag,{value:"Module"}));var $i=function(n,r,t){if(t||arguments.length===2)for(var e=0,s=r.length,i;e<s;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return n.concat(i||Array.prototype.slice.call(r))},_Y=["onCopy","onCut","onPaste"],SY=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],EY=["onFocus","onBlur"],NY=["onInput","onInvalid","onReset","onSubmit"],AY=["onLoad","onError"],kY=["onKeyDown","onKeyPress","onKeyUp"],CY=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],TY=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],DY=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],IY=["onSelect"],PY=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],jY=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],RY=["onScroll"],MY=["onWheel"],LY=["onAnimationStart","onAnimationEnd","onAnimationIteration"],OY=["onTransitionEnd"],FY=["onToggle"],BY=["onChange"],UY=$i($i($i($i($i($i($i($i($i($i($i($i($i($i($i($i($i($i([],_Y,!0),SY,!0),EY,!0),NY,!0),AY,!0),kY,!0),CY,!0),TY,!0),DY,!0),IY,!0),PY,!0),jY,!0),RY,!0),MY,!0),LY,!0),OY,!0),BY,!0),FY,!0);function jC(n,r){var t={};return UY.forEach(function(e){var s=n[e];s&&(r?t[e]=function(i){return s(i,r(e))}:t[e]=s)}),t}function Cy(n){var r=!1,t=new Promise(function(e,s){n.then(function(i){return!r&&e(i)}).catch(function(i){return!r&&s(i)})});return{promise:t,cancel:function(){r=!0}}}var HY="Invariant failed";function cs(n,r){if(!n)throw new Error(HY)}var qY=function(){},WY=qY;const Ha=GN(WY);var d3=Object.prototype.hasOwnProperty;function h3(n,r,t){for(t of n.keys())if(J0(t,r))return t}function J0(n,r){var t,e,s;if(n===r)return!0;if(n&&r&&(t=n.constructor)===r.constructor){if(t===Date)return n.getTime()===r.getTime();if(t===RegExp)return n.toString()===r.toString();if(t===Array){if((e=n.length)===r.length)for(;e--&&J0(n[e],r[e]););return e===-1}if(t===Set){if(n.size!==r.size)return!1;for(e of n)if(s=e,s&&typeof s=="object"&&(s=h3(r,s),!s)||!r.has(s))return!1;return!0}if(t===Map){if(n.size!==r.size)return!1;for(e of n)if(s=e[0],s&&typeof s=="object"&&(s=h3(r,s),!s)||!J0(e[1],r.get(s)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),r=new Uint8Array(r);else if(t===DataView){if((e=n.byteLength)===r.byteLength)for(;e--&&n.getInt8(e)===r.getInt8(e););return e===-1}if(ArrayBuffer.isView(n)){if((e=n.byteLength)===r.byteLength)for(;e--&&n[e]===r[e];);return e===-1}if(!t||typeof n=="object"){e=0;for(t in n)if(d3.call(n,t)&&++e&&!d3.call(r,t)||!(t in r)||!J0(n[t],r[t]))return!1;return Object.keys(r).length===e}}return n!==n&&r!==r}const RC=ne.createContext(null);function Z0({children:n,type:r}){return b.jsx("div",{className:`react-pdf__message react-pdf__message--${r}`,children:n})}const zY="noopener noreferrer nofollow";class VY{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(r){this.pdfDocument=r}setViewer(r){this.pdfViewer=r}setExternalLinkRel(r){this.externalLinkRel=r}setExternalLinkTarget(r){this.externalLinkTarget=r}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return cs(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(r){cs(this.pdfViewer),this.pdfViewer.currentPageNumber=r}get rotation(){return 0}set rotation(r){}goToDestination(r){return new Promise(t=>{cs(this.pdfDocument),cs(r),typeof r=="string"?this.pdfDocument.getDestination(r).then(t):Array.isArray(r)?t(r):r.then(t)}).then(t=>{cs(Array.isArray(t));const e=t[0];new Promise(s=>{cs(this.pdfDocument),e instanceof Object?this.pdfDocument.getPageIndex(e).then(i=>{s(i)}).catch(()=>{cs(!1)}):typeof e=="number"?s(e):cs(!1)}).then(s=>{const i=s+1;cs(this.pdfViewer),cs(i>=1&&i<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:s,pageNumber:i})})})}navigateTo(r){this.goToDestination(r)}goToPage(r){const t=r-1;cs(this.pdfViewer),cs(r>=1&&r<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:r})}addLinkAttributes(r,t,e){r.href=t,r.rel=this.externalLinkRel||zY,r.target=e?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const f3={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},d5=typeof window<"u",MC=d5&&window.location.protocol==="file:";function $Y(n){return typeof n<"u"}function mp(n){return $Y(n)&&n!==null}function GY(n){return typeof n=="string"}function YY(n){return n instanceof ArrayBuffer}function XY(n){return cs(d5),n instanceof Blob}function z4(n){return GY(n)&&/^data:/.test(n)}function p3(n){cs(z4(n));const[r="",t=""]=n.split(",");return r.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function KY(){return d5&&window.devicePixelRatio||1}const LC="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function m3(){Ha(!MC,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${LC}`)}function JY(){Ha(!MC,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${LC}`)}function Bm(n){n!=null&&n.cancel&&n.cancel()}function V4(n,r){return Object.defineProperty(n,"width",{get(){return this.view[2]*r},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*r},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function ZY(n){return n.name==="RenderingCancelledException"}function QY(n){return new Promise((r,t)=>{const e=new FileReader;e.onload=()=>{if(!e.result)return t(new Error("Error while reading a file."));r(e.result)},e.onerror=s=>{if(!s.target)return t(new Error("Error while reading a file."));const{error:i}=s.target;if(!i)return t(new Error("Error while reading a file."));switch(i.code){case i.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case i.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case i.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},e.readAsArrayBuffer(n)})}function eX(n,r){switch(r.type){case"RESOLVE":return{value:r.value,error:void 0};case"REJECT":return{value:!1,error:r.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function sg(){return ne.useReducer(eX,{value:void 0,error:void 0})}var tX=function(n,r,t,e){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(l){try{u(e.next(l))}catch(d){a(d)}}function c(l){try{u(e.throw(l))}catch(d){a(d)}}function u(l){l.done?i(l.value):s(l.value).then(o,c)}u((e=e.apply(n,r||[])).next())})},g3=function(n,r){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&r.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,e=Object.getOwnPropertySymbols(n);s<e.length;s++)r.indexOf(e[s])<0&&Object.prototype.propertyIsEnumerable.call(n,e[s])&&(t[e[s]]=n[e[s]]);return t};const{PDFDataRangeTransport:rX}=wY,nX=(n,r)=>{switch(r){case f3.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case f3.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function b3(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const h5=ne.forwardRef(function(r,t){var{children:e,className:s,error:i="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:o,file:c,inputRef:u,imageResourcesPath:l,loading:d="Loading PDF",noData:f="No PDF file specified.",onItemClick:h,onLoadError:p,onLoadProgress:g,onLoadSuccess:v,onPassword:m=nX,onSourceError:x,onSourceSuccess:y,options:w,renderMode:E,rotate:I}=r,T=g3(r,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[R,D]=sg(),{value:L,error:M}=R,[H,V]=sg(),{value:P,error:F}=H,A=ne.useRef(new VY),_=ne.useRef([]),S=ne.useRef(void 0),N=ne.useRef(void 0);c&&c!==S.current&&b3(c)&&(Ha(!J0(c,S.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),S.current=c),w&&w!==N.current&&(Ha(!J0(w,N.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),N.current=w);const C=ne.useRef({scrollPageIntoView:oe=>{const{dest:ue,pageNumber:le,pageIndex:ce=le-1}=oe;if(h){h({dest:ue,pageIndex:ce,pageNumber:le});return}const _e=_.current[ce];if(_e){_e.scrollIntoView();return}Ha(!1,`An internal link leading to page ${le} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});ne.useImperativeHandle(t,()=>({linkService:A,pages:_,viewer:C}),[]);function W(){y&&y()}function j(){M&&(Ha(!1,M.toString()),x&&x(M))}function B(){D({type:"RESET"})}ne.useEffect(B,[c,D]);const G=ne.useCallback(()=>tX(this,void 0,void 0,function*(){if(!c)return null;if(typeof c=="string")return z4(c)?{data:p3(c)}:(m3(),{url:c});if(c instanceof rX)return{range:c};if(YY(c))return{data:c};if(d5&&XY(c))return{data:yield QY(c)};if(cs(typeof c=="object"),cs(b3(c)),"url"in c&&typeof c.url=="string"){if(z4(c.url)){const{url:oe}=c,ue=g3(c,["url"]),le=p3(oe);return Object.assign({data:le},ue)}m3()}return c}),[c]);ne.useEffect(()=>{const oe=Cy(G());return oe.promise.then(ue=>{D({type:"RESOLVE",value:ue})}).catch(ue=>{D({type:"REJECT",error:ue})}),()=>{Bm(oe)}},[G,D]),ne.useEffect(()=>{if(!(typeof L>"u")){if(L===!1){j();return}W()}},[L]);function X(){P&&(v&&v(P),_.current=new Array(P.numPages),A.current.setDocument(P))}function J(){F&&(Ha(!1,F.toString()),p&&p(F))}ne.useEffect(function(){V({type:"RESET"})},[V,L]),ne.useEffect(function(){if(!L)return;const ue=w?Object.assign(Object.assign({},L),w):L,le=PC(ue);g&&(le.onProgress=g),m&&(le.onPassword=m);const ce=le,_e=ce.promise.then(fe=>{V({type:"RESOLVE",value:fe})}).catch(fe=>{ce.destroyed||V({type:"REJECT",error:fe})});return()=>{_e.finally(()=>ce.destroy())}},[w,V,L]),ne.useEffect(()=>{if(!(typeof P>"u")){if(P===!1){J();return}X()}},[P]),ne.useEffect(function(){A.current.setViewer(C.current),A.current.setExternalLinkRel(a),A.current.setExternalLinkTarget(o)},[a,o]);const O=ne.useCallback((oe,ue)=>{_.current[oe]=ue},[]),ee=ne.useCallback(oe=>{delete _.current[oe]},[]),U=ne.useMemo(()=>({imageResourcesPath:l,linkService:A.current,onItemClick:h,pdf:P,registerPage:O,renderMode:E,rotate:I,unregisterPage:ee}),[l,h,P,O,E,I,ee]),z=ne.useMemo(()=>jC(T,()=>P),[T,P]);function Z(){return b.jsx(RC.Provider,{value:U,children:e})}function te(){return c?P==null?b.jsx(Z0,{type:"loading",children:typeof d=="function"?d():d}):P===!1?b.jsx(Z0,{type:"error",children:typeof i=="function"?i():i}):Z():b.jsx(Z0,{type:"no-data",children:typeof f=="function"?f():f})}return b.jsx("div",Object.assign({className:Xs("react-pdf__Document",s),ref:u,style:{"--scale-factor":"1"}},z,{children:te()}))});function OC(){return ne.useContext(RC)}function FC(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var t=n.filter(Boolean);if(t.length<=1){var e=t[0];return e||null}return function(i){t.forEach(function(a){typeof a=="function"?a(i):a&&(a.current=i)})}}const BC=ne.createContext(null),UC={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},sX=/^H(\d+)$/;function iX(n){return n in UC}function f5(n){return"children"in n}function HC(n){return f5(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function aX(n){const r={};if(f5(n)){const{role:t}=n,e=t.match(sX);if(e)r.role="heading",r["aria-level"]=Number(e[1]);else if(iX(t)){const s=UC[t];s&&(r.role=s)}}return r}function qC(n){const r={};if(f5(n)){if(n.alt!==void 0&&(r["aria-label"]=n.alt),n.lang!==void 0&&(r.lang=n.lang),HC(n)){const[t]=n.children;if(t){const e=qC(t);return Object.assign(Object.assign({},r),e)}}}else"id"in n&&(r["aria-owns"]=n.id);return r}function oX(n){return n?Object.assign(Object.assign({},aX(n)),qC(n)):null}function WC({className:n,node:r}){const t=ne.useMemo(()=>oX(r),[r]),e=ne.useMemo(()=>!f5(r)||HC(r)?null:r.children.map((s,i)=>b.jsx(WC,{node:s},i)),[r]);return b.jsx("span",Object.assign({className:n},t,{children:e}))}function p5(){return ne.useContext(BC)}function lX(){const n=p5();cs(n);const{onGetStructTreeError:r,onGetStructTreeSuccess:t}=n,[e,s]=sg(),{value:i,error:a}=e,{customTextRenderer:o,page:c}=n;function u(){i&&t&&t(i)}function l(){a&&(Ha(!1,a.toString()),r&&r(a))}return ne.useEffect(function(){s({type:"RESET"})},[s,c]),ne.useEffect(function(){if(o||!c)return;const f=Cy(c.getStructTree()),h=f;return f.promise.then(p=>{s({type:"RESOLVE",value:p})}).catch(p=>{s({type:"REJECT",error:p})}),()=>Bm(h)},[o,c,s]),ne.useEffect(()=>{if(i!==void 0){if(i===!1){l();return}u()}},[i]),i?b.jsx(WC,{className:"react-pdf__Page__structTree structTree",node:i}):null}const v3=TC;function cX(n){const r=p5();cs(r);const t=Object.assign(Object.assign({},r),n),{_className:e,canvasBackground:s,devicePixelRatio:i=KY(),onRenderError:a,onRenderSuccess:o,page:c,renderForms:u,renderTextLayer:l,rotate:d,scale:f}=t,{canvasRef:h}=n;cs(c);const p=ne.useRef(null);function g(){c&&o&&o(V4(c,f))}function v(w){ZY(w)||(Ha(!1,w.toString()),a&&a(w))}const m=ne.useMemo(()=>c.getViewport({scale:f*i,rotation:d}),[i,c,d,f]),x=ne.useMemo(()=>c.getViewport({scale:f,rotation:d}),[c,d,f]);ne.useEffect(function(){if(!c)return;c.cleanup();const{current:E}=p;if(!E)return;E.width=m.width,E.height=m.height,E.style.width=`${Math.floor(x.width)}px`,E.style.height=`${Math.floor(x.height)}px`,E.style.visibility="hidden";const I={annotationMode:u?v3.ENABLE_FORMS:v3.ENABLE,canvasContext:E.getContext("2d",{alpha:!1}),viewport:m};s&&(I.background=s);const T=c.render(I),R=T;return T.promise.then(()=>{E.style.visibility="",g()}).catch(v),()=>Bm(R)},[s,c,u,m,x]);const y=ne.useCallback(()=>{const{current:w}=p;w&&(w.width=0,w.height=0)},[]);return ne.useEffect(()=>y,[y]),b.jsx("canvas",{className:`${e}__canvas`,dir:"ltr",ref:FC(h,p),style:{display:"block",userSelect:"none"},children:l?b.jsx(lX,{}):null})}function uX(n){return"str"in n}function dX(){const n=p5();cs(n);const{customTextRenderer:r,onGetTextError:t,onGetTextSuccess:e,onRenderTextLayerError:s,onRenderTextLayerSuccess:i,page:a,pageIndex:o,pageNumber:c,rotate:u,scale:l}=n;cs(a);const[d,f]=sg(),{value:h,error:p}=d,g=ne.useRef(null),v=ne.useRef(void 0);Ha(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function m(){h&&e&&e(h)}function x(){p&&(Ha(!1,p.toString()),t&&t(p))}ne.useEffect(function(){f({type:"RESET"})},[a,f]),ne.useEffect(function(){if(!a)return;const D=Cy(a.getTextContent()),L=D;return D.promise.then(M=>{f({type:"RESOLVE",value:M})}).catch(M=>{f({type:"REJECT",error:M})}),()=>Bm(L)},[a,f]),ne.useEffect(()=>{if(h!==void 0){if(h===!1){x();return}m()}},[h]);const y=ne.useCallback(()=>{i&&i()},[i]),w=ne.useCallback(R=>{Ha(!1,R.toString()),s&&s(R)},[s]);function E(){const R=v.current;R&&R.classList.add("active")}function I(){const R=v.current;R&&R.classList.remove("active")}const T=ne.useMemo(()=>a.getViewport({scale:l,rotation:u}),[a,u,l]);return ne.useLayoutEffect(function(){if(!a||!h)return;const{current:D}=g;if(!D)return;D.innerHTML="";const L=a.streamTextContent({includeMarkedContent:!0}),M={container:D,textContentSource:L,viewport:T},H=new IC(M),V=H;return H.render().then(()=>{const P=document.createElement("div");P.className="endOfContent",D.append(P),v.current=P;const F=D.querySelectorAll('[role="presentation"]');if(r){let A=0;h.items.forEach((_,S)=>{if(!uX(_))return;const N=F[A];if(!N)return;const C=r(Object.assign({pageIndex:o,pageNumber:c,itemIndex:S},_));N.innerHTML=C,A+=_.str&&_.hasEOL?2:1})}y()}).catch(w),()=>Bm(V)},[r,w,y,a,o,c,h,T]),b.jsx("div",{className:Xs("react-pdf__Page__textContent","textLayer"),onMouseUp:I,onMouseDown:E,ref:g})}function hX(){const n=OC(),r=p5();cs(r);const t=Object.assign(Object.assign({},n),r),{imageResourcesPath:e,linkService:s,onGetAnnotationsError:i,onGetAnnotationsSuccess:a,onRenderAnnotationLayerError:o,onRenderAnnotationLayerSuccess:c,page:u,pdf:l,renderForms:d,rotate:f,scale:h=1}=t;cs(l),cs(u),cs(s);const[p,g]=sg(),{value:v,error:m}=p,x=ne.useRef(null);Ha(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function y(){v&&a&&a(v)}function w(){m&&(Ha(!1,m.toString()),i&&i(m))}ne.useEffect(function(){g({type:"RESET"})},[g,u]),ne.useEffect(function(){if(!u)return;const D=Cy(u.getAnnotations()),L=D;return D.promise.then(M=>{g({type:"RESOLVE",value:M})}).catch(M=>{g({type:"REJECT",error:M})}),()=>{Bm(L)}},[g,u]),ne.useEffect(()=>{if(v!==void 0){if(v===!1){w();return}y()}},[v]);function E(){c&&c()}function I(R){Ha(!1,`${R}`),o&&o(R)}const T=ne.useMemo(()=>u.getViewport({scale:h,rotation:f}),[u,f,h]);return ne.useEffect(function(){if(!l||!u||!s||!v)return;const{current:D}=x;if(!D)return;const L=T.clone({dontFlip:!0}),M={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:D,l10n:null,page:u,viewport:L},H={annotations:v,annotationStorage:l.annotationStorage,div:D,imageResourcesPath:e,linkService:s,page:u,renderForms:d,viewport:L};D.innerHTML="";try{new CC(M).render(H),E()}catch(V){I(V)}return()=>{}},[v,e,s,u,l,d,T]),b.jsx("div",{className:Xs("react-pdf__Page__annotations","annotationLayer"),ref:x})}var fX=function(n,r){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&r.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,e=Object.getOwnPropertySymbols(n);s<e.length;s++)r.indexOf(e[s])<0&&Object.prototype.propertyIsEnumerable.call(n,e[s])&&(t[e[s]]=n[e[s]]);return t};const y3=1;function m5(n){const r=OC(),t=Object.assign(Object.assign({},r),n),{_className:e="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:i,canvasRef:a,children:o,className:c,customRenderer:u,customTextRenderer:l,devicePixelRatio:d,error:f="Failed to load the page.",height:h,inputRef:p,loading:g="Loading page",noData:v="No page specified.",onGetAnnotationsError:m,onGetAnnotationsSuccess:x,onGetStructTreeError:y,onGetStructTreeSuccess:w,onGetTextError:E,onGetTextSuccess:I,onLoadError:T,onLoadSuccess:R,onRenderAnnotationLayerError:D,onRenderAnnotationLayerSuccess:L,onRenderError:M,onRenderSuccess:H,onRenderTextLayerError:V,onRenderTextLayerSuccess:P,pageIndex:F,pageNumber:A,pdf:_,registerPage:S,renderAnnotationLayer:N=!0,renderForms:C=!1,renderMode:W="canvas",renderTextLayer:j=!0,rotate:B,scale:G=y3,unregisterPage:X,width:J}=t,O=fX(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[ee,U]=sg(),{value:z,error:Z}=ee,te=ne.useRef(null);cs(_);const oe=mp(A)?A-1:F??null,ue=A??(mp(F)?F+1:null),le=B??(z?z.rotate:null),ce=ne.useMemo(()=>{if(!z)return null;let $e=1;const Ve=G??y3;if(J||h){const He=z.getViewport({scale:1,rotation:le});J?$e=J/He.width:h&&($e=h/He.height)}return Ve*$e},[h,z,le,G,J]);ne.useEffect(function(){return()=>{mp(oe)&&s&&X&&X(oe)}},[s,_,oe,X]);function _e(){if(R){if(!z||!ce)return;R(V4(z,ce))}if(s&&S){if(!mp(oe)||!te.current)return;S(oe,te.current)}}function fe(){Z&&(Ha(!1,Z.toString()),T&&T(Z))}ne.useEffect(function(){U({type:"RESET"})},[U,_,oe]),ne.useEffect(function(){if(!_||!ue)return;const Ve=Cy(_.getPage(ue)),He=Ve;return Ve.promise.then(rt=>{U({type:"RESOLVE",value:rt})}).catch(rt=>{U({type:"REJECT",error:rt})}),()=>Bm(He)},[U,_,ue]),ne.useEffect(()=>{if(z!==void 0){if(z===!1){fe();return}_e()}},[z,ce]);const ge=ne.useMemo(()=>z&&mp(oe)&&ue&&mp(le)&&mp(ce)?{_className:e,canvasBackground:i,customTextRenderer:l,devicePixelRatio:d,onGetAnnotationsError:m,onGetAnnotationsSuccess:x,onGetStructTreeError:y,onGetStructTreeSuccess:w,onGetTextError:E,onGetTextSuccess:I,onRenderAnnotationLayerError:D,onRenderAnnotationLayerSuccess:L,onRenderError:M,onRenderSuccess:H,onRenderTextLayerError:V,onRenderTextLayerSuccess:P,page:z,pageIndex:oe,pageNumber:ue,renderForms:C,renderTextLayer:j,rotate:le,scale:ce}:null,[e,i,l,d,m,x,y,w,E,I,D,L,M,H,V,P,z,oe,ue,C,j,le,ce]),xe=ne.useMemo(()=>jC(O,()=>z&&(ce?V4(z,ce):void 0)),[O,z,ce]),Le=`${oe}@${ce}/${le}`;function Me(){switch(W){case"custom":return cs(u),b.jsx(u,{},`${Le}_custom`);case"none":return null;case"canvas":default:return b.jsx(cX,{canvasRef:a},`${Le}_canvas`)}}function Oe(){return j?b.jsx(dX,{},`${Le}_text`):null}function ze(){return N?b.jsx(hX,{},`${Le}_annotations`):null}function Ke(){return b.jsxs(BC.Provider,{value:ge,children:[Me(),Oe(),ze(),o]})}function ot(){return ue?_===null||z===void 0||z===null?b.jsx(Z0,{type:"loading",children:typeof g=="function"?g():g}):_===!1||z===!1?b.jsx(Z0,{type:"error",children:typeof f=="function"?f():f}):Ke():b.jsx(Z0,{type:"no-data",children:typeof v=="function"?v():v})}return b.jsx("div",Object.assign({className:Xs(e,c),"data-page-number":ue,ref:FC(p,te),style:{"--scale-factor":`${ce}`,backgroundColor:i||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},xe,{children:ot()}))}JY();DC.workerSrc="pdf.worker.mjs";var zC={exports:{}};(function(n,r){(function(t,e){n.exports=e(ne,YN)})(typeof self<"u"?self:Sb,function(t,e){return function(){var s={328:function(c,u,l){Object.defineProperty(u,"__esModule",{value:!0}),u.PrintContextConsumer=u.PrintContext=void 0;var d=l(496),f=Object.prototype.hasOwnProperty.call(d,"createContext");u.PrintContext=f?d.createContext({}):null,u.PrintContextConsumer=u.PrintContext?u.PrintContext.Consumer:function(){return null}},428:function(c,u,l){Object.defineProperty(u,"__esModule",{value:!0}),u.ReactToPrint=void 0;var d=l(316),f=l(496),h=l(190),p=l(328),g=l(940),v=function(m){function x(){var y=m.apply(this,d.__spreadArray([],d.__read(arguments),!1))||this;return y.startPrint=function(w){var E=y.props,I=E.onAfterPrint,T=E.onPrintError,R=E.print,D=E.documentTitle;setTimeout(function(){var L,M;if(w.contentWindow)if(w.contentWindow.focus(),R)R(w).then(function(){return I==null?void 0:I()}).then(function(){return y.handleRemoveIframe()}).catch(function(P){T?T("print",P):y.logMessages(["An error was thrown by the specified `print` function"])});else{if(w.contentWindow.print){var H=(M=(L=w.contentDocument)===null||L===void 0?void 0:L.title)!==null&&M!==void 0?M:"",V=w.ownerDocument.title;D&&(w.ownerDocument.title=D,w.contentDocument&&(w.contentDocument.title=D)),w.contentWindow.print(),D&&(w.ownerDocument.title=V,w.contentDocument&&(w.contentDocument.title=H))}else y.logMessages(["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."]);I==null||I(),y.handleRemoveIframe()}else y.logMessages(["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/gregnb/react-to-print/issues/"])},500)},y.triggerPrint=function(w){var E=y.props,I=E.onBeforePrint,T=E.onPrintError;if(I){var R=I();R&&typeof R.then=="function"?R.then(function(){y.startPrint(w)}).catch(function(D){T&&T("onBeforePrint",D)}):y.startPrint(w)}else y.startPrint(w)},y.handlePrint=function(w){var E=y.props,I=E.bodyClass,T=E.content,R=E.copyStyles,D=E.fonts,L=E.pageStyle,M=E.nonce,H=typeof w=="function"?w():null;if(H&&typeof T=="function"&&y.logMessages(['"react-to-print" received a `content` prop and a content param passed the callback return by `useReactToPrint. The `content` prop will be ignored.'],"warning"),H||typeof T!="function"||(H=T()),H!==void 0)if(H!==null){var V=document.createElement("iframe");V.width="".concat(document.documentElement.clientWidth,"px"),V.height="".concat(document.documentElement.clientHeight,"px"),V.style.position="absolute",V.style.top="-".concat(document.documentElement.clientHeight+100,"px"),V.style.left="-".concat(document.documentElement.clientWidth+100,"px"),V.id="printWindow",V.srcdoc="<!DOCTYPE html>";var P=(0,h.findDOMNode)(H);if(P){var F=P.cloneNode(!0),A=F instanceof Text,_=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),S=A?[]:F.querySelectorAll("img"),N=A?[]:F.querySelectorAll("video"),C=D?D.length:0;y.numResourcesToLoad=_.length+S.length+N.length+C,y.resourcesLoaded=[],y.resourcesErrored=[];var W=function(j,B){y.resourcesLoaded.includes(j)?y.logMessages(["Tried to mark a resource that has already been handled",j],"debug"):(B?(y.logMessages(d.__spreadArray(['"react-to-print" was unable to load a resource but will continue attempting to print the page'],d.__read(B),!1)),y.resourcesErrored.push(j)):y.resourcesLoaded.push(j),y.resourcesLoaded.length+y.resourcesErrored.length===y.numResourcesToLoad&&y.triggerPrint(V))};V.onload=function(){var j,B,G,X;V.onload=null;var J=V.contentDocument||((B=V.contentWindow)===null||B===void 0?void 0:B.document);if(J){J.body.appendChild(F),D&&(!((G=V.contentDocument)===null||G===void 0)&&G.fonts&&(!((X=V.contentWindow)===null||X===void 0)&&X.FontFace)?D.forEach(function(Ve){var He=new FontFace(Ve.family,Ve.source,{weight:Ve.weight,style:Ve.style});V.contentDocument.fonts.add(He),He.loaded.then(function(){W(He)}).catch(function(rt){W(He,["Failed loading the font:",He,"Load error:",rt])})}):(D.forEach(function(Ve){return W(Ve)}),y.logMessages(['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'])));var O=typeof L=="function"?L():L;if(typeof O!="string")y.logMessages(['"react-to-print" expected a "string" from `pageStyle` but received "'.concat(typeof O,'". Styles from `pageStyle` will not be applied.')]);else{var ee=J.createElement("style");M&&(ee.setAttribute("nonce",M),J.head.setAttribute("nonce",M)),ee.appendChild(J.createTextNode(O)),J.head.appendChild(ee)}if(I&&(j=J.body.classList).add.apply(j,d.__spreadArray([],d.__read(I.split(" ")),!1)),!A){for(var U=A?[]:P.querySelectorAll("canvas"),z=J.querySelectorAll("canvas"),Z=0;Z<U.length;++Z){var te=U[Z],oe=z[Z].getContext("2d");oe&&oe.drawImage(te,0,0)}var ue=function(Ve){var He=S[Ve],rt=He.getAttribute("src");if(rt){var Je=new Image;Je.onload=function(){return W(He)},Je.onerror=function(wt,yt,kt,mt,At){return W(He,["Error loading <img>",He,"Error",At])},Je.src=rt}else W(He,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it. The <img> is:',He])};for(Z=0;Z<S.length;Z++)ue(Z);var le=function(Ve){var He=N[Ve];He.preload="auto";var rt=He.getAttribute("poster");if(rt){var Je=new Image;Je.onload=function(){return W(He)},Je.onerror=function(wt,yt,kt,mt,At){return W(He,["Error loading video poster",rt,"for video",He,"Error:",At])},Je.src=rt}else He.readyState>=2?W(He):(He.onloadeddata=function(){return W(He)},He.onerror=function(wt,yt,kt,mt,At){return W(He,["Error loading video",He,"Error",At])},He.onstalled=function(){return W(He,["Loading video stalled, skipping",He])})};for(Z=0;Z<N.length;Z++)le(Z);var ce="input",_e=P.querySelectorAll(ce),fe=J.querySelectorAll(ce);for(Z=0;Z<_e.length;Z++)fe[Z].value=_e[Z].value;var ge="input[type=checkbox],input[type=radio]",xe=P.querySelectorAll(ge),Le=J.querySelectorAll(ge);for(Z=0;Z<xe.length;Z++)Le[Z].checked=xe[Z].checked;var Me="select",Oe=P.querySelectorAll(Me),ze=J.querySelectorAll(Me);for(Z=0;Z<Oe.length;Z++)ze[Z].value=Oe[Z].value}if(R)for(var Ke=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']"),ot=function(Ve,He){var rt=Ke[Ve];if(rt.tagName.toLowerCase()==="style"){var Je=J.createElement(rt.tagName),wt=rt.sheet;if(wt){var yt="";try{for(var kt=wt.cssRules.length,mt=0;mt<kt;++mt)typeof wt.cssRules[mt].cssText=="string"&&(yt+="".concat(wt.cssRules[mt].cssText,`\r
`))}catch{y.logMessages(["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/gregnb/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",rt],"warning")}Je.setAttribute("id","react-to-print-".concat(Ve)),M&&Je.setAttribute("nonce",M),Je.appendChild(J.createTextNode(yt)),J.head.appendChild(Je)}}else if(rt.getAttribute("href"))if(rt.hasAttribute("disabled"))y.logMessages(["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",rt],"warning"),W(rt);else{for(var At=J.createElement(rt.tagName),$t=(mt=0,rt.attributes.length);mt<$t;++mt){var Tt=rt.attributes[mt];Tt&&At.setAttribute(Tt.nodeName,Tt.nodeValue||"")}At.onload=function(){return W(At)},At.onerror=function(Yt,nr,Xt,fr,rr){return W(At,["Failed to load",At,"Error:",rr])},M&&At.setAttribute("nonce",M),J.head.appendChild(At)}else y.logMessages(["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",rt],"warning"),W(rt)},$e=(Z=0,Ke.length);Z<$e;++Z)ot(Z)}y.numResourcesToLoad!==0&&R||y.triggerPrint(V)},y.handleRemoveIframe(!0),document.body.appendChild(V)}else y.logMessages(['"react-to-print" could not locate the DOM node corresponding with the `content` prop'])}else y.logMessages(['There is nothing to print because the "content" prop returned "null". Please ensure "content" is renderable before allowing "react-to-print" to be called.']);else y.logMessages(["To print a functional component ensure it is wrapped with `React.forwardRef`, and ensure the forwarded ref is used. See the README for an example: https://github.com/gregnb/react-to-print#examples"])},y.handleRemoveIframe=function(w){var E=y.props.removeAfterPrint;if(w||E){var I=document.getElementById("printWindow");I&&document.body.removeChild(I)}},y.logMessages=function(w,E){E===void 0&&(E="error"),y.props.suppressErrors||(E==="error"?console.error(w):E==="warning"?console.warn(w):E==="debug"&&console.debug(w))},y}return d.__extends(x,m),x.prototype.handleClick=function(y,w){var E=this,I=this.props,T=I.onBeforeGetContent,R=I.onPrintError;if(T){var D=T();D&&typeof D.then=="function"?D.then(function(){return E.handlePrint(w)}).catch(function(L){R&&R("onBeforeGetContent",L)}):this.handlePrint(w)}else this.handlePrint(w)},x.prototype.render=function(){var y=this.props,w=y.children,E=y.trigger;if(E)return f.cloneElement(E(),{onClick:this.handleClick.bind(this)});if(!p.PrintContext)return this.logMessages(['"react-to-print" requires React ^16.3.0 to be able to use "PrintContext"']),null;var I={handlePrint:this.handleClick.bind(this)};return f.createElement(p.PrintContext.Provider,{value:I},w)},x.defaultProps=g.defaultProps,x}(f.Component);u.ReactToPrint=v},940:function(c,u){Object.defineProperty(u,"__esModule",{value:!0}),u.defaultProps=void 0,u.defaultProps={copyStyles:!0,pageStyle:`
        @page {
            /* Remove browser default header (title) and footer (url) */
            margin: 0;
        }
        @media print {
            body {
                /* Tell browsers to print background colors */
                -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
                color-adjust: exact; /* Firefox */
            }
        }
    `,removeAfterPrint:!1,suppressErrors:!1}},892:function(c,u,l){Object.defineProperty(u,"__esModule",{value:!0}),u.useReactToPrint=void 0;var d=l(316),f=l(496),h=l(428),p=l(940),g=l(860),v=Object.prototype.hasOwnProperty.call(f,"useMemo")&&Object.prototype.hasOwnProperty.call(f,"useCallback");u.useReactToPrint=function(m){if(!v)return m.suppressErrors||console.error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"'),function(){throw new Error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"')};var x=f.useMemo(function(){return new h.ReactToPrint(d.__assign(d.__assign({},p.defaultProps),m))},[m]);return f.useCallback(function(y,w){return(0,g.wrapCallbackWithArgs)(x,x.handleClick,w)(y)},[x])}},860:function(c,u,l){Object.defineProperty(u,"__esModule",{value:!0}),u.wrapCallbackWithArgs=void 0;var d=l(316);u.wrapCallbackWithArgs=function(f,h){for(var p=[],g=2;g<arguments.length;g++)p[g-2]=arguments[g];return function(){for(var v=[],m=0;m<arguments.length;m++)v[m]=arguments[m];return h.apply(f,d.__spreadArray(d.__spreadArray([],d.__read(v),!1),d.__read(p),!1))}}},496:function(c){c.exports=t},190:function(c){c.exports=e},316:function(c,u,l){l.r(u),l.d(u,{__addDisposableResource:function(){return J},__assign:function(){return h},__asyncDelegator:function(){return _},__asyncGenerator:function(){return A},__asyncValues:function(){return S},__await:function(){return F},__awaiter:function(){return I},__classPrivateFieldGet:function(){return B},__classPrivateFieldIn:function(){return X},__classPrivateFieldSet:function(){return G},__createBinding:function(){return R},__decorate:function(){return g},__disposeResources:function(){return ee},__esDecorate:function(){return m},__exportStar:function(){return D},__extends:function(){return f},__generator:function(){return T},__importDefault:function(){return j},__importStar:function(){return W},__makeTemplateObject:function(){return N},__metadata:function(){return E},__param:function(){return v},__propKey:function(){return y},__read:function(){return M},__rest:function(){return p},__runInitializers:function(){return x},__setFunctionName:function(){return w},__spread:function(){return H},__spreadArray:function(){return P},__spreadArrays:function(){return V},__values:function(){return L}});var d=function(U,z){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,te){Z.__proto__=te}||function(Z,te){for(var oe in te)Object.prototype.hasOwnProperty.call(te,oe)&&(Z[oe]=te[oe])},d(U,z)};function f(U,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");function Z(){this.constructor=U}d(U,z),U.prototype=z===null?Object.create(z):(Z.prototype=z.prototype,new Z)}var h=function(){return h=Object.assign||function(U){for(var z,Z=1,te=arguments.length;Z<te;Z++)for(var oe in z=arguments[Z])Object.prototype.hasOwnProperty.call(z,oe)&&(U[oe]=z[oe]);return U},h.apply(this,arguments)};function p(U,z){var Z={};for(var te in U)Object.prototype.hasOwnProperty.call(U,te)&&z.indexOf(te)<0&&(Z[te]=U[te]);if(U!=null&&typeof Object.getOwnPropertySymbols=="function"){var oe=0;for(te=Object.getOwnPropertySymbols(U);oe<te.length;oe++)z.indexOf(te[oe])<0&&Object.prototype.propertyIsEnumerable.call(U,te[oe])&&(Z[te[oe]]=U[te[oe]])}return Z}function g(U,z,Z,te){var oe,ue=arguments.length,le=ue<3?z:te===null?te=Object.getOwnPropertyDescriptor(z,Z):te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")le=Reflect.decorate(U,z,Z,te);else for(var ce=U.length-1;ce>=0;ce--)(oe=U[ce])&&(le=(ue<3?oe(le):ue>3?oe(z,Z,le):oe(z,Z))||le);return ue>3&&le&&Object.defineProperty(z,Z,le),le}function v(U,z){return function(Z,te){z(Z,te,U)}}function m(U,z,Z,te,oe,ue){function le(ot){if(ot!==void 0&&typeof ot!="function")throw new TypeError("Function expected");return ot}for(var ce,_e=te.kind,fe=_e==="getter"?"get":_e==="setter"?"set":"value",ge=!z&&U?te.static?U:U.prototype:null,xe=z||(ge?Object.getOwnPropertyDescriptor(ge,te.name):{}),Le=!1,Me=Z.length-1;Me>=0;Me--){var Oe={};for(var ze in te)Oe[ze]=ze==="access"?{}:te[ze];for(var ze in te.access)Oe.access[ze]=te.access[ze];Oe.addInitializer=function(ot){if(Le)throw new TypeError("Cannot add initializers after decoration has completed");ue.push(le(ot||null))};var Ke=(0,Z[Me])(_e==="accessor"?{get:xe.get,set:xe.set}:xe[fe],Oe);if(_e==="accessor"){if(Ke===void 0)continue;if(Ke===null||typeof Ke!="object")throw new TypeError("Object expected");(ce=le(Ke.get))&&(xe.get=ce),(ce=le(Ke.set))&&(xe.set=ce),(ce=le(Ke.init))&&oe.unshift(ce)}else(ce=le(Ke))&&(_e==="field"?oe.unshift(ce):xe[fe]=ce)}ge&&Object.defineProperty(ge,te.name,xe),Le=!0}function x(U,z,Z){for(var te=arguments.length>2,oe=0;oe<z.length;oe++)Z=te?z[oe].call(U,Z):z[oe].call(U);return te?Z:void 0}function y(U){return typeof U=="symbol"?U:"".concat(U)}function w(U,z,Z){return typeof z=="symbol"&&(z=z.description?"[".concat(z.description,"]"):""),Object.defineProperty(U,"name",{configurable:!0,value:Z?"".concat(Z," ",z):z})}function E(U,z){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(U,z)}function I(U,z,Z,te){return new(Z||(Z=Promise))(function(oe,ue){function le(fe){try{_e(te.next(fe))}catch(ge){ue(ge)}}function ce(fe){try{_e(te.throw(fe))}catch(ge){ue(ge)}}function _e(fe){var ge;fe.done?oe(fe.value):(ge=fe.value,ge instanceof Z?ge:new Z(function(xe){xe(ge)})).then(le,ce)}_e((te=te.apply(U,z||[])).next())})}function T(U,z){var Z,te,oe,ue,le={label:0,sent:function(){if(1&oe[0])throw oe[1];return oe[1]},trys:[],ops:[]};return ue={next:ce(0),throw:ce(1),return:ce(2)},typeof Symbol=="function"&&(ue[Symbol.iterator]=function(){return this}),ue;function ce(_e){return function(fe){return function(ge){if(Z)throw new TypeError("Generator is already executing.");for(;ue&&(ue=0,ge[0]&&(le=0)),le;)try{if(Z=1,te&&(oe=2&ge[0]?te.return:ge[0]?te.throw||((oe=te.return)&&oe.call(te),0):te.next)&&!(oe=oe.call(te,ge[1])).done)return oe;switch(te=0,oe&&(ge=[2&ge[0],oe.value]),ge[0]){case 0:case 1:oe=ge;break;case 4:return le.label++,{value:ge[1],done:!1};case 5:le.label++,te=ge[1],ge=[0];continue;case 7:ge=le.ops.pop(),le.trys.pop();continue;default:if(!((oe=(oe=le.trys).length>0&&oe[oe.length-1])||ge[0]!==6&&ge[0]!==2)){le=0;continue}if(ge[0]===3&&(!oe||ge[1]>oe[0]&&ge[1]<oe[3])){le.label=ge[1];break}if(ge[0]===6&&le.label<oe[1]){le.label=oe[1],oe=ge;break}if(oe&&le.label<oe[2]){le.label=oe[2],le.ops.push(ge);break}oe[2]&&le.ops.pop(),le.trys.pop();continue}ge=z.call(U,le)}catch(xe){ge=[6,xe],te=0}finally{Z=oe=0}if(5&ge[0])throw ge[1];return{value:ge[0]?ge[1]:void 0,done:!0}}([_e,fe])}}}var R=Object.create?function(U,z,Z,te){te===void 0&&(te=Z);var oe=Object.getOwnPropertyDescriptor(z,Z);oe&&!("get"in oe?!z.__esModule:oe.writable||oe.configurable)||(oe={enumerable:!0,get:function(){return z[Z]}}),Object.defineProperty(U,te,oe)}:function(U,z,Z,te){te===void 0&&(te=Z),U[te]=z[Z]};function D(U,z){for(var Z in U)Z==="default"||Object.prototype.hasOwnProperty.call(z,Z)||R(z,U,Z)}function L(U){var z=typeof Symbol=="function"&&Symbol.iterator,Z=z&&U[z],te=0;if(Z)return Z.call(U);if(U&&typeof U.length=="number")return{next:function(){return U&&te>=U.length&&(U=void 0),{value:U&&U[te++],done:!U}}};throw new TypeError(z?"Object is not iterable.":"Symbol.iterator is not defined.")}function M(U,z){var Z=typeof Symbol=="function"&&U[Symbol.iterator];if(!Z)return U;var te,oe,ue=Z.call(U),le=[];try{for(;(z===void 0||z-- >0)&&!(te=ue.next()).done;)le.push(te.value)}catch(ce){oe={error:ce}}finally{try{te&&!te.done&&(Z=ue.return)&&Z.call(ue)}finally{if(oe)throw oe.error}}return le}function H(){for(var U=[],z=0;z<arguments.length;z++)U=U.concat(M(arguments[z]));return U}function V(){for(var U=0,z=0,Z=arguments.length;z<Z;z++)U+=arguments[z].length;var te=Array(U),oe=0;for(z=0;z<Z;z++)for(var ue=arguments[z],le=0,ce=ue.length;le<ce;le++,oe++)te[oe]=ue[le];return te}function P(U,z,Z){if(Z||arguments.length===2)for(var te,oe=0,ue=z.length;oe<ue;oe++)!te&&oe in z||(te||(te=Array.prototype.slice.call(z,0,oe)),te[oe]=z[oe]);return U.concat(te||Array.prototype.slice.call(z))}function F(U){return this instanceof F?(this.v=U,this):new F(U)}function A(U,z,Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,oe=Z.apply(U,z||[]),ue=[];return te={},le("next"),le("throw"),le("return"),te[Symbol.asyncIterator]=function(){return this},te;function le(xe){oe[xe]&&(te[xe]=function(Le){return new Promise(function(Me,Oe){ue.push([xe,Le,Me,Oe])>1||ce(xe,Le)})})}function ce(xe,Le){try{(Me=oe[xe](Le)).value instanceof F?Promise.resolve(Me.value.v).then(_e,fe):ge(ue[0][2],Me)}catch(Oe){ge(ue[0][3],Oe)}var Me}function _e(xe){ce("next",xe)}function fe(xe){ce("throw",xe)}function ge(xe,Le){xe(Le),ue.shift(),ue.length&&ce(ue[0][0],ue[0][1])}}function _(U){var z,Z;return z={},te("next"),te("throw",function(oe){throw oe}),te("return"),z[Symbol.iterator]=function(){return this},z;function te(oe,ue){z[oe]=U[oe]?function(le){return(Z=!Z)?{value:F(U[oe](le)),done:!1}:ue?ue(le):le}:ue}}function S(U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z,Z=U[Symbol.asyncIterator];return Z?Z.call(U):(U=L(U),z={},te("next"),te("throw"),te("return"),z[Symbol.asyncIterator]=function(){return this},z);function te(oe){z[oe]=U[oe]&&function(ue){return new Promise(function(le,ce){(function(_e,fe,ge,xe){Promise.resolve(xe).then(function(Le){_e({value:Le,done:ge})},fe)})(le,ce,(ue=U[oe](ue)).done,ue.value)})}}}function N(U,z){return Object.defineProperty?Object.defineProperty(U,"raw",{value:z}):U.raw=z,U}var C=Object.create?function(U,z){Object.defineProperty(U,"default",{enumerable:!0,value:z})}:function(U,z){U.default=z};function W(U){if(U&&U.__esModule)return U;var z={};if(U!=null)for(var Z in U)Z!=="default"&&Object.prototype.hasOwnProperty.call(U,Z)&&R(z,U,Z);return C(z,U),z}function j(U){return U&&U.__esModule?U:{default:U}}function B(U,z,Z,te){if(Z==="a"&&!te)throw new TypeError("Private accessor was defined without a getter");if(typeof z=="function"?U!==z||!te:!z.has(U))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Z==="m"?te:Z==="a"?te.call(U):te?te.value:z.get(U)}function G(U,z,Z,te,oe){if(te==="m")throw new TypeError("Private method is not writable");if(te==="a"&&!oe)throw new TypeError("Private accessor was defined without a setter");if(typeof z=="function"?U!==z||!oe:!z.has(U))throw new TypeError("Cannot write private member to an object whose class did not declare it");return te==="a"?oe.call(U,Z):oe?oe.value=Z:z.set(U,Z),Z}function X(U,z){if(z===null||typeof z!="object"&&typeof z!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof U=="function"?z===U:U.has(z)}function J(U,z,Z){if(z!=null){if(typeof z!="object"&&typeof z!="function")throw new TypeError("Object expected.");var te;if(Z){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");te=z[Symbol.asyncDispose]}if(te===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");te=z[Symbol.dispose]}if(typeof te!="function")throw new TypeError("Object not disposable.");U.stack.push({value:z,dispose:te,async:Z})}else Z&&U.stack.push({async:!0});return z}var O=typeof SuppressedError=="function"?SuppressedError:function(U,z,Z){var te=new Error(Z);return te.name="SuppressedError",te.error=U,te.suppressed=z,te};function ee(U){function z(Z){U.error=U.hasError?new O(Z,U.error,"An error was suppressed during disposal."):Z,U.hasError=!0}return function Z(){for(;U.stack.length;){var te=U.stack.pop();try{var oe=te.dispose&&te.dispose.call(te.value);if(te.async)return Promise.resolve(oe).then(Z,function(ue){return z(ue),Z()})}catch(ue){z(ue)}}if(U.hasError)throw U.error}()}u.default={__extends:f,__assign:h,__rest:p,__decorate:g,__param:v,__metadata:E,__awaiter:I,__generator:T,__createBinding:R,__exportStar:D,__values:L,__read:M,__spread:H,__spreadArrays:V,__spreadArray:P,__await:F,__asyncGenerator:A,__asyncDelegator:_,__asyncValues:S,__makeTemplateObject:N,__importStar:W,__importDefault:j,__classPrivateFieldGet:B,__classPrivateFieldSet:G,__classPrivateFieldIn:X,__addDisposableResource:J,__disposeResources:ee}}},i={};function a(c){var u=i[c];if(u!==void 0)return u.exports;var l=i[c]={exports:{}};return s[c](l,l.exports,a),l.exports}a.d=function(c,u){for(var l in u)a.o(u,l)&&!a.o(c,l)&&Object.defineProperty(c,l,{enumerable:!0,get:u[l]})},a.o=function(c,u){return Object.prototype.hasOwnProperty.call(c,u)},a.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})};var o={};return function(){var c=o;Object.defineProperty(c,"__esModule",{value:!0}),c.useReactToPrint=c.ReactToPrint=c.PrintContextConsumer=void 0;var u=a(328);Object.defineProperty(c,"PrintContextConsumer",{enumerable:!0,get:function(){return u.PrintContextConsumer}});var l=a(428);Object.defineProperty(c,"ReactToPrint",{enumerable:!0,get:function(){return l.ReactToPrint}});var d=a(892);Object.defineProperty(c,"useReactToPrint",{enumerable:!0,get:function(){return d.useReactToPrint}});var f=a(428);c.default=f.ReactToPrint}(),o}()})})(zC);var $4=zC.exports;const pX=({personalDetails:n,profilePhoto:r,isPdfOpen:t,pageNumber:e,numPages:s,handleViewDocument:i,onDocumentLoadSuccess:a,setPageNumber:o,applicationUpload:c,bwnUpload:u,cvCertifyUpload:l,loiUpload:d,myIcUpload:f,paafCvevUpload:h,ppUpload:p,supportDocUpload:g,handlePrint:v,invoiceRef:m})=>{const[x,y]=ne.useState(null),w=R=>{try{const D=JSON.parse(R);return Array.isArray(D)?D:[]}catch(D){return console.error("Error parsing document data:",D),[]}},E=()=>{y(null)},I=(R,D)=>b.jsx(b.Fragment,{children:R.map((L,M)=>b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-4 border border-gray-200",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("span",{className:"text-gray-700",children:["Uploaded on: ",L.date]}),b.jsx("button",{onClick:()=>y(L.upload),className:"text-blue-600 hover:text-blue-800",children:"View Document"})]}),x===L.upload&&L.upload.endsWith(".pdf")&&b.jsxs("div",{className:"mt-4",children:[b.jsxs("div",{className:"relative bg-white max-w-3xl mx-auto p-6 rounded-lg shadow-lg]",children:[b.jsx("div",{ref:m,className:"flex justify-center",children:b.jsx("div",{children:b.jsx(h5,{file:L.upload,onLoadSuccess:a,className:"w-full",children:b.jsx(m5,{pageNumber:e,className:" mx-auto"})})})}),b.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[b.jsx("button",{onClick:()=>o(e-1),disabled:e<=1,className:"bg-blue-600 text-black px-3 py-1 rounded-full text-sm hover:bg-blue-800",children:"Previous"}),b.jsxs("span",{className:"text-gray-700",children:["Page ",e," of ",s]}),b.jsx("button",{onClick:()=>o(e+1),disabled:e>=s,className:"bg-blue-600 text-black px-3 py-1 rounded-full text-sm hover:bg-blue-800",children:"Next"})]}),b.jsx("div",{className:"absolute top-2 right-2",children:b.jsxs("button",{onClick:E,className:"bg-red-600 text-black px-3 py-1 rounded-full text-sm hover:bg-red-800",children:[b.jsx(Lf,{})," "]})})]}),b.jsxs("div",{className:"flex items-center justify-center gap-6 py-4",children:[b.jsx("div",{className:"mt-2 flex",children:b.jsxs("button",{className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:[b.jsx("a",{href:L.upload,download:!0,children:"Download"}),b.jsx(Mf,{className:"ml-2 mt-1"})]})}),b.jsx("div",{className:"mt-2 flex",children:b.jsxs("button",{onClick:v,className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:["Print",b.jsx(wh,{className:"ml-2 mt-1"})]})})]})]}),x===L.upload&&!L.upload.endsWith(".pdf")&&b.jsxs("div",{ref:m,className:"relative mt-4",children:[b.jsx("img",{src:L.upload,alt:"Document Preview",className:"w-full h-auto"}),b.jsx("div",{className:"absolute top-2 right-2",children:b.jsxs("button",{onClick:E,className:"bg-red-600 text-black px-3 py-1 rounded-full text-sm hover:bg-red-800",children:[b.jsx(Lf,{})," "]})}),b.jsxs("div",{className:"flex items-center justify-center gap-6 py-4",children:[b.jsx("div",{className:"mt-2 flex",children:b.jsxs("button",{className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:[b.jsx("a",{href:L.upload,download:!0,children:"Download"}),b.jsx(Mf,{className:"ml-2 mt-1"})]})}),b.jsx("div",{className:"mt-2 flex",children:b.jsxs("button",{onClick:v,className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:["Print",b.jsx(wh,{className:"ml-2 mt-1"})]})})]})]})]},M))}),T=(R,D)=>{const L=R&&R.length>0?w(R[0]):[];return b.jsxs("div",{className:"py-4",children:[b.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey ",children:D}),L.length>0?I(L):b.jsx("p",{children:"No documents and images available"})]})};return b.jsxs("section",{ref:m,className:"py-8 bg-gray-50 rounded-lg",children:[b.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"Personal Details:"}),b.jsxs("div",{className:"flex flex-col md:flex-row items-start justify-between gap-8",children:[b.jsx("div",{className:"flex-1",children:b.jsx("div",{className:"grid grid-cols-3 gap-y-4 gap-x-2",children:Object.entries(n).map(([R,D],L)=>b.jsxs(St.Fragment,{children:[b.jsx("span",{className:"text-gray-800",children:R}),b.jsx("span",{className:"text-center text-gray-700",children:":"}),b.jsx("span",{className:"text-gray-800",children:D||"N/A"})]},L))})}),b.jsx("div",{className:"w-[250px] h-[350px] rounded-lg overflow-hidden border border-gray-200 shadow-md",children:b.jsx("img",{src:r||"/path/to/default-photo.jpg",alt:"Profile",className:"object-cover w-full h-full"})})]}),b.jsxs("div",{className:"mt-8",children:[b.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"Uploaded Documents:"}),T(c,"Application Document"),T(u,"BWN Document"),T(l,"CV Certification Document"),T(d,"LOI Document"),T(f,"My IC Document"),T(h,"PAAF CVEV Document"),T(p,"PP Document"),T(g,"Support Documents")]})]})},mX=({educationalDetails:n,handlePrint:r,invoiceRef:t})=>b.jsx(b.Fragment,{children:b.jsxs("section",{ref:t,className:"py-8 bg-gray-50 rounded-lg",children:[b.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"Education Details:"}),b.jsx("div",{className:"flex flex-col items-start gap-8",children:b.jsx("div",{className:"flex-1",children:b.jsx("div",{className:"grid grid-cols-3 gap-y-4 gap-x-2",children:Object.entries(n).map(([e,s],i)=>b.jsxs(St.Fragment,{children:[b.jsx("span",{className:"text-gray-800",children:e}),b.jsx("span",{className:"text-center",children:":"}),b.jsx("span",{className:"text-gray-800",children:s||"N/A"})]},i))})})})]})}),gX=({familyDetails:n,handlePrint:r,invoiceRef:t})=>b.jsx(b.Fragment,{children:b.jsxs("section",{ref:t,className:"py-8 bg-gray-50 rounded-lg",children:[b.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"Family Details:"}),b.jsx("div",{className:"space-y-6",children:Array.isArray(n)&&n.length>0?JSON.parse(n).map((e,s)=>b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200",children:[b.jsxs("h6",{className:"font-semibold text-lg text-gray-800 mb-4",children:["Family Member ",s+1]}),b.jsxs("div",{className:"grid grid-cols-3 gap-y-2 items-center",children:[b.jsx("span",{className:"text-gray-800",children:"Name"}),b.jsx("span",{className:"text-gray-500 text-center",children:":"}),b.jsx("span",{className:"text-gray-800",children:(e==null?void 0:e.name)||"N/A"}),b.jsx("span",{className:"text-gray-800  pr-2",children:"Relationship"}),b.jsx("span",{className:"text-gray-500 text-center",children:":"}),b.jsx("span",{className:"text-gray-800",children:(e==null?void 0:e.relationship)||"N/A"}),b.jsx("span",{className:"text-gray-800  pr-2",children:"Contact"}),b.jsx("span",{className:"text-gray-500 text-center",children:":"}),b.jsx("span",{className:"text-gray-800",children:(e==null?void 0:e.contact)||"N/A"}),b.jsx("span",{className:"text-gray-800  pr-2",children:"Address"}),b.jsx("span",{className:"text-gray-500 text-center",children:":"}),b.jsx("span",{className:"text-gray-800",children:(e==null?void 0:e.address)||"N/A"})]})]},s)):b.jsx("p",{className:"text-gray-500",children:"No family details available."})})]})}),bX=({medicalInfo:n,uploadFitness:r,uploadBwn:t,uploadRegis:e,handlePrint:s,invoiceRef:i,dependPass:a})=>{const[o,c]=ne.useState(!1),[u,l]=ne.useState(null),[d,f]=ne.useState(1),[h,p]=ne.useState(1),g=()=>{c(!1),l(null)},v=R=>{try{const D=typeof R=="string"?JSON.parse(R):R;return Array.isArray(D)?D:[]}catch(D){return console.error("Error parsing document data:",D),[]}};let m=[];if(Array.isArray(a)&&a.length>0)if(typeof a[0]=="string")try{const R=JSON.parse(a[0]);m=JSON.parse(R)}catch(R){console.error("Error parsing dependPass:",R)}else m=a[0];if(!Array.isArray(m))return b.jsx("p",{children:"There was an error processing the dependent data."});const x=({numPages:R})=>{p(R)},y=v(r),w=v(t),E=v(e);console.log("dp",a);const I=(R,D)=>b.jsx(b.Fragment,{children:R.map((L,M)=>b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-4 border border-gray-200",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("span",{className:"text-gray-700",children:["Uploaded on: ",L.date]}),b.jsx("button",{onClick:()=>l(L.upload),className:"text-blue-600 hover:text-blue-800",children:"View Document"})]}),u===L.upload&&L.upload.endsWith(".pdf")&&b.jsxs("div",{className:"mt-4",children:[b.jsxs("div",{className:"relative bg-white max-w-3xl mx-auto p-6 rounded-lg shadow-lg",children:[b.jsx(h5,{file:L.upload,onLoadSuccess:x,className:"w-full",children:b.jsx(m5,{pageNumber:d,className:"mx-auto"})}),b.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[b.jsx("button",{onClick:()=>f(d-1),disabled:d<=1,className:"bg-blue-600 text-black px-3 py-1 rounded-full text-sm hover:bg-blue-800",children:"Prev"}),b.jsxs("span",{className:"text-gray-700",children:["Page ",d," of ",h]}),b.jsx("button",{onClick:()=>f(d+1),disabled:d>=h,className:"bg-blue-600 text-black px-3 py-1 rounded-full text-sm hover:bg-blue-800",children:"Next"})]}),b.jsx("div",{className:"absolute top-2 right-2",children:b.jsx("button",{onClick:g,className:"bg-red-600 text-black px-3 py-1 rounded-full text-sm hover:bg-red-800",children:b.jsx(Lf,{})})})]}),b.jsxs("div",{className:"flex items-center justify-center gap-6 py-4",children:[b.jsx("div",{className:"mt-2 flex",children:b.jsxs("button",{className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:[b.jsx("a",{href:L.upload,download:!0,children:"Download"}),b.jsx(Mf,{className:"ml-2 mt-1"})]})}),b.jsx("div",{className:"mt-2 flex",children:b.jsxs("button",{onClick:s,className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:["Print",b.jsx(wh,{className:"ml-2 mt-1"})]})})]})]}),u===L.upload&&!L.upload.endsWith(".pdf")&&b.jsxs("div",{ref:i,className:"relative mt-4",children:[b.jsx("img",{src:L.upload,alt:"Document Preview",className:"w-full h-auto"}),b.jsx("div",{className:"absolute top-2 right-2",children:b.jsx("button",{onClick:g,className:"bg-red-600 text-black px-3 py-1 rounded-full text-sm hover:bg-red-800",children:b.jsx(Lf,{})})}),b.jsxs("div",{className:"flex items-center justify-center gap-6 py-4",children:[b.jsx("div",{className:"mt-2 flex",children:b.jsxs("button",{className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:[b.jsx("a",{href:L.upload,download:!0,children:"Download"}),b.jsx(Mf,{className:"ml-2 mt-1"})]})}),b.jsx("div",{className:"mt-2 flex",children:b.jsxs("button",{onClick:s,className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:["Print",b.jsx(wh,{className:"ml-2 mt-1"})]})})]})]})]},M))}),T=(R,D)=>{const L=R.length>0?v(R[0]):[];return b.jsxs("div",{className:"py-4",children:[b.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey",children:D}),L.length>0?I(L):b.jsx("p",{children:"No documents and images available"})]})};return b.jsxs("section",{ref:i,className:"py-8 bg-gray-50 rounded-lg",children:[b.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"Medical Details:"}),b.jsx("div",{className:"flex flex-col md:flex-row items-start justify-between gap-8",children:b.jsx("div",{className:"flex-1",children:b.jsx("div",{className:"grid grid-cols-3 gap-y-4 gap-x-2",children:Object.entries(n).map(([R,D],L)=>R==="dependPass"?null:b.jsxs(St.Fragment,{children:[b.jsx("span",{className:"text-gray-800",children:R}),b.jsx("span",{className:"text-center text-gray-700",children:":"}),b.jsx("span",{className:"text-gray-800",children:D||"N/A"})]},L))})})}),b.jsxs("div",{className:"mt-8",children:[T(y,"Fitness Document"),T(w,"BW Document"),T(E,"Registration Document")]}),b.jsxs("section",{className:"py-8 bg-gray-50 rounded-lg",children:[b.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"Dependents' Passport Details:"}),m.length===0?b.jsx("p",{children:"No dependent data available."}):m.map((R,D)=>b.jsxs("div",{className:"depend-detail mb-6 p-4 border rounded-lg shadow-md bg-white",children:[b.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:R.dependName}),b.jsxs("p",{children:[b.jsx("strong",{children:"Passport No:"})," ",R.dependPpNo]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Passport Expiry:"})," ",R.dependPpE]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Relation:"})," ",R.relation]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Labour DP By:"})," ",R.labourDPBy]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Labour DR No:"})," ",R.labourDRNo]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Labour DA Amount:"})," ",R.labourDAmount]}),b.jsxs("div",{className:"uploads",children:[b.jsx("h4",{className:"text-xl font-semibold text-gray-800 mt-4",children:"Uploaded Documents (DP):"}),R.uploadDp&&R.uploadDp.length>0?I(R.uploadDp):b.jsx("p",{children:"No documents uploaded for DP."})]}),b.jsxs("div",{className:"uploads mt-6",children:[b.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:"Uploaded Documents (DR):"}),R.uploadDr&&R.uploadDr.length>0?I(R.uploadDr):b.jsx("p",{children:"No documents uploaded for DR."})]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Status:"})," ",R.isNew?"New":"Old"]})]},D))]})]})},vX=({accommodationInfo:n,handlePrint:r,invoiceRef:t})=>b.jsx(b.Fragment,{children:b.jsxs("section",{ref:t,className:"py-8 bg-gray-50 rounded-lg",children:[b.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"Accommodation Details:"}),b.jsx("div",{className:"space-y-6",children:b.jsx("div",{className:"grid grid-cols-3 gap-y-4 items-center",children:Object.entries(n).map(([e,s],i)=>b.jsxs(St.Fragment,{children:[b.jsx("span",{className:"text-gray-800",children:e}),b.jsx("span",{className:"text-gray-500 text-center",children:":"}),b.jsx("span",{className:"text-gray-800",children:s||"N/A"})]},i))})})]})}),yX=({insuranceInfo:n,depInsurance:r,handlePrint:t,invoiceRef:e})=>b.jsx(b.Fragment,{children:b.jsxs("section",{ref:e,className:"py-3",children:[b.jsx("h6",{className:"uppercase text_size_5 text-dark_grey my-3",children:"Insurance Details:"}),b.jsx("div",{className:"grid grid-cols-3 gap-y-2 items-center",children:Object.entries(n).map(([s,i],a)=>b.jsxs(St.Fragment,{children:[b.jsx("span",{className:"text-gray-800",children:s}),b.jsx("span",{className:"text-gray-500 text-center",children:":"}),b.jsx("span",{className:"text-gray-800",children:i||"N/A"})]},a))}),b.jsx("div",{className:"grid grid-cols-3 gap-y-2 items-center",children:r&&Object.entries(r).length>0?Object.entries(r).map(([s,i],a)=>b.jsxs(St.Fragment,{children:[b.jsx("span",{className:"text-gray-800",children:s}),b.jsx("span",{className:"text-gray-500 text-center",children:":"}),b.jsx("span",{className:"text-gray-800",children:i||"N/A"})]},a)):b.jsxs(St.Fragment,{children:[b.jsx("span",{className:"text-gray-800",children:"No Insurance Data"}),b.jsx("span",{className:"text-gray-500 text-center",children:":"}),b.jsx("span",{className:"text-gray-800",children:"N/A"})]})})]})}),xX=({workInfo:n,isPdfOpen:r,pageNumber:t,numPages:e,handleViewDocument:s,onDocumentLoadSuccess:i,setPageNumber:a,WIContract:o,WILeaveEntitle:c,WIProbation:u,WIResignation:l,WITermination:d,uploadAL:f,uploadDep:h,uploadLP:p,uploadPR:g,uploadSP:v,invoiceRef:m})=>{const[x,y]=ne.useState(null),w=R=>{try{const D=JSON.parse(R);return Array.isArray(D)?D:[]}catch(D){return console.error("Error parsing document data:",D),[]}},E=()=>{y(null)},I=(R,D)=>b.jsx(b.Fragment,{children:R.map((L,M)=>b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-4 border border-gray-200",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("span",{className:"text-gray-700",children:["Uploaded on: ",L.date]}),b.jsx("button",{onClick:()=>y(L.upload),className:"text-blue-600 hover:text-blue-800",children:"View Document"})]}),x===L.upload&&L.upload.endsWith(".pdf")&&b.jsxs("div",{className:"mt-4",children:[b.jsxs("div",{className:"relative bg-white max-w-3xl mx-auto p-6 rounded-lg shadow-lg",children:[b.jsx("div",{ref:m,className:"flex justify-center",children:b.jsx("div",{children:b.jsx(h5,{file:L.upload,onLoadSuccess:i,className:"w-full",children:b.jsx(m5,{pageNumber:t,className:" mx-auto"})})})}),b.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[b.jsx("button",{onClick:()=>a(t-1),disabled:t<=1,className:"bg-blue-600 text-black px-3 py-1 rounded-full text-sm hover:bg-blue-800",children:"Previous"}),b.jsxs("span",{className:"text-gray-700",children:["Page ",t," of ",e]}),b.jsx("button",{onClick:()=>a(t+1),disabled:t>=e,className:"bg-blue-600 text-black px-3 py-1 rounded-full text-sm hover:bg-blue-800",children:"Next"})]}),b.jsx("div",{className:"absolute top-2 right-2",children:b.jsxs("button",{onClick:E,className:"bg-red-600 text-black px-3 py-1 rounded-full text-sm hover:bg-red-800",children:[b.jsx(Lf,{})," "]})})]}),b.jsxs("div",{className:"flex items-center justify-center gap-6 py-4",children:[b.jsx("div",{className:"mt-2 flex",children:b.jsxs("button",{className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:[b.jsx("a",{href:L.upload,download:!0,children:"Download"}),b.jsx(Mf,{className:"ml-2 mt-1"})]})}),b.jsx("div",{className:"mt-2 flex",children:b.jsxs("button",{onClick:()=>$4.useReactToPrint(),className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:["Print",b.jsx(wh,{className:"ml-2 mt-1"})]})})]})]}),x===L.upload&&!L.upload.endsWith(".pdf")&&b.jsxs("div",{ref:m,className:"relative mt-4",children:[b.jsx("img",{src:L.upload,alt:"Document Preview",className:"w-full h-auto"}),b.jsx("div",{className:"absolute top-2 right-2",children:b.jsxs("button",{onClick:E,className:"bg-red-600 text-black px-3 py-1 rounded-full text-sm hover:bg-red-800",children:[b.jsx(Lf,{})," "]})}),b.jsxs("div",{className:"flex items-center justify-center gap-6 py-4",children:[b.jsx("div",{className:"mt-2 flex",children:b.jsxs("button",{className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:[b.jsx("a",{href:L.upload,download:!0,children:"Download"}),b.jsx(Mf,{className:"ml-2 mt-1"})]})}),b.jsx("div",{className:"mt-2 flex",children:b.jsxs("button",{onClick:()=>$4.useReactToPrint(),className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:["Print",b.jsx(wh,{className:"ml-2 mt-1"})]})})]})]})]},M))}),T=(R,D)=>{const L=R&&R.length>0?w(R[0]):[];return b.jsxs("div",{className:"py-4",children:[b.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey ",children:D}),L.length>0?I(L):b.jsx("p",{children:"No documents and images available"})]})};return b.jsxs("section",{ref:m,className:"py-8 bg-gray-50 rounded-lg",children:[b.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"Work Info Details:"}),b.jsxs("div",{className:"space-y-6",children:[b.jsx("h6",{className:"text-xl font-semibold text-dark_grey",children:"Employee Info"}),b.jsx("div",{className:"grid grid-cols-3 gap-y-4 gap-x-2",children:Object.entries(n.employeeDetails).map(([R,D],L)=>b.jsxs(St.Fragment,{children:[b.jsx("span",{className:"text-gray-800",children:R}),b.jsx("span",{className:"text-center text-gray-700",children:":"}),b.jsx("span",{className:"text-gray-800",children:D||"N/A"})]},L))})]}),b.jsxs("div",{className:"mt-8",children:[b.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"Leave Details"}),b.jsx("div",{className:"grid grid-cols-3 gap-y-4 gap-x-2",children:Object.entries(n.LeaveDetails).map(([R,D],L)=>b.jsxs(St.Fragment,{children:[b.jsx("span",{className:"text-gray-800",children:R}),b.jsx("span",{className:"text-center text-gray-700",children:":"}),b.jsx("span",{className:"text-gray-800",children:D||"N/A"})]},L))})]}),b.jsxs("div",{className:"mt-8",children:[b.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"Service Road Details"}),b.jsx("div",{className:"grid grid-cols-3 gap-y-4 gap-x-2",children:Object.entries(n.ServiceRoad).map(([R,D],L)=>b.jsxs(St.Fragment,{children:[b.jsx("span",{className:"text-gray-800",children:R}),b.jsx("span",{className:"text-center text-gray-700",children:":"}),b.jsx("span",{className:"text-gray-800",children:D||"N/A"})]},L))})]}),b.jsxs("div",{className:"mt-8",children:[b.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"Service Road"}),T(f,"Annual Leave"),T(h,"Departure Documents"),T(p,"Leave Pass"),T(g,"Probation Report"),T(v,"Sick Pay")]}),b.jsxs("div",{className:"mt-8",children:[b.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"Employee Exit Details"}),b.jsx("div",{className:"grid grid-cols-3 gap-y-4 gap-x-2",children:Object.entries(n.TerminateDetails).map(([R,D],L)=>b.jsxs(St.Fragment,{children:[b.jsx("span",{className:"text-gray-800",children:R}),b.jsx("span",{className:"text-center text-gray-700",children:":"}),b.jsx("span",{className:"text-gray-800",children:D||"N/A"})]},L))})]}),b.jsxs("div",{className:"mt-8",children:[b.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"Terminate Documents"}),T(o,"Annual Leave"),T(c,"Departure Documents"),T(l,"Leave Pass"),T(d,"Probation Report"),T(u,"Sick Pay")]})]})},wX=({workPass:n,doeEmpUpload:r,lbrDepoUpload:t,sawpEmpUpload:e,nlmsEmpUpload:s,bankEmpUpload:i,jpEmpUpload:a,isPdfOpen:o,pageNumber:c,numPages:u,handleViewDocument:l,handleCloseViewer:d,onDocumentLoadSuccess:f,setPageNumber:h,handlePrint:p,invoiceRef:g})=>{const[v,m]=ne.useState(null),x=I=>{try{const T=JSON.parse(I);return Array.isArray(T)?T:[]}catch(T){return console.error("Error parsing document data:",T),[]}},y=[{name:"Doe",data:n.doe,upload:r},{name:"Labour Deposit",data:n.labourDeposit,upload:t},{name:"SAWP",data:n.swap,upload:e},{name:"National",data:n.national,upload:s},{name:"Bank",data:n.bank,upload:i},{name:"JITPA",data:n.jitpa,upload:a}],w=I=>b.jsx(b.Fragment,{children:I.map((T,R)=>b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-4 border border-gray-200",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("span",{className:"text-gray-700",children:["Uploaded on: ",T.date]}),b.jsx("button",{onClick:()=>m(T.upload),className:"text-blue-600 hover:text-blue-800",children:"View Document"})]}),v===T.upload&&T.upload.endsWith(".pdf")&&b.jsxs("div",{className:"mt-4",children:[b.jsxs("div",{className:"relative bg-white max-w-3xl mx-auto p-6 rounded-lg shadow-lg",children:[b.jsx("div",{ref:g,className:"flex justify-center",children:b.jsx("div",{children:b.jsx(h5,{file:T.upload,onLoadSuccess:f,className:"w-full",children:b.jsx(m5,{pageNumber:c,className:" mx-auto"})})})}),b.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[b.jsx("button",{onClick:()=>h(c-1),disabled:c<=1,className:"bg-blue-600 text-black px-3 py-1 rounded-full text-sm hover:bg-blue-800",children:"Previous"}),b.jsxs("span",{className:"text-gray-700",children:["Page ",c," of ",u]}),b.jsx("button",{onClick:()=>h(c+1),disabled:c>=u,className:"bg-blue-600 text-black px-3 py-1 rounded-full text-sm hover:bg-blue-800",children:"Next"})]}),b.jsx("div",{className:"absolute top-2 right-2",children:b.jsxs("button",{onClick:()=>m(null),className:"bg-red-600 text-black px-3 py-1 rounded-full text-sm hover:bg-red-800",children:[b.jsx(Lf,{})," "]})})]}),b.jsxs("div",{className:"flex items-center justify-center gap-6 py-4",children:[b.jsx("div",{className:"mt-2 flex",children:b.jsxs("button",{className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:[b.jsx("a",{href:T.upload,download:!0,children:"Download"}),b.jsx(Mf,{className:"ml-2 mt-1"})]})}),b.jsx("div",{className:"mt-2 flex",children:b.jsxs("button",{onClick:p,className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:["Print",b.jsx(wh,{className:"ml-2 mt-1"})]})})]})]}),v===T.upload&&!T.upload.endsWith(".pdf")&&b.jsxs("div",{ref:g,className:"relative mt-4",children:[b.jsx("img",{src:T.upload,alt:"Document Preview",className:"w-full h-auto"}),b.jsx("div",{className:"absolute top-2 right-2",children:b.jsxs("button",{onClick:()=>m(null),className:"bg-red-600 text-black px-3 py-1 rounded-full text-sm hover:bg-red-800",children:[b.jsx(Lf,{})," "]})}),b.jsxs("div",{className:"flex items-center justify-center gap-6 py-4",children:[b.jsx("div",{className:"mt-2 flex",children:b.jsxs("button",{className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:[b.jsx("a",{href:T.upload,download:!0,children:"Download"}),b.jsx(Mf,{className:"ml-2 mt-1"})]})}),b.jsx("div",{className:"mt-2 flex",children:b.jsxs("button",{onClick:p,className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:["Print",b.jsx(wh,{className:"ml-2 mt-1"})]})})]})]})]},R))}),E=(I,T)=>{const R=I&&I.length>0?x(I[0]):[];return b.jsxs("div",{className:"py-4",children:[b.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey ",children:T}),R.length>0?w(R):b.jsx("p",{children:"No documents and images available"})]})};return b.jsxs("section",{ref:g,className:"py-8 bg-gray-50 rounded-lg",children:[b.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"WorkPass Details:"}),b.jsx("div",{className:"space-y-6",children:y.map(({name:I,data:T,upload:R},D)=>b.jsxs("div",{children:[b.jsx("h6",{className:"text-lg font-semibold text-dark_grey mb-4",children:I}),b.jsx("div",{className:"grid grid-cols-3 gap-y-4 items-center",children:Object.entries(T).map(([L,M],H)=>b.jsxs(St.Fragment,{children:[b.jsx("span",{className:"text-gray-800",children:L}),b.jsx("span",{className:"text-gray-500 text-center",children:":"}),b.jsx("span",{className:"text-gray-800",children:M||"N/A"})]},H))})]},D))}),b.jsxs("div",{className:"mt-8",children:[b.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"Uploaded Documents:"}),E(r,"Doe Employee Upload"),E(t,"Labour Deposit Upload"),E(e,"SAWP Employee Upload"),E(s,"National Upload"),E(i,"Bank Upload"),E(a,"JITPA Upload")]})]})},_X=({passingValue:n,handleFormShow:r})=>{const[t,e]=ne.useState(0),[s,i]=ne.useState(1),[a,o]=ne.useState(null),[c,u]=ne.useState(!1),[l,d]=ne.useState(null),[f,h]=ne.useState(1),p=ne.useRef(),g=$4.useReactToPrint({content:()=>p.current,onBeforePrint:()=>console.log("Preparing print..."),onAfterPrint:()=>console.log("Print complete"),pageStyle:"print"}),v=Rn=>{if(!Rn||!Array.isArray(Rn)||typeof Rn[0]!="string")return{};let ki=Rn[0];return ki.startsWith("{")&&ki.endsWith("}")&&(ki=ki.slice(1,-1)),ki.split(",").map(wo=>wo.trim()).reduce((wo,vi)=>{const[ld,na]=vi.split("=").map(nc=>nc.trim());return ld&&na&&(wo[ld]=decodeURIComponent(na)),wo},{})},m=Rn=>{o(Rn),u(!0),h(1)},x=()=>{u(!1),o(null)},y=({numPages:Rn})=>{d(Rn)},w=Rn=>{e(Rn),i(1)},E=Rn=>{const ki=new Date(Rn);if(isNaN(ki.getTime()))return"N/A";const ya=ki.getDate().toString().padStart(2,"0"),rc=(ki.getMonth()+1).toString().padStart(2,"0"),wo=ki.getFullYear();return`${ya}/${rc}/${wo}`},{age:I,email:T,aTQualify:R,agent:D,alternateNo:L,accidentIns:M,accommodation:H,accommodationAddress:V,bankAmt:P,bankEmpUpload:F,bankEndorse:A,bankRece:_,bankRefNo:S,bankSubmit:N,bankValid:C,bruhimsRD:W,bruhimsRNo:j,bruneiMAD:B,bruneiME:G,bwnIcColour:X,bwnIcExpiry:J,bwnIcNo:O,chinese:ee,cob:U,contactNo:z,contractType:Z,ctryOfOrigin:te,dependPass:oe,dob:ue,doeEmpApproval:le,doeEmpRefNo:ce,doeEmpSubmit:_e,doeEmpUpload:fe,doeEmpValid:ge,driveLic:xe,eduDetails:Le,educLevel:Me,empBadgeNo:Oe,empID:ze,empType:Ke,empUpDocs:ot,familyDetails:$e,gender:Ve,inducBrief:He,inducBriefUp:rt,jitpaAmt:Je,jpEmpUpload:wt,jpEndorse:yt,jpValid:kt,lang:mt,lbrDepoAmt:At,lbrDepoSubmit:$t,lbrDepoUpload:Tt,lbrReceiptNo:Yt,marital:nr,myIcNo:Xt,name:fr,nationalCat:rr,nationality:qt,nlmsEmpApproval:cr,nlmsEmpSubmit:Tr,nlmsEmpSubmitRefNo:Qt,nlmsEmpUpload:xr,nlmsEmpValid:Rr,nlmsRefNo:Lt,oCOfOrigin:Sr,officialEmail:Nr,otherNation:ur,otherRace:qe,otherReligion:st,overMD:he,overME:Ee,permanentAddress:Se,permitType:ye,ppDestinate:Pe,ppExpiry:je,ppIssued:Ge,ppNo:lt,preEmp:Xe,preEmpPeriod:nt,profilePhoto:ut,race:Nt,religion:Ft,sawpEmpLtrReci:zt,sawpEmpLtrReq:Rt,sawpEmpUpload:Ae,tbaPurchase:Ye,uploadBwn:gt,uploadFitness:Et,uploadRegis:Kt,contractEnd:Ht,contractPeriod:Vt,contractStart:Dr,createdAt:wr,department:Ar,doj:lr,hr:Er,id:nn,jobCat:sn,jobDesc:An,manager:Wn,otherDepartment:Is,otherJobCat:rs,otherPosition:Zs,position:$n,probationEnd:ba,probationStart:va,relationship:an,salaryType:zr,sapNo:Qi,skillPool:ea,supervisor:vo,updatedAt:Ss,upgradeDate:Hs,upgradePosition:ta,workHrs:yo,workMonth:Ui,workStatus:Hi,workWeek:pi,annualLeave:xl,annualLeaveDate:hs,compasLeave:Kl,compasLeaveDate:Uo,dateLeavePass:Cr,destinateLeavePass:Jl,durLeavePass:wl,leavePass:Ni,materLeave:kh,materLeaveDate:Ch,mrageLeave:_l,mrageLeaveDate:ed,paterLeave:Xf,paterLeaveDate:Kf,sickLeave:Jf,sickLeaveDate:td,otherResignNotConf:bn,otherResignNotProb:dn,otherTermiNotConf:Zf,otherTermiNotProb:Zl,reasonResign:rd,reasonTerminate:Kc,resignDate:Th,resignNotConf:Dh,resignNotProb:nd,termiDate:Ih,termiNotConf:zn,termiNotProb:Xa,workInfoUploads:Sl,depEmp:Ho,depEmpDate:ra,positionRev:mi,positionRevDate:El,remarkWI:Ph,revALD:Ql,revAnnualLeave:jh,revLeaveDate:Jc,revLeavePass:Zc,revSalary:gi,revSalaryDate:Qc,uploadAL:bi,uploadDep:sd,uploadLP:id,uploadPR:xo,uploadSP:qo,applicationUpload:Wo,bwnUpload:jn,cvCertifyUpload:Ai,loiUpload:ec,myIcUpload:se,paafCvevUpload:pe,ppUpload:Be,supportDocUpload:Ze,WIContract:ht,WILeaveEntitle:_t,WIProbation:Ut,WIResignation:er,WITermination:vr,groupIns:Br,groupInsEffectDate:Or,groupInsEndDate:tn,travelIns:Gn,workmePolicyNo:as,workmenComp:Es,empInsUpload:Ps,depInsurance:Ns}=n,Ka={Name:fr,"Employee ID":ze,"Date Of Birth":E(ue),Age:I,Gender:Ve,Nationality:qt,Race:Nt,Religion:Ft,Position:Array.isArray($n)&&$n.length>0?$n[0]:"Position not available","Contact No":z,"Alternate Number":L,Email:T,"Official Email":Nr,"Marital Status":nr,Language:mt,"Driving License":xe,"National Category":rr,"Other Nationality":ur,"Country of Origin":te,"Other country of origin":Sr,"Other Race":qe,"Other Religion":st,"Academic / Technical qualification":R,"Contract Type":Z,"Employee Type":Ke,"Employee Badge No":Oe,"Sap No":Qi,Chinese:ee,Cob:U,"Agent Name":D,"Date of Induction Briefing":E(He),"Brunei IC Colour":X,"Brunei IC Expiry":E(J),"Brunei IC Number":O,"Malaysian IC Number":Xt,"Passport no":lt,"Passport issued destination":Pe,"Passport Expiry":E(je),"Passport Issue Date":E(Ge),"Previous Employment Details":Xe,"Previous Employment Period":nt},qi={"Education Details":Le,"Highlight Education":Me},fs={"Overseas Medical Fitness issued date":E(he),"Overseas Medical Fitness Expiry":E(Ee),"Date submitted of BruHims Registration":E(W),"BruHims Registration Number":j,"Brunei Medical Appointment Date":E(B),"Brunei Medical Fitness Expiry":E(G),dependPass:oe},eu={DependPass:oe},zo={Accommodation:H,"Accommodation Address":V},tu={"Accident Insurance":M,"Employee Insurance Upload":Ps,"Group H&S Insurance":Br,"Group H&S Insurance Enrollment Effective Date":Or,"Group H&S Insurance Enrollment End Date":tn,"Travelling Insurance":Gn,"Workmen Policy Number":as,"Workmen Compensation Insurance":Es},tc={employeeDetails:{"Contract End Date":E(Ht),"Contract Period":Vt,"Contract Start Date":E(Dr),Department:Ar,"Date of Joining":E(lr),"Employee ID":ze,"HR Representative":Er,"Job Category":sn,"Job Description":An,Manager:Wn,"Other Department":Is,"Other Job Category":rs,"Other Position":Zs,Position:$n,"Probation End Date":E(ba),"Probation Start Date":E(va),"Relationship Status":an,"Salary Type":zr,"SAP Number":Qi,"Skill Pool":ea,Supervisor:vo,"Upgrade Date":E(Hs),"Upgrade Position":ta,"Work Hours per Day":yo,"Work Month":Ui,"Work Status":Hi,"Work Week":pi},LeaveDetails:{"Annual Leave":xl,"Annual Leave Date":hs,"Compassionate Leave":Kl,"Compassionate Leave Date":E(Uo),"Leave Pass Date":E(Cr),"Destination Leave Pass":E(Jl),"Duration Leave Pass":wl,"Employee ID":ze,"Leave Pass":Ni,"Maternity Leave":kh,"Maternity Leave Date":E(Ch),"Marriage Leave":_l,"Marriage Leave Date":E(ed),"Paternity Leave":Xf,"Paternity Leave Date":E(Kf),"Sick Leave":Jf,"Sick Leave Date":E(td)},TerminateDetails:{"Other Resignation Not Confirmed":bn,"Other Resignation Not Probation":dn,"Other Termination Not Confirmed":Zf,"Other Termination Not Probation":Zl,"Resignation Reason":rd,"Termination Reason":Kc,"Resignation Date":Th,"Resignation Not Confirmed":Dh,"Resignation Not Probation":nd,"Termination Date":Ih,"Termination Not Confirmed":zn,"Termination Not Probation":Xa},ServiceRoad:{"Dependent Employee":Ho,"Dependent Employee Date":E(ra),"Position Revision":mi,"Position Revision Date":E(El),"Remark for Work Info":Ph,"Revised ALD":Ql,"Revised Annual Leave":jh,"Revised Leave Date":E(Jc),"Revised Leave Pass":Zc,"Revised Salary":gi,"Revised Salary Date":E(Qc)}},ad={doe:{"Date Of Submission":E(_e),"Date Of Approval":E(le),"Valid Until":E(ge),"DOE Reference Number":ce,"DOE Employee Upload":fe},labourDeposit:{"Labour Deposit Receipt Number":Yt,"Deposit Amount":At,"Date Endorsement Of Labour Deposit":$t,"Employee Upload":Tt},swap:{"Client Support Letter Requested Date":E(Rt),"Client Support Letter Received Date":E(zt),"SAWP Employee Upload":Ae},national:{"Type of Work Permit Application":ye,"Date Of Submission":E(Tr),"Submission Reference Number":Qt,"Date Of Approval":E(cr),"LD Reference Number":Lt,"Valid Until":E(Rr),"Employee Upload":xr},bank:{"Date Of Submission":E(N),"Date Received":E(_),"BG Reference Number":S,"Bank Guarantee Amount":P,"Bank Valid Until":E(C),"Employee Upload":F,"Date Endorsement Of BG":E(A)},jitpa:{"TBA Purchase Date":E(Ye),"JITPA Amount":Je,"Valid Until":E(kt),"Date Endorsement Of Jitpa":E(yt),"Employee Upload":wt},immigration:{"Passport no":lt}},od=v(n.uploadBwn),ru=v(n.workInfoUploads);return console.log("ghfue",oe),b.jsx(b.Fragment,{children:b.jsx("section",{className:"bg-white flex flex-col fixed top-0 left-0 bg-grey w-full h-full z-[9999] center",children:b.jsx("div",{className:"bg-white py-10 px-10 h-screen w-[85%]",children:b.jsxs("div",{className:"empScroll border bg-white px-10 overflow-y-auto h-[90vh] space-y-5 rounded-lg w-full",children:[b.jsxs("div",{className:"bg-white mt-6 sticky top-0 flex justify-between items-center z-40",children:[b.jsx("div",{className:"max-w-[200px] w-full",children:b.jsx("img",{src:$m,alt:"Logo not found"})}),b.jsx("h6",{className:"text-center text-2xl font-medium text-dark_grey",children:"Employee Details"}),b.jsx("p",{onClick:r,className:"text-2xl text-dark_grey",children:b.jsx(JU,{})})]}),b.jsxs("div",{className:"",children:[b.jsx(RV,{activeTab:t,handleTabClick:w}),b.jsxs("div",{className:"mt-5",children:[t===0&&b.jsx(pX,{personalDetails:Ka,profilePhoto:ut,isPdfOpen:c,viewingDocument:a,pageNumber:f,numPages:l,handleViewDocument:m,handleCloseViewer:x,onDocumentLoadSuccess:y,setPageNumber:h,inducBriefUp:rt,applicationUpload:Wo,bwnUpload:jn,cvCertifyUpload:Ai,loiUpload:ec,myIcUpload:se,paafCvevUpload:pe,ppUpload:Be,supportDocUpload:Ze,handlePrint:g,invoiceRef:p}),t===1&&b.jsx(mX,{educationalDetails:qi,handlePrint:g,invoiceRef:p}),t===2&&b.jsx(gX,{familyDetails:$e,handlePrint:g,invoiceRef:p}),t===3&&b.jsx(bX,{medicalInfo:fs,dependenPass:eu,uploadFitness:Et,uploadBwn:gt,documentsTwo:od,uploadRegis:Kt,handlePrint:g,invoiceRef:p,dependPass:oe}),t===4&&b.jsx(vX,{accommodationInfo:zo,handlePrint:g,invoiceRef:p}),t===5&&b.jsx(yX,{insuranceInfo:tu,handlePrint:g,invoiceRef:p,depInsurance:Ns,empInsUpload:Ps}),t===6&&b.jsx(xX,{workInfo:tc,documentThree:ru,isPdfOpen:c,viewingDocument:a,setViewingDocument:o,pageNumber:f,numPages:l,handleViewDocument:m,handleCloseViewer:x,onDocumentLoadSuccess:y,setPageNumber:h,uploadAL:bi,uploadDep:sd,uploadLP:id,uploadPR:xo,uploadSP:qo,handlePrint:g,invoiceRef:p,WIContract:ht,WILeaveEntitle:_t,WIProbation:Ut,WIResignation:er,WITermination:vr}),t===7&&b.jsx(wX,{workPass:ad,doeEmpUpload:fe,lbrDepoUpload:Tt,sawpEmpUpload:Ae,nlmsEmpUpload:xr,bankEmpUpload:F,jpEmpUpload:wt,isPdfOpen:c,viewingDocument:a,pageNumber:f,numPages:l,handleViewDocument:m,handleCloseViewer:x,onDocumentLoadSuccess:y,setPageNumber:h,inducBriefUp:rt,handlePrint:g,invoiceRef:p})]}),b.jsx("div",{className:"mt-2 flex justify-center",children:b.jsxs("button",{onClick:g,className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:["Print",b.jsx(wh,{className:"ml-2 mt-1"})]})})]})]})})})})};Pr();const SX=()=>{const{userData:n,empLeaveStatusData:r,educDetailsData:t,empPDData:e,empPIData:s,IDData:i,workInfoData:a,terminateData:o,leaveDetailsData:c,SRData:u,DNData:l,BJLData:d,PPValidsData:f,LMIData:h,EmpInsuranceData:p,depInsuranceData:g,NLAData:v}=ne.useContext(bs),[m,x]=ne.useState(""),[y,w]=ne.useState([]),[E,I]=ne.useState([]),[T,R]=ne.useState(!0),[D,L]=ne.useState(null),[M,H]=ne.useState(!1),[V,P]=ne.useState([]),[F,A]=ne.useState(1),[_,S]=ne.useState(30),[N,C]=ne.useState([]),W=G=>{const X=G.target.value.toLowerCase();x(X),I(filtered)};if(ne.useEffect(()=>{if(n&&r&&t&&e&&s&&i&&a&&o&&c&&u&&l&&d&&f&&h&&p&&g&&v){const G=s.map(J=>{const O=i.find(Oe=>Oe.empID===J.empID)||{},ee=e.find(Oe=>Oe.empID===J.empID)||{},U=l.find(Oe=>Oe.empID===J.empID)||{},z=d.find(Oe=>Oe.empID===J.empID)||{},Z=f.find(Oe=>Oe.empID===J.empID)||{},te=h.find(Oe=>Oe.empID===J.empID)||{},oe=p.find(Oe=>Oe.empID===J.empID)||{},ue=g.find(Oe=>Oe.empID===J.empID)||{},le=v.find(Oe=>Oe.empID===J.empID)||{},ce=o.find(Oe=>Oe.empID===J.empID)||{},_e=c.find(Oe=>Oe.empID===J.empID)||{},fe=u.find(Oe=>Oe.empID===J.empID)||{},ge=r.find(Oe=>Oe.empID===J.empID)||{},xe=t.find(Oe=>Oe.empID===J.empID)||{},Le=a.find(Oe=>Oe.empID===J.empID)||{},Me=n.find(Oe=>Oe.empID===J.empID)||{};return{...J,...O,...ee,...U,...z,...Z,...te,...oe,...ue,...le,...ce,..._e,...fe,...ge,...xe,...Le,...Me}}),X=G.sort((J,O)=>J.empID.localeCompare(O.empID));console.log(G,"kjhgfd"),w(X),X.length>0?(R(!1),L(null)):(L("No data found."),R(!1))}else R(!0)},[n,r,t,e,s,i,a,o,c,u,l,d,f,h,p,g,v]),console.log(i),ne.useEffect(()=>{const G=(F-1)*_,X=y.slice(G,G+_);C(X)},[y,F,_]),T)return b.jsx("div",{children:"Loading..."});if(D)return b.jsxs("div",{children:["Error: ",D]});const j=G=>{H(!M),P(G)},B=G=>{const X=new Date(G),J=X.getDate().toString().padStart(2,"0"),O=(X.getMonth()+1).toString().padStart(2,"0"),ee=X.getFullYear();return`${J}/${O}/${ee}`};return b.jsxs("section",{className:"bg-[#F5F6F1CC] w-full flex items-center flex-col h-screen pt-14",children:[b.jsxs("div",{className:"w-full px-10 flex justify-between items-center mb-10",children:[b.jsx("div",{className:"bg-[#faf362] py-2 px-3 rounded-lg text-[18px] font-semibold",children:"All Employee Details"}),b.jsxs("div",{className:"relative",children:[b.jsx($f,{type:"text",placeholder:"Search by Name or Position",newFormData:N,value:m,onChange:W,className:"py-2 px-4 rounded-lg shadow-[0_1px_6px_1px_rgba(0,0,0,0.2)]"}),b.jsx("img",{src:jV,alt:"Search Icon",className:"absolute top-1/2 right-2 transform -translate-y-1/2 w-4 h-4"})]})]}),b.jsx("div",{className:" overflow-x-auto  mt-8 w-[100%] ml-4 rounded-md",children:b.jsx("div",{className:"w-full px-4 max-h-[calc(70vh-7rem)] overflow-y-auto",children:b.jsxs("table",{className:"w-full rounded-xl table-auto",children:[b.jsx("thead",{className:"bg-[#939393] text-center text-white sticky top-0",children:b.jsxs("tr",{children:[b.jsx("th",{className:" py-4 px-2 ",children:"Employee Id"}),b.jsx("th",{className:"py-4 px-2 ",children:"Badge No"}),b.jsx("th",{className:"py-4 px-2",children:"Name"}),b.jsx("th",{className:"py-4 px-2 ",children:"DOB"}),b.jsx("th",{className:"py-4 px-2",children:"Nationality"}),b.jsx("th",{className:"py-4 px-2 ",children:"Email"}),b.jsx("th",{className:"py-4 px-2 ",children:"Contact No"})]})}),b.jsx("tbody",{className:"bg-white",children:N.map((G,X)=>b.jsxs("tr",{className:"shadow-[0_3px_6px_1px_rgba(0,0,0,0.2)]",onClick:()=>j(G),children:[b.jsx("td",{className:" py-4 px-4 ",children:G==null?void 0:G.empID}),b.jsx("td",{className:" py-4 px-4 ",children:G==null?void 0:G.empBadgeNo}),b.jsx("td",{className:"py-4 px-4 ",children:G==null?void 0:G.name}),b.jsx("td",{className:"py-4 px-4",children:B(G==null?void 0:G.dob)}),b.jsx("td",{className:"py-4 px-4",children:G==null?void 0:G.nationality}),b.jsx("td",{className:"py-4 px-4 ",children:G==null?void 0:G.email}),b.jsx("td",{className:"py-4 px-4 ",children:G==null?void 0:G.contactNo})]},X))})]})})}),M&&b.jsx(_X,{passingValue:V,handleFormShow:j}),b.jsx("div",{className:"flex justify-center",children:b.jsx("div",{className:"ml-[750px] flex justify-between mt-12 px-10",children:b.jsx(Zm,{currentPage:F,totalPages:Math.ceil(y.length/_),onPageChange:G=>{G>=1&&G<=Math.ceil(y.length/_)&&A(G)}})})})]})},Sn=n=>new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.?)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(n),G4=_s().shape({name:Ue().required("Name is mandatory"),relationship:Ue().required("Relationship is mandatory"),contact:Ue().required("Contact Number is mandatory"),address:Ue().required("Address is mandatory")}),EX=n=>Wr().test("is-valid-family-details","Invalid family details",r=>{if(typeof r=="string")try{const t=JSON.parse(r);return Array.isArray(t)?t.every(e=>G4.isValidSync(e)):!1}catch{return!1}else if(Array.isArray(r))return Ur().of(G4).isValidSync(r);return!1}),NX=_s().shape({depenInsType:Ue().required("Insurance type is required"),depenInfo:Ue().required("Dependent information is required"),depenName:Ue().required("Name is required"),depenRelation:Ue().required("Relationship is required"),depenGender:Ue().required("Gender is required"),depenIcNumber:Ue().notRequired(),depenDob:Ue().required("Date of Birth is required"),depenNation:Ue().required("Nationality is required"),depenPpNo:Ue().notRequired(),depenBcNo:Ue().required("Birth Certificate number is required for non-locals"),depenGroupInsEffect:Ue().notRequired(),depenGroupInsEnd:Ue().notRequired(),depenTravelInsEffect:Ue().notRequired(),depenTravelInsEnd:Ue().notRequired(),depenPersonInsEffect:Ue().notRequired(),depenPersonInsEnd:Ue().notRequired(),depenotherNation:Ue().when("depenNation",{is:"Other",then:Ue().required("Other nationality is required"),otherwise:Ue().notRequired()}),depenInfUpload:Ur().of(Wr().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired()}),AX=n=>Wr().test("is-valid-family-details","Invalid family details",r=>{if(typeof r=="string")try{const t=JSON.parse(r);return Array.isArray(t)?t.every(e=>NX.isValidSync(e)):!1}catch{return!1}else if(Array.isArray(r))return Ur().of(G4).isValidSync(r);return!1});Ue().matches(/^(0[1-9]|[12][0-9]|3[01])-(0[1-9]|1[0-2])-\d{4}$/,"Date must be in the format dd-mm-yyyy").notRequired().test("is-valid-date","Invalid date format",n=>{if(!n)return!0;const[r,t,e]=n.split("-"),s=new Date(`${e}-${t}-${r}`);return!isNaN(s.getTime())});const kX=_s().shape({empID:Ue().required("Employee ID Number is mandatory"),empBadgeNo:Ue().notRequired(),name:Ue().notRequired(),accommodation:Ue().required("Accommodation is required"),accommodationAddress:Ue().required("Accommodation Address is required")}),CX=_s().shape({empID:Ue().required("Employee ID Number is mandatory"),overMD:Ki().nullable().notRequired().test("is-past","overMD must be a past date",function(n){return n?new Date(n)<new Date:!0}),overME:Ki().nullable().notRequired().test("is-future","overME must be a future date",function(n){return n?new Date(n)>new Date:!0}),bruhimsRD:Ue().notRequired(),bruhimsRNo:Ue().notRequired(),uploadFitness:Ur().of(Wr().test("fileOrUrl","Only PDF allowed",n=>n instanceof File?["application/pdf"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),uploadRegis:Ur().of(Wr().test("fileOrUrl","Only PDF allowed",n=>n instanceof File?["application/pdf"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),uploadBwn:Ur().of(Wr().test("fileOrUrl","Only PDF allowed",n=>n instanceof File?["application/pdf"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),dependPass:Ur().of(_s().shape({dependName:Ue().notRequired(),dependPpNo:Ue().notRequired(),dependPpE:Ue().notRequired(),relation:Ue().notRequired(),labourDPBy:Ue().notRequired(),labourDRNo:Ue().notRequired(),labourDAmount:Ue().notRequired().test("is-number","Only numbers are allowed",n=>!n||/^[0-9]+$/.test(n)),uploadDp:Ur().of(Wr().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0)).notRequired(),uploadDr:Ur().of(Wr().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0)).notRequired()}))}),TX=_s().shape({empID:Ue().required("Employee ID is mandatory"),department:Ue().required("Department is mandatory"),otherDepartment:Ue().when("Department is mandatory",{is:n=>n&&n.trim().toLowerCase()==="other",then:()=>Ue().required("Other Department is mandatory"),otherwise:()=>Ue().notRequired()}),position:Ue().required("Position is mandatory"),otherPosition:Ue().when("Position is mandatory",{is:n=>n&&n.trim().toLowerCase()==="other",then:()=>Ue().required("Other Position is mandatory"),otherwise:()=>Ue().notRequired()}),jobCat:Ue().required("jobCategory is required"),otherJobCat:Ue().when("jobCategory is required",{is:n=>n&&n.trim().toLowerCase()==="other",then:()=>Ue().required("Other jobcat is required"),otherwise:()=>Ue().notRequired()}),doj:Ue().required("Date of Join is required").test("is-past-date","Date of joining must be in the past",n=>n?new Date(n)<new Date:!0),jobDesc:Ue().required("Job Description is required"),skillPool:Ue().required("Skill Pool is required"),relationship:Ue().required("Employee Status is required"),hr:Ue().notRequired(),manager:Ue().notRequired(),supervisor:Ue().notRequired(),upgradePosition:Ue().notRequired(),upgradeDate:Ue().notRequired(),contractPeriod:Ue().notRequired(),contractStart:Ue().notRequired().test("is-after-doj","Contract Start date must be after Date of Joining",function(n){const{doj:r}=this.parent;if(!r||!n)return!0;const t=new Date(r);return new Date(n)>t}),contractEnd:Ue().notRequired().test("is-after-contractStart","Contract End date must be after Contract Start date",function(n){const{contractStart:r}=this.parent;if(!r||!n)return!0;const t=new Date(r);return new Date(n)>t}),workStatus:Ue().required("Employment Work Status is required").notOneOf([""],"Employment Work Status is mandatory"),probationStart:Ue().notRequired().test("is-after-doj","Contract Start date must be after Date of Joining",function(n){const{doj:r}=this.parent;if(!r||!n)return!0;const t=new Date(r);return new Date(n)>t}),probationEnd:Ue().notRequired().test("is-after-probationStart","Probation End date must be after Probation Start date",function(n){const{probationStart:r}=this.parent;if(!r||!n)return!0;const t=new Date(r);return new Date(n)>t}),probDuration:Ue().notRequired(),workHrs:Ue().required("Normal Working Hours are required"),workWeek:Ue().required("Normal Working Week are required"),workMonth:Ue().required("Normal Working Month are required"),salaryType:Ue().required("Type of Salary Pay is mandatory").notOneOf([""],"Type of Salary Pay is mandatory"),resignDate:Ue().notRequired(),termiDate:Ue().notRequired(),resignNotProb:Ue().notRequired(),otherResignNotProb:Ue().notRequired(),termiNotProb:Ue().notRequired(),otherTermiNotProb:Ue().notRequired(),resignNotConf:Ue().notRequired(),otherResignNotConf:Ue().notRequired(),termiNotConf:Ue().notRequired(),otherTermiNotConf:Ue().notRequired(),reasonResign:Ue().notRequired(),reasonTerminate:Ue().notRequired(),leavePass:Ue().notRequired(),dateLeavePass:Ue().notRequired(),destinateLeavePass:Ue().notRequired(),durLeavePass:Ue().notRequired(),annualLeave:Ue().required("Annual Leave Entitlement Required"),annualLeaveDate:Ue().required("Annual Leave  Date is mandatory"),sickLeave:Ue().required("Sick Leave Entitlement Required"),sickLeaveDate:Ue().required("Sick Leave  Date is mandatory"),materLeave:Ue().notRequired(),materLeaveDate:Ue().notRequired(),paterLeave:Ue().notRequired(),paterLeaveDate:Ue().notRequired(),mrageLeave:Ue().notRequired(),mrageLeaveDate:Ue().notRequired(),compasLeave:Ue().notRequired(),compasLeaveDate:Ue().notRequired(),WIProbation:Ur().of(Wr().test("fileOrUrl","Only PDF",n=>n instanceof File?["application/pdf"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),WIResignation:Ur().of(Wr().test("fileOrUrl","Only PDF",n=>n instanceof File?["application/pdf"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),WITermination:Ur().of(Wr().test("fileOrUrl","Only PDF",n=>n instanceof File?["application/pdf"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),WILeaveEntitle:Ur().of(Wr().test("fileOrUrl","Only PDF",n=>n instanceof File?["application/pdf"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),WIContract:Ur().of(Wr().test("fileOrUrl","Only PDF",n=>n instanceof File?["application/pdf"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),positionRev:Ue().notRequired(),positionRevDate:Ue().notRequired(),revSalary:Ue().notRequired(),revSalaryDate:Ue().notRequired(),revLeavePass:Ue().notRequired(),revLeaveDate:Ue().notRequired(),revAnnualLeave:Ue().notRequired(),revALD:Ue().notRequired(),depEmp:Ue().notRequired(),depEmpDate:Ue().notRequired(),remarkWI:Ue().notRequired(),uploadPR:Ur().of(Wr().test("fileOrUrl","Only PDF",n=>n instanceof File?["application/pdf"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),uploadSP:Ur().of(Wr().test("fileOrUrl","Only PDF",n=>n instanceof File?["application/pdf"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),uploadLP:Ur().of(Wr().test("fileOrUrl","Only PDF",n=>n instanceof File?["application/pdf"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),uploadAL:Ur().of(Wr().test("fileOrUrl","Only PDF",n=>n instanceof File?["application/pdf"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),uploadDep:Ur().of(Wr().test("fileOrUrl","Only PDF",n=>n instanceof File?["application/pdf"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired()}),DX=_s().shape({empID:Ue().required("Employee ID Number is mandatory"),profilePhoto:Ue().required("Upload Photo is mandatory"),contractType:Ur().of(Ue().required("Each Contract Type is mandatory")).min(1,"At least one Contract Type is required").required("Contract Type is mandatory"),empType:Ur().of(Ue().required("Each Employee Type is mandatory")).min(1,"At least one Employee Type is required").required("Employee Type is mandatory"),name:Ue().min(3,"Name must be at least 3 characters").required("Name is mandatory"),gender:Ue().required("Gender is mandatory"),dob:Ue().required("Date of Birth is mandatory").test("age","You must be at least 15 years old",n=>{if(!n)return!1;const r=new Date,t=new Date(n),e=r.getFullYear()-t.getFullYear(),s=r.getMonth()-t.getMonth(),i=r.getDate()-t.getDate();return e>15||e===15&&(s>0||s===0&&i>=0)}),email:Ue().email("Please enter a valid email").required("Email is required"),officialEmail:Ue().email("Please enter a valid email").notRequired(),nationality:Ue().required("Nationality is mandatory"),otherNation:Ue().notRequired(),religion:Ue().required("Religion is mandatory"),marital:Ue().required("Marital status is mandatory"),race:Ue().required("Race is mandatory"),otherRace:Ue().notRequired(),bwnIcNo:Ue().notRequired(),bwnIcColour:Ue().notRequired(),bwnIcExpiry:Ur().of(Ue().test("is-valid-date","Expiry date must be in the future",n=>n?new Date(n)>new Date:!0)).notRequired(),myIcNo:Ue().notRequired(),ppNo:Ue().notRequired(),ppIssued:Ur().of(Ue().test("is-past-date","Issued date must be in the past",n=>{if(!n)return!0;const[r,t,e]=n.split("-");return new Date(`${e}-${t}-${r}`)<new Date})).notRequired(),ppExpiry:Ur().of(Ue().test("is-valid-date","Expiry date must be in the future",n=>n?new Date(n)>new Date:!0)).notRequired(),ppDestinate:Ue().notRequired(),contactNo:Ue().required("Contact Number is mandatory"),permanentAddress:Ue().required("Address is mandatory"),empBadgeNo:Ue().required("Employee Badge Number is mandatory"),sapNo:Ue().notRequired(),nationalCat:Ue().required("National Category is mandatory"),ctryOfOrigin:Ue().required("Country of Origin is mandatory"),oCOfOrigin:Ue().notRequired(),educLevel:Ue().required("Education Level is mandatory"),aTQualify:Ue().required("Academic / Technical qualification is mandatory"),familyDetails:Wr().test("is-valid-family-details","Invalid family details",function(n){const{path:r,createError:t}=this;return EX()?!0:t({path:r,message:"Invalid family details format or content"})}),inducBrief:Ue().required("Induction Briefing Date is mandatory"),inducBriefUp:Ue().required("Induction Briefing Upload is mandatory"),preEmp:Ue().notRequired(),preEmpPeriod:Ue().notRequired(),bwnUpload:Ur().of(Wr().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),applicationUpload:Ur().of(Wr().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),cvCertifyUpload:Ur().of(Wr().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),loiUpload:Ur().of(Wr().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),myIcUpload:Ur().of(Wr().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),paafCvevUpload:Ur().of(Wr().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),ppUpload:Ur().of(Wr().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),supportDocUpload:Ur().of(Wr().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired()});_s().shape({empID:Ue().required("Employee ID Number is mandatory"),insuranceDetails:Ur().of(_s().shape({typeInsurance:Ue().required("Insurance Type is required"),insuranceCompany:Ue().required("Insurance Company is required")}))});const IX=_s().shape({empBadgeNo:Ue().required("Employee Badge is required"),name:Ue().required("Employee Name is required"),department:Ue().required("Department is required"),position:Ue().required("Position is required"),doj:Ue().required("Date of Joining is required"),gender:Ue().required("Gender is required"),bwnIcNo:Ue().required("Brunei I/C Number is required"),ppNo:Ue().required("Passport Number is required for non-locals"),dob:Ue().required("Date of Birth is required"),marital:Ue().required("Marital Status is required"),nationality:Ue().required("Nationality is required"),groupIns:Ue().required("Group Insurance is required"),groupInsEffectDate:Ue().required("Effective Date is required"),groupInsEndDate:Ue().required("End Date is required"),workmenComp:Ue().required("Please Select Any Workmen Compensation Insurance"),workmePolicyNo:Ue().notRequired(),travelIns:Ue().required("Personal Accident Insurance is required"),accidentIns:Ue().required("Personal Accident Insurance is required"),empInsUpload:Ur().of(Wr().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired()});_s().shape({groupHSNumber:Ue().required("Group H&S Insurance Policy Number is required"),groupHSExpiry:Ue().required("Group H&S Insurance Policy Expiry is required"),workmenCompNumber:Ue().required("Workmen Compensation Insurance Number is required"),workmenCompExpiry:Ue().required("Workmen Compensation Insurance Expiry is required"),travellingNumber:Ue().required("Travelling Insurance Policy Number is required"),travellingExpiry:Ue().required("Travelling Insurance Policy Expiry is required"),personalAccidentNumber:Ue().required("Personal Accident Insurance Policy Number is required"),personalAccidentExpiry:Ue().required("Personal Accident Insurance Expiry is required"),groupHSUpload:Wr().required("File is required").test("fileType","Only PDF files are allowed",n=>n&&/\.(pdf)$/.test(n.name)),workmenCompUpload:Wr().required("File is required").test("fileType","Only PDF files are allowed",n=>n&&/\.(pdf)$/.test(n.name)),travellingUpload:Wr().required("File is required").test("fileType","Only PDF files are allowed",n=>n&&/\.(pdf)$/.test(n.name)),personalAccidentUpload:Wr().required("File is required").test("fileType","Only PDF files are allowed",n=>n&&/\.(pdf)$/.test(n.name))});const PX=_s().shape({empID:Ue().required("Employee ID is required"),depInsurance:Wr().test("is-valid-family-details","Invalid family details",function(n){const{path:r,createError:t}=this;return AX()?!0:t({path:r,message:"Invalid family details format or content"})})});_s().shape({claimType:Ue().required("Insurance claim type is required"),dateSubmitted:Ue().required("Please select a name for the claim"),dateReported:Ue().required("Date reported to Insurance Company is required"),paymentReceived:Ue().required("Date of payment received from Insurance Company is required"),datePaid:Ue().required("Date paid to Employee is required"),claimUpload:Ur().of(Wr().required("File is required").test("fileType","Only PDF files are allowed",n=>n&&/\.(pdf)$/.test(n.name))).min(1,"At least one file is required")});const jX=_s().shape({empID:Ue().required("Employee ID is required"),sawpEmpLtrReq:Ur().of(Ki().nullable().transform((n,r)=>r===""?null:n).required("Requested Date is required").test("is-not-future-date","Future Date Not Allowed",n=>!n||n<=new Date)).required("Requested Dates are required"),sawpEmpLtrReci:Ur().of(Ki().nullable().transform((n,r)=>r===""?null:n).test("is-after-requested-date","Received Date cannot be before the Requested Date",function(n){const{sawpEmpLtrReq:r}=this.parent;return!n||!r||r.every(t=>n>=new Date(t))})).notRequired(),sawpEmpUpload:Ur().of(Wr().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired()}),RX=_s().shape({empID:Ue().required("Employee ID is required"),doeEmpSubmit:Ki().nullable().transform((n,r)=>r===""?null:n).required("Submission Date is required").test("is-not-future-date","Future Date Not Allowed",function(n){return!n||new Date(n)<=new Date}),doeEmpApproval:Ki().nullable().transform((n,r)=>r===""?null:n).notRequired().test("is-after-submission-date","Approval Date Must Be After Submitted Date",function(n){const{doeEmpSubmit:r}=this.parent;return!n||!r||new Date(n)>=new Date(r)}),doeEmpValid:Ki().nullable().transform((n,r)=>r===""?null:n).notRequired().test("is-after-approval-date","Expiry Date Must Be After Approval Date",function(n){const{doeEmpApproval:r}=this.parent;return!n||!r||new Date(n)>=new Date(r)}),doeEmpRefNo:Ue().notRequired(),doeEmpUpload:Ur().of(Wr().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired()}),MX=_s().shape({empID:Ue().required("Employee ID is Required"),permitType:Ue().required("Permit Type Required"),nlmsEmpSubmit:Ki().nullable().transform((n,r)=>r===""?null:n).required("Submission Date is Required").test("is-not-future-date","Future Date Not Allowed",n=>!n||new Date(n)<=new Date),nlmsEmpSubmitRefNo:Ue().notRequired(),nlmsEmpApproval:Ki().nullable().transform((n,r)=>r===""?null:n).notRequired().test("is-after-submission","Approval Date Must Be After Submitted Date",function(n){const{nlmsEmpSubmit:r}=this.parent;return!n||!r||new Date(n)>=new Date(r)}),nlmsRefNo:Ue().notRequired(),nlmsEmpValid:Ki().nullable().transform((n,r)=>r===""?null:n).notRequired().test("is-after-approval","Expiry Date Must Be After Approval Date",function(n){const{nlmsEmpApproval:r}=this.parent;return!n||!r||new Date(n)>=new Date(r)}),nlmsEmpUpload:Ur().of(Wr().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired()}),LX=_s().shape({empID:Ue().required("Employee ID is required"),bankSubmit:Ki().nullable().transform((n,r)=>r===""?null:n).required("Submission Date is required").test("is-not-future-date","Future Date Not Allowed",function(n){return!n||new Date(n)<=new Date}),bankRece:Ki().nullable().transform((n,r)=>r===""?null:n).notRequired().test("is-after-submission-date","Approval Date Must Be After Submission Date",function(n){const{bankSubmit:r}=this.parent;return!n||!r||new Date(n)>=new Date(r)}),bankRefNo:Ue().notRequired(),bankAmt:Ue().notRequired(),bankValid:Ki().nullable().transform((n,r)=>r===""?null:n).notRequired().test("is-after-approval-date","Valid Until Date Must Be After Approval Date",function(n){const{bankRece:r}=this.parent;return!n||!r||new Date(n)>=new Date(r)}),bankEndorse:Ki().nullable().transform((n,r)=>r===""?null:n).notRequired().test("is-after-submission-date","Endorsement Date must be after Submission Date",function(n){const{bankSubmit:r}=this.parent;return!n||!r||new Date(n)>new Date(r)}),bankEmpUpload:Ur().of(Wr().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired()}),OX=_s().shape({empID:Ue().required("Employee ID is required"),tbaPurchase:Ki().nullable().transform((n,r)=>r===""?null:n).required("TBA Purchase Date is required").test("is-not-future-date","Future Date Not Allowed",n=>!n||new Date(n)<=new Date),jitpaAmt:Ue().notRequired(),jpValid:Ki().nullable().transform((n,r)=>r===""?null:n).notRequired().test("is-not-past-date","Valid Until Date must be in the future",n=>!n||new Date(n)>new Date),jpEndorse:Ki().nullable().transform((n,r)=>r===""?null:n).notRequired().test("is-after-purchase-date","Endorsement Date must be after TBA Purchase Date",function(n){const{tbaPurchase:r}=this.parent;return!n||!r||new Date(n)>new Date(r)}),jpEmpUpload:Ur().of(Wr().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired()}),FX=_s().shape({empID:Ue().required("Employee ID is required"),lbrReceiptNo:Ue().required("Labour Deposit Receipt Number is required"),lbrDepoAmt:Ue().required("Deposit Amount is required").min(0,"Deposit Amount must be greater than or equal to 0"),lbrDepoSubmit:Ki().nullable().transform((n,r)=>r===""?null:n).required("Submit Date is required").test("is-not-future-date","Future Date Not Allowed",function(n){return!n||new Date(n)<=new Date}),lbrDepoUpload:Ur().of(Wr().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired()}),BX=_s().shape({empID:Ue().required("Employee ID is required"),ppLocation:Ue().oneOf(["HRD","Immigration","Employee","Vacation"],"Invalid passport location").required("Passport location is required"),arrivStampUpload:Ur().of(Wr().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),immigEmpUpload:Ur().of(Wr().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),reEntryUpload:Ur().of(Wr().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),arrivStampExp:Ue().notRequired(),immigRefNo:Ue().nullable().transform((n,r)=>r===""?null:n),ppSubmit:Ue().notRequired(),empPassExp:Ue().notRequired(),empPassStatus:Ue().nullable().transform((n,r)=>r===""?null:n),airTktStatus:Ue().oneOf(["Company","Own"],"Invalid air ticket status").nullable().transform((n,r)=>r===""?null:n),reEntryVisa:Ue().oneOf(["Single","Multiple"],"Invalid re-entry visa type").nullable().transform((n,r)=>r===""?null:n),immigApproval:Ue().notRequired(),reEntryVisaExp:Ue().notRequired(),remarkImmig:Ue().max(500,"Remarks can't exceed 500 characters").nullable().transform((n,r)=>r===""?null:n)}),Li=({searchResult:n,newFormData:r,searchIcon1:t,searchIcon2:e,placeholder:s,rounded:i,setDrpValue:a,id:o})=>{const[c,u]=ne.useState(""),[l,d]=ne.useState([]),[f,h]=ne.useState(!1);ne.useEffect(()=>{a&&u(a)},[a]);const p=ne.useCallback(()=>{h(!f),f===!0?d([]):f===!1&&d(r),console.log(l)},[f,r]),g=v=>{const m=v.target.value.toLowerCase();if(u(m),m){const x=r&&(r==null?void 0:r.filter(y=>{var w,E,I,T,R;return((w=y.name)==null?void 0:w.toLowerCase().includes(m))||((E=y.empID)==null?void 0:E.toLowerCase().includes(m))||((I=y.JOBCODE)==null?void 0:I.toLowerCase().includes(m))||((T=y.location)==null?void 0:T.toLowerCase().includes(m))||((R=y.empBadgeNo)==null?void 0:R.toLowerCase().includes(m))}));d(x),console.log("if FilteredEmployees : ",l)}else console.log("Else FilteredEmployees : ",l),d(r)};return b.jsxs("div",{className:"relative",children:[b.jsxs("div",{className:`py-2 w-full text_size_5 border text-grey bg-white border-lite_grey ${i} flex items-center px-2 gap-2`,children:[b.jsx("div",{className:" text-dark_grey  text-2xl ",children:t}),b.jsx("input",{type:"text",placeholder:s,className:"outline-none w-full",value:c,onChange:g,onClick:p}),b.jsx("div",{className:" text-dark_grey  text-2xl ",children:e})]}),(l==null?void 0:l.length)>0&&b.jsx("ul",{className:" absolute right-0 overflow-x-hidden  mt-2 w-full ml-auto max-h-36 overflow-y-auto rounded-lg shadow-lg bg-white z-10",children:l.map((v,m)=>b.jsx("li",{className:"m-2 p-1 hover:bg-grey hover:text-white cursor-pointer flex justify-between items-center transition-all duration-200",onClick:()=>{(v.empID||v.name)&&(u(`${v.empID} - ${v.name||""}`),n(v),u("")),v.JOBCODE&&(u(v.JOBCODE),n(v,o)),v.location&&(u(v.location),console.log(v.location),n(v,o)),h(!1),d([])},children:b.jsxs("div",{children:[b.jsx("span",{className:" text-sm",children:v.empID}),b.jsxs("span",{className:" text-sm",children:[" ",v.name]}),b.jsx("span",{className:" text-sm",children:v.JOBCODE}),b.jsx("span",{className:" text-sm",children:v.location})]})},m))})]})},UX=({register:n,errors:r,watch:t,setValue:e,control:s})=>{const i=t("sapNo"),a=t("empBadgeNo");return t("contractType"),t("empType"),b.jsxs("div",{className:"form-group grid grid-cols-1 md:grid-cols-4 gap-5",children:[b.jsx(Ct,{label:"Badge Number",register:n,watch:a,name:"empBadgeNo",errors:r}),b.jsx(Ct,{label:"SAP Number",register:n,watch:i,name:"sapNo",errors:r}),b.jsx(Jn,{name:"contractType",control:s,render:({field:o})=>b.jsx(Ct,{label:"Contract Type",name:o.name,type:"selectOption",value:o.value,setValue:e,options:A9,watch:t,register:()=>o,errors:r,append:!0})}),b.jsx(Jn,{name:"empType",control:s,render:({field:o})=>b.jsx(Ct,{label:"Employee Type",name:o.name,type:"selectOption",value:o.value,setValue:e,options:Gz,watch:t,register:()=>o,errors:r,append:!0})})]})},HX=({register:n,errors:r})=>b.jsxs("div",{className:"form-group grid grid-cols-1 md:grid-cols-3 gap-5",children:[b.jsx(Ct,{label:"Name",register:n,name:"name",type:"text",errors:r}),b.jsx(Ct,{label:"Gender",register:n,name:"gender",type:"select",options:Qw,errors:r}),b.jsx(Ct,{label:"Date of Birth",register:n,name:"dob",type:"date",errors:r})]}),qX=({register:n,errors:r,handleRaceChange:t,selectedRace:e,watch:s})=>{const i=s("race"),a=s("otherRace");return b.jsxs("div",{className:"grid grid-cols-2 gap-5 form-group",children:[b.jsx(Ct,{label:"Religion",register:n,name:"religion",type:"select",options:N9,errors:r}),b.jsxs("div",{className:"flex items-center gap-5",children:[b.jsx(Ct,{label:"Race",register:n,name:"race",type:"select",watch:i,options:E9,errors:r,onChange:t}),(e==="Other"||a&&i==="other")&&b.jsx(Ct,{label:"Other Race",register:n,name:"otherRace",type:"text",watch:a,errors:r,placeholder:"Enter Race"})]})]})},WX=({register:n,errors:r})=>b.jsxs("div",{className:"form-group grid grid-cols-1 md:grid-cols-2 gap-5",children:[b.jsx(Ct,{label:"National Category",register:n,name:"nationalCat",type:"select",options:$z,errors:r}),b.jsx(Ct,{label:"Marital Status",register:n,name:"marital",type:"select",options:P8,errors:r})]}),zX=({register:n,errors:r,handleNationalityChange:t,handleCountryChange:e,selectedNationality:s,selectedCountry:i,watch:a})=>{const o=a("oCOfOrigin"),c=a("otherNation"),u=a("nationality"),l=a("ctryOfOrigin");return b.jsxs("div",{className:"flex gap-5 form-group",children:[b.jsxs("div",{className:"flex flex-1 gap-7",children:[b.jsx(Ct,{label:"Nationality",register:n,name:"nationality",type:"select",options:e5,errors:r,onChange:t}),(s==="Other"||c&&u==="Other")&&b.jsx(Ct,{label:"Other Nationality",register:n,name:"otherNation",type:"text",errors:r})]}),b.jsxs("div",{className:"flex flex-1 gap-7",children:[b.jsx(Ct,{label:"Country of Origin",register:n,name:"ctryOfOrigin",type:"select",options:Yz,errors:r,onChange:e}),(i==="Other"||o&&l==="Other")&&b.jsx(Ct,{label:"Other Country of Origin",register:n,name:"oCOfOrigin",type:"text",errors:r})]})]})},VX=({register:n,errors:r,value:t,control:e,setValue:s,watch:i,errorValue:a,clearErrors:o})=>{const c=i("bwnIcExpiry",[]),u=c.length>0?c:a||"";return b.jsxs("div",{className:"grid grid-cols-4 gap-5 form-group",children:[b.jsx(Ct,{label:"Brunei IC Number",register:n,name:"bwnIcNo",type:"text",errors:r}),b.jsx(Ct,{label:"Brunei IC Colour",register:n,name:"bwnIcColour",type:"select",options:k9,errors:r}),b.jsx(Ct,{label:"Brunei IC Expiry",register:n,name:"bwnIcExpiry",type:"date",control:e,watch:u,setValue:s,clearErrors:o,isArray:!0,arrayDate:!0,errorValue:a}),b.jsx(Ct,{label:"Malaysian IC Number",register:n,name:"myIcNo",type:"text",errors:r})]})},$X=({register:n,errors:r,value:t,control:e,setValue:s,watch:i,errorValue:a})=>{const o=i("ppExpiry",[]),c=i("ppIssued",[]);return b.jsxs("div",{className:"grid grid-cols-4 gap-5 form-group",children:[b.jsx(Ct,{label:"Passport Number",register:n,name:"ppNo",type:"text",errors:r}),b.jsx(Ct,{label:"Passport Issue Date",register:n,name:"ppIssued",type:"date",errors:r,control:e,watch:c,isArray:!0,arrayDate:!0,errorValue:a}),b.jsx(Ct,{label:"Passport Expiry",register:n,name:"ppExpiry",type:"date",errors:r,control:e,watch:o,isArray:!0,arrayDate:!0,errorValue:a}),b.jsx(Ct,{label:"Passport issued destination",register:n,name:"ppDestinate",type:"text",errors:r})]})},GX=({register:n,errors:r})=>b.jsxs("div",{className:"grid grid-cols-3 gap-5 form-group",children:[b.jsx(Ct,{label:"Academic / Technical qualification",register:n,name:"aTQualify",type:"text",errors:r}),b.jsx(Ct,{label:"Education Level",register:n,name:"educLevel",type:"select",options:Xz,errors:r}),b.jsx(Ct,{label:"Contact Number",register:n,name:"contactNo",type:"text",errors:r})]}),YX=({register:n,errors:r})=>b.jsxs("div",{className:"grid grid-cols-3 gap-5 form-group",children:[b.jsx(Ct,{label:"Email Address",type:"email",name:"email",register:n,errors:r}),b.jsx(Ct,{label:"Official Email Address",type:"email",name:"officialEmail",register:n,errors:r}),b.jsx(Ct,{label:"Home Address",type:"textarea",name:"permanentAddress",register:n,errors:r})]}),XX=({register:n,errors:r,control:t,value:e,watch:s,setValue:i})=>{const{fields:a,append:o,remove:c,replace:u}=Af({control:t,name:"familyDetails"}),l=ne.useRef(!0);s("familyDetails"),ne.useEffect(()=>{if(l.current){if(e&&e.length>0){const f=typeof e=="string"?JSON.parse(e):e;u(f),i("familyDetails",f)}else o({name:"",relationship:"",contact:"",address:"",isNew:!1});l.current=!1}else if(e&&e.length>0){const f=typeof e=="string"?JSON.parse(e):e;u(f),i("familyDetails",f)}},[e,o,u,i]);const d=()=>{o({name:"",relationship:"",contact:"",address:"",isNew:!0})};return b.jsxs("div",{className:"relative",children:[b.jsx("label",{className:"block text_size_5",children:"Employee Next of Kin Info"}),a.map((f,h)=>b.jsxs("div",{className:"grid grid-cols-4 form-group gap-5 mt-4 relative",children:[b.jsx(Ct,{label:"Name",type:"text",name:`familyDetails.${h}.name`,register:n,errors:r}),b.jsx(Ct,{label:"Relationship",type:"text",name:`familyDetails.${h}.relationship`,register:n,errors:r}),b.jsx(Ct,{label:"Contact number",type:"text",name:`familyDetails.${h}.contact`,register:n,errors:r}),b.jsx(Ct,{label:"Home address",type:"text",name:`familyDetails.${h}.address`,register:n,errors:r}),f.isNew&&b.jsxs("button",{type:"button",onClick:()=>c(h),className:"absolute top-2 -right-8 text-medium_grey text-[18px]",children:[b.jsx(Df,{})," "]})]},f.id)),b.jsx("button",{type:"button",onClick:d,className:"mt-4 flex items-center text-medium_grey text-[20px] absolute -right-8 top-16",children:b.jsx(Wu,{className:"mr-2"})})]})},KX=({register:n,errors:r})=>b.jsxs(b.Fragment,{children:[" ",b.jsx(Ct,{label:"Company Name of Previous Employment",type:"text",name:"preEmp",register:n,errors:r}),b.jsx(Ct,{label:"Previous Employment Period",type:"text",name:"preEmpPeriod",register:n,errors:r}),b.jsx(Ct,{label:"Date of Induction Briefing",type:"date",name:"inducBrief",register:n,errors:r})]}),JX=()=>{const n=Pr(),[r,t]=ne.useState("");return{SubmitEIData:ne.useCallback(async({empValue:s})=>{if(!s)throw new Error("Missing required parameters");const{empID:i,bwnIcNo:a,bwnIcColour:o,bwnIcExpiry:c,driveLic:u,inducBrief:l,inducBriefUp:d,myIcNo:f,nationality:h,nationalCat:p,otherNation:g,otherRace:v,otherReligion:m,ppNo:x,ppIssued:y,ppExpiry:w,ppDestinate:E,preEmp:I,preEmpPeriod:T,profilePhoto:R,race:D,religion:L,bwnUpload:M,applicationUpload:H,cvCertifyUpload:V,loiUpload:P,myIcUpload:F,paafCvevUpload:A,ppUpload:_,supportDocUpload:S}=s,N={empID:i,bwnIcNo:a,bwnIcColour:o,bwnIcExpiry:c,driveLic:u,inducBrief:l,inducBriefUp:d,myIcNo:f,nationality:h,nationalCat:p,otherNation:g,otherRace:v,otherReligion:m,ppNo:x,ppIssued:y,ppExpiry:w,ppDestinate:E,preEmp:I,preEmpPeriod:T,race:D,religion:L,bwnUpload:M,applicationUpload:H,cvCertifyUpload:V,loiUpload:P,myIcUpload:F,paafCvevUpload:A,ppUpload:_,supportDocUpload:S};console.log(N,"totalData1 Create");const{age:C,aTQualify:W,alternateNo:j,agent:B,contactNo:G,cob:X,contractType:J,ctryOfOrigin:O,chinese:ee,dob:U,educLevel:z,email:Z,eduDetails:te,empBadgeNo:oe,empType:ue,familyDetails:le,gender:ce,officialEmail:_e,lang:fe,marital:ge,name:xe,oCOfOrigin:Le,permanentAddress:Me,position:Oe,sapNo:ze}=s,Ke={empID:i,age:C,aTQualify:W,alternateNo:j,agent:B,contactNo:G,cob:X,contractType:J,ctryOfOrigin:O,chinese:ee,dob:U,educLevel:z,email:Z,officialEmail:_e,eduDetails:te,empBadgeNo:oe,empType:ue,familyDetails:le,gender:ce,lang:fe,marital:ge,name:xe,oCOfOrigin:Le,profilePhoto:R,permanentAddress:Me,position:Oe,sapNo:ze};try{const[ot,$e]=await Promise.all([n.graphql({query:PW,variables:{input:N}}),n.graphql({query:IW,variables:{input:{...Ke}}})]);if(ot.errors||$e.errors){console.error("Error in GraphQL request:",ot.errors||$e.errors);return}ot.data&&ot.data.createIDDetails?console.log("ID Details successfully created:",ot.data.createIDDetails):console.error("Failed to create ID details"),$e.data&&$e.data.createEmpPersonalInfo?console.log("Employee Personal Info successfully created:",$e.data.createEmpPersonalInfo):console.error("Failed to create Employee Personal Info")}catch(ot){throw console.error("Error executing GraphQL requests:",ot),ot}},[]),errorEmpID:r}},ZX=()=>{const n=Pr(),[r,t]=ne.useState("");return{UpdateEIValue:ne.useCallback(async({collectValue:s})=>{if(!s)throw new Error("Missing required parameters");const{empID:i,bwnIcNo:a,bwnIcColour:o,bwnIcExpiry:c,driveLic:u,inducBrief:l,inducBriefUp:d,myIcNo:f,nationality:h,nationalCat:p,otherNation:g,otherRace:v,otherReligion:m,ppNo:x,ppIssued:y,ppExpiry:w,ppDestinate:E,preEmp:I,preEmpPeriod:T,profilePhoto:R,race:D,religion:L,bwnUpload:M,applicationUpload:H,cvCertifyUpload:V,loiUpload:P,myIcUpload:F,paafCvevUpload:A,ppUpload:_,supportDocUpload:S,IDTable:N}=s,{age:C,aTQualify:W,alternateNo:j,agent:B,contactNo:G,cob:X,contractType:J,ctryOfOrigin:O,chinese:ee,dob:U,educLevel:z,email:Z,eduDetails:te,empBadgeNo:oe,empType:ue,familyDetails:le,officialEmail:ce,gender:_e,lang:fe,marital:ge,name:xe,oCOfOrigin:Le,permanentAddress:Me,position:Oe,sapNo:ze,PITableID:Ke}=s,ot={id:Ke,empID:i,age:C,aTQualify:W,alternateNo:j,agent:B,contactNo:G,cob:X,contractType:J,ctryOfOrigin:O,chinese:ee,dob:U,educLevel:z,email:Z,eduDetails:te,empBadgeNo:oe,empType:ue,familyDetails:le,officialEmail:ce,gender:_e,lang:fe,marital:ge,name:xe,oCOfOrigin:Le,profilePhoto:R,permanentAddress:Me,position:Oe,sapNo:ze},$e={id:N,empID:i,bwnIcNo:a,bwnIcColour:o,bwnIcExpiry:c,driveLic:u,inducBrief:l,inducBriefUp:d,myIcNo:f,nationality:h,nationalCat:p,otherNation:g,otherRace:v,otherReligion:m,ppNo:x,ppIssued:y,ppExpiry:w,ppDestinate:E,preEmp:I,preEmpPeriod:T,race:D,religion:L,bwnUpload:M,applicationUpload:H,cvCertifyUpload:V,loiUpload:P,myIcUpload:F,paafCvevUpload:A,ppUpload:_,supportDocUpload:S};console.log($e,"totalData1Update");try{const[Ve,He]=await Promise.all([n.graphql({query:y9,variables:{input:ot}}),n.graphql({query:jW,variables:{input:$e}})]);console.log(He),console.log(Ve),He.errors?console.error("Error in idResponse:",He.errors):console.log("idResponse:",He),Ve.errors?console.error("Error in empInfoResponse:",Ve.errors):console.log("empInfoResponse:",Ve)}catch(Ve){throw console.error("Error executing GraphQL requests:",Ve),Ve}},[]),errorEmpID:r}},QX=()=>{var Ke,ot;const{SubmitEIData:n,errorEmpID:r}=JX(),{UpdateEIValue:t}=ZX(),{empPIData:e,IDData:s}=ne.useContext(bs),[i,a]=ne.useState([]),[o,c]=ne.useState([]),[u,l]=ne.useState(!1),[d,f]=ne.useState(""),[h,p]=ne.useState(""),[g,v]=ne.useState("");ne.useState([]),ne.useState([]);const[m,x]=ne.useState({bwnUpload:[],applicationUpload:[],cvCertifyUpload:[],myIcUpload:[],paafCvevUpload:[],ppUpload:[],supportDocUpload:[],loiUpload:[]}),[y,w]=ne.useState({uploadProfilePhoto:null,inducBriefUp:null}),[E,I]=ne.useState({profilePhoto:null,inducBriefUp:null}),[T,R]=ne.useState(null),[D,L]=ne.useState(null),[M,H]=ne.useState([]),[V,P]=ne.useState(""),[F,A]=ne.useState([]),[_,S]=ne.useState([]),[N,C]=ne.useState([]),[W,j]=ne.useState([]),B=$e=>{f($e.target.value)},G=$e=>{p($e.target.value)},X=$e=>{v($e.target.value)},{register:J,handleSubmit:O,setValue:ee,watch:U,control:z,formState:{errors:Z}}=ds({resolver:vs(DX),mode:"onChange",defaultValues:{familyDetails:JSON.stringify([]),contractType:[],empType:[],bwnIcExpiry:[]}}),te=U("contractType"),oe=U("empType"),ue=U("empID");ne.useEffect(()=>{(async()=>{try{const Ve=e.map(He=>{const rt=s?s.find(Je=>Je.empID===He.empID):{};return{...He,...rt}}).filter(Boolean);a(Ve),c(Ve)}catch(Ve){console.log(Ve)}})()},[e,s]);const le=async($e,Ve)=>{if(!ue){alert("Please enter the Employee ID before uploading files."),window.location.href="/employeeInfo";return}let He=$e.target.files[0];if(!["application/pdf","image/jpeg","image/png","image/jpg"].includes(He.type)){alert("Upload must be a PDF file or an image (JPG, JPEG, PNG)");return}ee(Ve,He),He&&(await di(He,Ve,I,ue),w(Je=>({...Je,[Ve]:He.name})))},ce=async($e,Ve)=>{if(!ue){alert("Please enter the Employee ID before uploading files."),window.location.href="/employeeInfo";return}const He=$e.target.files[0];if(!He)return;if(!["application/pdf","image/jpeg","image/png","image/jpg"].includes(He.type)){alert("Upload must be a PDF file or an image (JPG, JPEG, PNG)");return}const Je=U(Ve)||[];ee(Ve,[...Je,He]);try{await di(He,Ve,x,ue),w(wt=>({...wt,[Ve]:He.name}))}catch(wt){console.log(wt)}};ne.useEffect(()=>{if(E!=null&&E.profilePhoto&&E.profilePhoto.length>0||E!=null&&E.inducBriefUp&&E.inducBriefUp.length>0){if(E.profilePhoto&&E.profilePhoto.length>0){const $e=E.profilePhoto[E.profilePhoto.length-1].upload;(async He=>{const rt=await ME({path:He});return R(rt.url.toString())})($e)}if(E.inducBriefUp&&E.inducBriefUp.length>0){const $e=E.inducBriefUp[E.inducBriefUp.length-1].upload;L($e)}}else console.log("No uploads found in profilePhoto or inducBriefUp")},[E]);const _e=($e,Ve)=>Ve==="contractType"||Ve==="empType"?$e:["ppExpiry","ppIssued","bwnIcExpiry"].includes(Ve)?Array.isArray($e)?$e:[$e]:Array.isArray($e)?$e:$e?[$e]:[],fe=$e=>{var Tt;console.log($e),["empID","driveLic","inducBrief","myIcNo","nationality","nationalCat","otherNation","otherRace","otherReligion","preEmp","preEmpPeriod","race","religion","age","aTQualify","alternateNo","agent","dob","cob","ctryOfOrigin","chinese","educLevel","email","eduDetails","empBadgeNo","empType","gender","lang","marital","name","oCOfOrigin","position","sapNo","officialEmail","bwnIcColour","bwnIcNo"].forEach(Yt=>{ee(Yt,$e[Yt])}),["permanentAddress","contactNo","ppNo","ppDestinate"].forEach(Yt=>{const nr=$e[Yt];if(Array.isArray(nr)){const Xt=nr.join(", ");ee(Yt,Xt)}else ee(Yt,nr)}),["contractType","empType","ppExpiry","ppIssued"].forEach(Yt=>{const nr=_e($e[Yt],Yt);ee(Yt,nr)}),ee("bwnIcExpiry",Array.isArray($e.bwnIcExpiry)?$e.bwnIcExpiry:[$e.bwnIcExpiry]);const Je=JSON.parse($e.familyDetails);H(Je),$e.inducBriefUp&&w(Yt=>({...Yt,inducBriefUp:ge($e.inducBriefUp)||""})),ee("profilePhoto",$e.profilePhoto.toString()),ee("inducBriefUp",$e.inducBriefUp.toString()),I(Yt=>({...Yt,profilePhoto:$e.profilePhoto,inducBriefUp:$e.inducBriefUp}));let yt=($e==null?void 0:$e.profilePhoto).replace(/=/g,":");yt=yt.replace(/(\w+)(?=:)/g,'"$1"'),yt=yt.replace(new RegExp("(?<=:)([^,}\\]]+)(?=[,\\}\\]])","g"),'"$1"'),yt.startsWith("[")||(yt=`[${yt}]`);let kt=[];try{kt=JSON.parse(yt),console.log(kt)}catch(Yt){console.error("Failed to parse JSON:",Yt)}const mt=(Tt=kt==null?void 0:kt[kt.length-1])==null?void 0:Tt.upload;console.log(mt),(async Yt=>{const nr=await ME({path:Yt});return R(nr.url.toString())})(mt),["bwnUpload","applicationUpload","cvCertifyUpload","loiUpload","myIcUpload","paafCvevUpload","ppUpload","supportDocUpload"].map(Yt=>{if($e&&$e[Yt])try{const Xt=JSON.parse($e[Yt]).map(fr=>typeof fr=="string"?JSON.parse(fr):fr);ee(Yt,Xt),x(fr=>({...fr,[Yt]:Xt})),w(fr=>({...fr,[Yt]:Xt.length>0?ge(Xt[Xt.length-1].upload):""}))}catch(nr){console.error(`Failed to parse ${Yt}:`,nr)}})},ge=$e=>$e.split("/").pop().split(".").slice(0,-1).join("."),xe=$e=>{console.log("Validation Errors:",$e),j($e)};async function Le($e,Ve){return new Promise(He=>{$e(rt=>{const Je=[...rt,...Ve||[]],wt=Array.from(new Set(Je));return He(wt),wt})})}async function Me($e,Ve){try{const He=await Le(A,$e.bwnIcExpiry),rt=await Le(C,$e.ppExpiry),Je=await Le(S,$e.ppIssued);Ve({bwnIcExpiryDate:He,PPExpiryDate:rt,PPIssuedDate:Je})}catch(He){console.error("Error updating state:",He)}}const Oe=async $e=>{$e.contractType=te,$e.empType=oe;try{await Me($e,async Ve=>{const He=e.find(wt=>wt.empID===$e.empID),rt=s.find(wt=>wt.empID===$e.empID);let Je;if(rt&&He)Je={...$e,profilePhoto:E.profilePhoto,inducBriefUp:E.inducBriefUp,bwnUpload:JSON.stringify(m.bwnUpload),bwnIcExpiry:Ve.bwnIcExpiryDate,ppIssued:Ve.PPIssuedDate,ppExpiry:Ve.PPExpiryDate,applicationUpload:JSON.stringify(m.applicationUpload),cvCertifyUpload:JSON.stringify(m.cvCertifyUpload),loiUpload:JSON.stringify(m.loiUpload),myIcUpload:JSON.stringify(m.myIcUpload),paafCvevUpload:JSON.stringify(m.paafCvevUpload),ppUpload:JSON.stringify(m.ppUpload),supportDocUpload:JSON.stringify(m.supportDocUpload),familyDetails:JSON.stringify($e.familyDetails),PITableID:He.id,IDTable:rt.id},await t({collectValue:Je}),P("Employee Personal Info updated successfully"),l(!0);else{const wt={...$e,profilePhoto:E.profilePhoto,inducBriefUp:E.inducBriefUp,bwnUpload:JSON.stringify(m.bwnUpload),bwnIcExpiry:Ve.bwnIcExpiryDate,ppIssued:Ve.PPIssuedDate,ppExpiry:Ve.PPExpiryDate,applicationUpload:JSON.stringify(m.applicationUpload),cvCertifyUpload:JSON.stringify(m.cvCertifyUpload),loiUpload:JSON.stringify(m.loiUpload),myIcUpload:JSON.stringify(m.myIcUpload),paafCvevUpload:JSON.stringify(m.paafCvevUpload),ppUpload:JSON.stringify(m.ppUpload),supportDocUpload:JSON.stringify(m.supportDocUpload),familyDetails:JSON.stringify($e.familyDetails)};await n({empValue:wt}),P("Employee Personal Info saved successfully"),l(!0)}})}catch(Ve){console.error("Error submitting data:",Ve)}},ze=U("profilePhoto");return U("inducBriefUp"),b.jsxs("section",{className:"bg-[#F5F6F1CC] mx-auto p-10",children:[b.jsxs("div",{className:"w-full flex items-center justify-between gap-5",children:[b.jsx(ga,{to:"/employee",className:"text-xl flex-1 text-grey",children:b.jsx(Xc,{})}),b.jsx("p",{className:"flex-1 text-center mt-2 text_size_2 uppercase",children:"Employee Info"}),b.jsx("div",{className:"flex-1",children:b.jsx(Li,{searchResult:fe,newFormData:o,searchIcon2:b.jsx(Ds,{}),placeholder:"Employee Id",rounded:"rounded-lg"})})]}),b.jsxs("form",{onSubmit:O(Oe,xe),className:" flex flex-col justify-center ",children:[b.jsxs("div",{className:"flex justify-between items-center py-7 mt-2",children:[b.jsxs("div",{className:"py-2 center flex-col max-w-[160px]",children:[b.jsx("input",{type:"file",id:"fileInput",name:"profilePhoto",accept:".jpg,.jpeg,.png",onChange:$e=>le($e,"profilePhoto"),className:"hidden"}),b.jsxs("div",{className:"h-[120px] max-w-[120px] relative rounded-md bg-lite_skyBlue",children:[b.jsx("img",{src:T instanceof File?URL.createObjectURL(T):typeof T=="string"&&T?T:ze||T||Lx,id:"previewImg",alt:"profile",className:"object-cover w-full h-full",onError:$e=>$e.target.src=Lx}),(T||ze)&&b.jsx("div",{className:"absolute top-24 -right-3  bg-lite_grey p-[2px] rounded-full cursor-pointer",onClick:()=>document.getElementById("fileInput").click(),children:b.jsx(eA,{className:"w-6 h-6 p-1"})})]}),!T&&!ze&&b.jsx("div",{className:"mt-1 rounded-lg text-center",children:b.jsx("button",{type:"button",className:"text_size_6",onClick:()=>document.getElementById("fileInput").click(),children:"Choose Image"})}),!T&&!ze&&Z.profilePhoto&&b.jsx("p",{className:"text-[red] text-[13px] text-center",children:(Ke=Z==null?void 0:Z.profilePhoto)==null?void 0:Ke.message})]}),b.jsxs("div",{className:"max-w-sm",children:[b.jsx(Ct,{label:"Employee ID",register:J,name:"empID",type:"text",value:U("empID")||"",placeholder:"Enter Employee ID",errors:Z}),r&&b.jsx("p",{className:"text-[red] text-[13px] text-center",children:r})]})]}),b.jsx(UX,{register:J,errors:Z,setValue:ee,watch:U,control:z}),b.jsx(HX,{register:J,errors:Z}),b.jsx(qX,{register:J,errors:Z,handleRaceChange:X,selectedRace:g,watch:U}),b.jsx(WX,{register:J,errors:Z}),b.jsx(zX,{register:J,errors:Z,handleNationalityChange:B,selectedNationality:d,selectedCountry:h,handleCountryChange:G,watch:U}),b.jsx(VX,{register:J,errors:Z,control:z,setValue:ee,watch:U,errorValue:W}),b.jsx($X,{register:J,errors:Z,control:z,setValue:ee,watch:U,errorValue:W}),b.jsx(GX,{register:J,errors:Z}),b.jsx(YX,{register:J,errors:Z}),b.jsx(XX,{register:J,errors:Z,control:z,watch:U,setValue:ee,value:M}),b.jsxs("div",{className:"grid grid-cols-2 gap-5 form-group mt-2",children:[b.jsx(KX,{register:J,errors:Z}),b.jsxs("div",{children:[b.jsx("h2",{className:"text_size_5 mb-2",children:"Upload"}),b.jsxs("label",{className:"flex items-center px-3 py-2 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] rounded-md cursor-pointer",children:[b.jsx("input",{type:"file",...J("inducBriefUp"),onChange:$e=>le($e,"inducBriefUp"),className:"hidden",accept:".pdf, .jpg, .jpeg, .png"}),b.jsxs("span",{className:"ml-2 flex p-1 gap-10",children:[b.jsx(Bs,{})," Induction Form"]})]}),y!=null&&y.inducBriefUp?b.jsx("p",{className:"text-xs mt-1 text-grey",children:y==null?void 0:y.inducBriefUp}):b.jsx("p",{className:"text-[red] text-[12px] pt-2",children:(ot=Z==null?void 0:Z.inducBriefUp)==null?void 0:ot.message})]})]}),b.jsx("div",{className:"grid grid-cols-4 gap-5 form-group mt-5",children:Kz.map(($e,Ve)=>b.jsx(Jn,{name:$e.title,control:z,render:({field:{onChange:He,value:rt}})=>b.jsxs("div",{className:"form-group",children:[b.jsxs("h2",{className:"text_size_5",children:["Upload ",$e.label]}),b.jsxs("label",{className:"mt-2 flex items-center px-3 py-3 text_size_7 bg-lite_skyBlue border border-[#dedddd] rounded cursor-pointer",children:[b.jsx("input",{type:"file",className:"hidden",accept:".pdf,image/jpeg,image/png",onChange:Je=>ce(Je,$e.title)}),b.jsxs("span",{className:"ml-2 text-grey font-normal flex justify-between items-center gap-10",children:[$e.icon,$e.label]})]}),b.jsx("p",{className:"text-xs mt-1 text-grey",children:(y==null?void 0:y[$e.title])||""}),Z[$e.title]&&b.jsx("p",{className:"text-red-500 text-xs mt-1",children:Z[$e.title].message})]})},Ve))}),b.jsx("div",{className:"flex justify-center items-center mt-7 ",children:b.jsx("button",{type:"submit",className:"primary_btn",children:"Save"})}),u&&b.jsx(fi,{text:V,notification:u,path:"/employee"})]})]})},eK=()=>{const n=Pr();return{SubmitWIData:ne.useCallback(async({workInfoValue:t})=>{if(!t)throw new Error("Missing required parameters");const{empID:e,department:s,otherDepartment:i,position:a,otherPosition:o,jobCat:c,otherJobCat:u,doj:l,jobDesc:d,skillPool:f,relationship:h,hr:p,manager:g,supervisor:v,upgradePosition:m,upgradeDate:x,contractPeriod:y,contractStart:w,contractEnd:E,workStatus:I,probationStart:T,probationEnd:R,workHrs:D,workWeek:L,workMonth:M,salaryType:H,resignDate:V,termiDate:P,resignNotProb:F,otherResignNotProb:A,termiNotProb:_,otherTermiNotProb:S,resignNotConf:N,otherResignNotConf:C,termiNotConf:W,otherTermiNotConf:j,reasonResign:B,reasonTerminate:G,leavePass:X,dateLeavePass:J,destinateLeavePass:O,durLeavePass:ee,annualLeave:U,annualLeaveDate:z,sickLeave:Z,sickLeaveDate:te,materLeave:oe,materLeaveDate:ue,paterLeave:le,paterLeaveDate:ce,mrageLeave:_e,mrageLeaveDate:fe,compasLeave:ge,compasLeaveDate:xe,WIContract:Le,WIProbation:Me,WIResignation:Oe,WITermination:ze,WILeaveEntitle:Ke,positionRev:ot,positionRevDate:$e,revSalary:Ve,revSalaryDate:He,revLeavePass:rt,revLeaveDate:Je,revAnnualLeave:wt,revALD:yt,depEmp:kt,depEmpDate:mt,remarkWI:At,uploadPR:$t,uploadSP:Tt,uploadLP:Yt,uploadAL:nr,uploadDep:Xt,sapNo:fr}=t,rr={empID:e,department:s,otherDepartment:i,position:a,otherPosition:o,jobCat:c,otherJobCat:u,doj:l,jobDesc:d,skillPool:f,relationship:h,upgradePosition:m,upgradeDate:x,contractStart:w,contractPeriod:y,contractEnd:E,hr:p,manager:g,supervisor:v,workStatus:I,probationStart:T,probationEnd:R,workHrs:D,workWeek:L,workMonth:M,salaryType:H,sapNo:fr},qt={empID:e,resignDate:V,termiDate:P,resignNotProb:F,otherResignNotProb:A,termiNotProb:_,otherTermiNotProb:S,resignNotConf:N,otherResignNotConf:C,termiNotConf:W,otherTermiNotConf:j,reasonResign:B,reasonTerminate:G,WIContract:Le,WIProbation:Me,WIResignation:Oe,WITermination:ze,WILeaveEntitle:Ke},cr={empID:e,leavePass:X,dateLeavePass:J,destinateLeavePass:O,durLeavePass:ee,annualLeave:U,annualLeaveDate:z,sickLeave:Z,sickLeaveDate:te,materLeave:oe,materLeaveDate:ue,paterLeave:le,paterLeaveDate:ce,mrageLeave:_e,mrageLeaveDate:fe,compasLeave:ge,compasLeaveDate:xe},Tr={empID:e,positionRev:ot,positionRevDate:$e,revSalary:Ve,revSalaryDate:He,revLeavePass:rt,revLeaveDate:Je,revAnnualLeave:wt,revALD:yt,depEmp:kt,depEmpDate:mt,remarkWI:At,uploadPR:$t,uploadSP:Tt,uploadLP:Yt,uploadAL:nr,uploadDep:Xt};console.log(rr,"totalData"),console.log(qt,"totalData1"),console.log(cr,"totalData2"),console.log(Tr,"totalData3");try{const[Qt,xr,Rr,Lt]=await Promise.all([n.graphql({query:TW,variables:{input:rr}}),n.graphql({query:kW,variables:{input:{...qt}}}),n.graphql({query:NW,variables:{input:{...cr}}}),n.graphql({query:SW,variables:{input:{...Tr}}})]).then(Sr=>{console.log(Sr)}).catch(Sr=>{console.log(Sr)});console.log(Qt),console.log(xr),console.log(Rr),console.log(Lt)}catch{}},[])}},gp={positions:["Accountant","Accounts Assistant","Accounts Coordinator","Admin Clerk","Advance Scaffolder","Advance Scaffolder Leadman","Assistant Field Engineer","Assistant Material Controller","Assistant Quality Control Inspector","Basic Scaffolder","Basic Scaffolder 1","Basic Scaffolder 2","Blaster/Painter","Blasting/Painting & Insulation Coordinator","Blasting/Painting PTW Supervisor","Blasting/Painting Supervisor","Calibration & Certification Coordinator","Camp Inspector cum Driver","Clerk","Coating Field Support","Construction Engineer","Contract Engineer","Contract Manager","Cost Engineer","Costing Engineer","Deputy Facility Manager","Deputy HR Manager","Deputy Logistic Coordinator","Deputy Project Manager","Director's Personal Asst","Document & Data Controller","Document Controller","Document Controller cum Training/Medical Support","Document Controller/Timekeeper","Driver","Driver/Operator","E&I Manager","Equipment & Maintenance Coordinator","Executive Director","Field Engineer","Field Engineer - Rotating","Finance & Procurement Manager","Finance/Project Controls Coordinator","Fitter Mechanic","Fitter Mechanic Grade A","Flange Management Engineer","Flange Management Inspector","Foreman","Forklift cum Overhead Crane Operator","Forklift Operator","General Manager","Helper","HP Jetter/Senior Mechanical Technician","HR Assistant","HR Assistant Coordinator","HR Coordinator","HR Manager","HR/LBD Coordinator","HSE & Welfare Advisor","HSE Advisor","HSSE Advisor/Auditor","HSSE Coordinator","HSSE Manager","HSSE Officer","HSSE Training Coordinator","Industrial Cleaner","Industrial Cleaner Lead","Industrial Cleaner Supervisor","Insulation Fabricator","Insulation Field Support","Insulation Inspector","Insulation Supervisor","Insulation Supervisor/Permit Holder","Insulation Worksite Supervisor","Insulator","Insulator cum Fabricator","Inventory Maintenance Supervisor","IT Assistant Engineer","Junior Coordinator","Junior Electrician","Junior Engineer","Junior Field Engineer","Junior Material Coordinator","Junior Mechancial Technician","Junior Mechanical Technician","Junior Planner","Junior QC Inspector","Junior Scheduler","LBD & Welfare Manager","Leadman","Load Out Leadman","Loadout/Backload Supervisor","Logistics Coordinator","Logistics Scheduler","Logistics Scheduler & Timekeeper","Machinist","Machinist Grade A","Maintenance Coordinator","Managing Director","Marker Fitter","Marker Fitter Grade A","Marker Fitter Grade B","Material Coordinator","Mechanic","Mechanical Construction Coordinator","Mechanical cum Hotwork Supervisor","Mechanical Engineer","Mechanical Execution Lead","Mechanical Field Engineer","Mechanical Insulation Supervisor","Mechanical Supervisor","Mechanical Supervisor/ PIC","Mechanical Supervisor/Permit Holder","Mechanical Technician","Mechanical Technician cum Rigger","Mechanical/Hotwork Supervisor","Office Assistant/Driver","Offshore Operations Manager","OMEC Contract Manager","Painter","Pass Coordinator cum Document Controller","Permit Coordinator","Personnel Officer","Pipe Welder - 6GR Trainee","Pipe Welder (6G)","Piping Supervisor","Planner","Planning Engineer","Procurement Coordinator","Project Coordinator","Project Engineer","PTW Supervisor","Public Relation Officer","Purchaser cum Expeditor","Purchasing Clerk","Purchasing Coordinator","PWHT Technician cum Electrician","QA/QC Coordinator","QA/QC Engineer","QA/QC Inspector","QA/QC Manager/QMR","Quantity Surveyor","Rigger","Rotating Equipment Engineer","Rotating Equipment Technician","Rotating Supervisor","Rotating Technician","Rotating Technician cum Mechanical Technician","Scaffold Coordinator","Scaffolder","Scaffolding Field Support","Scaffolding Inspector","Scaffolding Inspector cum Supervisor","Scaffolding Superintendent","Scaffolding Supervisor","Scaffolding Supervisor & Permit Holder","Scaffolding Supervisor/Inspector","Secretary","Secretary Cum Admin","Senior Document Controller","Senior Inspector","Senior Mechanical Supervisor","Senior Mechanical Technician","Senior Mechanical Technician cum HP/UHP Lead Operator","Senior Mechanical Technician/Banksman","Senior Planning Engineer","Senior Rotating Technician","Senior Scheduler","Senior Supervisor","Store Assistant","Store Coordinator","Storekeeper","Supervisor","Technical Assistant/Driver","Technical Clerk","Technical Field Support","Technical Field Support cum Fire Watcher","Timekeeper/Clerk","Tools & Equipment Coordinator","Trainee Technician","Training Coordinator","Turnaround Coordinator","UHP/HP Pump Operator/Hydro Jetter cum Mechanical Technician","Unit Shutdown Coordinator","Valve Technician","Welder","Welder Grade A","Welder Grade A1","Welder Grade B","Welder Grade C","Welfare Officer cum CVEV Officer","Workpack Preparer","Worksite Supervisor","Apprentice Blaster Painter","Apprentice Marker Fitter Level 1A (Structural & Basic Piping)","Assistant Construction Supervisor","Construction Site Supervisor","Electrician","HSSE Offshore Officer","Marker Fitter Multiskill","Mechanic","Mechanical Construction Supervisor","Mechanical Leadman","Offshore Fabrication Workshop / Deck Supervisor","Offshore Mechanical Store Supervisor","Offshore PWHT Technician","Rigger Multiskill","Senior Inspector","Storekeeper","Welder","Welder Multiskill","Welding Inspector","Other"],workFields:[{label:"Date of Join",name:"doj",type:"date"},{label:"Job Description",name:"jobDesc",type:"text"},{label:"Skill Pool",name:"skillPool",type:"select",options:["","Corporate","Management","Supervisory","Administration & Accounts","Skilled","Unskilled"]},{label:"HR",name:"hr",type:"text"},{label:"Manager",name:"manager",type:"text"},{label:"Supervisor",name:"supervisor",type:"text"},{label:"Employee Status",name:"relationship",type:"select",options:["","Single","Employee & Spouse","Employee, Spouse & Children (max 2 pax below age 18)"]},{label:"Upgrade Position",name:"upgradePosition",type:"text"},{label:"Position  Upgrade Effective date",name:"upgradeDate",type:"date"},{label:"Contract Period Status",name:"contractPeriod",type:"text"},{label:"Contract Start Date",name:"contractStart",type:"date"},{label:"Contract End Date",name:"contractEnd",type:"date"},{label:"Probationary Start Date",name:"probationStart",type:"date"},{label:"Probationary End Date",name:"probationEnd",type:"date"},{label:"Probation Duration",name:"probDuration",type:"text"},{label:"Normal Working Hours Per Day",name:"workHrs",type:"text"},{label:"Normal Working Day per Week",name:"workWeek",type:"text"},{label:"Normal Working Day per Month",name:"workMonth",type:"text"},{label:"Employment Work Status",name:"workStatus",type:"select",options:["","Probationary","Active","Resignation","Termination"]},{label:"Type of Salary Pay",name:"salaryType",type:"select",options:["","Monthly","Daily"]}],terminationFields:[{label:"Date of Resignation",name:"resignDate",type:"date"},{label:"Date of Termination",name:"termiDate",type:"date"},{label:"Resignation Notice during Probation",name:"resignNotProb",type:"select",options:["","1 Week","28 Working Days","N/A","Other"]},{label:"Termination Notice during Probation",name:"termiNotProb",type:"select",options:["","1 Week","28 Working Days","N/A","Other"]},{label:"Resignation Notice after Confirmation",name:"resignNotConf",type:"select",options:["","1 Month","3 Months","N/A","Other"]},{label:"Termination Notice after Confirmation",name:"termiNotConf",type:"select",options:["","1 Month","3 Months","N/A","Other"]},{label:"Reason of Resignation",name:"reasonResign",type:"text"},{label:"Reason of Termination",name:"reasonTerminate",type:"text"}],leaveBasic:[{label:"Leave Passage Entitlement for Non-Local",name:"leavePass",type:"select",options:["","Employee alone","Employee & Spouse","Employee, Spouse & Children (max 2 pax below age 18)"]},{label:"Date of Leave Passage Entitlement After Contract",name:"dateLeavePass",type:"date"},{label:"Duration Period of Leave Passage Entitlement",name:"durLeavePass",type:"text"},{label:"Destination of Leave Passage Entitlement",name:"destinateLeavePass",type:"text"}],leaveFields:[{label:"Annual Leave Entitlement",name:"annualLeave",type:"text"},{label:"Effective Date",name:"annualLeaveDate",type:"date"},{label:"Sick Leave Entitlement",name:"sickLeave",type:"text"},{label:"Effective Date",name:"sickLeaveDate",type:"date"},{label:"Maternity Leave Entitlement",name:"materLeave",type:"text"},{label:"Effective Date",name:"materLeaveDate",type:"date"},{label:"Paternity Leave Entitlement",name:"paterLeave",type:"text"},{label:"Effective Date",name:"paterLeaveDate",type:"date"},{label:"Marriage Leave Entitlement",name:"mrageLeave",type:"text"},{label:"Effective Date",name:"mrageLeaveDate",type:"date"},{label:"Compassionate Entitlement",name:"compasLeave",type:"text"},{label:"Effective Date",name:"compasLeaveDate",type:"date"}],serviceRecords:[{label:"Position Revision",name:"positionRev",type:"text"},{label:"Effective Date",name:"positionRevDate",type:"date"},{label:"Upload File",name:"uploadPR",type:"file"},{label:"Salary Package Revision",name:"revSalary",type:"text"},{label:"Effective Date",name:"revSalaryDate",type:"date"},{label:"Upload File",name:"uploadSP",type:"file"},{label:"Leave Passage Revision",name:"revLeavePass",type:"text"},{label:"Effective Date",name:"revLeaveDate",type:"date"},{label:"Upload File",name:"uploadLP",type:"file"},{label:"Annual Leave Revison",name:"revAnnualLeave",type:"text"},{label:"Effective date",name:"revALD",type:"date"},{label:"Upload File",name:"uploadAL",type:"file"},{label:"Change of Department",name:"depEmp",type:"text"},{label:"Effective Date",name:"depEmpDate",type:"date"},{label:"Upload File",name:"uploadDep",type:"file"}]},qc=({label:n,register:r,onChangeFunc:t,name:e,error:s,fileName:i})=>b.jsxs("div",{className:"flex flex-col",children:[n&&b.jsx("label",{className:"text_size_5",children:n}),b.jsxs("label",{className:"w-full mt-2 max-w-[300px] flex items-center px-3 py-3 text_size_7 bg-lite_skyBlue border border-[#dedddd] rounded cursor-pointer",children:[b.jsx("input",{type:"file",className:"hidden",...r,onChange:t,accept:".pdf"}),b.jsxs("span",{className:"ml-2 text-grey font-normal flex justify-between items-center gap-20 text-sm",children:[b.jsx(Bs,{className:"text-lg"})," PDF Only"]})]}),b.jsx("p",{className:"text-grey text-sm my-1",children:i||""}),s&&b.jsx("p",{className:"text-[red] text-[12px] mt-1",children:s.message})]}),VC=({field:n,register:r,handleFileChange:t,uploadedFileNames:e,errors:s})=>{var i;return b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"mb-1 text_size_6",children:n.label}),n.type==="text"||n.type==="date"?b.jsx("input",{type:n.type,...r(n.name),className:"input-field"}):n.type==="file"?b.jsxs("label",{className:"w-full mt-2 max-w-[300px] flex items-center px-3 py-3 text_size_7 bg-lite_skyBlue border border-[#dedddd] rounded cursor-pointer",children:[b.jsx("input",{type:"file",className:"hidden",accept:".pdf",...r(n.name),onChange:a=>t(a,n.name)}),b.jsxs("span",{className:"ml-2 text-grey font-normal flex justify-between items-center gap-20",children:[b.jsx(Bs,{})," PDF Only"]})]}):null,e[n.name]&&b.jsx("p",{className:"text-grey text-sm my-1",children:e[n.name]}),!e[n.name]&&s[n.name]&&b.jsx("p",{className:"text-[red] text-[12px] pt-2",children:(i=s[n.name])==null?void 0:i.message})]})},tK=()=>{const n=Pr();return{WIUpdateData:ne.useCallback(async({workInfoUpValue:t})=>{if(!t)throw new Error("Missing required parameters");const{empID:e,department:s,otherDepartment:i,position:a,otherPosition:o,jobCat:c,otherJobCat:u,doj:l,jobDesc:d,skillPool:f,relationship:h,hr:p,manager:g,supervisor:v,upgradePosition:m,upgradeDate:x,contractPeriod:y,contractStart:w,contractEnd:E,workStatus:I,probationStart:T,probationEnd:R,probDuration:D,workHrs:L,workWeek:M,workMonth:H,salaryType:V,resignDate:P,termiDate:F,resignNotProb:A,otherResignNotProb:_,termiNotProb:S,otherTermiNotProb:N,resignNotConf:C,otherResignNotConf:W,termiNotConf:j,otherTermiNotConf:B,reasonResign:G,reasonTerminate:X,leavePass:J,dateLeavePass:O,destinateLeavePass:ee,durLeavePass:U,annualLeave:z,annualLeaveDate:Z,sickLeave:te,sickLeaveDate:oe,materLeave:ue,materLeaveDate:le,paterLeave:ce,paterLeaveDate:_e,mrageLeave:fe,mrageLeaveDate:ge,compasLeave:xe,compasLeaveDate:Le,positionRev:Me,positionRevDate:Oe,revSalary:ze,revSalaryDate:Ke,revLeavePass:ot,revLeaveDate:$e,revAnnualLeave:Ve,revALD:He,depEmp:rt,depEmpDate:Je,remarkWI:wt,WIContract:yt,WIProbation:kt,WIResignation:mt,WITermination:At,WILeaveEntitle:$t,uploadPR:Tt,uploadSP:Yt,uploadLP:nr,uploadAL:Xt,uploadDep:fr,sapNo:rr,SRDRTable:qt,WIDTable:cr,LDRTable:Tr,TDRTable:Qt}=t,xr={id:cr,empID:e,department:s,otherDepartment:i,position:a,otherPosition:o,jobCat:c,otherJobCat:u,doj:l,jobDesc:d,skillPool:f,relationship:h,upgradePosition:m,upgradeDate:x,contractStart:w,contractPeriod:y,contractEnd:E,hr:p,manager:g,supervisor:v,workStatus:I,probationStart:T,probationEnd:R,probDuration:D,workHrs:L,workWeek:M,workMonth:H,salaryType:V,sapNo:rr},Rr={id:Qt,empID:e,resignDate:P,termiDate:F,resignNotProb:A,otherResignNotProb:_,termiNotProb:S,otherTermiNotProb:N,resignNotConf:C,otherResignNotConf:W,termiNotConf:j,otherTermiNotConf:B,reasonResign:G,reasonTerminate:X,WIContract:yt,WIProbation:kt,WIResignation:mt,WITermination:At,WILeaveEntitle:$t},Lt={id:Tr,empID:e,leavePass:J,dateLeavePass:O,destinateLeavePass:ee,durLeavePass:U,annualLeave:z,annualLeaveDate:Z,sickLeave:te,sickLeaveDate:oe,materLeave:ue,materLeaveDate:le,paterLeave:ce,paterLeaveDate:_e,mrageLeave:fe,mrageLeaveDate:ge,compasLeave:xe,compasLeaveDate:Le},Sr={id:qt,empID:e,positionRev:Me,positionRevDate:Oe,revSalary:ze,revSalaryDate:Ke,revLeavePass:ot,revLeaveDate:$e,revAnnualLeave:Ve,revALD:He,depEmp:rt,depEmpDate:Je,remarkWI:wt,uploadPR:Tt,uploadSP:Yt,uploadLP:nr,uploadAL:Xt,uploadDep:fr};try{const[Nr,ur,qe,st]=await Promise.all([n.graphql({query:DW,variables:{input:xr}}),n.graphql({query:CW,variables:{input:Rr}}),n.graphql({query:AW,variables:{input:Lt}}),n.graphql({query:EW,variables:{input:Sr}})]);console.log("Emp Data Updated:",Nr),console.log("Terminate Data Updated:",ur),console.log("Leave Data Updated:",qe),console.log("Service Record Updated:",st)}catch(Nr){throw console.error("Error executing GraphQL requests:",Nr),Nr}},[])}},rK=()=>{const{WIUpdateData:n}=tK();ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{empPIData:r,terminateData:t,workInfoData:e,leaveDetailsData:s,SRData:i}=ne.useContext(bs),{SubmitWIData:a}=eK(),{register:o,handleSubmit:c,control:u,setValue:l,watch:d,formState:{errors:f}}=ds({defaultValues:{uploadAL:[],uploadPR:[],uploadSP:[],uploadLP:[],uploadDep:[],WIProbation:[],WIResignation:[],WITermination:[],WILeaveEntitle:[],WIContract:[]},resolver:vs(TX)}),[h,p]=ne.useState(!1),[g,v]=ne.useState([]),[m,x]=ne.useState([]),[y,w]=ne.useState(""),E=d("empID"),[I,T]=ne.useState(""),[R,D]=ne.useState(""),L=d("department"),M=d("position"),H=d("jobCat"),V=d(gp.terminationFields.map(J=>J.name));ne.useEffect(()=>{r.map(J=>{E===J.empID&&(T(J.name),D(J.sapNo))})},[E,r]);const[P,F]=ne.useState({uploadPR:null,uploadSP:null,uploadLP:null,uploadAL:null,uploadDep:null,WIProbation:null,WIResignation:null,WITermination:null,WILeaveEntitle:null,WIContract:null}),[A,_]=ne.useState({uploadPR:[],uploadSP:[],uploadLP:[],uploadAL:[],uploadDep:[],WIProbation:[],WIResignation:[],WITermination:[],WILeaveEntitle:[],WIContract:[]}),[S,N]=ne.useState({department:!1,position:!1,jobCat:!1}),C=(J,O)=>{N(ee=>({...ee,[J]:O==="Other"}))};ne.useEffect(()=>{(async()=>{try{const O=r.map(ee=>{const U=e?e.find(oe=>oe.empID===ee.empID):{},z=t?t.find(oe=>oe.empID===ee.empID):{},Z=s?s.find(oe=>oe.empID===ee.empID):{},te=i?i.find(oe=>oe.empID===ee.empID):{};return{...ee,...U,...z,...Z,...te}}).filter(Boolean);v(O),x(O)}catch(O){console.log(O)}})()},[r,t,e,s,i]),ne.useEffect(()=>{const J=j(d("department")),O=j(d("position")),ee=j(d("jobCat"));N({department:J==="Other",position:O==="Other",jobCat:ee==="Other"})},[d("department"),d("position"),d("jobCat")]);const W=async(J,O)=>{const ee=J.target.files[0];if(!ee)return;if(!["application/pdf"].includes(ee.type)){alert("Upload must be a PDF file");return}const z=d(O)||[];l(O,[...z,ee]);try{await di(ee,O,_),F(Z=>({...Z,[O]:ee.name}))}catch(Z){console.log(Z)}},j=J=>Array.isArray(J)?J[J.length-1]:J,B=J=>{["empID","doj","skillPool","probationStart","probationEnd","probDuration","resignDate","termiDate","resignNotProb","otherResignNotProb","termiNotProb","otherTermiNotProb","resignNotConf","otherResignNotConf","termiNotConf","otherTermiNotConf","reasonResign","reasonTerminate","sickLeave","sickLeaveDate","mrageLeave","mrageLeaveDate","compasLeave","compasLeaveDate","sapNo"].forEach(z=>{l(z,J[z])}),["department","otherDepartment","position","otherPosition","jobCat","otherJobCat","jobDesc","relationship","hr","manager","supervisor","upgradePosition","upgradeDate","contractPeriod","contractStart","paterLeaveDate","contractEnd","workStatus","workHrs","workWeek","workMonth","salaryType","leavePass","dateLeavePass","destinateLeavePass","durLeavePass","annualLeave","annualLeaveDate","materLeave","materLeaveDate","paterLeave","positionRev","positionRevDate","revSalary","revSalaryDate","revLeavePass","revLeaveDate","revAnnualLeave","revALD","depEmp","depEmpDate","remarkWI"].forEach(z=>l(z,j(J[z]))),["WIProbation","WIResignation","WITermination","WILeaveEntitle","WIContract","uploadPR","uploadSP","uploadLP","uploadAL","uploadDep"].map(z=>{if(J&&J[z])try{const te=JSON.parse(J[z]).map(oe=>typeof oe=="string"?JSON.parse(oe):oe);l(z,te),_(oe=>({...oe,[z]:te})),F(oe=>({...oe,[z]:te.length>0?G(te[te.length-1].upload):""}))}catch(Z){console.error(`Failed to parse ${z}:`,Z)}}),N({department:J.department==="Other",position:J.position==="Other",jobCat:J.jobCat==="Other"})};function G(J){const ee=new URL(J).pathname,U=decodeURIComponent(ee);return U.substring(U.lastIndexOf("/")+1)}const X=async J=>{console.log("Form data received in onSubmit:",J);try{const O=r?r.find(te=>te.empID===J.empID):{},ee=t?t.find(te=>te.empID===J.empID):{},U=e?e.find(te=>te.empID===J.empID):{},z=s?s.find(te=>te.empID===J.empID):{},Z=i?i.find(te=>te.empID===J.empID):{};if(Z&&z&&U&&ee&&O){const te={...J,sapNo:R,WIContract:JSON.stringify(A.WIContract),WIProbation:JSON.stringify(A.WIProbation),WIResignation:JSON.stringify(A.WIResignation),WITermination:JSON.stringify(A.WITermination),WILeaveEntitle:JSON.stringify(A.WILeaveEntitle),uploadPR:JSON.stringify(A.uploadPR),uploadSP:JSON.stringify(A.uploadSP),uploadLP:JSON.stringify(A.uploadLP),uploadAL:JSON.stringify(A.uploadAL),uploadDep:JSON.stringify(A.uploadDep),SRDRTable:Z.id,LDRTable:z.id,WIDTable:U.id,TDRTable:ee.id};await n({workInfoUpValue:te}),w("Employee Work Info Updated successfully"),p(!0)}else{const te={...J,sapNo:R,WIContract:JSON.stringify(A.WIContract),WIProbation:JSON.stringify(A.WIProbation),WIResignation:JSON.stringify(A.WIResignation),WITermination:JSON.stringify(A.WITermination),WILeaveEntitle:JSON.stringify(A.WILeaveEntitle),uploadPR:JSON.stringify(A.uploadPR),uploadSP:JSON.stringify(A.uploadSP),uploadLP:JSON.stringify(A.uploadLP),uploadAL:JSON.stringify(A.uploadAL),uploadDep:JSON.stringify(A.uploadDep)};await a({workInfoValue:te}),w("Employee Work Info saved successfully"),p(!0)}}catch(O){console.log(O),console.error("Error submitting data:",O)}};return b.jsxs("section",{className:"bg-[#F5F6F1CC] mx-auto p-10",children:[b.jsxs("div",{className:"w-full flex items-center justify-between gap-5",children:[b.jsx(ga,{to:"/employee",className:"text-xl flex-1 text-grey",children:b.jsx(Xc,{})}),b.jsx("p",{className:"flex-1 text-center mt-2 text_size_2 uppercase",children:"Work Info"}),b.jsx("div",{className:"flex-1",children:b.jsx(Li,{searchResult:B,newFormData:m,searchIcon2:b.jsx(Ds,{}),placeholder:"Employee Id",rounded:"rounded-lg"})})]}),b.jsxs("form",{onSubmit:c(X),className:" mt-20 bg-[#F5F6F1CC]",children:[b.jsx("div",{className:"flex justify-end items-center mt-5",children:b.jsx("div",{children:b.jsx(Ct,{label:"Employee ID",type:"text",name:"empID",placeholder:"Enter Employee ID",errors:f,register:o})})}),b.jsxs("div",{className:"grid grid-cols-2 gap-5 form-group mt-2",children:[b.jsx("div",{children:b.jsx(Ct,{label:"Department",type:"select",name:"department",select:"Select Department",options:[...Zz],errors:f,register:o,onChange:J=>{C("department",J.target.value),o("department").onChange(J)}})}),S.department&&L==="Other"&&b.jsx("div",{children:b.jsx(Ct,{label:"Other Department",type:"text",name:"otherDepartment",placeholder:"Enter Department",errors:f,register:o})})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-5 form-group mt-2",children:[b.jsx("div",{children:b.jsx(Ct,{label:"Position",type:"select",name:"position",select:"Select Position",options:[...gp.positions.map(J=>({value:J,label:J}))],errors:f,register:o,onChange:J=>{C("position",J.target.value),o("position").onChange(J)}})}),S.position&&M==="Other"&&b.jsx("div",{children:b.jsx(Ct,{label:"Other Position",type:"text",name:"otherPosition",placeholder:"Enter Position",errors:f,register:o})})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-5 form-group mt-2",children:[b.jsx("div",{children:b.jsx(Ct,{label:"Job Category",type:"select",name:"jobCat",select:"Select Job Category",options:[...Qz],errors:f,register:o,onChange:J=>{C("jobCat",J.target.value),o("jobCat").onChange(J)}})}),S.jobCat&&H==="Other"&&b.jsx("div",{children:b.jsx(Ct,{label:"Other Job Category",type:"text",name:"otherJobCat",placeholder:"Enter Job Category",errors:f,register:o})})]}),b.jsx("div",{className:"grid grid-cols-3 gap-5 form-group mt-5",children:gp.workFields.map((J,O)=>{var ee;return b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"mb-1 text_size_5",children:J.label}),J.type==="select"?b.jsx("select",{...o(J.name),className:"input-field select-custom",watch:d(J.name),children:(J.options||[]).map((U,z)=>b.jsx("option",{value:U,children:U},z))}):b.jsx("input",{type:J.type,...o(J.name),className:"input-field"}),f[J.name]&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:(ee=f[J.name])==null?void 0:ee.message})]},O)})}),b.jsx("hr",{className:"text-lite_grey mb-5"}),b.jsxs("div",{className:"form-group",children:[b.jsx("p",{className:"text_size_3 form-group text-medium_grey my-5",children:"Employee Leave Info"}),b.jsx("div",{className:"grid grid-cols-2 gap-5 form-group mt-5",children:gp.leaveBasic.map((J,O)=>{var ee;return b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"mb-1 text_size_5",children:J.label}),J.type==="select"?b.jsx("select",{...o(J.name),className:"input-field select-custom",children:(J.options||[]).map((U,z)=>b.jsx("option",{value:U,children:U},z))}):b.jsx("input",{type:J.type,...o(J.name),className:"input-field"}),f[J.name]&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:(ee=f[J.name])==null?void 0:ee.message})]},O)})}),b.jsx("div",{className:"grid grid-cols-4 gap-5 form-group mt-5",children:gp.leaveFields.map((J,O)=>{var ee;return b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"mb-1 text_size_5",children:J.label}),J.type==="select"?b.jsx("select",{...o(J.name),className:"input-field select-custom",children:(J.options||[]).map((U,z)=>b.jsx("option",{value:U,children:U},z))}):b.jsx("input",{type:J.type,...o(J.name),className:"input-field"}),f[J.name]&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:(ee=f[J.name])==null?void 0:ee.message})]},O)})})]}),b.jsx("hr",{className:"text-lite_grey mb-5"}),b.jsxs("div",{className:"form-group",children:[b.jsx("p",{className:"text_size_3 form-group text-medium_grey my-5",children:"Employee Exit Info"}),b.jsx("div",{className:"grid grid-cols-2 form-group gap-5",children:gp.terminationFields.map((J,O)=>{var z,Z;const U=V[O]==="other";return b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"block text_size_5",children:J.label}),J.type==="select"?b.jsxs(b.Fragment,{children:[b.jsx("select",{...o(J.name),className:"input-field select-custom",children:J.options.map((te,oe)=>b.jsx("option",{value:te==="Select"?"":te.toLowerCase(),children:te},oe))}),U&&b.jsxs(b.Fragment,{children:[b.jsx("input",{type:"text",placeholder:"Please specify",...o(`other${J.name.charAt(0).toUpperCase()+J.name.slice(1)}`,{required:"This field is required when 'Other' is selected"}),className:"input-field"}),b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:(z=f[`other${J.name.charAt(0).toUpperCase()+J.name.slice(1)}`])==null?void 0:z.message})]})]}):b.jsx("input",{type:J.type,...o(J.name),className:"input-field"}),b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:(Z=f[J.name])==null?void 0:Z.message})]},O)})})]}),b.jsx("div",{className:"grid grid-cols-3 gap-5 form-group mt-5",children:eV.map((J,O)=>b.jsx(Jn,{name:J.title,control:u,render:({field:{onChange:ee,value:U}})=>b.jsxs("div",{className:"form-group",children:[b.jsxs("h2",{className:"text_size_5",children:["Upload ",J.label]}),b.jsxs("label",{className:"mt-2 flex items-center px-3 py-3 text_size_7 bg-lite_skyBlue border border-[#dedddd] rounded cursor-pointer",children:[b.jsx("input",{type:"file",className:"hidden",accept:".pdf,image/jpeg,image/png",onChange:z=>W(z,J.title)}),b.jsxs("span",{className:"ml-2 text-grey font-normal flex justify-between items-center gap-10",children:[J.icon,J.label]})]}),b.jsx("p",{className:"text-xs mt-1 text-grey",children:(P==null?void 0:P[J.title])||""}),f[J.title]&&b.jsx("p",{className:"text-red text-xs mt-1",children:f[J.title].message})]})},O))}),b.jsx("hr",{className:"text-lite_grey mb-5"}),b.jsxs("div",{className:"form-group",children:[b.jsx("p",{className:"text_size_5 form-group text-medium_grey my-5",children:"Employee Service Record"}),b.jsx("div",{className:"grid grid-cols-3 gap-5",children:gp.serviceRecords.map((J,O)=>b.jsx(VC,{field:J,register:o,handleFileChange:W,uploadedFileNames:P,errors:f},O))}),b.jsxs("div",{className:"md:col-span-2 form-group",children:[b.jsx("label",{className:"mb-1 text_size_5",children:"Remarks for Work Info"}),b.jsx("textarea",{...o("remarkWI"),className:"resize-none w-full p-2 mt-1 border bg-lite_skyBlue border-lite_grey rounded-md outline-none",rows:"4"}),f.remarkWI&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:f.remarkWI.message})]})]}),b.jsx("div",{className:"center my-10",children:b.jsx("button",{type:"submit",className:"primary_btn",children:"Save"})})]}),h&&b.jsx(fi,{text:y,notification:h,path:"/employee"})]})},nK={medicalFields:[{label:"Overseas Medical Fitness issued date",name:"overMD",type:"date"},{label:"Overseas Medical Fitness Expiry",name:"overME",type:"date"},{label:"Upload File",name:"uploadFitness",type:"file"},{label:"Date submitted of BruHims Registration",name:"bruhimsRD",type:"date"},{label:"BruHims Registration Number",name:"bruhimsRNo",type:"text"},{label:"Upload File",name:"uploadRegis",type:"file"},{label:"Brunei Medical Appointment Date",name:"bruneiMAD",type:"date"},{label:"Brunei Medical Fitness Expiry",name:"bruneiME",type:"date"},{label:"Upload File",name:"uploadBwn",type:"file"}]},sK=({errors:n,register:r,setValue:t,setArrayUploadDocs:e,control:s,value:i,getValues:a})=>{const o=ne.useRef(!0),[c,u]=ne.useState({}),[l,d]=ne.useState({uploadDp:null,uploadDr:null}),{fields:f,append:h,remove:p,replace:g}=Af({control:s,name:"dependPass"});ne.useEffect(()=>{if(o.current){if(i&&i.length>0){const y=typeof i=="string"?JSON.parse(i):i;g(y),t("dependPass",y)}else h({dependName:"",dependPpNo:"",dependPpE:"",relation:"",labourDPBy:"",labourDRNo:"",labourDAmount:"",uploadDp:[],uploadDr:[],isNew:!1});o.current=!1}else if(i&&i.length>0){const y=typeof i=="string"?JSON.parse(i):i;g(y),t("dependPass",y),console.log(y,"dfghj"),["uploadDp","uploadDr"].forEach(E=>{y&&Array.isArray(y)&&y.forEach((I,T)=>{const R=I==null?void 0:I[E],D=Array.isArray(R)?R.map(L=>typeof L=="string"?JSON.parse(L):L):[];u(L=>{const M=Array.isArray(L[E])?[...L[E]]:[];return M[T]=D,{...L,[E]:M}}),d(L=>({...L,[`${T}_${E}`]:D.length>0?v(D[D.length-1].upload):""}))})})}},[i,h,g,t]);function v(y){try{if(!y||typeof y!="string")throw new Error("Invalid URL");const E=new URL(y).pathname,I=decodeURIComponent(E);return I.substring(I.lastIndexOf("/")+1)}catch{return""}}const m=async(y,w,E)=>{const I=y.target.files[0];if(!I)return;if(I.type!=="application/pdf"){alert("Upload must be a PDF file");return}const R=[...a(`dependPass[${E}].${w}`)||[],I];t(`dependPass[${E}].${w}`,R);try{await di(I,w,u,E),d(D=>({...D,[`${E}_${w}`]:I.name}))}catch{}};ne.useEffect(()=>{e(c)},[c,e]);const x=()=>{h({dependName:"",dependPpNo:"",dependPpE:"",relation:"",labourDPBy:"",labourDRNo:"",labourDAmount:"",uploadDp:[],uploadDr:[]})};return b.jsxs("div",{className:"form-group mt-5",children:[b.jsxs("div",{className:"flex justify-between mb-5 text-dark_grey",children:[b.jsx("label",{className:"text_size_3",children:"Dependent Pass Info"}),b.jsx("button",{type:"button",className:"px-3 py-1 rounded",onClick:x,children:b.jsx(Wu,{className:"text-xl"})})]}),f.map((y,w)=>{var E,I,T,R;return b.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-2 relative",children:[b.jsx(Ct,{label:"Dependent Name",type:"text",name:`dependPass[${w}].dependName`,placeholder:"Enter Name",errors:n,register:r}),b.jsx(Ct,{label:"Passport Number",type:"text",name:`dependPass[${w}].dependPpNo`,placeholder:"Enter Passport Number",errors:n,register:r}),b.jsx(Ct,{label:"Date of Birth",type:"date",name:`dependPass[${w}].dependPpE`,placeholder:"Enter Date of Birth",errors:n,register:r}),b.jsx(Ct,{label:"Relation",type:"text",name:`dependPass[${w}].relation`,placeholder:"Enter Relation",errors:n,register:r}),b.jsx(Ct,{label:"Labour Deposit By",type:"select",name:`dependPass[${w}].labourDPBy`,options:Jz,errors:n,register:r}),b.jsx(Ct,{label:"Labour Deposit Received Number",type:"text",name:`dependPass[${w}].labourDRNo`,placeholder:"Enter Deposit Number",errors:n,register:r}),b.jsx(Ct,{label:"Labour Deposit Amount",type:"number",inputmode:"numeric",name:`dependPass[${w}].labourDAmount`,placeholder:"Enter Deposit Amount",errors:n,register:r}),b.jsx(qc,{label:"Upload Dependent Pass",onChangeFunc:D=>m(D,"uploadDp",w),register:r(`dependPass[${w}].uploadDp`),error:(I=(E=n==null?void 0:n.dependPass)==null?void 0:E[w])==null?void 0:I.uploadDp,fileName:l[`${w}_uploadDp`]||""}),b.jsx(qc,{label:"Upload Dependent Passport",onChangeFunc:D=>m(D,"uploadDr",w),register:r(`dependPass[${w}].uploadDr`),error:(R=(T=n==null?void 0:n.dependPass)==null?void 0:T[w])==null?void 0:R.uploadDr,fileName:l[`${w}_uploadDr`]||""}),w!==0&&b.jsx("button",{type:"button",onClick:()=>p(w),className:"absolute top-0 right-0 text-medium_grey text-[18px]",children:b.jsx(Df,{})})]},y.id)})]})},iK=()=>{const n=Pr();return{SubmitMPData:ne.useCallback(async({labValue:t})=>{if(!t)throw new Error("Missing required parameters");const e={empID:t.empID,overMD:t.overMD,overME:t.overME,bruhimsRD:t.bruhimsRD,bruhimsRNo:t.bruhimsRNo,bruneiMAD:[t.bruneiMAD],bruneiME:[t.bruneiME],dependPass:JSON.stringify(t.dependPass),uploadFitness:t.uploadFitness,uploadRegis:t.uploadRegis,uploadBwn:[t.uploadBwn]};try{const s=await Promise.all([n.graphql({query:wW,variables:{input:e}})]);console.log(s,"successfully stored data")}catch(s){throw console.error("Error executing GraphQL requests:",s),s}},[])}},aK=()=>{const n=Pr();return{updateMedicalSubmit:ne.useCallback(async({LabUpValue:t})=>{if(!t||!t.LabTable)throw new Error("Missing required parameters or LabTable ID");const e={id:t.LabTable,empID:t.empID,overMD:t.overMD,overME:t.overME,bruhimsRD:t.bruhimsRD,bruhimsRNo:t.bruhimsRNo,bruneiMAD:t.bruneiMAD,bruneiME:t.bruneiME,uploadBwn:t.uploadBwn,dependPass:JSON.stringify(t.dependPass),uploadFitness:t.uploadFitness,uploadRegis:t.uploadRegis};console.log("Updating data in LabourMedicalInfo table:",e);try{const s=await n.graphql({query:_W,variables:{input:e}});return console.log("Successfully updated data:",s),s}catch(s){throw console.error("Error updating LabourMedicalInfo:",s.message),s}},[])}},oK=()=>{ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{SubmitMPData:n}=iK(),{updateMedicalSubmit:r}=aK(),{empPIData:t,LMIData:e}=ne.useContext(bs),[s,i]=ne.useState([]),[a,o]=ne.useState([]),[c,u]=ne.useState({}),[l,d]=ne.useState({uploadFitness:[],uploadRegis:[],uploadBwn:[]}),[f,h]=ne.useState(!1),[p,g]=ne.useState(null),[v,m]=ne.useState(""),{register:x,handleSubmit:y,setValue:w,watch:E,control:I,getValues:T,formState:{errors:R}}=ds({defaultValues:{uploadFitness:[],uploadRegis:[],uploadBwn:[],dependPass:[]},resolver:vs(CX)});ne.useEffect(()=>{(async()=>{try{const F=t.map(A=>{const _=e?e.find(S=>S.empID===A.empID):{};return{...A,..._}}).filter(Boolean);i(F)}catch{}})()},[t,e]);const D=async(P,F)=>{const A=P.target.files[0];if(!A)return;if(!["application/pdf"].includes(A.type)){alert("Upload must be a PDF file ");return}const S=E(F)||[];w(F,[...S,A]);try{await di(A,F,d),u(N=>({...N,[F]:A.name}))}catch{}},L=P=>Array.isArray(P)?P[P.length-1]:P,M=P=>{if(["empID","overMD","overME","bruhimsRD","bruhimsRNo"].forEach(S=>{P[S]&&w(S,P[S])}),["bruneiMAD","bruneiME"].forEach(S=>w(S,L(P[S]))),P!=null&&P.dependPass)try{const S=JSON.parse(P.dependPass);g(S)}catch{}["uploadFitness","uploadRegis","uploadBwn"].map(S=>{if(P&&P[S])try{const C=JSON.parse(P[S]).map(W=>typeof W=="string"?JSON.parse(W):W);w(S,C),d(W=>({...W,[S]:C})),u(W=>({...W,[S]:C.length>0?H(C[C.length-1].upload):""}))}catch{}})};function H(P){const A=new URL(P).pathname,_=decodeURIComponent(A);return _.substring(_.lastIndexOf("/")+1)}const V=async P=>{try{const F=t.find(_=>_.empID===P.empID),A=e.find(_=>_.empID===P.empID);if(A&&F){const _={...P,uploadFitness:JSON.stringify(l.uploadFitness),uploadRegis:JSON.stringify(l.uploadRegis),uploadBwn:JSON.stringify(l.uploadBwn),dependPass:JSON.stringify(P.dependPass.map((S,N)=>{var j,B;const C=((j=a==null?void 0:a.uploadDp)==null?void 0:j[N])||S.uploadDp,W=((B=a==null?void 0:a.uploadDr)==null?void 0:B[N])||S.uploadDr;return{...S,uploadDp:C,uploadDr:W}})),LabTable:A.id};await r({LabUpValue:_}),m("Medical and Dependent Info details updated successfully"),h(!0)}else{const _={...P,uploadFitness:JSON.stringify(l.uploadFitness),uploadRegis:JSON.stringify(l.uploadRegis),uploadBwn:JSON.stringify(l.uploadBwn),dependPass:JSON.stringify(P.dependPass.map((S,N)=>{var j,B;const C=((j=a==null?void 0:a.uploadDp)==null?void 0:j[N])||S.uploadDp,W=((B=a==null?void 0:a.uploadDr)==null?void 0:B[N])||S.uploadDr;return{...S,uploadDp:C,uploadDr:W}}))};await n({labValue:_}),m("Medical and Dependent Info details saved successfully"),h(!0)}}catch(F){console.log(F),console.error("Error submitting data to AWS:",JSON.stringify(F,null,2))}};return b.jsxs("form",{onSubmit:y(V),className:"container mx-auto p-10 bg-[#F5F6F1CC]",children:[b.jsxs("div",{className:"w-full flex items-center justify-between",children:[b.jsx(ga,{to:"/employee",className:"text-xl flex-1 text-grey",children:b.jsx(Xc,{})}),b.jsx("p",{className:"flex-1 text-center mt-2 text_size_2 uppercase",children:"Medical & Dependent Info"}),b.jsx("div",{className:"flex-1",children:b.jsx(Li,{searchIcon2:b.jsx(Ds,{}),searchResult:M,placeholder:"Employee ID",rounded:"rounded-lg",newFormData:s})})]}),b.jsx("div",{className:"flex justify-end items-center pt-7 pb-2",children:b.jsx("div",{children:b.jsx(Ct,{label:"Employee ID",type:"text",name:"empID",placeholder:"Enter Employee ID",errors:R,register:x})})}),b.jsxs("div",{className:"form-group",children:[b.jsx("p",{className:"text_size_3 form-group text-medium_grey mb-5",children:"Employee Medical Info"}),b.jsx("div",{className:"grid grid-cols-3 gap-x-4 gap-y-2 mt-2 mb-5",children:nK.medicalFields.map((P,F)=>b.jsx(VC,{field:P,register:x,handleFileChange:D,uploadedFileNames:c,errors:R},F))})]}),b.jsx("hr",{}),b.jsx(sK,{register:x,UploadingFiles:c,setUploadedFileNames:u,control:I,setValue:w,setArrayUploadDocs:o,arrayUploadDocs:a,errors:R,watch:E,value:p,getValues:T}),b.jsx("div",{className:"center",children:b.jsx("button",{type:"submit",className:"primary_btn",children:"Submit"})}),f&&b.jsx(fi,{text:v,notification:f,path:"/labourImmigration"})]})},lK=()=>{const n=Pr();return{SubmitReqData:ne.useCallback(async({EmpReqValue:t})=>{if(!t)throw new Error("Missing required parameters");const e={department:t.department,project:t.project,position:t.position,quantity:t.quantity,reasonForReq:t.reasonForReq,justification:t.justification,replacementFor:t.replacementFor,qualification:t.qualification,tentativeDate:t.tentativeDate};console.log(e);try{const s=await Promise.all([n.graphql({query:nW,variables:{input:e}})]);console.log(s,"successfully stored data")}catch(s){throw console.error("Error executing GraphQL requests:",s),s}},[])}},$C=({isVisible:n,onClose:r})=>{const{SubmitReqData:t}=lK(),{register:e,handleSubmit:s,formState:{errors:i}}=ds({resolver:vs(BM)}),[a,o]=ne.useState(!1),c=async u=>{console.log("Form data:",u);try{const l={...u,department:u.department,project:u.project,position:u.position,quantity:u.quantity,reasonForReq:u.reasonForReq,justification:u.justification,replacementFor:u.replacementFor,qualification:u.qualification,tentativeDate:u.tentativeDate};await t({EmpReqValue:l}),o(!0)}catch(l){console.error("Error submitting data:",l),console.log(l),l!=null&&l.errors&&l.errors.forEach((d,f)=>{console.error(`GraphQL Error ${f+1}:`,d.message),d.extensions&&console.error("Error Extensions:",d.extensions)})}};return b.jsxs("div",{className:"bg-white w-full max-w-[900px] rounded-lg relative",children:[b.jsxs("div",{className:"flex gap-8 p-4",children:[b.jsx("img",{src:$m,alt:"Logo",className:"max-w-[150px] w-full"}),b.jsx("h2",{className:"text-lg font-semibold",children:"Apply for Employee Requisition"}),b.jsx("button",{onClick:r,className:"absolute -top-4 -right-4 border rounded-full p-1",children:b.jsx(k_,{size:20})})]}),b.jsx("div",{className:"max-h-[450px] overflow-y-auto px-4",children:b.jsxs("form",{onSubmit:s(c),className:"pb-5",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsx(Ct,{label:"Department",name:"department",type:"text",register:e,errors:i}),b.jsx(Ct,{label:"Project",name:"project",type:"text",register:e,errors:i}),b.jsx(Ct,{label:"Position",name:"position",type:"text",register:e,errors:i}),b.jsx(Ct,{label:"Quantity",name:"quantity",type:"text",register:e,errors:i}),b.jsx(Ct,{label:"Reason for Request",name:"reasonForReq",type:"select",register:e,errors:i,options:[{value:"Additional",label:"Additional"},{value:"Replacement",label:"Replacement"}]}),b.jsx(Ct,{label:"Justification of Request",name:"justification",type:"text",register:e,errors:i}),b.jsx(Ct,{label:"If Replacement, for whom",name:"replacementFor",type:"text",register:e,errors:i}),b.jsx(Ct,{label:"State Qualification Desired",name:"qualification",type:"text",register:e,errors:i}),b.jsx(Ct,{label:"Tentative Date to Mobilize",name:"tentativeDate",type:"date",register:e,errors:i})]}),b.jsx("div",{className:"flex justify-center items-center gap-4 pt-4",children:b.jsx("button",{type:"submit",className:"primary_btn",children:"Submit"})}),a&&b.jsx(fi,{text:"Your Requisition Submitted Successfully",notification:a,path:"/recrutiles/applymployreq"})]})})]})},cK=()=>{const{empPIData:n,EmpInsuranceData:r,workInfoData:t,IDData:e,depInsuranceData:s}=ne.useContext(bs),[i,a]=ne.useState([]),[o,c]=ne.useState("employeeInsurances"),[u,l]=ne.useState([]),d=Ga(),f=Xu();ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),ne.useEffect(()=>{(async()=>{try{const m=n.map(x=>{const y=r?r.find(I=>I.empID===x.empID):{},w=t?t.find(I=>I.empID===x.empID):{},E=e?e.find(I=>I.empID===x.empID):{};return{...x,...y,...w,...E}});a(m)}catch(m){console.log(m)}})()},[n,r,t,e]);const h=()=>{switch(o){case"employeeInsurances":d("/insuranceAdd"),c("employeeInsurances");break;case"dependentInsurance":d("/insuranceAdd/dependentInsurance"),c("dependentInsurance");break}},p=(v,m)=>{c(v),d(m)};ne.useEffect(()=>{const v=f.pathname;c(v==="/insuranceAdd"?"employeeInsurances":v==="/insuranceAdd/dependentInsurance"?"dependentInsurance":"employeeInsurances")},[f]);const g=v=>{l(v)};return b.jsx("section",{className:"w-full bg-[#F5F6F1]",children:b.jsxs("div",{className:"relative mx-auto p-10 h-full",children:[b.jsxs("div",{className:"w-full flex items-center justify-between gap-5",children:[b.jsx(ga,{to:"/employee",className:"text-xl flex-1 text-grey",children:b.jsx(Xc,{})}),b.jsx("p",{className:"flex-1 text-center mt-2 text_size_2 uppercase",children:"Insurance Form"}),b.jsx("div",{className:"flex-1",children:f.pathname==="/insuranceAdd"?b.jsx(Li,{searchResult:g,newFormData:i,searchIcon2:b.jsx(Ds,{}),placeholder:"Employee Id",rounded:"rounded-lg"}):b.jsx(Li,{searchResult:g,newFormData:s,searchIcon2:b.jsx(Ds,{}),placeholder:"Employee Id",rounded:"rounded-lg"})})]}),b.jsxs("div",{className:"flex justify-between border-b m-4 text-[16px] font-semibold",children:[b.jsx("button",{className:`py-2 px-4 focus:outline-none ${o==="employeeInsurances"?"border-b-8 border-yellow":""}`,onClick:()=>p("employeeInsurances","/insuranceAdd"),children:"Employee Insurance"}),b.jsx("button",{className:`py-2 px-4 focus:outline-none ${o==="dependentInsurance"?"border-b-8 border-yellow":""}`,onClick:()=>p("dependentInsurance","/insuranceAdd/dependentInsurance"),children:"Dependent Insurance"})]}),b.jsx("div",{children:b.jsx(vy,{context:{activeNavTab:o,handleNext:h,searchResultData:u}})})]})})};function GC(n){return Fn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(n)}function YC(n){return Fn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(n)}function uK(n){return Fn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(n)}const dK=()=>{const n=Pr();return{SubmitMPData:ne.useCallback(async({empInsValue:t})=>{if(!t)throw new Error("Missing required parameters");const e={empID:t.empID,groupIns:[t.groupIns],groupInsEffectDate:[t.groupInsEffectDate],groupInsEndDate:[t.groupInsEndDate],workmenComp:[t.workmenComp],workmePolicyNo:[t.workmePolicyNo],travelIns:[t.travelIns],accidentIns:[t.accidentIns],empInsUpload:[t.empInsUpload]};console.log(e);try{const s=await Promise.all([n.graphql({query:cW,variables:{input:e}})]);console.log(s,"successfully stored data")}catch(s){throw console.log(s),console.error("Error executing GraphQL requests:",s),s}},[])}},hK=()=>{const n=Pr();return{UpdateEIDataSubmit:ne.useCallback(async({empInsValue:t})=>{if(!t)throw new Error("Missing required parameters");const e={id:t.id,empID:t.empID,groupIns:[t.groupIns],groupInsEffectDate:[t.groupInsEffectDate],groupInsEndDate:[t.groupInsEndDate],workmenComp:[t.workmenComp],workmePolicyNo:[t.workmePolicyNo],travelIns:[t.travelIns],accidentIns:[t.accidentIns],empInsUpload:[t.empInsUpload]};console.log(e);try{const s=await Promise.all([n.graphql({query:uW,variables:{input:e}})]);console.log(s,"successfully Updated data")}catch(s){throw console.log(s),console.error("Error executing GraphQL requests:",s),s}},[])}},fK=()=>{ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{searchResultData:n}=Nh(),{EmpInsuranceData:r}=ne.useContext(bs),{SubmitMPData:t}=dK(),{UpdateEIDataSubmit:e}=hK(),[s,i]=ne.useState(!1),[a,o]=ne.useState({empInsUpload:[]}),[c,u]=ne.useState([{}]),[l,d]=ne.useState([]),[f,h]=ne.useState(""),{register:p,handleSubmit:g,setValue:v,watch:m,control:x,formState:{errors:y}}=ds({defaultValues:{empInsUpload:[]},resolver:vs(IX)}),w=[{label:"Employee Badge Number",key:"empBadgeNo",type:"text"},{label:"Employee Name",key:"name",type:"text"},{label:"Department",key:"department",type:"text"},{label:"Position",key:"position",type:"text"},{label:"Date of Joining",key:"doj",type:"date"},{label:"Gender",key:"gender",type:"select",options:Qw},{label:"Brunei I/C Number",key:"bwnIcNo",type:"text"},{label:"Passport Number for Non-Local",key:"ppNo",type:"text"},{label:"Date of Birth",key:"dob",type:"date"},{label:"Marital Status",key:"marital",type:"select",options:P8},{label:"Nationality",key:"nationality",type:"select",options:e5},{label:"Group H&S Insurance",key:"groupIns",type:"select",options:["Single","Employee & spouse","Employee & Child","Employee & Family","Decline","Others"]},{label:"Group H&S Insurance Enrollment Effective Date",key:"groupInsEffectDate",type:"date"},{label:"Group H&S Insurance Enrollment End Date",key:"groupInsEndDate",type:"date"},{label:"Workmen Compensation Insurance",key:"workmenComp",type:"select",options:["Offshore","Onshore","General"]},{label:"Policy Number",key:"workmePolicyNo",type:"text"},{label:"Travelling Insurance",key:"travelIns",type:"select",options:["Yes","No"]},{label:"Personal Accident Insurance",key:"accidentIns",type:"select",options:["Yes","No"]}],E=()=>{u(L=>[...L,{}]),d(L=>[...L,[]])},I=L=>{u(M=>M.filter((H,V)=>V!==L)),d(M=>M.filter((H,V)=>V!==L))},T=async(L,M,H)=>{const V=L.target.files[0];if(!V)return;if(!["application/pdf"].includes(V.type)){alert("Upload must be a PDF file");return}d(F=>{const A=[...F];return A[H]={name:V.name,file:V},A});try{const F=await di(V,M,o,H);F&&d(A=>{const _=[...A];return _[H]=[F],_})}catch{}},R=L=>Array.isArray(L)?L[L.length-1]:L;ne.useEffect(()=>{v("empID",n.empID),w.forEach(M=>{n[M.key]!==void 0&&v(M.key,n[M.key])}),w.forEach(M=>{n[M.key]!==void 0&&v(M.key,R(n[M.key]))});const L=n==null?void 0:n.empInsUpload;if(L)try{const H=JSON.parse(L).map(V=>typeof V=="string"?JSON.parse(V):V);o(V=>({...V,empInsUpload:H}))}catch{}},[n]);const D=async L=>{const M=r.find(H=>H.empID===L.empID);if(M){const H={...L,id:M.id,empInsUpload:JSON.stringify(a.empInsUpload.flat())};await e(H),h("Employee Insurance Info updated successfully"),i(!0)}else{const H={...L,empInsUpload:JSON.stringify(a.empInsUpload.flat())};await t(H),h("Employee Insurance Info Saved successfully"),i(!0)}};return b.jsxs("form",{onSubmit:g(D),className:"mx-auto p-2 my-10 bg-[#F5F6F1CC]",children:[b.jsx("div",{className:"flex justify-end items-center",children:b.jsx("div",{className:"max-w-sm",children:b.jsx(Ct,{label:"Employee ID",register:p,name:"empID",type:"text",watch:m("empID")||"",placeholder:"Enter Employee ID",errors:y})})}),b.jsx("div",{className:"grid grid-cols-2 gap-5 w-full",children:w.map(({label:L,key:M,type:H,options:V=[],className:P=""})=>b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"mb-1 text_size_5",children:L}),H==="select"?b.jsx(b.Fragment,{children:b.jsxs("select",{...p(M),className:`input-field select-custom ${P}`,watch:m(M)||"",children:[b.jsx("option",{value:""}),V.map(F=>typeof F=="string"?b.jsx("option",{value:F,children:F},F):b.jsx("option",{value:F.value,children:F.label},F.value))]})}):b.jsx("input",{type:H,...p(M),className:`input-field ${P}`,watch:m(M)||""}),y[M]&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:y[M].message})]},M))}),b.jsx("div",{className:"grid grid-cols-3 gap-10",children:c.map((L,M)=>{var H;return b.jsxs("div",{className:"form-group w-full relative",children:[b.jsxs("label",{className:"w-full flex items-center px-3 py-3 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] rounded-md cursor-pointer",children:["Upload",b.jsx(Jn,{name:`empInsUpload[${M}]`,control:x,render:({field:V})=>b.jsx("input",{type:"file",onChange:P=>{T(P,"empInsUpload",M)},className:"hidden",accept:".pdf"})}),b.jsx("span",{className:"ml-2",children:b.jsx(Bs,{})})]}),b.jsx("p",{className:"text-grey mt-1 text-xs",children:((H=l[M])==null?void 0:H.name)||""}),M===0&&b.jsx("button",{type:"button",onClick:E,className:"absolute top-1/2 -right-8 transform -translate-y-1/2 flex items-center text-medium_grey text-[20px]",children:b.jsx(YC,{className:"mr-1"})}),M>0&&b.jsx("button",{type:"button",onClick:()=>I(M),className:"absolute top-1/2 -right-8 transform -translate-y-1/2 flex items-center text-medium_grey text-[20px]",children:b.jsx(GC,{className:"mr-1"})})]},M)})}),b.jsx("div",{className:"center my-10",children:b.jsx("button",{type:"submit",className:"primary_btn",children:"Save"})}),s&&b.jsx(fi,{text:f,notification:s,path:"/employee"})]})},pK=({register:n,errors:r,index:t,selectedNationality:e,handleNationalityChange:s,watch:i})=>{const a=i(`depInsurance[${t}].depenotherNation`||""),o=i(`depInsurance[${t}].depenNation`||"");return b.jsx("div",{children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[b.jsx(Ct,{label:"Gender",register:n,name:`depInsurance[${t}].depenGender`,type:"select",options:Qw,errors:r}),b.jsx(Ct,{label:"Date of Birth",register:n,name:`depInsurance[${t}].depenDob`,type:"date",errors:r}),b.jsx(Ct,{label:"Nationality",register:n,name:`depInsurance[${t}].depenNation`,type:"select",options:e5,errors:r,onChange:s}),(e==="Other"||a&&o==="Other")&&b.jsx(Ct,{label:"Other Nationality",register:n,name:`depInsurance[${t}].depenotherNation`,type:"text",errors:r}),b.jsx(Ct,{label:"Birth Certificate Number (Below Age 12)",register:n,name:`depInsurance[${t}].depenBcNo`,type:"text",errors:r}),b.jsx(Ct,{label:"Brunei I/C Number",register:n,name:`depInsurance[${t}].depenIcNumber`,type:"text",errors:r}),b.jsx(Ct,{label:"Passport Number for Non-Local",register:n,name:`depInsurance[${t}].depenPpNo`,type:"text",errors:r}),b.jsx(Ct,{label:"Group H&S Insurance Enrollment Effective Date",register:n,name:`depInsurance[${t}].depenGroupInsEffect`,type:"date",errors:r}),b.jsx(Ct,{label:"Group H&S Insurance Enrollment End Date",register:n,name:`depInsurance[${t}].depenGroupInsEnd`,type:"date",errors:r}),b.jsx(Ct,{label:"Travelling Insurance Enrollment Effective Date",register:n,name:`depInsurance[${t}].depenTravelInsEffect`,type:"date",errors:r}),b.jsx(Ct,{label:"Travelling Insurance Enrollment End Date",register:n,name:`depInsurance[${t}].depenTravelInsEnd`,type:"date",errors:r}),b.jsx(Ct,{label:"Personal Accident Insurance Enrollment Effective Date",register:n,name:`depInsurance[${t}].depenPersonInsEffect`,type:"date",errors:r}),b.jsx(Ct,{label:"Personal Accident Insurance Enrollment End Date",register:n,name:`depInsurance[${t}].depenPersonInsEnd`,type:"date",errors:r})]})})},mK=({register:n,errors:r,index:t})=>{var e,s;return b.jsxs("div",{className:"grid grid-cols-2 gap-5 flex-wrap",children:[b.jsx(Ct,{label:"Dependent Name",register:n,name:`depInsurance[${t}].depenName`,type:"text",errors:r}),b.jsxs("div",{className:"flex-1",children:[b.jsx("label",{className:"mb-1 text_size_5",children:"Relationship"}),b.jsxs("select",{...n(`depInsurance[${t}].depenRelation`),className:"input-field select-custom",children:[b.jsx("option",{value:""}),b.jsx("option",{value:"Spouse",children:"Spouse"}),b.jsx("option",{value:"Child",children:"Child"})]}),((s=(e=r.depInsurance)==null?void 0:e[t])==null?void 0:s.depenRelation)&&b.jsx("p",{className:"text-[red] text-xs mt-1",children:r.depInsurance[t].depenRelation.message})]})]})},gK=()=>{const n=Pr();return{SubmitMPData:ne.useCallback(async({depValue:t})=>{if(!t)throw new Error("Missing required parameters");const e={empID:t.empID,depInsurance:JSON.stringify(t.depInsurance)};console.log(e);try{const s=await Promise.all([n.graphql({query:oW,variables:{input:e}})]);console.log(s,"successfully stored data")}catch(s){throw console.error("Error executing GraphQL requests:",s),s}},[])}},bK=()=>{const n=Pr();return{UpdateDIData:ne.useCallback(async({depValue:t})=>{if(!t)throw new Error("Missing required parameters");const e={empID:t.empID,depInsurance:JSON.stringify(t.depInsurance),id:t.id};console.log(e,"updated");try{const s=await Promise.all([n.graphql({query:lW,variables:{input:e}})]);console.log(s,"successfully Updated data")}catch(s){throw console.error("Error executing GraphQL requests:",s),s}},[])}},vK=()=>{ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{depInsuranceData:n}=ne.useContext(bs),{SubmitMPData:r}=gK(),{UpdateDIData:t}=bK(),[e,s]=ne.useState(!1),{searchResultData:i}=Nh(),[a,o]=ne.useState(""),{register:c,handleSubmit:u,formState:{errors:l},setValue:d,watch:f}=ds({resolver:vs(PX),defaultValues:{depInsurance:[{}]}}),[h,p]=ne.useState([{id:Date.now()}]),[g,v]=ne.useState({}),[m,x]=ne.useState({depInsurance:[]}),[y,w]=ne.useState(h),[E,I]=ne.useState(""),T=ne.useRef(!0),R=()=>{const F={id:Date.now()};w(A=>[...A,F])},D=f("empID"),L=F=>{const A=y.filter((_,S)=>S!==F);w(A),d("depInsurance",A)},M=async(F,A,_)=>{if(!D){alert("Please enter the Employee ID before uploading files."),window.location.href="/insuranceAdd/dependentInsurance";return}const S=F.target.files[0];if(!S)return;if(!["application/pdf"].includes(S.type)){alert("Upload must be a PDF file");return}d(`depInsurance[${_}].depenInfUpload`,S);try{await di(S,A,x,D,_),v(C=>({...C,[_]:S.name}))}catch(C){console.log(C)}},H=F=>{o(F.target.value)};ne.useEffect(()=>{d("empID",i==null?void 0:i.empID);const F=i==null?void 0:i.depInsurance;if(F)try{const A=JSON.parse(F);T.current?(A&&A.length>0&&(w(A),d("depInsurance",A),A.forEach((_,S)=>{if(_!=null&&_.depenInfUpload){const N=_.depenInfUpload,W=JSON.parse(N).map(j=>typeof j=="string"?JSON.parse(j):j);x(j=>{const B=[...j.depInsurance];return B[S]=W,{...j,depInsurance:B}}),v(j=>({...j,[S]:W.length>0?V(W[W.length-1].upload):""}))}})),T.current=!1):A&&A.length>0&&(w(A),d("depInsurance",A))}catch(A){console.error("Error parsing depInsurance data:",A)}},[i]);const V=F=>F.split("/").pop().split(".").slice(0,-1).join("."),P=async F=>{console.log(F);try{const A=n.find(_=>_.empID===F.empID);if(A){const _={...F,depInsurance:F.depInsurance.map((S,N)=>({...S,depenInfUpload:JSON.stringify(m.depInsurance[N])||[]})),id:A.id};await t({depValue:_}),I("Dependent Insurance Info Updated successfully"),s(!0)}else{const _={...F,depInsurance:F.depInsurance.map((S,N)=>({...S,depenInfUpload:JSON.stringify(m.depInsurance[N])||[]}))};await r({depValue:_}),I("Dependent Insurance Info saved successfully"),s(!0)}}catch(A){console.error("Error submitting data:",A)}};return b.jsx("div",{className:"bg-[#F5F6F1CC] mx-auto p-2 py-10",children:b.jsxs("form",{className:"flex flex-col gap-5",onSubmit:u(P),children:[b.jsx("div",{className:"flex justify-end items-center",children:b.jsxs("div",{className:"max-w-sm",children:[b.jsx("label",{className:"text_size_5",children:"Employee ID"}),b.jsx("input",{type:"text",className:"input-field",placeholder:"Enter Employee ID",...c("empID")}),l.empID&&b.jsx("p",{className:"text-[red] text-[12px]",children:l.empID.message})]})}),b.jsx("button",{type:"button",onClick:R,className:"absolute right-3 mt-10 text-medium_grey text-[25px]",children:b.jsx(YC,{className:"mr-1"})}),y&&y.length>0&&y.map((F,A)=>{var _,S,N,C;return b.jsxs("div",{className:"flex flex-col gap-5 border-b pb-10",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[b.jsxs("div",{children:[b.jsx("label",{className:"mb-1 text_size_5",children:"Type of Dependent Insurance"}),b.jsxs("select",{...c(`depInsurance[${A}].depenInsType`),defaultValue:F.depenInsType||"",className:"input-field select-custom",children:[b.jsx("option",{value:""}),b.jsx("option",{value:"Group H&S Insurance",children:"Group H&S Insurance"}),b.jsx("option",{value:"Travelling Insurance",children:"Travelling Insurance"}),b.jsx("option",{value:"Personal Accident Insurance",children:"Personal Accident Insurance"})]}),((S=(_=l.depInsurance)==null?void 0:_[A])==null?void 0:S.depenInsType)&&b.jsx("p",{className:"text-[red] text-xs mt-1",children:l.depInsurance[A].depenInsType.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"mb-1 text_size_5",children:"Dependent Information"}),b.jsxs("select",{...c(`depInsurance[${A}].depenInfo`),className:"input-field select-custom",children:[b.jsx("option",{value:""}),b.jsx("option",{value:"Spouse",children:"Spouse"}),b.jsx("option",{value:"Child",children:"Child"}),b.jsx("option",{value:"Spouse&Child",children:"Spouse & Child"})]}),((C=(N=l.depInsurance)==null?void 0:N[A])==null?void 0:C.depenInfo)&&b.jsx("p",{className:"text-[red] text-xs mt-1",children:l.depInsurance[A].depenInfo.message})]})]}),b.jsx(mK,{register:c,errors:l,index:A}),b.jsx(pK,{register:c,errors:l,index:A,watch:f,selectedNationality:a,handleNationalityChange:H}),b.jsx("div",{className:"grid grid-cols-3 gap-10",children:b.jsxs("div",{children:[b.jsxs("label",{className:"flex items-center px-3 py-3 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] rounded-md cursor-pointer",children:["Upload",b.jsx("input",{type:"file",...c(`depInsurance[${A}].depenInfUpload`),onChange:W=>M(W,"depInsurance",A),accept:"application/pdf",className:"hidden"}),b.jsx(Bs,{className:"ml-1"})]}),b.jsx("p",{className:"text-secondary text-xs pt-1",children:g[A]}),(l==null?void 0:l.depenInfUpload)&&b.jsx("p",{className:"text-red text-sm",children:l.depenInfUpload.message})]})}),A>0&&b.jsx("button",{type:"button",onClick:()=>L(A),className:"text-red-500 mt-2 text-medium_grey text-[25px]",children:b.jsx(GC,{})})]},A)}),b.jsx("div",{className:"md:col-span-2 flex justify-center mt-10",children:b.jsx("button",{type:"submit",className:"primary_btn",children:"Save"})}),e&&b.jsx(fi,{text:E,notification:e,path:"/employee"})]})})},x3=()=>{const{empPIData:n,SawpDetails:r,DNData:t,BJLData:e,PPValidsData:s}=ne.useContext(bs),[i,a]=ne.useState([]),[o,c]=ne.useState("sawp"),[u,l]=ne.useState([]),[d,f]=ne.useState(""),h=Ga(),p=Xu();ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),ne.useEffect(()=>{const x=localStorage.getItem("userID");f(x)},[]),ne.useEffect(()=>{(async()=>{try{const y=n.map(w=>{const E=r.find(D=>D.empID===w.empID),I=r.find(D=>D.empID===w.empID),T=r.find(D=>D.empID===w.empID),R=r.find(D=>D.empID===w.empID);return!E||!R||!T||!I?null:{...w,...E,...R,...T,...I}}).filter(Boolean);a(y)}catch(y){console.log(y)}})()},[n,r,t,e,s]);const g=()=>{switch(o){case"sawp":h("/sawp"),c("doe");break;case"doe":h("/sawp/doe"),c("nlms");break;case"nlms":h("/sawp/nlms"),c("bankGuarantee");break;case"bankGuarantee":h("/sawp/bankGuarantee"),c("jitpa");break;case"jitpa":h("/sawp/jitpa"),c("labourDeposit");break;case"labourDeposit":h("/sawp/labourDeposit"),c("immigration");break;case"immigration":h("/sawp/immigration"),c("immigration");break}},v=(x,y)=>{c(x),h(y)};ne.useEffect(()=>{const x=p.pathname;x.includes("/doe")?c("doe"):x.includes("/nlms")?c("nlms"):x.includes("/bankGuarantee")?c("bankGuarantee"):x.includes("/jitpa")?c("jitpa"):x.includes("/labourDeposit")?c("labourDeposit"):x.includes("/immigration")?c("immigration"):c("sawp")},[p]);const m=x=>{l(x)};return b.jsx("section",{className:"w-full min-h-screen bg-[#F5F6F1]",children:b.jsxs("div",{className:"relative mx-auto p-10 h-full",children:[b.jsxs("div",{className:"w-full flex items-center justify-between gap-5",children:[b.jsx(ga,{to:"/employee",className:"text-xl flex-1 text-grey",children:b.jsx(Xc,{})}),b.jsx("p",{className:"flex-1 text-center mt-2 text_size_2 uppercase",children:"Employee Work Pass"}),b.jsx("div",{className:"flex-1",children:p.pathname==="/sawp"?b.jsx(Li,{searchResult:m,newFormData:i,searchIcon2:b.jsx(Ds,{}),placeholder:"Employee Id",rounded:"rounded-lg",empID:d}):p.pathname==="/sawp/doe"?b.jsx(Li,{searchResult:m,newFormData:t,searchIcon2:b.jsx(Ds,{}),placeholder:"Employee Id",rounded:"rounded-lg",empID:d}):p.pathname==="/sawp/nlms"?b.jsx(Li,{searchResult:m,newFormData:t,searchIcon2:b.jsx(Ds,{}),placeholder:"Employee Id",rounded:"rounded-lg",empID:d}):p.pathname==="/sawp/bankGuarantee"?b.jsx(Li,{searchResult:m,newFormData:e,searchIcon2:b.jsx(Ds,{}),placeholder:"Employee Id",rounded:"rounded-lg",empID:d}):p.pathname==="/sawp/jitpa"?b.jsx(Li,{searchResult:m,newFormData:e,searchIcon2:b.jsx(Ds,{}),placeholder:"Employee Id",rounded:"rounded-lg",empID:d}):p.pathname==="/sawp/labourDeposit"?b.jsx(Li,{searchResult:m,newFormData:e,searchIcon2:b.jsx(Ds,{}),placeholder:"Employee Id",rounded:"rounded-lg",empID:d}):p.pathname==="/sawp/immigration"?b.jsx(Li,{searchResult:m,newFormData:s,searchIcon2:b.jsx(Ds,{}),placeholder:"Employee Id",rounded:"rounded-lg",empID:d}):null})]}),b.jsxs("div",{className:"flex justify-between border-b m-4 text-[16px] font-semibold",children:[b.jsx("button",{className:`py-2 px-4 focus:outline-none ${o==="sawp"?"border-b-8 border-yellow":""}`,onClick:()=>v("sawp","/sawp"),children:"SAWP"}),b.jsx("button",{className:`py-2 px-4 focus:outline-none ${o==="doe"?"border-b-8 border-yellow":""}`,onClick:()=>v("doe","/sawp/doe"),children:"DOE"}),b.jsx("button",{className:`py-2 px-4 focus:outline-none ${o==="nlms"?"border-b-8 border-yellow":""}`,onClick:()=>v("nlms","/sawp/nlms"),children:"NLMS"}),b.jsx("button",{className:`py-2 px-4 focus:outline-none ${o==="bankGuarantee"?"border-b-8 border-yellow":""}`,onClick:()=>v("bankGuarantee","/sawp/bankGuarantee"),children:"BANK GUARANTEE"}),b.jsx("button",{className:`py-2 px-4 focus:outline-none ${o==="jitpa"?"border-b-8 border-yellow":""}`,onClick:()=>v("jitpa","/sawp/jitpa"),children:"JITPA"}),b.jsx("button",{className:`py-2 px-4 focus:outline-none ${o==="labourDeposit"?"border-b-8 border-yellow":""}`,onClick:()=>v("labourDeposit","/sawp/labourDeposit"),children:"LABOUR DEPOSIT"}),b.jsx("button",{className:`py-2 px-4 focus:outline-none ${o==="immigration"?"border-b-8 border-yellow":""}`,onClick:()=>v("immigration","/sawp/immigration"),children:"IMMIGRATION"})]}),b.jsx("div",{children:b.jsx(vy,{context:{activeNavTab:o,handleNext:g,searchResultData:u}})})]})})},yK=()=>{const n=Pr();return{NLADatas:ne.useCallback(async({NLACreValue:t})=>{if(!t)throw new Error("Missing required parameters");const e={empID:t.empID,accommodation:[t.accommodation],accommodationAddress:[t.accommodationAddress]};console.log(e);try{const s=await Promise.all([n.graphql({query:yW,variables:{input:e}})]);console.log(s,"successfully stored data")}catch(s){throw console.error("Error executing GraphQL requests:",s),s}},[])}},xK=()=>{const n=Pr(),[r,t]=ne.useState("");return{NLAUpdateFun:ne.useCallback(async({NLAValue:s})=>{if(!s||!s.empID||!s.accommodation||!s.accommodationAddress||!s.IDTable)throw console.log(s.IDTable),console.log(IDTable),t("All fields (empID, accommodation, accommodationAddress, IDTable) are required."),new Error("Missing required parameters");try{const{empID:i,accommodation:a,accommodationAddress:o,IDTable:c}=s,u={id:c,empID:i,accommodation:a,accommodationAddress:o},l=await n.graphql({query:xW,variables:{input:u}});console.log("Data successfully updated:",l),t("")}catch(i){throw console.error("Error updating data:",i),t("Error updating employee data. Please try again."),i}},[]),errorEmpID:r}},wK=()=>{const{NLADatas:n,errorEmpID:r}=yK(),{NLAUpdateFun:t}=xK(),{empPIData:e,NLAData:s}=ne.useContext(bs),[i,a]=ne.useState([]),[o,c]=ne.useState([]),[u,l]=ne.useState(!1);Ga(),ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),ne.useEffect(()=>{(async()=>{try{const y=e.map(w=>{const E=s.find(I=>I.empID===w.empID);return E?{...w,...E}:null}).filter(Boolean);a(y),c(y)}catch(y){console.error("Error fetching data:",y)}})()},[e,s]);const{register:d,handleSubmit:f,setValue:h,watch:p,formState:{errors:g}}=ds({resolver:vs(kX)}),v=x=>{console.log("Search Result:",x),["empID","empBadgeNo","name","accommodation","accommodationAddress"].forEach(w=>h(w,x[w]))},m=async x=>{if(console.log("Submitted Data:",x),!x.empID){console.error("empID is missing");return}try{const y=e.find(E=>E.empID===x.empID),w=s.find(E=>E.empID===x.empID);if(w&&y){const E={...x,PITableID:y.id,IDTable:w.id};console.log("Updating data with empID:",x.empID),await t({NLAValue:E})}else{const E={...x};console.log("Creating new data for empID:",x.empID),await n({NLACreValue:E})}l(!0)}catch(y){console.log(y),console.error("Error submitting data to AWS:",JSON.stringify(y,null,2))}};return b.jsxs("div",{className:"flex flex-col items-center justify-center  p-10",children:[b.jsxs("div",{className:"w-full flex items-center justify-between gap-5",children:[b.jsx(ga,{to:"/employee",className:"text-xl flex-1 text-grey",children:b.jsx(Xc,{})}),b.jsx("p",{className:"flex-1 text-center mt-2 text_size_2 uppercase",children:"Non-Local Accommodation in Brunei"}),b.jsx("div",{className:"flex-1",children:b.jsx(Li,{searchResult:v,newFormData:o,searchIcon2:b.jsx(Ds,{}),placeholder:"Employee Id",rounded:"rounded-lg"})})]}),b.jsxs("form",{className:"h-screen   w-full",onSubmit:f(m),children:[b.jsx("div",{className:"flex justify-end items-center py-7 mt-2",children:b.jsxs("div",{className:"max-w-sm",children:[b.jsx(Ct,{label:"Employee ID",register:d,name:"empID",type:"text",value:p("empID")||"",placeholder:"Enter Employee ID",errors:g}),r&&b.jsx("p",{className:"text-[red] text-[13px] text-center",children:r})]})}),b.jsxs("div",{className:"grid grid-cols-2 gap-6 mt-20",children:[b.jsx(Ct,{label:"Badge Number",register:d,name:"empBadgeNo",type:"text",value:p("empBadgeNo")||"",errors:g}),b.jsx(Ct,{label:"Name",register:d,name:"name",type:"text",errors:g}),b.jsxs("div",{children:[b.jsx("label",{className:"block text_size_5",children:"Accommodation"}),b.jsxs("select",{className:"input-field select-custom",...d("accommodation"),children:[b.jsx("option",{value:""}),b.jsx("option",{value:"Company Premises",children:"Company Premises"}),b.jsx("option",{value:"Own Premises",children:"Own Premises"})]}),g.accommodation&&b.jsx("p",{className:"text-[red] text-[12px] mt-1",children:g.accommodation.message})]}),b.jsxs("div",{className:"col-span-2",children:[b.jsx("label",{className:"block text_size_5",children:"Accommodation Address"}),b.jsx("input",{type:"text",className:"input-field",...d("accommodationAddress")}),g.accommodationAddress&&b.jsx("p",{className:"text-[red] text-[12px] mt-1",children:g.accommodationAddress.message})]})]}),b.jsx("div",{className:"flex justify-center items-center my-10",children:b.jsx("button",{type:"submit",className:"primary_btn",children:"Save"})}),u&&b.jsx(fi,{text:"Details saved successfully",notification:u,path:"/employee"})]})]})},_K="/assets/lock-fIlWCB7z.svg",w3=Pr(),SK=()=>{var f,h,p,g;const[n,r]=ne.useState(!1),[t,e]=ne.useState(!1),[s,i]=ne.useState(!1),{register:a,formState:{errors:o},handleSubmit:c}=ds({resolver:vs(UM)}),[u,l]=ne.useState(""),d=c(async v=>{var y,w,E;const{password:m,currentPassword:x}=v;try{const I=await rA(),T=(y=localStorage.getItem("userID"))==null?void 0:y.toUpperCase();if(I){await lL({oldPassword:x,newPassword:m});const R=await w3.graphql({query:s8,variables:{filter:{empID:{eq:T}}}}),D=(E=(w=R==null?void 0:R.data)==null?void 0:w.listUsers)==null?void 0:E.items[0].id;await w3.graphql({query:T8,variables:{input:{id:D,password:m}}}).then(async L=>{console.log(L),localStorage.removeItem("userID"),localStorage.removeItem("userType"),await ZM(),window.location.href="/login"}),console.log("Password reset successfully")}}catch(I){console.log(I),l(I.message)}});return b.jsxs("section",{className:"screen-size mx-auto flex absolute top-0 left-0 min-h-screen ",children:[b.jsx("div",{className:"flex-1 border-r-2 border-[#E9E9E9] center",children:b.jsx("img",{className:"w-full max-w-[450px]",src:_K,alt:" Rightside Image not found"})}),b.jsxs("div",{className:"flex-1 flex items-center gap-8 py-20 flex-col w-full",children:[b.jsxs("div",{children:[" ",b.jsx("img",{className:"w-full max-w-[450px]",src:$m,alt:" Logo not found"})]}),u&&b.jsx("p",{className:"text-red",children:u}),b.jsxs("section",{className:" space-y-5",children:[b.jsx("h4",{className:"title text-center",children:"Change Password"}),b.jsxs("div",{className:"w-[400px] space-y-1",children:[b.jsx("label",{htmlFor:"userID",className:"text-dark_grey text_size_8",children:"Login ID"}),b.jsx("div",{className:"shadow-md shadow-[#00000040] border border-[#D3D3D3] overflow-hidden rounded-lg py-1 px-3 w-full",children:b.jsx("input",{className:"outline-none py-2 w-full",type:"text",id:"userID",name:"userID",...a("userID")})}),b.jsx("p",{className:"text-[red] text-sm my-2 ml-5",children:(f=o.userID)==null?void 0:f.message})]}),b.jsxs("div",{className:"w-[400px] space-y-1",children:[b.jsx("label",{htmlFor:"currentPassword",className:"text-dark_grey text_size_8",children:"Current Password"}),b.jsxs("div",{className:"shadow-md shadow-[#00000040] border border-[#D3D3D3] overflow-hidden rounded-lg py-1 pl-3 pr-4 w-full center",children:[b.jsx("input",{className:"outline-none py-2 w-full",type:n?"text":"password",id:"currentPassword",name:"currentPassword",...a("currentPassword")}),n?b.jsx(p6,{className:"text-2xl text-[#837E7E]",onClick:()=>r(!n)}):b.jsx(Q2,{className:"text-2xl text-[#837E7E]",onClick:()=>r(!n)})]}),b.jsx("p",{className:"text-[red] text-sm my-2 ml-5",children:(h=o.password)==null?void 0:h.message})]}),b.jsxs("div",{className:"w-[400px] space-y-1",children:[b.jsx("label",{htmlFor:"password",className:"text-dark_grey text_size_8",children:"New Password"}),b.jsxs("div",{className:"shadow-md shadow-[#00000040] border border-[#D3D3D3] overflow-hidden rounded-lg py-1 pl-3 pr-4 w-full center",children:[b.jsx("input",{className:"outline-none py-2 w-full",type:t?"text":"password",id:"password",name:"password",...a("password")}),t?b.jsx(p6,{className:"text-2xl text-[#837E7E]",onClick:()=>e(!t)}):b.jsx(Q2,{className:"text-2xl text-[#837E7E]",onClick:()=>e(!t)})]}),b.jsx("p",{className:"text-[red] text-sm my-2 ml-5",children:(p=o.password)==null?void 0:p.message})]}),b.jsxs("div",{className:"w-[400px] space-y-1",children:[b.jsx("label",{htmlFor:"confirmPassword",className:"text-dark_grey text_size_8",children:"Confirm Password"}),b.jsxs("div",{className:"shadow-md shadow-[#00000040] border border-[#D3D3D3] overflow-hidden rounded-lg py-1 pl-3 pr-4 w-full center",children:[b.jsx("input",{className:"outline-none py-2 w-full",type:s?"text":"password",id:"confirmPassword",name:"confirmPassword",...a("confirmPassword")}),s?b.jsx(p6,{className:"text-2xl text-[#837E7E]",onClick:()=>i(!s)}):b.jsx(Q2,{className:"text-2xl text-[#837E7E]",onClick:()=>i(!s)})]}),b.jsx("p",{className:"text-[red] text-sm my-2 ml-5",children:(g=o.password)==null?void 0:g.message})]}),b.jsx("div",{className:"center pb-5",children:b.jsx(ga,{to:"/dashboard",className:"primary_btn text_size_4 my-5",onClick:d,children:"Update"})}),b.jsx("hr",{className:"border-[1.5px] text-[#B3B3B3]"})]})]})]})},_3=Pr(),EK=n=>{const[r,t]=ne.useState({id:"",name:"",email:"",contactNo:"",dob:""}),[e,s]=ne.useState(!1),i=async()=>{var o,c;try{const u=await _3.graphql({query:Px}),d=(((c=(o=u==null?void 0:u.data)==null?void 0:o.listEmpPersonalInfos)==null?void 0:c.items)||[]).find(f=>f.empID.toLowerCase()===n.toLowerCase());d&&t({id:d.id,name:d.name,email:d.email,contactNo:d.contactNo||"",dob:d.dob||""})}catch(u){console.error("Error fetching employee personal infos:",u)}},a=async()=>{const o={id:r.id,empID:n.toUpperCase(),name:r.name,email:r.email,contactNo:r.contactNo,dob:r.dob};try{const c=await _3.graphql({query:y9,variables:{input:o}});if(c.data.updateEmpPersonalInfo){const u=c.data.updateEmpPersonalInfo;t({id:u.id,name:u.name,email:u.email,contactNo:u.contactNo,dob:u.dob}),s(!1)}}catch(c){console.error("Error saving data:",c)}};return ne.useEffect(()=>{n&&i()},[n]),console.log(r,"Ih"),{personalInfo:r,isEditing:e,setIsEditing:s,handleSave:a,setPersonalInfo:t}},NK=()=>{const[n,r]=ne.useState(""),{personalInfo:t,isEditing:e,setIsEditing:s,handleSave:i,setPersonalInfo:a}=EK(n),o=c=>{const{name:u,value:l}=c.target;a({...t,[u]:l})};return ne.useEffect(()=>{const c=localStorage.getItem("userID");r(c),console.log("UserID from localStorage:",c)},[]),b.jsx("section",{className:"screen-size center py-20",children:b.jsxs("div",{className:"rounded-lg shadow-lg p-5 px-10 space-y-4 max-w-xl w-full text_size_8 text-dark_grey",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("h3",{className:"text_size_2",children:"Personal Information"}),b.jsx(ga,{to:"/dashboard",children:b.jsx(QM,{className:"text-2xl font-semibold"})})]}),b.jsx("hr",{className:"border border-[#d4cfcf]"}),b.jsxs("section",{className:"space-y-4",children:[b.jsx("div",{className:"flex justify-between gap-10",children:b.jsxs("div",{className:"w-full space-y-2 ",children:[b.jsx("label",{htmlFor:"name",children:"Name"}),b.jsx("div",{className:"border rounded-sm flex-1 border-[#d4cfcf] text-[#4F4F4F] text-xs px-2 py-3 ",children:b.jsx("input",{id:"name",className:"outline-none w-full",type:"text",name:"name",readOnly:!e,value:t.name,onChange:o})})]})}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{htmlFor:"email",children:"Email Address"}),b.jsx("div",{className:"border rounded-sm border-[#d4cfcf] text-[#4F4F4F] text-xs px-2 py-3 ",children:b.jsx("input",{id:"email",className:"outline-none w-full",type:"email",name:"email",readOnly:!e,value:t.email,onChange:o})})]}),b.jsxs("div",{className:"flex justify-between gap-10",children:[b.jsxs("div",{className:"w-full space-y-2",children:[b.jsx("label",{htmlFor:"contactNo",children:"Mobile Number"}),b.jsx("div",{className:"border rounded-sm flex-1 border-[#d4cfcf] text-[#4F4F4F] text-xs px-2 py-3.5 ",children:b.jsx("input",{id:"contactNo",className:"outline-none w-full",type:"text",name:"contactNo",readOnly:!e,value:t.contactNo,onChange:o})})]}),b.jsxs("div",{className:"w-full space-y-2",children:[b.jsx("label",{htmlFor:"dob",children:"Date of Birth"}),b.jsxs("div",{className:"border flex rounded-sm flex-1 border-[#d4cfcf] text-[#4F4F4F] text-xs px-2 py-3 ",children:[b.jsx("input",{id:"dob",className:"outline-none w-full",type:"text",name:"dob",readOnly:!e,value:t.dob,onChange:o}),b.jsx("span",{children:b.jsx(PM,{className:"text-xl"})})]})]})]}),b.jsx("div",{className:"center flex justify-between py-3",children:e?b.jsx("button",{onClick:i,className:"primary_btn",children:"Save"}):b.jsx("button",{onClick:()=>s(!0),className:"primary_btn",children:"Edit"})})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var XC=1252,AK=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],W8={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},z8=function(n){AK.indexOf(n)!=-1&&(XC=W8[0]=n)};function kK(){z8(1252)}var Uc=function(n){z8(n)};function KC(){Uc(1200),kK()}function S3(n){for(var r=[],t=0,e=n.length;t<e;++t)r[t]=n.charCodeAt(t);return r}function CK(n){for(var r=[],t=0;t<n.length>>1;++t)r[t]=String.fromCharCode(n.charCodeAt(2*t)+(n.charCodeAt(2*t+1)<<8));return r.join("")}function JC(n){for(var r=[],t=0;t<n.length>>1;++t)r[t]=String.fromCharCode(n.charCodeAt(2*t+1)+(n.charCodeAt(2*t)<<8));return r.join("")}var tb=function(n){var r=n.charCodeAt(0),t=n.charCodeAt(1);return r==255&&t==254?CK(n.slice(2)):r==254&&t==255?JC(n.slice(2)):r==65279?n.slice(1):n},z2=function(r){return String.fromCharCode(r)},E3=function(r){return String.fromCharCode(r)},Zh,Ef="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function N3(n){for(var r="",t=0,e=0,s=0,i=0,a=0,o=0,c=0,u=0;u<n.length;)t=n.charCodeAt(u++),i=t>>2,e=n.charCodeAt(u++),a=(t&3)<<4|e>>4,s=n.charCodeAt(u++),o=(e&15)<<2|s>>6,c=s&63,isNaN(e)?o=c=64:isNaN(s)&&(c=64),r+=Ef.charAt(i)+Ef.charAt(a)+Ef.charAt(o)+Ef.charAt(c);return r}function yl(n){var r="",t=0,e=0,s=0,i=0,a=0,o=0,c=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<n.length;)i=Ef.indexOf(n.charAt(u++)),a=Ef.indexOf(n.charAt(u++)),t=i<<2|a>>4,r+=String.fromCharCode(t),o=Ef.indexOf(n.charAt(u++)),e=(a&15)<<4|o>>2,o!==64&&(r+=String.fromCharCode(e)),c=Ef.indexOf(n.charAt(u++)),s=(o&3)<<6|c,c!==64&&(r+=String.fromCharCode(s));return r}var xn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),r0=function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(r,t){return t?new Buffer(r,t):new Buffer(r)}:Buffer.from.bind(Buffer)}return function(){}}();function Uf(n){return xn?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function A3(n){return xn?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var Bc=function(r){return xn?r0(r,"binary"):r.split("").map(function(t){return t.charCodeAt(0)&255})};function n0(n){if(Array.isArray(n))return n.map(function(e){return String.fromCharCode(e)}).join("");for(var r=[],t=0;t<n.length;++t)r[t]=String.fromCharCode(n[t]);return r.join("")}function V8(n){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(n instanceof ArrayBuffer)return V8(new Uint8Array(n));for(var r=new Array(n.length),t=0;t<n.length;++t)r[t]=n[t];return r}var Qh=xn?function(n){return Buffer.concat(n.map(function(r){return Buffer.isBuffer(r)?r:r0(r)}))}:function(n){if(typeof Uint8Array<"u"){var r=0,t=0;for(r=0;r<n.length;++r)t+=n[r].length;var e=new Uint8Array(t),s=0;for(r=0,t=0;r<n.length;t+=s,++r)if(s=n[r].length,n[r]instanceof Uint8Array)e.set(n[r],t);else{if(typeof n[r]=="string")throw"wtf";e.set(new Uint8Array(n[r]),t)}return e}return[].concat.apply([],n.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function TK(n){for(var r=[],t=0,e=n.length+250,s=Uf(n.length+255),i=0;i<n.length;++i){var a=n.charCodeAt(i);if(a<128)s[t++]=a;else if(a<2048)s[t++]=192|a>>6&31,s[t++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=n.charCodeAt(++i)&1023;s[t++]=240|a>>8&7,s[t++]=128|a>>2&63,s[t++]=128|o>>6&15|(a&3)<<4,s[t++]=128|o&63}else s[t++]=224|a>>12&15,s[t++]=128|a>>6&63,s[t++]=128|a&63;t>e&&(r.push(s.slice(0,t)),t=0,s=Uf(65535),e=65530)}return r.push(s.slice(0,t)),Qh(r)}var po=/\u0000/g,rb=/[\u0001-\u0006]/g;function Q0(n){for(var r="",t=n.length-1;t>=0;)r+=n.charAt(t--);return r}function Hc(n,r){var t=""+n;return t.length>=r?t:Ys("0",r-t.length)+t}function $8(n,r){var t=""+n;return t.length>=r?t:Ys(" ",r-t.length)+t}function lw(n,r){var t=""+n;return t.length>=r?t:t+Ys(" ",r-t.length)}function DK(n,r){var t=""+Math.round(n);return t.length>=r?t:Ys("0",r-t.length)+t}function IK(n,r){var t=""+n;return t.length>=r?t:Ys("0",r-t.length)+t}var k3=Math.pow(2,32);function P0(n,r){if(n>k3||n<-k3)return DK(n,r);var t=Math.round(n);return IK(t,r)}function cw(n,r){return r=r||0,n.length>=7+r&&(n.charCodeAt(r)|32)===103&&(n.charCodeAt(r+1)|32)===101&&(n.charCodeAt(r+2)|32)===110&&(n.charCodeAt(r+3)|32)===101&&(n.charCodeAt(r+4)|32)===114&&(n.charCodeAt(r+5)|32)===97&&(n.charCodeAt(r+6)|32)===108}var C3=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],q6=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function PK(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"/ "hh""mm""ss" "',n}var Zr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},T3={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},jK={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function uw(n,r,t){for(var e=n<0?-1:1,s=n*e,i=0,a=1,o=0,c=1,u=0,l=0,d=Math.floor(s);u<r&&(d=Math.floor(s),o=d*a+i,l=d*u+c,!(s-d<5e-8));)s=1/(s-d),i=a,a=o,c=u,u=l;if(l>r&&(u>r?(l=c,o=i):(l=u,o=a)),!t)return[0,e*o,l];var f=Math.floor(e*o/l);return[f,e*o-f*l,l]}function Cp(n,r,t){if(n>2958465||n<0)return null;var e=n|0,s=Math.floor(86400*(n-e)),i=0,a=[],o={D:e,T:s,u:86400*(n-e)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),r&&r.date1904&&(e+=1462),o.u>.9999&&(o.u=0,++s==86400&&(o.T=s=0,++e,++o.D)),e===60)a=t?[1317,10,29]:[1900,2,29],i=3;else if(e===0)a=t?[1317,8,29]:[1900,1,0],i=6;else{e>60&&--e;var c=new Date(1900,0,1);c.setDate(c.getDate()+e-1),a=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),e<60&&(i=(i+6)%7),t&&(i=BK(c,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=s%60,s=Math.floor(s/60),o.M=s%60,s=Math.floor(s/60),o.H=s,o.q=i,o}var ZC=new Date(1899,11,31,0,0,0),RK=ZC.getTime(),MK=new Date(1900,2,1,0,0,0);function QC(n,r){var t=n.getTime();return r?t-=1461*24*60*60*1e3:n>=MK&&(t+=24*60*60*1e3),(t-(RK+(n.getTimezoneOffset()-ZC.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function G8(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function LK(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function OK(n){var r=n<0?12:11,t=G8(n.toFixed(12));return t.length<=r||(t=n.toPrecision(10),t.length<=r)?t:n.toExponential(5)}function FK(n){var r=G8(n.toFixed(11));return r.length>(n<0?12:11)||r==="0"||r==="-0"?n.toPrecision(6):r}function Ib(n){var r=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return r>=-4&&r<=-1?t=n.toPrecision(10+r):Math.abs(r)<=9?t=OK(n):r===10?t=n.toFixed(10).substr(0,12):t=FK(n),G8(LK(t.toUpperCase()))}function Um(n,r){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):Ib(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return Yl(14,QC(n,r&&r.date1904),r)}throw new Error("unsupported value in General format: "+n)}function BK(n,r){r[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function UK(n,r,t,e){var s="",i=0,a=0,o=t.y,c,u=0;switch(n){case 98:o=t.y+543;case 121:switch(r.length){case 1:case 2:c=o%100,u=2;break;default:c=o%1e4,u=4;break}break;case 109:switch(r.length){case 1:case 2:c=t.m,u=r.length;break;case 3:return q6[t.m-1][1];case 5:return q6[t.m-1][0];default:return q6[t.m-1][2]}break;case 100:switch(r.length){case 1:case 2:c=t.d,u=r.length;break;case 3:return C3[t.q][0];default:return C3[t.q][1]}break;case 104:switch(r.length){case 1:case 2:c=1+(t.H+11)%12,u=r.length;break;default:throw"bad hour format: "+r}break;case 72:switch(r.length){case 1:case 2:c=t.H,u=r.length;break;default:throw"bad hour format: "+r}break;case 77:switch(r.length){case 1:case 2:c=t.M,u=r.length;break;default:throw"bad minute format: "+r}break;case 115:if(r!="s"&&r!="ss"&&r!=".0"&&r!=".00"&&r!=".000")throw"bad second format: "+r;return t.u===0&&(r=="s"||r=="ss")?Hc(t.S,r.length):(e>=2?a=e===3?1e3:100:a=e===1?10:1,i=Math.round(a*(t.S+t.u)),i>=60*a&&(i=0),r==="s"?i===0?"0":""+i/a:(s=Hc(i,2+e),r==="ss"?s.substr(0,2):"."+s.substr(2,r.length-1)));case 90:switch(r){case"[h]":case"[hh]":c=t.D*24+t.H;break;case"[m]":case"[mm]":c=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":c=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+r}u=r.length===3?1:2;break;case 101:c=o,u=1;break}var l=u>0?Hc(c,u):"";return l}function Nf(n){var r=3;if(n.length<=r)return n;for(var t=n.length%r,e=n.substr(0,t);t!=n.length;t+=r)e+=(e.length>0?",":"")+n.substr(t,r);return e}var eT=/%/g;function HK(n,r,t){var e=r.replace(eT,""),s=r.length-e.length;return gh(n,e,t*Math.pow(10,2*s))+Ys("%",s)}function qK(n,r,t){for(var e=r.length-1;r.charCodeAt(e-1)===44;)--e;return gh(n,r.substr(0,e),t/Math.pow(10,3*(r.length-e)))}function tT(n,r){var t,e=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+tT(n,-r);var s=n.indexOf(".");s===-1&&(s=n.indexOf("E"));var i=Math.floor(Math.log(r)*Math.LOG10E)%s;if(i<0&&(i+=s),t=(r/Math.pow(10,i)).toPrecision(e+1+(s+i)%s),t.indexOf("e")===-1){var a=Math.floor(Math.log(r)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(a-t.length+i):t+="E+"+(a-i);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,s)+"."+t.substr(2+s),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,l){return c+u+l.substr(0,(s+i)%s)+"."+l.substr(i)+"E"})}else t=r.toExponential(e);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var rT=/# (\?+)( ?)\/( ?)(\d+)/;function WK(n,r,t){var e=parseInt(n[4],10),s=Math.round(r*e),i=Math.floor(s/e),a=s-i*e,o=e;return t+(i===0?"":""+i)+" "+(a===0?Ys(" ",n[1].length+1+n[4].length):$8(a,n[1].length)+n[2]+"/"+n[3]+Hc(o,n[4].length))}function zK(n,r,t){return t+(r===0?"":""+r)+Ys(" ",n[1].length+2+n[4].length)}var nT=/^#*0*\.([0#]+)/,sT=/\).*[0#]/,iT=/\(###\) ###\\?-####/;function oo(n){for(var r="",t,e=0;e!=n.length;++e)switch(t=n.charCodeAt(e)){case 35:break;case 63:r+=" ";break;case 48:r+="0";break;default:r+=String.fromCharCode(t)}return r}function D3(n,r){var t=Math.pow(10,r);return""+Math.round(n*t)/t}function I3(n,r){var t=n-Math.floor(n),e=Math.pow(10,r);return r<(""+Math.round(t*e)).length?0:Math.round(t*e)}function VK(n,r){return r<(""+Math.round((n-Math.floor(n))*Math.pow(10,r))).length?1:0}function $K(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function Ll(n,r,t){if(n.charCodeAt(0)===40&&!r.match(sT)){var e=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Ll("n",e,t):"("+Ll("n",e,-t)+")"}if(r.charCodeAt(r.length-1)===44)return qK(n,r,t);if(r.indexOf("%")!==-1)return HK(n,r,t);if(r.indexOf("E")!==-1)return tT(r,t);if(r.charCodeAt(0)===36)return"$"+Ll(n,r.substr(r.charAt(1)==" "?2:1),t);var s,i,a,o,c=Math.abs(t),u=t<0?"-":"";if(r.match(/^00+$/))return u+P0(c,r.length);if(r.match(/^[#?]+$/))return s=P0(t,0),s==="0"&&(s=""),s.length>r.length?s:oo(r.substr(0,r.length-s.length))+s;if(i=r.match(rT))return WK(i,c,u);if(r.match(/^#+0+$/))return u+P0(c,r.length-r.indexOf("0"));if(i=r.match(nT))return s=D3(t,i[1].length).replace(/^([^\.]+)$/,"$1."+oo(i[1])).replace(/\.$/,"."+oo(i[1])).replace(/\.(\d*)$/,function(p,g){return"."+g+Ys("0",oo(i[1]).length-g.length)}),r.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),i=r.match(/^(0*)\.(#*)$/))return u+D3(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=r.match(/^#{1,3},##0(\.?)$/))return u+Nf(P0(c,0));if(i=r.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Ll(n,r,-t):Nf(""+(Math.floor(t)+VK(t,i[1].length)))+"."+Hc(I3(t,i[1].length),i[1].length);if(i=r.match(/^#,#*,#0/))return Ll(n,r.replace(/^#,#*,/,""),t);if(i=r.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Q0(Ll(n,r.replace(/[\\-]/g,""),t)),a=0,Q0(Q0(r.replace(/\\/g,"")).replace(/[0#]/g,function(p){return a<s.length?s.charAt(a++):p==="0"?"0":""}));if(r.match(iT))return s=Ll(n,"##########",t),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var l="";if(i=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(i[4].length,7),o=uw(c,Math.pow(10,a)-1,!1),s=""+u,l=gh("n",i[1],o[1]),l.charAt(l.length-1)==" "&&(l=l.substr(0,l.length-1)+"0"),s+=l+i[2]+"/"+i[3],l=lw(o[2],a),l.length<i[4].length&&(l=oo(i[4].substr(i[4].length-l.length))+l),s+=l,s;if(i=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(i[1].length,i[4].length),7),o=uw(c,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?$8(o[1],a)+i[2]+"/"+i[3]+lw(o[2],a):Ys(" ",2*a+1+i[2].length+i[3].length));if(i=r.match(/^[#0?]+$/))return s=P0(t,0),r.length<=s.length?s:oo(r.substr(0,r.length-s.length))+s;if(i=r.match(/^([#0?]+)\.([#0]+)$/)){s=""+t.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),a=s.indexOf(".");var d=r.indexOf(".")-a,f=r.length-s.length-d;return oo(r.substr(0,d)+s+r.substr(r.length-f))}if(i=r.match(/^00,000\.([#0]*0)$/))return a=I3(t,i[1].length),t<0?"-"+Ll(n,r,-t):Nf($K(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Hc(0,3-p.length):"")+p})+"."+Hc(a,i[1].length);switch(r){case"###,##0.00":return Ll(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var h=Nf(P0(c,0));return h!=="0"?u+h:"";case"###,###.00":return Ll(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Ll(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+r+"|")}function GK(n,r,t){for(var e=r.length-1;r.charCodeAt(e-1)===44;)--e;return gh(n,r.substr(0,e),t/Math.pow(10,3*(r.length-e)))}function YK(n,r,t){var e=r.replace(eT,""),s=r.length-e.length;return gh(n,e,t*Math.pow(10,2*s))+Ys("%",s)}function aT(n,r){var t,e=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+aT(n,-r);var s=n.indexOf(".");s===-1&&(s=n.indexOf("E"));var i=Math.floor(Math.log(r)*Math.LOG10E)%s;if(i<0&&(i+=s),t=(r/Math.pow(10,i)).toPrecision(e+1+(s+i)%s),!t.match(/[Ee]/)){var a=Math.floor(Math.log(r)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(a-t.length+i):t+="E+"+(a-i),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,l){return c+u+l.substr(0,(s+i)%s)+"."+l.substr(i)+"E"})}else t=r.toExponential(e);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function gu(n,r,t){if(n.charCodeAt(0)===40&&!r.match(sT)){var e=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?gu("n",e,t):"("+gu("n",e,-t)+")"}if(r.charCodeAt(r.length-1)===44)return GK(n,r,t);if(r.indexOf("%")!==-1)return YK(n,r,t);if(r.indexOf("E")!==-1)return aT(r,t);if(r.charCodeAt(0)===36)return"$"+gu(n,r.substr(r.charAt(1)==" "?2:1),t);var s,i,a,o,c=Math.abs(t),u=t<0?"-":"";if(r.match(/^00+$/))return u+Hc(c,r.length);if(r.match(/^[#?]+$/))return s=""+t,t===0&&(s=""),s.length>r.length?s:oo(r.substr(0,r.length-s.length))+s;if(i=r.match(rT))return zK(i,c,u);if(r.match(/^#+0+$/))return u+Hc(c,r.length-r.indexOf("0"));if(i=r.match(nT))return s=(""+t).replace(/^([^\.]+)$/,"$1."+oo(i[1])).replace(/\.$/,"."+oo(i[1])),s=s.replace(/\.(\d*)$/,function(p,g){return"."+g+Ys("0",oo(i[1]).length-g.length)}),r.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),i=r.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=r.match(/^#{1,3},##0(\.?)$/))return u+Nf(""+c);if(i=r.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+gu(n,r,-t):Nf(""+t)+"."+Ys("0",i[1].length);if(i=r.match(/^#,#*,#0/))return gu(n,r.replace(/^#,#*,/,""),t);if(i=r.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Q0(gu(n,r.replace(/[\\-]/g,""),t)),a=0,Q0(Q0(r.replace(/\\/g,"")).replace(/[0#]/g,function(p){return a<s.length?s.charAt(a++):p==="0"?"0":""}));if(r.match(iT))return s=gu(n,"##########",t),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var l="";if(i=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(i[4].length,7),o=uw(c,Math.pow(10,a)-1,!1),s=""+u,l=gh("n",i[1],o[1]),l.charAt(l.length-1)==" "&&(l=l.substr(0,l.length-1)+"0"),s+=l+i[2]+"/"+i[3],l=lw(o[2],a),l.length<i[4].length&&(l=oo(i[4].substr(i[4].length-l.length))+l),s+=l,s;if(i=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(i[1].length,i[4].length),7),o=uw(c,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?$8(o[1],a)+i[2]+"/"+i[3]+lw(o[2],a):Ys(" ",2*a+1+i[2].length+i[3].length));if(i=r.match(/^[#0?]+$/))return s=""+t,r.length<=s.length?s:oo(r.substr(0,r.length-s.length))+s;if(i=r.match(/^([#0]+)\.([#0]+)$/)){s=""+t.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),a=s.indexOf(".");var d=r.indexOf(".")-a,f=r.length-s.length-d;return oo(r.substr(0,d)+s+r.substr(r.length-f))}if(i=r.match(/^00,000\.([#0]*0)$/))return t<0?"-"+gu(n,r,-t):Nf(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Hc(0,3-p.length):"")+p})+"."+Hc(0,i[1].length);switch(r){case"###,###":case"##,###":case"#,###":var h=Nf(""+c);return h!=="0"?u+h:"";default:if(r.match(/\.[0#?]*$/))return gu(n,r.slice(0,r.lastIndexOf(".")),t)+oo(r.slice(r.lastIndexOf(".")))}throw new Error("unsupported format |"+r+"|")}function gh(n,r,t){return(t|0)===t?gu(n,r,t):Ll(n,r,t)}function XK(n){for(var r=[],t=!1,e=0,s=0;e<n.length;++e)switch(n.charCodeAt(e)){case 34:t=!t;break;case 95:case 42:case 92:++e;break;case 59:r[r.length]=n.substr(s,e-s),s=e+1}if(r[r.length]=n.substr(s),t===!0)throw new Error("Format |"+n+"| unterminated string ");return r}var oT=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function fg(n){for(var r=0,t="",e="";r<n.length;)switch(t=n.charAt(r)){case"G":cw(n,r)&&(r+=6),r++;break;case'"':for(;n.charCodeAt(++r)!==34&&r<n.length;);++r;break;case"\\":r+=2;break;case"_":r+=2;break;case"@":++r;break;case"B":case"b":if(n.charAt(r+1)==="1"||n.charAt(r+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(n.substr(r,3).toUpperCase()==="A/P"||n.substr(r,5).toUpperCase()==="AM/PM"||n.substr(r,5).toUpperCase()==="/")return!0;++r;break;case"[":for(e=t;n.charAt(r++)!=="]"&&r<n.length;)e+=n.charAt(r);if(e.match(oT))return!0;break;case".":case"0":case"#":for(;r<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++r))>-1||t=="\\"&&n.charAt(r+1)=="-"&&"0#".indexOf(n.charAt(r+2))>-1););break;case"?":for(;n.charAt(++r)===t;);break;case"*":++r,(n.charAt(r)==" "||n.charAt(r)=="*")&&++r;break;case"(":case")":++r;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;r<n.length&&"0123456789".indexOf(n.charAt(++r))>-1;);break;case" ":++r;break;default:++r;break}return!1}function KK(n,r,t,e){for(var s=[],i="",a=0,o="",c="t",u,l,d,f="H";a<n.length;)switch(o=n.charAt(a)){case"G":if(!cw(n,a))throw new Error("unrecognized character "+o+" in "+n);s[s.length]={t:"G",v:"General"},a+=7;break;case'"':for(i="";(d=n.charCodeAt(++a))!==34&&a<n.length;)i+=String.fromCharCode(d);s[s.length]={t:"t",v:i},++a;break;case"\\":var h=n.charAt(++a),p=h==="("||h===")"?h:"t";s[s.length]={t:p,v:h},++a;break;case"_":s[s.length]={t:"t",v:" "},a+=2;break;case"@":s[s.length]={t:"T",v:r},++a;break;case"B":case"b":if(n.charAt(a+1)==="1"||n.charAt(a+1)==="2"){if(u==null&&(u=Cp(r,t,n.charAt(a+1)==="2"),u==null))return"";s[s.length]={t:"X",v:n.substr(a,2)},c=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(r<0||u==null&&(u=Cp(r,t),u==null))return"";for(i=o;++a<n.length&&n.charAt(a).toLowerCase()===o;)i+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=f),s[s.length]={t:o,v:i},c=o;break;case"A":case"a":case"":var g={t:o,v:o};if(u==null&&(u=Cp(r,t)),n.substr(a,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",f="h",a+=3):n.substr(a,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",a+=5,f="h"):n.substr(a,5).toUpperCase()==="/"?(u!=null&&(g.v=u.H>=12?"":""),g.t="T",a+=5,f="h"):(g.t="t",++a),u==null&&g.t==="T")return"";s[s.length]=g,c=o;break;case"[":for(i=o;n.charAt(a++)!=="]"&&a<n.length;)i+=n.charAt(a);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(oT)){if(u==null&&(u=Cp(r,t),u==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",fg(n)||(s[s.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=o;++a<n.length&&(o=n.charAt(a))==="0";)i+=o;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++a<n.length&&"0#?.,E+-%".indexOf(o=n.charAt(a))>-1;)i+=o;s[s.length]={t:"n",v:i};break;case"?":for(i=o;n.charAt(++a)===o;)i+=o;s[s.length]={t:o,v:i},c=o;break;case"*":++a,(n.charAt(a)==" "||n.charAt(a)=="*")&&++a;break;case"(":case")":s[s.length]={t:e===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;a<n.length&&"0123456789".indexOf(n.charAt(++a))>-1;)i+=n.charAt(a);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:o,v:o},++a;break;case"$":s[s.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+n);s[s.length]={t:"t",v:o},++a;break}var v=0,m=0,x;for(a=s.length-1,c="t";a>=0;--a)switch(s[a].t){case"h":case"H":s[a].t=f,c="h",v<1&&(v=1);break;case"s":(x=s[a].v.match(/\.0+$/))&&(m=Math.max(m,x[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=s[a].t;break;case"m":c==="s"&&(s[a].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&s[a].v.match(/[Hh]/)&&(v=1),v<2&&s[a].v.match(/[Mm]/)&&(v=2),v<3&&s[a].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var y="",w;for(a=0;a<s.length;++a)switch(s[a].t){case"t":case"T":case" ":case"D":break;case"X":s[a].v="",s[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[a].v=UK(s[a].t.charCodeAt(0),s[a].v,u,m),s[a].t="t";break;case"n":case"?":for(w=a+1;s[w]!=null&&((o=s[w].t)==="?"||o==="D"||(o===" "||o==="t")&&s[w+1]!=null&&(s[w+1].t==="?"||s[w+1].t==="t"&&s[w+1].v==="/")||s[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(s[w].v==="/"||s[w].v===" "&&s[w+1]!=null&&s[w+1].t=="?"));)s[a].v+=s[w].v,s[w]={v:"",t:";"},++w;y+=s[a].v,a=w-1;break;case"G":s[a].t="t",s[a].v=Um(r,t);break}var E="",I,T;if(y.length>0){y.charCodeAt(0)==40?(I=r<0&&y.charCodeAt(0)===45?-r:r,T=gh("n",y,I)):(I=r<0&&e>1?-r:r,T=gh("n",y,I),I<0&&s[0]&&s[0].t=="t"&&(T=T.substr(1),s[0].v="-"+s[0].v)),w=T.length-1;var R=s.length;for(a=0;a<s.length;++a)if(s[a]!=null&&s[a].t!="t"&&s[a].v.indexOf(".")>-1){R=a;break}var D=s.length;if(R===s.length&&T.indexOf("E")===-1){for(a=s.length-1;a>=0;--a)s[a]==null||"n?".indexOf(s[a].t)===-1||(w>=s[a].v.length-1?(w-=s[a].v.length,s[a].v=T.substr(w+1,s[a].v.length)):w<0?s[a].v="":(s[a].v=T.substr(0,w+1),w=-1),s[a].t="t",D=a);w>=0&&D<s.length&&(s[D].v=T.substr(0,w+1)+s[D].v)}else if(R!==s.length&&T.indexOf("E")===-1){for(w=T.indexOf(".")-1,a=R;a>=0;--a)if(!(s[a]==null||"n?".indexOf(s[a].t)===-1)){for(l=s[a].v.indexOf(".")>-1&&a===R?s[a].v.indexOf(".")-1:s[a].v.length-1,E=s[a].v.substr(l+1);l>=0;--l)w>=0&&(s[a].v.charAt(l)==="0"||s[a].v.charAt(l)==="#")&&(E=T.charAt(w--)+E);s[a].v=E,s[a].t="t",D=a}for(w>=0&&D<s.length&&(s[D].v=T.substr(0,w+1)+s[D].v),w=T.indexOf(".")+1,a=R;a<s.length;++a)if(!(s[a]==null||"n?(".indexOf(s[a].t)===-1&&a!==R)){for(l=s[a].v.indexOf(".")>-1&&a===R?s[a].v.indexOf(".")+1:0,E=s[a].v.substr(0,l);l<s[a].v.length;++l)w<T.length&&(E+=T.charAt(w++));s[a].v=E,s[a].t="t",D=a}}}for(a=0;a<s.length;++a)s[a]!=null&&"n?".indexOf(s[a].t)>-1&&(I=e>1&&r<0&&a>0&&s[a-1].v==="-"?-r:r,s[a].v=gh(s[a].t,s[a].v,I),s[a].t="t");var L="";for(a=0;a!==s.length;++a)s[a]!=null&&(L+=s[a].v);return L}var P3=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function j3(n,r){if(r==null)return!1;var t=parseFloat(r[2]);switch(r[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function JK(n,r){var t=XK(n),e=t.length,s=t[e-1].indexOf("@");if(e<4&&s>-1&&--e,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof r!="number")return[4,t.length===4||s>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=s>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=s>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=s>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var i=r>0?t[0]:r<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[e,i];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var a=t[0].match(P3),o=t[1].match(P3);return j3(r,a)?[e,t[0]]:j3(r,o)?[e,t[1]]:[e,t[a!=null&&o!=null?2:1]]}return[e,i]}function Yl(n,r,t){t==null&&(t={});var e="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?e=t.dateNF:e=n;break;case"number":n==14&&t.dateNF?e=t.dateNF:e=(t.table!=null?t.table:Zr)[n],e==null&&(e=t.table&&t.table[T3[n]]||Zr[T3[n]]),e==null&&(e=jK[n]||"General");break}if(cw(e,0))return Um(r,t);r instanceof Date&&(r=QC(r,t.date1904));var s=JK(e,r);if(cw(s[1]))return Um(r,t);if(r===!0)r="TRUE";else if(r===!1)r="FALSE";else if(r===""||r==null)return"";return KK(s[1],r,t,s[0])}function Im(n,r){if(typeof r!="number"){r=+r||-1;for(var t=0;t<392;++t){if(Zr[t]==null){r<0&&(r=t);continue}if(Zr[t]==n){r=t;break}}r<0&&(r=391)}return Zr[r]=n,r}function lT(){Zr=PK()}var ZK={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},cT=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function QK(n){var r=typeof n=="number"?Zr[n]:n;return r=r.replace(cT,"(\\d+)"),new RegExp("^"+r+"$")}function eJ(n,r,t){var e=-1,s=-1,i=-1,a=-1,o=-1,c=-1;(r.match(cT)||[]).forEach(function(d,f){var h=parseInt(t[f+1],10);switch(d.toLowerCase().charAt(0)){case"y":e=h;break;case"d":i=h;break;case"h":a=h;break;case"s":c=h;break;case"m":a>=0?o=h:s=h;break}}),c>=0&&o==-1&&s>=0&&(o=s,s=-1);var u=(""+(e>=0?e:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var l=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return a==-1&&o==-1&&c==-1?u:e==-1&&s==-1&&i==-1?l:u+"T"+l}var tJ=function(){var n={};n.version="1.2.0";function r(){for(var T=0,R=new Array(256),D=0;D!=256;++D)T=D,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,R[D]=T;return typeof Int32Array<"u"?new Int32Array(R):R}var t=r();function e(T){var R=0,D=0,L=0,M=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(L=0;L!=256;++L)M[L]=T[L];for(L=0;L!=256;++L)for(D=T[L],R=256+L;R<4096;R+=256)D=M[R]=D>>>8^T[D&255];var H=[];for(L=1;L!=16;++L)H[L-1]=typeof Int32Array<"u"?M.subarray(L*256,L*256+256):M.slice(L*256,L*256+256);return H}var s=e(t),i=s[0],a=s[1],o=s[2],c=s[3],u=s[4],l=s[5],d=s[6],f=s[7],h=s[8],p=s[9],g=s[10],v=s[11],m=s[12],x=s[13],y=s[14];function w(T,R){for(var D=R^-1,L=0,M=T.length;L<M;)D=D>>>8^t[(D^T.charCodeAt(L++))&255];return~D}function E(T,R){for(var D=R^-1,L=T.length-15,M=0;M<L;)D=y[T[M++]^D&255]^x[T[M++]^D>>8&255]^m[T[M++]^D>>16&255]^v[T[M++]^D>>>24]^g[T[M++]]^p[T[M++]]^h[T[M++]]^f[T[M++]]^d[T[M++]]^l[T[M++]]^u[T[M++]]^c[T[M++]]^o[T[M++]]^a[T[M++]]^i[T[M++]]^t[T[M++]];for(L+=15;M<L;)D=D>>>8^t[(D^T[M++])&255];return~D}function I(T,R){for(var D=R^-1,L=0,M=T.length,H=0,V=0;L<M;)H=T.charCodeAt(L++),H<128?D=D>>>8^t[(D^H)&255]:H<2048?(D=D>>>8^t[(D^(192|H>>6&31))&255],D=D>>>8^t[(D^(128|H&63))&255]):H>=55296&&H<57344?(H=(H&1023)+64,V=T.charCodeAt(L++)&1023,D=D>>>8^t[(D^(240|H>>8&7))&255],D=D>>>8^t[(D^(128|H>>2&63))&255],D=D>>>8^t[(D^(128|V>>6&15|(H&3)<<4))&255],D=D>>>8^t[(D^(128|V&63))&255]):(D=D>>>8^t[(D^(224|H>>12&15))&255],D=D>>>8^t[(D^(128|H>>6&63))&255],D=D>>>8^t[(D^(128|H&63))&255]);return~D}return n.table=t,n.bstr=w,n.buf=E,n.str=I,n}(),En=function(){var r={};r.version="1.2.1";function t(he,Ee){for(var Se=he.split("/"),ye=Ee.split("/"),Pe=0,je=0,Ge=Math.min(Se.length,ye.length);Pe<Ge;++Pe){if(je=Se[Pe].length-ye[Pe].length)return je;if(Se[Pe]!=ye[Pe])return Se[Pe]<ye[Pe]?-1:1}return Se.length-ye.length}function e(he){if(he.charAt(he.length-1)=="/")return he.slice(0,-1).indexOf("/")===-1?he:e(he.slice(0,-1));var Ee=he.lastIndexOf("/");return Ee===-1?he:he.slice(0,Ee+1)}function s(he){if(he.charAt(he.length-1)=="/")return s(he.slice(0,-1));var Ee=he.lastIndexOf("/");return Ee===-1?he:he.slice(Ee+1)}function i(he,Ee){typeof Ee=="string"&&(Ee=new Date(Ee));var Se=Ee.getHours();Se=Se<<6|Ee.getMinutes(),Se=Se<<5|Ee.getSeconds()>>>1,he.write_shift(2,Se);var ye=Ee.getFullYear()-1980;ye=ye<<4|Ee.getMonth()+1,ye=ye<<5|Ee.getDate(),he.write_shift(2,ye)}function a(he){var Ee=he.read_shift(2)&65535,Se=he.read_shift(2)&65535,ye=new Date,Pe=Se&31;Se>>>=5;var je=Se&15;Se>>>=4,ye.setMilliseconds(0),ye.setFullYear(Se+1980),ye.setMonth(je-1),ye.setDate(Pe);var Ge=Ee&31;Ee>>>=5;var lt=Ee&63;return Ee>>>=6,ye.setHours(Ee),ye.setMinutes(lt),ye.setSeconds(Ge<<1),ye}function o(he){ha(he,0);for(var Ee={},Se=0;he.l<=he.length-4;){var ye=he.read_shift(2),Pe=he.read_shift(2),je=he.l+Pe,Ge={};switch(ye){case 21589:Se=he.read_shift(1),Se&1&&(Ge.mtime=he.read_shift(4)),Pe>5&&(Se&2&&(Ge.atime=he.read_shift(4)),Se&4&&(Ge.ctime=he.read_shift(4))),Ge.mtime&&(Ge.mt=new Date(Ge.mtime*1e3));break}he.l=je,Ee[ye]=Ge}return Ee}var c;function u(){return c||(c={})}function l(he,Ee){if(he[0]==80&&he[1]==75)return nr(he,Ee);if((he[0]|32)==109&&(he[1]|32)==105)return Rr(he,Ee);if(he.length<512)throw new Error("CFB file size "+he.length+" < 512");var Se=3,ye=512,Pe=0,je=0,Ge=0,lt=0,Xe=0,nt=[],ut=he.slice(0,512);ha(ut,0);var Nt=d(ut);switch(Se=Nt[0],Se){case 3:ye=512;break;case 4:ye=4096;break;case 0:if(Nt[1]==0)return nr(he,Ee);default:throw new Error("Major Version: Expected 3 or 4 saw "+Se)}ye!==512&&(ut=he.slice(0,ye),ha(ut,28));var Ft=he.slice(0,ye);f(ut,Se);var zt=ut.read_shift(4,"i");if(Se===3&&zt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+zt);ut.l+=4,Ge=ut.read_shift(4,"i"),ut.l+=4,ut.chk("00100000","Mini Stream Cutoff Size: "),lt=ut.read_shift(4,"i"),Pe=ut.read_shift(4,"i"),Xe=ut.read_shift(4,"i"),je=ut.read_shift(4,"i");for(var Rt=-1,Ae=0;Ae<109&&(Rt=ut.read_shift(4,"i"),!(Rt<0));++Ae)nt[Ae]=Rt;var Ye=h(he,ye);v(Xe,je,Ye,ye,nt);var gt=x(Ye,Ge,nt,ye);gt[Ge].name="!Directory",Pe>0&&lt!==V&&(gt[lt].name="!MiniFAT"),gt[nt[0]].name="!FAT",gt.fat_addrs=nt,gt.ssz=ye;var Et={},Kt=[],Ht=[],Vt=[];y(Ge,gt,Ye,Kt,Pe,Et,Ht,lt),p(Ht,Vt,Kt),Kt.shift();var Dr={FileIndex:Ht,FullPaths:Vt};return Ee&&Ee.raw&&(Dr.raw={header:Ft,sectors:Ye}),Dr}function d(he){if(he[he.l]==80&&he[he.l+1]==75)return[0,0];he.chk(P,"Header Signature: "),he.l+=16;var Ee=he.read_shift(2,"u");return[he.read_shift(2,"u"),Ee]}function f(he,Ee){var Se=9;switch(he.l+=2,Se=he.read_shift(2)){case 9:if(Ee!=3)throw new Error("Sector Shift: Expected 9 saw "+Se);break;case 12:if(Ee!=4)throw new Error("Sector Shift: Expected 12 saw "+Se);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Se)}he.chk("0600","Mini Sector Shift: "),he.chk("000000000000","Reserved: ")}function h(he,Ee){for(var Se=Math.ceil(he.length/Ee)-1,ye=[],Pe=1;Pe<Se;++Pe)ye[Pe-1]=he.slice(Pe*Ee,(Pe+1)*Ee);return ye[Se-1]=he.slice(Se*Ee),ye}function p(he,Ee,Se){for(var ye=0,Pe=0,je=0,Ge=0,lt=0,Xe=Se.length,nt=[],ut=[];ye<Xe;++ye)nt[ye]=ut[ye]=ye,Ee[ye]=Se[ye];for(;lt<ut.length;++lt)ye=ut[lt],Pe=he[ye].L,je=he[ye].R,Ge=he[ye].C,nt[ye]===ye&&(Pe!==-1&&nt[Pe]!==Pe&&(nt[ye]=nt[Pe]),je!==-1&&nt[je]!==je&&(nt[ye]=nt[je])),Ge!==-1&&(nt[Ge]=ye),Pe!==-1&&ye!=nt[ye]&&(nt[Pe]=nt[ye],ut.lastIndexOf(Pe)<lt&&ut.push(Pe)),je!==-1&&ye!=nt[ye]&&(nt[je]=nt[ye],ut.lastIndexOf(je)<lt&&ut.push(je));for(ye=1;ye<Xe;++ye)nt[ye]===ye&&(je!==-1&&nt[je]!==je?nt[ye]=nt[je]:Pe!==-1&&nt[Pe]!==Pe&&(nt[ye]=nt[Pe]));for(ye=1;ye<Xe;++ye)if(he[ye].type!==0){if(lt=ye,lt!=nt[lt])do lt=nt[lt],Ee[ye]=Ee[lt]+"/"+Ee[ye];while(lt!==0&&nt[lt]!==-1&&lt!=nt[lt]);nt[ye]=-1}for(Ee[0]+="/",ye=1;ye<Xe;++ye)he[ye].type!==2&&(Ee[ye]+="/")}function g(he,Ee,Se){for(var ye=he.start,Pe=he.size,je=[],Ge=ye;Se&&Pe>0&&Ge>=0;)je.push(Ee.slice(Ge*H,Ge*H+H)),Pe-=H,Ge=_p(Se,Ge*4);return je.length===0?ji(0):Qh(je).slice(0,he.size)}function v(he,Ee,Se,ye,Pe){var je=V;if(he===V){if(Ee!==0)throw new Error("DIFAT chain shorter than expected")}else if(he!==-1){var Ge=Se[he],lt=(ye>>>2)-1;if(!Ge)return;for(var Xe=0;Xe<lt&&(je=_p(Ge,Xe*4))!==V;++Xe)Pe.push(je);v(_p(Ge,ye-4),Ee-1,Se,ye,Pe)}}function m(he,Ee,Se,ye,Pe){var je=[],Ge=[];Pe||(Pe=[]);var lt=ye-1,Xe=0,nt=0;for(Xe=Ee;Xe>=0;){Pe[Xe]=!0,je[je.length]=Xe,Ge.push(he[Xe]);var ut=Se[Math.floor(Xe*4/ye)];if(nt=Xe*4&lt,ye<4+nt)throw new Error("FAT boundary crossed: "+Xe+" 4 "+ye);if(!he[ut])break;Xe=_p(he[ut],nt)}return{nodes:je,data:W3([Ge])}}function x(he,Ee,Se,ye){var Pe=he.length,je=[],Ge=[],lt=[],Xe=[],nt=ye-1,ut=0,Nt=0,Ft=0,zt=0;for(ut=0;ut<Pe;++ut)if(lt=[],Ft=ut+Ee,Ft>=Pe&&(Ft-=Pe),!Ge[Ft]){Xe=[];var Rt=[];for(Nt=Ft;Nt>=0;){Rt[Nt]=!0,Ge[Nt]=!0,lt[lt.length]=Nt,Xe.push(he[Nt]);var Ae=Se[Math.floor(Nt*4/ye)];if(zt=Nt*4&nt,ye<4+zt)throw new Error("FAT boundary crossed: "+Nt+" 4 "+ye);if(!he[Ae]||(Nt=_p(he[Ae],zt),Rt[Nt]))break}je[Ft]={nodes:lt,data:W3([Xe])}}return je}function y(he,Ee,Se,ye,Pe,je,Ge,lt){for(var Xe=0,nt=ye.length?2:0,ut=Ee[he].data,Nt=0,Ft=0,zt;Nt<ut.length;Nt+=128){var Rt=ut.slice(Nt,Nt+128);ha(Rt,64),Ft=Rt.read_shift(2),zt=Z8(Rt,0,Ft-nt),ye.push(zt);var Ae={name:zt,type:Rt.read_shift(1),color:Rt.read_shift(1),L:Rt.read_shift(4,"i"),R:Rt.read_shift(4,"i"),C:Rt.read_shift(4,"i"),clsid:Rt.read_shift(16),state:Rt.read_shift(4,"i"),start:0,size:0},Ye=Rt.read_shift(2)+Rt.read_shift(2)+Rt.read_shift(2)+Rt.read_shift(2);Ye!==0&&(Ae.ct=w(Rt,Rt.l-8));var gt=Rt.read_shift(2)+Rt.read_shift(2)+Rt.read_shift(2)+Rt.read_shift(2);gt!==0&&(Ae.mt=w(Rt,Rt.l-8)),Ae.start=Rt.read_shift(4,"i"),Ae.size=Rt.read_shift(4,"i"),Ae.size<0&&Ae.start<0&&(Ae.size=Ae.type=0,Ae.start=V,Ae.name=""),Ae.type===5?(Xe=Ae.start,Pe>0&&Xe!==V&&(Ee[Xe].name="!StreamData")):Ae.size>=4096?(Ae.storage="fat",Ee[Ae.start]===void 0&&(Ee[Ae.start]=m(Se,Ae.start,Ee.fat_addrs,Ee.ssz)),Ee[Ae.start].name=Ae.name,Ae.content=Ee[Ae.start].data.slice(0,Ae.size)):(Ae.storage="minifat",Ae.size<0?Ae.size=0:Xe!==V&&Ae.start!==V&&Ee[Xe]&&(Ae.content=g(Ae,Ee[Xe].data,(Ee[lt]||{}).data))),Ae.content&&ha(Ae.content,0),je[zt]=Ae,Ge.push(Ae)}}function w(he,Ee){return new Date((pl(he,Ee+4)/1e7*Math.pow(2,32)+pl(he,Ee)/1e7-11644473600)*1e3)}function E(he,Ee){return u(),l(c.readFileSync(he),Ee)}function I(he,Ee){var Se=Ee&&Ee.type;switch(Se||xn&&Buffer.isBuffer(he)&&(Se="buffer"),Se||"base64"){case"file":return E(he,Ee);case"base64":return l(Bc(yl(he)),Ee);case"binary":return l(Bc(he),Ee)}return l(he,Ee)}function T(he,Ee){var Se=Ee||{},ye=Se.root||"Root Entry";if(he.FullPaths||(he.FullPaths=[]),he.FileIndex||(he.FileIndex=[]),he.FullPaths.length!==he.FileIndex.length)throw new Error("inconsistent CFB structure");he.FullPaths.length===0&&(he.FullPaths[0]=ye+"/",he.FileIndex[0]={name:ye,type:5}),Se.CLSID&&(he.FileIndex[0].clsid=Se.CLSID),R(he)}function R(he){var Ee="Sh33tJ5";if(!En.find(he,"/"+Ee)){var Se=ji(4);Se[0]=55,Se[1]=Se[3]=50,Se[2]=54,he.FileIndex.push({name:Ee,type:2,content:Se,size:4,L:69,R:69,C:69}),he.FullPaths.push(he.FullPaths[0]+Ee),D(he)}}function D(he,Ee){T(he);for(var Se=!1,ye=!1,Pe=he.FullPaths.length-1;Pe>=0;--Pe){var je=he.FileIndex[Pe];switch(je.type){case 0:ye?Se=!0:(he.FileIndex.pop(),he.FullPaths.pop());break;case 1:case 2:case 5:ye=!0,isNaN(je.R*je.L*je.C)&&(Se=!0),je.R>-1&&je.L>-1&&je.R==je.L&&(Se=!0);break;default:Se=!0;break}}if(!(!Se&&!Ee)){var Ge=new Date(1987,1,19),lt=0,Xe=Object.create?Object.create(null):{},nt=[];for(Pe=0;Pe<he.FullPaths.length;++Pe)Xe[he.FullPaths[Pe]]=!0,he.FileIndex[Pe].type!==0&&nt.push([he.FullPaths[Pe],he.FileIndex[Pe]]);for(Pe=0;Pe<nt.length;++Pe){var ut=e(nt[Pe][0]);ye=Xe[ut],ye||(nt.push([ut,{name:s(ut).replace("/",""),type:1,clsid:A,ct:Ge,mt:Ge,content:null}]),Xe[ut]=!0)}for(nt.sort(function(zt,Rt){return t(zt[0],Rt[0])}),he.FullPaths=[],he.FileIndex=[],Pe=0;Pe<nt.length;++Pe)he.FullPaths[Pe]=nt[Pe][0],he.FileIndex[Pe]=nt[Pe][1];for(Pe=0;Pe<nt.length;++Pe){var Nt=he.FileIndex[Pe],Ft=he.FullPaths[Pe];if(Nt.name=s(Ft).replace("/",""),Nt.L=Nt.R=Nt.C=-(Nt.color=1),Nt.size=Nt.content?Nt.content.length:0,Nt.start=0,Nt.clsid=Nt.clsid||A,Pe===0)Nt.C=nt.length>1?1:-1,Nt.size=0,Nt.type=5;else if(Ft.slice(-1)=="/"){for(lt=Pe+1;lt<nt.length&&e(he.FullPaths[lt])!=Ft;++lt);for(Nt.C=lt>=nt.length?-1:lt,lt=Pe+1;lt<nt.length&&e(he.FullPaths[lt])!=e(Ft);++lt);Nt.R=lt>=nt.length?-1:lt,Nt.type=1}else e(he.FullPaths[Pe+1]||"")==e(Ft)&&(Nt.R=Pe+1),Nt.type=2}}}function L(he,Ee){var Se=Ee||{};if(Se.fileType=="mad")return Lt(he,Se);switch(D(he),Se.fileType){case"zip":return fr(he,Se)}var ye=function(zt){for(var Rt=0,Ae=0,Ye=0;Ye<zt.FileIndex.length;++Ye){var gt=zt.FileIndex[Ye];if(gt.content){var Et=gt.content.length;Et>0&&(Et<4096?Rt+=Et+63>>6:Ae+=Et+511>>9)}}for(var Kt=zt.FullPaths.length+3>>2,Ht=Rt+7>>3,Vt=Rt+127>>7,Dr=Ht+Ae+Kt+Vt,wr=Dr+127>>7,Ar=wr<=109?0:Math.ceil((wr-109)/127);Dr+wr+Ar+127>>7>wr;)Ar=++wr<=109?0:Math.ceil((wr-109)/127);var lr=[1,Ar,wr,Vt,Kt,Ae,Rt,0];return zt.FileIndex[0].size=Rt<<6,lr[7]=(zt.FileIndex[0].start=lr[0]+lr[1]+lr[2]+lr[3]+lr[4]+lr[5])+(lr[6]+7>>3),lr}(he),Pe=ji(ye[7]<<9),je=0,Ge=0;{for(je=0;je<8;++je)Pe.write_shift(1,F[je]);for(je=0;je<8;++je)Pe.write_shift(2,0);for(Pe.write_shift(2,62),Pe.write_shift(2,3),Pe.write_shift(2,65534),Pe.write_shift(2,9),Pe.write_shift(2,6),je=0;je<3;++je)Pe.write_shift(2,0);for(Pe.write_shift(4,0),Pe.write_shift(4,ye[2]),Pe.write_shift(4,ye[0]+ye[1]+ye[2]+ye[3]-1),Pe.write_shift(4,0),Pe.write_shift(4,4096),Pe.write_shift(4,ye[3]?ye[0]+ye[1]+ye[2]-1:V),Pe.write_shift(4,ye[3]),Pe.write_shift(-4,ye[1]?ye[0]-1:V),Pe.write_shift(4,ye[1]),je=0;je<109;++je)Pe.write_shift(-4,je<ye[2]?ye[1]+je:-1)}if(ye[1])for(Ge=0;Ge<ye[1];++Ge){for(;je<236+Ge*127;++je)Pe.write_shift(-4,je<ye[2]?ye[1]+je:-1);Pe.write_shift(-4,Ge===ye[1]-1?V:Ge+1)}var lt=function(zt){for(Ge+=zt;je<Ge-1;++je)Pe.write_shift(-4,je+1);zt&&(++je,Pe.write_shift(-4,V))};for(Ge=je=0,Ge+=ye[1];je<Ge;++je)Pe.write_shift(-4,_.DIFSECT);for(Ge+=ye[2];je<Ge;++je)Pe.write_shift(-4,_.FATSECT);lt(ye[3]),lt(ye[4]);for(var Xe=0,nt=0,ut=he.FileIndex[0];Xe<he.FileIndex.length;++Xe)ut=he.FileIndex[Xe],ut.content&&(nt=ut.content.length,!(nt<4096)&&(ut.start=Ge,lt(nt+511>>9)));for(lt(ye[6]+7>>3);Pe.l&511;)Pe.write_shift(-4,_.ENDOFCHAIN);for(Ge=je=0,Xe=0;Xe<he.FileIndex.length;++Xe)ut=he.FileIndex[Xe],ut.content&&(nt=ut.content.length,!(!nt||nt>=4096)&&(ut.start=Ge,lt(nt+63>>6)));for(;Pe.l&511;)Pe.write_shift(-4,_.ENDOFCHAIN);for(je=0;je<ye[4]<<2;++je){var Nt=he.FullPaths[je];if(!Nt||Nt.length===0){for(Xe=0;Xe<17;++Xe)Pe.write_shift(4,0);for(Xe=0;Xe<3;++Xe)Pe.write_shift(4,-1);for(Xe=0;Xe<12;++Xe)Pe.write_shift(4,0);continue}ut=he.FileIndex[je],je===0&&(ut.start=ut.size?ut.start-1:V);var Ft=je===0&&Se.root||ut.name;if(nt=2*(Ft.length+1),Pe.write_shift(64,Ft,"utf16le"),Pe.write_shift(2,nt),Pe.write_shift(1,ut.type),Pe.write_shift(1,ut.color),Pe.write_shift(-4,ut.L),Pe.write_shift(-4,ut.R),Pe.write_shift(-4,ut.C),ut.clsid)Pe.write_shift(16,ut.clsid,"hex");else for(Xe=0;Xe<4;++Xe)Pe.write_shift(4,0);Pe.write_shift(4,ut.state||0),Pe.write_shift(4,0),Pe.write_shift(4,0),Pe.write_shift(4,0),Pe.write_shift(4,0),Pe.write_shift(4,ut.start),Pe.write_shift(4,ut.size),Pe.write_shift(4,0)}for(je=1;je<he.FileIndex.length;++je)if(ut=he.FileIndex[je],ut.size>=4096)if(Pe.l=ut.start+1<<9,xn&&Buffer.isBuffer(ut.content))ut.content.copy(Pe,Pe.l,0,ut.size),Pe.l+=ut.size+511&-512;else{for(Xe=0;Xe<ut.size;++Xe)Pe.write_shift(1,ut.content[Xe]);for(;Xe&511;++Xe)Pe.write_shift(1,0)}for(je=1;je<he.FileIndex.length;++je)if(ut=he.FileIndex[je],ut.size>0&&ut.size<4096)if(xn&&Buffer.isBuffer(ut.content))ut.content.copy(Pe,Pe.l,0,ut.size),Pe.l+=ut.size+63&-64;else{for(Xe=0;Xe<ut.size;++Xe)Pe.write_shift(1,ut.content[Xe]);for(;Xe&63;++Xe)Pe.write_shift(1,0)}if(xn)Pe.l=Pe.length;else for(;Pe.l<Pe.length;)Pe.write_shift(1,0);return Pe}function M(he,Ee){var Se=he.FullPaths.map(function(Xe){return Xe.toUpperCase()}),ye=Se.map(function(Xe){var nt=Xe.split("/");return nt[nt.length-(Xe.slice(-1)=="/"?2:1)]}),Pe=!1;Ee.charCodeAt(0)===47?(Pe=!0,Ee=Se[0].slice(0,-1)+Ee):Pe=Ee.indexOf("/")!==-1;var je=Ee.toUpperCase(),Ge=Pe===!0?Se.indexOf(je):ye.indexOf(je);if(Ge!==-1)return he.FileIndex[Ge];var lt=!je.match(rb);for(je=je.replace(po,""),lt&&(je=je.replace(rb,"!")),Ge=0;Ge<Se.length;++Ge)if((lt?Se[Ge].replace(rb,"!"):Se[Ge]).replace(po,"")==je||(lt?ye[Ge].replace(rb,"!"):ye[Ge]).replace(po,"")==je)return he.FileIndex[Ge];return null}var H=64,V=-2,P="d0cf11e0a1b11ae1",F=[208,207,17,224,161,177,26,225],A="00000000000000000000000000000000",_={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:V,FREESECT:-1,HEADER_SIGNATURE:P,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:A,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function S(he,Ee,Se){u();var ye=L(he,Se);c.writeFileSync(Ee,ye)}function N(he){for(var Ee=new Array(he.length),Se=0;Se<he.length;++Se)Ee[Se]=String.fromCharCode(he[Se]);return Ee.join("")}function C(he,Ee){var Se=L(he,Ee);switch(Ee&&Ee.type||"buffer"){case"file":return u(),c.writeFileSync(Ee.filename,Se),Se;case"binary":return typeof Se=="string"?Se:N(Se);case"base64":return N3(typeof Se=="string"?Se:N(Se));case"buffer":if(xn)return Buffer.isBuffer(Se)?Se:r0(Se);case"array":return typeof Se=="string"?Bc(Se):Se}return Se}var W;function j(he){try{var Ee=he.InflateRaw,Se=new Ee;if(Se._processChunk(new Uint8Array([3,0]),Se._finishFlushFlag),Se.bytesRead)W=he;else throw new Error("zlib does not expose bytesRead")}catch(ye){console.error("cannot use native zlib: "+(ye.message||ye))}}function B(he,Ee){if(!W)return Tt(he,Ee);var Se=W.InflateRaw,ye=new Se,Pe=ye._processChunk(he.slice(he.l),ye._finishFlushFlag);return he.l+=ye.bytesRead,Pe}function G(he){return W?W.deflateRawSync(he):rt(he)}var X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],O=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ee(he){var Ee=(he<<1|he<<11)&139536|(he<<5|he<<15)&558144;return(Ee>>16|Ee>>8|Ee)&255}for(var U=typeof Uint8Array<"u",z=U?new Uint8Array(256):[],Z=0;Z<256;++Z)z[Z]=ee(Z);function te(he,Ee){var Se=z[he&255];return Ee<=8?Se>>>8-Ee:(Se=Se<<8|z[he>>8&255],Ee<=16?Se>>>16-Ee:(Se=Se<<8|z[he>>16&255],Se>>>24-Ee))}function oe(he,Ee){var Se=Ee&7,ye=Ee>>>3;return(he[ye]|(Se<=6?0:he[ye+1]<<8))>>>Se&3}function ue(he,Ee){var Se=Ee&7,ye=Ee>>>3;return(he[ye]|(Se<=5?0:he[ye+1]<<8))>>>Se&7}function le(he,Ee){var Se=Ee&7,ye=Ee>>>3;return(he[ye]|(Se<=4?0:he[ye+1]<<8))>>>Se&15}function ce(he,Ee){var Se=Ee&7,ye=Ee>>>3;return(he[ye]|(Se<=3?0:he[ye+1]<<8))>>>Se&31}function _e(he,Ee){var Se=Ee&7,ye=Ee>>>3;return(he[ye]|(Se<=1?0:he[ye+1]<<8))>>>Se&127}function fe(he,Ee,Se){var ye=Ee&7,Pe=Ee>>>3,je=(1<<Se)-1,Ge=he[Pe]>>>ye;return Se<8-ye||(Ge|=he[Pe+1]<<8-ye,Se<16-ye)||(Ge|=he[Pe+2]<<16-ye,Se<24-ye)||(Ge|=he[Pe+3]<<24-ye),Ge&je}function ge(he,Ee,Se){var ye=Ee&7,Pe=Ee>>>3;return ye<=5?he[Pe]|=(Se&7)<<ye:(he[Pe]|=Se<<ye&255,he[Pe+1]=(Se&7)>>8-ye),Ee+3}function xe(he,Ee,Se){var ye=Ee&7,Pe=Ee>>>3;return Se=(Se&1)<<ye,he[Pe]|=Se,Ee+1}function Le(he,Ee,Se){var ye=Ee&7,Pe=Ee>>>3;return Se<<=ye,he[Pe]|=Se&255,Se>>>=8,he[Pe+1]=Se,Ee+8}function Me(he,Ee,Se){var ye=Ee&7,Pe=Ee>>>3;return Se<<=ye,he[Pe]|=Se&255,Se>>>=8,he[Pe+1]=Se&255,he[Pe+2]=Se>>>8,Ee+16}function Oe(he,Ee){var Se=he.length,ye=2*Se>Ee?2*Se:Ee+5,Pe=0;if(Se>=Ee)return he;if(xn){var je=A3(ye);if(he.copy)he.copy(je);else for(;Pe<he.length;++Pe)je[Pe]=he[Pe];return je}else if(U){var Ge=new Uint8Array(ye);if(Ge.set)Ge.set(he);else for(;Pe<Se;++Pe)Ge[Pe]=he[Pe];return Ge}return he.length=ye,he}function ze(he){for(var Ee=new Array(he),Se=0;Se<he;++Se)Ee[Se]=0;return Ee}function Ke(he,Ee,Se){var ye=1,Pe=0,je=0,Ge=0,lt=0,Xe=he.length,nt=U?new Uint16Array(32):ze(32);for(je=0;je<32;++je)nt[je]=0;for(je=Xe;je<Se;++je)he[je]=0;Xe=he.length;var ut=U?new Uint16Array(Xe):ze(Xe);for(je=0;je<Xe;++je)nt[Pe=he[je]]++,ye<Pe&&(ye=Pe),ut[je]=0;for(nt[0]=0,je=1;je<=ye;++je)nt[je+16]=lt=lt+nt[je-1]<<1;for(je=0;je<Xe;++je)lt=he[je],lt!=0&&(ut[je]=nt[lt+16]++);var Nt=0;for(je=0;je<Xe;++je)if(Nt=he[je],Nt!=0)for(lt=te(ut[je],ye)>>ye-Nt,Ge=(1<<ye+4-Nt)-1;Ge>=0;--Ge)Ee[lt|Ge<<Nt]=Nt&15|je<<4;return ye}var ot=U?new Uint16Array(512):ze(512),$e=U?new Uint16Array(32):ze(32);if(!U){for(var Ve=0;Ve<512;++Ve)ot[Ve]=0;for(Ve=0;Ve<32;++Ve)$e[Ve]=0}(function(){for(var he=[],Ee=0;Ee<32;Ee++)he.push(5);Ke(he,$e,32);var Se=[];for(Ee=0;Ee<=143;Ee++)Se.push(8);for(;Ee<=255;Ee++)Se.push(9);for(;Ee<=279;Ee++)Se.push(7);for(;Ee<=287;Ee++)Se.push(8);Ke(Se,ot,288)})();var He=function(){for(var Ee=U?new Uint8Array(32768):[],Se=0,ye=0;Se<O.length-1;++Se)for(;ye<O[Se+1];++ye)Ee[ye]=Se;for(;ye<32768;++ye)Ee[ye]=29;var Pe=U?new Uint8Array(259):[];for(Se=0,ye=0;Se<J.length-1;++Se)for(;ye<J[Se+1];++ye)Pe[ye]=Se;function je(lt,Xe){for(var nt=0;nt<lt.length;){var ut=Math.min(65535,lt.length-nt),Nt=nt+ut==lt.length;for(Xe.write_shift(1,+Nt),Xe.write_shift(2,ut),Xe.write_shift(2,~ut&65535);ut-- >0;)Xe[Xe.l++]=lt[nt++]}return Xe.l}function Ge(lt,Xe){for(var nt=0,ut=0,Nt=U?new Uint16Array(32768):[];ut<lt.length;){var Ft=Math.min(65535,lt.length-ut);if(Ft<10){for(nt=ge(Xe,nt,+(ut+Ft==lt.length)),nt&7&&(nt+=8-(nt&7)),Xe.l=nt/8|0,Xe.write_shift(2,Ft),Xe.write_shift(2,~Ft&65535);Ft-- >0;)Xe[Xe.l++]=lt[ut++];nt=Xe.l*8;continue}nt=ge(Xe,nt,+(ut+Ft==lt.length)+2);for(var zt=0;Ft-- >0;){var Rt=lt[ut];zt=(zt<<5^Rt)&32767;var Ae=-1,Ye=0;if((Ae=Nt[zt])&&(Ae|=ut&-32768,Ae>ut&&(Ae-=32768),Ae<ut))for(;lt[Ae+Ye]==lt[ut+Ye]&&Ye<250;)++Ye;if(Ye>2){Rt=Pe[Ye],Rt<=22?nt=Le(Xe,nt,z[Rt+1]>>1)-1:(Le(Xe,nt,3),nt+=5,Le(Xe,nt,z[Rt-23]>>5),nt+=3);var gt=Rt<8?0:Rt-4>>2;gt>0&&(Me(Xe,nt,Ye-J[Rt]),nt+=gt),Rt=Ee[ut-Ae],nt=Le(Xe,nt,z[Rt]>>3),nt-=3;var Et=Rt<4?0:Rt-2>>1;Et>0&&(Me(Xe,nt,ut-Ae-O[Rt]),nt+=Et);for(var Kt=0;Kt<Ye;++Kt)Nt[zt]=ut&32767,zt=(zt<<5^lt[ut])&32767,++ut;Ft-=Ye-1}else Rt<=143?Rt=Rt+48:nt=xe(Xe,nt,1),nt=Le(Xe,nt,z[Rt]),Nt[zt]=ut&32767,++ut}nt=Le(Xe,nt,0)-1}return Xe.l=(nt+7)/8|0,Xe.l}return function(Xe,nt){return Xe.length<8?je(Xe,nt):Ge(Xe,nt)}}();function rt(he){var Ee=ji(50+Math.floor(he.length*1.1)),Se=He(he,Ee);return Ee.slice(0,Se)}var Je=U?new Uint16Array(32768):ze(32768),wt=U?new Uint16Array(32768):ze(32768),yt=U?new Uint16Array(128):ze(128),kt=1,mt=1;function At(he,Ee){var Se=ce(he,Ee)+257;Ee+=5;var ye=ce(he,Ee)+1;Ee+=5;var Pe=le(he,Ee)+4;Ee+=4;for(var je=0,Ge=U?new Uint8Array(19):ze(19),lt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Xe=1,nt=U?new Uint8Array(8):ze(8),ut=U?new Uint8Array(8):ze(8),Nt=Ge.length,Ft=0;Ft<Pe;++Ft)Ge[X[Ft]]=je=ue(he,Ee),Xe<je&&(Xe=je),nt[je]++,Ee+=3;var zt=0;for(nt[0]=0,Ft=1;Ft<=Xe;++Ft)ut[Ft]=zt=zt+nt[Ft-1]<<1;for(Ft=0;Ft<Nt;++Ft)(zt=Ge[Ft])!=0&&(lt[Ft]=ut[zt]++);var Rt=0;for(Ft=0;Ft<Nt;++Ft)if(Rt=Ge[Ft],Rt!=0){zt=z[lt[Ft]]>>8-Rt;for(var Ae=(1<<7-Rt)-1;Ae>=0;--Ae)yt[zt|Ae<<Rt]=Rt&7|Ft<<3}var Ye=[];for(Xe=1;Ye.length<Se+ye;)switch(zt=yt[_e(he,Ee)],Ee+=zt&7,zt>>>=3){case 16:for(je=3+oe(he,Ee),Ee+=2,zt=Ye[Ye.length-1];je-- >0;)Ye.push(zt);break;case 17:for(je=3+ue(he,Ee),Ee+=3;je-- >0;)Ye.push(0);break;case 18:for(je=11+_e(he,Ee),Ee+=7;je-- >0;)Ye.push(0);break;default:Ye.push(zt),Xe<zt&&(Xe=zt);break}var gt=Ye.slice(0,Se),Et=Ye.slice(Se);for(Ft=Se;Ft<286;++Ft)gt[Ft]=0;for(Ft=ye;Ft<30;++Ft)Et[Ft]=0;return kt=Ke(gt,Je,286),mt=Ke(Et,wt,30),Ee}function $t(he,Ee){if(he[0]==3&&!(he[1]&3))return[Uf(Ee),2];for(var Se=0,ye=0,Pe=A3(Ee||1<<18),je=0,Ge=Pe.length>>>0,lt=0,Xe=0;!(ye&1);){if(ye=ue(he,Se),Se+=3,ye>>>1)ye>>1==1?(lt=9,Xe=5):(Se=At(he,Se),lt=kt,Xe=mt);else{Se&7&&(Se+=8-(Se&7));var nt=he[Se>>>3]|he[(Se>>>3)+1]<<8;if(Se+=32,nt>0)for(!Ee&&Ge<je+nt&&(Pe=Oe(Pe,je+nt),Ge=Pe.length);nt-- >0;)Pe[je++]=he[Se>>>3],Se+=8;continue}for(;;){!Ee&&Ge<je+32767&&(Pe=Oe(Pe,je+32767),Ge=Pe.length);var ut=fe(he,Se,lt),Nt=ye>>>1==1?ot[ut]:Je[ut];if(Se+=Nt&15,Nt>>>=4,!(Nt>>>8&255))Pe[je++]=Nt;else{if(Nt==256)break;Nt-=257;var Ft=Nt<8?0:Nt-4>>2;Ft>5&&(Ft=0);var zt=je+J[Nt];Ft>0&&(zt+=fe(he,Se,Ft),Se+=Ft),ut=fe(he,Se,Xe),Nt=ye>>>1==1?$e[ut]:wt[ut],Se+=Nt&15,Nt>>>=4;var Rt=Nt<4?0:Nt-2>>1,Ae=O[Nt];for(Rt>0&&(Ae+=fe(he,Se,Rt),Se+=Rt),!Ee&&Ge<zt&&(Pe=Oe(Pe,zt+100),Ge=Pe.length);je<zt;)Pe[je]=Pe[je-Ae],++je}}}return Ee?[Pe,Se+7>>>3]:[Pe.slice(0,je),Se+7>>>3]}function Tt(he,Ee){var Se=he.slice(he.l||0),ye=$t(Se,Ee);return he.l+=ye[1],ye[0]}function Yt(he,Ee){if(he)typeof console<"u"&&console.error(Ee);else throw new Error(Ee)}function nr(he,Ee){var Se=he;ha(Se,0);var ye=[],Pe=[],je={FileIndex:ye,FullPaths:Pe};T(je,{root:Ee.root});for(var Ge=Se.length-4;(Se[Ge]!=80||Se[Ge+1]!=75||Se[Ge+2]!=5||Se[Ge+3]!=6)&&Ge>=0;)--Ge;Se.l=Ge+4,Se.l+=4;var lt=Se.read_shift(2);Se.l+=6;var Xe=Se.read_shift(4);for(Se.l=Xe,Ge=0;Ge<lt;++Ge){Se.l+=20;var nt=Se.read_shift(4),ut=Se.read_shift(4),Nt=Se.read_shift(2),Ft=Se.read_shift(2),zt=Se.read_shift(2);Se.l+=8;var Rt=Se.read_shift(4),Ae=o(Se.slice(Se.l+Nt,Se.l+Nt+Ft));Se.l+=Nt+Ft+zt;var Ye=Se.l;Se.l=Rt+4,Xt(Se,nt,ut,je,Ae),Se.l=Ye}return je}function Xt(he,Ee,Se,ye,Pe){he.l+=2;var je=he.read_shift(2),Ge=he.read_shift(2),lt=a(he);if(je&8257)throw new Error("Unsupported ZIP encryption");for(var Xe=he.read_shift(4),nt=he.read_shift(4),ut=he.read_shift(4),Nt=he.read_shift(2),Ft=he.read_shift(2),zt="",Rt=0;Rt<Nt;++Rt)zt+=String.fromCharCode(he[he.l++]);if(Ft){var Ae=o(he.slice(he.l,he.l+Ft));(Ae[21589]||{}).mt&&(lt=Ae[21589].mt),((Pe||{})[21589]||{}).mt&&(lt=Pe[21589].mt)}he.l+=Ft;var Ye=he.slice(he.l,he.l+nt);switch(Ge){case 8:Ye=B(he,ut);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ge)}var gt=!1;je&8&&(Xe=he.read_shift(4),Xe==134695760&&(Xe=he.read_shift(4),gt=!0),nt=he.read_shift(4),ut=he.read_shift(4)),nt!=Ee&&Yt(gt,"Bad compressed size: "+Ee+" != "+nt),ut!=Se&&Yt(gt,"Bad uncompressed size: "+Se+" != "+ut),Nr(ye,zt,Ye,{unsafe:!0,mt:lt})}function fr(he,Ee){var Se=Ee||{},ye=[],Pe=[],je=ji(1),Ge=Se.compression?8:0,lt=0,Xe=0,nt=0,ut=0,Nt=0,Ft=he.FullPaths[0],zt=Ft,Rt=he.FileIndex[0],Ae=[],Ye=0;for(Xe=1;Xe<he.FullPaths.length;++Xe)if(zt=he.FullPaths[Xe].slice(Ft.length),Rt=he.FileIndex[Xe],!(!Rt.size||!Rt.content||zt=="Sh33tJ5")){var gt=ut,Et=ji(zt.length);for(nt=0;nt<zt.length;++nt)Et.write_shift(1,zt.charCodeAt(nt)&127);Et=Et.slice(0,Et.l),Ae[Nt]=tJ.buf(Rt.content,0);var Kt=Rt.content;Ge==8&&(Kt=G(Kt)),je=ji(30),je.write_shift(4,67324752),je.write_shift(2,20),je.write_shift(2,lt),je.write_shift(2,Ge),Rt.mt?i(je,Rt.mt):je.write_shift(4,0),je.write_shift(-4,Ae[Nt]),je.write_shift(4,Kt.length),je.write_shift(4,Rt.content.length),je.write_shift(2,Et.length),je.write_shift(2,0),ut+=je.length,ye.push(je),ut+=Et.length,ye.push(Et),ut+=Kt.length,ye.push(Kt),je=ji(46),je.write_shift(4,33639248),je.write_shift(2,0),je.write_shift(2,20),je.write_shift(2,lt),je.write_shift(2,Ge),je.write_shift(4,0),je.write_shift(-4,Ae[Nt]),je.write_shift(4,Kt.length),je.write_shift(4,Rt.content.length),je.write_shift(2,Et.length),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(4,0),je.write_shift(4,gt),Ye+=je.l,Pe.push(je),Ye+=Et.length,Pe.push(Et),++Nt}return je=ji(22),je.write_shift(4,101010256),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(2,Nt),je.write_shift(2,Nt),je.write_shift(4,Ye),je.write_shift(4,ut),je.write_shift(2,0),Qh([Qh(ye),Qh(Pe),je])}var rr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function qt(he,Ee){if(he.ctype)return he.ctype;var Se=he.name||"",ye=Se.match(/\.([^\.]+)$/);return ye&&rr[ye[1]]||Ee&&(ye=(Se=Ee).match(/[\.\\]([^\.\\])+$/),ye&&rr[ye[1]])?rr[ye[1]]:"application/octet-stream"}function cr(he){for(var Ee=N3(he),Se=[],ye=0;ye<Ee.length;ye+=76)Se.push(Ee.slice(ye,ye+76));return Se.join(`\r
`)+`\r
`}function Tr(he){var Ee=he.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(nt){var ut=nt.charCodeAt(0).toString(16).toUpperCase();return"="+(ut.length==1?"0"+ut:ut)});Ee=Ee.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Ee.charAt(0)==`
`&&(Ee="=0D"+Ee.slice(1)),Ee=Ee.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Se=[],ye=Ee.split(`\r
`),Pe=0;Pe<ye.length;++Pe){var je=ye[Pe];if(je.length==0){Se.push("");continue}for(var Ge=0;Ge<je.length;){var lt=76,Xe=je.slice(Ge,Ge+lt);Xe.charAt(lt-1)=="="?lt--:Xe.charAt(lt-2)=="="?lt-=2:Xe.charAt(lt-3)=="="&&(lt-=3),Xe=je.slice(Ge,Ge+lt),Ge+=lt,Ge<je.length&&(Xe+="="),Se.push(Xe)}}return Se.join(`\r
`)}function Qt(he){for(var Ee=[],Se=0;Se<he.length;++Se){for(var ye=he[Se];Se<=he.length&&ye.charAt(ye.length-1)=="=";)ye=ye.slice(0,ye.length-1)+he[++Se];Ee.push(ye)}for(var Pe=0;Pe<Ee.length;++Pe)Ee[Pe]=Ee[Pe].replace(/[=][0-9A-Fa-f]{2}/g,function(je){return String.fromCharCode(parseInt(je.slice(1),16))});return Bc(Ee.join(`\r
`))}function xr(he,Ee,Se){for(var ye="",Pe="",je="",Ge,lt=0;lt<10;++lt){var Xe=Ee[lt];if(!Xe||Xe.match(/^\s*$/))break;var nt=Xe.match(/^(.*?):\s*([^\s].*)$/);if(nt)switch(nt[1].toLowerCase()){case"content-location":ye=nt[2].trim();break;case"content-type":je=nt[2].trim();break;case"content-transfer-encoding":Pe=nt[2].trim();break}}switch(++lt,Pe.toLowerCase()){case"base64":Ge=Bc(yl(Ee.slice(lt).join("")));break;case"quoted-printable":Ge=Qt(Ee.slice(lt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Pe)}var ut=Nr(he,ye.slice(Se.length),Ge,{unsafe:!0});je&&(ut.ctype=je)}function Rr(he,Ee){if(N(he.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Se=Ee&&Ee.root||"",ye=(xn&&Buffer.isBuffer(he)?he.toString("binary"):N(he)).split(`\r
`),Pe=0,je="";for(Pe=0;Pe<ye.length;++Pe)if(je=ye[Pe],!!/^Content-Location:/i.test(je)&&(je=je.slice(je.indexOf("file")),Se||(Se=je.slice(0,je.lastIndexOf("/")+1)),je.slice(0,Se.length)!=Se))for(;Se.length>0&&(Se=Se.slice(0,Se.length-1),Se=Se.slice(0,Se.lastIndexOf("/")+1),je.slice(0,Se.length)!=Se););var Ge=(ye[1]||"").match(/boundary="(.*?)"/);if(!Ge)throw new Error("MAD cannot find boundary");var lt="--"+(Ge[1]||""),Xe=[],nt=[],ut={FileIndex:Xe,FullPaths:nt};T(ut);var Nt,Ft=0;for(Pe=0;Pe<ye.length;++Pe){var zt=ye[Pe];zt!==lt&&zt!==lt+"--"||(Ft++&&xr(ut,ye.slice(Nt,Pe),Se),Nt=Pe)}return ut}function Lt(he,Ee){var Se=Ee||{},ye=Se.boundary||"SheetJS";ye="------="+ye;for(var Pe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ye.slice(2)+'"',"","",""],je=he.FullPaths[0],Ge=je,lt=he.FileIndex[0],Xe=1;Xe<he.FullPaths.length;++Xe)if(Ge=he.FullPaths[Xe].slice(je.length),lt=he.FileIndex[Xe],!(!lt.size||!lt.content||Ge=="Sh33tJ5")){Ge=Ge.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ye){return"_x"+Ye.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ye){return"_u"+Ye.charCodeAt(0).toString(16)+"_"});for(var nt=lt.content,ut=xn&&Buffer.isBuffer(nt)?nt.toString("binary"):N(nt),Nt=0,Ft=Math.min(1024,ut.length),zt=0,Rt=0;Rt<=Ft;++Rt)(zt=ut.charCodeAt(Rt))>=32&&zt<128&&++Nt;var Ae=Nt>=Ft*4/5;Pe.push(ye),Pe.push("Content-Location: "+(Se.root||"file:///C:/SheetJS/")+Ge),Pe.push("Content-Transfer-Encoding: "+(Ae?"quoted-printable":"base64")),Pe.push("Content-Type: "+qt(lt,Ge)),Pe.push(""),Pe.push(Ae?Tr(ut):cr(ut))}return Pe.push(ye+`--\r
`),Pe.join(`\r
`)}function Sr(he){var Ee={};return T(Ee,he),Ee}function Nr(he,Ee,Se,ye){var Pe=ye&&ye.unsafe;Pe||T(he);var je=!Pe&&En.find(he,Ee);if(!je){var Ge=he.FullPaths[0];Ee.slice(0,Ge.length)==Ge?Ge=Ee:(Ge.slice(-1)!="/"&&(Ge+="/"),Ge=(Ge+Ee).replace("//","/")),je={name:s(Ee),type:2},he.FileIndex.push(je),he.FullPaths.push(Ge),Pe||En.utils.cfb_gc(he)}return je.content=Se,je.size=Se?Se.length:0,ye&&(ye.CLSID&&(je.clsid=ye.CLSID),ye.mt&&(je.mt=ye.mt),ye.ct&&(je.ct=ye.ct)),je}function ur(he,Ee){T(he);var Se=En.find(he,Ee);if(Se){for(var ye=0;ye<he.FileIndex.length;++ye)if(he.FileIndex[ye]==Se)return he.FileIndex.splice(ye,1),he.FullPaths.splice(ye,1),!0}return!1}function qe(he,Ee,Se){T(he);var ye=En.find(he,Ee);if(ye){for(var Pe=0;Pe<he.FileIndex.length;++Pe)if(he.FileIndex[Pe]==ye)return he.FileIndex[Pe].name=s(Se),he.FullPaths[Pe]=Se,!0}return!1}function st(he){D(he,!0)}return r.find=M,r.read=I,r.parse=l,r.write=C,r.writeFile=S,r.utils={cfb_new:Sr,cfb_add:Nr,cfb_del:ur,cfb_mov:qe,cfb_gc:st,ReadShift:fb,CheckField:IT,prep_blob:ha,bconcat:Qh,use_zlib:j,_deflateRaw:rt,_inflateRaw:Tt,consts:_},r}();function rJ(n){if(typeof Deno<"u")return Deno.readFileSync(n);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var r=File(n);r.open("r"),r.encoding="binary";var t=r.read();return r.close(),t}catch(e){if(!e.message||!e.message.match(/onstruct/))throw e}throw new Error("Cannot access file "+n)}function Yu(n){for(var r=Object.keys(n),t=[],e=0;e<r.length;++e)Object.prototype.hasOwnProperty.call(n,r[e])&&t.push(r[e]);return t}function Y8(n){for(var r=[],t=Yu(n),e=0;e!==t.length;++e)r[n[t[e]]]=t[e];return r}var dw=new Date(1899,11,30,0,0,0);function bo(n,r){var t=n.getTime(),e=dw.getTime()+(n.getTimezoneOffset()-dw.getTimezoneOffset())*6e4;return(t-e)/(24*60*60*1e3)}var uT=new Date,nJ=dw.getTime()+(uT.getTimezoneOffset()-dw.getTimezoneOffset())*6e4,R3=uT.getTimezoneOffset();function g5(n){var r=new Date;return r.setTime(n*24*60*60*1e3+nJ),r.getTimezoneOffset()!==R3&&r.setTime(r.getTime()+(r.getTimezoneOffset()-R3)*6e4),r}function sJ(n){var r=0,t=0,e=!1,s=n.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!s)throw new Error("|"+n+"| is not an ISO8601 Duration");for(var i=1;i!=s.length;++i)if(s[i]){switch(t=1,i>3&&(e=!0),s[i].slice(s[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+s[i].slice(s[i].length-1));case"D":t*=24;case"H":t*=60;case"M":if(e)t*=60;else throw new Error("Unsupported ISO Duration Field: M")}r+=t*parseInt(s[i],10)}return r}var M3=new Date("2017-02-19T19:06:09.000Z"),dT=isNaN(M3.getFullYear())?new Date("2/19/17"):M3,iJ=dT.getFullYear()==2017;function Ji(n,r){var t=new Date(n);if(iJ)return r>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):r<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(dT.getFullYear()==1917&&!isNaN(t.getFullYear())){var e=t.getFullYear();return n.indexOf(""+e)>-1||t.setFullYear(t.getFullYear()+100),t}var s=n.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return n.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Hm(n,r){if(xn&&Buffer.isBuffer(n)){if(r){if(n[0]==255&&n[1]==254)return sb(n.slice(2).toString("utf16le"));if(n[1]==254&&n[2]==255)return sb(JC(n.slice(2).toString("binary")))}return n.toString("binary")}if(typeof TextDecoder<"u")try{if(r){if(n[0]==255&&n[1]==254)return sb(new TextDecoder("utf-16le").decode(n.slice(2)));if(n[0]==254&&n[1]==255)return sb(new TextDecoder("utf-16be").decode(n.slice(2)))}var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[]/g,function(i){return t[i]||i})}catch{}for(var e=[],s=0;s!=n.length;++s)e.push(String.fromCharCode(n[s]));return e.join("")}function fa(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var r={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=fa(n[t]));return r}function Ys(n,r){for(var t="";t.length<r;)t+=n;return t}function Wc(n){var r=Number(n);if(!isNaN(r))return isFinite(r)?r:NaN;if(!/\d/.test(n))return r;var t=1,e=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(r=Number(e))||(e=e.replace(/[(](.*)[)]/,function(s,i){return t=-t,i}),!isNaN(r=Number(e)))?r/t:r}var aJ=["january","february","march","april","may","june","july","august","september","october","november","december"];function ig(n){var r=new Date(n),t=new Date(NaN),e=r.getYear(),s=r.getMonth(),i=r.getDate();if(isNaN(i))return t;var a=n.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&aJ.indexOf(a)==-1)return t}else if(a.match(/[a-z]/))return t;return e<0||e>8099?t:(s>0||i>1)&&e!=101?r:n.match(/[^-0-9:,\/\\]/)?t:r}var oJ=function(){var n="abacaba".split(/(:?b)/i).length==5;return function(t,e,s){if(n||typeof e=="string")return t.split(e);for(var i=t.split(e),a=[i[0]],o=1;o<i.length;++o)a.push(s),a.push(i[o]);return a}}();function hT(n){return n?n.content&&n.type?Hm(n.content,!0):n.data?tb(n.data):n.asNodeBuffer&&xn?tb(n.asNodeBuffer().toString("binary")):n.asBinary?tb(n.asBinary()):n._data&&n._data.getContent?tb(Hm(Array.prototype.slice.call(n._data.getContent(),0))):null:null}function fT(n){if(!n)return null;if(n.data)return S3(n.data);if(n.asNodeBuffer&&xn)return n.asNodeBuffer();if(n._data&&n._data.getContent){var r=n._data.getContent();return typeof r=="string"?S3(r):Array.prototype.slice.call(r)}return n.content&&n.type?n.content:null}function lJ(n){return n&&n.name.slice(-4)===".bin"?fT(n):hT(n)}function Ol(n,r){for(var t=n.FullPaths||Yu(n.files),e=r.toLowerCase().replace(/[\/]/g,"\\"),s=e.replace(/\\/g,"/"),i=0;i<t.length;++i){var a=t[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(e==a||s==a)return n.files?n.files[t[i]]:n.FileIndex[i]}return null}function X8(n,r){var t=Ol(n,r);if(t==null)throw new Error("Cannot find file "+r+" in zip");return t}function _i(n,r,t){if(!t)return lJ(X8(n,r));if(!r)return null;try{return _i(n,r)}catch{return null}}function gl(n,r,t){if(!t)return hT(X8(n,r));if(!r)return null;try{return gl(n,r)}catch{return null}}function cJ(n,r,t){return fT(X8(n,r))}function L3(n){for(var r=n.FullPaths||Yu(n.files),t=[],e=0;e<r.length;++e)r[e].slice(-1)!="/"&&t.push(r[e].replace(/^Root Entry[\/]/,""));return t.sort()}function uJ(n,r,t){if(n.FullPaths){if(typeof t=="string"){var e;return xn?e=r0(t):e=TK(t),En.utils.cfb_add(n,r,e)}En.utils.cfb_add(n,r,t)}else n.file(r,t)}function pT(n,r){switch(r.type){case"base64":return En.read(n,{type:"base64"});case"binary":return En.read(n,{type:"binary"});case"buffer":case"array":return En.read(n,{type:"buffer"})}throw new Error("Unrecognized type "+r.type)}function nb(n,r){if(n.charAt(0)=="/")return n.slice(1);var t=r.split("/");r.slice(-1)!="/"&&t.pop();for(var e=n.split("/");e.length!==0;){var s=e.shift();s===".."?t.pop():s!=="."&&t.push(s)}return t.join("/")}var mT=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,dJ=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,O3=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,hJ=/<[^>]*>/g,Ya=mT.match(O3)?O3:hJ,fJ=/<\w*:/,pJ=/<(\/?)\w+:/;function Hr(n,r,t){for(var e={},s=0,i=0;s!==n.length&&!((i=n.charCodeAt(s))===32||i===10||i===13);++s);if(r||(e[0]=n.slice(0,s)),s===n.length)return e;var a=n.match(dJ),o=0,c="",u=0,l="",d="",f=1;if(a)for(u=0;u!=a.length;++u){for(d=a[u],i=0;i!=d.length&&d.charCodeAt(i)!==61;++i);for(l=d.slice(0,i).trim();d.charCodeAt(i+1)==32;)++i;for(f=(s=d.charCodeAt(i+1))==34||s==39?1:0,c=d.slice(i+1+f,d.length-f),o=0;o!=l.length&&l.charCodeAt(o)!==58;++o);if(o===l.length)l.indexOf("_")>0&&(l=l.slice(0,l.indexOf("_"))),e[l]=c,e[l.toLowerCase()]=c;else{var h=(o===5&&l.slice(0,5)==="xmlns"?"xmlns":"")+l.slice(o+1);if(e[h]&&l.slice(o-3,o)=="ext")continue;e[h]=c,e[h.toLowerCase()]=c}}return e}function Zu(n){return n.replace(pJ,"<$1")}var gT={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},mJ=Y8(gT),Pn=function(){var n=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,r=/_x([\da-fA-F]{4})_/ig;return function t(e){var s=e+"",i=s.indexOf("<![CDATA[");if(i==-1)return s.replace(n,function(o,c){return gT[o]||String.fromCharCode(parseInt(c,o.indexOf("x")>-1?16:10))||o}).replace(r,function(o,c){return String.fromCharCode(parseInt(c,16))});var a=s.indexOf("]]>");return t(s.slice(0,i))+s.slice(i+9,a)+t(s.slice(a+3))}}(),gJ=/[&<>'"]/g,bJ=/[\u0000-\u001f]/g;function K8(n){var r=n+"";return r.replace(gJ,function(t){return mJ[t]}).replace(/\n/g,"<br/>").replace(bJ,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}var F3=function(){var n=/&#(\d+);/g;function r(t,e){return String.fromCharCode(parseInt(e,10))}return function(e){return e.replace(n,r)}}();function Ts(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function W6(n){for(var r="",t=0,e=0,s=0,i=0,a=0,o=0;t<n.length;){if(e=n.charCodeAt(t++),e<128){r+=String.fromCharCode(e);continue}if(s=n.charCodeAt(t++),e>191&&e<224){a=(e&31)<<6,a|=s&63,r+=String.fromCharCode(a);continue}if(i=n.charCodeAt(t++),e<240){r+=String.fromCharCode((e&15)<<12|(s&63)<<6|i&63);continue}a=n.charCodeAt(t++),o=((e&7)<<18|(s&63)<<12|(i&63)<<6|a&63)-65536,r+=String.fromCharCode(55296+(o>>>10&1023)),r+=String.fromCharCode(56320+(o&1023))}return r}function B3(n){var r=Uf(2*n.length),t,e,s=1,i=0,a=0,o;for(e=0;e<n.length;e+=s)s=1,(o=n.charCodeAt(e))<128?t=o:o<224?(t=(o&31)*64+(n.charCodeAt(e+1)&63),s=2):o<240?(t=(o&15)*4096+(n.charCodeAt(e+1)&63)*64+(n.charCodeAt(e+2)&63),s=3):(s=4,t=(o&7)*262144+(n.charCodeAt(e+1)&63)*4096+(n.charCodeAt(e+2)&63)*64+(n.charCodeAt(e+3)&63),t-=65536,a=55296+(t>>>10&1023),t=56320+(t&1023)),a!==0&&(r[i++]=a&255,r[i++]=a>>>8,a=0),r[i++]=t%256,r[i++]=t>>>8;return r.slice(0,i).toString("ucs2")}function U3(n){return r0(n,"binary").toString("utf8")}var V2="foo bar baz",gs=xn&&(U3(V2)==W6(V2)&&U3||B3(V2)==W6(V2)&&B3)||W6,sb=xn?function(n){return r0(n,"utf8").toString("binary")}:function(n){for(var r=[],t=0,e=0,s=0;t<n.length;)switch(e=n.charCodeAt(t++),!0){case e<128:r.push(String.fromCharCode(e));break;case e<2048:r.push(String.fromCharCode(192+(e>>6))),r.push(String.fromCharCode(128+(e&63)));break;case(e>=55296&&e<57344):e-=55296,s=n.charCodeAt(t++)-56320+(e<<10),r.push(String.fromCharCode(240+(s>>18&7))),r.push(String.fromCharCode(144+(s>>12&63))),r.push(String.fromCharCode(128+(s>>6&63))),r.push(String.fromCharCode(128+(s&63)));break;default:r.push(String.fromCharCode(224+(e>>12))),r.push(String.fromCharCode(128+(e>>6&63))),r.push(String.fromCharCode(128+(e&63)))}return r.join("")},Pb=function(){var n={};return function(t,e){var s=t+"|"+(e||"");return n[s]?n[s]:n[s]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",e||"")}}(),bT=function(){var n=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(r){return[new RegExp("&"+r[0]+";","ig"),r[1]]});return function(t){for(var e=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<n.length;++s)e=e.replace(n[s][0],n[s][1]);return e}}(),vJ=function(){var n={};return function(t){return n[t]!==void 0?n[t]:n[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}}(),yJ=/<\/?(?:vt:)?variant>/g,xJ=/<(?:vt:)([^>]*)>([\s\S]*)</;function H3(n,r){var t=Hr(n),e=n.match(vJ(t.baseType))||[],s=[];if(e.length!=t.size){if(r.WTF)throw new Error("unexpected vector length "+e.length+" != "+t.size);return s}return e.forEach(function(i){var a=i.replace(yJ,"").match(xJ);a&&s.push({v:gs(a[2]),t:a[1]})}),s}var wJ=/(^\s|\s$|\n)/;function _J(n){return Yu(n).map(function(r){return" "+r+'="'+n[r]+'"'}).join("")}function SJ(n,r,t){return"<"+n+(t!=null?_J(t):"")+(r!=null?(r.match(wJ)?' xml:space="preserve"':"")+">"+r+"</"+n:"/")+">"}function J8(n){if(xn&&Buffer.isBuffer(n))return n.toString("utf8");if(typeof n=="string")return n;if(typeof Uint8Array<"u"&&n instanceof Uint8Array)return gs(n0(V8(n)));throw new Error("Bad input format: expected Buffer or string")}var jb=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,EJ={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},NJ=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function AJ(n,r){for(var t=1-2*(n[r+7]>>>7),e=((n[r+7]&127)<<4)+(n[r+6]>>>4&15),s=n[r+6]&15,i=5;i>=0;--i)s=s*256+n[r+i];return e==2047?s==0?t*(1/0):NaN:(e==0?e=-1022:(e-=1023,s+=Math.pow(2,52)),t*Math.pow(2,e-52)*s)}function kJ(n,r,t){var e=(r<0||1/r==-1/0?1:0)<<7,s=0,i=0,a=e?-r:r;isFinite(a)?a==0?s=i=0:(s=Math.floor(Math.log(a)/Math.LN2),i=a*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(r)?26985:0);for(var o=0;o<=5;++o,i/=256)n[t+o]=i&255;n[t+6]=(s&15)<<4|i&15,n[t+7]=s>>4|e}var q3=function(n){for(var r=[],t=10240,e=0;e<n[0].length;++e)if(n[0][e])for(var s=0,i=n[0][e].length;s<i;s+=t)r.push.apply(r,n[0][e].slice(s,s+t));return r},W3=xn?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(r){return Buffer.isBuffer(r)?r:r0(r)})):q3(n)}:q3,z3=function(n,r,t){for(var e=[],s=r;s<t;s+=2)e.push(String.fromCharCode(uh(n,s)));return e.join("").replace(po,"")},Z8=xn?function(n,r,t){return Buffer.isBuffer(n)?n.toString("utf16le",r,t).replace(po,""):z3(n,r,t)}:z3,V3=function(n,r,t){for(var e=[],s=r;s<r+t;++s)e.push(("0"+n[s].toString(16)).slice(-2));return e.join("")},vT=xn?function(n,r,t){return Buffer.isBuffer(n)?n.toString("hex",r,r+t):V3(n,r,t)}:V3,$3=function(n,r,t){for(var e=[],s=r;s<t;s++)e.push(String.fromCharCode(q0(n,s)));return e.join("")},Ty=xn?function(r,t,e){return Buffer.isBuffer(r)?r.toString("utf8",t,e):$3(r,t,e)}:$3,yT=function(n,r){var t=pl(n,r);return t>0?Ty(n,r+4,r+4+t-1):""},xT=yT,wT=function(n,r){var t=pl(n,r);return t>0?Ty(n,r+4,r+4+t-1):""},_T=wT,ST=function(n,r){var t=2*pl(n,r);return t>0?Ty(n,r+4,r+4+t-1):""},ET=ST,NT=function(r,t){var e=pl(r,t);return e>0?Z8(r,t+4,t+4+e):""},AT=NT,kT=function(n,r){var t=pl(n,r);return t>0?Ty(n,r+4,r+4+t):""},CT=kT,TT=function(n,r){return AJ(n,r)},hw=TT,DT=function(r){return Array.isArray(r)||typeof Uint8Array<"u"&&r instanceof Uint8Array};xn&&(xT=function(r,t){if(!Buffer.isBuffer(r))return yT(r,t);var e=r.readUInt32LE(t);return e>0?r.toString("utf8",t+4,t+4+e-1):""},_T=function(r,t){if(!Buffer.isBuffer(r))return wT(r,t);var e=r.readUInt32LE(t);return e>0?r.toString("utf8",t+4,t+4+e-1):""},ET=function(r,t){if(!Buffer.isBuffer(r))return ST(r,t);var e=2*r.readUInt32LE(t);return r.toString("utf16le",t+4,t+4+e-1)},AT=function(r,t){if(!Buffer.isBuffer(r))return NT(r,t);var e=r.readUInt32LE(t);return r.toString("utf16le",t+4,t+4+e)},CT=function(r,t){if(!Buffer.isBuffer(r))return kT(r,t);var e=r.readUInt32LE(t);return r.toString("utf8",t+4,t+4+e)},hw=function(r,t){return Buffer.isBuffer(r)?r.readDoubleLE(t):TT(r,t)},DT=function(r){return Buffer.isBuffer(r)||Array.isArray(r)||typeof Uint8Array<"u"&&r instanceof Uint8Array});var q0=function(n,r){return n[r]},uh=function(n,r){return n[r+1]*256+n[r]},CJ=function(n,r){var t=n[r+1]*256+n[r];return t<32768?t:(65535-t+1)*-1},pl=function(n,r){return n[r+3]*(1<<24)+(n[r+2]<<16)+(n[r+1]<<8)+n[r]},_p=function(n,r){return n[r+3]<<24|n[r+2]<<16|n[r+1]<<8|n[r]},TJ=function(n,r){return n[r]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3]};function fb(n,r){var t="",e,s,i=[],a,o,c,u;switch(r){case"dbcs":if(u=this.l,xn&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(c=0;c<n;++c)t+=String.fromCharCode(uh(this,u)),u+=2;n*=2;break;case"utf8":t=Ty(this,this.l,this.l+n);break;case"utf16le":n*=2,t=Z8(this,this.l,this.l+n);break;case"wstr":return fb.call(this,n,"dbcs");case"lpstr-ansi":t=xT(this,this.l),n=4+pl(this,this.l);break;case"lpstr-cp":t=_T(this,this.l),n=4+pl(this,this.l);break;case"lpwstr":t=ET(this,this.l),n=4+2*pl(this,this.l);break;case"lpp4":n=4+pl(this,this.l),t=AT(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+pl(this,this.l),t=CT(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(a=q0(this,this.l+n++))!==0;)i.push(z2(a));t=i.join("");break;case"_wstr":for(n=0,t="";(a=uh(this,this.l+n))!==0;)i.push(z2(a)),n+=2;n+=2,t=i.join("");break;case"dbcs-cont":for(t="",u=this.l,c=0;c<n;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return a=q0(this,u),this.l=u+1,o=fb.call(this,n-c,a?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(z2(uh(this,u))),u+=2}t=i.join(""),n*=2;break;case"cpstr":case"sbcs-cont":for(t="",u=this.l,c=0;c!=n;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return a=q0(this,u),this.l=u+1,o=fb.call(this,n-c,a?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(z2(q0(this,u))),u+=1}t=i.join("");break;default:switch(n){case 1:return e=q0(this,this.l),this.l++,e;case 2:return e=(r==="i"?CJ:uh)(this,this.l),this.l+=2,e;case 4:case-4:return r==="i"||!(this[this.l+3]&128)?(e=(n>0?_p:TJ)(this,this.l),this.l+=4,e):(s=pl(this,this.l),this.l+=4,s);case 8:case-8:if(r==="f")return n==8?s=hw(this,this.l):s=hw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;n=8;case 16:t=vT(this,this.l,n);break}}return this.l+=n,t}var DJ=function(n,r,t){n[t]=r&255,n[t+1]=r>>>8&255,n[t+2]=r>>>16&255,n[t+3]=r>>>24&255},IJ=function(n,r,t){n[t]=r&255,n[t+1]=r>>8&255,n[t+2]=r>>16&255,n[t+3]=r>>24&255},PJ=function(n,r,t){n[t]=r&255,n[t+1]=r>>>8&255};function jJ(n,r,t){var e=0,s=0;if(t==="dbcs"){for(s=0;s!=r.length;++s)PJ(this,r.charCodeAt(s),this.l+2*s);e=2*r.length}else if(t==="sbcs"){for(r=r.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=r.length;++s)this[this.l+s]=r.charCodeAt(s)&255;e=r.length}else if(t==="hex"){for(;s<n;++s)this[this.l++]=parseInt(r.slice(2*s,2*s+2),16)||0;return this}else if(t==="utf16le"){var i=Math.min(this.l+n,this.length);for(s=0;s<Math.min(r.length,n);++s){var a=r.charCodeAt(s);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(n){case 1:e=1,this[this.l]=r&255;break;case 2:e=2,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255;break;case 3:e=3,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255,r>>>=8,this[this.l+2]=r&255;break;case 4:e=4,DJ(this,r,this.l);break;case 8:if(e=8,t==="f"){kJ(this,r,this.l);break}case 16:break;case-4:e=4,IJ(this,r,this.l);break}return this.l+=e,this}function IT(n,r){var t=vT(this,this.l,n.length>>1);if(t!==n)throw new Error(r+"Expected "+n+" saw "+t);this.l+=n.length>>1}function ha(n,r){n.l=r,n.read_shift=fb,n.chk=IT,n.write_shift=jJ}function $a(n,r){n.l+=r}function ji(n){var r=Uf(n);return ha(r,0),r}function Ah(n,r,t){if(n){var e,s,i;ha(n,n.l||0);for(var a=n.length,o=0,c=0;n.l<a;){o=n.read_shift(1),o&128&&(o=(o&127)+((n.read_shift(1)&127)<<7));var u=vw[o]||vw[65535];for(e=n.read_shift(1),i=e&127,s=1;s<4&&e&128;++s)i+=((e=n.read_shift(1))&127)<<7*s;c=n.l+i;var l=u.f&&u.f(n,i,t);if(n.l=c,r(l,u,o))return}}}function Y4(){var n=[],r=xn?256:2048,t=function(u){var l=ji(u);return ha(l,0),l},e=t(r),s=function(){e&&(e.length>e.l&&(e=e.slice(0,e.l),e.l=e.length),e.length>0&&n.push(e),e=null)},i=function(u){return e&&u<e.length-e.l?e:(s(),e=t(Math.max(u+1,r)))},a=function(){return s(),Qh(n)},o=function(u){s(),e=u,e.l==null&&(e.l=e.length),i(r)};return{next:i,push:o,end:a,_bufs:n}}function pb(n,r,t){var e=fa(n);if(r.s?(e.cRel&&(e.c+=r.s.c),e.rRel&&(e.r+=r.s.r)):(e.cRel&&(e.c+=r.c),e.rRel&&(e.r+=r.r)),!t||t.biff<12){for(;e.c>=256;)e.c-=256;for(;e.r>=65536;)e.r-=65536}return e}function G3(n,r,t){var e=fa(n);return e.s=pb(e.s,r.s,t),e.e=pb(e.e,r.s,t),e}function mb(n,r){if(n.cRel&&n.c<0)for(n=fa(n);n.c<0;)n.c+=r>8?16384:256;if(n.rRel&&n.r<0)for(n=fa(n);n.r<0;)n.r+=r>8?1048576:r>5?65536:16384;var t=Yr(n);return!n.cRel&&n.cRel!=null&&(t=LJ(t)),!n.rRel&&n.rRel!=null&&(t=RJ(t)),t}function z6(n,r){return n.s.r==0&&!n.s.rRel&&n.e.r==(r.biff>=12?1048575:r.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+Fi(n.s.c)+":"+(n.e.cRel?"":"$")+Fi(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(r.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+pa(n.s.r)+":"+(n.e.rRel?"":"$")+pa(n.e.r):mb(n.s,r.biff)+":"+mb(n.e,r.biff)}function Q8(n){return parseInt(MJ(n),10)-1}function pa(n){return""+(n+1)}function RJ(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function MJ(n){return n.replace(/\$(\d+)$/,"$1")}function eS(n){for(var r=OJ(n),t=0,e=0;e!==r.length;++e)t=26*t+r.charCodeAt(e)-64;return t-1}function Fi(n){if(n<0)throw new Error("invalid column "+n);var r="";for(++n;n;n=Math.floor((n-1)/26))r=String.fromCharCode((n-1)%26+65)+r;return r}function LJ(n){return n.replace(/^([A-Z])/,"$$$1")}function OJ(n){return n.replace(/^\$([A-Z])/,"$1")}function FJ(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function fo(n){for(var r=0,t=0,e=0;e<n.length;++e){var s=n.charCodeAt(e);s>=48&&s<=57?r=10*r+(s-48):s>=65&&s<=90&&(t=26*t+(s-64))}return{c:t-1,r:r-1}}function Yr(n){for(var r=n.c+1,t="";r;r=(r-1)/26|0)t=String.fromCharCode((r-1)%26+65)+t;return t+(n.r+1)}function pg(n){var r=n.indexOf(":");return r==-1?{s:fo(n),e:fo(n)}:{s:fo(n.slice(0,r)),e:fo(n.slice(r+1))}}function Nn(n,r){return typeof r>"u"||typeof r=="number"?Nn(n.s,n.e):(typeof n!="string"&&(n=Yr(n)),typeof r!="string"&&(r=Yr(r)),n==r?n:n+":"+r)}function Js(n){var r={s:{c:0,r:0},e:{c:0,r:0}},t=0,e=0,s=0,i=n.length;for(t=0;e<i&&!((s=n.charCodeAt(e)-64)<1||s>26);++e)t=26*t+s;for(r.s.c=--t,t=0;e<i&&!((s=n.charCodeAt(e)-48)<0||s>9);++e)t=10*t+s;if(r.s.r=--t,e===i||s!=10)return r.e.c=r.s.c,r.e.r=r.s.r,r;for(++e,t=0;e!=i&&!((s=n.charCodeAt(e)-64)<1||s>26);++e)t=26*t+s;for(r.e.c=--t,t=0;e!=i&&!((s=n.charCodeAt(e)-48)<0||s>9);++e)t=10*t+s;return r.e.r=--t,r}function Y3(n,r){var t=n.t=="d"&&r instanceof Date;if(n.z!=null)try{return n.w=Yl(n.z,t?bo(r):r)}catch{}try{return n.w=Yl((n.XF||{}).numFmtId||(t?14:0),t?bo(r):r)}catch{return""+r}}function _h(n,r,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?a0[n.v]||n.v:r==null?Y3(n,n.v):Y3(n,r))}function Yf(n,r){var t=r&&r.sheet?r.sheet:"Sheet1",e={};return e[t]=n,{SheetNames:[t],Sheets:e}}function PT(n,r,t){var e=t||{},s=n?Array.isArray(n):e.dense,i=n||(s?[]:{}),a=0,o=0;if(i&&e.origin!=null){if(typeof e.origin=="number")a=e.origin;else{var c=typeof e.origin=="string"?fo(e.origin):e.origin;a=c.r,o=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var l=Js(i["!ref"]);u.s.c=l.s.c,u.s.r=l.s.r,u.e.c=Math.max(u.e.c,l.e.c),u.e.r=Math.max(u.e.r,l.e.r),a==-1&&(u.e.r=a=l.e.r+1)}for(var d=0;d!=r.length;++d)if(r[d]){if(!Array.isArray(r[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var f=0;f!=r[d].length;++f)if(!(typeof r[d][f]>"u")){var h={v:r[d][f]},p=a+d,g=o+f;if(u.s.r>p&&(u.s.r=p),u.s.c>g&&(u.s.c=g),u.e.r<p&&(u.e.r=p),u.e.c<g&&(u.e.c=g),r[d][f]&&typeof r[d][f]=="object"&&!Array.isArray(r[d][f])&&!(r[d][f]instanceof Date))h=r[d][f];else if(Array.isArray(h.v)&&(h.f=r[d][f][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(e.nullError)h.t="e",h.v=0;else if(e.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=e.dateNF||Zr[14],e.cellDates?(h.t="d",h.w=Yl(h.z,bo(h.v))):(h.t="n",h.v=bo(h.v),h.w=Yl(h.z,h.v))):h.t="s";if(s)i[p]||(i[p]=[]),i[p][g]&&i[p][g].z&&(h.z=i[p][g].z),i[p][g]=h;else{var v=Yr({c:g,r:p});i[v]&&i[v].z&&(h.z=i[v].z),i[v]=h}}}return u.s.c<1e7&&(i["!ref"]=Nn(u)),i}function mg(n,r){return PT(null,n,r)}function BJ(n){return n.read_shift(4,"i")}function Va(n){var r=n.read_shift(4);return r===0?"":n.read_shift(r,"dbcs")}function UJ(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function tS(n,r){var t=n.l,e=n.read_shift(1),s=Va(n),i=[],a={t:s,h:s};if(e&1){for(var o=n.read_shift(4),c=0;c!=o;++c)i.push(UJ(n));a.r=i}else a.r=[{ich:0,ifnt:0}];return n.l=t+r,a}var HJ=tS;function Xl(n){var r=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:r,iStyleRef:t}}function s0(n){var r=n.read_shift(2);return r+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:r}}var qJ=Va;function rS(n){var r=n.read_shift(4);return r===0||r===4294967295?"":n.read_shift(r,"dbcs")}var WJ=Va,X4=rS;function nS(n){var r=n.slice(n.l,n.l+4),t=r[0]&1,e=r[0]&2;n.l+=4;var s=e===0?hw([0,0,0,0,r[0]&252,r[1],r[2],r[3]],0):_p(r,0)>>2;return t?s/100:s}function jT(n){var r={s:{},e:{}};return r.s.r=n.read_shift(4),r.e.r=n.read_shift(4),r.s.c=n.read_shift(4),r.e.c=n.read_shift(4),r}var i0=jT;function qa(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function zJ(n){var r={},t=n.read_shift(1),e=t>>>1,s=n.read_shift(1),i=n.read_shift(2,"i"),a=n.read_shift(1),o=n.read_shift(1),c=n.read_shift(1);switch(n.l++,e){case 0:r.auto=1;break;case 1:r.index=s;var u=Pm[s];u&&(r.rgb=Mb(u));break;case 2:r.rgb=Mb([a,o,c]);break;case 3:r.theme=s;break}return i!=0&&(r.tint=i>0?i/32767:i/32768),r}function VJ(n){var r=n.read_shift(1);n.l++;var t={fBold:r&1,fItalic:r&2,fUnderline:r&4,fStrikeout:r&8,fOutline:r&16,fShadow:r&32,fCondense:r&64,fExtend:r&128};return t}function RT(n,r){var t={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},e=n.read_shift(4);switch(e){case 0:return"";case 4294967295:case 4294967294:return t[n.read_shift(4)]||""}if(e>400)throw new Error("Unsupported Clipboard: "+e.toString(16));return n.l-=4,n.read_shift(0,r==1?"lpstr":"lpwstr")}function $J(n){return RT(n,1)}function GJ(n){return RT(n,2)}var sS=2,Mo=3,$2=11,X3=12,fw=19,G2=64,YJ=65,XJ=71,KJ=4108,JJ=4126,Xi=80,MT=81,ZJ=[Xi,MT],QJ={1:{n:"CodePage",t:sS},2:{n:"Category",t:Xi},3:{n:"PresentationFormat",t:Xi},4:{n:"ByteCount",t:Mo},5:{n:"LineCount",t:Mo},6:{n:"ParagraphCount",t:Mo},7:{n:"SlideCount",t:Mo},8:{n:"NoteCount",t:Mo},9:{n:"HiddenCount",t:Mo},10:{n:"MultimediaClipCount",t:Mo},11:{n:"ScaleCrop",t:$2},12:{n:"HeadingPairs",t:KJ},13:{n:"TitlesOfParts",t:JJ},14:{n:"Manager",t:Xi},15:{n:"Company",t:Xi},16:{n:"LinksUpToDate",t:$2},17:{n:"CharacterCount",t:Mo},19:{n:"SharedDoc",t:$2},22:{n:"HyperlinksChanged",t:$2},23:{n:"AppVersion",t:Mo,p:"version"},24:{n:"DigSig",t:YJ},26:{n:"ContentType",t:Xi},27:{n:"ContentStatus",t:Xi},28:{n:"Language",t:Xi},29:{n:"Version",t:Xi},255:{},2147483648:{n:"Locale",t:fw},2147483651:{n:"Behavior",t:fw},1919054434:{}},eZ={1:{n:"CodePage",t:sS},2:{n:"Title",t:Xi},3:{n:"Subject",t:Xi},4:{n:"Author",t:Xi},5:{n:"Keywords",t:Xi},6:{n:"Comments",t:Xi},7:{n:"Template",t:Xi},8:{n:"LastAuthor",t:Xi},9:{n:"RevNumber",t:Xi},10:{n:"EditTime",t:G2},11:{n:"LastPrinted",t:G2},12:{n:"CreatedDate",t:G2},13:{n:"ModifiedDate",t:G2},14:{n:"PageCount",t:Mo},15:{n:"WordCount",t:Mo},16:{n:"CharCount",t:Mo},17:{n:"Thumbnail",t:XJ},18:{n:"Application",t:Xi},19:{n:"DocSecurity",t:Mo},255:{},2147483648:{n:"Locale",t:fw},2147483651:{n:"Behavior",t:fw},1919054434:{}},K3={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},tZ=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function rZ(n){return n.map(function(r){return[r>>16&255,r>>8&255,r&255]})}var nZ=rZ([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Pm=fa(nZ),a0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},LT={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},J3={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function sZ(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function iZ(n){var r=sZ();if(!n||!n.match)return r;var t={};if((n.match(Ya)||[]).forEach(function(e){var s=Hr(e);switch(s[0].replace(fJ,"<")){case"<?xml":break;case"<Types":r.xmlns=s["xmlns"+(s[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":t[s.Extension]=s.ContentType;break;case"<Override":r[J3[s.ContentType]]!==void 0&&r[J3[s.ContentType]].push(s.PartName);break}}),r.xmlns!==EJ.CT)throw new Error("Unknown Namespace: "+r.xmlns);return r.calcchain=r.calcchains.length>0?r.calcchains[0]:"",r.sst=r.strs.length>0?r.strs[0]:"",r.style=r.styles.length>0?r.styles[0]:"",r.defaults=t,delete r.calcchains,r}var z0={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function K4(n){var r=n.lastIndexOf("/");return n.slice(0,r+1)+"_rels/"+n.slice(r+1)+".rels"}function gb(n,r){var t={"!id":{}};if(!n)return t;r.charAt(0)!=="/"&&(r="/"+r);var e={};return(n.match(Ya)||[]).forEach(function(s){var i=Hr(s);if(i[0]==="<Relationship"){var a={};a.Type=i.Type,a.Target=i.Target,a.Id=i.Id,i.TargetMode&&(a.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:nb(i.Target,r);t[o]=a,e[i.Id]=a}}),t["!id"]=e,t}var aZ="application/vnd.oasis.opendocument.spreadsheet";function oZ(n,r){for(var t=J8(n),e,s;e=jb.exec(t);)switch(e[3]){case"manifest":break;case"file-entry":if(s=Hr(e[0],!1),s.path=="/"&&s.type!==aZ)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(r&&r.WTF)throw e}}var bb=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],lZ=function(){for(var n=new Array(bb.length),r=0;r<bb.length;++r){var t=bb[r],e="(?:"+t[0].slice(0,t[0].indexOf(":"))+":)"+t[0].slice(t[0].indexOf(":")+1);n[r]=new RegExp("<"+e+"[^>]*>([\\s\\S]*?)</"+e+">")}return n}();function OT(n){var r={};n=gs(n);for(var t=0;t<bb.length;++t){var e=bb[t],s=n.match(lZ[t]);s!=null&&s.length>0&&(r[e[1]]=Pn(s[1])),e[2]==="date"&&r[e[1]]&&(r[e[1]]=Ji(r[e[1]]))}return r}var cZ=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function FT(n,r,t,e){var s=[];if(typeof n=="string")s=H3(n,e);else for(var i=0;i<n.length;++i)s=s.concat(n[i].map(function(l){return{v:l}}));var a=typeof r=="string"?H3(r,e).map(function(l){return l.v}):r,o=0,c=0;if(a.length>0)for(var u=0;u!==s.length;u+=2){switch(c=+s[u+1].v,s[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":t.Worksheets=c,t.SheetNames=a.slice(o,o+c);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":t.NamedRanges=c,t.DefinedNames=a.slice(o,o+c);break;case"Charts":case"Diagramme":t.Chartsheets=c,t.ChartNames=a.slice(o,o+c);break}o+=c}}function uZ(n,r,t){var e={};return r||(r={}),n=gs(n),cZ.forEach(function(s){var i=(n.match(Pb(s[0]))||[])[1];switch(s[2]){case"string":i&&(r[s[1]]=Pn(i));break;case"bool":r[s[1]]=i==="true";break;case"raw":var a=n.match(new RegExp("<"+s[0]+"[^>]*>([\\s\\S]*?)</"+s[0]+">"));a&&a.length>0&&(e[s[1]]=a[1]);break}}),e.HeadingPairs&&e.TitlesOfParts&&FT(e.HeadingPairs,e.TitlesOfParts,r,t),r}var dZ=/<[^>]+>[^<]*/g;function hZ(n,r){var t={},e="",s=n.match(dZ);if(s)for(var i=0;i!=s.length;++i){var a=s[i],o=Hr(a);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":e=Pn(o.name);break;case"</property>":e=null;break;default:if(a.indexOf("<vt:")===0){var c=a.split(">"),u=c[0].slice(4),l=c[1];switch(u){case"lpstr":case"bstr":case"lpwstr":t[e]=Pn(l);break;case"bool":t[e]=Ts(l);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":t[e]=parseInt(l,10);break;case"r4":case"r8":case"decimal":t[e]=parseFloat(l);break;case"filetime":case"date":t[e]=Ji(l);break;case"cy":case"error":t[e]=Pn(l);break;default:if(u.slice(-1)=="/")break;r.WTF&&typeof console<"u"&&console.warn("Unexpected",a,u,c)}}else if(a.slice(0,2)!=="</"){if(r.WTF)throw new Error(a)}}}return t}var fZ={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},V6;function pZ(n,r,t){V6||(V6=Y8(fZ)),r=V6[r]||r,n[r]=t}function iS(n){var r=n.read_shift(4),t=n.read_shift(4);return new Date((t/1e7*Math.pow(2,32)+r/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function BT(n,r,t){var e=n.l,s=n.read_shift(0,"lpstr-cp");if(t)for(;n.l-e&3;)++n.l;return s}function UT(n,r,t){var e=n.read_shift(0,"lpwstr");return e}function HT(n,r,t){return r===31?UT(n):BT(n,r,t)}function J4(n,r,t){return HT(n,r,t===!1?0:4)}function mZ(n,r){if(!r)throw new Error("VtUnalignedString must have positive length");return HT(n,r,0)}function gZ(n){for(var r=n.read_shift(4),t=[],e=0;e!=r;++e){var s=n.l;t[e]=n.read_shift(0,"lpwstr").replace(po,""),n.l-s&2&&(n.l+=2)}return t}function bZ(n){for(var r=n.read_shift(4),t=[],e=0;e!=r;++e)t[e]=n.read_shift(0,"lpstr-cp").replace(po,"");return t}function vZ(n){var r=n.l,t=pw(n,MT);n[n.l]==0&&n[n.l+1]==0&&n.l-r&2&&(n.l+=2);var e=pw(n,Mo);return[t,e]}function yZ(n){for(var r=n.read_shift(4),t=[],e=0;e<r/2;++e)t.push(vZ(n));return t}function Z3(n,r){for(var t=n.read_shift(4),e={},s=0;s!=t;++s){var i=n.read_shift(4),a=n.read_shift(4);e[i]=n.read_shift(a,r===1200?"utf16le":"utf8").replace(po,"").replace(rb,"!"),r===1200&&a%2&&(n.l+=2)}return n.l&3&&(n.l=n.l>>3<<2),e}function qT(n){var r=n.read_shift(4),t=n.slice(n.l,n.l+r);return n.l+=r,(r&3)>0&&(n.l+=4-(r&3)&3),t}function xZ(n){var r={};return r.Size=n.read_shift(4),n.l+=r.Size+3-(r.Size-1)%4,r}function pw(n,r,t){var e=n.read_shift(2),s,i=t||{};if(n.l+=2,r!==X3&&e!==r&&ZJ.indexOf(r)===-1&&!((r&65534)==4126&&(e&65534)==4126))throw new Error("Expected type "+r+" saw "+e);switch(r===X3?e:r){case 2:return s=n.read_shift(2,"i"),i.raw||(n.l+=2),s;case 3:return s=n.read_shift(4,"i"),s;case 11:return n.read_shift(4)!==0;case 19:return s=n.read_shift(4),s;case 30:return BT(n,e,4).replace(po,"");case 31:return UT(n);case 64:return iS(n);case 65:return qT(n);case 71:return xZ(n);case 80:return J4(n,e,!i.raw).replace(po,"");case 81:return mZ(n,e).replace(po,"");case 4108:return yZ(n);case 4126:case 4127:return e==4127?gZ(n):bZ(n);default:throw new Error("TypedPropertyValue unrecognized type "+r+" "+e)}}function Q3(n,r){var t=n.l,e=n.read_shift(4),s=n.read_shift(4),i=[],a=0,o=0,c=-1,u={};for(a=0;a!=s;++a){var l=n.read_shift(4),d=n.read_shift(4);i[a]=[l,d+t]}i.sort(function(x,y){return x[1]-y[1]});var f={};for(a=0;a!=s;++a){if(n.l!==i[a][1]){var h=!0;if(a>0&&r)switch(r[i[a-1][0]].t){case 2:n.l+2===i[a][1]&&(n.l+=2,h=!1);break;case 80:n.l<=i[a][1]&&(n.l=i[a][1],h=!1);break;case 4108:n.l<=i[a][1]&&(n.l=i[a][1],h=!1);break}if((!r||a==0)&&n.l<=i[a][1]&&(h=!1,n.l=i[a][1]),h)throw new Error("Read Error: Expected address "+i[a][1]+" at "+n.l+" :"+a)}if(r){var p=r[i[a][0]];if(f[p.n]=pw(n,p.t,{raw:!0}),p.p==="version"&&(f[p.n]=String(f[p.n]>>16)+"."+("0000"+String(f[p.n]&65535)).slice(-4)),p.n=="CodePage")switch(f[p.n]){case 0:f[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Uc(o=f[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+f[p.n])}}else if(i[a][0]===1){if(o=f.CodePage=pw(n,sS),Uc(o),c!==-1){var g=n.l;n.l=i[c][1],u=Z3(n,o),n.l=g}}else if(i[a][0]===0){if(o===0){c=a,n.l=i[a+1][1];continue}u=Z3(n,o)}else{var v=u[i[a][0]],m;switch(n[n.l]){case 65:n.l+=4,m=qT(n);break;case 30:n.l+=4,m=J4(n,n[n.l-4]).replace(/\u0000+$/,"");break;case 31:n.l+=4,m=J4(n,n[n.l-4]).replace(/\u0000+$/,"");break;case 3:n.l+=4,m=n.read_shift(4,"i");break;case 19:n.l+=4,m=n.read_shift(4);break;case 5:n.l+=4,m=n.read_shift(8,"f");break;case 11:n.l+=4,m=si(n,4);break;case 64:n.l+=4,m=Ji(iS(n));break;default:throw new Error("unparsed value: "+n[n.l])}f[v]=m}}return n.l=t+e,f}function eN(n,r,t){var e=n.content;if(!e)return{};ha(e,0);var s,i,a,o,c=0;e.chk("feff","Byte Order: "),e.read_shift(2);var u=e.read_shift(4),l=e.read_shift(16);if(l!==En.utils.consts.HEADER_CLSID&&l!==t)throw new Error("Bad PropertySet CLSID "+l);if(s=e.read_shift(4),s!==1&&s!==2)throw new Error("Unrecognized #Sets: "+s);if(i=e.read_shift(16),o=e.read_shift(4),s===1&&o!==e.l)throw new Error("Length mismatch: "+o+" !== "+e.l);s===2&&(a=e.read_shift(16),c=e.read_shift(4));var d=Q3(e,r),f={SystemIdentifier:u};for(var h in d)f[h]=d[h];if(f.FMTID=i,s===1)return f;if(c-e.l==2&&(e.l+=2),e.l!==c)throw new Error("Length mismatch 2: "+e.l+" !== "+c);var p;try{p=Q3(e,null)}catch{}for(h in p)f[h]=p[h];return f.FMTID=[i,a],f}function $h(n,r){return n.read_shift(r),null}function wZ(n,r,t){for(var e=[],s=n.l+r;n.l<s;)e.push(t(n,s-n.l));if(s!==n.l)throw new Error("Slurp error");return e}function si(n,r){return n.read_shift(r)===1}function Si(n){return n.read_shift(2,"u")}function WT(n,r){return wZ(n,r,Si)}function _Z(n){var r=n.read_shift(1),t=n.read_shift(1);return t===1?r:r===1}function Dy(n,r,t){var e=n.read_shift(t&&t.biff>=12?2:1),s="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var i=n.read_shift(1);i&&(s="dbcs-cont")}else t.biff==12&&(s="wstr");t.biff>=2&&t.biff<=5&&(s="cpstr");var a=e?n.read_shift(e,s):"";return a}function SZ(n){var r=n.read_shift(2),t=n.read_shift(1),e=t&4,s=t&8,i=1+(t&1),a=0,o,c={};s&&(a=n.read_shift(2)),e&&(o=n.read_shift(4));var u=i==2?"dbcs-cont":"sbcs-cont",l=r===0?"":n.read_shift(r,u);return s&&(n.l+=4*a),e&&(n.l+=o),c.t=l,s||(c.raw="<t>"+c.t+"</t>",c.r=c.t),c}function qm(n,r,t){var e;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(r,"cpstr");if(t.biff>=12)return n.read_shift(r,"dbcs-cont")}var s=n.read_shift(1);return s===0?e=n.read_shift(r,"sbcs-cont"):e=n.read_shift(r,"dbcs-cont"),e}function Iy(n,r,t){var e=n.read_shift(t&&t.biff==2?1:2);return e===0?(n.l++,""):qm(n,e,t)}function o0(n,r,t){if(t.biff>5)return Iy(n,r,t);var e=n.read_shift(1);return e===0?(n.l++,""):n.read_shift(e,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function EZ(n){var r=n.read_shift(1);n.l++;var t=n.read_shift(2);return n.l+=2,[r,t]}function NZ(n){var r=n.read_shift(4),t=n.l,e=!1;r>24&&(n.l+=r-24,n.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(e=!0),n.l=t);var s=n.read_shift((e?r-24:r)>>1,"utf16le").replace(po,"");return e&&(n.l+=24),s}function AZ(n){for(var r=n.read_shift(2),t="";r-- >0;)t+="../";var e=n.read_shift(0,"lpstr-ansi");if(n.l+=2,n.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var s=n.read_shift(4);if(s===0)return t+e.replace(/\\/g,"/");var i=n.read_shift(4);if(n.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=n.read_shift(i>>1,"utf16le").replace(po,"");return t+a}function kZ(n,r){var t=n.read_shift(16);switch(t){case"e0c9ea79f9bace118c8200aa004ba90b":return NZ(n);case"0303000000000000c000000000000046":return AZ(n);default:throw new Error("Unsupported Moniker "+t)}}function Y2(n){var r=n.read_shift(4),t=r>0?n.read_shift(r,"utf16le").replace(po,""):"";return t}function CZ(n,r){var t=n.l+r,e=n.read_shift(4);if(e!==2)throw new Error("Unrecognized streamVersion: "+e);var s=n.read_shift(2);n.l+=2;var i,a,o,c,u="",l,d;s&16&&(i=Y2(n,t-n.l)),s&128&&(a=Y2(n,t-n.l)),(s&257)===257&&(o=Y2(n,t-n.l)),(s&257)===1&&(c=kZ(n,t-n.l)),s&8&&(u=Y2(n,t-n.l)),s&32&&(l=n.read_shift(16)),s&64&&(d=iS(n)),n.l=t;var f=a||o||c||"";f&&u&&(f+="#"+u),f||(f="#"+u),s&2&&f.charAt(0)=="/"&&f.charAt(1)!="/"&&(f="file://"+f);var h={Target:f};return l&&(h.guid=l),d&&(h.time=d),i&&(h.Tooltip=i),h}function zT(n){var r=n.read_shift(1),t=n.read_shift(1),e=n.read_shift(1),s=n.read_shift(1);return[r,t,e,s]}function VT(n,r){var t=zT(n);return t[3]=0,t}function Qu(n){var r=n.read_shift(2),t=n.read_shift(2),e=n.read_shift(2);return{r,c:t,ixfe:e}}function TZ(n){var r=n.read_shift(2),t=n.read_shift(2);return n.l+=8,{type:r,flags:t}}function DZ(n,r,t){return r===0?"":o0(n,r,t)}function IZ(n,r,t){var e=t.biff>8?4:2,s=n.read_shift(e),i=n.read_shift(e,"i"),a=n.read_shift(e,"i");return[s,i,a]}function $T(n){var r=n.read_shift(2),t=nS(n);return[r,t]}function PZ(n,r,t){n.l+=4,r-=4;var e=n.l+r,s=Dy(n,r,t),i=n.read_shift(2);if(e-=n.l,i!==e)throw new Error("Malformed AddinUdf: padding = "+e+" != "+i);return n.l+=i,s}function b5(n){var r=n.read_shift(2),t=n.read_shift(2),e=n.read_shift(2),s=n.read_shift(2);return{s:{c:e,r},e:{c:s,r:t}}}function GT(n){var r=n.read_shift(2),t=n.read_shift(2),e=n.read_shift(1),s=n.read_shift(1);return{s:{c:e,r},e:{c:s,r:t}}}var jZ=GT;function YT(n){n.l+=4;var r=n.read_shift(2),t=n.read_shift(2),e=n.read_shift(2);return n.l+=12,[t,r,e]}function RZ(n){var r={};return n.l+=4,n.l+=16,r.fSharedNote=n.read_shift(2),n.l+=4,r}function MZ(n){var r={};return n.l+=4,n.cf=n.read_shift(2),r}function Ra(n){n.l+=2,n.l+=n.read_shift(2)}var LZ={0:Ra,4:Ra,5:Ra,6:Ra,7:MZ,8:Ra,9:Ra,10:Ra,11:Ra,12:Ra,13:RZ,14:Ra,15:Ra,16:Ra,17:Ra,18:Ra,19:Ra,20:Ra,21:YT};function OZ(n,r){for(var t=n.l+r,e=[];n.l<t;){var s=n.read_shift(2);n.l-=2;try{e.push(LZ[s](n,t-n.l))}catch{return n.l=t,e}}return n.l!=t&&(n.l=t),e}function X2(n,r){var t={BIFFVer:0,dt:0};switch(t.BIFFVer=n.read_shift(2),r-=2,r>=2&&(t.dt=n.read_shift(2),n.l-=2),t.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(r>6)throw new Error("Unexpected BIFF Ver "+t.BIFFVer)}return n.read_shift(r),t}function FZ(n,r){return r===0||n.read_shift(2),1200}function BZ(n,r,t){if(t.enc)return n.l+=r,"";var e=n.l,s=o0(n,0,t);return n.read_shift(r+e-n.l),s}function UZ(n,r,t){var e=t&&t.biff==8||r==2?n.read_shift(2):(n.l+=r,0);return{fDialog:e&16,fBelow:e&64,fRight:e&128}}function HZ(n,r,t){var e=n.read_shift(4),s=n.read_shift(1)&3,i=n.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var a=Dy(n,0,t);return a.length===0&&(a="Sheet1"),{pos:e,hs:s,dt:i,name:a}}function qZ(n,r){for(var t=n.l+r,e=n.read_shift(4),s=n.read_shift(4),i=[],a=0;a!=s&&n.l<t;++a)i.push(SZ(n));return i.Count=e,i.Unique=s,i}function WZ(n,r){var t={};return t.dsst=n.read_shift(2),n.l+=r-2,t}function zZ(n){var r={};r.r=n.read_shift(2),r.c=n.read_shift(2),r.cnt=n.read_shift(2)-r.c;var t=n.read_shift(2);n.l+=4;var e=n.read_shift(1);return n.l+=3,e&7&&(r.level=e&7),e&32&&(r.hidden=!0),e&64&&(r.hpt=t/20),r}function VZ(n){var r=TZ(n);if(r.type!=2211)throw new Error("Invalid Future Record "+r.type);var t=n.read_shift(4);return t!==0}function $Z(n){return n.read_shift(2),n.read_shift(4)}function tN(n,r,t){var e=0;t&&t.biff==2||(e=n.read_shift(2));var s=n.read_shift(2);t&&t.biff==2&&(e=1-(s>>15),s&=32767);var i={Unsynced:e&1,DyZero:(e&2)>>1,ExAsc:(e&4)>>2,ExDsc:(e&8)>>3};return[i,s]}function GZ(n){var r=n.read_shift(2),t=n.read_shift(2),e=n.read_shift(2),s=n.read_shift(2),i=n.read_shift(2),a=n.read_shift(2),o=n.read_shift(2),c=n.read_shift(2),u=n.read_shift(2);return{Pos:[r,t],Dim:[e,s],Flags:i,CurTab:a,FirstTab:o,Selected:c,TabRatio:u}}function YZ(n,r,t){if(t&&t.biff>=2&&t.biff<5)return{};var e=n.read_shift(2);return{RTL:e&64}}function XZ(){}function KZ(n,r,t){var e={dyHeight:n.read_shift(2),fl:n.read_shift(2)};switch(t&&t.biff||8){case 2:break;case 3:case 4:n.l+=2;break;default:n.l+=10;break}return e.name=Dy(n,0,t),e}function JZ(n){var r=Qu(n);return r.isst=n.read_shift(4),r}function ZZ(n,r,t){t.biffguess&&t.biff==2&&(t.biff=5);var e=n.l+r,s=Qu(n);t.biff==2&&n.l++;var i=Iy(n,e-n.l,t);return s.val=i,s}function QZ(n,r,t){var e=n.read_shift(2),s=o0(n,0,t);return[e,s]}var eQ=o0;function rN(n,r,t){var e=n.l+r,s=t.biff==8||!t.biff?4:2,i=n.read_shift(s),a=n.read_shift(s),o=n.read_shift(2),c=n.read_shift(2);return n.l=e,{s:{r:i,c:o},e:{r:a,c}}}function tQ(n){var r=n.read_shift(2),t=n.read_shift(2),e=$T(n);return{r,c:t,ixfe:e[0],rknum:e[1]}}function rQ(n,r){for(var t=n.l+r-2,e=n.read_shift(2),s=n.read_shift(2),i=[];n.l<t;)i.push($T(n));if(n.l!==t)throw new Error("MulRK read error");var a=n.read_shift(2);if(i.length!=a-s+1)throw new Error("MulRK length mismatch");return{r:e,c:s,C:a,rkrec:i}}function nQ(n,r){for(var t=n.l+r-2,e=n.read_shift(2),s=n.read_shift(2),i=[];n.l<t;)i.push(n.read_shift(2));if(n.l!==t)throw new Error("MulBlank read error");var a=n.read_shift(2);if(i.length!=a-s+1)throw new Error("MulBlank length mismatch");return{r:e,c:s,C:a,ixfe:i}}function sQ(n,r,t,e){var s={},i=n.read_shift(4),a=n.read_shift(4),o=n.read_shift(4),c=n.read_shift(2);return s.patternType=tZ[o>>26],e.cellStyles&&(s.alc=i&7,s.fWrap=i>>3&1,s.alcV=i>>4&7,s.fJustLast=i>>7&1,s.trot=i>>8&255,s.cIndent=i>>16&15,s.fShrinkToFit=i>>20&1,s.iReadOrder=i>>22&2,s.fAtrNum=i>>26&1,s.fAtrFnt=i>>27&1,s.fAtrAlc=i>>28&1,s.fAtrBdr=i>>29&1,s.fAtrPat=i>>30&1,s.fAtrProt=i>>31&1,s.dgLeft=a&15,s.dgRight=a>>4&15,s.dgTop=a>>8&15,s.dgBottom=a>>12&15,s.icvLeft=a>>16&127,s.icvRight=a>>23&127,s.grbitDiag=a>>30&3,s.icvTop=o&127,s.icvBottom=o>>7&127,s.icvDiag=o>>14&127,s.dgDiag=o>>21&15,s.icvFore=c&127,s.icvBack=c>>7&127,s.fsxButton=c>>14&1),s}function iQ(n,r,t){var e={};return e.ifnt=n.read_shift(2),e.numFmtId=n.read_shift(2),e.flags=n.read_shift(2),e.fStyle=e.flags>>2&1,r-=6,e.data=sQ(n,r,e.fStyle,t),e}function aQ(n){n.l+=4;var r=[n.read_shift(2),n.read_shift(2)];if(r[0]!==0&&r[0]--,r[1]!==0&&r[1]--,r[0]>7||r[1]>7)throw new Error("Bad Gutters: "+r.join("|"));return r}function nN(n,r,t){var e=Qu(n);(t.biff==2||r==9)&&++n.l;var s=_Z(n);return e.val=s,e.t=s===!0||s===!1?"b":"e",e}function oQ(n,r,t){t.biffguess&&t.biff==2&&(t.biff=5);var e=Qu(n),s=qa(n);return e.val=s,e}var sN=DZ;function lQ(n,r,t){var e=n.l+r,s=n.read_shift(2),i=n.read_shift(2);if(t.sbcch=i,i==1025||i==14849)return[i,s];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var a=qm(n,i),o=[];e>n.l;)o.push(Iy(n));return[i,s,a,o]}function iN(n,r,t){var e=n.read_shift(2),s,i={fBuiltIn:e&1,fWantAdvise:e>>>1&1,fWantPict:e>>>2&1,fOle:e>>>3&1,fOleLink:e>>>4&1,cf:e>>>5&1023,fIcon:e>>>15&1};return t.sbcch===14849&&(s=PZ(n,r-2,t)),i.body=s||n.read_shift(r-2),typeof s=="string"&&(i.Name=s),i}var cQ=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function aN(n,r,t){var e=n.l+r,s=n.read_shift(2),i=n.read_shift(1),a=n.read_shift(1),o=n.read_shift(t&&t.biff==2?1:2),c=0;(!t||t.biff>=5)&&(t.biff!=5&&(n.l+=2),c=n.read_shift(2),t.biff==5&&(n.l+=2),n.l+=4);var u=qm(n,a,t);s&32&&(u=cQ[u.charCodeAt(0)]);var l=e-n.l;t&&t.biff==2&&--l;var d=e==n.l||o===0||!(l>0)?[]:zre(n,l,t,o);return{chKey:i,Name:u,itab:c,rgce:d}}function XT(n,r,t){if(t.biff<8)return uQ(n,r,t);for(var e=[],s=n.l+r,i=n.read_shift(t.biff>8?4:2);i--!==0;)e.push(IZ(n,t.biff>8?12:6,t));if(n.l!=s)throw new Error("Bad ExternSheet: "+n.l+" != "+s);return e}function uQ(n,r,t){n[n.l+1]==3&&n[n.l]++;var e=Dy(n,r,t);return e.charCodeAt(0)==3?e.slice(1):e}function dQ(n,r,t){if(t.biff<8){n.l+=r;return}var e=n.read_shift(2),s=n.read_shift(2),i=qm(n,e,t),a=qm(n,s,t);return[i,a]}function hQ(n,r,t){var e=GT(n);n.l++;var s=n.read_shift(1);return r-=8,[Vre(n,r,t),s,e]}function oN(n,r,t){var e=jZ(n);switch(t.biff){case 2:n.l++,r-=7;break;case 3:case 4:n.l+=2,r-=8;break;default:n.l+=6,r-=12}return[e,qre(n,r,t)]}function fQ(n){var r=n.read_shift(4)!==0,t=n.read_shift(4)!==0,e=n.read_shift(4);return[r,t,e]}function pQ(n,r,t){if(!(t.biff<8)){var e=n.read_shift(2),s=n.read_shift(2),i=n.read_shift(2),a=n.read_shift(2),o=o0(n,0,t);return t.biff<8&&n.read_shift(1),[{r:e,c:s},o,a,i]}}function mQ(n,r,t){return pQ(n,r,t)}function gQ(n,r){for(var t=[],e=n.read_shift(2);e--;)t.push(b5(n));return t}function bQ(n,r,t){if(t&&t.biff<8)return yQ(n,r,t);var e=YT(n),s=OZ(n,r-22,e[1]);return{cmo:e,ft:s}}var vQ={8:function(n,r){var t=n.l+r;n.l+=10;var e=n.read_shift(2);n.l+=4,n.l+=2,n.l+=2,n.l+=2,n.l+=4;var s=n.read_shift(1);return n.l+=s,n.l=t,{fmt:e}}};function yQ(n,r,t){n.l+=4;var e=n.read_shift(2),s=n.read_shift(2),i=n.read_shift(2);n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=6,r-=36;var a=[];return a.push((vQ[e]||$a)(n,r,t)),{cmo:[s,e,i],ft:a}}function xQ(n,r,t){var e=n.l,s="";try{n.l+=4;var i=(t.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(i)==-1?n.l+=6:a=EZ(n,6,t);var o=n.read_shift(2);n.read_shift(2),Si(n,2);var c=n.read_shift(2);n.l+=c;for(var u=1;u<n.lens.length-1;++u){if(n.l-e!=n.lens[u])throw new Error("TxO: bad continue record");var l=n[n.l],d=qm(n,n.lens[u+1]-n.lens[u]-1);if(s+=d,s.length>=(l?o:2*o))break}if(s.length!==o&&s.length!==o*2)throw new Error("cchText: "+o+" != "+s.length);return n.l=e+r,{t:s}}catch{return n.l=e+r,{t:s}}}function wQ(n,r){var t=b5(n);n.l+=16;var e=CZ(n,r-24);return[t,e]}function _Q(n,r){n.read_shift(2);var t=b5(n),e=n.read_shift((r-10)/2,"dbcs-cont");return e=e.replace(po,""),[t,e]}function SQ(n){var r=[0,0],t;return t=n.read_shift(2),r[0]=K3[t]||t,t=n.read_shift(2),r[1]=K3[t]||t,r}function EQ(n){for(var r=n.read_shift(2),t=[];r-- >0;)t.push(VT(n));return t}function NQ(n){for(var r=n.read_shift(2),t=[];r-- >0;)t.push(VT(n));return t}function AQ(n){n.l+=2;var r={cxfs:0,crc:0};return r.cxfs=n.read_shift(2),r.crc=n.read_shift(4),r}function KT(n,r,t){if(!t.cellStyles)return $a(n,r);var e=t&&t.biff>=12?4:2,s=n.read_shift(e),i=n.read_shift(e),a=n.read_shift(e),o=n.read_shift(e),c=n.read_shift(2);e==2&&(n.l+=2);var u={s,e:i,w:a,ixfe:o,flags:c};return(t.biff>=5||!t.biff)&&(u.level=c>>8&7),u}function kQ(n,r){var t={};return r<32||(n.l+=16,t.header=qa(n),t.footer=qa(n),n.l+=2),t}function CQ(n,r,t){var e={area:!1};if(t.biff!=5)return n.l+=r,e;var s=n.read_shift(1);return n.l+=3,s&16&&(e.area=!0),e}var TQ=Qu,DQ=WT,IQ=Iy;function PQ(n){var r=n.read_shift(2),t=n.read_shift(2),e=n.read_shift(4),s={fmt:r,env:t,len:e,data:n.slice(n.l,n.l+e)};return n.l+=e,s}function jQ(n,r,t){t.biffguess&&t.biff==5&&(t.biff=2);var e=Qu(n);++n.l;var s=o0(n,r-7,t);return e.t="str",e.val=s,e}function RQ(n){var r=Qu(n);++n.l;var t=qa(n);return r.t="n",r.val=t,r}function MQ(n){var r=Qu(n);++n.l;var t=n.read_shift(2);return r.t="n",r.val=t,r}function LQ(n){var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,"sbcs-cont")}function OQ(n,r){n.l+=6,n.l+=2,n.l+=1,n.l+=3,n.l+=1,n.l+=r-13}function FQ(n,r,t){var e=n.l+r,s=Qu(n),i=n.read_shift(2),a=qm(n,i,t);return n.l=e,s.t="str",s.val=a,s}var BQ=[2,3,48,49,131,139,140,245],lN=function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},r=Y8({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(o,c){var u=[],l=Uf(1);switch(c.type){case"base64":l=Bc(yl(o));break;case"binary":l=Bc(o);break;case"buffer":case"array":l=o;break}ha(l,0);var d=l.read_shift(1),f=!!(d&136),h=!1,p=!1;switch(d){case 2:break;case 3:break;case 48:h=!0,f=!0;break;case 49:h=!0,f=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var g=0,v=521;d==2&&(g=l.read_shift(2)),l.l+=3,d!=2&&(g=l.read_shift(4)),g>1048576&&(g=1e6),d!=2&&(v=l.read_shift(2));var m=l.read_shift(2),x=c.codepage||1252;d!=2&&(l.l+=16,l.read_shift(1),l[l.l]!==0&&(x=n[l[l.l]]),l.l+=1,l.l+=2),p&&(l.l+=36);for(var y=[],w={},E=Math.min(l.length,d==2?521:v-10-(h?264:0)),I=p?32:11;l.l<E&&l[l.l]!=13;)switch(w={},w.name=Zh.utils.decode(x,l.slice(l.l,l.l+I)).replace(/[\u0000\r\n].*$/g,""),l.l+=I,w.type=String.fromCharCode(l.read_shift(1)),d!=2&&!p&&(w.offset=l.read_shift(4)),w.len=l.read_shift(1),d==2&&(w.offset=l.read_shift(2)),w.dec=l.read_shift(1),w.name.length&&y.push(w),d!=2&&(l.l+=p?13:14),w.type){case"B":(!h||w.len!=8)&&c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+w.type)}if(l[l.l]!==13&&(l.l=v-1),l.read_shift(1)!==13)throw new Error("DBF Terminator not found "+l.l+" "+l[l.l]);l.l=v;var T=0,R=0;for(u[0]=[],R=0;R!=y.length;++R)u[0][R]=y[R].name;for(;g-- >0;){if(l[l.l]===42){l.l+=m;continue}for(++l.l,u[++T]=[],R=0,R=0;R!=y.length;++R){var D=l.slice(l.l,l.l+y[R].len);l.l+=y[R].len,ha(D,0);var L=Zh.utils.decode(x,D);switch(y[R].type){case"C":L.trim().length&&(u[T][R]=L.replace(/\s+$/,""));break;case"D":L.length===8?u[T][R]=new Date(+L.slice(0,4),+L.slice(4,6)-1,+L.slice(6,8)):u[T][R]=L;break;case"F":u[T][R]=parseFloat(L.trim());break;case"+":case"I":u[T][R]=p?D.read_shift(-4,"i")^2147483648:D.read_shift(4,"i");break;case"L":switch(L.trim().toUpperCase()){case"Y":case"T":u[T][R]=!0;break;case"N":case"F":u[T][R]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+L+"|")}break;case"M":if(!f)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));u[T][R]="##MEMO##"+(p?parseInt(L.trim(),10):D.read_shift(4));break;case"N":L=L.replace(/\u0000/g,"").trim(),L&&L!="."&&(u[T][R]=+L||0);break;case"@":u[T][R]=new Date(D.read_shift(-8,"f")-621356832e5);break;case"T":u[T][R]=new Date((D.read_shift(4)-2440588)*864e5+D.read_shift(4));break;case"Y":u[T][R]=D.read_shift(4,"i")/1e4+D.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[T][R]=-D.read_shift(-8,"f");break;case"B":if(h&&y[R].len==8){u[T][R]=D.read_shift(8,"f");break}case"G":case"P":D.l+=y[R].len;break;case"0":if(y[R].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[R].type)}}}if(d!=2&&l.l<l.length&&l[l.l++]!=26)throw new Error("DBF EOF Marker missing "+(l.l-1)+" of "+l.length+" "+l[l.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=y,u}function e(o,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var l=mg(t(o,u),u);return l["!cols"]=u.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete u.DBF,l}function s(o,c){try{return Yf(e(o,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,c){var u=c||{};if(+u.codepage>=0&&Uc(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var l=Y4(),d=n8(o,{header:1,raw:!0,cellDates:!0}),f=d[0],h=d.slice(1),p=o["!cols"]||[],g=0,v=0,m=0,x=1;for(g=0;g<f.length;++g){if(((p[g]||{}).DBF||{}).name){f[g]=p[g].DBF.name,++m;continue}if(f[g]!=null){if(++m,typeof f[g]=="number"&&(f[g]=f[g].toString(10)),typeof f[g]!="string")throw new Error("DBF Invalid column name "+f[g]+" |"+typeof f[g]+"|");if(f.indexOf(f[g])!==g){for(v=0;v<1024;++v)if(f.indexOf(f[g]+"_"+v)==-1){f[g]+="_"+v;break}}}}var y=Js(o["!ref"]),w=[],E=[],I=[];for(g=0;g<=y.e.c-y.s.c;++g){var T="",R="",D=0,L=[];for(v=0;v<h.length;++v)h[v][g]!=null&&L.push(h[v][g]);if(L.length==0||f[g]==null){w[g]="?";continue}for(v=0;v<L.length;++v){switch(typeof L[v]){case"number":R="B";break;case"string":R="C";break;case"boolean":R="L";break;case"object":R=L[v]instanceof Date?"D":"C";break;default:R="C"}D=Math.max(D,String(L[v]).length),T=T&&T!=R?"C":R}D>250&&(D=250),R=((p[g]||{}).DBF||{}).type,R=="C"&&p[g].DBF.len>D&&(D=p[g].DBF.len),T=="B"&&R=="N"&&(T="N",I[g]=p[g].DBF.dec,D=p[g].DBF.len),E[g]=T=="C"||R=="N"?D:i[T]||0,x+=E[g],w[g]=T}var M=l.next(32);for(M.write_shift(4,318902576),M.write_shift(4,h.length),M.write_shift(2,296+32*m),M.write_shift(2,x),g=0;g<4;++g)M.write_shift(4,0);for(M.write_shift(4,0|(+r[XC]||3)<<8),g=0,v=0;g<f.length;++g)if(f[g]!=null){var H=l.next(32),V=(f[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);H.write_shift(1,V,"sbcs"),H.write_shift(1,w[g]=="?"?"C":w[g],"sbcs"),H.write_shift(4,v),H.write_shift(1,E[g]||i[w[g]]||0),H.write_shift(1,I[g]||0),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(1,0),H.write_shift(4,0),H.write_shift(4,0),v+=E[g]||i[w[g]]||0}var P=l.next(264);for(P.write_shift(4,13),g=0;g<65;++g)P.write_shift(4,0);for(g=0;g<h.length;++g){var F=l.next(x);for(F.write_shift(1,0),v=0;v<f.length;++v)if(f[v]!=null)switch(w[v]){case"L":F.write_shift(1,h[g][v]==null?63:h[g][v]?84:70);break;case"B":F.write_shift(8,h[g][v]||0,"f");break;case"N":var A="0";for(typeof h[g][v]=="number"&&(A=h[g][v].toFixed(I[v]||0)),m=0;m<E[v]-A.length;++m)F.write_shift(1,32);F.write_shift(1,A,"sbcs");break;case"D":h[g][v]?(F.write_shift(4,("0000"+h[g][v].getFullYear()).slice(-4),"sbcs"),F.write_shift(2,("00"+(h[g][v].getMonth()+1)).slice(-2),"sbcs"),F.write_shift(2,("00"+h[g][v].getDate()).slice(-2),"sbcs")):F.write_shift(8,"00000000","sbcs");break;case"C":var _=String(h[g][v]!=null?h[g][v]:"").slice(0,E[v]);for(F.write_shift(1,_,"sbcs"),m=0;m<E[v]-_.length;++m)F.write_shift(1,32);break}}return l.next(1).write_shift(1,26),l.end()}return{to_workbook:s,to_sheet:e,from_sheet:a}}(),UQ=function(){var n={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},r=new RegExp("\x1BN("+Yu(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(f,h){var p=n[h];return typeof p=="number"?E3(p):p},e=function(f,h,p){var g=h.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return g==59?f:E3(g)};n["|"]=254;function s(f,h){switch(h.type){case"base64":return i(yl(f),h);case"binary":return i(f,h);case"buffer":return i(xn&&Buffer.isBuffer(f)?f.toString("binary"):n0(f),h);case"array":return i(Hm(f),h)}throw new Error("Unrecognized type "+h.type)}function i(f,h){var p=f.split(/[\n\r]+/),g=-1,v=-1,m=0,x=0,y=[],w=[],E=null,I={},T=[],R=[],D=[],L=0,M;for(+h.codepage>=0&&Uc(+h.codepage);m!==p.length;++m){L=0;var H=p[m].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,e).replace(r,t),V=H.replace(/;;/g,"\0").split(";").map(function(X){return X.replace(/\u0000/g,";")}),P=V[0],F;if(H.length>0)switch(P){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":V[1].charAt(0)=="P"&&w.push(H.slice(3).replace(/;;/g,";"));break;case"C":var A=!1,_=!1,S=!1,N=!1,C=-1,W=-1;for(x=1;x<V.length;++x)switch(V[x].charAt(0)){case"A":break;case"X":v=parseInt(V[x].slice(1))-1,_=!0;break;case"Y":for(g=parseInt(V[x].slice(1))-1,_||(v=0),M=y.length;M<=g;++M)y[M]=[];break;case"K":F=V[x].slice(1),F.charAt(0)==='"'?F=F.slice(1,F.length-1):F==="TRUE"?F=!0:F==="FALSE"?F=!1:isNaN(Wc(F))?isNaN(ig(F).getDate())||(F=Ji(F)):(F=Wc(F),E!==null&&fg(E)&&(F=g5(F))),A=!0;break;case"E":N=!0;var j=e1(V[x].slice(1),{r:g,c:v});y[g][v]=[y[g][v],j];break;case"S":S=!0,y[g][v]=[y[g][v],"S5S"];break;case"G":break;case"R":C=parseInt(V[x].slice(1))-1;break;case"C":W=parseInt(V[x].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+H)}if(A&&(y[g][v]&&y[g][v].length==2?y[g][v][0]=F:y[g][v]=F,E=null),S){if(N)throw new Error("SYLK shared formula cannot have own formula");var B=C>-1&&y[C][W];if(!B||!B[1])throw new Error("SYLK shared formula cannot find base");y[g][v][1]=aD(B[1],{r:g-C,c:v-W})}break;case"F":var G=0;for(x=1;x<V.length;++x)switch(V[x].charAt(0)){case"X":v=parseInt(V[x].slice(1))-1,++G;break;case"Y":for(g=parseInt(V[x].slice(1))-1,M=y.length;M<=g;++M)y[M]=[];break;case"M":L=parseInt(V[x].slice(1))/20;break;case"F":break;case"G":break;case"P":E=w[parseInt(V[x].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(D=V[x].slice(1).split(" "),M=parseInt(D[0],10);M<=parseInt(D[1],10);++M)L=parseInt(D[2],10),R[M-1]=L===0?{hidden:!0}:{wch:L},ag(R[M-1]);break;case"C":v=parseInt(V[x].slice(1))-1,R[v]||(R[v]={});break;case"R":g=parseInt(V[x].slice(1))-1,T[g]||(T[g]={}),L>0?(T[g].hpt=L,T[g].hpx=Lb(L)):L===0&&(T[g].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+H)}G<1&&(E=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+H)}}return T.length>0&&(I["!rows"]=T),R.length>0&&(I["!cols"]=R),h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),[y,I]}function a(f,h){var p=s(f,h),g=p[0],v=p[1],m=mg(g,h);return Yu(v).forEach(function(x){m[x]=v[x]}),m}function o(f,h){return Yf(a(f,h),h)}function c(f,h,p,g){var v="C;Y"+(p+1)+";X"+(g+1)+";K";switch(f.t){case"n":v+=f.v||0,f.f&&!f.F&&(v+=";E"+Ate(f.f,{r:p,c:g}));break;case"b":v+=f.v?"TRUE":"FALSE";break;case"e":v+=f.w||f.v;break;case"d":v+='"'+(f.w||f.v)+'"';break;case"s":v+='"'+f.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(f,h){h.forEach(function(p,g){var v="F;W"+(g+1)+" "+(g+1)+" ";p.hidden?v+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=gw(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=bw(p.wpx)),typeof p.wch=="number"&&(v+=Math.round(p.wch))),v.charAt(v.length-1)!=" "&&f.push(v)})}function l(f,h){h.forEach(function(p,g){var v="F;";p.hidden?v+="M0;":p.hpt?v+="M"+20*p.hpt+";":p.hpx&&(v+="M"+20*nD(p.hpx)+";"),v.length>2&&f.push(v+"R"+(g+1))})}function d(f,h){var p=["ID;PWXL;N;E"],g=[],v=Js(f["!ref"]),m,x=Array.isArray(f),y=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),f["!cols"]&&u(p,f["!cols"]),f["!rows"]&&l(p,f["!rows"]),p.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var w=v.s.r;w<=v.e.r;++w)for(var E=v.s.c;E<=v.e.c;++E){var I=Yr({r:w,c:E});m=x?(f[w]||[])[E]:f[I],!(!m||m.v==null&&(!m.f||m.F))&&g.push(c(m,f,w,E))}return p.join(y)+y+g.join(y)+y+"E"+y}return{to_workbook:o,to_sheet:a,from_sheet:d}}(),HQ=function(){function n(i,a){switch(a.type){case"base64":return r(yl(i),a);case"binary":return r(i,a);case"buffer":return r(xn&&Buffer.isBuffer(i)?i.toString("binary"):n0(i),a);case"array":return r(Hm(i),a)}throw new Error("Unrecognized type "+a.type)}function r(i,a){for(var o=i.split(`
`),c=-1,u=-1,l=0,d=[];l!==o.length;++l){if(o[l].trim()==="BOT"){d[++c]=[],u=0;continue}if(!(c<0)){var f=o[l].trim().split(","),h=f[0],p=f[1];++l;for(var g=o[l]||"";(g.match(/["]/g)||[]).length&1&&l<o.length-1;)g+=`
`+o[++l];switch(g=g.trim(),+h){case-1:if(g==="BOT"){d[++c]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?d[c][u]=!0:g==="FALSE"?d[c][u]=!1:isNaN(Wc(p))?isNaN(ig(p).getDate())?d[c][u]=p:d[c][u]=Ji(p):d[c][u]=Wc(p),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),d[c][u++]=g!==""?g:null;break}if(g==="EOD")break}}return a&&a.sheetRows&&(d=d.slice(0,a.sheetRows)),d}function t(i,a){return mg(n(i,a),a)}function e(i,a){return Yf(t(i,a),a)}var s=function(){var i=function(c,u,l,d,f){c.push(u),c.push(l+","+d),c.push('"'+f.replace(/"/g,'""')+'"')},a=function(c,u,l,d){c.push(u+","+l),c.push(u==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(c){var u=[],l=Js(c["!ref"]),d,f=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,l.e.r-l.s.r+1,""),i(u,"TUPLES",0,l.e.c-l.s.c+1,""),i(u,"DATA",0,0,"");for(var h=l.s.r;h<=l.e.r;++h){a(u,-1,0,"BOT");for(var p=l.s.c;p<=l.e.c;++p){var g=Yr({r:h,c:p});if(d=f?(c[h]||[])[p]:c[g],!d){a(u,1,0,"");continue}switch(d.t){case"n":var v=d.w;!v&&d.v!=null&&(v=d.v),v==null?d.f&&!d.F?a(u,1,0,"="+d.f):a(u,1,0,""):a(u,0,v,"V");break;case"b":a(u,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":a(u,1,0,isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=Yl(d.z||Zr[14],bo(Ji(d.v)))),a(u,0,d.w,"V");break;default:a(u,1,0,"")}}}a(u,-1,0,"EOD");var m=`\r
`,x=u.join(m);return x}}();return{to_workbook:e,to_sheet:t,from_sheet:s}}(),qQ=function(){function n(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function r(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(d,f){for(var h=d.split(`
`),p=-1,g=-1,v=0,m=[];v!==h.length;++v){var x=h[v].trim().split(":");if(x[0]==="cell"){var y=fo(x[1]);if(m.length<=y.r)for(p=m.length;p<=y.r;++p)m[p]||(m[p]=[]);switch(p=y.r,g=y.c,x[2]){case"t":m[p][g]=n(x[3]);break;case"v":m[p][g]=+x[3];break;case"vtf":var w=x[x.length-1];case"vtc":switch(x[3]){case"nl":m[p][g]=!!+x[4];break;default:m[p][g]=+x[4];break}x[2]=="vtf"&&(m[p][g]=[m[p][g],w])}}}return f&&f.sheetRows&&(m=m.slice(0,f.sheetRows)),m}function e(d,f){return mg(t(d,f),f)}function s(d,f){return Yf(e(d,f),f)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(d){if(!d||!d["!ref"])return"";for(var f=[],h=[],p,g="",v=pg(d["!ref"]),m=Array.isArray(d),x=v.s.r;x<=v.e.r;++x)for(var y=v.s.c;y<=v.e.c;++y)if(g=Yr({r:x,c:y}),p=m?(d[x]||[])[y]:d[g],!(!p||p.v==null||p.t==="z")){switch(h=["cell",g,"t"],p.t){case"s":case"str":h.push(r(p.v));break;case"n":p.f?(h[2]="vtf",h[3]="n",h[4]=p.v,h[5]=r(p.f)):(h[2]="v",h[3]=p.v);break;case"b":h[2]="vt"+(p.f?"f":"c"),h[3]="nl",h[4]=p.v?"1":"0",h[5]=r(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var w=bo(Ji(p.v));h[2]="vtc",h[3]="nd",h[4]=""+w,h[5]=p.w||Yl(p.z||Zr[14],w);break;case"e":continue}f.push(h.join(":"))}return f.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),f.push("valueformat:1:text-wiki"),f.join(`
`)}function l(d){return[i,a,o,a,u(d),c].join(`
`)}return{to_workbook:s,to_sheet:e,from_sheet:l}}(),Rb=function(){function n(l,d,f,h,p){p.raw?d[f][h]=l:l===""||(l==="TRUE"?d[f][h]=!0:l==="FALSE"?d[f][h]=!1:isNaN(Wc(l))?isNaN(ig(l).getDate())?d[f][h]=l:d[f][h]=Ji(l):d[f][h]=Wc(l))}function r(l,d){var f=d||{},h=[];if(!l||l.length===0)return h;for(var p=l.split(/[\r\n]/),g=p.length-1;g>=0&&p[g].length===0;)--g;for(var v=10,m=0,x=0;x<=g;++x)m=p[x].indexOf(" "),m==-1?m=p[x].length:m++,v=Math.max(v,m);for(x=0;x<=g;++x){h[x]=[];var y=0;for(n(p[x].slice(0,v).trim(),h,x,y,f),y=1;y<=(p[x].length-v)/10+1;++y)n(p[x].slice(v+(y-1)*10,v+y*10).trim(),h,x,y,f)}return f.sheetRows&&(h=h.slice(0,f.sheetRows)),h}var t={44:",",9:"	",59:";",124:"|"},e={44:3,9:2,59:1,124:0};function s(l){for(var d={},f=!1,h=0,p=0;h<l.length;++h)(p=l.charCodeAt(h))==34?f=!f:!f&&p in t&&(d[p]=(d[p]||0)+1);p=[];for(h in d)Object.prototype.hasOwnProperty.call(d,h)&&p.push([d[h],h]);if(!p.length){d=e;for(h in d)Object.prototype.hasOwnProperty.call(d,h)&&p.push([d[h],h])}return p.sort(function(g,v){return g[0]-v[0]||e[g[1]]-e[v[1]]}),t[p.pop()[1]]||44}function i(l,d){var f=d||{},h="",p=f.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};l.slice(0,4)=="sep="?l.charCodeAt(5)==13&&l.charCodeAt(6)==10?(h=l.charAt(4),l=l.slice(7)):l.charCodeAt(5)==13||l.charCodeAt(5)==10?(h=l.charAt(4),l=l.slice(6)):h=s(l.slice(0,1024)):f&&f.FS?h=f.FS:h=s(l.slice(0,1024));var v=0,m=0,x=0,y=0,w=0,E=h.charCodeAt(0),I=!1,T=0,R=l.charCodeAt(0);l=l.replace(/\r\n/mg,`
`);var D=f.dateNF!=null?QK(f.dateNF):null;function L(){var M=l.slice(y,w),H={};if(M.charAt(0)=='"'&&M.charAt(M.length-1)=='"'&&(M=M.slice(1,-1).replace(/""/g,'"')),M.length===0)H.t="z";else if(f.raw)H.t="s",H.v=M;else if(M.trim().length===0)H.t="s",H.v=M;else if(M.charCodeAt(0)==61)M.charCodeAt(1)==34&&M.charCodeAt(M.length-1)==34?(H.t="s",H.v=M.slice(2,-1).replace(/""/g,'"')):Cte(M)?(H.t="n",H.f=M.slice(1)):(H.t="s",H.v=M);else if(M=="TRUE")H.t="b",H.v=!0;else if(M=="FALSE")H.t="b",H.v=!1;else if(!isNaN(x=Wc(M)))H.t="n",f.cellText!==!1&&(H.w=M),H.v=x;else if(!isNaN(ig(M).getDate())||D&&M.match(D)){H.z=f.dateNF||Zr[14];var V=0;D&&M.match(D)&&(M=eJ(M,f.dateNF,M.match(D)||[]),V=1),f.cellDates?(H.t="d",H.v=Ji(M,V)):(H.t="n",H.v=bo(Ji(M,V))),f.cellText!==!1&&(H.w=Yl(H.z,H.v instanceof Date?bo(H.v):H.v)),f.cellNF||delete H.z}else H.t="s",H.v=M;if(H.t=="z"||(f.dense?(p[v]||(p[v]=[]),p[v][m]=H):p[Yr({c:m,r:v})]=H),y=w+1,R=l.charCodeAt(y),g.e.c<m&&(g.e.c=m),g.e.r<v&&(g.e.r=v),T==E)++m;else if(m=0,++v,f.sheetRows&&f.sheetRows<=v)return!0}e:for(;w<l.length;++w)switch(T=l.charCodeAt(w)){case 34:R===34&&(I=!I);break;case E:case 10:case 13:if(!I&&L())break e;break}return w-y>0&&L(),p["!ref"]=Nn(g),p}function a(l,d){return!(d&&d.PRN)||d.FS||l.slice(0,4)=="sep="||l.indexOf("	")>=0||l.indexOf(",")>=0||l.indexOf(";")>=0?i(l,d):mg(r(l,d),d)}function o(l,d){var f="",h=d.type=="string"?[0,0,0,0]:fS(l,d);switch(d.type){case"base64":f=yl(l);break;case"binary":f=l;break;case"buffer":d.codepage==65001?f=l.toString("utf8"):d.codepage&&typeof Zh<"u"?f=Zh.utils.decode(d.codepage,l):f=xn&&Buffer.isBuffer(l)?l.toString("binary"):n0(l);break;case"array":f=Hm(l);break;case"string":f=l;break;default:throw new Error("Unrecognized type "+d.type)}return h[0]==239&&h[1]==187&&h[2]==191?f=gs(f.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?f=gs(f):d.type=="binary"&&typeof Zh<"u"&&d.codepage&&(f=Zh.utils.decode(d.codepage,Zh.utils.encode(28591,f))),f.slice(0,19)=="socialcalc:version:"?qQ.to_sheet(d.type=="string"?f:gs(f),d):a(f,d)}function c(l,d){return Yf(o(l,d),d)}function u(l){for(var d=[],f=Js(l["!ref"]),h,p=Array.isArray(l),g=f.s.r;g<=f.e.r;++g){for(var v=[],m=f.s.c;m<=f.e.c;++m){var x=Yr({r:g,c:m});if(h=p?(l[g]||[])[m]:l[x],!h||h.v==null){v.push("          ");continue}for(var y=(h.w||(_h(h),h.w)||"").slice(0,10);y.length<10;)y+=" ";v.push(y+(m===0?" ":""))}d.push(v.join(""))}return d.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:u}}();function WQ(n,r){var t=r||{},e=!!t.WTF;t.WTF=!0;try{var s=UQ.to_workbook(n,t);return t.WTF=e,s}catch(i){if(t.WTF=e,!i.message.match(/SYLK bad record ID/)&&e)throw i;return Rb.to_workbook(n,r)}}var vb=function(){function n(j,B,G){if(j){ha(j,j.l||0);for(var X=G.Enum||C;j.l<j.length;){var J=j.read_shift(2),O=X[J]||X[65535],ee=j.read_shift(2),U=j.l+ee,z=O.f&&O.f(j,ee,G);if(j.l=U,B(z,O,J))return}}}function r(j,B){switch(B.type){case"base64":return t(Bc(yl(j)),B);case"binary":return t(Bc(j),B);case"buffer":case"array":return t(j,B)}throw"Unsupported type "+B.type}function t(j,B){if(!j)return j;var G=B||{},X=G.dense?[]:{},J="Sheet1",O="",ee=0,U={},z=[],Z=[],te={s:{r:0,c:0},e:{r:0,c:0}},oe=G.sheetRows||0;if(j[2]==0&&(j[3]==8||j[3]==9)&&j.length>=16&&j[14]==5&&j[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(j[2]==2)G.Enum=C,n(j,function(_e,fe,ge){switch(ge){case 0:G.vers=_e,_e>=4096&&(G.qpro=!0);break;case 6:te=_e;break;case 204:_e&&(O=_e);break;case 222:O=_e;break;case 15:case 51:G.qpro||(_e[1].v=_e[1].v.slice(1));case 13:case 14:case 16:ge==14&&(_e[2]&112)==112&&(_e[2]&15)>1&&(_e[2]&15)<15&&(_e[1].z=G.dateNF||Zr[14],G.cellDates&&(_e[1].t="d",_e[1].v=g5(_e[1].v))),G.qpro&&_e[3]>ee&&(X["!ref"]=Nn(te),U[J]=X,z.push(J),X=G.dense?[]:{},te={s:{r:0,c:0},e:{r:0,c:0}},ee=_e[3],J=O||"Sheet"+(ee+1),O="");var xe=G.dense?(X[_e[0].r]||[])[_e[0].c]:X[Yr(_e[0])];if(xe){xe.t=_e[1].t,xe.v=_e[1].v,_e[1].z!=null&&(xe.z=_e[1].z),_e[1].f!=null&&(xe.f=_e[1].f);break}G.dense?(X[_e[0].r]||(X[_e[0].r]=[]),X[_e[0].r][_e[0].c]=_e[1]):X[Yr(_e[0])]=_e[1];break}},G);else if(j[2]==26||j[2]==14)G.Enum=W,j[2]==14&&(G.qpro=!0,j.l=0),n(j,function(_e,fe,ge){switch(ge){case 204:J=_e;break;case 22:_e[1].v=_e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(_e[3]>ee&&(X["!ref"]=Nn(te),U[J]=X,z.push(J),X=G.dense?[]:{},te={s:{r:0,c:0},e:{r:0,c:0}},ee=_e[3],J="Sheet"+(ee+1)),oe>0&&_e[0].r>=oe)break;G.dense?(X[_e[0].r]||(X[_e[0].r]=[]),X[_e[0].r][_e[0].c]=_e[1]):X[Yr(_e[0])]=_e[1],te.e.c<_e[0].c&&(te.e.c=_e[0].c),te.e.r<_e[0].r&&(te.e.r=_e[0].r);break;case 27:_e[14e3]&&(Z[_e[14e3][0]]=_e[14e3][1]);break;case 1537:Z[_e[0]]=_e[1],_e[0]==ee&&(J=_e[1]);break}},G);else throw new Error("Unrecognized LOTUS BOF "+j[2]);if(X["!ref"]=Nn(te),U[O||J]=X,z.push(O||J),!Z.length)return{SheetNames:z,Sheets:U};for(var ue={},le=[],ce=0;ce<Z.length;++ce)U[z[ce]]?(le.push(Z[ce]||z[ce]),ue[Z[ce]]=U[Z[ce]]||U[z[ce]]):(le.push(Z[ce]),ue[Z[ce]]={"!ref":"A1"});return{SheetNames:le,Sheets:ue}}function e(j,B){var G=B||{};if(+G.codepage>=0&&Uc(+G.codepage),G.type=="string")throw new Error("Cannot write WK1 to JS string");var X=Y4(),J=Js(j["!ref"]),O=Array.isArray(j),ee=[];_c(X,0,i(1030)),_c(X,6,c(J));for(var U=Math.min(J.e.r,8191),z=J.s.r;z<=U;++z)for(var Z=pa(z),te=J.s.c;te<=J.e.c;++te){z===J.s.r&&(ee[te]=Fi(te));var oe=ee[te]+Z,ue=O?(j[z]||[])[te]:j[oe];if(!(!ue||ue.t=="z"))if(ue.t=="n")(ue.v|0)==ue.v&&ue.v>=-32768&&ue.v<=32767?_c(X,13,h(z,te,ue.v)):_c(X,14,g(z,te,ue.v));else{var le=_h(ue);_c(X,15,d(z,te,le.slice(0,239)))}}return _c(X,1),X.end()}function s(j,B){var G=B||{};if(+G.codepage>=0&&Uc(+G.codepage),G.type=="string")throw new Error("Cannot write WK3 to JS string");var X=Y4();_c(X,0,a(j));for(var J=0,O=0;J<j.SheetNames.length;++J)(j.Sheets[j.SheetNames[J]]||{})["!ref"]&&_c(X,27,N(j.SheetNames[J],O++));var ee=0;for(J=0;J<j.SheetNames.length;++J){var U=j.Sheets[j.SheetNames[J]];if(!(!U||!U["!ref"])){for(var z=Js(U["!ref"]),Z=Array.isArray(U),te=[],oe=Math.min(z.e.r,8191),ue=z.s.r;ue<=oe;++ue)for(var le=pa(ue),ce=z.s.c;ce<=z.e.c;++ce){ue===z.s.r&&(te[ce]=Fi(ce));var _e=te[ce]+le,fe=Z?(U[ue]||[])[ce]:U[_e];if(!(!fe||fe.t=="z"))if(fe.t=="n")_c(X,23,L(ue,ce,ee,fe.v));else{var ge=_h(fe);_c(X,22,T(ue,ce,ee,ge.slice(0,239)))}}++ee}}return _c(X,1),X.end()}function i(j){var B=ji(2);return B.write_shift(2,j),B}function a(j){var B=ji(26);B.write_shift(2,4096),B.write_shift(2,4),B.write_shift(4,0);for(var G=0,X=0,J=0,O=0;O<j.SheetNames.length;++O){var ee=j.SheetNames[O],U=j.Sheets[ee];if(!(!U||!U["!ref"])){++J;var z=pg(U["!ref"]);G<z.e.r&&(G=z.e.r),X<z.e.c&&(X=z.e.c)}}return G>8191&&(G=8191),B.write_shift(2,G),B.write_shift(1,J),B.write_shift(1,X),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(1,1),B.write_shift(1,2),B.write_shift(4,0),B.write_shift(4,0),B}function o(j,B,G){var X={s:{c:0,r:0},e:{c:0,r:0}};return B==8&&G.qpro?(X.s.c=j.read_shift(1),j.l++,X.s.r=j.read_shift(2),X.e.c=j.read_shift(1),j.l++,X.e.r=j.read_shift(2),X):(X.s.c=j.read_shift(2),X.s.r=j.read_shift(2),B==12&&G.qpro&&(j.l+=2),X.e.c=j.read_shift(2),X.e.r=j.read_shift(2),B==12&&G.qpro&&(j.l+=2),X.s.c==65535&&(X.s.c=X.e.c=X.s.r=X.e.r=0),X)}function c(j){var B=ji(8);return B.write_shift(2,j.s.c),B.write_shift(2,j.s.r),B.write_shift(2,j.e.c),B.write_shift(2,j.e.r),B}function u(j,B,G){var X=[{c:0,r:0},{t:"n",v:0},0,0];return G.qpro&&G.vers!=20768?(X[0].c=j.read_shift(1),X[3]=j.read_shift(1),X[0].r=j.read_shift(2),j.l+=2):(X[2]=j.read_shift(1),X[0].c=j.read_shift(2),X[0].r=j.read_shift(2)),X}function l(j,B,G){var X=j.l+B,J=u(j,B,G);if(J[1].t="s",G.vers==20768){j.l++;var O=j.read_shift(1);return J[1].v=j.read_shift(O,"utf8"),J}return G.qpro&&j.l++,J[1].v=j.read_shift(X-j.l,"cstr"),J}function d(j,B,G){var X=ji(7+G.length);X.write_shift(1,255),X.write_shift(2,B),X.write_shift(2,j),X.write_shift(1,39);for(var J=0;J<X.length;++J){var O=G.charCodeAt(J);X.write_shift(1,O>=128?95:O)}return X.write_shift(1,0),X}function f(j,B,G){var X=u(j,B,G);return X[1].v=j.read_shift(2,"i"),X}function h(j,B,G){var X=ji(7);return X.write_shift(1,255),X.write_shift(2,B),X.write_shift(2,j),X.write_shift(2,G,"i"),X}function p(j,B,G){var X=u(j,B,G);return X[1].v=j.read_shift(8,"f"),X}function g(j,B,G){var X=ji(13);return X.write_shift(1,255),X.write_shift(2,B),X.write_shift(2,j),X.write_shift(8,G,"f"),X}function v(j,B,G){var X=j.l+B,J=u(j,B,G);if(J[1].v=j.read_shift(8,"f"),G.qpro)j.l=X;else{var O=j.read_shift(2);w(j.slice(j.l,j.l+O),J),j.l+=O}return J}function m(j,B,G){var X=B&32768;return B&=-32769,B=(X?j:0)+(B>=8192?B-16384:B),(X?"":"$")+(G?Fi(B):pa(B))}var x={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function w(j,B){ha(j,0);for(var G=[],X=0,J="",O="",ee="",U="";j.l<j.length;){var z=j[j.l++];switch(z){case 0:G.push(j.read_shift(8,"f"));break;case 1:O=m(B[0].c,j.read_shift(2),!0),J=m(B[0].r,j.read_shift(2),!1),G.push(O+J);break;case 2:{var Z=m(B[0].c,j.read_shift(2),!0),te=m(B[0].r,j.read_shift(2),!1);O=m(B[0].c,j.read_shift(2),!0),J=m(B[0].r,j.read_shift(2),!1),G.push(Z+te+":"+O+J)}break;case 3:if(j.l<j.length){console.error("WK1 premature formula end");return}break;case 4:G.push("("+G.pop()+")");break;case 5:G.push(j.read_shift(2));break;case 6:{for(var oe="";z=j[j.l++];)oe+=String.fromCharCode(z);G.push('"'+oe.replace(/"/g,'""')+'"')}break;case 8:G.push("-"+G.pop());break;case 23:G.push("+"+G.pop());break;case 22:G.push("NOT("+G.pop()+")");break;case 20:case 21:U=G.pop(),ee=G.pop(),G.push(["AND","OR"][z-20]+"("+ee+","+U+")");break;default:if(z<32&&y[z])U=G.pop(),ee=G.pop(),G.push(ee+y[z]+U);else if(x[z]){if(X=x[z][1],X==69&&(X=j[j.l++]),X>G.length){console.error("WK1 bad formula parse 0x"+z.toString(16)+":|"+G.join("|")+"|");return}var ue=G.slice(-X);G.length-=X,G.push(x[z][0]+"("+ue.join(",")+")")}else return z<=7?console.error("WK1 invalid opcode "+z.toString(16)):z<=24?console.error("WK1 unsupported op "+z.toString(16)):z<=30?console.error("WK1 invalid opcode "+z.toString(16)):z<=115?console.error("WK1 unsupported function opcode "+z.toString(16)):console.error("WK1 unrecognized opcode "+z.toString(16))}}G.length==1?B[1].f=""+G[0]:console.error("WK1 bad formula parse |"+G.join("|")+"|")}function E(j){var B=[{c:0,r:0},{t:"n",v:0},0];return B[0].r=j.read_shift(2),B[3]=j[j.l++],B[0].c=j[j.l++],B}function I(j,B){var G=E(j);return G[1].t="s",G[1].v=j.read_shift(B-4,"cstr"),G}function T(j,B,G,X){var J=ji(6+X.length);J.write_shift(2,j),J.write_shift(1,G),J.write_shift(1,B),J.write_shift(1,39);for(var O=0;O<X.length;++O){var ee=X.charCodeAt(O);J.write_shift(1,ee>=128?95:ee)}return J.write_shift(1,0),J}function R(j,B){var G=E(j);G[1].v=j.read_shift(2);var X=G[1].v>>1;if(G[1].v&1)switch(X&7){case 0:X=(X>>3)*5e3;break;case 1:X=(X>>3)*500;break;case 2:X=(X>>3)/20;break;case 3:X=(X>>3)/200;break;case 4:X=(X>>3)/2e3;break;case 5:X=(X>>3)/2e4;break;case 6:X=(X>>3)/16;break;case 7:X=(X>>3)/64;break}return G[1].v=X,G}function D(j,B){var G=E(j),X=j.read_shift(4),J=j.read_shift(4),O=j.read_shift(2);if(O==65535)return X===0&&J===3221225472?(G[1].t="e",G[1].v=15):X===0&&J===3489660928?(G[1].t="e",G[1].v=42):G[1].v=0,G;var ee=O&32768;return O=(O&32767)-16446,G[1].v=(1-ee*2)*(J*Math.pow(2,O+32)+X*Math.pow(2,O)),G}function L(j,B,G,X){var J=ji(14);if(J.write_shift(2,j),J.write_shift(1,G),J.write_shift(1,B),X==0)return J.write_shift(4,0),J.write_shift(4,0),J.write_shift(2,65535),J;var O=0,ee=0,U=0,z=0;return X<0&&(O=1,X=-X),ee=Math.log2(X)|0,X/=Math.pow(2,ee-31),z=X>>>0,z&2147483648||(X/=2,++ee,z=X>>>0),X-=z,z|=2147483648,z>>>=0,X*=Math.pow(2,32),U=X>>>0,J.write_shift(4,U),J.write_shift(4,z),ee+=16383+(O?32768:0),J.write_shift(2,ee),J}function M(j,B){var G=D(j);return j.l+=B-14,G}function H(j,B){var G=E(j),X=j.read_shift(4);return G[1].v=X>>6,G}function V(j,B){var G=E(j),X=j.read_shift(8,"f");return G[1].v=X,G}function P(j,B){var G=V(j);return j.l+=B-10,G}function F(j,B){return j[j.l+B-1]==0?j.read_shift(B,"cstr"):""}function A(j,B){var G=j[j.l++];G>B-1&&(G=B-1);for(var X="";X.length<G;)X+=String.fromCharCode(j[j.l++]);return X}function _(j,B,G){if(!(!G.qpro||B<21)){var X=j.read_shift(1);j.l+=17,j.l+=1,j.l+=2;var J=j.read_shift(B-21,"cstr");return[X,J]}}function S(j,B){for(var G={},X=j.l+B;j.l<X;){var J=j.read_shift(2);if(J==14e3){for(G[J]=[0,""],G[J][0]=j.read_shift(2);j[j.l];)G[J][1]+=String.fromCharCode(j[j.l]),j.l++;j.l++}}return G}function N(j,B){var G=ji(5+j.length);G.write_shift(2,14e3),G.write_shift(2,B);for(var X=0;X<j.length;++X){var J=j.charCodeAt(X);G[G.l++]=J>127?95:J}return G[G.l++]=0,G}var C={0:{n:"BOF",f:Si},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:l},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:l},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:F},222:{n:"SHEETNAMELP",f:A},65535:{n:""}},W={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:I},23:{n:"NUMBER17",f:D},24:{n:"NUMBER18",f:R},25:{n:"FORMULA19",f:M},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:S},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:H},38:{n:"??"},39:{n:"NUMBER27",f:V},40:{n:"FORMULA28",f:P},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:F},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:_},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:e,book_to_wk3:s,to_workbook:r}}();function zQ(n){var r={},t=n.match(Ya),e=0,s=!1;if(t)for(;e!=t.length;++e){var i=Hr(t[e]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":r.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;r.cp=W8[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":r.outline=1;break;case"</outline>":break;case"<rFont":r.name=i.val;break;case"<sz":r.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":r.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":r.uval="double";break;case"singleAccounting":r.uval="single-accounting";break;case"doubleAccounting":r.uval="double-accounting";break}case"<u>":case"<u/>":r.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":r.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":r.i=1;break;case"</i>":break;case"<color":i.rgb&&(r.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":r.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":r.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(i[0].charCodeAt(1)!==47&&!s)throw new Error("Unrecognized rich format "+i[0])}}return r}var VQ=function(){var n=Pb("t"),r=Pb("rPr");function t(i){var a=i.match(n);if(!a)return{t:"s",v:""};var o={t:"s",v:Pn(a[1])},c=i.match(r);return c&&(o.s=zQ(c[1])),o}var e=/<(?:\w+:)?r>/g,s=/<\/(?:\w+:)?r>/;return function(a){return a.replace(e,"").split(s).map(t).filter(function(o){return o.v})}}(),$Q=function(){var r=/(\r\n|\n)/g;function t(s,i,a){var o=[];s.u&&o.push("text-decoration: underline;"),s.uval&&o.push("text-underline-style:"+s.uval+";"),s.sz&&o.push("font-size:"+s.sz+"pt;"),s.outline&&o.push("text-effect: outline;"),s.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),s.b&&(i.push("<b>"),a.push("</b>")),s.i&&(i.push("<i>"),a.push("</i>")),s.strike&&(i.push("<s>"),a.push("</s>"));var c=s.valign||"";return c=="superscript"||c=="super"?c="sup":c=="subscript"&&(c="sub"),c!=""&&(i.push("<"+c+">"),a.push("</"+c+">")),a.push("</span>"),s}function e(s){var i=[[],s.v,[]];return s.v?(s.s&&t(s.s,i[0],i[2]),i[0].join("")+i[1].replace(r,"<br/>")+i[2].join("")):""}return function(i){return i.map(e).join("")}}(),GQ=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,YQ=/<(?:\w+:)?r>/,XQ=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function aS(n,r){var t=r?r.cellHTML:!0,e={};return n?(n.match(/^\s*<(?:\w+:)?t[^>]*>/)?(e.t=Pn(gs(n.slice(n.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),e.r=gs(n),t&&(e.h=K8(e.t))):n.match(YQ)&&(e.r=gs(n),e.t=Pn(gs((n.replace(XQ,"").match(GQ)||[]).join("").replace(Ya,""))),t&&(e.h=$Q(VQ(e.r)))),e):{t:""}}var KQ=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,JQ=/<(?:\w+:)?(?:si|sstItem)>/g,ZQ=/<\/(?:\w+:)?(?:si|sstItem)>/;function QQ(n,r){var t=[],e="";if(!n)return t;var s=n.match(KQ);if(s){e=s[2].replace(JQ,"").split(ZQ);for(var i=0;i!=e.length;++i){var a=aS(e[i].trim(),r);a!=null&&(t[t.length]=a)}s=Hr(s[1]),t.Count=s.count,t.Unique=s.uniqueCount}return t}function eee(n){return[n.read_shift(4),n.read_shift(4)]}function tee(n,r){var t=[],e=!1;return Ah(n,function(i,a,o){switch(o){case 159:t.Count=i[0],t.Unique=i[1];break;case 19:t.push(i);break;case 160:return!0;case 35:e=!0;break;case 36:e=!1;break;default:if(a.T,!e||r.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),t}function JT(n){for(var r=[],t=n.split(""),e=0;e<t.length;++e)r[e]=t[e].charCodeAt(0);return r}function bh(n,r){var t={};return t.Major=n.read_shift(2),t.Minor=n.read_shift(2),r>=4&&(n.l+=r-4),t}function ree(n){var r={};return r.id=n.read_shift(0,"lpp4"),r.R=bh(n,4),r.U=bh(n,4),r.W=bh(n,4),r}function nee(n){for(var r=n.read_shift(4),t=n.l+r-4,e={},s=n.read_shift(4),i=[];s-- >0;)i.push({t:n.read_shift(4),v:n.read_shift(0,"lpp4")});if(e.name=n.read_shift(0,"lpp4"),e.comps=i,n.l!=t)throw new Error("Bad DataSpaceMapEntry: "+n.l+" != "+t);return e}function see(n){var r=[];n.l+=4;for(var t=n.read_shift(4);t-- >0;)r.push(nee(n));return r}function iee(n){var r=[];n.l+=4;for(var t=n.read_shift(4);t-- >0;)r.push(n.read_shift(0,"lpp4"));return r}function aee(n){var r={};return n.read_shift(4),n.l+=4,r.id=n.read_shift(0,"lpp4"),r.name=n.read_shift(0,"lpp4"),r.R=bh(n,4),r.U=bh(n,4),r.W=bh(n,4),r}function oee(n){var r=aee(n);if(r.ename=n.read_shift(0,"8lpp4"),r.blksz=n.read_shift(4),r.cmode=n.read_shift(4),n.read_shift(4)!=4)throw new Error("Bad !Primary record");return r}function ZT(n,r){var t=n.l+r,e={};e.Flags=n.read_shift(4)&63,n.l+=4,e.AlgID=n.read_shift(4);var s=!1;switch(e.AlgID){case 26126:case 26127:case 26128:s=e.Flags==36;break;case 26625:s=e.Flags==4;break;case 0:s=e.Flags==16||e.Flags==4||e.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+e.AlgID}if(!s)throw new Error("Encryption Flags/AlgID mismatch");return e.AlgIDHash=n.read_shift(4),e.KeySize=n.read_shift(4),e.ProviderType=n.read_shift(4),n.l+=8,e.CSPName=n.read_shift(t-n.l>>1,"utf16le"),n.l=t,e}function QT(n,r){var t={},e=n.l+r;return n.l+=4,t.Salt=n.slice(n.l,n.l+16),n.l+=16,t.Verifier=n.slice(n.l,n.l+16),n.l+=16,n.read_shift(4),t.VerifierHash=n.slice(n.l,e),n.l=e,t}function lee(n){var r=bh(n);switch(r.Minor){case 2:return[r.Minor,cee(n)];case 3:return[r.Minor,uee()];case 4:return[r.Minor,dee(n)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+r.Minor)}function cee(n){var r=n.read_shift(4);if((r&63)!=36)throw new Error("EncryptionInfo mismatch");var t=n.read_shift(4),e=ZT(n,t),s=QT(n,n.length-n.l);return{t:"Std",h:e,v:s}}function uee(){throw new Error("File is password-protected: ECMA-376 Extensible")}function dee(n){var r=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];n.l+=4;var t=n.read_shift(n.length-n.l,"utf8"),e={};return t.replace(Ya,function(i){var a=Hr(i);switch(Zu(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":r.forEach(function(o){e[o]=a[o]});break;case"<dataIntegrity":e.encryptedHmacKey=a.encryptedHmacKey,e.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":e.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":e.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":e.encs.push(a);break;default:throw a[0]}}),e}function hee(n,r){var t={},e=t.EncryptionVersionInfo=bh(n,4);if(r-=4,e.Minor!=2)throw new Error("unrecognized minor version code: "+e.Minor);if(e.Major>4||e.Major<2)throw new Error("unrecognized major version code: "+e.Major);t.Flags=n.read_shift(4),r-=4;var s=n.read_shift(4);return r-=4,t.EncryptionHeader=ZT(n,s),r-=s,t.EncryptionVerifier=QT(n,r),t}function fee(n){var r={},t=r.EncryptionVersionInfo=bh(n,4);if(t.Major!=1||t.Minor!=1)throw"unrecognized version code "+t.Major+" : "+t.Minor;return r.Salt=n.read_shift(16),r.EncryptedVerifier=n.read_shift(16),r.EncryptedVerifierHash=n.read_shift(16),r}function pee(n){var r=0,t,e=JT(n),s=e.length+1,i,a,o,c,u;for(t=Uf(s),t[0]=e.length,i=1;i!=s;++i)t[i]=e[i-1];for(i=s-1;i>=0;--i)a=t[i],o=r&16384?1:0,c=r<<1&32767,u=o|c,r=u^a;return r^52811}var eD=function(){var n=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],r=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],t=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],e=function(a){return(a/2|a*128)&255},s=function(a,o){return e(a^o)},i=function(a){for(var o=r[a.length-1],c=104,u=a.length-1;u>=0;--u)for(var l=a[u],d=0;d!=7;++d)l&64&&(o^=t[c]),l*=2,--c;return o};return function(a){for(var o=JT(a),c=i(o),u=o.length,l=Uf(16),d=0;d!=16;++d)l[d]=0;var f,h,p;for((u&1)===1&&(f=c>>8,l[u]=s(n[0],f),--u,f=c&255,h=o[o.length-1],l[u]=s(h,f));u>0;)--u,f=c>>8,l[u]=s(o[u],f),--u,f=c&255,l[u]=s(o[u],f);for(u=15,p=15-o.length;p>0;)f=c>>8,l[u]=s(n[p],f),--u,--p,f=c&255,l[u]=s(o[u],f),--u,--p;return l}}(),mee=function(n,r,t,e,s){s||(s=r),e||(e=eD(n));var i,a;for(i=0;i!=r.length;++i)a=r[i],a^=e[t],a=(a>>5|a<<3)&255,s[i]=a,++t;return[s,t,e]},gee=function(n){var r=0,t=eD(n);return function(e){var s=mee("",e,r,t);return r=s[1],s[0]}};function bee(n,r,t,e){var s={key:Si(n),verificationBytes:Si(n)};return t.password&&(s.verifier=pee(t.password)),e.valid=s.verificationBytes===s.verifier,e.valid&&(e.insitu=gee(t.password)),s}function vee(n,r,t){var e=t||{};return e.Info=n.read_shift(2),n.l-=2,e.Info===1?e.Data=fee(n):e.Data=hee(n,r),e}function yee(n,r,t){var e={Type:t.biff>=8?n.read_shift(2):0};return e.Type?vee(n,r-2,e):bee(n,t.biff>=8?r:r-2,t,e),e}var xee=function(){function n(s,i){switch(i.type){case"base64":return r(yl(s),i);case"binary":return r(s,i);case"buffer":return r(xn&&Buffer.isBuffer(s)?s.toString("binary"):n0(s),i);case"array":return r(Hm(s),i)}throw new Error("Unrecognized type "+i.type)}function r(s,i){var a=i||{},o=a.dense?[]:{},c=s.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(l,d){Array.isArray(o)&&(o[d]=[]);for(var f=/\\\w+\b/g,h=0,p,g=-1;p=f.exec(l);){switch(p[0]){case"\\cell":var v=l.slice(h,f.lastIndex-p[0].length);if(v[0]==" "&&(v=v.slice(1)),++g,v.length){var m={v,t:"s"};Array.isArray(o)?o[d][g]=m:o[Yr({r:d,c:g})]=m}break}h=f.lastIndex}g>u.e.c&&(u.e.c=g)}),o["!ref"]=Nn(u),o}function t(s,i){return Yf(n(s,i),i)}function e(s){for(var i=["{\\rtf1\\ansi"],a=Js(s["!ref"]),o,c=Array.isArray(s),u=a.s.r;u<=a.e.r;++u){i.push("\\trowd\\trautofit1");for(var l=a.s.c;l<=a.e.c;++l)i.push("\\cellx"+(l+1));for(i.push("\\pard\\intbl"),l=a.s.c;l<=a.e.c;++l){var d=Yr({r:u,c:l});o=c?(s[u]||[])[l]:s[d],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(_h(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:e}}();function wee(n){var r=n.slice(n[0]==="#"?1:0).slice(0,6);return[parseInt(r.slice(0,2),16),parseInt(r.slice(2,4),16),parseInt(r.slice(4,6),16)]}function Mb(n){for(var r=0,t=1;r!=3;++r)t=t*256+(n[r]>255?255:n[r]<0?0:n[r]);return t.toString(16).toUpperCase().slice(1)}function _ee(n){var r=n[0]/255,t=n[1]/255,e=n[2]/255,s=Math.max(r,t,e),i=Math.min(r,t,e),a=s-i;if(a===0)return[0,0,r];var o=0,c=0,u=s+i;switch(c=a/(u>1?2-u:u),s){case r:o=((t-e)/a+6)%6;break;case t:o=(e-r)/a+2;break;case e:o=(r-t)/a+4;break}return[o/6,c,u/2]}function See(n){var r=n[0],t=n[1],e=n[2],s=t*2*(e<.5?e:1-e),i=e-s/2,a=[i,i,i],o=6*r,c;if(t!==0)switch(o|0){case 0:case 6:c=s*o,a[0]+=s,a[1]+=c;break;case 1:c=s*(2-o),a[0]+=c,a[1]+=s;break;case 2:c=s*(o-2),a[1]+=s,a[2]+=c;break;case 3:c=s*(4-o),a[1]+=c,a[2]+=s;break;case 4:c=s*(o-4),a[2]+=s,a[0]+=c;break;case 5:c=s*(6-o),a[2]+=c,a[0]+=s;break}for(var u=0;u!=3;++u)a[u]=Math.round(a[u]*255);return a}function mw(n,r){if(r===0)return n;var t=_ee(wee(n));return r<0?t[2]=t[2]*(1+r):t[2]=1-(1-t[2])*(1-r),Mb(See(t))}var tD=6,Eee=15,Nee=1,co=tD;function gw(n){return Math.floor((n+Math.round(128/co)/256)*co)}function bw(n){return Math.floor((n-5)/co*100+.5)/100}function Z4(n){return Math.round((n*co+5)/co*256)/256}function $6(n){return Z4(bw(gw(n)))}function oS(n){var r=Math.abs(n-$6(n)),t=co;if(r>.005)for(co=Nee;co<Eee;++co)Math.abs(n-$6(n))<=r&&(r=Math.abs(n-$6(n)),t=co);co=t}function ag(n){n.width?(n.wpx=gw(n.width),n.wch=bw(n.wpx),n.MDW=co):n.wpx?(n.wch=bw(n.wpx),n.width=Z4(n.wch),n.MDW=co):typeof n.wch=="number"&&(n.width=Z4(n.wch),n.wpx=gw(n.width),n.MDW=co),n.customWidth&&delete n.customWidth}var Aee=96,rD=Aee;function nD(n){return n*96/rD}function Lb(n){return n*rD/96}var kee={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Cee(n,r,t,e){r.Borders=[];var s={},i=!1;(n[0].match(Ya)||[]).forEach(function(a){var o=Hr(a);switch(Zu(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":s={},o.diagonalUp&&(s.diagonalUp=Ts(o.diagonalUp)),o.diagonalDown&&(s.diagonalDown=Ts(o.diagonalDown)),r.Borders.push(s);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(e&&e.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function Tee(n,r,t,e){r.Fills=[];var s={},i=!1;(n[0].match(Ya)||[]).forEach(function(a){var o=Hr(a);switch(Zu(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":s={},r.Fills.push(s);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":r.Fills.push(s),s={};break;case"<patternFill":case"<patternFill>":o.patternType&&(s.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":s.bgColor||(s.bgColor={}),o.indexed&&(s.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(s.bgColor.theme=parseInt(o.theme,10)),o.tint&&(s.bgColor.tint=parseFloat(o.tint)),o.rgb&&(s.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":s.fgColor||(s.fgColor={}),o.theme&&(s.fgColor.theme=parseInt(o.theme,10)),o.tint&&(s.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(s.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(e&&e.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function Dee(n,r,t,e){r.Fonts=[];var s={},i=!1;(n[0].match(Ya)||[]).forEach(function(a){var o=Hr(a);switch(Zu(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":r.Fonts.push(s),s={};break;case"<name":o.val&&(s.name=gs(o.val));break;case"<name/>":case"</name>":break;case"<b":s.bold=o.val?Ts(o.val):1;break;case"<b/>":s.bold=1;break;case"<i":s.italic=o.val?Ts(o.val):1;break;case"<i/>":s.italic=1;break;case"<u":switch(o.val){case"none":s.underline=0;break;case"single":s.underline=1;break;case"double":s.underline=2;break;case"singleAccounting":s.underline=33;break;case"doubleAccounting":s.underline=34;break}break;case"<u/>":s.underline=1;break;case"<strike":s.strike=o.val?Ts(o.val):1;break;case"<strike/>":s.strike=1;break;case"<outline":s.outline=o.val?Ts(o.val):1;break;case"<outline/>":s.outline=1;break;case"<shadow":s.shadow=o.val?Ts(o.val):1;break;case"<shadow/>":s.shadow=1;break;case"<condense":s.condense=o.val?Ts(o.val):1;break;case"<condense/>":s.condense=1;break;case"<extend":s.extend=o.val?Ts(o.val):1;break;case"<extend/>":s.extend=1;break;case"<sz":o.val&&(s.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(s.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(s.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(s.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=W8[parseInt(o.val,10)];break;case"<color":if(s.color||(s.color={}),o.auto&&(s.color.auto=Ts(o.auto)),o.rgb)s.color.rgb=o.rgb.slice(-6);else if(o.indexed){s.color.index=parseInt(o.indexed,10);var c=Pm[s.color.index];s.color.index==81&&(c=Pm[1]),c||(c=Pm[1]),s.color.rgb=c[0].toString(16)+c[1].toString(16)+c[2].toString(16)}else o.theme&&(s.color.theme=parseInt(o.theme,10),o.tint&&(s.color.tint=parseFloat(o.tint)),o.theme&&t.themeElements&&t.themeElements.clrScheme&&(s.color.rgb=mw(t.themeElements.clrScheme[s.color.theme].rgb,s.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(e&&e.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function Iee(n,r,t){r.NumberFmt=[];for(var e=Yu(Zr),s=0;s<e.length;++s)r.NumberFmt[e[s]]=Zr[e[s]];var i=n[0].match(Ya);if(i)for(s=0;s<i.length;++s){var a=Hr(i[s]);switch(Zu(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Pn(gs(a.formatCode)),c=parseInt(a.numFmtId,10);if(r.NumberFmt[c]=o,c>0){if(c>392){for(c=392;c>60&&r.NumberFmt[c]!=null;--c);r.NumberFmt[c]=o}Im(o,c)}}break;case"</numFmt>":break;default:if(t.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}var K2=["numFmtId","fillId","fontId","borderId","xfId"],J2=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Pee(n,r,t){r.CellXf=[];var e,s=!1;(n[0].match(Ya)||[]).forEach(function(i){var a=Hr(i),o=0;switch(Zu(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(e=a,delete e[0],o=0;o<K2.length;++o)e[K2[o]]&&(e[K2[o]]=parseInt(e[K2[o]],10));for(o=0;o<J2.length;++o)e[J2[o]]&&(e[J2[o]]=Ts(e[J2[o]]));if(r.NumberFmt&&e.numFmtId>392){for(o=392;o>60;--o)if(r.NumberFmt[e.numFmtId]==r.NumberFmt[o]){e.numFmtId=o;break}}r.CellXf.push(e);break;case"</xf>":break;case"<alignment":case"<alignment/>":var c={};a.vertical&&(c.vertical=a.vertical),a.horizontal&&(c.horizontal=a.horizontal),a.textRotation!=null&&(c.textRotation=a.textRotation),a.indent&&(c.indent=a.indent),a.wrapText&&(c.wrapText=Ts(a.wrapText)),e.alignment=c;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(t&&t.WTF&&!s)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}var jee=function(){var r=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,e=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,s=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,c,u){var l={};if(!o)return l;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var d;return(d=o.match(r))&&Iee(d,l,u),(d=o.match(s))&&Dee(d,l,c,u),(d=o.match(e))&&Tee(d,l,c,u),(d=o.match(i))&&Cee(d,l,c,u),(d=o.match(t))&&Pee(d,l,u),l}}();function Ree(n,r){var t=n.read_shift(2),e=Va(n);return[t,e]}function Mee(n,r,t){var e={};e.sz=n.read_shift(2)/20;var s=VJ(n);s.fItalic&&(e.italic=1),s.fCondense&&(e.condense=1),s.fExtend&&(e.extend=1),s.fShadow&&(e.shadow=1),s.fOutline&&(e.outline=1),s.fStrikeout&&(e.strike=1);var i=n.read_shift(2);switch(i===700&&(e.bold=1),n.read_shift(2)){case 1:e.vertAlign="superscript";break;case 2:e.vertAlign="subscript";break}var a=n.read_shift(1);a!=0&&(e.underline=a);var o=n.read_shift(1);o>0&&(e.family=o);var c=n.read_shift(1);switch(c>0&&(e.charset=c),n.l++,e.color=zJ(n),n.read_shift(1)){case 1:e.scheme="major";break;case 2:e.scheme="minor";break}return e.name=Va(n),e}var Lee=$a;function Oee(n,r){var t=n.l+r,e=n.read_shift(2),s=n.read_shift(2);return n.l=t,{ixfe:e,numFmtId:s}}var Fee=$a;function Bee(n,r,t){var e={};e.NumberFmt=[];for(var s in Zr)e.NumberFmt[s]=Zr[s];e.CellXf=[],e.Fonts=[];var i=[],a=!1;return Ah(n,function(c,u,l){switch(l){case 44:e.NumberFmt[c[0]]=c[1],Im(c[1],c[0]);break;case 43:e.Fonts.push(c),c.color.theme!=null&&r&&r.themeElements&&r.themeElements.clrScheme&&(c.color.rgb=mw(r.themeElements.clrScheme[c.color.theme].rgb,c.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&e.CellXf.push(c);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:i.push(l),a=!0;break;case 38:i.pop(),a=!1;break;default:if(u.T>0)i.push(l);else if(u.T<0)i.pop();else if(!a||t.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+l.toString(16))}}),e}var Uee=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Hee(n,r,t){r.themeElements.clrScheme=[];var e={};(n[0].match(Ya)||[]).forEach(function(s){var i=Hr(s);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":e.rgb=i.val;break;case"<a:sysClr":e.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(r.themeElements.clrScheme[Uee.indexOf(i[0])]=e,e={}):e.name=i[0].slice(3,i[0].length-1);break;default:if(t&&t.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function qee(){}function Wee(){}var zee=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Vee=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,$ee=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Gee(n,r,t){r.themeElements={};var e;[["clrScheme",zee,Hee],["fontScheme",Vee,qee],["fmtScheme",$ee,Wee]].forEach(function(s){if(!(e=n.match(s[1])))throw new Error(s[0]+" not found in themeElements");s[2](e,r,t)})}var Yee=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function sD(n,r){(!n||n.length===0)&&(n=Xee());var t,e={};if(!(t=n.match(Yee)))throw new Error("themeElements not found in theme");return Gee(t[0],e,r),e.raw=n,e}function Xee(n,r){var t=[mT];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function Kee(n,r,t){var e=n.l+r,s=n.read_shift(4);if(s!==124226){if(!t.cellStyles){n.l=e;return}var i=n.slice(n.l);n.l=e;var a;try{a=pT(i,{type:"array"})}catch{return}var o=gl(a,"theme/theme/theme1.xml",!0);if(o)return sD(o,t)}}function Jee(n){return n.read_shift(4)}function Zee(n){var r={};switch(r.xclrType=n.read_shift(2),r.nTintShade=n.read_shift(2),r.xclrType){case 0:n.l+=4;break;case 1:r.xclrValue=Qee(n,4);break;case 2:r.xclrValue=zT(n);break;case 3:r.xclrValue=Jee(n);break;case 4:n.l+=4;break}return n.l+=8,r}function Qee(n,r){return $a(n,r)}function ete(n,r){return $a(n,r)}function tte(n){var r=n.read_shift(2),t=n.read_shift(2)-4,e=[r];switch(r){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:e[1]=Zee(n);break;case 6:e[1]=ete(n,t);break;case 14:case 15:e[1]=n.read_shift(t===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+r+" "+t)}return e}function rte(n,r){var t=n.l+r;n.l+=2;var e=n.read_shift(2);n.l+=2;for(var s=n.read_shift(2),i=[];s-- >0;)i.push(tte(n,t-n.l));return{ixfe:e,ext:i}}function nte(n,r){r.forEach(function(t){switch(t[0]){}})}function ste(n,r){return{flags:n.read_shift(4),version:n.read_shift(4),name:Va(n)}}function ite(n){for(var r=[],t=n.read_shift(4);t-- >0;)r.push([n.read_shift(4),n.read_shift(4)]);return r}function ate(n){return n.l+=4,n.read_shift(4)!=0}function ote(n,r,t){var e={Types:[],Cell:[],Value:[]},s=t||{},i=[],a=!1,o=2;return Ah(n,function(c,u,l){switch(l){case 335:e.Types.push({name:c.name});break;case 51:c.forEach(function(d){o==1?e.Cell.push({type:e.Types[d[0]-1].name,index:d[1]}):o==0&&e.Value.push({type:e.Types[d[0]-1].name,index:d[1]})});break;case 337:o=c?1:0;break;case 338:o=2;break;case 35:i.push(l),a=!0;break;case 36:i.pop(),a=!1;break;default:if(!u.T){if(!a||s.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+l.toString(16))}}}),e}function lte(n,r,t){var e={Types:[],Cell:[],Value:[]};if(!n)return e;var s=!1,i=2,a;return n.replace(Ya,function(o){var c=Hr(o);switch(Zu(c[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":e.Types.push({name:c.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<e.Types.length;++u)e.Types[u].name==c.name&&(a=e.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?e.Cell.push({type:e.Types[c.t-1].name,index:+c.v}):i==0&&e.Value.push({type:e.Types[c.t-1].name,index:+c.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+c.i);break;default:if(!s&&t.WTF)throw new Error("unrecognized "+c[0]+" in metadata")}return o}),e}function cte(n){var r=[];if(!n)return r;var t=1;return(n.match(Ya)||[]).forEach(function(e){var s=Hr(e);switch(s[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete s[0],s.i?t=s.i:s.i=t,r.push(s);break}}),r}function ute(n){var r={};r.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),r.r=Yr(t);var e=n.read_shift(1);return e&2&&(r.l="1"),e&8&&(r.a="1"),r}function dte(n,r,t){var e=[];return Ah(n,function(i,a,o){switch(o){case 63:e.push(i);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),e}function hte(n,r,t,e){if(!n)return n;var s=e||{},i=!1;Ah(n,function(o,c,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!c.T){if(!i||s.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},s)}function fte(n,r){if(!n)return"??";var t=(n.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return r["!id"][t].Target}function cN(n,r,t,e){var s=Array.isArray(n),i;r.forEach(function(a){var o=fo(a.ref);if(s?(n[o.r]||(n[o.r]=[]),i=n[o.r][o.c]):i=n[a.ref],!i){i={t:"z"},s?n[o.r][o.c]=i:n[a.ref]=i;var c=Js(n["!ref"]||"BDWGO1000001:A1");c.s.r>o.r&&(c.s.r=o.r),c.e.r<o.r&&(c.e.r=o.r),c.s.c>o.c&&(c.s.c=o.c),c.e.c<o.c&&(c.e.c=o.c);var u=Nn(c);u!==n["!ref"]&&(n["!ref"]=u)}i.c||(i.c=[]);var l={a:a.author,t:a.t,r:a.r,T:t};a.h&&(l.h=a.h);for(var d=i.c.length-1;d>=0;--d){if(!t&&i.c[d].T)return;t&&!i.c[d].T&&i.c.splice(d,1)}if(t&&e){for(d=0;d<e.length;++d)if(l.a==e[d].id){l.a=e[d].name||l.a;break}}i.c.push(l)})}function pte(n,r){if(n.match(/<(?:\w+:)?comments *\/>/))return[];var t=[],e=[],s=n.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);s&&s[1]&&s[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&t.push(o[1])}});var i=n.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^>]*>/);if(o){var c=Hr(o[0]),u={author:c.authorId&&t[c.authorId]||"sheetjsghost",ref:c.ref,guid:c.guid},l=fo(c.ref);if(!(r.sheetRows&&r.sheetRows<=l.r)){var d=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),f=!!d&&!!d[1]&&aS(d[1])||{r:"",t:"",h:""};u.r=f.r,f.r=="<t></t>"&&(f.t=f.h=""),u.t=(f.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),r.cellHTML&&(u.h=f.h),e.push(u)}}}}),e}function mte(n,r){var t=[],e=!1,s={},i=0;return n.replace(Ya,function(o,c){var u=Hr(o);switch(Zu(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":s={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":s.t!=null&&t.push(s);break;case"<text>":case"<text":i=c+o.length;break;case"</text>":s.t=n.slice(i,c).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":e=!0;break;case"</mentions>":e=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":e=!0;break;case"</ext>":e=!1;break;default:if(!e&&r.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),t}function gte(n,r){var t=[],e=!1;return n.replace(Ya,function(i){var a=Hr(i);switch(Zu(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":t.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":e=!0;break;case"</ext>":e=!1;break;default:if(!e&&r.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return i}),t}function bte(n){var r={};r.iauthor=n.read_shift(4);var t=i0(n);return r.rfx=t.s,r.ref=Yr(t.s),n.l+=16,r}var vte=Va;function yte(n,r){var t=[],e=[],s={},i=!1;return Ah(n,function(o,c,u){switch(u){case 632:e.push(o);break;case 635:s=o;break;case 637:s.t=o.t,s.h=o.h,s.r=o.r;break;case 636:if(s.author=e[s.iauthor],delete s.iauthor,r.sheetRows&&s.rfx&&r.sheetRows<=s.rfx.r)break;s.t||(s.t=""),delete s.rfx,t.push(s);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!c.T){if(!i||r.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),t}var xte="application/vnd.ms-office.vbaProject";function wte(n){var r=En.utils.cfb_new({root:"R"});return n.FullPaths.forEach(function(t,e){if(!(t.slice(-1)==="/"||!t.match(/_VBA_PROJECT_CUR/))){var s=t.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");En.utils.cfb_add(r,s,n.FileIndex[e].content)}}),En.write(r)}function _te(){return{"!type":"dialog"}}function Ste(){return{"!type":"dialog"}}function Ete(){return{"!type":"macro"}}function Nte(){return{"!type":"macro"}}var e1=function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,r={r:0,c:0};function t(e,s,i,a){var o=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,l=a.length>0?parseInt(a,10)|0:0;return o?l+=r.c:--l,c?u+=r.r:--u,s+(o?"":"$")+Fi(l)+(c?"":"$")+pa(u)}return function(s,i){return r=i,s.replace(n,t)}}(),iD=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Ate=function(){return function(r,t){return r.replace(iD,function(e,s,i,a,o,c){var u=eS(a)-(i?0:t.c),l=Q8(c)-(o?0:t.r),d=l==0?"":o?l+1:"["+l+"]",f=u==0?"":i?u+1:"["+u+"]";return s+"R"+d+"C"+f})}}();function aD(n,r){return n.replace(iD,function(t,e,s,i,a,o){return e+(s=="$"?s+i:Fi(eS(i)+r.c))+(a=="$"?a+o:pa(Q8(o)+r.r))})}function kte(n,r,t){var e=pg(r),s=e.s,i=fo(t),a={r:i.r-s.r,c:i.c-s.c};return aD(n,a)}function Cte(n){return n.length!=1}function uN(n){return n.replace(/_xlfn\./g,"")}function wi(n){n.l+=1}function Hf(n,r){var t=n.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function oD(n,r,t){var e=2;if(t){if(t.biff>=2&&t.biff<=5)return lD(n);t.biff==12&&(e=4)}var s=n.read_shift(e),i=n.read_shift(e),a=Hf(n),o=Hf(n);return{s:{r:s,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function lD(n){var r=Hf(n),t=Hf(n),e=n.read_shift(1),s=n.read_shift(1);return{s:{r:r[0],c:e,cRel:r[1],rRel:r[2]},e:{r:t[0],c:s,cRel:t[1],rRel:t[2]}}}function Tte(n,r,t){if(t.biff<8)return lD(n);var e=n.read_shift(t.biff==12?4:2),s=n.read_shift(t.biff==12?4:2),i=Hf(n),a=Hf(n);return{s:{r:e,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function cD(n,r,t){if(t&&t.biff>=2&&t.biff<=5)return Dte(n);var e=n.read_shift(t&&t.biff==12?4:2),s=Hf(n);return{r:e,c:s[0],cRel:s[1],rRel:s[2]}}function Dte(n){var r=Hf(n),t=n.read_shift(1);return{r:r[0],c:t,cRel:r[1],rRel:r[2]}}function Ite(n){var r=n.read_shift(2),t=n.read_shift(2);return{r,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function Pte(n,r,t){var e=t&&t.biff?t.biff:8;if(e>=2&&e<=5)return jte(n);var s=n.read_shift(e>=12?4:2),i=n.read_shift(2),a=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;s>524287;)s-=1048576;if(a==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:a,rRel:o}}function jte(n){var r=n.read_shift(2),t=n.read_shift(1),e=(r&32768)>>15,s=(r&16384)>>14;return r&=16383,e==1&&r>=8192&&(r=r-16384),s==1&&t>=128&&(t=t-256),{r,c:t,cRel:s,rRel:e}}function Rte(n,r,t){var e=(n[n.l++]&96)>>5,s=oD(n,t.biff>=2&&t.biff<=5?6:8,t);return[e,s]}function Mte(n,r,t){var e=(n[n.l++]&96)>>5,s=n.read_shift(2,"i"),i=8;if(t)switch(t.biff){case 5:n.l+=12,i=6;break;case 12:i=12;break}var a=oD(n,i,t);return[e,s,a]}function Lte(n,r,t){var e=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[e]}function Ote(n,r,t){var e=(n[n.l++]&96)>>5,s=n.read_shift(2),i=8;if(t)switch(t.biff){case 5:n.l+=12,i=6;break;case 12:i=12;break}return n.l+=i,[e,s]}function Fte(n,r,t){var e=(n[n.l++]&96)>>5,s=Tte(n,r-1,t);return[e,s]}function Bte(n,r,t){var e=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[e]}function dN(n){var r=n[n.l+1]&1,t=1;return n.l+=4,[r,t]}function Ute(n,r,t){n.l+=2;for(var e=n.read_shift(t&&t.biff==2?1:2),s=[],i=0;i<=e;++i)s.push(n.read_shift(t&&t.biff==2?1:2));return s}function Hte(n,r,t){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(t&&t.biff==2?1:2)]}function qte(n,r,t){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(t&&t.biff==2?1:2)]}function Wte(n){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(2)]}function zte(n,r,t){var e=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[e]}function uD(n){var r=n.read_shift(1),t=n.read_shift(1);return[r,t]}function Vte(n){return n.read_shift(2),uD(n)}function $te(n){return n.read_shift(2),uD(n)}function Gte(n,r,t){var e=(n[n.l]&96)>>5;n.l+=1;var s=cD(n,0,t);return[e,s]}function Yte(n,r,t){var e=(n[n.l]&96)>>5;n.l+=1;var s=Pte(n,0,t);return[e,s]}function Xte(n,r,t){var e=(n[n.l]&96)>>5;n.l+=1;var s=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var i=cD(n,0,t);return[e,s,i]}function Kte(n,r,t){var e=(n[n.l]&96)>>5;n.l+=1;var s=n.read_shift(t&&t.biff<=3?1:2);return[Jre[s],fD[s],e]}function Jte(n,r,t){var e=n[n.l++],s=n.read_shift(1),i=t&&t.biff<=3?[e==88?-1:0,n.read_shift(1)]:Zte(n);return[s,(i[0]===0?fD:Kre)[i[1]]]}function Zte(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function Qte(n,r,t){n.l+=t&&t.biff==2?3:4}function ere(n,r,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var e=n.read_shift(2),s=n.read_shift(t&&t.biff==2?1:2);return[e,s]}function tre(n){return n.l++,a0[n.read_shift(1)]}function rre(n){return n.l++,n.read_shift(2)}function nre(n){return n.l++,n.read_shift(1)!==0}function sre(n){return n.l++,qa(n)}function ire(n,r,t){return n.l++,Dy(n,r-1,t)}function are(n,r){var t=[n.read_shift(1)];if(r==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=si(n,1)?"TRUE":"FALSE",r!=12&&(n.l+=7);break;case 37:case 16:t[1]=a0[n[n.l]],n.l+=r==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=qa(n);break;case 2:t[1]=o0(n,0,{biff:r>0&&r<8?2:r});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function ore(n,r,t){for(var e=n.read_shift(t.biff==12?4:2),s=[],i=0;i!=e;++i)s.push((t.biff==12?i0:b5)(n));return s}function lre(n,r,t){var e=0,s=0;t.biff==12?(e=n.read_shift(4),s=n.read_shift(4)):(s=1+n.read_shift(1),e=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--e,--s==0&&(s=256));for(var i=0,a=[];i!=e&&(a[i]=[]);++i)for(var o=0;o!=s;++o)a[i][o]=are(n,t.biff);return a}function cre(n,r,t){var e=n.read_shift(1)>>>5&3,s=!t||t.biff>=8?4:2,i=n.read_shift(s);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[e,0,i]}function ure(n,r,t){if(t.biff==5)return dre(n);var e=n.read_shift(1)>>>5&3,s=n.read_shift(2),i=n.read_shift(4);return[e,s,i]}function dre(n){var r=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var e=n.read_shift(2);return n.l+=12,[r,t,e]}function hre(n,r,t){var e=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var s=n.read_shift(t&&t.biff==2?1:2);return[e,s]}function fre(n,r,t){var e=n.read_shift(1)>>>5&3,s=n.read_shift(t&&t.biff==2?1:2);return[e,s]}function pre(n,r,t){var e=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[e]}function mre(n,r,t){var e=(n[n.l++]&96)>>5,s=n.read_shift(2),i=4;if(t)switch(t.biff){case 5:i=15;break;case 12:i=6;break}return n.l+=i,[e,s]}var gre=$a,bre=$a,vre=$a;function Py(n,r,t){return n.l+=2,[Ite(n)]}function lS(n){return n.l+=6,[]}var yre=Py,xre=lS,wre=lS,_re=Py;function dD(n){return n.l+=2,[Si(n),n.read_shift(2)&1]}var Sre=Py,Ere=dD,Nre=lS,Are=Py,kre=Py,Cre=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Tre(n){n.l+=2;var r=n.read_shift(2),t=n.read_shift(2),e=n.read_shift(4),s=n.read_shift(2),i=n.read_shift(2),a=Cre[t>>2&31];return{ixti:r,coltype:t&3,rt:a,idx:e,c:s,C:i}}function Dre(n){return n.l+=2,[n.read_shift(4)]}function Ire(n,r,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function Pre(n,r,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function jre(n){var r=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[r,t]}function Rre(n){var r=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[r,t]}function Mre(n){return n.l+=4,[0,0]}var hN={1:{n:"PtgExp",f:ere},2:{n:"PtgTbl",f:vre},3:{n:"PtgAdd",f:wi},4:{n:"PtgSub",f:wi},5:{n:"PtgMul",f:wi},6:{n:"PtgDiv",f:wi},7:{n:"PtgPower",f:wi},8:{n:"PtgConcat",f:wi},9:{n:"PtgLt",f:wi},10:{n:"PtgLe",f:wi},11:{n:"PtgEq",f:wi},12:{n:"PtgGe",f:wi},13:{n:"PtgGt",f:wi},14:{n:"PtgNe",f:wi},15:{n:"PtgIsect",f:wi},16:{n:"PtgUnion",f:wi},17:{n:"PtgRange",f:wi},18:{n:"PtgUplus",f:wi},19:{n:"PtgUminus",f:wi},20:{n:"PtgPercent",f:wi},21:{n:"PtgParen",f:wi},22:{n:"PtgMissArg",f:wi},23:{n:"PtgStr",f:ire},26:{n:"PtgSheet",f:Ire},27:{n:"PtgEndSheet",f:Pre},28:{n:"PtgErr",f:tre},29:{n:"PtgBool",f:nre},30:{n:"PtgInt",f:rre},31:{n:"PtgNum",f:sre},32:{n:"PtgArray",f:Bte},33:{n:"PtgFunc",f:Kte},34:{n:"PtgFuncVar",f:Jte},35:{n:"PtgName",f:cre},36:{n:"PtgRef",f:Gte},37:{n:"PtgArea",f:Rte},38:{n:"PtgMemArea",f:hre},39:{n:"PtgMemErr",f:gre},40:{n:"PtgMemNoMem",f:bre},41:{n:"PtgMemFunc",f:fre},42:{n:"PtgRefErr",f:pre},43:{n:"PtgAreaErr",f:Lte},44:{n:"PtgRefN",f:Yte},45:{n:"PtgAreaN",f:Fte},46:{n:"PtgMemAreaN",f:jre},47:{n:"PtgMemNoMemN",f:Rre},57:{n:"PtgNameX",f:ure},58:{n:"PtgRef3d",f:Xte},59:{n:"PtgArea3d",f:Mte},60:{n:"PtgRefErr3d",f:mre},61:{n:"PtgAreaErr3d",f:Ote},255:{}},Lre={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Ore={1:{n:"PtgElfLel",f:dD},2:{n:"PtgElfRw",f:Are},3:{n:"PtgElfCol",f:yre},6:{n:"PtgElfRwV",f:kre},7:{n:"PtgElfColV",f:_re},10:{n:"PtgElfRadical",f:Sre},11:{n:"PtgElfRadicalS",f:Nre},13:{n:"PtgElfColS",f:xre},15:{n:"PtgElfColSV",f:wre},16:{n:"PtgElfRadicalLel",f:Ere},25:{n:"PtgList",f:Tre},29:{n:"PtgSxName",f:Dre},255:{}},Fre={0:{n:"PtgAttrNoop",f:Mre},1:{n:"PtgAttrSemi",f:zte},2:{n:"PtgAttrIf",f:qte},4:{n:"PtgAttrChoose",f:Ute},8:{n:"PtgAttrGoto",f:Hte},16:{n:"PtgAttrSum",f:Qte},32:{n:"PtgAttrBaxcel",f:dN},33:{n:"PtgAttrBaxcel",f:dN},64:{n:"PtgAttrSpace",f:Vte},65:{n:"PtgAttrSpaceSemi",f:$te},128:{n:"PtgAttrIfError",f:Wte},255:{}};function jy(n,r,t,e){if(e.biff<8)return $a(n,r);for(var s=n.l+r,i=[],a=0;a!==t.length;++a)switch(t[a][0]){case"PtgArray":t[a][1]=lre(n,0,e),i.push(t[a][1]);break;case"PtgMemArea":t[a][2]=ore(n,t[a][1],e),i.push(t[a][2]);break;case"PtgExp":e&&e.biff==12&&(t[a][1][1]=n.read_shift(4),i.push(t[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[a][0]}return r=s-n.l,r!==0&&i.push($a(n,r)),i}function Ry(n,r,t){for(var e=n.l+r,s,i,a=[];e!=n.l;)r=e-n.l,i=n[n.l],s=hN[i]||hN[Lre[i]],(i===24||i===25)&&(s=(i===24?Ore:Fre)[n[n.l+1]]),!s||!s.f?$a(n,r):a.push([s.n,s.f(n,r,t)]);return a}function Bre(n){for(var r=[],t=0;t<n.length;++t){for(var e=n[t],s=[],i=0;i<e.length;++i){var a=e[i];if(a)switch(a[0]){case 2:s.push('"'+a[1].replace(/"/g,'""')+'"');break;default:s.push(a[1])}else s.push("")}r.push(s.join(","))}return r.join(";")}var Ure={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Hre(n,r){if(!n&&!(r&&r.biff<=5&&r.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function hD(n,r,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[r]))return n.SheetNames[r];if(!n.XTI)return"SH33TJSERR6";var e=n.XTI[r];if(t.biff<8)return r>1e4&&(r-=65536),r<0&&(r=-r),r==0?"":n.XTI[r-1];if(!e)return"SH33TJSERR1";var s="";if(t.biff>8)switch(n[e[0]][0]){case 357:return s=e[1]==-1?"#REF":n.SheetNames[e[1]],e[1]==e[2]?s:s+":"+n.SheetNames[e[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[e[0]][0];case 355:default:return"SH33TJSSRC"+n[e[0]][0]}switch(n[e[0]][0][0]){case 1025:return s=e[1]==-1?"#REF":n.SheetNames[e[1]]||"SH33TJSERR3",e[1]==e[2]?s:s+":"+n.SheetNames[e[2]];case 14849:return n[e[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return n[e[0]][0][3]?(s=e[1]==-1?"#REF":n[e[0]][0][3][e[1]]||"SH33TJSERR4",e[1]==e[2]?s:s+":"+n[e[0]][0][3][e[2]]):"SH33TJSERR2"}}function fN(n,r,t){var e=hD(n,r,t);return e=="#REF"?e:Hre(e,t)}function Ba(n,r,t,e,s){var i=s&&s.biff||8,a={s:{c:0,r:0},e:{c:0,r:0}},o=[],c,u,l,d=0,f=0,h,p="";if(!n[0]||!n[0][0])return"";for(var g=-1,v="",m=0,x=n[0].length;m<x;++m){var y=n[0][m];switch(y[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),u=o.pop(),g>=0){switch(n[0][g][1][0]){case 0:v=Ys(" ",n[0][g][1][1]);break;case 1:v=Ys("\r",n[0][g][1][1]);break;default:if(v="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][g][1][0])}u=u+v,g=-1}o.push(u+Ure[y[0]]+c);break;case"PtgIsect":c=o.pop(),u=o.pop(),o.push(u+" "+c);break;case"PtgUnion":c=o.pop(),u=o.pop(),o.push(u+","+c);break;case"PtgRange":c=o.pop(),u=o.pop(),o.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":l=pb(y[1][1],a,s),o.push(mb(l,i));break;case"PtgRefN":l=t?pb(y[1][1],t,s):y[1][1],o.push(mb(l,i));break;case"PtgRef3d":d=y[1][1],l=pb(y[1][2],a,s),p=fN(e,d,s),o.push(p+"!"+mb(l,i));break;case"PtgFunc":case"PtgFuncVar":var w=y[1][0],E=y[1][1];w||(w=0),w&=127;var I=w==0?[]:o.slice(-w);o.length-=w,E==="User"&&(E=I.shift()),o.push(E+"("+I.join(",")+")");break;case"PtgBool":o.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(y[1]);break;case"PtgNum":o.push(String(y[1]));break;case"PtgStr":o.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(y[1]);break;case"PtgAreaN":h=G3(y[1][1],t?{s:t}:a,s),o.push(z6(h,s));break;case"PtgArea":h=G3(y[1][1],a,s),o.push(z6(h,s));break;case"PtgArea3d":d=y[1][1],h=y[1][2],p=fN(e,d,s),o.push(p+"!"+z6(h,s));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":f=y[1][2];var T=(e.names||[])[f-1]||(e[0]||[])[f],R=T?T.Name:"SH33TJSNAME"+String(f);R&&R.slice(0,6)=="_xlfn."&&!s.xlfn&&(R=R.slice(6)),o.push(R);break;case"PtgNameX":var D=y[1][1];f=y[1][2];var L;if(s.biff<=5)D<0&&(D=-D),e[D]&&(L=e[D][f]);else{var M="";if(((e[D]||[])[0]||[])[0]==14849||(((e[D]||[])[0]||[])[0]==1025?e[D][f]&&e[D][f].itab>0&&(M=e.SheetNames[e[D][f].itab-1]+"!"):M=e.SheetNames[f-1]+"!"),e[D]&&e[D][f])M+=e[D][f].Name;else if(e[0]&&e[0][f])M+=e[0][f].Name;else{var H=(hD(e,D,s)||"").split(";;");H[f-1]?M=H[f-1]:M+="SH33TJSERRX"}o.push(M);break}L||(L={Name:"SH33TJSERRY"}),o.push(L.Name);break;case"PtgParen":var V="(",P=")";if(g>=0){switch(v="",n[0][g][1][0]){case 2:V=Ys(" ",n[0][g][1][1])+V;break;case 3:V=Ys("\r",n[0][g][1][1])+V;break;case 4:P=Ys(" ",n[0][g][1][1])+P;break;case 5:P=Ys("\r",n[0][g][1][1])+P;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][g][1][0])}g=-1}o.push(V+o.pop()+P);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":l={c:y[1][1],r:y[1][0]};var F={c:t.c,r:t.r};if(e.sharedf[Yr(l)]){var A=e.sharedf[Yr(l)];o.push(Ba(A,a,F,e,s))}else{var _=!1;for(c=0;c!=e.arrayf.length;++c)if(u=e.arrayf[c],!(l.c<u[0].s.c||l.c>u[0].e.c)&&!(l.r<u[0].s.r||l.r>u[0].e.r)){o.push(Ba(u[1],a,F,e,s)),_=!0;break}_||o.push(y[1])}break;case"PtgArray":o.push("{"+Bre(y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=m;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(y));default:throw new Error("Unrecognized Formula Token: "+String(y))}var S=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&g>=0&&S.indexOf(n[0][m][0])==-1){y=n[0][g];var N=!0;switch(y[1][0]){case 4:N=!1;case 0:v=Ys(" ",y[1][1]);break;case 5:N=!1;case 1:v=Ys("\r",y[1][1]);break;default:if(v="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}o.push((N?v:"")+o.pop()+(N?"":v)),g=-1}}if(o.length>1&&s.WTF)throw new Error("bad formula stack");return o[0]}function qre(n,r,t){var e=n.l+r,s=t.biff==2?1:2,i,a=n.read_shift(s);if(a==65535)return[[],$a(n,r-2)];var o=Ry(n,a,t);return r!==a+s&&(i=jy(n,r-a-s,o,t)),n.l=e,[o,i]}function Wre(n,r,t){var e=n.l+r,s=t.biff==2?1:2,i,a=n.read_shift(s);if(a==65535)return[[],$a(n,r-2)];var o=Ry(n,a,t);return r!==a+s&&(i=jy(n,r-a-s,o,t)),n.l=e,[o,i]}function zre(n,r,t,e){var s=n.l+r,i=Ry(n,e,t),a;return s!==n.l&&(a=jy(n,s-n.l,i,t)),[i,a]}function Vre(n,r,t){var e=n.l+r,s,i=n.read_shift(2),a=Ry(n,i,t);return i==65535?[[],$a(n,r-2)]:(r!==i+2&&(s=jy(n,e-i-2,a,t)),[a,s])}function $re(n){var r;if(uh(n,n.l+6)!==65535)return[qa(n),"n"];switch(n[n.l]){case 0:return n.l+=8,["String","s"];case 1:return r=n[n.l+2]===1,n.l+=8,[r,"b"];case 2:return r=n[n.l+2],n.l+=8,[r,"e"];case 3:return n.l+=8,["","s"]}return[]}function G6(n,r,t){var e=n.l+r,s=Qu(n);t.biff==2&&++n.l;var i=$re(n),a=n.read_shift(1);t.biff!=2&&(n.read_shift(1),t.biff>=5&&n.read_shift(4));var o=Wre(n,e-n.l,t);return{cell:s,val:i[0],formula:o,shared:a>>3&1,tt:i[1]}}function v5(n,r,t){var e=n.read_shift(4),s=Ry(n,e,t),i=n.read_shift(4),a=i>0?jy(n,i,s,t):null;return[s,a]}var Gre=v5,y5=v5,Yre=v5,Xre=v5,Kre={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},fD={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Jre={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function pN(n){return n.slice(0,3)=="of:"&&(n=n.slice(3)),n.charCodeAt(0)==61&&(n=n.slice(1),n.charCodeAt(0)==61&&(n=n.slice(1))),n=n.replace(/COM\.MICROSOFT\./g,""),n=n.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(r,t){return t.replace(/\./g,"")}),n=n.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),n.replace(/[;~]/g,",").replace(/\|/g,";")}function Y6(n){var r=n.split(":"),t=r[0].split(".")[0];return[t,r[0].split(".")[1]+(r.length>1?":"+(r[1].split(".")[1]||r[1].split(".")[0]):"")]}var yb={},t1={};function xb(n,r){if(n){var t=[.7,.7,.75,.75,.3,.3];r=="xlml"&&(t=[1,1,1,1,.5,.5]),n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function pD(n,r,t,e,s,i){try{e.cellNF&&(n.z=Zr[r])}catch(o){if(e.WTF)throw o}if(!(n.t==="z"&&!e.cellStyles)){if(n.t==="d"&&typeof n.v=="string"&&(n.v=Ji(n.v)),(!e||e.cellText!==!1)&&n.t!=="z")try{if(Zr[r]==null&&Im(ZK[r]||"General",r),n.t==="e")n.w=n.w||a0[n.v];else if(r===0)if(n.t==="n")(n.v|0)===n.v?n.w=n.v.toString(10):n.w=Ib(n.v);else if(n.t==="d"){var a=bo(n.v);(a|0)===a?n.w=a.toString(10):n.w=Ib(a)}else{if(n.v===void 0)return"";n.w=Um(n.v,t1)}else n.t==="d"?n.w=Yl(r,bo(n.v),t1):n.w=Yl(r,n.v,t1)}catch(o){if(e.WTF)throw o}if(e.cellStyles&&t!=null)try{n.s=i.Fills[t],n.s.fgColor&&n.s.fgColor.theme&&!n.s.fgColor.rgb&&(n.s.fgColor.rgb=mw(s.themeElements.clrScheme[n.s.fgColor.theme].rgb,n.s.fgColor.tint||0),e.WTF&&(n.s.fgColor.raw_rgb=s.themeElements.clrScheme[n.s.fgColor.theme].rgb)),n.s.bgColor&&n.s.bgColor.theme&&(n.s.bgColor.rgb=mw(s.themeElements.clrScheme[n.s.bgColor.theme].rgb,n.s.bgColor.tint||0),e.WTF&&(n.s.bgColor.raw_rgb=s.themeElements.clrScheme[n.s.bgColor.theme].rgb))}catch(o){if(e.WTF&&i.Fills)throw o}}}function Zre(n,r){var t=Js(r);t.s.r<=t.e.r&&t.s.c<=t.e.c&&t.s.r>=0&&t.s.c>=0&&(n["!ref"]=Nn(t))}var Qre=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,ene=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,tne=/<(?:\w:)?hyperlink [^>]*>/mg,rne=/"(\w*:\w*)"/,nne=/<(?:\w:)?col\b[^>]*[\/]?>/g,sne=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,ine=/<(?:\w:)?pageMargins[^>]*\/>/g,mD=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,ane=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,one=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function lne(n,r,t,e,s,i,a){if(!n)return n;e||(e={"!id":{}});var o=r.dense?[]:{},c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",l="",d=n.match(ene);d?(u=n.slice(0,d.index),l=n.slice(d.index+d[0].length)):u=l=n;var f=u.match(mD);f?cS(f[0],o,s,t):(f=u.match(ane))&&cne(f[0],f[1]||"",o,s,t);var h=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(h>0){var p=u.slice(h,h+50).match(rne);p&&Zre(o,p[1])}var g=u.match(one);g&&g[1]&&mne(g[1],s);var v=[];if(r.cellStyles){var m=u.match(nne);m&&hne(v,m)}d&&gne(d[1],o,r,c,i,a);var x=l.match(sne);x&&(o["!autofilter"]=fne(x[0]));var y=[],w=l.match(Qre);if(w)for(h=0;h!=w.length;++h)y[h]=Js(w[h].slice(w[h].indexOf('"')+1));var E=l.match(tne);E&&une(o,E,e);var I=l.match(ine);if(I&&(o["!margins"]=dne(Hr(I[0]))),!o["!ref"]&&c.e.c>=c.s.c&&c.e.r>=c.s.r&&(o["!ref"]=Nn(c)),r.sheetRows>0&&o["!ref"]){var T=Js(o["!ref"]);r.sheetRows<=+T.e.r&&(T.e.r=r.sheetRows-1,T.e.r>c.e.r&&(T.e.r=c.e.r),T.e.r<T.s.r&&(T.s.r=T.e.r),T.e.c>c.e.c&&(T.e.c=c.e.c),T.e.c<T.s.c&&(T.s.c=T.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Nn(T))}return v.length>0&&(o["!cols"]=v),y.length>0&&(o["!merges"]=y),o}function cS(n,r,t,e){var s=Hr(n);t.Sheets[e]||(t.Sheets[e]={}),s.codeName&&(t.Sheets[e].CodeName=Pn(gs(s.codeName)))}function cne(n,r,t,e,s){cS(n.slice(0,n.indexOf(">")),t,e,s)}function une(n,r,t){for(var e=Array.isArray(n),s=0;s!=r.length;++s){var i=Hr(gs(r[s]),!0);if(!i.ref)return;var a=((t||{})["!id"]||[])[i.id];a?(i.Target=a.Target,i.location&&(i.Target+="#"+Pn(i.location))):(i.Target="#"+Pn(i.location),a={Target:i.Target,TargetMode:"Internal"}),i.Rel=a,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=Js(i.ref),c=o.s.r;c<=o.e.r;++c)for(var u=o.s.c;u<=o.e.c;++u){var l=Yr({c:u,r:c});e?(n[c]||(n[c]=[]),n[c][u]||(n[c][u]={t:"z",v:void 0}),n[c][u].l=i):(n[l]||(n[l]={t:"z",v:void 0}),n[l].l=i)}}}function dne(n){var r={};return["left","right","top","bottom","header","footer"].forEach(function(t){n[t]&&(r[t]=parseFloat(n[t]))}),r}function hne(n,r){for(var t=!1,e=0;e!=r.length;++e){var s=Hr(r[e],!0);s.hidden&&(s.hidden=Ts(s.hidden));var i=parseInt(s.min,10)-1,a=parseInt(s.max,10)-1;for(s.outlineLevel&&(s.level=+s.outlineLevel||0),delete s.min,delete s.max,s.width=+s.width,!t&&s.width&&(t=!0,oS(s.width)),ag(s);i<=a;)n[i++]=fa(s)}}function fne(n){var r={ref:(n.match(/ref="([^"]*)"/)||[])[1]};return r}var pne=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function mne(n,r){r.Views||(r.Views=[{}]),(n.match(pne)||[]).forEach(function(t,e){var s=Hr(t);r.Views[e]||(r.Views[e]={}),+s.zoomScale&&(r.Views[e].zoom=+s.zoomScale),Ts(s.rightToLeft)&&(r.Views[e].RTL=!0)})}var gne=function(){var n=/<(?:\w+:)?c[ \/>]/,r=/<\/(?:\w+:)?row>/,t=/r=["']([^"']*)["']/,e=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,s=/ref=["']([^"']*)["']/,i=Pb("v"),a=Pb("f");return function(c,u,l,d,f,h){for(var p=0,g="",v=[],m=[],x=0,y=0,w=0,E="",I,T,R=0,D=0,L,M,H=0,V=0,P=Array.isArray(h.CellXf),F,A=[],_=[],S=Array.isArray(u),N=[],C={},W=!1,j=!!l.sheetStubs,B=c.split(r),G=0,X=B.length;G!=X;++G){g=B[G].trim();var J=g.length;if(J!==0){var O=0;e:for(p=0;p<J;++p)switch(g[p]){case">":if(g[p-1]!="/"){++p;break e}if(l&&l.cellStyles){if(T=Hr(g.slice(O,p),!0),R=T.r!=null?parseInt(T.r,10):R+1,D=-1,l.sheetRows&&l.sheetRows<R)continue;C={},W=!1,T.ht&&(W=!0,C.hpt=parseFloat(T.ht),C.hpx=Lb(C.hpt)),T.hidden=="1"&&(W=!0,C.hidden=!0),T.outlineLevel!=null&&(W=!0,C.level=+T.outlineLevel),W&&(N[R-1]=C)}break;case"<":O=p;break}if(O>=p)break;if(T=Hr(g.slice(O,p),!0),R=T.r!=null?parseInt(T.r,10):R+1,D=-1,!(l.sheetRows&&l.sheetRows<R)){d.s.r>R-1&&(d.s.r=R-1),d.e.r<R-1&&(d.e.r=R-1),l&&l.cellStyles&&(C={},W=!1,T.ht&&(W=!0,C.hpt=parseFloat(T.ht),C.hpx=Lb(C.hpt)),T.hidden=="1"&&(W=!0,C.hidden=!0),T.outlineLevel!=null&&(W=!0,C.level=+T.outlineLevel),W&&(N[R-1]=C)),v=g.slice(p).split(n);for(var ee=0;ee!=v.length&&v[ee].trim().charAt(0)=="<";++ee);for(v=v.slice(ee),p=0;p!=v.length;++p)if(g=v[p].trim(),g.length!==0){if(m=g.match(t),x=p,y=0,w=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,m!=null&&m.length===2){for(x=0,E=m[1],y=0;y!=E.length&&!((w=E.charCodeAt(y)-64)<1||w>26);++y)x=26*x+w;--x,D=x}else++D;for(y=0;y!=g.length&&g.charCodeAt(y)!==62;++y);if(++y,T=Hr(g.slice(0,y),!0),T.r||(T.r=Yr({r:R-1,c:D})),E=g.slice(y),I={t:""},(m=E.match(i))!=null&&m[1]!==""&&(I.v=Pn(m[1])),l.cellFormula){if((m=E.match(a))!=null&&m[1]!==""){if(I.f=Pn(gs(m[1])).replace(/\r\n/g,`
`),l.xlfn||(I.f=uN(I.f)),m[0].indexOf('t="array"')>-1)I.F=(E.match(s)||[])[1],I.F.indexOf(":")>-1&&A.push([Js(I.F),I.F]);else if(m[0].indexOf('t="shared"')>-1){M=Hr(m[0]);var U=Pn(gs(m[1]));l.xlfn||(U=uN(U)),_[parseInt(M.si,10)]=[M,U,T.r]}}else(m=E.match(/<f[^>]*\/>/))&&(M=Hr(m[0]),_[M.si]&&(I.f=kte(_[M.si][1],_[M.si][2],T.r)));var z=fo(T.r);for(y=0;y<A.length;++y)z.r>=A[y][0].s.r&&z.r<=A[y][0].e.r&&z.c>=A[y][0].s.c&&z.c<=A[y][0].e.c&&(I.F=A[y][1])}if(T.t==null&&I.v===void 0)if(I.f||I.F)I.v=0,I.t="n";else if(j)I.t="z";else continue;else I.t=T.t||"n";switch(d.s.c>D&&(d.s.c=D),d.e.c<D&&(d.e.c=D),I.t){case"n":if(I.v==""||I.v==null){if(!j)continue;I.t="z"}else I.v=parseFloat(I.v);break;case"s":if(typeof I.v>"u"){if(!j)continue;I.t="z"}else L=yb[parseInt(I.v,10)],I.v=L.t,I.r=L.r,l.cellHTML&&(I.h=L.h);break;case"str":I.t="s",I.v=I.v!=null?gs(I.v):"",l.cellHTML&&(I.h=K8(I.v));break;case"inlineStr":m=E.match(e),I.t="s",m!=null&&(L=aS(m[1]))?(I.v=L.t,l.cellHTML&&(I.h=L.h)):I.v="";break;case"b":I.v=Ts(I.v);break;case"d":l.cellDates?I.v=Ji(I.v,1):(I.v=bo(Ji(I.v,1)),I.t="n");break;case"e":(!l||l.cellText!==!1)&&(I.w=I.v),I.v=LT[I.v];break}if(H=V=0,F=null,P&&T.s!==void 0&&(F=h.CellXf[T.s],F!=null&&(F.numFmtId!=null&&(H=F.numFmtId),l.cellStyles&&F.fillId!=null&&(V=F.fillId))),pD(I,H,V,l,f,h),l.cellDates&&P&&I.t=="n"&&fg(Zr[H])&&(I.t="d",I.v=g5(I.v)),T.cm&&l.xlmeta){var Z=(l.xlmeta.Cell||[])[+T.cm-1];Z&&Z.type=="XLDAPR"&&(I.D=!0)}if(S){var te=fo(T.r);u[te.r]||(u[te.r]=[]),u[te.r][te.c]=I}else u[T.r]=I}}}}N.length>0&&(u["!rows"]=N)}}();function bne(n,r){var t={},e=n.l+r;t.r=n.read_shift(4),n.l+=4;var s=n.read_shift(2);n.l+=1;var i=n.read_shift(1);return n.l=e,i&7&&(t.level=i&7),i&16&&(t.hidden=!0),i&32&&(t.hpt=s/20),t}var vne=i0;function yne(){}function xne(n,r){var t={},e=n[n.l];return++n.l,t.above=!(e&64),t.left=!(e&128),n.l+=18,t.name=qJ(n),t}function wne(n){var r=Xl(n);return[r]}function _ne(n){var r=s0(n);return[r]}function Sne(n){var r=Xl(n),t=n.read_shift(1);return[r,t,"b"]}function Ene(n){var r=s0(n),t=n.read_shift(1);return[r,t,"b"]}function Nne(n){var r=Xl(n),t=n.read_shift(1);return[r,t,"e"]}function Ane(n){var r=s0(n),t=n.read_shift(1);return[r,t,"e"]}function kne(n){var r=Xl(n),t=n.read_shift(4);return[r,t,"s"]}function Cne(n){var r=s0(n),t=n.read_shift(4);return[r,t,"s"]}function Tne(n){var r=Xl(n),t=qa(n);return[r,t,"n"]}function gD(n){var r=s0(n),t=qa(n);return[r,t,"n"]}function Dne(n){var r=Xl(n),t=nS(n);return[r,t,"n"]}function Ine(n){var r=s0(n),t=nS(n);return[r,t,"n"]}function Pne(n){var r=Xl(n),t=tS(n);return[r,t,"is"]}function jne(n){var r=Xl(n),t=Va(n);return[r,t,"str"]}function Rne(n){var r=s0(n),t=Va(n);return[r,t,"str"]}function Mne(n,r,t){var e=n.l+r,s=Xl(n);s.r=t["!row"];var i=n.read_shift(1),a=[s,i,"b"];if(t.cellFormula){n.l+=2;var o=y5(n,e-n.l,t);a[3]=Ba(o,null,s,t.supbooks,t)}else n.l=e;return a}function Lne(n,r,t){var e=n.l+r,s=Xl(n);s.r=t["!row"];var i=n.read_shift(1),a=[s,i,"e"];if(t.cellFormula){n.l+=2;var o=y5(n,e-n.l,t);a[3]=Ba(o,null,s,t.supbooks,t)}else n.l=e;return a}function One(n,r,t){var e=n.l+r,s=Xl(n);s.r=t["!row"];var i=qa(n),a=[s,i,"n"];if(t.cellFormula){n.l+=2;var o=y5(n,e-n.l,t);a[3]=Ba(o,null,s,t.supbooks,t)}else n.l=e;return a}function Fne(n,r,t){var e=n.l+r,s=Xl(n);s.r=t["!row"];var i=Va(n),a=[s,i,"str"];if(t.cellFormula){n.l+=2;var o=y5(n,e-n.l,t);a[3]=Ba(o,null,s,t.supbooks,t)}else n.l=e;return a}var Bne=i0;function Une(n,r){var t=n.l+r,e=i0(n),s=rS(n),i=Va(n),a=Va(n),o=Va(n);n.l=t;var c={rfx:e,relId:s,loc:i,display:o};return a&&(c.Tooltip=a),c}function Hne(){}function qne(n,r,t){var e=n.l+r,s=jT(n),i=n.read_shift(1),a=[s];if(a[2]=i,t.cellFormula){var o=Gre(n,e-n.l,t);a[1]=o}else n.l=e;return a}function Wne(n,r,t){var e=n.l+r,s=i0(n),i=[s];if(t.cellFormula){var a=Xre(n,e-n.l,t);i[1]=a,n.l=e}else n.l=e;return i}var zne=["left","right","top","bottom","header","footer"];function Vne(n){var r={};return zne.forEach(function(t){r[t]=qa(n)}),r}function $ne(n){var r=n.read_shift(2);return n.l+=28,{RTL:r&32}}function Gne(){}function Yne(){}function Xne(n,r,t,e,s,i,a){if(!n)return n;var o=r||{};e||(e={"!id":{}});var c=o.dense?[]:{},u,l={s:{r:2e6,c:2e6},e:{r:0,c:0}},d=!1,f=!1,h,p,g,v,m,x,y,w,E,I=[];o.biff=12,o["!row"]=0;var T=0,R=!1,D=[],L={},M=o.supbooks||s.supbooks||[[]];if(M.sharedf=L,M.arrayf=D,M.SheetNames=s.SheetNames||s.Sheets.map(function(S){return S.name}),!o.supbooks&&(o.supbooks=M,s.Names))for(var H=0;H<s.Names.length;++H)M[0][H+1]=s.Names[H];var V=[],P=[],F=!1;vw[16]={n:"BrtShortReal",f:gD};var A;if(Ah(n,function(N,C,W){if(!f)switch(W){case 148:u=N;break;case 0:h=N,o.sheetRows&&o.sheetRows<=h.r&&(f=!0),w=pa(v=h.r),o["!row"]=h.r,(N.hidden||N.hpt||N.level!=null)&&(N.hpt&&(N.hpx=Lb(N.hpt)),P[N.r]=N);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(p={t:N[2]},N[2]){case"n":p.v=N[1];break;case"s":y=yb[N[1]],p.v=y.t,p.r=y.r;break;case"b":p.v=!!N[1];break;case"e":p.v=N[1],o.cellText!==!1&&(p.w=a0[p.v]);break;case"str":p.t="s",p.v=N[1];break;case"is":p.t="s",p.v=N[1].t;break}if((g=a.CellXf[N[0].iStyleRef])&&pD(p,g.numFmtId,null,o,i,a),m=N[0].c==-1?m+1:N[0].c,o.dense?(c[v]||(c[v]=[]),c[v][m]=p):c[Fi(m)+w]=p,o.cellFormula){for(R=!1,T=0;T<D.length;++T){var j=D[T];h.r>=j[0].s.r&&h.r<=j[0].e.r&&m>=j[0].s.c&&m<=j[0].e.c&&(p.F=Nn(j[0]),R=!0)}!R&&N.length>3&&(p.f=N[3])}if(l.s.r>h.r&&(l.s.r=h.r),l.s.c>m&&(l.s.c=m),l.e.r<h.r&&(l.e.r=h.r),l.e.c<m&&(l.e.c=m),o.cellDates&&g&&p.t=="n"&&fg(Zr[g.numFmtId])){var B=Cp(p.v);B&&(p.t="d",p.v=new Date(B.y,B.m-1,B.d,B.H,B.M,B.S,B.u))}A&&(A.type=="XLDAPR"&&(p.D=!0),A=void 0);break;case 1:case 12:if(!o.sheetStubs||d)break;p={t:"z",v:void 0},m=N[0].c==-1?m+1:N[0].c,o.dense?(c[v]||(c[v]=[]),c[v][m]=p):c[Fi(m)+w]=p,l.s.r>h.r&&(l.s.r=h.r),l.s.c>m&&(l.s.c=m),l.e.r<h.r&&(l.e.r=h.r),l.e.c<m&&(l.e.c=m),A&&(A.type=="XLDAPR"&&(p.D=!0),A=void 0);break;case 176:I.push(N);break;case 49:A=((o.xlmeta||{}).Cell||[])[N-1];break;case 494:var G=e["!id"][N.relId];for(G?(N.Target=G.Target,N.loc&&(N.Target+="#"+N.loc),N.Rel=G):N.relId==""&&(N.Target="#"+N.loc),v=N.rfx.s.r;v<=N.rfx.e.r;++v)for(m=N.rfx.s.c;m<=N.rfx.e.c;++m)o.dense?(c[v]||(c[v]=[]),c[v][m]||(c[v][m]={t:"z",v:void 0}),c[v][m].l=N):(x=Yr({c:m,r:v}),c[x]||(c[x]={t:"z",v:void 0}),c[x].l=N);break;case 426:if(!o.cellFormula)break;D.push(N),E=o.dense?c[v][m]:c[Fi(m)+w],E.f=Ba(N[1],l,{r:h.r,c:m},M,o),E.F=Nn(N[0]);break;case 427:if(!o.cellFormula)break;L[Yr(N[0].s)]=N[1],E=o.dense?c[v][m]:c[Fi(m)+w],E.f=Ba(N[1],l,{r:h.r,c:m},M,o);break;case 60:if(!o.cellStyles)break;for(;N.e>=N.s;)V[N.e--]={width:N.w/256,hidden:!!(N.flags&1),level:N.level},F||(F=!0,oS(N.w/256)),ag(V[N.e+1]);break;case 161:c["!autofilter"]={ref:Nn(N)};break;case 476:c["!margins"]=N;break;case 147:s.Sheets[t]||(s.Sheets[t]={}),N.name&&(s.Sheets[t].CodeName=N.name),(N.above||N.left)&&(c["!outline"]={above:N.above,left:N.left});break;case 137:s.Views||(s.Views=[{}]),s.Views[0]||(s.Views[0]={}),N.RTL&&(s.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:d=!0;break;case 36:d=!1;break;case 37:d=!0;break;case 38:d=!1;break;default:if(!C.T){if(!d||o.WTF)throw new Error("Unexpected record 0x"+W.toString(16))}}},o),delete o.supbooks,delete o["!row"],!c["!ref"]&&(l.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(c["!ref"]=Nn(u||l)),o.sheetRows&&c["!ref"]){var _=Js(c["!ref"]);o.sheetRows<=+_.e.r&&(_.e.r=o.sheetRows-1,_.e.r>l.e.r&&(_.e.r=l.e.r),_.e.r<_.s.r&&(_.s.r=_.e.r),_.e.c>l.e.c&&(_.e.c=l.e.c),_.e.c<_.s.c&&(_.s.c=_.e.c),c["!fullref"]=c["!ref"],c["!ref"]=Nn(_))}return I.length>0&&(c["!merges"]=I),V.length>0&&(c["!cols"]=V),P.length>0&&(c["!rows"]=P),c}function Kne(n){var r=[],t=n.match(/^<c:numCache>/),e;(n.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var a=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(r[+a[1]]=t?+a[2]:a[2])});var s=Pn((n.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(n.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){e=i.replace(/<.*?>/g,"")}),[r,s,e]}function Jne(n,r,t,e,s,i){var a=i||{"!type":"chart"};if(!n)return i;var o=0,c=0,u="A",l={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(n.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(d){var f=Kne(d);l.s.r=l.s.c=0,l.e.c=o,u=Fi(o),f[0].forEach(function(h,p){a[u+pa(p)]={t:"n",v:h,z:f[1]},c=p}),l.e.r<c&&(l.e.r=c),++o}),o>0&&(a["!ref"]=Nn(l)),a}function Zne(n,r,t,e,s){if(!n)return n;e||(e={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},a,o=n.match(mD);return o&&cS(o[0],i,s,t),(a=n.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=a[1]),e["!id"][i["!rel"]]&&(i["!drawel"]=e["!id"][i["!rel"]]),i}function Qne(n,r){n.l+=10;var t=Va(n);return{name:t}}function ese(n,r,t,e,s){if(!n)return n;e||(e={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},a=!1;return Ah(n,function(c,u,l){switch(l){case 550:i["!rel"]=c;break;case 651:s.Sheets[t]||(s.Sheets[t]={}),c.name&&(s.Sheets[t].CodeName=c.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!a||r.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}}},r),e["!id"][i["!rel"]]&&(i["!drawel"]=e["!id"][i["!rel"]]),i}var bD=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],tse=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],rse=[],nse=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function mN(n,r){for(var t=0;t!=n.length;++t)for(var e=n[t],s=0;s!=r.length;++s){var i=r[s];if(e[i[0]]==null)e[i[0]]=i[1];else switch(i[2]){case"bool":typeof e[i[0]]=="string"&&(e[i[0]]=Ts(e[i[0]]));break;case"int":typeof e[i[0]]=="string"&&(e[i[0]]=parseInt(e[i[0]],10));break}}}function gN(n,r){for(var t=0;t!=r.length;++t){var e=r[t];if(n[e[0]]==null)n[e[0]]=e[1];else switch(e[2]){case"bool":typeof n[e[0]]=="string"&&(n[e[0]]=Ts(n[e[0]]));break;case"int":typeof n[e[0]]=="string"&&(n[e[0]]=parseInt(n[e[0]],10));break}}}function vD(n){gN(n.WBProps,bD),gN(n.CalcPr,nse),mN(n.WBView,tse),mN(n.Sheets,rse),t1.date1904=Ts(n.WBProps.date1904)}var sse="][*?/\\".split("");function ise(n,r){if(n.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return sse.forEach(function(e){if(n.indexOf(e)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}var ase=/<\w+:workbook/;function ose(n,r){if(!n)throw new Error("Could not find file");var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},e=!1,s="xmlns",i={},a=0;if(n.replace(Ya,function(c,u){var l=Hr(c);switch(Zu(l[0])){case"<?xml":break;case"<workbook":c.match(ase)&&(s="xmlns"+c.match(/<(\w+):/)[1]),t.xmlns=l[s];break;case"</workbook>":break;case"<fileVersion":delete l[0],t.AppVersion=l;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":bD.forEach(function(d){if(l[d[0]]!=null)switch(d[2]){case"bool":t.WBProps[d[0]]=Ts(l[d[0]]);break;case"int":t.WBProps[d[0]]=parseInt(l[d[0]],10);break;default:t.WBProps[d[0]]=l[d[0]]}}),l.codeName&&(t.WBProps.CodeName=gs(l.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete l[0],t.WBView.push(l);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(l.state){case"hidden":l.Hidden=1;break;case"veryHidden":l.Hidden=2;break;default:l.Hidden=0}delete l.state,l.name=Pn(gs(l.name)),delete l[0],t.Sheets.push(l);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":e=!0;break;case"</definedNames>":e=!1;break;case"<definedName":i={},i.Name=gs(l.name),l.comment&&(i.Comment=l.comment),l.localSheetId&&(i.Sheet=+l.localSheetId),Ts(l.hidden||"0")&&(i.Hidden=!0),a=u+c.length;break;case"</definedName>":i.Ref=Pn(gs(n.slice(a,u))),t.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete l[0],t.CalcPr=l;break;case"<calcPr/>":delete l[0],t.CalcPr=l;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":e=!0;break;case"</ext>":e=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":e=!0;break;case"</AlternateContent>":e=!1;break;case"<revisionPtr":break;default:if(!e&&r.WTF)throw new Error("unrecognized "+l[0]+" in workbook")}return c}),NJ.indexOf(t.xmlns)===-1)throw new Error("Unknown Namespace: "+t.xmlns);return vD(t),t}function lse(n,r){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=X4(n),t.name=Va(n),t}function cse(n,r){var t={},e=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var s=r>8?Va(n):"";return s.length>0&&(t.CodeName=s),t.autoCompressPictures=!!(e&65536),t.backupFile=!!(e&64),t.checkCompatibility=!!(e&4096),t.date1904=!!(e&1),t.filterPrivacy=!!(e&8),t.hidePivotFieldList=!!(e&1024),t.promptedSolutions=!!(e&16),t.publishItems=!!(e&2048),t.refreshAllConnections=!!(e&262144),t.saveExternalLinkValues=!!(e&128),t.showBorderUnselectedTables=!!(e&4),t.showInkAnnotation=!!(e&32),t.showObjects=["all","placeholders","none"][e>>13&3],t.showPivotChartFilter=!!(e&32768),t.updateLinks=["userSet","never","always"][e>>8&3],t}function use(n,r){var t={};return n.read_shift(4),t.ArchID=n.read_shift(4),n.l+=r-8,t}function dse(n,r,t){var e=n.l+r;n.l+=4,n.l+=1;var s=n.read_shift(4),i=WJ(n),a=Yre(n,0,t),o=rS(n);n.l=e;var c={Name:i,Ptg:a};return s<268435455&&(c.Sheet=s),o&&(c.Comment=o),c}function hse(n,r){var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},e=[],s=!1;r||(r={}),r.biff=12;var i=[],a=[[]];return a.SheetNames=[],a.XTI=[],vw[16]={n:"BrtFRTArchID$",f:use},Ah(n,function(c,u,l){switch(l){case 156:a.SheetNames.push(c.name),t.Sheets.push(c);break;case 153:t.WBProps=c;break;case 39:c.Sheet!=null&&(r.SID=c.Sheet),c.Ref=Ba(c.Ptg,null,null,a,r),delete r.SID,delete c.Ptg,i.push(c);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([l,c]):a[0]=[l,c],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(c),a.XTI=a.XTI.concat(c);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:e.push(l),s=!0;break;case 36:e.pop(),s=!1;break;case 37:e.push(l),s=!0;break;case 38:e.pop(),s=!1;break;case 16:break;default:if(!u.T){if(!s||r.WTF&&e[e.length-1]!=37&&e[e.length-1]!=35)throw new Error("Unexpected record 0x"+l.toString(16))}}},r),vD(t),t.Names=i,t.supbooks=a,t}function fse(n,r,t){return r.slice(-4)===".bin"?hse(n,t):ose(n,t)}function pse(n,r,t,e,s,i,a,o){return r.slice(-4)===".bin"?Xne(n,e,t,s,i,a,o):lne(n,e,t,s,i,a,o)}function mse(n,r,t,e,s,i,a,o){return r.slice(-4)===".bin"?ese(n,e,t,s,i):Zne(n,e,t,s,i)}function gse(n,r,t,e,s,i,a,o){return r.slice(-4)===".bin"?Ete():Nte()}function bse(n,r,t,e,s,i,a,o){return r.slice(-4)===".bin"?_te():Ste()}function vse(n,r,t,e){return r.slice(-4)===".bin"?Bee(n,t,e):jee(n,t,e)}function yse(n,r,t){return sD(n,t)}function xse(n,r,t){return r.slice(-4)===".bin"?tee(n,t):QQ(n,t)}function wse(n,r,t){return r.slice(-4)===".bin"?yte(n,t):pte(n,t)}function _se(n,r,t){return r.slice(-4)===".bin"?dte(n):cte(n)}function Sse(n,r,t,e){return t.slice(-4)===".bin"?hte(n,r,t,e):void 0}function Ese(n,r,t){return r.slice(-4)===".bin"?ote(n,r,t):lte(n,r,t)}var yD=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,xD=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function wc(n,r){var t=n.split(/\s+/),e=[];if(e[0]=t[0],t.length===1)return e;var s=n.match(yD),i,a,o,c;if(s)for(c=0;c!=s.length;++c)i=s[c].match(xD),(a=i[1].indexOf(":"))===-1?e[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(a+1),e[o]=i[2].slice(1,i[2].length-1));return e}function Nse(n){var r=n.split(/\s+/),t={};if(r.length===1)return t;var e=n.match(yD),s,i,a,o;if(e)for(o=0;o!=e.length;++o)s=e[o].match(xD),(i=s[1].indexOf(":"))===-1?t[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?a="xmlns"+s[1].slice(6):a=s[1].slice(i+1),t[a]=s[2].slice(1,s[2].length-1));return t}var wb;function Ase(n,r){var t=wb[n]||Pn(n);return t==="General"?Um(r):Yl(t,r)}function kse(n,r,t,e){var s=e;switch((t[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":s=Ts(e);break;case"i2":case"int":s=parseInt(e,10);break;case"r4":case"float":s=parseFloat(e);break;case"date":case"dateTime.tz":s=Ji(e);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+t[0])}n[Pn(r)]=s}function Cse(n,r,t){if(n.t!=="z"){if(!t||t.cellText!==!1)try{n.t==="e"?n.w=n.w||a0[n.v]:r==="General"?n.t==="n"?(n.v|0)===n.v?n.w=n.v.toString(10):n.w=Ib(n.v):n.w=Um(n.v):n.w=Ase(r||"General",n.v)}catch(i){if(t.WTF)throw i}try{var e=wb[r]||r||"General";if(t.cellNF&&(n.z=e),t.cellDates&&n.t=="n"&&fg(e)){var s=Cp(n.v);s&&(n.t="d",n.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}catch(i){if(t.WTF)throw i}}}function Tse(n,r,t){if(t.cellStyles&&r.Interior){var e=r.Interior;e.Pattern&&(e.patternType=kee[e.Pattern]||e.Pattern)}n[r.ID]=r}function Dse(n,r,t,e,s,i,a,o,c,u){var l="General",d=e.StyleID,f={};u=u||{};var h=[],p=0;for(d===void 0&&o&&(d=o.StyleID),d===void 0&&a&&(d=a.StyleID);i[d]!==void 0&&(i[d].nf&&(l=i[d].nf),i[d].Interior&&h.push(i[d].Interior),!!i[d].Parent);)d=i[d].Parent;switch(t.Type){case"Boolean":e.t="b",e.v=Ts(n);break;case"String":e.t="s",e.r=F3(Pn(n)),e.v=n.indexOf("<")>-1?Pn(r||n).replace(/<.*?>/g,""):e.r;break;case"DateTime":n.slice(-1)!="Z"&&(n+="Z"),e.v=(Ji(n)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),e.v!==e.v?e.v=Pn(n):e.v<60&&(e.v=e.v-1),(!l||l=="General")&&(l="yyyy-mm-dd");case"Number":e.v===void 0&&(e.v=+n),e.t||(e.t="n");break;case"Error":e.t="e",e.v=LT[n],u.cellText!==!1&&(e.w=n);break;default:n==""&&r==""?e.t="z":(e.t="s",e.v=F3(r||n));break}if(Cse(e,l,u),u.cellFormula!==!1)if(e.Formula){var g=Pn(e.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),e.f=e1(g,s),delete e.Formula,e.ArrayRange=="RC"?e.F=e1("RC:RC",s):e.ArrayRange&&(e.F=e1(e.ArrayRange,s),c.push([Js(e.F),e.F]))}else for(p=0;p<c.length;++p)s.r>=c[p][0].s.r&&s.r<=c[p][0].e.r&&s.c>=c[p][0].s.c&&s.c<=c[p][0].e.c&&(e.F=c[p][1]);u.cellStyles&&(h.forEach(function(v){!f.patternType&&v.patternType&&(f.patternType=v.patternType)}),e.s=f),e.StyleID!==void 0&&(e.ixfe=e.StyleID)}function Ise(n){n.t=n.v||"",n.t=n.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),n.v=n.w=n.ixfe=void 0}function X6(n,r){var t=r||{};lT();var e=tb(J8(n));(t.type=="binary"||t.type=="array"||t.type=="base64")&&(e=gs(e));var s=e.slice(0,1024).toLowerCase(),i=!1;if(s=s.replace(/".*?"/g,""),(s.indexOf(">")&1023)>Math.min(s.indexOf(",")&1023,s.indexOf(";")&1023)){var a=fa(t);return a.type="string",Rb.to_workbook(e,a)}if(s.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(fe){s.indexOf("<"+fe)>=0&&(i=!0)}),i)return Use(e,t);wb={"General Number":"General","General Date":Zr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Zr[15],"Short Date":Zr[14],"Long Time":Zr[19],"Medium Time":Zr[18],"Short Time":Zr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Zr[2],Standard:Zr[4],Percent:Zr[10],Scientific:Zr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,c=[],u,l={},d=[],f=t.dense?[]:{},h="",p={},g={},v=wc('<Data ss:Type="String">'),m=0,x=0,y=0,w={s:{r:2e6,c:2e6},e:{r:0,c:0}},E={},I={},T="",R=0,D=[],L={},M={},H=0,V=[],P=[],F={},A=[],_,S=!1,N=[],C=[],W={},j=0,B=0,G={Sheets:[],WBProps:{date1904:!1}},X={};jb.lastIndex=0,e=e.replace(/<!--([\s\S]*?)-->/mg,"");for(var J="";o=jb.exec(e);)switch(o[3]=(J=o[3]).toLowerCase()){case"data":if(J=="data"){if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break}if(c[c.length-1][1])break;o[1]==="/"?Dse(e.slice(m,o.index),T,v,c[c.length-1][0]=="comment"?F:p,{c:x,r:y},E,A[x],g,N,t):(T="",v=wc(o[0]),m=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(P.length>0&&(p.c=P),(!t.sheetRows||t.sheetRows>y)&&p.v!==void 0&&(t.dense?(f[y]||(f[y]=[]),f[y][x]=p):f[Fi(x)+pa(y)]=p),p.HRef&&(p.l={Target:Pn(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(j=x+(parseInt(p.MergeAcross,10)|0),B=y+(parseInt(p.MergeDown,10)|0),D.push({s:{c:x,r:y},e:{c:j,r:B}})),!t.sheetStubs)p.MergeAcross?x=j+1:++x;else if(p.MergeAcross||p.MergeDown){for(var O=x;O<=j;++O)for(var ee=y;ee<=B;++ee)(O>x||ee>y)&&(t.dense?(f[ee]||(f[ee]=[]),f[ee][O]={t:"z"}):f[Fi(O)+pa(ee)]={t:"z"});x=j+1}else++x;else p=Nse(o[0]),p.Index&&(x=+p.Index-1),x<w.s.c&&(w.s.c=x),x>w.e.c&&(w.e.c=x),o[0].slice(-2)==="/>"&&++x,P=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(y<w.s.r&&(w.s.r=y),y>w.e.r&&(w.e.r=y),o[0].slice(-2)==="/>"&&(g=wc(o[0]),g.Index&&(y=+g.Index-1)),x=0,++y):(g=wc(o[0]),g.Index&&(y=+g.Index-1),W={},(g.AutoFitHeight=="0"||g.Height)&&(W.hpx=parseInt(g.Height,10),W.hpt=nD(W.hpx),C[y]=W),g.Hidden=="1"&&(W.hidden=!0,C[y]=W));break;case"worksheet":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));d.push(h),w.s.r<=w.e.r&&w.s.c<=w.e.c&&(f["!ref"]=Nn(w),t.sheetRows&&t.sheetRows<=w.e.r&&(f["!fullref"]=f["!ref"],w.e.r=t.sheetRows-1,f["!ref"]=Nn(w))),D.length&&(f["!merges"]=D),A.length>0&&(f["!cols"]=A),C.length>0&&(f["!rows"]=C),l[h]=f}else w={s:{r:2e6,c:2e6},e:{r:0,c:0}},y=x=0,c.push([o[3],!1]),u=wc(o[0]),h=Pn(u.Name),f=t.dense?[]:{},D=[],N=[],C=[],X={name:h,Hidden:0},G.Sheets.push(X);break;case"table":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;c.push([o[3],!1]),A=[],S=!1}break;case"style":o[1]==="/"?Tse(E,I,t):I=wc(o[0]);break;case"numberformat":I.nf=Pn(wc(o[0]).Format||"General"),wb[I.nf]&&(I.nf=wb[I.nf]);for(var U=0;U!=392&&Zr[U]!=I.nf;++U);if(U==392){for(U=57;U!=392;++U)if(Zr[U]==null){Im(I.nf,U);break}}break;case"column":if(c[c.length-1][0]!=="table")break;if(_=wc(o[0]),_.Hidden&&(_.hidden=!0,delete _.Hidden),_.Width&&(_.wpx=parseInt(_.Width,10)),!S&&_.wpx>10){S=!0,co=tD;for(var z=0;z<A.length;++z)A[z]&&ag(A[z])}S&&ag(_),A[_.Index-1||A.length]=_;for(var Z=0;Z<+_.Span;++Z)A[A.length]=fa(_);break;case"namedrange":if(o[1]==="/")break;G.Names||(G.Names=[]);var te=Hr(o[0]),oe={Name:te.Name,Ref:e1(te.RefersTo.slice(1),{r:0,c:0})};G.Sheets.length>0&&(oe.Sheet=G.Sheets.length-1),G.Names.push(oe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?T+=e.slice(R,o.index):R=o.index+o[0].length;break;case"interior":if(!t.cellStyles)break;I.Interior=wc(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?pZ(L,J,e.slice(H,o.index)):H=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else c.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));Ise(F),P.push(F)}else c.push([o[3],!1]),u=wc(o[0]),F={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var ue=wc(o[0]);f["!autofilter"]={ref:e1(ue.Range).replace(/\$/g,"")},c.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=c.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&c.push([o[3],!0]);break;case"null":break;default:if(c.length==0&&o[3]=="document"||c.length==0&&o[3]=="uof")return _N(e,t);var le=!0;switch(c[c.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:le=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:le=!1}break;case"excelworkbook":switch(o[3]){case"date1904":G.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:le=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:le=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(e.slice(H,o.index)){case"SheetHidden":X.Hidden=1;break;case"SheetVeryHidden":X.Hidden=2;break}else H=o.index+o[0].length;break;case"header":f["!margins"]||xb(f["!margins"]={},"xlml"),isNaN(+Hr(o[0]).Margin)||(f["!margins"].header=+Hr(o[0]).Margin);break;case"footer":f["!margins"]||xb(f["!margins"]={},"xlml"),isNaN(+Hr(o[0]).Margin)||(f["!margins"].footer=+Hr(o[0]).Margin);break;case"pagemargins":var ce=Hr(o[0]);f["!margins"]||xb(f["!margins"]={},"xlml"),isNaN(+ce.Top)||(f["!margins"].top=+ce.Top),isNaN(+ce.Left)||(f["!margins"].left=+ce.Left),isNaN(+ce.Right)||(f["!margins"].right=+ce.Right),isNaN(+ce.Bottom)||(f["!margins"].bottom=+ce.Bottom);break;case"displayrighttoleft":G.Views||(G.Views=[]),G.Views[0]||(G.Views[0]={}),G.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:le=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:le=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:le=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:le=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:le=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:le=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:le=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:le=!1}break;case"smarttags":break;default:le=!1;break}if(le||o[3].match(/!\[CDATA/))break;if(!c[c.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+c.join("|");if(c[c.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?kse(M,J,V,e.slice(H,o.index)):(V=o,H=o.index+o[0].length);break}if(t.WTF)throw"Unrecognized tag: "+o[3]+"|"+c.join("|")}var _e={};return!t.bookSheets&&!t.bookProps&&(_e.Sheets=l),_e.SheetNames=d,_e.Workbook=G,_e.SSF=fa(Zr),_e.Props=L,_e.Custprops=M,_e}function Q4(n,r){switch(hS(r=r||{}),r.type||"base64"){case"base64":return X6(yl(n),r);case"binary":case"buffer":case"file":return X6(n,r);case"array":return X6(n0(n),r)}}function Pse(n){var r={},t=n.content;if(t.l=28,r.AnsiUserType=t.read_shift(0,"lpstr-ansi"),r.AnsiClipboardFormat=$J(t),t.length-t.l<=4)return r;var e=t.read_shift(4);if(e==0||e>40||(t.l-=4,r.Reserved1=t.read_shift(0,"lpstr-ansi"),t.length-t.l<=4)||(e=t.read_shift(4),e!==1907505652)||(r.UnicodeClipboardFormat=GJ(t),e=t.read_shift(4),e==0||e>40))return r;t.l-=4,r.Reserved2=t.read_shift(0,"lpwstr")}var jse=[60,1084,2066,2165,2175];function Rse(n,r,t,e,s){var i=e,a=[],o=t.slice(t.l,t.l+i);if(s&&s.enc&&s.enc.insitu&&o.length>0)switch(n){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:s.enc.insitu(o)}a.push(o),t.l+=i;for(var c=uh(t,t.l),u=e8[c],l=0;u!=null&&jse.indexOf(c)>-1;)i=uh(t,t.l+2),l=t.l+4,c==2066?l+=4:(c==2165||c==2175)&&(l+=12),o=t.slice(l,t.l+4+i),a.push(o),t.l+=4+i,u=e8[c=uh(t,t.l)];var d=Qh(a);ha(d,0);var f=0;d.lens=[];for(var h=0;h<a.length;++h)d.lens.push(f),f+=a[h].length;if(d.length<e)throw"XLS Record 0x"+n.toString(16)+" Truncated: "+d.length+" < "+e;return r.f(d,d.length,s)}function pu(n,r,t){if(n.t!=="z"&&n.XF){var e=0;try{e=n.z||n.XF.numFmtId||0,r.cellNF&&(n.z=Zr[e])}catch(i){if(r.WTF)throw i}if(!r||r.cellText!==!1)try{n.t==="e"?n.w=n.w||a0[n.v]:e===0||e=="General"?n.t==="n"?(n.v|0)===n.v?n.w=n.v.toString(10):n.w=Ib(n.v):n.w=Um(n.v):n.w=Yl(e,n.v,{date1904:!!t,dateNF:r&&r.dateNF})}catch(i){if(r.WTF)throw i}if(r.cellDates&&e&&n.t=="n"&&fg(Zr[e]||String(e))){var s=Cp(n.v);s&&(n.t="d",n.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}}function Z2(n,r,t){return{v:n,ixfe:r,t}}function Mse(n,r){var t={opts:{}},e={},s=r.dense?[]:{},i={},a={},o=null,c=[],u="",l={},d,f="",h,p,g,v,m={},x=[],y,w,E=[],I=[],T={Sheets:[],WBProps:{date1904:!1},Views:[{}]},R={},D=function(rt){return rt<8?Pm[rt]:rt<64&&I[rt-8]||Pm[rt]},L=function(rt,Je,wt){var yt=Je.XF.data;if(!(!yt||!yt.patternType||!wt||!wt.cellStyles)){Je.s={},Je.s.patternType=yt.patternType;var kt;(kt=Mb(D(yt.icvFore)))&&(Je.s.fgColor={rgb:kt}),(kt=Mb(D(yt.icvBack)))&&(Je.s.bgColor={rgb:kt})}},M=function(rt,Je,wt){if(!(W>1)&&!(wt.sheetRows&&rt.r>=wt.sheetRows)){if(wt.cellStyles&&Je.XF&&Je.XF.data&&L(rt,Je,wt),delete Je.ixfe,delete Je.XF,d=rt,f=Yr(rt),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),rt.r<a.s.r&&(a.s.r=rt.r),rt.c<a.s.c&&(a.s.c=rt.c),rt.r+1>a.e.r&&(a.e.r=rt.r+1),rt.c+1>a.e.c&&(a.e.c=rt.c+1),wt.cellFormula&&Je.f){for(var yt=0;yt<x.length;++yt)if(!(x[yt][0].s.c>rt.c||x[yt][0].s.r>rt.r)&&!(x[yt][0].e.c<rt.c||x[yt][0].e.r<rt.r)){Je.F=Nn(x[yt][0]),(x[yt][0].s.c!=rt.c||x[yt][0].s.r!=rt.r)&&delete Je.f,Je.f&&(Je.f=""+Ba(x[yt][1],a,rt,N,H));break}}wt.dense?(s[rt.r]||(s[rt.r]=[]),s[rt.r][rt.c]=Je):s[f]=Je}},H={enc:!1,sbcch:0,snames:[],sharedf:m,arrayf:x,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!r&&!!r.cellStyles,WTF:!!r&&!!r.wtf};r.password&&(H.password=r.password);var V,P=[],F=[],A=[],_=[],S=!1,N=[];N.SheetNames=H.snames,N.sharedf=H.sharedf,N.arrayf=H.arrayf,N.names=[],N.XTI=[];var C=0,W=0,j=0,B=[],G=[],X;H.codepage=1200,Uc(1200);for(var J=!1;n.l<n.length-1;){var O=n.l,ee=n.read_shift(2);if(ee===0&&C===10)break;var U=n.l===n.length?0:n.read_shift(2),z=e8[ee];if(z&&z.f){if(r.bookSheets&&C===133&&ee!==133)break;if(C=ee,z.r===2||z.r==12){var Z=n.read_shift(2);if(U-=2,!H.enc&&Z!==ee&&((Z&255)<<8|Z>>8)!==ee)throw new Error("rt mismatch: "+Z+"!="+ee);z.r==12&&(n.l+=10,U-=10)}var te={};if(ee===10?te=z.f(n,U,H):te=Rse(ee,z,n,U,H),W==0&&[9,521,1033,2057].indexOf(C)===-1)continue;switch(ee){case 34:t.opts.Date1904=T.WBProps.date1904=te;break;case 134:t.opts.WriteProtect=!0;break;case 47:if(H.enc||(n.l=0),H.enc=te,!r.password)throw new Error("File is password-protected");if(te.valid==null)throw new Error("Encryption scheme unsupported");if(!te.valid)throw new Error("Password is incorrect");break;case 92:H.lastuser=te;break;case 66:var oe=Number(te);switch(oe){case 21010:oe=1200;break;case 32768:oe=1e4;break;case 32769:oe=1252;break}Uc(H.codepage=oe),J=!0;break;case 317:H.rrtabid=te;break;case 25:H.winlocked=te;break;case 439:t.opts.RefreshAll=te;break;case 12:t.opts.CalcCount=te;break;case 16:t.opts.CalcDelta=te;break;case 17:t.opts.CalcIter=te;break;case 13:t.opts.CalcMode=te;break;case 14:t.opts.CalcPrecision=te;break;case 95:t.opts.CalcSaveRecalc=te;break;case 15:H.CalcRefMode=te;break;case 2211:t.opts.FullCalc=te;break;case 129:te.fDialog&&(s["!type"]="dialog"),te.fBelow||((s["!outline"]||(s["!outline"]={})).above=!0),te.fRight||((s["!outline"]||(s["!outline"]={})).left=!0);break;case 224:E.push(te);break;case 430:N.push([te]),N[N.length-1].XTI=[];break;case 35:case 547:N[N.length-1].push(te);break;case 24:case 536:X={Name:te.Name,Ref:Ba(te.rgce,a,null,N,H)},te.itab>0&&(X.Sheet=te.itab-1),N.names.push(X),N[0]||(N[0]=[],N[0].XTI=[]),N[N.length-1].push(te),te.Name=="_xlnm._FilterDatabase"&&te.itab>0&&te.rgce&&te.rgce[0]&&te.rgce[0][0]&&te.rgce[0][0][0]=="PtgArea3d"&&(G[te.itab-1]={ref:Nn(te.rgce[0][0][1][2])});break;case 22:H.ExternCount=te;break;case 23:N.length==0&&(N[0]=[],N[0].XTI=[]),N[N.length-1].XTI=N[N.length-1].XTI.concat(te),N.XTI=N.XTI.concat(te);break;case 2196:if(H.biff<8)break;X!=null&&(X.Comment=te[1]);break;case 18:s["!protect"]=te;break;case 19:te!==0&&H.WTF&&console.error("Password verifier: "+te);break;case 133:i[te.pos]=te,H.snames.push(te.name);break;case 10:{if(--W)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,s["!ref"]=Nn(a),r.sheetRows&&r.sheetRows<=a.e.r){var ue=a.e.r;a.e.r=r.sheetRows-1,s["!fullref"]=s["!ref"],s["!ref"]=Nn(a),a.e.r=ue}a.e.r++,a.e.c++}P.length>0&&(s["!merges"]=P),F.length>0&&(s["!objects"]=F),A.length>0&&(s["!cols"]=A),_.length>0&&(s["!rows"]=_),T.Sheets.push(R)}u===""?l=s:e[u]=s,s=r.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(H.biff===8&&(H.biff={9:2,521:3,1033:4}[ee]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[te.BIFFVer]||8),H.biffguess=te.BIFFVer==0,te.BIFFVer==0&&te.dt==4096&&(H.biff=5,J=!0,Uc(H.codepage=28591)),H.biff==8&&te.BIFFVer==0&&te.dt==16&&(H.biff=2),W++)break;if(s=r.dense?[]:{},H.biff<8&&!J&&(J=!0,Uc(H.codepage=r.codepage||1252)),H.biff<5||te.BIFFVer==0&&te.dt==4096){u===""&&(u="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var le={pos:n.l-U,name:u};i[le.pos]=le,H.snames.push(u)}else u=(i[O]||{name:""}).name;te.dt==32&&(s["!type"]="chart"),te.dt==64&&(s["!type"]="macro"),P=[],F=[],H.arrayf=x=[],A=[],_=[],S=!1,R={Hidden:(i[O]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:s["!type"]=="chart"&&(r.dense?(s[te.r]||[])[te.c]:s[Yr({c:te.c,r:te.r})])&&++te.c,y={ixfe:te.ixfe,XF:E[te.ixfe]||{},v:te.val,t:"n"},j>0&&(y.z=B[y.ixfe>>8&63]),pu(y,r,t.opts.Date1904),M({c:te.c,r:te.r},y,r);break;case 5:case 517:y={ixfe:te.ixfe,XF:E[te.ixfe],v:te.val,t:te.t},j>0&&(y.z=B[y.ixfe>>8&63]),pu(y,r,t.opts.Date1904),M({c:te.c,r:te.r},y,r);break;case 638:y={ixfe:te.ixfe,XF:E[te.ixfe],v:te.rknum,t:"n"},j>0&&(y.z=B[y.ixfe>>8&63]),pu(y,r,t.opts.Date1904),M({c:te.c,r:te.r},y,r);break;case 189:for(var ce=te.c;ce<=te.C;++ce){var _e=te.rkrec[ce-te.c][0];y={ixfe:_e,XF:E[_e],v:te.rkrec[ce-te.c][1],t:"n"},j>0&&(y.z=B[y.ixfe>>8&63]),pu(y,r,t.opts.Date1904),M({c:ce,r:te.r},y,r)}break;case 6:case 518:case 1030:{if(te.val=="String"){o=te;break}if(y=Z2(te.val,te.cell.ixfe,te.tt),y.XF=E[y.ixfe],r.cellFormula){var fe=te.formula;if(fe&&fe[0]&&fe[0][0]&&fe[0][0][0]=="PtgExp"){var ge=fe[0][0][1][0],xe=fe[0][0][1][1],Le=Yr({r:ge,c:xe});m[Le]?y.f=""+Ba(te.formula,a,te.cell,N,H):y.F=((r.dense?(s[ge]||[])[xe]:s[Le])||{}).F}else y.f=""+Ba(te.formula,a,te.cell,N,H)}j>0&&(y.z=B[y.ixfe>>8&63]),pu(y,r,t.opts.Date1904),M(te.cell,y,r),o=te}break;case 7:case 519:if(o)o.val=te,y=Z2(te,o.cell.ixfe,"s"),y.XF=E[y.ixfe],r.cellFormula&&(y.f=""+Ba(o.formula,a,o.cell,N,H)),j>0&&(y.z=B[y.ixfe>>8&63]),pu(y,r,t.opts.Date1904),M(o.cell,y,r),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{x.push(te);var Me=Yr(te[0].s);if(h=r.dense?(s[te[0].s.r]||[])[te[0].s.c]:s[Me],r.cellFormula&&h){if(!o||!Me||!h)break;h.f=""+Ba(te[1],a,te[0],N,H),h.F=Nn(te[0])}}break;case 1212:{if(!r.cellFormula)break;if(f){if(!o)break;m[Yr(o.cell)]=te[0],h=r.dense?(s[o.cell.r]||[])[o.cell.c]:s[Yr(o.cell)],(h||{}).f=""+Ba(te[0],a,d,N,H)}}break;case 253:y=Z2(c[te.isst].t,te.ixfe,"s"),c[te.isst].h&&(y.h=c[te.isst].h),y.XF=E[y.ixfe],j>0&&(y.z=B[y.ixfe>>8&63]),pu(y,r,t.opts.Date1904),M({c:te.c,r:te.r},y,r);break;case 513:r.sheetStubs&&(y={ixfe:te.ixfe,XF:E[te.ixfe],t:"z"},j>0&&(y.z=B[y.ixfe>>8&63]),pu(y,r,t.opts.Date1904),M({c:te.c,r:te.r},y,r));break;case 190:if(r.sheetStubs)for(var Oe=te.c;Oe<=te.C;++Oe){var ze=te.ixfe[Oe-te.c];y={ixfe:ze,XF:E[ze],t:"z"},j>0&&(y.z=B[y.ixfe>>8&63]),pu(y,r,t.opts.Date1904),M({c:Oe,r:te.r},y,r)}break;case 214:case 516:case 4:y=Z2(te.val,te.ixfe,"s"),y.XF=E[y.ixfe],j>0&&(y.z=B[y.ixfe>>8&63]),pu(y,r,t.opts.Date1904),M({c:te.c,r:te.r},y,r);break;case 0:case 512:W===1&&(a=te);break;case 252:c=te;break;case 1054:if(H.biff==4){B[j++]=te[1];for(var Ke=0;Ke<j+163&&Zr[Ke]!=te[1];++Ke);Ke>=163&&Im(te[1],j+163)}else Im(te[1],te[0]);break;case 30:{B[j++]=te;for(var ot=0;ot<j+163&&Zr[ot]!=te;++ot);ot>=163&&Im(te,j+163)}break;case 229:P=P.concat(te);break;case 93:F[te.cmo[0]]=H.lastobj=te;break;case 438:H.lastobj.TxO=te;break;case 127:H.lastobj.ImData=te;break;case 440:for(v=te[0].s.r;v<=te[0].e.r;++v)for(g=te[0].s.c;g<=te[0].e.c;++g)h=r.dense?(s[v]||[])[g]:s[Yr({c:g,r:v})],h&&(h.l=te[1]);break;case 2048:for(v=te[0].s.r;v<=te[0].e.r;++v)for(g=te[0].s.c;g<=te[0].e.c;++g)h=r.dense?(s[v]||[])[g]:s[Yr({c:g,r:v})],h&&h.l&&(h.l.Tooltip=te[1]);break;case 28:{if(H.biff<=5&&H.biff>=2)break;h=r.dense?(s[te[0].r]||[])[te[0].c]:s[Yr(te[0])];var $e=F[te[2]];h||(r.dense?(s[te[0].r]||(s[te[0].r]=[]),h=s[te[0].r][te[0].c]={t:"z"}):h=s[Yr(te[0])]={t:"z"},a.e.r=Math.max(a.e.r,te[0].r),a.s.r=Math.min(a.s.r,te[0].r),a.e.c=Math.max(a.e.c,te[0].c),a.s.c=Math.min(a.s.c,te[0].c)),h.c||(h.c=[]),p={a:te[1],t:$e.TxO.t},h.c.push(p)}break;case 2173:nte(E[te.ixfe],te.ext);break;case 125:{if(!H.cellStyles)break;for(;te.e>=te.s;)A[te.e--]={width:te.w/256,level:te.level||0,hidden:!!(te.flags&1)},S||(S=!0,oS(te.w/256)),ag(A[te.e+1])}break;case 520:{var Ve={};te.level!=null&&(_[te.r]=Ve,Ve.level=te.level),te.hidden&&(_[te.r]=Ve,Ve.hidden=!0),te.hpt&&(_[te.r]=Ve,Ve.hpt=te.hpt,Ve.hpx=Lb(te.hpt))}break;case 38:case 39:case 40:case 41:s["!margins"]||xb(s["!margins"]={}),s["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ee]]=te;break;case 161:s["!margins"]||xb(s["!margins"]={}),s["!margins"].header=te.header,s["!margins"].footer=te.footer;break;case 574:te.RTL&&(T.Views[0].RTL=!0);break;case 146:I=te;break;case 2198:V=te;break;case 140:w=te;break;case 442:u?R.CodeName=te||R.name:T.WBProps.CodeName=te||"ThisWorkbook";break}}else z||console.error("Missing Info for XLS Record 0x"+ee.toString(16)),n.l+=U}return t.SheetNames=Yu(i).sort(function(He,rt){return Number(He)-Number(rt)}).map(function(He){return i[He].name}),r.bookSheets||(t.Sheets=e),!t.SheetNames.length&&l["!ref"]?(t.SheetNames.push("Sheet1"),t.Sheets&&(t.Sheets.Sheet1=l)):t.Preamble=l,t.Sheets&&G.forEach(function(He,rt){t.Sheets[t.SheetNames[rt]]["!autofilter"]=He}),t.Strings=c,t.SSF=fa(Zr),H.enc&&(t.Encryption=H.enc),V&&(t.Themes=V),t.Metadata={},w!==void 0&&(t.Metadata.Country=w),N.names.length>0&&(T.Names=N.names),t.Workbook=T,t}var bN={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Lse(n,r,t){var e=En.find(n,"/!DocumentSummaryInformation");if(e&&e.size>0)try{var s=eN(e,QJ,bN.DSI);for(var i in s)r[i]=s[i]}catch(u){if(t.WTF)throw u}var a=En.find(n,"/!SummaryInformation");if(a&&a.size>0)try{var o=eN(a,eZ,bN.SI);for(var c in o)r[c]==null&&(r[c]=o[c])}catch(u){if(t.WTF)throw u}r.HeadingPairs&&r.TitlesOfParts&&(FT(r.HeadingPairs,r.TitlesOfParts,r,t),delete r.HeadingPairs,delete r.TitlesOfParts)}function wD(n,r){r||(r={}),hS(r),KC(),r.codepage&&z8(r.codepage);var t,e;if(n.FullPaths){if(En.find(n,"/encryption"))throw new Error("File is password-protected");t=En.find(n,"!CompObj"),e=En.find(n,"/Workbook")||En.find(n,"/Book")}else{switch(r.type){case"base64":n=Bc(yl(n));break;case"binary":n=Bc(n);break;case"buffer":break;case"array":Array.isArray(n)||(n=Array.prototype.slice.call(n));break}ha(n,0),e={content:n}}var s,i;if(t&&Pse(t),r.bookProps&&!r.bookSheets)s={};else{var a=xn?"buffer":"array";if(e&&e.content)s=Mse(e.content,r);else if((i=En.find(n,"PerfectOffice_MAIN"))&&i.content)s=vb.to_workbook(i.content,(r.type=a,r));else if((i=En.find(n,"NativeContent_MAIN"))&&i.content)s=vb.to_workbook(i.content,(r.type=a,r));else throw(i=En.find(n,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");r.bookVBA&&n.FullPaths&&En.find(n,"/_VBA_PROJECT_CUR/VBA/dir")&&(s.vbaraw=wte(n))}var o={};return n.FullPaths&&Lse(n,o,r),s.Props=s.Custprops=o,r.bookFiles&&(s.cfb=n),s}var vw={0:{f:bne},1:{f:wne},2:{f:Dne},3:{f:Nne},4:{f:Sne},5:{f:Tne},6:{f:jne},7:{f:kne},8:{f:Fne},9:{f:One},10:{f:Mne},11:{f:Lne},12:{f:_ne},13:{f:Ine},14:{f:Ane},15:{f:Ene},16:{f:gD},17:{f:Rne},18:{f:Cne},19:{f:tS},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:dse},40:{},42:{},43:{f:Mee},44:{f:Ree},45:{f:Lee},46:{f:Fee},47:{f:Oee},48:{},49:{f:BJ},50:{},51:{f:ite},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:KT},62:{f:Pne},63:{f:ute},64:{f:Gne},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:$a,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:$ne},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:xne},148:{f:vne,p:16},151:{f:Hne},152:{},153:{f:cse},154:{},155:{},156:{f:lse},157:{},158:{},159:{T:1,f:eee},160:{T:-1},161:{T:1,f:i0},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Bne},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:ste},336:{T:-1},337:{f:ate,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:X4},357:{},358:{},359:{},360:{T:1},361:{},362:{f:XT},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:qne},427:{f:Wne},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Vne},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:yne},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Une},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:X4},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:vte},633:{T:1},634:{T:-1},635:{T:1,f:bte},636:{T:-1},637:{f:HJ},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Qne},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Yne},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},e8={6:{f:G6},10:{f:$h},12:{f:Si},13:{f:Si},14:{f:si},15:{f:si},16:{f:qa},17:{f:si},18:{f:si},19:{f:Si},20:{f:sN},21:{f:sN},23:{f:XT},24:{f:aN},25:{f:si},26:{},27:{},28:{f:mQ},29:{},34:{f:si},35:{f:iN},38:{f:qa},39:{f:qa},40:{f:qa},41:{f:qa},42:{f:si},43:{f:si},47:{f:yee},49:{f:KZ},51:{f:Si},60:{},61:{f:GZ},64:{f:si},65:{f:XZ},66:{f:Si},77:{},80:{},81:{},82:{},85:{f:Si},89:{},90:{},91:{},92:{f:BZ},93:{f:bQ},94:{},95:{f:si},96:{},97:{},99:{f:si},125:{f:KT},128:{f:aQ},129:{f:UZ},130:{f:Si},131:{f:si},132:{f:si},133:{f:HZ},134:{},140:{f:SQ},141:{f:Si},144:{},146:{f:NQ},151:{},152:{},153:{},154:{},155:{},156:{f:Si},157:{},158:{},160:{f:DQ},161:{f:kQ},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:rQ},190:{f:nQ},193:{f:$h},197:{},198:{},199:{},200:{},201:{},202:{f:si},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Si},220:{},221:{f:si},222:{},224:{f:iQ},225:{f:FZ},226:{f:$h},227:{},229:{f:gQ},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:qZ},253:{f:JZ},255:{f:WZ},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:WT},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:si},353:{f:$h},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:lQ},431:{f:si},432:{},433:{},434:{},437:{},438:{f:xQ},439:{f:si},440:{f:wQ},441:{},442:{f:Iy},443:{},444:{f:Si},445:{},446:{},448:{f:$h},449:{f:$Z,r:2},450:{f:$h},512:{f:rN},513:{f:TQ},515:{f:oQ},516:{f:ZZ},517:{f:nN},519:{f:IQ},520:{f:zZ},523:{},545:{f:oN},549:{f:tN},566:{},574:{f:YZ},638:{f:tQ},659:{},1048:{},1054:{f:QZ},1084:{},1212:{f:hQ},2048:{f:_Q},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:X2},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:$h},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:AQ,r:12},2173:{f:rte,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:si,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:dQ,r:12},2197:{},2198:{f:Kee,r:12},2199:{},2200:{},2201:{},2202:{f:fQ,r:12},2203:{f:$h},2204:{},2205:{},2206:{},2207:{},2211:{f:VZ},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Si},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:CQ},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:EQ},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:rN},1:{},2:{f:MQ},3:{f:RQ},4:{f:jQ},5:{f:nN},7:{f:LQ},8:{},9:{f:X2},11:{},22:{f:Si},30:{f:eQ},31:{},32:{},33:{f:oN},36:{},37:{f:tN},50:{f:OQ},62:{},52:{},67:{},68:{f:Si},69:{},86:{},126:{},127:{f:PQ},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:FQ},223:{},234:{},354:{},421:{},518:{f:G6},521:{f:X2},536:{f:aN},547:{f:iN},561:{},579:{},1030:{f:G6},1033:{f:X2},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function _c(n,r,t,e){var s=r;if(!isNaN(s)){var i=(t||[]).length||0,a=n.next(4);a.write_shift(2,s),a.write_shift(2,i),i>0&&DT(t)&&n.push(t)}}function vN(n,r){var t=r||{},e=t.dense?[]:{};n=n.replace(/<!--.*?-->/g,"");var s=n.match(/<table/i);if(!s)throw new Error("Invalid HTML: could not find <table>");var i=n.match(/<\/table/i),a=s.index,o=i&&i.index||n.length,c=oJ(n.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,l=0,d=0,f=0,h={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(a=0;a<c.length;++a){var g=c[a].trim(),v=g.slice(0,3).toLowerCase();if(v=="<tr"){if(++u,t.sheetRows&&t.sheetRows<=u){--u;break}l=0;continue}if(!(v!="<td"&&v!="<th")){var m=g.split(/<\/t[dh]>/i);for(o=0;o<m.length;++o){var x=m[o].trim();if(x.match(/<t[dh]/i)){for(var y=x,w=0;y.charAt(0)=="<"&&(w=y.indexOf(">"))>-1;)y=y.slice(w+1);for(var E=0;E<p.length;++E){var I=p[E];I.s.c==l&&I.s.r<u&&u<=I.e.r&&(l=I.e.c+1,E=-1)}var T=Hr(x.slice(0,x.indexOf(">")));f=T.colspan?+T.colspan:1,((d=+T.rowspan)>1||f>1)&&p.push({s:{r:u,c:l},e:{r:u+(d||1)-1,c:l+f-1}});var R=T.t||T["data-t"]||"";if(!y.length){l+=f;continue}if(y=bT(y),h.s.r>u&&(h.s.r=u),h.e.r<u&&(h.e.r=u),h.s.c>l&&(h.s.c=l),h.e.c<l&&(h.e.c=l),!y.length){l+=f;continue}var D={t:"s",v:y};t.raw||!y.trim().length||R=="s"||(y==="TRUE"?D={t:"b",v:!0}:y==="FALSE"?D={t:"b",v:!1}:isNaN(Wc(y))?isNaN(ig(y).getDate())||(D={t:"d",v:Ji(y)},t.cellDates||(D={t:"n",v:bo(D.v)}),D.z=t.dateNF||Zr[14]):D={t:"n",v:Wc(y)}),t.dense?(e[u]||(e[u]=[]),e[u][l]=D):e[Yr({r:u,c:l})]=D,l+=f}}}}return e["!ref"]=Nn(h),p.length&&(e["!merges"]=p),e}function Ose(n,r,t,e){for(var s=n["!merges"]||[],i=[],a=r.s.c;a<=r.e.c;++a){for(var o=0,c=0,u=0;u<s.length;++u)if(!(s[u].s.r>t||s[u].s.c>a)&&!(s[u].e.r<t||s[u].e.c<a)){if(s[u].s.r<t||s[u].s.c<a){o=-1;break}o=s[u].e.r-s[u].s.r+1,c=s[u].e.c-s[u].s.c+1;break}if(!(o<0)){var l=Yr({r:t,c:a}),d=e.dense?(n[t]||[])[a]:n[l],f=d&&d.v!=null&&(d.h||K8(d.w||(_h(d),d.w)||""))||"",h={};o>1&&(h.rowspan=o),c>1&&(h.colspan=c),e.editable?f='<span contenteditable="true">'+f+"</span>":d&&(h["data-t"]=d&&d.t||"z",d.v!=null&&(h["data-v"]=d.v),d.z!=null&&(h["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(f='<a href="'+d.l.Target+'">'+f+"</a>")),h.id=(e.id||"sjs")+"-"+l,i.push(SJ("td",f,h))}}var p="<tr>";return p+i.join("")+"</tr>"}var Fse='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Bse="</body></html>";function Use(n,r){var t=n.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!t||t.length==0)throw new Error("Invalid HTML: could not find <table>");if(t.length==1)return Yf(vN(t[0],r),r);var e=pS();return t.forEach(function(s,i){mS(e,vN(s,r),"Sheet"+(i+1))}),e}function Hse(n,r,t){var e=[];return e.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function qse(n,r){var t=r||{},e=t.header!=null?t.header:Fse,s=t.footer!=null?t.footer:Bse,i=[e],a=pg(n["!ref"]);t.dense=Array.isArray(n),i.push(Hse(n,a,t));for(var o=a.s.r;o<=a.e.r;++o)i.push(Ose(n,a,o,t));return i.push("</table>"+s),i.join("")}function _D(n,r,t){var e=t||{},s=0,i=0;if(e.origin!=null)if(typeof e.origin=="number")s=e.origin;else{var a=typeof e.origin=="string"?fo(e.origin):e.origin;s=a.r,i=a.c}var o=r.getElementsByTagName("tr"),c=Math.min(e.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:s,c:i}};if(n["!ref"]){var l=pg(n["!ref"]);u.s.r=Math.min(u.s.r,l.s.r),u.s.c=Math.min(u.s.c,l.s.c),u.e.r=Math.max(u.e.r,l.e.r),u.e.c=Math.max(u.e.c,l.e.c),s==-1&&(u.e.r=s=l.e.r+1)}var d=[],f=0,h=n["!rows"]||(n["!rows"]=[]),p=0,g=0,v=0,m=0,x=0,y=0;for(n["!cols"]||(n["!cols"]=[]);p<o.length&&g<c;++p){var w=o[p];if(yN(w)){if(e.display)continue;h[g]={hidden:!0}}var E=w.children;for(v=m=0;v<E.length;++v){var I=E[v];if(!(e.display&&yN(I))){var T=I.hasAttribute("data-v")?I.getAttribute("data-v"):I.hasAttribute("v")?I.getAttribute("v"):bT(I.innerHTML),R=I.getAttribute("data-z")||I.getAttribute("z");for(f=0;f<d.length;++f){var D=d[f];D.s.c==m+i&&D.s.r<g+s&&g+s<=D.e.r&&(m=D.e.c+1-i,f=-1)}y=+I.getAttribute("colspan")||1,((x=+I.getAttribute("rowspan")||1)>1||y>1)&&d.push({s:{r:g+s,c:m+i},e:{r:g+s+(x||1)-1,c:m+i+(y||1)-1}});var L={t:"s",v:T},M=I.getAttribute("data-t")||I.getAttribute("t")||"";T!=null&&(T.length==0?L.t=M||"z":e.raw||T.trim().length==0||M=="s"||(T==="TRUE"?L={t:"b",v:!0}:T==="FALSE"?L={t:"b",v:!1}:isNaN(Wc(T))?isNaN(ig(T).getDate())||(L={t:"d",v:Ji(T)},e.cellDates||(L={t:"n",v:bo(L.v)}),L.z=e.dateNF||Zr[14]):L={t:"n",v:Wc(T)})),L.z===void 0&&R!=null&&(L.z=R);var H="",V=I.getElementsByTagName("A");if(V&&V.length)for(var P=0;P<V.length&&!(V[P].hasAttribute("href")&&(H=V[P].getAttribute("href"),H.charAt(0)!="#"));++P);H&&H.charAt(0)!="#"&&(L.l={Target:H}),e.dense?(n[g+s]||(n[g+s]=[]),n[g+s][m+i]=L):n[Yr({c:m+i,r:g+s})]=L,u.e.c<m+i&&(u.e.c=m+i),m+=y}}++g}return d.length&&(n["!merges"]=(n["!merges"]||[]).concat(d)),u.e.r=Math.max(u.e.r,g-1+s),n["!ref"]=Nn(u),g>=c&&(n["!fullref"]=Nn((u.e.r=o.length-p+g-1+s,u))),n}function SD(n,r){var t=r||{},e=t.dense?[]:{};return _D(e,n,r)}function Wse(n,r){return Yf(SD(n,r),r)}function yN(n){var r="",t=zse(n);return t&&(r=t(n).getPropertyValue("display")),r||(r=n.style&&n.style.display),r==="none"}function zse(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Vse(n){var r=n.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(e,s){return Array(parseInt(s,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),t=Pn(r.replace(/<[^>]*>/g,""));return[t]}var xN={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function ED(n,r){var t=r||{},e=J8(n),s=[],i,a,o={name:""},c="",u=0,l,d,f={},h=[],p=t.dense?[]:{},g,v,m={value:""},x="",y=0,w=[],E=-1,I=-1,T={s:{r:1e6,c:1e7},e:{r:0,c:0}},R=0,D={},L=[],M={},H=0,V=0,P=[],F=1,A=1,_=[],S={Names:[]},N={},C=["",""],W=[],j={},B="",G=0,X=!1,J=!1,O=0;for(jb.lastIndex=0,e=e.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=jb.exec(e);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(T.e.c>=T.s.c&&T.e.r>=T.s.r?p["!ref"]=Nn(T):p["!ref"]="A1:A1",t.sheetRows>0&&t.sheetRows<=T.e.r&&(p["!fullref"]=p["!ref"],T.e.r=t.sheetRows-1,p["!ref"]=Nn(T)),L.length&&(p["!merges"]=L),P.length&&(p["!rows"]=P),l.name=l.||l.name,typeof JSON<"u"&&JSON.stringify(l),h.push(l.name),f[l.name]=p,J=!1):g[0].charAt(g[0].length-2)!=="/"&&(l=Hr(g[0],!1),E=I=-1,T.s.r=T.s.c=1e7,T.e.r=T.e.c=0,p=t.dense?[]:{},L=[],P=[],J=!0);break;case"table-row-group":g[1]==="/"?--R:++R;break;case"table-row":case"":if(g[1]==="/"){E+=F,F=1;break}if(d=Hr(g[0],!1),d.?E=d.-1:E==-1&&(E=0),F=+d["number-rows-repeated"]||1,F<10)for(O=0;O<F;++O)R>0&&(P[E+O]={level:R});I=-1;break;case"covered-table-cell":g[1]!=="/"&&++I,t.sheetStubs&&(t.dense?(p[E]||(p[E]=[]),p[E][I]={t:"z"}):p[Yr({r:E,c:I})]={t:"z"}),x="",w=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++I,m=Hr(g[0],!1),A=parseInt(m["number-columns-repeated"]||"1",10),v={t:"z",v:null},m.formula&&t.cellFormula!=!1&&(v.f=pN(Pn(m.formula))),(m.||m["value-type"])=="string"&&(v.t="s",v.v=Pn(m["string-value"]||""),t.dense?(p[E]||(p[E]=[]),p[E][I]=v):p[Yr({r:E,c:I})]=v),I+=A-1;else if(g[1]!=="/"){++I,x="",y=0,w=[],A=1;var ee=F?E+F-1:E;if(I>T.e.c&&(T.e.c=I),I<T.s.c&&(T.s.c=I),E<T.s.r&&(T.s.r=E),ee>T.e.r&&(T.e.r=ee),m=Hr(g[0],!1),W=[],j={},v={t:m.||m["value-type"],v:null},t.cellFormula)if(m.formula&&(m.formula=Pn(m.formula)),m["number-matrix-columns-spanned"]&&m["number-matrix-rows-spanned"]&&(H=parseInt(m["number-matrix-rows-spanned"],10)||0,V=parseInt(m["number-matrix-columns-spanned"],10)||0,M={s:{r:E,c:I},e:{r:E+H-1,c:I+V-1}},v.F=Nn(M),_.push([M,v.F])),m.formula)v.f=pN(m.formula);else for(O=0;O<_.length;++O)E>=_[O][0].s.r&&E<=_[O][0].e.r&&I>=_[O][0].s.c&&I<=_[O][0].e.c&&(v.F=_[O][1]);switch((m["number-columns-spanned"]||m["number-rows-spanned"])&&(H=parseInt(m["number-rows-spanned"],10)||0,V=parseInt(m["number-columns-spanned"],10)||0,M={s:{r:E,c:I},e:{r:E+H-1,c:I+V-1}},L.push(M)),m["number-columns-repeated"]&&(A=parseInt(m["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=Ts(m["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(m.value);break;case"percentage":v.t="n",v.v=parseFloat(m.value);break;case"currency":v.t="n",v.v=parseFloat(m.value);break;case"date":v.t="d",v.v=Ji(m["date-value"]),t.cellDates||(v.t="n",v.v=bo(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=sJ(m["time-value"])/86400,t.cellDates&&(v.t="d",v.v=g5(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(m.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",m["string-value"]!=null&&(x=Pn(m["string-value"]),w=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(X=!1,v.t==="s"&&(v.v=x||"",w.length&&(v.R=w),X=y==0),N.Target&&(v.l=N),W.length>0&&(v.c=W,W=[]),x&&t.cellText!==!1&&(v.w=x),X&&(v.t="z",delete v.v),(!X||t.sheetStubs)&&!(t.sheetRows&&t.sheetRows<=E))for(var U=0;U<F;++U){if(A=parseInt(m["number-columns-repeated"]||"1",10),t.dense)for(p[E+U]||(p[E+U]=[]),p[E+U][I]=U==0?v:fa(v);--A>0;)p[E+U][I+A]=fa(v);else for(p[Yr({r:E+U,c:I})]=v;--A>0;)p[Yr({r:E+U,c:I+A})]=fa(v);T.e.c<=I&&(T.e.c=I)}A=parseInt(m["number-columns-repeated"]||"1",10),I+=A-1,A=0,v={},x="",w=[]}N={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((i=s.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&s.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((i=s.pop())[0]!==g[3])throw"Bad state: "+i;j.t=x,w.length&&(j.R=w),j.a=B,W.push(j)}else g[0].charAt(g[0].length-2)!=="/"&&s.push([g[3],!1]);B="",G=0,x="",y=0,w=[];break;case"creator":g[1]==="/"?B=e.slice(G,g.index):G=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((i=s.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&s.push([g[3],!1]);x="",y=0,w=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(D[o.name]=c,(i=s.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&(c="",o=Hr(g[0],!1),s.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(s[s.length-1][0]){case"time-style":case"date-style":a=Hr(g[0],!1),c+=xN[g[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(s[s.length-1][0]){case"time-style":case"date-style":a=Hr(g[0],!1),c+=xN[g[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(s[s.length-1][0]){case"number-style":case"date-style":case"time-style":c+=e.slice(u,g.index);break}else u=g.index+g[0].length;break;case"named-range":a=Hr(g[0],!1),C=Y6(a["cell-range-address"]);var z={Name:a.name,Ref:C[0]+"!"+C[1]};J&&(z.Sheet=h.length),S.Names.push(z);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(s[s.length-1][0])>-1)break;if(g[1]==="/"&&(!m||!m["string-value"])){var Z=Vse(e.slice(y,g.index));x=(x.length>0?x+`
`:"")+Z[0]}else Hr(g[0],!1),y=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{C=Y6(Hr(g[0])["target-range-address"]),f[C[0]]["!autofilter"]={ref:C[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(N=Hr(g[0],!1),!N.href)break;N.Target=Pn(N.href),delete N.href,N.Target.charAt(0)=="#"&&N.Target.indexOf(".")>-1?(C=Y6(N.Target.slice(1)),N.Target="#"+C[0]+"!"+C[1]):N.Target.match(/^\.\.[\\\/]/)&&(N.Target=N.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(t.WTF)throw new Error(g)}}var te={Sheets:f,SheetNames:h,Workbook:S};return t.bookSheets&&delete te.Sheets,te}function wN(n,r){r=r||{},Ol(n,"META-INF/manifest.xml")&&oZ(_i(n,"META-INF/manifest.xml"),r);var t=gl(n,"content.xml");if(!t)throw new Error("Missing content.xml in ODS / UOF file");var e=ED(gs(t),r);return Ol(n,"meta.xml")&&(e.Props=OT(_i(n,"meta.xml"))),e}function _N(n,r){return ED(n,r)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function uS(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function t8(n){return typeof TextDecoder<"u"?new TextDecoder().decode(n):gs(n0(n))}function r8(n){var r=n.reduce(function(s,i){return s+i.length},0),t=new Uint8Array(r),e=0;return n.forEach(function(s){t.set(s,e),e+=s.length}),t}function SN(n){return n-=n>>1&1431655765,n=(n&858993459)+(n>>2&858993459),(n+(n>>4)&252645135)*16843009>>>24}function $se(n,r){for(var t=(n[r+15]&127)<<7|n[r+14]>>1,e=n[r+14]&1,s=r+13;s>=r;--s)e=e*256+n[s];return(n[r+15]&128?-e:e)*Math.pow(10,t-6176)}function Ob(n,r){var t=r?r[0]:0,e=n[t]&127;e:if(n[t++]>=128&&(e|=(n[t]&127)<<7,n[t++]<128||(e|=(n[t]&127)<<14,n[t++]<128)||(e|=(n[t]&127)<<21,n[t++]<128)||(e+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(e+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(e+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return r&&(r[0]=t),e}function Bi(n){var r=0,t=n[r]&127;e:if(n[r++]>=128){if(t|=(n[r]&127)<<7,n[r++]<128||(t|=(n[r]&127)<<14,n[r++]<128)||(t|=(n[r]&127)<<21,n[r++]<128))break e;t|=(n[r]&127)<<28}return t}function za(n){for(var r=[],t=[0];t[0]<n.length;){var e=t[0],s=Ob(n,t),i=s&7;s=Math.floor(s/8);var a=0,o;if(s==0)break;switch(i){case 0:{for(var c=t[0];n[t[0]++]>=128;);o=n.slice(c,t[0])}break;case 5:a=4,o=n.slice(t[0],t[0]+a),t[0]+=a;break;case 1:a=8,o=n.slice(t[0],t[0]+a),t[0]+=a;break;case 2:a=Ob(n,t),o=n.slice(t[0],t[0]+a),t[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(e))}var u={data:o,type:i};r[s]==null?r[s]=[u]:r[s].push(u)}return r}function dS(n,r){return(n==null?void 0:n.map(function(t){return r(t.data)}))||[]}function Gse(n){for(var r,t=[],e=[0];e[0]<n.length;){var s=Ob(n,e),i=za(n.slice(e[0],e[0]+s));e[0]+=s;var a={id:Bi(i[1][0].data),messages:[]};i[2].forEach(function(o){var c=za(o.data),u=Bi(c[3][0].data);a.messages.push({meta:c,data:n.slice(e[0],e[0]+u)}),e[0]+=u}),(r=i[3])!=null&&r[0]&&(a.merge=Bi(i[3][0].data)>>>0>0),t.push(a)}return t}function Yse(n,r){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],e=Ob(r,t),s=[];t[0]<r.length;){var i=r[t[0]]&3;if(i==0){var a=r[t[0]++]>>2;if(a<60)++a;else{var o=a-59;a=r[t[0]],o>1&&(a|=r[t[0]+1]<<8),o>2&&(a|=r[t[0]+2]<<16),o>3&&(a|=r[t[0]+3]<<24),a>>>=0,a++,t[0]+=o}s.push(r.slice(t[0],t[0]+a)),t[0]+=a;continue}else{var c=0,u=0;if(i==1?(u=(r[t[0]]>>2&7)+4,c=(r[t[0]++]&224)<<3,c|=r[t[0]++]):(u=(r[t[0]++]>>2)+1,i==2?(c=r[t[0]]|r[t[0]+1]<<8,t[0]+=2):(c=(r[t[0]]|r[t[0]+1]<<8|r[t[0]+2]<<16|r[t[0]+3]<<24)>>>0,t[0]+=4)),s=[r8(s)],c==0)throw new Error("Invalid offset 0");if(c>s[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(s.push(s[0].slice(-c)),u-=c;u>=s[s.length-1].length;)s.push(s[s.length-1]),u-=s[s.length-1].length;s.push(s[0].slice(-c,-c+u))}}var l=r8(s);if(l.length!=e)throw new Error("Unexpected length: ".concat(l.length," != ").concat(e));return l}function Xse(n){for(var r=[],t=0;t<n.length;){var e=n[t++],s=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,r.push(Yse(e,n.slice(t,t+s))),t+=s}if(t!==n.length)throw new Error("data is not a valid framed stream!");return r8(r)}function Kse(n,r,t,e){var s=uS(n),i=s.getUint32(4,!0),a=(e>1?12:8)+SN(i&(e>1?3470:398))*4,o=-1,c=-1,u=NaN,l=new Date(2001,0,1);i&512&&(o=s.getUint32(a,!0),a+=4),a+=SN(i&(e>1?12288:4096))*4,i&16&&(c=s.getUint32(a,!0),a+=4),i&32&&(u=s.getFloat64(a,!0),a+=8),i&64&&(l.setTime(l.getTime()+s.getFloat64(a,!0)*1e3),a+=8);var d;switch(n[2]){case 0:break;case 2:d={t:"n",v:u};break;case 3:d={t:"s",v:r[c]};break;case 5:d={t:"d",v:l};break;case 6:d={t:"b",v:u>0};break;case 7:d={t:"n",v:u/86400};break;case 8:d={t:"e",v:0};break;case 9:if(o>-1)d={t:"s",v:t[o]};else if(c>-1)d={t:"s",v:r[c]};else if(!isNaN(u))d={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(n.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(n.slice(0,4)))}return d}function Jse(n,r,t){var e=uS(n),s=e.getUint32(8,!0),i=12,a=-1,o=-1,c=NaN,u=NaN,l=new Date(2001,0,1);s&1&&(c=$se(n,i),i+=16),s&2&&(u=e.getFloat64(i,!0),i+=8),s&4&&(l.setTime(l.getTime()+e.getFloat64(i,!0)*1e3),i+=8),s&8&&(o=e.getUint32(i,!0),i+=4),s&16&&(a=e.getUint32(i,!0),i+=4);var d;switch(n[1]){case 0:break;case 2:d={t:"n",v:c};break;case 3:d={t:"s",v:r[o]};break;case 5:d={t:"d",v:l};break;case 6:d={t:"b",v:u>0};break;case 7:d={t:"n",v:u/86400};break;case 8:d={t:"e",v:0};break;case 9:if(a>-1)d={t:"s",v:t[a]};else throw new Error("Unsupported cell type ".concat(n[1]," : ").concat(s&31," : ").concat(n.slice(0,4)));break;case 10:d={t:"n",v:c};break;default:throw new Error("Unsupported cell type ".concat(n[1]," : ").concat(s&31," : ").concat(n.slice(0,4)))}return d}function Zse(n,r,t){switch(n[0]){case 0:case 1:case 2:case 3:return Kse(n,r,t,n[0]);case 5:return Jse(n,r,t);default:throw new Error("Unsupported payload version ".concat(n[0]))}}function If(n){var r=za(n);return Ob(r[1][0].data)}function EN(n,r){var t=za(r.data),e=Bi(t[1][0].data),s=t[3],i=[];return(s||[]).forEach(function(a){var o=za(a.data),c=Bi(o[1][0].data)>>>0;switch(e){case 1:i[c]=t8(o[3][0].data);break;case 8:{var u=n[If(o[9][0].data)][0],l=za(u.data),d=n[If(l[1][0].data)][0],f=Bi(d.meta[1][0].data);if(f!=2001)throw new Error("2000 unexpected reference to ".concat(f));var h=za(d.data);i[c]=h[3].map(function(p){return t8(p.data)}).join("")}break}}),i}function Qse(n,r){var t,e,s,i,a,o,c,u,l,d,f,h,p,g,v=za(n),m=Bi(v[1][0].data)>>>0,x=Bi(v[2][0].data)>>>0,y=((e=(t=v[8])==null?void 0:t[0])==null?void 0:e.data)&&Bi(v[8][0].data)>0||!1,w,E;if((i=(s=v[7])==null?void 0:s[0])!=null&&i.data&&r!=0)w=(o=(a=v[7])==null?void 0:a[0])==null?void 0:o.data,E=(u=(c=v[6])==null?void 0:c[0])==null?void 0:u.data;else if((d=(l=v[4])==null?void 0:l[0])!=null&&d.data&&r!=1)w=(h=(f=v[4])==null?void 0:f[0])==null?void 0:h.data,E=(g=(p=v[3])==null?void 0:p[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(r," cell storage");for(var I=y?4:1,T=uS(w),R=[],D=0;D<w.length/2;++D){var L=T.getUint16(D*2,!0);L<65535&&R.push([D,L])}if(R.length!=x)throw"Expected ".concat(x," cells, found ").concat(R.length);var M=[];for(D=0;D<R.length-1;++D)M[R[D][0]]=E.subarray(R[D][1]*I,R[D+1][1]*I);return R.length>=1&&(M[R[R.length-1][0]]=E.subarray(R[R.length-1][1]*I)),{R:m,cells:M}}function eie(n,r){var t,e=za(r.data),s=(t=e==null?void 0:e[7])!=null&&t[0]?Bi(e[7][0].data)>>>0>0?1:0:-1,i=dS(e[5],function(a){return Qse(a,s)});return{nrows:Bi(e[4][0].data)>>>0,data:i.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(c,u){if(a[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));a[o.R][u]=c}),a},[])}}function tie(n,r,t){var e,s=za(r.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Bi(s[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(s[6][0].data));if(i.e.c=(Bi(s[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(s[7][0].data));t["!ref"]=Nn(i);var a=za(s[4][0].data),o=EN(n,n[If(a[4][0].data)][0]),c=(e=a[17])!=null&&e[0]?EN(n,n[If(a[17][0].data)][0]):[],u=za(a[3][0].data),l=0;u[1].forEach(function(d){var f=za(d.data),h=n[If(f[2][0].data)][0],p=Bi(h.meta[1][0].data);if(p!=6002)throw new Error("6001 unexpected reference to ".concat(p));var g=eie(n,h);g.data.forEach(function(v,m){v.forEach(function(x,y){var w=Yr({r:l+m,c:y}),E=Zse(x,o,c);E&&(t[w]=E)})}),l+=g.nrows})}function rie(n,r){var t=za(r.data),e={"!ref":"A1"},s=n[If(t[2][0].data)],i=Bi(s[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return tie(n,s[0],e),e}function nie(n,r){var t,e=za(r.data),s={name:(t=e[1])!=null&&t[0]?t8(e[1][0].data):"",sheets:[]},i=dS(e[2],If);return i.forEach(function(a){n[a].forEach(function(o){var c=Bi(o.meta[1][0].data);c==6e3&&s.sheets.push(rie(n,o))})}),s}function sie(n,r){var t=pS(),e=za(r.data),s=dS(e[1],If);if(s.forEach(function(i){n[i].forEach(function(a){var o=Bi(a.meta[1][0].data);if(o==2){var c=nie(n,a);c.sheets.forEach(function(u,l){mS(t,u,l==0?c.name:c.name+"_"+l,!0)})}})}),t.SheetNames.length==0)throw new Error("Empty NUMBERS file");return t}function K6(n){var r,t,e,s,i={},a=[];if(n.FullPaths.forEach(function(c){if(c.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),n.FileIndex.forEach(function(c){if(c.name.match(/\.iwa$/)){var u;try{u=Xse(c.content)}catch(d){return console.log("?? "+c.content.length+" "+(d.message||d))}var l;try{l=Gse(u)}catch(d){return console.log("## "+(d.message||d))}l.forEach(function(d){i[d.id]=d.messages,a.push(d.id)})}}),!a.length)throw new Error("File has no messages");var o=((s=(e=(t=(r=i==null?void 0:i[1])==null?void 0:r[0])==null?void 0:t.meta)==null?void 0:e[1])==null?void 0:s[0].data)&&Bi(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||a.forEach(function(c){i[c].forEach(function(u){var l=Bi(u.meta[1][0].data)>>>0;if(l==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return sie(i,o)}function iie(n){return function(t){for(var e=0;e!=n.length;++e){var s=n[e];t[s[0]]===void 0&&(t[s[0]]=s[1]),s[2]==="n"&&(t[s[0]]=Number(t[s[0]]))}}}function hS(n){iie([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(n)}function aie(n){return z0.WS.indexOf(n)>-1?"sheet":n==z0.CS?"chart":n==z0.DS?"dialog":n==z0.MS?"macro":n&&n.length?n:"sheet"}function oie(n,r){if(!n)return 0;try{n=r.map(function(e){return e.id||(e.id=e.strRelID),[e.name,n["!id"][e.id].Target,aie(n["!id"][e.id].Type)]})}catch{return null}return!n||n.length===0?null:n}function lie(n,r,t,e,s,i,a,o,c,u,l,d){try{i[e]=gb(gl(n,t,!0),r);var f=_i(n,r),h;switch(o){case"sheet":h=pse(f,r,s,c,i[e],u,l,d);break;case"chart":if(h=mse(f,r,s,c,i[e],u,l,d),!h||!h["!drawel"])break;var p=nb(h["!drawel"].Target,r),g=K4(p),v=fte(gl(n,p,!0),gb(gl(n,g,!0),p)),m=nb(v,p),x=K4(m);h=Jne(gl(n,m,!0),m,c,gb(gl(n,x,!0),m),u,h);break;case"macro":h=gse(f,r,s,c,i[e],u,l,d);break;case"dialog":h=bse(f,r,s,c,i[e],u,l,d);break;default:throw new Error("Unrecognized sheet type "+o)}a[e]=h;var y=[];i&&i[e]&&Yu(i[e]).forEach(function(w){var E="";if(i[e][w].Type==z0.CMNT){E=nb(i[e][w].Target,r);var I=wse(_i(n,E,!0),E,c);if(!I||!I.length)return;cN(h,I,!1)}i[e][w].Type==z0.TCMNT&&(E=nb(i[e][w].Target,r),y=y.concat(mte(_i(n,E,!0),c)))}),y&&y.length&&cN(h,y,!0,c.people||[])}catch(w){if(c.WTF)throw w}}function Ml(n){return n.charAt(0)=="/"?n.slice(1):n}function cie(n,r){if(lT(),r=r||{},hS(r),Ol(n,"META-INF/manifest.xml")||Ol(n,"objectdata.xml"))return wN(n,r);if(Ol(n,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof K6<"u"){if(n.FileIndex)return K6(n);var t=En.utils.cfb_new();return L3(n).forEach(function(P){uJ(t,P,cJ(n,P))}),K6(t)}throw new Error("Unsupported NUMBERS file")}if(!Ol(n,"[Content_Types].xml"))throw Ol(n,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ol(n,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var e=L3(n),s=iZ(gl(n,"[Content_Types].xml")),i=!1,a,o;if(s.workbooks.length===0&&(o="xl/workbook.xml",_i(n,o,!0)&&s.workbooks.push(o)),s.workbooks.length===0){if(o="xl/workbook.bin",!_i(n,o,!0))throw new Error("Could not find workbook");s.workbooks.push(o),i=!0}s.workbooks[0].slice(-3)=="bin"&&(i=!0);var c={},u={};if(!r.bookSheets&&!r.bookProps){if(yb=[],s.sst)try{yb=xse(_i(n,Ml(s.sst)),s.sst,r)}catch(P){if(r.WTF)throw P}r.cellStyles&&s.themes.length&&(c=yse(gl(n,s.themes[0].replace(/^\//,""),!0)||"",s.themes[0],r)),s.style&&(u=vse(_i(n,Ml(s.style)),s.style,c,r))}s.links.map(function(P){try{var F=gb(gl(n,K4(Ml(P))),P);return Sse(_i(n,Ml(P)),F,P,r)}catch{}});var l=fse(_i(n,Ml(s.workbooks[0])),s.workbooks[0],r),d={},f="";s.coreprops.length&&(f=_i(n,Ml(s.coreprops[0]),!0),f&&(d=OT(f)),s.extprops.length!==0&&(f=_i(n,Ml(s.extprops[0]),!0),f&&uZ(f,d,r)));var h={};(!r.bookSheets||r.bookProps)&&s.custprops.length!==0&&(f=gl(n,Ml(s.custprops[0]),!0),f&&(h=hZ(f,r)));var p={};if((r.bookSheets||r.bookProps)&&(l.Sheets?a=l.Sheets.map(function(F){return F.name}):d.Worksheets&&d.SheetNames.length>0&&(a=d.SheetNames),r.bookProps&&(p.Props=d,p.Custprops=h),r.bookSheets&&typeof a<"u"&&(p.SheetNames=a),r.bookSheets?p.SheetNames:r.bookProps))return p;a={};var g={};r.bookDeps&&s.calcchain&&(g=_se(_i(n,Ml(s.calcchain)),s.calcchain));var v=0,m={},x,y;{var w=l.Sheets;d.Worksheets=w.length,d.SheetNames=[];for(var E=0;E!=w.length;++E)d.SheetNames[E]=w[E].name}var I=i?"bin":"xml",T=s.workbooks[0].lastIndexOf("/"),R=(s.workbooks[0].slice(0,T+1)+"_rels/"+s.workbooks[0].slice(T+1)+".rels").replace(/^\//,"");Ol(n,R)||(R="xl/_rels/workbook."+I+".rels");var D=gb(gl(n,R,!0),R.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(r.xlmeta=Ese(_i(n,Ml(s.metadata[0])),s.metadata[0],r)),(s.people||[]).length>=1&&(r.people=gte(_i(n,Ml(s.people[0])),r)),D&&(D=oie(D,l.Sheets));var L=_i(n,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=d.Worksheets;++v){var M="sheet";if(D&&D[v]?(x="xl/"+D[v][1].replace(/[\/]?xl\//,""),Ol(n,x)||(x=D[v][1]),Ol(n,x)||(x=R.replace(/_rels\/.*$/,"")+D[v][1]),M=D[v][2]):(x="xl/worksheets/sheet"+(v+1-L)+"."+I,x=x.replace(/sheet0\./,"sheet.")),y=x.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),r&&r.sheets!=null)switch(typeof r.sheets){case"number":if(v!=r.sheets)continue e;break;case"string":if(d.SheetNames[v].toLowerCase()!=r.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(r.sheets)){for(var H=!1,V=0;V!=r.sheets.length;++V)typeof r.sheets[V]=="number"&&r.sheets[V]==v&&(H=1),typeof r.sheets[V]=="string"&&r.sheets[V].toLowerCase()==d.SheetNames[v].toLowerCase()&&(H=1);if(!H)continue e}}lie(n,x,y,d.SheetNames[v],v,m,a,M,r,l,c,u)}return p={Directory:s,Workbook:l,Props:d,Custprops:h,Deps:g,Sheets:a,SheetNames:d.SheetNames,Strings:yb,Styles:u,Themes:c,SSF:fa(Zr)},r&&r.bookFiles&&(n.files?(p.keys=e,p.files=n.files):(p.keys=[],p.files={},n.FullPaths.forEach(function(P,F){P=P.replace(/^Root Entry[\/]/,""),p.keys.push(P),p.files[P]=n.FileIndex[F]}))),r&&r.bookVBA&&(s.vba.length>0?p.vbaraw=_i(n,Ml(s.vba[0]),!0):s.defaults&&s.defaults.bin===xte&&(p.vbaraw=_i(n,"xl/vbaProject.bin",!0))),p}function uie(n,r){var t=r||{},e="Workbook",s=En.find(n,e);try{if(e="/!DataSpaces/Version",s=En.find(n,e),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+e);if(ree(s.content),e="/!DataSpaces/DataSpaceMap",s=En.find(n,e),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+e);var i=see(s.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+e);if(e="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",s=En.find(n,e),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+e);var a=iee(s.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+e);if(e="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",s=En.find(n,e),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+e);oee(s.content)}catch{}if(e="/EncryptionInfo",s=En.find(n,e),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+e);var o=lee(s.content);if(e="/EncryptedPackage",s=En.find(n,e),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+e);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],s.content,t.password||"",t);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],s.content,t.password||"",t);throw new Error("File is password-protected")}function fS(n,r){var t="";switch((r||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=yl(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(r&&r.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function die(n,r){return En.find(n,"EncryptedPackage")?uie(n,r):wD(n,r)}function hie(n,r){var t,e=n,s=r||{};return s.type||(s.type=xn&&Buffer.isBuffer(n)?"buffer":"base64"),t=pT(e,s),cie(t,s)}function ND(n,r){var t=0;e:for(;t<n.length;)switch(n.charCodeAt(t)){case 10:case 13:case 32:++t;break;case 60:return Q4(n.slice(t),r);default:break e}return Rb.to_workbook(n,r)}function fie(n,r){var t="",e=fS(n,r);switch(r.type){case"base64":t=yl(n);break;case"binary":t=n;break;case"buffer":t=n.toString("binary");break;case"array":t=Hm(n);break;default:throw new Error("Unrecognized type "+r.type)}return e[0]==239&&e[1]==187&&e[2]==191&&(t=gs(t)),r.type="binary",ND(t,r)}function pie(n,r){var t=n;return r.type=="base64"&&(t=yl(t)),t=Zh.utils.decode(1200,t.slice(2),"str"),r.type="binary",ND(t,r)}function mie(n){return n.match(/[^\x00-\x7F]/)?sb(n):n}function J6(n,r,t,e){return e?(t.type="string",Rb.to_workbook(n,t)):Rb.to_workbook(r,t)}function Wm(n,r){KC();var t=r||{};if(typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer)return Wm(new Uint8Array(n),(t=fa(t),t.type="array",t));typeof Uint8Array<"u"&&n instanceof Uint8Array&&!t.type&&(t.type=typeof Deno<"u"?"buffer":"array");var e=n,s=[0,0,0,0],i=!1;if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t1={},t.dateNF&&(t1.dateNF=t.dateNF),t.type||(t.type=xn&&Buffer.isBuffer(n)?"buffer":"base64"),t.type=="file"&&(t.type=xn?"buffer":"binary",e=rJ(n),typeof Uint8Array<"u"&&!xn&&(t.type="array")),t.type=="string"&&(i=!0,t.type="binary",t.codepage=65001,e=mie(n)),t.type=="array"&&typeof Uint8Array<"u"&&n instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return t=fa(t),t.type="array",Wm(V8(e),t)}switch((s=fS(e,t))[0]){case 208:if(s[1]===207&&s[2]===17&&s[3]===224&&s[4]===161&&s[5]===177&&s[6]===26&&s[7]===225)return die(En.read(e,t),t);break;case 9:if(s[1]<=8)return wD(e,t);break;case 60:return Q4(e,t);case 73:if(s[1]===73&&s[2]===42&&s[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(s[1]===68)return WQ(e,t);break;case 84:if(s[1]===65&&s[2]===66&&s[3]===76)return HQ.to_workbook(e,t);break;case 80:return s[1]===75&&s[2]<9&&s[3]<9?hie(e,t):J6(n,e,t,i);case 239:return s[3]===60?Q4(e,t):J6(n,e,t,i);case 255:if(s[1]===254)return pie(e,t);if(s[1]===0&&s[2]===2&&s[3]===0)return vb.to_workbook(e,t);break;case 0:if(s[1]===0&&(s[2]>=2&&s[3]===0||s[2]===0&&(s[3]===8||s[3]===9)))return vb.to_workbook(e,t);break;case 3:case 131:case 139:case 140:return lN.to_workbook(e,t);case 123:if(s[1]===92&&s[2]===114&&s[3]===116)return xee.to_workbook(e,t);break;case 10:case 13:case 32:return fie(e,t);case 137:if(s[1]===80&&s[2]===78&&s[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return BQ.indexOf(s[0])>-1&&s[2]<=12&&s[3]<=31?lN.to_workbook(e,t):J6(n,e,t,i)}function gie(n,r,t,e,s,i,a,o){var c=pa(t),u=o.defval,l=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),d=!0,f=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(f,"__rowNum__",{value:t,enumerable:!1})}catch{f.__rowNum__=t}else f.__rowNum__=t;if(!a||n[t])for(var h=r.s.c;h<=r.e.c;++h){var p=a?n[t][h]:n[e[h]+c];if(p===void 0||p.t===void 0){if(u===void 0)continue;i[h]!=null&&(f[i[h]]=u);continue}var g=p.v;switch(p.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(i[h]!=null){if(g==null)if(p.t=="e"&&g===null)f[i[h]]=null;else if(u!==void 0)f[i[h]]=u;else if(l&&g===null)f[i[h]]=null;else continue;else f[i[h]]=l&&(p.t!=="n"||p.t==="n"&&o.rawNumbers!==!1)?g:_h(p,g,o);g!=null&&(d=!1)}}return{row:f,isempty:d}}function n8(n,r){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},e=0,s=1,i=[],a=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},u=r||{},l=u.range!=null?u.range:n["!ref"];switch(u.header===1?e=1:u.header==="A"?e=2:Array.isArray(u.header)?e=3:u.header==null&&(e=0),typeof l){case"string":c=Js(l);break;case"number":c=Js(n["!ref"]),c.s.r=l;break;default:c=l}e>0&&(s=0);var d=pa(c.s.r),f=[],h=[],p=0,g=0,v=Array.isArray(n),m=c.s.r,x=0,y={};v&&!n[m]&&(n[m]=[]);var w=u.skipHidden&&n["!cols"]||[],E=u.skipHidden&&n["!rows"]||[];for(x=c.s.c;x<=c.e.c;++x)if(!(w[x]||{}).hidden)switch(f[x]=Fi(x),t=v?n[m][x]:n[f[x]+d],e){case 1:i[x]=x-c.s.c;break;case 2:i[x]=f[x];break;case 3:i[x]=u.header[x-c.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),o=a=_h(t,null,u),g=y[a]||0,!g)y[a]=1;else{do o=a+"_"+g++;while(y[o]);y[a]=g,y[o]=1}i[x]=o}for(m=c.s.r+s;m<=c.e.r;++m)if(!(E[m]||{}).hidden){var I=gie(n,c,m,f,e,i,v,u);(I.isempty===!1||(e===1?u.blankrows!==!1:u.blankrows))&&(h[p++]=I.row)}return h.length=p,h}var NN=/"/g;function bie(n,r,t,e,s,i,a,o){for(var c=!0,u=[],l="",d=pa(t),f=r.s.c;f<=r.e.c;++f)if(e[f]){var h=o.dense?(n[t]||[])[f]:n[e[f]+d];if(h==null)l="";else if(h.v!=null){c=!1,l=""+(o.rawNumbers&&h.t=="n"?h.v:_h(h,null,o));for(var p=0,g=0;p!==l.length;++p)if((g=l.charCodeAt(p))===s||g===i||g===34||o.forceQuotes){l='"'+l.replace(NN,'""')+'"';break}l=="ID"&&(l='"ID"')}else h.f!=null&&!h.F?(c=!1,l="="+h.f,l.indexOf(",")>=0&&(l='"'+l.replace(NN,'""')+'"')):l="";u.push(l)}return o.blankrows===!1&&c?null:u.join(a)}function AD(n,r){var t=[],e=r??{};if(n==null||n["!ref"]==null)return"";var s=Js(n["!ref"]),i=e.FS!==void 0?e.FS:",",a=i.charCodeAt(0),o=e.RS!==void 0?e.RS:`
`,c=o.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),l="",d=[];e.dense=Array.isArray(n);for(var f=e.skipHidden&&n["!cols"]||[],h=e.skipHidden&&n["!rows"]||[],p=s.s.c;p<=s.e.c;++p)(f[p]||{}).hidden||(d[p]=Fi(p));for(var g=0,v=s.s.r;v<=s.e.r;++v)(h[v]||{}).hidden||(l=bie(n,s,v,d,a,c,i,e),l!=null&&(e.strip&&(l=l.replace(u,"")),(l||e.blankrows!==!1)&&t.push((g++?o:"")+l)));return delete e.dense,t.join("")}function vie(n,r){r||(r={}),r.FS="	",r.RS=`
`;var t=AD(n,r);return t}function yie(n){var r="",t,e="";if(n==null||n["!ref"]==null)return[];var s=Js(n["!ref"]),i="",a=[],o,c=[],u=Array.isArray(n);for(o=s.s.c;o<=s.e.c;++o)a[o]=Fi(o);for(var l=s.s.r;l<=s.e.r;++l)for(i=pa(l),o=s.s.c;o<=s.e.c;++o)if(r=a[o]+i,t=u?(n[l]||[])[o]:n[r],e="",t!==void 0){if(t.F!=null){if(r=t.F,!t.f)continue;e=t.f,r.indexOf(":")==-1&&(r=r+":"+r)}if(t.f!=null)e=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)e=""+t.v;else if(t.t=="b")e=t.v?"TRUE":"FALSE";else if(t.w!==void 0)e="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?e="'"+t.v:e=""+t.v}}c[c.length]=r+"="+e}return c}function kD(n,r,t){var e=t||{},s=+!e.skipHeader,i=n||{},a=0,o=0;if(i&&e.origin!=null)if(typeof e.origin=="number")a=e.origin;else{var c=typeof e.origin=="string"?fo(e.origin):e.origin;a=c.r,o=c.c}var u,l={s:{c:0,r:0},e:{c:o,r:a+r.length-1+s}};if(i["!ref"]){var d=Js(i["!ref"]);l.e.c=Math.max(l.e.c,d.e.c),l.e.r=Math.max(l.e.r,d.e.r),a==-1&&(a=d.e.r+1,l.e.r=a+r.length-1+s)}else a==-1&&(a=0,l.e.r=r.length-1+s);var f=e.header||[],h=0;r.forEach(function(g,v){Yu(g).forEach(function(m){(h=f.indexOf(m))==-1&&(f[h=f.length]=m);var x=g[m],y="z",w="",E=Yr({c:o+h,r:a+v+s});u=Fb(i,E),x&&typeof x=="object"&&!(x instanceof Date)?i[E]=x:(typeof x=="number"?y="n":typeof x=="boolean"?y="b":typeof x=="string"?y="s":x instanceof Date?(y="d",e.cellDates||(y="n",x=bo(x)),w=e.dateNF||Zr[14]):x===null&&e.nullError&&(y="e",x=0),u?(u.t=y,u.v=x,delete u.w,delete u.R,w&&(u.z=w)):i[E]=u={t:y,v:x},w&&(u.z=w))})}),l.e.c=Math.max(l.e.c,o+f.length-1);var p=pa(a);if(s)for(h=0;h<f.length;++h)i[Fi(h+o)+p]={t:"s",v:f[h]};return i["!ref"]=Nn(l),i}function xie(n,r){return kD(null,n,r)}function Fb(n,r,t){if(typeof r=="string"){if(Array.isArray(n)){var e=fo(r);return n[e.r]||(n[e.r]=[]),n[e.r][e.c]||(n[e.r][e.c]={t:"z"})}return n[r]||(n[r]={t:"z"})}return typeof r!="number"?Fb(n,Yr(r)):Fb(n,Yr({r,c:t||0}))}function wie(n,r){if(typeof r=="number"){if(r>=0&&n.SheetNames.length>r)return r;throw new Error("Cannot find sheet # "+r)}else if(typeof r=="string"){var t=n.SheetNames.indexOf(r);if(t>-1)return t;throw new Error("Cannot find sheet name |"+r+"|")}else throw new Error("Cannot find sheet |"+r+"|")}function pS(){return{SheetNames:[],Sheets:{}}}function mS(n,r,t,e){var s=1;if(!t)for(;s<=65535&&n.SheetNames.indexOf(t="Sheet"+s)!=-1;++s,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(e&&n.SheetNames.indexOf(t)>=0){var i=t.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var a=i&&i[1]||t;for(++s;s<=65535&&n.SheetNames.indexOf(t=a+s)!=-1;++s);}if(ise(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=r,t}function _ie(n,r,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var e=wie(n,r);switch(n.Workbook.Sheets[e]||(n.Workbook.Sheets[e]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[e].Hidden=t}function Sie(n,r){return n.z=r,n}function CD(n,r,t){return r?(n.l={Target:r},t&&(n.l.Tooltip=t)):delete n.l,n}function Eie(n,r,t){return CD(n,"#"+r,t)}function Nie(n,r,t){n.c||(n.c=[]),n.c.push({t:r,a:t||"SheetJS"})}function Aie(n,r,t,e){for(var s=typeof r!="string"?r:Js(r),i=typeof r=="string"?r:Nn(r),a=s.s.r;a<=s.e.r;++a)for(var o=s.s.c;o<=s.e.c;++o){var c=Fb(n,a,o);c.t="n",c.F=i,delete c.v,a==s.s.r&&o==s.s.c&&(c.f=t,e&&(c.D=!0))}return n}var My={encode_col:Fi,encode_row:pa,encode_cell:Yr,encode_range:Nn,decode_col:eS,decode_row:Q8,split_cell:FJ,decode_cell:fo,decode_range:pg,format_cell:_h,sheet_add_aoa:PT,sheet_add_json:kD,sheet_add_dom:_D,aoa_to_sheet:mg,json_to_sheet:xie,table_to_sheet:SD,table_to_book:Wse,sheet_to_csv:AD,sheet_to_txt:vie,sheet_to_json:n8,sheet_to_html:qse,sheet_to_formulae:yie,sheet_to_row_object_array:n8,sheet_get_cell:Fb,book_new:pS,book_append_sheet:mS,book_set_sheet_visibility:_ie,cell_set_number_format:Sie,cell_set_hyperlink:CD,cell_set_internal_link:Eie,cell_add_comment:Nie,sheet_set_array_formula:Aie,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const kie=({fileName:n,ensureExcelFile:r,UploadFile:t,setEnsureExcelFile:e,setFileName:s,clearUseRefObject:i})=>{const[a,o]=ne.useState(!1);return ne.useEffect(()=>{n&&n&&o(!0)},[n]),b.jsx("section",{children:a&&b.jsx("section",{className:"fixed inset-0 flex items-center justify-center z-50",children:!r&&b.jsxs("div",{className:" flex flex-col relative items-center justify-center space-y-2 text-dark_grey text_size_5 max-w-sm  w-full bg-white shadow-md p-10",children:[b.jsx("p",{className:"absolute right-2 top-2",onClick:()=>{i(),e(!0),s("")},children:b.jsx(uA,{className:"text-3xl text-grey "})}),b.jsx("p",{children:"Filename"}),b.jsx("p",{className:"text-center",children:n}),b.jsxs("p",{className:"text-[red] text-center",children:[" ","Error: Please upload CSV or XLS file type only"," "]})]})})})},Cie=({fileNameForSuccessful:n,setCloseSavedModel:r,backToHome:t})=>{const[e,s]=ne.useState(!0);return ne.useEffect(()=>{n&&n&&s(!0)},[n]),b.jsx("div",{children:e&&b.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 ",children:b.jsxs("div",{className:"relative ",children:[b.jsx(tA,{className:"absolute  left-60 -top-5 text-5xl text-[#2BEE48] z-50"}),b.jsx("div",{className:"border w-[509px] h-[218px]  border-lite_grey rounded shadow-md  bg-white pt-8",children:b.jsx("div",{children:b.jsxs("div",{className:" flex flex-col items-center gap-5",children:[b.jsx("p",{className:"text-dark_grey text_size_5",children:"Saved Successfully"}),b.jsx("p",{className:" text-dark_grey text-[16px] ",children:n}),b.jsx("button",{className:" p-2 rounded border-[#FEF116] bg-[#FEF116] text-dark_grey text_size_5 w-52",onClick:()=>{s(!e),r(!1),t(0)},children:"Close"})]})})})]})})})},gg=({allEmpDetails:n,secondaryData:r,searchResult:t,placeholder:e})=>{const[s,i]=ne.useState(""),a=o=>{const c=o.target.value.toString().trim().toUpperCase();if(i(c),c){const u=n==null?void 0:n.map(l=>{var d;return{id:(l==null?void 0:l.id)||null,data:(d=l==null?void 0:l.data)==null?void 0:d.filter(f=>{var h,p,g;return((h=f==null?void 0:f.no)==null?void 0:h.toString().toUpperCase().includes(c))||((p=f==null?void 0:f.fid)==null?void 0:p.toString().toUpperCase().includes(c))||((g=f==null?void 0:f.badge)==null?void 0:g.toString().toUpperCase().includes(c))})}});t(u)}else t(r)};return b.jsxs("div",{className:"flex justify-between items-center border border-[#D9D9D9] rounded p-2 text-[#000000] text-sm",children:[b.jsx("input",{value:s,type:"text",placeholder:e,className:"outline-none",onChange:a}),b.jsx("span",{children:b.jsx(uK,{className:"text-xl text-dark_grey"})})]})},AN=({excelData:n,returnedTHeader:r})=>{console.log(r);const[t,e]=ne.useState(n),[s,i]=ne.useState(null),[a,o]=ne.useState(!0),c=l=>{e(l)};console.log(n);const u=l=>typeof l!="string"?l:l.replace(/[^a-zA-Z0-9]/g,"");return ne.useEffect(()=>{const l=async()=>{const d=r&&r.map(p=>{const g={};for(const v in p)g[v]=u(p[v]);return g});console.log(d);const f=["NAME","No","Company","TOTALHOURS"],h=await new Promise(p=>{const g=d&&d.every(v=>f.every(m=>Object.values(v).map(x=>typeof x=="string"?x.toUpperCase():x).includes(m.toUpperCase())));p(g)});console.log("Result: ",h),i(h),o(!1)};r&&r.length>0?l():(i(!1),o(!1))},[r]),b.jsx("div",{className:"border border-white",children:s?b.jsxs("div",{children:[b.jsx("div",{className:"flex justify-end mr-7",children:b.jsx(gg,{excelData:n,searchResult:c})}),b.jsx("div",{className:"mt-9 overflow-x-auto overflow-y-scroll max-h-[500px]",children:b.jsxs("table",{className:"table-auto text-center w-full",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"bg-lite_grey h-10 text-dark_grey text_size_5",children:[b.jsx("td",{className:"px-4 flex-1",children:"S No."}),b.jsx("td",{className:"px-4 flex-1 text-start",children:"EMPLOYEE NAME"}),b.jsx("td",{className:"px-4 flex-1",children:"SUB ID"}),b.jsx("td",{className:"px-4 flex-1 text-start",children:"LOCATION"}),b.jsx("td",{className:"px-4 flex-1",children:"DATE"}),b.jsx("td",{className:"px-4 flex-1",children:"TOTAL NT"}),b.jsx("td",{className:"px-4 flex-1",children:"TOTAL OT"}),b.jsx("td",{className:"px-4 flex-1",children:"TOTAL NT/OT"})]})}),b.jsx("tbody",{children:n&&n.map((l,d)=>b.jsxs("tr",{className:"text-dark_grey h-[53px] bg-white text-sm rounded-sm shadow-md text-start",children:[b.jsx("td",{className:"text-center px-4 flex-1",children:d+1}),b.jsx("td",{className:"text-start px-4 flex-1",children:l.NAME}),b.jsx("td",{className:"text-center px-4 flex-1",children:l.NO}),b.jsx("td",{className:"text-start px-4 flex-1",children:l.LOCATION}),b.jsx("td",{className:"text-center px-4 flex-1",children:l.DATE}),b.jsx("td",{className:"text-center px-4 flex-1",children:l.TOTALHOURS||0}),b.jsx("td",{className:"text-center px-4 flex-1",children:l.TOTALHOURS2||0}),b.jsx("td",{className:"text-center px-4 flex-1",children:l.TOTALHOURS3||0})]},d))})]})}),b.jsx("div",{className:"flex justify-center my-5",children:b.jsx("button",{className:"rounded px-3 py-2 bg-[#FEF116] text_size_5 text-dark_grey",onClick:()=>{},children:"Send for Approval"})})]}):b.jsx("div",{className:"flex justify-center",children:b.jsxs("div",{className:" flex flex-col items-center gap-5 p-5 px-16  rounded shadow-lg",children:[b.jsx("p",{className:"text-dark_grey text_size_5",children:"Message :"}),b.jsx("p",{className:"text-dark_grey text_size_5 ",children:"Your excel sheet is not expected format"}),b.jsx("p",{className:"text-[#00DF0F] text_size_5",children:"ERROR"})]})})})},x5=({editObject:n,toggleFunction:r,tableHeader:t,editFunction:e,fields:s,fieldObj:i,titleName:a,Position:o})=>{const[c,u]=ne.useState(null),[l,d]=ne.useState(null);ne.useState(null),ne.useState([]),ne.useState(),ne.useState([]);const[f,h]=ne.useState({fieldObj:i}),p=[{id:1,JOBCODE:"J9001"},{id:2,JOBCODE:"J9002"},{id:3,JOBCODE:"J9009M433"},{id:4,JOBCODE:"J9010M432"},{id:5,JOBCODE:"J9013M432"},{id:6,JOBCODE:"J9014"},{id:7,JOBCODE:"J9026M433"},{id:8,JOBCODE:"J9027M433"},{id:9,JOBCODE:"J9028M432"},{id:10,JOBCODE:"J9032M431"},{id:11,JOBCODE:"J9036M433"},{id:12,JOBCODE:"J9037M433"},{id:13,JOBCODE:"J9038M433"},{id:14,JOBCODE:"J9040M433"},{id:15,JOBCODE:"J9041M433"},{id:16,JOBCODE:"J9043M432"},{id:17,JOBCODE:"J9057M431"},{id:18,JOBCODE:"J9063M431"},{id:19,JOBCODE:"J9064M431"},{id:20,JOBCODE:"J9068M431"},{id:21,JOBCODE:"J9069M433"},{id:22,JOBCODE:"J9070M431"},{id:23,JOBCODE:"J9071M433"},{id:24,JOBCODE:"J9072M431"},{id:25,JOBCODE:"J9073M431"},{id:26,JOBCODE:"J9074M433"},{id:27,JOBCODE:"J9075M433"}],g=[{id:1,location:"Crest Centurion 2"},{id:2,location:"DAY TRIPPING"},{id:3,location:"Icon Aliza"},{id:4,location:"Icon Valiant"},{id:5,location:"Khalifa"},{id:5,location:"Masshor Princess"},{id:5,location:"MV Falgout"}];ne.useEffect(()=>{var D,L;if(n)if(h(n),console.log(n),((D=n.jobLocaWhrs)==null?void 0:D.length)>0){const M=(L=n.jobLocaWhrs)==null?void 0:L.map((H,V)=>({id:V+1,JOBCODE:H.JOBCODE,LOCATION:H.LOCATION,WORKINGHRS:H.WORKINGHRS,OVERTIMEHRS:H.OVERTIMEHRS}));M&&y(M)}else y([{id:1}])},[n]);const v=(D,L)=>{u(D),console.log(D),y(M=>M.map(H=>H.id===L?{...H,JOBCODE:(D==null?void 0:D.JOBCODE)||H.JOBCODE||null}:H))},m=(D,L)=>{d(D),console.log(D),y(M=>M.map(H=>H.id===L?{...H,LOCATION:(D==null?void 0:D.location)||H.location||null}:H))},[x,y]=ne.useState([{id:1}]),w=()=>{const L={id:x.length+1};y([...x,L])},E=ne.useCallback((D,L,M)=>{M==="WorkingHrs"?y(H=>H.map(V=>V.id===D?{...V,WORKINGHRS:L}:V)):M==="OvertimeHrs"&&y(H=>H.map(V=>V.id===D?{...V,OVERTIMEHRS:L}:V))},[]);ne.useEffect(()=>{if(console.log(a),a==="HO"){const D=x.reduce((L,M)=>parseInt(L)+parseInt(M.WORKINGHRS)||0,0);D&&h(L=>({...L,TOTALACTUALHOURS:D}))}},[x]),ne.useEffect(()=>{if(a==="BLNG"&&x.some(D=>D.JOBCODE!==void 0||D.LOCATION!==void 0)){const D=x.reduce((L,M)=>parseInt(L)+parseInt(M.WORKINGHRS||null),0);x.reduce((L,M)=>parseInt(L)+parseInt(M.OVERTIMEHRS||null),0),D&&h(L=>{const M=D||0,H=M-L.NORMALWORKINGHRSPERDAY<=0?"0":M-L.NORMALWORKINGHRSPERDAY;return{...L,WORKINGHOURS:M,OT:H}})}if(a==="SBW"&&x.some(D=>D.JOBCODE!==void 0||D.LOCATION!==void 0)){const D=x.reduce((L,M)=>parseInt(L)+parseInt(M.WORKINGHRS||null),0);D&&h(L=>({...L,WORKINGHOURS:D||0}))}if(a==="ORMC"&&x.some(D=>D.JOBCODE!==void 0||D.LOCATION!==void 0)){const D=x.reduce((L,M)=>parseInt(L)+parseInt(M.WORKINGHRS||null),0);D&&h(L=>({...L,WORKINGHOURS:D||0}))}if(console.log(x),x.some(D=>D.JOBCODE!==void 0||D.LOCATION!==void 0)){const D=x.reduce((L,M)=>parseInt(L)+parseInt(M.OVERTIMEHRS||0),0);console.log(D),D&&h(L=>({...L,OT:D||0}))}},[x]);const I=ne.useCallback(()=>{const D=x&&x.map(M=>({JOBCODE:M==null?void 0:M.JOBCODE,LOCATION:M==null?void 0:M.LOCATION,WORKINGHRS:M==null?void 0:M.WORKINGHRS,OVERTIMEHRS:M==null?void 0:M.OVERTIMEHRS})),L={...f,jobLocaWhrs:D};console.log(L),e(L)},[x,f]),T=D=>{const{name:L,value:M}=D.target;h({...f,[L]:M}),L==="WORKINGHOURS"&&h(H=>({...H,OT:H.WORKINGHOURS-H.NORMALWORKINGHRSPERDAY<=0?"0":H.WORKINGHOURS-H.NORMALWORKINGHRSPERDAY}))},R=D=>{const L=x.filter(M=>{if(M.id!==D)return M});y(L)};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 ",children:b.jsxs("section",{className:"bg-[#FBFBFB] p-5 gap-2 flex flex-col item-center rounded-lg shadow-md border-4 border-[#EBEBEB] h-[600px] w-[900px] overflow-y-auto",children:[b.jsx("div",{className:"flex justify-end",children:b.jsx(k8,{className:"text-2xl cursor-pointer",onClick:r})}),b.jsx("div",{className:"flex justify-center ",children:b.jsx("img",{className:"size-32 h-12 w-full",src:"/src/assets/logo/logo-with-name.svg",alt:"not found"})}),b.jsx("div",{className:"flex justify-center py-2 ",children:b.jsx("p",{className:"text-dark_grey text_size_2",children:"Edit Access"})}),s==null?void 0:s.map((D,L)=>b.jsxs("div",{className:"grid grid-cols-2 pl-5 gap-5",children:[b.jsx("p",{className:"text-dark_grey text_size_6 pt-2",children:t[L]}),b.jsx("input",{type:"text",name:D,className:"border border-dark_grey rounded text-dark_grey text-[16px] outline-none w-full py-1 px-3 cursor-auto",value:f[D]||"",onChange:T,readOnly:L<10})]},L)),o==="Manager"&&b.jsxs("div",{className:"grid grid-cols-2 pl-5 gap-5",children:[b.jsx("p",{className:"text-dark_grey text_size_6 pt-2",children:"STATUS"}),b.jsx("input",{type:"text",className:"border border-dark_grey rounded text-dark_grey text-[16px] outline-none w-full py-1 px-3 cursor-auto",value:"Pending",readOnly:!0})]}),b.jsxs("section",{className:"grid grid-cols-1 pl-4 ",children:[b.jsxs("div",{className:"grid grid-cols-[10fr,10fr,10fr,10fr,0.6fr] gap-0 pt-5",children:[b.jsx("label",{className:"text_size_6 text-dark_grey ",children:"JOBCODE"}),b.jsx("label",{className:"text_size_6 text-dark_grey ",children:"LOCATION"}),b.jsx("label",{className:"text_size_6 text-dark_grey ",children:"WORKING HOURS"}),b.jsx("label",{className:"text_size_6 text-dark_grey ",children:"OVERTIME HOURS"})]}),x&&x.map((D,L)=>b.jsxs("div",{className:"grid grid-cols-[5fr,5fr,5fr,5fr,0fr] gap-4 pt-1 pb-2",children:[b.jsx("div",{className:"w-fit",children:b.jsx(Li,{newFormData:p,placeholder:"Search Job Code",rounded:"rounded",searchResult:v,setDrpValue:D.JOBCODE||null,id:D.id})}),b.jsx("div",{className:"w-fit",children:b.jsx(Li,{newFormData:g,placeholder:"Search Location",rounded:"rounded",searchResult:m,setDrpValue:D.LOCATION||null,id:D.id})}),b.jsx("div",{className:"w-fit",children:b.jsx("input",{type:"text",id:`workingHours-${L}`,value:D.WORKINGHRS||"",onChange:M=>{E(D.id,M.target.value,"WorkingHrs")},placeholder:"Enter Hours",className:"border border-lite_grey rounded text-dark_grey text_size_5 outline-none w-full py-2 px-3 cursor-auto"})}),b.jsx("div",{className:"w-fit",children:b.jsx("input",{type:"text",id:`OverTimeHours-${L}`,value:D.OVERTIMEHRS||"",onChange:M=>{E(D.id,M.target.value,"OvertimeHrs")},placeholder:"Enter Overtime ",className:"border border-lite_grey rounded text-dark_grey text_size_5 outline-none w-full py-2 px-3 cursor-auto"})}),b.jsx("div",{className:"pt-2.5",children:L===0?b.jsx(zU,{className:"text-xl text-dark_ash cursor-pointer",onClick:()=>{w()}}):b.jsx(WU,{className:"text-xl text-dark_ash cursor-pointer",onClick:()=>{R(D.id)}})})]},L))]}),b.jsx("div",{className:" flex justify-center",children:b.jsx("button",{className:" text-dark_grey text_size_3 rounded bg-[#FEF116] px-9 m-5 py-2",onClick:()=>{I(),r()},children:"Save"})})]})})},w5=n=>(console.log(n),(e=>{if(e==="HO")return{fieldObj:{REC:null,CTR:null,DEPT:null,EMPLOYEEID:null,BADGE:null,NAME:null,DATE:null,ONAM:null,OFFAM:null,ONPM:null,OFFPM:null,IN:null,OUT:null,TOTALINOUT:null,ALLDAYMINUTES:null,NETMINUTES:null,TOTALHOURS:null,TOTALACTUALHOURS:null,REMARKS:null},fields:["REC","CTR","DEPT","EMPLOYEEID","BADGE","NAME","DATE","ONAM","OFFAM","ONPM","OFFPM","IN","OUT","TOTALINOUT","ALLDAYMINUTES","NETMINUTES","TOTALHOURS","TOTALACTUALHOURS","REMARKS"],tableHeader:["REC#","CTR","DEPT","EMPLOYEE ID","BADGE#","NAME","DATE","ON AM","OFF AM","ON PM","OFF PM","IN","OUT","TOTAL IN/OUT","ALL DAY MINUTES","NET MINUTES","TOTAL HOURS","TOTAL ACTUAL HOURS","REMARKS"]};if(e==="BLNG")return{fieldObj:{FID:null,NAMEFLAST:null,ENTRANCEDATEUSED:null,ENTRANCEDATETIME:null,EXITDATETIME:null,DAYDIFFERENCE:null,AVGDAILYTOTALBYDAY:null,AHIGHLIGHTDAILYTOTALBYGROUP:null,ADININWORKSENGINEERINGSDNBHD:null,NORMALWORKINGHRSPERDAY:null,WORKINGHOURS:null,OT:null,REMARKS:null},fields:["FID","NAMEFLAST","ENTRANCEDATEUSED","ENTRANCEDATETIME","EXITDATETIME","DAYDIFFERENCE","AVGDAILYTOTALBYDAY","AHIGHLIGHTDAILYTOTALBYGROUP","ADININWORKSENGINEERINGSDNBHD","NORMALWORKINGHRSPERDAY","WORKINGHOURS","OT","REMARKS"],tableHeader:["FID","NAME (FLAST)","ENTRANCE DATE USED","ENTRANCE DATETIME","EXIT DATETIME","DAY DIFFERENCE","AVG. DAILY TOTAL BY DAY","A HIGHLIGHT DAILY TOTAL BY GROUP","ADININ WORK & ENGINEERING SDN BHD","NORMAL WORKING HRS PERDAY","ACTUAL WORKING HOURS","OT","REMARKS"]};if(e==="SBW")return{fieldObj:{NAME:null,DEPTDIV:null,BADGE:null,DATE:null,IN:null,OUT:null,TOTALINOUT:null,ALLDAYMINHRS:null,NETMINUTES:null,TOTALHOURS:null,WORKINGHOURS:null,OT:null,REMARKS:null},fields:["NAME","DEPTDIV","BADGE","DATE","IN","OUT","TOTALINOUT","ALLDAYMINHRS","NETMINUTES","TOTALHOURS","WORKINGHOURS","OT","REMARKS"],tableHeader:["Name","DEPT/DIV","BADGE#","DATE","IN","OUT","TOTAL IN/OUT","ALL DAY MIN (HRS)","NET MINUTES","TOTAL HOURS","ACTUAL WORKING HOURS","OT","REMARKS"]};if(e==="ORMC")return{fieldObj:{NAME:null,DEPTDIV:null,BADGE:null,DATE:null,IN:null,OUT:null,TOTALINOUT:null,ALLDAYMINHRS:null,NETMINUTES:null,TOTALHOURS:null,WORKINGHOURS:null,OT:null,REMARKS:null},fields:["NAME","DEPTDIV","BADGE","DATE","IN","OUT","TOTALINOUT","ALLDAYMINHRS","NETMINUTES","TOTALHOURS","WORKINGHOURS","OT","REMARKS"],tableHeader:["Name","DEPT/DIV","BADGE#","DATE","IN","OUT","TOTAL IN/OUT","ALL DAY MIN (HRS)","NET MINUTES","TOTAL HOURS","ACTUAL WORKING HOURS","OT","REMARKS"]}})(n)),kN=({toggleSFAMessage:n,setExcelData:r,icons:t,iconColor:e,textColor:s,title:i,message:a,btnText:o})=>b.jsx("div",{children:b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:b.jsxs("div",{className:"relative ",children:[b.jsx("div",{className:`absolute  left-44 -top-5 text-5xl ${e} z-50 `,children:t}),b.jsx("div",{className:"border w-[409px] h-[218px]  border-lite_grey rounded shadow-md  bg-white pt-12",children:b.jsx("div",{children:b.jsxs("div",{className:" flex flex-col items-center gap-5",children:[b.jsx("p",{className:`text_size_2 ${s}`,children:i}),b.jsx("p",{className:" text-dark_grey  text_size_6 ",children:a}),b.jsx("button",{className:" p-2 rounded border-[#FEF116] bg-[#FEF116] text-dark_grey text_size_5 w-52",onClick:()=>{n(null),r==null||r(null)},children:o})]})})})]})})}),_5=({successMess:n,toggleSFAMessage:r,setExcelData:t,userIdentification:e})=>b.jsxs("div",{children:[n===!0&&b.jsx(kN,{toggleSFAMessage:r,setExcelData:t,icons:b.jsx(tA,{}),iconColor:"text-[#2BEE48]",textColor:"text-[#05b01f]",title:"Success!",message:`Data has been successfully ${e==="Manager"?"Approved":"Saved"}`,btnText:"OK"}),n===!1&&b.jsx(kN,{toggleSFAMessage:r,icons:b.jsx(uA,{}),iconColor:"text-[#dc2626]",textColor:"text-[#dc2626]",title:"Sorry :(",message:"Something went wrong please try again!!",btnText:"TRY AGAIN"})]}),S5=()=>b.jsx("div",{className:"flex justify-center",children:b.jsxs("div",{className:" flex flex-col items-center gap-5 p-5 px-16  rounded shadow-lg",children:[b.jsx("p",{className:"text-dark_grey text_size_5",children:"Message :"}),b.jsx("p",{className:"text-dark_grey ",children:"Your excel sheet is not expected format"}),b.jsx("p",{className:"text-[#00DF0F] text_size_5",children:"ERROR"})]})}),Z6=Pr(),CN=({excelData:n,returnedTHeader:r,convertedStringToArrayObj:t,titleName:e,setExcelData:s,Position:i})=>{const[a,o]=ne.useState(null),[c,u]=ne.useState(null),[l,d]=ne.useState(),[f,h]=ne.useState(!1),[p,g]=ne.useState(!0),[v,m]=ne.useState(""),[x,y]=ne.useState(null),[w,E]=ne.useState(null),I=50,[T,R]=ne.useState([]),[D,L]=ne.useState(1);ne.useEffect(()=>{a&&a.length>0&&R(a.slice(0,I))},[a]);const M=ne.useCallback(()=>{const G=D+1,X=D*I,J=X+I,O=a.slice(X,J);R(ee=>[...ee,...O]),L(G)},[D,a]),H=G=>{G.target.scrollHeight-G.target.scrollTop<=G.target.clientHeight+5&&a&&a.length>0&&M()};ne.useEffect(()=>{n&&(async()=>{try{const J=await new Promise((ee,U)=>{n?ee(n):setTimeout(()=>{U("No data found after waiting.")},5e3)});(async()=>{var Z,te;const[ee]=await Promise.all([Z6.graphql({query:KN})]),U=(te=(Z=ee==null?void 0:ee.data)==null?void 0:Z.listEmpWorkInfos)==null?void 0:te.items,z=J.map(oe=>{const ue=U.find(le=>le.sapNo==oe.FID);return{...oe,NORMALWORKINGHRSPERDAY:ue?ue.workHrs[0]:null}});console.log("MergedData : ",z),o(z)})()}catch{}finally{}})()},[n]),ne.useEffect(()=>{const G=localStorage.getItem("userType");G==="Manager"?m("Manager"):G==="TimeKeeper"&&m("TimeKeeper")},[t]);const V=G=>{if(G&&G.length>0){u(!0);const X=G&&G.map(J=>{var O;return{id:(J==null?void 0:J.id)||null,data:(O=J==null?void 0:J.data)==null?void 0:O.map((ee,U)=>({FID:ee.fid||0,NAMEFLAST:ee.name||"",ENTRANCEDATEUSED:ee.entDate||"",ENTRANCEDATETIME:ee.entDT||"",EXITDATETIME:ee.exitDT||"",DAYDIFFERENCE:ee.day||0,AVGDAILYTOTALBYDAY:ee.avgTotalDay||"",AHIGHLIGHTDAILYTOTALBYGROUP:ee.totalhrs||"",ADININWORKSENGINEERINGSDNBHD:ee.workDN||"",WORKINGHOURS:ee.workhrs||0,OT:ee.OT||0,NORMALWORKINGHRSPERDAY:(ee==null?void 0:ee.normalWhrsPerDay)||0,jobLocaWhrs:ee.jobLocaWhrs||[],REMARKS:ee.remarks||"",status:ee.status||""}))}});o(X)}},P=G=>{o(G)},F=G=>typeof G!="string"?G:G.replace(/[^a-zA-Z0-9]/g,"");ne.useEffect(()=>{const G=async()=>{const X=r.map(ee=>{const U={};for(const z in ee)U[z]=F(ee[z]);return U}),J=["ADININWORKSENGINEERINGSDNBHD","FID","NameFLAST","EntranceDateUsed","EntranceDatetime","ExitDatetime","DayDifference","AvgDailyTotalByDay","AHighlightDailyTotalByGroup"],O=await new Promise(ee=>{const U=X&&X.every(z=>J.every(Z=>Object.values(z).map(te=>typeof te=="string"?te.toUpperCase():te).includes(Z.toUpperCase())));ee(U)});console.log(O),E(O),u(O)};r&&r.length>0?G():r?(u(!1),g(!1)):(async()=>{u(!0);try{const ee=(await new Promise((U,z)=>{t?U(t):setTimeout(()=>{z("No data found after waiting.")},5e3)})).map(U=>{var z,Z;return{id:(z=U[0])==null?void 0:z.id,data:(Z=U[1])==null?void 0:Z.filter(te=>{if(te.status!=="Approved")return te})}}).filter(U=>U.data&&U.data.length>0);console.log(ee),v==="Manager"&&V(ee)}catch{}finally{}})()},[r,t]);const A=G=>{d(G)},_=()=>{h(!f)},S=G=>{y(G)},N=(G,X)=>G.map(J=>({id:J.id,data:J.data.map(O=>O.FID===X.FID&&O.ENTRANCEDATEUSED===X.ENTRANCEDATEUSED?X:O)})),C=(G,X)=>G.map(J=>J.FID===X.FID&&J.ENTRANCEDATEUSED===X.ENTRANCEDATEUSED?X:J),W=G=>{var J;const X=Array.isArray((J=a[0])==null?void 0:J.data)?N(a,G):C(a,G);o(X)},j=w5(e);console.log(j);const B=async()=>{if(v==="TimeKeeper"){const G=a&&a.map(O=>({fid:(O==null?void 0:O.FID)||0,name:(O==null?void 0:O.NAMEFLAST)||"",entDate:(O==null?void 0:O.ENTRANCEDATEUSED)||"",entDT:(O==null?void 0:O.ENTRANCEDATETIME)||"",exitDT:(O==null?void 0:O.EXITDATETIME)||"",day:(O==null?void 0:O.DAYDIFFERENCE)||0,avgTotalDay:(O==null?void 0:O.AVGDAILYTOTALBYDAY)||"",totalhrs:(O==null?void 0:O.AHIGHLIGHTDAILYTOTALBYGROUP)||"",workDN:(O==null?void 0:O.ADININWORKSENGINEERINGSDNBHD)||"",normalWhrsPerDay:(O==null?void 0:O.NORMALWORKINGHRSPERDAY)||0,workhrs:(O==null?void 0:O.WORKINGHOURS)||0,OT:(O==null?void 0:O.OT)||0,jobLocaWhrs:(O==null?void 0:O.jobLocaWhrs)||"",remarks:(O==null?void 0:O.REMARKS)||""}));console.log(G);const X=new Date().toLocaleDateString(),J={weeklySheet:JSON.stringify(G),status:"Pending",date:X};console.log(J),J.weeklySheet&&(console.log(J),await Z6.graphql({query:bW,variables:{input:J}}).then(O=>{console.log(O),O.data.createBlng&&S(!0)}).catch(O=>{console.log(O),S(!1)}))}else v==="Manager"&&(a&&a.map(X=>{var J;return{id:(X==null?void 0:X.id)||null,weaklySheet:(J=X==null?void 0:X.data)==null?void 0:J.map(O=>({fid:(O==null?void 0:O.FID)||0,name:(O==null?void 0:O.NAMEFLAST)||"",entDate:(O==null?void 0:O.ENTRANCEDATEUSED)||"",entDT:(O==null?void 0:O.ENTRANCEDATETIME)||"",exitDT:(O==null?void 0:O.EXITDATETIME)||"",day:(O==null?void 0:O.DAYDIFFERENCE)||0,avgTotalDay:(O==null?void 0:O.AVGDAILYTOTALBYDAY)||"",totalhrs:(O==null?void 0:O.AHIGHLIGHTDAILYTOTALBYGROUP)||"",workDN:(O==null?void 0:O.ADININWORKSENGINEERINGSDNBHD)||"",workhrs:(O==null?void 0:O.WORKINGHOURS)||0,OT:(O==null?void 0:O.OT)||0,normalWhrsPerDay:(O==null?void 0:O.NORMALWORKINGHRSPERDAY)||0,jobLocaWhrs:O.jobLocaWhrs||[],remarks:(O==null?void 0:O.REMARKS)||""}))}})).map(async X=>{const J={id:X.id,weeklySheet:JSON.stringify(X.weaklySheet),status:"Approved"};console.log(J),J.weeklySheet&&await Z6.graphql({query:vW,variables:{input:J}}).then(O=>{console.log(O),O.data.updateBlng&&(S(!0),R([]))}).catch(O=>{console.log(O),S(!1)})})};return b.jsxs("div",{children:[b.jsx("div",{children:c===!0?b.jsxs("div",{children:[b.jsx("div",{className:"flex justify-end mr-7",children:b.jsx(gg,{excelData:n,searchResult:P})}),b.jsx("div",{className:"mt-9 overflow-x-auto overflow-y-scroll max-h-[500px]",onScroll:H,children:b.jsxs("table",{className:"table-auto text-center w-full",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"bg-lite_grey  text-dark_grey text_size_5",children:[b.jsx("td",{className:"px-5 flex-",children:"S No."}),console.log(j),j==null?void 0:j.tableHeader.map((G,X)=>b.jsx("td",{className:"px-4 flex-1",children:G},X)),w===!0?"":b.jsx("td",{className:"px-5 flex-",children:"STATUS"})]})}),b.jsx("tbody",{children:T&&T.length>0?T.map((G,X)=>{const J=(O,ee)=>{const U=O.status==="Pending";return b.jsxs("tr",{className:"text-dark_grey h-[40px] text-sm rounded-sm shadow-md border-b-2 border-[#CECECE] bg-white",onClick:()=>{_(),A(O)},children:[b.jsx("td",{className:"text-center px-4 flex-1",children:v==="Manager"?ee+1:X+1}),b.jsx("td",{className:"text-start px-4 flex-1",children:O.FID}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.NAMEFLAST}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.ENTRANCEDATEUSED}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.ENTRANCEDATETIME}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.EXITDATETIME}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.DAYDIFFERENCE||0}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.AVGDAILYTOTALBYDAY||0}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.AHIGHLIGHTDAILYTOTALBYGROUP||""}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.ADININWORKSENGINEERINGSDNBHD}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.NORMALWORKINGHRSPERDAY||0}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.WORKINGHOURS||0}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.OT||0}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.REMARKS}),U&&b.jsx("td",{className:"text-center px-4 flex-1",children:O.status})]},v==="Manager"?ee+=1:X+1)};return v==="Manager"?G.data.map(J):v!=="Manager"&&J(G)}):b.jsx("tr",{children:b.jsx("td",{colSpan:"15",className:"px-6 py-6 text-center text-dark_ash text_size_5",children:b.jsx("p",{children:"No Table Data Available Here"})})})})]})}),b.jsx("div",{className:`flex justify-center my-5 ${T&&T.length>0?"":"hidden"}`,children:b.jsx("button",{className:"rounded px-3 py-2 bg-[#FEF116] text_size_5 text-dark_grey",onClick:()=>{B()},children:v==="Manager"?"Approve":"Send For Approval"})})]}):c===!1?b.jsx(S5,{}):""}),f===!0&&b.jsx(x5,{toggleFunction:_,editObject:l,fieldObj:(j==null?void 0:j.fieldObj)||{},fields:(j==null?void 0:j.fields)||[],tableHeader:(j==null?void 0:j.tableHeader)||[],editFunction:W,titleName:e,Position:i}),b.jsx(_5,{successMess:x,toggleSFAMessage:S,setExcelData:s,userIdentification:v})]})},TN=Pr(),DN=({excelData:n,returnedTHeader:r,titleName:t,setExcelData:e,convertedStringToArrayObj:s,Position:i})=>{const[a,o]=ne.useState(null),[c,u]=ne.useState(null),[l,d]=ne.useState(),[f,h]=ne.useState(!1),[p,g]=ne.useState(!0),[v,m]=ne.useState(""),[x,y]=ne.useState(null),[w,E]=ne.useState(null),I=50,[T,R]=ne.useState([]),[D,L]=ne.useState(1);ne.useEffect(()=>{a&&a.length>0&&R(a.slice(0,I))},[a]);const M=ne.useCallback(()=>{const B=D+1,G=D*I,X=G+I,J=a.slice(G,X);R(O=>[...O,...J]),L(B)},[D,a]),H=B=>{B.target.scrollHeight-B.target.scrollTop<=B.target.clientHeight+5&&a&&a.length>0&&M()},V=B=>{o(B)};ne.useEffect(()=>{n&&(async()=>{try{const X=await new Promise((J,O)=>{n?J(n):setTimeout(()=>{O("No data found after waiting.")},5e3)});o(X)}catch{}})()},[n]),ne.useEffect(()=>{const B=localStorage.getItem("userType");B==="Manager"?m("Manager"):B==="TimeKeeper"&&m("TimeKeeper")},[s]);const P=B=>{if(B&&B.length>0){u(!0);const G=B&&B.map(X=>{var J;return{id:(X==null?void 0:X.id)||null,data:(J=X==null?void 0:X.data)==null?void 0:J.map((O,ee)=>({NAME:O.name||0,DEPTDIV:O.deptDiv||"",BADGE:O.badge||"",DATE:O.date||"",IN:O.in||"",OUT:O.out||0,TOTALINOUT:O.totalInOut||"",ALLDAYMINHRS:O.allDayMin||"",NETMINUTES:O.netMin||"",TOTALHOURS:O.totalHrs||0,WORKINGHOURS:O.workHrs||0,OT:(O==null?void 0:O.OT)||0,jobLocaWhrs:O.jobLocaWhrs||[],REMARKS:O.remarks||"",status:O.status||""}))}});o(G)}};ne.useEffect(()=>{const B=async()=>{const G=U=>Object.keys(U).reduce((z,Z)=>{const te=Z.replace(/[^a-zA-Z0-9]/g,"").toLowerCase();return z[te]=U[Z],z},{}),X=r.map(G),J=["deptdiv","name","badge"],ee=await new Promise(U=>{const z=X.every(Z=>J.every(te=>Object.keys(Z).map(oe=>oe.toLowerCase()).includes(te.toLowerCase())));U(z)});console.log("Result: ",ee),u(ee),y(ee)};r&&r.length>0?B():r?(u(!1),g(!1)):(async()=>{u(!0);try{const O=(await new Promise((ee,U)=>{s?ee(s):setTimeout(()=>{U("No data found after waiting.")},5e3)})).map(ee=>{var U,z;return{id:(U=ee[0])==null?void 0:U.id,data:(z=ee[1])==null?void 0:z.filter(Z=>{if(Z.status!=="Approved")return Z})}}).filter(ee=>ee.data&&ee.data.length>0);console.log(O),v==="Manager"&&P(O)}catch{}finally{}})()},[r,s]);const F=B=>{d(B)},A=()=>{h(!f)},_=B=>{E(B)},S=(B,G)=>B.map(X=>({id:X.id,data:X.data.map(J=>J.DEPTDIV===G.DEPTDIV&&J.BADGE===G.BADGE?G:J)})),N=(B,G)=>B.map(X=>X.DEPTDIV===G.DEPTDIV&&X.BADGE===G.BADGE?G:X),C=B=>{var X;const G=Array.isArray((X=a[0])==null?void 0:X.data)?S(a,B):N(a,B);o(G)},W=w5(t),j=async()=>{if(v==="TimeKeeper"){const B=a&&a.map(J=>({name:J.NAME||"",deptDiv:J.DEPTDIV||"",badge:J.BADGE||"",date:J.DATE||"",in:J.IN||"",out:J.OUT||"",totalInOut:J.TOTALINOUT||"",allDayMin:J.ALLDAYMINHRS||"",netMin:J.NETMINUTES||"",totalHrs:J.TOTALHOURS||"",workHrs:J.WORKINGHOURS||"",OT:J.OT||"",remarks:J.REMARKS||"",jobLocaWhrs:(J==null?void 0:J.jobLocaWhrs)||[]}));console.log(B);const G=new Date().toLocaleDateString(),X={dailySheet:JSON.stringify(B),status:"Pending",date:G};X.dailySheet&&await TN.graphql({query:tW,variables:{input:X}}).then(J=>{console.log(J),J.data.createSBWSheet&&_(!0)}).catch(J=>{console.log(J),_(!1)})}else v==="Manager"&&(a&&a.map(G=>{var X;return{id:(G==null?void 0:G.id)||null,dailySheet:(X=G==null?void 0:G.data)==null?void 0:X.map(J=>({name:J.NAME||"",deptDiv:J.DEPTDIV||"",badge:J.BADGE||"",date:J.DATE||"",in:J.IN||"",out:J.OUT||"",totalInOut:J.TOTALINOUT||"",allDayMin:J.ALLDAYMINHRS||"",netMin:J.NETMINUTES||"",totalHrs:J.TOTALHOURS||"",workHrs:J.WORKINGHOURS||"",OT:J.OT||"",remarks:J.REMARKS||"",jobLocaWhrs:(J==null?void 0:J.jobLocaWhrs)||[]}))}})).map(async G=>{const X={id:G.id,dailySheet:JSON.stringify(G.dailySheet),status:"Approved"};console.log(X),X.dailySheet&&await TN.graphql({query:rW,variables:{input:X}}).then(J=>{console.log(J),J.data.updateSBWSheet&&(_(!0),R([]))}).catch(J=>{console.log(J),_(!1)})})};return b.jsxs("div",{children:[b.jsx("div",{children:c===!0?b.jsxs("div",{children:[b.jsx("div",{className:"flex justify-end mr-7",children:b.jsx(gg,{excelData:n,searchResult:V})}),b.jsx("div",{className:"mt-9 overflow-x-auto overflow-y-scroll max-h-[500px]",onScroll:H,children:b.jsxs("table",{className:"table-auto text-center w-full",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"bg-lite_grey  text-dark_grey text_size_5",children:[b.jsx("td",{className:"px-4 flex-1",children:"S No."}),W==null?void 0:W.tableHeader.map((B,G)=>b.jsx("td",{className:"px-5 flex-1",children:B},G)),x===!0?"":b.jsx("td",{className:"px-5 flex-",children:"STATUS"})]})}),b.jsx("tbody",{children:T&&T.length>0?T.map((B,G)=>{const X=(J,O)=>{const ee=J.status==="Pending";return b.jsxs("tr",{className:"text-dark_grey h-[40px] text-sm rounded-sm shadow-md border-b-2 border-[#CECECE] bg-white",onClick:()=>{A(),F(J)},children:[b.jsx("td",{className:"text-center px-4 flex-1",children:v==="Manager"?O+1:G+1}),b.jsx("td",{className:"text-start px-4 flex-1",children:J.NAME}),b.jsx("td",{className:"text-center px-4 flex-1",children:J.DEPTDIV}),b.jsx("td",{className:"text-center px-4 flex-1",children:J.BADGE}),b.jsx("td",{className:"text-center px-4 flex-1",children:J.DATE}),b.jsx("td",{className:"text-center px-4 flex-1",children:J.IN}),b.jsx("td",{className:"text-center px-4 flex-1",children:J.OUT}),b.jsx("td",{className:"text-center px-4 flex-1",children:J.TOTALINOUT}),b.jsx("td",{className:"text-center px-4 flex-1",children:J.ALLDAYMINHRS}),b.jsx("td",{className:"text-center px-4 flex-1",children:J.NETMINUTES}),b.jsx("td",{className:"text-center px-4 flex-1",children:J.TOTALHOURS}),b.jsx("td",{className:"text-center px-4 flex-1",children:J.WORKINGHOURS}),b.jsx("td",{className:"text-center px-4 flex-1",children:J.OT}),b.jsx("td",{className:"text-center px-4 flex-1",children:J.REMARKS}),ee&&b.jsx("td",{className:"text-center px-4 flex-1",children:J.status})]},v==="Manager"?O+1:G+1)};return v==="Manager"?B.data.map(X):v!=="Manager"&&X(B)}):b.jsx("tr",{children:b.jsx("td",{colSpan:"15",className:"px-6 py-6 text-center text-dark_ash text_size_5",children:b.jsx("p",{children:"No Table Data Available Here"})})})})]})}),b.jsx("div",{className:`flex justify-center my-5 ${T&&T.length>0?"":"hidden"}`,children:b.jsx("button",{className:"rounded px-3 py-2 bg-[#FEF116] text_size_5 text-dark_grey",onClick:()=>{j()},children:v==="Manager"?"Approve":"Send For Approval"})})]}):c===!1?b.jsx(S5,{}):""}),f===!0&&b.jsx(x5,{toggleFunction:A,editObject:l,fieldObj:(W==null?void 0:W.fieldObj)||{},fields:(W==null?void 0:W.fields)||[],tableHeader:(W==null?void 0:W.tableHeader)||[],editFunction:C,titleName:t,Position:i}),b.jsx(_5,{successMess:w,toggleSFAMessage:_,setExcelData:e,userIdentification:v})]})},IN=Pr(),PN=({excelData:n,returnedTHeader:r,titleName:t,setExcelData:e,convertedStringToArrayObj:s,Position:i})=>{const[a,o]=ne.useState(null),[c,u]=ne.useState(null),[l,d]=ne.useState(),[f,h]=ne.useState(!1),[p,g]=ne.useState(!0),[v,m]=ne.useState(""),[x,y]=ne.useState(null),[w,E]=ne.useState(null),I=50,[T,R]=ne.useState([]),[D,L]=ne.useState(1);ne.useEffect(()=>{a&&a.length>0&&R(a.slice(0,I))},[a]);const M=ne.useCallback(()=>{const B=D+1,G=D*I,X=G+I,J=a.slice(G,X);R(O=>[...O,...J]),L(B)},[D,a]),H=B=>{B.target.scrollHeight-B.target.scrollTop<=B.target.clientHeight+5&&a&&a.length>0&&M()},V=B=>{o(B)};ne.useEffect(()=>{n&&(async()=>{try{const X=await new Promise((J,O)=>{n?J(n):setTimeout(()=>{O("No data found after waiting.")},5e3)});o(X)}catch{}})()},[n]),ne.useEffect(()=>{const B=localStorage.getItem("userType");B==="Manager"?m("Manager"):B==="TimeKeeper"&&m("TimeKeeper")},[s]);const P=B=>{if(B&&B.length>0){u(!0);const G=B&&B.map(X=>{var J;return{id:(X==null?void 0:X.id)||null,data:(J=X==null?void 0:X.data)==null?void 0:J.map((O,ee)=>({NAME:O.name||0,DEPTDIV:O.deptDiv||"",BADGE:O.badge||"",DATE:O.date||"",IN:O.in||"",OUT:O.out||0,TOTALINOUT:O.totalInOut||"",ALLDAYMINHRS:O.allDayMin||"",NETMINUTES:O.netMin||"",TOTALHOURS:O.totalHrs||0,WORKINGHOURS:O.workHrs||0,OT:(O==null?void 0:O.OT)||0,jobLocaWhrs:O.jobLocaWhrs||[],REMARKS:O.remarks||"",status:O.status||""}))}});o(G)}};ne.useEffect(()=>{const B=async()=>{const G=U=>Object.keys(U).reduce((z,Z)=>{const te=Z.replace(/[^a-zA-Z0-9]/g,"").toLowerCase();return z[te]=U[Z],z},{});console.log("returnedTHeader : ",r);const X=r.map(G),J=["name"],ee=await new Promise(U=>{const z=X.every(Z=>J.every(te=>Object.keys(Z).map(oe=>oe.toLowerCase()).includes(te.toLowerCase())));U(z)});console.log("Result: ",ee),u(ee),y(ee)};r&&r.length>0?B():r?(u(!1),g(!1)):(async()=>{u(!0);try{const O=(await new Promise((ee,U)=>{s?ee(s):setTimeout(()=>{U("No data found after waiting.")},5e3)})).map(ee=>{var U,z;return{id:(U=ee[0])==null?void 0:U.id,data:(z=ee[1])==null?void 0:z.filter(Z=>{if(Z.status!=="Approved")return Z})}}).filter(ee=>ee.data&&ee.data.length>0);console.log(O),v==="Manager"&&P(O)}catch{}finally{}})()},[r,s]);const F=B=>{d(B)},A=()=>{h(!f)},_=B=>{E(B)},S=(B,G)=>B.map(X=>({id:X.id,data:X.data.map(J=>J.IN===G.IN&&J.OUT===G.OUT?G:J)})),N=(B,G)=>B.map(X=>X.IN===G.IN&&X.OUT===G.OUT?G:X),C=B=>{var X;const G=Array.isArray((X=a[0])==null?void 0:X.data)?S(a,B):N(a,B);o(G)},W=w5(t),j=async()=>{if(v==="TimeKeeper"){const B=a&&a.map(J=>({name:J.NAME||"",deptDiv:J.DEPTDIV||"",badge:J.BADGE||"",date:J.DATE||"",in:J.IN||"",out:J.OUT||"",totalInOut:J.TOTALINOUT||"",allDayMin:J.ALLDAYMINHRS||"",netMin:J.NETMINUTES||"",totalHrs:J.TOTALHOURS||"",workHrs:J.WORKINGHOURS||"",OT:J.OT||"",remarks:J.REMARKS||"",jobLocaWhrs:(J==null?void 0:J.jobLocaWhrs)||[]}));console.log(B);const G=new Date().toLocaleDateString(),X={dailySheet:JSON.stringify(B),status:"Pending",date:G};X.dailySheet&&await IN.graphql({query:Qq,variables:{input:X}}).then(J=>{console.log(J),J.data.createORMCSheet&&_(!0)}).catch(J=>{console.log(J),_(!1)})}else v==="Manager"&&(a&&a.map(G=>{var X;return{id:(G==null?void 0:G.id)||null,dailySheet:(X=G==null?void 0:G.data)==null?void 0:X.map(J=>({name:J.NAME||"",deptDiv:J.DEPTDIV||"",badge:J.BADGE||"",date:J.DATE||"",in:J.IN||"",out:J.OUT||"",totalInOut:J.TOTALINOUT||"",allDayMin:J.ALLDAYMINHRS||"",netMin:J.NETMINUTES||"",totalHrs:J.TOTALHOURS||"",workHrs:J.WORKINGHOURS||"",OT:J.OT||"",remarks:J.REMARKS||"",jobLocaWhrs:(J==null?void 0:J.jobLocaWhrs)||[]}))}})).map(async G=>{const X={id:G.id,dailySheet:JSON.stringify(G.dailySheet),status:"Approved"};console.log(X),X.dailySheet&&await IN.graphql({query:eW,variables:{input:X}}).then(J=>{console.log(J),J.data.updateORMCSheet&&(_(!0),R([]))}).catch(J=>{console.log(J),_(!1)})})};return b.jsxs("div",{children:[b.jsx("div",{children:c===!0?b.jsxs("div",{children:[b.jsx("div",{className:"flex justify-end mr-7",children:b.jsx(gg,{excelData:n,searchResult:V})}),b.jsx("div",{className:"mt-9 overflow-x-auto overflow-y-scroll max-h-[500px]",onScroll:H,children:b.jsxs("table",{className:"table-auto text-center w-full",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"bg-lite_grey  text-dark_grey text_size_5",children:[b.jsx("td",{className:"px-4 flex-1",children:"S No."}),W==null?void 0:W.tableHeader.map((B,G)=>b.jsx("td",{className:"px-5 flex-1",children:B},G)),x===!0?"":b.jsx("td",{className:"px-5 flex-",children:"STATUS"})]})}),b.jsx("tbody",{children:T&&T.length>0?T.map((B,G)=>{const X=(J,O)=>{const ee=J.status==="Pending";return b.jsxs("tr",{className:"text-dark_grey h-[40px] text-sm rounded-sm shadow-md border-b-2 border-[#CECECE] bg-white",onClick:()=>{A(),F(J)},children:[b.jsx("td",{className:"text-center px-4 flex-1",children:v==="Manager"?O+1:G+1}),b.jsx("td",{className:"text-start px-4 flex-1",children:J.NAME}),b.jsx("td",{className:"text-center px-4 flex-1",children:J.DEPTDIV}),b.jsx("td",{className:"text-center px-4 flex-1",children:J.BADGE}),b.jsx("td",{className:"text-center px-4 flex-1",children:J.DATE}),b.jsx("td",{className:"text-center px-4 flex-1",children:J.IN}),b.jsx("td",{className:"text-center px-4 flex-1",children:J.OUT}),b.jsx("td",{className:"text-center px-4 flex-1",children:J.TOTALINOUT}),b.jsx("td",{className:"text-center px-4 flex-1",children:J.ALLDAYMINHRS}),b.jsx("td",{className:"text-center px-4 flex-1",children:J.NETMINUTES}),b.jsx("td",{className:"text-center px-4 flex-1",children:J.TOTALHOURS}),b.jsx("td",{className:"text-center px-4 flex-1",children:J.WORKINGHOURS}),b.jsx("td",{className:"text-center px-4 flex-1",children:J.OT}),b.jsx("td",{className:"text-center px-4 flex-1",children:J.REMARKS}),ee&&b.jsx("td",{className:"text-center px-4 flex-1",children:J.status})]},v==="Manager"?O+1:G+1)};return v==="Manager"?B.data.map(X):v!=="Manager"&&X(B)}):b.jsx("tr",{children:b.jsx("td",{colSpan:"15",className:"px-6 py-6 text-center text-dark_ash text_size_5",children:b.jsx("p",{children:"No Table Data Available Here"})})})})]})}),b.jsx("div",{className:`flex justify-center my-5 ${T&&T.length>0?"":"hidden"}`,children:b.jsx("button",{className:"rounded px-3 py-2 bg-[#FEF116] text_size_5 text-dark_grey",onClick:()=>{j()},children:v==="Manager"?"Approve":"Send For Approval"})})]}):c===!1?b.jsx(S5,{}):""}),f===!0&&b.jsx(x5,{toggleFunction:A,editObject:l,fieldObj:(W==null?void 0:W.fieldObj)||{},fields:(W==null?void 0:W.fields)||[],tableHeader:(W==null?void 0:W.tableHeader)||[],editFunction:C,titleName:t,Position:i}),b.jsx(_5,{successMess:w,toggleSFAMessage:_,setExcelData:e,userIdentification:v})]})},jN=Pr(),RN=({setExcelData:n,excelData:r,returnedTHeader:t,Position:e,convertedStringToArrayObj:s,titleName:i})=>{const[a,o]=ne.useState(null),[c,u]=ne.useState(),[l,d]=ne.useState(!1),[f,h]=ne.useState(null),[p,g]=ne.useState(!0),[v,m]=ne.useState(""),[x,y]=ne.useState(null),[w,E]=ne.useState(null),I=50,[T,R]=ne.useState([]),[D,L]=ne.useState(1);ne.useEffect(()=>{a&&a.length>0&&(console.log("WORKING"),R(a.slice(0,I)))},[a,D]);const M=ne.useCallback(()=>{const G=D+1,X=D*I,J=X+I,O=a.slice(X,J);R(ee=>[...ee,...O]),L(G)},[a]),H=G=>{G.target.scrollHeight-G.target.scrollTop<=G.target.clientHeight+5&&a&&a.length>0&&M()};ne.useEffect(()=>{r&&(async()=>{try{const J=await new Promise((O,ee)=>{r?O(r):setTimeout(()=>{ee("No data found after waiting.")},5e3)});o(J)}catch{}})()},[r]),ne.useEffect(()=>{const G=localStorage.getItem("userType");G==="Manager"?m("Manager"):G==="TimeKeeper"&&m("TimeKeeper")},[]);const V=G=>{if(G&&(G==null?void 0:G.length)>0){h(!0);const X=G&&G.map(J=>{var O;return{id:(J==null?void 0:J.id)||null,data:(O=J==null?void 0:J.data)==null?void 0:O.map((ee,U)=>({REC:ee.rec||0,CTR:ee.ctr||"",DEPT:ee.dept||"",EMPLOYEEID:ee.empId||"",BADGE:ee.badge||"",NAME:ee.name||0,DATE:ee.date||"",ONAM:ee.onAm||"",OFFAM:ee.offAm||"",ONPM:ee.onPm||0,OFFPM:ee.offPm||0,IN:(ee==null?void 0:ee.in)||0,OUT:ee.out||0,TOTALINOUT:ee.totalInOut||"",ALLDAYMINUTES:ee.allDayMin||"",NETMINUTES:ee.netMin||"",TOTALHOURS:ee.totalHrs||"",TOTALACTUALHOURS:ee.totalActHrs||"",jobLocaWhrs:(ee==null?void 0:ee.jobLocaWhrs)||[],REMARKS:ee.remarks||"",status:ee.status||""}))}});console.log(X),o(X)}},P=G=>{o(G)},F=G=>typeof G!="string"?G:G.replace(/[^a-zA-Z0-9]/g,"");ne.useEffect(()=>{const G=async()=>{const X=t.map(ee=>{const U={};for(const z in ee)U[z]=F(ee[z]);return U}),J=["REC","CTR","DEPT","EMPLOYEEID","BADGE","NAME","DATE","ONAM","OFFAM","ONPM","OFFPM","IN","OUT","TOTALINOUT","ALLDAYMINUTES","NETMINUTES","TOTALHOURS","REMARKS"],O=await new Promise(ee=>{const U=X&&X.every(z=>J.every(Z=>Object.values(z).map(te=>typeof te=="string"?te.toUpperCase():te).includes(Z.toUpperCase())));ee(U)});console.log("Result: ",O),y(O),h(O),g(!1)};t&&t.length>0?G():t?(h(!1),g(!1)):(async()=>{h(!0);try{const ee=(await new Promise((U,z)=>{s?U(s):setTimeout(()=>{z("No data found after waiting.")},5e3)})).map(U=>{var z,Z;return{id:(z=U[0])==null?void 0:z.id,data:(Z=U[1])==null?void 0:Z.filter(te=>{if(te.status!=="Approved")return te})}}).filter(U=>U.data&&U.data.length>0);console.log(ee),v==="Manager"&&V(ee)}catch{}finally{}})()},[t,s]);const A=G=>{u(G)},_=()=>{d(!l)},S=G=>{E(G)},N=(G,X)=>G.map(J=>({id:J.id,data:J.data.map(O=>O.EMPLOYEEID===X.EMPLOYEEID&&O.DATE===X.DATE?X:O)})),C=(G,X)=>G.map(J=>J.EMPLOYEEID===X.EMPLOYEEID&&J.DATE===X.DATE?X:J),W=G=>{var J;const X=Array.isArray((J=a[0])==null?void 0:J.data)?N(a,G):C(a,G);o(X)},j=w5(i),B=async()=>{if(v==="TimeKeeper"){const G=a&&a.map(O=>({rec:O.REC||"",ctr:O.CTR||"",dept:O.DEPT||"",empId:O.EMPLOYEEID||"",badge:O.BADGE||"",name:O.NAME||"",date:O.DATE||"",onAm:O.ONAM||"",offAm:O.OFFAM||"",onPm:O.ONPM||"",offPm:O.OFFPM||"",in:O.IN||"",out:O.OUT||"",totalInOut:O.TOTALINOUT||"",allDayMin:O.ALLDAYMINUTES||"",netMin:O.NETMINUTES||"",totalHrs:O.TOTALHOURS||"",totalActHrs:O.TOTALACTUALHOURS||"",jobLocaWhrs:(O==null?void 0:O.jobLocaWhrs)||[],remarks:O.REMARKS||""}));console.log(G);const X=new Date().toLocaleDateString(),J={dailySheet:JSON.stringify(G),status:"Pending",date:X};J.dailySheet&&await jN.graphql({query:sW,variables:{input:J}}).then(O=>{console.log(O),O.data.createHeadOffice&&S(!0)}).catch(O=>{console.log(O),S(!1)})}else v==="Manager"&&(a&&a.map(X=>{var J;return{id:(X==null?void 0:X.id)||null,dailySheet:(J=X==null?void 0:X.data)==null?void 0:J.map(O=>({rec:O.REC||"",ctr:O.CTR||"",dept:O.DEPT||"",empId:O.EMPLOYEEID||"",badge:O.BADGE||"",name:O.NAME||"",date:O.DATE||"",onAm:O.ONAM||"",offAm:O.OFFAM||"",onPm:O.ONPM||"",offPm:O.OFFPM||"",in:O.IN||"",out:O.OUT||"",totalInOut:O.TOTALINOUT||0,allDayMin:O.ALLDAYMINUTES||0,netMin:O.NETMINUTES||0,totalHrs:O.TOTALHOURS||0,totalActHrs:O.TOTALACTUALHOURS||0,jobLocaWhrs:(O==null?void 0:O.jobLocaWhrs)||[],remarks:O.REMARKS||""}))}})).map(async X=>{const J={id:X.id,dailySheet:JSON.stringify(X.dailySheet),status:"Approved"};console.log(J),J.dailySheet&&await jN.graphql({query:iW,variables:{input:J}}).then(O=>{console.log(O),O.data.updateHeadOffice&&(S(!0),R([]))}).catch(O=>{console.log(O),S(!1)})})};return b.jsxs("div",{children:[b.jsx("div",{children:f===!0?b.jsxs("div",{children:[b.jsx("div",{className:"flex justify-end mr-7",children:b.jsx(gg,{excelData:r,searchResult:P})}),b.jsx("div",{className:"mt-9 overflow-x-auto overflow-y-scroll max-h-[500px]",onScroll:H,children:b.jsxs("table",{className:"table-auto text-center w-full",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"bg-lite_grey text-dark_grey text_size_5",children:[b.jsx("td",{className:"px-4 flex-1",children:"S No."}),j==null?void 0:j.tableHeader.map((G,X)=>b.jsx("td",{className:"px-4 flex-1",children:G},X)),x===!0?"":b.jsx("td",{className:"px-5 flex-",children:"STATUS"})]})}),b.jsx("tbody",{children:T&&(T==null?void 0:T.length)>0?T.map((G,X)=>{const J=(O,ee)=>{const U=O.status==="Pending";return b.jsxs("tr",{className:"text-dark_grey h-[40px] text-sm rounded-sm shadow-md border-b-2 border-[#CECECE] bg-white",onClick:()=>{_(),A(O)},children:[b.jsx("td",{className:"text-center px-4 flex-1",children:v==="Manager"?ee+1:X+1}),b.jsx("td",{className:"text-start px-4 flex-1",children:O.REC}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.CTR}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.DEPT}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.EMPLOYEEID}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.BADGE}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.NAME}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.DATE}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.ONAM}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.OFFAM}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.ONPM}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.OFFPM}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.IN}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.OUT}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.TOTALINOUT||0}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.ALLDAYMINUTES||0}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.NETMINUTES||0}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.TOTALHOURS||0}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.TOTALACTUALHOURS||0}),b.jsx("td",{className:"text-center px-4 flex-1",children:O.REMARKS}),U&&b.jsx("td",{className:"text-center px-4 flex-1",children:O.status})]},v==="Manager"?ee+1:X+1)};return v==="Manager"?G.data.map(J):v!=="Manager"&&J(G)}):b.jsx("tr",{children:b.jsx("td",{colSpan:"15",className:"px-6 py-6 text-center text-dark_ash text_size_5",children:b.jsx("p",{children:"No Table Data Available Here"})})})})]})}),b.jsx("div",{className:`flex justify-center my-5 ${T&&T.length>0?"":"hidden"}`,children:b.jsx("button",{className:"rounded px-3 py-2 bg-[#FEF116] text_size_5 text-dark_grey",onClick:()=>{B()},children:v==="Manager"?"Approve":"Send For Approval"})})]}):f===!1?b.jsx(S5,{}):""}),l===!0&&b.jsx(x5,{toggleFunction:_,editObject:c,fieldObj:(j==null?void 0:j.fieldObj)||{},fields:(j==null?void 0:j.fields)||[],tableHeader:(j==null?void 0:j.tableHeader)||[],editFunction:W,titleName:i,Position:e}),b.jsx(_5,{successMess:w,toggleSFAMessage:S,setExcelData:n,userIdentification:v})]})},Tie=(n,r,t,e)=>{if(n!==null){let s=function(g){const v=new Date(1899,11,30),m=g;return new Date(v.getTime()+m*24*60*60*1e3)},i=function(g){return typeof g!="string"?g:g.replace(/[^a-zA-Z0-9]/g,"")};const a=Wm(n,{type:"buffer"}),o=a.SheetNames;console.log("WorkSheet Names :",o);const c=[];o.forEach(g=>{const v=My.sheet_to_json(a.Sheets[g]);c.push({sheetName:g,data:v})}),console.log(c);const u=(g,v)=>{const m={},x={};return Object.keys(v).forEach(y=>{const w=v[y];x[w]?(x[w]+=1,m[`${w}_${x[w]}`]=g[y]||null):(x[w]=1,m[w]=g[y]||null)}),m},l=[],d=c&&c.map(g=>{const v=g.sheetName,m=g.data[0],x=g.data[2],y=g.data.slice(3,4).map(M=>u(M,x)),w=g.data[7],E=g.data[2],T=["138000","CONTRACT No:","DAILY TIME SHEET ","__EMPTY","__EMPTY_4"].map(M=>M.trim()),R=Object.fromEntries(Object.entries(E).filter(([M,H])=>!T.includes(M.trim()))),D={...w,...R};l.push(D),console.log(D);const L=g.data.slice(8).map(M=>u(M,D));return{sheetName:v,rows:y,tbodyRows:L,location:m}});console.log(d);const f=[];d&&d.map((g,v)=>{const m=g.rows,x=g.location.__EMPTY,y=g.tbodyRows,w=y.map((I,T)=>({...I,date:m.map(R=>R.DATE),location:x}));let E=w.findIndex(I=>I.NAME==="TOTAL");if(console.log(y),console.log(E),E>-1){let I=w.slice(0,E);console.log(I);let T=I.filter(D=>D.NAME!==null);console.log(T);const R=T.flat();f.push(...R)}});const h=f&&f.map(g=>{const v=g.date.flat(),x=s(v).toLocaleDateString();return{...g,date:x}});console.log(h);const p=h.map(g=>{const v={};for(const m in g){const x=i(m).toUpperCase();v[x]=g[m]}return v});return console.log("formattedData : ",p),r(p),l}e.current.value="",t(null)},Die=(n,r,t,e,s)=>{try{if(n!==null){let i=function(m){return typeof m!="string"?m:m.replace(/[^a-zA-Z0-9]/g,"")};const a=Wm(n,{type:"buffer"}),o=a.SheetNames,c=[],u=[];o.map(m=>{const x=My.sheet_to_json(a.Sheets[m]);c.push({sheetName:m,data:x})}),console.log(c);const l=c&&c.map(m=>{const x=m.data;console.log(x);var y=x.slice(0,1),w=x.slice(0);return u.push(w),y}),d=(m,x)=>{if(x==="time"){const y=m*24,w=Math.floor(y),E=(y-w)*60,I=Math.floor(E),T=(E-I)*60,R=Math.round(T);return`${w.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}:${R.toString().padStart(2,"0")}`}else if(x==="date"){const y=new Date(1899,11,30),w=m;return new Date(y.getTime()+w*24*60*60*1e3)}},h=u.flat().map(m=>{const x={};for(const y in m){const w=i(y);x[w]=m[y]}return x}),p=h&&h.map(m=>{if(typeof m.IN=="number"&&(m.IN=d(m.IN,"time")),typeof m.OUT=="number"&&(m.OUT=d(m.OUT,"time")),typeof m.DATE=="number"){const x=d(m.DATE,"date"),y=new Date(x);m.DATE=y.toLocaleDateString()}return m});console.log(p);const v=(m=>{const x=new Map;return m.forEach(y=>{if(y.hasOwnProperty("NAME")){const w=`${y.NAME}`;x.set(w,y)}}),Array.from(x.values())})(p);return console.log(v),r(v),s(!1),l.flat()}e.current.value="",t(null)}catch{}},Iie=(n,r,t,e,s)=>{try{if(n!==null){let i=function(m){return typeof m!="string"?m:m.replace(/[^a-zA-Z0-9]/g,"")};const a=Wm(n,{type:"buffer"}),o=a.SheetNames,c=[],u=[];o.forEach(m=>{const x=My.sheet_to_json(a.Sheets[m]);c.push({sheetName:m,data:x})}),console.log(c);const l=c&&c.map(m=>{const x=m.data;console.log(x);var y=x.slice(0,1),w=x.slice(0);return console.log(w),u.push(w),y}),d=(m,x)=>{if(x==="time"){const y=m*24,w=Math.floor(y),E=(y-w)*60,I=Math.floor(E),T=(E-I)*60,R=Math.round(T);return`${w.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}:${R.toString().padStart(2,"0")}`}else if(x==="date"){const y=new Date(1899,11,30),w=m;return new Date(y.getTime()+w*24*60*60*1e3)}},h=u.flat().map(m=>{const x={};for(const y in m){const w=i(y);x[w]=m[y]}return x});console.log("formattedData : ",h);const p=h&&h.map(m=>{if(typeof m.IN=="number"&&(m.IN=d(m.IN,"time")),typeof m.OUT=="number"&&(m.OUT=d(m.OUT,"time")),typeof m.DATE=="number"){const x=d(m.DATE,"date"),y=new Date(x);m.DATE=y.toLocaleDateString()}return m});console.log(p);const v=(m=>{const x=new Map;return m.forEach(y=>{if(y.hasOwnProperty("BADGE")){const w=`${y.BADGE}`;x.set(w,y)}}),Array.from(x.values())})(p);return console.log(v),r(v),s(!1),l.flat()}e.current.value="",t(null)}catch{}},Pie=(n,r,t,e,s)=>{try{if(n!==null){let i=function(m){return typeof m!="string"?m:m.replace(/[^a-zA-Z0-9]/g,"")},a=function(m){const x=/^\d{1,2}\/\d{1,2}\/\d{4}$/;return m.filter(y=>y.IN&&y.OUT)};const o=Wm(n,{type:"buffer"}),c=o.SheetNames,u=[],l=[];c.forEach(m=>{const x=My.sheet_to_json(o.Sheets[m]);u.push({sheetName:m,data:x})}),console.log(u);const d=[],f=u&&u.map(m=>{const x=m.data;console.log(x);var y=x.slice(1,2),w="";const I=y.map(R=>Object.entries(R).map(([L,M])=>[{key:L,value:M}])).flat().flat();var T=x.slice(2);return T.forEach(R=>{const D={};Object.entries(R).forEach(([L,M])=>{const H=I.find(V=>V.key===L);H&&(D[H.value]=M)}),l.push(D)}),y}),h=(m,x)=>{if(x==="time"){const y=m*24,w=Math.floor(y),E=(y-w)*60,I=Math.floor(E),T=(E-I)*60,R=Math.round(T);return`${w.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}:${R.toString().padStart(2,"0")}`}else if(x==="date"){const y=new Date(1899,11,30),w=m;return new Date(y.getTime()+w*24*60*60*1e3)}},p=l.map(m=>{const x={};for(const y in m){const w=i(y);x[w]=m[y]}return x}),g=p&&p.map(m=>{if(typeof m.ONAM=="number"&&(m.ONAM=h(m.ONAM,"time")),typeof m.OFFAM=="number"&&(m.OFFAM=h(m.OFFAM,"time")),typeof m.ONPM=="number"&&(m.ONPM=h(m.ONPM,"time")),typeof m.OFFPM=="number"&&(m.OFFPM=h(m.OFFPM,"time")),typeof m.IN=="number"&&(m.IN=h(m.IN,"time")),typeof m.OUT=="number"&&(m.OUT=h(m.OUT,"time")),typeof m.DATE=="number"){const x=h(m.DATE,"date"),y=new Date(x);m.DATE=y.toLocaleDateString()}return m});try{}catch{}const v=a(g);return console.log(v),r(v),s(!1),f.flat()}e.current.value="",t(null)}catch{}};Pr();const jie=(n,r,t,e,s)=>{try{if(n!==null){let i=function(x){return typeof x!="string"?x:x.replace(/[^a-zA-Z0-9]/g,"")};const a=Wm(n,{type:"buffer",cellStyles:!0}),o=a.SheetNames,c=[],u=[],l=[];o.forEach(x=>{const y=My.sheet_to_json(a.Sheets[x]);c.push({sheetName:x,data:y})}),console.log(c);const d=c&&c.map(x=>{const y=x.data;console.log(y);var w=y.slice(0,1);const I=w.map(R=>Object.entries(R).map(([L,M])=>[{key:L,value:M}])).flat().flat();var T=y.slice(1);return console.log(T),T.forEach(R=>{const D={};Object.entries(R).forEach(([L,M])=>{const H=I.find(V=>V.key===L);H&&(D[H.value]=M)}),l.push(D)}),w}),f=l.map(x=>{const y={};for(const E in x){const I=i(E).toUpperCase();y[I]=x[E]}return{...y,NORMALWORKINGHRSPERDAY:"",WORKINGHOURS:"",OT:"",REMARKS:""}});console.log("formattedData : ",f),u.push(f);const h=(x,y)=>{if(y==="dateTime"){const w=new Date(1899,11,30),E=x*24*60*60*1e3;return new Date(w.getTime()+E)}else if(y==="date"){const w=new Date(1899,11,30),E=x;return new Date(w.getTime()+E*24*60*60*1e3)}else if(y==="time"){const w=x*24,E=Math.floor(w),I=(w-E)*60,T=Math.floor(I),R=(I-T)*60,D=Math.round(R);return`${E.toString().padStart(2,"0")}:${T.toString().padStart(2,"0")}:${D.toString().padStart(2,"0")}`}else if(y==="Avg. Daily Total By Day"){const w=Math.round(x*24*60),E=Math.floor(w/60),I=w%60,T=String(E).padStart(2,"0"),R=String(I).padStart(2,"0");return`${T}:${R}`}},p=x=>x.toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}),g=u.flat(),m=(g&&g.map(x=>{if(typeof x.EXITDATETIME=="number"){const y=h(x.EXITDATETIME,"dateTime");x.EXITDATETIME=p(y)}if(typeof x.ENTRANCEDATETIME=="number"){const y=h(x.ENTRANCEDATETIME,"dateTime");x.ENTRANCEDATETIME=p(y)}if(typeof x.ENTRANCEDATEUSED=="number"){const y=h(x.ENTRANCEDATEUSED,"date"),w=new Date(y);x.ENTRANCEDATEUSED=w.toLocaleDateString()}if(typeof x.AVGDAILYTOTALBYDAY=="number"){const y=h(x.AVGDAILYTOTALBYDAY,"Avg. Daily Total By Day");x.AVGDAILYTOTALBYDAY=y}if(typeof x.ADININWORKSENGINEERINGSDNBHD=="number"){const y=h(x.ADININWORKSENGINEERINGSDNBHD,"Avg. Daily Total By Day");x.ADININWORKSENGINEERINGSDNBHD=y}return x})).reduce((x,y)=>{const{FID:w,NAMEFLAST:E,ENTRANCEDATEUSED:I,ENTRANCEDATETIME:T,EXITDATETIME:R,...D}=y,L=x[x.length-1]||{},M=w||L.FID,H=E||L.NAMEFLAST,V=I||L.ENTRANCEDATEUSED,P=x.find(F=>F.FID===M&&F.NAMEFLAST===H&&F.ENTRANCEDATEUSED===V);return P?(P.ENTRANCEDATETIME.push(T),P.EXITDATETIME.push(R)):x.push({FID:M||"",NAMEFLAST:H||"",ENTRANCEDATEUSED:I,ENTRANCEDATETIME:[T],EXITDATETIME:[R],...D}),x},[]);return console.log("transformedData : ",m),m.forEach(x=>{x.FID&&x.ENTRANCEDATEUSED&&(x.EXITDATETIME.length>1&&(x.EXITDATETIME=[x.EXITDATETIME[x.EXITDATETIME.length-1]]),x.ENTRANCEDATETIME.length>1&&(x.ENTRANCEDATETIME=[x.ENTRANCEDATETIME[0]]))}),r(m),s(!1),d.flat()}e.current.value="",t(null)}catch{}},Rie=n=>{const r=Pr(),[t,e]=ne.useState([]),[s,i]=ne.useState(null);return ne.useEffect(()=>{const a=localStorage.getItem("userType");i(a),(async()=>{var c,u,l,d,f,h,p,g;if(console.log("I am calling You"),a==="Manager"&&n==="BLNG")try{const[v]=await Promise.all([r.graphql({query:kM})]);console.log(v);const m=(u=(c=v==null?void 0:v.data)==null?void 0:c.listBlngs)==null?void 0:u.items;if(console.log("headOffice : ",m),m&&m.length>0){const y=m.map(w=>{if(Array.isArray(w.weeklySheet)&&w.weeklySheet.length>0){const E=w.weeklySheet[0],I=w.id,T=w.status,R=E.replace(/^"|\s*'|\s*"$|\\'/g,"").replace(/\\"/g,'"').replace(/\\n/g,"").replace(/\\\//g,"/");try{const L=JSON.parse(R).map(M=>({...M,status:T}));return[{id:I},L]}catch(D){return console.error("Error parsing JSON:",D),null}}return null}).filter(w=>w!==null);e(y)}else console.log("No data available")}catch(v){console.error("Error fetching data:",v)}else if(a==="Manager"&&n==="HO")try{const[v]=await Promise.all([r.graphql({query:CM})]);console.log(v);const m=(d=(l=v==null?void 0:v.data)==null?void 0:l.listHeadOffices)==null?void 0:d.items;if(m&&m.length>0){const y=m.map(w=>{var E;if(Array.isArray(w.dailySheet)&&((E=w.dailySheet)==null?void 0:E.length)>0){const I=w.dailySheet[0],T=w.id,R=w.status,D=I.replace(/^"|\s*'|\s*"$|\\'/g,"").replace(/\\"/g,'"').replace(/\\n/g,"").replace(/\\\//g,"/");try{const M=JSON.parse(D).map(H=>({...H,status:R}));return[{id:T},M]}catch(L){return console.error("Error parsing JSON:",L),null}}return null}).filter(w=>w!==null);e(y)}else console.log("No data available")}catch(v){console.error("Error fetching data:",v)}else if(a==="Manager"&&n==="SBW")try{const[v]=await Promise.all([r.graphql({query:TM})]);console.log(v);const m=(h=(f=v==null?void 0:v.data)==null?void 0:f.listSBWSheets)==null?void 0:h.items;if(m&&m.length>0){const y=m.map(w=>{var E;if(Array.isArray(w.dailySheet)&&((E=w.dailySheet)==null?void 0:E.length)>0){const I=w.dailySheet[0],T=w.id,R=w.status,D=I.replace(/^"|\s*'|\s*"$|\\'/g,"").replace(/\\"/g,'"').replace(/\\n/g,"").replace(/\\\//g,"/");try{const M=JSON.parse(D).map(H=>({...H,status:R}));return[{id:T},M]}catch(L){return console.error("Error parsing JSON:",L),null}}return null}).filter(w=>w!==null);e(y)}else console.log("No data available")}catch(v){console.error("Error fetching data:",v)}else if(a==="Manager"&&n==="ORMC")try{const[v]=await Promise.all([r.graphql({query:DM})]);console.log(v);const m=(g=(p=v==null?void 0:v.data)==null?void 0:p.listORMCSheets)==null?void 0:g.items;if(m&&m.length>0){const y=m.map(w=>{var E;if(Array.isArray(w.dailySheet)&&((E=w.dailySheet)==null?void 0:E.length)>0){const I=w.dailySheet[0],T=w.id,R=w.status,D=I.replace(/^"|\s*'|\s*"$|\\'/g,"").replace(/\\"/g,'"').replace(/\\n/g,"").replace(/\\\//g,"/");try{const M=JSON.parse(D).map(H=>({...H,status:R}));return[{id:T},M]}catch(L){return console.error("Error parsing JSON:",L),null}}return null}).filter(w=>w!==null);e(y)}else console.log("No data available")}catch(v){console.error("Error fetching data:",v)}})()},[n]),{convertedStringToArrayObj:t,getPosition:s}};Pr();const Ly=({title:n})=>{const r=ne.useRef(null),[t,e]=ne.useState(""),[s,i]=ne.useState(!1),[a,o]=ne.useState(""),[c,u]=ne.useState(!1),[l,d]=ne.useState(null),[f,h]=ne.useState(null),[p,g]=ne.useState(),[v,m]=ne.useState(null),[x,y]=ne.useState(""),[w,E]=ne.useState(!1),[I,T]=ne.useState(!1);ne.useState();const R=()=>{T(!I),m(null)};ne.useEffect(()=>{y(I===!0?"ORMC":n)},[I]);const{convertedStringToArrayObj:D,getPosition:L}=Rie(x),M=A=>{o(A.target.files[0].name);let _=["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/csv"],S=A.target.files[0];if(S)if(e(S.name),S&&_.includes(S.type)){var N=S&&_.includes(S.type);u(N),h(null);let C=new FileReader;C.readAsArrayBuffer(S),C.onload=W=>{d(W.target.result)}}else h("Please select only excel file types"),d(null)},H=async()=>{r.current.click()},V=()=>{try{if(x==="Offshore"){const A=Tie(l,m,d,r,E);g(A),r.current.value="",d(null)}else if(x==="ORMC"){const A=Die(l,m,d,r,E);g(A),r.current.value="",d(null)}else if(x==="SBW"){const A=Iie(l,m,d,r,E);g(A),r.current.value="",d(null)}else if(x==="HO"){const A=Pie(l,m,d,r,E);g(A),r.current.value="",d(null)}else if(x==="BLNG"){const A=jie(l,m,d,r,E);g(A),r.current.value="",d(null)}}catch{console.log("ERROR")}},P=()=>{r.current.value="",d(null)},F=()=>{e(""),r.current.value=""};return b.jsxs("div",{className:"p-10 ",children:[b.jsx("div",{children:b.jsx(ga,{to:"/timeSheet",className:"text-xl flex-1 text-grey ",children:b.jsx(Xc,{})})}),b.jsx("div",{children:b.jsxs("div",{className:" m-9 screen-size my-5  flex flex-col items-center gap-3",children:[b.jsx("p",{className:"text-2xl font-semibold text-dark_grey uppercase",children:n}),L!=="Manager"&&b.jsx("div",{className:"my-2 flex flex-col gap-5",children:b.jsxs("div",{className:"flex gap-5",children:[b.jsxs("div",{className:" flex flex-col items-center  gap-5",children:[b.jsx("div",{className:"border-[#30303080] border-2",children:b.jsx("input",{className:"outline-none py-2 px-3 text-sm",type:"text",placeholder:"Please Upload the Time Sheet",value:t||"",onChange:A=>{e(A.target.value)},readOnly:!0})}),b.jsxs("div",{className:"flex gap-2 p",children:[b.jsx("span",{children:b.jsx(eL,{className:"text-xs mt-1.5"})}),b.jsx("span",{className:"text-dark_grey",children:"XLS / CSV Files only"})]})]}),b.jsxs("div",{className:"",children:[!t&&b.jsxs("div",{children:[b.jsx("button",{className:"text_size_4 border-[#30303080] border-2 py-1 px-10 text-dark_grey rounded-md bg-[#FEF116]",onClick:H,children:"Upload"}),n==="Offshore"&&b.jsxs("div",{className:"flex items-center space-x-3 m-5",children:[b.jsx("input",{type:"checkbox",className:"h-5 w-5 text-dark_grey rounded checked:bg-red checked:border-transparent",checked:I,onChange:R}),b.jsx("label",{htmlFor:"custom-checkbox",className:"text-dark_grey text_size_4 ",children:"ORMC"})]})]}),t&&b.jsxs("div",{className:"flex gap-5",children:[b.jsx("button",{className:"text_size_4 border-[#30303080] border-2 py-1 px-10 text-dark_grey rounded-md bg-[#FEF116]",onClick:()=>{E(!0),setTimeout(()=>{V()},1e3),u(),e()},children:"Submit"}),b.jsx("button",{className:"text_size_4 border-[#30303080] border-2 py-1 px-10 text-dark_grey rounded-md ",onClick:()=>{F()},children:"Cancel"})]})]}),b.jsx("input",{ref:r,type:"file",className:"hidden",onChange:M})]})})]})}),!c&&b.jsx("div",{className:"flex flex-col items-center",children:b.jsx(kie,{fileName:t,ensureExcelFile:c,typeError:f,UploadFile:V,setEnsureExcelFile:u,setFileName:e,clearUseRefObject:P})}),v&&b.jsxs("div",{children:[" ",x==="Offshore"&&b.jsx(AN,{setExcelData:m,excelData:v,returnedTHeader:p,Position:L,titleName:x}),x==="HO"&&b.jsx(RN,{setExcelData:m,excelData:v,returnedTHeader:p,Position:L,titleName:x}),x==="SBW"&&b.jsx(DN,{setExcelData:m,excelData:v,returnedTHeader:p,Position:L,titleName:x}),x==="ORMC"&&b.jsx(PN,{setExcelData:m,excelData:v,returnedTHeader:p,Position:L,titleName:x}),x==="BLNG"&&b.jsx(CN,{excelData:v,setExcelData:m,returnedTHeader:p,Position:L,titleName:x})]}),!v&&L==="Manager"&&x==="BLNG"&&b.jsx(CN,{titleName:x,returnedTHeader:null,convertedStringToArrayObj:D,Position:L}),!v&&L==="Manager"&&x==="HO"&&b.jsx(RN,{titleName:x,returnedTHeader:null,convertedStringToArrayObj:D,Position:L}),!v&&L==="Manager"&&x==="SBW"&&b.jsx(DN,{titleName:x,returnedTHeader:null,convertedStringToArrayObj:D,Position:L}),!v&&L==="Manager"&&x==="ORMC"&&b.jsx(PN,{titleName:x,returnedTHeader:null,convertedStringToArrayObj:D,Position:L}),!v&&L==="Manager"&&x==="Offshore"&&b.jsx(AN,{titleName:x,returnedTHeader:null,convertedStringToArrayObj:D,Position:L}),s&&b.jsx("div",{className:"flex flex-col items-center",children:b.jsx(Cie,{fileNameForSuccessful:a,setCloseSavedModel:i})}),w===!0&&b.jsx("div",{className:"flex justify-center items-center text_size_5 text-dark_grey m-2",children:b.jsx("p",{children:"Please wait a few seconds....."})})]})},Mie=()=>b.jsx("div",{children:b.jsx(Ly,{title:"Offshore"})}),Lie=()=>b.jsx("section",{children:b.jsx(Ly,{title:"BLNG"})}),Oie=({afterSearch:n})=>b.jsx("section",{children:b.jsx("div",{className:"flex justify-center mt-9 ",children:b.jsxs("table",{className:"text-center w-full rounded-md overflow-hidden shadow-md",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"bg-lite_grey h-10 text-dark_grey text_size_5 text-start",children:[b.jsx("td",{className:"px-5 text-center",children:"S No."}),b.jsx("td",{className:"px-7",children:"Employee Name"}),b.jsx("td",{className:"pr-14 text-center",children:"Sub ID"}),b.jsx("td",{className:"px-7",children:"Location"}),b.jsx("td",{className:"px-7 text-center",children:"Date"}),b.jsx("td",{className:"px-7 text-center",children:"Total NT"}),b.jsx("td",{className:"pr-7 text-center",children:"Total OT"})]})}),b.jsx("tbody",{children:n&&n.map((r,t)=>b.jsxs("tr",{className:"text-dark_grey h-[53px] bg-white text-sm rounded-sm shadow-md text-start ",children:[b.jsx("td",{className:"px-5 text-center",children:r.employeeId}),b.jsx("td",{className:"px-7",children:r.employeeName}),b.jsx("td",{className:"text-center pr-14",children:r["Sub ID"]}),b.jsx("td",{className:"px-7",children:r.Loction}),b.jsx("td",{className:"text-center px-5",children:r["Start Date"]}),b.jsx("td",{className:"text-center px-7",children:r["Total NT"]}),b.jsx("td",{className:"text-center pr-7",children:r["Total OT"]})]},t))})]})})}),Fie=({AfterFilter:n})=>{const[r,t]=ne.useState(!1),[e,s]=ne.useState("All"),i=()=>{t(!r)},a=o=>{s(o),t(!1)};return b.jsx("section",{className:"",children:b.jsxs("div",{className:"center gap-2 border relative rounded-md p-[9px]  text-sm text-secondary border-[#CDCDCD]",onClick:i,children:[b.jsx(i8,{}),b.jsx("p",{children:"Filter"}),r&&b.jsx("div",{className:" top-10 absolute left-0 w-32 shadow-lg bg-white z-50 ",children:b.jsxs("div",{className:"py-1 shadow-md  flex flex-col bg-white",children:[b.jsx("button",{onClick:()=>a("All"),className:" w-full text-left px-4 py-2 text-sm text-dark_grey hover:bg-lite_grey hover:text-white ",children:"All"}),b.jsx("button",{onClick:()=>a("Pending"),className:" w-full text-left px-4 py-2 text-sm text-dark_grey hover:bg-lite_grey hover:text-white ",children:"Pending"}),b.jsx("button",{onClick:()=>{a("Approved")},className:"   w-full text-left px-4 py-2 text-sm text-dark_grey hover:bg-lite_grey hover:text-white",children:"Approved"}),b.jsx("button",{onClick:()=>a("Rejected"),className:" w-full text-left px-4 py-2 text-sm text-dark_grey hover:bg-lite_grey hover:text-white",children:"Rejected"})]})})]})})},Bie=({})=>{const[n,r]=ne.useState("Select type"),[t,e]=ne.useState(!1);ne.useState("");const s=[{employeeId:1,employeeName:"Bueno Jr, Danilo","Sub ID":"261451",Loction:"Third Party Services","Start Date":"16/7/2024","End Date":"16/7/2024","IN Time":"8.00","Out Time":"4.00","Total NT":"8.00","Total OT":"4.00"},{employeeId:2,employeeName:"Abdul Razak, Muhammad Muhaimin","Sub ID":"261451",Loction:"Third Party Services","Start Date":"16/7/2024","End Date":"16/7/2024","IN Time":"8.00","Out Time":"4.00","Total NT":"8.00","Total OT":"4.00"},{employeeId:3,employeeName:"Abdullah, Mohammad Norakmalluddin","Sub ID":"261452",Loction:"Third Party Services","Start Date":"16/7/2024","End Date":"16/7/2024","IN Time":"8.00","Out Time":"4.00","Total NT":"8.00","Total OT":"4.00"},{employeeId:4,employeeName:"Smith, John","Sub ID":"261452",Loction:"Third Party Services","Start Date":"16/7/2024","End Date":"16/7/2024","IN Time":"8.00","Out Time":"4.00","Total NT":"8.00","Total OT":"4.00"},{employeeId:5,employeeName:"Doe, Jane","Sub ID":"261453",Loction:"Third Party Services","Start Date":"16/7/2024","End Date":"16/7/2024","IN Time":"8.00","Out Time":"4.00","Total NT":"8.00","Total OT":"4.00"}],[i,a]=ne.useState(s),o=c=>{a(c),console.log(c)};return b.jsx("div",{className:"border border-white",children:b.jsxs("div",{className:"screen-size mt-9",children:[b.jsx(ga,{to:"/timeSheet",className:"text-[#0033ffe2]",children:"Back"}),b.jsx("p",{className:"text-xl font-medium py-6",children:"View Time Sheet"}),b.jsxs("div",{className:"flex justify-between items-center w-full",children:[b.jsxs("div",{className:"flex justify-start items-center gap-4 ",children:[b.jsxs("div",{className:"relative",children:[b.jsx("label",{htmlFor:"",className:"text_size_6",children:"Start Date"}),b.jsx("br",{}),b.jsx("input",{type:"text",placeholder:"Start Date",className:"border border-[#D9D9D9] rounded outline-none p-2 text-[#000000] text-sm "}),b.jsx("span",{className:"absolute right-2 top-8",children:b.jsx(Vx,{className:"text-xl text-dark_grey"})})]}),b.jsxs("div",{className:"relative",children:[b.jsx("label",{htmlFor:"",className:"text_size_6",children:"End Date"}),b.jsx("br",{}),b.jsx("input",{type:"text",placeholder:"End Date",className:"border border-[#D9D9D9] rounded outline-none p-2 text-[#000000] text-sm "}),b.jsx("span",{className:"absolute right-2 top-8",children:b.jsx(Vx,{className:"text-xl text-dark_grey"})})]})]}),b.jsxs("div",{className:"flex justify-end gap-4 mt-6  ",children:[b.jsxs("div",{className:"relative",children:[b.jsxs("div",{className:"relative ",children:[b.jsx("input",{value:n,htmlFor:"filter",placeholder:"Select type",className:"border border-[#D9D9D9] cursor-pointer rounded outline-none p-2 text-[#000000] text-sm ",onClick:()=>{e(!0)},onChange:()=>{}}),b.jsx("span",{className:"absolute right-2 top-2",children:b.jsx(VU,{className:"text-xl text-dark_grey"})})]}),t&&b.jsxs("div",{className:"filter absolute border border-[#D9D9D9] mt-1 w-full text-[16px] p-1 bg-white",onClick:()=>{e(!1)},children:[b.jsx("p",{className:"hover:bg-secondary hover:text-white p-1 cursor-pointer",onClick:()=>{r("Onshore")},children:"Onshore"}),b.jsx("p",{className:"hover:bg-secondary hover:text-white p-1 cursor-pointer",onClick:()=>{r("Offshore")},children:"Offshore"}),b.jsx("p",{className:"hover:bg-secondary hover:text-white p-1 cursor-pointer",onClick:()=>{r("BLNG")},children:"BLNG"})]})]}),b.jsx(gg,{excelData:s,searchResult:o}),b.jsx(Fie,{})]})]}),b.jsx(Oie,{afterSearch:i})]})})},Uie=_s().shape({courseSelect:Ue().required("Course selection is required"),courseName:Ur().of(Ue().required("Course name is required")),company:Ur().of(Ue().required("Training company is required"))}),Hie=_s().shape({empID:Ue().required("Employee ID is required"),employeeBadgeNumber:Ue().required("Employee Badge Number is required"),department:Ue().required("Department is required"),blastingPaintingBadgeNumber:Ue().required("Blasting/Painting Badge Number is required"),blastingPaintingAssessmentStartDate:Ue().required("Assessment Start Date is required"),blastingPaintingAssessmentEndDate:Ue().required("Assessment End Date is required"),blastingPaintingQualificationExpiry:Ue().required("Qualification Expiry is required"),blastingUpload:Wr().required("Upload is required").test("fileType","Only PDF files are allowed",n=>n&&/\.(pdf)$/.test(n.name)),employeeName:Ue().required("Employee Name is required"),position:Ue().required("Position is required"),blastingPaintingRemarks:Ue()}),qie=_s().shape({empID:Ue().required("Employee ID is required"),empBadgeNo:Ue().required("Employee Badge Number is required"),department:Ue().notRequired(),courseSelect:Ue().notRequired(),courseName:Ue().notRequired(),company:Ue().notRequired(),orgiCertifiDate:Ue().notRequired(),empName:Ue().notRequired(),eCertifiDate:Ue().notRequired(),certifiExpiry:Ue().notRequired(),trainingUpCertifi:Ue().notRequired()}),Wie=_s().shape({empID:Ue().required("Employee ID is required"),empBadgeNo:Ue().required("Employee Badge Number is required"),department:Ue().required("Department is required"),weldingStampNo:Ue().required("Welding Stamp Number is required"),wpsNumber:Ue().required("WPS Number is required"),weldingProcess:Ue().required("Welding Process is required"),weldingPosition:Ue().required("Welding Position is required"),thicknessRange:Ue().required("Thickness Range is required"),WQExpiry:Ue().required("Welding Qualification Expiry is required"),weldingUpload:Wr().notRequired(),empName:Ue().required("Employee Name is required"),position:Ue().required("Position is required"),WQRNo:Ue().required("WQR Number is required"),weldingCode:Ue().required("Welding Code is required"),weldingMaterial:Ue().required("Welding Material is required"),fillerMetal:Ue().required("Filler Metal is required"),diameterRange:Ue().required("Diameter Range is required"),WQRemarks:Ue().notRequired()}),zie=_s().shape({empID:Ue().required("Employee ID is required"),empBadgeNo:Ue().required("Employee Badge Number is required"),empName:Ue().required("Employee Name is required"),department:Ue().required("Department is required"),traineeCourseCode:Ue().required("Training Course Code is required"),traineeCourseName:Ue().required("Training Course Name is required"),traineeCompany:Ue().required("Training Company is required"),traineeSD:Ue().required("Training Start Date is required"),traineeED:Ue().required("Training End Date is required"),traineeStatus:Ue().required("Training Status is required"),MRNo:Ue().required("MR Number is required"),purchaseONo:Ue().required("PO Number is required"),traineeCourseFee:Ue().typeError("Training course fee must be a number").required("Training course fee is required"),medicalName:Ue().notRequired(),medicalExpiry:Ue().notRequired(),medicalAppointDate:Ue().notRequired(),medicalReport:Wr().notRequired()}),Vie=()=>{const n=Pr();return{SubmitMPData:ne.useCallback(async({TCValue:t})=>{if(!t)throw new Error("Missing required parameters");const e={empID:t.empID,courseCode:[t.courseCode],courseName:[t.courseName],company:[t.company],certifiExpiry:[t.certifiExpiry],eCertifiDate:[t.eCertifiDate],trainingUpCertifi:[JSON.stringify(t.trainingUpCertifi)],orgiCertifiDate:[t.orgiCertifiDate]};console.log(e);try{const s=await Promise.all([n.graphql({query:aW,variables:{input:e}})]);console.log(s,"successfully stored data")}catch(s){throw console.error("Error executing GraphQL requests:",s),s}},[])}},$ie=()=>{ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{SubmitMPData:n}=Vie(),[r,t]=ne.useState(!1),[e,s]=ne.useState({trainingUpCertifi:null}),[i,a]=ne.useState({trainingUpCertifi:null}),{register:o,handleSubmit:c,setValue:u,formState:{errors:l}}=ds({resolver:vs(qie)});ne.useRef(null);const d=async(h,p)=>{const g=h.target.files[0];u(p,g),g&&(await di(g,"trainingUpCertifi",a,"personName"),s(v=>({...v,trainingUpCertifi:g.name})))},f=async h=>{console.log("Form data:",h);try{const p={...h,trainingUpCertifi:i.trainingUpCertifi};await n({TCValue:p}),t(!0)}catch(p){console.error("Error submitting data:",p),p!=null&&p.errors&&p.errors.forEach((g,v)=>{console.error(`GraphQL Error ${v+1}:`,g.message),g.extensions&&console.error("Error Extensions:",g.extensions)})}};return b.jsx("section",{className:"center flex-col gap-16 bg-[#F8F8F8]",children:b.jsxs("form",{onSubmit:c(f),className:"space-y-5 screen-size bg-white py-5 px-8 rounded-xl  text_size_6 text-dark_grey",children:[b.jsx("div",{className:"flex justify-end  items-center py-5 mt-2",children:b.jsxs("div",{className:"max-w-sm",children:[b.jsx("label",{className:"text_size_5",children:"Employee ID"})," ",b.jsx("br",{}),b.jsx("input",{type:"text",className:"input-field",...o("empID")}),l.empID&&b.jsx("p",{className:"text-[red] text-[12px]",children:l.empID.message})]})}),b.jsxs("div",{className:"grid grid-cols-2 gap-6 ",children:[b.jsxs("div",{className:"mb-2",children:[b.jsx("label",{className:"text_size_5",children:"Employee Name"}),b.jsx("input",{type:"text",...o("employeeName"),className:"input-field"}),l.employeeName&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:l.employeeName.message})," "]}),b.jsxs("div",{className:"mb-2",children:[b.jsx("label",{className:"text_size_5",children:"Employee Badge Number"}),b.jsx("input",{type:"text",...o("empBadgeNo"),className:"input-field"}),l.empBadgeNo&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:l.empBadgeNo.message})]}),b.jsxs("div",{className:"mb-2",children:[b.jsx("label",{className:"text_size_5",children:"Department"}),b.jsx("input",{...o("department"),className:"input-field",type:"text"}),l.department&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:l.department.message})]}),b.jsxs("div",{className:"mb-2",children:[b.jsx("label",{className:"text_size_5",children:"Training Course Code"}),b.jsx("input",{type:"text",className:"input-field ",...o("courseCode")}),l.courseCode&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:l.courseCode.message})]}),b.jsxs("div",{className:"mb-2",children:[b.jsx("label",{className:"text_size_5",children:"Training Course Name"}),b.jsx("input",{type:"text",className:"input-field",...o("courseName")}),l.courseName&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:l.courseName.message})]}),b.jsxs("div",{className:"mb-2",children:[b.jsx("label",{className:"text_size_5",children:"Training Company"}),b.jsx("input",{type:"text",className:"input-field ",...o("company")}),l.company&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:l.company.message})]}),b.jsxs("div",{className:"mb-2",children:[" ",b.jsx("label",{className:"text_size_5",children:"Date received Original Certificate"}),b.jsx("input",{...o("orgiCertifiDate"),className:"input-field",type:"date"}),l.orgiCertifiDate&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:l.orgiCertifiDate.message})]}),b.jsxs("div",{className:"mb-2",children:[" ",b.jsx("label",{className:"text_size_5",children:"Date received E-certificate"}),b.jsx("input",{...o("eCertifiDate"),className:"input-field",type:"date"}),l.eCertifiDate&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:l.eCertifiDate.message})]}),b.jsxs("div",{className:"mb-2",children:[b.jsx("label",{className:"text_size_5",children:"Training Certificate Expiry"}),b.jsx("input",{...o("certifiExpiry"),className:"input-field",type:"date"}),l.certifiExpiry&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:l.certifiExpiry.message})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"flex items-center px-3 py-2 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] rounded-md cursor-pointer",children:["Training Certificate",b.jsx("input",{type:"file",...o("trainingUpCertifi"),onChange:h=>d(h,"trainingUpCertifi"),className:"hidden",accept:"application/pdf, image/png, image/jpeg"}),b.jsx("span",{className:"ml-2",children:b.jsx(Bs,{})})]}),e.trainingUpCertifi&&b.jsxs("p",{className:"text-xs mt-1 text-grey",children:["Uploaded: ",e.trainingUpCertifi]})]})]}),b.jsx("div",{className:"center py-5",children:b.jsx("button",{type:"submit",className:"primary_btn",children:"Submit"})}),r&&b.jsx(fi,{text:"Dependent Insurance Info details save successfully",notification:r,path:"/training"})]})})},Gie=()=>{const{register:n,handleSubmit:r,formState:{errors:t}}=ds({resolver:vs(Uie)}),[e,s]=ne.useState(!0),[i,a]=ne.useState([""]),[o,c]=ne.useState([""]),u=f=>{const h={courseSelect:f.courceSelect,courseNameFields:f.courseNameFields,companyFields:f.companyFields};console.log(h)},l=()=>a([...i,""]),d=()=>c([...o,""]);return b.jsxs("section",{className:"p-10 center flex-col gap-16 bg-[#F8F8F8]",children:[b.jsxs("div",{className:"w-full flex items-center justify-between gap-5",children:[b.jsx(ga,{to:"/training",className:"text-xl flex-1 text-grey",children:b.jsx(Xc,{})}),b.jsxs("article",{className:"flex-1 flex gap-5 text-dark_grey",children:[b.jsx("p",{className:`text-center mt-2 text_size_2 relative ${e?"after:absolute after:w-full after:h-1 after:bg-primary after:-bottom-2 after:left-0":""}`,onClick:()=>s(!0),children:"Add Course"}),b.jsx("p",{className:`text-center mt-2 text_size_2 relative ${e?"":"after:absolute after:w-full after:h-1 after:bg-primary after:-bottom-2 after:left-0"}`,onClick:()=>s(!1),children:"Training Certificates"})]}),b.jsx("div",{className:"flex-1",children:b.jsx(Li,{searchIcon2:b.jsx(Ds,{}),placeholder:"Employee Id",rounded:"rounded-lg"})})]}),e&&b.jsx("div",{className:"screen-size center",children:b.jsx("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-lg w-full",children:b.jsxs("form",{onSubmit:r(u),children:[b.jsxs("div",{className:"mb-4 relative",children:[b.jsx("label",{className:"font-semibold",children:"Select Course:"}),b.jsx("input",{type:"text",...n("courceSelect"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"}),t.courceSelect&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:t.courceSelect.message})]}),b.jsxs("div",{className:"mb-4 relative",children:[b.jsx("label",{className:"font-semibold",children:"Course Name:"}),i.map((f,h)=>b.jsxs("div",{children:[b.jsx("input",{type:"text",...n(`courseNameFields[${h}]`),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"}),t.courseNameFields&&t.courseNameFields[h]&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:t.courseNameFields[h].message})]},h)),b.jsx("button",{type:"button",onClick:l,className:"absolute top-10 -right-7 text-medium_grey text-[18px]",children:b.jsx(Wu,{})})]}),b.jsxs("div",{className:"mb-4 relative",children:[b.jsx("label",{className:"font-semibold",children:"Training Company:"}),o.map((f,h)=>b.jsxs("div",{children:[b.jsx("input",{type:"text",...n(`companyFields[${h}]`),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"}),t.companyFields&&t.companyFields[h]&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:t.companyFields[h].message})]},h)),b.jsx("button",{type:"button",onClick:d,className:"absolute top-10 -right-7 text-medium_grey text-[18px]",children:b.jsx(Wu,{})})]}),b.jsx("div",{className:"center py-2",children:b.jsx("button",{type:"submit",className:"primary_btn",children:"Save"})})]})})}),!e&&b.jsx($ie,{})]})},Yie=()=>{const{register:n,handleSubmit:r,setValue:t,formState:{errors:e}}=ds({resolver:vs(zie)}),[s,i]=ne.useState(!1),[a,o]=ne.useState({}),[c,u]=ne.useState([]),l=ne.useRef(null),d=()=>{i(g=>!g)},f=()=>{l.current.click()},h=async(g,v)=>{const m=g.target.files[0];t(v,m),m&&(await di(m,"medicalReport",u,"personName"),o(x=>({...x,medicalReport:m.name})))},p=g=>{console.log(g)};return b.jsxs("section",{className:"bg-[#F8F8F8] p-10 center flex-col w-full ",children:[b.jsxs("div",{className:"w-full flex items-center justify-between gap-5",children:[b.jsx(ga,{to:"/training",className:"text-xl flex-1 text-grey",children:b.jsx(Xc,{})}),b.jsx("article",{className:"flex-1 flex gap-5 text-dark_grey",children:b.jsx("h1",{className:"text-center mt-2 text_size_2 relative after:absolute after:w-full after:h-1 after:bg-primary after:-bottom-2 after:left-0",children:"Add Employee"})}),b.jsx("div",{className:"flex-1",children:b.jsx(Li,{searchIcon2:b.jsx(Ds,{}),placeholder:"Employee Id",rounded:"rounded-lg"})})]}),b.jsxs("form",{onSubmit:r(p),className:" mt-16 mb-14 w-full bg-white px-20 py-10",children:[b.jsx("div",{className:"flex justify-end  items-center py-5 mt-2",children:b.jsxs("div",{className:"max-w-sm",children:[b.jsx("label",{className:"text_size_5",children:"Employee ID"})," ",b.jsx("br",{}),b.jsx("input",{type:"text",className:"input-field",...n("empID")}),e.empID&&b.jsx("p",{className:"text-[red] text-[12px]",children:e.empID.message})]})}),b.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Employee Badge Number"}),b.jsx("input",{type:"text",className:"input-field ",...n("empBadgeNo")}),e.empBadgeNo&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.empBadgeNo.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Employee Name"}),b.jsx("input",{type:"text",className:"input-field ",...n("empName")}),e.empName&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.empName.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Department"}),b.jsxs("select",{className:"input-field ",...n("department"),children:[b.jsx("option",{value:"",children:"Select Department"}),b.jsx("option",{value:"Corporate",children:"Corporate"}),b.jsx("option",{value:"Human Resources",children:"Human Resources"}),b.jsx("option",{value:"Accounts",children:"Accounts"}),b.jsx("option",{value:"LBD",children:"LBD"}),b.jsx("option",{value:"Purchasing",children:"Purchasing"}),b.jsx("option",{value:"Offshore",children:"Offshore"}),b.jsx("option",{value:"BLNG",children:"BLNG"}),b.jsx("option",{value:"CPD",children:"CPD"}),b.jsx("option",{value:"E&I",children:"E&I"})]}),e.department&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.department.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Material Requisition (MR) Number"}),b.jsx("input",{type:"number",className:"input-field ",...n("MRNo")}),e.MRNo&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.MRNo.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Training Course Code"}),b.jsxs("select",{className:"input-field ",...n("traineeCourseCode"),children:[b.jsx("option",{value:"",children:"Select Course Code"}),b.jsx("option",{value:"A3333",children:"A3333"})]}),e.traineeCourseCode&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.traineeCourseCode.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Training Course Name"}),b.jsxs("select",{className:"input-field ",...n("traineeCourseName"),children:[b.jsx("option",{value:"",children:"Select Course Name"}),b.jsx("option",{value:"Safety Training",children:"Safety Training"})]}),e.traineeCourseName&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.traineeCourseName.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Training Company"}),b.jsxs("select",{className:"input-field ",...n("traineeCompany"),children:[b.jsx("option",{value:"",children:"Select Company"}),b.jsx("option",{value:"CBT",children:"CBT"})]}),e.traineeCompany&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.traineeCompany.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Training Course Fee"}),b.jsx("input",{type:"number",className:"input-field ",...n("traineeCourseFee")}),e.traineeCourseFee&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.traineeCourseFee.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Training Start Date"}),b.jsx("input",{type:"date",className:"input-field ",...n("traineeSD")}),e.traineeSD&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.traineeSD.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Training End Date"}),b.jsx("input",{type:"date",className:"input-field ",...n("traineeED")}),e.traineeED&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.traineeED.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Purchase Order (PO) Number"}),b.jsx("input",{type:"text",className:"input-field ",...n("purchaseONo")}),e.purchaseONo&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.purchaseONo.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Training Status"}),b.jsxs("select",{className:"input-field ",...n("traineeStatus"),children:[b.jsx("option",{value:"",children:"Select Status"}),b.jsx("option",{value:"Mandatory",children:"Mandatory"}),b.jsx("option",{value:"Supplementary",children:"Supplementary"})]}),e.traineeStatus&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.traineeStatus.message})]})]}),b.jsxs("div",{className:"",children:[b.jsxs("div",{className:"col-span-2 flex items-center gap-5 my-5",children:[b.jsx("div",{className:`flex items-center border w-[12px] h-[12px] cursor-pointer ${s?"bg-[green] border-none":"bg-gray-200"}`,onClick:d}),"if Medical Required"]}),s&&b.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-10",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Medical Name"}),b.jsx("input",{type:"text",className:"input-field",...n("medicalName")}),e.medicalName&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.medicalName.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Medical Expiry"}),b.jsx("input",{type:"date",className:"input-field",...n("medicalExpiry")}),e.medicalExpiry&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.medicalExpiry.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Medical Appointment Date"}),b.jsx("input",{type:"date",className:"input-field",...n("medicalAppointDate")}),e.medicalAppointDate&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.medicalAppointDate.message})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text_size_5",children:"Upload"}),b.jsx("button",{type:"button",onClick:f,className:"mt-2 w-full flex items-center px-3 py-3 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] rounded-md cursor-pointer",children:"Upload Medical Report"}),b.jsx("input",{...n("medicalReport"),ref:l,className:"input-field hidden",type:"file",accept:"application/pdf",onChange:g=>h(g,"medicalReport")}),a.medicalReport&&b.jsx("p",{className:"text-grey text-sm",children:a.medicalReport})]})]})]}),b.jsx("div",{className:"col-span-2 flex justify-center",children:b.jsx("button",{type:"submit",className:"primary_btn",children:"Submit"})})]})]})},Xie=()=>{const{register:n,handleSubmit:r,setValue:t,formState:{errors:e}}=ds({resolver:vs(Hie)}),[s,i]=ne.useState(""),[a,o]=ne.useState(""),c=ne.useRef(null),u=()=>{c.current.click()},l=async(h,p)=>{const v=h.target.files[0];v?(i(v.name),t(p,v),await d(v)):i("")},d=async h=>{try{const g=(await S9({path:`blastingUpload/${h.name}`,data:h}).result).path,m=`https://aweadininstorage20242a2fe-dev.s3.ap-southeast-1.amazonaws.com/${encodeURIComponent(g)}`;console.log("Certificate uploaded successfully. File URL:",m),o(m)}catch(p){console.log("Error uploading certificate:",p)}},f=h=>{console.log(h)};return b.jsx("section",{className:" bg-white p-10 rounded-lg",children:b.jsxs("form",{onSubmit:r(f),className:"space-y-6",children:[b.jsx("div",{className:"flex justify-end  items-center py-5 mt-2",children:b.jsxs("div",{className:"max-w-sm",children:[b.jsx("label",{className:"text_size_5",children:"Employee ID"})," ",b.jsx("br",{}),b.jsx("input",{type:"text",className:"input-field",...n("empID")}),e.empID&&b.jsx("p",{className:"text-[red] text-[12px]",children:e.empID.message})]})}),b.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Employee Badge Number"}),b.jsxs("select",{...n("employeeBadgeNumber"),className:"input-field",children:[b.jsx("option",{value:"",children:"Select Badge Number"}),b.jsx("option",{value:"AWE025",children:"AWE025"})]}),e.employeeBadgeNumber&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.employeeBadgeNumber.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Employee Name"}),b.jsx("input",{...n("employeeName"),className:"input-field",type:"text"}),e.employeeName&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.employeeName.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Department"}),b.jsx("select",{...n("department"),className:"input-field"}),e.department&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.department.message})]}),b.jsxs("div",{children:["  ",b.jsx("label",{className:"text_size_5",children:"Position"}),b.jsx("input",{...n("position"),className:"input-field",type:"text"}),e.position&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.position.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Blasting/Painting Badge Number"}),b.jsx("input",{...n("blastingPaintingBadgeNumber"),className:"input-field",type:"text"}),e.blastingPaintingBadgeNumber&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.blastingPaintingBadgeNumber.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Blasting/Painting Assessment Start Date"}),b.jsx("input",{...n("blastingPaintingAssessmentStartDate"),className:"input-field",type:"date"}),e.blastingPaintingAssessmentStartDate&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.blastingPaintingAssessmentStartDate.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Blasting/Painting Assessment End Date"}),b.jsx("input",{...n("blastingPaintingAssessmentEndDate"),className:"input-field",type:"date"}),e.blastingPaintingAssessmentEndDate&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.blastingPaintingAssessmentEndDate.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Blasting/Painting Qualification Expiry"}),b.jsx("input",{...n("blastingPaintingQualificationExpiry"),className:"input-field",type:"date"}),e.blastingPaintingQualificationExpiry&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.blastingPaintingQualificationExpiry.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Remarks for Blasting/Painting Qualification"}),b.jsx("input",{...n("blastingPaintingRemarks"),className:"input-field",type:"text"})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text_size_5",children:"Upload "}),b.jsx("button",{type:"button",onClick:u,className:"mt-2 w-full flex items-center text-grey px-3 py-3 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] rounded-md cursor-pointer",children:"Upload Blasting/Painting Certificates"}),b.jsx("input",{...n("blastingUpload"),ref:c,className:"input-field hidden",type:"file",accept:"application/pdf",onChange:h=>l(h,"blastingUpload")}),s&&b.jsx("p",{className:"text-grey text-sm",children:s}),e.blastingUpload&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.blastingUpload.message})]})]}),b.jsx("div",{className:"center",children:b.jsx("button",{type:"submit",className:"primary_btn",children:"Submit"})})]})})},Kie=()=>{const[n,r]=ne.useState({weldingUpload:null}),[t,e]=ne.useState({weldingUpload:null}),{register:s,handleSubmit:i,setValue:a,formState:{errors:o}}=ds({resolver:vs(Wie)});ne.useState(""),ne.useState(""),ne.useRef(null);const[c,u]=ne.useState(!0),l=async(f,h)=>{const p=f.target.files[0];a(h,p),p&&(await di(p,"weldingUpload",e,"personName"),r(g=>({...g,weldingUpload:p.name})))},d=async f=>{console.log("Form data:",f);try{const h={...f,weldingUpload:t.weldingUpload};await SubmitMPData({TCValue:h}),setNotification(!0)}catch(h){console.error("Error submitting data:",h),h!=null&&h.errors&&h.errors.forEach((p,g)=>{console.error(`GraphQL Error ${g+1}:`,p.message),p.extensions&&console.error("Error Extensions:",p.extensions)})}};return b.jsxs("section",{className:" p-10 center flex-col gap-16 bg-[#F8F8F8]",children:[b.jsxs("div",{className:"w-full flex items-center justify-between gap-5",children:[b.jsx(ga,{to:"/training",className:"text-xl w-[30%] text-grey",children:b.jsx(Xc,{})}),b.jsxs("article",{className:"flex-1 flex gap-5 text-dark_grey",children:[b.jsx("h1",{className:` text-center mt-2 text_size_2 relative  ${c?"after:absolute after:w-full after:h-1 after:bg-primary after:-bottom-2 after:left-0":""}`,onClick:()=>u(!0),children:"Welding Qualification"}),b.jsx("h2",{className:` text-center mt-2 text_size_2 relative  ${c?"":"after:absolute after:w-full after:h-1 after:bg-primary after:-bottom-2 after:left-0"}`,onClick:()=>u(!1),children:"Blasting Painting"})]}),b.jsx("div",{className:"w-[30%]",children:b.jsx(Li,{searchIcon2:b.jsx(Ds,{}),placeholder:"Employee Id",rounded:"rounded-lg"})})]}),c&&b.jsxs("form",{onSubmit:i(d),className:"bg-white  rounded-lg shadow-lg w-full  p-8 ",children:[b.jsx("div",{className:"flex justify-end  items-center py-5 mt-2",children:b.jsxs("div",{className:"max-w-sm",children:[b.jsx("label",{className:"text_size_5",children:"Employee ID"})," ",b.jsx("br",{}),b.jsx("input",{type:"text",className:"input-field",...s("empID")}),o.empID&&b.jsx("p",{className:"text-[red] text-[12px]",children:o.empID.message})]})}),b.jsxs("div",{className:"grid grid-cols-2 gap-6 ",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Employee Badge Number"}),b.jsx("input",{...s("empBadgeNo"),className:"input-field"}),o.empBadgeNo&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.empBadgeNo.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Employee Name"}),b.jsx("input",{...s("empName"),className:"input-field",type:"text"}),o.empName&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.empName.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Department"}),b.jsx("input",{...s("department"),className:"input-field"}),o.department&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.department.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Position"}),b.jsx("input",{...s("position"),className:"input-field",type:"text"}),o.position&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.position.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Welding Stamp Number"}),b.jsx("input",{...s("weldingStampNo"),className:"input-field",type:"text"}),o.weldingStampNo&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.weldingStampNo.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"WQR Number"}),b.jsx("input",{...s("WQRNo"),className:"input-field",type:"text"}),o.WQRNo&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.WQRNo.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"WPS Number"}),b.jsx("input",{...s("wpsNumber"),className:"input-field",type:"text"}),o.wpsNumber&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.wpsNumber.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Welding Code"}),b.jsx("input",{...s("weldingCode"),className:"input-field",type:"text"}),o.weldingCode&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.weldingCode.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Welding Process"}),b.jsx("input",{...s("weldingProcess"),className:"input-field",type:"text"}),o.weldingProcess&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.weldingProcess.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Welding Material"}),b.jsx("input",{...s("weldingMaterial"),className:"input-field",type:"text"}),o.weldingMaterial&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.weldingMaterial.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Welding Position"}),b.jsx("input",{...s("weldingPosition"),className:"input-field",type:"text"}),o.weldingPosition&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.weldingPosition.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Filler Metal"}),b.jsx("input",{...s("fillerMetal"),className:"input-field",type:"text"}),o.fillerMetal&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.fillerMetal.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Thickness Range"}),b.jsx("input",{...s("thicknessRange"),className:"input-field",type:"text"}),o.thicknessRange&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.thicknessRange.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Diameter Range"}),b.jsx("input",{...s("diameterRange"),className:"input-field",type:"text"}),o.diameterRange&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.diameterRange.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Welding Qualification Expiry"}),b.jsx("input",{...s("WQExpiry"),className:"input-field",type:"date"}),o.WQExpiry&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.WQExpiry.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Remarks for Welding Qualification"}),b.jsx("input",{...s("WQRemarks"),className:"input-field",type:"text"})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"flex items-center px-3 py-2 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] rounded-md cursor-pointer",children:["Upload Welding Qualification Certificates",b.jsx("input",{type:"file",...s("weldingUpload"),onChange:f=>l(f,"weldingUpload"),className:"hidden",accept:"application/pdf, image/png, image/jpeg"}),b.jsx("span",{className:"ml-2",children:b.jsx(Bs,{})})]}),n.weldingUpload&&b.jsxs("p",{className:"text-xs mt-1 text-grey",children:["Uploaded: ",n.weldingUpload]})]})]}),b.jsx("div",{className:"center",children:b.jsx("button",{type:"submit",className:"primary_btn my-10",children:"Submit"})})]})," ",!c&&b.jsx(Xie,{})]})},Jie=({dropDownData:n,permissionData:r})=>{const[t,e]=ne.useState([]),[s,i]=ne.useState({Dashboard:[],Recruitment:[],User:[],Employee:[],Training:[],TimeSheet:[],LeaveManagement:[],Notification:[],Report:[],BenefitsAndRewards:[]}),a=u=>{t.includes(u)?e(t.filter(l=>l!==u)):e([...t,u])};ne.useEffect(()=>{r&&i(r)},[r]);const o=(u,l,d=[])=>{if(d.length>0){const f=d.every(h=>s[l]&&s[l].includes(h));i(f?h=>({...h,[l]:h[l].filter(p=>!d.includes(p))}):h=>({...h,[l]:[...h[l]||[],...d.filter(p=>!(h[l]||[]).includes(p))]}))}else i(f=>({...f,[l]:f[l]?f[l].includes(u)?f[l].filter(h=>h!==u):[...f[l]||[],u]:[u]}))};ne.useEffect(()=>{const u=Object.fromEntries(Object.entries(s).filter(([l,d])=>d.length>0));n(u)},[s]);const c=[{Dashboard:["Employee count","Recent Notifications","Attendance","User Action","Birthday Reminder","New Joinee"]},{User:["User"]},{Recruitment:["Employee Requisition","Candidate","Apply Employee Requisition","Local CV","Non Local CV","Status","WorkPass Tracking"]},{Employee:["All Employee","Employee Info","Work Info","Work Pass","Medical & Dependent Info","Insurance","Non-Local Accommodation in Brunei"]},{Training:["HR","Training Requestor","QA / QC"]},{TimeSheet:["HO","SBW","ORMC","Offshore","BLNG","View Time Sheet","View Summary"]},{LeaveManagement:["Request Leave","History of leave","Employee Leave Balance","Request Tickets"]},{Notification:["Notification"]},{Report:["Report"]},{BenefitsAndRewards:["Leave Benefits","Paternity Benefits","Employee Benefits"]}];return b.jsx("section",{className:"w-full",children:c.map((u,l)=>{const d=Object.keys(u)[0],f=u[d],h=f.every(p=>s[d]?s[d].includes(p):!1);return b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center cursor-pointer py-1 px-2 justify-between",children:[b.jsxs("div",{onClick:()=>a(d),className:"flex items-center",children:[t.includes(d)?b.jsx(tL,{className:"text-2xl"}):b.jsx(rL,{className:"text-2xl"}),b.jsx("p",{className:"font-semibold text-lg flex justify-between items-center px-2 w-full",children:d})]}),t.includes(d)&&b.jsx("span",{className:"text-dark_grey cursor-pointer",onClick:()=>o(null,d,f),children:h?b.jsx(m7,{}):b.jsx(LE,{className:"text-lg"})})]}),t.includes(d)&&b.jsx("ul",{className:"pl-6 space-y-1",children:f.map((p,g)=>b.jsxs("li",{onClick:()=>o(p,d),className:"flex justify-between items-center cursor-pointer p-2",children:[b.jsx("span",{children:p}),b.jsx("span",{className:"text-dark_grey",children:s[d]&&s[d].includes(p)?b.jsx(m7,{}):b.jsx(LE,{className:"text-lg"})})]},g))})]},l)})})},MN=Pr(),LN=()=>{var V,P,F,A,_,S,N,C,W,j,B,G,X,J,O,ee,U,z,Z,te,oe,ue,le,ce,_e,fe,ge,xe,Le,Me,Oe,ze,Ke,ot,$e;const[n,r]=ne.useState(""),[t,e]=ne.useState(!1),[s,i]=ne.useState([]),[a,o]=ne.useState(null),c=Xu(),u=(V=c.state)==null?void 0:V.editUserData,l=(P=c.state)==null?void 0:P.addUserData,[d,f]=ne.useState(null),[h,p]=ne.useState(!1),g=(u==null?void 0:u.userValue)||(l==null?void 0:l.userValue),v=(u==null?void 0:u.workValue)||(l==null?void 0:l.workValue);ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{register:m,handleSubmit:x,setValue:y,watch:w,formState:{errors:E},reset:I}=ds({resolver:vs(HM),defaultValues:{password:n}}),T=Ve=>{const He=new Uint8Array(Ve);window.crypto.getRandomValues(He);const rt='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+{}:"<>?|[];,./-=';let Je="";for(let wt=0;wt<Ve;wt++)Je+=rt[He[wt]%rt.length];return Je};ne.useEffect(()=>{var rt,Je;(async()=>{const wt=T(12);r(wt)})();const He=M((Je=(rt=u==null?void 0:u.storedValue)==null?void 0:rt.data)==null?void 0:Je.setPermissions[0]);o(He)},[]);const R=Ve=>Array.isArray(Ve)?Ve[Ve.length-1]:Ve;ne.useEffect(()=>{var He,rt,Je,wt,yt,kt,mt,At;const Ve=l==null?void 0:l.employeeValue.map($t=>{const Tt=v.find(Yt=>Yt.empID===$t.empID);return{...$t,...Tt}}).filter($t=>$t!==null);console.log("Merged Data:",Ve),f(Ve),y("password",n),y("selectType",(rt=(He=u==null?void 0:u.storedValue)==null?void 0:He.data)==null?void 0:rt.selectType),y("contactNo",R((wt=(Je=u==null?void 0:u.storedValue)==null?void 0:Je.data)==null?void 0:wt.contactNo)),y("department",R((kt=(yt=u==null?void 0:u.storedValue)==null?void 0:yt.data)==null?void 0:kt.department)),y("position",R((At=(mt=u==null?void 0:u.storedValue)==null?void 0:mt.data)==null?void 0:At.position))},[n,y,u,l,v]);const D=Ve=>{y("name",Ve.name),y("officialEmail",Ve.officialEmail),y("empID",Ve.empID),y("userID",Ve.empID),y("contactNo",R(Ve.contactNo)),y("department",R(Ve.department)),y("position",R(Ve.position))},L=Ve=>{i([Ve])};function M(Ve){if(!Ve)return null;let He=Ve==null?void 0:Ve.replace(/=/g,":");He=He==null?void 0:He.replace(/([a-zA-Z]+):/g,'"$1":'),He=He==null?void 0:He.replace(/\[([^\]]+)\]/g,function(rt,Je){return`[${Je.split(",").map(yt=>`"${yt.trim()}"`).join(", ")}]`}),He=`{${He==null?void 0:He.slice(1,-1)}}`;try{return JSON.parse(He)}catch(rt){return console.error("Error parsing JSON:",rt),null}}const H=x(async Ve=>{try{const He=g.some(Je=>Je.empID.includes(Ve.empID)),rt=await g.filter(Je=>Je.empID===Ve.empID).map(Je=>Je);if(console.log(rt),He){const Je={id:rt[0].id,password:Ve.password,selectType:Ve.selectType,setPermissions:s,status:"Active"};await MN.graphql({query:T8,variables:{input:Je}}).then(wt=>{console.log(wt),p(!0)}).catch(wt=>{console.log(wt)})}else{const Je={empID:Ve.empID,password:Ve.password,selectType:Ve.selectType,setPermissions:s,status:"Active"};await MN.graphql({query:BW,variables:{input:Je}}).then(mt=>{p(!0)}).catch(mt=>{console.log(mt)});const wt=Ve.empID,yt=Ve.password,kt=Ve.officialEmail;await aL({username:wt,password:yt,options:{userAttributes:{email:kt},autoSignIn:!0}}).then(mt=>{}).catch(mt=>{console.log("sign up data error",mt)})}I(),i([]),o({})}catch(He){console.log(He)}});return b.jsxs("div",{className:"flex items-center justify-center bg-[#F8F8F8] flex-col p-10",children:[b.jsxs("div",{className:"w-full flex items-center justify-between gap-5",children:[b.jsx(ga,{to:"/user",className:"text-xl flex-1 text-grey",children:b.jsx(Xc,{})}),b.jsx("h2",{className:"flex-1 text-center mt-2 text_size_2 uppercase",children:((F=u==null?void 0:u.storedValue)==null?void 0:F.title)||"Add New User"}),b.jsx("div",{className:"flex-1",children:((A=u==null?void 0:u.storedValue)==null?void 0:A.title)!=="Edit User"&&b.jsx(Li,{searchResult:D,newFormData:d,searchIcon2:b.jsx(Ds,{}),placeholder:"Employee Id",rounded:"rounded-lg"})})]}),b.jsxs("form",{className:"bg-white py-10 my-16 px-14 w-full",onSubmit:H,children:[b.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[b.jsxs("div",{children:[b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Name"}),b.jsx("input",{type:"text",className:"input-field",value:((S=(_=u==null?void 0:u.storedValue)==null?void 0:_.data)==null?void 0:S.name)||w("name")||"",...m("name")})]}),b.jsx("p",{className:"text-[red] text-[12px] mt-1",children:(N=E.name)==null?void 0:N.message})]}),b.jsxs("div",{children:[b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Employee Id"}),b.jsx("input",{type:"text",className:"input-field",value:((W=(C=u==null?void 0:u.storedValue)==null?void 0:C.data)==null?void 0:W.empID)||w("empID")||"",...m("empID")})]}),b.jsx("p",{className:"text-[red] text-[12px] mt-1",children:(j=E.empID)==null?void 0:j.message})]}),b.jsxs("div",{children:[b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Phone Number"}),b.jsx("input",{type:"text",className:"input-field",value:w("contactNo")||((G=(B=u==null?void 0:u.storedValue)==null?void 0:B.data)==null?void 0:G.contactNoValue)||"",...m("contactNo")})]}),b.jsx("p",{className:"text-[red] text-[12px] mt-1",children:(X=E.contactNo)==null?void 0:X.message})]}),b.jsxs("div",{children:[b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Official Email Id"}),b.jsx("input",{type:"officialEmail",className:"input-field",value:((O=(J=u==null?void 0:u.storedValue)==null?void 0:J.data)==null?void 0:O.officialEmail)||w("officialEmail")||"",...m("officialEmail")})]}),b.jsx("p",{className:"text-[red] text-[12px] mt-1",children:(ee=E.officialEmail)==null?void 0:ee.message})]}),b.jsxs("div",{children:[b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"User ID"}),b.jsx("input",{type:"text",className:"input-field",value:((z=(U=u==null?void 0:u.storedValue)==null?void 0:U.data)==null?void 0:z.empID)||w("userID")||"",...m("userID")})]}),b.jsx("p",{className:"text-[red] text-[12px] mt-1",children:(Z=E.userID)==null?void 0:Z.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Temporary Password"}),b.jsxs("div",{className:"input-field flex items-center gap-2",children:[b.jsx("input",{type:t?"text":"password",className:"outline-none w-full bg-[transparent]",value:((oe=(te=u==null?void 0:u.storedValue)==null?void 0:te.data)==null?void 0:oe.password)||n,...m("password"),readOnly:!0}),t?b.jsx("div",{className:"text-2xl text-dark_grey",onClick:()=>{e(!t)},children:b.jsx(jM,{})}):b.jsx("div",{className:"text-2xl text-dark_grey",onClick:()=>{e(!t)},children:b.jsx(Q2,{})})]}),b.jsx("p",{className:"text-[red] text-[12px] mt-1",children:(ue=E.password)==null?void 0:ue.message})]}),b.jsxs("div",{children:[b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Position"}),b.jsx("input",{type:"text",className:"input-field",value:w("position")||((ce=(le=u==null?void 0:u.storedValue)==null?void 0:le.data)==null?void 0:ce.positionValue)||((fe=(_e=u==null?void 0:u.employeeValue)==null?void 0:_e.data)==null?void 0:fe.position)||"",...m("position")})]}),b.jsx("p",{className:"text-[red] text-[12px] mt-1",children:(ge=E.position)==null?void 0:ge.message})]}),b.jsxs("div",{children:[b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Department"}),b.jsx("input",{type:"text",className:"input-field",value:w("department")||((Le=(xe=u==null?void 0:u.storedValue)==null?void 0:xe.data)==null?void 0:Le.departmentValue)||"",...m("department")})]}),b.jsx("p",{className:"text-[red] text-[12px] mt-1",children:(Me=E.department)==null?void 0:Me.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Select Type"}),b.jsxs("select",{className:"input-field",...m("selectType"),children:[b.jsx("option",{value:((ze=(Oe=u==null?void 0:u.storedValue)==null?void 0:Oe.data)==null?void 0:ze.selectType)||w("selectType")||"",children:((ot=(Ke=u==null?void 0:u.storedValue)==null?void 0:Ke.data)==null?void 0:ot.selectType)||"Select access"}),b.jsx("option",{value:"SuperAdmin",children:"SuperAdmin"}),b.jsx("option",{value:"Admin",children:"Admin"}),b.jsx("option",{value:"Manager",children:"Manager"}),b.jsx("option",{value:"HR",children:"HR"}),b.jsx("option",{value:"Supervisor",children:"Supervisor"}),b.jsx("option",{value:"Training Requestor",children:"Training Requestor"}),b.jsx("option",{value:"TimeKeeper",children:"TimeKeeper"}),b.jsx("option",{value:"QA \\ QC",children:"QA \\ QC"}),b.jsx("option",{value:"User",children:"User"}),b.jsx("option",{value:"Employee",children:"Employee"})]}),b.jsx("p",{className:"text-[red] text-[12px] mt-1",children:($e=E.selectType)==null?void 0:$e.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text_size_5",children:"Set Permission"}),b.jsx("div",{className:"p-2 my-2 border border-[#dedbdb] rounded-md",children:b.jsx(Jie,{dropDownData:L,permissionData:a})})]})]}),b.jsx("div",{className:"mt-10 w-full center",children:b.jsx("button",{type:"submit",className:"p-3 text-white rounded-md primary_btn",children:"Submit"})})]}),h&&b.jsx(fi,{text:"Created an User Successfully",notification:h,path:"/user"})]})},Zie=()=>{const n=Pr();return{SubmitMPData:ne.useCallback(async({SawpValue:t})=>{if(!t)throw new Error("Missing required parameters");const e={empID:t.empID,sawpEmpLtrReq:[t.sawpEmpLtrReq],sawpEmpLtrReci:[t.sawpEmpLtrReci],sawpEmpUpload:[t.sawpEmpUpload]};console.log(e);try{const s=await Promise.all([n.graphql({query:dW,variables:{input:e}})]);console.log(s,"successfully stored data")}catch(s){throw console.error("Error executing GraphQL requests:",s),s}},[])}},Qie=()=>{const n=Pr();return{SawpUpdateFun:ne.useCallback(async({SawpUpValue:t})=>{if(!t)throw new Error("Missing required parameters");const e={id:t.id,empID:t.empID,sawpEmpLtrReq:t.sawpEmpLtrReq,sawpEmpLtrReci:t.sawpEmpLtrReci,sawpEmpUpload:t.sawpEmpUpload};console.log(e);try{const s=await Promise.all([n.graphql({query:hW,variables:{input:e}})]);console.log(s,"successfully Updated data")}catch(s){throw console.log(s),console.error("Error executing GraphQL requests:",s),s}},[])}},eae=()=>{const{searchResultData:n}=Nh(),{SubmitMPData:r}=Zie(),{SawpDetails:t}=ne.useContext(bs),{SawpUpdateFun:e}=Qie(),[s,i]=ne.useState(!1),[a,o]=ne.useState(""),[c,u]=ne.useState([]),[l,d]=ne.useState([]),[f,h]=ne.useState({sawpEmpUpload:null}),[p,g]=ne.useState({sawpEmpUpload:[]}),{register:v,handleSubmit:m,watch:x,setValue:y,control:w,formState:{errors:E}}=ds({resolver:vs(jX),defaultValues:{sawpEmpLtrReq:[],sawpEmpLtrReci:[]}}),I=x("sawpEmpLtrReq"),T=x("sawpEmpLtrReci"),R=x("empID"),D=x("sawpEmpUpload",""),L=F=>typeof F=="string"&&F?F.split("/").pop():"",M=F=>{if(typeof F=="object"&&F.upload){const A=F.upload,_=decodeURIComponent(A);return _.substring(_.lastIndexOf("/")+1)}try{const _=new URL(F).pathname,S=decodeURIComponent(_);return S.substring(S.lastIndexOf("/")+1)}catch{if(typeof F=="string"){const _=decodeURIComponent(F);return _.substring(_.lastIndexOf("/")+1)}return}},H=(F,A)=>A==="sawpEmpLtrReq"||A==="sawpEmpLtrReci"?F:Array.isArray(F)?F[F.length-1]:F;ne.useEffect(()=>{if(y("empID",n.empID),y("sawpEmpLtrReq",n.sawpEmpLtrReq||[]),u(n.sawpEmpLtrReq||[]),y("sawpEmpLtrReci",n.sawpEmpLtrReci||[]),d(n.sawpEmpLtrReci||[]),["sawpEmpLtrReci","sawpEmpLtrReq"].forEach(A=>{const _=H(n[A],A);y(A,_)}),n&&n.sawpEmpUpload)try{const _=JSON.parse(n.sawpEmpUpload).map(S=>typeof S=="string"?JSON.parse(S):S);console.log(_),y("sawpEmpUpload",_),g(S=>({...S,sawpEmpUpload:_})),h(S=>({...S,sawpEmpUpload:_.length>0?M(_[_.length-1].upload):""}))}catch(A){console.error(`Failed to parse ${n.sawpEmpUpload}:`,A)}},[n,y]);const V=async(F,A,_)=>{const S=F.target.files[0];if(!S)return;const N=["application/pdf","image/jpeg","image/png","image/jpg"];if(!_){alert("Employee ID is required to upload files."),window.location.reload();return}if(!N.includes(S.type)){alert("Upload must be a PDF file or an image (JPG, JPEG, PNG)");return}const C=x(A)||[];y(A,[...C,S]);try{await di(S,A,g,_),h(W=>({...W,[A]:S.name}))}catch(W){console.log(W)}},P=async F=>{try{u(C=>[...C,...F.sawpEmpLtrReq||[]]),d(C=>[...C,...F.sawpEmpLtrReci||[]]);const A=t?t.find(C=>C.empID===F.empID):{},_=C=>C?new Date(C).toLocaleDateString("en-CA"):null,S=_(F.sawpEmpLtrReq),N=_(F.sawpEmpLtrReci);if(A){const C={...F,sawpEmpLtrReq:c,sawpEmpLtrReci:l,sawpEmpUpload:JSON.stringify(p.sawpEmpUpload),id:A.id};await e({SawpUpValue:C}),o("Work Pass SAWP Info Updated Successfully"),i(!0)}else{const C={...F,sawpEmpLtrReq:S,sawpEmpLtrReci:N,sawpEmpUpload:JSON.stringify(p.sawpEmpUpload)};await r({SawpValue:C}),o("Work Pass SAWP Info Saved Successfully"),i(!0)}}catch(A){console.error("Error submitting data:",A)}};return b.jsxs("form",{onSubmit:m(P),className:"mx-auto min-h-screen p-2 my-10 bg-[#F5F6F1CC]",children:[b.jsx("div",{className:"flex justify-end items-center",children:b.jsx("div",{className:"max-w-sm",children:b.jsx(Ct,{label:"Employee ID",register:v,name:"empID",type:"text",placeholder:"Enter Employee ID",errors:E,watch:R})})}),b.jsxs("div",{className:"grid grid-cols-2 my-10 gap-5",children:[b.jsx(Ct,{label:"Client Support Letter Requested Date",register:v,name:"sawpEmpLtrReq",type:"date",errors:E,control:w,isArray:!0,watch:I}),b.jsx(Ct,{label:"Client Support Letter Received Date",register:v,name:"sawpEmpLtrReci",type:"date",errors:E,isArray:!0,control:w,watch:T})]}),b.jsx(qc,{label:"Upload File",onChangeFunc:F=>V(F,"sawpEmpUpload",R),register:v,name:"sawpEmpUpload",error:E,fileName:f.sawpEmpUpload||L(D)}),b.jsx("div",{className:"center",children:b.jsx("button",{type:"submit",className:"mt-10 py-2 px-4 primary_btn",children:"Submit"})}),s&&b.jsx(fi,{text:a,notification:s,path:"/employee"})]})},tae=()=>{const n=Pr();return{UpdateMPData:ne.useCallback(async({DoeUpValue:t})=>{if(!t)throw new Error("Missing required parameters or empID");try{const e={id:t.id,empID:t.empID,doeEmpSubmit:t.doeEmpSubmit,doeEmpApproval:t.doeEmpApproval,doeEmpValid:t.doeEmpValid,doeEmpRefNo:t.doeEmpRefNo,doeEmpUpload:t.doeEmpUpload},s=await n.graphql({query:v9,variables:{input:e}});console.log("Data successfully updated:",s)}catch(e){throw console.error("Error updating data:",e),e}},[])}},rae=()=>{const n=Pr();return{CrerDoeFunData:ne.useCallback(async({DoeValue:t})=>{if(!t)throw new Error("Missing required parameters or empID");try{const e={empID:t.empID,doeEmpSubmit:t.doeEmpSubmit,doeEmpApproval:t.doeEmpApproval,doeEmpValid:t.doeEmpValid,doeEmpRefNo:t.doeEmpRefNo,doeEmpUpload:t.doeEmpUpload},s=await n.graphql({query:fW,variables:{input:e}});console.log("Data successfully updated:",s)}catch(e){throw console.error("Error updating data:",e),e}},[])}},nae=()=>{ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{searchResultData:n}=Nh(),{DNData:r}=ne.useContext(bs),{CrerDoeFunData:t}=rae(),{UpdateMPData:e}=tae(),{register:s,handleSubmit:i,formState:{errors:a},setValue:o,watch:c}=ds({resolver:vs(RX),doeEmpSubmit:[],doeEmpApproval:[],doeEmpValid:[]});ne.useState([]),ne.useState([]),ne.useState([]);const[u,l]=ne.useState(!1),[d,f]=ne.useState(""),[h,p]=ne.useState(""),[g,v]=ne.useState({doeEmpUpload:null}),[m,x]=ne.useState({doeEmpUpload:[]}),y=c("doeEmpUpload",""),w=D=>typeof D=="string"&&D?D.split("/").pop():"",E=D=>{if(typeof D=="object"&&D.upload){const L=D.upload,M=decodeURIComponent(L);return M.substring(M.lastIndexOf("/")+1)}try{const M=new URL(D).pathname,H=decodeURIComponent(M);return H.substring(H.lastIndexOf("/")+1)}catch{if(typeof D=="string"){const M=decodeURIComponent(D);return M.substring(M.lastIndexOf("/")+1)}return}};ne.useEffect(()=>{const D=localStorage.getItem("userID");p(D)},[]);const I=D=>Array.isArray(D)?D[D.length-1]:D;ne.useEffect(()=>{if(o("empID",n.empID),["doeEmpSubmit","doeEmpApproval","doeEmpValid","doeEmpRefNo"].forEach(L=>o(L,I(n[L]))),n&&n.doeEmpUpload)try{const M=JSON.parse(n.doeEmpUpload).map(H=>typeof H=="string"?JSON.parse(H):H);o("doeEmpUpload",M),x(H=>({...H,doeEmpUpload:M})),v(H=>({...H,doeEmpUpload:M.length>0?E(M[M.length-1].upload):""}))}catch(L){console.error(`Failed to parse ${n.doeEmpUpload}:`,L)}},[n,o]);const T=async(D,L,M)=>{const H=D.target.files[0];if(!H)return;const V=["application/pdf","image/jpeg","image/png","image/jpg"];if(!M){alert("Employee ID is required to upload files."),window.location.reload();return}if(!V.includes(H.type)){alert("Upload must be a PDF file or an image (JPG, JPEG, PNG)");return}const P=c(L)||[];o(L,[...P,H]);try{await di(H,L,x,M),v(F=>({...F,[L]:H.name}))}catch(F){console.log(F)}},R=async D=>{try{const L=r.find(F=>F.empID===D.empID),M=F=>F?new Date(F).toLocaleDateString("en-CA"):null,H=M(D.doeEmpSubmit),V=M(D.doeEmpApproval),P=M(D.doeEmpValid);if(L){const F=[...new Set([...L.doeEmpApproval||[],V])],A=[...new Set([...L.doeEmpValid||[],P])],_={...D,doeEmpSubmit:H,doeEmpApproval:F.map(M),doeEmpValid:A.map(M),doeEmpUpload:JSON.stringify(m.doeEmpUpload),id:L.id};await e({DoeUpValue:_}),f("Work Pass DOE Info Updated Successfully"),l(!0)}else{const F={...D,doeEmpSubmit:H,doeEmpApproval:V,doeEmpValid:P,doeEmpUpload:JSON.stringify(m.doeEmpUpload)};await t({DoeValue:F}),f("Work Pass DOE Info Saved Successfully"),l(!0)}}catch(L){console.error("Error submitting data:",L)}};return b.jsxs("form",{onSubmit:i(R),className:"mx-auto min-h-screen p-2 my-10 bg-[#F5F6F1CC]",children:[b.jsx("div",{className:"flex justify-end items-center",children:b.jsx("div",{className:"max-w-sm",children:b.jsx(Ct,{label:"Employee ID",register:s,name:"empID",type:"text",placeholder:"Enter Employee ID",errors:a})})}),b.jsxs("div",{className:"grid grid-cols-2 mt-10 gap-5 ",children:[b.jsx(Ct,{label:"Date Of Submission",register:s,name:"doeEmpSubmit",type:"date",errors:a}),b.jsx(Ct,{label:"Date Of Approval",register:s,name:"doeEmpApproval",type:"date",errors:a}),b.jsx(Ct,{label:"Valid Until",register:s,name:"doeEmpValid",type:"date",errors:a}),b.jsx(Ct,{label:"DOE Reference Number",register:s,name:"doeEmpRefNo",type:"text",errors:a}),b.jsx(qc,{label:"Upload File",onChangeFunc:D=>T(D,"doeEmpUpload",h),name:"doeEmpUpload",register:s,error:a,fileName:g.doeEmpUpload||w(y)})]}),b.jsx("div",{className:"flex justify-center items-center my-10",children:b.jsx("button",{type:"submit",className:"primary_btn",children:"Save"})}),u&&b.jsx(fi,{text:d,notification:u,path:"/employee"})]})},sae=()=>{const n=Pr();return{uploadNlmsFun:ne.useCallback(async({DoeValue:t})=>{if(!t)throw new Error("Missing required parameters or empID");try{const{nlmsEmpSubmit:e,nlmsEmpSubmitRefNo:s,nlmsEmpApproval:i,nlmsRefNo:a,permitType:o,nlmsEmpValid:c,nlmsEmpUpload:u,id:l}=t,d={id:l,nlmsEmpSubmit:e,nlmsEmpSubmitRefNo:s,nlmsEmpApproval:i,nlmsRefNo:a,permitType:o,nlmsEmpValid:c,nlmsEmpUpload:u},f=await n.graphql({query:v9,variables:{input:d}});console.log("Data successfully updated:",f)}catch(e){throw console.error("Error updating data:",e),e}},[])}},iae=({empID:n})=>{const{searchResultData:r}=Nh(),{DNData:t}=ne.useContext(bs),{uploadNlmsFun:e}=sae(),[s,i]=ne.useState(!1),[a,o]=ne.useState("");ne.useState([]),ne.useState([]),ne.useState([]);const[c,u]=ne.useState({nlmsEmpUpload:null}),[l,d]=ne.useState({nlmsEmpUpload:[]}),{register:f,handleSubmit:h,watch:p,setValue:g,formState:{errors:v}}=ds({resolver:vs(MX),nlmsEmpSubmit:[],nlmsEmpApproval:[],nlmsEmpValid:[]}),m=p("nlmsEmpUpload","");ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const x=T=>typeof T=="object"&&T.upload?T.upload.split("/").pop():typeof T=="string"&&T?T.split("/").pop():"",y=(T,R)=>Array.isArray(T)?T[T.length-1]:T;ne.useEffect(()=>{if(g("empID",r.empID),["nlmsEmpApproval","nlmsEmpSubmit","nlmsEmpSubmitRefNo","nlmsEmpUpload","nlmsEmpValid","nlmsRefNo","permitType"].forEach(R=>g(R,y(r[R]))),r!=null&&r.nlmsEmpUpload)try{const R=JSON.parse(r.nlmsEmpUpload).map(D=>typeof D=="string"?JSON.parse(D):D);g("nlmsEmpUpload",R),d({nlmsEmpUpload:R}),u({nlmsEmpUpload:R.length>0?R[R.length-1].upload.split("/").pop():""})}catch(R){console.error("Error parsing nlmsEmpUpload:",R)}},[r,g]);const w=async(T,R,D)=>{const L=T.target.files[0];if(!L)return;const M=["application/pdf","image/jpeg","image/png","image/jpg"];if(!D){alert("Employee ID is required to upload files."),window.location.reload();return}if(!M.includes(L.type)){alert("Upload must be a PDF or image (JPG, JPEG, PNG)");return}try{await di(L,R,d,D),u({[R]:L.name})}catch(H){console.error("Error uploading file:",H)}},E=T=>T?new Date(T).toLocaleDateString("en-CA"):null,I=async T=>{try{const R=E(T.nlmsEmpSubmit),D=E(T.nlmsEmpApproval),L=E(T.nlmsEmpValid),M=t.find(A=>A.empID===T.empID),H=[...new Set([...M.nlmsEmpSubmit||[],R])],V=[...new Set([...M.nlmsEmpApproval||[],D])],P=[...new Set([...M.nlmsEmpValid||[],L])],F={...T,nlmsEmpSubmit:H.map(E),nlmsEmpApproval:V.map(E),nlmsEmpValid:P.map(E),nlmsEmpUpload:JSON.stringify(l.nlmsEmpUpload),id:(M==null?void 0:M.id)||null};await e({DoeValue:F}),o("Work Pass NLMS Data Stored Successfully"),i(!0)}catch(R){console.error("Error submitting data:",R)}};return b.jsxs("form",{onSubmit:h(I),className:"mx-auto min-h-screen p-2 my-10 bg-[#F5F6F1CC]",children:[b.jsx("div",{className:"flex justify-end items-center",children:b.jsx("div",{className:"max-w-sm",children:b.jsx(Ct,{label:"Employee ID",register:f,name:"empID",type:"text",placeholder:"Enter Employee ID",errors:v})})}),b.jsxs("div",{className:"grid grid-cols-2 mt-10 gap-5",children:[b.jsx(Ct,{label:"Type of Work Permit Application",register:f,name:"permitType",type:"select",options:[{value:"",label:""},{value:"Foreign Worker License (LPA)",label:"Foreign Worker License (LPA)"},{value:"Foreign Worker License (SAWP)",label:"Foreign Worker License (SAWP)"}],errors:v}),b.jsx(Ct,{label:"Date Of Submission",register:f,name:"nlmsEmpSubmit",type:"date",errors:v}),b.jsx(Ct,{label:"Submission Reference Number",register:f,name:"nlmsEmpSubmitRefNo",type:"text",errors:v}),b.jsx(Ct,{label:"Date Of Approval",register:f,name:"nlmsEmpApproval",type:"date",errors:v}),b.jsx(Ct,{label:"LD Reference Number",register:f,name:"nlmsRefNo",type:"text",errors:v}),b.jsx(Ct,{label:"Valid Until",register:f,name:"nlmsEmpValid",type:"date",errors:v}),b.jsx(qc,{label:"Upload File",onChangeFunc:T=>w(T,"nlmsEmpUpload",n),name:"nlmsEmpUpload",register:f,error:v,fileName:c.nlmsEmpUpload||x(m)})]}),b.jsx("div",{className:"flex justify-center items-center my-10",children:b.jsx("button",{type:"submit",className:"primary_btn",children:"Save"})}),s&&b.jsx(fi,{text:a,notification:s,path:"/employee"})]})},aae=()=>{const n=Pr();return{BGData:ne.useCallback(async({BJLValue:t})=>{if(!t)throw new Error("Missing required parameters");const e={empID:t.empID,bankSubmit:[t.bankSubmit],bankRece:[t.bankRece],bankRefNo:[t.bankRefNo],bankAmt:[t.bankAmt],bankValid:[t.bankValid],bankEndorse:[t.bankEndorse],bankEmpUpload:[t.bankEmpUpload]};console.log(e);try{const s=await Promise.all([n.graphql({query:pW,variables:{input:e}})]);console.log(s,"successfully stored data")}catch(s){throw console.error("Error executing GraphQL requests:",s),s}},[])}},oae=()=>{const n=Pr();return{UpdateBJLFun:ne.useCallback(async({BJLUpValue:t})=>{if(!t)throw new Error("Missing required parameters");const e={id:t.id,empID:t.empID,bankSubmit:[t.bankSubmit],bankRece:[t.bankRece],bankRefNo:[t.bankRefNo],bankAmt:[t.bankAmt],bankValid:[t.bankValid],bankEndorse:[t.bankEndorse],bankEmpUpload:[t.bankEmpUpload]};console.log(e);try{const s=await Promise.all([n.graphql({query:C8,variables:{input:e}})]);console.log(s,"successfully Updated data")}catch(s){throw console.log(s),console.error("Error executing GraphQL requests:",s),s}},[])}},lae=()=>{const{searchResultData:n}=Nh(),{BGData:r}=aae(),{BJLData:t}=ne.useContext(bs),{UpdateBJLFun:e}=oae();ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{register:s,handleSubmit:i,watch:a,formState:{errors:o},setValue:c}=ds({resolver:vs(LX),bankSubmit:[],bankRece:[],bankValid:[],bankEndorse:[]});ne.useState([]),ne.useState([]),ne.useState([]),ne.useState([]);const[u,l]=ne.useState(""),[d,f]=ne.useState(!1),[h,p]=ne.useState(""),[g,v]=ne.useState({bankEmpUpload:null}),[m,x]=ne.useState({bankEmpUpload:[]}),y=a("bankEmpUpload",""),w=D=>typeof D=="string"&&D?D.split("/").pop():"",E=D=>{if(typeof D=="object"&&D.upload){const L=D.upload,M=decodeURIComponent(L);return M.substring(M.lastIndexOf("/")+1)}try{const M=new URL(D).pathname,H=decodeURIComponent(M);return H.substring(H.lastIndexOf("/")+1)}catch{if(typeof D=="string"){const M=decodeURIComponent(D);return M.substring(M.lastIndexOf("/")+1)}return}};ne.useEffect(()=>{const D=localStorage.getItem("userID");l(D),console.log("Navbar: User ID from localStorage:",D)},[]);const I=D=>Array.isArray(D)?D[D.length-1]:D;ne.useEffect(()=>{if(c("empID",n.empID),["bankSubmit","bankRece","bankRefNo","bankAmt","bankValid","bankEndorse","bankEmpUpload"].forEach(L=>c(L,I(n[L]))),n&&n.bankEmpUpload)try{const M=JSON.parse(n.bankEmpUpload).map(H=>typeof H=="string"?JSON.parse(H):H);console.log(M),c("bankEmpUpload",M),x(H=>({...H,bankEmpUpload:M})),v(H=>({...H,bankEmpUpload:M.length>0?E(M[M.length-1].upload):""}))}catch(L){console.error(`Failed to parse ${n.bankEmpUpload}:`,L)}},[n,c]);const T=async(D,L,M)=>{const H=D.target.files[0];if(!H)return;const V=["application/pdf","image/jpeg","image/png","image/jpg"];if(!M){alert("Employee ID is required to upload files."),window.location.reload();return}if(!V.includes(H.type)){alert("Upload must be a PDF file or an image (JPG, JPEG, PNG)");return}const P=a(L)||[];c(L,[...P,H]);try{await di(H,L,x,M),v(F=>({...F,[L]:H.name}))}catch(F){console.log(F)}};console.log("file",m);const R=async D=>{try{const L=t.find(A=>A.empID===D.empID),M=A=>A?new Date(A).toLocaleDateString("en-CA"):null,H=M(D.bankEndorse),V=M(D.bankSubmit),P=M(D.bankRece),F=M(D.bankValid);if(L){const A=[...new Set([...L.bankSubmit||[],V])],_=[...new Set([...L.bankRece||[],P])],S=[...new Set([...L.bankValid||[],F])],N=[...new Set([...L.bankEndorse||[],H])],C={...D,bankEndorse:N.map(M),bankRece:_.map(M),bankSubmit:A.map(M),bankValid:S.map(M),bankEmpUpload:JSON.stringify(m.bankEmpUpload),id:L.id};await e({BJLUpValue:C}),p("Work Pass Bank Guarantee Info Updated Successfully"),f(!0)}else{const A={...D,bankEndorse:H,bankRece:P,bankSubmit:V,bankValid:F,bankEmpUpload:JSON.stringify(m.bankEmpUpload)};await r({BJLValue:A}),p("Work Pass Bank Guarantee Info Saved Successfully"),f(!0)}}catch(L){console.log(L)}};return b.jsxs("form",{onSubmit:i(R),className:"mx-auto min-h-screen p-2 my-10 bg-[#F5F6F1CC]",children:[b.jsx("div",{className:"flex justify-end items-center",children:b.jsx("div",{className:"max-w-sm",children:b.jsx(Ct,{label:"Employee ID",register:s,name:"empID",type:"text",placeholder:"Enter Employee ID",errors:o})})}),b.jsxs("div",{className:"grid grid-cols-2 mt-10 gap-5",children:[b.jsx(Ct,{label:"Date Of Submission",register:s,name:"bankSubmit",type:"date",errors:o}),b.jsx(Ct,{label:"Date Received",register:s,name:"bankRece",type:"date",errors:o}),b.jsx(Ct,{label:"BG Reference Number",register:s,name:"bankRefNo",type:"text",errors:o}),b.jsx(Ct,{label:"Bank Guarantee Amount",register:s,name:"bankAmt",type:"text",errors:o}),b.jsx(Ct,{label:"Valid Until",register:s,name:"bankValid",type:"date",errors:o}),b.jsx(Ct,{label:"Date Endorsement Of BG",register:s,name:"bankEndorse",type:"date",errors:o}),b.jsx("div",{children:b.jsx(qc,{label:"Upload File",onChangeFunc:D=>T(D,"bankEmpUpload",u),register:s,error:o,fileName:g.bankEmpUpload||w(y)})})]}),b.jsxs("div",{className:"flex justify-center items-center my-10",children:[b.jsx("button",{type:"submit",className:"primary_btn",children:"Save"}),d&&b.jsx(fi,{text:h,notification:d,path:"/employee"})]})]})},cae=()=>{const n=Pr();return{UpdateJitpaData:ne.useCallback(async({JitpaValue:t})=>{if(!t)throw new Error("Missing required parameters or empID");try{const{tbaPurchase:e,jitpaAmt:s,jpValid:i,jpEndorse:a,jpEmpUpload:o,id:c}=t,u={id:c,tbaPurchase:e,jitpaAmt:s,jpValid:i,jpEndorse:a,jpEmpUpload:o},l=await n.graphql({query:C8,variables:{input:u}});console.log("Data successfully updated:",l)}catch(e){throw console.error("Error updating data:",e),e}},[])}},uae=()=>{const{searchResultData:n}=Nh();ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{BJLData:r}=ne.useContext(bs),{UpdateJitpaData:t}=cae(),{register:e,handleSubmit:s,watch:i,formState:{errors:a},setValue:o}=ds({resolver:vs(OX),tbaPurchase:[],jpValid:[],jpEndorse:[]}),[c,u]=ne.useState(!1),[l,d]=ne.useState("");ne.useState(""),ne.useState(""),ne.useState("");const[f,h]=ne.useState({jpEmpUpload:null}),[p,g]=ne.useState({jpEmpUpload:[]}),v=i("jpEmpUpload",""),m=T=>typeof T=="string"&&T?T.split("/").pop():"",x=T=>{if(typeof T=="object"&&T.upload){const R=T.upload,D=decodeURIComponent(R);return D.substring(D.lastIndexOf("/")+1)}try{const D=new URL(T).pathname,L=decodeURIComponent(D);return L.substring(L.lastIndexOf("/")+1)}catch{if(typeof T=="string"){const D=decodeURIComponent(T);return D.substring(D.lastIndexOf("/")+1)}return}},y=T=>Array.isArray(T)?T[T.length-1]:T;ne.useEffect(()=>{if(o("empID",n.empID),["tbaPurchase","jitpaAmt","jpValid","jpEndorse","jpEmpUpload"].forEach(R=>o(R,y(n[R]))),n&&n.jpEmpUpload)try{const D=JSON.parse(n.jpEmpUpload).map(L=>typeof L=="string"?JSON.parse(L):L);o("jpEmpUpload",D),g(L=>({...L,jpEmpUpload:D})),h(L=>({...L,jpEmpUpload:D.length>0?x(D[D.length-1].upload):""}))}catch(R){console.error(`Failed to parse ${n.jpEmpUpload}:`,R)}},[n,o]);const w=async(T,R,D)=>{const L=T.target.files[0];if(!L)return;const M=["application/pdf","image/jpeg","image/png","image/jpg"];if(!D){alert("Employee ID is required to upload files."),window.location.reload();return}if(!M.includes(L.type)){alert("Upload must be a PDF file or an image (JPG, JPEG, PNG)");return}const H=i(R)||[];o(R,[...H,L]);try{await di(L,R,g,D),h(V=>({...V,[R]:L.name}))}catch(V){console.log(V)}},E=i("empID"),I=async T=>{const R=H=>H?new Date(H).toLocaleDateString("en-CA"):null,D=R(T.tbaPurchase),L=R(T.jpValid),M=R(T.jpEndorse);try{let H=null;if(E){H=r.find(_=>_.empID===E);const V=[...new Set([...H.tbaPurchase||[],D])],P=[...new Set([...H.jpEndorse||[],M])],F=[...new Set([...H.jpValid||[],L])],A={...T,jpValid:F.map(R),tbaPurchase:V.map(R),jpEndorse:P.map(R),jpEmpUpload:JSON.stringify(p.jpEmpUpload),id:H?H.id:null};await t({JitpaValue:A}),d("Work Pass JITPA Info Data Stored Successfully"),u(!0)}else console.log("error")}catch(H){console.error("Error submitting data:",H),H!=null&&H.errors&&H.errors.forEach((V,P)=>{console.error(`GraphQL Error ${P+1}:`,V.message),V.extensions&&console.error("Error Extensions:",V.extensions)})}};return b.jsxs("form",{onSubmit:s(I),className:"mx-auto min-h-screen p-2 my-10 bg-[#F5F6F1CC]",children:[b.jsx("div",{className:"flex justify-end items-center",children:b.jsx("div",{className:"max-w-sm",children:b.jsx(Ct,{label:"Employee ID",register:e,name:"empID",type:"text",placeholder:"Enter Employee ID",errors:a})})}),b.jsxs("div",{className:"grid grid-cols-2 mt-10 gap-5",children:[b.jsx(Ct,{label:"TBA Purchase Date",register:e,name:"tbaPurchase",type:"date",errors:a}),b.jsx(Ct,{label:"JITPA Amount",register:e,name:"jitpaAmt",type:"text",errors:a}),b.jsx(Ct,{label:"Valid Until",register:e,name:"jpValid",type:"date",errors:a}),b.jsx(Ct,{label:"Date Endorsement Of Jitpa",register:e,name:"jpEndorse",type:"date",errors:a}),b.jsx("div",{children:b.jsx(qc,{label:"Upload File",onChangeFunc:T=>w(T,"jpEmpUpload",E),name:"jpEmpUpload",register:e,error:a,fileName:f.jpEmpUpload||m(v)})})]}),b.jsx("div",{className:"flex justify-center items-center my-10",children:b.jsx("button",{type:"submit",className:"primary_btn",children:"Save"})}),c&&b.jsx(fi,{text:l,notification:c,path:"/employee"})]})},dae=()=>{const n=Pr();return{UpdateLDData:ne.useCallback(async({LDValue:t})=>{if(!t)throw new Error("Missing required parameters or empID");try{const{lbrReceiptNo:e,lbrDepoAmt:s,lbrDepoSubmit:i,lbrDepoUpload:a,id:o}=t,c={id:o,lbrReceiptNo:e,lbrDepoAmt:s,lbrDepoSubmit:i,lbrDepoUpload:a},u=await n.graphql({query:C8,variables:{input:c}});console.log("Data successfully updated:",u)}catch(e){throw console.error("Error updating data:",e),e}},[])}},hae=()=>{const{searchResultData:n}=Nh();ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{BJLData:r}=ne.useContext(bs),{UpdateLDData:t}=dae(),{register:e,handleSubmit:s,watch:i,formState:{errors:a},setValue:o}=ds({resolver:vs(FX),lbrDepoSubmit:[]}),[c,u]=ne.useState(!1),[l,d]=ne.useState("");ne.useState([]);const[f,h]=ne.useState({lbrDepoUpload:null}),[p,g]=ne.useState({lbrDepoUpload:[]}),v=i("lbrDepoUpload",""),m=T=>typeof T=="string"&&T?T.split("/").pop():"",x=T=>{if(typeof T=="object"&&T.upload){const R=T.upload,D=decodeURIComponent(R);return D.substring(D.lastIndexOf("/")+1)}try{const D=new URL(T).pathname,L=decodeURIComponent(D);return L.substring(L.lastIndexOf("/")+1)}catch{if(typeof T=="string"){const D=decodeURIComponent(T);return D.substring(D.lastIndexOf("/")+1)}return}},y=T=>Array.isArray(T)?T[T.length-1]:T;ne.useEffect(()=>{if(o("empID",n.empID),["lbrReceiptNo","lbrDepoAmt","lbrDepoSubmit"].forEach(R=>o(R,y(n[R]))),n&&n.lbrDepoUpload)try{const D=JSON.parse(n.lbrDepoUpload).map(L=>typeof L=="string"?JSON.parse(L):L);o("lbrDepoUpload",D),g(L=>({...L,lbrDepoUpload:D})),h(L=>({...L,lbrDepoUpload:D.length>0?x(D[D.length-1].upload):""}))}catch(R){console.error(`Failed to parse ${n.lbrDepoUpload}:`,R)}},[n,o]);const w=async(T,R,D)=>{const L=T.target.files[0];if(!L)return;const M=["application/pdf","image/jpeg","image/png","image/jpg"];if(!D){alert("Employee ID is required to upload files."),window.location.reload();return}if(!M.includes(L.type)){alert("Upload must be a PDF file or an image (JPG, JPEG, PNG)");return}const H=i(R)||[];o(R,[...H,L]);try{await di(L,R,g,D),h(V=>({...V,[R]:L.name}))}catch(V){console.log(V)}},E=i("empID"),I=async T=>{try{let R=null;if(E){R=r.find(V=>V.empID===E);const D=V=>V?new Date(V).toLocaleDateString("en-CA"):null,L=D(T.lbrDepoSubmit),M=[...new Set([...R.lbrDepoSubmit||[],L])],H={...T,lbrDepoSubmit:M.map(D),lbrDepoUpload:JSON.stringify(p.lbrDepoUpload),id:R?R.id:null};await t({LDValue:H}),d("Work Pass Labour Deposit Data Stored Successfully"),u(!0)}else console.log("Employee id not found")}catch(R){console.error("Error submitting data:",R),console.log(R),R!=null&&R.errors&&R.errors.forEach((D,L)=>{console.error(`GraphQL Error ${L+1}:`,D.message),D.extensions&&console.error("Error Extensions:",D.extensions)})}};return b.jsxs("form",{onSubmit:s(I),className:"mx-auto min-h-screen p-2 my-10 bg-[#F5F6F1CC]",children:[b.jsx("div",{className:"flex justify-end items-center",children:b.jsx("div",{className:"max-w-sm",children:b.jsx(Ct,{label:"Employee ID",register:e,name:"empID",type:"text",placeholder:"Enter Employee ID",errors:a})})}),b.jsxs("div",{className:"grid grid-cols-2 mt-10 gap-5",children:[b.jsx(Ct,{label:"Labour Deposit Receipt Number",register:e,name:"lbrReceiptNo",type:"text",errors:a}),b.jsx(Ct,{label:"Deposit Amount",register:e,name:"lbrDepoAmt",type:"text",errors:a}),b.jsx(Ct,{label:"Date Endorsement Of Labour Deposit",register:e,name:"lbrDepoSubmit",type:"date",errors:a}),b.jsx("div",{children:b.jsx(qc,{label:"Upload File",onChangeFunc:T=>w(T,"lbrDepoUpload",E),name:"lbrDepoUpload",register:e,error:a,fileName:f.lbrDepoUpload||m(v)})})]}),b.jsx("div",{className:"center my-10",children:b.jsx("button",{type:"submit",className:"primary_btn",children:"Save"})}),c&&b.jsx(fi,{text:l,notification:c,path:"/employee"})]})},fae=()=>{const n=Pr();return{ImmigrationData:ne.useCallback(async({ImmiValue:t})=>{if(!t)throw new Error("Missing required parameters");const e={empID:t.empID,ppLocation:[t.ppLocation],arrivStampUpload:[t.arrivStampUpload],immigEmpUpload:[t.immigEmpUpload],reEntryUpload:[t.reEntryUpload],arrivStampExp:[t.arrivStampExp],immigRefNo:t.immigRefNo,ppSubmit:[t.ppSubmit],empPassExp:[t.empPassExp],empPassStatus:[t.empPassStatus],airTktStatus:[t.airTktStatus],reEntryVisa:[t.reEntryVisa],immigApproval:[t.immigApproval],reEntryVisaExp:[t.reEntryVisaExp],remarkImmig:[t.remarkImmig]};console.log(e);try{const s=await Promise.all([n.graphql({query:mW,variables:{input:e}})]);console.log(s,"successfully stored data")}catch(s){throw console.error("Error executing GraphQL requests:",s),s}},[])}},pae=()=>{const n=Pr();return{UpdateImmigraData:ne.useCallback(async({UpImmiValue:t})=>{if(!t)throw new Error("Missing required parameters");const e={id:t.id,empID:t.empID,ppLocation:[t.ppLocation],arrivStampUpload:[t.arrivStampUpload],immigEmpUpload:[t.immigEmpUpload],reEntryUpload:[t.reEntryUpload],arrivStampExp:[t.arrivStampExp],immigRefNo:t.immigRefNo,ppSubmit:[t.ppSubmit],empPassExp:[t.empPassExp],empPassStatus:[t.empPassStatus],airTktStatus:[t.airTktStatus],reEntryVisa:[t.reEntryVisa],immigApproval:[t.immigApproval],reEntryVisaExp:[t.reEntryVisaExp],remarkImmig:[t.remarkImmig]};console.log(e);try{const s=await Promise.all([n.graphql({query:gW,variables:{input:e}})]);console.log(s,"successfully stored data")}catch(s){throw console.error("Error executing GraphQL requests:",s),s}},[])}},mae=({empID:n})=>{const{searchResultData:r}=Nh();ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{ImmigrationData:t}=fae(),{PPValidsData:e}=ne.useContext(bs),{UpdateImmigraData:s}=pae(),{register:i,handleSubmit:a,watch:o,formState:{errors:c},setValue:u}=ds({resolver:vs(BX),arrivStampExp:[],empPassExp:[],immigApproval:[],ppSubmit:[],reEntryVisaExp:[]}),[l,d]=ne.useState(!1),[f,h]=ne.useState("");ne.useState([]),ne.useState([]),ne.useState([]),ne.useState([]),ne.useState([]);const[p,g]=ne.useState({arrivStampUpload:null,immigEmpUpload:null,reEntryUpload:null}),[v,m]=ne.useState({arrivStampUpload:[],immigEmpUpload:[],reEntryUpload:[]}),x=o("arrivStampUpload",""),y=o("immigEmpUpload",""),w=o("reEntryUpload",""),E=L=>typeof L=="string"&&L?L.split("/").pop():"",I=L=>{if(typeof L=="object"&&L.upload){const M=L.upload,H=decodeURIComponent(M);return H.substring(H.lastIndexOf("/")+1)}try{const H=new URL(L).pathname,V=decodeURIComponent(H);return V.substring(V.lastIndexOf("/")+1)}catch{if(typeof L=="string"){const H=decodeURIComponent(L);return H.substring(H.lastIndexOf("/")+1)}return}},T=L=>Array.isArray(L)?L[L.length-1]:L;ne.useEffect(()=>{u("empID",r.empID),["ppLocation","arrivStampUpload","immigEmpUpload","reEntryUpload","arrivStampExp","immigRefNo","ppSubmit","empPassExp","empPassStatus","airTktStatus","reEntryVisa","immigApproval","reEntryVisaExp","remarkImmig"].forEach(H=>u(H,T(r[H])));const M=H=>{if(r&&r[H])try{const P=JSON.parse(r[H]).map(F=>typeof F=="string"?JSON.parse(F):F);u(H,P),m(F=>({...F,[H]:P})),g(F=>({...F,[H]:P.length>0?I(P[P.length-1].upload):""}))}catch(V){console.error(`Failed to parse ${r[H]}:`,V)}};M("arrivStampUpload"),M("immigEmpUpload"),M("reEntryUpload")},[r,u]);const R=async(L,M,H)=>{const V=L.target.files[0];if(!V)return;const P=["application/pdf","image/jpeg","image/png","image/jpg"];if(!H){alert("Employee ID is required to upload files."),window.location.reload();return}if(!P.includes(V.type)){alert("Upload must be a PDF file or an image (JPG, JPEG, PNG)");return}const F=o(M)||[];u(M,[...F,V]);try{await di(V,M,m,H),g(A=>({...A,[M]:V.name}))}catch(A){console.log(A)}},D=async L=>{try{const M=e.find(S=>S.empID===L.empID),H=S=>S?new Date(S).toLocaleDateString("en-CA"):null,V=H(L.arrivStampExp),P=H(L.ppSubmit),F=H(L.empPassExp),A=H(L.immigApproval),_=H(L.reEntryVisaExp);if(M){const S=[...new Set([...M.arrivStampExp||[],V])],N=[...new Set([...M.ppSubmit||[],P])],C=[...new Set([...M.empPassExp||[],F])],W=[...new Set([...M.immigApproval||[],A])],j=[...new Set([...M.reEntryVisaExp||[],_])],B={...L,arrivStampExp:S.map(H),ppSubmit:N.map(H),empPassExp:C.map(H),immigApproval:W.map(H),reEntryVisaExp:j.map(H),arrivStampUpload:JSON.stringify(v.arrivStampUpload),immigEmpUpload:JSON.stringify(v.immigEmpUpload),reEntryUpload:JSON.stringify(v.reEntryUpload),id:M.id};await s({UpImmiValue:B}),h("Work Pass Immigration Info Updated successfully"),d(!0)}else{const S={...L,arrivStampExp:V,ppSubmit:P,empPassExp:F,immigApproval:A,reEntryVisaExp:_,arrivStampUpload:JSON.stringify(v.arrivStampUpload),immigEmpUpload:JSON.stringify(v.immigEmpUpload),reEntryUpload:JSON.stringify(v.reEntryUpload)};await t({ImmiValue:S}),h("Work Pass Immigration Info Saved Successfully"),d(!0)}}catch(M){console.error("Error submitting data:",M),d(!0)}};return b.jsxs("form",{onSubmit:a(D),className:"mx-auto min-h-screen p-2 my-10 bg-[#F5F6F1CC]",children:[b.jsx("div",{className:"flex justify-end items-center",children:b.jsx("div",{className:"max-w-sm",children:b.jsx(Ct,{label:"Employee ID",register:i,name:"empID",type:"text",placeholder:"Enter Employee ID",errors:c})})}),b.jsxs("div",{className:"w-full max-w-[300px] ",children:[b.jsx("label",{className:"mb-1 text_size_6",children:"Original Passport Location"}),b.jsxs("select",{...i("ppLocation"),className:"input-field select-custom",children:[b.jsx("option",{value:""}),b.jsx("option",{value:"HRD",children:"HRD"}),b.jsx("option",{value:"Immigration",children:"Immigration"}),b.jsx("option",{value:"Employee",children:"Employee"}),b.jsx("option",{value:"Vacation",children:"Vacation"})]}),c.ppLocation&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:c.ppLocation.message})]}),b.jsxs("div",{className:"grid grid-cols-2 mt-10 gap-5",children:[b.jsx(Ct,{label:"Date Of Arrival Stamping Expiry",register:i,name:"arrivStampExp",type:"date",errors:c}),b.jsx(qc,{label:"Upload File",onChangeFunc:L=>R(L,"arrivStampUpload",n),name:"arrivStampUpload",register:i,error:c,fileName:p.arrivStampUpload||E(x)})]}),b.jsx("hr",{className:"text-lite_grey"}),b.jsxs("div",{className:"grid grid-cols-2 mt-10 gap-5",children:[b.jsx(Ct,{label:"Immigration Reference Number",register:i,name:"immigRefNo",value:"IMMBD/1382",type:"text",errors:c}),b.jsx(Ct,{label:"Passport Submit Date To Immigration Dept",register:i,name:"ppSubmit",type:"date",errors:c}),b.jsx(Ct,{label:"Employment Pass Expiry",register:i,name:"empPassExp",type:"date",errors:c}),b.jsx(Ct,{label:"Employment Pass Status",register:i,name:"empPassStatus",type:"text",errors:c}),b.jsx(qc,{label:"Upload File",onChangeFunc:L=>R(L,"immigEmpUpload"),register:i,name:"immigEmpUpload",error:c,fileName:p.immigEmpUpload||E(y)})]}),b.jsx("hr",{className:"text-lite_grey"}),b.jsxs("div",{className:"grid grid-cols-2 mt-10 gap-5 ",children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"mb-1 text_size_6 ",children:"Air Ticket Status"}),b.jsxs("select",{...i("airTktStatus"),className:"input-field select-custom",children:[b.jsx("option",{value:""}),b.jsx("option",{value:"Company",children:"Company"}),b.jsx("option",{value:"Own",children:"Own"})]}),c.airTktStatus&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:c.airTktStatus.message})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"mb-1 text_size_6",children:"Re-entry Visa Application"}),b.jsxs("select",{...i("reEntryVisa"),className:"input-field select-custom",children:[b.jsx("option",{value:""}),b.jsx("option",{value:"Single",children:"Single"}),b.jsx("option",{value:"Multiple",children:"Multiple"})]}),c.reEntryVisa&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:c.reEntryVisa.message})]}),b.jsx(Ct,{label:"Date Approved by Immigration Dept",register:i,name:"immigApproval",type:"date",errors:c}),b.jsx(Ct,{label:"Re-Entry Visa Expiry",register:i,name:"reEntryVisaExp",type:"date",errors:c}),b.jsx(qc,{label:"Upload File",onChangeFunc:L=>R(L,"reEntryUpload"),register:i,name:"reEntryUpload",error:c,fileName:p.reEntryUpload||E(w)})]}),b.jsxs("div",{className:"",children:[b.jsx("label",{className:"mb-1 text_size_6",children:"Remarks for Immigration"}),b.jsx("textarea",{...i("remarkImmig"),className:"resize-none w-full  p-2 mt-1 border bg-lite_skyBlue border-lite_grey rounded-md outline-none",rows:"4"}),c.remarkImmig&&b.jsx("p",{className:"text-[red] text-[13px] mt-1",children:c.remarkImmig.message})]}),b.jsx("div",{className:"center my-10",children:b.jsx("button",{type:"submit",className:"primary_btn",children:"Save"})}),l&&b.jsx(fi,{text:f,notification:l,path:"/employee"})]})},gae=()=>b.jsx("div",{children:b.jsx(Ly,{title:"HO"})}),bae=()=>b.jsx("div",{children:b.jsx(Ly,{title:"SBW"})}),vae=()=>b.jsx("div",{children:b.jsx(Ly,{title:"ORMC"})}),yae=()=>{const{empPDData:n}=ne.useContext(bs),[r,t]=ne.useState(null),[e,s]=ne.useState([]),[i,a]=ne.useState(""),o=Ga(),[c,u]=ne.useState([]),[l,d]=ne.useState(!0),[f,h]=ne.useState(null),p=w=>{t(w.id)},g=w=>{u(w)},v=()=>{x.filter(w=>!e.includes(w.id)),s([])},m=w=>{s(w)},x=n==null?void 0:n.filter(w=>w.name.toLowerCase().includes(i.toLowerCase())||w.position.toLowerCase().includes(i.toLowerCase())||w.nationality.toLowerCase().includes(i.toLowerCase()));ne.useEffect(()=>{x.length>0?(d(!1),h(null)):h("No data available.")},[x]);const y=["Name","Gender","Nationality","Position","Experience","Email","Contact"];return b.jsxs("section",{className:"screen-size min-h-screen w-full my-5",children:[b.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[b.jsx("div",{className:"flex-1",children:b.jsx("button",{className:"bg-[#faf362] py-2 px-3 rounded-lg text-[18px] font-semibold",children:"List Of All Candidates"})}),b.jsx("div",{className:"flex-1 flex justify-end ",children:b.jsx($f,{newFormData:x,searchHandler:a,emptySearch:()=>console.log("Search cleared!"),searchIcon1:b.jsx(Ds,{}),placeholder:"Search",border:"rounded-full",shadow:"shadow-[0_1px_6px_1px_rgba(0,0,0,0.2)]"})})]}),b.jsxs("div",{className:"flex relative mb-8 ",children:[b.jsx("div",{className:" absolute top-1/2 right-14 transform -translate-y-1/2 text-2xl hover:text-3xl flex items-center cursor-pointer",onClick:()=>{e.length===1?o("/addCandidates",{state:{editingData:e[0]}}):e.length>1?alert("Please select only one row to edit."):alert("Please select a row before editing.")},disabled:e.length===0,children:b.jsx(y8,{className:"mr-2"})}),b.jsx("div",{className:"absolute top-1/2 right-0 transform -translate-y-1/2 text-3xl hover:text-4xl cursor-pointer text-[#f42232cc] flex items-center",onClick:v,children:b.jsx(a8,{className:"mr-2"})})]}),l?b.jsx("div",{className:"text-center py-10",children:"Loading..."}):f?b.jsx("div",{className:"text-center py-10",children:` ${f}`}):b.jsx(Sy,{columns:y,rowClickHandler:p,data:x,selectedRows:e,onRowSelect:m,edited:g})]})},xae=Pr(),wae=()=>{const[n,r]=ne.useState([]),[t,e]=ne.useState(!1),[s,i]=ne.useState(!1),[a,o]=ne.useState(null),[c,u]=ne.useState(null),l=async()=>{var p,g;try{const v=await xae.graphql({query:ZN}),m=((g=(p=v==null?void 0:v.data)==null?void 0:p.listEmpRequisitions)==null?void 0:g.items)||[];console.log("Fetched Requisition Data:",m),r(m),u(null)}catch(v){console.error("Error fetching requisition data:",v),u("Failed to fetch requisition data"),r([])}};ne.useEffect(()=>{l()},[]);const d=()=>{e(!1),l()},f=p=>{o(p),i(!0)},h=()=>{o(null),i(!1)};return b.jsx("section",{className:"min-h-screen bg-[#F5F6F1]",children:b.jsxs("div",{className:"screen-size",children:[b.jsxs("div",{className:"flex justify-between my-8",children:[b.jsx("button",{className:"bg-[#faf362] py-2 px-3 rounded-lg text-[18px] font-semibold",children:"My Requisition List"}),b.jsx("button",{className:"bg-[#faf362] py-2 px-3 rounded-lg text-[18px] font-semibold",onClick:()=>e(!0),children:"Apply New Requisition"})]}),c&&b.jsx("div",{className:"text-[red]",children:c}),n.length>0?b.jsx("div",{className:"overflow-x-auto rounded-lg",children:b.jsxs("table",{className:"w-full text-left",children:[b.jsx("thead",{className:"bg-[#939393] text-white rounded-lg",children:b.jsxs("tr",{children:[b.jsx("th",{className:"pl-4 py-3",children:"Requested By"}),b.jsx("th",{className:"pl-4",children:"Department"}),b.jsx("th",{className:"py-4",children:"Applied Position"}),b.jsx("th",{className:"py-4",children:"Project"}),b.jsx("th",{className:"py-4",children:"Quantity"}),b.jsx("th",{className:"py-4",children:"Submit Date"}),b.jsx("th",{className:"py-4",children:"Submitted Form"}),b.jsx("th",{className:"py-4",children:"Form Status"}),b.jsx("th",{className:"py-4",children:"Remarks"})]})}),b.jsx("tbody",{className:"bg-white",children:n.map(p=>b.jsxs("tr",{className:"shadow-[0_3px_6px_1px_rgba(0,0,0,0.2)]",children:[b.jsx("td",{className:"pl-4 py-4",children:p.requestedBy}),b.jsx("td",{className:"pl-4 py-4",children:p.department}),b.jsx("td",{className:"py-4",children:p.position}),b.jsx("td",{className:"py-4",children:p.project}),b.jsx("td",{className:"py-4",children:p.quantity}),b.jsx("td",{className:"py-4",children:new Date(p.createdAt).toLocaleDateString("en-GB")}),b.jsx("td",{className:"py-4",children:b.jsx("a",{href:"#",className:"text-[#2779f5f7] font-semibold underline cursor-pointer",onClick:()=>f(p),children:"View"})}),b.jsx("td",{className:`py-4 font-semibold ${p.status==="Approved"?"text-[#25a041]":p.status==="Rejected"?"text-[red]":"text-grey"}`,children:p.status}),b.jsx("td",{className:"py-4",children:p.remarks})]},p.id))})]})}):b.jsx("p",{children:"No requisition data available."}),t&&b.jsx("div",{className:"fixed inset-0 bg-grey bg-opacity-75 flex items-center justify-center z-50",children:b.jsx("div",{className:"bg-white p-8 rounded-lg shadow-lg w-[90%] max-w-xl",children:b.jsx($C,{onClose:d})})}),s&&a&&b.jsx(T9,{isVisible:s,onClose:h})]})})},_ae=Pr(),Sae=()=>{var a;const n=(a=localStorage.getItem("userID"))==null?void 0:a.toUpperCase(),[r,t]=ne.useState([]),[e,s]=ne.useState(!0);ne.useEffect(()=>{async function o(){var c,u;try{const l=localStorage.getItem("userType"),d=await _ae.graphql({query:s8,variables:{filter:{and:[{empID:{eq:n}},{selectType:{eq:l}}]}}}),f=(u=(c=d==null?void 0:d.data)==null?void 0:c.listUsers)==null?void 0:u.items[0],h=f==null?void 0:f.setPermissions[0],p=i(h);t(p)}catch(l){console.error("Error fetching user data:",l)}finally{s(!1)}}o()},[]);const i=o=>{const c=/(\w+)=\[/g,u=[];let l;for(;(l=c.exec(o))!==null;)u.push(l[1]);return u};return e?b.jsx("div",{children:b.jsx("div",{className:"flex items-center justify-center h-screen",children:b.jsx("p",{className:"text-18 font-serif font-bold",children:"Loading..."})})}):b.jsxs(IM,{children:[b.jsx(br,{path:"/changePassword",element:b.jsx(SK,{})}),b.jsx(br,{path:"/user",Component:z7}),b.jsx(br,{path:"/addNewForm",Component:LN}),n&&b.jsx(b.Fragment,{children:r.map((o,c)=>b.jsxs(St.Fragment,{children:[b.jsx(br,{path:"/",element:b.jsx(PE,{to:"/dashboard"})})," ",b.jsx(br,{path:"/personalInformation",Component:NK}),o==="Dashboard"&&b.jsx(br,{path:"/Dashboard",Component:GF}),o==="User"&&b.jsxs(b.Fragment,{children:[" ",b.jsx(br,{path:"/user",Component:z7}),b.jsx(br,{path:"/addNewForm",Component:LN})]}),o==="Recruitment"&&b.jsxs(b.Fragment,{children:[b.jsx(br,{path:"/recruitment",Component:HU}),b.jsxs(br,{path:"/recrutiles",Component:lV,children:[b.jsx(br,{path:"candidate",element:b.jsx(dV,{})}),b.jsx(br,{path:"applyemployreq",element:b.jsx(wae,{})}),b.jsx(br,{path:"listofcandi",element:b.jsx(yae,{})}),b.jsx(br,{path:"localcandi",element:b.jsx(yV,{})}),b.jsx(br,{path:"nonloccandi",element:b.jsx(xV,{})}),b.jsx(br,{path:"employreq",element:b.jsx(D9,{})}),b.jsx(br,{path:"status",element:b.jsx(DV,{})}),b.jsx(br,{path:"workpasstracking",element:b.jsx(PV,{})})]}),b.jsxs(br,{path:"/addCandidates",Component:wV,children:[b.jsx(br,{index:!0,element:b.jsx(tV,{})}),b.jsx(br,{path:"personalDetails",element:b.jsx(nV,{})}),b.jsx(br,{path:"educationDetails",element:b.jsx(sV,{})}),b.jsx(br,{path:"otherDetails",element:b.jsx(oV,{})})]})]}),o==="Employee"&&b.jsxs(b.Fragment,{children:[b.jsxs(br,{path:"/insuranceAdd",Component:cK,children:[b.jsx(br,{index:!0,element:b.jsx(fK,{})}),b.jsx(br,{path:"dependentInsurance",element:b.jsx(vK,{})})]}),b.jsxs(br,{path:"/sawp",Component:x3,children:[b.jsx(br,{index:!0,element:b.jsx(eae,{})}),b.jsx(br,{path:"doe",element:b.jsx(nae,{})}),b.jsx(br,{path:"nlms",element:b.jsx(iae,{})}),b.jsx(br,{path:"bankGuarantee",element:b.jsx(lae,{})}),b.jsx(br,{path:"jitpa",element:b.jsx(uae,{})}),b.jsx(br,{path:"labourDeposit",element:b.jsx(hae,{})}),b.jsx(br,{path:"immigration",element:b.jsx(mae,{})})]}),b.jsx(br,{path:"/allempDetails",Component:SX}),b.jsx(br,{path:"/employee",Component:tB}),b.jsx(br,{path:"/empRequistion",Component:$C}),b.jsx(br,{path:"/employeeInfo",Component:QX}),b.jsx(br,{path:"/workInfo",Component:rK}),b.jsx(br,{path:"/workPass",Component:x3}),b.jsx(br,{path:"/nonLocalAcco",Component:wK}),b.jsx(br,{path:"/labourImmigration",Component:oK})]}),o==="LeaveManagement"&&b.jsx(br,{path:"/leaveManage",Component:YW}),o==="Notification"&&b.jsx(br,{path:"/notifications",Component:ez}),o==="Report"&&b.jsxs(b.Fragment,{children:[b.jsx(br,{path:"/reports",Component:PU}),b.jsx(br,{path:"/probForm",Component:yB})]}),o==="BenefitsAndRewards"&&b.jsx(br,{path:"/benfitsAndrewards",Component:ZW}),o==="TimeSheet"&&b.jsxs(b.Fragment,{children:[b.jsx(br,{path:"/timeSheet",element:b.jsx(uB,{})}),b.jsx(br,{path:"/timesheetHO",element:b.jsx(gae,{})}),b.jsx(br,{path:"/timesheetSBW",element:b.jsx(bae,{})}),b.jsx(br,{path:"/timesheetORMC",element:b.jsx(vae,{})}),b.jsx(br,{path:"/timesheetOffshore",element:b.jsx(Mie,{})}),b.jsx(br,{path:"/timesheetBlng",element:b.jsx(Lie,{})}),b.jsx(br,{path:"/viewTimesheet",element:b.jsx(Bie,{})})]}),o==="Training"&&b.jsxs(b.Fragment,{children:[b.jsx(br,{path:"/training",Component:iB}),b.jsx(br,{path:"/training/hr",Component:Gie}),b.jsx(br,{path:"/trainingReq",Component:Yie}),b.jsx(br,{path:"/trainingQA",Component:Kie})]}),b.jsx(br,{path:"/logout",Component:tz})]},c))}),b.jsx(br,{path:"*",element:b.jsx(PE,{to:"/dashboard"})})]})},Iae=Object.freeze(Object.defineProperty({__proto__:null,default:Sae},Symbol.toStringTag,{value:"Module"}));export{Iae as N,ts as _};
