const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-CBSepBFD.js","assets/index-DGlgLNsZ.js","assets/index-CIL1F7VK.css","assets/logo-with-name-Dysd_ptA.js","assets/Validation-C94Dp6gB.js","assets/index-B87ITNpm.js"])))=>i.map(i=>d[i]);
var NM=Object.defineProperty;var RE=n=>{throw TypeError(n)};var AM=(n,r,t)=>r in n?NM(n,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[r]=t;var Ot=(n,r,t)=>AM(n,typeof r!="symbol"?r+"":r,t),g6=(n,r,t)=>r.has(n)||RE("Cannot "+t);var X=(n,r,t)=>(g6(n,r,"read from private field"),t?t.call(n):r.get(n)),je=(n,r,t)=>r.has(n)?RE("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(n):r.set(n,t),Ne=(n,r,t,e)=>(g6(n,r,"write to private field"),e?e.call(n,t):r.set(n,t),t),De=(n,r,t)=>(g6(n,r,"access private method"),t);var tl=(n,r,t,e)=>({set _(s){Ne(n,r,s,t)},get _(){return X(n,r,e)}});import{H as ME,c as Vf,D as VN,a as $N,b as GN,d as YN,A as wv,e as KN,g as XN,f as JN,h as kM,i as ZN,j as CM,k as DM,r as ne,l as m,m as Wn,L as yi,n as QN,o as Ab,R as St,u as Ju,_ as Ap,p as TM,q as Yi,s as eA,$ as jM,t as IM,v as kr,w as kb,x as OE,y as tA,z as c8,B as rA,C as Ww,E as PM,F as lg,G as cg,I as zw,S as nA,J as J1,O as _v,K as sA,M as Ah,N as RM,P as MM,Q as OM,T as LM,U as FM,V as BM,W as gr,X as LE}from"./index-DGlgLNsZ.js";import{g as aA,I as FE,G as Fn,a as u8,l as $m,b as Rs,c as iA,d as b6,e as ix,f as UM,h as oA,i as HM}from"./logo-with-name-Dysd_ptA.js";import{a as Bx,A as Ux,u as Pn,g as lA,C as os,o as Bn,b as qM,P as WM,c as Af,E as zM,d as VM,I as $M,e as Kn,f as Ue,h as Yn,i as Or,j as Kr,k as GM,l as YM,U as KM}from"./Validation-C94Dp6gB.js";import{l as Wc,i as XM,d as Gm,s as ug,a as cA,b as uA,v as $l,c as dg,p as Ym,e as Km,m as hg,f as Vw,g as JM,h as BE,r as dA,j as hA,k as fA,n as pA,S as Hx,U as $w,D as n_,M as ZM,o as mA,q as s_,t as QM,C as eO,u as tO,w as rO,x as nO,y as sO,z as aO,G as xs,A as qx,B as d8,E as Z1,F as iO,I as oO,H as gA,J as lO,K as cO,L as uO,N as UE}from"./index-B87ITNpm.js";function HE(n){return Object.entries(n).map(([r,t])=>({Name:r,Value:t}))}const dO=3*60*1e3;function hO(n){const r=ME.listen("auth-internal",async({payload:e})=>{switch(e.event){case"confirmSignUp":{const s=e.data;s!=null&&s.isSignUpComplete&&(ME.dispatch("auth-internal",{event:"autoSignIn"}),r())}}}),t=setTimeout(()=>{r(),yA(!1),clearTimeout(t)},dO)}let bA=!1;function D2(){return bA}function yA(n){bA=n}function T2(n){return!!n.UserConfirmed}const fO=n=>Vf(YN,GN("SignUp"),$N(),{...VN,...n});async function pO(n){var g;const{username:r,password:t,options:e}=n,s=(g=wv.getConfig().Auth)==null?void 0:g.Cognito,a=(s==null?void 0:s.signUpVerificationMethod)??"code",{clientMetadata:i,validationData:o,autoSignIn:u}=n.options??{};KN(s),Bx(!!r,Ux.EmptySignUpUsername),Bx(!!t,Ux.EmptySignUpPassword);const c=typeof u!="boolean"?u:void 0;c==null||c.authFlowType,(c||u===!0)&&yA(!0);const{userPoolId:l,userPoolClientId:d,userPoolEndpoint:p}=s,f=await fO({endpointResolver:ZN({endpointOverride:p})})({region:XN(l),userAgentValue:aA(JN.SignUp)},{Username:r,Password:t,UserAttributes:(e==null?void 0:e.userAttributes)&&HE(e==null?void 0:e.userAttributes),ClientMetadata:i,ValidationData:o&&HE(o),ClientId:d,UserContextData:kM({username:r,userPoolId:l,userPoolClientId:d})}),{UserSub:b,CodeDeliveryDetails:y}=f;if(T2(f)&&D2())return{isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"},userId:b};if(T2(f)&&!D2())return{isSignUpComplete:!0,nextStep:{signUpStep:"DONE"},userId:b};if(!T2(f)&&D2()&&a==="code")hO();else if(!T2(f)&&D2()&&a==="link")return{isSignUpComplete:!1,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN",codeDeliveryDetails:{deliveryMedium:y==null?void 0:y.DeliveryMedium,destination:y==null?void 0:y.Destination,attributeName:y==null?void 0:y.AttributeName}},userId:b};return{isSignUpComplete:!1,nextStep:{signUpStep:"CONFIRM_SIGN_UP",codeDeliveryDetails:{deliveryMedium:y==null?void 0:y.DeliveryMedium,destination:y==null?void 0:y.Destination,attributeName:y==null?void 0:y.AttributeName}},userId:b}}const mO=n=>Vf(YN,GN("ChangePassword"),$N(),{...VN,...n});async function gO(n){var u;const r=(u=wv.getConfig().Auth)==null?void 0:u.Cognito;KN(r);const{userPoolEndpoint:t,userPoolId:e}=r,{oldPassword:s,newPassword:a}=n;Bx(!!s,Ux.EmptyUpdatePassword),Bx(!!a,Ux.EmptyUpdatePassword);const{tokens:i}=await CM({forceRefresh:!1});DM(i),await mO({endpointResolver:ZN({endpointOverride:t})})({region:XN(e),userAgentValue:aA(JN.UpdatePassword)},{AccessToken:i.accessToken.toString(),PreviousPassword:s,ProposedPassword:a})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var a_=function(n,r){return a_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s])},a_(n,r)};function bO(n,r){a_(n,r);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var i_=function(){return i_=Object.assign||function(r){for(var t,e=1,s=arguments.length;e<s;e++){t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a])}return r},i_.apply(this,arguments)};function yO(n,r){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&r.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,e=Object.getOwnPropertySymbols(n);s<e.length;s++)r.indexOf(e[s])<0&&(t[e[s]]=n[e[s]]);return t}var vO=100,xO=100,qE=50,o_=50,l_=50;function WE(n){var r=n.className,t=n.counterClockwise,e=n.dashRatio,s=n.pathRadius,a=n.strokeWidth,i=n.style;return ne.createElement("path",{className:r,style:Object.assign({},i,_O({pathRadius:s,dashRatio:e,counterClockwise:t})),d:wO({pathRadius:s,counterClockwise:t}),strokeWidth:a,fillOpacity:0})}function wO(n){var r=n.pathRadius,t=n.counterClockwise,e=r,s=t?1:0;return`
      M `+o_+","+l_+`
      m 0,-`+e+`
      a `+e+","+e+" "+s+" 1 1 0,"+2*e+`
      a `+e+","+e+" "+s+" 1 1 0,-"+2*e+`
    `}function _O(n){var r=n.counterClockwise,t=n.dashRatio,e=n.pathRadius,s=Math.PI*2*e,a=(1-t)*s;return{strokeDasharray:s+"px "+s+"px",strokeDashoffset:(r?-a:a)+"px"}}var SO=function(n){bO(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},r.prototype.getPathRadius=function(){return qE-this.props.strokeWidth/2-this.getBackgroundPadding()},r.prototype.getPathRatio=function(){var t=this.props,e=t.value,s=t.minValue,a=t.maxValue,i=Math.min(Math.max(e,s),a);return(i-s)/(a-s)},r.prototype.render=function(){var t=this.props,e=t.circleRatio,s=t.className,a=t.classes,i=t.counterClockwise,o=t.styles,u=t.strokeWidth,c=t.text,l=this.getPathRadius(),d=this.getPathRatio();return ne.createElement("svg",{className:a.root+" "+s,style:o.root,viewBox:"0 0 "+vO+" "+xO,"data-test-id":"CircularProgressbar"},this.props.background?ne.createElement("circle",{className:a.background,style:o.background,cx:o_,cy:l_,r:qE}):null,ne.createElement(WE,{className:a.trail,counterClockwise:i,dashRatio:e,pathRadius:l,strokeWidth:u,style:o.trail}),ne.createElement(WE,{className:a.path,counterClockwise:i,dashRatio:d*e,pathRadius:l,strokeWidth:u,style:o.path}),c?ne.createElement("text",{className:a.text,style:o.text,x:o_,y:l_},c):null)},r.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},r}(ne.Component);function j2(n){n.children;var r=yO(n,["children"]);return ne.createElement("div",{"data-test-id":"CircularProgressbarWithChildren"},ne.createElement("div",{style:{position:"relative",width:"100%",height:"100%"}},ne.createElement(SO,i_({},r)),n.children?ne.createElement("div",{"data-test-id":"CircularProgressbarWithChildren__children",style:{position:"absolute",width:"100%",height:"100%",marginTop:"-100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},n.children):null))}function I2(n){var r=n.rotation,t=n.strokeLinecap,e=n.textColor,s=n.textSize,a=n.pathColor,i=n.pathTransition,o=n.pathTransitionDuration,u=n.trailColor,c=n.backgroundColor,l=r==null?void 0:"rotate("+r+"turn)",d=r==null?void 0:"center center";return{root:{},path:P2({stroke:a,strokeLinecap:t,transform:l,transformOrigin:d,transition:i,transitionDuration:o==null?void 0:o+"s"}),trail:P2({stroke:u,strokeLinecap:t,transform:l,transformOrigin:d}),text:P2({fill:e,fontSize:s}),background:P2({fill:c})}}function P2(n){return Object.keys(n).forEach(function(r){n[r]==null&&delete n[r]}),n}const EO=()=>m.jsxs("div",{className:"flex flex-col  items-center h-full p-3 w-full bg-white rounded-2xl shadow-md ",children:[m.jsx("div",{className:"flex justify-between w-full items-center",children:m.jsx("h2",{className:"text-lg font-semibold text-grey",children:"Attendance"})}),m.jsxs("div",{className:"relative w-48 h-48 mt-7 ",children:[m.jsx("div",{className:"absolute inset-0",children:m.jsx(j2,{value:100,strokeWidth:10,styles:I2({pathColor:"#6E349E",trailColor:"transparent",strokeLinecap:"round"})})}),m.jsx("div",{className:"absolute inset-0",children:m.jsx(j2,{value:50,strokeWidth:10,styles:I2({pathColor:"#E61A1A",trailColor:"transparent",strokeLinecap:"round"})})}),m.jsx("div",{className:"absolute ",children:m.jsx(j2,{value:20,strokeWidth:10,styles:I2({pathColor:"#F1A924",trailColor:"transparent",strokeLinecap:"round"})})}),m.jsx("div",{className:"absolute ",children:m.jsx(j2,{value:5,strokeWidth:10,styles:I2({pathColor:"#17C900",trailColor:"transparent",strokeLinecap:"round"}),children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-3xl font-semibold",children:2112}),m.jsxs("div",{className:"text-sm text-grey",children:["/ ",2200]})]})})})]}),m.jsxs("div",{className:"mt-14 justify-evenly items-center flex gap-5 w-full",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("span",{className:"w-3 h-3 bg-purple rounded-full mr-2"}),m.jsxs("span",{className:"text-sm text-grey",children:[1715," ",m.jsx("span",{className:"text-gray-500",children:"OnTime"})]})]}),m.jsxs("div",{className:"flex items-center mt-5",children:[m.jsx("span",{className:"w-3 h-3 bg-red rounded-full mr-2"}),m.jsxs("span",{className:"text-sm text-grey",children:[397," ",m.jsx("span",{className:"text-gray-500",children:"Late Attendance"})]})]})]}),m.jsxs("div",{className:"",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("span",{className:"w-3 h-3 bg-yellow rounded-full mr-2"}),m.jsxs("span",{className:"text-sm text-grey",children:[74," ",m.jsx("span",{className:"text-gray-500",children:"Permission"})]})]}),m.jsxs("div",{className:"flex items-center mt-5",children:[m.jsx("span",{className:"w-3 h-3 bg-green rounded-full mr-2"}),m.jsxs("span",{className:"text-sm text-grey",children:[14," ",m.jsx("span",{className:"text-gray-500",children:"TakeDayOff"})]})]})]})]})]}),NO="/assets/Group1-BL49E7dC.svg",AO="data:image/svg+xml,%3csvg%20width='61'%20height='54'%20viewBox='0%200%2061%2054'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M30.3063%205.74051C20.8161%205.74051%2012.7337%2011.8128%209.73781%2020.2803C9.52687%2020.8786%209.83897%2021.5351%2010.4373%2021.7461C11.0357%2021.957%2011.6922%2021.6449%2011.9053%2021.0466C14.5851%2013.4679%2021.8171%208.03534%2030.3083%208.03534C40.0674%208.03534%2048.1647%2015.2113%2049.6006%2024.5726C49.239%2024.084%2048.5524%2023.9591%2048.0401%2024.2992C47.5128%2024.6501%2047.3707%2025.3647%2047.7216%2025.892L50.0182%2029.3359C50.2313%2029.6544%2050.5908%2029.846%2050.9739%2029.846C51.357%2029.846%2051.7165%2029.6523%2051.9296%2029.3359L54.2262%2025.892C54.5771%2025.3646%2054.435%2024.65%2053.9077%2024.2992C53.3803%2023.9484%2052.6657%2024.0904%2052.3149%2024.6178L51.9834%2025.115C50.7695%2014.2213%2041.5251%205.73889%2030.3107%205.73889L30.3063%205.74051ZM22.2713%2016.0721C19.7379%2016.0721%2017.6802%2018.1299%2017.6802%2020.6632C17.6802%2021.931%2018.1968%2023.0804%2019.0276%2023.9112C16.8774%2025.2586%2015.3836%2027.904%2015.3836%2030.9946C15.3836%2031.6274%2015.898%2032.1418%2016.5308%2032.1418H23.4185C24.0513%2032.1418%2024.5658%2031.6274%2024.5658%2030.9946C24.5658%2030.3618%2024.0513%2029.8474%2023.4185%2029.8474H17.7706C18.1903%2027.2602%2020.0005%2025.2563%2022.2713%2025.2563C24.8047%2025.2563%2026.8624%2023.1985%2026.8624%2020.6652C26.8624%2018.1318%2024.8047%2016.0741%2022.2713%2016.0741V16.0721ZM38.3435%2016.0721C35.8101%2016.0721%2033.7524%2018.1299%2033.7524%2020.6632C33.7524%2023.1966%2035.8101%2025.2543%2038.3435%2025.2543C40.6143%2025.2543%2042.4244%2027.2582%2042.8442%2029.8454H37.1963C36.5635%2029.8454%2036.049%2030.3599%2036.049%2030.9927C36.049%2031.6255%2036.5635%2032.1399%2037.1963%2032.1399H44.084C44.7168%2032.1399%2045.2312%2031.6255%2045.2312%2030.9927C45.2312%2027.9018%2043.7396%2025.2565%2041.5872%2023.9093L41.5893%2023.9071C42.4202%2023.0763%2042.9346%2021.9291%2042.9346%2020.6613C42.9346%2018.1279%2040.8769%2016.0702%2038.3435%2016.0702L38.3435%2016.0721ZM22.2713%2018.3688C23.5391%2018.3688%2024.568%2019.3977%2024.568%2020.6654C24.568%2021.9332%2023.5391%2022.9621%2022.2713%2022.9621C21.0035%2022.9621%2019.9747%2021.9332%2019.9747%2020.6654C19.9747%2019.3977%2021.0035%2018.3688%2022.2713%2018.3688ZM38.3435%2018.3688C39.6113%2018.3688%2040.6401%2019.3977%2040.6401%2020.6654C40.6401%2021.9332%2039.6113%2022.9621%2038.3435%2022.9621C37.0757%2022.9621%2036.0468%2021.9332%2036.0468%2020.6654C36.0468%2019.3977%2037.0757%2018.3688%2038.3435%2018.3688ZM30.3085%2022.9599C27.7751%2022.9599%2025.7174%2025.0176%2025.7174%2027.551C25.7174%2028.8188%2026.234%2029.9682%2027.0648%2030.799C24.9146%2032.1464%2023.4207%2034.7917%2023.4207%2037.8823C23.4207%2038.5151%2023.9352%2039.0296%2024.568%2039.0296H36.0468C36.6796%2039.0296%2037.1941%2038.5151%2037.1941%2037.8823C37.1941%2034.7915%2035.7024%2032.1462%2033.55%2030.799L33.5521%2030.7968C34.383%2029.966%2034.8974%2028.8188%2034.8974%2027.551C34.8974%2025.0176%2032.8397%2022.9599%2030.3063%2022.9599L30.3085%2022.9599ZM9.64524%2024.1071C9.26211%2024.1071%208.90263%2024.2987%208.68955%2024.6172L6.39289%2028.0611C6.04205%2028.5885%206.18411%2029.3031%206.71146%2029.6539C7.2388%2030.0047%207.9534%2029.8627%208.30424%2029.3353L8.54961%2028.9694C9.28357%2040.3452%2018.7501%2049.3616%2030.3083%2049.3616C39.7985%2049.3616%2047.8809%2043.2894%2050.8768%2034.8218C51.0877%2034.2235%2050.7756%2033.567%2050.1773%2033.356C49.5789%2033.1451%2048.9224%2033.4572%2048.7093%2034.0555C46.0295%2041.6342%2038.7975%2047.0668%2030.3063%2047.0668C20.0739%2047.0668%2011.6791%2039.1739%2010.8636%2029.152L10.9841%2029.3349C11.3349%2029.8623%2012.0474%2030.0043%2012.5769%2029.6535C13.1042%2029.3027%2013.2463%2028.5902%2012.8954%2028.0607L10.5988%2024.6168C10.3857%2024.2983%2010.0262%2024.1067%209.64309%2024.1067L9.64524%2024.1071ZM30.3085%2025.2543C31.5763%2025.2543%2032.6052%2026.2832%2032.6052%2027.551C32.6052%2028.8188%2031.5763%2029.8476%2030.3085%2029.8476C29.0407%2029.8476%2028.0118%2028.8188%2028.0118%2027.551C28.0118%2026.2832%2029.0407%2025.2543%2030.3085%2025.2543ZM30.3085%2032.1421C32.5793%2032.1421%2034.3895%2034.146%2034.8092%2036.7332H25.81C26.2297%2034.146%2028.0399%2032.1421%2030.3107%2032.1421H30.3085Z'%20fill='black'/%3e%3c/svg%3e",kO="/assets/Group3-BOsjilu8.svg",CO="data:image/svg+xml,%3csvg%20width='56'%20height='56'%20viewBox='0%200%2056%2056'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M28.2487%2024.2878C29.1688%2023.5205%2029.8303%2022.4884%2030.1433%2021.332C30.4563%2020.1755%2030.4056%2018.9507%2029.9982%2017.8241C29.5907%2016.6974%2028.8463%2015.7236%2027.866%2015.0348C26.8856%2014.3461%2025.717%2013.9759%2024.519%2013.9746C23.3209%2013.9733%2022.1515%2014.3409%2021.1697%2015.0275C20.1879%2015.714%2019.4412%2016.6863%2019.0313%2017.812C18.6214%2018.9378%2018.568%2020.1624%2018.8785%2021.3196C19.189%2022.4767%2019.8482%2023.5102%2020.7666%2024.2796C19.4363%2024.9605%2018.319%2025.9943%2017.5371%2027.2679C16.7551%2028.5414%2016.3386%2030.0055%2016.3333%2031.4999C16.3332%2031.6532%2016.3633%2031.8049%2016.4219%2031.9465C16.4805%2032.0881%2016.5664%2032.2168%2016.6748%2032.3251C16.7831%2032.4335%2016.9118%2032.5194%2017.0533%2032.578C17.1949%2032.6366%2017.3467%2032.6667%2017.4999%2032.6666H31.4999C31.6532%2032.6667%2031.8049%2032.6366%2031.9465%2032.578C32.0881%2032.5194%2032.2167%2032.4335%2032.3251%2032.3251C32.4334%2032.2168%2032.5194%2032.0881%2032.578%2031.9465C32.6366%2031.8049%2032.6667%2031.6532%2032.6666%2031.4999C32.6612%2030.0085%2032.2464%2028.5472%2031.4673%2027.2754C30.6883%2026.0036%2029.5749%2024.9701%2028.2487%2024.2878ZM21.0125%2019.8459C21.0115%2019.1558%2021.2144%2018.4808%2021.5959%2017.9058C21.9774%2017.3307%2022.5203%2016.8812%2023.1566%2016.6139C23.7928%2016.3465%2024.4938%2016.2732%2025.1715%2016.4032C25.8493%2016.5331%2026.4735%2016.8605%2026.9657%2017.3442C27.4579%2017.8279%2027.7962%2018.4463%2027.9379%2019.1217C28.0796%2019.7971%2028.0186%2020.4993%2027.7623%2021.14C27.5061%2021.7808%2027.0662%2022.3315%2026.4979%2022.723C25.9295%2023.1144%2025.2582%2023.3291%2024.5682%2023.3401C24.5448%2023.34%2024.5233%2023.3333%2024.4999%2023.3333C24.4808%2023.3333%2024.4633%2023.3388%2024.4442%2023.3391C23.529%2023.3212%2022.6573%2022.9456%2022.0158%2022.2926C21.3743%2021.6396%2021.0141%2020.7613%2021.0125%2019.8459ZM18.7841%2030.3333C19.0532%2029.0273%2019.7611%2027.8528%2020.7901%2027.0049C21.8191%2026.1569%2023.1073%2025.6866%2024.4406%2025.672C24.4651%2025.6723%2024.4878%2025.6792%2024.5125%2025.6792C24.5332%2025.6792%2024.5522%2025.6734%2024.5727%2025.6731C25.9036%2025.6905%2027.1886%2026.162%2028.2149%2027.0095C29.2412%2027.857%2029.9471%2029.0297%2030.2159%2030.3333H18.7841Z'%20fill='black'/%3e%3cpath%20d='M50.2949%2045.3459L40.7784%2035.8283C43.6183%2031.7513%2044.8286%2026.7588%2044.171%2021.834C43.5134%2016.9091%2041.0356%2012.409%2037.2256%209.22002C33.4155%206.03098%2028.5495%204.38418%2023.5858%204.60395C18.6222%204.82372%2013.9207%206.89413%2010.4074%2010.4074C6.89413%2013.9207%204.82372%2018.6222%204.60395%2023.5858C4.38418%2028.5495%206.03098%2033.4155%209.22002%2037.2256C12.409%2041.0356%2016.9091%2043.5134%2021.834%2044.171C26.7588%2044.8286%2031.7513%2043.6183%2035.8283%2040.7784L45.3448%2050.2949C45.6689%2050.6239%2046.0549%2050.8855%2046.4805%2051.0646C46.9061%2051.2438%2047.363%2051.3369%2047.8248%2051.3387C48.2866%2051.3404%2048.7442%2051.2508%2049.1712%2051.0749C49.5982%2050.899%2049.9862%2050.6403%2050.3127%2050.3138C50.6393%2049.9873%2050.898%2049.5994%2051.074%2049.1725C51.25%2048.7455%2051.3398%2048.288%2051.3381%2047.8262C51.3365%2047.3644%2051.2434%2046.9075%2051.0644%2046.4818C50.8854%2046.0561%2050.6239%2045.67%2050.2949%2045.3459ZM15.0562%2039.2404C11.5121%2036.9662%208.90668%2033.4906%207.71772%2029.451C6.52875%2025.4113%206.83599%2021.0785%208.58307%2017.247C10.3302%2013.4155%2013.4%2010.3423%2017.2295%208.59106C21.0591%206.83977%2025.3916%206.52778%2029.4325%207.71231C33.4735%208.89684%2036.952%2011.4985%2039.23%2015.0401C41.508%2018.5817%2042.4329%2022.8259%2041.835%2026.9942C41.2371%2031.1625%2039.1565%2034.9756%2035.9748%2037.734C32.7931%2040.4925%2028.7235%2042.0114%2024.5125%2042.0123C21.1596%2042.0162%2017.8765%2041.0539%2015.0562%2039.2404ZM48.6453%2048.6453C48.4234%2048.8581%2048.1279%2048.9769%2047.8205%2048.9769C47.5131%2048.9769%2047.2175%2048.8581%2046.9956%2048.6453L37.6654%2039.3163C38.2473%2038.7986%2038.7986%2038.2473%2039.3163%2037.6654L48.6453%2046.9968C48.7543%2047.1044%2048.8407%2047.2327%2048.8994%2047.3741C48.9581%2047.5156%2048.9879%2047.6674%2048.9872%2047.8205C48.9873%2047.9737%2048.9572%2048.1255%2048.8986%2048.267C48.8399%2048.4086%2048.7538%2048.5371%2048.6453%2048.6453Z'%20fill='black'/%3e%3c/svg%3e",DO=()=>{const{empPIData:n,IDData:r}=ne.useContext(Wn),[t,e]=ne.useState([]),[s,a]=ne.useState(0),[i,o]=ne.useState(0),[u,c]=ne.useState(0),[l,d]=ne.useState(0),p=()=>{try{const h=[...n,...r];e(h);const f=h.filter(g=>Array.isArray(g.contractType)&&g.contractType.includes("Local")).length;a(f);const b=h.filter(g=>Array.isArray(g.contractType)&&g.contractType.includes("LPA")).length;c(b);const y=h.filter(g=>Array.isArray(g.contractType)&&g.contractType.includes("SAWP")).length;d(y),o(f+b+y)}catch(h){console.error("Error calculating counts:",h.message)}};return ne.useEffect(()=>{p()},[]),m.jsx("div",{children:m.jsxs("div",{className:"grid grid-cols-4 p-4 gap-5",children:[m.jsxs(yi,{to:"/employeeDetails",className:"p-4 bg-gradient-to-r from-[#FFAAAA] to-[#EBEBEB] rounded-lg shadow-lg flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"w-1 h-16 mr-4 border rounded-md bg-[#B17A7A] border-[#B17A7A]"}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold",children:i}),m.jsx("p",{className:"text-sm font-medium",children:"Total Employees"})]})]}),m.jsx("div",{className:"flex items-center justify-center p-2",children:m.jsx("img",{src:NO,alt:"icon1"})})]}),m.jsxs("div",{className:"p-4 bg-gradient-to-r from-[#DAFFA6] to-[#EBEBEB] rounded-lg shadow-lg flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"w-1 h-16 mr-4 border rounded-md bg-[#91A672] border-[#91A672]"}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold",children:u}),m.jsx("p",{className:"text-sm font-medium",children:"LPA"})]})]}),m.jsx("div",{className:"flex items-center justify-center p-2",children:m.jsx("img",{src:AO,alt:"icon2"})})]}),m.jsxs("div",{className:"p-4 bg-gradient-to-r from-[#C9DFFF] to-[#EBEBEB] rounded-lg shadow-lg flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"w-1 h-16 mr-4 border rounded-md bg-[#687FA4] border-[#B17A7A]"}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold",children:l}),m.jsx("p",{className:"text-sm font-medium",children:"SAWP"})]})]}),m.jsx("div",{className:"flex items-center justify-center p-2",children:m.jsx("img",{src:kO,alt:"icon3"})})]}),m.jsxs("div",{className:"p-4 bg-gradient-to-r from-[#FFDFAB] to-[#EBEBEB] rounded-lg shadow-lg flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"w-1 h-16 mr-4 border rounded-md bg-[#AB8851] border-[#B17A7A]"}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold",children:s}),m.jsxs("p",{className:"text-sm font-medium",children:["BRUNEIAN / PR"," ",m.jsx("span",{className:"text-[#B17A7A] text-xs",children:"Citizen / PR"})]})]})]}),m.jsx("div",{className:"flex items-center justify-center p-2",children:m.jsx("img",{src:CO,alt:"icon4"})})]})]})})},TO=()=>m.jsx("div",{className:"flex justify-center h-full max-w-[600px]",children:m.jsxs("div",{className:"rounded-2xl shadow-md w-full h-full",children:[m.jsx("div",{className:"bg-lite_grey rounded-t-2xl font-semibold p-2",children:m.jsx("h2",{children:"Recent Notifications"})}),m.jsxs("div",{className:"flex justify-between mt-5 items-center",children:[m.jsx("div",{className:"w-[120px] p-4",children:m.jsxs("div",{className:"border border-[#DEFFFF] rounded-md p-2 bg-[#DEFFFF] text-center",children:[m.jsx("small",{children:"29"}),m.jsx("br",{}),m.jsx("small",{children:"AUGUST"})]})}),m.jsxs("div",{className:"px-2 flex flex-col w-[200px]",children:[m.jsx("small",{children:m.jsx("b",{children:"Team meeting"})}),m.jsx("br",{}),m.jsx("small",{children:"IT project Software Upgrade."})]})]}),m.jsxs("div",{className:"flex justify-between items-center mt-5",children:[m.jsx("div",{className:"w-[120px] p-4",children:m.jsxs("div",{className:"border border-[#ECF9E2] rounded-md p-2 bg-[#ECF9E2] text-center",children:[m.jsx("small",{children:"18"}),m.jsx("br",{}),m.jsx("small",{children:"SEPTEMBER"})]})}),m.jsxs("div",{className:"px-2  flex flex-col w-[200px]",children:[m.jsx("small",{children:m.jsx("b",{children:"Updated company policy"})}),m.jsx("br",{}),m.jsx("small",{children:"It is a long establishment."})]})]}),m.jsxs("div",{className:"flex justify-between items-center mt-5",children:[m.jsx("div",{className:"w-[120px] p-4",children:m.jsxs("div",{className:"border border-[#FFF3DC] rounded-md p-2 bg-[#FFF3DC] text-center",children:[m.jsx("small",{children:"22"}),m.jsx("br",{}),m.jsx("small",{children:"SEPTEMBER"})]})}),m.jsxs("div",{className:"px-2  flex flex-col w-[200px]",children:[m.jsx("small",{children:m.jsx("b",{children:"Events conduct"})}),m.jsx("br",{}),m.jsx("small",{children:"It is a long establishment."})]})]})]})}),jO=()=>{const{empPIData:n,IDData:r,workInfoData:t}=ne.useContext(Wn),[e,s]=ne.useState([]);return ne.useEffect(()=>{const a={};[...n,...r,...t].forEach(u=>{const{empID:c}=u;if(!a[c])a[c]={...u,startDates:[u.doj]};else{const l=a[c];a[c]={...l,...u,startDates:[...new Set([...l.startDates,u.doj])]}}});const o=Object.values(a).sort((u,c)=>new Date(c.doj)-new Date(u.doj)).slice(0,5);s(o)},[n,r,t]),m.jsxs("div",{className:"bg-white shadow-md rounded-2xl overflow-hidden m-2",children:[m.jsx("div",{className:"bg-lite_grey p-4",children:m.jsx("h2",{className:"text-lg font-semibold",children:"New Joinee"})}),m.jsxs("table",{className:"min-w-full bg-white",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b",children:[m.jsx("th",{className:"py-3 px-6 text-left text-sm font-medium",children:"Employee"}),m.jsx("th",{className:"py-3 px-6 text-left text-sm font-medium",children:"Country"}),m.jsx("th",{className:"py-3 px-6 text-left text-sm font-medium",children:"Position"}),m.jsx("th",{className:"py-3 px-6 text-left text-sm font-medium",children:"Start Dates"}),m.jsx("th",{className:"py-3 px-6 text-left text-sm font-medium",children:"Type"}),m.jsx("th",{className:"py-3 px-6 text-left text-sm font-medium",children:"Status"})]})}),m.jsx("tbody",{children:e.map(a=>m.jsxs("tr",{className:"border-b last:border-none text-sm",children:[m.jsxs("td",{className:"py-4 px-6 flex items-center",children:[m.jsx("img",{className:"w-10 h-10 rounded-full mr-4",src:a.profilePhoto||"/path/to/default-image.jpg",alt:a.name||"Unnamed"}),m.jsx("span",{className:"text-grey",children:a.name||"N/A"})]}),m.jsx("td",{className:"py-4 px-6 text-grey",children:a.nationality||"N/A"}),m.jsx("td",{className:"py-4 px-6 text-grey",children:a.position||"N/A"}),m.jsx("td",{className:"py-4 px-6 text-grey",children:a.doj||"N/A"}),m.jsx("td",{className:"py-4 px-6 text-grey",children:a.contractType||"N/A"}),m.jsx("td",{className:"py-4 px-6",children:m.jsx("span",{className:`rounded-full px-3 py-1 text-sm ${a.workStatus==="Active"?"text-[#14AD35] bg-[#41d441]":"text-[#ff0000] bg-[#ffcccc]"}`,children:a.workStatus||"Inactive"})})]},a.empID))})]})]})};function cr(n){const r=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&r==="[object Date]"?new n.constructor(+n):typeof n=="number"||r==="[object Number]"||typeof n=="string"||r==="[object String]"?new Date(n):new Date(NaN)}function rs(n,r){return n instanceof Date?new n.constructor(r):new Date(r)}function $f(n,r){const t=cr(n);return isNaN(r)?rs(n,NaN):(r&&t.setDate(t.getDate()+r),t)}function zc(n,r){const t=cr(n);if(isNaN(r))return rs(n,NaN);if(!r)return t;const e=t.getDate(),s=rs(n,t.getTime());s.setMonth(t.getMonth()+r+1,0);const a=s.getDate();return e>=a?s:(t.setFullYear(s.getFullYear(),s.getMonth(),e),t)}function h8(n,r){const t=+cr(n);return rs(n,t+r)}const vA=6048e5,IO=864e5,Gw=6e4,Yw=36e5,PO=1e3;function RO(n,r){return h8(n,r*Yw)}let MO={};function Xm(){return MO}function wh(n,r){var o,u,c,l;const t=Xm(),e=(r==null?void 0:r.weekStartsOn)??((u=(o=r==null?void 0:r.locale)==null?void 0:o.options)==null?void 0:u.weekStartsOn)??t.weekStartsOn??((l=(c=t.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)??0,s=cr(n),a=s.getDay(),i=(a<e?7:0)+a-e;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function Q1(n){return wh(n,{weekStartsOn:1})}function xA(n){const r=cr(n),t=r.getFullYear(),e=rs(n,0);e.setFullYear(t+1,0,4),e.setHours(0,0,0,0);const s=Q1(e),a=rs(n,0);a.setFullYear(t,0,4),a.setHours(0,0,0,0);const i=Q1(a);return r.getTime()>=s.getTime()?t+1:r.getTime()>=i.getTime()?t:t-1}function Rm(n){const r=cr(n);return r.setHours(0,0,0,0),r}function Wx(n){const r=cr(n),t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return t.setUTCFullYear(r.getFullYear()),+n-+t}function Cb(n,r){const t=Rm(n),e=Rm(r),s=+t-Wx(t),a=+e-Wx(e);return Math.round((s-a)/IO)}function OO(n){const r=xA(n),t=rs(n,0);return t.setFullYear(r,0,4),t.setHours(0,0,0,0),Q1(t)}function c_(n,r){return h8(n,r*Gw)}function f8(n,r){const t=r*3;return zc(n,t)}function LO(n,r){return h8(n,r*1e3)}function zx(n,r){const t=r*7;return $f(n,t)}function hh(n,r){return zc(n,r*12)}function zE(n){let r;return n.forEach(function(t){const e=cr(t);(r===void 0||r<e||isNaN(Number(e)))&&(r=e)}),r||new Date(NaN)}function VE(n){let r;return n.forEach(t=>{const e=cr(t);(!r||r>e||isNaN(+e))&&(r=e)}),r||new Date(NaN)}function FO(n,r){const t=Rm(n),e=Rm(r);return+t==+e}function fh(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Vx(n){if(!fh(n)&&typeof n!="number")return!1;const r=cr(n);return!isNaN(Number(r))}function $x(n,r){const t=cr(n),e=cr(r),s=t.getFullYear()-e.getFullYear(),a=t.getMonth()-e.getMonth();return s*12+a}function Nm(n){const r=cr(n);return Math.trunc(r.getMonth()/3)+1}function Gx(n,r){const t=cr(n),e=cr(r),s=t.getFullYear()-e.getFullYear(),a=Nm(t)-Nm(e);return s*4+a}function Yx(n,r){const t=cr(n),e=cr(r);return t.getFullYear()-e.getFullYear()}function wA(n){const r=cr(n);return r.setHours(23,59,59,999),r}function BO(n){const r=cr(n),t=r.getMonth();return r.setFullYear(r.getFullYear(),t+1,0),r.setHours(23,59,59,999),r}function u_(n){const r=cr(n),t=r.getMonth(),e=t-t%3;return r.setMonth(e,1),r.setHours(0,0,0,0),r}function _A(n){const r=cr(n);return r.setDate(1),r.setHours(0,0,0,0),r}function SA(n){const r=cr(n),t=r.getFullYear();return r.setFullYear(t+1,0,0),r.setHours(23,59,59,999),r}function Kw(n){const r=cr(n),t=rs(n,0);return t.setFullYear(r.getFullYear(),0,1),t.setHours(0,0,0,0),t}function UO(n,r){var o,u;const t=Xm(),e=t.weekStartsOn??((u=(o=t.locale)==null?void 0:o.options)==null?void 0:u.weekStartsOn)??0,s=cr(n),a=s.getDay(),i=(a<e?-7:0)+6-(a-e);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}const HO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qO=(n,r,t)=>{let e;const s=HO[n];return typeof s=="string"?e=s:r===1?e=s.one:e=s.other.replace("{{count}}",r.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+e:e+" ago":e};function y6(n){return(r={})=>{const t=r.width?String(r.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const WO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},VO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$O={date:y6({formats:WO,defaultWidth:"full"}),time:y6({formats:zO,defaultWidth:"full"}),dateTime:y6({formats:VO,defaultWidth:"full"})},GO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},YO=(n,r,t,e)=>GO[n];function Ig(n){return(r,t)=>{const e=t!=null&&t.context?String(t.context):"standalone";let s;if(e==="formatting"&&n.formattingValues){const i=n.defaultFormattingWidth||n.defaultWidth,o=t!=null&&t.width?String(t.width):i;s=n.formattingValues[o]||n.formattingValues[i]}else{const i=n.defaultWidth,o=t!=null&&t.width?String(t.width):n.defaultWidth;s=n.values[o]||n.values[i]}const a=n.argumentCallback?n.argumentCallback(r):r;return s[a]}}const KO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},XO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},JO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ZO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},QO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},eL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},tL=(n,r)=>{const t=Number(n),e=t%100;if(e>20||e<10)switch(e%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},rL={ordinalNumber:tL,era:Ig({values:KO,defaultWidth:"wide"}),quarter:Ig({values:XO,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Ig({values:JO,defaultWidth:"wide"}),day:Ig({values:ZO,defaultWidth:"wide"}),dayPeriod:Ig({values:QO,defaultWidth:"wide",formattingValues:eL,defaultFormattingWidth:"wide"})};function Pg(n){return(r,t={})=>{const e=t.width,s=e&&n.matchPatterns[e]||n.matchPatterns[n.defaultMatchWidth],a=r.match(s);if(!a)return null;const i=a[0],o=e&&n.parsePatterns[e]||n.parsePatterns[n.defaultParseWidth],u=Array.isArray(o)?sL(o,d=>d.test(i)):nL(o,d=>d.test(i));let c;c=n.valueCallback?n.valueCallback(u):u,c=t.valueCallback?t.valueCallback(c):c;const l=r.slice(i.length);return{value:c,rest:l}}}function nL(n,r){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&r(n[t]))return t}function sL(n,r){for(let t=0;t<n.length;t++)if(r(n[t]))return t}function aL(n){return(r,t={})=>{const e=r.match(n.matchPattern);if(!e)return null;const s=e[0],a=r.match(n.parsePattern);if(!a)return null;let i=n.valueCallback?n.valueCallback(a[0]):a[0];i=t.valueCallback?t.valueCallback(i):i;const o=r.slice(s.length);return{value:i,rest:o}}}const iL=/^(\d+)(th|st|nd|rd)?/i,oL=/\d+/i,lL={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},cL={any:[/^b/i,/^(a|c)/i]},uL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},dL={any:[/1/i,/2/i,/3/i,/4/i]},hL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},gL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yL={ordinalNumber:aL({matchPattern:iL,parsePattern:oL,valueCallback:n=>parseInt(n,10)}),era:Pg({matchPatterns:lL,defaultMatchWidth:"wide",parsePatterns:cL,defaultParseWidth:"any"}),quarter:Pg({matchPatterns:uL,defaultMatchWidth:"wide",parsePatterns:dL,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Pg({matchPatterns:hL,defaultMatchWidth:"wide",parsePatterns:fL,defaultParseWidth:"any"}),day:Pg({matchPatterns:pL,defaultMatchWidth:"wide",parsePatterns:mL,defaultParseWidth:"any"}),dayPeriod:Pg({matchPatterns:gL,defaultMatchWidth:"any",parsePatterns:bL,defaultParseWidth:"any"})},EA={code:"en-US",formatDistance:qO,formatLong:$O,formatRelative:YO,localize:rL,match:yL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vL(n){const r=cr(n);return Cb(r,Kw(r))+1}function p8(n){const r=cr(n),t=+Q1(r)-+OO(r);return Math.round(t/vA)+1}function m8(n,r){var l,d,p,h;const t=cr(n),e=t.getFullYear(),s=Xm(),a=(r==null?void 0:r.firstWeekContainsDate)??((d=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((h=(p=s.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,i=rs(n,0);i.setFullYear(e+1,0,a),i.setHours(0,0,0,0);const o=wh(i,r),u=rs(n,0);u.setFullYear(e,0,a),u.setHours(0,0,0,0);const c=wh(u,r);return t.getTime()>=o.getTime()?e+1:t.getTime()>=c.getTime()?e:e-1}function xL(n,r){var o,u,c,l;const t=Xm(),e=(r==null?void 0:r.firstWeekContainsDate)??((u=(o=r==null?void 0:r.locale)==null?void 0:o.options)==null?void 0:u.firstWeekContainsDate)??t.firstWeekContainsDate??((l=(c=t.locale)==null?void 0:c.options)==null?void 0:l.firstWeekContainsDate)??1,s=m8(n,r),a=rs(n,0);return a.setFullYear(s,0,e),a.setHours(0,0,0,0),wh(a,r)}function NA(n,r){const t=cr(n),e=+wh(t,r)-+xL(t,r);return Math.round(e/vA)+1}function es(n,r){const t=n<0?"-":"",e=Math.abs(n).toString().padStart(r,"0");return t+e}const qh={y(n,r){const t=n.getFullYear(),e=t>0?t:1-t;return es(r==="yy"?e%100:e,r.length)},M(n,r){const t=n.getMonth();return r==="M"?String(t+1):es(t+1,2)},d(n,r){return es(n.getDate(),r.length)},a(n,r){const t=n.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,r){return es(n.getHours()%12||12,r.length)},H(n,r){return es(n.getHours(),r.length)},m(n,r){return es(n.getMinutes(),r.length)},s(n,r){return es(n.getSeconds(),r.length)},S(n,r){const t=r.length,e=n.getMilliseconds(),s=Math.trunc(e*Math.pow(10,t-3));return es(s,r.length)}},D0={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$E={G:function(n,r,t){const e=n.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return t.era(e,{width:"abbreviated"});case"GGGGG":return t.era(e,{width:"narrow"});case"GGGG":default:return t.era(e,{width:"wide"})}},y:function(n,r,t){if(r==="yo"){const e=n.getFullYear(),s=e>0?e:1-e;return t.ordinalNumber(s,{unit:"year"})}return qh.y(n,r)},Y:function(n,r,t,e){const s=m8(n,e),a=s>0?s:1-s;if(r==="YY"){const i=a%100;return es(i,2)}return r==="Yo"?t.ordinalNumber(a,{unit:"year"}):es(a,r.length)},R:function(n,r){const t=xA(n);return es(t,r.length)},u:function(n,r){const t=n.getFullYear();return es(t,r.length)},Q:function(n,r,t){const e=Math.ceil((n.getMonth()+1)/3);switch(r){case"Q":return String(e);case"QQ":return es(e,2);case"Qo":return t.ordinalNumber(e,{unit:"quarter"});case"QQQ":return t.quarter(e,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(e,{width:"wide",context:"formatting"})}},q:function(n,r,t){const e=Math.ceil((n.getMonth()+1)/3);switch(r){case"q":return String(e);case"qq":return es(e,2);case"qo":return t.ordinalNumber(e,{unit:"quarter"});case"qqq":return t.quarter(e,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(e,{width:"wide",context:"standalone"})}},M:function(n,r,t){const e=n.getMonth();switch(r){case"M":case"MM":return qh.M(n,r);case"Mo":return t.ordinalNumber(e+1,{unit:"month"});case"MMM":return t.month(e,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(e,{width:"wide",context:"formatting"})}},L:function(n,r,t){const e=n.getMonth();switch(r){case"L":return String(e+1);case"LL":return es(e+1,2);case"Lo":return t.ordinalNumber(e+1,{unit:"month"});case"LLL":return t.month(e,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(e,{width:"wide",context:"standalone"})}},w:function(n,r,t,e){const s=NA(n,e);return r==="wo"?t.ordinalNumber(s,{unit:"week"}):es(s,r.length)},I:function(n,r,t){const e=p8(n);return r==="Io"?t.ordinalNumber(e,{unit:"week"}):es(e,r.length)},d:function(n,r,t){return r==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):qh.d(n,r)},D:function(n,r,t){const e=vL(n);return r==="Do"?t.ordinalNumber(e,{unit:"dayOfYear"}):es(e,r.length)},E:function(n,r,t){const e=n.getDay();switch(r){case"E":case"EE":case"EEE":return t.day(e,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(e,{width:"short",context:"formatting"});case"EEEE":default:return t.day(e,{width:"wide",context:"formatting"})}},e:function(n,r,t,e){const s=n.getDay(),a=(s-e.weekStartsOn+8)%7||7;switch(r){case"e":return String(a);case"ee":return es(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(n,r,t,e){const s=n.getDay(),a=(s-e.weekStartsOn+8)%7||7;switch(r){case"c":return String(a);case"cc":return es(a,r.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(n,r,t){const e=n.getDay(),s=e===0?7:e;switch(r){case"i":return String(s);case"ii":return es(s,r.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(e,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(e,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(e,{width:"short",context:"formatting"});case"iiii":default:return t.day(e,{width:"wide",context:"formatting"})}},a:function(n,r,t){const s=n.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,r,t){const e=n.getHours();let s;switch(e===12?s=D0.noon:e===0?s=D0.midnight:s=e/12>=1?"pm":"am",r){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,r,t){const e=n.getHours();let s;switch(e>=17?s=D0.evening:e>=12?s=D0.afternoon:e>=4?s=D0.morning:s=D0.night,r){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,r,t){if(r==="ho"){let e=n.getHours()%12;return e===0&&(e=12),t.ordinalNumber(e,{unit:"hour"})}return qh.h(n,r)},H:function(n,r,t){return r==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):qh.H(n,r)},K:function(n,r,t){const e=n.getHours()%12;return r==="Ko"?t.ordinalNumber(e,{unit:"hour"}):es(e,r.length)},k:function(n,r,t){let e=n.getHours();return e===0&&(e=24),r==="ko"?t.ordinalNumber(e,{unit:"hour"}):es(e,r.length)},m:function(n,r,t){return r==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):qh.m(n,r)},s:function(n,r,t){return r==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):qh.s(n,r)},S:function(n,r){return qh.S(n,r)},X:function(n,r,t){const e=n.getTimezoneOffset();if(e===0)return"Z";switch(r){case"X":return YE(e);case"XXXX":case"XX":return yp(e);case"XXXXX":case"XXX":default:return yp(e,":")}},x:function(n,r,t){const e=n.getTimezoneOffset();switch(r){case"x":return YE(e);case"xxxx":case"xx":return yp(e);case"xxxxx":case"xxx":default:return yp(e,":")}},O:function(n,r,t){const e=n.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+GE(e,":");case"OOOO":default:return"GMT"+yp(e,":")}},z:function(n,r,t){const e=n.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+GE(e,":");case"zzzz":default:return"GMT"+yp(e,":")}},t:function(n,r,t){const e=Math.trunc(n.getTime()/1e3);return es(e,r.length)},T:function(n,r,t){const e=n.getTime();return es(e,r.length)}};function GE(n,r=""){const t=n>0?"-":"+",e=Math.abs(n),s=Math.trunc(e/60),a=e%60;return a===0?t+String(s):t+String(s)+r+es(a,2)}function YE(n,r){return n%60===0?(n>0?"-":"+")+es(Math.abs(n)/60,2):yp(n,r)}function yp(n,r=""){const t=n>0?"-":"+",e=Math.abs(n),s=es(Math.trunc(e/60),2),a=es(e%60,2);return t+s+r+a}const KE=(n,r)=>{switch(n){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},AA=(n,r)=>{switch(n){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},wL=(n,r)=>{const t=n.match(/(P+)(p+)?/)||[],e=t[1],s=t[2];if(!s)return KE(n,r);let a;switch(e){case"P":a=r.dateTime({width:"short"});break;case"PP":a=r.dateTime({width:"medium"});break;case"PPP":a=r.dateTime({width:"long"});break;case"PPPP":default:a=r.dateTime({width:"full"});break}return a.replace("{{date}}",KE(e,r)).replace("{{time}}",AA(s,r))},Kx={p:AA,P:wL},_L=/^D+$/,SL=/^Y+$/,EL=["D","DD","YY","YYYY"];function kA(n){return _L.test(n)}function CA(n){return SL.test(n)}function d_(n,r,t){const e=NL(n,r,t);if(console.warn(e),EL.includes(n))throw new RangeError(e)}function NL(n,r,t){const e=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${r}\`) for formatting ${e} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const AL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,CL=/^'([^]*?)'?$/,DL=/''/g,TL=/[a-zA-Z]/;function W0(n,r,t){var l,d,p,h,f,b,y,g;const e=Xm(),s=(t==null?void 0:t.locale)??e.locale??EA,a=(t==null?void 0:t.firstWeekContainsDate)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)??e.firstWeekContainsDate??((h=(p=e.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??1,i=(t==null?void 0:t.weekStartsOn)??((b=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:b.weekStartsOn)??e.weekStartsOn??((g=(y=e.locale)==null?void 0:y.options)==null?void 0:g.weekStartsOn)??0,o=cr(n);if(!Vx(o))throw new RangeError("Invalid time value");let u=r.match(kL).map(x=>{const v=x[0];if(v==="p"||v==="P"){const w=Kx[v];return w(x,s.formatLong)}return x}).join("").match(AL).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const v=x[0];if(v==="'")return{isToken:!1,value:jL(x)};if($E[v])return{isToken:!0,value:x};if(v.match(TL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(u=s.localize.preprocessor(o,u));const c={firstWeekContainsDate:a,weekStartsOn:i,locale:s};return u.map(x=>{if(!x.isToken)return x.value;const v=x.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&CA(v)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&kA(v))&&d_(v,r,String(n));const w=$E[v[0]];return w(o,v,s.localize,c)}).join("")}function jL(n){const r=n.match(CL);return r?r[1].replace(DL,"'"):n}function XE(n){return cr(n).getDate()}function IL(n){return cr(n).getDay()}function PL(n){const r=cr(n),t=r.getFullYear(),e=r.getMonth(),s=rs(n,0);return s.setFullYear(t,e+1,0),s.setHours(0,0,0,0),s.getDate()}function RL(){return Object.assign({},Xm())}function qu(n){return cr(n).getHours()}function ML(n){let t=cr(n).getDay();return t===0&&(t=7),t}function Wu(n){return cr(n).getMinutes()}function ho(n){return cr(n).getMonth()}function ph(n){return cr(n).getSeconds()}function h_(n){return cr(n).getTime()}function un(n){return cr(n).getFullYear()}function If(n,r){const t=cr(n),e=cr(r);return t.getTime()>e.getTime()}function Mm(n,r){const t=cr(n),e=cr(r);return+t<+e}function OL(n,r){const t=cr(n),e=cr(r);return+t==+e}function LL(n,r){const t=r instanceof Date?rs(r,0):new r(0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}const FL=10;class DA{constructor(){Ot(this,"subPriority",0)}validate(r,t){return!0}}class BL extends DA{constructor(r,t,e,s,a){super(),this.value=r,this.validateValue=t,this.setValue=e,this.priority=s,a&&(this.subPriority=a)}validate(r,t){return this.validateValue(r,this.value,t)}set(r,t,e){return this.setValue(r,t,this.value,e)}}class UL extends DA{constructor(){super(...arguments);Ot(this,"priority",FL);Ot(this,"subPriority",-1)}set(t,e){return e.timestampIsSet?t:rs(t,LL(t,Date))}}class zn{run(r,t,e,s){const a=this.parse(r,t,e,s);return a?{setter:new BL(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(r,t,e){return!0}}class HL extends zn{constructor(){super(...arguments);Ot(this,"priority",140);Ot(this,"incompatibleTokens",["R","u","t","T"])}parse(t,e,s){switch(e){case"G":case"GG":case"GGG":return s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"});case"GGGGG":return s.era(t,{width:"narrow"});case"GGGG":default:return s.era(t,{width:"wide"})||s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"})}}set(t,e,s){return e.era=s,t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}const ga={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Fu={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ba(n,r){return n&&{value:r(n.value),rest:n.rest}}function zs(n,r){const t=r.match(n);return t?{value:parseInt(t[0],10),rest:r.slice(t[0].length)}:null}function Bu(n,r){const t=r.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:r.slice(1)};const e=t[1]==="+"?1:-1,s=t[2]?parseInt(t[2],10):0,a=t[3]?parseInt(t[3],10):0,i=t[5]?parseInt(t[5],10):0;return{value:e*(s*Yw+a*Gw+i*PO),rest:r.slice(t[0].length)}}function TA(n){return zs(ga.anyDigitsSigned,n)}function ta(n,r){switch(n){case 1:return zs(ga.singleDigit,r);case 2:return zs(ga.twoDigits,r);case 3:return zs(ga.threeDigits,r);case 4:return zs(ga.fourDigits,r);default:return zs(new RegExp("^\\d{1,"+n+"}"),r)}}function Xx(n,r){switch(n){case 1:return zs(ga.singleDigitSigned,r);case 2:return zs(ga.twoDigitsSigned,r);case 3:return zs(ga.threeDigitsSigned,r);case 4:return zs(ga.fourDigitsSigned,r);default:return zs(new RegExp("^-?\\d{1,"+n+"}"),r)}}function g8(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function jA(n,r){const t=r>0,e=t?r:1-r;let s;if(e<=50)s=n||100;else{const a=e+50,i=Math.trunc(a/100)*100,o=n>=a%100;s=n+i-(o?100:0)}return t?s:1-s}function IA(n){return n%400===0||n%4===0&&n%100!==0}class qL extends zn{constructor(){super(...arguments);Ot(this,"priority",130);Ot(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,e,s){const a=i=>({year:i,isTwoDigitYear:e==="yy"});switch(e){case"y":return ba(ta(4,t),a);case"yo":return ba(s.ordinalNumber(t,{unit:"year"}),a);default:return ba(ta(e.length,t),a)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,s){const a=t.getFullYear();if(s.isTwoDigitYear){const o=jA(s.year,a);return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}const i=!("era"in e)||e.era===1?s.year:1-s.year;return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class WL extends zn{constructor(){super(...arguments);Ot(this,"priority",130);Ot(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,e,s){const a=i=>({year:i,isTwoDigitYear:e==="YY"});switch(e){case"Y":return ba(ta(4,t),a);case"Yo":return ba(s.ordinalNumber(t,{unit:"year"}),a);default:return ba(ta(e.length,t),a)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,s,a){const i=m8(t,a);if(s.isTwoDigitYear){const u=jA(s.year,i);return t.setFullYear(u,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),wh(t,a)}const o=!("era"in e)||e.era===1?s.year:1-s.year;return t.setFullYear(o,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),wh(t,a)}}class zL extends zn{constructor(){super(...arguments);Ot(this,"priority",130);Ot(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,e){return Xx(e==="R"?4:e.length,t)}set(t,e,s){const a=rs(t,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),Q1(a)}}class VL extends zn{constructor(){super(...arguments);Ot(this,"priority",130);Ot(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,e){return Xx(e==="u"?4:e.length,t)}set(t,e,s){return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class $L extends zn{constructor(){super(...arguments);Ot(this,"priority",120);Ot(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,e,s){switch(e){case"Q":case"QQ":return ta(e.length,t);case"Qo":return s.ordinalNumber(t,{unit:"quarter"});case"QQQ":return s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(t,{width:"wide",context:"formatting"})||s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=1&&e<=4}set(t,e,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class GL extends zn{constructor(){super(...arguments);Ot(this,"priority",120);Ot(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,e,s){switch(e){case"q":case"qq":return ta(e.length,t);case"qo":return s.ordinalNumber(t,{unit:"quarter"});case"qqq":return s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(t,{width:"wide",context:"standalone"})||s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=1&&e<=4}set(t,e,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class YL extends zn{constructor(){super(...arguments);Ot(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ot(this,"priority",110)}parse(t,e,s){const a=i=>i-1;switch(e){case"M":return ba(zs(ga.month,t),a);case"MM":return ba(ta(2,t),a);case"Mo":return ba(s.ordinalNumber(t,{unit:"month"}),a);case"MMM":return s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(t,{width:"wide",context:"formatting"})||s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=11}set(t,e,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}class KL extends zn{constructor(){super(...arguments);Ot(this,"priority",110);Ot(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,e,s){const a=i=>i-1;switch(e){case"L":return ba(zs(ga.month,t),a);case"LL":return ba(ta(2,t),a);case"Lo":return ba(s.ordinalNumber(t,{unit:"month"}),a);case"LLL":return s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(t,{width:"wide",context:"standalone"})||s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=11}set(t,e,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}function XL(n,r,t){const e=cr(n),s=NA(e,t)-r;return e.setDate(e.getDate()-s*7),e}class JL extends zn{constructor(){super(...arguments);Ot(this,"priority",100);Ot(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,e,s){switch(e){case"w":return zs(ga.week,t);case"wo":return s.ordinalNumber(t,{unit:"week"});default:return ta(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,s,a){return wh(XL(t,s,a),a)}}function ZL(n,r){const t=cr(n),e=p8(t)-r;return t.setDate(t.getDate()-e*7),t}class QL extends zn{constructor(){super(...arguments);Ot(this,"priority",100);Ot(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,e,s){switch(e){case"I":return zs(ga.week,t);case"Io":return s.ordinalNumber(t,{unit:"week"});default:return ta(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,s){return Q1(ZL(t,s))}}const eF=[31,28,31,30,31,30,31,31,30,31,30,31],tF=[31,29,31,30,31,30,31,31,30,31,30,31];class rF extends zn{constructor(){super(...arguments);Ot(this,"priority",90);Ot(this,"subPriority",1);Ot(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,e,s){switch(e){case"d":return zs(ga.date,t);case"do":return s.ordinalNumber(t,{unit:"date"});default:return ta(e.length,t)}}validate(t,e){const s=t.getFullYear(),a=IA(s),i=t.getMonth();return a?e>=1&&e<=tF[i]:e>=1&&e<=eF[i]}set(t,e,s){return t.setDate(s),t.setHours(0,0,0,0),t}}class nF extends zn{constructor(){super(...arguments);Ot(this,"priority",90);Ot(this,"subpriority",1);Ot(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,e,s){switch(e){case"D":case"DD":return zs(ga.dayOfYear,t);case"Do":return s.ordinalNumber(t,{unit:"date"});default:return ta(e.length,t)}}validate(t,e){const s=t.getFullYear();return IA(s)?e>=1&&e<=366:e>=1&&e<=365}set(t,e,s){return t.setMonth(0,s),t.setHours(0,0,0,0),t}}function b8(n,r,t){var d,p,h,f;const e=Xm(),s=(t==null?void 0:t.weekStartsOn)??((p=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??e.weekStartsOn??((f=(h=e.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??0,a=cr(n),i=a.getDay(),u=(r%7+7)%7,c=7-s,l=r<0||r>6?r-(i+c)%7:(u+c)%7-(i+c)%7;return $f(a,l)}class sF extends zn{constructor(){super(...arguments);Ot(this,"priority",90);Ot(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,e,s){switch(e){case"E":case"EE":case"EEE":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,s,a){return t=b8(t,s,a),t.setHours(0,0,0,0),t}}class aF extends zn{constructor(){super(...arguments);Ot(this,"priority",90);Ot(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,e,s,a){const i=o=>{const u=Math.floor((o-1)/7)*7;return(o+a.weekStartsOn+6)%7+u};switch(e){case"e":case"ee":return ba(ta(e.length,t),i);case"eo":return ba(s.ordinalNumber(t,{unit:"day"}),i);case"eee":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeeee":return s.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,s,a){return t=b8(t,s,a),t.setHours(0,0,0,0),t}}class iF extends zn{constructor(){super(...arguments);Ot(this,"priority",90);Ot(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,e,s,a){const i=o=>{const u=Math.floor((o-1)/7)*7;return(o+a.weekStartsOn+6)%7+u};switch(e){case"c":case"cc":return ba(ta(e.length,t),i);case"co":return ba(s.ordinalNumber(t,{unit:"day"}),i);case"ccc":return s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"ccccc":return s.day(t,{width:"narrow",context:"standalone"});case"cccccc":return s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(t,{width:"wide",context:"standalone"})||s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=6}set(t,e,s,a){return t=b8(t,s,a),t.setHours(0,0,0,0),t}}function oF(n,r){const t=cr(n),e=ML(t),s=r-e;return $f(t,s)}class lF extends zn{constructor(){super(...arguments);Ot(this,"priority",90);Ot(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,e,s){const a=i=>i===0?7:i;switch(e){case"i":case"ii":return ta(e.length,t);case"io":return s.ordinalNumber(t,{unit:"day"});case"iii":return ba(s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return ba(s.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return ba(s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),a);case"iiii":default:return ba(s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,e){return e>=1&&e<=7}set(t,e,s){return t=oF(t,s),t.setHours(0,0,0,0),t}}class cF extends zn{constructor(){super(...arguments);Ot(this,"priority",80);Ot(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,e,s){switch(e){case"a":case"aa":case"aaa":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,s){return t.setHours(g8(s),0,0,0),t}}class uF extends zn{constructor(){super(...arguments);Ot(this,"priority",80);Ot(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,e,s){switch(e){case"b":case"bb":case"bbb":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,s){return t.setHours(g8(s),0,0,0),t}}class dF extends zn{constructor(){super(...arguments);Ot(this,"priority",80);Ot(this,"incompatibleTokens",["a","b","t","T"])}parse(t,e,s){switch(e){case"B":case"BB":case"BBB":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,s){return t.setHours(g8(s),0,0,0),t}}class hF extends zn{constructor(){super(...arguments);Ot(this,"priority",70);Ot(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,e,s){switch(e){case"h":return zs(ga.hour12h,t);case"ho":return s.ordinalNumber(t,{unit:"hour"});default:return ta(e.length,t)}}validate(t,e){return e>=1&&e<=12}set(t,e,s){const a=t.getHours()>=12;return a&&s<12?t.setHours(s+12,0,0,0):!a&&s===12?t.setHours(0,0,0,0):t.setHours(s,0,0,0),t}}class fF extends zn{constructor(){super(...arguments);Ot(this,"priority",70);Ot(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,e,s){switch(e){case"H":return zs(ga.hour23h,t);case"Ho":return s.ordinalNumber(t,{unit:"hour"});default:return ta(e.length,t)}}validate(t,e){return e>=0&&e<=23}set(t,e,s){return t.setHours(s,0,0,0),t}}class pF extends zn{constructor(){super(...arguments);Ot(this,"priority",70);Ot(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,e,s){switch(e){case"K":return zs(ga.hour11h,t);case"Ko":return s.ordinalNumber(t,{unit:"hour"});default:return ta(e.length,t)}}validate(t,e){return e>=0&&e<=11}set(t,e,s){return t.getHours()>=12&&s<12?t.setHours(s+12,0,0,0):t.setHours(s,0,0,0),t}}class mF extends zn{constructor(){super(...arguments);Ot(this,"priority",70);Ot(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,e,s){switch(e){case"k":return zs(ga.hour24h,t);case"ko":return s.ordinalNumber(t,{unit:"hour"});default:return ta(e.length,t)}}validate(t,e){return e>=1&&e<=24}set(t,e,s){const a=s<=24?s%24:s;return t.setHours(a,0,0,0),t}}class gF extends zn{constructor(){super(...arguments);Ot(this,"priority",60);Ot(this,"incompatibleTokens",["t","T"])}parse(t,e,s){switch(e){case"m":return zs(ga.minute,t);case"mo":return s.ordinalNumber(t,{unit:"minute"});default:return ta(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,s){return t.setMinutes(s,0,0),t}}class bF extends zn{constructor(){super(...arguments);Ot(this,"priority",50);Ot(this,"incompatibleTokens",["t","T"])}parse(t,e,s){switch(e){case"s":return zs(ga.second,t);case"so":return s.ordinalNumber(t,{unit:"second"});default:return ta(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,s){return t.setSeconds(s,0),t}}class yF extends zn{constructor(){super(...arguments);Ot(this,"priority",30);Ot(this,"incompatibleTokens",["t","T"])}parse(t,e){const s=a=>Math.trunc(a*Math.pow(10,-e.length+3));return ba(ta(e.length,t),s)}set(t,e,s){return t.setMilliseconds(s),t}}class vF extends zn{constructor(){super(...arguments);Ot(this,"priority",10);Ot(this,"incompatibleTokens",["t","T","x"])}parse(t,e){switch(e){case"X":return Bu(Fu.basicOptionalMinutes,t);case"XX":return Bu(Fu.basic,t);case"XXXX":return Bu(Fu.basicOptionalSeconds,t);case"XXXXX":return Bu(Fu.extendedOptionalSeconds,t);case"XXX":default:return Bu(Fu.extended,t)}}set(t,e,s){return e.timestampIsSet?t:rs(t,t.getTime()-Wx(t)-s)}}class xF extends zn{constructor(){super(...arguments);Ot(this,"priority",10);Ot(this,"incompatibleTokens",["t","T","X"])}parse(t,e){switch(e){case"x":return Bu(Fu.basicOptionalMinutes,t);case"xx":return Bu(Fu.basic,t);case"xxxx":return Bu(Fu.basicOptionalSeconds,t);case"xxxxx":return Bu(Fu.extendedOptionalSeconds,t);case"xxx":default:return Bu(Fu.extended,t)}}set(t,e,s){return e.timestampIsSet?t:rs(t,t.getTime()-Wx(t)-s)}}class wF extends zn{constructor(){super(...arguments);Ot(this,"priority",40);Ot(this,"incompatibleTokens","*")}parse(t){return TA(t)}set(t,e,s){return[rs(t,s*1e3),{timestampIsSet:!0}]}}class _F extends zn{constructor(){super(...arguments);Ot(this,"priority",20);Ot(this,"incompatibleTokens","*")}parse(t){return TA(t)}set(t,e,s){return[rs(t,s),{timestampIsSet:!0}]}}const SF={G:new HL,y:new qL,Y:new WL,R:new zL,u:new VL,Q:new $L,q:new GL,M:new YL,L:new KL,w:new JL,I:new QL,d:new rF,D:new nF,E:new sF,e:new aF,c:new iF,i:new lF,a:new cF,b:new uF,B:new dF,h:new hF,H:new fF,K:new pF,k:new mF,m:new gF,s:new bF,S:new yF,X:new vF,x:new xF,t:new wF,T:new _F},EF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,NF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,AF=/^'([^]*?)'?$/,kF=/''/g,CF=/\S/,DF=/[a-zA-Z]/;function v6(n,r,t,e){var b,y,g,x,v,w,S,D;const s=RL(),a=(e==null?void 0:e.locale)??s.locale??EA,i=(e==null?void 0:e.firstWeekContainsDate)??((y=(b=e==null?void 0:e.locale)==null?void 0:b.options)==null?void 0:y.firstWeekContainsDate)??s.firstWeekContainsDate??((x=(g=s.locale)==null?void 0:g.options)==null?void 0:x.firstWeekContainsDate)??1,o=(e==null?void 0:e.weekStartsOn)??((w=(v=e==null?void 0:e.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??s.weekStartsOn??((D=(S=s.locale)==null?void 0:S.options)==null?void 0:D.weekStartsOn)??0;if(r==="")return n===""?cr(t):rs(t,NaN);const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a},c=[new UL],l=r.match(NF).map(T=>{const R=T[0];if(R in Kx){const P=Kx[R];return P(T,a.formatLong)}return T}).join("").match(EF),d=[];for(let T of l){!(e!=null&&e.useAdditionalWeekYearTokens)&&CA(T)&&d_(T,r,n),!(e!=null&&e.useAdditionalDayOfYearTokens)&&kA(T)&&d_(T,r,n);const R=T[0],P=SF[R];if(P){const{incompatibleTokens:L}=P;if(Array.isArray(L)){const H=d.find(U=>L.includes(U.token)||U.token===R);if(H)throw new RangeError(`The format string mustn't contain \`${H.fullToken}\` and \`${T}\` at the same time`)}else if(P.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${T}\` and any other token at the same time`);d.push({token:R,fullToken:T});const O=P.run(n,T,a.match,u);if(!O)return rs(t,NaN);c.push(O.setter),n=O.rest}else{if(R.match(DF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");if(T==="''"?T="'":R==="'"&&(T=TF(T)),n.indexOf(T)===0)n=n.slice(T.length);else return rs(t,NaN)}}if(n.length>0&&CF.test(n))return rs(t,NaN);const p=c.map(T=>T.priority).sort((T,R)=>R-T).filter((T,R,P)=>P.indexOf(T)===R).map(T=>c.filter(R=>R.priority===T).sort((R,P)=>P.subPriority-R.subPriority)).map(T=>T[0]);let h=cr(t);if(isNaN(h.getTime()))return rs(t,NaN);const f={};for(const T of p){if(!T.validate(h,u))return rs(t,NaN);const R=T.set(h,f,u);Array.isArray(R)?(h=R[0],Object.assign(f,R[1])):h=R}return rs(t,h)}function TF(n){return n.match(AF)[1].replace(kF,"'")}function jF(n,r){const t=cr(n),e=cr(r);return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()}function IF(n,r){const t=u_(n),e=u_(r);return+t==+e}function PF(n,r){const t=cr(n),e=cr(r);return t.getFullYear()===e.getFullYear()}function Db(n,r){const t=+cr(n),[e,s]=[+cr(r.start),+cr(r.end)].sort((a,i)=>a-i);return t>=e&&t<=s}function RF(n,r){return $f(n,-r)}function MF(n,r){const e=BF(n);let s;if(e.date){const u=UF(e.date,2);s=HF(u.restDateString,u.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const a=s.getTime();let i=0,o;if(e.time&&(i=qF(e.time),isNaN(i)))return new Date(NaN);if(e.timezone){if(o=WF(e.timezone),isNaN(o))return new Date(NaN)}else{const u=new Date(a+i),c=new Date(0);return c.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),c.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),c}return new Date(a+i+o)}const R2={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},OF=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,LF=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,FF=/^([+-])(\d{2})(?::?(\d{2}))?$/;function BF(n){const r={},t=n.split(R2.dateTimeDelimiter);let e;if(t.length>2)return r;if(/:/.test(t[0])?e=t[0]:(r.date=t[0],e=t[1],R2.timeZoneDelimiter.test(r.date)&&(r.date=n.split(R2.timeZoneDelimiter)[0],e=n.substr(r.date.length,n.length))),e){const s=R2.timezone.exec(e);s?(r.time=e.replace(s[1],""),r.timezone=s[1]):r.time=e}return r}function UF(n,r){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),e=n.match(t);if(!e)return{year:NaN,restDateString:""};const s=e[1]?parseInt(e[1]):null,a=e[2]?parseInt(e[2]):null;return{year:a===null?s:a*100,restDateString:n.slice((e[1]||e[2]).length)}}function HF(n,r){if(r===null)return new Date(NaN);const t=n.match(OF);if(!t)return new Date(NaN);const e=!!t[4],s=Rg(t[1]),a=Rg(t[2])-1,i=Rg(t[3]),o=Rg(t[4]),u=Rg(t[5])-1;if(e)return YF(r,o,u)?zF(r,o,u):new Date(NaN);{const c=new Date(0);return!$F(r,a,i)||!GF(r,s)?new Date(NaN):(c.setUTCFullYear(r,a,Math.max(s,i)),c)}}function Rg(n){return n?parseInt(n):1}function qF(n){const r=n.match(LF);if(!r)return NaN;const t=x6(r[1]),e=x6(r[2]),s=x6(r[3]);return KF(t,e,s)?t*Yw+e*Gw+s*1e3:NaN}function x6(n){return n&&parseFloat(n.replace(",","."))||0}function WF(n){if(n==="Z")return 0;const r=n.match(FF);if(!r)return 0;const t=r[1]==="+"?-1:1,e=parseInt(r[2]),s=r[3]&&parseInt(r[3])||0;return XF(e,s)?t*(e*Yw+s*Gw):NaN}function zF(n,r,t){const e=new Date(0);e.setUTCFullYear(n,0,4);const s=e.getUTCDay()||7,a=(r-1)*7+t+1-s;return e.setUTCDate(e.getUTCDate()+a),e}const VF=[31,null,31,30,31,30,31,31,30,31,30,31];function PA(n){return n%400===0||n%4===0&&n%100!==0}function $F(n,r,t){return r>=0&&r<=11&&t>=1&&t<=(VF[r]||(PA(n)?29:28))}function GF(n,r){return r>=1&&r<=(PA(n)?366:365)}function YF(n,r,t){return r>=1&&r<=53&&t>=0&&t<=6}function KF(n,r,t){return n===24?r===0&&t===0:t>=0&&t<60&&r>=0&&r<60&&n>=0&&n<25}function XF(n,r){return r>=0&&r<=59}function hl(n,r){const t=cr(n),e=t.getFullYear(),s=t.getDate(),a=rs(n,0);a.setFullYear(e,r,15),a.setHours(0,0,0,0);const i=PL(a);return t.setMonth(r,Math.min(s,i)),t}function JF(n,r){let t=cr(n);return isNaN(+t)?rs(n,NaN):(r.year!=null&&t.setFullYear(r.year),r.month!=null&&(t=hl(t,r.month)),r.date!=null&&t.setDate(r.date),r.hours!=null&&t.setHours(r.hours),r.minutes!=null&&t.setMinutes(r.minutes),r.seconds!=null&&t.setSeconds(r.seconds),r.milliseconds!=null&&t.setMilliseconds(r.milliseconds),t)}function ox(n,r){const t=cr(n);return t.setHours(r),t}function lx(n,r){const t=cr(n);return t.setMinutes(r),t}function P0(n,r){const t=cr(n),e=Math.trunc(t.getMonth()/3)+1,s=r-e;return hl(t,t.getMonth()+s*3)}function cx(n,r){const t=cr(n);return t.setSeconds(r),t}function vu(n,r){const t=cr(n);return isNaN(+t)?rs(n,NaN):(t.setFullYear(r),t)}function eg(n,r){return zc(n,-r)}function RA(n,r){return f8(n,-r)}function JE(n,r){return zx(n,-r)}function tg(n,r){return hh(n,-r)}const ZF=()=>{const{empPIData:n}=ne.useContext(Wn),[r,t]=ne.useState([]),[e,s]=ne.useState(!1),a=i=>{const o=W0(new Date,"MM-dd");return i.filter(u=>{if(!u.dob)return!1;const c=new Date(u.dob);return isNaN(c)?(console.error("Invalid date:",u.dob,"for",u.name),!1):W0(c,"MM-dd")===o})};return ne.useEffect(()=>{if(n){const i=a(n);t(i)}},[n]),m.jsxs("div",{className:"max-w-md w-full shadow-md rounded-2xl h-full bg-white",children:[m.jsx("div",{className:"bg-lite_grey p-4 rounded-t-2xl",children:m.jsx("h2",{className:"text-lg font-semibold",children:"Birthday Reminder"})}),m.jsxs("div",{className:"p-4",children:[m.jsx("h3",{className:"text-lg font-medium",children:"Today's Birthday"}),m.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-5",children:[r.slice(0,2).map((i,o)=>m.jsxs("div",{className:"flex items-center space-x-3 bg-[#F5F7FB] p-2 rounded-md shadow-sm",children:[m.jsx("p",{className:"w-10 h-10 text-[50px] rounded-full center",children:m.jsx(FE,{})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[14px] font-semibold",children:i.name}),m.jsx("p",{className:"text-[10px] text-grey",children:i.message||"Happy Birthday!"}),m.jsx("p",{className:"text-[10px] text-grey",children:W0(new Date(i.dob),"MMMM dd")})]})]},o)),r.length>2&&m.jsx("button",{onClick:()=>s(!0),className:"text-[green] underline mt-4",children:"View More"})]})]}),e&&m.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:m.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[m.jsx("h2",{className:"text-lg font-semibold mb-4",children:"All Birthdays Today"}),r.map((i,o)=>m.jsxs("div",{className:"flex items-center space-x-3 bg-[#F5F7FB] p-2 rounded-md shadow-sm mb-2",children:[m.jsx("p",{className:"w-10 h-10 text-[50px] rounded-full center",children:m.jsx(FE,{})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[14px] font-semibold",children:i.name}),m.jsx("p",{className:"text-[10px] text-grey",children:i.message||"Happy Birthday!"}),m.jsx("p",{className:"text-[10px] text-grey",children:W0(new Date(i.dob),"MMMM dd")})]})]},o)),m.jsx("div",{className:"center",children:m.jsx("button",{onClick:()=>s(!1),className:"primary_btn mt-4",children:"Close"})})]})})]})},QF=()=>m.jsxs("div",{className:"flex justify-center items-center w-full space-x-10 bg-white p-7 rounded-2xl shadow-lg",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("h3",{className:"text-lg font-semibold",children:"Active users"}),m.jsx("div",{className:"relative w-40 h-2 bg-grey rounded-full overflow-hidden my-2",children:m.jsx("div",{className:"absolute h-full bg-[#32d432]",style:{width:"88%"}})}),m.jsxs("p",{className:"font-medium",children:[88," user"]})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("h3",{className:"text-lg font-semibold",children:"Inactive users"}),m.jsx("div",{className:"relative w-40 h-2 bg-grey rounded-full overflow-hidden my-2",children:m.jsx("div",{className:"absolute h-full bg-yellow",style:{width:"12%"}})}),m.jsxs("p",{className:"font-medium",children:[12," user"]})]})]}),y8=(n,r)=>{const[t,e]=ne.useState([]),{userData:s}=ne.useContext(Wn);return ne.useEffect(()=>{var o;const a=(o=localStorage.getItem(n))==null?void 0:o.toUpperCase(),i=s.find(u=>u.empID===a);i&&Array.isArray(i.setPermissions)&&i.setPermissions.forEach(u=>{const c=eB(u);c&&c[r]&&e(c[r])})},[n,r,s]),t};function eB(n){if(!n)return null;let r=n==null?void 0:n.replace(/=/g,":");r=r==null?void 0:r.replace(/([a-zA-Z]+):/g,'"$1":'),r=r==null?void 0:r.replace(/\[([^\]]+)\]/g,(t,e)=>`[${e.split(",").map(a=>`"${a.trim()}"`).join(", ")}]`),r=`{${r==null?void 0:r.slice(1,-1)}}`;try{return JSON.parse(r)}catch(t){return console.error("Error parsing JSON:",t),null}}const tB=()=>{const n=y8("userID","Dashboard");ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const r=ne.useCallback(()=>m.jsxs(m.Fragment,{children:[n.includes("Employee count")&&m.jsx(DO,{}),m.jsxs("div",{className:"flex gap-3 px-3 my-5 w-full",children:[n.includes("Recent Notifications")&&m.jsx("div",{className:"flex-1",children:m.jsx("div",{className:"w-full h-full",children:m.jsx(TO,{})})}),n.includes("Attendance")&&m.jsx("div",{className:"flex-1",children:m.jsx("div",{className:"w-full h-full",children:m.jsx(EO,{})})}),(n.includes("User Action")||n.includes("Birthday Reminder"))&&m.jsxs("div",{className:"flex-1 gap-4 pb-1 flex flex-col justify-between items-end overflow-hidden",children:[n.includes("User Action")&&m.jsx("div",{className:"w-full",children:m.jsx(QF,{})}),n.includes("Birthday Reminder")&&m.jsx("div",{className:"w-full h-full",children:m.jsx(ZF,{})})]})]}),n.includes("New Joinee")&&m.jsx(jO,{})]}),[n]);return m.jsx("section",{className:"flex flex-col w-full pb-10 pt-5",children:r()})},rB="/assets/icon1-u4Yq52wE.svg",nB="data:image/svg+xml,%3csvg%20width='66'%20height='66'%20viewBox='0%200%2066%2066'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M41.25%2039.1875H24.75C14.52%2039.1875%206.1875%2047.52%206.1875%2057.75C6.1875%2058.8844%207.11562%2059.8125%208.25%2059.8125C9.38438%2059.8125%2010.3125%2058.8844%2010.3125%2057.75C10.3125%2049.7888%2016.7888%2043.3125%2024.75%2043.3125H41.25C42.3844%2043.3125%2043.3125%2042.3844%2043.3125%2041.25C43.3125%2040.1156%2042.3844%2039.1875%2041.25%2039.1875Z'%20fill='url(%23paint0_linear_1168_885)'/%3e%3cpath%20d='M18.5625%2020.625C18.5625%2028.5863%2025.0388%2035.0625%2033%2035.0625C40.9613%2035.0625%2047.4375%2028.5863%2047.4375%2020.625C47.4375%2012.6638%2040.9613%206.1875%2033%206.1875C25.0388%206.1875%2018.5625%2012.6638%2018.5625%2020.625ZM33%2010.3125C38.6925%2010.3125%2043.3125%2014.9325%2043.3125%2020.625C43.3125%2026.3175%2038.6925%2030.9375%2033%2030.9375C27.3075%2030.9375%2022.6875%2026.3175%2022.6875%2020.625C22.6875%2014.9325%2027.3075%2010.3125%2033%2010.3125Z'%20fill='url(%23paint1_linear_1168_885)'/%3e%3cpath%20d='M53.0269%2041.8479C52.2225%2041.0435%2050.9231%2041.0435%2050.1187%2041.8479L43.9312%2048.0354C43.5394%2048.4273%2043.3125%2048.9429%2043.3125%2049.4998V55.6873C43.3125%2056.8217%2044.2406%2057.7498%2045.375%2057.7498H51.5625C52.1194%2057.7498%2052.635%2057.5229%2053.0269%2057.1517L59.2144%2050.9642C59.5856%2050.5723%2059.8125%2050.036%2059.8125%2049.4998C59.8125%2048.9429%2059.5856%2048.4273%2059.2144%2048.0354L53.0269%2041.8479ZM50.7169%2053.6248H47.4375V50.3454L51.5625%2046.2204L54.8419%2049.4998L50.7169%2053.6248Z'%20fill='url(%23paint2_linear_1168_885)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_1168_885'%20x1='24.75'%20y1='39.1875'%20x2='24.75'%20y2='59.8125'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%230AAF19'/%3e%3cstop%20offset='0.215'%20stop-color='%230AA818'/%3e%3cstop%20offset='0.88'%20stop-color='%2304490A'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_1168_885'%20x1='33'%20y1='6.1875'%20x2='33'%20y2='35.0625'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%230AAF19'/%3e%3cstop%20offset='0.215'%20stop-color='%230AA818'/%3e%3cstop%20offset='0.88'%20stop-color='%2304490A'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint2_linear_1168_885'%20x1='51.5625'%20y1='41.2446'%20x2='51.5625'%20y2='57.7498'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%230AAF19'/%3e%3cstop%20offset='0.215'%20stop-color='%230AA818'/%3e%3cstop%20offset='0.88'%20stop-color='%2304490A'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",sB="/assets/icon3-DZD3qRJq.svg",aB="/assets/icon4-DUXIiA-k.svg",iB="/assets/icon5-gX3V7iTS.svg",oB="/assets/icon6-fIqQgiCR.svg",lB="data:image/svg+xml,%3csvg%20width='39'%20height='40'%20viewBox='0%200%2039%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4.75238%2011.7201V4.24006H12.0018V6.12006L19.1304%200.560059L37.5762%2014.8801V37.4401H31.535H22.3524H0.684639V14.8801L4.75238%2011.7201ZM30.2462%2036.1201V22.6801H23.6814V36.1201H30.2462ZM1.97343%2036.1201H22.3524V21.3601H31.535V36.1201H36.2874V15.5201L19.1304%202.24006L10.6727%208.80006V5.56006H6.04116V12.3601L1.97343%2015.5201V36.1201Z'%20fill='url(%23paint0_linear_4209_482)'/%3e%3cpath%20d='M15.707%2030.4798H6.52442V21.3198H15.707V30.4798ZM14.378%2022.6398H7.81321V29.1598H14.378V22.6398Z'%20fill='url(%23paint1_linear_4209_482)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_4209_482'%20x1='19.1304'%20y1='0.560059'%20x2='19.1304'%20y2='37.4401'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23F9A938'/%3e%3cstop%20offset='1'%20stop-color='%23936421'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_4209_482'%20x1='11.1157'%20y1='21.3198'%20x2='11.1157'%20y2='30.4798'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23936421'/%3e%3cstop%20offset='1'%20stop-color='%23720909'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",cB=()=>{const n=y8("userID","Employee");ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const t=[{id:1,to:"/allempDetails",img:rB,alt:"All Employee",title:"All Employee",borderColor:"border-[#AF0A12]"},{id:2,to:"/employeeInfo",img:nB,alt:"Employee Info",title:"Employee Info",borderColor:"border-[#0AAF19]"},{id:3,to:"/workInfo",img:sB,alt:"Work Info",title:"Work Info",borderColor:"border-[#F9A938]"},{id:4,to:"/sawp",img:aB,alt:"Work Pass",title:"Work Pass",borderColor:"border-[#0072FE]"},{id:5,to:"/labourImmigration",img:iB,alt:"Medical & Dependent Info",title:"Medical & Dependent Info",borderColor:"border-[#AF0A12]"},{id:6,to:"/insuranceAdd",img:oB,alt:"Insurance",title:"Insurance",borderColor:"border-[#0072FE]"},{id:7,to:"/nonLocalAcco",img:lB,alt:"Non-Local",title:"Non-Local Accommodation in Brunei",borderColor:"border-[#F9A938]"}].filter(e=>n.includes(e.title));return m.jsx("section",{className:" bg-[#F5F6F1CC] w-full p-10 min-h-screen",children:m.jsx("div",{className:"flex w-full flex-wrap justify-between gap-y-10 gap-x-2 mb-40",children:t.map(e=>m.jsx(yi,{to:e.to,className:"  flex flex-col justify-center items-center p-2 max-w-xs w-full bg-white rounded-lg shadow-lg  transition-shadow duration-200",children:m.jsxs("div",{className:`w-full h-full flex flex-col justify-center items-center  border-l-4 ${e.borderColor}`,children:[m.jsx("img",{className:"w-[100px] h-[100px] p-3",src:e.img,alt:e.alt}),m.jsx("h2",{className:"text-[14px] font-semibold text-center",children:e.title})]})},e.id))})})},fl=({img:n,text1:r,text2:t,fontSize:e,borderColor:s,bgColor:a,link:i})=>m.jsxs(yi,{to:i,className:`shadow-lg border ${s} ${a} text-secondary my-5 h-36 max-w-48 w-full rounded-xl flex flex-col items-center justify-center text-center gap-3 p-5`,children:[m.jsx("div",{className:"w-full max-w-[60px]",children:m.jsx("img",{className:"w-full",src:n,alt:"TimeSheet icons not found"})}),m.jsxs("p",{className:`${e}`,children:[r," ",m.jsx("br",{}),t]})]}),uB="/assets/icon1-Zev5O8SX.svg",dB="/assets/icon2-CCgZr1TG.svg",hB="/assets/icon3-8WW3B4W_.svg",fB=()=>(ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),m.jsxs("section",{className:"min-h-screen p-10 bg-[#F5F6F1CC] flex gap-16",children:[m.jsx(fl,{img:uB,text1:"HR",fontSize:"text_size_5 ",borderColor:"border-[#BF91FF]",bgColor:"bg-white",link:"/training/hr"}),m.jsx(fl,{img:dB,text1:"Training Requestor",fontSize:"text_size_5 ",borderColor:"border-[#7DA2F2]",bgColor:"bg-white",link:"/trainingReq"}),m.jsx(fl,{img:hB,text1:"QA / QC",fontSize:"text_size_5 ",borderColor:"border-[#BDF27D]",bgColor:"bg-white",link:"/trainingQA"})]})),pB="data:image/svg+xml,%3csvg%20width='45'%20height='52'%20viewBox='0%200%2045%2052'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M29.1485%2030.8018H14.4063C13.8802%2030.8018%2013.4556%2030.3772%2013.4556%2029.8511C13.4556%2029.325%2013.8802%2028.9004%2014.4063%2028.9004H29.1485C29.6746%2028.9004%2030.0992%2029.325%2030.0992%2029.8511C30.0992%2030.3772%2029.6746%2030.8018%2029.1485%2030.8018Z'%20fill='%23E39921'/%3e%3cpath%20d='M20.2182%2036.6963H14.4063C13.8802%2036.6963%2013.4556%2036.2717%2013.4556%2035.7456C13.4556%2035.2196%2013.8802%2034.7949%2014.4063%2034.7949H20.2182C20.7443%2034.7949%2021.1689%2035.2196%2021.1689%2035.7456C21.1689%2036.2717%2020.7443%2036.6963%2020.2182%2036.6963Z'%20fill='%23E39921'/%3e%3cpath%20d='M29.1485%2019.0069H14.4063C13.8802%2019.0069%2013.4556%2018.5822%2013.4556%2018.0562C13.4556%2017.5301%2013.8802%2017.1055%2014.4063%2017.1055H29.1485C29.6746%2017.1055%2030.0992%2017.5301%2030.0992%2018.0562C30.0992%2018.5822%2029.6746%2019.0069%2029.1485%2019.0069Z'%20fill='%23E39921'/%3e%3cpath%20d='M29.1485%2024.9014H14.4063C13.8802%2024.9014%2013.4556%2024.4768%2013.4556%2023.9507C13.4556%2023.4246%2013.8802%2023%2014.4063%2023H29.1485C29.6746%2023%2030.0992%2023.4246%2030.0992%2023.9507C30.0992%2024.4768%2029.6746%2024.9014%2029.1485%2024.9014Z'%20fill='%23E39921'/%3e%3cpath%20d='M35.7085%2014.1965L29.8078%208.52401C29.6366%208.35288%2029.3958%208.25781%2029.1549%208.25781H8.51198C7.98593%208.25781%207.56128%208.68246%207.56128%209.20852V43.117C7.56128%2043.643%207.98593%2044.0677%208.51198%2044.0677H26.9366V42.1663H9.46269V10.1592H28.7556V15.2677H34.0859L34.0986%2015.2803V33.198H36V14.8811C36%2014.6212%2035.8923%2014.374%2035.7085%2014.1965Z'%20fill='%23E39921'/%3e%3cpath%20d='M31.9057%2046.2489C27.805%2046.2489%2024.4648%2042.9151%2024.4648%2038.808C24.4648%2034.701%2027.805%2031.3672%2031.9057%2031.3672C36.0064%2031.3672%2039.3465%2034.701%2039.3465%2038.808C39.3465%2042.9151%2036.0064%2046.2489%2031.9057%2046.2489ZM31.9057%2033.2749C28.8508%2033.2749%2026.3663%2035.7594%2026.3663%2038.8144C26.3663%2041.8693%2028.8508%2044.3538%2031.9057%2044.3538C34.9606%2044.3538%2037.4451%2041.8693%2037.4451%2038.8144C37.4451%2035.7594%2034.9606%2033.2749%2031.9057%2033.2749Z'%20fill='%23E39921'/%3e%3cpath%20d='M31.8485%2040.5321C31.6077%2040.5321%2031.3732%2040.4434%2031.1957%2040.2722L28.6225%2037.8384C28.2422%2037.4772%2028.2232%2036.8751%2028.5844%2036.4948C28.9457%2036.1145%2029.5478%2036.0955%2029.9281%2036.4567L32.0703%2038.4786L33.9844%2037.7434C34.4725%2037.5532%2035.0239%2037.8004%2035.214%2038.2884C35.4041%2038.7765%2035.157%2039.3279%2034.6689%2039.518L32.1971%2040.4624C32.0894%2040.5067%2031.9689%2040.5258%2031.8549%2040.5258L31.8485%2040.5321Z'%20fill='%23E39921'/%3e%3c/svg%3e",w6="data:image/svg+xml,%3csvg%20width='45'%20height='52'%20viewBox='0%200%2045%2052'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M28.5882%2031.0234H14.1911C13.6774%2031.0234%2013.2627%2030.5957%2013.2627%2030.0659C13.2627%2029.5361%2013.6774%2029.1084%2014.1911%2029.1084H28.5882C29.102%2029.1084%2029.5167%2029.5361%2029.5167%2030.0659C29.5167%2030.5957%2029.102%2031.0234%2028.5882%2031.0234Z'%20fill='url(%23paint0_linear_4296_542)'/%3e%3cpath%20d='M19.867%2036.9589H14.1911C13.6774%2036.9589%2013.2627%2036.5313%2013.2627%2036.0014C13.2627%2035.4716%2013.6774%2035.0439%2014.1911%2035.0439H19.867C20.3808%2035.0439%2020.7955%2035.4716%2020.7955%2036.0014C20.7955%2036.5313%2020.3808%2036.9589%2019.867%2036.9589Z'%20fill='url(%23paint1_linear_4296_542)'/%3e%3cpath%20d='M28.5882%2019.1435H14.1911C13.6774%2019.1435%2013.2627%2018.7158%2013.2627%2018.186C13.2627%2017.6562%2013.6774%2017.2285%2014.1911%2017.2285H28.5882C29.102%2017.2285%2029.5167%2017.6562%2029.5167%2018.186C29.5167%2018.7158%2029.102%2019.1435%2028.5882%2019.1435Z'%20fill='url(%23paint2_linear_4296_542)'/%3e%3cpath%20d='M28.5882%2025.08H14.1911C13.6774%2025.08%2013.2627%2024.6523%2013.2627%2024.1225C13.2627%2023.5927%2013.6774%2023.165%2014.1911%2023.165H28.5882C29.102%2023.165%2029.5167%2023.5927%2029.5167%2024.1225C29.5167%2024.6523%2029.102%2025.08%2028.5882%2025.08Z'%20fill='url(%23paint3_linear_4296_542)'/%3e%3cpath%20d='M34.9945%2014.2985L29.2319%208.58548C29.0648%208.41313%2028.8296%208.31738%2028.5944%208.31738H8.43479C7.92105%208.31738%207.50635%208.74506%207.50635%209.27488V43.4255C7.50635%2043.9553%207.92105%2044.383%208.43479%2044.383H26.428V42.468H9.36324V10.2324H28.2045V15.3773H33.4099L33.4223%2015.3901V33.4357H35.2792V14.9879C35.2792%2014.7262%2035.174%2014.4773%2034.9945%2014.2985Z'%20fill='url(%23paint4_linear_4296_542)'/%3e%3cpath%20d='M31.2808%2046.5788C27.2761%2046.5788%2024.0142%2043.2212%2024.0142%2039.0848C24.0142%2034.9484%2027.2761%2031.5908%2031.2808%2031.5908C35.2855%2031.5908%2038.5474%2034.9484%2038.5474%2039.0848C38.5474%2043.2212%2035.2855%2046.5788%2031.2808%2046.5788ZM31.2808%2033.5122C28.2974%2033.5122%2025.871%2036.0144%2025.871%2039.0912C25.871%2042.1679%2028.2974%2044.6702%2031.2808%2044.6702C34.2642%2044.6702%2036.6905%2042.1679%2036.6905%2039.0912C36.6905%2036.0144%2034.2642%2033.5122%2031.2808%2033.5122Z'%20fill='url(%23paint5_linear_4296_542)'/%3e%3cpath%20d='M31.2252%2040.8209C30.99%2040.8209%2030.761%2040.7315%2030.5877%2040.5592L28.0747%2038.108C27.7033%2037.7441%2027.6848%2037.1377%2028.0376%2036.7547C28.3904%2036.3717%2028.9784%2036.3526%2029.3498%2036.7164L31.4419%2038.7527L33.3111%2038.0122C33.7877%2037.8207%2034.3262%2038.0697%2034.5119%2038.5612C34.6976%2039.0527%2034.4562%2039.608%2033.9796%2039.7995L31.5657%2040.7507C31.4604%2040.7953%2031.3428%2040.8145%2031.2314%2040.8145L31.2252%2040.8209Z'%20fill='url(%23paint6_linear_4296_542)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_4296_542'%20x1='21.3897'%20y1='29.1084'%20x2='21.3897'%20y2='31.0234'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23B70B36'/%3e%3cstop%20offset='1'%20stop-color='%23D5A3AF'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_4296_542'%20x1='17.0291'%20y1='35.0439'%20x2='17.0291'%20y2='36.9589'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23B70B36'/%3e%3cstop%20offset='1'%20stop-color='%23D5A3AF'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint2_linear_4296_542'%20x1='21.3897'%20y1='17.2285'%20x2='21.3897'%20y2='19.1435'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23B70B36'/%3e%3cstop%20offset='1'%20stop-color='%23D5A3AF'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint3_linear_4296_542'%20x1='21.3897'%20y1='23.165'%20x2='21.3897'%20y2='25.08'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23B70B36'/%3e%3cstop%20offset='1'%20stop-color='%23D5A3AF'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint4_linear_4296_542'%20x1='21.3928'%20y1='8.31738'%20x2='21.3928'%20y2='44.383'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23B70B36'/%3e%3cstop%20offset='1'%20stop-color='%23D5A3AF'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint5_linear_4296_542'%20x1='31.2808'%20y1='31.5908'%20x2='31.2808'%20y2='46.5788'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23B70B36'/%3e%3cstop%20offset='1'%20stop-color='%23D5A3AF'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint6_linear_4296_542'%20x1='31.1794'%20y1='36.4551'%20x2='31.1794'%20y2='40.8209'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23B70B36'/%3e%3cstop%20offset='1'%20stop-color='%23D5A3AF'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",mB="/assets/icons8-1dUiJvNr.svg",gB="data:image/svg+xml,%3csvg%20width='44'%20height='53'%20viewBox='0%200%2044%2053'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M28.4661%2031.3574H14.0691C13.5553%2031.3574%2013.1406%2030.9297%2013.1406%2030.3999C13.1406%2029.8701%2013.5553%2029.4424%2014.0691%2029.4424H28.4661C28.9799%2029.4424%2029.3946%2029.8701%2029.3946%2030.3999C29.3946%2030.9297%2028.9799%2031.3574%2028.4661%2031.3574Z'%20fill='url(%23paint0_linear_4296_520)'/%3e%3cpath%20d='M19.745%2037.2929H14.0691C13.5553%2037.2929%2013.1406%2036.8652%2013.1406%2036.3354C13.1406%2035.8056%2013.5553%2035.3779%2014.0691%2035.3779H19.745C20.2587%2035.3779%2020.6734%2035.8056%2020.6734%2036.3354C20.6734%2036.8652%2020.2587%2037.2929%2019.745%2037.2929Z'%20fill='url(%23paint1_linear_4296_520)'/%3e%3cpath%20d='M28.4661%2019.4775H14.0691C13.5553%2019.4775%2013.1406%2019.0498%2013.1406%2018.52C13.1406%2017.9902%2013.5553%2017.5625%2014.0691%2017.5625H28.4661C28.9799%2017.5625%2029.3946%2017.9902%2029.3946%2018.52C29.3946%2019.0498%2028.9799%2019.4775%2028.4661%2019.4775Z'%20fill='url(%23paint2_linear_4296_520)'/%3e%3cpath%20d='M28.4661%2025.414H14.0691C13.5553%2025.414%2013.1406%2024.9863%2013.1406%2024.4565C13.1406%2023.9267%2013.5553%2023.499%2014.0691%2023.499H28.4661C28.9799%2023.499%2029.3946%2023.9267%2029.3946%2024.4565C29.3946%2024.9863%2028.9799%2025.414%2028.4661%2025.414Z'%20fill='url(%23paint3_linear_4296_520)'/%3e%3cpath%20d='M34.8724%2014.6325L29.1099%208.91947C28.9428%208.74712%2028.7075%208.65137%2028.4723%208.65137H8.31272C7.79898%208.65137%207.38428%209.07905%207.38428%209.60886V43.7595C7.38428%2044.2893%207.79898%2044.717%208.31272%2044.717H26.306V42.802H9.24117V10.5664H28.0824V15.7113H33.2879L33.3003%2015.7241V33.7697H35.1571V15.3219C35.1571%2015.0602%2035.0519%2014.8113%2034.8724%2014.6325Z'%20fill='url(%23paint4_linear_4296_520)'/%3e%3cpath%20d='M31.1587%2046.9128C27.154%2046.9128%2023.8921%2043.5552%2023.8921%2039.4188C23.8921%2035.2824%2027.154%2031.9248%2031.1587%2031.9248C35.1634%2031.9248%2038.4253%2035.2824%2038.4253%2039.4188C38.4253%2043.5552%2035.1634%2046.9128%2031.1587%2046.9128ZM31.1587%2033.8462C28.1753%2033.8462%2025.749%2036.3484%2025.749%2039.4252C25.749%2042.5019%2028.1753%2045.0042%2031.1587%2045.0042C34.1421%2045.0042%2036.5685%2042.5019%2036.5685%2039.4252C36.5685%2036.3484%2034.1421%2033.8462%2031.1587%2033.8462Z'%20fill='url(%23paint5_linear_4296_520)'/%3e%3cpath%20d='M31.1032%2041.1549C30.868%2041.1549%2030.6389%2041.0655%2030.4656%2040.8931L27.9527%2038.442C27.5813%2038.0781%2027.5627%2037.4717%2027.9155%2037.0887C28.2683%2036.7057%2028.8563%2036.6865%2029.2277%2037.0504L31.3198%2039.0867L33.1891%2038.3462C33.6657%2038.1547%2034.2042%2038.4037%2034.3899%2038.8952C34.5756%2039.3867%2034.3342%2039.942%2033.8576%2040.1335L31.4436%2041.0846C31.3384%2041.1293%2031.2208%2041.1485%2031.1094%2041.1485L31.1032%2041.1549Z'%20fill='url(%23paint6_linear_4296_520)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_4296_520'%20x1='21.2676'%20y1='29.4424'%20x2='21.2676'%20y2='31.3574'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%234E00BC'/%3e%3cstop%20offset='1'%20stop-color='%239D61F1'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_4296_520'%20x1='16.907'%20y1='35.3779'%20x2='16.907'%20y2='37.2929'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%234E00BC'/%3e%3cstop%20offset='1'%20stop-color='%239D61F1'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint2_linear_4296_520'%20x1='21.2676'%20y1='17.5625'%20x2='21.2676'%20y2='19.4775'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%234E00BC'/%3e%3cstop%20offset='1'%20stop-color='%239D61F1'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint3_linear_4296_520'%20x1='21.2676'%20y1='23.499'%20x2='21.2676'%20y2='25.414'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%234E00BC'/%3e%3cstop%20offset='1'%20stop-color='%239D61F1'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint4_linear_4296_520'%20x1='21.2707'%20y1='8.65137'%20x2='21.2707'%20y2='44.717'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%234E00BC'/%3e%3cstop%20offset='1'%20stop-color='%239D61F1'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint5_linear_4296_520'%20x1='31.1587'%20y1='31.9248'%20x2='31.1587'%20y2='46.9128'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%234E00BC'/%3e%3cstop%20offset='1'%20stop-color='%239D61F1'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint6_linear_4296_520'%20x1='31.0573'%20y1='36.7891'%20x2='31.0573'%20y2='41.1549'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%234E00BC'/%3e%3cstop%20offset='1'%20stop-color='%239D61F1'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",bB="/assets/icons11-CNIEWrqm.svg",yB=()=>m.jsxs("section",{className:"p-16 bg-[#f5f6f1cc] ",children:[m.jsx("h4",{className:"text_size_6 border w-fit py-2 px-4 bg-slate_grey text-white rounded",children:"Please Upload the Time Sheet"}),m.jsxs("div",{className:"grid grid-cols-4  gap-10 my-5",children:[m.jsx(fl,{img:w6,text1:"HO",borderColor:"border-[#B70B36]",bgColor:"bg-white",link:"/timesheetHO"}),m.jsx(fl,{img:w6,text1:"SBW",borderColor:"border-[#B70B36]",bgColor:"bg-white",link:"/timesheetSBW"}),m.jsx(fl,{img:w6,text1:"ORMC",borderColor:"border-[#B70B36]",bgColor:"bg-white",link:"/timesheetORMC"}),m.jsx(fl,{img:pB,text1:"Offshore",borderColor:"border-[#EB9916]",bgColor:"bg-white",link:"/timesheetOffshore"})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-10 my-5",children:[m.jsx(fl,{img:gB,text1:"BLNG",borderColor:"border-[#4E00BC]",bgColor:"bg-white",link:"/timesheetBlng"}),m.jsx(fl,{img:bB,text1:"View Time",text2:"sheet",borderColor:"border-[#4E00BC]",bgColor:"bg-white",link:"/viewTimesheet"}),m.jsx(fl,{img:mB,text1:"View",text2:"Summary",borderColor:"border-[#107B8E]",bgColor:"bg-white",link:"/viewTimesheet"})]})]});function ZE(n){return Fn({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M960 95.888l-256.224.001V32.113c0-17.68-14.32-32-32-32s-32 14.32-32 32v63.76h-256v-63.76c0-17.68-14.32-32-32-32s-32 14.32-32 32v63.76H64c-35.344 0-64 28.656-64 64v800c0 35.343 28.656 64 64 64h896c35.344 0 64-28.657 64-64v-800c0-35.329-28.656-63.985-64-63.985zm0 863.985H64v-800h255.776v32.24c0 17.679 14.32 32 32 32s32-14.321 32-32v-32.224h256v32.24c0 17.68 14.32 32 32 32s32-14.32 32-32v-32.24H960v799.984zM736 511.888h64c17.664 0 32-14.336 32-32v-64c0-17.664-14.336-32-32-32h-64c-17.664 0-32 14.336-32 32v64c0 17.664 14.336 32 32 32zm0 255.984h64c17.664 0 32-14.32 32-32v-64c0-17.664-14.336-32-32-32h-64c-17.664 0-32 14.336-32 32v64c0 17.696 14.336 32 32 32zm-192-128h-64c-17.664 0-32 14.336-32 32v64c0 17.68 14.336 32 32 32h64c17.664 0 32-14.32 32-32v-64c0-17.648-14.336-32-32-32zm0-255.984h-64c-17.664 0-32 14.336-32 32v64c0 17.664 14.336 32 32 32h64c17.664 0 32-14.336 32-32v-64c0-17.68-14.336-32-32-32zm-256 0h-64c-17.664 0-32 14.336-32 32v64c0 17.664 14.336 32 32 32h64c17.664 0 32-14.336 32-32v-64c0-17.68-14.336-32-32-32zm0 255.984h-64c-17.664 0-32 14.336-32 32v64c0 17.68 14.336 32 32 32h64c17.664 0 32-14.32 32-32v-64c0-17.648-14.336-32-32-32z"},child:[]}]})(n)}const vB=({typeOfReport:n,setTypeOfReport:r,Reports:t,justFilterName:e})=>{const[s,a]=ne.useState(!1),i=()=>{a(!s)};return m.jsx("div",{children:m.jsxs("div",{className:"relative",children:[m.jsxs("div",{className:"flex items-center gap-3 border rounded p-0.5 px-3 text-sm text-secondary border-[#D9D9D9]",onClick:i,children:[m.jsx(u8,{}),m.jsx("input",{readOnly:!0,value:e,placeholder:"Select type",className:"cursor-pointer rounded outline-none p-2 text-dark_grey text-sm w-full",onClick:()=>a(!0)})]}),s&&m.jsx("div",{className:"absolute border border-[#D9D9D9] mt-1 w-full text-[16px] p-1 bg-white",onClick:()=>a(!1),children:t&&t.map((o,u)=>m.jsx("p",{className:"hover:bg-secondary hover:text-white p-1 cursor-pointer text-dark_grey",onClick:()=>{r(o.title),a(!1)},children:o.title},u))})]})})},Gf=({allEmpDetails:n,searchUserList:r,searchIcon1:t,searchIcon2:e,placeholder:s,border:a})=>{const[i,o]=ne.useState(""),u=c=>{const l=c.target.value.toLowerCase();if(o(l),l){const d=n.filter(p=>p.empID&&typeof p.empID=="string"&&p.empID.toLowerCase().includes(l)||p.name&&typeof p.name=="string"&&p.name.toLowerCase().includes(l)||p.position&&typeof p.position=="string"&&p.position.toLowerCase().includes(l)||p.empBadgeNo&&typeof p.empBadgeNo=="string"&&p.empBadgeNo.toLowerCase().includes(l));r(d)}else r(n)};return m.jsx("div",{className:"relative",children:m.jsxs("div",{className:`py-2 w-full text_size_5 bg-white border text-grey border-lite_grey ${a} flex items-center px-3 gap-2`,children:[m.jsx("div",{className:"text-dark_grey text-2xl mr-1",children:t}),m.jsx("input",{type:"text",placeholder:s,className:"outline-none w-full text-sm",value:i,onChange:u}),e&&m.jsx("div",{className:"text-dark_grey text-2xl",children:e})]})})};function M2(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var MA={exports:{}};(function(n,r){var t={};/*! ExcelJS 19-10-2023 */(function(e){n.exports=e()})(function(){return function e(s,a,i){function o(l,d){if(!a[l]){if(!s[l]){var p=typeof M2=="function"&&M2;if(!d&&p)return p(l,!0);if(u)return u(l,!0);var h=new Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h}var f=a[l]={exports:{}};s[l][0].call(f.exports,function(b){return o(s[l][1][b]||b)},f,f.exports,e,s,a,i)}return a[l].exports}for(var u=typeof M2=="function"&&M2,c=0;c<i.length;c++)o(i[c]);return o}({1:[function(e,s,a){const i=e("fs"),o=e("fast-csv"),u=e("dayjs/plugin/customParseFormat"),c=e("dayjs/plugin/utc"),l=e("dayjs").extend(u).extend(c),d=e("../utils/stream-buf"),{fs:{exists:p}}=e("../utils/utils"),h={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};s.exports=class{constructor(f){this.workbook=f,this.worksheet=null}async readFile(f,b){if(b=b||{},!await p(f))throw new Error("File not found: "+f);const y=i.createReadStream(f),g=await this.read(y,b);return y.close(),g}read(f,b){return b=b||{},new Promise((y,g)=>{const x=this.workbook.addWorksheet(b.sheetName),v=b.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],w=b.map||function(D){if(D==="")return null;const T=Number(D);if(!Number.isNaN(T)&&T!==1/0)return T;const R=v.reduce((L,O)=>{if(L)return L;const H=l(D,O,!0);return H.isValid()?H:null},null);if(R)return new Date(R.valueOf());const P=h[D];return P!==void 0?P:D},S=o.parse(b.parserOptions).on("data",D=>{x.addRow(D.map(w))}).on("end",()=>{S.emit("worksheet",x)});S.on("worksheet",y).on("error",g),f.pipe(S)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(f,b){return new Promise((y,g)=>{b=b||{};const x=this.workbook.getWorksheet(b.sheetName||b.sheetId),v=o.format(b.formatterOptions);f.on("finish",()=>{y()}),v.on("error",g),v.pipe(f);const{dateFormat:w,dateUTC:S}=b,D=b.map||(P=>{if(P){if(P.text||P.hyperlink)return P.hyperlink||P.text||"";if(P.formula||P.result)return P.result||"";if(P instanceof Date)return w?S?l.utc(P).format(w):l(P).format(w):S?l.utc(P).format():l(P).format();if(P.error)return P.error;if(typeof P=="object")return JSON.stringify(P)}return P}),T=b.includeEmptyRows===void 0||b.includeEmptyRows;let R=1;x&&x.eachRow((P,L)=>{if(T)for(;R++<L-1;)v.write([]);const{values:O}=P;O.shift(),v.write(O.map(D)),R=L}),v.end()})}writeFile(f,b){const y={encoding:(b=b||{}).encoding||"utf8"},g=i.createWriteStream(f,y);return this.write(g,b)}async writeBuffer(f){const b=new d;return await this.write(b,f),b.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,s,a){const i=e("../utils/col-cache");class o{constructor(c,l){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=c,l)if(typeof l=="string"){const p=i.decodeAddress(l);this.nativeCol=p.col+d,this.nativeColOff=0,this.nativeRow=p.row+d,this.nativeRowOff=0}else l.nativeCol!==void 0?(this.nativeCol=l.nativeCol||0,this.nativeColOff=l.nativeColOff||0,this.nativeRow=l.nativeRow||0,this.nativeRowOff=l.nativeRowOff||0):l.col!==void 0?(this.col=l.col+d,this.row=l.row+d):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(c){return c instanceof o||c==null?c:new o(c)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(c){this.nativeCol=Math.floor(c),this.nativeColOff=Math.floor((c-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(c){this.nativeRow=Math.floor(c),this.nativeRowOff=Math.floor((c-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(c){this.nativeCol=c.nativeCol,this.nativeColOff=c.nativeColOff,this.nativeRow=c.nativeRow,this.nativeRowOff=c.nativeRowOff}}s.exports=o},{"../utils/col-cache":19}],3:[function(e,s,a){const i=e("../utils/col-cache"),o=e("../utils/under-dash"),u=e("./enums"),{slideFormula:c}=e("../utils/shared-formula"),l=e("./note");class d{constructor(f,b,y){if(!f||!b)throw new Error("A Cell needs a Row");this._row=f,this._column=b,i.validateAddress(y),this._address=y,this._value=p.create(d.Types.Null,this),this.style=this._mergeStyle(f.style,b.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(f){this.style.numFmt=f}get font(){return this.style.font}set font(f){this.style.font=f}get alignment(){return this.style.alignment}set alignment(f){this.style.alignment=f}get border(){return this.style.border}set border(f){this.style.border=f}get fill(){return this.style.fill}set fill(f){this.style.fill=f}get protection(){return this.style.protection}set protection(f){this.style.protection=f}_mergeStyle(f,b,y){const g=f&&f.numFmt||b&&b.numFmt;g&&(y.numFmt=g);const x=f&&f.font||b&&b.font;x&&(y.font=x);const v=f&&f.alignment||b&&b.alignment;v&&(y.alignment=v);const w=f&&f.border||b&&b.border;w&&(y.border=w);const S=f&&f.fill||b&&b.fill;S&&(y.fill=S);const D=f&&f.protection||b&&b.protection;return D&&(y.protection=D),y}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===d.Types.Merge}merge(f,b){this._value.release(),this._value=p.create(d.Types.Merge,this,f),b||(this.style=f.style)}unmerge(){this.type===d.Types.Merge&&(this._value.release(),this._value=p.create(d.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(f){return this._value.type===d.Types.Merge&&this._value.isMergedTo(f)}get master(){return this.type===d.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===d.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(f){this.type!==d.Types.Merge?(this._value.release(),this._value=p.create(p.getType(f),this,f)):this._value.master.value=f}get note(){return this._comment&&this._comment.note}set note(f){this._comment=new l(f)}get text(){return this._value.toString()}get html(){return o.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(f){this.type===d.Types.String&&(this._value=p.create(d.Types.Hyperlink,this,{text:this._value.value,hyperlink:f}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:f}=this._row;return{sheetName:f.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(f){this.names=[f]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(f){const{definedNames:b}=this.workbook;b.removeAllNames(this.fullAddress),f.forEach(y=>{b.addEx(this.fullAddress,y)})}addName(f){this.workbook.definedNames.addEx(this.fullAddress,f)}removeName(f){this.workbook.definedNames.removeEx(this.fullAddress,f)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(f){this._dataValidations.add(this.address,f)}get model(){const{model:f}=this._value;return f.style=this.style,this._comment&&(f.comment=this._comment.model),f}set model(f){if(this._value.release(),this._value=p.create(f.type,this),this._value.model=f,f.comment)switch(f.comment.type){case"note":this._comment=l.fromModel(f.comment)}f.style?this.style=f.style:this.style={}}}d.Types=u.ValueType;const p={getType:h=>h==null?d.Types.Null:h instanceof String||typeof h=="string"?d.Types.String:typeof h=="number"?d.Types.Number:typeof h=="boolean"?d.Types.Boolean:h instanceof Date?d.Types.Date:h.text&&h.hyperlink?d.Types.Hyperlink:h.formula||h.sharedFormula?d.Types.Formula:h.richText?d.Types.RichText:h.sharedString?d.Types.SharedString:h.error?d.Types.Error:d.Types.JSON,types:[{t:d.Types.Null,f:class{constructor(h){this.model={address:h.address,type:d.Types.Null}}get value(){return null}set value(h){}get type(){return d.Types.Null}get effectiveType(){return d.Types.Null}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){}toString(){return""}}},{t:d.Types.Number,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.Number,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.Number}get effectiveType(){return d.Types.Number}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.String,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.String,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.String}get effectiveType(){return d.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:d.Types.Date,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.Date,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.Date}get effectiveType(){return d.Types.Date}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.Hyperlink,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.Hyperlink,text:f?f.text:void 0,hyperlink:f?f.hyperlink:void 0},f&&f.tooltip&&(this.model.tooltip=f.tooltip)}get value(){const h={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(h.tooltip=this.model.tooltip),h}set value(h){this.model={text:h.text,hyperlink:h.hyperlink},h.tooltip&&(this.model.tooltip=h.tooltip)}get text(){return this.model.text}set text(h){this.model.text=h}get hyperlink(){return this.model.hyperlink}set hyperlink(h){this.model.hyperlink=h}get type(){return d.Types.Hyperlink}get effectiveType(){return d.Types.Hyperlink}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:d.Types.Formula,f:class{constructor(h,f){this.cell=h,this.model={address:h.address,type:d.Types.Formula,shareType:f?f.shareType:void 0,ref:f?f.ref:void 0,formula:f?f.formula:void 0,sharedFormula:f?f.sharedFormula:void 0,result:f?f.result:void 0}}_copyModel(h){const f={},b=y=>{const g=h[y];g&&(f[y]=g)};return b("formula"),b("result"),b("ref"),b("shareType"),b("sharedFormula"),f}get value(){return this._copyModel(this.model)}set value(h){this.model=this._copyModel(h)}validate(h){switch(p.getType(h)){case d.Types.Null:case d.Types.String:case d.Types.Number:case d.Types.Date:break;case d.Types.Hyperlink:case d.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(h){this.model.formula=h}get formulaType(){return this.model.formula?u.FormulaType.Master:this.model.sharedFormula?u.FormulaType.Shared:u.FormulaType.None}get result(){return this.model.result}set result(h){this.model.result=h}get type(){return d.Types.Formula}get effectiveType(){const h=this.model.result;return h==null?u.ValueType.Null:h instanceof String||typeof h=="string"?u.ValueType.String:typeof h=="number"?u.ValueType.Number:h instanceof Date?u.ValueType.Date:h.text&&h.hyperlink?u.ValueType.Hyperlink:h.formula?u.ValueType.Formula:u.ValueType.Null}get address(){return this.model.address}set address(h){this.model.address=h}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:h}=this.cell,f=h.findCell(this.model.sharedFormula);this._translatedFormula=f&&c(f.formula,f.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:d.Types.Merge,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.Merge,master:f?f.address:void 0},this._master=f,f&&f.addMergeRef()}get value(){return this._master.value}set value(h){h instanceof d?(this._master&&this._master.releaseMergeRef(),h.addMergeRef(),this._master=h):this._master.value=h}isMergedTo(h){return h===this._master}get master(){return this._master}get type(){return d.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:d.Types.JSON,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.String,value:JSON.stringify(f),rawValue:f}}get value(){return this.model.rawValue}set value(h){this.model.rawValue=h,this.model.value=JSON.stringify(h)}get type(){return d.Types.String}get effectiveType(){return d.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:d.Types.SharedString,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.SharedString,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.SharedString}get effectiveType(){return d.Types.SharedString}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.RichText,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.String,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}toString(){return this.model.value.richText.map(h=>h.text).join("")}get type(){return d.Types.RichText}get effectiveType(){return d.Types.RichText}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:d.Types.Boolean,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.Boolean,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.Boolean}get effectiveType(){return d.Types.Boolean}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:d.Types.Error,f:class{constructor(h,f){this.model={address:h.address,type:d.Types.Error,value:f}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return d.Types.Error}get effectiveType(){return d.Types.Error}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((h,f)=>(h[f.t]=f.f,h),[]),create(h,f,b){const y=this.types[h];if(!y)throw new Error("Could not create Value of type "+h);return new y(f,b)}};s.exports=d},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,s,a){const i=e("../utils/under-dash"),o=e("./enums"),u=e("../utils/col-cache");class c{constructor(d,p,h){this._worksheet=d,this._number=p,h!==!1&&(this.defn=h)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return u.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(d){d?(this.key=d.key,this.width=d.width!==void 0?d.width:9,this.outlineLevel=d.outlineLevel,d.style?this.style=d.style:this.style={},this.header=d.header,this._hidden=!!d.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(d){d!==void 0?(this._header=d,this.headers.forEach((p,h)=>{this._worksheet.getCell(h+1,this.number).value=p})):this._header=void 0}get key(){return this._key}set key(d){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=d,d&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(d){this._hidden=d}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(d){this._outlineLevel=d}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(d){return this.width===d.width&&this.hidden===d.hidden&&this.outlineLevel===d.outlineLevel&&i.isEqual(this.style,d.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const d=this.style;return!d||!(d.font||d.numFmt||d.alignment||d.border||d.fill||d.protection)}get headerCount(){return this.headers.length}eachCell(d,p){const h=this.number;p||(p=d,d=null),this._worksheet.eachRow(d,(f,b)=>{p(f.getCell(h),b)})}get values(){const d=[];return this.eachCell((p,h)=>{p&&p.type!==o.ValueType.Null&&(d[h]=p.value)}),d}set values(d){if(!d)return;const p=this.number;let h=0;d.hasOwnProperty("0")&&(h=1),d.forEach((f,b)=>{this._worksheet.getCell(b+h,p).value=f})}_applyStyle(d,p){return this.style[d]=p,this.eachCell(h=>{h[d]=p}),p}get numFmt(){return this.style.numFmt}set numFmt(d){this._applyStyle("numFmt",d)}get font(){return this.style.font}set font(d){this._applyStyle("font",d)}get alignment(){return this.style.alignment}set alignment(d){this._applyStyle("alignment",d)}get protection(){return this.style.protection}set protection(d){this._applyStyle("protection",d)}get border(){return this.style.border}set border(d){this._applyStyle("border",d)}get fill(){return this.style.fill}set fill(d){this._applyStyle("fill",d)}static toModel(d){const p=[];let h=null;return d&&d.forEach((f,b)=>{f.isDefault?h&&(h=null):h&&f.equivalentTo(h)?h.max=b+1:(h={min:b+1,max:b+1,width:f.width!==void 0?f.width:9,style:f.style,isCustomWidth:f.isCustomWidth,hidden:f.hidden,outlineLevel:f.outlineLevel,collapsed:f.collapsed},p.push(h))}),p.length?p:void 0}static fromModel(d,p){const h=[];let f=1,b=0;for(p=(p=p||[]).sort(function(y,g){return y.min-g.min});b<p.length;){const y=p[b++];for(;f<y.min;)h.push(new c(d,f++));for(;f<=y.max;)h.push(new c(d,f++,y))}return h.length?h:null}}s.exports=c},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,s,a){s.exports=class{constructor(i){this.model=i||{}}add(i,o){return this.model[i]=o}find(i){return this.model[i]}remove(i){this.model[i]=void 0}}},{}],6:[function(e,s,a){const i=e("../utils/under-dash"),o=e("../utils/col-cache"),u=e("../utils/cell-matrix"),c=e("./range"),l=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;s.exports=class{constructor(){this.matrixMap={}}getMatrix(d){return this.matrixMap[d]||(this.matrixMap[d]=new u)}add(d,p){const h=o.decodeEx(d);this.addEx(h,p)}addEx(d,p){const h=this.getMatrix(p);if(d.top)for(let f=d.left;f<=d.right;f++)for(let b=d.top;b<=d.bottom;b++){const y={sheetName:d.sheetName,address:o.n2l(f)+b,row:b,col:f};h.addCellEx(y)}else h.addCellEx(d)}remove(d,p){const h=o.decodeEx(d);this.removeEx(h,p)}removeEx(d,p){this.getMatrix(p).removeCellEx(d)}removeAllNames(d){i.each(this.matrixMap,p=>{p.removeCellEx(d)})}forEach(d){i.each(this.matrixMap,(p,h)=>{p.forEach(f=>{d(h,f)})})}getNames(d){return this.getNamesEx(o.decodeEx(d))}getNamesEx(d){return i.map(this.matrixMap,(p,h)=>p.findCellEx(d)&&h).filter(Boolean)}_explore(d,p){p.mark=!1;const{sheetName:h}=p,f=new c(p.row,p.col,p.row,p.col,h);let b,y;function g(v,w){const S=d.findCellAt(h,v,p.col);return!(!S||!S.mark)&&(f[w]=v,S.mark=!1,!0)}for(y=p.row-1;g(y,"top");y--);for(y=p.row+1;g(y,"bottom");y++);function x(v,w){const S=[];for(y=f.top;y<=f.bottom;y++){const D=d.findCellAt(h,y,v);if(!D||!D.mark)return!1;S.push(D)}f[w]=v;for(let D=0;D<S.length;D++)S[D].mark=!1;return!0}for(b=p.col-1;x(b,"left");b--);for(b=p.col+1;x(b,"right");b++);return f}getRanges(d,p){return(p=p||this.matrixMap[d])?(p.forEach(h=>{h.mark=!0}),{name:d,ranges:p.map(h=>h.mark&&this._explore(p,h)).filter(Boolean).map(h=>h.$shortRange)}):{name:d,ranges:[]}}normaliseMatrix(d,p){d.forEachInSheet(p,(h,f,b)=>{h&&(h.row===f&&h.col===b||(h.row=f,h.col=b,h.address=o.n2l(b)+f))})}spliceRows(d,p,h,f){i.each(this.matrixMap,b=>{b.spliceRows(d,p,h,f),this.normaliseMatrix(b,d)})}spliceColumns(d,p,h,f){i.each(this.matrixMap,b=>{b.spliceColumns(d,p,h,f),this.normaliseMatrix(b,d)})}get model(){return i.map(this.matrixMap,(d,p)=>this.getRanges(p,d)).filter(d=>d.ranges.length)}set model(d){const p=this.matrixMap={};d.forEach(h=>{const f=p[h.name]=new u;h.ranges.forEach(b=>{l.test(b.split("!").pop()||"")&&f.addCell(b)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,s,a){s.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,s,a){const i=e("../utils/col-cache"),o=e("./anchor");s.exports=class{constructor(u,c){this.worksheet=u,this.model=c}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(u){let{type:c,imageId:l,range:d,hyperlinks:p}=u;if(this.type=c,this.imageId=l,c==="image")if(typeof d=="string"){const h=i.decode(d);this.range={tl:new o(this.worksheet,{col:h.left,row:h.top},-1),br:new o(this.worksheet,{col:h.right,row:h.bottom},0),editAs:"oneCell"}}else this.range={tl:new o(this.worksheet,d.tl,0),br:d.br&&new o(this.worksheet,d.br,0),ext:d.ext,editAs:d.editAs,hyperlinks:p||d.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,s,a){const i=e("../utils/under-dash");class o{constructor(c){this.note=c}get model(){let c=null;switch(typeof this.note){case"string":c={type:"note",note:{texts:[{text:this.note}]}};break;default:c={type:"note",note:this.note}}return i.deepMerge({},o.DEFAULT_CONFIGS,c)}set model(c){const{note:l}=c,{texts:d}=l;d.length===1&&Object.keys(d[0]).length===1?this.note=d[0].text:this.note=l}static fromModel(c){const l=new o;return l.model=c,l}}o.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},s.exports=o},{"../utils/under-dash":26}],10:[function(e,s,a){const i=e("../utils/col-cache");class o{constructor(){this.decode(arguments)}setTLBR(c,l,d,p,h){if(arguments.length<4){const f=i.decodeAddress(c),b=i.decodeAddress(l);this.model={top:Math.min(f.row,b.row),left:Math.min(f.col,b.col),bottom:Math.max(f.row,b.row),right:Math.max(f.col,b.col),sheetName:d},this.setTLBR(f.row,f.col,b.row,b.col,h)}else this.model={top:Math.min(c,d),left:Math.min(l,p),bottom:Math.max(c,d),right:Math.max(l,p),sheetName:h}}decode(c){switch(c.length){case 5:this.setTLBR(c[0],c[1],c[2],c[3],c[4]);break;case 4:this.setTLBR(c[0],c[1],c[2],c[3]);break;case 3:this.setTLBR(c[0],c[1],c[2]);break;case 2:this.setTLBR(c[0],c[1]);break;case 1:{const l=c[0];if(l instanceof o)this.model={top:l.model.top,left:l.model.left,bottom:l.model.bottom,right:l.model.right,sheetName:l.sheetName};else if(l instanceof Array)this.decode(l);else if(l.top&&l.left&&l.bottom&&l.right)this.model={top:l.top,left:l.left,bottom:l.bottom,right:l.right,sheetName:l.sheetName};else{const d=i.decodeEx(l);d.top?this.model={top:d.top,left:d.left,bottom:d.bottom,right:d.right,sheetName:d.sheetName}:this.model={top:d.row,left:d.col,bottom:d.row,right:d.col,sheetName:d.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+c.length)}}get top(){return this.model.top||1}set top(c){this.model.top=c}get left(){return this.model.left||1}set left(c){this.model.left=c}get bottom(){return this.model.bottom||1}set bottom(c){this.model.bottom=c}get right(){return this.model.right||1}set right(c){this.model.right=c}get sheetName(){return this.model.sheetName}set sheetName(c){this.model.sheetName=c}get _serialisedSheetName(){const{sheetName:c}=this.model;return c?/^[a-zA-Z0-9]*$/.test(c)?c+"!":`'${c}'!`:""}expand(c,l,d,p){(!this.model.top||c<this.top)&&(this.top=c),(!this.model.left||l<this.left)&&(this.left=l),(!this.model.bottom||d>this.bottom)&&(this.bottom=d),(!this.model.right||p>this.right)&&(this.right=p)}expandRow(c){if(c){const{dimensions:l,number:d}=c;l&&this.expand(d,l.min,d,l.max)}}expandToAddress(c){const l=i.decodeEx(c);this.expand(l.row,l.col,l.row,l.col)}get tl(){return i.n2l(this.left)+this.top}get $t$l(){return`$${i.n2l(this.left)}$${this.top}`}get br(){return i.n2l(this.right)+this.bottom}get $b$r(){return`$${i.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(c){return(!c.sheetName||!this.sheetName||c.sheetName===this.sheetName)&&!(c.bottom<this.top)&&!(c.top>this.bottom)&&!(c.right<this.left)&&!(c.left>this.right)}contains(c){const l=i.decodeEx(c);return this.containsEx(l)}containsEx(c){return(!c.sheetName||!this.sheetName||c.sheetName===this.sheetName)&&c.row>=this.top&&c.row<=this.bottom&&c.col>=this.left&&c.col<=this.right}forEachAddress(c){for(let l=this.left;l<=this.right;l++)for(let d=this.top;d<=this.bottom;d++)c(i.encodeAddress(d,l),d,l)}}s.exports=o},{"../utils/col-cache":19}],11:[function(e,s,a){const i=e("../utils/under-dash"),o=e("./enums"),u=e("../utils/col-cache"),c=e("./cell");s.exports=class{constructor(l,d){this._worksheet=l,this._number=d,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(l){return this._cells[l-1]}getCellEx(l){let d=this._cells[l.col-1];if(!d){const p=this._worksheet.getColumn(l.col);d=new c(this,p,l.address),this._cells[l.col-1]=d}return d}getCell(l){if(typeof l=="string"){const d=this._worksheet.getColumnKey(l);l=d?d.number:u.l2n(l)}return this._cells[l-1]||this.getCellEx({address:u.encodeAddress(this._number,l),row:this._number,col:l})}splice(l,d){const p=l+d;for(var h=arguments.length,f=new Array(h>2?h-2:0),b=2;b<h;b++)f[b-2]=arguments[b];const y=f.length-d,g=this._cells.length;let x,v,w;if(y<0)for(x=l+f.length;x<=g;x++)w=this._cells[x-1],v=this._cells[x-y-1],v?(w=this.getCell(x),w.value=v.value,w.style=v.style,w._comment=v._comment):w&&(w.value=null,w.style={},w._comment=void 0);else if(y>0)for(x=g;x>=p;x--)v=this._cells[x-1],v?(w=this.getCell(x+y),w.value=v.value,w.style=v.style,w._comment=v._comment):this._cells[x+y-1]=void 0;for(x=0;x<f.length;x++)w=this.getCell(l+x),w.value=f[x],w.style={},w._comment=void 0}eachCell(l,d){if(d||(d=l,l=null),l&&l.includeEmpty){const p=this._cells.length;for(let h=1;h<=p;h++)d(this.getCell(h),h)}else this._cells.forEach((p,h)=>{p&&p.type!==o.ValueType.Null&&d(p,h+1)})}addPageBreak(l,d){const p=this._worksheet,h=Math.max(0,l-1)||0,f=Math.max(0,d-1)||16838,b={id:this._number,max:f,man:1};h&&(b.min=h),p.rowBreaks.push(b)}get values(){const l=[];return this._cells.forEach(d=>{d&&d.type!==o.ValueType.Null&&(l[d.col]=d.value)}),l}set values(l){if(this._cells=[],l)if(l instanceof Array){let d=0;l.hasOwnProperty("0")&&(d=1),l.forEach((p,h)=>{p!==void 0&&(this.getCellEx({address:u.encodeAddress(this._number,h+d),row:this._number,col:h+d}).value=p)})}else this._worksheet.eachColumnKey((d,p)=>{l[p]!==void 0&&(this.getCellEx({address:u.encodeAddress(this._number,d.number),row:this._number,col:d.number}).value=l[p])})}get hasValues(){return i.some(this._cells,l=>l&&l.type!==o.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let l=0;return this.eachCell(()=>{l++}),l}get dimensions(){let l=0,d=0;return this._cells.forEach(p=>{p&&p.type!==o.ValueType.Null&&((!l||l>p.col)&&(l=p.col),d<p.col&&(d=p.col))}),l>0?{min:l,max:d}:null}_applyStyle(l,d){return this.style[l]=d,this._cells.forEach(p=>{p&&(p[l]=d)}),d}get numFmt(){return this.style.numFmt}set numFmt(l){this._applyStyle("numFmt",l)}get font(){return this.style.font}set font(l){this._applyStyle("font",l)}get alignment(){return this.style.alignment}set alignment(l){this._applyStyle("alignment",l)}get protection(){return this.style.protection}set protection(l){this._applyStyle("protection",l)}get border(){return this.style.border}set border(l){this._applyStyle("border",l)}get fill(){return this.style.fill}set fill(l){this._applyStyle("fill",l)}get hidden(){return!!this._hidden}set hidden(l){this._hidden=l}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(l){this._outlineLevel=l}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const l=[];let d=0,p=0;return this._cells.forEach(h=>{if(h){const f=h.model;f&&((!d||d>h.col)&&(d=h.col),p<h.col&&(p=h.col),l.push(f))}}),this.height||l.length?{cells:l,number:this.number,min:d,max:p,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(l){if(l.number!==this._number)throw new Error("Invalid row number in model");let d;this._cells=[],l.cells.forEach(p=>{switch(p.type){case c.Types.Merge:break;default:{let h;if(p.address)h=u.decodeAddress(p.address);else if(d){const{row:f}=d,b=d.col+1;h={row:f,col:b,address:u.encodeAddress(f,b),$col$row:`$${u.n2l(b)}$${f}`}}d=h,this.getCellEx(h).model=p;break}}}),l.height?this.height=l.height:delete this.height,this.hidden=l.hidden,this.outlineLevel=l.outlineLevel||0,this.style=l.style&&JSON.parse(JSON.stringify(l.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,s,a){const i=e("../utils/col-cache");class o{constructor(c,l,d){this.table=c,this.column=l,this.index=d}_set(c,l){this.table.cacheState(),this.column[c]=l}get name(){return this.column.name}set name(c){this._set("name",c)}get filterButton(){return this.column.filterButton}set filterButton(c){this.column.filterButton=c}get style(){return this.column.style}set style(c){this.column.style=c}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(c){this._set("totalsRowLabel",c)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(c){this._set("totalsRowFunction",c)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(c){this._set("totalsRowResult",c)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(c){this._set("totalsRowFormula",c)}}s.exports=class{constructor(u,c){this.worksheet=u,c&&(this.table=c,this.validate(),this.store())}getFormula(u){switch(u.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${u.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${u.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${u.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${u.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${u.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${u.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${u.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${u.name}])`;case"custom":return u.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+u.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:u}=this,c=(y,g,x)=>{y[g]===void 0&&(y[g]=x)};c(u,"headerRow",!0),c(u,"totalsRow",!1),c(u,"style",{}),c(u.style,"theme","TableStyleMedium2"),c(u.style,"showFirstColumn",!1),c(u.style,"showLastColumn",!1),c(u.style,"showRowStripes",!1),c(u.style,"showColumnStripes",!1);const l=(y,g)=>{if(!y)throw new Error(g)};l(u.ref,"Table must have ref"),l(u.columns,"Table must have column definitions"),l(u.rows,"Table must have row definitions"),u.tl=i.decodeAddress(u.ref);const{row:d,col:p}=u.tl;l(d>0,"Table must be on valid row"),l(p>0,"Table must be on valid col");const{width:h,filterHeight:f,tableHeight:b}=this;u.autoFilterRef=i.encode(d,p,d+f-1,p+h-1),u.tableRef=i.encode(d,p,d+b-1,p+h-1),u.columns.forEach((y,g)=>{l(y.name,`Column ${g} must have a name`),g===0?c(y,"totalsRowLabel","Total"):(c(y,"totalsRowFunction","none"),y.totalsRowFormula=this.getFormula(y))})}store(){const u=(f,b)=>{b&&Object.keys(b).forEach(y=>{f[y]=b[y]})},{worksheet:c,table:l}=this,{row:d,col:p}=l.tl;let h=0;if(l.headerRow){const f=c.getRow(d+h++);l.columns.forEach((b,y)=>{const{style:g,name:x}=b,v=f.getCell(p+y);v.value=x,u(v,g)})}if(l.rows.forEach(f=>{const b=c.getRow(d+h++);f.forEach((y,g)=>{const x=b.getCell(p+g);x.value=y,u(x,l.columns[g].style)})}),l.totalsRow){const f=c.getRow(d+h++);l.columns.forEach((b,y)=>{const g=f.getCell(p+y);if(y===0)g.value=b.totalsRowLabel;else{const x=this.getFormula(b);g.value=x?{formula:b.totalsRowFormula,result:b.totalsRowResult}:null}u(g,b.style)})}}load(u){const{table:c}=this,{row:l,col:d}=c.tl;let p=0;if(c.headerRow){const h=u.getRow(l+p++);c.columns.forEach((f,b)=>{h.getCell(d+b).value=f.name})}if(c.rows.forEach(h=>{const f=u.getRow(l+p++);h.forEach((b,y)=>{f.getCell(d+y).value=b})}),c.totalsRow){const h=u.getRow(l+p++);c.columns.forEach((f,b)=>{const y=h.getCell(d+b);b===0?y.value=f.totalsRowLabel:this.getFormula(f)&&(y.value={formula:f.totalsRowFormula,result:f.totalsRowResult})})}}get model(){return this.table}set model(u){this.table=u}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const u=i.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let c=0;c<this._cache.tableHeight;c++){const l=this.worksheet.getRow(u.row+c);for(let d=0;d<this._cache.width;d++)l.getCell(u.col+d).value=null}else{for(let c=this.tableHeight;c<this._cache.tableHeight;c++){const l=this.worksheet.getRow(u.row+c);for(let d=0;d<this._cache.width;d++)l.getCell(u.col+d).value=null}for(let c=0;c<this.tableHeight;c++){const l=this.worksheet.getRow(u.row+c);for(let d=this.width;d<this._cache.width;d++)l.getCell(u.col+d).value=null}}this.store()}addRow(u,c){this.cacheState(),c===void 0?this.table.rows.push(u):this.table.rows.splice(c,0,u)}removeRows(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(u,c)}getColumn(u){const c=this.table.columns[u];return new o(this,c,u)}addColumn(u,c,l){this.cacheState(),l===void 0?(this.table.columns.push(u),this.table.rows.forEach((d,p)=>{d.push(c[p])})):(this.table.columns.splice(l,0,u),this.table.rows.forEach((d,p)=>{d.splice(l,0,c[p])}))}removeColumns(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(u,c),this.table.rows.forEach(l=>{l.splice(u,c)})}_assign(u,c,l){this.cacheState(),u[c]=l}get ref(){return this.table.ref}set ref(u){this._assign(this.table,"ref",u)}get name(){return this.table.name}set name(u){this.table.name=u}get displayName(){return this.table.displyName||this.table.name}set displayNamename(u){this.table.displayName=u}get headerRow(){return this.table.headerRow}set headerRow(u){this._assign(this.table,"headerRow",u)}get totalsRow(){return this.table.totalsRow}set totalsRow(u){this._assign(this.table,"totalsRow",u)}get theme(){return this.table.style.name}set theme(u){this.table.style.name=u}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(u){this.table.style.showFirstColumn=u}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(u){this.table.style.showLastColumn=u}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(u){this.table.style.showRowStripes=u}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(u){this.table.style.showColumnStripes=u}}},{"../utils/col-cache":19}],13:[function(e,s,a){const i=e("./worksheet"),o=e("./defined-names"),u=e("../xlsx/xlsx"),c=e("../csv/csv");s.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new o}get xlsx(){return this._xlsx||(this._xlsx=new u(this)),this._xlsx}get csv(){return this._csv||(this._csv=new c(this)),this._csv}get nextId(){for(let l=1;l<this._worksheets.length;l++)if(!this._worksheets[l])return l;return this._worksheets.length||1}addWorksheet(l,d){const p=this.nextId;d&&(typeof d=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),d={properties:{tabColor:{argb:d}}}):(d.argb||d.theme||d.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),d={properties:{tabColor:d}}));const h=this._worksheets.reduce((y,g)=>(g&&g.orderNo)>y?g.orderNo:y,0),f=Object.assign({},d,{id:p,name:l,orderNo:h+1,workbook:this}),b=new i(f);return this._worksheets[p]=b,b}removeWorksheetEx(l){delete this._worksheets[l.id]}removeWorksheet(l){const d=this.getWorksheet(l);d&&d.destroy()}getWorksheet(l){return l===void 0?this._worksheets.find(Boolean):typeof l=="number"?this._worksheets[l]:typeof l=="string"?this._worksheets.find(d=>d&&d.name===l):void 0}get worksheets(){return this._worksheets.slice(1).sort((l,d)=>l.orderNo-d.orderNo).filter(Boolean)}eachSheet(l){this.worksheets.forEach(d=>{l(d,d.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(l){const d=this.media.length;return this.media.push(Object.assign({},l,{type:"image"})),d}getImage(l){return this.media[l]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(l=>l.model),sheets:this.worksheets.map(l=>l.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(l){this.creator=l.creator,this.lastModifiedBy=l.lastModifiedBy,this.lastPrinted=l.lastPrinted,this.created=l.created,this.modified=l.modified,this.company=l.company,this.manager=l.manager,this.title=l.title,this.subject=l.subject,this.keywords=l.keywords,this.category=l.category,this.description=l.description,this.language=l.language,this.revision=l.revision,this.contentStatus=l.contentStatus,this.properties=l.properties,this.calcProperties=l.calcProperties,this._worksheets=[],l.worksheets.forEach(d=>{const{id:p,name:h,state:f}=d,b=l.sheets&&l.sheets.findIndex(y=>y.id===p);(this._worksheets[p]=new i({id:p,name:h,orderNo:b,state:f,workbook:this})).model=d}),this._definedNames.model=l.definedNames,this.views=l.views,this._themes=l.themes,this.media=l.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,s,a){const i=e("../utils/under-dash"),o=e("../utils/col-cache"),u=e("./range"),c=e("./row"),l=e("./column"),d=e("./enums"),p=e("./image"),h=e("./table"),f=e("./data-validations"),b=e("../utils/encryptor"),{copyStyle:y}=e("../utils/copy-style");s.exports=class{constructor(g){g=g||{},this._workbook=g.workbook,this.id=g.id,this.orderNo=g.orderNo,this.name=g.name,this.state=g.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},g.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!g.pageSetup||!g.pageSetup.fitToWidth&&!g.pageSetup.fitToHeight||g.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},g.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},g.headerFooter),this.dataValidations=new f,this.views=g.views||[],this.autoFilter=g.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(g){if(g===void 0&&(g="sheet"+this.id),this._name!==g){if(typeof g!="string")throw new Error("The name has to be a string.");if(g==="")throw new Error("The name can't be empty.");if(g==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(g))throw new Error(`Worksheet name ${g} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(g))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+g);if(g&&g.length>31&&(console.warn(`Worksheet name ${g} exceeds 31 chars. This will be truncated`),g=g.substring(0,31)),this._workbook._worksheets.find(x=>x&&x.name.toLowerCase()===g.toLowerCase()))throw new Error("Worksheet name already exists: "+g);this._name=g}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const g=new u;return this._rows.forEach(x=>{if(x){const v=x.dimensions;v&&g.expand(x.number,v.min,x.number,v.max)}}),g}get columns(){return this._columns}set columns(g){this._headerRowCount=g.reduce((w,S)=>{const D=(S.header?1:S.headers&&S.headers.length)||0;return Math.max(w,D)},0);let x=1;const v=this._columns=[];g.forEach(w=>{const S=new l(this,x++,!1);v.push(S),S.defn=w})}getColumnKey(g){return this._keys[g]}setColumnKey(g,x){this._keys[g]=x}deleteColumnKey(g){delete this._keys[g]}eachColumnKey(g){i.each(this._keys,g)}getColumn(g){if(typeof g=="string"){const x=this._keys[g];if(x)return x;g=o.l2n(g)}if(this._columns||(this._columns=[]),g>this._columns.length){let x=this._columns.length+1;for(;x<=g;)this._columns.push(new l(this,x++))}return this._columns[g-1]}spliceColumns(g,x){const v=this._rows.length;for(var w=arguments.length,S=new Array(w>2?w-2:0),D=2;D<w;D++)S[D-2]=arguments[D];if(S.length>0)for(let L=0;L<v;L++){const O=[g,x];S.forEach(U=>{O.push(U[L]||null)});const H=this.getRow(L+1);H.splice.apply(H,O)}else this._rows.forEach(L=>{L&&L.splice(g,x)});const T=S.length-x,R=g+x,P=this._columns.length;if(T<0)for(let L=g+S.length;L<=P;L++)this.getColumn(L).defn=this.getColumn(L-T).defn;else if(T>0)for(let L=P;L>=R;L--)this.getColumn(L+T).defn=this.getColumn(L).defn;for(let L=g;L<g+S.length;L++)this.getColumn(L).defn=null;this.workbook.definedNames.spliceColumns(this.name,g,x,S.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let g=0;return this.eachRow(x=>{g=Math.max(g,x.cellCount)}),g}get actualColumnCount(){const g=[];let x=0;return this.eachRow(v=>{v.eachCell(w=>{let{col:S}=w;g[S]||(g[S]=!0,x++)})}),x}_commitRow(){}get _lastRowNumber(){const g=this._rows;let x=g.length;for(;x>0&&g[x-1]===void 0;)x--;return x}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(g){return this._rows[g-1]}findRows(g,x){return this._rows.slice(g-1,g-1+x)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let g=0;return this.eachRow(()=>{g++}),g}getRow(g){let x=this._rows[g-1];return x||(x=this._rows[g-1]=new c(this,g)),x}getRows(g,x){if(x<1)return;const v=[];for(let w=g;w<g+x;w++)v.push(this.getRow(w));return v}addRow(g){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const v=this._nextRow,w=this.getRow(v);return w.values=g,this._setStyleOption(v,x[0]==="i"?x:"n"),w}addRows(g){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const v=[];return g.forEach(w=>{v.push(this.addRow(w,x))}),v}insertRow(g,x){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(g,0,x),this._setStyleOption(g,v),this.getRow(g)}insertRows(g,x){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(g,0,...x),v!=="n")for(let w=0;w<x.length;w++)v[0]==="o"&&this.findRow(x.length+g+w)!==void 0?this._copyStyle(x.length+g+w,g+w,v[1]==="+"):v[0]==="i"&&this.findRow(g-1)!==void 0&&this._copyStyle(g-1,g+w,v[1]==="+");return this.getRows(g,x.length)}_setStyleOption(g){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";x[0]==="o"&&this.findRow(g+1)!==void 0?this._copyStyle(g+1,g,x[1]==="+"):x[0]==="i"&&this.findRow(g-1)!==void 0&&this._copyStyle(g-1,g,x[1]==="+")}_copyStyle(g,x){let v=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const w=this.getRow(g),S=this.getRow(x);S.style=y(w.style),w.eachCell({includeEmpty:v},(D,T)=>{S.getCell(T).style=y(D.style)}),S.height=w.height}duplicateRow(g,x){let v=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const w=this._rows[g-1],S=new Array(x).fill(w.values);this.spliceRows(g+1,v?0:x,...S);for(let D=0;D<x;D++){const T=this._rows[g+D];T.style=w.style,T.height=w.height,w.eachCell({includeEmpty:!0},(R,P)=>{T.getCell(P).style=R.style})}}spliceRows(g,x){const v=g+x;for(var w=arguments.length,S=new Array(w>2?w-2:0),D=2;D<w;D++)S[D-2]=arguments[D];const T=S.length,R=T-x,P=this._rows.length;let L,O;if(R<0)for(g===P&&(this._rows[P-1]=void 0),L=v;L<=P;L++)if(O=this._rows[L-1],O){const H=this.getRow(L+R);H.values=O.values,H.style=O.style,H.height=O.height,O.eachCell({includeEmpty:!0},(U,I)=>{H.getCell(I).style=U.style}),this._rows[L-1]=void 0}else this._rows[L+R-1]=void 0;else if(R>0)for(L=P;L>=v;L--)if(O=this._rows[L-1],O){const H=this.getRow(L+R);H.values=O.values,H.style=O.style,H.height=O.height,O.eachCell({includeEmpty:!0},(U,I)=>{if(H.getCell(I).style=U.style,U._value.constructor.name==="MergeValue"){const F=this.getRow(U._row._number+T).getCell(I),A=U._value._master,_=this.getRow(A._row._number+T).getCell(A._column._number);F.merge(_)}})}else this._rows[L+R-1]=void 0;for(L=0;L<T;L++){const H=this.getRow(g+L);H.style={},H.values=S[L]}this.workbook.definedNames.spliceRows(this.name,g,x,T)}eachRow(g,x){if(x||(x=g,g=void 0),g&&g.includeEmpty){const v=this._rows.length;for(let w=1;w<=v;w++)x(this.getRow(w),w)}else this._rows.forEach(v=>{v&&v.hasValues&&x(v,v.number)})}getSheetValues(){const g=[];return this._rows.forEach(x=>{x&&(g[x.number]=x.values)}),g}findCell(g,x){const v=o.getAddress(g,x),w=this._rows[v.row-1];return w?w.findCell(v.col):void 0}getCell(g,x){const v=o.getAddress(g,x);return this.getRow(v.row).getCellEx(v)}mergeCells(){for(var g=arguments.length,x=new Array(g),v=0;v<g;v++)x[v]=arguments[v];const w=new u(x);this._mergeCellsInternal(w)}mergeCellsWithoutStyle(){for(var g=arguments.length,x=new Array(g),v=0;v<g;v++)x[v]=arguments[v];const w=new u(x);this._mergeCellsInternal(w,!0)}_mergeCellsInternal(g,x){i.each(this._merges,w=>{if(w.intersects(g))throw new Error("Cannot merge already merged cells")});const v=this.getCell(g.top,g.left);for(let w=g.top;w<=g.bottom;w++)for(let S=g.left;S<=g.right;S++)(w>g.top||S>g.left)&&this.getCell(w,S).merge(v,x);this._merges[v.address]=g}_unMergeMaster(g){const x=this._merges[g.address];if(x){for(let v=x.top;v<=x.bottom;v++)for(let w=x.left;w<=x.right;w++)this.getCell(v,w).unmerge();delete this._merges[g.address]}}get hasMerges(){return i.some(this._merges,Boolean)}unMergeCells(){for(var g=arguments.length,x=new Array(g),v=0;v<g;v++)x[v]=arguments[v];const w=new u(x);for(let S=w.top;S<=w.bottom;S++)for(let D=w.left;D<=w.right;D++){const T=this.findCell(S,D);T&&(T.type===d.ValueType.Merge?this._unMergeMaster(T.master):this._merges[T.address]&&this._unMergeMaster(T))}}fillFormula(g,x,v){let w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const S=o.decode(g),{top:D,left:T,bottom:R,right:P}=S,L=P-T+1,O=o.encodeAddress(D,T),H=w==="shared";let U;U=typeof v=="function"?v:Array.isArray(v)?Array.isArray(v[0])?(F,A)=>v[F-D][A-T]:(F,A)=>v[(F-D)*L+(A-T)]:()=>{};let I=!0;for(let F=D;F<=R;F++)for(let A=T;A<=P;A++)I?(this.getCell(F,A).value={shareType:w,formula:x,ref:g,result:U(F,A)},I=!1):this.getCell(F,A).value=H?{sharedFormula:O,result:U(F,A)}:U(F,A)}addImage(g,x){const v={type:"image",imageId:g,range:x};this._media.push(new p(this,v))}getImages(){return this._media.filter(g=>g.type==="image")}addBackgroundImage(g){const x={type:"background",imageId:g};this._media.push(new p(this,x))}getBackgroundImageId(){const g=this._media.find(x=>x.type==="background");return g&&g.imageId}protect(g,x){return new Promise(v=>{this.sheetProtection={sheet:!0},x&&"spinCount"in x&&(x.spinCount=Number.isFinite(x.spinCount)?Math.round(Math.max(0,x.spinCount)):1e5),g&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=b.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=x&&"spinCount"in x?x.spinCount:1e5,this.sheetProtection.hashValue=b.convertPasswordToHash(g,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),x&&(this.sheetProtection=Object.assign(this.sheetProtection,x),!g&&"spinCount"in x&&delete this.sheetProtection.spinCount),v()})}unprotect(){this.sheetProtection=null}addTable(g){const x=new h(this,g);return this.tables[g.name]=x,x}getTable(g){return this.tables[g]}removeTable(g){delete this.tables[g]}getTables(){return Object.values(this.tables)}addConditionalFormatting(g){this.conditionalFormattings.push(g)}removeConditionalFormatting(g){typeof g=="number"?this.conditionalFormattings.splice(g,1):this.conditionalFormattings=g instanceof Function?this.conditionalFormattings.filter(g):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(g){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=g}get model(){const g={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(w=>w.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(w=>w.model),conditionalFormattings:this.conditionalFormattings};g.cols=l.toModel(this.columns);const x=g.rows=[],v=g.dimensions=new u;return this._rows.forEach(w=>{const S=w&&w.model;S&&(v.expand(S.number,S.min,S.number,S.max),x.push(S))}),g.merges=[],i.each(this._merges,w=>{g.merges.push(w.range)}),g}_parseRows(g){this._rows=[],g.rows.forEach(x=>{const v=new c(this,x.number);this._rows[v.number-1]=v,v.model=x})}_parseMergeCells(g){i.each(g.mergeCells,x=>{this.mergeCellsWithoutStyle(x)})}set model(g){this.name=g.name,this._columns=l.fromModel(this,g.cols),this._parseRows(g),this._parseMergeCells(g),this.dataValidations=new f(g.dataValidations),this.properties=g.properties,this.pageSetup=g.pageSetup,this.headerFooter=g.headerFooter,this.views=g.views,this.autoFilter=g.autoFilter,this._media=g.media.map(x=>new p(this,x)),this.sheetProtection=g.sheetProtection,this.tables=g.tables.reduce((x,v)=>{const w=new h;return w.model=v,x[v.name]=w,x},{}),this.conditionalFormattings=g.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,s,a){e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");const i={Workbook:e("./doc/workbook")},o=e("./doc/enums");Object.keys(o).forEach(u=>{i[u]=o[u]}),s.exports=i},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,s,a){const i=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");a.bufferToString=function(o){return typeof o=="string"?o:i?i.decode(o):o.toString()}},{}],17:[function(e,s,a){const i=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:o}=e("buffer");a.stringToBuffer=function(u){return typeof u!="string"?u:i?o.from(i.encode(u).buffer):o.from(u)}},{buffer:220}],18:[function(e,s,a){const i=e("./under-dash"),o=e("./col-cache");s.exports=class{constructor(u){this.template=u,this.sheets={}}addCell(u){this.addCellEx(o.decodeEx(u))}getCell(u){return this.findCellEx(o.decodeEx(u),!0)}findCell(u){return this.findCellEx(o.decodeEx(u),!1)}findCellAt(u,c,l){const d=this.sheets[u],p=d&&d[c];return p&&p[l]}addCellEx(u){if(u.top)for(let c=u.top;c<=u.bottom;c++)for(let l=u.left;l<=u.right;l++)this.getCellAt(u.sheetName,c,l);else this.findCellEx(u,!0)}getCellEx(u){return this.findCellEx(u,!0)}findCellEx(u,c){const l=this.findSheet(u,c),d=this.findSheetRow(l,u,c);return this.findRowCell(d,u,c)}getCellAt(u,c,l){const d=this.sheets[u]||(this.sheets[u]=[]),p=d[c]||(d[c]=[]);return p[l]||(p[l]={sheetName:u,address:o.n2l(l)+c,row:c,col:l})}removeCellEx(u){const c=this.findSheet(u);if(!c)return;const l=this.findSheetRow(c,u);l&&delete l[u.col]}forEachInSheet(u,c){const l=this.sheets[u];l&&l.forEach((d,p)=>{d&&d.forEach((h,f)=>{h&&c(h,p,f)})})}forEach(u){i.each(this.sheets,(c,l)=>{this.forEachInSheet(l,u)})}map(u){const c=[];return this.forEach(l=>{c.push(u(l))}),c}findSheet(u,c){const l=u.sheetName;return this.sheets[l]?this.sheets[l]:c?this.sheets[l]=[]:void 0}findSheetRow(u,c,l){const{row:d}=c;return u&&u[d]?u[d]:l?u[d]=[]:void 0}findRowCell(u,c,l){const{col:d}=c;return u&&u[d]?u[d]:l?u[d]=this.template?Object.assign(c,JSON.parse(JSON.stringify(this.template))):c:void 0}spliceRows(u,c,l,d){const p=this.sheets[u];if(p){const h=[];for(let f=0;f<d;f++)h.push([]);p.splice(c,l,...h)}}spliceColumns(u,c,l,d){const p=this.sheets[u];if(p){const h=[];for(let f=0;f<d;f++)h.push(null);i.each(p,f=>{f.splice(c,l,...h)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(e,s,a){const i=/^[A-Z]+\d+$/,o={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:u=>u<=26?1:u<=676?2:3,_fill(u){let c,l,d,p,h,f=1;if(u>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&u>=1){for(;f<=26;)c=this._dictionary[f-1],this._n2l[f]=c,this._l2n[c]=f,f++;this._l2nFill=1}if(this._l2nFill<2&&u>=2){for(f=27;f<=702;)l=f-27,d=l%26,p=Math.floor(l/26),c=this._dictionary[p]+this._dictionary[d],this._n2l[f]=c,this._l2n[c]=f,f++;this._l2nFill=2}if(this._l2nFill<3&&u>=3){for(f=703;f<=16384;)l=f-703,d=l%26,p=Math.floor(l/26)%26,h=Math.floor(l/676),c=this._dictionary[h]+this._dictionary[p]+this._dictionary[d],this._n2l[f]=c,this._l2n[c]=f,f++;this._l2nFill=3}},l2n(u){if(this._l2n[u]||this._fill(u.length),!this._l2n[u])throw new Error("Out of bounds. Invalid column letter: "+u);return this._l2n[u]},n2l(u){if(u<1||u>16384)throw new Error(u+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[u]||this._fill(this._level(u)),this._n2l[u]},_hash:{},validateAddress(u){if(!i.test(u))throw new Error("Invalid Address: "+u);return!0},decodeAddress(u){const c=u.length<5&&this._hash[u];if(c)return c;let l=!1,d="",p=0,h=!1,f="",b=0;for(let g,x=0;x<u.length;x++)if(g=u.charCodeAt(x),!h&&g>=65&&g<=90)l=!0,d+=u[x],p=26*p+g-64;else if(g>=48&&g<=57)h=!0,f+=u[x],b=10*b+g-48;else if(h&&l&&g!==36)break;if(l){if(p>16384)throw new Error("Out of bounds. Invalid column letter: "+d)}else p=void 0;h||(b=void 0);const y={address:u=d+f,col:p,row:b,$col$row:`$${d}$${f}`};return p<=100&&b<=100&&(this._hash[u]=y,this._hash[y.$col$row]=y),y},getAddress(u,c){if(c){const l=this.n2l(c)+u;return this.decodeAddress(l)}return this.decodeAddress(u)},decode(u){const c=u.split(":");if(c.length===2){const l=this.decodeAddress(c[0]),d=this.decodeAddress(c[1]),p={top:Math.min(l.row,d.row),left:Math.min(l.col,d.col),bottom:Math.max(l.row,d.row),right:Math.max(l.col,d.col)};return p.tl=this.n2l(p.left)+p.top,p.br=this.n2l(p.right)+p.bottom,p.dimensions=`${p.tl}:${p.br}`,p}return this.decodeAddress(u)},decodeEx(u){const c=u.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),l=c[1]||c[2],d=c[3],p=d.split(":");if(p.length>1){let f=this.decodeAddress(p[0]),b=this.decodeAddress(p[1]);const y=Math.min(f.row,b.row),g=Math.min(f.col,b.col),x=Math.max(f.row,b.row),v=Math.max(f.col,b.col);return f=this.n2l(g)+y,b=this.n2l(v)+x,{top:y,left:g,bottom:x,right:v,sheetName:l,tl:{address:f,col:g,row:y,$col$row:`$${this.n2l(g)}$${y}`,sheetName:l},br:{address:b,col:v,row:x,$col$row:`$${this.n2l(v)}$${x}`,sheetName:l},dimensions:`${f}:${b}`}}if(d.startsWith("#"))return l?{sheetName:l,error:d}:{error:d};const h=this.decodeAddress(d);return l?{sheetName:l,...h}:h},encodeAddress:(u,c)=>o.n2l(c)+u,encode(){switch(arguments.length){case 2:return o.encodeAddress(arguments[0],arguments[1]);case 4:return`${o.encodeAddress(arguments[0],arguments[1])}:${o.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(u,c){const[l,d,,p,h]=u,[f,b]=c;return f>=l&&f<=p&&b>=d&&b<=h}};s.exports=o},{}],20:[function(e,s,a){const i=(u,c)=>({...u,...c.reduce((l,d)=>(u[d]&&(l[d]={...u[d]}),l),{})}),o=function(u,c,l){let d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];u[l]&&(c[l]=i(u[l],d))};a.copyStyle=u=>{if(!u)return u;if(c=u,Object.keys(c).length===0)return{};var c;const l={...u};return o(u,l,"font",["color"]),o(u,l,"alignment"),o(u,l,"protection"),u.border&&(o(u,l,"border"),o(u.border,l.border,"top",["color"]),o(u.border,l.border,"left",["color"]),o(u.border,l.border,"bottom",["color"]),o(u.border,l.border,"right",["color"]),o(u.border,l.border,"diagonal",["color"])),u.fill&&(o(u,l,"fill",["fgColor","bgColor","center"]),u.fill.stops&&(l.fill.stops=u.fill.stops.map(d=>i(d,["color"])))),l}},{}],21:[function(e,s,a){(function(i){(function(){const o=e("crypto"),u={hash(c){const l=o.createHash(c);for(var d=arguments.length,p=new Array(d>1?d-1:0),h=1;h<d;h++)p[h-1]=arguments[h];return l.update(i.concat(p)),l.digest()},convertPasswordToHash(c,l,d,p){if(l=l.toLowerCase(),o.getHashes().indexOf(l)<0)throw new Error(`Hash algorithm '${l}' not supported!`);const h=i.from(c,"utf16le");let f=this.hash(l,i.from(d,"base64"),h);for(let b=0;b<p;b++){const y=i.alloc(4);y.writeUInt32LE(b,0),f=this.hash(l,f,y)}return f.toString("base64")},randomBytes:c=>o.randomBytes(c)};s.exports=u}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,s,a){const{SaxesParser:i}=e("saxes"),{PassThrough:o}=e("readable-stream"),{bufferToString:u}=e("./browser-buffer-decode");s.exports=async function*(c){c.pipe&&!c[Symbol.asyncIterator]&&(c=c.pipe(new o));const l=new i;let d;l.on("error",h=>{d=h});let p=[];l.on("opentag",h=>p.push({eventType:"opentag",value:h})),l.on("text",h=>p.push({eventType:"text",value:h})),l.on("closetag",h=>p.push({eventType:"closetag",value:h}));for await(const h of c){if(l.write(u(h)),d)throw d;yield p,p=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,s,a){const i=e("./col-cache"),o=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,u=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;s.exports={slideFormula:function(c,l,d){const p=i.decode(l),h=i.decode(d);return c.replace(o,(f,b,y,g,x)=>{if(x)return f;const v=u.exec(g);if(v){const w=v[1],S=v[2].toUpperCase(),D=v[3],T=v[4];if(S.length>3||S.length===3&&S>"XFD")return f;let R=i.l2n(S),P=parseInt(T,10);return w||(R+=h.col-p.col),D||(P+=h.row-p.row),(b||"")+(w||"")+i.n2l(R)+(D||"")+P}return f})}}},{"./col-cache":19}],24:[function(e,s,a){(function(i,o){(function(){const u=e("readable-stream"),c=e("./utils"),l=e("./string-buf");class d{constructor(g,x){this._data=g,this._encoding=x}get length(){return this.toBuffer().length}copy(g,x,v,w){return this.toBuffer().copy(g,x,v,w)}toBuffer(){return this._buffer||(this._buffer=o.from(this._data,this._encoding)),this._buffer}}class p{constructor(g){this._data=g}get length(){return this._data.length}copy(g,x,v,w){return this._data._buf.copy(g,x,v,w)}toBuffer(){return this._data.toBuffer()}}class h{constructor(g){this._data=g}get length(){return this._data.length}copy(g,x,v,w){this._data.copy(g,x,v,w)}toBuffer(){return this._data}}class f{constructor(g){this.size=g,this.buffer=o.alloc(g),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const g=o.alloc(this.iWrite-this.iRead);return this.buffer.copy(g,0,this.iRead,this.iWrite),g}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(g){let x;return g===0?null:g===void 0||g>=this.length?(x=this.toBuffer(),this.iRead=this.iWrite,x):(x=o.alloc(g),this.buffer.copy(x,0,this.iRead,g),this.iRead+=g,x)}write(g,x,v){const w=Math.min(v,this.size-this.iWrite);return g.copy(this.buffer,this.iWrite,x,x+w),this.iWrite+=w,w}}const b=function(y){y=y||{},this.bufSize=y.bufSize||1048576,this.buffers=[],this.batch=y.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};c.inherits(b,u.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return o.concat(this.buffers.map(y=>y.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const g=this.buffers[this.buffers.length-1];if(!g.full)return g}const y=new f(this.bufSize);return this.buffers.push(y),y},async _pipe(y){await Promise.all(this.pipes.map(function(g){return new Promise(x=>{g.write(y.toBuffer(),()=>{x()})})}))},_writeToBuffers(y){let g=0;const x=y.length;for(;g<x;)g+=this._getWritableBuffer().write(y,g,x-g)},async write(y,g,x){let v;if(g instanceof Function&&(x=g,g="utf8"),x=x||c.nop,y instanceof l)v=new p(y);else if(y instanceof o)v=new h(y);else{if(!(typeof y=="string"||y instanceof String||y instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");v=new d(y,g)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(v);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(v),i.nextTick(x)):(await this._pipe(v),x());else this.paused||this.emit("data",v.toBuffer()),this._writeToBuffers(v),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(y,g,x){const v=w=>{w?x(w):(this._flush(),this.pipes.forEach(S=>{S.end()}),this.emit("finish"))};y?this.write(y,g,v):v()},read(y){let g;if(y){for(g=[];y&&this.buffers.length&&!this.buffers[0].eod;){const x=this.buffers[0],v=x.read(y);y-=v.length,g.push(v),x.eod&&x.full&&this.buffers.shift()}return o.concat(g)}return g=this.buffers.map(x=>x.toBuffer()).filter(Boolean),this.buffers=[],o.concat(g)},setEncoding(y){this.encoding=y},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(y){this.pipes.push(y),!this.paused&&this.buffers.length&&this.end()},unpipe(y){this.pipes=this.pipes.filter(g=>g!==y)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),s.exports=b}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,s,a){(function(i){(function(){s.exports=class{constructor(o){this._buf=i.alloc(o&&o.size||16384),this._encoding=o&&o.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=i.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(o){o=o||0,this._buffer=void 0,this._inPos=o}_grow(o){let u=2*this._buf.length;for(;u<o;)u*=2;const c=i.alloc(u);this._buf.copy(c,0),this._buf=c}addText(o){this._buffer=void 0;let u=this._inPos+this._buf.write(o,this._inPos,this._encoding);for(;u>=this._buf.length-4;)this._grow(this._inPos+o.length),u=this._inPos+this._buf.write(o,this._inPos,this._encoding);this._inPos=u}addStringBuf(o){o.length&&(this._buffer=void 0,this.length+o.length>this.capacity&&this._grow(this.length+o.length),o._buf.copy(this._buf,this._inPos,0,o.length),this._inPos+=o.length)}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,s,a){const{toString:i}=Object.prototype,o=/["&<>]/,u={each:function(c,l){c&&(Array.isArray(c)?c.forEach(l):Object.keys(c).forEach(d=>{l(c[d],d)}))},some:function(c,l){return!!c&&(Array.isArray(c)?c.some(l):Object.keys(c).some(d=>l(c[d],d)))},every:function(c,l){return!c||(Array.isArray(c)?c.every(l):Object.keys(c).every(d=>l(c[d],d)))},map:function(c,l){return c?Array.isArray(c)?c.map(l):Object.keys(c).map(d=>l(c[d],d)):[]},keyBy:(c,l)=>c.reduce((d,p)=>(d[p[l]]=p,d),{}),isEqual:function(c,l){const d=typeof c,p=typeof l,h=Array.isArray(c),f=Array.isArray(l);let b;if(d!==p)return!1;switch(typeof c){case"object":if(h||f)return!(!h||!f)&&c.length===l.length&&c.every((y,g)=>{const x=l[g];return u.isEqual(y,x)});if(c===null||l===null)return c===l;if(b=Object.keys(c),Object.keys(l).length!==b.length)return!1;for(const y of b)if(!l.hasOwnProperty(y))return!1;return u.every(c,(y,g)=>{const x=l[g];return u.isEqual(y,x)});default:return c===l}},escapeHtml(c){const l=o.exec(c);if(!l)return c;let d="",p="",h=0,f=l.index;for(;f<c.length;f++){switch(c.charAt(f)){case'"':p="&quot;";break;case"&":p="&amp;";break;case"'":p="&apos;";break;case"<":p="&lt;";break;case">":p="&gt;";break;default:continue}h!==f&&(d+=c.substring(h,f)),h=f+1,d+=p}return h!==f?d+c.substring(h,f):d},strcmp:(c,l)=>c<l?-1:c>l?1:0,isUndefined:c=>i.call(c)==="[object Undefined]",isObject:c=>i.call(c)==="[object Object]",deepMerge(){const c=arguments[0]||{},{length:l}=arguments;let d,p,h;function f(b,y){d=c[y],h=Array.isArray(b),u.isObject(b)||h?(h?(h=!1,p=d&&Array.isArray(d)?d:[]):p=d&&u.isObject(d)?d:{},c[y]=u.deepMerge(p,b)):u.isUndefined(b)||(c[y]=b)}for(let b=0;b<l;b++)u.each(arguments[b],f);return c}};s.exports=u},{}],27:[function(e,s,a){(function(i,o){(function(){const u=e("fs"),c=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,l={nop(){},promiseImmediate:d=>new Promise(p=>{i.setImmediate?o(()=>{p(d)}):setTimeout(()=>{p(d)},1)}),inherits:function(d,p,h,f){d.super_=p,f||(f=h,h=null),h&&Object.keys(h).forEach(y=>{Object.defineProperty(d,y,Object.getOwnPropertyDescriptor(h,y))});const b={constructor:{value:d,enumerable:!1,writable:!1,configurable:!0}};f&&Object.keys(f).forEach(y=>{b[y]=Object.getOwnPropertyDescriptor(f,y)}),d.prototype=Object.create(p.prototype,b)},dateToExcel:(d,p)=>25569+d.getTime()/864e5-(p?1462:0),excelToDate(d,p){const h=Math.round(24*(d-25569+(p?1462:0))*3600*1e3);return new Date(h)},parsePath(d){const p=d.lastIndexOf("/");return{path:d.substring(0,p),name:d.substring(p+1)}},getRelsPath(d){const p=l.parsePath(d);return`${p.path}/_rels/${p.name}.rels`},xmlEncode(d){const p=c.exec(d);if(!p)return d;let h="",f="",b=0,y=p.index;for(;y<d.length;y++){const g=d.charCodeAt(y);switch(g){case 34:f="&quot;";break;case 38:f="&amp;";break;case 39:f="&apos;";break;case 60:f="&lt;";break;case 62:f="&gt;";break;case 127:f="";break;default:if(g<=31&&(g<=8||g>=11&&g!==13)){f="";break}continue}b!==y&&(h+=d.substring(b,y)),b=y+1,f&&(h+=f)}return b!==y?h+d.substring(b,y):h},xmlDecode:d=>d.replace(/&([a-z]*);/g,p=>{switch(p){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return p}}),validInt(d){const p=parseInt(d,10);return Number.isNaN(p)?0:p},isDateFmt(d){return d?(d=(d=d.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:d=>new Promise(p=>{u.access(d,u.constants.F_OK,h=>{p(!h)})})},toIsoDateString:d=>d.toIsoString().subsstr(0,10),parseBoolean:d=>d===!0||d==="true"||d===1||d==="1"};s.exports=l}).call(this)}).call(this,typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,s,a){const i=e("./under-dash"),o=e("./utils");function u(d,p,h){d.push(` ${p}="${o.xmlEncode(h.toString())}"`)}function c(d,p){if(p){const h=[];i.each(p,(f,b)=>{f!==void 0&&u(h,b,f)}),d.push(h.join(""))}}class l{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(p){const h=this._xml;h.push("<?xml"),c(h,p),h.push(`?>
`)}openNode(p,h){const f=this.tos,b=this._xml;f&&this.open&&b.push(">"),this._stack.push(p),b.push("<"),b.push(p),c(b,h),this.leaf=!0,this.open=!0}addAttribute(p,h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");h!==void 0&&u(this._xml,p,h)}addAttributes(p){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");c(this._xml,p)}writeText(p){const h=this._xml;this.open&&(h.push(">"),this.open=!1),this.leaf=!1,h.push(o.xmlEncode(p.toString()))}writeXml(p){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(p)}closeNode(){const p=this._stack.pop(),h=this._xml;this.leaf?h.push("/>"):(h.push("</"),h.push(p),h.push(">")),this.open=!1,this.leaf=!1}leafNode(p,h,f){this.openNode(p,h),f!==void 0&&this.writeText(f),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const p=this._rollbacks.pop();this._xml.length>p.xml&&this._xml.splice(p.xml,this._xml.length-p.xml),this._stack.length>p.stack&&this._stack.splice(p.stack,this._stack.length-p.stack),this.leaf=p.leaf,this.open=p.open}get xml(){return this.closeAll(),this._xml.join("")}}l.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},s.exports=l},{"./under-dash":26,"./utils":27}],29:[function(e,s,a){(function(i){(function(){const o=e("events"),u=e("jszip"),c=e("./stream-buf"),{stringToBuffer:l}=e("./browser-buffer-encode");class d extends o.EventEmitter{constructor(h){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},h),this.zip=new u,this.stream=new c}append(h,f){f.hasOwnProperty("base64")&&f.base64?this.zip.file(f.name,h,{base64:!0}):(i.browser&&typeof h=="string"&&(h=l(h)),this.zip.file(f.name,h))}async finalize(){const h=await this.zip.generateAsync(this.options);this.stream.end(h),this.emit("finish")}read(h){return this.stream.read(h)}setEncoding(h){return this.stream.setEncoding(h)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(h,f){return this.stream.pipe(h,f)}unpipe(h){return this.stream.unpipe(h)}unshift(h){return this.stream.unshift(h)}wrap(h){return this.stream.wrap(h)}}s.exports={ZipWriter:d}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,s,a){s.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,s,a){s.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,s,a){const i=e("../../utils/parse-sax"),o=e("../../utils/xml-stream");class u{prepare(){}render(){}parseOpen(l){}parseText(l){}parseClose(l){}reconcile(l,d){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(l=>{l instanceof u?l.reset():l.xform&&l.xform.reset()})}mergeModel(l){this.model=Object.assign(this.model||{},l)}async parse(l){for await(const d of l)for(const{eventType:p,value:h}of d)if(p==="opentag")this.parseOpen(h);else if(p==="text")this.parseText(h);else if(p==="closetag"&&!this.parseClose(h.name))return this.model;return this.model}async parseStream(l){return this.parse(i(l))}get xml(){return this.toXml(this.model)}toXml(l){const d=new o;return this.render(d,l),d.xml}static toAttribute(l,d){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(l===void 0){if(p)return d}else if(p||l!==d)return l.toString()}static toStringAttribute(l,d){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return u.toAttribute(l,d,p)}static toStringValue(l,d){return l===void 0?d:l}static toBoolAttribute(l,d){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(l===void 0){if(p)return d}else if(p||l!==d)return l?"1":"0"}static toBoolValue(l,d){return l===void 0?d:l==="1"}static toIntAttribute(l,d){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return u.toAttribute(l,d,p)}static toIntValue(l,d){return l===void 0?d:parseInt(l,10)}static toFloatAttribute(l,d){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return u.toAttribute(l,d,p)}static toFloatValue(l,d){return l===void 0?d:parseFloat(l)}}s.exports=u},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,s,a){const i=e("../base-xform"),o=e("../../../utils/col-cache");function u(l){try{return o.decodeEx(l),!0}catch{return!1}}function c(l){const d=[];let p=!1,h="";return l.split(",").forEach(f=>{if(!f)return;const b=(f.match(/'/g)||[]).length;if(!b)return void(p?h+=f+",":u(f)&&d.push(f));const y=b%2==0;!p&&y&&u(f)?d.push(f):p&&!y?(p=!1,u(h+f)&&d.push(h+f),h=""):(p=!0,h+=f+",")}),d}s.exports=class extends i{render(l,d){l.openNode("definedName",{name:d.name,localSheetId:d.localSheetId}),l.writeText(d.ranges.join(",")),l.closeNode()}parseOpen(l){switch(l.name){case"definedName":return this._parsedName=l.attributes.name,this._parsedLocalSheetId=l.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(l){this._parsedText.push(l)}parseClose(){return this.model={name:this._parsedName,ranges:c(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,s,a){const i=e("../../../utils/utils"),o=e("../base-xform");s.exports=class extends o{render(u,c){u.leafNode("sheet",{sheetId:c.id,name:c.name,state:c.state,"r:id":c.rId})}parseOpen(u){return u.name==="sheet"&&(this.model={name:i.xmlDecode(u.attributes.name),id:parseInt(u.attributes.sheetId,10),state:u.attributes.state,rId:u.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{render(o,u){o.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:u.fullCalcOnLoad?1:void 0})}parseOpen(o){return o.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{render(o,u){o.leafNode("workbookPr",{date1904:u.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(o){return o.name==="workbookPr"&&(this.model={date1904:o.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{render(o,u){const c={xWindow:u.x||0,yWindow:u.y||0,windowWidth:u.width||12e3,windowHeight:u.height||24e3,firstSheet:u.firstSheet,activeTab:u.activeTab};u.visibility&&u.visibility!=="visible"&&(c.visibility=u.visibility),o.leafNode("workbookView",c)}parseOpen(o){if(o.name==="workbookView"){const u=this.model={},c=function(d,p,h){const f=p!==void 0?u[d]=p:h;f!==void 0&&(u[d]=f)},l=function(d,p,h){const f=p!==void 0?u[d]=parseInt(p,10):h;f!==void 0&&(u[d]=f)};return l("x",o.attributes.xWindow,0),l("y",o.attributes.yWindow,0),l("width",o.attributes.windowWidth,25e3),l("height",o.attributes.windowHeight,1e4),c("visibility",o.attributes.visibility,"visible"),l("activeTab",o.attributes.activeTab,void 0),l("firstSheet",o.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(e,s,a){const i=e("../../../utils/under-dash"),o=e("../../../utils/col-cache"),u=e("../../../utils/xml-stream"),c=e("../base-xform"),l=e("../static-xform"),d=e("../list-xform"),p=e("./defined-name-xform"),h=e("./sheet-xform"),f=e("./workbook-view-xform"),b=e("./workbook-properties-xform"),y=e("./workbook-calc-properties-xform");class g extends c{constructor(){super(),this.map={fileVersion:g.STATIC_XFORMS.fileVersion,workbookPr:new b,bookViews:new d({tag:"bookViews",count:!1,childXform:new f}),sheets:new d({tag:"sheets",count:!1,childXform:new h}),definedNames:new d({tag:"definedNames",count:!1,childXform:new p}),calcPr:new y}}prepare(v){v.sheets=v.worksheets;const w=[];let S=0;v.sheets.forEach(D=>{if(D.pageSetup&&D.pageSetup.printArea&&D.pageSetup.printArea.split("&&").forEach(T=>{const R=T.split(":"),P={name:"_xlnm.Print_Area",ranges:[`'${D.name}'!$${R[0]}:$${R[1]}`],localSheetId:S};w.push(P)}),D.pageSetup&&(D.pageSetup.printTitlesRow||D.pageSetup.printTitlesColumn)){const T=[];if(D.pageSetup.printTitlesColumn){const P=D.pageSetup.printTitlesColumn.split(":");T.push(`'${D.name}'!$${P[0]}:$${P[1]}`)}if(D.pageSetup.printTitlesRow){const P=D.pageSetup.printTitlesRow.split(":");T.push(`'${D.name}'!$${P[0]}:$${P[1]}`)}const R={name:"_xlnm.Print_Titles",ranges:T,localSheetId:S};w.push(R)}S++}),w.length&&(v.definedNames=v.definedNames.concat(w)),(v.media||[]).forEach((D,T)=>{D.name=D.type+(T+1)})}render(v,w){v.openXml(u.StdDocAttributes),v.openNode("workbook",g.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(v),this.map.workbookPr.render(v,w.properties),this.map.bookViews.render(v,w.views),this.map.sheets.render(v,w.sheets),this.map.definedNames.render(v,w.definedNames),this.map.calcPr.render(v,w.calcProperties),v.closeNode()}parseOpen(v){if(this.parser)return this.parser.parseOpen(v),!0;switch(v.name){case"workbook":return!0;default:return this.parser=this.map[v.name],this.parser&&this.parser.parseOpen(v),!0}}parseText(v){this.parser&&this.parser.parseText(v)}parseClose(v){if(this.parser)return this.parser.parseClose(v)||(this.parser=void 0),!0;switch(v){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(v){const w=(v.workbookRels||[]).reduce((P,L)=>(P[L.Id]=L,P),{}),S=[];let D,T=0;(v.sheets||[]).forEach(P=>{const L=w[P.rId];L&&(D=v.worksheetHash["xl/"+L.Target.replace(/^(\s|\/xl\/)+/,"")],D&&(D.name=P.name,D.id=P.id,D.state=P.state,S[T++]=D))});const R=[];i.each(v.definedNames,P=>{if(P.name==="_xlnm.Print_Area"){if(D=S[P.localSheetId],D){D.pageSetup||(D.pageSetup={});const L=o.decodeEx(P.ranges[0]);D.pageSetup.printArea=D.pageSetup.printArea?`${D.pageSetup.printArea}&&${L.dimensions}`:L.dimensions}}else if(P.name==="_xlnm.Print_Titles"){if(D=S[P.localSheetId],D){D.pageSetup||(D.pageSetup={});const L=P.ranges.join(","),O=/\$/g,H=/\$\d+:\$\d+/,U=L.match(H);if(U&&U.length){const A=U[0];D.pageSetup.printTitlesRow=A.replace(O,"")}const I=/\$[A-Z]+:\$[A-Z]+/,F=L.match(I);if(F&&F.length){const A=F[0];D.pageSetup.printTitlesColumn=A.replace(O,"")}}}else R.push(P)}),v.definedNames=R,v.media.forEach((P,L)=>{P.index=L})}}g.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},g.STATIC_XFORMS={fileVersion:new l({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},s.exports=g},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,s,a){const i=e("../strings/rich-text-xform"),o=e("../../../utils/utils"),u=e("../base-xform"),c=s.exports=function(l){this.model=l};o.inherits(c,u,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new i),this._richTextXform},render(l,d){d=d||this.model,l.openNode("comment",{ref:d.ref,authorId:0}),l.openNode("text"),d&&d.note&&d.note.texts&&d.note.texts.forEach(p=>{this.richTextXform.render(l,p)}),l.closeNode(),l.closeNode()},parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"comment":return this.model={type:"note",note:{texts:[]},...l.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(l),!0;default:return!1}},parseText(l){this.parser&&this.parser.parseText(l)},parseClose(l){switch(l){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(l),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,s,a){const i=e("../../../utils/xml-stream"),o=e("../../../utils/utils"),u=e("../base-xform"),c=e("./comment-xform"),l=s.exports=function(){this.map={comment:new c}};o.inherits(l,u,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(d,p){p=p||this.model,d.openXml(i.StdDocAttributes),d.openNode("comments",l.COMMENTS_ATTRIBUTES),d.openNode("authors"),d.leafNode("author",null,"Author"),d.closeNode(),d.openNode("commentList"),p.comments.forEach(h=>{this.map.comment.render(d,h)}),d.closeNode(),d.closeNode()},parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(d),!0;default:return!1}},parseText(d){this.parser&&this.parser.parseText(d)},parseClose(d){switch(d){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(d),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,s,a){const i=e("../../base-xform");s.exports=class extends i{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,u,c){(u===c[2]||this.tag==="x:SizeWithCells"&&u===c[1])&&o.leafNode(this.tag)}parseOpen(o){switch(o.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(e,s,a){const i=e("../../base-xform");s.exports=class extends i{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,u){o.leafNode(this.tag,null,u)}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"x:Anchor"}getAnchorRect(o){const u=Math.floor(o.left),c=Math.floor(68*(o.left-u)),l=Math.floor(o.top),d=Math.floor(18*(o.top-l)),p=Math.floor(o.right),h=Math.floor(68*(o.right-p)),f=Math.floor(o.bottom);return[u,c,l,d,p,h,f,Math.floor(18*(o.bottom-f))]}getDefaultRect(o){const u=o.col,c=Math.max(o.row-2,0);return[u,6,c,14,u+2,2,c+4,16]}render(o,u){const c=u.anchor?this.getAnchorRect(u.anchor):this.getDefaultRect(u.refAddress);o.leafNode("x:Anchor",null,c.join(", "))}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../base-xform":32}],44:[function(e,s,a){const i=e("../base-xform"),o=e("./vml-anchor-xform"),u=e("./style/vml-protection-xform"),c=e("./style/vml-position-xform"),l=["twoCells","oneCells","absolute"];s.exports=class extends i{constructor(){super(),this.map={"x:Anchor":new o,"x:Locked":new u({tag:"x:Locked"}),"x:LockText":new u({tag:"x:LockText"}),"x:SizeWithCells":new c({tag:"x:SizeWithCells"}),"x:MoveWithCells":new c({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(d,p){const{protection:h,editAs:f}=p.note;d.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(d,f,l),this.map["x:SizeWithCells"].render(d,f,l),this.map["x:Anchor"].render(d,p),this.map["x:Locked"].render(d,h.locked),d.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(d,h.lockText),d.leafNode("x:Row",null,p.refAddress.row-1),d.leafNode("x:Column",null,p.refAddress.col-1),d.closeNode()}parseOpen(d){switch(d.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const d=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),p=Object.keys(d).length;this.model.editAs=l[p],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,s,a){const i=e("../../../utils/xml-stream"),o=e("../base-xform"),u=e("./vml-shape-xform");class c extends o{constructor(){super(),this.map={"v:shape":new u}}get tag(){return"xml"}render(d,p){d.openXml(i.StdDocAttributes),d.openNode(this.tag,c.DRAWING_ATTRIBUTES),d.openNode("o:shapelayout",{"v:ext":"edit"}),d.leafNode("o:idmap",{"v:ext":"edit",data:1}),d.closeNode(),d.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),d.leafNode("v:stroke",{joinstyle:"miter"}),d.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),d.closeNode(),p.comments.forEach((h,f)=>{this.map["v:shape"].render(d,h,f)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}reconcile(d,p){d.anchors.forEach(h=>{h.br?this.map["xdr:twoCellAnchor"].reconcile(h,p):this.map["xdr:oneCellAnchor"].reconcile(h,p)})}}c.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},s.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,s,a){const i=e("../base-xform"),o=e("./vml-textbox-xform"),u=e("./vml-client-data-xform");class c extends i{constructor(){super(),this.map={"v:textbox":new o,"x:ClientData":new u}}get tag(){return"v:shape"}render(d,p,h){d.openNode("v:shape",c.V_SHAPE_ATTRIBUTES(p,h)),d.leafNode("v:fill",{color2:"infoBackground [80]"}),d.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),d.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(d,p),this.map["x:ClientData"].render(d,p),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={margins:{insetmode:d.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}c.V_SHAPE_ATTRIBUTES=(l,d)=>({id:"_x0000_s"+(1025+d),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":l.note.margins&&l.note.margins.insetmode}),s.exports=c},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"v:textbox"}conversionUnit(o,u,c){return`${parseFloat(o)*u.toFixed(2)}${c}`}reverseConversionUnit(o){return(o||"").split(",").map(u=>Number(parseFloat(this.conversionUnit(parseFloat(u),.1,"")).toFixed(2)))}render(o,u){const c={style:"mso-direction-alt:auto"};if(u&&u.note){let{inset:l}=u.note&&u.note.margins;Array.isArray(l)&&(l=l.map(d=>this.conversionUnit(d,10,"mm")).join(",")),l&&(c.inset=l)}o.openNode("v:textbox",c),o.leafNode("div",{style:"text-align:left"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:return this.model={inset:this.reverseConversionUnit(o.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(e,s,a){const i=e("./base-xform");s.exports=class extends i{createNewModel(o){return{}}parseOpen(o){return this.parser=this.parser||this.map[o.name],this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag&&(this.model=this.createNewModel(o),!0)}parseText(o){this.parser&&this.parser.parseText(o)}onParserClose(o,u){this.model[o]=u.model}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.onParserClose(o,this.parser),this.parser=void 0),!0):o!==this.tag}}},{"./base-xform":32}],49:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{render(o,u){o.openNode("HeadingPairs"),o.openNode("vt:vector",{size:2,baseType:"variant"}),o.openNode("vt:variant"),o.leafNode("vt:lpstr",void 0,"Worksheets"),o.closeNode(),o.openNode("vt:variant"),o.leafNode("vt:i4",void 0,u.length),o.closeNode(),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="HeadingPairs"}parseText(){}parseClose(o){return o!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{render(o,u){o.openNode("TitlesOfParts"),o.openNode("vt:vector",{size:u.length,baseType:"lpstr"}),u.forEach(c=>{o.leafNode("vt:lpstr",void 0,c.name)}),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="TitlesOfParts"}parseText(){}parseClose(o){return o!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(e,s,a){const i=e("../../../utils/xml-stream"),o=e("../base-xform"),u=e("../simple/string-xform"),c=e("./app-heading-pairs-xform"),l=e("./app-titles-of-parts-xform");class d extends o{constructor(){super(),this.map={Company:new u({tag:"Company"}),Manager:new u({tag:"Manager"}),HeadingPairs:new c,TitleOfParts:new l}}render(h,f){h.openXml(i.StdDocAttributes),h.openNode("Properties",d.PROPERTY_ATTRIBUTES),h.leafNode("Application",void 0,"Microsoft Excel"),h.leafNode("DocSecurity",void 0,"0"),h.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(h,f.worksheets),this.map.TitleOfParts.render(h,f.worksheets),this.map.Company.render(h,f.company||""),this.map.Manager.render(h,f.manager),h.leafNode("LinksUpToDate",void 0,"false"),h.leafNode("SharedDoc",void 0,"false"),h.leafNode("HyperlinksChanged",void 0,"false"),h.leafNode("AppVersion",void 0,"16.0300"),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"Properties":return!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}d.DateFormat=function(p){return p.toISOString().replace(/[.]\d{3,6}/,"")},d.DateAttrs={"xsi:type":"dcterms:W3CDTF"},d.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},s.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,s,a){const i=e("../../../utils/xml-stream"),o=e("../base-xform");class u extends o{render(l,d){l.openXml(i.StdDocAttributes),l.openNode("Types",u.PROPERTY_ATTRIBUTES);const p={};(d.media||[]).forEach(h=>{if(h.type==="image"){const f=h.extension;p[f]||(p[f]=!0,l.leafNode("Default",{Extension:f,ContentType:"image/"+f}))}}),l.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),l.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),l.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),d.worksheets.forEach(h=>{const f=`/xl/worksheets/sheet${h.id}.xml`;l.leafNode("Override",{PartName:f,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),l.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),l.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),d.sharedStrings&&d.sharedStrings.count&&l.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),d.tables&&d.tables.forEach(h=>{l.leafNode("Override",{PartName:"/xl/tables/"+h.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),d.drawings&&d.drawings.forEach(h=>{l.leafNode("Override",{PartName:`/xl/drawings/${h.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),d.commentRefs&&(l.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),d.commentRefs.forEach(h=>{let{commentName:f}=h;l.leafNode("Override",{PartName:`/xl/${f}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),l.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),l.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),l.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}u.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},s.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,s,a){const i=e("../../../utils/xml-stream"),o=e("../base-xform"),u=e("../simple/date-xform"),c=e("../simple/string-xform"),l=e("../simple/integer-xform");class d extends o{constructor(){super(),this.map={"dc:creator":new c({tag:"dc:creator"}),"dc:title":new c({tag:"dc:title"}),"dc:subject":new c({tag:"dc:subject"}),"dc:description":new c({tag:"dc:description"}),"dc:identifier":new c({tag:"dc:identifier"}),"dc:language":new c({tag:"dc:language"}),"cp:keywords":new c({tag:"cp:keywords"}),"cp:category":new c({tag:"cp:category"}),"cp:lastModifiedBy":new c({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new u({tag:"cp:lastPrinted",format:d.DateFormat}),"cp:revision":new l({tag:"cp:revision"}),"cp:version":new c({tag:"cp:version"}),"cp:contentStatus":new c({tag:"cp:contentStatus"}),"cp:contentType":new c({tag:"cp:contentType"}),"dcterms:created":new u({tag:"dcterms:created",attrs:d.DateAttrs,format:d.DateFormat}),"dcterms:modified":new u({tag:"dcterms:modified",attrs:d.DateAttrs,format:d.DateFormat})}}render(h,f){h.openXml(i.StdDocAttributes),h.openNode("cp:coreProperties",d.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(h,f.creator),this.map["dc:title"].render(h,f.title),this.map["dc:subject"].render(h,f.subject),this.map["dc:description"].render(h,f.description),this.map["dc:identifier"].render(h,f.identifier),this.map["dc:language"].render(h,f.language),this.map["cp:keywords"].render(h,f.keywords),this.map["cp:category"].render(h,f.category),this.map["cp:lastModifiedBy"].render(h,f.lastModifiedBy),this.map["cp:lastPrinted"].render(h,f.lastPrinted),this.map["cp:revision"].render(h,f.revision),this.map["cp:version"].render(h,f.version),this.map["cp:contentStatus"].render(h,f.contentStatus),this.map["cp:contentType"].render(h,f.contentType),this.map["dcterms:created"].render(h,f.created),this.map["dcterms:modified"].render(h,f.modified),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[h.name],this.parser)return this.parser.parseOpen(h),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(h))}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+h)}}}d.DateFormat=function(p){return p.toISOString().replace(/[.]\d{3}/,"")},d.DateAttrs={"xsi:type":"dcterms:W3CDTF"},d.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},s.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{render(o,u){o.leafNode("Relationship",u)}parseOpen(o){switch(o.name){case"Relationship":return this.model=o.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(e,s,a){const i=e("../../../utils/xml-stream"),o=e("../base-xform"),u=e("./relationship-xform");class c extends o{constructor(){super(),this.map={Relationship:new u}}render(d,p){p=p||this._values,d.openXml(i.StdDocAttributes),d.openNode("Relationships",c.RELATIONSHIPS_ATTRIBUTES),p.forEach(h=>{this.map.Relationship.render(d,h)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[d.name],this.parser)return this.parser.parseOpen(d),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(d){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+d)}}}c.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},s.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset(),this.model={range:{editAs:o.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}reconcilePicture(o,u){if(o&&o.rId){const c=u.rels[o.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(c){const l=c[1],d=u.mediaIndex[l];return u.media[d]}}}}},{"../base-xform":32}],57:[function(e,s,a){const i=e("../base-xform"),o=e("./blip-xform");s.exports=class extends i{constructor(){super(),this.map={"a:blip":new o}}get tag(){return"xdr:blipFill"}render(u,c){u.openNode(this.tag),this.map["a:blip"].render(u,c),u.openNode("a:stretch"),u.leafNode("a:fillRect"),u.closeNode(),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"a:blip"}render(o,u){o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":u.rId,cstate:"print"})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"xdr:cNvPicPr"}render(o){o.openNode(this.tag),o.leafNode("a:picLocks",{noChangeAspect:"1"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(e,s,a){const i=e("../base-xform"),o=e("./hlink-click-xform"),u=e("./ext-lst-xform");s.exports=class extends i{constructor(){super(),this.map={"a:hlinkClick":new o,"a:extLst":new u}}get tag(){return"xdr:cNvPr"}render(c,l){c.openNode(this.tag,{id:l.index,name:"Picture "+l.index}),this.map["a:hlinkClick"].render(c,l),this.map["a:extLst"].render(c,l),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,s,a){const i=e("../base-xform"),o=e("../simple/integer-xform");s.exports=class extends i{constructor(u){super(),this.tag=u.tag,this.map={"xdr:col":new o({tag:"xdr:col",zero:!0}),"xdr:colOff":new o({tag:"xdr:colOff",zero:!0}),"xdr:row":new o({tag:"xdr:row",zero:!0}),"xdr:rowOff":new o({tag:"xdr:rowOff",zero:!0})}}render(u,c){u.openNode(this.tag),this.map["xdr:col"].render(u,c.nativeCol),this.map["xdr:colOff"].render(u,c.nativeColOff),this.map["xdr:row"].render(u,c.nativeRow),this.map["xdr:rowOff"].render(u,c.nativeRowOff),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,s,a){const i=e("../../../utils/col-cache"),o=e("../../../utils/xml-stream"),u=e("../base-xform"),c=e("./two-cell-anchor-xform"),l=e("./one-cell-anchor-xform");class d extends u{constructor(){super(),this.map={"xdr:twoCellAnchor":new c,"xdr:oneCellAnchor":new l}}prepare(h){h.anchors.forEach((f,b)=>{f.anchorType=function(y){return(typeof y.range=="string"?i.decode(y.range):y.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(f),this.map[f.anchorType].prepare(f,{index:b})})}get tag(){return"xdr:wsDr"}render(h,f){h.openXml(o.StdDocAttributes),h.openNode(this.tag,d.DRAWING_ATTRIBUTES),f.anchors.forEach(b=>{this.map[b.anchorType].render(h,b)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(h){case this.tag:return!1;default:return!0}}reconcile(h,f){h.anchors.forEach(b=>{b.br?this.map["xdr:twoCellAnchor"].reconcile(b,f):this.map["xdr:oneCellAnchor"].reconcile(b,f)})}}d.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},s.exports=d},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"a:extLst"}render(o){o.openNode(this.tag),o.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),o.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),o.closeNode(),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.map={}}render(o,u){o.openNode(this.tag);const c=Math.floor(9525*u.width),l=Math.floor(9525*u.height);o.addAttribute("cx",c),o.addAttribute("cy",l),o.closeNode()}parseOpen(o){return o.name===this.tag&&(this.model={width:parseInt(o.attributes.cx||"0",10)/9525,height:parseInt(o.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"a:hlinkClick"}render(o,u){u.hyperlinks&&u.hyperlinks.rId&&o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":u.hyperlinks.rId,tooltip:u.hyperlinks.tooltip})}parseOpen(o){switch(o.name){case this.tag:return this.model={hyperlinks:{rId:o.attributes["r:id"],tooltip:o.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(e,s,a){const i=e("../base-xform"),o=e("./c-nv-pr-xform"),u=e("./c-nv-pic-pr-xform");s.exports=class extends i{constructor(){super(),this.map={"xdr:cNvPr":new o,"xdr:cNvPicPr":new u}}get tag(){return"xdr:nvPicPr"}render(c,l){c.openNode(this.tag),this.map["xdr:cNvPr"].render(c,l),this.map["xdr:cNvPicPr"].render(c,l),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,s,a){const i=e("./base-cell-anchor-xform"),o=e("../static-xform"),u=e("./cell-position-xform"),c=e("./ext-xform"),l=e("./pic-xform");s.exports=class extends i{constructor(){super(),this.map={"xdr:from":new u({tag:"xdr:from"}),"xdr:ext":new c({tag:"xdr:ext"}),"xdr:pic":new l,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(d,p){this.map["xdr:pic"].prepare(d.picture,p)}render(d,p){d.openNode(this.tag,{editAs:p.range.editAs||"oneCell"}),this.map["xdr:from"].render(d,p.range.tl),this.map["xdr:ext"].render(d,p.range.ext),this.map["xdr:pic"].render(d,p.picture),this.map["xdr:clientData"].render(d,{}),d.closeNode()}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(d,p){d.medium=this.reconcilePicture(d.picture,p)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,s,a){const i=e("../base-xform"),o=e("../static-xform"),u=e("./blip-fill-xform"),c=e("./nv-pic-pr-xform"),l=e("./sp-pr");s.exports=class extends i{constructor(){super(),this.map={"xdr:nvPicPr":new c,"xdr:blipFill":new u,"xdr:spPr":new o(l)}}get tag(){return"xdr:pic"}prepare(d,p){d.index=p.index+1}render(d,p){d.openNode(this.tag),this.map["xdr:nvPicPr"].render(d,p),this.map["xdr:blipFill"].render(d,p),this.map["xdr:spPr"].render(d,p),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset();break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(){}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,s,a){s.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,s,a){const i=e("./base-cell-anchor-xform"),o=e("../static-xform"),u=e("./cell-position-xform"),c=e("./pic-xform");s.exports=class extends i{constructor(){super(),this.map={"xdr:from":new u({tag:"xdr:from"}),"xdr:to":new u({tag:"xdr:to"}),"xdr:pic":new c,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(l,d){this.map["xdr:pic"].prepare(l.picture,d)}render(l,d){l.openNode(this.tag,{editAs:d.range.editAs||"oneCell"}),this.map["xdr:from"].render(l,d.range.tl),this.map["xdr:to"].render(l,d.range.br),this.map["xdr:pic"].render(l,d.picture),this.map["xdr:clientData"].render(l,{}),l.closeNode()}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(l,d){l.medium=this.reconcilePicture(l.picture,d)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,s,a){const i=e("./base-xform");s.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.always=!!o.always,this.count=o.count,this.empty=o.empty,this.$count=o.$count||"count",this.$=o.$,this.childXform=o.childXform,this.maxItems=o.maxItems}prepare(o,u){const{childXform:c}=this;o&&o.forEach((l,d)=>{u.index=d,c.prepare(l,u)})}render(o,u){if(this.always||u&&u.length){o.openNode(this.tag,this.$),this.count&&o.addAttribute(this.$count,u&&u.length||0);const{childXform:c}=this;(u||[]).forEach((l,d)=>{c.render(o,l,d)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(o)&&(this.parser=this.childXform,!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(o,u){if(o){const{childXform:c}=this;o.forEach(l=>{c.reconcile(l,u)})}}}},{"./base-xform":32}],72:[function(e,s,a){const i=e("../../../utils/col-cache"),o=e("../base-xform");s.exports=class extends o{get tag(){return"autoFilter"}render(u,c){if(c)if(typeof c=="string")u.leafNode("autoFilter",{ref:c});else{const l=function(h){return typeof h=="string"?h:i.getAddress(h.row,h.column).address},d=l(c.from),p=l(c.to);d&&p&&u.leafNode("autoFilter",{ref:`${d}:${p}`})}}parseOpen(u){u.name==="autoFilter"&&(this.model=u.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,s,a){const i=e("../../../utils/utils"),o=e("../base-xform"),u=e("../../../doc/range"),c=e("../../../doc/enums"),l=e("../strings/rich-text-xform");function d(p){if(p==null)return c.ValueType.Null;if(p instanceof String||typeof p=="string")return c.ValueType.String;if(typeof p=="number")return c.ValueType.Number;if(typeof p=="boolean")return c.ValueType.Boolean;if(p instanceof Date)return c.ValueType.Date;if(p.text&&p.hyperlink)return c.ValueType.Hyperlink;if(p.formula)return c.ValueType.Formula;if(p.error)return c.ValueType.Error;throw new Error("I could not understand type of value")}s.exports=class extends o{constructor(){super(),this.richTextXForm=new l}get tag(){return"c"}prepare(p,h){const f=h.styles.addStyleModel(p.style||{},function(b){switch(b.type){case c.ValueType.Formula:return d(b.result);default:return b.type}}(p));switch(f&&(p.styleId=f),p.comment&&h.comments.push({...p.comment,ref:p.address}),p.type){case c.ValueType.String:case c.ValueType.RichText:h.sharedStrings&&(p.ssId=h.sharedStrings.add(p.value));break;case c.ValueType.Date:h.date1904&&(p.date1904=!0);break;case c.ValueType.Hyperlink:h.sharedStrings&&p.text!==void 0&&p.text!==null&&(p.ssId=h.sharedStrings.add(p.text)),h.hyperlinks.push({address:p.address,target:p.hyperlink,tooltip:p.tooltip});break;case c.ValueType.Merge:h.merges.add(p);break;case c.ValueType.Formula:if(h.date1904&&(p.date1904=!0),p.shareType==="shared"&&(p.si=h.siFormulae++),p.formula)h.formulae[p.address]=p;else if(p.sharedFormula){const b=h.formulae[p.sharedFormula];if(!b)throw new Error("Shared Formula master must exist above and or left of clone for cell "+p.address);b.si===void 0?(b.shareType="shared",b.si=h.siFormulae++,b.range=new u(b.address,p.address)):b.range&&b.range.expandToAddress(p.address),p.si=b.si}}}renderFormula(p,h){let f=null;switch(h.shareType){case"shared":f={t:"shared",ref:h.ref||h.range.range,si:h.si};break;case"array":f={t:"array",ref:h.ref};break;default:h.si!==void 0&&(f={t:"shared",si:h.si})}switch(d(h.result)){case c.ValueType.Null:p.leafNode("f",f,h.formula);break;case c.ValueType.String:p.addAttribute("t","str"),p.leafNode("f",f,h.formula),p.leafNode("v",null,h.result);break;case c.ValueType.Number:p.leafNode("f",f,h.formula),p.leafNode("v",null,h.result);break;case c.ValueType.Boolean:p.addAttribute("t","b"),p.leafNode("f",f,h.formula),p.leafNode("v",null,h.result?1:0);break;case c.ValueType.Error:p.addAttribute("t","e"),p.leafNode("f",f,h.formula),p.leafNode("v",null,h.result.error);break;case c.ValueType.Date:p.leafNode("f",f,h.formula),p.leafNode("v",null,i.dateToExcel(h.result,h.date1904));break;default:throw new Error("I could not understand type of value")}}render(p,h){if(h.type!==c.ValueType.Null||h.styleId){switch(p.openNode("c"),p.addAttribute("r",h.address),h.styleId&&p.addAttribute("s",h.styleId),h.type){case c.ValueType.Null:break;case c.ValueType.Number:p.leafNode("v",null,h.value);break;case c.ValueType.Boolean:p.addAttribute("t","b"),p.leafNode("v",null,h.value?"1":"0");break;case c.ValueType.Error:p.addAttribute("t","e"),p.leafNode("v",null,h.value.error);break;case c.ValueType.String:case c.ValueType.RichText:h.ssId!==void 0?(p.addAttribute("t","s"),p.leafNode("v",null,h.ssId)):h.value&&h.value.richText?(p.addAttribute("t","inlineStr"),p.openNode("is"),h.value.richText.forEach(f=>{this.richTextXForm.render(p,f)}),p.closeNode("is")):(p.addAttribute("t","str"),p.leafNode("v",null,h.value));break;case c.ValueType.Date:p.leafNode("v",null,i.dateToExcel(h.value,h.date1904));break;case c.ValueType.Hyperlink:h.ssId!==void 0?(p.addAttribute("t","s"),p.leafNode("v",null,h.ssId)):(p.addAttribute("t","str"),p.leafNode("v",null,h.text));break;case c.ValueType.Formula:this.renderFormula(p,h);break;case c.ValueType.Merge:}p.closeNode()}}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;switch(p.name){case"c":return this.model={address:p.attributes.r},this.t=p.attributes.t,p.attributes.s&&(this.model.styleId=parseInt(p.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=p.attributes.si,this.model.shareType=p.attributes.t,this.model.ref=p.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(p),!0;default:return!1}}parseText(p){if(this.parser)this.parser.parseText(p);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+p:p;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+p:p:this.model.value=this.model.value?this.model.value+p:p}}parseClose(p){switch(p){case"c":{const{model:h}=this;if(h.formula||h.shareType)h.type=c.ValueType.Formula,h.value&&(this.t==="str"?h.result=i.xmlDecode(h.value):this.t==="b"?h.result=parseInt(h.value,10)!==0:this.t==="e"?h.result={error:h.value}:h.result=parseFloat(h.value),h.value=void 0);else if(h.value!==void 0)switch(this.t){case"s":h.type=c.ValueType.String,h.value=parseInt(h.value,10);break;case"str":h.type=c.ValueType.String,h.value=i.xmlDecode(h.value);break;case"inlineStr":h.type=c.ValueType.String;break;case"b":h.type=c.ValueType.Boolean,h.value=parseInt(h.value,10)!==0;break;case"e":h.type=c.ValueType.Error,h.value={error:h.value};break;default:h.type=c.ValueType.Number,h.value=parseFloat(h.value)}else h.styleId?h.type=c.ValueType.Null:h.type=c.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(p),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(p),!0)}}reconcile(p,h){const f=p.styleId&&h.styles&&h.styles.getStyleModel(p.styleId);switch(f&&(p.style=f),p.styleId!==void 0&&(p.styleId=void 0),p.type){case c.ValueType.String:typeof p.value=="number"&&h.sharedStrings&&(p.value=h.sharedStrings.getString(p.value)),p.value.richText&&(p.type=c.ValueType.RichText);break;case c.ValueType.Number:f&&i.isDateFmt(f.numFmt)&&(p.type=c.ValueType.Date,p.value=i.excelToDate(p.value,h.date1904));break;case c.ValueType.Formula:p.result!==void 0&&f&&i.isDateFmt(f.numFmt)&&(p.result=i.excelToDate(p.result,h.date1904)),p.shareType==="shared"&&(p.ref?h.formulae[p.si]=p.address:(p.sharedFormula=h.formulae[p.si],delete p.shareType),delete p.si)}const b=h.hyperlinkMap[p.address];b&&(p.type===c.ValueType.Formula?(p.text=p.result,p.result=void 0):(p.text=p.value,p.value=void 0),p.type=c.ValueType.Hyperlink,p.hyperlink=b);const y=h.commentsMap&&h.commentsMap[p.address];y&&(p.comment=y)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,s,a){const i=e("../../base-xform");s.exports=class extends i{get tag(){return"x14:cfIcon"}render(o,u){o.leafNode(this.tag,{iconSet:u.iconSet,iconId:u.iconId})}parseOpen(o){let{attributes:u}=o;this.model={iconSet:u.iconSet,iconId:i.toIntValue(u.iconId)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],75:[function(e,s,a){const{v4:i}=e("uuid"),o=e("../../base-xform"),u=e("../../composite-xform"),c=e("./databar-ext-xform"),l=e("./icon-set-ext-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class p extends u{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new c,"x14:iconSet":this.iconSetXform=new l}}get tag(){return"x14:cfRule"}static isExt(f){return f.type==="dataBar"?c.isExt(f):!(f.type!=="iconSet"||!f.custom&&!d[f.iconSet])}prepare(f){p.isExt(f)&&(f.x14Id=`{${i()}}`.toUpperCase())}render(f,b){if(p.isExt(b))switch(b.type){case"dataBar":this.renderDataBar(f,b);break;case"iconSet":this.renderIconSet(f,b)}}renderDataBar(f,b){f.openNode(this.tag,{type:"dataBar",id:b.x14Id}),this.databarXform.render(f,b),f.closeNode()}renderIconSet(f,b){f.openNode(this.tag,{type:"iconSet",priority:b.priority,id:b.x14Id||`{${i()}}`}),this.iconSetXform.render(f,b),f.closeNode()}createNewModel(f){let{attributes:b}=f;return{type:b.type,x14Id:b.id,priority:o.toIntValue(b.priority)}}onParserClose(f,b){Object.assign(this.model,b.model)}}s.exports=p},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,s,a){const i=e("../../composite-xform"),o=e("./f-ext-xform");s.exports=class extends i{constructor(){super(),this.map={"xm:f":this.fExtXform=new o}}get tag(){return"x14:cfvo"}render(u,c){u.openNode(this.tag,{type:c.type}),c.value!==void 0&&this.fExtXform.render(u,c.value),u.closeNode()}createNewModel(u){return{type:u.attributes.type}}onParserClose(u,c){switch(u){case"xm:f":this.model.value=c.model?parseFloat(c.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,s,a){const i=e("../../composite-xform"),o=e("./sqref-ext-xform"),u=e("./cf-rule-ext-xform");s.exports=class extends i{constructor(){super(),this.map={"xm:sqref":this.sqRef=new o,"x14:cfRule":this.cfRule=new u}}get tag(){return"x14:conditionalFormatting"}prepare(c,l){c.rules.forEach(d=>{this.cfRule.prepare(d,l)})}render(c,l){l.rules.some(u.isExt)&&(c.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),l.rules.filter(u.isExt).forEach(d=>this.cfRule.render(c,d)),this.sqRef.render(c,l.ref),c.closeNode())}createNewModel(){return{rules:[]}}onParserClose(c,l){switch(c){case"xm:sqref":this.model.ref=l.model;break;case"x14:cfRule":this.model.rules.push(l.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,s,a){const i=e("../../composite-xform"),o=e("./cf-rule-ext-xform"),u=e("./conditional-formatting-ext-xform");s.exports=class extends i{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new u}}get tag(){return"x14:conditionalFormattings"}hasContent(c){return c.hasExtContent===void 0&&(c.hasExtContent=c.some(l=>l.rules.some(o.isExt))),c.hasExtContent}prepare(c,l){c.forEach(d=>{this.cfXform.prepare(d,l)})}render(c,l){this.hasContent(l)&&(c.openNode(this.tag),l.forEach(d=>this.cfXform.render(c,d)),c.closeNode())}createNewModel(){return[]}onParserClose(c,l){this.model.push(l.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,s,a){const i=e("../../base-xform"),o=e("../../composite-xform"),u=e("../../style/color-xform"),c=e("./cfvo-ext-xform");s.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new c,"x14:borderColor":this.borderColorXform=new u("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new u("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new u("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new u("x14:axisColor")}}static isExt(l){return!l.gradient}get tag(){return"x14:dataBar"}render(l,d){l.openNode(this.tag,{minLength:i.toIntAttribute(d.minLength,0,!0),maxLength:i.toIntAttribute(d.maxLength,100,!0),border:i.toBoolAttribute(d.border,!1),gradient:i.toBoolAttribute(d.gradient,!0),negativeBarColorSameAsPositive:i.toBoolAttribute(d.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolAttribute(d.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toAttribute(d.axisPosition,"auto"),direction:i.toAttribute(d.direction,"leftToRight")}),d.cfvo.forEach(p=>{this.cfvoXform.render(l,p)}),this.borderColorXform.render(l,d.borderColor),this.negativeBorderColorXform.render(l,d.negativeBorderColor),this.negativeFillColorXform.render(l,d.negativeFillColor),this.axisColorXform.render(l,d.axisColor),l.closeNode()}createNewModel(l){let{attributes:d}=l;return{cfvo:[],minLength:i.toIntValue(d.minLength,0),maxLength:i.toIntValue(d.maxLength,100),border:i.toBoolValue(d.border,!1),gradient:i.toBoolValue(d.gradient,!0),negativeBarColorSameAsPositive:i.toBoolValue(d.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolValue(d.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toStringValue(d.axisPosition,"auto"),direction:i.toStringValue(d.direction,"leftToRight")}}onParserClose(l,d){const[,p]=l.split(":");switch(p){case"cfvo":this.model.cfvo.push(d.model);break;default:this.model[p]=d.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,s,a){const i=e("../../base-xform");s.exports=class extends i{get tag(){return"xm:f"}render(o,u){o.leafNode(this.tag,null,u)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],81:[function(e,s,a){const i=e("../../base-xform"),o=e("../../composite-xform"),u=e("./cfvo-ext-xform"),c=e("./cf-icon-ext-xform");s.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new u,"x14:cfIcon":this.cfIconXform=new c}}get tag(){return"x14:iconSet"}render(l,d){l.openNode(this.tag,{iconSet:i.toStringAttribute(d.iconSet),reverse:i.toBoolAttribute(d.reverse,!1),showValue:i.toBoolAttribute(d.showValue,!0),custom:i.toBoolAttribute(d.icons,!1)}),d.cfvo.forEach(p=>{this.cfvoXform.render(l,p)}),d.icons&&d.icons.forEach((p,h)=>{p.iconId=h,this.cfIconXform.render(l,p)}),l.closeNode()}createNewModel(l){let{attributes:d}=l;return{cfvo:[],iconSet:i.toStringValue(d.iconSet,"3TrafficLights"),reverse:i.toBoolValue(d.reverse,!1),showValue:i.toBoolValue(d.showValue,!0)}}onParserClose(l,d){const[,p]=l.split(":");switch(p){case"cfvo":this.model.cfvo.push(d.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(d.model);break;default:this.model[p]=d.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,s,a){const i=e("../../base-xform");s.exports=class extends i{get tag(){return"xm:sqref"}render(o,u){o.leafNode(this.tag,null,u)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],83:[function(e,s,a){const i=e("../../base-xform"),o=e("../../composite-xform"),u=e("../../../../doc/range"),c=e("./databar-xform"),l=e("./ext-lst-ref-xform"),d=e("./formula-xform"),p=e("./color-scale-xform"),h=e("./icon-set-xform"),f={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},b=g=>{const{type:x,operator:v}=g;switch(x){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:x};default:return{type:x,operator:v}}};class y extends o{constructor(){super(),this.map={dataBar:this.databarXform=new c,extLst:this.extLstRefXform=new l,formula:this.formulaXform=new d,colorScale:this.colorScaleXform=new p,iconSet:this.iconSetXform=new h}}get tag(){return"cfRule"}static isPrimitive(x){return x.type!=="iconSet"||!x.custom&&!f[x.iconSet]}render(x,v){switch(v.type){case"expression":this.renderExpression(x,v);break;case"cellIs":this.renderCellIs(x,v);break;case"top10":this.renderTop10(x,v);break;case"aboveAverage":this.renderAboveAverage(x,v);break;case"dataBar":this.renderDataBar(x,v);break;case"colorScale":this.renderColorScale(x,v);break;case"iconSet":this.renderIconSet(x,v);break;case"containsText":this.renderText(x,v);break;case"timePeriod":this.renderTimePeriod(x,v)}}renderExpression(x,v){x.openNode(this.tag,{type:"expression",dxfId:v.dxfId,priority:v.priority}),this.formulaXform.render(x,v.formulae[0]),x.closeNode()}renderCellIs(x,v){x.openNode(this.tag,{type:"cellIs",dxfId:v.dxfId,priority:v.priority,operator:v.operator}),v.formulae.forEach(w=>{this.formulaXform.render(x,w)}),x.closeNode()}renderTop10(x,v){x.leafNode(this.tag,{type:"top10",dxfId:v.dxfId,priority:v.priority,percent:i.toBoolAttribute(v.percent,!1),bottom:i.toBoolAttribute(v.bottom,!1),rank:i.toIntValue(v.rank,10,!0)})}renderAboveAverage(x,v){x.leafNode(this.tag,{type:"aboveAverage",dxfId:v.dxfId,priority:v.priority,aboveAverage:i.toBoolAttribute(v.aboveAverage,!0)})}renderDataBar(x,v){x.openNode(this.tag,{type:"dataBar",priority:v.priority}),this.databarXform.render(x,v),this.extLstRefXform.render(x,v),x.closeNode()}renderColorScale(x,v){x.openNode(this.tag,{type:"colorScale",priority:v.priority}),this.colorScaleXform.render(x,v),x.closeNode()}renderIconSet(x,v){y.isPrimitive(v)&&(x.openNode(this.tag,{type:"iconSet",priority:v.priority}),this.iconSetXform.render(x,v),x.closeNode())}renderText(x,v){x.openNode(this.tag,{type:v.operator,dxfId:v.dxfId,priority:v.priority,operator:i.toStringAttribute(v.operator,"containsText")});const w=(S=>{if(S.formulae&&S.formulae[0])return S.formulae[0];const D=new u(S.ref),{tl:T}=D;switch(S.operator){case"containsText":return`NOT(ISERROR(SEARCH("${S.text}",${T})))`;case"containsBlanks":return`LEN(TRIM(${T}))=0`;case"notContainsBlanks":return`LEN(TRIM(${T}))>0`;case"containsErrors":return`ISERROR(${T})`;case"notContainsErrors":return`NOT(ISERROR(${T}))`;default:return}})(v);w&&this.formulaXform.render(x,w),x.closeNode()}renderTimePeriod(x,v){x.openNode(this.tag,{type:"timePeriod",dxfId:v.dxfId,priority:v.priority,timePeriod:v.timePeriod});const w=(S=>{if(S.formulae&&S.formulae[0])return S.formulae[0];const D=new u(S.ref),{tl:T}=D;switch(S.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${T},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${T},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${T},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${T},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${T},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${T},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${T},1)=TODAY()-1`;case"today":return`FLOOR(${T},1)=TODAY()`;case"tomorrow":return`FLOOR(${T},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${T},1)<=6,FLOOR(${T},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${T})=MONTH(EDATE(TODAY(),0-1)),YEAR(${T})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${T})=MONTH(TODAY()),YEAR(${T})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${T})=MONTH(EDATE(TODAY(),0+1)),YEAR(${T})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(v);w&&this.formulaXform.render(x,w),x.closeNode()}createNewModel(x){let{attributes:v}=x;return{...b(v),dxfId:i.toIntValue(v.dxfId),priority:i.toIntValue(v.priority),timePeriod:v.timePeriod,percent:i.toBoolValue(v.percent),bottom:i.toBoolValue(v.bottom),rank:i.toIntValue(v.rank),aboveAverage:i.toBoolValue(v.aboveAverage)}}onParserClose(x,v){switch(x){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,v.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(v.model)}}}s.exports=y},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,s,a){const i=e("../../base-xform");s.exports=class extends i{get tag(){return"cfvo"}render(o,u){o.leafNode(this.tag,{type:u.type,val:u.value})}parseOpen(o){this.model={type:o.attributes.type,value:i.toFloatValue(o.attributes.val)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],85:[function(e,s,a){const i=e("../../composite-xform"),o=e("../../style/color-xform"),u=e("./cfvo-xform");s.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new u,color:this.colorXform=new o}}get tag(){return"colorScale"}render(c,l){c.openNode(this.tag),l.cfvo.forEach(d=>{this.cfvoXform.render(c,d)}),l.color.forEach(d=>{this.colorXform.render(c,d)}),c.closeNode()}createNewModel(c){return{cfvo:[],color:[]}}onParserClose(c,l){this.model[c].push(l.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,s,a){const i=e("../../composite-xform"),o=e("./cf-rule-xform");s.exports=class extends i{constructor(){super(),this.map={cfRule:new o}}get tag(){return"conditionalFormatting"}render(u,c){c.rules.some(o.isPrimitive)&&(u.openNode(this.tag,{sqref:c.ref}),c.rules.forEach(l=>{o.isPrimitive(l)&&(l.ref=c.ref,this.map.cfRule.render(u,l))}),u.closeNode())}createNewModel(u){let{attributes:c}=u;return{ref:c.sqref,rules:[]}}onParserClose(u,c){this.model.rules.push(c.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,s,a){const i=e("../../base-xform"),o=e("./conditional-formatting-xform");s.exports=class extends i{constructor(){super(),this.cfXform=new o}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(u,c){let l=u.reduce((d,p)=>Math.max(d,...p.rules.map(h=>h.priority||0)),1);u.forEach(d=>{d.rules.forEach(p=>{p.priority||(p.priority=l++),p.style&&(p.dxfId=c.styles.addDxfStyle(p.style))})})}render(u,c){c.forEach(l=>{this.cfXform.render(u,l)})}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return!!this.parser&&(!!this.parser.parseClose(u)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(u,c){u.forEach(l=>{l.rules.forEach(d=>{d.dxfId!==void 0&&(d.style=c.styles.getDxfStyle(d.dxfId),delete d.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,s,a){const i=e("../../composite-xform"),o=e("../../style/color-xform"),u=e("./cfvo-xform");s.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new u,color:this.colorXform=new o}}get tag(){return"dataBar"}render(c,l){c.openNode(this.tag),l.cfvo.forEach(d=>{this.cfvoXform.render(c,d)}),this.colorXform.render(c,l.color),c.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(c,l){switch(c){case"cfvo":this.model.cfvo.push(l.model);break;case"color":this.model.color=l.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,s,a){const i=e("../../base-xform"),o=e("../../composite-xform");class u extends i{get tag(){return"x14:id"}render(d,p){d.leafNode(this.tag,null,p)}parseOpen(){this.model=""}parseText(d){this.model+=d}parseClose(d){return d!==this.tag}}class c extends o{constructor(){super(),this.map={"x14:id":this.idXform=new u}}get tag(){return"ext"}render(d,p){d.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(d,p.x14Id),d.closeNode()}createNewModel(){return{}}onParserClose(d,p){this.model.x14Id=p.model}}s.exports=class extends o{constructor(){super(),this.map={ext:new c}}get tag(){return"extLst"}render(l,d){l.openNode(this.tag),this.map.ext.render(l,d),l.closeNode()}createNewModel(){return{}}onParserClose(l,d){Object.assign(this.model,d.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,s,a){const i=e("../../base-xform");s.exports=class extends i{get tag(){return"formula"}render(o,u){o.leafNode(this.tag,null,u)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],91:[function(e,s,a){const i=e("../../base-xform"),o=e("../../composite-xform"),u=e("./cfvo-xform");s.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new u}}get tag(){return"iconSet"}render(c,l){c.openNode(this.tag,{iconSet:i.toStringAttribute(l.iconSet,"3TrafficLights"),reverse:i.toBoolAttribute(l.reverse,!1),showValue:i.toBoolAttribute(l.showValue,!0)}),l.cfvo.forEach(d=>{this.cfvoXform.render(c,d)}),c.closeNode()}createNewModel(c){let{attributes:l}=c;return{iconSet:i.toStringValue(l.iconSet,"3TrafficLights"),reverse:i.toBoolValue(l.reverse),showValue:i.toBoolValue(l.showValue),cfvo:[]}}onParserClose(c,l){this.model[c].push(l.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,s,a){const i=e("../../../utils/utils"),o=e("../base-xform");s.exports=class extends o{get tag(){return"col"}prepare(u,c){const l=c.styles.addStyleModel(u.style||{});l&&(u.styleId=l)}render(u,c){u.openNode("col"),u.addAttribute("min",c.min),u.addAttribute("max",c.max),c.width&&u.addAttribute("width",c.width),c.styleId&&u.addAttribute("style",c.styleId),c.hidden&&u.addAttribute("hidden","1"),c.bestFit&&u.addAttribute("bestFit","1"),c.outlineLevel&&u.addAttribute("outlineLevel",c.outlineLevel),c.collapsed&&u.addAttribute("collapsed","1"),u.addAttribute("customWidth","1"),u.closeNode()}parseOpen(u){if(u.name==="col"){const c=this.model={min:parseInt(u.attributes.min||"0",10),max:parseInt(u.attributes.max||"0",10),width:u.attributes.width===void 0?void 0:parseFloat(u.attributes.width||"0")};return u.attributes.style&&(c.styleId=parseInt(u.attributes.style,10)),i.parseBoolean(u.attributes.hidden)&&(c.hidden=!0),i.parseBoolean(u.attributes.bestFit)&&(c.bestFit=!0),u.attributes.outlineLevel&&(c.outlineLevel=parseInt(u.attributes.outlineLevel,10)),i.parseBoolean(u.attributes.collapsed)&&(c.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(u,c){u.styleId&&(u.style=c.styles.getStyleModel(u.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,s,a){const i=e("../../../utils/under-dash"),o=e("../../../utils/utils"),u=e("../../../utils/col-cache"),c=e("../base-xform"),l=e("../../../doc/range");function d(h,f,b,y){const g=f[b];g!==void 0?h[b]=g:y!==void 0&&(h[b]=y)}function p(h,f,b,y){const g=f[b];g!==void 0&&(h[b]=o.parseBoolean(g))}s.exports=class extends c{get tag(){return"dataValidations"}render(h,f){const b=function(y){const g=i.map(y,(w,S)=>({address:S,dataValidation:w,marked:!1})).sort((w,S)=>i.strcmp(w.address,S.address)),x=i.keyBy(g,"address"),v=(w,S,D)=>{for(let T=0;T<S;T++){const R=u.encodeAddress(w.row+T,D);if(!y[R]||!i.isEqual(y[w.address],y[R]))return!1}return!0};return g.map(w=>{if(!w.marked){const S=u.decodeEx(w.address);if(S.dimensions)return x[S.dimensions].marked=!0,{...w.dataValidation,sqref:w.address};let D=1,T=u.encodeAddress(S.row+D,S.col);for(;y[T]&&i.isEqual(w.dataValidation,y[T]);)D++,T=u.encodeAddress(S.row+D,S.col);let R=1;for(;v(S,D,S.col+R);)R++;for(let P=0;P<D;P++)for(let L=0;L<R;L++)T=u.encodeAddress(S.row+P,S.col+L),x[T].marked=!0;if(D>1||R>1){const P=S.row+(D-1),L=S.col+(R-1);return{...w.dataValidation,sqref:`${w.address}:${u.encodeAddress(P,L)}`}}return{...w.dataValidation,sqref:w.address}}return null}).filter(Boolean)}(f);b.length&&(h.openNode("dataValidations",{count:b.length}),b.forEach(y=>{h.openNode("dataValidation"),y.type!=="any"&&(h.addAttribute("type",y.type),y.operator&&y.type!=="list"&&y.operator!=="between"&&h.addAttribute("operator",y.operator),y.allowBlank&&h.addAttribute("allowBlank","1")),y.showInputMessage&&h.addAttribute("showInputMessage","1"),y.promptTitle&&h.addAttribute("promptTitle",y.promptTitle),y.prompt&&h.addAttribute("prompt",y.prompt),y.showErrorMessage&&h.addAttribute("showErrorMessage","1"),y.errorStyle&&h.addAttribute("errorStyle",y.errorStyle),y.errorTitle&&h.addAttribute("errorTitle",y.errorTitle),y.error&&h.addAttribute("error",y.error),h.addAttribute("sqref",y.sqref),(y.formulae||[]).forEach((g,x)=>{h.openNode("formula"+(x+1)),y.type==="date"?h.writeText(o.dateToExcel(new Date(g))):h.writeText(g),h.closeNode()}),h.closeNode()}),h.closeNode())}parseOpen(h){switch(h.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=h.attributes.sqref;const f={type:h.attributes.type||"any",formulae:[]};switch(h.attributes.type&&p(f,h.attributes,"allowBlank"),p(f,h.attributes,"showInputMessage"),p(f,h.attributes,"showErrorMessage"),f.type){case"any":case"list":case"custom":break;default:d(f,h.attributes,"operator","between")}return d(f,h.attributes,"promptTitle"),d(f,h.attributes,"prompt"),d(f,h.attributes,"errorStyle"),d(f,h.attributes,"errorTitle"),d(f,h.attributes,"error"),this._dataValidation=f,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(h){this._formula&&this._formula.push(h)}parseClose(h){switch(h){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(f=>{f.includes(":")?new l(f).forEachAddress(b=>{this.model[b]=this._dataValidation}):this.model[f]=this._dataValidation}),!0;case"formula1":case"formula2":{let f=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":f=parseInt(f,10);break;case"decimal":f=parseFloat(f);break;case"date":f=o.excelToDate(parseFloat(f))}return this._dataValidation.formulae.push(f),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"dimension"}render(o,u){u&&o.leafNode("dimension",{ref:u})}parseOpen(o){return o.name==="dimension"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"drawing"}render(o,u){u&&o.leafNode(this.tag,{"r:id":u.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(e,s,a){const i=e("../composite-xform"),o=e("./cf-ext/conditional-formattings-ext-xform");class u extends i{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new o}}get tag(){return"ext"}hasContent(l){return this.conditionalFormattings.hasContent(l.conditionalFormattings)}prepare(l,d){this.conditionalFormattings.prepare(l.conditionalFormattings,d)}render(l,d){l.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(l,d.conditionalFormattings),l.closeNode()}createNewModel(){return{}}onParserClose(l,d){this.model[l]=d.model}}s.exports=class extends i{constructor(){super(),this.map={ext:this.ext=new u}}get tag(){return"extLst"}prepare(c,l){this.ext.prepare(c,l)}hasContent(c){return this.ext.hasContent(c)}render(c,l){this.hasContent(l)&&(c.openNode("extLst"),this.ext.render(c,l),c.closeNode())}createNewModel(){return{}}onParserClose(c,l){Object.assign(this.model,l.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"headerFooter"}render(o,u){if(u){o.addRollback();let c=!1;o.openNode("headerFooter"),u.differentFirst&&(o.addAttribute("differentFirst","1"),c=!0),u.differentOddEven&&(o.addAttribute("differentOddEven","1"),c=!0),u.oddHeader&&typeof u.oddHeader=="string"&&(o.leafNode("oddHeader",null,u.oddHeader),c=!0),u.oddFooter&&typeof u.oddFooter=="string"&&(o.leafNode("oddFooter",null,u.oddFooter),c=!0),u.evenHeader&&typeof u.evenHeader=="string"&&(o.leafNode("evenHeader",null,u.evenHeader),c=!0),u.evenFooter&&typeof u.evenFooter=="string"&&(o.leafNode("evenFooter",null,u.evenFooter),c=!0),u.firstHeader&&typeof u.firstHeader=="string"&&(o.leafNode("firstHeader",null,u.firstHeader),c=!0),u.firstFooter&&typeof u.firstFooter=="string"&&(o.leafNode("firstFooter",null,u.firstFooter),c=!0),c?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){switch(o.name){case"headerFooter":return this.model={},o.attributes.differentFirst&&(this.model.differentFirst=parseInt(o.attributes.differentFirst,0)===1),o.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(o.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(o){switch(this.currentNode){case"oddHeader":this.model.oddHeader=o;break;case"oddFooter":this.model.oddFooter=o;break;case"evenHeader":this.model.evenHeader=o;break;case"evenFooter":this.model.evenFooter=o;break;case"firstHeader":this.model.firstHeader=o;break;case"firstFooter":this.model.firstFooter=o}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"hyperlink"}render(o,u){this.isInternalLink(u)?o.leafNode("hyperlink",{ref:u.address,"r:id":u.rId,tooltip:u.tooltip,location:u.target}):o.leafNode("hyperlink",{ref:u.address,"r:id":u.rId,tooltip:u.tooltip})}parseOpen(o){return o.name==="hyperlink"&&(this.model={address:o.attributes.ref,rId:o.attributes["r:id"],tooltip:o.attributes.tooltip},o.attributes.location&&(this.model.target=o.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(o){return o.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(o.target)}}},{"../base-xform":32}],99:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"mergeCell"}render(o,u){o.leafNode("mergeCell",{ref:u})}parseOpen(o){return o.name==="mergeCell"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(e,s,a){const i=e("../../../utils/under-dash"),o=e("../../../doc/range"),u=e("../../../utils/col-cache"),c=e("../../../doc/enums");s.exports=class{constructor(){this.merges={}}add(l){if(this.merges[l.master])this.merges[l.master].expandToAddress(l.address);else{const d=`${l.master}:${l.address}`;this.merges[l.master]=new o(d)}}get mergeCells(){return i.map(this.merges,l=>l.range)}reconcile(l,d){i.each(l,p=>{const h=u.decode(p);for(let f=h.top;f<=h.bottom;f++){const b=d[f-1];for(let y=h.left;y<=h.right;y++){const g=b.cells[y-1];g?g.type===c.ValueType.Merge&&(g.master=h.tl):b.cells[y]={type:c.ValueType.Null,address:u.encodeAddress(f,y)}}}})}getMasterAddress(l){const d=this.hash[l];return d&&d.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,s,a){const i=e("../base-xform"),o=u=>u!==void 0;s.exports=class extends i{get tag(){return"outlinePr"}render(u,c){return!(!c||!o(c.summaryBelow)&&!o(c.summaryRight))&&(u.leafNode(this.tag,{summaryBelow:o(c.summaryBelow)?Number(c.summaryBelow):void 0,summaryRight:o(c.summaryRight)?Number(c.summaryRight):void 0}),!0)}parseOpen(u){return u.name===this.tag&&(this.model={summaryBelow:o(u.attributes.summaryBelow)?!!Number(u.attributes.summaryBelow):void 0,summaryRight:o(u.attributes.summaryRight)?!!Number(u.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"brk"}render(o,u){o.leafNode("brk",u)}parseOpen(o){return o.name==="brk"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(e,s,a){const i=e("../../../utils/under-dash"),o=e("../base-xform");s.exports=class extends o{get tag(){return"pageMargins"}render(u,c){if(c){const l={left:c.left,right:c.right,top:c.top,bottom:c.bottom,header:c.header,footer:c.footer};i.some(l,d=>d!==void 0)&&u.leafNode(this.tag,l)}}parseOpen(u){switch(u.name){case this.tag:return this.model={left:parseFloat(u.attributes.left||.7),right:parseFloat(u.attributes.right||.7),top:parseFloat(u.attributes.top||.75),bottom:parseFloat(u.attributes.bottom||.75),header:parseFloat(u.attributes.header||.3),footer:parseFloat(u.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"pageSetUpPr"}render(o,u){return!(!u||!u.fitToPage)&&(o.leafNode(this.tag,{fitToPage:u.fitToPage?"1":void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={fitToPage:o.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(e,s,a){const i=e("../../../utils/under-dash"),o=e("../base-xform");function u(p){return p?"1":void 0}function c(p){switch(p){case"overThenDown":return p;default:return}}function l(p){switch(p){case"atEnd":case"asDisplyed":return p;default:return}}function d(p){switch(p){case"dash":case"blank":case"NA":return p;default:return}}s.exports=class extends o{get tag(){return"pageSetup"}render(p,h){if(h){const f={paperSize:h.paperSize,orientation:h.orientation,horizontalDpi:h.horizontalDpi,verticalDpi:h.verticalDpi,pageOrder:c(h.pageOrder),blackAndWhite:u(h.blackAndWhite),draft:u(h.draft),cellComments:l(h.cellComments),errors:d(h.errors),scale:h.scale,fitToWidth:h.fitToWidth,fitToHeight:h.fitToHeight,firstPageNumber:h.firstPageNumber,useFirstPageNumber:u(h.firstPageNumber),usePrinterDefaults:u(h.usePrinterDefaults),copies:h.copies};i.some(f,b=>b!==void 0)&&p.leafNode(this.tag,f)}}parseOpen(p){switch(p.name){case this.tag:return this.model={paperSize:(h=p.attributes.paperSize,h!==void 0?parseInt(h,10):void 0),orientation:p.attributes.orientation||"portrait",horizontalDpi:parseInt(p.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(p.attributes.verticalDpi||"4294967295",10),pageOrder:p.attributes.pageOrder||"downThenOver",blackAndWhite:p.attributes.blackAndWhite==="1",draft:p.attributes.draft==="1",cellComments:p.attributes.cellComments||"None",errors:p.attributes.errors||"displayed",scale:parseInt(p.attributes.scale||"100",10),fitToWidth:parseInt(p.attributes.fitToWidth||"1",10),fitToHeight:parseInt(p.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(p.attributes.firstPageNumber||"1",10),useFirstPageNumber:p.attributes.useFirstPageNumber==="1",usePrinterDefaults:p.attributes.usePrinterDefaults==="1",copies:parseInt(p.attributes.copies||"1",10)},!0;default:return!1}var h}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"picture"}render(o,u){u&&o.leafNode(this.tag,{"r:id":u.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(e,s,a){const i=e("../../../utils/under-dash"),o=e("../base-xform");function u(c){return c?"1":void 0}s.exports=class extends o{get tag(){return"printOptions"}render(c,l){if(l){const d={headings:u(l.showRowColHeaders),gridLines:u(l.showGridLines),horizontalCentered:u(l.horizontalCentered),verticalCentered:u(l.verticalCentered)};i.some(d,p=>p!==void 0)&&c.leafNode(this.tag,d)}}parseOpen(c){switch(c.name){case this.tag:return this.model={showRowColHeaders:c.attributes.headings==="1",showGridLines:c.attributes.gridLines==="1",horizontalCentered:c.attributes.horizontalCentered==="1",verticalCentered:c.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,s,a){const i=e("./page-breaks-xform"),o=e("../list-xform");s.exports=class extends o{constructor(){super({tag:"rowBreaks",count:!0,childXform:new i})}render(u,c){if(c&&c.length){u.openNode(this.tag,this.$),this.count&&(u.addAttribute(this.$count,c.length),u.addAttribute("manualBreakCount",c.length));const{childXform:l}=this;c.forEach(d=>{l.render(u,d)}),u.closeNode()}else this.empty&&u.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,s,a){const i=e("../base-xform"),o=e("../../../utils/utils"),u=e("./cell-xform");s.exports=class extends i{constructor(c){super(),this.maxItems=c&&c.maxItems,this.map={c:new u}}get tag(){return"row"}prepare(c,l){const d=l.styles.addStyleModel(c.style);d&&(c.styleId=d);const p=this.map.c;c.cells.forEach(h=>{p.prepare(h,l)})}render(c,l,d){c.openNode("row"),c.addAttribute("r",l.number),l.height&&(c.addAttribute("ht",l.height),c.addAttribute("customHeight","1")),l.hidden&&c.addAttribute("hidden","1"),l.min>0&&l.max>0&&l.min<=l.max&&c.addAttribute("spans",`${l.min}:${l.max}`),l.styleId&&(c.addAttribute("s",l.styleId),c.addAttribute("customFormat","1")),c.addAttribute("x14ac:dyDescent","0.25"),l.outlineLevel&&c.addAttribute("outlineLevel",l.outlineLevel),l.collapsed&&c.addAttribute("collapsed","1");const p=this.map.c;l.cells.forEach(h=>{p.render(c,h,d)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;if(c.name==="row"){this.numRowsSeen+=1;const l=c.attributes.spans?c.attributes.spans.split(":").map(p=>parseInt(p,10)):[void 0,void 0],d=this.model={number:parseInt(c.attributes.r,10),min:l[0],max:l[1],cells:[]};return c.attributes.s&&(d.styleId=parseInt(c.attributes.s,10)),o.parseBoolean(c.attributes.hidden)&&(d.hidden=!0),o.parseBoolean(c.attributes.bestFit)&&(d.bestFit=!0),c.attributes.ht&&(d.height=parseFloat(c.attributes.ht)),c.attributes.outlineLevel&&(d.outlineLevel=parseInt(c.attributes.outlineLevel,10)),o.parseBoolean(c.attributes.collapsed)&&(d.collapsed=!0),!0}return this.parser=this.map[c.name],!!this.parser&&(this.parser.parseOpen(c),!0)}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser){if(!this.parser.parseClose(c)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(c,l){c.style=c.styleId?l.styles.getStyleModel(c.styleId):{},c.styleId!==void 0&&(c.styleId=void 0);const d=this.map.c;c.cells.forEach(p=>{d.reconcile(p,l)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,s,a){const i=e("../../../utils/under-dash"),o=e("../base-xform");s.exports=class extends o{get tag(){return"sheetFormatPr"}render(u,c){if(c){const l={defaultRowHeight:c.defaultRowHeight,outlineLevelRow:c.outlineLevelRow,outlineLevelCol:c.outlineLevelCol,"x14ac:dyDescent":c.dyDescent};c.defaultColWidth&&(l.defaultColWidth=c.defaultColWidth),c.defaultRowHeight&&c.defaultRowHeight===15||(l.customHeight="1"),i.some(l,d=>d!==void 0)&&u.leafNode("sheetFormatPr",l)}}parseOpen(u){return u.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(u.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(u.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(u.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(u.attributes.outlineLevelCol||"0",10)},u.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(u.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,s,a){const i=e("../base-xform"),o=e("../style/color-xform"),u=e("./page-setup-properties-xform"),c=e("./outline-properties-xform");s.exports=class extends i{constructor(){super(),this.map={tabColor:new o("tabColor"),pageSetUpPr:new u,outlinePr:new c}}get tag(){return"sheetPr"}render(l,d){if(d){l.addRollback(),l.openNode("sheetPr");let p=!1;p=this.map.tabColor.render(l,d.tabColor)||p,p=this.map.pageSetUpPr.render(l,d.pageSetup)||p,p=this.map.outlinePr.render(l,d.outlineProperties)||p,p?(l.closeNode(),l.commit()):l.rollback()}}parseOpen(l){return this.parser?(this.parser.parseOpen(l),!0):l.name===this.tag?(this.reset(),!0):!!this.map[l.name]&&(this.parser=this.map[l.name],this.parser.parseOpen(l),!0)}parseText(l){return!!this.parser&&(this.parser.parseText(l),!0)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,s,a){const i=e("../../../utils/under-dash"),o=e("../base-xform");function u(l,d){return l?d:void 0}function c(l,d){return l===d||void 0}s.exports=class extends o{get tag(){return"sheetProtection"}render(l,d){if(d){const p={sheet:u(d.sheet,"1"),selectLockedCells:d.selectLockedCells===!1?"1":void 0,selectUnlockedCells:d.selectUnlockedCells===!1?"1":void 0,formatCells:u(d.formatCells,"0"),formatColumns:u(d.formatColumns,"0"),formatRows:u(d.formatRows,"0"),insertColumns:u(d.insertColumns,"0"),insertRows:u(d.insertRows,"0"),insertHyperlinks:u(d.insertHyperlinks,"0"),deleteColumns:u(d.deleteColumns,"0"),deleteRows:u(d.deleteRows,"0"),sort:u(d.sort,"0"),autoFilter:u(d.autoFilter,"0"),pivotTables:u(d.pivotTables,"0")};d.sheet&&(p.algorithmName=d.algorithmName,p.hashValue=d.hashValue,p.saltValue=d.saltValue,p.spinCount=d.spinCount,p.objects=u(d.objects===!1,"1"),p.scenarios=u(d.scenarios===!1,"1")),i.some(p,h=>h!==void 0)&&l.leafNode(this.tag,p)}}parseOpen(l){switch(l.name){case this.tag:return this.model={sheet:c(l.attributes.sheet,"1"),objects:l.attributes.objects!=="1"&&void 0,scenarios:l.attributes.scenarios!=="1"&&void 0,selectLockedCells:l.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:l.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:c(l.attributes.formatCells,"0"),formatColumns:c(l.attributes.formatColumns,"0"),formatRows:c(l.attributes.formatRows,"0"),insertColumns:c(l.attributes.insertColumns,"0"),insertRows:c(l.attributes.insertRows,"0"),insertHyperlinks:c(l.attributes.insertHyperlinks,"0"),deleteColumns:c(l.attributes.deleteColumns,"0"),deleteRows:c(l.attributes.deleteRows,"0"),sort:c(l.attributes.sort,"0"),autoFilter:c(l.attributes.autoFilter,"0"),pivotTables:c(l.attributes.pivotTables,"0")},l.attributes.algorithmName&&(this.model.algorithmName=l.attributes.algorithmName,this.model.hashValue=l.attributes.hashValue,this.model.saltValue=l.attributes.saltValue,this.model.spinCount=parseInt(l.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,s,a){const i=e("../../../utils/col-cache"),o=e("../base-xform"),u={frozen:"frozen",frozenSplit:"frozen",split:"split"};s.exports=class extends o{get tag(){return"sheetView"}prepare(c){switch(c.state){case"frozen":case"split":break;default:c.state="normal"}}render(c,l){c.openNode("sheetView",{workbookViewId:l.workbookViewId||0});const d=function(y,g,x){x&&c.addAttribute(y,g)};let p,h,f,b;switch(d("rightToLeft","1",l.rightToLeft===!0),d("tabSelected","1",l.tabSelected),d("showRuler","0",l.showRuler===!1),d("showRowColHeaders","0",l.showRowColHeaders===!1),d("showGridLines","0",l.showGridLines===!1),d("zoomScale",l.zoomScale,l.zoomScale),d("zoomScaleNormal",l.zoomScaleNormal,l.zoomScaleNormal),d("view",l.style,l.style),l.state){case"frozen":h=l.xSplit||0,f=l.ySplit||0,p=l.topLeftCell||i.getAddress(f+1,h+1).address,b=(l.xSplit&&l.ySplit?"bottomRight":l.xSplit&&"topRight")||"bottomLeft",c.leafNode("pane",{xSplit:l.xSplit||void 0,ySplit:l.ySplit||void 0,topLeftCell:p,activePane:b,state:"frozen"}),c.leafNode("selection",{pane:b,activeCell:l.activeCell,sqref:l.activeCell});break;case"split":l.activePane==="topLeft"&&(l.activePane=void 0),c.leafNode("pane",{xSplit:l.xSplit||void 0,ySplit:l.ySplit||void 0,topLeftCell:l.topLeftCell,activePane:l.activePane}),c.leafNode("selection",{pane:l.activePane,activeCell:l.activeCell,sqref:l.activeCell});break;case"normal":l.activeCell&&c.leafNode("selection",{activeCell:l.activeCell,sqref:l.activeCell})}c.closeNode()}parseOpen(c){switch(c.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(c.attributes.workbookViewId,10),rightToLeft:c.attributes.rightToLeft==="1",tabSelected:c.attributes.tabSelected==="1",showRuler:c.attributes.showRuler!=="0",showRowColHeaders:c.attributes.showRowColHeaders!=="0",showGridLines:c.attributes.showGridLines!=="0",zoomScale:parseInt(c.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(c.attributes.zoomScaleNormal||"100",10),style:c.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(c.attributes.xSplit||"0",10),ySplit:parseInt(c.attributes.ySplit||"0",10),topLeftCell:c.attributes.topLeftCell,activePane:c.attributes.activePane||"topLeft",state:c.attributes.state},!0;case"selection":{const l=c.attributes.pane||"topLeft";return this.selections[l]={pane:l,activeCell:c.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(c){let l,d;switch(c){case"sheetView":return this.sheetView&&this.pane?(l=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:u[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(l.activePane=this.pane.activePane),d=this.selections[this.pane.activePane],d&&d.activeCell&&(l.activeCell=d.activeCell),this.sheetView.style&&(l.style=this.sheetView.style)):(l=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},d=this.selections.topLeft,d&&d.activeCell&&(l.activeCell=d.activeCell),this.sheetView.style&&(l.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"tablePart"}render(o,u){u&&o.leafNode(this.tag,{"r:id":u.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(e,s,a){const i=e("../../../utils/under-dash"),o=e("../../../utils/col-cache"),u=e("../../../utils/xml-stream"),c=e("../../rel-type"),l=e("./merges"),d=e("../base-xform"),p=e("../list-xform"),h=e("./row-xform"),f=e("./col-xform"),b=e("./dimension-xform"),y=e("./hyperlink-xform"),g=e("./merge-cell-xform"),x=e("./data-validations-xform"),v=e("./sheet-properties-xform"),w=e("./sheet-format-properties-xform"),S=e("./sheet-view-xform"),D=e("./sheet-protection-xform"),T=e("./page-margins-xform"),R=e("./page-setup-xform"),P=e("./print-options-xform"),L=e("./auto-filter-xform"),O=e("./picture-xform"),H=e("./drawing-xform"),U=e("./table-part-xform"),I=e("./row-breaks-xform"),F=e("./header-footer-xform"),A=e("./cf/conditional-formattings-xform"),_=e("./ext-lst-xform"),E=(k,B)=>{if(!B||!B.length)return k;if(!k||!k.length)return B;const j={},M={};return k.forEach(G=>{j[G.ref]=G,G.rules.forEach(Y=>{const{x14Id:J}=Y;J&&(M[J]=Y)})}),B.forEach(G=>{G.rules.forEach(Y=>{const J=M[Y.x14Id];J?((V,Q)=>{Object.keys(Q).forEach(q=>{const z=V[q],Z=Q[q];z===void 0&&Z!==void 0&&(V[q]=Z)})})(J,Y):j[G.ref]?j[G.ref].rules.push(Y):k.push({ref:G.ref,rules:[Y]})})}),k};class N extends d{constructor(B){super();const{maxRows:j,maxCols:M,ignoreNodes:G}=B||{};this.ignoreNodes=G||[],this.map={sheetPr:new v,dimension:new b,sheetViews:new p({tag:"sheetViews",count:!1,childXform:new S}),sheetFormatPr:new w,cols:new p({tag:"cols",count:!1,childXform:new f}),sheetData:new p({tag:"sheetData",count:!1,empty:!0,childXform:new h({maxItems:M}),maxItems:j}),autoFilter:new L,mergeCells:new p({tag:"mergeCells",count:!0,childXform:new g}),rowBreaks:new I,hyperlinks:new p({tag:"hyperlinks",count:!1,childXform:new y}),pageMargins:new T,dataValidations:new x,pageSetup:new R,headerFooter:new F,printOptions:new P,picture:new O,drawing:new H,sheetProtection:new D,tableParts:new p({tag:"tableParts",count:!0,childXform:new U}),conditionalFormatting:new A,extLst:new _}}prepare(B,j){j.merges=new l,B.hyperlinks=j.hyperlinks=[],B.comments=j.comments=[],j.formulae={},j.siFormulae=0,this.map.cols.prepare(B.cols,j),this.map.sheetData.prepare(B.rows,j),this.map.conditionalFormatting.prepare(B.conditionalFormattings,j),B.mergeCells=j.merges.mergeCells;const M=B.rels=[];function G(V){return"rId"+(V.length+1)}if(B.hyperlinks.forEach(V=>{const Q=G(M);V.rId=Q,M.push({Id:Q,Type:c.Hyperlink,Target:V.target,TargetMode:"External"})}),B.comments.length>0){const V={Id:G(M),Type:c.Comments,Target:`../comments${B.id}.xml`};M.push(V);const Q={Id:G(M),Type:c.VmlDrawing,Target:`../drawings/vmlDrawing${B.id}.vml`};M.push(Q),B.comments.forEach(q=>{q.refAddress=o.decodeAddress(q.ref)}),j.commentRefs.push({commentName:"comments"+B.id,vmlDrawing:"vmlDrawing"+B.id})}const Y=[];let J;B.media.forEach(V=>{if(V.type==="background"){const Q=G(M);J=j.media[V.imageId],M.push({Id:Q,Type:c.Image,Target:`../media/${J.name}.${J.extension}`}),B.background={rId:Q},B.image=j.media[V.imageId]}else if(V.type==="image"){let{drawing:Q}=B;J=j.media[V.imageId],Q||(Q=B.drawing={rId:G(M),name:"drawing"+ ++j.drawingsCount,anchors:[],rels:[]},j.drawings.push(Q),M.push({Id:Q.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${Q.name}.xml`}));let q=this.preImageId===V.imageId?Y[V.imageId]:Y[Q.rels.length];q||(q=G(Q.rels),Y[Q.rels.length]=q,Q.rels.push({Id:q,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${J.name}.${J.extension}`}));const z={picture:{rId:q},range:V.range};if(V.hyperlinks&&V.hyperlinks.hyperlink){const Z=G(Q.rels);Y[Q.rels.length]=Z,z.picture.hyperlinks={tooltip:V.hyperlinks.tooltip,rId:Z},Q.rels.push({Id:Z,Type:c.Hyperlink,Target:V.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=V.imageId,Q.anchors.push(z)}}),B.tables.forEach(V=>{const Q=G(M);V.rId=Q,M.push({Id:Q,Type:c.Table,Target:"../tables/"+V.target}),V.columns.forEach(q=>{const{style:z}=q;z&&(q.dxfId=j.styles.addDxfStyle(z))})}),this.map.extLst.prepare(B,j)}render(B,j){B.openXml(u.StdDocAttributes),B.openNode("worksheet",N.WORKSHEET_ATTRIBUTES);const M=j.properties?{defaultRowHeight:j.properties.defaultRowHeight,dyDescent:j.properties.dyDescent,outlineLevelCol:j.properties.outlineLevelCol,outlineLevelRow:j.properties.outlineLevelRow}:void 0;j.properties&&j.properties.defaultColWidth&&(M.defaultColWidth=j.properties.defaultColWidth);const G={outlineProperties:j.properties&&j.properties.outlineProperties,tabColor:j.properties&&j.properties.tabColor,pageSetup:j.pageSetup&&j.pageSetup.fitToPage?{fitToPage:j.pageSetup.fitToPage}:void 0},Y=j.pageSetup&&j.pageSetup.margins,J={showRowColHeaders:j.pageSetup&&j.pageSetup.showRowColHeaders,showGridLines:j.pageSetup&&j.pageSetup.showGridLines,horizontalCentered:j.pageSetup&&j.pageSetup.horizontalCentered,verticalCentered:j.pageSetup&&j.pageSetup.verticalCentered},V=j.sheetProtection;this.map.sheetPr.render(B,G),this.map.dimension.render(B,j.dimensions),this.map.sheetViews.render(B,j.views),this.map.sheetFormatPr.render(B,M),this.map.cols.render(B,j.cols),this.map.sheetData.render(B,j.rows),this.map.sheetProtection.render(B,V),this.map.autoFilter.render(B,j.autoFilter),this.map.mergeCells.render(B,j.mergeCells),this.map.conditionalFormatting.render(B,j.conditionalFormattings),this.map.dataValidations.render(B,j.dataValidations),this.map.hyperlinks.render(B,j.hyperlinks),this.map.printOptions.render(B,J),this.map.pageMargins.render(B,Y),this.map.pageSetup.render(B,j.pageSetup),this.map.headerFooter.render(B,j.headerFooter),this.map.rowBreaks.render(B,j.rowBreaks),this.map.drawing.render(B,j.drawing),this.map.picture.render(B,j.background),this.map.tableParts.render(B,j.tables),this.map.extLst.render(B,j),j.rels&&j.rels.forEach(Q=>{Q.Type===c.VmlDrawing&&B.leafNode("legacyDrawing",{"r:id":Q.Id})}),B.closeNode()}parseOpen(B){return this.parser?(this.parser.parseOpen(B),!0):B.name==="worksheet"?(i.each(this.map,j=>{j.reset()}),!0):(this.map[B.name]&&!this.ignoreNodes.includes(B.name)&&(this.parser=this.map[B.name],this.parser.parseOpen(B)),!0)}parseText(B){this.parser&&this.parser.parseText(B)}parseClose(B){if(this.parser)return this.parser.parseClose(B)||(this.parser=void 0),!0;switch(B){case"worksheet":{const j=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(j.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(j.outlineProperties=this.map.sheetPr.model.outlineProperties);const M={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},G=Object.assign(M,this.map.pageSetup.model,this.map.printOptions.model),Y=E(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:j,views:this.map.sheetViews.model,pageSetup:G,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:Y},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(B,j){const M=(B.relationships||[]).reduce((Y,J)=>{if(Y[J.Id]=J,J.Type===c.Comments&&(B.comments=j.comments[J.Target].comments),J.Type===c.VmlDrawing&&B.comments&&B.comments.length){const V=j.vmlDrawings[J.Target].comments;B.comments.forEach((Q,q)=>{Q.note=Object.assign({},Q.note,V[q])})}return Y},{});if(j.commentsMap=(B.comments||[]).reduce((Y,J)=>(J.ref&&(Y[J.ref]=J),Y),{}),j.hyperlinkMap=(B.hyperlinks||[]).reduce((Y,J)=>(J.rId&&(Y[J.address]=M[J.rId].Target),Y),{}),j.formulae={},B.rows=B.rows&&B.rows.filter(Boolean)||[],B.rows.forEach(Y=>{Y.cells=Y.cells&&Y.cells.filter(Boolean)||[]}),this.map.cols.reconcile(B.cols,j),this.map.sheetData.reconcile(B.rows,j),this.map.conditionalFormatting.reconcile(B.conditionalFormattings,j),B.media=[],B.drawing){const Y=M[B.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(Y){const J=Y[1];j.drawings[J].anchors.forEach(V=>{if(V.medium){const Q={type:"image",imageId:V.medium.index,range:V.range,hyperlinks:V.picture.hyperlinks};B.media.push(Q)}})}}const G=B.background&&M[B.background.rId];if(G){const Y=G.Target.split("/media/")[1],J=j.mediaIndex&&j.mediaIndex[Y];J!==void 0&&B.media.push({type:"background",imageId:J})}B.tables=(B.tables||[]).map(Y=>{const J=M[Y.rId];return j.tables[J.Target]}),delete B.relationships,delete B.hyperlinks,delete B.comments}}N.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},s.exports=N},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.attr=o.attr}render(o,u){u&&(o.openNode(this.tag),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this._format=o.format||function(u){try{return Number.isNaN(u.getTime())?"":u.toISOString()}catch{return""}},this._parse=o.parse||function(u){return new Date(u)}}render(o,u){u&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,this._format(u)):o.writeText(this._format(u)),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=this._parse(o.attributes[this.attr]):this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this.zero=o.zero}render(o,u){(u||this.zero)&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,u):o.writeText(u),o.closeNode())}parseOpen(o){return o.name===this.tag&&(this.attr?this.model=parseInt(o.attributes[this.attr],10):this.text=[],!0)}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs}render(o,u){u!==void 0&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,u):o.writeText(u),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=o.attributes[this.attr]:this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(e,s,a){const i=e("./base-xform"),o=e("../../utils/xml-stream");s.exports=class extends i{constructor(u){super(),this._model=u}render(u){if(!this._xml){const c=new o;(function l(d,p){d.openNode(p.tag,p.$),p.c&&p.c.forEach(h=>{l(d,h)}),p.t&&d.writeText(p.t),d.closeNode()})(c,this._model),this._xml=c.xml}u.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(u){switch(u){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,s,a){const i=e("./text-xform"),o=e("./rich-text-xform"),u=e("../base-xform");s.exports=class extends u{constructor(){super(),this.map={r:new o,t:new i}}get tag(){return"rPh"}render(c,l){if(c.openNode(this.tag,{sb:l.sb||0,eb:l.eb||0}),l&&l.hasOwnProperty("richText")&&l.richText){const{r:d}=this.map;l.richText.forEach(p=>{d.render(c,p)})}else l&&this.map.t.render(c,l.text);c.closeNode()}parseOpen(c){const{name:l}=c;return this.parser?(this.parser.parseOpen(c),!0):l===this.tag?(this.model={sb:parseInt(c.attributes.sb,10),eb:parseInt(c.attributes.eb,10)},!0):(this.parser=this.map[l],!!this.parser&&(this.parser.parseOpen(c),!0))}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser){if(!this.parser.parseClose(c)){switch(c){case"r":{let l=this.model.richText;l||(l=this.model.richText=[]),l.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,s,a){const i=e("./text-xform"),o=e("../style/font-xform"),u=e("../base-xform");class c extends u{constructor(d){super(),this.model=d}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new i)}get fontXform(){return this._fontXform||(this._fontXform=new o(c.FONT_OPTIONS))}render(d,p){p=p||this.model,d.openNode("r"),p.font&&this.fontXform.render(d,p.font),this.textXform.render(d,p.text),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(d),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){switch(d){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(d),!0}}}c.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},s.exports=c},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,s,a){const i=e("./text-xform"),o=e("./rich-text-xform"),u=e("./phonetic-text-xform"),c=e("../base-xform");s.exports=class extends c{constructor(l){super(),this.model=l,this.map={r:new o,t:new i,rPh:new u}}get tag(){return"si"}render(l,d){l.openNode(this.tag),d&&d.hasOwnProperty("richText")&&d.richText?d.richText.length?d.richText.forEach(p=>{this.map.r.render(l,p)}):this.map.t.render(l,""):d!=null&&this.map.t.render(l,d),l.closeNode()}parseOpen(l){const{name:d}=l;return this.parser?(this.parser.parseOpen(l),!0):d===this.tag?(this.model={},!0):(this.parser=this.map[d],!!this.parser&&(this.parser.parseOpen(l),!0))}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){switch(l){case"r":{let d=this.model.richText;d||(d=this.model.richText=[]),d.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,s,a){const i=e("../../../utils/xml-stream"),o=e("../base-xform"),u=e("./shared-string-xform");s.exports=class extends o{constructor(c){super(),this.model=c||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new u)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(c){return this.model.values[c]}add(c){return c.richText?this.addRichText(c):this.addText(c)}addText(c){let l=this.hash[c];return l===void 0&&(l=this.hash[c]=this.model.values.length,this.model.values.push(c)),this.model.count++,l}addRichText(c){const l=this.sharedStringXform.toXml(c);let d=this.rich[l];return d===void 0&&(d=this.rich[l]=this.model.values.length,this.model.values.push(c)),this.model.count++,d}render(c,l){l=l||this._values,c.openXml(i.StdDocAttributes),c.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:l.count,uniqueCount:l.values.length});const d=this.sharedStringXform;l.values.forEach(p=>{d.render(c,p)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(c),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(c){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"t"}render(o,u){o.openNode("t"),/^\s|\n|\s$/.test(u)&&o.addAttribute("xml:space","preserve"),o.writeText(u),o.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(o,u)=>String.fromCharCode(parseInt(u,16)))}parseOpen(o){switch(o.name){case"t":return this._text=[],!0;default:return!1}}parseText(o){this._text.push(o)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(e,s,a){const i=e("../../../doc/enums"),o=e("../../../utils/utils"),u=e("../base-xform"),c={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((d,p)=>(d[p]=!0,d),{}),horizontal(d){return this.horizontalValues[d]?d:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((d,p)=>(d[p]=!0,d),{}),vertical(d){return d==="middle"?"center":this.verticalValues[d]?d:void 0},wrapText:d=>!!d||void 0,shrinkToFit:d=>!!d||void 0,textRotation(d){switch(d){case"vertical":return d;default:return(d=o.validInt(d))>=-90&&d<=90?d:void 0}},indent:d=>(d=o.validInt(d),Math.max(0,d)),readingOrder(d){switch(d){case"ltr":return i.ReadingOrder.LeftToRight;case"rtl":return i.ReadingOrder.RightToLeft;default:return}}},l={toXml(d){if(d=c.textRotation(d)){if(d==="vertical")return 255;const p=Math.round(d);if(p>=0&&p<=90)return p;if(p<0&&p>=-90)return 90-p}},toModel(d){const p=o.validInt(d);if(p!==void 0){if(p===255)return"vertical";if(p>=0&&p<=90)return p;if(p>90&&p<=180)return 90-p}}};s.exports=class extends u{get tag(){return"alignment"}render(d,p){d.addRollback(),d.openNode("alignment");let h=!1;function f(b,y){y&&(d.addAttribute(b,y),h=!0)}f("horizontal",c.horizontal(p.horizontal)),f("vertical",c.vertical(p.vertical)),f("wrapText",!!c.wrapText(p.wrapText)&&"1"),f("shrinkToFit",!!c.shrinkToFit(p.shrinkToFit)&&"1"),f("indent",c.indent(p.indent)),f("textRotation",l.toXml(p.textRotation)),f("readingOrder",c.readingOrder(p.readingOrder)),d.closeNode(),h?d.commit():d.rollback()}parseOpen(d){const p={};let h=!1;function f(b,y,g){b&&(p[y]=g,h=!0)}f(d.attributes.horizontal,"horizontal",d.attributes.horizontal),f(d.attributes.vertical,"vertical",d.attributes.vertical==="center"?"middle":d.attributes.vertical),f(d.attributes.wrapText,"wrapText",o.parseBoolean(d.attributes.wrapText)),f(d.attributes.shrinkToFit,"shrinkToFit",o.parseBoolean(d.attributes.shrinkToFit)),f(d.attributes.indent,"indent",parseInt(d.attributes.indent,10)),f(d.attributes.textRotation,"textRotation",l.toModel(d.attributes.textRotation)),f(d.attributes.readingOrder,"readingOrder",d.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=h?p:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,s,a){const i=e("../base-xform"),o=e("../../../utils/utils"),u=e("./color-xform");class c extends i{constructor(d){super(),this.name=d,this.map={color:new u}}get tag(){return this.name}render(d,p,h){const f=p&&p.color||h||this.defaultColor;d.openNode(this.name),p&&p.style&&(d.addAttribute("style",p.style),f&&this.map.color.render(d,f)),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.name:{const{style:p}=d.attributes;return this.model=p?{style:p}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):(d===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(d){return c.validStyleValues[d]}}c.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((l,d)=>(l[d]=!0,l),{}),s.exports=class extends i{constructor(){super(),this.map={top:new c("top"),left:new c("left"),bottom:new c("bottom"),right:new c("right"),diagonal:new c("diagonal")}}render(l,d){const{color:p}=d;function h(f,b){f&&!f.color&&d.color&&(f={...f,color:d.color}),b.render(l,f,p)}l.openNode("border"),d.diagonal&&d.diagonal.style&&(d.diagonal.up&&l.addAttribute("diagonalUp","1"),d.diagonal.down&&l.addAttribute("diagonalDown","1")),h(d.left,this.map.left),h(d.right,this.map.right),h(d.top,this.map.top),h(d.bottom,this.map.bottom),h(d.diagonal,this.map.diagonal),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"border":return this.reset(),this.diagonalUp=o.parseBoolean(l.attributes.diagonalUp),this.diagonalDown=o.parseBoolean(l.attributes.diagonalDown),!0;default:return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;if(l==="border"){const d=this.model={},p=function(h,f,b){f&&(b&&Object.assign(f,b),d[h]=f)};p("left",this.map.left.model),p("right",this.map.right.model),p("top",this.map.top.model),p("bottom",this.map.bottom.model),p("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{constructor(o){super(),this.name=o||"color"}get tag(){return this.name}render(o,u){return!!u&&(o.openNode(this.name),u.argb?o.addAttribute("rgb",u.argb):u.theme!==void 0?(o.addAttribute("theme",u.theme),u.tint!==void 0&&o.addAttribute("tint",u.tint)):u.indexed!==void 0?o.addAttribute("indexed",u.indexed):o.addAttribute("auto","1"),o.closeNode(),!0)}parseOpen(o){return o.name===this.name&&(o.attributes.rgb?this.model={argb:o.attributes.rgb}:o.attributes.theme?(this.model={theme:parseInt(o.attributes.theme,10)},o.attributes.tint&&(this.model.tint=parseFloat(o.attributes.tint))):o.attributes.indexed?this.model={indexed:parseInt(o.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(e,s,a){const i=e("../base-xform"),o=e("./alignment-xform"),u=e("./border-xform"),c=e("./fill-xform"),l=e("./font-xform"),d=e("./numfmt-xform"),p=e("./protection-xform");s.exports=class extends i{constructor(){super(),this.map={alignment:new o,border:new u,fill:new c,font:new l,numFmt:new d,protection:new p}}get tag(){return"dxf"}render(h,f){if(h.openNode(this.tag),f.font&&this.map.font.render(h,f.font),f.numFmt&&f.numFmtId){const b={id:f.numFmtId,formatCode:f.numFmt};this.map.numFmt.render(h,b)}f.fill&&this.map.fill.render(h,f.fill),f.alignment&&this.map.alignment.render(h,f.alignment),f.border&&this.map.border.render(h,f.border),f.protection&&this.map.protection.render(h,f.protection),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h),!0}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return this.parser?(this.parser.parseClose(h)||(this.parser=void 0),!0):h!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,s,a){const i=e("../base-xform"),o=e("./color-xform");class u extends i{constructor(){super(),this.map={color:new o}}get tag(){return"stop"}render(h,f){h.openNode("stop"),h.addAttribute("position",f.position),this.map.color.render(h,f.color),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"stop":return this.model={position:parseFloat(h.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(h),!0;default:return!1}}parseText(){}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class c extends i{constructor(){super(),this.map={fgColor:new o("fgColor"),bgColor:new o("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(h,f){h.openNode("patternFill"),h.addAttribute("patternType",f.pattern),f.fgColor&&this.map.fgColor.render(h,f.fgColor),f.bgColor&&this.map.bgColor.render(h,f.bgColor),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"patternFill":return this.model={type:"pattern",pattern:h.attributes.patternType},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.parser.model&&(this.model[h]=this.parser.model),this.parser=void 0),!0)}}class l extends i{constructor(){super(),this.map={stop:new u}}get name(){return"gradient"}get tag(){return"gradientFill"}render(h,f){switch(h.openNode("gradientFill"),f.gradient){case"angle":h.addAttribute("degree",f.degree);break;case"path":h.addAttribute("type","path"),f.center.left&&(h.addAttribute("left",f.center.left),f.center.right===void 0&&h.addAttribute("right",f.center.left)),f.center.right&&h.addAttribute("right",f.center.right),f.center.top&&(h.addAttribute("top",f.center.top),f.center.bottom===void 0&&h.addAttribute("bottom",f.center.top)),f.center.bottom&&h.addAttribute("bottom",f.center.bottom)}const b=this.map.stop;f.stops.forEach(y=>{b.render(h,y)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"gradientFill":{const f=this.model={stops:[]};return h.attributes.degree?(f.gradient="angle",f.degree=parseInt(h.attributes.degree,10)):h.attributes.type==="path"&&(f.gradient="path",f.center={left:h.attributes.left?parseFloat(h.attributes.left):0,top:h.attributes.top?parseFloat(h.attributes.top):0},h.attributes.right!==h.attributes.left&&(f.center.right=h.attributes.right?parseFloat(h.attributes.right):0),h.attributes.bottom!==h.attributes.top&&(f.center.bottom=h.attributes.bottom?parseFloat(h.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class d extends i{constructor(){super(),this.map={patternFill:new c,gradientFill:new l}}get tag(){return"fill"}render(h,f){switch(h.addRollback(),h.openNode("fill"),f.type){case"pattern":this.map.patternFill.render(h,f);break;case"gradient":this.map.gradientFill.render(h,f);break;default:return void h.rollback()}h.closeNode(),h.commit()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"fill":return this.model={},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(h){return d.validPatternValues[h]}}d.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((p,h)=>(p[h]=!0,p),{}),d.StopXform=u,d.PatternFillXform=c,d.GradientFillXform=l,s.exports=d},{"../base-xform":32,"./color-xform":128}],131:[function(e,s,a){const i=e("./color-xform"),o=e("../simple/boolean-xform"),u=e("../simple/integer-xform"),c=e("../simple/string-xform"),l=e("./underline-xform"),d=e("../../../utils/under-dash"),p=e("../base-xform");class h extends p{constructor(b){super(),this.options=b||h.OPTIONS,this.map={b:{prop:"bold",xform:new o({tag:"b",attr:"val"})},i:{prop:"italic",xform:new o({tag:"i",attr:"val"})},u:{prop:"underline",xform:new l},charset:{prop:"charset",xform:new u({tag:"charset",attr:"val"})},color:{prop:"color",xform:new i},condense:{prop:"condense",xform:new o({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new o({tag:"extend",attr:"val"})},family:{prop:"family",xform:new u({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new o({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new c({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new c({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new o({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new o({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new u({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new c({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(b,y){const{map:g}=this;b.openNode(this.options.tagName),d.each(this.map,(x,v)=>{g[v].xform.render(b,y[x.prop])}),b.closeNode()}parseOpen(b){if(this.parser)return this.parser.parseOpen(b),!0;if(this.map[b.name])return this.parser=this.map[b.name].xform,this.parser.parseOpen(b);switch(b.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(b){this.parser&&this.parser.parseText(b)}parseClose(b){if(this.parser&&!this.parser.parseClose(b)){const y=this.map[b];return this.parser.model&&(this.model[y.prop]=this.parser.model),this.parser=void 0,!0}switch(b){case this.options.tagName:return!1;default:return!0}}}h.OPTIONS={tagName:"font",fontNameTag:"name"},s.exports=h},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,s,a){const i=e("../../../utils/under-dash"),o=e("../../defaultnumformats"),u=e("../base-xform"),c=function(){const d={};return i.each(o,(p,h)=>{p.f&&(d[p.f]=parseInt(h,10))}),d}();class l extends u{constructor(p,h){super(),this.id=p,this.formatCode=h}get tag(){return"numFmt"}render(p,h){p.leafNode("numFmt",{numFmtId:h.id,formatCode:h.formatCode})}parseOpen(p){switch(p.name){case"numFmt":return this.model={id:parseInt(p.attributes.numFmtId,10),formatCode:p.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}l.getDefaultFmtId=function(d){return c[d]},l.getDefaultFmtCode=function(d){return o[d]&&o[d].f},s.exports=l},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,s,a){const i=e("../base-xform"),o={boolean:(u,c)=>u===void 0?c:u};s.exports=class extends i{get tag(){return"protection"}render(u,c){u.addRollback(),u.openNode("protection");let l=!1;function d(p,h){h!==void 0&&(u.addAttribute(p,h),l=!0)}d("locked",o.boolean(c.locked,!0)?void 0:"0"),d("hidden",o.boolean(c.hidden,!1)?"1":void 0),u.closeNode(),l?u.commit():u.rollback()}parseOpen(u){const c={locked:u.attributes.locked!=="0",hidden:u.attributes.hidden==="1"},l=!c.locked||c.hidden;this.model=l?c:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(e,s,a){const i=e("../base-xform"),o=e("./alignment-xform"),u=e("./protection-xform");s.exports=class extends i{constructor(c){super(),this.xfId=!(!c||!c.xfId),this.map={alignment:new o,protection:new u}}get tag(){return"xf"}render(c,l){c.openNode("xf",{numFmtId:l.numFmtId||0,fontId:l.fontId||0,fillId:l.fillId||0,borderId:l.borderId||0}),this.xfId&&c.addAttribute("xfId",l.xfId||0),l.numFmtId&&c.addAttribute("applyNumberFormat","1"),l.fontId&&c.addAttribute("applyFont","1"),l.fillId&&c.addAttribute("applyFill","1"),l.borderId&&c.addAttribute("applyBorder","1"),l.alignment&&c.addAttribute("applyAlignment","1"),l.protection&&c.addAttribute("applyProtection","1"),l.alignment&&this.map.alignment.render(c,l.alignment),l.protection&&this.map.protection.render(c,l.protection),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"xf":return this.model={numFmtId:parseInt(c.attributes.numFmtId,10),fontId:parseInt(c.attributes.fontId,10),fillId:parseInt(c.attributes.fillId,10),borderId:parseInt(c.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(c.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(c),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):c!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,s,a){const i=e("../../../doc/enums"),o=e("../../../utils/xml-stream"),u=e("../base-xform"),c=e("../static-xform"),l=e("../list-xform"),d=e("./font-xform"),p=e("./fill-xform"),h=e("./border-xform"),f=e("./numfmt-xform"),b=e("./style-xform"),y=e("./dxf-xform");class g extends u{constructor(v){super(),this.map={numFmts:new l({tag:"numFmts",count:!0,childXform:new f}),fonts:new l({tag:"fonts",count:!0,childXform:new d,$:{"x14ac:knownFonts":1}}),fills:new l({tag:"fills",count:!0,childXform:new p}),borders:new l({tag:"borders",count:!0,childXform:new h}),cellStyleXfs:new l({tag:"cellStyleXfs",count:!0,childXform:new b}),cellXfs:new l({tag:"cellXfs",count:!0,childXform:new b({xfId:!0})}),dxfs:new l({tag:"dxfs",always:!0,count:!0,childXform:new y}),numFmt:new f,font:new d,fill:new p,border:new h,style:new b({xfId:!0}),cellStyles:g.STATIC_XFORMS.cellStyles,tableStyles:g.STATIC_XFORMS.tableStyles,extLst:g.STATIC_XFORMS.extLst},v&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(v,w){w=w||this.model,v.openXml(o.StdDocAttributes),v.openNode("styleSheet",g.STYLESHEET_ATTRIBUTES),this.index?(w.numFmts&&w.numFmts.length&&(v.openNode("numFmts",{count:w.numFmts.length}),w.numFmts.forEach(S=>{v.writeXml(S)}),v.closeNode()),w.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),v.openNode("fonts",{count:w.fonts.length,"x14ac:knownFonts":1}),w.fonts.forEach(S=>{v.writeXml(S)}),v.closeNode(),v.openNode("fills",{count:w.fills.length}),w.fills.forEach(S=>{v.writeXml(S)}),v.closeNode(),v.openNode("borders",{count:w.borders.length}),w.borders.forEach(S=>{v.writeXml(S)}),v.closeNode(),this.map.cellStyleXfs.render(v,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),v.openNode("cellXfs",{count:w.styles.length}),w.styles.forEach(S=>{v.writeXml(S)}),v.closeNode()):(this.map.numFmts.render(v,w.numFmts),this.map.fonts.render(v,w.fonts),this.map.fills.render(v,w.fills),this.map.borders.render(v,w.borders),this.map.cellStyleXfs.render(v,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(v,w.styles)),g.STATIC_XFORMS.cellStyles.render(v),this.map.dxfs.render(v,w.dxfs),g.STATIC_XFORMS.tableStyles.render(v),g.STATIC_XFORMS.extLst.render(v),v.closeNode()}parseOpen(v){if(this.parser)return this.parser.parseOpen(v),!0;switch(v.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[v.name],this.parser&&this.parser.parseOpen(v),!0}}parseText(v){this.parser&&this.parser.parseText(v)}parseClose(v){if(this.parser)return this.parser.parseClose(v)||(this.parser=void 0),!0;switch(v){case"styleSheet":{this.model={};const w=(S,D)=>{D.model&&D.model.length&&(this.model[S]=D.model)};if(w("numFmts",this.map.numFmts),w("fonts",this.map.fonts),w("fills",this.map.fills),w("borders",this.map.borders),w("styles",this.map.cellXfs),w("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const S=this.index.numFmt;this.model.numFmts.forEach(D=>{S[D.id]=D.formatCode})}return!1}default:return!0}}addStyleModel(v,w){if(!v)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(v))return this.weakMap.get(v);const S={};if(w=w||i.ValueType.Number,v.numFmt)S.numFmtId=this._addNumFmtStr(v.numFmt);else switch(w){case i.ValueType.Number:S.numFmtId=this._addNumFmtStr("General");break;case i.ValueType.Date:S.numFmtId=this._addNumFmtStr("mm-dd-yy")}v.font&&(S.fontId=this._addFont(v.font)),v.border&&(S.borderId=this._addBorder(v.border)),v.fill&&(S.fillId=this._addFill(v.fill)),v.alignment&&(S.alignment=v.alignment),v.protection&&(S.protection=v.protection);const D=this._addStyle(S);return this.weakMap&&this.weakMap.set(v,D),D}getStyleModel(v){const w=this.model.styles[v];if(!w)return null;let S=this.index.model[v];if(S)return S;if(S=this.index.model[v]={},w.numFmtId){const T=this.index.numFmt[w.numFmtId]||f.getDefaultFmtCode(w.numFmtId);T&&(S.numFmt=T)}function D(T,R,P){if(P||P===0){const L=R[P];L&&(S[T]=L)}}return D("font",this.model.fonts,w.fontId),D("border",this.model.borders,w.borderId),D("fill",this.model.fills,w.fillId),w.alignment&&(S.alignment=w.alignment),w.protection&&(S.protection=w.protection),S}addDxfStyle(v){return v.numFmt&&(v.numFmtId=this._addNumFmtStr(v.numFmt)),this.model.dxfs.push(v),this.model.dxfs.length-1}getDxfStyle(v){return this.model.dxfs[v]}_addStyle(v){const w=this.map.style.toXml(v);let S=this.index.style[w];return S===void 0&&(S=this.index.style[w]=this.model.styles.length,this.model.styles.push(w)),S}_addNumFmtStr(v){let w=f.getDefaultFmtId(v);if(w!==void 0||(w=this.index.numFmt[v],w!==void 0))return w;w=this.index.numFmt[v]=164+this.model.numFmts.length;const S=this.map.numFmt.toXml({id:w,formatCode:v});return this.model.numFmts.push(S),w}_addFont(v){const w=this.map.font.toXml(v);let S=this.index.font[w];return S===void 0&&(S=this.index.font[w]=this.model.fonts.length,this.model.fonts.push(w)),S}_addBorder(v){const w=this.map.border.toXml(v);let S=this.index.border[w];return S===void 0&&(S=this.index.border[w]=this.model.borders.length,this.model.borders.push(w)),S}_addFill(v){const w=this.map.fill.toXml(v);let S=this.index.fill[w];return S===void 0&&(S=this.index.fill[w]=this.model.fills.length,this.model.fills.push(w)),S}}g.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},g.STATIC_XFORMS={cellStyles:new c({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new c({tag:"dxfs",$:{count:0}}),tableStyles:new c({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new c({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},g.Mock=class extends g{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(x){return x.autodrain(),Promise.resolve()}addStyleModel(x,v){switch(v){case i.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const x={numFmtId:f.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(x)}return this._dateStyleId}getStyleModel(){return{}}},s.exports=g},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,s,a){const i=e("../base-xform");class o extends i{constructor(c){super(),this.model=c}get tag(){return"u"}render(c,l){if((l=l||this.model)===!0)c.leafNode("u");else{const d=o.Attributes[l];d&&c.leafNode("u",d)}}parseOpen(c){c.name==="u"&&(this.model=c.attributes.val||!0)}parseText(){}parseClose(){return!1}}o.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},s.exports=o},{"../base-xform":32}],137:[function(e,s,a){const i=e("../base-xform"),o=e("./filter-column-xform");s.exports=class extends i{constructor(){super(),this.map={filterColumn:new o}}get tag(){return"autoFilter"}prepare(u){u.columns.forEach((c,l)=>{this.map.filterColumn.prepare(c,{index:l})})}render(u,c){return u.openNode(this.tag,{ref:c.autoFilterRef}),c.columns.forEach(l=>{this.map.filterColumn.render(u,l)}),u.closeNode(),!0}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:return this.model={autoFilterRef:u.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[u.name],this.parser)return this.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"customFilter"}render(o,u){o.leafNode(this.tag,{val:u.val,operator:u.operator})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val,operator:o.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(e,s,a){const i=e("../base-xform"),o=e("../list-xform"),u=e("./custom-filter-xform"),c=e("./filter-xform");s.exports=class extends i{constructor(){super(),this.map={customFilters:new o({tag:"customFilters",count:!1,empty:!0,childXform:new u}),filters:new o({tag:"filters",count:!1,empty:!0,childXform:new c})}}get tag(){return"filterColumn"}prepare(l,d){l.colId=d.index.toString()}render(l,d){return d.customFilters?(l.openNode(this.tag,{colId:d.colId,hiddenButton:d.filterButton?"0":"1"}),this.map.customFilters.render(l,d.customFilters),l.closeNode(),!0):(l.leafNode(this.tag,{colId:d.colId,hiddenButton:d.filterButton?"0":"1"}),!0)}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;const{attributes:d}=l;switch(l.name){case this.tag:return this.model={filterButton:d.hiddenButton==="0"},!0;default:if(this.parser=this.map[l.name],this.parser)return this.parseOpen(l),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"filter"}render(o,u){o.leafNode(this.tag,{val:u.val})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"tableColumn"}prepare(o,u){o.id=u.index+1}render(o,u){return o.leafNode(this.tag,{id:u.id.toString(),name:u.name,totalsRowLabel:u.totalsRowLabel,totalsRowFunction:u.totalsRowFunction,dxfId:u.dxfId}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:u}=o;return this.model={name:u.name,totalsRowLabel:u.totalsRowLabel,totalsRowFunction:u.totalsRowFunction,dxfId:u.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(e,s,a){const i=e("../base-xform");s.exports=class extends i{get tag(){return"tableStyleInfo"}render(o,u){return o.leafNode(this.tag,{name:u.theme?u.theme:void 0,showFirstColumn:u.showFirstColumn?"1":"0",showLastColumn:u.showLastColumn?"1":"0",showRowStripes:u.showRowStripes?"1":"0",showColumnStripes:u.showColumnStripes?"1":"0"}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:u}=o;return this.model={theme:u.name?u.name:null,showFirstColumn:u.showFirstColumn==="1",showLastColumn:u.showLastColumn==="1",showRowStripes:u.showRowStripes==="1",showColumnStripes:u.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(e,s,a){const i=e("../../../utils/xml-stream"),o=e("../base-xform"),u=e("../list-xform"),c=e("./auto-filter-xform"),l=e("./table-column-xform"),d=e("./table-style-info-xform");class p extends o{constructor(){super(),this.map={autoFilter:new c,tableColumns:new u({tag:"tableColumns",count:!0,empty:!0,childXform:new l}),tableStyleInfo:new d}}prepare(f,b){this.map.autoFilter.prepare(f),this.map.tableColumns.prepare(f.columns,b)}get tag(){return"table"}render(f,b){f.openXml(i.StdDocAttributes),f.openNode(this.tag,{...p.TABLE_ATTRIBUTES,id:b.id,name:b.name,displayName:b.displayName||b.name,ref:b.tableRef,totalsRowCount:b.totalsRow?"1":void 0,totalsRowShown:b.totalsRow?void 0:"1",headerRowCount:b.headerRow?"1":"0"}),this.map.autoFilter.render(f,b),this.map.tableColumns.render(f,b.columns),this.map.tableStyleInfo.render(f,b.style),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;const{name:b,attributes:y}=f;switch(b){case this.tag:this.reset(),this.model={name:y.name,displayName:y.displayName||y.name,tableRef:y.ref,totalsRow:y.totalsRowCount==="1",headerRow:y.headerRowCount==="1"};break;default:this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)}return!0}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((b,y)=>{this.model.columns[y].filterButton=b.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(f,b){f.columns.forEach(y=>{y.dxfId!==void 0&&(y.style=b.styles.getDxfStyle(y.dxfId))})}}p.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},s.exports=p},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,s,a){(function(i,o){(function(){const u=e("fs"),c=e("jszip"),{PassThrough:l}=e("readable-stream"),d=e("../utils/zip-stream"),p=e("../utils/stream-buf"),h=e("../utils/utils"),f=e("../utils/xml-stream"),{bufferToString:b}=e("../utils/browser-buffer-decode"),y=e("./xform/style/styles-xform"),g=e("./xform/core/core-xform"),x=e("./xform/strings/shared-strings-xform"),v=e("./xform/core/relationships-xform"),w=e("./xform/core/content-types-xform"),S=e("./xform/core/app-xform"),D=e("./xform/book/workbook-xform"),T=e("./xform/sheet/worksheet-xform"),R=e("./xform/drawing/drawing-xform"),P=e("./xform/table/table-xform"),L=e("./xform/comment/comments-xform"),O=e("./xform/comment/vml-notes-xform"),H=e("./xml/theme1");class U{constructor(F){this.workbook=F}async readFile(F,A){if(!await h.fs.exists(F))throw new Error("File not found: "+F);const _=u.createReadStream(F);try{const E=await this.read(_,A);return _.close(),E}catch(E){throw _.close(),E}}parseRels(F){return new v().parseStream(F)}parseWorkbook(F){return new D().parseStream(F)}parseSharedStrings(F){return new x().parseStream(F)}reconcile(F,A){const _=new D,E=new T(A),N=new R,k=new P;_.reconcile(F);const B={media:F.media,mediaIndex:F.mediaIndex};Object.keys(F.drawings).forEach(G=>{const Y=F.drawings[G],J=F.drawingRels[G];J&&(B.rels=J.reduce((V,Q)=>(V[Q.Id]=Q,V),{}),(Y.anchors||[]).forEach(V=>{const Q=V.picture&&V.picture.hyperlinks;Q&&B.rels[Q.rId]&&(Q.hyperlink=B.rels[Q.rId].Target,delete Q.rId)}),N.reconcile(Y,B))});const j={styles:F.styles};Object.values(F.tables).forEach(G=>{k.reconcile(G,j)});const M={styles:F.styles,sharedStrings:F.sharedStrings,media:F.media,mediaIndex:F.mediaIndex,date1904:F.properties&&F.properties.date1904,drawings:F.drawings,comments:F.comments,tables:F.tables,vmlDrawings:F.vmlDrawings};F.worksheets.forEach(G=>{G.relationships=F.worksheetRels[G.sheetNo],E.reconcile(G,M)}),delete F.worksheetHash,delete F.worksheetRels,delete F.globalRels,delete F.sharedStrings,delete F.workbookRels,delete F.sheetDefs,delete F.styles,delete F.mediaIndex,delete F.drawings,delete F.drawingRels,delete F.vmlDrawings}async _processWorksheetEntry(F,A,_,E,N){const k=new T(E),B=await k.parseStream(F);B.sheetNo=_,A.worksheetHash[N]=B,A.worksheets.push(B)}async _processCommentEntry(F,A,_){const E=new L,N=await E.parseStream(F);A.comments[`../${_}.xml`]=N}async _processTableEntry(F,A,_){const E=new P,N=await E.parseStream(F);A.tables[`../tables/${_}.xml`]=N}async _processWorksheetRelsEntry(F,A,_){const E=new v,N=await E.parseStream(F);A.worksheetRels[_]=N}async _processMediaEntry(F,A,_){const E=_.lastIndexOf(".");if(E>=1){const N=_.substr(E+1),k=_.substr(0,E);await new Promise((B,j)=>{const M=new p;M.on("finish",()=>{A.mediaIndex[_]=A.media.length,A.mediaIndex[k]=A.media.length;const G={type:"image",name:k,extension:N,buffer:M.toBuffer()};A.media.push(G),B()}),F.on("error",G=>{j(G)}),F.pipe(M)})}}async _processDrawingEntry(F,A,_){const E=new R,N=await E.parseStream(F);A.drawings[_]=N}async _processDrawingRelsEntry(F,A,_){const E=new v,N=await E.parseStream(F);A.drawingRels[_]=N}async _processVmlDrawingEntry(F,A,_){const E=new O,N=await E.parseStream(F);A.vmlDrawings[`../drawings/${_}.vml`]=N}async _processThemeEntry(F,A,_){await new Promise((E,N)=>{const k=new p;F.on("error",N),k.on("error",N),k.on("finish",()=>{A.themes[_]=k.read().toString(),E()}),F.pipe(k)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(F,A){!F[Symbol.asyncIterator]&&F.pipe&&(F=F.pipe(new l));const _=[];for await(const E of F)_.push(E);return this.load(o.concat(_),A)}async load(F,A){let _;_=A&&A.base64?o.from(F.toString(),"base64"):F;const E={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},N=await c.loadAsync(_);for(const k of Object.values(N.files))if(!k.dir){let B,j=k.name;if(j[0]==="/"&&(j=j.substr(1)),j.match(/xl\/media\//)||j.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))B=new l,B.write(await k.async("nodebuffer"));else{let M;B=new l({writableObjectMode:!0,readableObjectMode:!0}),M=i.browser?b(await k.async("nodebuffer")):await k.async("string");const G=16384;for(let Y=0;Y<M.length;Y+=G)B.write(M.substring(Y,Y+G))}switch(B.end(),j){case"_rels/.rels":E.globalRels=await this.parseRels(B);break;case"xl/workbook.xml":{const M=await this.parseWorkbook(B);E.sheets=M.sheets,E.definedNames=M.definedNames,E.views=M.views,E.properties=M.properties,E.calcProperties=M.calcProperties;break}case"xl/_rels/workbook.xml.rels":E.workbookRels=await this.parseRels(B);break;case"xl/sharedStrings.xml":E.sharedStrings=new x,await E.sharedStrings.parseStream(B);break;case"xl/styles.xml":E.styles=new y,await E.styles.parseStream(B);break;case"docProps/app.xml":{const M=new S,G=await M.parseStream(B);E.company=G.company,E.manager=G.manager;break}case"docProps/core.xml":{const M=new g,G=await M.parseStream(B);Object.assign(E,G);break}default:{let M=j.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(M){await this._processWorksheetEntry(B,E,M[1],A,j);break}if(M=j.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),M){await this._processWorksheetRelsEntry(B,E,M[1]);break}if(M=j.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),M){await this._processThemeEntry(B,E,M[1]);break}if(M=j.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),M){await this._processMediaEntry(B,E,M[1]);break}if(M=j.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),M){await this._processDrawingEntry(B,E,M[1]);break}if(M=j.match(/xl\/(comments\d+)[.]xml/),M){await this._processCommentEntry(B,E,M[1]);break}if(M=j.match(/xl\/tables\/(table\d+)[.]xml/),M){await this._processTableEntry(B,E,M[1]);break}if(M=j.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),M){await this._processDrawingRelsEntry(B,E,M[1]);break}if(M=j.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),M){await this._processVmlDrawingEntry(B,E,M[1]);break}}}}return this.reconcile(E,A),this.workbook.model=E,this.workbook}async addMedia(F,A){await Promise.all(A.media.map(async _=>{if(_.type==="image"){const E=`xl/media/${_.name}.${_.extension}`;if(_.filename){const N=await function(k,B){return new Promise((j,M)=>{u.readFile(k,B,(G,Y)=>{G?M(G):j(Y)})})}(_.filename);return F.append(N,{name:E})}if(_.buffer)return F.append(_.buffer,{name:E});if(_.base64){const N=_.base64,k=N.substring(N.indexOf(",")+1);return F.append(k,{name:E,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(F,A){const _=new R,E=new v;A.worksheets.forEach(N=>{const{drawing:k}=N;if(k){_.prepare(k,{});let B=_.toXml(k);F.append(B,{name:`xl/drawings/${k.name}.xml`}),B=E.toXml(k.rels),F.append(B,{name:`xl/drawings/_rels/${k.name}.xml.rels`})}})}addTables(F,A){const _=new P;A.worksheets.forEach(E=>{const{tables:N}=E;N.forEach(k=>{_.prepare(k,{});const B=_.toXml(k);F.append(B,{name:"xl/tables/"+k.target})})})}async addContentTypes(F,A){const _=new w().toXml(A);F.append(_,{name:"[Content_Types].xml"})}async addApp(F,A){const _=new S().toXml(A);F.append(_,{name:"docProps/app.xml"})}async addCore(F,A){const _=new g;F.append(_.toXml(A),{name:"docProps/core.xml"})}async addThemes(F,A){const _=A.themes||{theme1:H};Object.keys(_).forEach(E=>{const N=_[E],k=`xl/theme/${E}.xml`;F.append(N,{name:k})})}async addOfficeRels(F){const A=new v().toXml([{Id:"rId1",Type:U.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:U.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:U.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);F.append(A,{name:"_rels/.rels"})}async addWorkbookRels(F,A){let _=1;const E=[{Id:"rId"+_++,Type:U.RelType.Styles,Target:"styles.xml"},{Id:"rId"+_++,Type:U.RelType.Theme,Target:"theme/theme1.xml"}];A.sharedStrings.count&&E.push({Id:"rId"+_++,Type:U.RelType.SharedStrings,Target:"sharedStrings.xml"}),A.worksheets.forEach(k=>{k.rId="rId"+_++,E.push({Id:k.rId,Type:U.RelType.Worksheet,Target:`worksheets/sheet${k.id}.xml`})});const N=new v().toXml(E);F.append(N,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(F,A){A.sharedStrings&&A.sharedStrings.count&&F.append(A.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(F,A){const{xml:_}=A.styles;_&&F.append(_,{name:"xl/styles.xml"})}async addWorkbook(F,A){const _=new D;F.append(_.toXml(A),{name:"xl/workbook.xml"})}async addWorksheets(F,A){const _=new T,E=new v,N=new L,k=new O;A.worksheets.forEach(B=>{let j=new f;_.render(j,B),F.append(j.xml,{name:`xl/worksheets/sheet${B.id}.xml`}),B.rels&&B.rels.length&&(j=new f,E.render(j,B.rels),F.append(j.xml,{name:`xl/worksheets/_rels/sheet${B.id}.xml.rels`})),B.comments.length>0&&(j=new f,N.render(j,B),F.append(j.xml,{name:`xl/comments${B.id}.xml`}),j=new f,k.render(j,B),F.append(j.xml,{name:`xl/drawings/vmlDrawing${B.id}.vml`}))})}_finalize(F){return new Promise((A,_)=>{F.on("finish",()=>{A(this)}),F.on("error",_),F.finalize()})}prepareModel(F,A){F.creator=F.creator||"ExcelJS",F.lastModifiedBy=F.lastModifiedBy||"ExcelJS",F.created=F.created||new Date,F.modified=F.modified||new Date,F.useSharedStrings=A.useSharedStrings===void 0||A.useSharedStrings,F.useStyles=A.useStyles===void 0||A.useStyles,F.sharedStrings=new x,F.styles=F.useStyles?new y(!0):new y.Mock;const _=new D,E=new T;_.prepare(F);const N={sharedStrings:F.sharedStrings,styles:F.styles,date1904:F.properties.date1904,drawingsCount:0,media:F.media};N.drawings=F.drawings=[],N.commentRefs=F.commentRefs=[];let k=0;F.tables=[],F.worksheets.forEach(B=>{B.tables.forEach(j=>{k++,j.target=`table${k}.xml`,j.id=k,F.tables.push(j)}),E.prepare(B,N)})}async write(F,A){A=A||{};const{model:_}=this.workbook,E=new d.ZipWriter(A.zip);return E.pipe(F),this.prepareModel(_,A),await this.addContentTypes(E,_),await this.addOfficeRels(E,_),await this.addWorkbookRels(E,_),await this.addWorksheets(E,_),await this.addSharedStrings(E,_),await this.addDrawings(E,_),await this.addTables(E,_),await Promise.all([this.addThemes(E,_),this.addStyles(E,_)]),await this.addMedia(E,_),await Promise.all([this.addApp(E,_),this.addCore(E,_)]),await this.addWorkbook(E,_),this._finalize(E)}writeFile(F,A){const _=u.createWriteStream(F);return new Promise((E,N)=>{_.on("finish",()=>{E()}),_.on("error",k=>{N(k)}),this.write(_,A).then(()=>{_.end()}).catch(k=>{N(k)})})}async writeBuffer(F){const A=new p;return await this.write(A,F),A.read()}}U.RelType=e("./rel-type"),s.exports=U}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,s,a){s.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,s,a){(function(i){(function(){Object.defineProperty(a,"__esModule",{value:!0}),a.CsvFormatterStream=void 0;const o=e("stream"),u=e("./formatter");class c extends o.Transform{constructor(d){super({writableObjectMode:d.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=d,this.rowFormatter=new u.RowFormatter(d),this.hasWrittenBOM=!d.writeBOM}transform(d){return this.rowFormatter.rowTransform=d,this}_transform(d,p,h){let f=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(d,(b,y)=>b?(f=!0,h(b)):(y&&y.forEach(g=>{this.push(i.from(g,"utf8"))}),f=!0,h()))}catch(b){if(f)throw b;h(b)}}_flush(d){this.rowFormatter.finish((p,h)=>p?d(p):(h&&h.forEach(f=>{this.push(i.from(f,"utf8"))}),d()))}}a.CsvFormatterStream=c}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.FormatterOptions=void 0,a.FormatterOptions=class{constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var o;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,i||{}),(i==null?void 0:i.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(i==null?void 0:i.quote)===!0?this.quote='"':(i==null?void 0:i.quote)===!1&&(this.quote=""),typeof(i==null?void 0:i.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((o=i.writeHeaders)===null||o===void 0||o),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(e,s,a){var i=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(a,"__esModule",{value:!0}),a.FieldFormatter=void 0;const o=i(e("lodash.isboolean")),u=i(e("lodash.isnil")),c=i(e("lodash.escaperegexp"));a.FieldFormatter=class{constructor(l){this._headers=null,this.formatterOptions=l,l.headers!==null&&(this.headers=l.headers),this.REPLACE_REGEXP=new RegExp(l.quote,"g");const d=`[${l.delimiter}${c.default(l.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(d)}set headers(l){this._headers=l}shouldQuote(l,d){const p=d?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return o.default(p)?p:Array.isArray(p)?p[l]:this._headers!==null&&p[this._headers[l]]}format(l,d,p){const h=(""+(u.default(l)?"":l)).replace(/\0/g,""),{formatterOptions:f}=this;return f.quote!==""&&h.indexOf(f.quote)!==-1?this.quoteField(h.replace(this.REPLACE_REGEXP,f.escapedQuote)):h.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(d,p)?this.quoteField(h):h}quoteField(l){const{quote:d}=this.formatterOptions;return`${d}${l}${d}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,s,a){var i=function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(a,"__esModule",{value:!0}),a.RowFormatter=void 0;const o=i(e("lodash.isfunction")),u=i(e("lodash.isequal")),c=e("./FieldFormatter"),l=e("../types");class d{constructor(h){this.rowCount=0,this.formatterOptions=h,this.fieldFormatter=new c.FieldFormatter(h),this.headers=h.headers,this.shouldWriteHeaders=h.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),h.transform&&(this.rowTransform=h.transform)}static isRowHashArray(h){return!!Array.isArray(h)&&Array.isArray(h[0])&&h[0].length===2}static isRowArray(h){return Array.isArray(h)&&!this.isRowHashArray(h)}static gatherHeaders(h){return d.isRowHashArray(h)?h.map(f=>f[0]):Array.isArray(h)?h:Object.keys(h)}static createTransform(h){return l.isSyncTransform(h)?(f,b)=>{let y=null;try{y=h(f)}catch(g){return b(g)}return b(null,y)}:(f,b)=>{h(f,b)}}set rowTransform(h){if(!o.default(h))throw new TypeError("The transform should be a function");this._rowTransform=d.createTransform(h)}format(h,f){this.callTransformer(h,(b,y)=>{if(b)return f(b);if(!h)return f(null);const g=[];if(y){const{shouldFormatColumns:x,headers:v}=this.checkHeaders(y);if(this.shouldWriteHeaders&&v&&!this.hasWrittenHeaders&&(g.push(this.formatColumns(v,!0)),this.hasWrittenHeaders=!0),x){const w=this.gatherColumns(y);g.push(this.formatColumns(w,!1))}}return f(null,g)})}finish(h){const f=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return h(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));f.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&f.push(this.formatterOptions.rowDelimiter),h(null,f)}checkHeaders(h){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const f=d.gatherHeaders(h);return this.headers=f,this.fieldFormatter.headers=f,this.shouldWriteHeaders?{shouldFormatColumns:!u.default(f,h),headers:f}:{shouldFormatColumns:!0,headers:null}}gatherColumns(h){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(h)?d.isRowHashArray(h)?this.headers.map((f,b)=>{const y=h[b];return y?y[1]:""}):d.isRowArray(h)&&!this.shouldWriteHeaders?h:this.headers.map((f,b)=>h[b]):this.headers.map(f=>h[f])}callTransformer(h,f){return this._rowTransform?this._rowTransform(h,f):f(null,h)}formatColumns(h,f){const b=h.map((g,x)=>this.fieldFormatter.format(g,x,f)).join(this.formatterOptions.delimiter),{rowCount:y}=this;return this.rowCount+=1,y?[this.formatterOptions.rowDelimiter,b].join(""):b}}a.RowFormatter=d},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.FieldFormatter=a.RowFormatter=void 0;var i=e("./RowFormatter");Object.defineProperty(a,"RowFormatter",{enumerable:!0,get:function(){return i.RowFormatter}});var o=e("./FieldFormatter");Object.defineProperty(a,"FieldFormatter",{enumerable:!0,get:function(){return o.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,s,a){(function(i){(function(){var o=Object.create?function(x,v,w,S){S===void 0&&(S=w),Object.defineProperty(x,S,{enumerable:!0,get:function(){return v[w]}})}:function(x,v,w,S){S===void 0&&(S=w),x[S]=v[w]},u=Object.create?function(x,v){Object.defineProperty(x,"default",{enumerable:!0,value:v})}:function(x,v){x.default=v},c=function(x){if(x&&x.__esModule)return x;var v={};if(x!=null)for(var w in x)w!=="default"&&Object.prototype.hasOwnProperty.call(x,w)&&o(v,x,w);return u(v,x),v},l=function(x,v){for(var w in x)w==="default"||Object.prototype.hasOwnProperty.call(v,w)||o(v,x,w)};Object.defineProperty(a,"__esModule",{value:!0}),a.writeToPath=a.writeToString=a.writeToBuffer=a.writeToStream=a.write=a.format=a.FormatterOptions=a.CsvFormatterStream=void 0;const d=e("util"),p=e("stream"),h=c(e("fs")),f=e("./FormatterOptions"),b=e("./CsvFormatterStream");l(e("./types"),a);var y=e("./CsvFormatterStream");Object.defineProperty(a,"CsvFormatterStream",{enumerable:!0,get:function(){return y.CsvFormatterStream}});var g=e("./FormatterOptions");Object.defineProperty(a,"FormatterOptions",{enumerable:!0,get:function(){return g.FormatterOptions}}),a.format=x=>new b.CsvFormatterStream(new f.FormatterOptions(x)),a.write=(x,v)=>{const w=a.format(v),S=d.promisify((D,T)=>{w.write(D,void 0,T)});return x.reduce((D,T)=>D.then(()=>S(T)),Promise.resolve()).then(()=>w.end()).catch(D=>{w.emit("error",D)}),w},a.writeToStream=(x,v,w)=>a.write(v,w).pipe(x),a.writeToBuffer=function(x){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const w=[],S=new p.Writable({write(D,T,R){w.push(D),R()}});return new Promise((D,T)=>{S.on("error",T).on("finish",()=>D(i.concat(w))),a.write(x,v).pipe(S)})},a.writeToString=(x,v)=>a.writeToBuffer(x,v).then(w=>w.toString()),a.writeToPath=(x,v,w)=>{const S=h.createWriteStream(x,{encoding:"utf8"});return a.write(v,w).pipe(S)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isSyncTransform=void 0,a.isSyncTransform=i=>i.length===1},{}],153:[function(e,s,a){(function(i){(function(){Object.defineProperty(a,"__esModule",{value:!0}),a.CsvParserStream=void 0;const o=e("string_decoder"),u=e("stream"),c=e("./transforms"),l=e("./parser");class d extends u.Transform{constructor(h){super({objectMode:h.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=h,this.parser=new l.Parser(h),this.headerTransformer=new c.HeaderTransformer(h),this.decoder=new o.StringDecoder(h.encoding),this.rowTransformerValidator=new c.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(h){return this.rowTransformerValidator.rowTransform=h,this}validate(h){return this.rowTransformerValidator.rowValidator=h,this}emit(h){if(h==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var f=arguments.length,b=new Array(f>1?f-1:0),y=1;y<f;y++)b[y-1]=arguments[y];return super.emit(h,...b)}_transform(h,f,b){if(this.hasHitRowLimit)return b();const y=d.wrapDoneCallback(b);try{const{lines:g}=this,x=g+this.decoder.write(h),v=this.parse(x,!0);return this.processRows(v,y)}catch(g){return y(g)}}_flush(h){const f=d.wrapDoneCallback(h);if(this.hasHitRowLimit)return f();try{const b=this.lines+this.decoder.end(),y=this.parse(b,!1);return this.processRows(y,f)}catch(b){return f(b)}}parse(h,f){if(!h)return[];const{line:b,rows:y}=this.parser.parse(h,f);return this.lines=b,y}processRows(h,f){const b=h.length,y=g=>{const x=S=>S?f(S):g%100!=0?y(g+1):void i(()=>y(g+1));if(this.checkAndEmitHeaders(),g>=b||this.hasHitRowLimit)return f();if(this.parsedLineCount+=1,this.shouldSkipLine)return x();const v=h[g];this.rowCount+=1,this.parsedRowCount+=1;const w=this.rowCount;return this.transformRow(v,(S,D)=>{if(S)return this.rowCount-=1,x(S);if(!D)return x(new Error("expected transform result"));if(D.isValid){if(D.row)return this.pushRow(D.row,x)}else this.emit("data-invalid",D.row,w,D.reason);return x()})};y(0)}transformRow(h,f){try{this.headerTransformer.transform(h,(b,y)=>b?f(b):y?y.isValid?y.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(y.row,f):this.skipRow(f):(this.rowCount-=1,this.parsedRowCount-=1,f(null,{row:null,isValid:!0})):this.shouldEmitRows?f(null,{isValid:!1,row:h}):this.skipRow(f):f(new Error("Expected result from header transform")))}catch(b){f(b)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(h){return this.rowCount-=1,h(null,{row:null,isValid:!0})}pushRow(h,f){try{this.parserOptions.objectMode?this.push(h):this.push(JSON.stringify(h)),f()}catch(b){f(b)}}static wrapDoneCallback(h){let f=!1;return function(b){if(b){if(f)throw b;return f=!0,void h(b)}for(var y=arguments.length,g=new Array(y>1?y-1:0),x=1;x<y;x++)g[x-1]=arguments[x];h(...g)}}}a.CsvParserStream=d}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,s,a){var i=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(a,"__esModule",{value:!0}),a.ParserOptions=void 0;const o=i(e("lodash.escaperegexp")),u=i(e("lodash.isnil"));a.ParserOptions=class{constructor(c){var l;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,c||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=o.default(this.delimiter),this.escapeChar=(l=this.escape)!==null&&l!==void 0?l:this.quote,this.supportsComments=!u.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,s,a){var i=Object.create?function(y,g,x,v){v===void 0&&(v=x),Object.defineProperty(y,v,{enumerable:!0,get:function(){return g[x]}})}:function(y,g,x,v){v===void 0&&(v=x),y[v]=g[x]},o=Object.create?function(y,g){Object.defineProperty(y,"default",{enumerable:!0,value:g})}:function(y,g){y.default=g},u=function(y){if(y&&y.__esModule)return y;var g={};if(y!=null)for(var x in y)x!=="default"&&Object.prototype.hasOwnProperty.call(y,x)&&i(g,y,x);return o(g,y),g},c=function(y,g){for(var x in y)x==="default"||Object.prototype.hasOwnProperty.call(g,x)||i(g,y,x)};Object.defineProperty(a,"__esModule",{value:!0}),a.parseString=a.parseFile=a.parseStream=a.parse=a.ParserOptions=a.CsvParserStream=void 0;const l=u(e("fs")),d=e("stream"),p=e("./ParserOptions"),h=e("./CsvParserStream");c(e("./types"),a);var f=e("./CsvParserStream");Object.defineProperty(a,"CsvParserStream",{enumerable:!0,get:function(){return f.CsvParserStream}});var b=e("./ParserOptions");Object.defineProperty(a,"ParserOptions",{enumerable:!0,get:function(){return b.ParserOptions}}),a.parse=y=>new h.CsvParserStream(new p.ParserOptions(y)),a.parseStream=(y,g)=>y.pipe(new h.CsvParserStream(new p.ParserOptions(g))),a.parseFile=function(y){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return l.createReadStream(y).pipe(new h.CsvParserStream(new p.ParserOptions(g)))},a.parseString=(y,g)=>{const x=new d.Readable;return x.push(y),x.push(null),x.pipe(new h.CsvParserStream(new p.ParserOptions(g)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.Parser=void 0;const i=e("./Scanner"),o=e("./RowParser"),u=e("./Token");class c{constructor(d){this.parserOptions=d,this.rowParser=new o.RowParser(this.parserOptions)}static removeBOM(d){return d&&d.charCodeAt(0)===65279?d.slice(1):d}parse(d,p){const h=new i.Scanner({line:c.removeBOM(d),parserOptions:this.parserOptions,hasMoreData:p});return this.parserOptions.supportsComments?this.parseWithComments(h):this.parseWithoutComments(h)}parseWithoutComments(d){const p=[];let h=!0;for(;h;)h=this.parseRow(d,p);return{line:d.line,rows:p}}parseWithComments(d){const{parserOptions:p}=this,h=[];for(let f=d.nextCharacterToken;f!==null;f=d.nextCharacterToken)if(u.Token.isTokenComment(f,p)){if(d.advancePastLine()===null)return{line:d.lineFromCursor,rows:h};if(!d.hasMoreCharacters)return{line:d.lineFromCursor,rows:h};d.truncateToCursor()}else if(!this.parseRow(d,h))break;return{line:d.line,rows:h}}parseRow(d,p){if(!d.nextNonSpaceToken)return!1;const h=this.rowParser.parse(d);return h!==null&&(this.parserOptions.ignoreEmpty&&o.RowParser.isEmptyRow(h)||p.push(h),!0)}}a.Parser=c},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.RowParser=void 0;const i=e("./column"),o=e("./Token");a.RowParser=class{constructor(u){this.parserOptions=u,this.columnParser=new i.ColumnParser(u)}static isEmptyRow(u){return u.join("").replace(/\s+/g,"")===""}parse(u){const{parserOptions:c}=this,{hasMoreData:l}=u,d=u,p=[];let h=this.getStartToken(d,p);for(;h;){if(o.Token.isTokenRowDelimiter(h))return d.advancePastToken(h),!d.hasMoreCharacters&&o.Token.isTokenCarriageReturn(h,c)&&l?null:(d.truncateToCursor(),p);if(!this.shouldSkipColumnParse(d,h,p)){const f=this.columnParser.parse(d);if(f===null)return null;p.push(f)}h=d.nextNonSpaceToken}return l?null:(d.truncateToCursor(),p)}getStartToken(u,c){const l=u.nextNonSpaceToken;return l!==null&&o.Token.isTokenDelimiter(l,this.parserOptions)?(c.push(""),u.nextNonSpaceToken):l}shouldSkipColumnParse(u,c,l){const{parserOptions:d}=this;if(o.Token.isTokenDelimiter(c,d)){u.advancePastToken(c);const p=u.nextCharacterToken;if(!u.hasMoreCharacters||p!==null&&o.Token.isTokenRowDelimiter(p)||p!==null&&o.Token.isTokenDelimiter(p,d))return l.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.Scanner=void 0;const i=e("./Token"),o=/((?:\r\n)|\n|\r)/;a.Scanner=class{constructor(u){this.cursor=0,this.line=u.line,this.lineLength=this.line.length,this.parserOptions=u.parserOptions,this.hasMoreData=u.hasMoreData,this.cursor=u.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:u}=this,c=this.parserOptions.NEXT_TOKEN_REGEXP;if(u.search(c)===-1)return null;const l=c.exec(u);if(l==null)return null;const d=l[1],p=this.cursor+(l.index||0);return new i.Token({token:d,startCursor:p,endCursor:p+d.length-1})}get nextCharacterToken(){const{cursor:u,lineLength:c}=this;return c<=u?null:new i.Token({token:this.line[u],startCursor:u,endCursor:u})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const u=o.exec(this.lineFromCursor);return u?(this.cursor+=(u.index||0)+u[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(u){return this.cursor=u,this}advanceToToken(u){return this.cursor=u.startCursor,this}advancePastToken(u){return this.cursor=u.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.Token=void 0,a.Token=class{constructor(i){this.token=i.token,this.startCursor=i.startCursor,this.endCursor=i.endCursor}static isTokenRowDelimiter(i){const o=i.token;return o==="\r"||o===`
`||o===`\r
`}static isTokenCarriageReturn(i,o){return i.token===o.carriageReturn}static isTokenComment(i,o){return o.supportsComments&&!!i&&i.token===o.comment}static isTokenEscapeCharacter(i,o){return i.token===o.escapeChar}static isTokenQuote(i,o){return i.token===o.quote}static isTokenDelimiter(i,o){return i.token===o.delimiter}}},{}],160:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.ColumnFormatter=void 0,a.ColumnFormatter=class{constructor(i){i.trim?this.format=o=>o.trim():i.ltrim?this.format=o=>o.trimLeft():i.rtrim?this.format=o=>o.trimRight():this.format=o=>o}}},{}],161:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.ColumnParser=void 0;const i=e("./NonQuotedColumnParser"),o=e("./QuotedColumnParser"),u=e("../Token");a.ColumnParser=class{constructor(c){this.parserOptions=c,this.quotedColumnParser=new o.QuotedColumnParser(c),this.nonQuotedColumnParser=new i.NonQuotedColumnParser(c)}parse(c){const{nextNonSpaceToken:l}=c;return l!==null&&u.Token.isTokenQuote(l,this.parserOptions)?(c.advanceToToken(l),this.quotedColumnParser.parse(c)):this.nonQuotedColumnParser.parse(c)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.NonQuotedColumnParser=void 0;const i=e("./ColumnFormatter"),o=e("../Token");a.NonQuotedColumnParser=class{constructor(u){this.parserOptions=u,this.columnFormatter=new i.ColumnFormatter(u)}parse(u){if(!u.hasMoreCharacters)return null;const{parserOptions:c}=this,l=[];let d=u.nextCharacterToken;for(;d&&!o.Token.isTokenDelimiter(d,c)&&!o.Token.isTokenRowDelimiter(d);d=u.nextCharacterToken)l.push(d.token),u.advancePastToken(d);return this.columnFormatter.format(l.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.QuotedColumnParser=void 0;const i=e("./ColumnFormatter"),o=e("../Token");a.QuotedColumnParser=class{constructor(u){this.parserOptions=u,this.columnFormatter=new i.ColumnFormatter(u)}parse(u){if(!u.hasMoreCharacters)return null;const c=u.cursor,{foundClosingQuote:l,col:d}=this.gatherDataBetweenQuotes(u);if(!l){if(u.advanceTo(c),!u.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${u.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(u),d}gatherDataBetweenQuotes(u){const{parserOptions:c}=this;let l=!1,d=!1;const p=[];let h=u.nextCharacterToken;for(;!d&&h!==null;h=u.nextCharacterToken){const f=o.Token.isTokenQuote(h,c);if(!l&&f)l=!0;else if(l)if(o.Token.isTokenEscapeCharacter(h,c)){u.advancePastToken(h);const b=u.nextCharacterToken;b!==null&&(o.Token.isTokenQuote(b,c)||o.Token.isTokenEscapeCharacter(b,c))?(p.push(b.token),h=b):f?d=!0:p.push(h.token)}else f?d=!0:p.push(h.token);u.advancePastToken(h)}return{col:this.columnFormatter.format(p.join("")),foundClosingQuote:d}}checkForMalformedColumn(u){const{parserOptions:c}=this,{nextNonSpaceToken:l}=u;if(l){const d=o.Token.isTokenDelimiter(l,c),p=o.Token.isTokenRowDelimiter(l);if(!d&&!p){const h=u.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${c.escapedDelimiter}' OR new line got: '${l.token}'. at '${h}`)}u.advanceToToken(l)}else u.hasMoreData||u.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.ColumnFormatter=a.QuotedColumnParser=a.NonQuotedColumnParser=a.ColumnParser=void 0;var i=e("./ColumnParser");Object.defineProperty(a,"ColumnParser",{enumerable:!0,get:function(){return i.ColumnParser}});var o=e("./NonQuotedColumnParser");Object.defineProperty(a,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}});var u=e("./QuotedColumnParser");Object.defineProperty(a,"QuotedColumnParser",{enumerable:!0,get:function(){return u.QuotedColumnParser}});var c=e("./ColumnFormatter");Object.defineProperty(a,"ColumnFormatter",{enumerable:!0,get:function(){return c.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.QuotedColumnParser=a.NonQuotedColumnParser=a.ColumnParser=a.Token=a.Scanner=a.RowParser=a.Parser=void 0;var i=e("./Parser");Object.defineProperty(a,"Parser",{enumerable:!0,get:function(){return i.Parser}});var o=e("./RowParser");Object.defineProperty(a,"RowParser",{enumerable:!0,get:function(){return o.RowParser}});var u=e("./Scanner");Object.defineProperty(a,"Scanner",{enumerable:!0,get:function(){return u.Scanner}});var c=e("./Token");Object.defineProperty(a,"Token",{enumerable:!0,get:function(){return c.Token}});var l=e("./column");Object.defineProperty(a,"ColumnParser",{enumerable:!0,get:function(){return l.ColumnParser}}),Object.defineProperty(a,"NonQuotedColumnParser",{enumerable:!0,get:function(){return l.NonQuotedColumnParser}}),Object.defineProperty(a,"QuotedColumnParser",{enumerable:!0,get:function(){return l.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,s,a){var i=function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(a,"__esModule",{value:!0}),a.HeaderTransformer=void 0;const o=i(e("lodash.isundefined")),u=i(e("lodash.isfunction")),c=i(e("lodash.uniq")),l=i(e("lodash.groupby"));a.HeaderTransformer=class{constructor(d){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=d,d.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(d.headers)?this.setHeaders(d.headers):u.default(d.headers)&&(this.headersTransform=d.headers)}transform(d,p){return this.shouldMapRow(d)?p(null,this.processRow(d)):p(null,{row:null,isValid:!0})}shouldMapRow(d){const{parserOptions:p}=this;if(!this.headersTransform&&p.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(d)){if(this.headersTransform)this.setHeaders(this.headersTransform(d));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(d)}return!1}return!0}processRow(d){if(!this.headers)return{row:d,isValid:!0};const{parserOptions:p}=this;if(!p.discardUnmappedColumns&&d.length>this.headersLength){if(!p.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${d.length}`);return{row:d,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${d.length}`}}return p.strictColumnHandling&&d.length<this.headersLength?{row:d,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${d.length}`}:{row:this.mapHeaders(d),isValid:!0}}mapHeaders(d){const p={},{headers:h,headersLength:f}=this;for(let b=0;b<f;b+=1){const y=h[b];if(!o.default(y)){const g=d[b];o.default(g)?p[y]="":p[y]=g}}return p}setHeaders(d){var p;const h=d.filter(f=>!!f);if(c.default(h).length!==h.length){const f=l.default(h),b=Object.keys(f).filter(y=>f[y].length>1);throw new Error("Duplicate headers found "+JSON.stringify(b))}this.headers=d,this.receivedHeaders=!0,this.headersLength=((p=this.headers)===null||p===void 0?void 0:p.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,s,a){var i=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(a,"__esModule",{value:!0}),a.RowTransformerValidator=void 0;const o=i(e("lodash.isfunction")),u=e("../types");class c{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(d){return u.isSyncTransform(d)?(p,h)=>{let f=null;try{f=d(p)}catch(b){return h(b)}return h(null,f)}:d}static createValidator(d){return u.isSyncValidate(d)?(p,h)=>{h(null,{row:p,isValid:d(p)})}:(p,h)=>{d(p,(f,b,y)=>f?h(f):h(null,b?{row:p,isValid:b,reason:y}:{row:p,isValid:!1,reason:y}))}}set rowTransform(d){if(!o.default(d))throw new TypeError("The transform should be a function");this._rowTransform=c.createTransform(d)}set rowValidator(d){if(!o.default(d))throw new TypeError("The validate should be a function");this._rowValidator=c.createValidator(d)}transformAndValidate(d,p){return this.callTransformer(d,(h,f)=>h?p(h):f?this.callValidator(f,(b,y)=>b?p(b):y&&!y.isValid?p(null,{row:f,isValid:!1,reason:y.reason}):p(null,{row:f,isValid:!0})):p(null,{row:null,isValid:!0}))}callTransformer(d,p){return this._rowTransform?this._rowTransform(d,p):p(null,d)}callValidator(d,p){return this._rowValidator?this._rowValidator(d,p):p(null,{row:d,isValid:!0})}}a.RowTransformerValidator=c},{"../types":169,"lodash.isfunction":446}],168:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.HeaderTransformer=a.RowTransformerValidator=void 0;var i=e("./RowTransformerValidator");Object.defineProperty(a,"RowTransformerValidator",{enumerable:!0,get:function(){return i.RowTransformerValidator}});var o=e("./HeaderTransformer");Object.defineProperty(a,"HeaderTransformer",{enumerable:!0,get:function(){return o.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isSyncValidate=a.isSyncTransform=void 0,a.isSyncTransform=i=>i.length===1,a.isSyncValidate=i=>i.length===1},{}],170:[function(e,s,a){const i=a;i.bignum=e("bn.js"),i.define=e("./asn1/api").define,i.base=e("./asn1/base"),i.constants=e("./asn1/constants"),i.decoders=e("./asn1/decoders"),i.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,s,a){const i=e("./encoders"),o=e("./decoders"),u=e("inherits");function c(l,d){this.name=l,this.body=d,this.decoders={},this.encoders={}}a.define=function(l,d){return new c(l,d)},c.prototype._createNamed=function(l){const d=this.name;function p(h){this._initNamed(h,d)}return u(p,l),p.prototype._initNamed=function(h,f){l.call(this,h,f)},new p(this)},c.prototype._getDecoder=function(l){return l=l||"der",this.decoders.hasOwnProperty(l)||(this.decoders[l]=this._createNamed(o[l])),this.decoders[l]},c.prototype.decode=function(l,d,p){return this._getDecoder(d).decode(l,p)},c.prototype._getEncoder=function(l){return l=l||"der",this.encoders.hasOwnProperty(l)||(this.encoders[l]=this._createNamed(i[l])),this.encoders[l]},c.prototype.encode=function(l,d,p){return this._getEncoder(d).encode(l,p)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,s,a){const i=e("inherits"),o=e("../base/reporter").Reporter,u=e("safer-buffer").Buffer;function c(d,p){o.call(this,p),u.isBuffer(d)?(this.base=d,this.offset=0,this.length=d.length):this.error("Input not Buffer")}function l(d,p){if(Array.isArray(d))this.length=0,this.value=d.map(function(h){return l.isEncoderBuffer(h)||(h=new l(h,p)),this.length+=h.length,h},this);else if(typeof d=="number"){if(!(0<=d&&d<=255))return p.error("non-byte EncoderBuffer value");this.value=d,this.length=1}else if(typeof d=="string")this.value=d,this.length=u.byteLength(d);else{if(!u.isBuffer(d))return p.error("Unsupported type: "+typeof d);this.value=d,this.length=d.length}}i(c,o),a.DecoderBuffer=c,c.isDecoderBuffer=function(d){return d instanceof c?!0:typeof d=="object"&&u.isBuffer(d.base)&&d.constructor.name==="DecoderBuffer"&&typeof d.offset=="number"&&typeof d.length=="number"&&typeof d.save=="function"&&typeof d.restore=="function"&&typeof d.isEmpty=="function"&&typeof d.readUInt8=="function"&&typeof d.skip=="function"&&typeof d.raw=="function"},c.prototype.save=function(){return{offset:this.offset,reporter:o.prototype.save.call(this)}},c.prototype.restore=function(d){const p=new c(this.base);return p.offset=d.offset,p.length=this.offset,this.offset=d.offset,o.prototype.restore.call(this,d.reporter),p},c.prototype.isEmpty=function(){return this.offset===this.length},c.prototype.readUInt8=function(d){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(d||"DecoderBuffer overrun")},c.prototype.skip=function(d,p){if(!(this.offset+d<=this.length))return this.error(p||"DecoderBuffer overrun");const h=new c(this.base);return h._reporterState=this._reporterState,h.offset=this.offset,h.length=this.offset+d,this.offset+=d,h},c.prototype.raw=function(d){return this.base.slice(d?d.offset:this.offset,this.length)},a.EncoderBuffer=l,l.isEncoderBuffer=function(d){return d instanceof l?!0:typeof d=="object"&&d.constructor.name==="EncoderBuffer"&&typeof d.length=="number"&&typeof d.join=="function"},l.prototype.join=function(d,p){return d||(d=u.alloc(this.length)),p||(p=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(h){h.join(d,p),p+=h.length}):(typeof this.value=="number"?d[p]=this.value:typeof this.value=="string"?d.write(this.value,p):u.isBuffer(this.value)&&this.value.copy(d,p),p+=this.length)),d}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,s,a){const i=a;i.Reporter=e("./reporter").Reporter,i.DecoderBuffer=e("./buffer").DecoderBuffer,i.EncoderBuffer=e("./buffer").EncoderBuffer,i.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,s,a){const i=e("../base/reporter").Reporter,o=e("../base/buffer").EncoderBuffer,u=e("../base/buffer").DecoderBuffer,c=e("minimalistic-assert"),l=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],d=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(l);function p(f,b,y){const g={};this._baseState=g,g.name=y,g.enc=f,g.parent=b||null,g.children=null,g.tag=null,g.args=null,g.reverseArgs=null,g.choice=null,g.optional=!1,g.any=!1,g.obj=!1,g.use=null,g.useDecoder=null,g.key=null,g.default=null,g.explicit=null,g.implicit=null,g.contains=null,g.parent||(g.children=[],this._wrap())}s.exports=p;const h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];p.prototype.clone=function(){const f=this._baseState,b={};h.forEach(function(g){b[g]=f[g]});const y=new this.constructor(b.parent);return y._baseState=b,y},p.prototype._wrap=function(){const f=this._baseState;d.forEach(function(b){this[b]=function(){const y=new this.constructor(this);return f.children.push(y),y[b].apply(y,arguments)}},this)},p.prototype._init=function(f){const b=this._baseState;c(b.parent===null),f.call(this),b.children=b.children.filter(function(y){return y._baseState.parent===this},this),c.equal(b.children.length,1,"Root node can have only one child")},p.prototype._useArgs=function(f){const b=this._baseState,y=f.filter(function(g){return g instanceof this.constructor},this);f=f.filter(function(g){return!(g instanceof this.constructor)},this),y.length!==0&&(c(b.children===null),b.children=y,y.forEach(function(g){g._baseState.parent=this},this)),f.length!==0&&(c(b.args===null),b.args=f,b.reverseArgs=f.map(function(g){if(typeof g!="object"||g.constructor!==Object)return g;const x={};return Object.keys(g).forEach(function(v){v==(0|v)&&(v|=0);const w=g[v];x[w]=v}),x}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(f){p.prototype[f]=function(){const b=this._baseState;throw new Error(f+" not implemented for encoding: "+b.enc)}}),l.forEach(function(f){p.prototype[f]=function(){const b=this._baseState,y=Array.prototype.slice.call(arguments);return c(b.tag===null),b.tag=f,this._useArgs(y),this}}),p.prototype.use=function(f){c(f);const b=this._baseState;return c(b.use===null),b.use=f,this},p.prototype.optional=function(){return this._baseState.optional=!0,this},p.prototype.def=function(f){const b=this._baseState;return c(b.default===null),b.default=f,b.optional=!0,this},p.prototype.explicit=function(f){const b=this._baseState;return c(b.explicit===null&&b.implicit===null),b.explicit=f,this},p.prototype.implicit=function(f){const b=this._baseState;return c(b.explicit===null&&b.implicit===null),b.implicit=f,this},p.prototype.obj=function(){const f=this._baseState,b=Array.prototype.slice.call(arguments);return f.obj=!0,b.length!==0&&this._useArgs(b),this},p.prototype.key=function(f){const b=this._baseState;return c(b.key===null),b.key=f,this},p.prototype.any=function(){return this._baseState.any=!0,this},p.prototype.choice=function(f){const b=this._baseState;return c(b.choice===null),b.choice=f,this._useArgs(Object.keys(f).map(function(y){return f[y]})),this},p.prototype.contains=function(f){const b=this._baseState;return c(b.use===null),b.contains=f,this},p.prototype._decode=function(f,b){const y=this._baseState;if(y.parent===null)return f.wrapResult(y.children[0]._decode(f,b));let g,x=y.default,v=!0,w=null;if(y.key!==null&&(w=f.enterKey(y.key)),y.optional){let S=null;if(y.explicit!==null?S=y.explicit:y.implicit!==null?S=y.implicit:y.tag!==null&&(S=y.tag),S!==null||y.any){if(v=this._peekTag(f,S,y.any),f.isError(v))return v}else{const D=f.save();try{y.choice===null?this._decodeGeneric(y.tag,f,b):this._decodeChoice(f,b),v=!0}catch{v=!1}f.restore(D)}}if(y.obj&&v&&(g=f.enterObject()),v){if(y.explicit!==null){const D=this._decodeTag(f,y.explicit);if(f.isError(D))return D;f=D}const S=f.offset;if(y.use===null&&y.choice===null){let D;y.any&&(D=f.save());const T=this._decodeTag(f,y.implicit!==null?y.implicit:y.tag,y.any);if(f.isError(T))return T;y.any?x=f.raw(D):f=T}if(b&&b.track&&y.tag!==null&&b.track(f.path(),S,f.length,"tagged"),b&&b.track&&y.tag!==null&&b.track(f.path(),f.offset,f.length,"content"),y.any||(x=y.choice===null?this._decodeGeneric(y.tag,f,b):this._decodeChoice(f,b)),f.isError(x))return x;if(y.any||y.choice!==null||y.children===null||y.children.forEach(function(D){D._decode(f,b)}),y.contains&&(y.tag==="octstr"||y.tag==="bitstr")){const D=new u(x);x=this._getUse(y.contains,f._reporterState.obj)._decode(D,b)}}return y.obj&&v&&(x=f.leaveObject(g)),y.key===null||x===null&&v!==!0?w!==null&&f.exitKey(w):f.leaveKey(w,y.key,x),x},p.prototype._decodeGeneric=function(f,b,y){const g=this._baseState;return f==="seq"||f==="set"?null:f==="seqof"||f==="setof"?this._decodeList(b,f,g.args[0],y):/str$/.test(f)?this._decodeStr(b,f,y):f==="objid"&&g.args?this._decodeObjid(b,g.args[0],g.args[1],y):f==="objid"?this._decodeObjid(b,null,null,y):f==="gentime"||f==="utctime"?this._decodeTime(b,f,y):f==="null_"?this._decodeNull(b,y):f==="bool"?this._decodeBool(b,y):f==="objDesc"?this._decodeStr(b,f,y):f==="int"||f==="enum"?this._decodeInt(b,g.args&&g.args[0],y):g.use!==null?this._getUse(g.use,b._reporterState.obj)._decode(b,y):b.error("unknown tag: "+f)},p.prototype._getUse=function(f,b){const y=this._baseState;return y.useDecoder=this._use(f,b),c(y.useDecoder._baseState.parent===null),y.useDecoder=y.useDecoder._baseState.children[0],y.implicit!==y.useDecoder._baseState.implicit&&(y.useDecoder=y.useDecoder.clone(),y.useDecoder._baseState.implicit=y.implicit),y.useDecoder},p.prototype._decodeChoice=function(f,b){const y=this._baseState;let g=null,x=!1;return Object.keys(y.choice).some(function(v){const w=f.save(),S=y.choice[v];try{const D=S._decode(f,b);if(f.isError(D))return!1;g={type:v,value:D},x=!0}catch{return f.restore(w),!1}return!0},this),x?g:f.error("Choice not matched")},p.prototype._createEncoderBuffer=function(f){return new o(f,this.reporter)},p.prototype._encode=function(f,b,y){const g=this._baseState;if(g.default!==null&&g.default===f)return;const x=this._encodeValue(f,b,y);return x===void 0||this._skipDefault(x,b,y)?void 0:x},p.prototype._encodeValue=function(f,b,y){const g=this._baseState;if(g.parent===null)return g.children[0]._encode(f,b||new i);let x=null;if(this.reporter=b,g.optional&&f===void 0){if(g.default===null)return;f=g.default}let v=null,w=!1;if(g.any)x=this._createEncoderBuffer(f);else if(g.choice)x=this._encodeChoice(f,b);else if(g.contains)v=this._getUse(g.contains,y)._encode(f,b),w=!0;else if(g.children)v=g.children.map(function(S){if(S._baseState.tag==="null_")return S._encode(null,b,f);if(S._baseState.key===null)return b.error("Child should have a key");const D=b.enterKey(S._baseState.key);if(typeof f!="object")return b.error("Child expected, but input is not object");const T=S._encode(f[S._baseState.key],b,f);return b.leaveKey(D),T},this).filter(function(S){return S}),v=this._createEncoderBuffer(v);else if(g.tag==="seqof"||g.tag==="setof"){if(!g.args||g.args.length!==1)return b.error("Too many args for : "+g.tag);if(!Array.isArray(f))return b.error("seqof/setof, but data is not Array");const S=this.clone();S._baseState.implicit=null,v=this._createEncoderBuffer(f.map(function(D){const T=this._baseState;return this._getUse(T.args[0],f)._encode(D,b)},S))}else g.use!==null?x=this._getUse(g.use,y)._encode(f,b):(v=this._encodePrimitive(g.tag,f),w=!0);if(!g.any&&g.choice===null){const S=g.implicit!==null?g.implicit:g.tag,D=g.implicit===null?"universal":"context";S===null?g.use===null&&b.error("Tag could be omitted only for .use()"):g.use===null&&(x=this._encodeComposite(S,w,D,v))}return g.explicit!==null&&(x=this._encodeComposite(g.explicit,!1,"context",x)),x},p.prototype._encodeChoice=function(f,b){const y=this._baseState,g=y.choice[f.type];return g||c(!1,f.type+" not found in "+JSON.stringify(Object.keys(y.choice))),g._encode(f.value,b)},p.prototype._encodePrimitive=function(f,b){const y=this._baseState;if(/str$/.test(f))return this._encodeStr(b,f);if(f==="objid"&&y.args)return this._encodeObjid(b,y.reverseArgs[0],y.args[1]);if(f==="objid")return this._encodeObjid(b,null,null);if(f==="gentime"||f==="utctime")return this._encodeTime(b,f);if(f==="null_")return this._encodeNull();if(f==="int"||f==="enum")return this._encodeInt(b,y.args&&y.reverseArgs[0]);if(f==="bool")return this._encodeBool(b);if(f==="objDesc")return this._encodeStr(b,f);throw new Error("Unsupported tag: "+f)},p.prototype._isNumstr=function(f){return/^[0-9 ]*$/.test(f)},p.prototype._isPrintstr=function(f){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(f)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,s,a){const i=e("inherits");function o(c){this._reporterState={obj:null,path:[],options:c||{},errors:[]}}function u(c,l){this.path=c,this.rethrow(l)}a.Reporter=o,o.prototype.isError=function(c){return c instanceof u},o.prototype.save=function(){const c=this._reporterState;return{obj:c.obj,pathLen:c.path.length}},o.prototype.restore=function(c){const l=this._reporterState;l.obj=c.obj,l.path=l.path.slice(0,c.pathLen)},o.prototype.enterKey=function(c){return this._reporterState.path.push(c)},o.prototype.exitKey=function(c){const l=this._reporterState;l.path=l.path.slice(0,c-1)},o.prototype.leaveKey=function(c,l,d){const p=this._reporterState;this.exitKey(c),p.obj!==null&&(p.obj[l]=d)},o.prototype.path=function(){return this._reporterState.path.join("/")},o.prototype.enterObject=function(){const c=this._reporterState,l=c.obj;return c.obj={},l},o.prototype.leaveObject=function(c){const l=this._reporterState,d=l.obj;return l.obj=c,d},o.prototype.error=function(c){let l;const d=this._reporterState,p=c instanceof u;if(l=p?c:new u(d.path.map(function(h){return"["+JSON.stringify(h)+"]"}).join(""),c.message||c,c.stack),!d.options.partial)throw l;return p||d.errors.push(l),l},o.prototype.wrapResult=function(c){const l=this._reporterState;return l.options.partial?{result:this.isError(c)?null:c,errors:l.errors}:c},i(u,Error),u.prototype.rethrow=function(c){if(this.message=c+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,u),!this.stack)try{throw new Error(this.message)}catch(l){this.stack=l.stack}return this}},{inherits:440}],176:[function(e,s,a){function i(o){const u={};return Object.keys(o).forEach(function(c){(0|c)==c&&(c|=0);const l=o[c];u[l]=c}),u}a.tagClass={0:"universal",1:"application",2:"context",3:"private"},a.tagClassByName=i(a.tagClass),a.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},a.tagByName=i(a.tag)},{}],177:[function(e,s,a){const i=a;i._reverse=function(o){const u={};return Object.keys(o).forEach(function(c){(0|c)==c&&(c|=0);const l=o[c];u[l]=c}),u},i.der=e("./der")},{"./der":176}],178:[function(e,s,a){const i=e("inherits"),o=e("bn.js"),u=e("../base/buffer").DecoderBuffer,c=e("../base/node"),l=e("../constants/der");function d(b){this.enc="der",this.name=b.name,this.entity=b,this.tree=new p,this.tree._init(b.body)}function p(b){c.call(this,"der",b)}function h(b,y){let g=b.readUInt8(y);if(b.isError(g))return g;const x=l.tagClass[g>>6],v=(32&g)==0;if((31&g)==31){let w=g;for(g=0;(128&w)==128;){if(w=b.readUInt8(y),b.isError(w))return w;g<<=7,g|=127&w}}else g&=31;return{cls:x,primitive:v,tag:g,tagStr:l.tag[g]}}function f(b,y,g){let x=b.readUInt8(g);if(b.isError(x))return x;if(!y&&x===128)return null;if(!(128&x))return x;const v=127&x;if(v>4)return b.error("length octect is too long");x=0;for(let w=0;w<v;w++){x<<=8;const S=b.readUInt8(g);if(b.isError(S))return S;x|=S}return x}s.exports=d,d.prototype.decode=function(b,y){return u.isDecoderBuffer(b)||(b=new u(b,y)),this.tree._decode(b,y)},i(p,c),p.prototype._peekTag=function(b,y,g){if(b.isEmpty())return!1;const x=b.save(),v=h(b,'Failed to peek tag: "'+y+'"');return b.isError(v)?v:(b.restore(x),v.tag===y||v.tagStr===y||v.tagStr+"of"===y||g)},p.prototype._decodeTag=function(b,y,g){const x=h(b,'Failed to decode tag of "'+y+'"');if(b.isError(x))return x;let v=f(b,x.primitive,'Failed to get length of "'+y+'"');if(b.isError(v))return v;if(!g&&x.tag!==y&&x.tagStr!==y&&x.tagStr+"of"!==y)return b.error('Failed to match tag: "'+y+'"');if(x.primitive||v!==null)return b.skip(v,'Failed to match body of: "'+y+'"');const w=b.save(),S=this._skipUntilEnd(b,'Failed to skip indefinite length body: "'+this.tag+'"');return b.isError(S)?S:(v=b.offset-w.offset,b.restore(w),b.skip(v,'Failed to match body of: "'+y+'"'))},p.prototype._skipUntilEnd=function(b,y){for(;;){const g=h(b,y);if(b.isError(g))return g;const x=f(b,g.primitive,y);if(b.isError(x))return x;let v;if(v=g.primitive||x!==null?b.skip(x):this._skipUntilEnd(b,y),b.isError(v))return v;if(g.tagStr==="end")break}},p.prototype._decodeList=function(b,y,g,x){const v=[];for(;!b.isEmpty();){const w=this._peekTag(b,"end");if(b.isError(w))return w;const S=g.decode(b,"der",x);if(b.isError(S)&&w)break;v.push(S)}return v},p.prototype._decodeStr=function(b,y){if(y==="bitstr"){const g=b.readUInt8();return b.isError(g)?g:{unused:g,data:b.raw()}}if(y==="bmpstr"){const g=b.raw();if(g.length%2==1)return b.error("Decoding of string type: bmpstr length mismatch");let x="";for(let v=0;v<g.length/2;v++)x+=String.fromCharCode(g.readUInt16BE(2*v));return x}if(y==="numstr"){const g=b.raw().toString("ascii");return this._isNumstr(g)?g:b.error("Decoding of string type: numstr unsupported characters")}if(y==="octstr"||y==="objDesc")return b.raw();if(y==="printstr"){const g=b.raw().toString("ascii");return this._isPrintstr(g)?g:b.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(y)?b.raw().toString():b.error("Decoding of string type: "+y+" unsupported")},p.prototype._decodeObjid=function(b,y,g){let x;const v=[];let w=0,S=0;for(;!b.isEmpty();)S=b.readUInt8(),w<<=7,w|=127&S,!(128&S)&&(v.push(w),w=0);128&S&&v.push(w);const D=v[0]/40|0,T=v[0]%40;if(x=g?v:[D,T].concat(v.slice(1)),y){let R=y[x.join(" ")];R===void 0&&(R=y[x.join(".")]),R!==void 0&&(x=R)}return x},p.prototype._decodeTime=function(b,y){const g=b.raw().toString();let x,v,w,S,D,T;if(y==="gentime")x=0|g.slice(0,4),v=0|g.slice(4,6),w=0|g.slice(6,8),S=0|g.slice(8,10),D=0|g.slice(10,12),T=0|g.slice(12,14);else{if(y!=="utctime")return b.error("Decoding "+y+" time is not supported yet");x=0|g.slice(0,2),v=0|g.slice(2,4),w=0|g.slice(4,6),S=0|g.slice(6,8),D=0|g.slice(8,10),T=0|g.slice(10,12),x=x<70?2e3+x:1900+x}return Date.UTC(x,v-1,w,S,D,T,0)},p.prototype._decodeNull=function(){return null},p.prototype._decodeBool=function(b){const y=b.readUInt8();return b.isError(y)?y:y!==0},p.prototype._decodeInt=function(b,y){const g=b.raw();let x=new o(g);return y&&(x=y[x.toString(10)]||x),x},p.prototype._use=function(b,y){return typeof b=="function"&&(b=b(y)),b._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,s,a){const i=a;i.der=e("./der"),i.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,s,a){const i=e("inherits"),o=e("safer-buffer").Buffer,u=e("./der");function c(l){u.call(this,l),this.enc="pem"}i(c,u),s.exports=c,c.prototype.decode=function(l,d){const p=l.toString().split(/[\r\n]+/g),h=d.label.toUpperCase(),f=/^-----(BEGIN|END) ([^-]+)-----$/;let b=-1,y=-1;for(let v=0;v<p.length;v++){const w=p[v].match(f);if(w!==null&&w[2]===h){if(b!==-1){if(w[1]!=="END")break;y=v;break}if(w[1]!=="BEGIN")break;b=v}}if(b===-1||y===-1)throw new Error("PEM section not found for: "+h);const g=p.slice(b+1,y).join("");g.replace(/[^a-z0-9+/=]+/gi,"");const x=o.from(g,"base64");return u.prototype.decode.call(this,x,d)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,s,a){const i=e("inherits"),o=e("safer-buffer").Buffer,u=e("../base/node"),c=e("../constants/der");function l(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new d,this.tree._init(h.body)}function d(h){u.call(this,"der",h)}function p(h){return h<10?"0"+h:h}s.exports=l,l.prototype.encode=function(h,f){return this.tree._encode(h,f).join()},i(d,u),d.prototype._encodeComposite=function(h,f,b,y){const g=function(w,S,D,T){let R;if(w==="seqof"?w="seq":w==="setof"&&(w="set"),c.tagByName.hasOwnProperty(w))R=c.tagByName[w];else{if(typeof w!="number"||(0|w)!==w)return T.error("Unknown tag: "+w);R=w}return R>=31?T.error("Multi-octet tag encoding unsupported"):(S||(R|=32),R|=c.tagClassByName[D||"universal"]<<6,R)}(h,f,b,this.reporter);if(y.length<128){const w=o.alloc(2);return w[0]=g,w[1]=y.length,this._createEncoderBuffer([w,y])}let x=1;for(let w=y.length;w>=256;w>>=8)x++;const v=o.alloc(2+x);v[0]=g,v[1]=128|x;for(let w=1+x,S=y.length;S>0;w--,S>>=8)v[w]=255&S;return this._createEncoderBuffer([v,y])},d.prototype._encodeStr=function(h,f){if(f==="bitstr")return this._createEncoderBuffer([0|h.unused,h.data]);if(f==="bmpstr"){const b=o.alloc(2*h.length);for(let y=0;y<h.length;y++)b.writeUInt16BE(h.charCodeAt(y),2*y);return this._createEncoderBuffer(b)}return f==="numstr"?this._isNumstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: numstr supports only digits and space"):f==="printstr"?this._isPrintstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(f)||f==="objDesc"?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: "+f+" unsupported")},d.prototype._encodeObjid=function(h,f,b){if(typeof h=="string"){if(!f)return this.reporter.error("string objid given, but no values map found");if(!f.hasOwnProperty(h))return this.reporter.error("objid not found in values map");h=f[h].split(/[\s.]+/g);for(let v=0;v<h.length;v++)h[v]|=0}else if(Array.isArray(h)){h=h.slice();for(let v=0;v<h.length;v++)h[v]|=0}if(!Array.isArray(h))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(h));if(!b){if(h[1]>=40)return this.reporter.error("Second objid identifier OOB");h.splice(0,2,40*h[0]+h[1])}let y=0;for(let v=0;v<h.length;v++){let w=h[v];for(y++;w>=128;w>>=7)y++}const g=o.alloc(y);let x=g.length-1;for(let v=h.length-1;v>=0;v--){let w=h[v];for(g[x--]=127&w;(w>>=7)>0;)g[x--]=128|127&w}return this._createEncoderBuffer(g)},d.prototype._encodeTime=function(h,f){let b;const y=new Date(h);return f==="gentime"?b=[p(y.getUTCFullYear()),p(y.getUTCMonth()+1),p(y.getUTCDate()),p(y.getUTCHours()),p(y.getUTCMinutes()),p(y.getUTCSeconds()),"Z"].join(""):f==="utctime"?b=[p(y.getUTCFullYear()%100),p(y.getUTCMonth()+1),p(y.getUTCDate()),p(y.getUTCHours()),p(y.getUTCMinutes()),p(y.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+f+" time is not supported yet"),this._encodeStr(b,"octstr")},d.prototype._encodeNull=function(){return this._createEncoderBuffer("")},d.prototype._encodeInt=function(h,f){if(typeof h=="string"){if(!f)return this.reporter.error("String int or enum given, but no values map");if(!f.hasOwnProperty(h))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(h));h=f[h]}if(typeof h!="number"&&!o.isBuffer(h)){const g=h.toArray();!h.sign&&128&g[0]&&g.unshift(0),h=o.from(g)}if(o.isBuffer(h)){let g=h.length;h.length===0&&g++;const x=o.alloc(g);return h.copy(x),h.length===0&&(x[0]=0),this._createEncoderBuffer(x)}if(h<128)return this._createEncoderBuffer(h);if(h<256)return this._createEncoderBuffer([0,h]);let b=1;for(let g=h;g>=256;g>>=8)b++;const y=new Array(b);for(let g=y.length-1;g>=0;g--)y[g]=255&h,h>>=8;return 128&y[0]&&y.unshift(0),this._createEncoderBuffer(o.from(y))},d.prototype._encodeBool=function(h){return this._createEncoderBuffer(h?255:0)},d.prototype._use=function(h,f){return typeof h=="function"&&(h=h(f)),h._getEncoder("der").tree},d.prototype._skipDefault=function(h,f,b){const y=this._baseState;let g;if(y.default===null)return!1;const x=h.join();if(y.defaultBuffer===void 0&&(y.defaultBuffer=this._encodeValue(y.default,f,b).join()),x.length!==y.defaultBuffer.length)return!1;for(g=0;g<x.length;g++)if(x[g]!==y.defaultBuffer[g])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,s,a){const i=a;i.der=e("./der"),i.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,s,a){const i=e("inherits"),o=e("./der");function u(c){o.call(this,c),this.enc="pem"}i(u,o),s.exports=u,u.prototype.encode=function(c,l){const d=o.prototype.encode.call(this,c).toString("base64"),p=["-----BEGIN "+l.label+"-----"];for(let h=0;h<d.length;h+=64)p.push(d.slice(h,h+64));return p.push("-----END "+l.label+"-----"),p.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,s,a){(function(i,o){function u(I,F){if(!I)throw new Error(F||"Assertion failed")}function c(I,F){I.super_=F;var A=function(){};A.prototype=F.prototype,I.prototype=new A,I.prototype.constructor=I}function l(I,F,A){if(l.isBN(I))return I;this.negative=0,this.words=null,this.length=0,this.red=null,I!==null&&(F!=="le"&&F!=="be"||(A=F,F=10),this._init(I||0,F||10,A||"be"))}var d;typeof i=="object"?i.exports=l:(void 0).BN=l,l.BN=l,l.wordSize=26;try{d=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function p(I,F){var A=I.charCodeAt(F);return A>=65&&A<=70?A-55:A>=97&&A<=102?A-87:A-48&15}function h(I,F,A){var _=p(I,A);return A-1>=F&&(_|=p(I,A-1)<<4),_}function f(I,F,A,_){for(var E=0,N=Math.min(I.length,A),k=F;k<N;k++){var B=I.charCodeAt(k)-48;E*=_,E+=B>=49?B-49+10:B>=17?B-17+10:B}return E}l.isBN=function(I){return I instanceof l||I!==null&&typeof I=="object"&&I.constructor.wordSize===l.wordSize&&Array.isArray(I.words)},l.max=function(I,F){return I.cmp(F)>0?I:F},l.min=function(I,F){return I.cmp(F)<0?I:F},l.prototype._init=function(I,F,A){if(typeof I=="number")return this._initNumber(I,F,A);if(typeof I=="object")return this._initArray(I,F,A);F==="hex"&&(F=16),u(F===(0|F)&&F>=2&&F<=36);var _=0;(I=I.toString().replace(/\s+/g,""))[0]==="-"&&(_++,this.negative=1),_<I.length&&(F===16?this._parseHex(I,_,A):(this._parseBase(I,F,_),A==="le"&&this._initArray(this.toArray(),F,A)))},l.prototype._initNumber=function(I,F,A){I<0&&(this.negative=1,I=-I),I<67108864?(this.words=[67108863&I],this.length=1):I<4503599627370496?(this.words=[67108863&I,I/67108864&67108863],this.length=2):(u(I<9007199254740992),this.words=[67108863&I,I/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),F,A)},l.prototype._initArray=function(I,F,A){if(u(typeof I.length=="number"),I.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(I.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var E,N,k=0;if(A==="be")for(_=I.length-1,E=0;_>=0;_-=3)N=I[_]|I[_-1]<<8|I[_-2]<<16,this.words[E]|=N<<k&67108863,this.words[E+1]=N>>>26-k&67108863,(k+=24)>=26&&(k-=26,E++);else if(A==="le")for(_=0,E=0;_<I.length;_+=3)N=I[_]|I[_+1]<<8|I[_+2]<<16,this.words[E]|=N<<k&67108863,this.words[E+1]=N>>>26-k&67108863,(k+=24)>=26&&(k-=26,E++);return this.strip()},l.prototype._parseHex=function(I,F,A){this.length=Math.ceil((I.length-F)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var E,N=0,k=0;if(A==="be")for(_=I.length-1;_>=F;_-=2)E=h(I,F,_)<<N,this.words[k]|=67108863&E,N>=18?(N-=18,k+=1,this.words[k]|=E>>>26):N+=8;else for(_=(I.length-F)%2==0?F+1:F;_<I.length;_+=2)E=h(I,F,_)<<N,this.words[k]|=67108863&E,N>=18?(N-=18,k+=1,this.words[k]|=E>>>26):N+=8;this.strip()},l.prototype._parseBase=function(I,F,A){this.words=[0],this.length=1;for(var _=0,E=1;E<=67108863;E*=F)_++;_--,E=E/F|0;for(var N=I.length-A,k=N%_,B=Math.min(N,N-k)+A,j=0,M=A;M<B;M+=_)j=f(I,M,M+_,F),this.imuln(E),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j);if(k!==0){var G=1;for(j=f(I,M,I.length,F),M=0;M<k;M++)G*=F;this.imuln(G),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j)}this.strip()},l.prototype.copy=function(I){I.words=new Array(this.length);for(var F=0;F<this.length;F++)I.words[F]=this.words[F];I.length=this.length,I.negative=this.negative,I.red=this.red},l.prototype.clone=function(){var I=new l(null);return this.copy(I),I},l.prototype._expand=function(I){for(;this.length<I;)this.words[this.length++]=0;return this},l.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},l.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function x(I,F,A){A.negative=F.negative^I.negative;var _=I.length+F.length|0;A.length=_,_=_-1|0;var E=0|I.words[0],N=0|F.words[0],k=E*N,B=67108863&k,j=k/67108864|0;A.words[0]=B;for(var M=1;M<_;M++){for(var G=j>>>26,Y=67108863&j,J=Math.min(M,F.length-1),V=Math.max(0,M-I.length+1);V<=J;V++){var Q=M-V|0;G+=(k=(E=0|I.words[Q])*(N=0|F.words[V])+Y)/67108864|0,Y=67108863&k}A.words[M]=0|Y,j=0|G}return j!==0?A.words[M]=0|j:A.length--,A.strip()}l.prototype.toString=function(I,F){var A;if(F=0|F||1,(I=I||10)===16||I==="hex"){A="";for(var _=0,E=0,N=0;N<this.length;N++){var k=this.words[N],B=(16777215&(k<<_|E)).toString(16);A=(E=k>>>24-_&16777215)!==0||N!==this.length-1?b[6-B.length]+B+A:B+A,(_+=2)>=26&&(_-=26,N--)}for(E!==0&&(A=E.toString(16)+A);A.length%F!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(I===(0|I)&&I>=2&&I<=36){var j=y[I],M=g[I];A="";var G=this.clone();for(G.negative=0;!G.isZero();){var Y=G.modn(M).toString(I);A=(G=G.idivn(M)).isZero()?Y+A:b[j-Y.length]+Y+A}for(this.isZero()&&(A="0"+A);A.length%F!=0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}u(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var I=this.words[0];return this.length===2?I+=67108864*this.words[1]:this.length===3&&this.words[2]===1?I+=4503599627370496+67108864*this.words[1]:this.length>2&&u(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-I:I},l.prototype.toJSON=function(){return this.toString(16)},l.prototype.toBuffer=function(I,F){return u(d!==void 0),this.toArrayLike(d,I,F)},l.prototype.toArray=function(I,F){return this.toArrayLike(Array,I,F)},l.prototype.toArrayLike=function(I,F,A){var _=this.byteLength(),E=A||Math.max(1,_);u(_<=E,"byte array longer than desired length"),u(E>0,"Requested array length <= 0"),this.strip();var N,k,B=F==="le",j=new I(E),M=this.clone();if(B){for(k=0;!M.isZero();k++)N=M.andln(255),M.iushrn(8),j[k]=N;for(;k<E;k++)j[k]=0}else{for(k=0;k<E-_;k++)j[k]=0;for(k=0;!M.isZero();k++)N=M.andln(255),M.iushrn(8),j[E-k-1]=N}return j},Math.clz32?l.prototype._countBits=function(I){return 32-Math.clz32(I)}:l.prototype._countBits=function(I){var F=I,A=0;return F>=4096&&(A+=13,F>>>=13),F>=64&&(A+=7,F>>>=7),F>=8&&(A+=4,F>>>=4),F>=2&&(A+=2,F>>>=2),A+F},l.prototype._zeroBits=function(I){if(I===0)return 26;var F=I,A=0;return!(8191&F)&&(A+=13,F>>>=13),!(127&F)&&(A+=7,F>>>=7),!(15&F)&&(A+=4,F>>>=4),!(3&F)&&(A+=2,F>>>=2),!(1&F)&&A++,A},l.prototype.bitLength=function(){var I=this.words[this.length-1],F=this._countBits(I);return 26*(this.length-1)+F},l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var I=0,F=0;F<this.length;F++){var A=this._zeroBits(this.words[F]);if(I+=A,A!==26)break}return I},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(I){return this.negative!==0?this.abs().inotn(I).iaddn(1):this.clone()},l.prototype.fromTwos=function(I){return this.testn(I-1)?this.notn(I).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(I){for(;this.length<I.length;)this.words[this.length++]=0;for(var F=0;F<I.length;F++)this.words[F]=this.words[F]|I.words[F];return this.strip()},l.prototype.ior=function(I){return u((this.negative|I.negative)==0),this.iuor(I)},l.prototype.or=function(I){return this.length>I.length?this.clone().ior(I):I.clone().ior(this)},l.prototype.uor=function(I){return this.length>I.length?this.clone().iuor(I):I.clone().iuor(this)},l.prototype.iuand=function(I){var F;F=this.length>I.length?I:this;for(var A=0;A<F.length;A++)this.words[A]=this.words[A]&I.words[A];return this.length=F.length,this.strip()},l.prototype.iand=function(I){return u((this.negative|I.negative)==0),this.iuand(I)},l.prototype.and=function(I){return this.length>I.length?this.clone().iand(I):I.clone().iand(this)},l.prototype.uand=function(I){return this.length>I.length?this.clone().iuand(I):I.clone().iuand(this)},l.prototype.iuxor=function(I){var F,A;this.length>I.length?(F=this,A=I):(F=I,A=this);for(var _=0;_<A.length;_++)this.words[_]=F.words[_]^A.words[_];if(this!==F)for(;_<F.length;_++)this.words[_]=F.words[_];return this.length=F.length,this.strip()},l.prototype.ixor=function(I){return u((this.negative|I.negative)==0),this.iuxor(I)},l.prototype.xor=function(I){return this.length>I.length?this.clone().ixor(I):I.clone().ixor(this)},l.prototype.uxor=function(I){return this.length>I.length?this.clone().iuxor(I):I.clone().iuxor(this)},l.prototype.inotn=function(I){u(typeof I=="number"&&I>=0);var F=0|Math.ceil(I/26),A=I%26;this._expand(F),A>0&&F--;for(var _=0;_<F;_++)this.words[_]=67108863&~this.words[_];return A>0&&(this.words[_]=~this.words[_]&67108863>>26-A),this.strip()},l.prototype.notn=function(I){return this.clone().inotn(I)},l.prototype.setn=function(I,F){u(typeof I=="number"&&I>=0);var A=I/26|0,_=I%26;return this._expand(A+1),this.words[A]=F?this.words[A]|1<<_:this.words[A]&~(1<<_),this.strip()},l.prototype.iadd=function(I){var F,A,_;if(this.negative!==0&&I.negative===0)return this.negative=0,F=this.isub(I),this.negative^=1,this._normSign();if(this.negative===0&&I.negative!==0)return I.negative=0,F=this.isub(I),I.negative=1,F._normSign();this.length>I.length?(A=this,_=I):(A=I,_=this);for(var E=0,N=0;N<_.length;N++)F=(0|A.words[N])+(0|_.words[N])+E,this.words[N]=67108863&F,E=F>>>26;for(;E!==0&&N<A.length;N++)F=(0|A.words[N])+E,this.words[N]=67108863&F,E=F>>>26;if(this.length=A.length,E!==0)this.words[this.length]=E,this.length++;else if(A!==this)for(;N<A.length;N++)this.words[N]=A.words[N];return this},l.prototype.add=function(I){var F;return I.negative!==0&&this.negative===0?(I.negative=0,F=this.sub(I),I.negative^=1,F):I.negative===0&&this.negative!==0?(this.negative=0,F=I.sub(this),this.negative=1,F):this.length>I.length?this.clone().iadd(I):I.clone().iadd(this)},l.prototype.isub=function(I){if(I.negative!==0){I.negative=0;var F=this.iadd(I);return I.negative=1,F._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(I),this.negative=1,this._normSign();var A,_,E=this.cmp(I);if(E===0)return this.negative=0,this.length=1,this.words[0]=0,this;E>0?(A=this,_=I):(A=I,_=this);for(var N=0,k=0;k<_.length;k++)N=(F=(0|A.words[k])-(0|_.words[k])+N)>>26,this.words[k]=67108863&F;for(;N!==0&&k<A.length;k++)N=(F=(0|A.words[k])+N)>>26,this.words[k]=67108863&F;if(N===0&&k<A.length&&A!==this)for(;k<A.length;k++)this.words[k]=A.words[k];return this.length=Math.max(this.length,k),A!==this&&(this.negative=1),this.strip()},l.prototype.sub=function(I){return this.clone().isub(I)};var v=function(I,F,A){var _,E,N,k=I.words,B=F.words,j=A.words,M=0,G=0|k[0],Y=8191&G,J=G>>>13,V=0|k[1],Q=8191&V,q=V>>>13,z=0|k[2],Z=8191&z,re=z>>>13,le=0|k[3],ue=8191&le,ce=le>>>13,ie=0|k[4],ye=8191&ie,he=ie>>>13,pe=0|k[5],xe=8191&pe,Oe=pe>>>13,Ae=0|k[6],Le=8191&Ae,He=Ae>>>13,Ye=0|k[7],it=8191&Ye,bt=Ye>>>13,tt=0|k[8],$e=8191&tt,at=tt>>>13,ze=0|k[9],wt=8191&ze,vt=ze>>>13,kt=0|B[0],pt=8191&kt,At=kt>>>13,$t=0|B[1],Tt=8191&$t,fr=$t>>>13,ur=0|B[2],er=8191&ur,Sr=ur>>>13,tr=0|B[3],Wt=8191&tr,or=tr>>>13,Ir=0|B[4],Jt=8191&Ir,wr=Ir>>>13,Lr=0|B[5],Lt=8191&Lr,Er=Lr>>>13,Cr=0|B[6],lr=8191&Cr,qe=Cr>>>13,rt=0|B[7],fe=8191&rt,Ee=rt>>>13,Se=0|B[8],we=8191&Se,Pe=Se>>>13,Re=0|B[9],Ve=8191&Re,ot=Re>>>13;A.negative=I.negative^F.negative,A.length=19;var Ke=(M+(_=Math.imul(Y,pt))|0)+((8191&(E=(E=Math.imul(Y,At))+Math.imul(J,pt)|0))<<13)|0;M=((N=Math.imul(J,At))+(E>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,_=Math.imul(Q,pt),E=(E=Math.imul(Q,At))+Math.imul(q,pt)|0,N=Math.imul(q,At);var et=(M+(_=_+Math.imul(Y,Tt)|0)|0)+((8191&(E=(E=E+Math.imul(Y,fr)|0)+Math.imul(J,Tt)|0))<<13)|0;M=((N=N+Math.imul(J,fr)|0)+(E>>>13)|0)+(et>>>26)|0,et&=67108863,_=Math.imul(Z,pt),E=(E=Math.imul(Z,At))+Math.imul(re,pt)|0,N=Math.imul(re,At),_=_+Math.imul(Q,Tt)|0,E=(E=E+Math.imul(Q,fr)|0)+Math.imul(q,Tt)|0,N=N+Math.imul(q,fr)|0;var ct=(M+(_=_+Math.imul(Y,er)|0)|0)+((8191&(E=(E=E+Math.imul(Y,Sr)|0)+Math.imul(J,er)|0))<<13)|0;M=((N=N+Math.imul(J,Sr)|0)+(E>>>13)|0)+(ct>>>26)|0,ct&=67108863,_=Math.imul(ue,pt),E=(E=Math.imul(ue,At))+Math.imul(ce,pt)|0,N=Math.imul(ce,At),_=_+Math.imul(Z,Tt)|0,E=(E=E+Math.imul(Z,fr)|0)+Math.imul(re,Tt)|0,N=N+Math.imul(re,fr)|0,_=_+Math.imul(Q,er)|0,E=(E=E+Math.imul(Q,Sr)|0)+Math.imul(q,er)|0,N=N+Math.imul(q,Sr)|0;var Nt=(M+(_=_+Math.imul(Y,Wt)|0)|0)+((8191&(E=(E=E+Math.imul(Y,or)|0)+Math.imul(J,Wt)|0))<<13)|0;M=((N=N+Math.imul(J,or)|0)+(E>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,_=Math.imul(ye,pt),E=(E=Math.imul(ye,At))+Math.imul(he,pt)|0,N=Math.imul(he,At),_=_+Math.imul(ue,Tt)|0,E=(E=E+Math.imul(ue,fr)|0)+Math.imul(ce,Tt)|0,N=N+Math.imul(ce,fr)|0,_=_+Math.imul(Z,er)|0,E=(E=E+Math.imul(Z,Sr)|0)+Math.imul(re,er)|0,N=N+Math.imul(re,Sr)|0,_=_+Math.imul(Q,Wt)|0,E=(E=E+Math.imul(Q,or)|0)+Math.imul(q,Wt)|0,N=N+Math.imul(q,or)|0;var Ft=(M+(_=_+Math.imul(Y,Jt)|0)|0)+((8191&(E=(E=E+Math.imul(Y,wr)|0)+Math.imul(J,Jt)|0))<<13)|0;M=((N=N+Math.imul(J,wr)|0)+(E>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,_=Math.imul(xe,pt),E=(E=Math.imul(xe,At))+Math.imul(Oe,pt)|0,N=Math.imul(Oe,At),_=_+Math.imul(ye,Tt)|0,E=(E=E+Math.imul(ye,fr)|0)+Math.imul(he,Tt)|0,N=N+Math.imul(he,fr)|0,_=_+Math.imul(ue,er)|0,E=(E=E+Math.imul(ue,Sr)|0)+Math.imul(ce,er)|0,N=N+Math.imul(ce,Sr)|0,_=_+Math.imul(Z,Wt)|0,E=(E=E+Math.imul(Z,or)|0)+Math.imul(re,Wt)|0,N=N+Math.imul(re,or)|0,_=_+Math.imul(Q,Jt)|0,E=(E=E+Math.imul(Q,wr)|0)+Math.imul(q,Jt)|0,N=N+Math.imul(q,wr)|0;var zt=(M+(_=_+Math.imul(Y,Lt)|0)|0)+((8191&(E=(E=E+Math.imul(Y,Er)|0)+Math.imul(J,Lt)|0))<<13)|0;M=((N=N+Math.imul(J,Er)|0)+(E>>>13)|0)+(zt>>>26)|0,zt&=67108863,_=Math.imul(Le,pt),E=(E=Math.imul(Le,At))+Math.imul(He,pt)|0,N=Math.imul(He,At),_=_+Math.imul(xe,Tt)|0,E=(E=E+Math.imul(xe,fr)|0)+Math.imul(Oe,Tt)|0,N=N+Math.imul(Oe,fr)|0,_=_+Math.imul(ye,er)|0,E=(E=E+Math.imul(ye,Sr)|0)+Math.imul(he,er)|0,N=N+Math.imul(he,Sr)|0,_=_+Math.imul(ue,Wt)|0,E=(E=E+Math.imul(ue,or)|0)+Math.imul(ce,Wt)|0,N=N+Math.imul(ce,or)|0,_=_+Math.imul(Z,Jt)|0,E=(E=E+Math.imul(Z,wr)|0)+Math.imul(re,Jt)|0,N=N+Math.imul(re,wr)|0,_=_+Math.imul(Q,Lt)|0,E=(E=E+Math.imul(Q,Er)|0)+Math.imul(q,Lt)|0,N=N+Math.imul(q,Er)|0;var Rt=(M+(_=_+Math.imul(Y,lr)|0)|0)+((8191&(E=(E=E+Math.imul(Y,qe)|0)+Math.imul(J,lr)|0))<<13)|0;M=((N=N+Math.imul(J,qe)|0)+(E>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,_=Math.imul(it,pt),E=(E=Math.imul(it,At))+Math.imul(bt,pt)|0,N=Math.imul(bt,At),_=_+Math.imul(Le,Tt)|0,E=(E=E+Math.imul(Le,fr)|0)+Math.imul(He,Tt)|0,N=N+Math.imul(He,fr)|0,_=_+Math.imul(xe,er)|0,E=(E=E+Math.imul(xe,Sr)|0)+Math.imul(Oe,er)|0,N=N+Math.imul(Oe,Sr)|0,_=_+Math.imul(ye,Wt)|0,E=(E=E+Math.imul(ye,or)|0)+Math.imul(he,Wt)|0,N=N+Math.imul(he,or)|0,_=_+Math.imul(ue,Jt)|0,E=(E=E+Math.imul(ue,wr)|0)+Math.imul(ce,Jt)|0,N=N+Math.imul(ce,wr)|0,_=_+Math.imul(Z,Lt)|0,E=(E=E+Math.imul(Z,Er)|0)+Math.imul(re,Lt)|0,N=N+Math.imul(re,Er)|0,_=_+Math.imul(Q,lr)|0,E=(E=E+Math.imul(Q,qe)|0)+Math.imul(q,lr)|0,N=N+Math.imul(q,qe)|0;var ke=(M+(_=_+Math.imul(Y,fe)|0)|0)+((8191&(E=(E=E+Math.imul(Y,Ee)|0)+Math.imul(J,fe)|0))<<13)|0;M=((N=N+Math.imul(J,Ee)|0)+(E>>>13)|0)+(ke>>>26)|0,ke&=67108863,_=Math.imul($e,pt),E=(E=Math.imul($e,At))+Math.imul(at,pt)|0,N=Math.imul(at,At),_=_+Math.imul(it,Tt)|0,E=(E=E+Math.imul(it,fr)|0)+Math.imul(bt,Tt)|0,N=N+Math.imul(bt,fr)|0,_=_+Math.imul(Le,er)|0,E=(E=E+Math.imul(Le,Sr)|0)+Math.imul(He,er)|0,N=N+Math.imul(He,Sr)|0,_=_+Math.imul(xe,Wt)|0,E=(E=E+Math.imul(xe,or)|0)+Math.imul(Oe,Wt)|0,N=N+Math.imul(Oe,or)|0,_=_+Math.imul(ye,Jt)|0,E=(E=E+Math.imul(ye,wr)|0)+Math.imul(he,Jt)|0,N=N+Math.imul(he,wr)|0,_=_+Math.imul(ue,Lt)|0,E=(E=E+Math.imul(ue,Er)|0)+Math.imul(ce,Lt)|0,N=N+Math.imul(ce,Er)|0,_=_+Math.imul(Z,lr)|0,E=(E=E+Math.imul(Z,qe)|0)+Math.imul(re,lr)|0,N=N+Math.imul(re,qe)|0,_=_+Math.imul(Q,fe)|0,E=(E=E+Math.imul(Q,Ee)|0)+Math.imul(q,fe)|0,N=N+Math.imul(q,Ee)|0;var Ge=(M+(_=_+Math.imul(Y,we)|0)|0)+((8191&(E=(E=E+Math.imul(Y,Pe)|0)+Math.imul(J,we)|0))<<13)|0;M=((N=N+Math.imul(J,Pe)|0)+(E>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,_=Math.imul(wt,pt),E=(E=Math.imul(wt,At))+Math.imul(vt,pt)|0,N=Math.imul(vt,At),_=_+Math.imul($e,Tt)|0,E=(E=E+Math.imul($e,fr)|0)+Math.imul(at,Tt)|0,N=N+Math.imul(at,fr)|0,_=_+Math.imul(it,er)|0,E=(E=E+Math.imul(it,Sr)|0)+Math.imul(bt,er)|0,N=N+Math.imul(bt,Sr)|0,_=_+Math.imul(Le,Wt)|0,E=(E=E+Math.imul(Le,or)|0)+Math.imul(He,Wt)|0,N=N+Math.imul(He,or)|0,_=_+Math.imul(xe,Jt)|0,E=(E=E+Math.imul(xe,wr)|0)+Math.imul(Oe,Jt)|0,N=N+Math.imul(Oe,wr)|0,_=_+Math.imul(ye,Lt)|0,E=(E=E+Math.imul(ye,Er)|0)+Math.imul(he,Lt)|0,N=N+Math.imul(he,Er)|0,_=_+Math.imul(ue,lr)|0,E=(E=E+Math.imul(ue,qe)|0)+Math.imul(ce,lr)|0,N=N+Math.imul(ce,qe)|0,_=_+Math.imul(Z,fe)|0,E=(E=E+Math.imul(Z,Ee)|0)+Math.imul(re,fe)|0,N=N+Math.imul(re,Ee)|0,_=_+Math.imul(Q,we)|0,E=(E=E+Math.imul(Q,Pe)|0)+Math.imul(q,we)|0,N=N+Math.imul(q,Pe)|0;var mt=(M+(_=_+Math.imul(Y,Ve)|0)|0)+((8191&(E=(E=E+Math.imul(Y,ot)|0)+Math.imul(J,Ve)|0))<<13)|0;M=((N=N+Math.imul(J,ot)|0)+(E>>>13)|0)+(mt>>>26)|0,mt&=67108863,_=Math.imul(wt,Tt),E=(E=Math.imul(wt,fr))+Math.imul(vt,Tt)|0,N=Math.imul(vt,fr),_=_+Math.imul($e,er)|0,E=(E=E+Math.imul($e,Sr)|0)+Math.imul(at,er)|0,N=N+Math.imul(at,Sr)|0,_=_+Math.imul(it,Wt)|0,E=(E=E+Math.imul(it,or)|0)+Math.imul(bt,Wt)|0,N=N+Math.imul(bt,or)|0,_=_+Math.imul(Le,Jt)|0,E=(E=E+Math.imul(Le,wr)|0)+Math.imul(He,Jt)|0,N=N+Math.imul(He,wr)|0,_=_+Math.imul(xe,Lt)|0,E=(E=E+Math.imul(xe,Er)|0)+Math.imul(Oe,Lt)|0,N=N+Math.imul(Oe,Er)|0,_=_+Math.imul(ye,lr)|0,E=(E=E+Math.imul(ye,qe)|0)+Math.imul(he,lr)|0,N=N+Math.imul(he,qe)|0,_=_+Math.imul(ue,fe)|0,E=(E=E+Math.imul(ue,Ee)|0)+Math.imul(ce,fe)|0,N=N+Math.imul(ce,Ee)|0,_=_+Math.imul(Z,we)|0,E=(E=E+Math.imul(Z,Pe)|0)+Math.imul(re,we)|0,N=N+Math.imul(re,Pe)|0;var Et=(M+(_=_+Math.imul(Q,Ve)|0)|0)+((8191&(E=(E=E+Math.imul(Q,ot)|0)+Math.imul(q,Ve)|0))<<13)|0;M=((N=N+Math.imul(q,ot)|0)+(E>>>13)|0)+(Et>>>26)|0,Et&=67108863,_=Math.imul(wt,er),E=(E=Math.imul(wt,Sr))+Math.imul(vt,er)|0,N=Math.imul(vt,Sr),_=_+Math.imul($e,Wt)|0,E=(E=E+Math.imul($e,or)|0)+Math.imul(at,Wt)|0,N=N+Math.imul(at,or)|0,_=_+Math.imul(it,Jt)|0,E=(E=E+Math.imul(it,wr)|0)+Math.imul(bt,Jt)|0,N=N+Math.imul(bt,wr)|0,_=_+Math.imul(Le,Lt)|0,E=(E=E+Math.imul(Le,Er)|0)+Math.imul(He,Lt)|0,N=N+Math.imul(He,Er)|0,_=_+Math.imul(xe,lr)|0,E=(E=E+Math.imul(xe,qe)|0)+Math.imul(Oe,lr)|0,N=N+Math.imul(Oe,qe)|0,_=_+Math.imul(ye,fe)|0,E=(E=E+Math.imul(ye,Ee)|0)+Math.imul(he,fe)|0,N=N+Math.imul(he,Ee)|0,_=_+Math.imul(ue,we)|0,E=(E=E+Math.imul(ue,Pe)|0)+Math.imul(ce,we)|0,N=N+Math.imul(ce,Pe)|0;var Yt=(M+(_=_+Math.imul(Z,Ve)|0)|0)+((8191&(E=(E=E+Math.imul(Z,ot)|0)+Math.imul(re,Ve)|0))<<13)|0;M=((N=N+Math.imul(re,ot)|0)+(E>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,_=Math.imul(wt,Wt),E=(E=Math.imul(wt,or))+Math.imul(vt,Wt)|0,N=Math.imul(vt,or),_=_+Math.imul($e,Jt)|0,E=(E=E+Math.imul($e,wr)|0)+Math.imul(at,Jt)|0,N=N+Math.imul(at,wr)|0,_=_+Math.imul(it,Lt)|0,E=(E=E+Math.imul(it,Er)|0)+Math.imul(bt,Lt)|0,N=N+Math.imul(bt,Er)|0,_=_+Math.imul(Le,lr)|0,E=(E=E+Math.imul(Le,qe)|0)+Math.imul(He,lr)|0,N=N+Math.imul(He,qe)|0,_=_+Math.imul(xe,fe)|0,E=(E=E+Math.imul(xe,Ee)|0)+Math.imul(Oe,fe)|0,N=N+Math.imul(Oe,Ee)|0,_=_+Math.imul(ye,we)|0,E=(E=E+Math.imul(ye,Pe)|0)+Math.imul(he,we)|0,N=N+Math.imul(he,Pe)|0;var Ht=(M+(_=_+Math.imul(ue,Ve)|0)|0)+((8191&(E=(E=E+Math.imul(ue,ot)|0)+Math.imul(ce,Ve)|0))<<13)|0;M=((N=N+Math.imul(ce,ot)|0)+(E>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,_=Math.imul(wt,Jt),E=(E=Math.imul(wt,wr))+Math.imul(vt,Jt)|0,N=Math.imul(vt,wr),_=_+Math.imul($e,Lt)|0,E=(E=E+Math.imul($e,Er)|0)+Math.imul(at,Lt)|0,N=N+Math.imul(at,Er)|0,_=_+Math.imul(it,lr)|0,E=(E=E+Math.imul(it,qe)|0)+Math.imul(bt,lr)|0,N=N+Math.imul(bt,qe)|0,_=_+Math.imul(Le,fe)|0,E=(E=E+Math.imul(Le,Ee)|0)+Math.imul(He,fe)|0,N=N+Math.imul(He,Ee)|0,_=_+Math.imul(xe,we)|0,E=(E=E+Math.imul(xe,Pe)|0)+Math.imul(Oe,we)|0,N=N+Math.imul(Oe,Pe)|0;var Vt=(M+(_=_+Math.imul(ye,Ve)|0)|0)+((8191&(E=(E=E+Math.imul(ye,ot)|0)+Math.imul(he,Ve)|0))<<13)|0;M=((N=N+Math.imul(he,ot)|0)+(E>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,_=Math.imul(wt,Lt),E=(E=Math.imul(wt,Er))+Math.imul(vt,Lt)|0,N=Math.imul(vt,Er),_=_+Math.imul($e,lr)|0,E=(E=E+Math.imul($e,qe)|0)+Math.imul(at,lr)|0,N=N+Math.imul(at,qe)|0,_=_+Math.imul(it,fe)|0,E=(E=E+Math.imul(it,Ee)|0)+Math.imul(bt,fe)|0,N=N+Math.imul(bt,Ee)|0,_=_+Math.imul(Le,we)|0,E=(E=E+Math.imul(Le,Pe)|0)+Math.imul(He,we)|0,N=N+Math.imul(He,Pe)|0;var Tr=(M+(_=_+Math.imul(xe,Ve)|0)|0)+((8191&(E=(E=E+Math.imul(xe,ot)|0)+Math.imul(Oe,Ve)|0))<<13)|0;M=((N=N+Math.imul(Oe,ot)|0)+(E>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,_=Math.imul(wt,lr),E=(E=Math.imul(wt,qe))+Math.imul(vt,lr)|0,N=Math.imul(vt,qe),_=_+Math.imul($e,fe)|0,E=(E=E+Math.imul($e,Ee)|0)+Math.imul(at,fe)|0,N=N+Math.imul(at,Ee)|0,_=_+Math.imul(it,we)|0,E=(E=E+Math.imul(it,Pe)|0)+Math.imul(bt,we)|0,N=N+Math.imul(bt,Pe)|0;var vr=(M+(_=_+Math.imul(Le,Ve)|0)|0)+((8191&(E=(E=E+Math.imul(Le,ot)|0)+Math.imul(He,Ve)|0))<<13)|0;M=((N=N+Math.imul(He,ot)|0)+(E>>>13)|0)+(vr>>>26)|0,vr&=67108863,_=Math.imul(wt,fe),E=(E=Math.imul(wt,Ee))+Math.imul(vt,fe)|0,N=Math.imul(vt,Ee),_=_+Math.imul($e,we)|0,E=(E=E+Math.imul($e,Pe)|0)+Math.imul(at,we)|0,N=N+Math.imul(at,Pe)|0;var Nr=(M+(_=_+Math.imul(it,Ve)|0)|0)+((8191&(E=(E=E+Math.imul(it,ot)|0)+Math.imul(bt,Ve)|0))<<13)|0;M=((N=N+Math.imul(bt,ot)|0)+(E>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,_=Math.imul(wt,we),E=(E=Math.imul(wt,Pe))+Math.imul(vt,we)|0,N=Math.imul(vt,Pe);var ir=(M+(_=_+Math.imul($e,Ve)|0)|0)+((8191&(E=(E=E+Math.imul($e,ot)|0)+Math.imul(at,Ve)|0))<<13)|0;M=((N=N+Math.imul(at,ot)|0)+(E>>>13)|0)+(ir>>>26)|0,ir&=67108863;var _r=(M+(_=Math.imul(wt,Ve))|0)+((8191&(E=(E=Math.imul(wt,ot))+Math.imul(vt,Ve)|0))<<13)|0;return M=((N=Math.imul(vt,ot))+(E>>>13)|0)+(_r>>>26)|0,_r&=67108863,j[0]=Ke,j[1]=et,j[2]=ct,j[3]=Nt,j[4]=Ft,j[5]=zt,j[6]=Rt,j[7]=ke,j[8]=Ge,j[9]=mt,j[10]=Et,j[11]=Yt,j[12]=Ht,j[13]=Vt,j[14]=Tr,j[15]=vr,j[16]=Nr,j[17]=ir,j[18]=_r,M!==0&&(j[19]=M,A.length++),A};function w(I,F,A){return new S().mulp(I,F,A)}function S(I,F){this.x=I,this.y=F}Math.imul||(v=x),l.prototype.mulTo=function(I,F){var A=this.length+I.length;return this.length===10&&I.length===10?v(this,I,F):A<63?x(this,I,F):A<1024?function(_,E,N){N.negative=E.negative^_.negative,N.length=_.length+E.length;for(var k=0,B=0,j=0;j<N.length-1;j++){var M=B;B=0;for(var G=67108863&k,Y=Math.min(j,E.length-1),J=Math.max(0,j-_.length+1);J<=Y;J++){var V=j-J,Q=(0|_.words[V])*(0|E.words[J]),q=67108863&Q;G=67108863&(q=q+G|0),B+=(M=(M=M+(Q/67108864|0)|0)+(q>>>26)|0)>>>26,M&=67108863}N.words[j]=G,k=M,M=B}return k!==0?N.words[j]=k:N.length--,N.strip()}(this,I,F):w(this,I,F)},S.prototype.makeRBT=function(I){for(var F=new Array(I),A=l.prototype._countBits(I)-1,_=0;_<I;_++)F[_]=this.revBin(_,A,I);return F},S.prototype.revBin=function(I,F,A){if(I===0||I===A-1)return I;for(var _=0,E=0;E<F;E++)_|=(1&I)<<F-E-1,I>>=1;return _},S.prototype.permute=function(I,F,A,_,E,N){for(var k=0;k<N;k++)_[k]=F[I[k]],E[k]=A[I[k]]},S.prototype.transform=function(I,F,A,_,E,N){this.permute(N,I,F,A,_,E);for(var k=1;k<E;k<<=1)for(var B=k<<1,j=Math.cos(2*Math.PI/B),M=Math.sin(2*Math.PI/B),G=0;G<E;G+=B)for(var Y=j,J=M,V=0;V<k;V++){var Q=A[G+V],q=_[G+V],z=A[G+V+k],Z=_[G+V+k],re=Y*z-J*Z;Z=Y*Z+J*z,z=re,A[G+V]=Q+z,_[G+V]=q+Z,A[G+V+k]=Q-z,_[G+V+k]=q-Z,V!==B&&(re=j*Y-M*J,J=j*J+M*Y,Y=re)}},S.prototype.guessLen13b=function(I,F){var A=1|Math.max(F,I),_=1&A,E=0;for(A=A/2|0;A;A>>>=1)E++;return 1<<E+1+_},S.prototype.conjugate=function(I,F,A){if(!(A<=1))for(var _=0;_<A/2;_++){var E=I[_];I[_]=I[A-_-1],I[A-_-1]=E,E=F[_],F[_]=-F[A-_-1],F[A-_-1]=-E}},S.prototype.normalize13b=function(I,F){for(var A=0,_=0;_<F/2;_++){var E=8192*Math.round(I[2*_+1]/F)+Math.round(I[2*_]/F)+A;I[_]=67108863&E,A=E<67108864?0:E/67108864|0}return I},S.prototype.convert13b=function(I,F,A,_){for(var E=0,N=0;N<F;N++)E+=0|I[N],A[2*N]=8191&E,E>>>=13,A[2*N+1]=8191&E,E>>>=13;for(N=2*F;N<_;++N)A[N]=0;u(E===0),u((-8192&E)==0)},S.prototype.stub=function(I){for(var F=new Array(I),A=0;A<I;A++)F[A]=0;return F},S.prototype.mulp=function(I,F,A){var _=2*this.guessLen13b(I.length,F.length),E=this.makeRBT(_),N=this.stub(_),k=new Array(_),B=new Array(_),j=new Array(_),M=new Array(_),G=new Array(_),Y=new Array(_),J=A.words;J.length=_,this.convert13b(I.words,I.length,k,_),this.convert13b(F.words,F.length,M,_),this.transform(k,N,B,j,_,E),this.transform(M,N,G,Y,_,E);for(var V=0;V<_;V++){var Q=B[V]*G[V]-j[V]*Y[V];j[V]=B[V]*Y[V]+j[V]*G[V],B[V]=Q}return this.conjugate(B,j,_),this.transform(B,j,J,N,_,E),this.conjugate(J,N,_),this.normalize13b(J,_),A.negative=I.negative^F.negative,A.length=I.length+F.length,A.strip()},l.prototype.mul=function(I){var F=new l(null);return F.words=new Array(this.length+I.length),this.mulTo(I,F)},l.prototype.mulf=function(I){var F=new l(null);return F.words=new Array(this.length+I.length),w(this,I,F)},l.prototype.imul=function(I){return this.clone().mulTo(I,this)},l.prototype.imuln=function(I){u(typeof I=="number"),u(I<67108864);for(var F=0,A=0;A<this.length;A++){var _=(0|this.words[A])*I,E=(67108863&_)+(67108863&F);F>>=26,F+=_/67108864|0,F+=E>>>26,this.words[A]=67108863&E}return F!==0&&(this.words[A]=F,this.length++),this},l.prototype.muln=function(I){return this.clone().imuln(I)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(I){var F=function(N){for(var k=new Array(N.bitLength()),B=0;B<k.length;B++){var j=B/26|0,M=B%26;k[B]=(N.words[j]&1<<M)>>>M}return k}(I);if(F.length===0)return new l(1);for(var A=this,_=0;_<F.length&&F[_]===0;_++,A=A.sqr());if(++_<F.length)for(var E=A.sqr();_<F.length;_++,E=E.sqr())F[_]!==0&&(A=A.mul(E));return A},l.prototype.iushln=function(I){u(typeof I=="number"&&I>=0);var F,A=I%26,_=(I-A)/26,E=67108863>>>26-A<<26-A;if(A!==0){var N=0;for(F=0;F<this.length;F++){var k=this.words[F]&E,B=(0|this.words[F])-k<<A;this.words[F]=B|N,N=k>>>26-A}N&&(this.words[F]=N,this.length++)}if(_!==0){for(F=this.length-1;F>=0;F--)this.words[F+_]=this.words[F];for(F=0;F<_;F++)this.words[F]=0;this.length+=_}return this.strip()},l.prototype.ishln=function(I){return u(this.negative===0),this.iushln(I)},l.prototype.iushrn=function(I,F,A){var _;u(typeof I=="number"&&I>=0),_=F?(F-F%26)/26:0;var E=I%26,N=Math.min((I-E)/26,this.length),k=67108863^67108863>>>E<<E,B=A;if(_-=N,_=Math.max(0,_),B){for(var j=0;j<N;j++)B.words[j]=this.words[j];B.length=N}if(N!==0)if(this.length>N)for(this.length-=N,j=0;j<this.length;j++)this.words[j]=this.words[j+N];else this.words[0]=0,this.length=1;var M=0;for(j=this.length-1;j>=0&&(M!==0||j>=_);j--){var G=0|this.words[j];this.words[j]=M<<26-E|G>>>E,M=G&k}return B&&M!==0&&(B.words[B.length++]=M),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},l.prototype.ishrn=function(I,F,A){return u(this.negative===0),this.iushrn(I,F,A)},l.prototype.shln=function(I){return this.clone().ishln(I)},l.prototype.ushln=function(I){return this.clone().iushln(I)},l.prototype.shrn=function(I){return this.clone().ishrn(I)},l.prototype.ushrn=function(I){return this.clone().iushrn(I)},l.prototype.testn=function(I){u(typeof I=="number"&&I>=0);var F=I%26,A=(I-F)/26,_=1<<F;return!(this.length<=A)&&!!(this.words[A]&_)},l.prototype.imaskn=function(I){u(typeof I=="number"&&I>=0);var F=I%26,A=(I-F)/26;if(u(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(F!==0&&A++,this.length=Math.min(A,this.length),F!==0){var _=67108863^67108863>>>F<<F;this.words[this.length-1]&=_}return this.strip()},l.prototype.maskn=function(I){return this.clone().imaskn(I)},l.prototype.iaddn=function(I){return u(typeof I=="number"),u(I<67108864),I<0?this.isubn(-I):this.negative!==0?this.length===1&&(0|this.words[0])<I?(this.words[0]=I-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(I),this.negative=1,this):this._iaddn(I)},l.prototype._iaddn=function(I){this.words[0]+=I;for(var F=0;F<this.length&&this.words[F]>=67108864;F++)this.words[F]-=67108864,F===this.length-1?this.words[F+1]=1:this.words[F+1]++;return this.length=Math.max(this.length,F+1),this},l.prototype.isubn=function(I){if(u(typeof I=="number"),u(I<67108864),I<0)return this.iaddn(-I);if(this.negative!==0)return this.negative=0,this.iaddn(I),this.negative=1,this;if(this.words[0]-=I,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var F=0;F<this.length&&this.words[F]<0;F++)this.words[F]+=67108864,this.words[F+1]-=1;return this.strip()},l.prototype.addn=function(I){return this.clone().iaddn(I)},l.prototype.subn=function(I){return this.clone().isubn(I)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(I,F,A){var _,E,N=I.length+A;this._expand(N);var k=0;for(_=0;_<I.length;_++){E=(0|this.words[_+A])+k;var B=(0|I.words[_])*F;k=((E-=67108863&B)>>26)-(B/67108864|0),this.words[_+A]=67108863&E}for(;_<this.length-A;_++)k=(E=(0|this.words[_+A])+k)>>26,this.words[_+A]=67108863&E;if(k===0)return this.strip();for(u(k===-1),k=0,_=0;_<this.length;_++)k=(E=-(0|this.words[_])+k)>>26,this.words[_]=67108863&E;return this.negative=1,this.strip()},l.prototype._wordDiv=function(I,F){var A=(this.length,I.length),_=this.clone(),E=I,N=0|E.words[E.length-1];(A=26-this._countBits(N))!==0&&(E=E.ushln(A),_.iushln(A),N=0|E.words[E.length-1]);var k,B=_.length-E.length;if(F!=="mod"){(k=new l(null)).length=B+1,k.words=new Array(k.length);for(var j=0;j<k.length;j++)k.words[j]=0}var M=_.clone()._ishlnsubmul(E,1,B);M.negative===0&&(_=M,k&&(k.words[B]=1));for(var G=B-1;G>=0;G--){var Y=67108864*(0|_.words[E.length+G])+(0|_.words[E.length+G-1]);for(Y=Math.min(Y/N|0,67108863),_._ishlnsubmul(E,Y,G);_.negative!==0;)Y--,_.negative=0,_._ishlnsubmul(E,1,G),_.isZero()||(_.negative^=1);k&&(k.words[G]=Y)}return k&&k.strip(),_.strip(),F!=="div"&&A!==0&&_.iushrn(A),{div:k||null,mod:_}},l.prototype.divmod=function(I,F,A){return u(!I.isZero()),this.isZero()?{div:new l(0),mod:new l(0)}:this.negative!==0&&I.negative===0?(N=this.neg().divmod(I,F),F!=="mod"&&(_=N.div.neg()),F!=="div"&&(E=N.mod.neg(),A&&E.negative!==0&&E.iadd(I)),{div:_,mod:E}):this.negative===0&&I.negative!==0?(N=this.divmod(I.neg(),F),F!=="mod"&&(_=N.div.neg()),{div:_,mod:N.mod}):this.negative&I.negative?(N=this.neg().divmod(I.neg(),F),F!=="div"&&(E=N.mod.neg(),A&&E.negative!==0&&E.isub(I)),{div:N.div,mod:E}):I.length>this.length||this.cmp(I)<0?{div:new l(0),mod:this}:I.length===1?F==="div"?{div:this.divn(I.words[0]),mod:null}:F==="mod"?{div:null,mod:new l(this.modn(I.words[0]))}:{div:this.divn(I.words[0]),mod:new l(this.modn(I.words[0]))}:this._wordDiv(I,F);var _,E,N},l.prototype.div=function(I){return this.divmod(I,"div",!1).div},l.prototype.mod=function(I){return this.divmod(I,"mod",!1).mod},l.prototype.umod=function(I){return this.divmod(I,"mod",!0).mod},l.prototype.divRound=function(I){var F=this.divmod(I);if(F.mod.isZero())return F.div;var A=F.div.negative!==0?F.mod.isub(I):F.mod,_=I.ushrn(1),E=I.andln(1),N=A.cmp(_);return N<0||E===1&&N===0?F.div:F.div.negative!==0?F.div.isubn(1):F.div.iaddn(1)},l.prototype.modn=function(I){u(I<=67108863);for(var F=(1<<26)%I,A=0,_=this.length-1;_>=0;_--)A=(F*A+(0|this.words[_]))%I;return A},l.prototype.idivn=function(I){u(I<=67108863);for(var F=0,A=this.length-1;A>=0;A--){var _=(0|this.words[A])+67108864*F;this.words[A]=_/I|0,F=_%I}return this.strip()},l.prototype.divn=function(I){return this.clone().idivn(I)},l.prototype.egcd=function(I){u(I.negative===0),u(!I.isZero());var F=this,A=I.clone();F=F.negative!==0?F.umod(I):F.clone();for(var _=new l(1),E=new l(0),N=new l(0),k=new l(1),B=0;F.isEven()&&A.isEven();)F.iushrn(1),A.iushrn(1),++B;for(var j=A.clone(),M=F.clone();!F.isZero();){for(var G=0,Y=1;!(F.words[0]&Y)&&G<26;++G,Y<<=1);if(G>0)for(F.iushrn(G);G-- >0;)(_.isOdd()||E.isOdd())&&(_.iadd(j),E.isub(M)),_.iushrn(1),E.iushrn(1);for(var J=0,V=1;!(A.words[0]&V)&&J<26;++J,V<<=1);if(J>0)for(A.iushrn(J);J-- >0;)(N.isOdd()||k.isOdd())&&(N.iadd(j),k.isub(M)),N.iushrn(1),k.iushrn(1);F.cmp(A)>=0?(F.isub(A),_.isub(N),E.isub(k)):(A.isub(F),N.isub(_),k.isub(E))}return{a:N,b:k,gcd:A.iushln(B)}},l.prototype._invmp=function(I){u(I.negative===0),u(!I.isZero());var F=this,A=I.clone();F=F.negative!==0?F.umod(I):F.clone();for(var _,E=new l(1),N=new l(0),k=A.clone();F.cmpn(1)>0&&A.cmpn(1)>0;){for(var B=0,j=1;!(F.words[0]&j)&&B<26;++B,j<<=1);if(B>0)for(F.iushrn(B);B-- >0;)E.isOdd()&&E.iadd(k),E.iushrn(1);for(var M=0,G=1;!(A.words[0]&G)&&M<26;++M,G<<=1);if(M>0)for(A.iushrn(M);M-- >0;)N.isOdd()&&N.iadd(k),N.iushrn(1);F.cmp(A)>=0?(F.isub(A),E.isub(N)):(A.isub(F),N.isub(E))}return(_=F.cmpn(1)===0?E:N).cmpn(0)<0&&_.iadd(I),_},l.prototype.gcd=function(I){if(this.isZero())return I.abs();if(I.isZero())return this.abs();var F=this.clone(),A=I.clone();F.negative=0,A.negative=0;for(var _=0;F.isEven()&&A.isEven();_++)F.iushrn(1),A.iushrn(1);for(;;){for(;F.isEven();)F.iushrn(1);for(;A.isEven();)A.iushrn(1);var E=F.cmp(A);if(E<0){var N=F;F=A,A=N}else if(E===0||A.cmpn(1)===0)break;F.isub(A)}return A.iushln(_)},l.prototype.invm=function(I){return this.egcd(I).a.umod(I)},l.prototype.isEven=function(){return(1&this.words[0])==0},l.prototype.isOdd=function(){return(1&this.words[0])==1},l.prototype.andln=function(I){return this.words[0]&I},l.prototype.bincn=function(I){u(typeof I=="number");var F=I%26,A=(I-F)/26,_=1<<F;if(this.length<=A)return this._expand(A+1),this.words[A]|=_,this;for(var E=_,N=A;E!==0&&N<this.length;N++){var k=0|this.words[N];E=(k+=E)>>>26,k&=67108863,this.words[N]=k}return E!==0&&(this.words[N]=E,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(I){var F,A=I<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;if(this.strip(),this.length>1)F=1;else{A&&(I=-I),u(I<=67108863,"Number is too big");var _=0|this.words[0];F=_===I?0:_<I?-1:1}return this.negative!==0?0|-F:F},l.prototype.cmp=function(I){if(this.negative!==0&&I.negative===0)return-1;if(this.negative===0&&I.negative!==0)return 1;var F=this.ucmp(I);return this.negative!==0?0|-F:F},l.prototype.ucmp=function(I){if(this.length>I.length)return 1;if(this.length<I.length)return-1;for(var F=0,A=this.length-1;A>=0;A--){var _=0|this.words[A],E=0|I.words[A];if(_!==E){_<E?F=-1:_>E&&(F=1);break}}return F},l.prototype.gtn=function(I){return this.cmpn(I)===1},l.prototype.gt=function(I){return this.cmp(I)===1},l.prototype.gten=function(I){return this.cmpn(I)>=0},l.prototype.gte=function(I){return this.cmp(I)>=0},l.prototype.ltn=function(I){return this.cmpn(I)===-1},l.prototype.lt=function(I){return this.cmp(I)===-1},l.prototype.lten=function(I){return this.cmpn(I)<=0},l.prototype.lte=function(I){return this.cmp(I)<=0},l.prototype.eqn=function(I){return this.cmpn(I)===0},l.prototype.eq=function(I){return this.cmp(I)===0},l.red=function(I){return new H(I)},l.prototype.toRed=function(I){return u(!this.red,"Already a number in reduction context"),u(this.negative===0,"red works only with positives"),I.convertTo(this)._forceRed(I)},l.prototype.fromRed=function(){return u(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(I){return this.red=I,this},l.prototype.forceRed=function(I){return u(!this.red,"Already a number in reduction context"),this._forceRed(I)},l.prototype.redAdd=function(I){return u(this.red,"redAdd works only with red numbers"),this.red.add(this,I)},l.prototype.redIAdd=function(I){return u(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,I)},l.prototype.redSub=function(I){return u(this.red,"redSub works only with red numbers"),this.red.sub(this,I)},l.prototype.redISub=function(I){return u(this.red,"redISub works only with red numbers"),this.red.isub(this,I)},l.prototype.redShl=function(I){return u(this.red,"redShl works only with red numbers"),this.red.shl(this,I)},l.prototype.redMul=function(I){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,I),this.red.mul(this,I)},l.prototype.redIMul=function(I){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,I),this.red.imul(this,I)},l.prototype.redSqr=function(){return u(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return u(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return u(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return u(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return u(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(I){return u(this.red&&!I.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,I)};var D={k256:null,p224:null,p192:null,p25519:null};function T(I,F){this.name=I,this.p=new l(F,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function R(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function L(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function O(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function H(I){if(typeof I=="string"){var F=l._prime(I);this.m=F.p,this.prime=F}else u(I.gtn(1),"modulus must be greater than 1"),this.m=I,this.prime=null}function U(I){H.call(this,I),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T.prototype._tmp=function(){var I=new l(null);return I.words=new Array(Math.ceil(this.n/13)),I},T.prototype.ireduce=function(I){var F,A=I;do this.split(A,this.tmp),F=(A=(A=this.imulK(A)).iadd(this.tmp)).bitLength();while(F>this.n);var _=F<this.n?-1:A.ucmp(this.p);return _===0?(A.words[0]=0,A.length=1):_>0?A.isub(this.p):A.strip!==void 0?A.strip():A._strip(),A},T.prototype.split=function(I,F){I.iushrn(this.n,0,F)},T.prototype.imulK=function(I){return I.imul(this.k)},c(R,T),R.prototype.split=function(I,F){for(var A=Math.min(I.length,9),_=0;_<A;_++)F.words[_]=I.words[_];if(F.length=A,I.length<=9)return I.words[0]=0,void(I.length=1);var E=I.words[9];for(F.words[F.length++]=4194303&E,_=10;_<I.length;_++){var N=0|I.words[_];I.words[_-10]=(4194303&N)<<4|E>>>22,E=N}E>>>=22,I.words[_-10]=E,E===0&&I.length>10?I.length-=10:I.length-=9},R.prototype.imulK=function(I){I.words[I.length]=0,I.words[I.length+1]=0,I.length+=2;for(var F=0,A=0;A<I.length;A++){var _=0|I.words[A];F+=977*_,I.words[A]=67108863&F,F=64*_+(F/67108864|0)}return I.words[I.length-1]===0&&(I.length--,I.words[I.length-1]===0&&I.length--),I},c(P,T),c(L,T),c(O,T),O.prototype.imulK=function(I){for(var F=0,A=0;A<I.length;A++){var _=19*(0|I.words[A])+F,E=67108863&_;_>>>=26,I.words[A]=E,F=_}return F!==0&&(I.words[I.length++]=F),I},l._prime=function(I){if(D[I])return D[I];var F;if(I==="k256")F=new R;else if(I==="p224")F=new P;else if(I==="p192")F=new L;else{if(I!=="p25519")throw new Error("Unknown prime "+I);F=new O}return D[I]=F,F},H.prototype._verify1=function(I){u(I.negative===0,"red works only with positives"),u(I.red,"red works only with red numbers")},H.prototype._verify2=function(I,F){u((I.negative|F.negative)==0,"red works only with positives"),u(I.red&&I.red===F.red,"red works only with red numbers")},H.prototype.imod=function(I){return this.prime?this.prime.ireduce(I)._forceRed(this):I.umod(this.m)._forceRed(this)},H.prototype.neg=function(I){return I.isZero()?I.clone():this.m.sub(I)._forceRed(this)},H.prototype.add=function(I,F){this._verify2(I,F);var A=I.add(F);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},H.prototype.iadd=function(I,F){this._verify2(I,F);var A=I.iadd(F);return A.cmp(this.m)>=0&&A.isub(this.m),A},H.prototype.sub=function(I,F){this._verify2(I,F);var A=I.sub(F);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},H.prototype.isub=function(I,F){this._verify2(I,F);var A=I.isub(F);return A.cmpn(0)<0&&A.iadd(this.m),A},H.prototype.shl=function(I,F){return this._verify1(I),this.imod(I.ushln(F))},H.prototype.imul=function(I,F){return this._verify2(I,F),this.imod(I.imul(F))},H.prototype.mul=function(I,F){return this._verify2(I,F),this.imod(I.mul(F))},H.prototype.isqr=function(I){return this.imul(I,I.clone())},H.prototype.sqr=function(I){return this.mul(I,I)},H.prototype.sqrt=function(I){if(I.isZero())return I.clone();var F=this.m.andln(3);if(u(F%2==1),F===3){var A=this.m.add(new l(1)).iushrn(2);return this.pow(I,A)}for(var _=this.m.subn(1),E=0;!_.isZero()&&_.andln(1)===0;)E++,_.iushrn(1);u(!_.isZero());var N=new l(1).toRed(this),k=N.redNeg(),B=this.m.subn(1).iushrn(1),j=this.m.bitLength();for(j=new l(2*j*j).toRed(this);this.pow(j,B).cmp(k)!==0;)j.redIAdd(k);for(var M=this.pow(j,_),G=this.pow(I,_.addn(1).iushrn(1)),Y=this.pow(I,_),J=E;Y.cmp(N)!==0;){for(var V=Y,Q=0;V.cmp(N)!==0;Q++)V=V.redSqr();u(Q<J);var q=this.pow(M,new l(1).iushln(J-Q-1));G=G.redMul(q),M=q.redSqr(),Y=Y.redMul(M),J=Q}return G},H.prototype.invm=function(I){var F=I._invmp(this.m);return F.negative!==0?(F.negative=0,this.imod(F).redNeg()):this.imod(F)},H.prototype.pow=function(I,F){if(F.isZero())return new l(1).toRed(this);if(F.cmpn(1)===0)return I.clone();var A=new Array(16);A[0]=new l(1).toRed(this),A[1]=I;for(var _=2;_<A.length;_++)A[_]=this.mul(A[_-1],I);var E=A[0],N=0,k=0,B=F.bitLength()%26;for(B===0&&(B=26),_=F.length-1;_>=0;_--){for(var j=F.words[_],M=B-1;M>=0;M--){var G=j>>M&1;E!==A[0]&&(E=this.sqr(E)),G!==0||N!==0?(N<<=1,N|=G,(++k===4||_===0&&M===0)&&(E=this.mul(E,A[N]),k=0,N=0)):k=0}B=26}return E},H.prototype.convertTo=function(I){var F=I.umod(this.m);return F===I?F.clone():F},H.prototype.convertFrom=function(I){var F=I.clone();return F.red=null,F},l.mont=function(I){return new U(I)},c(U,H),U.prototype.convertTo=function(I){return this.imod(I.ushln(this.shift))},U.prototype.convertFrom=function(I){var F=this.imod(I.mul(this.rinv));return F.red=null,F},U.prototype.imul=function(I,F){if(I.isZero()||F.isZero())return I.words[0]=0,I.length=1,I;var A=I.imul(F),_=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=A.isub(_).iushrn(this.shift),N=E;return E.cmp(this.m)>=0?N=E.isub(this.m):E.cmpn(0)<0&&(N=E.iadd(this.m)),N._forceRed(this)},U.prototype.mul=function(I,F){if(I.isZero()||F.isZero())return new l(0)._forceRed(this);var A=I.mul(F),_=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=A.isub(_).iushrn(this.shift),N=E;return E.cmp(this.m)>=0?N=E.isub(this.m):E.cmpn(0)<0&&(N=E.iadd(this.m)),N._forceRed(this)},U.prototype.invm=function(I){return this.imod(I._invmp(this.m).mul(this.r2))._forceRed(this)}})(s===void 0||s)},{buffer:188}],185:[function(e,s,a){a.byteLength=function(f){var b=p(f),y=b[0],g=b[1];return 3*(y+g)/4-g},a.toByteArray=function(f){var b,y,g=p(f),x=g[0],v=g[1],w=new u(function(T,R,P){return 3*(R+P)/4-P}(0,x,v)),S=0,D=v>0?x-4:x;for(y=0;y<D;y+=4)b=o[f.charCodeAt(y)]<<18|o[f.charCodeAt(y+1)]<<12|o[f.charCodeAt(y+2)]<<6|o[f.charCodeAt(y+3)],w[S++]=b>>16&255,w[S++]=b>>8&255,w[S++]=255&b;return v===2&&(b=o[f.charCodeAt(y)]<<2|o[f.charCodeAt(y+1)]>>4,w[S++]=255&b),v===1&&(b=o[f.charCodeAt(y)]<<10|o[f.charCodeAt(y+1)]<<4|o[f.charCodeAt(y+2)]>>2,w[S++]=b>>8&255,w[S++]=255&b),w},a.fromByteArray=function(f){for(var b,y=f.length,g=y%3,x=[],v=0,w=y-g;v<w;v+=16383)x.push(h(f,v,v+16383>w?w:v+16383));return g===1?(b=f[y-1],x.push(i[b>>2]+i[b<<4&63]+"==")):g===2&&(b=(f[y-2]<<8)+f[y-1],x.push(i[b>>10]+i[b>>4&63]+i[b<<2&63]+"=")),x.join("")};for(var i=[],o=[],u=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,d=c.length;l<d;++l)i[l]=c[l],o[c.charCodeAt(l)]=l;function p(f){var b=f.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=f.indexOf("=");return y===-1&&(y=b),[y,y===b?0:4-y%4]}function h(f,b,y){for(var g,x,v=[],w=b;w<y;w+=3)g=(f[w]<<16&16711680)+(f[w+1]<<8&65280)+(255&f[w+2]),v.push(i[(x=g)>>18&63]+i[x>>12&63]+i[x>>6&63]+i[63&x]);return v.join("")}o[45]=62,o[95]=63},{}],186:[function(e,s,a){(function(i,o){function u(A,_){if(!A)throw new Error(_||"Assertion failed")}function c(A,_){A.super_=_;var E=function(){};E.prototype=_.prototype,A.prototype=new E,A.prototype.constructor=A}function l(A,_,E){if(l.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&(_!=="le"&&_!=="be"||(E=_,_=10),this._init(A||0,_||10,E||"be"))}var d;typeof i=="object"?i.exports=l:(void 0).BN=l,l.BN=l,l.wordSize=26;try{d=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function p(A,_){var E=A.charCodeAt(_);return E>=48&&E<=57?E-48:E>=65&&E<=70?E-55:E>=97&&E<=102?E-87:void u(!1,"Invalid character in "+A)}function h(A,_,E){var N=p(A,E);return E-1>=_&&(N|=p(A,E-1)<<4),N}function f(A,_,E,N){for(var k=0,B=0,j=Math.min(A.length,E),M=_;M<j;M++){var G=A.charCodeAt(M)-48;k*=N,B=G>=49?G-49+10:G>=17?G-17+10:G,u(G>=0&&B<N,"Invalid character"),k+=B}return k}function b(A,_){A.words=_.words,A.length=_.length,A.negative=_.negative,A.red=_.red}if(l.isBN=function(A){return A instanceof l||A!==null&&typeof A=="object"&&A.constructor.wordSize===l.wordSize&&Array.isArray(A.words)},l.max=function(A,_){return A.cmp(_)>0?A:_},l.min=function(A,_){return A.cmp(_)<0?A:_},l.prototype._init=function(A,_,E){if(typeof A=="number")return this._initNumber(A,_,E);if(typeof A=="object")return this._initArray(A,_,E);_==="hex"&&(_=16),u(_===(0|_)&&_>=2&&_<=36);var N=0;(A=A.toString().replace(/\s+/g,""))[0]==="-"&&(N++,this.negative=1),N<A.length&&(_===16?this._parseHex(A,N,E):(this._parseBase(A,_,N),E==="le"&&this._initArray(this.toArray(),_,E)))},l.prototype._initNumber=function(A,_,E){A<0&&(this.negative=1,A=-A),A<67108864?(this.words=[67108863&A],this.length=1):A<4503599627370496?(this.words=[67108863&A,A/67108864&67108863],this.length=2):(u(A<9007199254740992),this.words=[67108863&A,A/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),_,E)},l.prototype._initArray=function(A,_,E){if(u(typeof A.length=="number"),A.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(A.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var k,B,j=0;if(E==="be")for(N=A.length-1,k=0;N>=0;N-=3)B=A[N]|A[N-1]<<8|A[N-2]<<16,this.words[k]|=B<<j&67108863,this.words[k+1]=B>>>26-j&67108863,(j+=24)>=26&&(j-=26,k++);else if(E==="le")for(N=0,k=0;N<A.length;N+=3)B=A[N]|A[N+1]<<8|A[N+2]<<16,this.words[k]|=B<<j&67108863,this.words[k+1]=B>>>26-j&67108863,(j+=24)>=26&&(j-=26,k++);return this._strip()},l.prototype._parseHex=function(A,_,E){this.length=Math.ceil((A.length-_)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var k,B=0,j=0;if(E==="be")for(N=A.length-1;N>=_;N-=2)k=h(A,_,N)<<B,this.words[j]|=67108863&k,B>=18?(B-=18,j+=1,this.words[j]|=k>>>26):B+=8;else for(N=(A.length-_)%2==0?_+1:_;N<A.length;N+=2)k=h(A,_,N)<<B,this.words[j]|=67108863&k,B>=18?(B-=18,j+=1,this.words[j]|=k>>>26):B+=8;this._strip()},l.prototype._parseBase=function(A,_,E){this.words=[0],this.length=1;for(var N=0,k=1;k<=67108863;k*=_)N++;N--,k=k/_|0;for(var B=A.length-E,j=B%N,M=Math.min(B,B-j)+E,G=0,Y=E;Y<M;Y+=N)G=f(A,Y,Y+N,_),this.imuln(k),this.words[0]+G<67108864?this.words[0]+=G:this._iaddn(G);if(j!==0){var J=1;for(G=f(A,Y,A.length,_),Y=0;Y<j;Y++)J*=_;this.imuln(J),this.words[0]+G<67108864?this.words[0]+=G:this._iaddn(G)}this._strip()},l.prototype.copy=function(A){A.words=new Array(this.length);for(var _=0;_<this.length;_++)A.words[_]=this.words[_];A.length=this.length,A.negative=this.negative,A.red=this.red},l.prototype._move=function(A){b(A,this)},l.prototype.clone=function(){var A=new l(null);return this.copy(A),A},l.prototype._expand=function(A){for(;this.length<A;)this.words[this.length++]=0;return this},l.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{l.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{l.prototype.inspect=y}else l.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=function(A,_){var E;if(_=0|_||1,(A=A||10)===16||A==="hex"){E="";for(var N=0,k=0,B=0;B<this.length;B++){var j=this.words[B],M=(16777215&(j<<N|k)).toString(16);k=j>>>24-N&16777215,(N+=2)>=26&&(N-=26,B--),E=k!==0||B!==this.length-1?g[6-M.length]+M+E:M+E}for(k!==0&&(E=k.toString(16)+E);E.length%_!=0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(A===(0|A)&&A>=2&&A<=36){var G=x[A],Y=v[A];E="";var J=this.clone();for(J.negative=0;!J.isZero();){var V=J.modrn(Y).toString(A);E=(J=J.idivn(Y)).isZero()?V+E:g[G-V.length]+V+E}for(this.isZero()&&(E="0"+E);E.length%_!=0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}u(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var A=this.words[0];return this.length===2?A+=67108864*this.words[1]:this.length===3&&this.words[2]===1?A+=4503599627370496+67108864*this.words[1]:this.length>2&&u(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-A:A},l.prototype.toJSON=function(){return this.toString(16,2)},d&&(l.prototype.toBuffer=function(A,_){return this.toArrayLike(d,A,_)}),l.prototype.toArray=function(A,_){return this.toArrayLike(Array,A,_)};function w(A,_,E){E.negative=_.negative^A.negative;var N=A.length+_.length|0;E.length=N,N=N-1|0;var k=0|A.words[0],B=0|_.words[0],j=k*B,M=67108863&j,G=j/67108864|0;E.words[0]=M;for(var Y=1;Y<N;Y++){for(var J=G>>>26,V=67108863&G,Q=Math.min(Y,_.length-1),q=Math.max(0,Y-A.length+1);q<=Q;q++){var z=Y-q|0;J+=(j=(k=0|A.words[z])*(B=0|_.words[q])+V)/67108864|0,V=67108863&j}E.words[Y]=0|V,G=0|J}return G!==0?E.words[Y]=0|G:E.length--,E._strip()}l.prototype.toArrayLike=function(A,_,E){this._strip();var N=this.byteLength(),k=E||Math.max(1,N);u(N<=k,"byte array longer than desired length"),u(k>0,"Requested array length <= 0");var B=function(j,M){return j.allocUnsafe?j.allocUnsafe(M):new j(M)}(A,k);return this["_toArrayLike"+(_==="le"?"LE":"BE")](B,N),B},l.prototype._toArrayLikeLE=function(A,_){for(var E=0,N=0,k=0,B=0;k<this.length;k++){var j=this.words[k]<<B|N;A[E++]=255&j,E<A.length&&(A[E++]=j>>8&255),E<A.length&&(A[E++]=j>>16&255),B===6?(E<A.length&&(A[E++]=j>>24&255),N=0,B=0):(N=j>>>24,B+=2)}if(E<A.length)for(A[E++]=N;E<A.length;)A[E++]=0},l.prototype._toArrayLikeBE=function(A,_){for(var E=A.length-1,N=0,k=0,B=0;k<this.length;k++){var j=this.words[k]<<B|N;A[E--]=255&j,E>=0&&(A[E--]=j>>8&255),E>=0&&(A[E--]=j>>16&255),B===6?(E>=0&&(A[E--]=j>>24&255),N=0,B=0):(N=j>>>24,B+=2)}if(E>=0)for(A[E--]=N;E>=0;)A[E--]=0},Math.clz32?l.prototype._countBits=function(A){return 32-Math.clz32(A)}:l.prototype._countBits=function(A){var _=A,E=0;return _>=4096&&(E+=13,_>>>=13),_>=64&&(E+=7,_>>>=7),_>=8&&(E+=4,_>>>=4),_>=2&&(E+=2,_>>>=2),E+_},l.prototype._zeroBits=function(A){if(A===0)return 26;var _=A,E=0;return!(8191&_)&&(E+=13,_>>>=13),!(127&_)&&(E+=7,_>>>=7),!(15&_)&&(E+=4,_>>>=4),!(3&_)&&(E+=2,_>>>=2),!(1&_)&&E++,E},l.prototype.bitLength=function(){var A=this.words[this.length-1],_=this._countBits(A);return 26*(this.length-1)+_},l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var A=0,_=0;_<this.length;_++){var E=this._zeroBits(this.words[_]);if(A+=E,E!==26)break}return A},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(A){return this.negative!==0?this.abs().inotn(A).iaddn(1):this.clone()},l.prototype.fromTwos=function(A){return this.testn(A-1)?this.notn(A).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(A){for(;this.length<A.length;)this.words[this.length++]=0;for(var _=0;_<A.length;_++)this.words[_]=this.words[_]|A.words[_];return this._strip()},l.prototype.ior=function(A){return u((this.negative|A.negative)==0),this.iuor(A)},l.prototype.or=function(A){return this.length>A.length?this.clone().ior(A):A.clone().ior(this)},l.prototype.uor=function(A){return this.length>A.length?this.clone().iuor(A):A.clone().iuor(this)},l.prototype.iuand=function(A){var _;_=this.length>A.length?A:this;for(var E=0;E<_.length;E++)this.words[E]=this.words[E]&A.words[E];return this.length=_.length,this._strip()},l.prototype.iand=function(A){return u((this.negative|A.negative)==0),this.iuand(A)},l.prototype.and=function(A){return this.length>A.length?this.clone().iand(A):A.clone().iand(this)},l.prototype.uand=function(A){return this.length>A.length?this.clone().iuand(A):A.clone().iuand(this)},l.prototype.iuxor=function(A){var _,E;this.length>A.length?(_=this,E=A):(_=A,E=this);for(var N=0;N<E.length;N++)this.words[N]=_.words[N]^E.words[N];if(this!==_)for(;N<_.length;N++)this.words[N]=_.words[N];return this.length=_.length,this._strip()},l.prototype.ixor=function(A){return u((this.negative|A.negative)==0),this.iuxor(A)},l.prototype.xor=function(A){return this.length>A.length?this.clone().ixor(A):A.clone().ixor(this)},l.prototype.uxor=function(A){return this.length>A.length?this.clone().iuxor(A):A.clone().iuxor(this)},l.prototype.inotn=function(A){u(typeof A=="number"&&A>=0);var _=0|Math.ceil(A/26),E=A%26;this._expand(_),E>0&&_--;for(var N=0;N<_;N++)this.words[N]=67108863&~this.words[N];return E>0&&(this.words[N]=~this.words[N]&67108863>>26-E),this._strip()},l.prototype.notn=function(A){return this.clone().inotn(A)},l.prototype.setn=function(A,_){u(typeof A=="number"&&A>=0);var E=A/26|0,N=A%26;return this._expand(E+1),this.words[E]=_?this.words[E]|1<<N:this.words[E]&~(1<<N),this._strip()},l.prototype.iadd=function(A){var _,E,N;if(this.negative!==0&&A.negative===0)return this.negative=0,_=this.isub(A),this.negative^=1,this._normSign();if(this.negative===0&&A.negative!==0)return A.negative=0,_=this.isub(A),A.negative=1,_._normSign();this.length>A.length?(E=this,N=A):(E=A,N=this);for(var k=0,B=0;B<N.length;B++)_=(0|E.words[B])+(0|N.words[B])+k,this.words[B]=67108863&_,k=_>>>26;for(;k!==0&&B<E.length;B++)_=(0|E.words[B])+k,this.words[B]=67108863&_,k=_>>>26;if(this.length=E.length,k!==0)this.words[this.length]=k,this.length++;else if(E!==this)for(;B<E.length;B++)this.words[B]=E.words[B];return this},l.prototype.add=function(A){var _;return A.negative!==0&&this.negative===0?(A.negative=0,_=this.sub(A),A.negative^=1,_):A.negative===0&&this.negative!==0?(this.negative=0,_=A.sub(this),this.negative=1,_):this.length>A.length?this.clone().iadd(A):A.clone().iadd(this)},l.prototype.isub=function(A){if(A.negative!==0){A.negative=0;var _=this.iadd(A);return A.negative=1,_._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(A),this.negative=1,this._normSign();var E,N,k=this.cmp(A);if(k===0)return this.negative=0,this.length=1,this.words[0]=0,this;k>0?(E=this,N=A):(E=A,N=this);for(var B=0,j=0;j<N.length;j++)B=(_=(0|E.words[j])-(0|N.words[j])+B)>>26,this.words[j]=67108863&_;for(;B!==0&&j<E.length;j++)B=(_=(0|E.words[j])+B)>>26,this.words[j]=67108863&_;if(B===0&&j<E.length&&E!==this)for(;j<E.length;j++)this.words[j]=E.words[j];return this.length=Math.max(this.length,j),E!==this&&(this.negative=1),this._strip()},l.prototype.sub=function(A){return this.clone().isub(A)};var S=function(A,_,E){var N,k,B,j=A.words,M=_.words,G=E.words,Y=0,J=0|j[0],V=8191&J,Q=J>>>13,q=0|j[1],z=8191&q,Z=q>>>13,re=0|j[2],le=8191&re,ue=re>>>13,ce=0|j[3],ie=8191&ce,ye=ce>>>13,he=0|j[4],pe=8191&he,xe=he>>>13,Oe=0|j[5],Ae=8191&Oe,Le=Oe>>>13,He=0|j[6],Ye=8191&He,it=He>>>13,bt=0|j[7],tt=8191&bt,$e=bt>>>13,at=0|j[8],ze=8191&at,wt=at>>>13,vt=0|j[9],kt=8191&vt,pt=vt>>>13,At=0|M[0],$t=8191&At,Tt=At>>>13,fr=0|M[1],ur=8191&fr,er=fr>>>13,Sr=0|M[2],tr=8191&Sr,Wt=Sr>>>13,or=0|M[3],Ir=8191&or,Jt=or>>>13,wr=0|M[4],Lr=8191&wr,Lt=wr>>>13,Er=0|M[5],Cr=8191&Er,lr=Er>>>13,qe=0|M[6],rt=8191&qe,fe=qe>>>13,Ee=0|M[7],Se=8191&Ee,we=Ee>>>13,Pe=0|M[8],Re=8191&Pe,Ve=Pe>>>13,ot=0|M[9],Ke=8191&ot,et=ot>>>13;E.negative=A.negative^_.negative,E.length=19;var ct=(Y+(N=Math.imul(V,$t))|0)+((8191&(k=(k=Math.imul(V,Tt))+Math.imul(Q,$t)|0))<<13)|0;Y=((B=Math.imul(Q,Tt))+(k>>>13)|0)+(ct>>>26)|0,ct&=67108863,N=Math.imul(z,$t),k=(k=Math.imul(z,Tt))+Math.imul(Z,$t)|0,B=Math.imul(Z,Tt);var Nt=(Y+(N=N+Math.imul(V,ur)|0)|0)+((8191&(k=(k=k+Math.imul(V,er)|0)+Math.imul(Q,ur)|0))<<13)|0;Y=((B=B+Math.imul(Q,er)|0)+(k>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,N=Math.imul(le,$t),k=(k=Math.imul(le,Tt))+Math.imul(ue,$t)|0,B=Math.imul(ue,Tt),N=N+Math.imul(z,ur)|0,k=(k=k+Math.imul(z,er)|0)+Math.imul(Z,ur)|0,B=B+Math.imul(Z,er)|0;var Ft=(Y+(N=N+Math.imul(V,tr)|0)|0)+((8191&(k=(k=k+Math.imul(V,Wt)|0)+Math.imul(Q,tr)|0))<<13)|0;Y=((B=B+Math.imul(Q,Wt)|0)+(k>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,N=Math.imul(ie,$t),k=(k=Math.imul(ie,Tt))+Math.imul(ye,$t)|0,B=Math.imul(ye,Tt),N=N+Math.imul(le,ur)|0,k=(k=k+Math.imul(le,er)|0)+Math.imul(ue,ur)|0,B=B+Math.imul(ue,er)|0,N=N+Math.imul(z,tr)|0,k=(k=k+Math.imul(z,Wt)|0)+Math.imul(Z,tr)|0,B=B+Math.imul(Z,Wt)|0;var zt=(Y+(N=N+Math.imul(V,Ir)|0)|0)+((8191&(k=(k=k+Math.imul(V,Jt)|0)+Math.imul(Q,Ir)|0))<<13)|0;Y=((B=B+Math.imul(Q,Jt)|0)+(k>>>13)|0)+(zt>>>26)|0,zt&=67108863,N=Math.imul(pe,$t),k=(k=Math.imul(pe,Tt))+Math.imul(xe,$t)|0,B=Math.imul(xe,Tt),N=N+Math.imul(ie,ur)|0,k=(k=k+Math.imul(ie,er)|0)+Math.imul(ye,ur)|0,B=B+Math.imul(ye,er)|0,N=N+Math.imul(le,tr)|0,k=(k=k+Math.imul(le,Wt)|0)+Math.imul(ue,tr)|0,B=B+Math.imul(ue,Wt)|0,N=N+Math.imul(z,Ir)|0,k=(k=k+Math.imul(z,Jt)|0)+Math.imul(Z,Ir)|0,B=B+Math.imul(Z,Jt)|0;var Rt=(Y+(N=N+Math.imul(V,Lr)|0)|0)+((8191&(k=(k=k+Math.imul(V,Lt)|0)+Math.imul(Q,Lr)|0))<<13)|0;Y=((B=B+Math.imul(Q,Lt)|0)+(k>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,N=Math.imul(Ae,$t),k=(k=Math.imul(Ae,Tt))+Math.imul(Le,$t)|0,B=Math.imul(Le,Tt),N=N+Math.imul(pe,ur)|0,k=(k=k+Math.imul(pe,er)|0)+Math.imul(xe,ur)|0,B=B+Math.imul(xe,er)|0,N=N+Math.imul(ie,tr)|0,k=(k=k+Math.imul(ie,Wt)|0)+Math.imul(ye,tr)|0,B=B+Math.imul(ye,Wt)|0,N=N+Math.imul(le,Ir)|0,k=(k=k+Math.imul(le,Jt)|0)+Math.imul(ue,Ir)|0,B=B+Math.imul(ue,Jt)|0,N=N+Math.imul(z,Lr)|0,k=(k=k+Math.imul(z,Lt)|0)+Math.imul(Z,Lr)|0,B=B+Math.imul(Z,Lt)|0;var ke=(Y+(N=N+Math.imul(V,Cr)|0)|0)+((8191&(k=(k=k+Math.imul(V,lr)|0)+Math.imul(Q,Cr)|0))<<13)|0;Y=((B=B+Math.imul(Q,lr)|0)+(k>>>13)|0)+(ke>>>26)|0,ke&=67108863,N=Math.imul(Ye,$t),k=(k=Math.imul(Ye,Tt))+Math.imul(it,$t)|0,B=Math.imul(it,Tt),N=N+Math.imul(Ae,ur)|0,k=(k=k+Math.imul(Ae,er)|0)+Math.imul(Le,ur)|0,B=B+Math.imul(Le,er)|0,N=N+Math.imul(pe,tr)|0,k=(k=k+Math.imul(pe,Wt)|0)+Math.imul(xe,tr)|0,B=B+Math.imul(xe,Wt)|0,N=N+Math.imul(ie,Ir)|0,k=(k=k+Math.imul(ie,Jt)|0)+Math.imul(ye,Ir)|0,B=B+Math.imul(ye,Jt)|0,N=N+Math.imul(le,Lr)|0,k=(k=k+Math.imul(le,Lt)|0)+Math.imul(ue,Lr)|0,B=B+Math.imul(ue,Lt)|0,N=N+Math.imul(z,Cr)|0,k=(k=k+Math.imul(z,lr)|0)+Math.imul(Z,Cr)|0,B=B+Math.imul(Z,lr)|0;var Ge=(Y+(N=N+Math.imul(V,rt)|0)|0)+((8191&(k=(k=k+Math.imul(V,fe)|0)+Math.imul(Q,rt)|0))<<13)|0;Y=((B=B+Math.imul(Q,fe)|0)+(k>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,N=Math.imul(tt,$t),k=(k=Math.imul(tt,Tt))+Math.imul($e,$t)|0,B=Math.imul($e,Tt),N=N+Math.imul(Ye,ur)|0,k=(k=k+Math.imul(Ye,er)|0)+Math.imul(it,ur)|0,B=B+Math.imul(it,er)|0,N=N+Math.imul(Ae,tr)|0,k=(k=k+Math.imul(Ae,Wt)|0)+Math.imul(Le,tr)|0,B=B+Math.imul(Le,Wt)|0,N=N+Math.imul(pe,Ir)|0,k=(k=k+Math.imul(pe,Jt)|0)+Math.imul(xe,Ir)|0,B=B+Math.imul(xe,Jt)|0,N=N+Math.imul(ie,Lr)|0,k=(k=k+Math.imul(ie,Lt)|0)+Math.imul(ye,Lr)|0,B=B+Math.imul(ye,Lt)|0,N=N+Math.imul(le,Cr)|0,k=(k=k+Math.imul(le,lr)|0)+Math.imul(ue,Cr)|0,B=B+Math.imul(ue,lr)|0,N=N+Math.imul(z,rt)|0,k=(k=k+Math.imul(z,fe)|0)+Math.imul(Z,rt)|0,B=B+Math.imul(Z,fe)|0;var mt=(Y+(N=N+Math.imul(V,Se)|0)|0)+((8191&(k=(k=k+Math.imul(V,we)|0)+Math.imul(Q,Se)|0))<<13)|0;Y=((B=B+Math.imul(Q,we)|0)+(k>>>13)|0)+(mt>>>26)|0,mt&=67108863,N=Math.imul(ze,$t),k=(k=Math.imul(ze,Tt))+Math.imul(wt,$t)|0,B=Math.imul(wt,Tt),N=N+Math.imul(tt,ur)|0,k=(k=k+Math.imul(tt,er)|0)+Math.imul($e,ur)|0,B=B+Math.imul($e,er)|0,N=N+Math.imul(Ye,tr)|0,k=(k=k+Math.imul(Ye,Wt)|0)+Math.imul(it,tr)|0,B=B+Math.imul(it,Wt)|0,N=N+Math.imul(Ae,Ir)|0,k=(k=k+Math.imul(Ae,Jt)|0)+Math.imul(Le,Ir)|0,B=B+Math.imul(Le,Jt)|0,N=N+Math.imul(pe,Lr)|0,k=(k=k+Math.imul(pe,Lt)|0)+Math.imul(xe,Lr)|0,B=B+Math.imul(xe,Lt)|0,N=N+Math.imul(ie,Cr)|0,k=(k=k+Math.imul(ie,lr)|0)+Math.imul(ye,Cr)|0,B=B+Math.imul(ye,lr)|0,N=N+Math.imul(le,rt)|0,k=(k=k+Math.imul(le,fe)|0)+Math.imul(ue,rt)|0,B=B+Math.imul(ue,fe)|0,N=N+Math.imul(z,Se)|0,k=(k=k+Math.imul(z,we)|0)+Math.imul(Z,Se)|0,B=B+Math.imul(Z,we)|0;var Et=(Y+(N=N+Math.imul(V,Re)|0)|0)+((8191&(k=(k=k+Math.imul(V,Ve)|0)+Math.imul(Q,Re)|0))<<13)|0;Y=((B=B+Math.imul(Q,Ve)|0)+(k>>>13)|0)+(Et>>>26)|0,Et&=67108863,N=Math.imul(kt,$t),k=(k=Math.imul(kt,Tt))+Math.imul(pt,$t)|0,B=Math.imul(pt,Tt),N=N+Math.imul(ze,ur)|0,k=(k=k+Math.imul(ze,er)|0)+Math.imul(wt,ur)|0,B=B+Math.imul(wt,er)|0,N=N+Math.imul(tt,tr)|0,k=(k=k+Math.imul(tt,Wt)|0)+Math.imul($e,tr)|0,B=B+Math.imul($e,Wt)|0,N=N+Math.imul(Ye,Ir)|0,k=(k=k+Math.imul(Ye,Jt)|0)+Math.imul(it,Ir)|0,B=B+Math.imul(it,Jt)|0,N=N+Math.imul(Ae,Lr)|0,k=(k=k+Math.imul(Ae,Lt)|0)+Math.imul(Le,Lr)|0,B=B+Math.imul(Le,Lt)|0,N=N+Math.imul(pe,Cr)|0,k=(k=k+Math.imul(pe,lr)|0)+Math.imul(xe,Cr)|0,B=B+Math.imul(xe,lr)|0,N=N+Math.imul(ie,rt)|0,k=(k=k+Math.imul(ie,fe)|0)+Math.imul(ye,rt)|0,B=B+Math.imul(ye,fe)|0,N=N+Math.imul(le,Se)|0,k=(k=k+Math.imul(le,we)|0)+Math.imul(ue,Se)|0,B=B+Math.imul(ue,we)|0,N=N+Math.imul(z,Re)|0,k=(k=k+Math.imul(z,Ve)|0)+Math.imul(Z,Re)|0,B=B+Math.imul(Z,Ve)|0;var Yt=(Y+(N=N+Math.imul(V,Ke)|0)|0)+((8191&(k=(k=k+Math.imul(V,et)|0)+Math.imul(Q,Ke)|0))<<13)|0;Y=((B=B+Math.imul(Q,et)|0)+(k>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,N=Math.imul(kt,ur),k=(k=Math.imul(kt,er))+Math.imul(pt,ur)|0,B=Math.imul(pt,er),N=N+Math.imul(ze,tr)|0,k=(k=k+Math.imul(ze,Wt)|0)+Math.imul(wt,tr)|0,B=B+Math.imul(wt,Wt)|0,N=N+Math.imul(tt,Ir)|0,k=(k=k+Math.imul(tt,Jt)|0)+Math.imul($e,Ir)|0,B=B+Math.imul($e,Jt)|0,N=N+Math.imul(Ye,Lr)|0,k=(k=k+Math.imul(Ye,Lt)|0)+Math.imul(it,Lr)|0,B=B+Math.imul(it,Lt)|0,N=N+Math.imul(Ae,Cr)|0,k=(k=k+Math.imul(Ae,lr)|0)+Math.imul(Le,Cr)|0,B=B+Math.imul(Le,lr)|0,N=N+Math.imul(pe,rt)|0,k=(k=k+Math.imul(pe,fe)|0)+Math.imul(xe,rt)|0,B=B+Math.imul(xe,fe)|0,N=N+Math.imul(ie,Se)|0,k=(k=k+Math.imul(ie,we)|0)+Math.imul(ye,Se)|0,B=B+Math.imul(ye,we)|0,N=N+Math.imul(le,Re)|0,k=(k=k+Math.imul(le,Ve)|0)+Math.imul(ue,Re)|0,B=B+Math.imul(ue,Ve)|0;var Ht=(Y+(N=N+Math.imul(z,Ke)|0)|0)+((8191&(k=(k=k+Math.imul(z,et)|0)+Math.imul(Z,Ke)|0))<<13)|0;Y=((B=B+Math.imul(Z,et)|0)+(k>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,N=Math.imul(kt,tr),k=(k=Math.imul(kt,Wt))+Math.imul(pt,tr)|0,B=Math.imul(pt,Wt),N=N+Math.imul(ze,Ir)|0,k=(k=k+Math.imul(ze,Jt)|0)+Math.imul(wt,Ir)|0,B=B+Math.imul(wt,Jt)|0,N=N+Math.imul(tt,Lr)|0,k=(k=k+Math.imul(tt,Lt)|0)+Math.imul($e,Lr)|0,B=B+Math.imul($e,Lt)|0,N=N+Math.imul(Ye,Cr)|0,k=(k=k+Math.imul(Ye,lr)|0)+Math.imul(it,Cr)|0,B=B+Math.imul(it,lr)|0,N=N+Math.imul(Ae,rt)|0,k=(k=k+Math.imul(Ae,fe)|0)+Math.imul(Le,rt)|0,B=B+Math.imul(Le,fe)|0,N=N+Math.imul(pe,Se)|0,k=(k=k+Math.imul(pe,we)|0)+Math.imul(xe,Se)|0,B=B+Math.imul(xe,we)|0,N=N+Math.imul(ie,Re)|0,k=(k=k+Math.imul(ie,Ve)|0)+Math.imul(ye,Re)|0,B=B+Math.imul(ye,Ve)|0;var Vt=(Y+(N=N+Math.imul(le,Ke)|0)|0)+((8191&(k=(k=k+Math.imul(le,et)|0)+Math.imul(ue,Ke)|0))<<13)|0;Y=((B=B+Math.imul(ue,et)|0)+(k>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,N=Math.imul(kt,Ir),k=(k=Math.imul(kt,Jt))+Math.imul(pt,Ir)|0,B=Math.imul(pt,Jt),N=N+Math.imul(ze,Lr)|0,k=(k=k+Math.imul(ze,Lt)|0)+Math.imul(wt,Lr)|0,B=B+Math.imul(wt,Lt)|0,N=N+Math.imul(tt,Cr)|0,k=(k=k+Math.imul(tt,lr)|0)+Math.imul($e,Cr)|0,B=B+Math.imul($e,lr)|0,N=N+Math.imul(Ye,rt)|0,k=(k=k+Math.imul(Ye,fe)|0)+Math.imul(it,rt)|0,B=B+Math.imul(it,fe)|0,N=N+Math.imul(Ae,Se)|0,k=(k=k+Math.imul(Ae,we)|0)+Math.imul(Le,Se)|0,B=B+Math.imul(Le,we)|0,N=N+Math.imul(pe,Re)|0,k=(k=k+Math.imul(pe,Ve)|0)+Math.imul(xe,Re)|0,B=B+Math.imul(xe,Ve)|0;var Tr=(Y+(N=N+Math.imul(ie,Ke)|0)|0)+((8191&(k=(k=k+Math.imul(ie,et)|0)+Math.imul(ye,Ke)|0))<<13)|0;Y=((B=B+Math.imul(ye,et)|0)+(k>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,N=Math.imul(kt,Lr),k=(k=Math.imul(kt,Lt))+Math.imul(pt,Lr)|0,B=Math.imul(pt,Lt),N=N+Math.imul(ze,Cr)|0,k=(k=k+Math.imul(ze,lr)|0)+Math.imul(wt,Cr)|0,B=B+Math.imul(wt,lr)|0,N=N+Math.imul(tt,rt)|0,k=(k=k+Math.imul(tt,fe)|0)+Math.imul($e,rt)|0,B=B+Math.imul($e,fe)|0,N=N+Math.imul(Ye,Se)|0,k=(k=k+Math.imul(Ye,we)|0)+Math.imul(it,Se)|0,B=B+Math.imul(it,we)|0,N=N+Math.imul(Ae,Re)|0,k=(k=k+Math.imul(Ae,Ve)|0)+Math.imul(Le,Re)|0,B=B+Math.imul(Le,Ve)|0;var vr=(Y+(N=N+Math.imul(pe,Ke)|0)|0)+((8191&(k=(k=k+Math.imul(pe,et)|0)+Math.imul(xe,Ke)|0))<<13)|0;Y=((B=B+Math.imul(xe,et)|0)+(k>>>13)|0)+(vr>>>26)|0,vr&=67108863,N=Math.imul(kt,Cr),k=(k=Math.imul(kt,lr))+Math.imul(pt,Cr)|0,B=Math.imul(pt,lr),N=N+Math.imul(ze,rt)|0,k=(k=k+Math.imul(ze,fe)|0)+Math.imul(wt,rt)|0,B=B+Math.imul(wt,fe)|0,N=N+Math.imul(tt,Se)|0,k=(k=k+Math.imul(tt,we)|0)+Math.imul($e,Se)|0,B=B+Math.imul($e,we)|0,N=N+Math.imul(Ye,Re)|0,k=(k=k+Math.imul(Ye,Ve)|0)+Math.imul(it,Re)|0,B=B+Math.imul(it,Ve)|0;var Nr=(Y+(N=N+Math.imul(Ae,Ke)|0)|0)+((8191&(k=(k=k+Math.imul(Ae,et)|0)+Math.imul(Le,Ke)|0))<<13)|0;Y=((B=B+Math.imul(Le,et)|0)+(k>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,N=Math.imul(kt,rt),k=(k=Math.imul(kt,fe))+Math.imul(pt,rt)|0,B=Math.imul(pt,fe),N=N+Math.imul(ze,Se)|0,k=(k=k+Math.imul(ze,we)|0)+Math.imul(wt,Se)|0,B=B+Math.imul(wt,we)|0,N=N+Math.imul(tt,Re)|0,k=(k=k+Math.imul(tt,Ve)|0)+Math.imul($e,Re)|0,B=B+Math.imul($e,Ve)|0;var ir=(Y+(N=N+Math.imul(Ye,Ke)|0)|0)+((8191&(k=(k=k+Math.imul(Ye,et)|0)+Math.imul(it,Ke)|0))<<13)|0;Y=((B=B+Math.imul(it,et)|0)+(k>>>13)|0)+(ir>>>26)|0,ir&=67108863,N=Math.imul(kt,Se),k=(k=Math.imul(kt,we))+Math.imul(pt,Se)|0,B=Math.imul(pt,we),N=N+Math.imul(ze,Re)|0,k=(k=k+Math.imul(ze,Ve)|0)+Math.imul(wt,Re)|0,B=B+Math.imul(wt,Ve)|0;var _r=(Y+(N=N+Math.imul(tt,Ke)|0)|0)+((8191&(k=(k=k+Math.imul(tt,et)|0)+Math.imul($e,Ke)|0))<<13)|0;Y=((B=B+Math.imul($e,et)|0)+(k>>>13)|0)+(_r>>>26)|0,_r&=67108863,N=Math.imul(kt,Re),k=(k=Math.imul(kt,Ve))+Math.imul(pt,Re)|0,B=Math.imul(pt,Ve);var nn=(Y+(N=N+Math.imul(ze,Ke)|0)|0)+((8191&(k=(k=k+Math.imul(ze,et)|0)+Math.imul(wt,Ke)|0))<<13)|0;Y=((B=B+Math.imul(wt,et)|0)+(k>>>13)|0)+(nn>>>26)|0,nn&=67108863;var sn=(Y+(N=Math.imul(kt,Ke))|0)+((8191&(k=(k=Math.imul(kt,et))+Math.imul(pt,Ke)|0))<<13)|0;return Y=((B=Math.imul(pt,et))+(k>>>13)|0)+(sn>>>26)|0,sn&=67108863,G[0]=ct,G[1]=Nt,G[2]=Ft,G[3]=zt,G[4]=Rt,G[5]=ke,G[6]=Ge,G[7]=mt,G[8]=Et,G[9]=Yt,G[10]=Ht,G[11]=Vt,G[12]=Tr,G[13]=vr,G[14]=Nr,G[15]=ir,G[16]=_r,G[17]=nn,G[18]=sn,Y!==0&&(G[19]=Y,E.length++),E};function D(A,_,E){E.negative=_.negative^A.negative,E.length=A.length+_.length;for(var N=0,k=0,B=0;B<E.length-1;B++){var j=k;k=0;for(var M=67108863&N,G=Math.min(B,_.length-1),Y=Math.max(0,B-A.length+1);Y<=G;Y++){var J=B-Y,V=(0|A.words[J])*(0|_.words[Y]),Q=67108863&V;M=67108863&(Q=Q+M|0),k+=(j=(j=j+(V/67108864|0)|0)+(Q>>>26)|0)>>>26,j&=67108863}E.words[B]=M,N=j,j=k}return N!==0?E.words[B]=N:E.length--,E._strip()}function T(A,_,E){return D(A,_,E)}Math.imul||(S=w),l.prototype.mulTo=function(A,_){var E=this.length+A.length;return this.length===10&&A.length===10?S(this,A,_):E<63?w(this,A,_):E<1024?D(this,A,_):T(this,A,_)},l.prototype.mul=function(A){var _=new l(null);return _.words=new Array(this.length+A.length),this.mulTo(A,_)},l.prototype.mulf=function(A){var _=new l(null);return _.words=new Array(this.length+A.length),T(this,A,_)},l.prototype.imul=function(A){return this.clone().mulTo(A,this)},l.prototype.imuln=function(A){var _=A<0;_&&(A=-A),u(typeof A=="number"),u(A<67108864);for(var E=0,N=0;N<this.length;N++){var k=(0|this.words[N])*A,B=(67108863&k)+(67108863&E);E>>=26,E+=k/67108864|0,E+=B>>>26,this.words[N]=67108863&B}return E!==0&&(this.words[N]=E,this.length++),_?this.ineg():this},l.prototype.muln=function(A){return this.clone().imuln(A)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(A){var _=function(B){for(var j=new Array(B.bitLength()),M=0;M<j.length;M++){var G=M/26|0,Y=M%26;j[M]=B.words[G]>>>Y&1}return j}(A);if(_.length===0)return new l(1);for(var E=this,N=0;N<_.length&&_[N]===0;N++,E=E.sqr());if(++N<_.length)for(var k=E.sqr();N<_.length;N++,k=k.sqr())_[N]!==0&&(E=E.mul(k));return E},l.prototype.iushln=function(A){u(typeof A=="number"&&A>=0);var _,E=A%26,N=(A-E)/26,k=67108863>>>26-E<<26-E;if(E!==0){var B=0;for(_=0;_<this.length;_++){var j=this.words[_]&k,M=(0|this.words[_])-j<<E;this.words[_]=M|B,B=j>>>26-E}B&&(this.words[_]=B,this.length++)}if(N!==0){for(_=this.length-1;_>=0;_--)this.words[_+N]=this.words[_];for(_=0;_<N;_++)this.words[_]=0;this.length+=N}return this._strip()},l.prototype.ishln=function(A){return u(this.negative===0),this.iushln(A)},l.prototype.iushrn=function(A,_,E){var N;u(typeof A=="number"&&A>=0),N=_?(_-_%26)/26:0;var k=A%26,B=Math.min((A-k)/26,this.length),j=67108863^67108863>>>k<<k,M=E;if(N-=B,N=Math.max(0,N),M){for(var G=0;G<B;G++)M.words[G]=this.words[G];M.length=B}if(B!==0)if(this.length>B)for(this.length-=B,G=0;G<this.length;G++)this.words[G]=this.words[G+B];else this.words[0]=0,this.length=1;var Y=0;for(G=this.length-1;G>=0&&(Y!==0||G>=N);G--){var J=0|this.words[G];this.words[G]=Y<<26-k|J>>>k,Y=J&j}return M&&Y!==0&&(M.words[M.length++]=Y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},l.prototype.ishrn=function(A,_,E){return u(this.negative===0),this.iushrn(A,_,E)},l.prototype.shln=function(A){return this.clone().ishln(A)},l.prototype.ushln=function(A){return this.clone().iushln(A)},l.prototype.shrn=function(A){return this.clone().ishrn(A)},l.prototype.ushrn=function(A){return this.clone().iushrn(A)},l.prototype.testn=function(A){u(typeof A=="number"&&A>=0);var _=A%26,E=(A-_)/26,N=1<<_;return!(this.length<=E)&&!!(this.words[E]&N)},l.prototype.imaskn=function(A){u(typeof A=="number"&&A>=0);var _=A%26,E=(A-_)/26;if(u(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(_!==0&&E++,this.length=Math.min(E,this.length),_!==0){var N=67108863^67108863>>>_<<_;this.words[this.length-1]&=N}return this._strip()},l.prototype.maskn=function(A){return this.clone().imaskn(A)},l.prototype.iaddn=function(A){return u(typeof A=="number"),u(A<67108864),A<0?this.isubn(-A):this.negative!==0?this.length===1&&(0|this.words[0])<=A?(this.words[0]=A-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(A),this.negative=1,this):this._iaddn(A)},l.prototype._iaddn=function(A){this.words[0]+=A;for(var _=0;_<this.length&&this.words[_]>=67108864;_++)this.words[_]-=67108864,_===this.length-1?this.words[_+1]=1:this.words[_+1]++;return this.length=Math.max(this.length,_+1),this},l.prototype.isubn=function(A){if(u(typeof A=="number"),u(A<67108864),A<0)return this.iaddn(-A);if(this.negative!==0)return this.negative=0,this.iaddn(A),this.negative=1,this;if(this.words[0]-=A,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _=0;_<this.length&&this.words[_]<0;_++)this.words[_]+=67108864,this.words[_+1]-=1;return this._strip()},l.prototype.addn=function(A){return this.clone().iaddn(A)},l.prototype.subn=function(A){return this.clone().isubn(A)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(A,_,E){var N,k,B=A.length+E;this._expand(B);var j=0;for(N=0;N<A.length;N++){k=(0|this.words[N+E])+j;var M=(0|A.words[N])*_;j=((k-=67108863&M)>>26)-(M/67108864|0),this.words[N+E]=67108863&k}for(;N<this.length-E;N++)j=(k=(0|this.words[N+E])+j)>>26,this.words[N+E]=67108863&k;if(j===0)return this._strip();for(u(j===-1),j=0,N=0;N<this.length;N++)j=(k=-(0|this.words[N])+j)>>26,this.words[N]=67108863&k;return this.negative=1,this._strip()},l.prototype._wordDiv=function(A,_){var E=(this.length,A.length),N=this.clone(),k=A,B=0|k.words[k.length-1];(E=26-this._countBits(B))!==0&&(k=k.ushln(E),N.iushln(E),B=0|k.words[k.length-1]);var j,M=N.length-k.length;if(_!=="mod"){(j=new l(null)).length=M+1,j.words=new Array(j.length);for(var G=0;G<j.length;G++)j.words[G]=0}var Y=N.clone()._ishlnsubmul(k,1,M);Y.negative===0&&(N=Y,j&&(j.words[M]=1));for(var J=M-1;J>=0;J--){var V=67108864*(0|N.words[k.length+J])+(0|N.words[k.length+J-1]);for(V=Math.min(V/B|0,67108863),N._ishlnsubmul(k,V,J);N.negative!==0;)V--,N.negative=0,N._ishlnsubmul(k,1,J),N.isZero()||(N.negative^=1);j&&(j.words[J]=V)}return j&&j._strip(),N._strip(),_!=="div"&&E!==0&&N.iushrn(E),{div:j||null,mod:N}},l.prototype.divmod=function(A,_,E){return u(!A.isZero()),this.isZero()?{div:new l(0),mod:new l(0)}:this.negative!==0&&A.negative===0?(B=this.neg().divmod(A,_),_!=="mod"&&(N=B.div.neg()),_!=="div"&&(k=B.mod.neg(),E&&k.negative!==0&&k.iadd(A)),{div:N,mod:k}):this.negative===0&&A.negative!==0?(B=this.divmod(A.neg(),_),_!=="mod"&&(N=B.div.neg()),{div:N,mod:B.mod}):this.negative&A.negative?(B=this.neg().divmod(A.neg(),_),_!=="div"&&(k=B.mod.neg(),E&&k.negative!==0&&k.isub(A)),{div:B.div,mod:k}):A.length>this.length||this.cmp(A)<0?{div:new l(0),mod:this}:A.length===1?_==="div"?{div:this.divn(A.words[0]),mod:null}:_==="mod"?{div:null,mod:new l(this.modrn(A.words[0]))}:{div:this.divn(A.words[0]),mod:new l(this.modrn(A.words[0]))}:this._wordDiv(A,_);var N,k,B},l.prototype.div=function(A){return this.divmod(A,"div",!1).div},l.prototype.mod=function(A){return this.divmod(A,"mod",!1).mod},l.prototype.umod=function(A){return this.divmod(A,"mod",!0).mod},l.prototype.divRound=function(A){var _=this.divmod(A);if(_.mod.isZero())return _.div;var E=_.div.negative!==0?_.mod.isub(A):_.mod,N=A.ushrn(1),k=A.andln(1),B=E.cmp(N);return B<0||k===1&&B===0?_.div:_.div.negative!==0?_.div.isubn(1):_.div.iaddn(1)},l.prototype.modrn=function(A){var _=A<0;_&&(A=-A),u(A<=67108863);for(var E=(1<<26)%A,N=0,k=this.length-1;k>=0;k--)N=(E*N+(0|this.words[k]))%A;return _?-N:N},l.prototype.modn=function(A){return this.modrn(A)},l.prototype.idivn=function(A){var _=A<0;_&&(A=-A),u(A<=67108863);for(var E=0,N=this.length-1;N>=0;N--){var k=(0|this.words[N])+67108864*E;this.words[N]=k/A|0,E=k%A}return this._strip(),_?this.ineg():this},l.prototype.divn=function(A){return this.clone().idivn(A)},l.prototype.egcd=function(A){u(A.negative===0),u(!A.isZero());var _=this,E=A.clone();_=_.negative!==0?_.umod(A):_.clone();for(var N=new l(1),k=new l(0),B=new l(0),j=new l(1),M=0;_.isEven()&&E.isEven();)_.iushrn(1),E.iushrn(1),++M;for(var G=E.clone(),Y=_.clone();!_.isZero();){for(var J=0,V=1;!(_.words[0]&V)&&J<26;++J,V<<=1);if(J>0)for(_.iushrn(J);J-- >0;)(N.isOdd()||k.isOdd())&&(N.iadd(G),k.isub(Y)),N.iushrn(1),k.iushrn(1);for(var Q=0,q=1;!(E.words[0]&q)&&Q<26;++Q,q<<=1);if(Q>0)for(E.iushrn(Q);Q-- >0;)(B.isOdd()||j.isOdd())&&(B.iadd(G),j.isub(Y)),B.iushrn(1),j.iushrn(1);_.cmp(E)>=0?(_.isub(E),N.isub(B),k.isub(j)):(E.isub(_),B.isub(N),j.isub(k))}return{a:B,b:j,gcd:E.iushln(M)}},l.prototype._invmp=function(A){u(A.negative===0),u(!A.isZero());var _=this,E=A.clone();_=_.negative!==0?_.umod(A):_.clone();for(var N,k=new l(1),B=new l(0),j=E.clone();_.cmpn(1)>0&&E.cmpn(1)>0;){for(var M=0,G=1;!(_.words[0]&G)&&M<26;++M,G<<=1);if(M>0)for(_.iushrn(M);M-- >0;)k.isOdd()&&k.iadd(j),k.iushrn(1);for(var Y=0,J=1;!(E.words[0]&J)&&Y<26;++Y,J<<=1);if(Y>0)for(E.iushrn(Y);Y-- >0;)B.isOdd()&&B.iadd(j),B.iushrn(1);_.cmp(E)>=0?(_.isub(E),k.isub(B)):(E.isub(_),B.isub(k))}return(N=_.cmpn(1)===0?k:B).cmpn(0)<0&&N.iadd(A),N},l.prototype.gcd=function(A){if(this.isZero())return A.abs();if(A.isZero())return this.abs();var _=this.clone(),E=A.clone();_.negative=0,E.negative=0;for(var N=0;_.isEven()&&E.isEven();N++)_.iushrn(1),E.iushrn(1);for(;;){for(;_.isEven();)_.iushrn(1);for(;E.isEven();)E.iushrn(1);var k=_.cmp(E);if(k<0){var B=_;_=E,E=B}else if(k===0||E.cmpn(1)===0)break;_.isub(E)}return E.iushln(N)},l.prototype.invm=function(A){return this.egcd(A).a.umod(A)},l.prototype.isEven=function(){return(1&this.words[0])==0},l.prototype.isOdd=function(){return(1&this.words[0])==1},l.prototype.andln=function(A){return this.words[0]&A},l.prototype.bincn=function(A){u(typeof A=="number");var _=A%26,E=(A-_)/26,N=1<<_;if(this.length<=E)return this._expand(E+1),this.words[E]|=N,this;for(var k=N,B=E;k!==0&&B<this.length;B++){var j=0|this.words[B];k=(j+=k)>>>26,j&=67108863,this.words[B]=j}return k!==0&&(this.words[B]=k,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(A){var _,E=A<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;if(this._strip(),this.length>1)_=1;else{E&&(A=-A),u(A<=67108863,"Number is too big");var N=0|this.words[0];_=N===A?0:N<A?-1:1}return this.negative!==0?0|-_:_},l.prototype.cmp=function(A){if(this.negative!==0&&A.negative===0)return-1;if(this.negative===0&&A.negative!==0)return 1;var _=this.ucmp(A);return this.negative!==0?0|-_:_},l.prototype.ucmp=function(A){if(this.length>A.length)return 1;if(this.length<A.length)return-1;for(var _=0,E=this.length-1;E>=0;E--){var N=0|this.words[E],k=0|A.words[E];if(N!==k){N<k?_=-1:N>k&&(_=1);break}}return _},l.prototype.gtn=function(A){return this.cmpn(A)===1},l.prototype.gt=function(A){return this.cmp(A)===1},l.prototype.gten=function(A){return this.cmpn(A)>=0},l.prototype.gte=function(A){return this.cmp(A)>=0},l.prototype.ltn=function(A){return this.cmpn(A)===-1},l.prototype.lt=function(A){return this.cmp(A)===-1},l.prototype.lten=function(A){return this.cmpn(A)<=0},l.prototype.lte=function(A){return this.cmp(A)<=0},l.prototype.eqn=function(A){return this.cmpn(A)===0},l.prototype.eq=function(A){return this.cmp(A)===0},l.red=function(A){return new I(A)},l.prototype.toRed=function(A){return u(!this.red,"Already a number in reduction context"),u(this.negative===0,"red works only with positives"),A.convertTo(this)._forceRed(A)},l.prototype.fromRed=function(){return u(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(A){return this.red=A,this},l.prototype.forceRed=function(A){return u(!this.red,"Already a number in reduction context"),this._forceRed(A)},l.prototype.redAdd=function(A){return u(this.red,"redAdd works only with red numbers"),this.red.add(this,A)},l.prototype.redIAdd=function(A){return u(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,A)},l.prototype.redSub=function(A){return u(this.red,"redSub works only with red numbers"),this.red.sub(this,A)},l.prototype.redISub=function(A){return u(this.red,"redISub works only with red numbers"),this.red.isub(this,A)},l.prototype.redShl=function(A){return u(this.red,"redShl works only with red numbers"),this.red.shl(this,A)},l.prototype.redMul=function(A){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.mul(this,A)},l.prototype.redIMul=function(A){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.imul(this,A)},l.prototype.redSqr=function(){return u(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return u(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return u(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return u(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return u(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(A){return u(this.red&&!A.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,A)};var R={k256:null,p224:null,p192:null,p25519:null};function P(A,_){this.name=A,this.p=new l(_,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function L(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function O(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function H(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function U(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function I(A){if(typeof A=="string"){var _=l._prime(A);this.m=_.p,this.prime=_}else u(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}function F(A){I.call(this,A),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}P.prototype._tmp=function(){var A=new l(null);return A.words=new Array(Math.ceil(this.n/13)),A},P.prototype.ireduce=function(A){var _,E=A;do this.split(E,this.tmp),_=(E=(E=this.imulK(E)).iadd(this.tmp)).bitLength();while(_>this.n);var N=_<this.n?-1:E.ucmp(this.p);return N===0?(E.words[0]=0,E.length=1):N>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},P.prototype.split=function(A,_){A.iushrn(this.n,0,_)},P.prototype.imulK=function(A){return A.imul(this.k)},c(L,P),L.prototype.split=function(A,_){for(var E=Math.min(A.length,9),N=0;N<E;N++)_.words[N]=A.words[N];if(_.length=E,A.length<=9)return A.words[0]=0,void(A.length=1);var k=A.words[9];for(_.words[_.length++]=4194303&k,N=10;N<A.length;N++){var B=0|A.words[N];A.words[N-10]=(4194303&B)<<4|k>>>22,k=B}k>>>=22,A.words[N-10]=k,k===0&&A.length>10?A.length-=10:A.length-=9},L.prototype.imulK=function(A){A.words[A.length]=0,A.words[A.length+1]=0,A.length+=2;for(var _=0,E=0;E<A.length;E++){var N=0|A.words[E];_+=977*N,A.words[E]=67108863&_,_=64*N+(_/67108864|0)}return A.words[A.length-1]===0&&(A.length--,A.words[A.length-1]===0&&A.length--),A},c(O,P),c(H,P),c(U,P),U.prototype.imulK=function(A){for(var _=0,E=0;E<A.length;E++){var N=19*(0|A.words[E])+_,k=67108863&N;N>>>=26,A.words[E]=k,_=N}return _!==0&&(A.words[A.length++]=_),A},l._prime=function(A){if(R[A])return R[A];var _;if(A==="k256")_=new L;else if(A==="p224")_=new O;else if(A==="p192")_=new H;else{if(A!=="p25519")throw new Error("Unknown prime "+A);_=new U}return R[A]=_,_},I.prototype._verify1=function(A){u(A.negative===0,"red works only with positives"),u(A.red,"red works only with red numbers")},I.prototype._verify2=function(A,_){u((A.negative|_.negative)==0,"red works only with positives"),u(A.red&&A.red===_.red,"red works only with red numbers")},I.prototype.imod=function(A){return this.prime?this.prime.ireduce(A)._forceRed(this):(b(A,A.umod(this.m)._forceRed(this)),A)},I.prototype.neg=function(A){return A.isZero()?A.clone():this.m.sub(A)._forceRed(this)},I.prototype.add=function(A,_){this._verify2(A,_);var E=A.add(_);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},I.prototype.iadd=function(A,_){this._verify2(A,_);var E=A.iadd(_);return E.cmp(this.m)>=0&&E.isub(this.m),E},I.prototype.sub=function(A,_){this._verify2(A,_);var E=A.sub(_);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},I.prototype.isub=function(A,_){this._verify2(A,_);var E=A.isub(_);return E.cmpn(0)<0&&E.iadd(this.m),E},I.prototype.shl=function(A,_){return this._verify1(A),this.imod(A.ushln(_))},I.prototype.imul=function(A,_){return this._verify2(A,_),this.imod(A.imul(_))},I.prototype.mul=function(A,_){return this._verify2(A,_),this.imod(A.mul(_))},I.prototype.isqr=function(A){return this.imul(A,A.clone())},I.prototype.sqr=function(A){return this.mul(A,A)},I.prototype.sqrt=function(A){if(A.isZero())return A.clone();var _=this.m.andln(3);if(u(_%2==1),_===3){var E=this.m.add(new l(1)).iushrn(2);return this.pow(A,E)}for(var N=this.m.subn(1),k=0;!N.isZero()&&N.andln(1)===0;)k++,N.iushrn(1);u(!N.isZero());var B=new l(1).toRed(this),j=B.redNeg(),M=this.m.subn(1).iushrn(1),G=this.m.bitLength();for(G=new l(2*G*G).toRed(this);this.pow(G,M).cmp(j)!==0;)G.redIAdd(j);for(var Y=this.pow(G,N),J=this.pow(A,N.addn(1).iushrn(1)),V=this.pow(A,N),Q=k;V.cmp(B)!==0;){for(var q=V,z=0;q.cmp(B)!==0;z++)q=q.redSqr();u(z<Q);var Z=this.pow(Y,new l(1).iushln(Q-z-1));J=J.redMul(Z),Y=Z.redSqr(),V=V.redMul(Y),Q=z}return J},I.prototype.invm=function(A){var _=A._invmp(this.m);return _.negative!==0?(_.negative=0,this.imod(_).redNeg()):this.imod(_)},I.prototype.pow=function(A,_){if(_.isZero())return new l(1).toRed(this);if(_.cmpn(1)===0)return A.clone();var E=new Array(16);E[0]=new l(1).toRed(this),E[1]=A;for(var N=2;N<E.length;N++)E[N]=this.mul(E[N-1],A);var k=E[0],B=0,j=0,M=_.bitLength()%26;for(M===0&&(M=26),N=_.length-1;N>=0;N--){for(var G=_.words[N],Y=M-1;Y>=0;Y--){var J=G>>Y&1;k!==E[0]&&(k=this.sqr(k)),J!==0||B!==0?(B<<=1,B|=J,(++j===4||N===0&&Y===0)&&(k=this.mul(k,E[B]),j=0,B=0)):j=0}M=26}return k},I.prototype.convertTo=function(A){var _=A.umod(this.m);return _===A?_.clone():_},I.prototype.convertFrom=function(A){var _=A.clone();return _.red=null,_},l.mont=function(A){return new F(A)},c(F,I),F.prototype.convertTo=function(A){return this.imod(A.ushln(this.shift))},F.prototype.convertFrom=function(A){var _=this.imod(A.mul(this.rinv));return _.red=null,_},F.prototype.imul=function(A,_){if(A.isZero()||_.isZero())return A.words[0]=0,A.length=1,A;var E=A.imul(_),N=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=E.isub(N).iushrn(this.shift),B=k;return k.cmp(this.m)>=0?B=k.isub(this.m):k.cmpn(0)<0&&(B=k.iadd(this.m)),B._forceRed(this)},F.prototype.mul=function(A,_){if(A.isZero()||_.isZero())return new l(0)._forceRed(this);var E=A.mul(_),N=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=E.isub(N).iushrn(this.shift),B=k;return k.cmp(this.m)>=0?B=k.isub(this.m):k.cmpn(0)<0&&(B=k.iadd(this.m)),B._forceRed(this)},F.prototype.invm=function(A){return this.imod(A._invmp(this.m).mul(this.r2))._forceRed(this)}})(s===void 0||s)},{buffer:188}],187:[function(e,s,a){var i;function o(c){this.rand=c}if(s.exports=function(c){return i||(i=new o(null)),i.generate(c)},s.exports.Rand=o,o.prototype.generate=function(c){return this._rand(c)},o.prototype._rand=function(c){if(this.rand.getBytes)return this.rand.getBytes(c);for(var l=new Uint8Array(c),d=0;d<l.length;d++)l[d]=this.rand.getByte();return l},typeof self=="object")self.crypto&&self.crypto.getRandomValues?o.prototype._rand=function(c){var l=new Uint8Array(c);return self.crypto.getRandomValues(l),l}:self.msCrypto&&self.msCrypto.getRandomValues?o.prototype._rand=function(c){var l=new Uint8Array(c);return self.msCrypto.getRandomValues(l),l}:typeof window=="object"&&(o.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var u=e("crypto");if(typeof u.randomBytes!="function")throw new Error("Not supported");o.prototype._rand=function(c){return u.randomBytes(c)}}catch{}},{crypto:188}],188:[function(e,s,a){},{}],189:[function(e,s,a){var i=e("safe-buffer").Buffer;function o(h){i.isBuffer(h)||(h=i.from(h));for(var f=h.length/4|0,b=new Array(f),y=0;y<f;y++)b[y]=h.readUInt32BE(4*y);return b}function u(h){for(;0<h.length;h++)h[0]=0}function c(h,f,b,y,g){for(var x,v,w,S,D=b[0],T=b[1],R=b[2],P=b[3],L=h[0]^f[0],O=h[1]^f[1],H=h[2]^f[2],U=h[3]^f[3],I=4,F=1;F<g;F++)x=D[L>>>24]^T[O>>>16&255]^R[H>>>8&255]^P[255&U]^f[I++],v=D[O>>>24]^T[H>>>16&255]^R[U>>>8&255]^P[255&L]^f[I++],w=D[H>>>24]^T[U>>>16&255]^R[L>>>8&255]^P[255&O]^f[I++],S=D[U>>>24]^T[L>>>16&255]^R[O>>>8&255]^P[255&H]^f[I++],L=x,O=v,H=w,U=S;return x=(y[L>>>24]<<24|y[O>>>16&255]<<16|y[H>>>8&255]<<8|y[255&U])^f[I++],v=(y[O>>>24]<<24|y[H>>>16&255]<<16|y[U>>>8&255]<<8|y[255&L])^f[I++],w=(y[H>>>24]<<24|y[U>>>16&255]<<16|y[L>>>8&255]<<8|y[255&O])^f[I++],S=(y[U>>>24]<<24|y[L>>>16&255]<<16|y[O>>>8&255]<<8|y[255&H])^f[I++],[x>>>=0,v>>>=0,w>>>=0,S>>>=0]}var l=[0,1,2,4,8,16,32,64,128,27,54],d=function(){for(var h=new Array(256),f=0;f<256;f++)h[f]=f<128?f<<1:f<<1^283;for(var b=[],y=[],g=[[],[],[],[]],x=[[],[],[],[]],v=0,w=0,S=0;S<256;++S){var D=w^w<<1^w<<2^w<<3^w<<4;D=D>>>8^255&D^99,b[v]=D,y[D]=v;var T=h[v],R=h[T],P=h[R],L=257*h[D]^16843008*D;g[0][v]=L<<24|L>>>8,g[1][v]=L<<16|L>>>16,g[2][v]=L<<8|L>>>24,g[3][v]=L,L=16843009*P^65537*R^257*T^16843008*v,x[0][D]=L<<24|L>>>8,x[1][D]=L<<16|L>>>16,x[2][D]=L<<8|L>>>24,x[3][D]=L,v===0?v=w=1:(v=T^h[h[h[P^T]]],w^=h[h[w]])}return{SBOX:b,INV_SBOX:y,SUB_MIX:g,INV_SUB_MIX:x}}();function p(h){this._key=o(h),this._reset()}p.blockSize=16,p.keySize=32,p.prototype.blockSize=p.blockSize,p.prototype.keySize=p.keySize,p.prototype._reset=function(){for(var h=this._key,f=h.length,b=f+6,y=4*(b+1),g=[],x=0;x<f;x++)g[x]=h[x];for(x=f;x<y;x++){var v=g[x-1];x%f==0?(v=v<<8|v>>>24,v=d.SBOX[v>>>24]<<24|d.SBOX[v>>>16&255]<<16|d.SBOX[v>>>8&255]<<8|d.SBOX[255&v],v^=l[x/f|0]<<24):f>6&&x%f==4&&(v=d.SBOX[v>>>24]<<24|d.SBOX[v>>>16&255]<<16|d.SBOX[v>>>8&255]<<8|d.SBOX[255&v]),g[x]=g[x-f]^v}for(var w=[],S=0;S<y;S++){var D=y-S,T=g[D-(S%4?0:4)];w[S]=S<4||D<=4?T:d.INV_SUB_MIX[0][d.SBOX[T>>>24]]^d.INV_SUB_MIX[1][d.SBOX[T>>>16&255]]^d.INV_SUB_MIX[2][d.SBOX[T>>>8&255]]^d.INV_SUB_MIX[3][d.SBOX[255&T]]}this._nRounds=b,this._keySchedule=g,this._invKeySchedule=w},p.prototype.encryptBlockRaw=function(h){return c(h=o(h),this._keySchedule,d.SUB_MIX,d.SBOX,this._nRounds)},p.prototype.encryptBlock=function(h){var f=this.encryptBlockRaw(h),b=i.allocUnsafe(16);return b.writeUInt32BE(f[0],0),b.writeUInt32BE(f[1],4),b.writeUInt32BE(f[2],8),b.writeUInt32BE(f[3],12),b},p.prototype.decryptBlock=function(h){var f=(h=o(h))[1];h[1]=h[3],h[3]=f;var b=c(h,this._invKeySchedule,d.INV_SUB_MIX,d.INV_SBOX,this._nRounds),y=i.allocUnsafe(16);return y.writeUInt32BE(b[0],0),y.writeUInt32BE(b[3],4),y.writeUInt32BE(b[2],8),y.writeUInt32BE(b[1],12),y},p.prototype.scrub=function(){u(this._keySchedule),u(this._invKeySchedule),u(this._key)},s.exports.AES=p},{"safe-buffer":494}],190:[function(e,s,a){var i=e("./aes"),o=e("safe-buffer").Buffer,u=e("cipher-base"),c=e("inherits"),l=e("./ghash"),d=e("buffer-xor"),p=e("./incr32");function h(f,b,y,g){u.call(this);var x=o.alloc(4,0);this._cipher=new i.AES(b);var v=this._cipher.encryptBlock(x);this._ghash=new l(v),y=function(w,S,D){if(S.length===12)return w._finID=o.concat([S,o.from([0,0,0,1])]),o.concat([S,o.from([0,0,0,2])]);var T=new l(D),R=S.length,P=R%16;T.update(S),P&&(P=16-P,T.update(o.alloc(P,0))),T.update(o.alloc(8,0));var L=8*R,O=o.alloc(8);O.writeUIntBE(L,0,8),T.update(O),w._finID=T.state;var H=o.from(w._finID);return p(H),H}(this,y,v),this._prev=o.from(y),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=g,this._alen=0,this._len=0,this._mode=f,this._authTag=null,this._called=!1}c(h,u),h.prototype._update=function(f){if(!this._called&&this._alen){var b=16-this._alen%16;b<16&&(b=o.alloc(b,0),this._ghash.update(b))}this._called=!0;var y=this._mode.encrypt(this,f);return this._decrypt?this._ghash.update(f):this._ghash.update(y),this._len+=f.length,y},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var f=d(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(b,y){var g=0;b.length!==y.length&&g++;for(var x=Math.min(b.length,y.length),v=0;v<x;++v)g+=b[v]^y[v];return g}(f,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=f,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!o.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(f){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=f},h.prototype.setAAD=function(f){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(f),this._alen+=f.length},s.exports=h},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,s,a){var i=e("./encrypter"),o=e("./decrypter"),u=e("./modes/list.json");a.createCipher=a.Cipher=i.createCipher,a.createCipheriv=a.Cipheriv=i.createCipheriv,a.createDecipher=a.Decipher=o.createDecipher,a.createDecipheriv=a.Decipheriv=o.createDecipheriv,a.listCiphers=a.getCiphers=function(){return Object.keys(u)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,s,a){var i=e("./authCipher"),o=e("safe-buffer").Buffer,u=e("./modes"),c=e("./streamCipher"),l=e("cipher-base"),d=e("./aes"),p=e("evp_bytestokey");function h(y,g,x){l.call(this),this._cache=new f,this._last=void 0,this._cipher=new d.AES(g),this._prev=o.from(x),this._mode=y,this._autopadding=!0}function f(){this.cache=o.allocUnsafe(0)}function b(y,g,x){var v=u[y.toLowerCase()];if(!v)throw new TypeError("invalid suite type");if(typeof x=="string"&&(x=o.from(x)),v.mode!=="GCM"&&x.length!==v.iv)throw new TypeError("invalid iv length "+x.length);if(typeof g=="string"&&(g=o.from(g)),g.length!==v.key/8)throw new TypeError("invalid key length "+g.length);return v.type==="stream"?new c(v.module,g,x,!0):v.type==="auth"?new i(v.module,g,x,!0):new h(v.module,g,x)}e("inherits")(h,l),h.prototype._update=function(y){var g,x;this._cache.add(y);for(var v=[];g=this._cache.get(this._autopadding);)x=this._mode.decrypt(this,g),v.push(x);return o.concat(v)},h.prototype._final=function(){var y=this._cache.flush();if(this._autopadding)return function(g){var x=g[15];if(x<1||x>16)throw new Error("unable to decrypt data");for(var v=-1;++v<x;)if(g[v+(16-x)]!==x)throw new Error("unable to decrypt data");if(x!==16)return g.slice(0,16-x)}(this._mode.decrypt(this,y));if(y)throw new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(y){return this._autopadding=!!y,this},f.prototype.add=function(y){this.cache=o.concat([this.cache,y])},f.prototype.get=function(y){var g;if(y){if(this.cache.length>16)return g=this.cache.slice(0,16),this.cache=this.cache.slice(16),g}else if(this.cache.length>=16)return g=this.cache.slice(0,16),this.cache=this.cache.slice(16),g;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache},a.createDecipher=function(y,g){var x=u[y.toLowerCase()];if(!x)throw new TypeError("invalid suite type");var v=p(g,!1,x.key,x.iv);return b(y,v.key,v.iv)},a.createDecipheriv=b},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,s,a){var i=e("./modes"),o=e("./authCipher"),u=e("safe-buffer").Buffer,c=e("./streamCipher"),l=e("cipher-base"),d=e("./aes"),p=e("evp_bytestokey");function h(g,x,v){l.call(this),this._cache=new b,this._cipher=new d.AES(x),this._prev=u.from(v),this._mode=g,this._autopadding=!0}e("inherits")(h,l),h.prototype._update=function(g){var x,v;this._cache.add(g);for(var w=[];x=this._cache.get();)v=this._mode.encrypt(this,x),w.push(v);return u.concat(w)};var f=u.alloc(16,16);function b(){this.cache=u.allocUnsafe(0)}function y(g,x,v){var w=i[g.toLowerCase()];if(!w)throw new TypeError("invalid suite type");if(typeof x=="string"&&(x=u.from(x)),x.length!==w.key/8)throw new TypeError("invalid key length "+x.length);if(typeof v=="string"&&(v=u.from(v)),w.mode!=="GCM"&&v.length!==w.iv)throw new TypeError("invalid iv length "+v.length);return w.type==="stream"?new c(w.module,x,v):w.type==="auth"?new o(w.module,x,v):new h(w.module,x,v)}h.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return g=this._mode.encrypt(this,g),this._cipher.scrub(),g;if(!g.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this},b.prototype.add=function(g){this.cache=u.concat([this.cache,g])},b.prototype.get=function(){if(this.cache.length>15){var g=this.cache.slice(0,16);return this.cache=this.cache.slice(16),g}return null},b.prototype.flush=function(){for(var g=16-this.cache.length,x=u.allocUnsafe(g),v=-1;++v<g;)x.writeUInt8(g,v);return u.concat([this.cache,x])},a.createCipheriv=y,a.createCipher=function(g,x){var v=i[g.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var w=p(x,!1,v.key,v.iv);return y(g,w.key,w.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,s,a){var i=e("safe-buffer").Buffer,o=i.alloc(16,0);function u(l){var d=i.allocUnsafe(16);return d.writeUInt32BE(l[0]>>>0,0),d.writeUInt32BE(l[1]>>>0,4),d.writeUInt32BE(l[2]>>>0,8),d.writeUInt32BE(l[3]>>>0,12),d}function c(l){this.h=l,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}c.prototype.ghash=function(l){for(var d=-1;++d<l.length;)this.state[d]^=l[d];this._multiply()},c.prototype._multiply=function(){for(var l,d,p,h=[(l=this.h).readUInt32BE(0),l.readUInt32BE(4),l.readUInt32BE(8),l.readUInt32BE(12)],f=[0,0,0,0],b=-1;++b<128;){for(this.state[~~(b/8)]&1<<7-b%8&&(f[0]^=h[0],f[1]^=h[1],f[2]^=h[2],f[3]^=h[3]),p=(1&h[3])!=0,d=3;d>0;d--)h[d]=h[d]>>>1|(1&h[d-1])<<31;h[0]=h[0]>>>1,p&&(h[0]=h[0]^225<<24)}this.state=u(f)},c.prototype.update=function(l){var d;for(this.cache=i.concat([this.cache,l]);this.cache.length>=16;)d=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(d)},c.prototype.final=function(l,d){return this.cache.length&&this.ghash(i.concat([this.cache,o],16)),this.ghash(u([0,l,0,d])),this.state},s.exports=c},{"safe-buffer":494}],195:[function(e,s,a){s.exports=function(i){for(var o,u=i.length;u--;){if((o=i.readUInt8(u))!==255){o++,i.writeUInt8(o,u);break}i.writeUInt8(0,u)}}},{}],196:[function(e,s,a){var i=e("buffer-xor");a.encrypt=function(o,u){var c=i(u,o._prev);return o._prev=o._cipher.encryptBlock(c),o._prev},a.decrypt=function(o,u){var c=o._prev;o._prev=u;var l=o._cipher.decryptBlock(u);return i(l,c)}},{"buffer-xor":219}],197:[function(e,s,a){var i=e("safe-buffer").Buffer,o=e("buffer-xor");function u(c,l,d){var p=l.length,h=o(l,c._cache);return c._cache=c._cache.slice(p),c._prev=i.concat([c._prev,d?l:h]),h}a.encrypt=function(c,l,d){for(var p,h=i.allocUnsafe(0);l.length;){if(c._cache.length===0&&(c._cache=c._cipher.encryptBlock(c._prev),c._prev=i.allocUnsafe(0)),!(c._cache.length<=l.length)){h=i.concat([h,u(c,l,d)]);break}p=c._cache.length,h=i.concat([h,u(c,l.slice(0,p),d)]),l=l.slice(p)}return h}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,s,a){var i=e("safe-buffer").Buffer;function o(c,l,d){for(var p,h,f=-1,b=0;++f<8;)p=l&1<<7-f?128:0,b+=(128&(h=c._cipher.encryptBlock(c._prev)[0]^p))>>f%8,c._prev=u(c._prev,d?p:h);return b}function u(c,l){var d=c.length,p=-1,h=i.allocUnsafe(c.length);for(c=i.concat([c,i.from([l])]);++p<d;)h[p]=c[p]<<1|c[p+1]>>7;return h}a.encrypt=function(c,l,d){for(var p=l.length,h=i.allocUnsafe(p),f=-1;++f<p;)h[f]=o(c,l[f],d);return h}},{"safe-buffer":494}],199:[function(e,s,a){var i=e("safe-buffer").Buffer;function o(u,c,l){var d=u._cipher.encryptBlock(u._prev)[0]^c;return u._prev=i.concat([u._prev.slice(1),i.from([l?c:d])]),d}a.encrypt=function(u,c,l){for(var d=c.length,p=i.allocUnsafe(d),h=-1;++h<d;)p[h]=o(u,c[h],l);return p}},{"safe-buffer":494}],200:[function(e,s,a){var i=e("buffer-xor"),o=e("safe-buffer").Buffer,u=e("../incr32");function c(l){var d=l._cipher.encryptBlockRaw(l._prev);return u(l._prev),d}a.encrypt=function(l,d){var p=Math.ceil(d.length/16),h=l._cache.length;l._cache=o.concat([l._cache,o.allocUnsafe(16*p)]);for(var f=0;f<p;f++){var b=c(l),y=h+16*f;l._cache.writeUInt32BE(b[0],y+0),l._cache.writeUInt32BE(b[1],y+4),l._cache.writeUInt32BE(b[2],y+8),l._cache.writeUInt32BE(b[3],y+12)}var g=l._cache.slice(0,d.length);return l._cache=l._cache.slice(d.length),i(d,g)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,s,a){a.encrypt=function(i,o){return i._cipher.encryptBlock(o)},a.decrypt=function(i,o){return i._cipher.decryptBlock(o)}},{}],202:[function(e,s,a){var i={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},o=e("./list.json");for(var u in o)o[u].module=i[o[u].mode];s.exports=o},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,s,a){s.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,s,a){(function(i){(function(){var o=e("buffer-xor");function u(c){return c._prev=c._cipher.encryptBlock(c._prev),c._prev}a.encrypt=function(c,l){for(;c._cache.length<l.length;)c._cache=i.concat([c._cache,u(c)]);var d=c._cache.slice(0,l.length);return c._cache=c._cache.slice(l.length),o(l,d)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,s,a){var i=e("./aes"),o=e("safe-buffer").Buffer,u=e("cipher-base");function c(l,d,p,h){u.call(this),this._cipher=new i.AES(d),this._prev=o.from(p),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=h,this._mode=l}e("inherits")(c,u),c.prototype._update=function(l){return this._mode.encrypt(this,l,this._decrypt)},c.prototype._final=function(){this._cipher.scrub()},s.exports=c},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,s,a){var i=e("browserify-des"),o=e("browserify-aes/browser"),u=e("browserify-aes/modes"),c=e("browserify-des/modes"),l=e("evp_bytestokey");function d(h,f,b){if(h=h.toLowerCase(),u[h])return o.createCipheriv(h,f,b);if(c[h])return new i({key:f,iv:b,mode:h});throw new TypeError("invalid suite type")}function p(h,f,b){if(h=h.toLowerCase(),u[h])return o.createDecipheriv(h,f,b);if(c[h])return new i({key:f,iv:b,mode:h,decrypt:!0});throw new TypeError("invalid suite type")}a.createCipher=a.Cipher=function(h,f){var b,y;if(h=h.toLowerCase(),u[h])b=u[h].key,y=u[h].iv;else{if(!c[h])throw new TypeError("invalid suite type");b=8*c[h].key,y=c[h].iv}var g=l(f,!1,b,y);return d(h,g.key,g.iv)},a.createCipheriv=a.Cipheriv=d,a.createDecipher=a.Decipher=function(h,f){var b,y;if(h=h.toLowerCase(),u[h])b=u[h].key,y=u[h].iv;else{if(!c[h])throw new TypeError("invalid suite type");b=8*c[h].key,y=c[h].iv}var g=l(f,!1,b,y);return p(h,g.key,g.iv)},a.createDecipheriv=a.Decipheriv=p,a.listCiphers=a.getCiphers=function(){return Object.keys(c).concat(o.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,s,a){var i=e("cipher-base"),o=e("des.js"),u=e("inherits"),c=e("safe-buffer").Buffer,l={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};function d(p){i.call(this);var h,f=p.mode.toLowerCase(),b=l[f];h=p.decrypt?"decrypt":"encrypt";var y=p.key;c.isBuffer(y)||(y=c.from(y)),f!=="des-ede"&&f!=="des-ede-cbc"||(y=c.concat([y,y.slice(0,8)]));var g=p.iv;c.isBuffer(g)||(g=c.from(g)),this._des=b.create({key:y,iv:g,type:h})}l.des=l["des-cbc"],l.des3=l["des-ede3-cbc"],s.exports=d,u(d,i),d.prototype._update=function(p){return c.from(this._des.update(p))},d.prototype._final=function(){return c.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,s,a){a["des-ecb"]={key:8,iv:0},a["des-cbc"]=a.des={key:8,iv:8},a["des-ede3-cbc"]=a.des3={key:24,iv:8},a["des-ede3"]={key:24,iv:0},a["des-ede-cbc"]={key:16,iv:8},a["des-ede"]={key:16,iv:0}},{}],209:[function(e,s,a){(function(i){(function(){var o=e("bn.js"),u=e("randombytes");function c(d){var p,h=d.modulus.byteLength();do p=new o(u(h));while(p.cmp(d.modulus)>=0||!p.umod(d.prime1)||!p.umod(d.prime2));return p}function l(d,p){var h=function(R){var P=c(R);return{blinder:P.toRed(o.mont(R.modulus)).redPow(new o(R.publicExponent)).fromRed(),unblinder:P.invm(R.modulus)}}(p),f=p.modulus.byteLength(),b=new o(d).mul(h.blinder).umod(p.modulus),y=b.toRed(o.mont(p.prime1)),g=b.toRed(o.mont(p.prime2)),x=p.coefficient,v=p.prime1,w=p.prime2,S=y.redPow(p.exponent1).fromRed(),D=g.redPow(p.exponent2).fromRed(),T=S.isub(D).imul(x).umod(v).imul(w);return D.iadd(T).imul(h.unblinder).umod(p.modulus).toArrayLike(i,"be",f)}l.getr=c,s.exports=l}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,s,a){s.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,s,a){s.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,s,a){s.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,s,a){var i=e("safe-buffer").Buffer,o=e("create-hash"),u=e("readable-stream"),c=e("inherits"),l=e("./sign"),d=e("./verify"),p=e("./algorithms.json");function h(g){u.Writable.call(this);var x=p[g];if(!x)throw new Error("Unknown message digest");this._hashType=x.hash,this._hash=o(x.hash),this._tag=x.id,this._signType=x.sign}function f(g){u.Writable.call(this);var x=p[g];if(!x)throw new Error("Unknown message digest");this._hash=o(x.hash),this._tag=x.id,this._signType=x.sign}function b(g){return new h(g)}function y(g){return new f(g)}Object.keys(p).forEach(function(g){p[g].id=i.from(p[g].id,"hex"),p[g.toLowerCase()]=p[g]}),c(h,u.Writable),h.prototype._write=function(g,x,v){this._hash.update(g),v()},h.prototype.update=function(g,x){return typeof g=="string"&&(g=i.from(g,x)),this._hash.update(g),this},h.prototype.sign=function(g,x){this.end();var v=this._hash.digest(),w=l(v,g,this._hashType,this._signType,this._tag);return x?w.toString(x):w},c(f,u.Writable),f.prototype._write=function(g,x,v){this._hash.update(g),v()},f.prototype.update=function(g,x){return typeof g=="string"&&(g=i.from(g,x)),this._hash.update(g),this},f.prototype.verify=function(g,x,v){typeof x=="string"&&(x=i.from(x,v)),this.end();var w=this._hash.digest();return d(x,w,g,this._signType,this._tag)},s.exports={Sign:b,Verify:y,createSign:b,createVerify:y}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,s,a){var i=e("safe-buffer").Buffer,o=e("create-hmac"),u=e("browserify-rsa"),c=e("elliptic").ec,l=e("bn.js"),d=e("parse-asn1"),p=e("./curves.json");function h(g,x,v,w){if((g=i.from(g.toArray())).length<x.byteLength()){var S=i.alloc(x.byteLength()-g.length);g=i.concat([S,g])}var D=v.length,T=function(L,O){L=(L=f(L,O)).mod(O);var H=i.from(L.toArray());if(H.length<O.byteLength()){var U=i.alloc(O.byteLength()-H.length);H=i.concat([U,H])}return H}(v,x),R=i.alloc(D);R.fill(1);var P=i.alloc(D);return P=o(w,P).update(R).update(i.from([0])).update(g).update(T).digest(),R=o(w,P).update(R).digest(),{k:P=o(w,P).update(R).update(i.from([1])).update(g).update(T).digest(),v:R=o(w,P).update(R).digest()}}function f(g,x){var v=new l(g),w=(g.length<<3)-x.bitLength();return w>0&&v.ishrn(w),v}function b(g,x,v){var w,S;do{for(w=i.alloc(0);8*w.length<g.bitLength();)x.v=o(v,x.k).update(x.v).digest(),w=i.concat([w,x.v]);S=f(w,g),x.k=o(v,x.k).update(x.v).update(i.from([0])).digest(),x.v=o(v,x.k).update(x.v).digest()}while(S.cmp(g)!==-1);return S}function y(g,x,v,w){return g.toRed(l.mont(v)).redPow(x).fromRed().mod(w)}s.exports=function(g,x,v,w,S){var D=d(x);if(D.curve){if(w!=="ecdsa"&&w!=="ecdsa/rsa")throw new Error("wrong private key type");return function(L,O){var H=p[O.curve.join(".")];if(!H)throw new Error("unknown curve "+O.curve.join("."));var U=new c(H).keyFromPrivate(O.privateKey).sign(L);return i.from(U.toDER())}(g,D)}if(D.type==="dsa"){if(w!=="dsa")throw new Error("wrong private key type");return function(L,O,H){for(var U,I=O.params.priv_key,F=O.params.p,A=O.params.q,_=O.params.g,E=new l(0),N=f(L,A).mod(A),k=!1,B=h(I,A,L,H);k===!1;)U=b(A,B,H),E=y(_,U,F,A),(k=U.invm(A).imul(N.add(I.mul(E))).mod(A)).cmpn(0)===0&&(k=!1,E=new l(0));return function(j,M){j=j.toArray(),M=M.toArray(),128&j[0]&&(j=[0].concat(j)),128&M[0]&&(M=[0].concat(M));var G=[48,j.length+M.length+4,2,j.length];return G=G.concat(j,[2,M.length],M),i.from(G)}(E,k)}(g,D,v)}if(w!=="rsa"&&w!=="ecdsa/rsa")throw new Error("wrong private key type");g=i.concat([S,g]);for(var T=D.modulus.byteLength(),R=[0,1];g.length+R.length+1<T;)R.push(255);R.push(0);for(var P=-1;++P<g.length;)R.push(g[P]);return u(R,D)},s.exports.getKey=h,s.exports.makeKey=b},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,s,a){var i=e("safe-buffer").Buffer,o=e("bn.js"),u=e("elliptic").ec,c=e("parse-asn1"),l=e("./curves.json");function d(p,h){if(p.cmpn(0)<=0)throw new Error("invalid sig");if(p.cmp(h)>=h)throw new Error("invalid sig")}s.exports=function(p,h,f,b,y){var g=c(f);if(g.type==="ec"){if(b!=="ecdsa"&&b!=="ecdsa/rsa")throw new Error("wrong public key type");return function(R,P,L){var O=l[L.data.algorithm.curve.join(".")];if(!O)throw new Error("unknown curve "+L.data.algorithm.curve.join("."));var H=new u(O),U=L.data.subjectPrivateKey.data;return H.verify(P,R,U)}(p,h,g)}if(g.type==="dsa"){if(b!=="dsa")throw new Error("wrong public key type");return function(R,P,L){var O=L.data.p,H=L.data.q,U=L.data.g,I=L.data.pub_key,F=c.signature.decode(R,"der"),A=F.s,_=F.r;d(A,H),d(_,H);var E=o.mont(O),N=A.invm(H);return U.toRed(E).redPow(new o(P).mul(N).mod(H)).fromRed().mul(I.toRed(E).redPow(_.mul(N).mod(H)).fromRed()).mod(O).mod(H).cmp(_)===0}(p,h,g)}if(b!=="rsa"&&b!=="ecdsa/rsa")throw new Error("wrong public key type");h=i.concat([y,h]);for(var x=g.modulus.byteLength(),v=[1],w=0;h.length+v.length+2<x;)v.push(255),w++;v.push(0);for(var S=-1;++S<h.length;)v.push(h[S]);v=i.from(v);var D=o.mont(g.modulus);p=(p=new o(p).toRed(D)).redPow(new o(g.publicExponent)),p=i.from(p.fromRed().toArray());var T=w<8?1:0;for(x=Math.min(p.length,v.length),p.length!==v.length&&(T=1),S=-1;++S<x;)T|=p[S]^v[S];return T===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,s,a){},{}],217:[function(e,s,a){var i=e("buffer"),o=i.Buffer;function u(l,d){for(var p in l)d[p]=l[p]}function c(l,d,p){return o(l,d,p)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?s.exports=i:(u(i,a),a.Buffer=c),u(o,c),c.from=function(l,d,p){if(typeof l=="number")throw new TypeError("Argument must not be a number");return o(l,d,p)},c.alloc=function(l,d,p){if(typeof l!="number")throw new TypeError("Argument must be a number");var h=o(l);return d!==void 0?typeof p=="string"?h.fill(d,p):h.fill(d):h.fill(0),h},c.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return o(l)},c.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(l)}},{buffer:220}],218:[function(e,s,a){var i=e("safe-buffer").Buffer,o=i.isEncoding||function(g){switch((g=""+g)&&g.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function u(g){var x;switch(this.encoding=function(v){var w=function(S){if(!S)return"utf8";for(var D;;)switch(S){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return S;default:if(D)return;S=(""+S).toLowerCase(),D=!0}}(v);if(typeof w!="string"&&(i.isEncoding===o||!o(v)))throw new Error("Unknown encoding: "+v);return w||v}(g),this.encoding){case"utf16le":this.text=d,this.end=p,x=4;break;case"utf8":this.fillLast=l,x=4;break;case"base64":this.text=h,this.end=f,x=3;break;default:return this.write=b,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(x)}function c(g){return g<=127?0:g>>5==6?2:g>>4==14?3:g>>3==30?4:g>>6==2?-1:-2}function l(g){var x=this.lastTotal-this.lastNeed,v=function(w,S,D){if((192&S[0])!=128)return w.lastNeed=0,"";if(w.lastNeed>1&&S.length>1){if((192&S[1])!=128)return w.lastNeed=1,"";if(w.lastNeed>2&&S.length>2&&(192&S[2])!=128)return w.lastNeed=2,""}}(this,g);return v!==void 0?v:this.lastNeed<=g.length?(g.copy(this.lastChar,x,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(g.copy(this.lastChar,x,0,g.length),void(this.lastNeed-=g.length))}function d(g,x){if((g.length-x)%2==0){var v=g.toString("utf16le",x);if(v){var w=v.charCodeAt(v.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1],v.slice(0,-1)}return v}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=g[g.length-1],g.toString("utf16le",x,g.length-1)}function p(g){var x=g&&g.length?this.write(g):"";if(this.lastNeed){var v=this.lastTotal-this.lastNeed;return x+this.lastChar.toString("utf16le",0,v)}return x}function h(g,x){var v=(g.length-x)%3;return v===0?g.toString("base64",x):(this.lastNeed=3-v,this.lastTotal=3,v===1?this.lastChar[0]=g[g.length-1]:(this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1]),g.toString("base64",x,g.length-v))}function f(g){var x=g&&g.length?this.write(g):"";return this.lastNeed?x+this.lastChar.toString("base64",0,3-this.lastNeed):x}function b(g){return g.toString(this.encoding)}function y(g){return g&&g.length?this.write(g):""}a.StringDecoder=u,u.prototype.write=function(g){if(g.length===0)return"";var x,v;if(this.lastNeed){if((x=this.fillLast(g))===void 0)return"";v=this.lastNeed,this.lastNeed=0}else v=0;return v<g.length?x?x+this.text(g,v):this.text(g,v):x||""},u.prototype.end=function(g){var x=g&&g.length?this.write(g):"";return this.lastNeed?x+"":x},u.prototype.text=function(g,x){var v=function(S,D,T){var R=D.length-1;if(R<T)return 0;var P=c(D[R]);return P>=0?(P>0&&(S.lastNeed=P-1),P):--R<T||P===-2?0:(P=c(D[R]))>=0?(P>0&&(S.lastNeed=P-2),P):--R<T||P===-2?0:(P=c(D[R]))>=0?(P>0&&(P===2?P=0:S.lastNeed=P-3),P):0}(this,g,x);if(!this.lastNeed)return g.toString("utf8",x);this.lastTotal=v;var w=g.length-(v-this.lastNeed);return g.copy(this.lastChar,0,w),g.toString("utf8",x,w)},u.prototype.fillLast=function(g){if(this.lastNeed<=g.length)return g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,g.length),this.lastNeed-=g.length}},{"safe-buffer":217}],219:[function(e,s,a){(function(i){(function(){s.exports=function(o,u){for(var c=Math.min(o.length,u.length),l=new i(c),d=0;d<c;++d)l[d]=o[d]^u[d];return l}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,s,a){(function(i){(function(){var o=e("base64-js"),u=e("ieee754");a.Buffer=l,a.SlowBuffer=function(q){return+q!=q&&(q=0),l.alloc(+q)},a.INSPECT_MAX_BYTES=50;function c(q){if(q>2147483647)throw new RangeError('The value "'+q+'" is invalid for option "size"');var z=new Uint8Array(q);return z.__proto__=l.prototype,z}function l(q,z,Z){if(typeof q=="number"){if(typeof z=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(q)}return d(q,z,Z)}function d(q,z,Z){if(typeof q=="string")return function(ue,ce){if(typeof ce=="string"&&ce!==""||(ce="utf8"),!l.isEncoding(ce))throw new TypeError("Unknown encoding: "+ce);var ie=0|y(ue,ce),ye=c(ie),he=ye.write(ue,ce);return he!==ie&&(ye=ye.slice(0,he)),ye}(q,z);if(ArrayBuffer.isView(q))return f(q);if(q==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q);if(V(q,ArrayBuffer)||q&&V(q.buffer,ArrayBuffer))return function(ue,ce,ie){if(ce<0||ue.byteLength<ce)throw new RangeError('"offset" is outside of buffer bounds');if(ue.byteLength<ce+(ie||0))throw new RangeError('"length" is outside of buffer bounds');var ye;return ye=ce===void 0&&ie===void 0?new Uint8Array(ue):ie===void 0?new Uint8Array(ue,ce):new Uint8Array(ue,ce,ie),ye.__proto__=l.prototype,ye}(q,z,Z);if(typeof q=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var re=q.valueOf&&q.valueOf();if(re!=null&&re!==q)return l.from(re,z,Z);var le=function(ue){if(l.isBuffer(ue)){var ce=0|b(ue.length),ie=c(ce);return ie.length===0||ue.copy(ie,0,0,ce),ie}if(ue.length!==void 0)return typeof ue.length!="number"||Q(ue.length)?c(0):f(ue);if(ue.type==="Buffer"&&Array.isArray(ue.data))return f(ue.data)}(q);if(le)return le;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof q[Symbol.toPrimitive]=="function")return l.from(q[Symbol.toPrimitive]("string"),z,Z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q)}function p(q){if(typeof q!="number")throw new TypeError('"size" argument must be of type number');if(q<0)throw new RangeError('The value "'+q+'" is invalid for option "size"')}function h(q){return p(q),c(q<0?0:0|b(q))}function f(q){for(var z=q.length<0?0:0|b(q.length),Z=c(z),re=0;re<z;re+=1)Z[re]=255&q[re];return Z}function b(q){if(q>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|q}function y(q,z){if(l.isBuffer(q))return q.length;if(ArrayBuffer.isView(q)||V(q,ArrayBuffer))return q.byteLength;if(typeof q!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof q);var Z=q.length,re=arguments.length>2&&arguments[2]===!0;if(!re&&Z===0)return 0;for(var le=!1;;)switch(z){case"ascii":case"latin1":case"binary":return Z;case"utf8":case"utf-8":return G(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Z;case"hex":return Z>>>1;case"base64":return Y(q).length;default:if(le)return re?-1:G(q).length;z=(""+z).toLowerCase(),le=!0}}function g(q,z,Z){var re=!1;if((z===void 0||z<0)&&(z=0),z>this.length||((Z===void 0||Z>this.length)&&(Z=this.length),Z<=0)||(Z>>>=0)<=(z>>>=0))return"";for(q||(q="utf8");;)switch(q){case"hex":return F(this,z,Z);case"utf8":case"utf-8":return H(this,z,Z);case"ascii":return U(this,z,Z);case"latin1":case"binary":return I(this,z,Z);case"base64":return O(this,z,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,z,Z);default:if(re)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),re=!0}}function x(q,z,Z){var re=q[z];q[z]=q[Z],q[Z]=re}function v(q,z,Z,re,le){if(q.length===0)return-1;if(typeof Z=="string"?(re=Z,Z=0):Z>2147483647?Z=2147483647:Z<-2147483648&&(Z=-2147483648),Q(Z=+Z)&&(Z=le?0:q.length-1),Z<0&&(Z=q.length+Z),Z>=q.length){if(le)return-1;Z=q.length-1}else if(Z<0){if(!le)return-1;Z=0}if(typeof z=="string"&&(z=l.from(z,re)),l.isBuffer(z))return z.length===0?-1:w(q,z,Z,re,le);if(typeof z=="number")return z&=255,typeof Uint8Array.prototype.indexOf=="function"?le?Uint8Array.prototype.indexOf.call(q,z,Z):Uint8Array.prototype.lastIndexOf.call(q,z,Z):w(q,[z],Z,re,le);throw new TypeError("val must be string, number or Buffer")}function w(q,z,Z,re,le){var ue,ce=1,ie=q.length,ye=z.length;if(re!==void 0&&((re=String(re).toLowerCase())==="ucs2"||re==="ucs-2"||re==="utf16le"||re==="utf-16le")){if(q.length<2||z.length<2)return-1;ce=2,ie/=2,ye/=2,Z/=2}function he(Ae,Le){return ce===1?Ae[Le]:Ae.readUInt16BE(Le*ce)}if(le){var pe=-1;for(ue=Z;ue<ie;ue++)if(he(q,ue)===he(z,pe===-1?0:ue-pe)){if(pe===-1&&(pe=ue),ue-pe+1===ye)return pe*ce}else pe!==-1&&(ue-=ue-pe),pe=-1}else for(Z+ye>ie&&(Z=ie-ye),ue=Z;ue>=0;ue--){for(var xe=!0,Oe=0;Oe<ye;Oe++)if(he(q,ue+Oe)!==he(z,Oe)){xe=!1;break}if(xe)return ue}return-1}function S(q,z,Z,re){Z=Number(Z)||0;var le=q.length-Z;re?(re=Number(re))>le&&(re=le):re=le;var ue=z.length;re>ue/2&&(re=ue/2);for(var ce=0;ce<re;++ce){var ie=parseInt(z.substr(2*ce,2),16);if(Q(ie))return ce;q[Z+ce]=ie}return ce}function D(q,z,Z,re){return J(G(z,q.length-Z),q,Z,re)}function T(q,z,Z,re){return J(function(le){for(var ue=[],ce=0;ce<le.length;++ce)ue.push(255&le.charCodeAt(ce));return ue}(z),q,Z,re)}function R(q,z,Z,re){return T(q,z,Z,re)}function P(q,z,Z,re){return J(Y(z),q,Z,re)}function L(q,z,Z,re){return J(function(le,ue){for(var ce,ie,ye,he=[],pe=0;pe<le.length&&!((ue-=2)<0);++pe)ce=le.charCodeAt(pe),ie=ce>>8,ye=ce%256,he.push(ye),he.push(ie);return he}(z,q.length-Z),q,Z,re)}function O(q,z,Z){return z===0&&Z===q.length?o.fromByteArray(q):o.fromByteArray(q.slice(z,Z))}function H(q,z,Z){Z=Math.min(q.length,Z);for(var re=[],le=z;le<Z;){var ue,ce,ie,ye,he=q[le],pe=null,xe=he>239?4:he>223?3:he>191?2:1;if(le+xe<=Z)switch(xe){case 1:he<128&&(pe=he);break;case 2:(192&(ue=q[le+1]))==128&&(ye=(31&he)<<6|63&ue)>127&&(pe=ye);break;case 3:ue=q[le+1],ce=q[le+2],(192&ue)==128&&(192&ce)==128&&(ye=(15&he)<<12|(63&ue)<<6|63&ce)>2047&&(ye<55296||ye>57343)&&(pe=ye);break;case 4:ue=q[le+1],ce=q[le+2],ie=q[le+3],(192&ue)==128&&(192&ce)==128&&(192&ie)==128&&(ye=(15&he)<<18|(63&ue)<<12|(63&ce)<<6|63&ie)>65535&&ye<1114112&&(pe=ye)}pe===null?(pe=65533,xe=1):pe>65535&&(pe-=65536,re.push(pe>>>10&1023|55296),pe=56320|1023&pe),re.push(pe),le+=xe}return function(Oe){var Ae=Oe.length;if(Ae<=4096)return String.fromCharCode.apply(String,Oe);for(var Le="",He=0;He<Ae;)Le+=String.fromCharCode.apply(String,Oe.slice(He,He+=4096));return Le}(re)}a.kMaxLength=2147483647,l.TYPED_ARRAY_SUPPORT=function(){try{var q=new Uint8Array(1);return q.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},q.foo()===42}catch{return!1}}(),l.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),l.poolSize=8192,l.from=function(q,z,Z){return d(q,z,Z)},l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,l.alloc=function(q,z,Z){return function(re,le,ue){return p(re),re<=0?c(re):le!==void 0?typeof ue=="string"?c(re).fill(le,ue):c(re).fill(le):c(re)}(q,z,Z)},l.allocUnsafe=function(q){return h(q)},l.allocUnsafeSlow=function(q){return h(q)},l.isBuffer=function(q){return q!=null&&q._isBuffer===!0&&q!==l.prototype},l.compare=function(q,z){if(V(q,Uint8Array)&&(q=l.from(q,q.offset,q.byteLength)),V(z,Uint8Array)&&(z=l.from(z,z.offset,z.byteLength)),!l.isBuffer(q)||!l.isBuffer(z))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(q===z)return 0;for(var Z=q.length,re=z.length,le=0,ue=Math.min(Z,re);le<ue;++le)if(q[le]!==z[le]){Z=q[le],re=z[le];break}return Z<re?-1:re<Z?1:0},l.isEncoding=function(q){switch(String(q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(q,z){if(!Array.isArray(q))throw new TypeError('"list" argument must be an Array of Buffers');if(q.length===0)return l.alloc(0);var Z;if(z===void 0)for(z=0,Z=0;Z<q.length;++Z)z+=q[Z].length;var re=l.allocUnsafe(z),le=0;for(Z=0;Z<q.length;++Z){var ue=q[Z];if(V(ue,Uint8Array)&&(ue=l.from(ue)),!l.isBuffer(ue))throw new TypeError('"list" argument must be an Array of Buffers');ue.copy(re,le),le+=ue.length}return re},l.byteLength=y,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var q=this.length;if(q%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var z=0;z<q;z+=2)x(this,z,z+1);return this},l.prototype.swap32=function(){var q=this.length;if(q%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var z=0;z<q;z+=4)x(this,z,z+3),x(this,z+1,z+2);return this},l.prototype.swap64=function(){var q=this.length;if(q%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var z=0;z<q;z+=8)x(this,z,z+7),x(this,z+1,z+6),x(this,z+2,z+5),x(this,z+3,z+4);return this},l.prototype.toString=function(){var q=this.length;return q===0?"":arguments.length===0?H(this,0,q):g.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(q){if(!l.isBuffer(q))throw new TypeError("Argument must be a Buffer");return this===q||l.compare(this,q)===0},l.prototype.inspect=function(){var q="",z=a.INSPECT_MAX_BYTES;return q=this.toString("hex",0,z).replace(/(.{2})/g,"$1 ").trim(),this.length>z&&(q+=" ... "),"<Buffer "+q+">"},l.prototype.compare=function(q,z,Z,re,le){if(V(q,Uint8Array)&&(q=l.from(q,q.offset,q.byteLength)),!l.isBuffer(q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof q);if(z===void 0&&(z=0),Z===void 0&&(Z=q?q.length:0),re===void 0&&(re=0),le===void 0&&(le=this.length),z<0||Z>q.length||re<0||le>this.length)throw new RangeError("out of range index");if(re>=le&&z>=Z)return 0;if(re>=le)return-1;if(z>=Z)return 1;if(this===q)return 0;for(var ue=(le>>>=0)-(re>>>=0),ce=(Z>>>=0)-(z>>>=0),ie=Math.min(ue,ce),ye=this.slice(re,le),he=q.slice(z,Z),pe=0;pe<ie;++pe)if(ye[pe]!==he[pe]){ue=ye[pe],ce=he[pe];break}return ue<ce?-1:ce<ue?1:0},l.prototype.includes=function(q,z,Z){return this.indexOf(q,z,Z)!==-1},l.prototype.indexOf=function(q,z,Z){return v(this,q,z,Z,!0)},l.prototype.lastIndexOf=function(q,z,Z){return v(this,q,z,Z,!1)},l.prototype.write=function(q,z,Z,re){if(z===void 0)re="utf8",Z=this.length,z=0;else if(Z===void 0&&typeof z=="string")re=z,Z=this.length,z=0;else{if(!isFinite(z))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");z>>>=0,isFinite(Z)?(Z>>>=0,re===void 0&&(re="utf8")):(re=Z,Z=void 0)}var le=this.length-z;if((Z===void 0||Z>le)&&(Z=le),q.length>0&&(Z<0||z<0)||z>this.length)throw new RangeError("Attempt to write outside buffer bounds");re||(re="utf8");for(var ue=!1;;)switch(re){case"hex":return S(this,q,z,Z);case"utf8":case"utf-8":return D(this,q,z,Z);case"ascii":return T(this,q,z,Z);case"latin1":case"binary":return R(this,q,z,Z);case"base64":return P(this,q,z,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,q,z,Z);default:if(ue)throw new TypeError("Unknown encoding: "+re);re=(""+re).toLowerCase(),ue=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(q,z,Z){var re="";Z=Math.min(q.length,Z);for(var le=z;le<Z;++le)re+=String.fromCharCode(127&q[le]);return re}function I(q,z,Z){var re="";Z=Math.min(q.length,Z);for(var le=z;le<Z;++le)re+=String.fromCharCode(q[le]);return re}function F(q,z,Z){var re=q.length;(!z||z<0)&&(z=0),(!Z||Z<0||Z>re)&&(Z=re);for(var le="",ue=z;ue<Z;++ue)le+=M(q[ue]);return le}function A(q,z,Z){for(var re=q.slice(z,Z),le="",ue=0;ue<re.length;ue+=2)le+=String.fromCharCode(re[ue]+256*re[ue+1]);return le}function _(q,z,Z){if(q%1!=0||q<0)throw new RangeError("offset is not uint");if(q+z>Z)throw new RangeError("Trying to access beyond buffer length")}function E(q,z,Z,re,le,ue){if(!l.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(z>le||z<ue)throw new RangeError('"value" argument is out of bounds');if(Z+re>q.length)throw new RangeError("Index out of range")}function N(q,z,Z,re,le,ue){if(Z+re>q.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("Index out of range")}function k(q,z,Z,re,le){return z=+z,Z>>>=0,le||N(q,0,Z,4),u.write(q,z,Z,re,23,4),Z+4}function B(q,z,Z,re,le){return z=+z,Z>>>=0,le||N(q,0,Z,8),u.write(q,z,Z,re,52,8),Z+8}l.prototype.slice=function(q,z){var Z=this.length;(q=~~q)<0?(q+=Z)<0&&(q=0):q>Z&&(q=Z),(z=z===void 0?Z:~~z)<0?(z+=Z)<0&&(z=0):z>Z&&(z=Z),z<q&&(z=q);var re=this.subarray(q,z);return re.__proto__=l.prototype,re},l.prototype.readUIntLE=function(q,z,Z){q>>>=0,z>>>=0,Z||_(q,z,this.length);for(var re=this[q],le=1,ue=0;++ue<z&&(le*=256);)re+=this[q+ue]*le;return re},l.prototype.readUIntBE=function(q,z,Z){q>>>=0,z>>>=0,Z||_(q,z,this.length);for(var re=this[q+--z],le=1;z>0&&(le*=256);)re+=this[q+--z]*le;return re},l.prototype.readUInt8=function(q,z){return q>>>=0,z||_(q,1,this.length),this[q]},l.prototype.readUInt16LE=function(q,z){return q>>>=0,z||_(q,2,this.length),this[q]|this[q+1]<<8},l.prototype.readUInt16BE=function(q,z){return q>>>=0,z||_(q,2,this.length),this[q]<<8|this[q+1]},l.prototype.readUInt32LE=function(q,z){return q>>>=0,z||_(q,4,this.length),(this[q]|this[q+1]<<8|this[q+2]<<16)+16777216*this[q+3]},l.prototype.readUInt32BE=function(q,z){return q>>>=0,z||_(q,4,this.length),16777216*this[q]+(this[q+1]<<16|this[q+2]<<8|this[q+3])},l.prototype.readIntLE=function(q,z,Z){q>>>=0,z>>>=0,Z||_(q,z,this.length);for(var re=this[q],le=1,ue=0;++ue<z&&(le*=256);)re+=this[q+ue]*le;return re>=(le*=128)&&(re-=Math.pow(2,8*z)),re},l.prototype.readIntBE=function(q,z,Z){q>>>=0,z>>>=0,Z||_(q,z,this.length);for(var re=z,le=1,ue=this[q+--re];re>0&&(le*=256);)ue+=this[q+--re]*le;return ue>=(le*=128)&&(ue-=Math.pow(2,8*z)),ue},l.prototype.readInt8=function(q,z){return q>>>=0,z||_(q,1,this.length),128&this[q]?-1*(255-this[q]+1):this[q]},l.prototype.readInt16LE=function(q,z){q>>>=0,z||_(q,2,this.length);var Z=this[q]|this[q+1]<<8;return 32768&Z?4294901760|Z:Z},l.prototype.readInt16BE=function(q,z){q>>>=0,z||_(q,2,this.length);var Z=this[q+1]|this[q]<<8;return 32768&Z?4294901760|Z:Z},l.prototype.readInt32LE=function(q,z){return q>>>=0,z||_(q,4,this.length),this[q]|this[q+1]<<8|this[q+2]<<16|this[q+3]<<24},l.prototype.readInt32BE=function(q,z){return q>>>=0,z||_(q,4,this.length),this[q]<<24|this[q+1]<<16|this[q+2]<<8|this[q+3]},l.prototype.readFloatLE=function(q,z){return q>>>=0,z||_(q,4,this.length),u.read(this,q,!0,23,4)},l.prototype.readFloatBE=function(q,z){return q>>>=0,z||_(q,4,this.length),u.read(this,q,!1,23,4)},l.prototype.readDoubleLE=function(q,z){return q>>>=0,z||_(q,8,this.length),u.read(this,q,!0,52,8)},l.prototype.readDoubleBE=function(q,z){return q>>>=0,z||_(q,8,this.length),u.read(this,q,!1,52,8)},l.prototype.writeUIntLE=function(q,z,Z,re){q=+q,z>>>=0,Z>>>=0,re||E(this,q,z,Z,Math.pow(2,8*Z)-1,0);var le=1,ue=0;for(this[z]=255&q;++ue<Z&&(le*=256);)this[z+ue]=q/le&255;return z+Z},l.prototype.writeUIntBE=function(q,z,Z,re){q=+q,z>>>=0,Z>>>=0,re||E(this,q,z,Z,Math.pow(2,8*Z)-1,0);var le=Z-1,ue=1;for(this[z+le]=255&q;--le>=0&&(ue*=256);)this[z+le]=q/ue&255;return z+Z},l.prototype.writeUInt8=function(q,z,Z){return q=+q,z>>>=0,Z||E(this,q,z,1,255,0),this[z]=255&q,z+1},l.prototype.writeUInt16LE=function(q,z,Z){return q=+q,z>>>=0,Z||E(this,q,z,2,65535,0),this[z]=255&q,this[z+1]=q>>>8,z+2},l.prototype.writeUInt16BE=function(q,z,Z){return q=+q,z>>>=0,Z||E(this,q,z,2,65535,0),this[z]=q>>>8,this[z+1]=255&q,z+2},l.prototype.writeUInt32LE=function(q,z,Z){return q=+q,z>>>=0,Z||E(this,q,z,4,4294967295,0),this[z+3]=q>>>24,this[z+2]=q>>>16,this[z+1]=q>>>8,this[z]=255&q,z+4},l.prototype.writeUInt32BE=function(q,z,Z){return q=+q,z>>>=0,Z||E(this,q,z,4,4294967295,0),this[z]=q>>>24,this[z+1]=q>>>16,this[z+2]=q>>>8,this[z+3]=255&q,z+4},l.prototype.writeIntLE=function(q,z,Z,re){if(q=+q,z>>>=0,!re){var le=Math.pow(2,8*Z-1);E(this,q,z,Z,le-1,-le)}var ue=0,ce=1,ie=0;for(this[z]=255&q;++ue<Z&&(ce*=256);)q<0&&ie===0&&this[z+ue-1]!==0&&(ie=1),this[z+ue]=(q/ce>>0)-ie&255;return z+Z},l.prototype.writeIntBE=function(q,z,Z,re){if(q=+q,z>>>=0,!re){var le=Math.pow(2,8*Z-1);E(this,q,z,Z,le-1,-le)}var ue=Z-1,ce=1,ie=0;for(this[z+ue]=255&q;--ue>=0&&(ce*=256);)q<0&&ie===0&&this[z+ue+1]!==0&&(ie=1),this[z+ue]=(q/ce>>0)-ie&255;return z+Z},l.prototype.writeInt8=function(q,z,Z){return q=+q,z>>>=0,Z||E(this,q,z,1,127,-128),q<0&&(q=255+q+1),this[z]=255&q,z+1},l.prototype.writeInt16LE=function(q,z,Z){return q=+q,z>>>=0,Z||E(this,q,z,2,32767,-32768),this[z]=255&q,this[z+1]=q>>>8,z+2},l.prototype.writeInt16BE=function(q,z,Z){return q=+q,z>>>=0,Z||E(this,q,z,2,32767,-32768),this[z]=q>>>8,this[z+1]=255&q,z+2},l.prototype.writeInt32LE=function(q,z,Z){return q=+q,z>>>=0,Z||E(this,q,z,4,2147483647,-2147483648),this[z]=255&q,this[z+1]=q>>>8,this[z+2]=q>>>16,this[z+3]=q>>>24,z+4},l.prototype.writeInt32BE=function(q,z,Z){return q=+q,z>>>=0,Z||E(this,q,z,4,2147483647,-2147483648),q<0&&(q=4294967295+q+1),this[z]=q>>>24,this[z+1]=q>>>16,this[z+2]=q>>>8,this[z+3]=255&q,z+4},l.prototype.writeFloatLE=function(q,z,Z){return k(this,q,z,!0,Z)},l.prototype.writeFloatBE=function(q,z,Z){return k(this,q,z,!1,Z)},l.prototype.writeDoubleLE=function(q,z,Z){return B(this,q,z,!0,Z)},l.prototype.writeDoubleBE=function(q,z,Z){return B(this,q,z,!1,Z)},l.prototype.copy=function(q,z,Z,re){if(!l.isBuffer(q))throw new TypeError("argument should be a Buffer");if(Z||(Z=0),re||re===0||(re=this.length),z>=q.length&&(z=q.length),z||(z=0),re>0&&re<Z&&(re=Z),re===Z||q.length===0||this.length===0)return 0;if(z<0)throw new RangeError("targetStart out of bounds");if(Z<0||Z>=this.length)throw new RangeError("Index out of range");if(re<0)throw new RangeError("sourceEnd out of bounds");re>this.length&&(re=this.length),q.length-z<re-Z&&(re=q.length-z+Z);var le=re-Z;if(this===q&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(z,Z,re);else if(this===q&&Z<z&&z<re)for(var ue=le-1;ue>=0;--ue)q[ue+z]=this[ue+Z];else Uint8Array.prototype.set.call(q,this.subarray(Z,re),z);return le},l.prototype.fill=function(q,z,Z,re){if(typeof q=="string"){if(typeof z=="string"?(re=z,z=0,Z=this.length):typeof Z=="string"&&(re=Z,Z=this.length),re!==void 0&&typeof re!="string")throw new TypeError("encoding must be a string");if(typeof re=="string"&&!l.isEncoding(re))throw new TypeError("Unknown encoding: "+re);if(q.length===1){var le=q.charCodeAt(0);(re==="utf8"&&le<128||re==="latin1")&&(q=le)}}else typeof q=="number"&&(q&=255);if(z<0||this.length<z||this.length<Z)throw new RangeError("Out of range index");if(Z<=z)return this;var ue;if(z>>>=0,Z=Z===void 0?this.length:Z>>>0,q||(q=0),typeof q=="number")for(ue=z;ue<Z;++ue)this[ue]=q;else{var ce=l.isBuffer(q)?q:l.from(q,re),ie=ce.length;if(ie===0)throw new TypeError('The value "'+q+'" is invalid for argument "value"');for(ue=0;ue<Z-z;++ue)this[ue+z]=ce[ue%ie]}return this};var j=/[^+/0-9A-Za-z-_]/g;function M(q){return q<16?"0"+q.toString(16):q.toString(16)}function G(q,z){var Z;z=z||1/0;for(var re=q.length,le=null,ue=[],ce=0;ce<re;++ce){if((Z=q.charCodeAt(ce))>55295&&Z<57344){if(!le){if(Z>56319){(z-=3)>-1&&ue.push(239,191,189);continue}if(ce+1===re){(z-=3)>-1&&ue.push(239,191,189);continue}le=Z;continue}if(Z<56320){(z-=3)>-1&&ue.push(239,191,189),le=Z;continue}Z=65536+(le-55296<<10|Z-56320)}else le&&(z-=3)>-1&&ue.push(239,191,189);if(le=null,Z<128){if((z-=1)<0)break;ue.push(Z)}else if(Z<2048){if((z-=2)<0)break;ue.push(Z>>6|192,63&Z|128)}else if(Z<65536){if((z-=3)<0)break;ue.push(Z>>12|224,Z>>6&63|128,63&Z|128)}else{if(!(Z<1114112))throw new Error("Invalid code point");if((z-=4)<0)break;ue.push(Z>>18|240,Z>>12&63|128,Z>>6&63|128,63&Z|128)}}return ue}function Y(q){return o.toByteArray(function(z){if((z=(z=z.split("=")[0]).trim().replace(j,"")).length<2)return"";for(;z.length%4!=0;)z+="=";return z}(q))}function J(q,z,Z,re){for(var le=0;le<re&&!(le+Z>=z.length||le>=q.length);++le)z[le+Z]=q[le];return le}function V(q,z){return q instanceof z||q!=null&&q.constructor!=null&&q.constructor.name!=null&&q.constructor.name===z.name}function Q(q){return q!=q}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,s,a){var i=e("safe-buffer").Buffer,o=e("stream").Transform,u=e("string_decoder").StringDecoder;function c(l){o.call(this),this.hashMode=typeof l=="string",this.hashMode?this[l]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(c,o),c.prototype.update=function(l,d,p){typeof l=="string"&&(l=i.from(l,d));var h=this._update(l);return this.hashMode?this:(p&&(h=this._toString(h,p)),h)},c.prototype.setAutoPadding=function(){},c.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},c.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},c.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},c.prototype._transform=function(l,d,p){var h;try{this.hashMode?this._update(l):this.push(this._update(l))}catch(f){h=f}finally{p(h)}},c.prototype._flush=function(l){var d;try{this.push(this.__final())}catch(p){d=p}l(d)},c.prototype._finalOrDigest=function(l){var d=this.__final()||i.alloc(0);return l&&(d=this._toString(d,l,!0)),d},c.prototype._toString=function(l,d,p){if(this._decoder||(this._decoder=new u(d),this._encoding=d),this._encoding!==d)throw new Error("can't switch encodings");var h=this._decoder.write(l);return p&&(h+=this._decoder.end()),h},s.exports=c},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,s,a){var i=e("../internals/is-callable"),o=e("../internals/try-to-string"),u=TypeError;s.exports=function(c){if(i(c))return c;throw new u(o(c)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,s,a){var i=e("../internals/is-constructor"),o=e("../internals/try-to-string"),u=TypeError;s.exports=function(c){if(i(c))return c;throw new u(o(c)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,s,a){var i=e("../internals/is-callable"),o=String,u=TypeError;s.exports=function(c){if(typeof c=="object"||i(c))return c;throw new u("Can't set "+o(c)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,s,a){var i=e("../internals/well-known-symbol"),o=e("../internals/object-create"),u=e("../internals/object-define-property").f,c=i("unscopables"),l=Array.prototype;l[c]===void 0&&u(l,c,{configurable:!0,value:o(null)}),s.exports=function(d){l[c][d]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,s,a){var i=e("../internals/object-is-prototype-of"),o=TypeError;s.exports=function(u,c){if(i(c,u))return u;throw new o("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,s,a){var i=e("../internals/is-object"),o=String,u=TypeError;s.exports=function(c){if(i(c))return c;throw new u(o(c)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,s,a){var i=e("../internals/to-indexed-object"),o=e("../internals/to-absolute-index"),u=e("../internals/length-of-array-like"),c=function(l){return function(d,p,h){var f,b=i(d),y=u(b),g=o(h,y);if(l&&p!=p){for(;y>g;)if((f=b[g++])!=f)return!0}else for(;y>g;g++)if((l||g in b)&&b[g]===p)return l||g||0;return!l&&-1}};s.exports={includes:c(!0),indexOf:c(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,s,a){var i=e("../internals/function-bind-context"),o=e("../internals/function-uncurry-this"),u=e("../internals/indexed-object"),c=e("../internals/to-object"),l=e("../internals/length-of-array-like"),d=e("../internals/array-species-create"),p=o([].push),h=function(f){var b=f===1,y=f===2,g=f===3,x=f===4,v=f===6,w=f===7,S=f===5||v;return function(D,T,R,P){for(var L,O,H=c(D),U=u(H),I=i(T,R),F=l(U),A=0,_=P||d,E=b?_(D,F):y||w?_(D,0):void 0;F>A;A++)if((S||A in U)&&(O=I(L=U[A],A,H),f))if(b)E[A]=O;else if(O)switch(f){case 3:return!0;case 5:return L;case 6:return A;case 2:p(E,L)}else switch(f){case 4:return!1;case 7:p(E,L)}return v?-1:g||x?x:E}};s.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,s,a){var i=e("../internals/to-absolute-index"),o=e("../internals/length-of-array-like"),u=e("../internals/create-property"),c=Array,l=Math.max;s.exports=function(d,p,h){for(var f=o(d),b=i(p,f),y=i(h===void 0?f:h,f),g=c(l(y-b,0)),x=0;b<y;b++,x++)u(g,x,d[b]);return g.length=x,g}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,s,a){var i=e("../internals/function-uncurry-this");s.exports=i([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,s,a){var i=e("../internals/is-array"),o=e("../internals/is-constructor"),u=e("../internals/is-object"),c=e("../internals/well-known-symbol")("species"),l=Array;s.exports=function(d){var p;return i(d)&&(p=d.constructor,(o(p)&&(p===l||i(p.prototype))||u(p)&&(p=p[c])===null)&&(p=void 0)),p===void 0?l:p}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,s,a){var i=e("../internals/array-species-constructor");s.exports=function(o,u){return new(i(o))(u===0?0:u)}},{"../internals/array-species-constructor":232}],234:[function(e,s,a){var i=e("../internals/well-known-symbol")("iterator"),o=!1;try{var u=0,c={next:function(){return{done:!!u++}},return:function(){o=!0}};c[i]=function(){return this},Array.from(c,function(){throw 2})}catch{}s.exports=function(l,d){try{if(!d&&!o)return!1}catch{return!1}var p=!1;try{var h={};h[i]=function(){return{next:function(){return{done:p=!0}}}},l(h)}catch{}return p}},{"../internals/well-known-symbol":357}],235:[function(e,s,a){var i=e("../internals/function-uncurry-this"),o=i({}.toString),u=i("".slice);s.exports=function(c){return u(o(c),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,s,a){var i=e("../internals/to-string-tag-support"),o=e("../internals/is-callable"),u=e("../internals/classof-raw"),c=e("../internals/well-known-symbol")("toStringTag"),l=Object,d=u(function(){return arguments}())==="Arguments";s.exports=i?u:function(p){var h,f,b;return p===void 0?"Undefined":p===null?"Null":typeof(f=function(y,g){try{return y[g]}catch{}}(h=l(p),c))=="string"?f:d?u(h):(b=u(h))==="Object"&&o(h.callee)?"Arguments":b}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,s,a){var i=e("../internals/has-own-property"),o=e("../internals/own-keys"),u=e("../internals/object-get-own-property-descriptor"),c=e("../internals/object-define-property");s.exports=function(l,d,p){for(var h=o(d),f=c.f,b=u.f,y=0;y<h.length;y++){var g=h[y];i(l,g)||p&&i(p,g)||f(l,g,b(d,g))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,s,a){var i=e("../internals/well-known-symbol")("match");s.exports=function(o){var u=/./;try{"/./"[o](u)}catch{try{return u[i]=!1,"/./"[o](u)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,s,a){var i=e("../internals/fails");s.exports=!i(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},{"../internals/fails":260}],240:[function(e,s,a){s.exports=function(i,o){return{value:i,done:o}}},{}],241:[function(e,s,a){var i=e("../internals/descriptors"),o=e("../internals/object-define-property"),u=e("../internals/create-property-descriptor");s.exports=i?function(c,l,d){return o.f(c,l,u(1,d))}:function(c,l,d){return c[l]=d,c}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,s,a){s.exports=function(i,o){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:o}}},{}],243:[function(e,s,a){var i=e("../internals/to-property-key"),o=e("../internals/object-define-property"),u=e("../internals/create-property-descriptor");s.exports=function(c,l,d){var p=i(l);p in c?o.f(c,p,u(0,d)):c[p]=d}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,s,a){var i=e("../internals/make-built-in"),o=e("../internals/object-define-property");s.exports=function(u,c,l){return l.get&&i(l.get,c,{getter:!0}),l.set&&i(l.set,c,{setter:!0}),o.f(u,c,l)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,s,a){var i=e("../internals/is-callable"),o=e("../internals/object-define-property"),u=e("../internals/make-built-in"),c=e("../internals/define-global-property");s.exports=function(l,d,p,h){h||(h={});var f=h.enumerable,b=h.name!==void 0?h.name:d;if(i(p)&&u(p,b,h),h.global)f?l[d]=p:c(d,p);else{try{h.unsafe?l[d]&&(f=!0):delete l[d]}catch{}f?l[d]=p:o.f(l,d,{value:p,enumerable:!1,configurable:!h.nonConfigurable,writable:!h.nonWritable})}return l}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,s,a){var i=e("../internals/global"),o=Object.defineProperty;s.exports=function(u,c){try{o(i,u,{value:c,configurable:!0,writable:!0})}catch{i[u]=c}return c}},{"../internals/global":274}],247:[function(e,s,a){var i=e("../internals/fails");s.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(e,s,a){var i=typeof document=="object"&&document.all,o=i===void 0&&i!==void 0;s.exports={all:i,IS_HTMLDDA:o}},{}],249:[function(e,s,a){var i=e("../internals/global"),o=e("../internals/is-object"),u=i.document,c=o(u)&&o(u.createElement);s.exports=function(l){return c?u.createElement(l):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,s,a){var i=e("../internals/engine-is-deno"),o=e("../internals/engine-is-node");s.exports=!i&&!o&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,s,a){s.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,s,a){var i=e("../internals/engine-user-agent");s.exports=/ipad|iphone|ipod/i.test(i)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,s,a){var i=e("../internals/engine-user-agent");s.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},{"../internals/engine-user-agent":256}],254:[function(e,s,a){var i=e("../internals/global"),o=e("../internals/classof-raw");s.exports=o(i.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,s,a){var i=e("../internals/engine-user-agent");s.exports=/web0s(?!.*chrome)/i.test(i)},{"../internals/engine-user-agent":256}],256:[function(e,s,a){s.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,s,a){var i,o,u=e("../internals/global"),c=e("../internals/engine-user-agent"),l=u.process,d=u.Deno,p=l&&l.versions||d&&d.version,h=p&&p.v8;h&&(o=(i=h.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!o&&c&&(!(i=c.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=c.match(/Chrome\/(\d+)/))&&(o=+i[1]),s.exports=o},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,s,a){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,s,a){var i=e("../internals/global"),o=e("../internals/object-get-own-property-descriptor").f,u=e("../internals/create-non-enumerable-property"),c=e("../internals/define-built-in"),l=e("../internals/define-global-property"),d=e("../internals/copy-constructor-properties"),p=e("../internals/is-forced");s.exports=function(h,f){var b,y,g,x,v,w=h.target,S=h.global,D=h.stat;if(b=S?i:D?i[w]||l(w,{}):(i[w]||{}).prototype)for(y in f){if(x=f[y],g=h.dontCallGetSet?(v=o(b,y))&&v.value:b[y],!p(S?y:w+(D?".":"#")+y,h.forced)&&g!==void 0){if(typeof x==typeof g)continue;d(x,g)}(h.sham||g&&g.sham)&&u(x,"sham",!0),c(b,y,x,h)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,s,a){s.exports=function(i){try{return!!i()}catch{return!0}}},{}],261:[function(e,s,a){var i=e("../internals/function-bind-native"),o=Function.prototype,u=o.apply,c=o.call;s.exports=typeof Reflect=="object"&&Reflect.apply||(i?c.bind(u):function(){return c.apply(u,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,s,a){var i=e("../internals/function-uncurry-this-clause"),o=e("../internals/a-callable"),u=e("../internals/function-bind-native"),c=i(i.bind);s.exports=function(l,d){return o(l),d===void 0?l:u?c(l,d):function(){return l.apply(d,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,s,a){var i=e("../internals/fails");s.exports=!i(function(){var o=(function(){}).bind();return typeof o!="function"||o.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(e,s,a){var i=e("../internals/function-bind-native"),o=Function.prototype.call;s.exports=i?o.bind(o):function(){return o.apply(o,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,s,a){var i=e("../internals/descriptors"),o=e("../internals/has-own-property"),u=Function.prototype,c=i&&Object.getOwnPropertyDescriptor,l=o(u,"name"),d=l&&(function(){}).name==="something",p=l&&(!i||i&&c(u,"name").configurable);s.exports={EXISTS:l,PROPER:d,CONFIGURABLE:p}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,s,a){var i=e("../internals/function-uncurry-this"),o=e("../internals/a-callable");s.exports=function(u,c,l){try{return i(o(Object.getOwnPropertyDescriptor(u,c)[l]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,s,a){var i=e("../internals/classof-raw"),o=e("../internals/function-uncurry-this");s.exports=function(u){if(i(u)==="Function")return o(u)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,s,a){var i=e("../internals/function-bind-native"),o=Function.prototype,u=o.call,c=i&&o.bind.bind(u,u);s.exports=i?c:function(l){return function(){return u.apply(l,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,s,a){var i=e("../internals/global"),o=e("../internals/is-callable"),u=function(c){return o(c)?c:void 0};s.exports=function(c,l){return arguments.length<2?u(i[c]):i[c]&&i[c][l]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,s,a){var i=e("../internals/classof"),o=e("../internals/get-method"),u=e("../internals/is-null-or-undefined"),c=e("../internals/iterators"),l=e("../internals/well-known-symbol")("iterator");s.exports=function(d){if(!u(d))return o(d,l)||o(d,"@@iterator")||c[i(d)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,s,a){var i=e("../internals/function-call"),o=e("../internals/a-callable"),u=e("../internals/an-object"),c=e("../internals/try-to-string"),l=e("../internals/get-iterator-method"),d=TypeError;s.exports=function(p,h){var f=arguments.length<2?l(p):h;if(o(f))return u(i(f,p));throw new d(c(p)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,s,a){var i=e("../internals/function-uncurry-this"),o=e("../internals/is-array"),u=e("../internals/is-callable"),c=e("../internals/classof-raw"),l=e("../internals/to-string"),d=i([].push);s.exports=function(p){if(u(p))return p;if(o(p)){for(var h=p.length,f=[],b=0;b<h;b++){var y=p[b];typeof y=="string"?d(f,y):typeof y!="number"&&c(y)!=="Number"&&c(y)!=="String"||d(f,l(y))}var g=f.length,x=!0;return function(v,w){if(x)return x=!1,w;if(o(this))return w;for(var S=0;S<g;S++)if(f[S]===v)return w}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,s,a){var i=e("../internals/a-callable"),o=e("../internals/is-null-or-undefined");s.exports=function(u,c){var l=u[c];return o(l)?void 0:i(l)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,s,a){(function(i){(function(){var o=function(u){return u&&u.Math===Math&&u};s.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof i=="object"&&i)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,s,a){var i=e("../internals/function-uncurry-this"),o=e("../internals/to-object"),u=i({}.hasOwnProperty);s.exports=Object.hasOwn||function(c,l){return u(o(c),l)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,s,a){s.exports={}},{}],277:[function(e,s,a){s.exports=function(i,o){try{arguments.length===1?console.error(i):console.error(i,o)}catch{}}},{}],278:[function(e,s,a){var i=e("../internals/get-built-in");s.exports=i("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,s,a){var i=e("../internals/descriptors"),o=e("../internals/fails"),u=e("../internals/document-create-element");s.exports=!i&&!o(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,s,a){var i=e("../internals/function-uncurry-this"),o=e("../internals/fails"),u=e("../internals/classof-raw"),c=Object,l=i("".split);s.exports=o(function(){return!c("z").propertyIsEnumerable(0)})?function(d){return u(d)==="String"?l(d,""):c(d)}:c},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,s,a){var i=e("../internals/function-uncurry-this"),o=e("../internals/is-callable"),u=e("../internals/shared-store"),c=i(Function.toString);o(u.inspectSource)||(u.inspectSource=function(l){return c(l)}),s.exports=u.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,s,a){var i,o,u,c=e("../internals/weak-map-basic-detection"),l=e("../internals/global"),d=e("../internals/is-object"),p=e("../internals/create-non-enumerable-property"),h=e("../internals/has-own-property"),f=e("../internals/shared-store"),b=e("../internals/shared-key"),y=e("../internals/hidden-keys"),g=l.TypeError,x=l.WeakMap;if(c||f.state){var v=f.state||(f.state=new x);v.get=v.get,v.has=v.has,v.set=v.set,i=function(S,D){if(v.has(S))throw new g("Object already initialized");return D.facade=S,v.set(S,D),D},o=function(S){return v.get(S)||{}},u=function(S){return v.has(S)}}else{var w=b("state");y[w]=!0,i=function(S,D){if(h(S,w))throw new g("Object already initialized");return D.facade=S,p(S,w,D),D},o=function(S){return h(S,w)?S[w]:{}},u=function(S){return h(S,w)}}s.exports={set:i,get:o,has:u,enforce:function(S){return u(S)?o(S):i(S,{})},getterFor:function(S){return function(D){var T;if(!d(D)||(T=o(D)).type!==S)throw new g("Incompatible receiver, "+S+" required");return T}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,s,a){var i=e("../internals/well-known-symbol"),o=e("../internals/iterators"),u=i("iterator"),c=Array.prototype;s.exports=function(l){return l!==void 0&&(o.Array===l||c[u]===l)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,s,a){var i=e("../internals/classof-raw");s.exports=Array.isArray||function(o){return i(o)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,s,a){var i=e("../internals/document-all"),o=i.all;s.exports=i.IS_HTMLDDA?function(u){return typeof u=="function"||u===o}:function(u){return typeof u=="function"}},{"../internals/document-all":248}],286:[function(e,s,a){var i=e("../internals/function-uncurry-this"),o=e("../internals/fails"),u=e("../internals/is-callable"),c=e("../internals/classof"),l=e("../internals/get-built-in"),d=e("../internals/inspect-source"),p=function(){},h=[],f=l("Reflect","construct"),b=/^\s*(?:class|function)\b/,y=i(b.exec),g=!b.test(p),x=function(w){if(!u(w))return!1;try{return f(p,h,w),!0}catch{return!1}},v=function(w){if(!u(w))return!1;switch(c(w)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!y(b,d(w))}catch{return!0}};v.sham=!0,s.exports=!f||o(function(){var w;return x(x.call)||!x(Object)||!x(function(){w=!0})||w})?v:x},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,s,a){var i=e("../internals/fails"),o=e("../internals/is-callable"),u=/#|\.prototype\./,c=function(f,b){var y=d[l(f)];return y===h||y!==p&&(o(b)?i(b):!!b)},l=c.normalize=function(f){return String(f).replace(u,".").toLowerCase()},d=c.data={},p=c.NATIVE="N",h=c.POLYFILL="P";s.exports=c},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,s,a){s.exports=function(i){return i==null}},{}],289:[function(e,s,a){var i=e("../internals/is-callable"),o=e("../internals/document-all"),u=o.all;s.exports=o.IS_HTMLDDA?function(c){return typeof c=="object"?c!==null:i(c)||c===u}:function(c){return typeof c=="object"?c!==null:i(c)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,s,a){s.exports=!1},{}],291:[function(e,s,a){var i=e("../internals/is-object"),o=e("../internals/classof-raw"),u=e("../internals/well-known-symbol")("match");s.exports=function(c){var l;return i(c)&&((l=c[u])!==void 0?!!l:o(c)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,s,a){var i=e("../internals/get-built-in"),o=e("../internals/is-callable"),u=e("../internals/object-is-prototype-of"),c=e("../internals/use-symbol-as-uid"),l=Object;s.exports=c?function(d){return typeof d=="symbol"}:function(d){var p=i("Symbol");return o(p)&&u(p.prototype,l(d))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,s,a){var i=e("../internals/function-bind-context"),o=e("../internals/function-call"),u=e("../internals/an-object"),c=e("../internals/try-to-string"),l=e("../internals/is-array-iterator-method"),d=e("../internals/length-of-array-like"),p=e("../internals/object-is-prototype-of"),h=e("../internals/get-iterator"),f=e("../internals/get-iterator-method"),b=e("../internals/iterator-close"),y=TypeError,g=function(v,w){this.stopped=v,this.result=w},x=g.prototype;s.exports=function(v,w,S){var D,T,R,P,L,O,H,U=S&&S.that,I=!(!S||!S.AS_ENTRIES),F=!(!S||!S.IS_RECORD),A=!(!S||!S.IS_ITERATOR),_=!(!S||!S.INTERRUPTED),E=i(w,U),N=function(B){return D&&b(D,"normal",B),new g(!0,B)},k=function(B){return I?(u(B),_?E(B[0],B[1],N):E(B[0],B[1])):_?E(B,N):E(B)};if(F)D=v.iterator;else if(A)D=v;else{if(!(T=f(v)))throw new y(c(v)+" is not iterable");if(l(T)){for(R=0,P=d(v);P>R;R++)if((L=k(v[R]))&&p(x,L))return L;return new g(!1)}D=h(v,T)}for(O=F?v.next:D.next;!(H=o(O,D)).done;){try{L=k(H.value)}catch(B){b(D,"throw",B)}if(typeof L=="object"&&L&&p(x,L))return L}return new g(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,s,a){var i=e("../internals/function-call"),o=e("../internals/an-object"),u=e("../internals/get-method");s.exports=function(c,l,d){var p,h;o(c);try{if(!(p=u(c,"return"))){if(l==="throw")throw d;return d}p=i(p,c)}catch(f){h=!0,p=f}if(l==="throw")throw d;if(h)throw p;return o(p),d}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,s,a){var i=e("../internals/iterators-core").IteratorPrototype,o=e("../internals/object-create"),u=e("../internals/create-property-descriptor"),c=e("../internals/set-to-string-tag"),l=e("../internals/iterators"),d=function(){return this};s.exports=function(p,h,f,b){var y=h+" Iterator";return p.prototype=o(i,{next:u(+!b,f)}),c(p,y,!1,!0),l[y]=d,p}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/function-call"),u=e("../internals/is-pure"),c=e("../internals/function-name"),l=e("../internals/is-callable"),d=e("../internals/iterator-create-constructor"),p=e("../internals/object-get-prototype-of"),h=e("../internals/object-set-prototype-of"),f=e("../internals/set-to-string-tag"),b=e("../internals/create-non-enumerable-property"),y=e("../internals/define-built-in"),g=e("../internals/well-known-symbol"),x=e("../internals/iterators"),v=e("../internals/iterators-core"),w=c.PROPER,S=c.CONFIGURABLE,D=v.IteratorPrototype,T=v.BUGGY_SAFARI_ITERATORS,R=g("iterator"),P=function(){return this};s.exports=function(L,O,H,U,I,F,A){d(H,O,U);var _,E,N,k=function(V){if(V===I&&Y)return Y;if(!T&&V&&V in M)return M[V];switch(V){case"keys":case"values":case"entries":return function(){return new H(this,V)}}return function(){return new H(this)}},B=O+" Iterator",j=!1,M=L.prototype,G=M[R]||M["@@iterator"]||I&&M[I],Y=!T&&G||k(I),J=O==="Array"&&M.entries||G;if(J&&(_=p(J.call(new L)))!==Object.prototype&&_.next&&(u||p(_)===D||(h?h(_,D):l(_[R])||y(_,R,P)),f(_,B,!0,!0),u&&(x[B]=P)),w&&I==="values"&&G&&G.name!=="values"&&(!u&&S?b(M,"name","values"):(j=!0,Y=function(){return o(G,this)})),I)if(E={values:k("values"),keys:F?Y:k("keys"),entries:k("entries")},A)for(N in E)(T||j||!(N in M))&&y(M,N,E[N]);else i({target:O,proto:!0,forced:T||j},E);return u&&!A||M[R]===Y||y(M,R,Y,{name:I}),x[O]=Y,E}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,s,a){var i,o,u,c=e("../internals/fails"),l=e("../internals/is-callable"),d=e("../internals/is-object"),p=e("../internals/object-create"),h=e("../internals/object-get-prototype-of"),f=e("../internals/define-built-in"),b=e("../internals/well-known-symbol"),y=e("../internals/is-pure"),g=b("iterator"),x=!1;[].keys&&("next"in(u=[].keys())?(o=h(h(u)))!==Object.prototype&&(i=o):x=!0),!d(i)||c(function(){var v={};return i[g].call(v)!==v})?i={}:y&&(i=p(i)),l(i[g])||f(i,g,function(){return this}),s.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:x}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,s,a){arguments[4][276][0].apply(a,arguments)},{dup:276}],299:[function(e,s,a){var i=e("../internals/to-length");s.exports=function(o){return i(o.length)}},{"../internals/to-length":343}],300:[function(e,s,a){var i=e("../internals/function-uncurry-this"),o=e("../internals/fails"),u=e("../internals/is-callable"),c=e("../internals/has-own-property"),l=e("../internals/descriptors"),d=e("../internals/function-name").CONFIGURABLE,p=e("../internals/inspect-source"),h=e("../internals/internal-state"),f=h.enforce,b=h.get,y=String,g=Object.defineProperty,x=i("".slice),v=i("".replace),w=i([].join),S=l&&!o(function(){return g(function(){},"length",{value:8}).length!==8}),D=String(String).split("String"),T=s.exports=function(R,P,L){x(y(P),0,7)==="Symbol("&&(P="["+v(y(P),/^Symbol\(([^)]*)\)/,"$1")+"]"),L&&L.getter&&(P="get "+P),L&&L.setter&&(P="set "+P),(!c(R,"name")||d&&R.name!==P)&&(l?g(R,"name",{value:P,configurable:!0}):R.name=P),S&&L&&c(L,"arity")&&R.length!==L.arity&&g(R,"length",{value:L.arity});try{L&&c(L,"constructor")&&L.constructor?l&&g(R,"prototype",{writable:!1}):R.prototype&&(R.prototype=void 0)}catch{}var O=f(R);return c(O,"source")||(O.source=w(D,typeof P=="string"?P:"")),R};Function.prototype.toString=T(function(){return u(this)&&b(this).source||p(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,s,a){var i=Math.ceil,o=Math.floor;s.exports=Math.trunc||function(u){var c=+u;return(c>0?o:i)(c)}},{}],302:[function(e,s,a){var i,o,u,c,l,d=e("../internals/global"),p=e("../internals/function-bind-context"),h=e("../internals/object-get-own-property-descriptor").f,f=e("../internals/task").set,b=e("../internals/queue"),y=e("../internals/engine-is-ios"),g=e("../internals/engine-is-ios-pebble"),x=e("../internals/engine-is-webos-webkit"),v=e("../internals/engine-is-node"),w=d.MutationObserver||d.WebKitMutationObserver,S=d.document,D=d.process,T=d.Promise,R=h(d,"queueMicrotask"),P=R&&R.value;if(!P){var L=new b,O=function(){var H,U;for(v&&(H=D.domain)&&H.exit();U=L.get();)try{U()}catch(I){throw L.head&&i(),I}H&&H.enter()};y||v||x||!w||!S?!g&&T&&T.resolve?((c=T.resolve(void 0)).constructor=T,l=p(c.then,c),i=function(){l(O)}):v?i=function(){D.nextTick(O)}:(f=p(f,d),i=function(){f(O)}):(o=!0,u=S.createTextNode(""),new w(O).observe(u,{characterData:!0}),i=function(){u.data=o=!o}),P=function(H){L.head||i(),L.add(H)}}s.exports=P},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,s,a){var i=e("../internals/a-callable"),o=TypeError,u=function(c){var l,d;this.promise=new c(function(p,h){if(l!==void 0||d!==void 0)throw new o("Bad Promise constructor");l=p,d=h}),this.resolve=i(l),this.reject=i(d)};s.exports.f=function(c){return new u(c)}},{"../internals/a-callable":222}],304:[function(e,s,a){var i=e("../internals/is-regexp"),o=TypeError;s.exports=function(u){if(i(u))throw new o("The method doesn't accept regular expressions");return u}},{"../internals/is-regexp":291}],305:[function(e,s,a){var i=e("../internals/descriptors"),o=e("../internals/function-uncurry-this"),u=e("../internals/function-call"),c=e("../internals/fails"),l=e("../internals/object-keys"),d=e("../internals/object-get-own-property-symbols"),p=e("../internals/object-property-is-enumerable"),h=e("../internals/to-object"),f=e("../internals/indexed-object"),b=Object.assign,y=Object.defineProperty,g=o([].concat);s.exports=!b||c(function(){if(i&&b({b:1},b(y({},"a",{enumerable:!0,get:function(){y(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var x={},v={},w=Symbol("assign detection");return x[w]=7,"abcdefghijklmnopqrst".split("").forEach(function(S){v[S]=S}),b({},x)[w]!==7||l(b({},v)).join("")!=="abcdefghijklmnopqrst"})?function(x,v){for(var w=h(x),S=arguments.length,D=1,T=d.f,R=p.f;S>D;)for(var P,L=f(arguments[D++]),O=T?g(l(L),T(L)):l(L),H=O.length,U=0;H>U;)P=O[U++],i&&!u(R,L,P)||(w[P]=L[P]);return w}:b},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,s,a){var i,o=e("../internals/an-object"),u=e("../internals/object-define-properties"),c=e("../internals/enum-bug-keys"),l=e("../internals/hidden-keys"),d=e("../internals/html"),p=e("../internals/document-create-element"),h=e("../internals/shared-key"),f=h("IE_PROTO"),b=function(){},y=function(v){return"<script>"+v+"<\/script>"},g=function(v){v.write(y("")),v.close();var w=v.parentWindow.Object;return v=null,w},x=function(){try{i=new ActiveXObject("htmlfile")}catch{}var v,w;x=typeof document<"u"?document.domain&&i?g(i):((w=p("iframe")).style.display="none",d.appendChild(w),w.src="javascript:",(v=w.contentWindow.document).open(),v.write(y("document.F=Object")),v.close(),v.F):g(i);for(var S=c.length;S--;)delete x.prototype[c[S]];return x()};l[f]=!0,s.exports=Object.create||function(v,w){var S;return v!==null?(b.prototype=o(v),S=new b,b.prototype=null,S[f]=v):S=x(),w===void 0?S:u.f(S,w)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,s,a){var i=e("../internals/descriptors"),o=e("../internals/v8-prototype-define-bug"),u=e("../internals/object-define-property"),c=e("../internals/an-object"),l=e("../internals/to-indexed-object"),d=e("../internals/object-keys");a.f=i&&!o?Object.defineProperties:function(p,h){c(p);for(var f,b=l(h),y=d(h),g=y.length,x=0;g>x;)u.f(p,f=y[x++],b[f]);return p}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,s,a){var i=e("../internals/descriptors"),o=e("../internals/ie8-dom-define"),u=e("../internals/v8-prototype-define-bug"),c=e("../internals/an-object"),l=e("../internals/to-property-key"),d=TypeError,p=Object.defineProperty,h=Object.getOwnPropertyDescriptor;a.f=i?u?function(f,b,y){if(c(f),b=l(b),c(y),typeof f=="function"&&b==="prototype"&&"value"in y&&"writable"in y&&!y.writable){var g=h(f,b);g&&g.writable&&(f[b]=y.value,y={configurable:"configurable"in y?y.configurable:g.configurable,enumerable:"enumerable"in y?y.enumerable:g.enumerable,writable:!1})}return p(f,b,y)}:p:function(f,b,y){if(c(f),b=l(b),c(y),o)try{return p(f,b,y)}catch{}if("get"in y||"set"in y)throw new d("Accessors not supported");return"value"in y&&(f[b]=y.value),f}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,s,a){var i=e("../internals/descriptors"),o=e("../internals/function-call"),u=e("../internals/object-property-is-enumerable"),c=e("../internals/create-property-descriptor"),l=e("../internals/to-indexed-object"),d=e("../internals/to-property-key"),p=e("../internals/has-own-property"),h=e("../internals/ie8-dom-define"),f=Object.getOwnPropertyDescriptor;a.f=i?f:function(b,y){if(b=l(b),y=d(y),h)try{return f(b,y)}catch{}if(p(b,y))return c(!o(u.f,b,y),b[y])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,s,a){var i=e("../internals/classof-raw"),o=e("../internals/to-indexed-object"),u=e("../internals/object-get-own-property-names").f,c=e("../internals/array-slice-simple"),l=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];s.exports.f=function(d){return l&&i(d)==="Window"?function(p){try{return u(p)}catch{return c(l)}}(d):u(o(d))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,s,a){var i=e("../internals/object-keys-internal"),o=e("../internals/enum-bug-keys").concat("length","prototype");a.f=Object.getOwnPropertyNames||function(u){return i(u,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,s,a){a.f=Object.getOwnPropertySymbols},{}],313:[function(e,s,a){var i=e("../internals/has-own-property"),o=e("../internals/is-callable"),u=e("../internals/to-object"),c=e("../internals/shared-key"),l=e("../internals/correct-prototype-getter"),d=c("IE_PROTO"),p=Object,h=p.prototype;s.exports=l?p.getPrototypeOf:function(f){var b=u(f);if(i(b,d))return b[d];var y=b.constructor;return o(y)&&b instanceof y?y.prototype:b instanceof p?h:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,s,a){var i=e("../internals/function-uncurry-this");s.exports=i({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,s,a){var i=e("../internals/function-uncurry-this"),o=e("../internals/has-own-property"),u=e("../internals/to-indexed-object"),c=e("../internals/array-includes").indexOf,l=e("../internals/hidden-keys"),d=i([].push);s.exports=function(p,h){var f,b=u(p),y=0,g=[];for(f in b)!o(l,f)&&o(b,f)&&d(g,f);for(;h.length>y;)o(b,f=h[y++])&&(~c(g,f)||d(g,f));return g}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,s,a){var i=e("../internals/object-keys-internal"),o=e("../internals/enum-bug-keys");s.exports=Object.keys||function(u){return i(u,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,s,a){var i={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,u=o&&!i.call({1:2},1);a.f=u?function(c){var l=o(this,c);return!!l&&l.enumerable}:i},{}],318:[function(e,s,a){var i=e("../internals/function-uncurry-this-accessor"),o=e("../internals/an-object"),u=e("../internals/a-possible-prototype");s.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c,l=!1,d={};try{(c=i(Object.prototype,"__proto__","set"))(d,[]),l=d instanceof Array}catch{}return function(p,h){return o(p),u(h),l?c(p,h):p.__proto__=h,p}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,s,a){var i=e("../internals/descriptors"),o=e("../internals/fails"),u=e("../internals/function-uncurry-this"),c=e("../internals/object-get-prototype-of"),l=e("../internals/object-keys"),d=e("../internals/to-indexed-object"),p=u(e("../internals/object-property-is-enumerable").f),h=u([].push),f=i&&o(function(){var y=Object.create(null);return y[2]=2,!p(y,2)}),b=function(y){return function(g){for(var x,v=d(g),w=l(v),S=f&&c(v)===null,D=w.length,T=0,R=[];D>T;)x=w[T++],i&&!(S?x in v:p(v,x))||h(R,y?[x,v[x]]:v[x]);return R}};s.exports={entries:b(!0),values:b(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,s,a){var i=e("../internals/function-call"),o=e("../internals/is-callable"),u=e("../internals/is-object"),c=TypeError;s.exports=function(l,d){var p,h;if(d==="string"&&o(p=l.toString)&&!u(h=i(p,l))||o(p=l.valueOf)&&!u(h=i(p,l))||d!=="string"&&o(p=l.toString)&&!u(h=i(p,l)))return h;throw new c("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,s,a){var i=e("../internals/get-built-in"),o=e("../internals/function-uncurry-this"),u=e("../internals/object-get-own-property-names"),c=e("../internals/object-get-own-property-symbols"),l=e("../internals/an-object"),d=o([].concat);s.exports=i("Reflect","ownKeys")||function(p){var h=u.f(l(p)),f=c.f;return f?d(h,f(p)):h}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,s,a){var i=e("../internals/global");s.exports=i},{"../internals/global":274}],323:[function(e,s,a){s.exports=function(i){try{return{error:!1,value:i()}}catch(o){return{error:!0,value:o}}}},{}],324:[function(e,s,a){var i=e("../internals/global"),o=e("../internals/promise-native-constructor"),u=e("../internals/is-callable"),c=e("../internals/is-forced"),l=e("../internals/inspect-source"),d=e("../internals/well-known-symbol"),p=e("../internals/engine-is-browser"),h=e("../internals/engine-is-deno"),f=e("../internals/is-pure"),b=e("../internals/engine-v8-version"),y=o&&o.prototype,g=d("species"),x=!1,v=u(i.PromiseRejectionEvent),w=c("Promise",function(){var S=l(o),D=S!==String(o);if(!D&&b===66||f&&(!y.catch||!y.finally))return!0;if(!b||b<51||!/native code/.test(S)){var T=new o(function(P){P(1)}),R=function(P){P(function(){},function(){})};if((T.constructor={})[g]=R,!(x=T.then(function(){})instanceof R))return!0}return!D&&(p||h)&&!v});s.exports={CONSTRUCTOR:w,REJECTION_EVENT:v,SUBCLASSING:x}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,s,a){var i=e("../internals/global");s.exports=i.Promise},{"../internals/global":274}],326:[function(e,s,a){var i=e("../internals/an-object"),o=e("../internals/is-object"),u=e("../internals/new-promise-capability");s.exports=function(c,l){if(i(c),o(l)&&l.constructor===c)return l;var d=u.f(c);return(0,d.resolve)(l),d.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,s,a){var i=e("../internals/promise-native-constructor"),o=e("../internals/check-correctness-of-iteration"),u=e("../internals/promise-constructor-detection").CONSTRUCTOR;s.exports=u||!o(function(c){i.all(c).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,s,a){var i=function(){this.head=null,this.tail=null};i.prototype={add:function(o){var u={item:o,next:null},c=this.tail;c?c.next=u:this.head=u,this.tail=u},get:function(){var o=this.head;if(o)return(this.head=o.next)===null&&(this.tail=null),o.item}},s.exports=i},{}],329:[function(e,s,a){var i=e("../internals/is-null-or-undefined"),o=TypeError;s.exports=function(u){if(i(u))throw new o("Can't call method on "+u);return u}},{"../internals/is-null-or-undefined":288}],330:[function(e,s,a){var i=e("../internals/get-built-in"),o=e("../internals/define-built-in-accessor"),u=e("../internals/well-known-symbol"),c=e("../internals/descriptors"),l=u("species");s.exports=function(d){var p=i(d);c&&p&&!p[l]&&o(p,l,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,s,a){var i=e("../internals/object-define-property").f,o=e("../internals/has-own-property"),u=e("../internals/well-known-symbol")("toStringTag");s.exports=function(c,l,d){c&&!d&&(c=c.prototype),c&&!o(c,u)&&i(c,u,{configurable:!0,value:l})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,s,a){var i=e("../internals/shared"),o=e("../internals/uid"),u=i("keys");s.exports=function(c){return u[c]||(u[c]=o(c))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,s,a){var i=e("../internals/global"),o=e("../internals/define-global-property"),u=i["__core-js_shared__"]||o("__core-js_shared__",{});s.exports=u},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,s,a){var i=e("../internals/is-pure"),o=e("../internals/shared-store");(s.exports=function(u,c){return o[u]||(o[u]=c!==void 0?c:{})})("versions",[]).push({version:"3.33.0",mode:i?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,s,a){var i=e("../internals/an-object"),o=e("../internals/a-constructor"),u=e("../internals/is-null-or-undefined"),c=e("../internals/well-known-symbol")("species");s.exports=function(l,d){var p,h=i(l).constructor;return h===void 0||u(p=i(h)[c])?d:o(p)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,s,a){var i=e("../internals/engine-v8-version"),o=e("../internals/fails"),u=e("../internals/global").String;s.exports=!!Object.getOwnPropertySymbols&&!o(function(){var c=Symbol("symbol detection");return!u(c)||!(Object(c)instanceof Symbol)||!Symbol.sham&&i&&i<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,s,a){var i=e("../internals/function-call"),o=e("../internals/get-built-in"),u=e("../internals/well-known-symbol"),c=e("../internals/define-built-in");s.exports=function(){var l=o("Symbol"),d=l&&l.prototype,p=d&&d.valueOf,h=u("toPrimitive");d&&!d[h]&&c(d,h,function(f){return i(p,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,s,a){var i=e("../internals/symbol-constructor-detection");s.exports=i&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,s,a){var i,o,u,c,l=e("../internals/global"),d=e("../internals/function-apply"),p=e("../internals/function-bind-context"),h=e("../internals/is-callable"),f=e("../internals/has-own-property"),b=e("../internals/fails"),y=e("../internals/html"),g=e("../internals/array-slice"),x=e("../internals/document-create-element"),v=e("../internals/validate-arguments-length"),w=e("../internals/engine-is-ios"),S=e("../internals/engine-is-node"),D=l.setImmediate,T=l.clearImmediate,R=l.process,P=l.Dispatch,L=l.Function,O=l.MessageChannel,H=l.String,U=0,I={};b(function(){i=l.location});var F=function(N){if(f(I,N)){var k=I[N];delete I[N],k()}},A=function(N){return function(){F(N)}},_=function(N){F(N.data)},E=function(N){l.postMessage(H(N),i.protocol+"//"+i.host)};D&&T||(D=function(N){v(arguments.length,1);var k=h(N)?N:L(N),B=g(arguments,1);return I[++U]=function(){d(k,void 0,B)},o(U),U},T=function(N){delete I[N]},S?o=function(N){R.nextTick(A(N))}:P&&P.now?o=function(N){P.now(A(N))}:O&&!w?(c=(u=new O).port2,u.port1.onmessage=_,o=p(c.postMessage,c)):l.addEventListener&&h(l.postMessage)&&!l.importScripts&&i&&i.protocol!=="file:"&&!b(E)?(o=E,l.addEventListener("message",_,!1)):o="onreadystatechange"in x("script")?function(N){y.appendChild(x("script")).onreadystatechange=function(){y.removeChild(this),F(N)}}:function(N){setTimeout(A(N),0)}),s.exports={set:D,clear:T}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,s,a){var i=e("../internals/to-integer-or-infinity"),o=Math.max,u=Math.min;s.exports=function(c,l){var d=i(c);return d<0?o(d+l,0):u(d,l)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,s,a){var i=e("../internals/indexed-object"),o=e("../internals/require-object-coercible");s.exports=function(u){return i(o(u))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,s,a){var i=e("../internals/math-trunc");s.exports=function(o){var u=+o;return u!=u||u===0?0:i(u)}},{"../internals/math-trunc":301}],343:[function(e,s,a){var i=e("../internals/to-integer-or-infinity"),o=Math.min;s.exports=function(u){return u>0?o(i(u),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,s,a){var i=e("../internals/require-object-coercible"),o=Object;s.exports=function(u){return o(i(u))}},{"../internals/require-object-coercible":329}],345:[function(e,s,a){var i=e("../internals/function-call"),o=e("../internals/is-object"),u=e("../internals/is-symbol"),c=e("../internals/get-method"),l=e("../internals/ordinary-to-primitive"),d=e("../internals/well-known-symbol"),p=TypeError,h=d("toPrimitive");s.exports=function(f,b){if(!o(f)||u(f))return f;var y,g=c(f,h);if(g){if(b===void 0&&(b="default"),y=i(g,f,b),!o(y)||u(y))return y;throw new p("Can't convert object to primitive value")}return b===void 0&&(b="number"),l(f,b)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,s,a){var i=e("../internals/to-primitive"),o=e("../internals/is-symbol");s.exports=function(u){var c=i(u,"string");return o(c)?c:c+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,s,a){var i={};i[e("../internals/well-known-symbol")("toStringTag")]="z",s.exports=String(i)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,s,a){var i=e("../internals/classof"),o=String;s.exports=function(u){if(i(u)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return o(u)}},{"../internals/classof":236}],349:[function(e,s,a){var i=String;s.exports=function(o){try{return i(o)}catch{return"Object"}}},{}],350:[function(e,s,a){var i=e("../internals/function-uncurry-this"),o=0,u=Math.random(),c=i(1 .toString);s.exports=function(l){return"Symbol("+(l===void 0?"":l)+")_"+c(++o+u,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,s,a){var i=e("../internals/symbol-constructor-detection");s.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,s,a){var i=e("../internals/descriptors"),o=e("../internals/fails");s.exports=i&&o(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,s,a){var i=TypeError;s.exports=function(o,u){if(o<u)throw new i("Not enough arguments");return o}},{}],354:[function(e,s,a){var i=e("../internals/global"),o=e("../internals/is-callable"),u=i.WeakMap;s.exports=o(u)&&/native code/.test(String(u))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,s,a){var i=e("../internals/path"),o=e("../internals/has-own-property"),u=e("../internals/well-known-symbol-wrapped"),c=e("../internals/object-define-property").f;s.exports=function(l){var d=i.Symbol||(i.Symbol={});o(d,l)||c(d,l,{value:u.f(l)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,s,a){var i=e("../internals/well-known-symbol");a.f=i},{"../internals/well-known-symbol":357}],357:[function(e,s,a){var i=e("../internals/global"),o=e("../internals/shared"),u=e("../internals/has-own-property"),c=e("../internals/uid"),l=e("../internals/symbol-constructor-detection"),d=e("../internals/use-symbol-as-uid"),p=i.Symbol,h=o("wks"),f=d?p.for||p:p&&p.withoutSetter||c;s.exports=function(b){return u(h,b)||(h[b]=l&&u(p,b)?p[b]:f("Symbol."+b)),h[b]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/array-iteration").findIndex,u=e("../internals/add-to-unscopables"),c=!0;"findIndex"in[]&&Array(1).findIndex(function(){c=!1}),i({target:"Array",proto:!0,forced:c},{findIndex:function(l){return o(this,l,arguments.length>1?arguments[1]:void 0)}}),u("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/array-iteration").find,u=e("../internals/add-to-unscopables"),c=!0;"find"in[]&&Array(1).find(function(){c=!1}),i({target:"Array",proto:!0,forced:c},{find:function(l){return o(this,l,arguments.length>1?arguments[1]:void 0)}}),u("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/array-includes").includes,u=e("../internals/fails"),c=e("../internals/add-to-unscopables");i({target:"Array",proto:!0,forced:u(function(){return!Array(1).includes()})},{includes:function(l){return o(this,l,arguments.length>1?arguments[1]:void 0)}}),c("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,s,a){var i=e("../internals/to-indexed-object"),o=e("../internals/add-to-unscopables"),u=e("../internals/iterators"),c=e("../internals/internal-state"),l=e("../internals/object-define-property").f,d=e("../internals/iterator-define"),p=e("../internals/create-iter-result-object"),h=e("../internals/is-pure"),f=e("../internals/descriptors"),b=c.set,y=c.getterFor("Array Iterator");s.exports=d(Array,"Array",function(x,v){b(this,{type:"Array Iterator",target:i(x),index:0,kind:v})},function(){var x=y(this),v=x.target,w=x.kind,S=x.index++;if(!v||S>=v.length)return x.target=void 0,p(void 0,!0);switch(w){case"keys":return p(S,!1);case"values":return p(v[S],!1)}return p([S,v[S]],!1)},"values");var g=u.Arguments=u.Array;if(o("keys"),o("values"),o("entries"),!h&&f&&g.name!=="values")try{l(g,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/get-built-in"),u=e("../internals/function-apply"),c=e("../internals/function-call"),l=e("../internals/function-uncurry-this"),d=e("../internals/fails"),p=e("../internals/is-callable"),h=e("../internals/is-symbol"),f=e("../internals/array-slice"),b=e("../internals/get-json-replacer-function"),y=e("../internals/symbol-constructor-detection"),g=String,x=o("JSON","stringify"),v=l(/./.exec),w=l("".charAt),S=l("".charCodeAt),D=l("".replace),T=l(1 .toString),R=/[\uD800-\uDFFF]/g,P=/^[\uD800-\uDBFF]$/,L=/^[\uDC00-\uDFFF]$/,O=!y||d(function(){var F=o("Symbol")("stringify detection");return x([F])!=="[null]"||x({a:F})!=="{}"||x(Object(F))!=="{}"}),H=d(function(){return x("\uDF06\uD834")!=='"\\udf06\\ud834"'||x("\uDEAD")!=='"\\udead"'}),U=function(F,A){var _=f(arguments),E=b(A);if(p(E)||F!==void 0&&!h(F))return _[1]=function(N,k){if(p(E)&&(k=c(E,this,g(N),k)),!h(k))return k},u(x,null,_)},I=function(F,A,_){var E=w(_,A-1),N=w(_,A+1);return v(P,F)&&!v(L,N)||v(L,F)&&!v(P,E)?"\\u"+T(S(F,0),16):F};x&&i({target:"JSON",stat:!0,arity:3,forced:O||H},{stringify:function(F,A,_){var E=f(arguments),N=u(O?U:x,null,E);return H&&typeof N=="string"?D(N,R,I):N}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,s,a){e("../internals/export")({target:"Number",stat:!0},{isNaN:function(i){return i!=i}})},{"../internals/export":259}],364:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/object-assign");i({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/symbol-constructor-detection"),u=e("../internals/fails"),c=e("../internals/object-get-own-property-symbols"),l=e("../internals/to-object");i({target:"Object",stat:!0,forced:!o||u(function(){c.f(1)})},{getOwnPropertySymbols:function(d){var p=c.f;return p?p(l(d)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/to-object"),u=e("../internals/object-keys");i({target:"Object",stat:!0,forced:e("../internals/fails")(function(){u(1)})},{keys:function(c){return u(o(c))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/object-to-array").values;i({target:"Object",stat:!0},{values:function(u){return o(u)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/function-call"),u=e("../internals/a-callable"),c=e("../internals/new-promise-capability"),l=e("../internals/perform"),d=e("../internals/iterate");i({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{all:function(p){var h=this,f=c.f(h),b=f.resolve,y=f.reject,g=l(function(){var x=u(h.resolve),v=[],w=0,S=1;d(p,function(D){var T=w++,R=!1;S++,o(x,h,D).then(function(P){R||(R=!0,v[T]=P,--S||b(v))},y)}),--S||b(v)});return g.error&&y(g.value),f.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/is-pure"),u=e("../internals/promise-constructor-detection").CONSTRUCTOR,c=e("../internals/promise-native-constructor"),l=e("../internals/get-built-in"),d=e("../internals/is-callable"),p=e("../internals/define-built-in"),h=c&&c.prototype;if(i({target:"Promise",proto:!0,forced:u,real:!0},{catch:function(b){return this.then(void 0,b)}}),!o&&d(c)){var f=l("Promise").prototype.catch;h.catch!==f&&p(h,"catch",f,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,s,a){var i,o,u,c=e("../internals/export"),l=e("../internals/is-pure"),d=e("../internals/engine-is-node"),p=e("../internals/global"),h=e("../internals/function-call"),f=e("../internals/define-built-in"),b=e("../internals/object-set-prototype-of"),y=e("../internals/set-to-string-tag"),g=e("../internals/set-species"),x=e("../internals/a-callable"),v=e("../internals/is-callable"),w=e("../internals/is-object"),S=e("../internals/an-instance"),D=e("../internals/species-constructor"),T=e("../internals/task").set,R=e("../internals/microtask"),P=e("../internals/host-report-errors"),L=e("../internals/perform"),O=e("../internals/queue"),H=e("../internals/internal-state"),U=e("../internals/promise-native-constructor"),I=e("../internals/promise-constructor-detection"),F=e("../internals/new-promise-capability"),A=I.CONSTRUCTOR,_=I.REJECTION_EVENT,E=I.SUBCLASSING,N=H.getterFor("Promise"),k=H.set,B=U&&U.prototype,j=U,M=B,G=p.TypeError,Y=p.document,J=p.process,V=F.f,Q=V,q=!!(Y&&Y.createEvent&&p.dispatchEvent),z=function(xe){var Oe;return!(!w(xe)||!v(Oe=xe.then))&&Oe},Z=function(xe,Oe){var Ae,Le,He,Ye=Oe.value,it=Oe.state===1,bt=it?xe.ok:xe.fail,tt=xe.resolve,$e=xe.reject,at=xe.domain;try{bt?(it||(Oe.rejection===2&&ie(Oe),Oe.rejection=1),bt===!0?Ae=Ye:(at&&at.enter(),Ae=bt(Ye),at&&(at.exit(),He=!0)),Ae===xe.promise?$e(new G("Promise-chain cycle")):(Le=z(Ae))?h(Le,Ae,tt,$e):tt(Ae)):$e(Ye)}catch(ze){at&&!He&&at.exit(),$e(ze)}},re=function(xe,Oe){xe.notified||(xe.notified=!0,R(function(){for(var Ae,Le=xe.reactions;Ae=Le.get();)Z(Ae,xe);xe.notified=!1,Oe&&!xe.rejection&&ue(xe)}))},le=function(xe,Oe,Ae){var Le,He;q?((Le=Y.createEvent("Event")).promise=Oe,Le.reason=Ae,Le.initEvent(xe,!1,!0),p.dispatchEvent(Le)):Le={promise:Oe,reason:Ae},!_&&(He=p["on"+xe])?He(Le):xe==="unhandledrejection"&&P("Unhandled promise rejection",Ae)},ue=function(xe){h(T,p,function(){var Oe,Ae=xe.facade,Le=xe.value;if(ce(xe)&&(Oe=L(function(){d?J.emit("unhandledRejection",Le,Ae):le("unhandledrejection",Ae,Le)}),xe.rejection=d||ce(xe)?2:1,Oe.error))throw Oe.value})},ce=function(xe){return xe.rejection!==1&&!xe.parent},ie=function(xe){h(T,p,function(){var Oe=xe.facade;d?J.emit("rejectionHandled",Oe):le("rejectionhandled",Oe,xe.value)})},ye=function(xe,Oe,Ae){return function(Le){xe(Oe,Le,Ae)}},he=function(xe,Oe,Ae){xe.done||(xe.done=!0,Ae&&(xe=Ae),xe.value=Oe,xe.state=2,re(xe,!0))},pe=function(xe,Oe,Ae){if(!xe.done){xe.done=!0,Ae&&(xe=Ae);try{if(xe.facade===Oe)throw new G("Promise can't be resolved itself");var Le=z(Oe);Le?R(function(){var He={done:!1};try{h(Le,Oe,ye(pe,He,xe),ye(he,He,xe))}catch(Ye){he(He,Ye,xe)}}):(xe.value=Oe,xe.state=1,re(xe,!1))}catch(He){he({done:!1},He,xe)}}};if(A&&(M=(j=function(xe){S(this,M),x(xe),h(i,this);var Oe=N(this);try{xe(ye(pe,Oe),ye(he,Oe))}catch(Ae){he(Oe,Ae)}}).prototype,(i=function(xe){k(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new O,rejection:!1,state:0,value:void 0})}).prototype=f(M,"then",function(xe,Oe){var Ae=N(this),Le=V(D(this,j));return Ae.parent=!0,Le.ok=!v(xe)||xe,Le.fail=v(Oe)&&Oe,Le.domain=d?J.domain:void 0,Ae.state===0?Ae.reactions.add(Le):R(function(){Z(Le,Ae)}),Le.promise}),o=function(){var xe=new i,Oe=N(xe);this.promise=xe,this.resolve=ye(pe,Oe),this.reject=ye(he,Oe)},F.f=V=function(xe){return xe===j||xe===void 0?new o(xe):Q(xe)},!l&&v(U)&&B!==Object.prototype)){u=B.then,E||f(B,"then",function(xe,Oe){var Ae=this;return new j(function(Le,He){h(u,Ae,Le,He)}).then(xe,Oe)},{unsafe:!0});try{delete B.constructor}catch{}b&&b(B,M)}c({global:!0,constructor:!0,wrap:!0,forced:A},{Promise:j}),y(j,"Promise",!1,!0),g("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/is-pure"),u=e("../internals/promise-native-constructor"),c=e("../internals/fails"),l=e("../internals/get-built-in"),d=e("../internals/is-callable"),p=e("../internals/species-constructor"),h=e("../internals/promise-resolve"),f=e("../internals/define-built-in"),b=u&&u.prototype;if(i({target:"Promise",proto:!0,real:!0,forced:!!u&&c(function(){b.finally.call({then:function(){}},function(){})})},{finally:function(g){var x=p(this,l("Promise")),v=d(g);return this.then(v?function(w){return h(x,g()).then(function(){return w})}:g,v?function(w){return h(x,g()).then(function(){throw w})}:g)}}),!o&&d(u)){var y=l("Promise").prototype.finally;b.finally!==y&&f(b,"finally",y,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,s,a){e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/function-call"),u=e("../internals/a-callable"),c=e("../internals/new-promise-capability"),l=e("../internals/perform"),d=e("../internals/iterate");i({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{race:function(p){var h=this,f=c.f(h),b=f.reject,y=l(function(){var g=u(h.resolve);d(p,function(x){o(g,h,x).then(f.resolve,b)})});return y.error&&b(y.value),f.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/function-call"),u=e("../internals/new-promise-capability");i({target:"Promise",stat:!0,forced:e("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(c){var l=u.f(this);return o(l.reject,void 0,c),l.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/get-built-in"),u=e("../internals/is-pure"),c=e("../internals/promise-native-constructor"),l=e("../internals/promise-constructor-detection").CONSTRUCTOR,d=e("../internals/promise-resolve"),p=o("Promise"),h=u&&!l;i({target:"Promise",stat:!0,forced:u||l},{resolve:function(f){return d(h&&this===p?c:this,f)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/function-uncurry-this"),u=e("../internals/to-absolute-index"),c=RangeError,l=String.fromCharCode,d=String.fromCodePoint,p=o([].join);i({target:"String",stat:!0,arity:1,forced:!!d&&d.length!==1},{fromCodePoint:function(h){for(var f,b=[],y=arguments.length,g=0;y>g;){if(f=+arguments[g++],u(f,1114111)!==f)throw new c(f+" is not a valid code point");b[g]=f<65536?l(f):l(55296+((f-=65536)>>10),f%1024+56320)}return p(b,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/function-uncurry-this"),u=e("../internals/not-a-regexp"),c=e("../internals/require-object-coercible"),l=e("../internals/to-string"),d=e("../internals/correct-is-regexp-logic"),p=o("".indexOf);i({target:"String",proto:!0,forced:!d("includes")},{includes:function(h){return!!~p(l(c(this)),l(u(h)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,s,a){e("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/global"),u=e("../internals/function-call"),c=e("../internals/function-uncurry-this"),l=e("../internals/is-pure"),d=e("../internals/descriptors"),p=e("../internals/symbol-constructor-detection"),h=e("../internals/fails"),f=e("../internals/has-own-property"),b=e("../internals/object-is-prototype-of"),y=e("../internals/an-object"),g=e("../internals/to-indexed-object"),x=e("../internals/to-property-key"),v=e("../internals/to-string"),w=e("../internals/create-property-descriptor"),S=e("../internals/object-create"),D=e("../internals/object-keys"),T=e("../internals/object-get-own-property-names"),R=e("../internals/object-get-own-property-names-external"),P=e("../internals/object-get-own-property-symbols"),L=e("../internals/object-get-own-property-descriptor"),O=e("../internals/object-define-property"),H=e("../internals/object-define-properties"),U=e("../internals/object-property-is-enumerable"),I=e("../internals/define-built-in"),F=e("../internals/define-built-in-accessor"),A=e("../internals/shared"),_=e("../internals/shared-key"),E=e("../internals/hidden-keys"),N=e("../internals/uid"),k=e("../internals/well-known-symbol"),B=e("../internals/well-known-symbol-wrapped"),j=e("../internals/well-known-symbol-define"),M=e("../internals/symbol-define-to-primitive"),G=e("../internals/set-to-string-tag"),Y=e("../internals/internal-state"),J=e("../internals/array-iteration").forEach,V=_("hidden"),Q=Y.set,q=Y.getterFor("Symbol"),z=Object.prototype,Z=o.Symbol,re=Z&&Z.prototype,le=o.RangeError,ue=o.TypeError,ce=o.QObject,ie=L.f,ye=O.f,he=R.f,pe=U.f,xe=c([].push),Oe=A("symbols"),Ae=A("op-symbols"),Le=A("wks"),He=!ce||!ce.prototype||!ce.prototype.findChild,Ye=function(kt,pt,At){var $t=ie(z,pt);$t&&delete z[pt],ye(kt,pt,At),$t&&kt!==z&&ye(z,pt,$t)},it=d&&h(function(){return S(ye({},"a",{get:function(){return ye(this,"a",{value:7}).a}})).a!==7})?Ye:ye,bt=function(kt,pt){var At=Oe[kt]=S(re);return Q(At,{type:"Symbol",tag:kt,description:pt}),d||(At.description=pt),At},tt=function(kt,pt,At){kt===z&&tt(Ae,pt,At),y(kt);var $t=x(pt);return y(At),f(Oe,$t)?(At.enumerable?(f(kt,V)&&kt[V][$t]&&(kt[V][$t]=!1),At=S(At,{enumerable:w(0,!1)})):(f(kt,V)||ye(kt,V,w(1,{})),kt[V][$t]=!0),it(kt,$t,At)):ye(kt,$t,At)},$e=function(kt,pt){y(kt);var At=g(pt),$t=D(At).concat(vt(At));return J($t,function(Tt){d&&!u(at,At,Tt)||tt(kt,Tt,At[Tt])}),kt},at=function(kt){var pt=x(kt),At=u(pe,this,pt);return!(this===z&&f(Oe,pt)&&!f(Ae,pt))&&(!(At||!f(this,pt)||!f(Oe,pt)||f(this,V)&&this[V][pt])||At)},ze=function(kt,pt){var At=g(kt),$t=x(pt);if(At!==z||!f(Oe,$t)||f(Ae,$t)){var Tt=ie(At,$t);return!Tt||!f(Oe,$t)||f(At,V)&&At[V][$t]||(Tt.enumerable=!0),Tt}},wt=function(kt){var pt=he(g(kt)),At=[];return J(pt,function($t){f(Oe,$t)||f(E,$t)||xe(At,$t)}),At},vt=function(kt){var pt=kt===z,At=he(pt?Ae:g(kt)),$t=[];return J(At,function(Tt){!f(Oe,Tt)||pt&&!f(z,Tt)||xe($t,Oe[Tt])}),$t};p||(I(re=(Z=function(){if(b(re,this))throw new ue("Symbol is not a constructor");var kt=arguments.length&&arguments[0]!==void 0?v(arguments[0]):void 0,pt=N(kt),At=function($t){this===z&&u(At,Ae,$t),f(this,V)&&f(this[V],pt)&&(this[V][pt]=!1);var Tt=w(1,$t);try{it(this,pt,Tt)}catch(fr){if(!(fr instanceof le))throw fr;Ye(this,pt,Tt)}};return d&&He&&it(z,pt,{configurable:!0,set:At}),bt(pt,kt)}).prototype,"toString",function(){return q(this).tag}),I(Z,"withoutSetter",function(kt){return bt(N(kt),kt)}),U.f=at,O.f=tt,H.f=$e,L.f=ze,T.f=R.f=wt,P.f=vt,B.f=function(kt){return bt(k(kt),kt)},d&&(F(re,"description",{configurable:!0,get:function(){return q(this).description}}),l||I(z,"propertyIsEnumerable",at,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!p,sham:!p},{Symbol:Z}),J(D(Le),function(kt){j(kt)}),i({target:"Symbol",stat:!0,forced:!p},{useSetter:function(){He=!0},useSimple:function(){He=!1}}),i({target:"Object",stat:!0,forced:!p,sham:!d},{create:function(kt,pt){return pt===void 0?S(kt):$e(S(kt),pt)},defineProperty:tt,defineProperties:$e,getOwnPropertyDescriptor:ze}),i({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:wt}),M(),G(Z,"Symbol"),E[V]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/get-built-in"),u=e("../internals/has-own-property"),c=e("../internals/to-string"),l=e("../internals/shared"),d=e("../internals/symbol-registry-detection"),p=l("string-to-symbol-registry"),h=l("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!d},{for:function(f){var b=c(f);if(u(p,b))return p[b];var y=o("Symbol")(b);return p[b]=y,h[y]=b,y}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,s,a){e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,s,a){var i=e("../internals/export"),o=e("../internals/has-own-property"),u=e("../internals/is-symbol"),c=e("../internals/try-to-string"),l=e("../internals/shared"),d=e("../internals/symbol-registry-detection"),p=l("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!d},{keyFor:function(h){if(!u(h))throw new TypeError(c(h)+" is not a symbol");if(o(p,h))return p[h]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,s,a){function i(o){return Object.prototype.toString.call(o)}a.isArray=function(o){return Array.isArray?Array.isArray(o):i(o)==="[object Array]"},a.isBoolean=function(o){return typeof o=="boolean"},a.isNull=function(o){return o===null},a.isNullOrUndefined=function(o){return o==null},a.isNumber=function(o){return typeof o=="number"},a.isString=function(o){return typeof o=="string"},a.isSymbol=function(o){return typeof o=="symbol"},a.isUndefined=function(o){return o===void 0},a.isRegExp=function(o){return i(o)==="[object RegExp]"},a.isObject=function(o){return typeof o=="object"&&o!==null},a.isDate=function(o){return i(o)==="[object Date]"},a.isError=function(o){return i(o)==="[object Error]"||o instanceof Error},a.isFunction=function(o){return typeof o=="function"},a.isPrimitive=function(o){return o===null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||typeof o=="symbol"||o===void 0},a.isBuffer=e("buffer").Buffer.isBuffer},{buffer:220}],384:[function(e,s,a){(function(i){(function(){var o=e("elliptic"),u=e("bn.js");s.exports=function(p){return new l(p)};var c={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function l(p){this.curveType=c[p],this.curveType||(this.curveType={name:p}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}function d(p,h,f){Array.isArray(p)||(p=p.toArray());var b=new i(p);if(f&&b.length<f){var y=new i(f-b.length);y.fill(0),b=i.concat([y,b])}return h?b.toString(h):b}c.p224=c.secp224r1,c.p256=c.secp256r1=c.prime256v1,c.p192=c.secp192r1=c.prime192v1,c.p384=c.secp384r1,c.p521=c.secp521r1,l.prototype.generateKeys=function(p,h){return this.keys=this.curve.genKeyPair(),this.getPublicKey(p,h)},l.prototype.computeSecret=function(p,h,f){return h=h||"utf8",i.isBuffer(p)||(p=new i(p,h)),d(this.curve.keyFromPublic(p).getPublic().mul(this.keys.getPrivate()).getX(),f,this.curveType.byteLength)},l.prototype.getPublicKey=function(p,h){var f=this.keys.getPublic(h==="compressed",!0);return h==="hybrid"&&(f[f.length-1]%2?f[0]=7:f[0]=6),d(f,p)},l.prototype.getPrivateKey=function(p){return d(this.keys.getPrivate(),p)},l.prototype.setPublicKey=function(p,h){return h=h||"utf8",i.isBuffer(p)||(p=new i(p,h)),this.keys._importPublic(p),this},l.prototype.setPrivateKey=function(p,h){h=h||"utf8",i.isBuffer(p)||(p=new i(p,h));var f=new u(p);return f=f.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(f),this}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,s,a){arguments[4][184][0].apply(a,arguments)},{buffer:188,dup:184}],386:[function(e,s,a){var i=e("inherits"),o=e("md5.js"),u=e("ripemd160"),c=e("sha.js"),l=e("cipher-base");function d(p){l.call(this,"digest"),this._hash=p}i(d,l),d.prototype._update=function(p){this._hash.update(p)},d.prototype._final=function(){return this._hash.digest()},s.exports=function(p){return(p=p.toLowerCase())==="md5"?new o:p==="rmd160"||p==="ripemd160"?new u:new d(c(p))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,s,a){var i=e("md5.js");s.exports=function(o){return new i().update(o).digest()}},{"md5.js":450}],388:[function(e,s,a){var i=e("inherits"),o=e("./legacy"),u=e("cipher-base"),c=e("safe-buffer").Buffer,l=e("create-hash/md5"),d=e("ripemd160"),p=e("sha.js"),h=c.alloc(128);function f(b,y){u.call(this,"digest"),typeof y=="string"&&(y=c.from(y));var g=b==="sha512"||b==="sha384"?128:64;this._alg=b,this._key=y,y.length>g?y=(b==="rmd160"?new d:p(b)).update(y).digest():y.length<g&&(y=c.concat([y,h],g));for(var x=this._ipad=c.allocUnsafe(g),v=this._opad=c.allocUnsafe(g),w=0;w<g;w++)x[w]=54^y[w],v[w]=92^y[w];this._hash=b==="rmd160"?new d:p(b),this._hash.update(x)}i(f,u),f.prototype._update=function(b){this._hash.update(b)},f.prototype._final=function(){var b=this._hash.digest();return(this._alg==="rmd160"?new d:p(this._alg)).update(this._opad).update(b).digest()},s.exports=function(b,y){return(b=b.toLowerCase())==="rmd160"||b==="ripemd160"?new f("rmd160",y):b==="md5"?new o(l,y):new f(b,y)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,s,a){var i=e("inherits"),o=e("safe-buffer").Buffer,u=e("cipher-base"),c=o.alloc(128);function l(d,p){u.call(this,"digest"),typeof p=="string"&&(p=o.from(p)),this._alg=d,this._key=p,p.length>64?p=d(p):p.length<64&&(p=o.concat([p,c],64));for(var h=this._ipad=o.allocUnsafe(64),f=this._opad=o.allocUnsafe(64),b=0;b<64;b++)h[b]=54^p[b],f[b]=92^p[b];this._hash=[h]}i(l,u),l.prototype._update=function(d){this._hash.push(d)},l.prototype._final=function(){var d=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,d]))},s.exports=l},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,s,a){a.randomBytes=a.rng=a.pseudoRandomBytes=a.prng=e("randombytes"),a.createHash=a.Hash=e("create-hash"),a.createHmac=a.Hmac=e("create-hmac");var i=e("browserify-sign/algos"),o=Object.keys(i),u=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(o);a.getHashes=function(){return u};var c=e("pbkdf2");a.pbkdf2=c.pbkdf2,a.pbkdf2Sync=c.pbkdf2Sync;var l=e("browserify-cipher");a.Cipher=l.Cipher,a.createCipher=l.createCipher,a.Cipheriv=l.Cipheriv,a.createCipheriv=l.createCipheriv,a.Decipher=l.Decipher,a.createDecipher=l.createDecipher,a.Decipheriv=l.Decipheriv,a.createDecipheriv=l.createDecipheriv,a.getCiphers=l.getCiphers,a.listCiphers=l.listCiphers;var d=e("diffie-hellman");a.DiffieHellmanGroup=d.DiffieHellmanGroup,a.createDiffieHellmanGroup=d.createDiffieHellmanGroup,a.getDiffieHellman=d.getDiffieHellman,a.createDiffieHellman=d.createDiffieHellman,a.DiffieHellman=d.DiffieHellman;var p=e("browserify-sign");a.createSign=p.createSign,a.Sign=p.Sign,a.createVerify=p.createVerify,a.Verify=p.Verify,a.createECDH=e("create-ecdh");var h=e("public-encrypt");a.publicEncrypt=h.publicEncrypt,a.privateEncrypt=h.privateEncrypt,a.publicDecrypt=h.publicDecrypt,a.privateDecrypt=h.privateDecrypt;var f=e("randomfill");a.randomFill=f.randomFill,a.randomFillSync=f.randomFillSync,a.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},a.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,s,a){(function(i,o){typeof a=="object"&&s!==void 0?s.exports=o():(i=typeof globalThis<"u"?globalThis:i||self).dayjs=o()})(void 0,function(){var i=6e4,o=36e5,u="millisecond",c="second",l="minute",d="hour",p="day",h="week",f="month",b="quarter",y="year",g="date",x="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,S={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_){var E=["th","st","nd","rd"],N=_%100;return"["+_+(E[(N-20)%10]||E[N]||E[0])+"]"}},D=function(_,E,N){var k=String(_);return!k||k.length>=E?_:""+Array(E+1-k.length).join(N)+_},T={s:D,z:function(_){var E=-_.utcOffset(),N=Math.abs(E),k=Math.floor(N/60),B=N%60;return(E<=0?"+":"-")+D(k,2,"0")+":"+D(B,2,"0")},m:function _(E,N){if(E.date()<N.date())return-_(N,E);var k=12*(N.year()-E.year())+(N.month()-E.month()),B=E.clone().add(k,f),j=N-B<0,M=E.clone().add(k+(j?-1:1),f);return+(-(k+(N-B)/(j?B-M:M-B))||0)},a:function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},p:function(_){return{M:f,y,w:h,d:p,D:g,h:d,m:l,s:c,ms:u,Q:b}[_]||String(_||"").toLowerCase().replace(/s$/,"")},u:function(_){return _===void 0}},R="en",P={};P[R]=S;var L="$isDayjsObject",O=function(_){return _ instanceof F||!(!_||!_[L])},H=function _(E,N,k){var B;if(!E)return R;if(typeof E=="string"){var j=E.toLowerCase();P[j]&&(B=j),N&&(P[j]=N,B=j);var M=E.split("-");if(!B&&M.length>1)return _(M[0])}else{var G=E.name;P[G]=E,B=G}return!k&&B&&(R=B),B||!k&&R},U=function(_,E){if(O(_))return _.clone();var N=typeof E=="object"?E:{};return N.date=_,N.args=arguments,new F(N)},I=T;I.l=H,I.i=O,I.w=function(_,E){return U(_,{locale:E.$L,utc:E.$u,x:E.$x,$offset:E.$offset})};var F=function(){function _(N){this.$L=H(N.locale,null,!0),this.parse(N),this.$x=this.$x||N.x||{},this[L]=!0}var E=_.prototype;return E.parse=function(N){this.$d=function(k){var B=k.date,j=k.utc;if(B===null)return new Date(NaN);if(I.u(B))return new Date;if(B instanceof Date)return new Date(B);if(typeof B=="string"&&!/Z$/i.test(B)){var M=B.match(v);if(M){var G=M[2]-1||0,Y=(M[7]||"0").substring(0,3);return j?new Date(Date.UTC(M[1],G,M[3]||1,M[4]||0,M[5]||0,M[6]||0,Y)):new Date(M[1],G,M[3]||1,M[4]||0,M[5]||0,M[6]||0,Y)}}return new Date(B)}(N),this.init()},E.init=function(){var N=this.$d;this.$y=N.getFullYear(),this.$M=N.getMonth(),this.$D=N.getDate(),this.$W=N.getDay(),this.$H=N.getHours(),this.$m=N.getMinutes(),this.$s=N.getSeconds(),this.$ms=N.getMilliseconds()},E.$utils=function(){return I},E.isValid=function(){return this.$d.toString()!==x},E.isSame=function(N,k){var B=U(N);return this.startOf(k)<=B&&B<=this.endOf(k)},E.isAfter=function(N,k){return U(N)<this.startOf(k)},E.isBefore=function(N,k){return this.endOf(k)<U(N)},E.$g=function(N,k,B){return I.u(N)?this[k]:this.set(B,N)},E.unix=function(){return Math.floor(this.valueOf()/1e3)},E.valueOf=function(){return this.$d.getTime()},E.startOf=function(N,k){var B=this,j=!!I.u(k)||k,M=I.p(N),G=function(re,le){var ue=I.w(B.$u?Date.UTC(B.$y,le,re):new Date(B.$y,le,re),B);return j?ue:ue.endOf(p)},Y=function(re,le){return I.w(B.toDate()[re].apply(B.toDate("s"),(j?[0,0,0,0]:[23,59,59,999]).slice(le)),B)},J=this.$W,V=this.$M,Q=this.$D,q="set"+(this.$u?"UTC":"");switch(M){case y:return j?G(1,0):G(31,11);case f:return j?G(1,V):G(0,V+1);case h:var z=this.$locale().weekStart||0,Z=(J<z?J+7:J)-z;return G(j?Q-Z:Q+(6-Z),V);case p:case g:return Y(q+"Hours",0);case d:return Y(q+"Minutes",1);case l:return Y(q+"Seconds",2);case c:return Y(q+"Milliseconds",3);default:return this.clone()}},E.endOf=function(N){return this.startOf(N,!1)},E.$set=function(N,k){var B,j=I.p(N),M="set"+(this.$u?"UTC":""),G=(B={},B[p]=M+"Date",B[g]=M+"Date",B[f]=M+"Month",B[y]=M+"FullYear",B[d]=M+"Hours",B[l]=M+"Minutes",B[c]=M+"Seconds",B[u]=M+"Milliseconds",B)[j],Y=j===p?this.$D+(k-this.$W):k;if(j===f||j===y){var J=this.clone().set(g,1);J.$d[G](Y),J.init(),this.$d=J.set(g,Math.min(this.$D,J.daysInMonth())).$d}else G&&this.$d[G](Y);return this.init(),this},E.set=function(N,k){return this.clone().$set(N,k)},E.get=function(N){return this[I.p(N)]()},E.add=function(N,k){var B,j=this;N=Number(N);var M=I.p(k),G=function(V){var Q=U(j);return I.w(Q.date(Q.date()+Math.round(V*N)),j)};if(M===f)return this.set(f,this.$M+N);if(M===y)return this.set(y,this.$y+N);if(M===p)return G(1);if(M===h)return G(7);var Y=(B={},B[l]=i,B[d]=o,B[c]=1e3,B)[M]||1,J=this.$d.getTime()+N*Y;return I.w(J,this)},E.subtract=function(N,k){return this.add(-1*N,k)},E.format=function(N){var k=this,B=this.$locale();if(!this.isValid())return B.invalidDate||x;var j=N||"YYYY-MM-DDTHH:mm:ssZ",M=I.z(this),G=this.$H,Y=this.$m,J=this.$M,V=B.weekdays,Q=B.months,q=B.meridiem,z=function(le,ue,ce,ie){return le&&(le[ue]||le(k,j))||ce[ue].slice(0,ie)},Z=function(le){return I.s(G%12||12,le,"0")},re=q||function(le,ue,ce){var ie=le<12?"AM":"PM";return ce?ie.toLowerCase():ie};return j.replace(w,function(le,ue){return ue||function(ce){switch(ce){case"YY":return String(k.$y).slice(-2);case"YYYY":return I.s(k.$y,4,"0");case"M":return J+1;case"MM":return I.s(J+1,2,"0");case"MMM":return z(B.monthsShort,J,Q,3);case"MMMM":return z(Q,J);case"D":return k.$D;case"DD":return I.s(k.$D,2,"0");case"d":return String(k.$W);case"dd":return z(B.weekdaysMin,k.$W,V,2);case"ddd":return z(B.weekdaysShort,k.$W,V,3);case"dddd":return V[k.$W];case"H":return String(G);case"HH":return I.s(G,2,"0");case"h":return Z(1);case"hh":return Z(2);case"a":return re(G,Y,!0);case"A":return re(G,Y,!1);case"m":return String(Y);case"mm":return I.s(Y,2,"0");case"s":return String(k.$s);case"ss":return I.s(k.$s,2,"0");case"SSS":return I.s(k.$ms,3,"0");case"Z":return M}return null}(le)||M.replace(":","")})},E.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},E.diff=function(N,k,B){var j,M=this,G=I.p(k),Y=U(N),J=(Y.utcOffset()-this.utcOffset())*i,V=this-Y,Q=function(){return I.m(M,Y)};switch(G){case y:j=Q()/12;break;case f:j=Q();break;case b:j=Q()/3;break;case h:j=(V-J)/6048e5;break;case p:j=(V-J)/864e5;break;case d:j=V/o;break;case l:j=V/i;break;case c:j=V/1e3;break;default:j=V}return B?j:I.a(j)},E.daysInMonth=function(){return this.endOf(f).$D},E.$locale=function(){return P[this.$L]},E.locale=function(N,k){if(!N)return this.$L;var B=this.clone(),j=H(N,k,!0);return j&&(B.$L=j),B},E.clone=function(){return I.w(this.$d,this)},E.toDate=function(){return new Date(this.valueOf())},E.toJSON=function(){return this.isValid()?this.toISOString():null},E.toISOString=function(){return this.$d.toISOString()},E.toString=function(){return this.$d.toUTCString()},_}(),A=F.prototype;return U.prototype=A,[["$ms",u],["$s",c],["$m",l],["$H",d],["$W",p],["$M",f],["$y",y],["$D",g]].forEach(function(_){A[_[1]]=function(E){return this.$g(E,_[0],_[1])}}),U.extend=function(_,E){return _.$i||(_(E,F,U),_.$i=!0),U},U.locale=H,U.isDayjs=O,U.unix=function(_){return U(1e3*_)},U.en=P[R],U.Ls=P,U.p={},U})},{}],392:[function(e,s,a){(function(i,o){typeof a=="object"&&s!==void 0?s.exports=o():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_customParseFormat=o()})(void 0,function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},o=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,u=/\d\d/,c=/\d\d?/,l=/\d*[^-_:/,()\s\d]+/,d={},p=function(v){return(v=+v)+(v>68?1900:2e3)},h=function(v){return function(w){this[v]=+w}},f=[/[+-]\d\d:?(\d\d)?|Z/,function(v){(this.zone||(this.zone={})).offset=function(w){if(!w||w==="Z")return 0;var S=w.match(/([+-]|\d\d)/g),D=60*S[1]+(+S[2]||0);return D===0?0:S[0]==="+"?-D:D}(v)}],b=function(v){var w=d[v];return w&&(w.indexOf?w:w.s.concat(w.f))},y=function(v,w){var S,D=d.meridiem;if(D){for(var T=1;T<=24;T+=1)if(v.indexOf(D(T,0,w))>-1){S=T>12;break}}else S=v===(w?"pm":"PM");return S},g={A:[l,function(v){this.afternoon=y(v,!1)}],a:[l,function(v){this.afternoon=y(v,!0)}],S:[/\d/,function(v){this.milliseconds=100*+v}],SS:[u,function(v){this.milliseconds=10*+v}],SSS:[/\d{3}/,function(v){this.milliseconds=+v}],s:[c,h("seconds")],ss:[c,h("seconds")],m:[c,h("minutes")],mm:[c,h("minutes")],H:[c,h("hours")],h:[c,h("hours")],HH:[c,h("hours")],hh:[c,h("hours")],D:[c,h("day")],DD:[u,h("day")],Do:[l,function(v){var w=d.ordinal,S=v.match(/\d+/);if(this.day=S[0],w)for(var D=1;D<=31;D+=1)w(D).replace(/\[|\]/g,"")===v&&(this.day=D)}],M:[c,h("month")],MM:[u,h("month")],MMM:[l,function(v){var w=b("months"),S=(b("monthsShort")||w.map(function(D){return D.slice(0,3)})).indexOf(v)+1;if(S<1)throw new Error;this.month=S%12||S}],MMMM:[l,function(v){var w=b("months").indexOf(v)+1;if(w<1)throw new Error;this.month=w%12||w}],Y:[/[+-]?\d+/,h("year")],YY:[u,function(v){this.year=p(v)}],YYYY:[/\d{4}/,h("year")],Z:f,ZZ:f};function x(v){var w,S;w=v,S=d&&d.formats;for(var D=(v=w.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(U,I,F){var A=F&&F.toUpperCase();return I||S[F]||i[F]||S[A].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(_,E,N){return E||N.slice(1)})})).match(o),T=D.length,R=0;R<T;R+=1){var P=D[R],L=g[P],O=L&&L[0],H=L&&L[1];D[R]=H?{regex:O,parser:H}:P.replace(/^\[|\]$/g,"")}return function(U){for(var I={},F=0,A=0;F<T;F+=1){var _=D[F];if(typeof _=="string")A+=_.length;else{var E=_.regex,N=_.parser,k=U.slice(A),B=E.exec(k)[0];N.call(I,B),U=U.replace(B,"")}}return function(j){var M=j.afternoon;if(M!==void 0){var G=j.hours;M?G<12&&(j.hours+=12):G===12&&(j.hours=0),delete j.afternoon}}(I),I}}return function(v,w,S){S.p.customParseFormat=!0,v&&v.parseTwoDigitYear&&(p=v.parseTwoDigitYear);var D=w.prototype,T=D.parse;D.parse=function(R){var P=R.date,L=R.utc,O=R.args;this.$u=L;var H=O[1];if(typeof H=="string"){var U=O[2]===!0,I=O[3]===!0,F=U||I,A=O[2];I&&(A=O[2]),d=this.$locale(),!U&&A&&(d=S.Ls[A]),this.$d=function(k,B,j){try{if(["x","X"].indexOf(B)>-1)return new Date((B==="X"?1e3:1)*k);var M=x(B)(k),G=M.year,Y=M.month,J=M.day,V=M.hours,Q=M.minutes,q=M.seconds,z=M.milliseconds,Z=M.zone,re=new Date,le=J||(G||Y?1:re.getDate()),ue=G||re.getFullYear(),ce=0;G&&!Y||(ce=Y>0?Y-1:re.getMonth());var ie=V||0,ye=Q||0,he=q||0,pe=z||0;return Z?new Date(Date.UTC(ue,ce,le,ie,ye,he,pe+60*Z.offset*1e3)):j?new Date(Date.UTC(ue,ce,le,ie,ye,he,pe)):new Date(ue,ce,le,ie,ye,he,pe)}catch{return new Date("")}}(P,H,L),this.init(),A&&A!==!0&&(this.$L=this.locale(A).$L),F&&P!=this.format(H)&&(this.$d=new Date("")),d={}}else if(H instanceof Array)for(var _=H.length,E=1;E<=_;E+=1){O[1]=H[E-1];var N=S.apply(this,O);if(N.isValid()){this.$d=N.$d,this.$L=N.$L,this.init();break}E===_&&(this.$d=new Date(""))}else T.call(this,R)}}})},{}],393:[function(e,s,a){(function(i,o){typeof a=="object"&&s!==void 0?s.exports=o():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_utc=o()})(void 0,function(){var i="minute",o=/[+-]\d\d(?::?\d\d)?/g,u=/([+-]|\d\d)/g;return function(c,l,d){var p=l.prototype;d.utc=function(v){var w={date:v,utc:!0,args:arguments};return new l(w)},p.utc=function(v){var w=d(this.toDate(),{locale:this.$L,utc:!0});return v?w.add(this.utcOffset(),i):w},p.local=function(){return d(this.toDate(),{locale:this.$L,utc:!1})};var h=p.parse;p.parse=function(v){v.utc&&(this.$u=!0),this.$utils().u(v.$offset)||(this.$offset=v.$offset),h.call(this,v)};var f=p.init;p.init=function(){if(this.$u){var v=this.$d;this.$y=v.getUTCFullYear(),this.$M=v.getUTCMonth(),this.$D=v.getUTCDate(),this.$W=v.getUTCDay(),this.$H=v.getUTCHours(),this.$m=v.getUTCMinutes(),this.$s=v.getUTCSeconds(),this.$ms=v.getUTCMilliseconds()}else f.call(this)};var b=p.utcOffset;p.utcOffset=function(v,w){var S=this.$utils().u;if(S(v))return this.$u?0:S(this.$offset)?b.call(this):this.$offset;if(typeof v=="string"&&(v=function(P){P===void 0&&(P="");var L=P.match(o);if(!L)return null;var O=(""+L[0]).match(u)||["-",0,0],H=O[0],U=60*+O[1]+ +O[2];return U===0?0:H==="+"?U:-U}(v))===null)return this;var D=Math.abs(v)<=16?60*v:v,T=this;if(w)return T.$offset=D,T.$u=v===0,T;if(v!==0){var R=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(T=this.local().add(D+R,i)).$offset=D,T.$x.$localOffset=R}else T=this.utc();return T};var y=p.format;p.format=function(v){var w=v||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return y.call(this,w)},p.valueOf=function(){var v=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*v},p.isUTC=function(){return!!this.$u},p.toISOString=function(){return this.toDate().toISOString()},p.toString=function(){return this.toDate().toUTCString()};var g=p.toDate;p.toDate=function(v){return v==="s"&&this.$offset?d(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():g.call(this)};var x=p.diff;p.diff=function(v,w,S){if(v&&this.$u===v.$u)return x.call(this,v,w,S);var D=this.local(),T=d(v).local();return x.call(D,T,w,S)}}})},{}],394:[function(e,s,a){a.utils=e("./des/utils"),a.Cipher=e("./des/cipher"),a.DES=e("./des/des"),a.CBC=e("./des/cbc"),a.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,s,a){var i=e("minimalistic-assert"),o=e("inherits"),u={};function c(l){i.equal(l.length,8,"Invalid IV length"),this.iv=new Array(8);for(var d=0;d<this.iv.length;d++)this.iv[d]=l[d]}a.instantiate=function(l){function d(b){l.call(this,b),this._cbcInit()}o(d,l);for(var p=Object.keys(u),h=0;h<p.length;h++){var f=p[h];d.prototype[f]=u[f]}return d.create=function(b){return new d(b)},d},u._cbcInit=function(){var l=new c(this.options.iv);this._cbcState=l},u._update=function(l,d,p,h){var f=this._cbcState,b=this.constructor.super_.prototype,y=f.iv;if(this.type==="encrypt"){for(var g=0;g<this.blockSize;g++)y[g]^=l[d+g];for(b._update.call(this,y,0,p,h),g=0;g<this.blockSize;g++)y[g]=p[h+g]}else{for(b._update.call(this,l,d,p,h),g=0;g<this.blockSize;g++)p[h+g]^=y[g];for(g=0;g<this.blockSize;g++)y[g]=l[d+g]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,s,a){var i=e("minimalistic-assert");function o(u){this.options=u,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=u.padding!==!1}s.exports=o,o.prototype._init=function(){},o.prototype.update=function(u){return u.length===0?[]:this.type==="decrypt"?this._updateDecrypt(u):this._updateEncrypt(u)},o.prototype._buffer=function(u,c){for(var l=Math.min(this.buffer.length-this.bufferOff,u.length-c),d=0;d<l;d++)this.buffer[this.bufferOff+d]=u[c+d];return this.bufferOff+=l,l},o.prototype._flushBuffer=function(u,c){return this._update(this.buffer,0,u,c),this.bufferOff=0,this.blockSize},o.prototype._updateEncrypt=function(u){var c=0,l=0,d=(this.bufferOff+u.length)/this.blockSize|0,p=new Array(d*this.blockSize);this.bufferOff!==0&&(c+=this._buffer(u,c),this.bufferOff===this.buffer.length&&(l+=this._flushBuffer(p,l)));for(var h=u.length-(u.length-c)%this.blockSize;c<h;c+=this.blockSize)this._update(u,c,p,l),l+=this.blockSize;for(;c<u.length;c++,this.bufferOff++)this.buffer[this.bufferOff]=u[c];return p},o.prototype._updateDecrypt=function(u){for(var c=0,l=0,d=Math.ceil((this.bufferOff+u.length)/this.blockSize)-1,p=new Array(d*this.blockSize);d>0;d--)c+=this._buffer(u,c),l+=this._flushBuffer(p,l);return c+=this._buffer(u,c),p},o.prototype.final=function(u){var c,l;return u&&(c=this.update(u)),l=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),c?c.concat(l):l},o.prototype._pad=function(u,c){if(c===0)return!1;for(;c<u.length;)u[c++]=0;return!0},o.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var u=new Array(this.blockSize);return this._update(this.buffer,0,u,0),u},o.prototype._unpad=function(u){return u},o.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var u=new Array(this.blockSize);return this._flushBuffer(u,0),this._unpad(u)}},{"minimalistic-assert":453}],397:[function(e,s,a){var i=e("minimalistic-assert"),o=e("inherits"),u=e("./utils"),c=e("./cipher");function l(){this.tmp=new Array(2),this.keys=null}function d(h){c.call(this,h);var f=new l;this._desState=f,this.deriveKeys(f,h.key)}o(d,c),s.exports=d,d.create=function(h){return new d(h)};var p=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];d.prototype.deriveKeys=function(h,f){h.keys=new Array(32),i.equal(f.length,this.blockSize,"Invalid key length");var b=u.readUInt32BE(f,0),y=u.readUInt32BE(f,4);u.pc1(b,y,h.tmp,0),b=h.tmp[0],y=h.tmp[1];for(var g=0;g<h.keys.length;g+=2){var x=p[g>>>1];b=u.r28shl(b,x),y=u.r28shl(y,x),u.pc2(b,y,h.keys,g)}},d.prototype._update=function(h,f,b,y){var g=this._desState,x=u.readUInt32BE(h,f),v=u.readUInt32BE(h,f+4);u.ip(x,v,g.tmp,0),x=g.tmp[0],v=g.tmp[1],this.type==="encrypt"?this._encrypt(g,x,v,g.tmp,0):this._decrypt(g,x,v,g.tmp,0),x=g.tmp[0],v=g.tmp[1],u.writeUInt32BE(b,x,y),u.writeUInt32BE(b,v,y+4)},d.prototype._pad=function(h,f){if(this.padding===!1)return!1;for(var b=h.length-f,y=f;y<h.length;y++)h[y]=b;return!0},d.prototype._unpad=function(h){if(this.padding===!1)return h;for(var f=h[h.length-1],b=h.length-f;b<h.length;b++)i.equal(h[b],f);return h.slice(0,h.length-f)},d.prototype._encrypt=function(h,f,b,y,g){for(var x=f,v=b,w=0;w<h.keys.length;w+=2){var S=h.keys[w],D=h.keys[w+1];u.expand(v,h.tmp,0),S^=h.tmp[0],D^=h.tmp[1];var T=u.substitute(S,D),R=v;v=(x^u.permute(T))>>>0,x=R}u.rip(v,x,y,g)},d.prototype._decrypt=function(h,f,b,y,g){for(var x=b,v=f,w=h.keys.length-2;w>=0;w-=2){var S=h.keys[w],D=h.keys[w+1];u.expand(x,h.tmp,0),S^=h.tmp[0],D^=h.tmp[1];var T=u.substitute(S,D),R=x;x=(v^u.permute(T))>>>0,v=R}u.rip(x,v,y,g)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,s,a){var i=e("minimalistic-assert"),o=e("inherits"),u=e("./cipher"),c=e("./des");function l(p,h){i.equal(h.length,24,"Invalid key length");var f=h.slice(0,8),b=h.slice(8,16),y=h.slice(16,24);this.ciphers=p==="encrypt"?[c.create({type:"encrypt",key:f}),c.create({type:"decrypt",key:b}),c.create({type:"encrypt",key:y})]:[c.create({type:"decrypt",key:y}),c.create({type:"encrypt",key:b}),c.create({type:"decrypt",key:f})]}function d(p){u.call(this,p);var h=new l(this.type,this.options.key);this._edeState=h}o(d,u),s.exports=d,d.create=function(p){return new d(p)},d.prototype._update=function(p,h,f,b){var y=this._edeState;y.ciphers[0]._update(p,h,f,b),y.ciphers[1]._update(f,b,f,b),y.ciphers[2]._update(f,b,f,b)},d.prototype._pad=c.prototype._pad,d.prototype._unpad=c.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,s,a){a.readUInt32BE=function(c,l){return(c[0+l]<<24|c[1+l]<<16|c[2+l]<<8|c[3+l])>>>0},a.writeUInt32BE=function(c,l,d){c[0+d]=l>>>24,c[1+d]=l>>>16&255,c[2+d]=l>>>8&255,c[3+d]=255&l},a.ip=function(c,l,d,p){for(var h=0,f=0,b=6;b>=0;b-=2){for(var y=0;y<=24;y+=8)h<<=1,h|=l>>>y+b&1;for(y=0;y<=24;y+=8)h<<=1,h|=c>>>y+b&1}for(b=6;b>=0;b-=2){for(y=1;y<=25;y+=8)f<<=1,f|=l>>>y+b&1;for(y=1;y<=25;y+=8)f<<=1,f|=c>>>y+b&1}d[p+0]=h>>>0,d[p+1]=f>>>0},a.rip=function(c,l,d,p){for(var h=0,f=0,b=0;b<4;b++)for(var y=24;y>=0;y-=8)h<<=1,h|=l>>>y+b&1,h<<=1,h|=c>>>y+b&1;for(b=4;b<8;b++)for(y=24;y>=0;y-=8)f<<=1,f|=l>>>y+b&1,f<<=1,f|=c>>>y+b&1;d[p+0]=h>>>0,d[p+1]=f>>>0},a.pc1=function(c,l,d,p){for(var h=0,f=0,b=7;b>=5;b--){for(var y=0;y<=24;y+=8)h<<=1,h|=l>>y+b&1;for(y=0;y<=24;y+=8)h<<=1,h|=c>>y+b&1}for(y=0;y<=24;y+=8)h<<=1,h|=l>>y+b&1;for(b=1;b<=3;b++){for(y=0;y<=24;y+=8)f<<=1,f|=l>>y+b&1;for(y=0;y<=24;y+=8)f<<=1,f|=c>>y+b&1}for(y=0;y<=24;y+=8)f<<=1,f|=c>>y+b&1;d[p+0]=h>>>0,d[p+1]=f>>>0},a.r28shl=function(c,l){return c<<l&268435455|c>>>28-l};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];a.pc2=function(c,l,d,p){for(var h=0,f=0,b=i.length>>>1,y=0;y<b;y++)h<<=1,h|=c>>>i[y]&1;for(y=b;y<i.length;y++)f<<=1,f|=l>>>i[y]&1;d[p+0]=h>>>0,d[p+1]=f>>>0},a.expand=function(c,l,d){var p=0,h=0;p=(1&c)<<5|c>>>27;for(var f=23;f>=15;f-=4)p<<=6,p|=c>>>f&63;for(f=11;f>=3;f-=4)h|=c>>>f&63,h<<=6;h|=(31&c)<<1|c>>>31,l[d+0]=p>>>0,l[d+1]=h>>>0};var o=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];a.substitute=function(c,l){for(var d=0,p=0;p<4;p++)d<<=4,d|=o[64*p+(c>>>18-6*p&63)];for(p=0;p<4;p++)d<<=4,d|=o[256+64*p+(l>>>18-6*p&63)];return d>>>0};var u=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];a.permute=function(c){for(var l=0,d=0;d<u.length;d++)l<<=1,l|=c>>>u[d]&1;return l>>>0},a.padSplit=function(c,l,d){for(var p=c.toString(2);p.length<l;)p="0"+p;for(var h=[],f=0;f<l;f+=d)h.push(p.slice(f,f+d));return h.join(" ")}},{}],400:[function(e,s,a){(function(i){(function(){var o=e("./lib/generatePrime"),u=e("./lib/primes.json"),c=e("./lib/dh"),l={binary:!0,hex:!0,base64:!0};a.DiffieHellmanGroup=a.createDiffieHellmanGroup=a.getDiffieHellman=function(d){var p=new i(u[d].prime,"hex"),h=new i(u[d].gen,"hex");return new c(p,h)},a.createDiffieHellman=a.DiffieHellman=function d(p,h,f,b){return i.isBuffer(h)||l[h]===void 0?d(p,"binary",h,f):(h=h||"binary",b=b||"binary",f=f||new i([2]),i.isBuffer(f)||(f=new i(f,b)),typeof p=="number"?new c(o(p,f),f,!0):(i.isBuffer(p)||(p=new i(p,h)),new c(p,f,!0)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,s,a){(function(i){(function(){var o=e("bn.js"),u=new(e("miller-rabin")),c=new o(24),l=new o(11),d=new o(10),p=new o(3),h=new o(7),f=e("./generatePrime"),b=e("randombytes");function y(S,D){return D=D||"utf8",i.isBuffer(S)||(S=new i(S,D)),this._pub=new o(S),this}function g(S,D){return D=D||"utf8",i.isBuffer(S)||(S=new i(S,D)),this._priv=new o(S),this}s.exports=v;var x={};function v(S,D,T){this.setGenerator(D),this.__prime=new o(S),this._prime=o.mont(this.__prime),this._primeLen=S.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,T?(this.setPublicKey=y,this.setPrivateKey=g):this._primeCode=8}function w(S,D){var T=new i(S.toArray());return D?T.toString(D):T}Object.defineProperty(v.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(S,D){var T=D.toString("hex"),R=[T,S.toString(16)].join("_");if(R in x)return x[R];var P,L=0;if(S.isEven()||!f.simpleSieve||!f.fermatTest(S)||!u.test(S))return L+=1,L+=T==="02"||T==="05"?8:4,x[R]=L,L;switch(u.test(S.shrn(1))||(L+=2),T){case"02":S.mod(c).cmp(l)&&(L+=8);break;case"05":(P=S.mod(d)).cmp(p)&&P.cmp(h)&&(L+=8);break;default:L+=4}return x[R]=L,L}(this.__prime,this.__gen)),this._primeCode}}),v.prototype.generateKeys=function(){return this._priv||(this._priv=new o(b(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},v.prototype.computeSecret=function(S){var D=(S=(S=new o(S)).toRed(this._prime)).redPow(this._priv).fromRed(),T=new i(D.toArray()),R=this.getPrime();if(T.length<R.length){var P=new i(R.length-T.length);P.fill(0),T=i.concat([P,T])}return T},v.prototype.getPublicKey=function(S){return w(this._pub,S)},v.prototype.getPrivateKey=function(S){return w(this._priv,S)},v.prototype.getPrime=function(S){return w(this.__prime,S)},v.prototype.getGenerator=function(S){return w(this._gen,S)},v.prototype.setGenerator=function(S,D){return D=D||"utf8",i.isBuffer(S)||(S=new i(S,D)),this.__gen=S,this._gen=new o(S),this}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,s,a){var i=e("randombytes");s.exports=S,S.simpleSieve=v,S.fermatTest=w;var o=e("bn.js"),u=new o(24),c=new(e("miller-rabin")),l=new o(1),d=new o(2),p=new o(5),h=(new o(16),new o(8),new o(10)),f=new o(3),b=(new o(7),new o(11)),y=new o(4),g=(new o(12),null);function x(){if(g!==null)return g;var D=[];D[0]=2;for(var T=1,R=3;R<1048576;R+=2){for(var P=Math.ceil(Math.sqrt(R)),L=0;L<T&&D[L]<=P&&R%D[L]!=0;L++);T!==L&&D[L]<=P||(D[T++]=R)}return g=D,D}function v(D){for(var T=x(),R=0;R<T.length;R++)if(D.modn(T[R])===0)return D.cmpn(T[R])===0;return!0}function w(D){var T=o.mont(D);return d.toRed(T).redPow(D.subn(1)).fromRed().cmpn(1)===0}function S(D,T){if(D<16)return new o(T===2||T===5?[140,123]:[140,39]);var R,P;for(T=new o(T);;){for(R=new o(i(Math.ceil(D/8)));R.bitLength()>D;)R.ishrn(1);if(R.isEven()&&R.iadd(l),R.testn(1)||R.iadd(d),T.cmp(d)){if(!T.cmp(p))for(;R.mod(h).cmp(f);)R.iadd(y)}else for(;R.mod(u).cmp(b);)R.iadd(y);if(v(P=R.shrn(1))&&v(R)&&w(P)&&w(R)&&c.test(P)&&c.test(R))return R}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,s,a){s.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,s,a){arguments[4][184][0].apply(a,arguments)},{buffer:188,dup:184}],405:[function(e,s,a){var i=a;i.version=e("../package.json").version,i.utils=e("./elliptic/utils"),i.rand=e("brorand"),i.curve=e("./elliptic/curve"),i.curves=e("./elliptic/curves"),i.ec=e("./elliptic/ec"),i.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,s,a){var i=e("bn.js"),o=e("../utils"),u=o.getNAF,c=o.getJSF,l=o.assert;function d(h,f){this.type=h,this.p=new i(f.p,16),this.red=f.prime?i.red(f.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=f.n&&new i(f.n,16),this.g=f.g&&this.pointFromJSON(f.g,f.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var b=this.n&&this.p.div(this.n);!b||b.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function p(h,f){this.curve=h,this.type=f,this.precomputed=null}s.exports=d,d.prototype.point=function(){throw new Error("Not implemented")},d.prototype.validate=function(){throw new Error("Not implemented")},d.prototype._fixedNafMul=function(h,f){l(h.precomputed);var b=h._getDoubles(),y=u(f,1,this._bitLength),g=(1<<b.step+1)-(b.step%2==0?2:1);g/=3;var x,v,w=[];for(x=0;x<y.length;x+=b.step){v=0;for(var S=x+b.step-1;S>=x;S--)v=(v<<1)+y[S];w.push(v)}for(var D=this.jpoint(null,null,null),T=this.jpoint(null,null,null),R=g;R>0;R--){for(x=0;x<w.length;x++)(v=w[x])===R?T=T.mixedAdd(b.points[x]):v===-R&&(T=T.mixedAdd(b.points[x].neg()));D=D.add(T)}return D.toP()},d.prototype._wnafMul=function(h,f){var b=4,y=h._getNAFPoints(b);b=y.wnd;for(var g=y.points,x=u(f,b,this._bitLength),v=this.jpoint(null,null,null),w=x.length-1;w>=0;w--){for(var S=0;w>=0&&x[w]===0;w--)S++;if(w>=0&&S++,v=v.dblp(S),w<0)break;var D=x[w];l(D!==0),v=h.type==="affine"?D>0?v.mixedAdd(g[D-1>>1]):v.mixedAdd(g[-D-1>>1].neg()):D>0?v.add(g[D-1>>1]):v.add(g[-D-1>>1].neg())}return h.type==="affine"?v.toP():v},d.prototype._wnafMulAdd=function(h,f,b,y,g){var x,v,w,S=this._wnafT1,D=this._wnafT2,T=this._wnafT3,R=0;for(x=0;x<y;x++){var P=(w=f[x])._getNAFPoints(h);S[x]=P.wnd,D[x]=P.points}for(x=y-1;x>=1;x-=2){var L=x-1,O=x;if(S[L]===1&&S[O]===1){var H=[f[L],null,null,f[O]];f[L].y.cmp(f[O].y)===0?(H[1]=f[L].add(f[O]),H[2]=f[L].toJ().mixedAdd(f[O].neg())):f[L].y.cmp(f[O].y.redNeg())===0?(H[1]=f[L].toJ().mixedAdd(f[O]),H[2]=f[L].add(f[O].neg())):(H[1]=f[L].toJ().mixedAdd(f[O]),H[2]=f[L].toJ().mixedAdd(f[O].neg()));var U=[-3,-1,-5,-7,0,7,5,1,3],I=c(b[L],b[O]);for(R=Math.max(I[0].length,R),T[L]=new Array(R),T[O]=new Array(R),v=0;v<R;v++){var F=0|I[0][v],A=0|I[1][v];T[L][v]=U[3*(F+1)+(A+1)],T[O][v]=0,D[L]=H}}else T[L]=u(b[L],S[L],this._bitLength),T[O]=u(b[O],S[O],this._bitLength),R=Math.max(T[L].length,R),R=Math.max(T[O].length,R)}var _=this.jpoint(null,null,null),E=this._wnafT4;for(x=R;x>=0;x--){for(var N=0;x>=0;){var k=!0;for(v=0;v<y;v++)E[v]=0|T[v][x],E[v]!==0&&(k=!1);if(!k)break;N++,x--}if(x>=0&&N++,_=_.dblp(N),x<0)break;for(v=0;v<y;v++){var B=E[v];B!==0&&(B>0?w=D[v][B-1>>1]:B<0&&(w=D[v][-B-1>>1].neg()),_=w.type==="affine"?_.mixedAdd(w):_.add(w))}}for(x=0;x<y;x++)D[x]=null;return g?_:_.toP()},d.BasePoint=p,p.prototype.eq=function(){throw new Error("Not implemented")},p.prototype.validate=function(){return this.curve.validate(this)},d.prototype.decodePoint=function(h,f){h=o.toArray(h,f);var b=this.p.byteLength();if((h[0]===4||h[0]===6||h[0]===7)&&h.length-1==2*b)return h[0]===6?l(h[h.length-1]%2==0):h[0]===7&&l(h[h.length-1]%2==1),this.point(h.slice(1,1+b),h.slice(1+b,1+2*b));if((h[0]===2||h[0]===3)&&h.length-1===b)return this.pointFromX(h.slice(1,1+b),h[0]===3);throw new Error("Unknown point format")},p.prototype.encodeCompressed=function(h){return this.encode(h,!0)},p.prototype._encode=function(h){var f=this.curve.p.byteLength(),b=this.getX().toArray("be",f);return h?[this.getY().isEven()?2:3].concat(b):[4].concat(b,this.getY().toArray("be",f))},p.prototype.encode=function(h,f){return o.encode(this._encode(f),h)},p.prototype.precompute=function(h){if(this.precomputed)return this;var f={doubles:null,naf:null,beta:null};return f.naf=this._getNAFPoints(8),f.doubles=this._getDoubles(4,h),f.beta=this._getBeta(),this.precomputed=f,this},p.prototype._hasDoubles=function(h){if(!this.precomputed)return!1;var f=this.precomputed.doubles;return!!f&&f.points.length>=Math.ceil((h.bitLength()+1)/f.step)},p.prototype._getDoubles=function(h,f){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var b=[this],y=this,g=0;g<f;g+=h){for(var x=0;x<h;x++)y=y.dbl();b.push(y)}return{step:h,points:b}},p.prototype._getNAFPoints=function(h){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var f=[this],b=(1<<h)-1,y=b===1?null:this.dbl(),g=1;g<b;g++)f[g]=f[g-1].add(y);return{wnd:h,points:f}},p.prototype._getBeta=function(){return null},p.prototype.dblp=function(h){for(var f=this,b=0;b<h;b++)f=f.dbl();return f}},{"../utils":419,"bn.js":420}],407:[function(e,s,a){var i=e("../utils"),o=e("bn.js"),u=e("inherits"),c=e("./base"),l=i.assert;function d(h){this.twisted=(0|h.a)!=1,this.mOneA=this.twisted&&(0|h.a)==-1,this.extended=this.mOneA,c.call(this,"edwards",h),this.a=new o(h.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(h.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(h.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),l(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|h.c)==1}function p(h,f,b,y,g){c.BasePoint.call(this,h,"projective"),f===null&&b===null&&y===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(f,16),this.y=new o(b,16),this.z=y?new o(y,16):this.curve.one,this.t=g&&new o(g,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}u(d,c),s.exports=d,d.prototype._mulA=function(h){return this.mOneA?h.redNeg():this.a.redMul(h)},d.prototype._mulC=function(h){return this.oneC?h:this.c.redMul(h)},d.prototype.jpoint=function(h,f,b,y){return this.point(h,f,b,y)},d.prototype.pointFromX=function(h,f){(h=new o(h,16)).red||(h=h.toRed(this.red));var b=h.redSqr(),y=this.c2.redSub(this.a.redMul(b)),g=this.one.redSub(this.c2.redMul(this.d).redMul(b)),x=y.redMul(g.redInvm()),v=x.redSqrt();if(v.redSqr().redSub(x).cmp(this.zero)!==0)throw new Error("invalid point");var w=v.fromRed().isOdd();return(f&&!w||!f&&w)&&(v=v.redNeg()),this.point(h,v)},d.prototype.pointFromY=function(h,f){(h=new o(h,16)).red||(h=h.toRed(this.red));var b=h.redSqr(),y=b.redSub(this.c2),g=b.redMul(this.d).redMul(this.c2).redSub(this.a),x=y.redMul(g.redInvm());if(x.cmp(this.zero)===0){if(f)throw new Error("invalid point");return this.point(this.zero,h)}var v=x.redSqrt();if(v.redSqr().redSub(x).cmp(this.zero)!==0)throw new Error("invalid point");return v.fromRed().isOdd()!==f&&(v=v.redNeg()),this.point(v,h)},d.prototype.validate=function(h){if(h.isInfinity())return!0;h.normalize();var f=h.x.redSqr(),b=h.y.redSqr(),y=f.redMul(this.a).redAdd(b),g=this.c2.redMul(this.one.redAdd(this.d.redMul(f).redMul(b)));return y.cmp(g)===0},u(p,c.BasePoint),d.prototype.pointFromJSON=function(h){return p.fromJSON(this,h)},d.prototype.point=function(h,f,b,y){return new p(this,h,f,b,y)},p.fromJSON=function(h,f){return new p(h,f[0],f[1],f[2])},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},p.prototype._extDbl=function(){var h=this.x.redSqr(),f=this.y.redSqr(),b=this.z.redSqr();b=b.redIAdd(b);var y=this.curve._mulA(h),g=this.x.redAdd(this.y).redSqr().redISub(h).redISub(f),x=y.redAdd(f),v=x.redSub(b),w=y.redSub(f),S=g.redMul(v),D=x.redMul(w),T=g.redMul(w),R=v.redMul(x);return this.curve.point(S,D,R,T)},p.prototype._projDbl=function(){var h,f,b,y,g,x,v=this.x.redAdd(this.y).redSqr(),w=this.x.redSqr(),S=this.y.redSqr();if(this.curve.twisted){var D=(y=this.curve._mulA(w)).redAdd(S);this.zOne?(h=v.redSub(w).redSub(S).redMul(D.redSub(this.curve.two)),f=D.redMul(y.redSub(S)),b=D.redSqr().redSub(D).redSub(D)):(g=this.z.redSqr(),x=D.redSub(g).redISub(g),h=v.redSub(w).redISub(S).redMul(x),f=D.redMul(y.redSub(S)),b=D.redMul(x))}else y=w.redAdd(S),g=this.curve._mulC(this.z).redSqr(),x=y.redSub(g).redSub(g),h=this.curve._mulC(v.redISub(y)).redMul(x),f=this.curve._mulC(y).redMul(w.redISub(S)),b=y.redMul(x);return this.curve.point(h,f,b)},p.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},p.prototype._extAdd=function(h){var f=this.y.redSub(this.x).redMul(h.y.redSub(h.x)),b=this.y.redAdd(this.x).redMul(h.y.redAdd(h.x)),y=this.t.redMul(this.curve.dd).redMul(h.t),g=this.z.redMul(h.z.redAdd(h.z)),x=b.redSub(f),v=g.redSub(y),w=g.redAdd(y),S=b.redAdd(f),D=x.redMul(v),T=w.redMul(S),R=x.redMul(S),P=v.redMul(w);return this.curve.point(D,T,P,R)},p.prototype._projAdd=function(h){var f,b,y=this.z.redMul(h.z),g=y.redSqr(),x=this.x.redMul(h.x),v=this.y.redMul(h.y),w=this.curve.d.redMul(x).redMul(v),S=g.redSub(w),D=g.redAdd(w),T=this.x.redAdd(this.y).redMul(h.x.redAdd(h.y)).redISub(x).redISub(v),R=y.redMul(S).redMul(T);return this.curve.twisted?(f=y.redMul(D).redMul(v.redSub(this.curve._mulA(x))),b=S.redMul(D)):(f=y.redMul(D).redMul(v.redSub(x)),b=this.curve._mulC(S).redMul(D)),this.curve.point(R,f,b)},p.prototype.add=function(h){return this.isInfinity()?h:h.isInfinity()?this:this.curve.extended?this._extAdd(h):this._projAdd(h)},p.prototype.mul=function(h){return this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve._wnafMul(this,h)},p.prototype.mulAdd=function(h,f,b){return this.curve._wnafMulAdd(1,[this,f],[h,b],2,!1)},p.prototype.jmulAdd=function(h,f,b){return this.curve._wnafMulAdd(1,[this,f],[h,b],2,!0)},p.prototype.normalize=function(){if(this.zOne)return this;var h=this.z.redInvm();return this.x=this.x.redMul(h),this.y=this.y.redMul(h),this.t&&(this.t=this.t.redMul(h)),this.z=this.curve.one,this.zOne=!0,this},p.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},p.prototype.getX=function(){return this.normalize(),this.x.fromRed()},p.prototype.getY=function(){return this.normalize(),this.y.fromRed()},p.prototype.eq=function(h){return this===h||this.getX().cmp(h.getX())===0&&this.getY().cmp(h.getY())===0},p.prototype.eqXToP=function(h){var f=h.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(f)===0)return!0;for(var b=h.clone(),y=this.curve.redN.redMul(this.z);;){if(b.iadd(this.curve.n),b.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(y),this.x.cmp(f)===0)return!0}},p.prototype.toP=p.prototype.normalize,p.prototype.mixedAdd=p.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,s,a){var i=a;i.base=e("./base"),i.short=e("./short"),i.mont=e("./mont"),i.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,s,a){var i=e("bn.js"),o=e("inherits"),u=e("./base"),c=e("../utils");function l(p){u.call(this,"mont",p),this.a=new i(p.a,16).toRed(this.red),this.b=new i(p.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function d(p,h,f){u.BasePoint.call(this,p,"projective"),h===null&&f===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(h,16),this.z=new i(f,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(l,u),s.exports=l,l.prototype.validate=function(p){var h=p.normalize().x,f=h.redSqr(),b=f.redMul(h).redAdd(f.redMul(this.a)).redAdd(h);return b.redSqrt().redSqr().cmp(b)===0},o(d,u.BasePoint),l.prototype.decodePoint=function(p,h){return this.point(c.toArray(p,h),1)},l.prototype.point=function(p,h){return new d(this,p,h)},l.prototype.pointFromJSON=function(p){return d.fromJSON(this,p)},d.prototype.precompute=function(){},d.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},d.fromJSON=function(p,h){return new d(p,h[0],h[1]||p.one)},d.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},d.prototype.isInfinity=function(){return this.z.cmpn(0)===0},d.prototype.dbl=function(){var p=this.x.redAdd(this.z).redSqr(),h=this.x.redSub(this.z).redSqr(),f=p.redSub(h),b=p.redMul(h),y=f.redMul(h.redAdd(this.curve.a24.redMul(f)));return this.curve.point(b,y)},d.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.diffAdd=function(p,h){var f=this.x.redAdd(this.z),b=this.x.redSub(this.z),y=p.x.redAdd(p.z),g=p.x.redSub(p.z).redMul(f),x=y.redMul(b),v=h.z.redMul(g.redAdd(x).redSqr()),w=h.x.redMul(g.redISub(x).redSqr());return this.curve.point(v,w)},d.prototype.mul=function(p){for(var h=p.clone(),f=this,b=this.curve.point(null,null),y=[];h.cmpn(0)!==0;h.iushrn(1))y.push(h.andln(1));for(var g=y.length-1;g>=0;g--)y[g]===0?(f=f.diffAdd(b,this),b=b.dbl()):(b=f.diffAdd(b,this),f=f.dbl());return b},d.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},d.prototype.eq=function(p){return this.getX().cmp(p.getX())===0},d.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},d.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,s,a){var i=e("../utils"),o=e("bn.js"),u=e("inherits"),c=e("./base"),l=i.assert;function d(f){c.call(this,"short",f),this.a=new o(f.a,16).toRed(this.red),this.b=new o(f.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(f),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function p(f,b,y,g){c.BasePoint.call(this,f,"affine"),b===null&&y===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(b,16),this.y=new o(y,16),g&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(f,b,y,g){c.BasePoint.call(this,f,"jacobian"),b===null&&y===null&&g===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(b,16),this.y=new o(y,16),this.z=new o(g,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}u(d,c),s.exports=d,d.prototype._getEndomorphism=function(f){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var b,y;if(f.beta)b=new o(f.beta,16).toRed(this.red);else{var g=this._getEndoRoots(this.p);b=(b=g[0].cmp(g[1])<0?g[0]:g[1]).toRed(this.red)}if(f.lambda)y=new o(f.lambda,16);else{var x=this._getEndoRoots(this.n);this.g.mul(x[0]).x.cmp(this.g.x.redMul(b))===0?y=x[0]:(y=x[1],l(this.g.mul(y).x.cmp(this.g.x.redMul(b))===0))}return{beta:b,lambda:y,basis:f.basis?f.basis.map(function(v){return{a:new o(v.a,16),b:new o(v.b,16)}}):this._getEndoBasis(y)}}},d.prototype._getEndoRoots=function(f){var b=f===this.p?this.red:o.mont(f),y=new o(2).toRed(b).redInvm(),g=y.redNeg(),x=new o(3).toRed(b).redNeg().redSqrt().redMul(y);return[g.redAdd(x).fromRed(),g.redSub(x).fromRed()]},d.prototype._getEndoBasis=function(f){for(var b,y,g,x,v,w,S,D,T,R=this.n.ushrn(Math.floor(this.n.bitLength()/2)),P=f,L=this.n.clone(),O=new o(1),H=new o(0),U=new o(0),I=new o(1),F=0;P.cmpn(0)!==0;){var A=L.div(P);D=L.sub(A.mul(P)),T=U.sub(A.mul(O));var _=I.sub(A.mul(H));if(!g&&D.cmp(R)<0)b=S.neg(),y=O,g=D.neg(),x=T;else if(g&&++F==2)break;S=D,L=P,P=D,U=O,O=T,I=H,H=_}v=D.neg(),w=T;var E=g.sqr().add(x.sqr());return v.sqr().add(w.sqr()).cmp(E)>=0&&(v=b,w=y),g.negative&&(g=g.neg(),x=x.neg()),v.negative&&(v=v.neg(),w=w.neg()),[{a:g,b:x},{a:v,b:w}]},d.prototype._endoSplit=function(f){var b=this.endo.basis,y=b[0],g=b[1],x=g.b.mul(f).divRound(this.n),v=y.b.neg().mul(f).divRound(this.n),w=x.mul(y.a),S=v.mul(g.a),D=x.mul(y.b),T=v.mul(g.b);return{k1:f.sub(w).sub(S),k2:D.add(T).neg()}},d.prototype.pointFromX=function(f,b){(f=new o(f,16)).red||(f=f.toRed(this.red));var y=f.redSqr().redMul(f).redIAdd(f.redMul(this.a)).redIAdd(this.b),g=y.redSqrt();if(g.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var x=g.fromRed().isOdd();return(b&&!x||!b&&x)&&(g=g.redNeg()),this.point(f,g)},d.prototype.validate=function(f){if(f.inf)return!0;var b=f.x,y=f.y,g=this.a.redMul(b),x=b.redSqr().redMul(b).redIAdd(g).redIAdd(this.b);return y.redSqr().redISub(x).cmpn(0)===0},d.prototype._endoWnafMulAdd=function(f,b,y){for(var g=this._endoWnafT1,x=this._endoWnafT2,v=0;v<f.length;v++){var w=this._endoSplit(b[v]),S=f[v],D=S._getBeta();w.k1.negative&&(w.k1.ineg(),S=S.neg(!0)),w.k2.negative&&(w.k2.ineg(),D=D.neg(!0)),g[2*v]=S,g[2*v+1]=D,x[2*v]=w.k1,x[2*v+1]=w.k2}for(var T=this._wnafMulAdd(1,g,x,2*v,y),R=0;R<2*v;R++)g[R]=null,x[R]=null;return T},u(p,c.BasePoint),d.prototype.point=function(f,b,y){return new p(this,f,b,y)},d.prototype.pointFromJSON=function(f,b){return p.fromJSON(this,f,b)},p.prototype._getBeta=function(){if(this.curve.endo){var f=this.precomputed;if(f&&f.beta)return f.beta;var b=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(f){var y=this.curve,g=function(x){return y.point(x.x.redMul(y.endo.beta),x.y)};f.beta=b,b.precomputed={beta:null,naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(g)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(g)}}}return b}},p.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},p.fromJSON=function(f,b,y){typeof b=="string"&&(b=JSON.parse(b));var g=f.point(b[0],b[1],y);if(!b[2])return g;function x(w){return f.point(w[0],w[1],y)}var v=b[2];return g.precomputed={beta:null,doubles:v.doubles&&{step:v.doubles.step,points:[g].concat(v.doubles.points.map(x))},naf:v.naf&&{wnd:v.naf.wnd,points:[g].concat(v.naf.points.map(x))}},g},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.inf},p.prototype.add=function(f){if(this.inf)return f;if(f.inf)return this;if(this.eq(f))return this.dbl();if(this.neg().eq(f))return this.curve.point(null,null);if(this.x.cmp(f.x)===0)return this.curve.point(null,null);var b=this.y.redSub(f.y);b.cmpn(0)!==0&&(b=b.redMul(this.x.redSub(f.x).redInvm()));var y=b.redSqr().redISub(this.x).redISub(f.x),g=b.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,g)},p.prototype.dbl=function(){if(this.inf)return this;var f=this.y.redAdd(this.y);if(f.cmpn(0)===0)return this.curve.point(null,null);var b=this.curve.a,y=this.x.redSqr(),g=f.redInvm(),x=y.redAdd(y).redIAdd(y).redIAdd(b).redMul(g),v=x.redSqr().redISub(this.x.redAdd(this.x)),w=x.redMul(this.x.redSub(v)).redISub(this.y);return this.curve.point(v,w)},p.prototype.getX=function(){return this.x.fromRed()},p.prototype.getY=function(){return this.y.fromRed()},p.prototype.mul=function(f){return f=new o(f,16),this.isInfinity()?this:this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve.endo?this.curve._endoWnafMulAdd([this],[f]):this.curve._wnafMul(this,f)},p.prototype.mulAdd=function(f,b,y){var g=[this,b],x=[f,y];return this.curve.endo?this.curve._endoWnafMulAdd(g,x):this.curve._wnafMulAdd(1,g,x,2)},p.prototype.jmulAdd=function(f,b,y){var g=[this,b],x=[f,y];return this.curve.endo?this.curve._endoWnafMulAdd(g,x,!0):this.curve._wnafMulAdd(1,g,x,2,!0)},p.prototype.eq=function(f){return this===f||this.inf===f.inf&&(this.inf||this.x.cmp(f.x)===0&&this.y.cmp(f.y)===0)},p.prototype.neg=function(f){if(this.inf)return this;var b=this.curve.point(this.x,this.y.redNeg());if(f&&this.precomputed){var y=this.precomputed,g=function(x){return x.neg()};b.precomputed={naf:y.naf&&{wnd:y.naf.wnd,points:y.naf.points.map(g)},doubles:y.doubles&&{step:y.doubles.step,points:y.doubles.points.map(g)}}}return b},p.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},u(h,c.BasePoint),d.prototype.jpoint=function(f,b,y){return new h(this,f,b,y)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var f=this.z.redInvm(),b=f.redSqr(),y=this.x.redMul(b),g=this.y.redMul(b).redMul(f);return this.curve.point(y,g)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(f){if(this.isInfinity())return f;if(f.isInfinity())return this;var b=f.z.redSqr(),y=this.z.redSqr(),g=this.x.redMul(b),x=f.x.redMul(y),v=this.y.redMul(b.redMul(f.z)),w=f.y.redMul(y.redMul(this.z)),S=g.redSub(x),D=v.redSub(w);if(S.cmpn(0)===0)return D.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var T=S.redSqr(),R=T.redMul(S),P=g.redMul(T),L=D.redSqr().redIAdd(R).redISub(P).redISub(P),O=D.redMul(P.redISub(L)).redISub(v.redMul(R)),H=this.z.redMul(f.z).redMul(S);return this.curve.jpoint(L,O,H)},h.prototype.mixedAdd=function(f){if(this.isInfinity())return f.toJ();if(f.isInfinity())return this;var b=this.z.redSqr(),y=this.x,g=f.x.redMul(b),x=this.y,v=f.y.redMul(b).redMul(this.z),w=y.redSub(g),S=x.redSub(v);if(w.cmpn(0)===0)return S.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var D=w.redSqr(),T=D.redMul(w),R=y.redMul(D),P=S.redSqr().redIAdd(T).redISub(R).redISub(R),L=S.redMul(R.redISub(P)).redISub(x.redMul(T)),O=this.z.redMul(w);return this.curve.jpoint(P,L,O)},h.prototype.dblp=function(f){if(f===0)return this;if(this.isInfinity())return this;if(!f)return this.dbl();var b;if(this.curve.zeroA||this.curve.threeA){var y=this;for(b=0;b<f;b++)y=y.dbl();return y}var g=this.curve.a,x=this.curve.tinv,v=this.x,w=this.y,S=this.z,D=S.redSqr().redSqr(),T=w.redAdd(w);for(b=0;b<f;b++){var R=v.redSqr(),P=T.redSqr(),L=P.redSqr(),O=R.redAdd(R).redIAdd(R).redIAdd(g.redMul(D)),H=v.redMul(P),U=O.redSqr().redISub(H.redAdd(H)),I=H.redISub(U),F=O.redMul(I);F=F.redIAdd(F).redISub(L);var A=T.redMul(S);b+1<f&&(D=D.redMul(L)),v=U,S=A,T=F}return this.curve.jpoint(v,T.redMul(x),S)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var f,b,y;if(this.zOne){var g=this.x.redSqr(),x=this.y.redSqr(),v=x.redSqr(),w=this.x.redAdd(x).redSqr().redISub(g).redISub(v);w=w.redIAdd(w);var S=g.redAdd(g).redIAdd(g),D=S.redSqr().redISub(w).redISub(w),T=v.redIAdd(v);T=(T=T.redIAdd(T)).redIAdd(T),f=D,b=S.redMul(w.redISub(D)).redISub(T),y=this.y.redAdd(this.y)}else{var R=this.x.redSqr(),P=this.y.redSqr(),L=P.redSqr(),O=this.x.redAdd(P).redSqr().redISub(R).redISub(L);O=O.redIAdd(O);var H=R.redAdd(R).redIAdd(R),U=H.redSqr(),I=L.redIAdd(L);I=(I=I.redIAdd(I)).redIAdd(I),f=U.redISub(O).redISub(O),b=H.redMul(O.redISub(f)).redISub(I),y=(y=this.y.redMul(this.z)).redIAdd(y)}return this.curve.jpoint(f,b,y)},h.prototype._threeDbl=function(){var f,b,y;if(this.zOne){var g=this.x.redSqr(),x=this.y.redSqr(),v=x.redSqr(),w=this.x.redAdd(x).redSqr().redISub(g).redISub(v);w=w.redIAdd(w);var S=g.redAdd(g).redIAdd(g).redIAdd(this.curve.a),D=S.redSqr().redISub(w).redISub(w);f=D;var T=v.redIAdd(v);T=(T=T.redIAdd(T)).redIAdd(T),b=S.redMul(w.redISub(D)).redISub(T),y=this.y.redAdd(this.y)}else{var R=this.z.redSqr(),P=this.y.redSqr(),L=this.x.redMul(P),O=this.x.redSub(R).redMul(this.x.redAdd(R));O=O.redAdd(O).redIAdd(O);var H=L.redIAdd(L),U=(H=H.redIAdd(H)).redAdd(H);f=O.redSqr().redISub(U),y=this.y.redAdd(this.z).redSqr().redISub(P).redISub(R);var I=P.redSqr();I=(I=(I=I.redIAdd(I)).redIAdd(I)).redIAdd(I),b=O.redMul(H.redISub(f)).redISub(I)}return this.curve.jpoint(f,b,y)},h.prototype._dbl=function(){var f=this.curve.a,b=this.x,y=this.y,g=this.z,x=g.redSqr().redSqr(),v=b.redSqr(),w=y.redSqr(),S=v.redAdd(v).redIAdd(v).redIAdd(f.redMul(x)),D=b.redAdd(b),T=(D=D.redIAdd(D)).redMul(w),R=S.redSqr().redISub(T.redAdd(T)),P=T.redISub(R),L=w.redSqr();L=(L=(L=L.redIAdd(L)).redIAdd(L)).redIAdd(L);var O=S.redMul(P).redISub(L),H=y.redAdd(y).redMul(g);return this.curve.jpoint(R,O,H)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var f=this.x.redSqr(),b=this.y.redSqr(),y=this.z.redSqr(),g=b.redSqr(),x=f.redAdd(f).redIAdd(f),v=x.redSqr(),w=this.x.redAdd(b).redSqr().redISub(f).redISub(g),S=(w=(w=(w=w.redIAdd(w)).redAdd(w).redIAdd(w)).redISub(v)).redSqr(),D=g.redIAdd(g);D=(D=(D=D.redIAdd(D)).redIAdd(D)).redIAdd(D);var T=x.redIAdd(w).redSqr().redISub(v).redISub(S).redISub(D),R=b.redMul(T);R=(R=R.redIAdd(R)).redIAdd(R);var P=this.x.redMul(S).redISub(R);P=(P=P.redIAdd(P)).redIAdd(P);var L=this.y.redMul(T.redMul(D.redISub(T)).redISub(w.redMul(S)));L=(L=(L=L.redIAdd(L)).redIAdd(L)).redIAdd(L);var O=this.z.redAdd(w).redSqr().redISub(y).redISub(S);return this.curve.jpoint(P,L,O)},h.prototype.mul=function(f,b){return f=new o(f,b),this.curve._wnafMul(this,f)},h.prototype.eq=function(f){if(f.type==="affine")return this.eq(f.toJ());if(this===f)return!0;var b=this.z.redSqr(),y=f.z.redSqr();if(this.x.redMul(y).redISub(f.x.redMul(b)).cmpn(0)!==0)return!1;var g=b.redMul(this.z),x=y.redMul(f.z);return this.y.redMul(x).redISub(f.y.redMul(g)).cmpn(0)===0},h.prototype.eqXToP=function(f){var b=this.z.redSqr(),y=f.toRed(this.curve.red).redMul(b);if(this.x.cmp(y)===0)return!0;for(var g=f.clone(),x=this.curve.redN.redMul(b);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(y.redIAdd(x),this.x.cmp(y)===0)return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,s,a){var i,o=a,u=e("hash.js"),c=e("./curve"),l=e("./utils").assert;function d(h){h.type==="short"?this.curve=new c.short(h):h.type==="edwards"?this.curve=new c.edwards(h):this.curve=new c.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,l(this.g.validate(),"Invalid curve"),l(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function p(h,f){Object.defineProperty(o,h,{configurable:!0,enumerable:!0,get:function(){var b=new d(f);return Object.defineProperty(o,h,{configurable:!0,enumerable:!0,value:b}),b}})}o.PresetCurve=d,p("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:u.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),p("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:u.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),p("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:u.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),p("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:u.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),p("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:u.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),p("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:u.sha256,gRed:!1,g:["9"]}),p("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:u.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=e("./precomputed/secp256k1")}catch{i=void 0}p("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:u.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,s,a){var i=e("bn.js"),o=e("hmac-drbg"),u=e("../utils"),c=e("../curves"),l=e("brorand"),d=u.assert,p=e("./key"),h=e("./signature");function f(b){if(!(this instanceof f))return new f(b);typeof b=="string"&&(d(Object.prototype.hasOwnProperty.call(c,b),"Unknown curve "+b),b=c[b]),b instanceof c.PresetCurve&&(b={curve:b}),this.curve=b.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=b.curve.g,this.g.precompute(b.curve.n.bitLength()+1),this.hash=b.hash||b.curve.hash}s.exports=f,f.prototype.keyPair=function(b){return new p(this,b)},f.prototype.keyFromPrivate=function(b,y){return p.fromPrivate(this,b,y)},f.prototype.keyFromPublic=function(b,y){return p.fromPublic(this,b,y)},f.prototype.genKeyPair=function(b){b||(b={});for(var y=new o({hash:this.hash,pers:b.pers,persEnc:b.persEnc||"utf8",entropy:b.entropy||l(this.hash.hmacStrength),entropyEnc:b.entropy&&b.entropyEnc||"utf8",nonce:this.n.toArray()}),g=this.n.byteLength(),x=this.n.sub(new i(2));;){var v=new i(y.generate(g));if(!(v.cmp(x)>0))return v.iaddn(1),this.keyFromPrivate(v)}},f.prototype._truncateToN=function(b,y){var g=8*b.byteLength()-this.n.bitLength();return g>0&&(b=b.ushrn(g)),!y&&b.cmp(this.n)>=0?b.sub(this.n):b},f.prototype.sign=function(b,y,g,x){typeof g=="object"&&(x=g,g=null),x||(x={}),y=this.keyFromPrivate(y,g),b=this._truncateToN(new i(b,16));for(var v=this.n.byteLength(),w=y.getPrivate().toArray("be",v),S=b.toArray("be",v),D=new o({hash:this.hash,entropy:w,nonce:S,pers:x.pers,persEnc:x.persEnc||"utf8"}),T=this.n.sub(new i(1)),R=0;;R++){var P=x.k?x.k(R):new i(D.generate(this.n.byteLength()));if(!((P=this._truncateToN(P,!0)).cmpn(1)<=0||P.cmp(T)>=0)){var L=this.g.mul(P);if(!L.isInfinity()){var O=L.getX(),H=O.umod(this.n);if(H.cmpn(0)!==0){var U=P.invm(this.n).mul(H.mul(y.getPrivate()).iadd(b));if((U=U.umod(this.n)).cmpn(0)!==0){var I=(L.getY().isOdd()?1:0)|(O.cmp(H)!==0?2:0);return x.canonical&&U.cmp(this.nh)>0&&(U=this.n.sub(U),I^=1),new h({r:H,s:U,recoveryParam:I})}}}}}},f.prototype.verify=function(b,y,g,x){b=this._truncateToN(new i(b,16)),g=this.keyFromPublic(g,x);var v=(y=new h(y,"hex")).r,w=y.s;if(v.cmpn(1)<0||v.cmp(this.n)>=0||w.cmpn(1)<0||w.cmp(this.n)>=0)return!1;var S,D=w.invm(this.n),T=D.mul(b).umod(this.n),R=D.mul(v).umod(this.n);return this.curve._maxwellTrick?!(S=this.g.jmulAdd(T,g.getPublic(),R)).isInfinity()&&S.eqXToP(v):!(S=this.g.mulAdd(T,g.getPublic(),R)).isInfinity()&&S.getX().umod(this.n).cmp(v)===0},f.prototype.recoverPubKey=function(b,y,g,x){d((3&g)===g,"The recovery param is more than two bits"),y=new h(y,x);var v=this.n,w=new i(b),S=y.r,D=y.s,T=1&g,R=g>>1;if(S.cmp(this.curve.p.umod(this.curve.n))>=0&&R)throw new Error("Unable to find sencond key candinate");S=R?this.curve.pointFromX(S.add(this.curve.n),T):this.curve.pointFromX(S,T);var P=y.r.invm(v),L=v.sub(w).mul(P).umod(v),O=D.mul(P).umod(v);return this.g.mulAdd(L,S,O)},f.prototype.getKeyRecoveryParam=function(b,y,g,x){if((y=new h(y,x)).recoveryParam!==null)return y.recoveryParam;for(var v=0;v<4;v++){var w;try{w=this.recoverPubKey(b,y,v)}catch{continue}if(w.eq(g))return v}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,s,a){var i=e("bn.js"),o=e("../utils").assert;function u(c,l){this.ec=c,this.priv=null,this.pub=null,l.priv&&this._importPrivate(l.priv,l.privEnc),l.pub&&this._importPublic(l.pub,l.pubEnc)}s.exports=u,u.fromPublic=function(c,l,d){return l instanceof u?l:new u(c,{pub:l,pubEnc:d})},u.fromPrivate=function(c,l,d){return l instanceof u?l:new u(c,{priv:l,privEnc:d})},u.prototype.validate=function(){var c=this.getPublic();return c.isInfinity()?{result:!1,reason:"Invalid public key"}:c.validate()?c.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},u.prototype.getPublic=function(c,l){return typeof c=="string"&&(l=c,c=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),l?this.pub.encode(l,c):this.pub},u.prototype.getPrivate=function(c){return c==="hex"?this.priv.toString(16,2):this.priv},u.prototype._importPrivate=function(c,l){this.priv=new i(c,l||16),this.priv=this.priv.umod(this.ec.curve.n)},u.prototype._importPublic=function(c,l){if(c.x||c.y)return this.ec.curve.type==="mont"?o(c.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||o(c.x&&c.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(c.x,c.y));this.pub=this.ec.curve.decodePoint(c,l)},u.prototype.derive=function(c){return c.validate()||o(c.validate(),"public point not validated"),c.mul(this.priv).getX()},u.prototype.sign=function(c,l,d){return this.ec.sign(c,this,l,d)},u.prototype.verify=function(c,l){return this.ec.verify(c,l,this)},u.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,s,a){var i=e("bn.js"),o=e("../utils"),u=o.assert;function c(f,b){if(f instanceof c)return f;this._importDER(f,b)||(u(f.r&&f.s,"Signature without r or s"),this.r=new i(f.r,16),this.s=new i(f.s,16),f.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=f.recoveryParam)}function l(){this.place=0}function d(f,b){var y=f[b.place++];if(!(128&y))return y;var g=15&y;if(g===0||g>4)return!1;for(var x=0,v=0,w=b.place;v<g;v++,w++)x<<=8,x|=f[w],x>>>=0;return!(x<=127)&&(b.place=w,x)}function p(f){for(var b=0,y=f.length-1;!f[b]&&!(128&f[b+1])&&b<y;)b++;return b===0?f:f.slice(b)}function h(f,b){if(b<128)f.push(b);else{var y=1+(Math.log(b)/Math.LN2>>>3);for(f.push(128|y);--y;)f.push(b>>>(y<<3)&255);f.push(b)}}s.exports=c,c.prototype._importDER=function(f,b){f=o.toArray(f,b);var y=new l;if(f[y.place++]!==48)return!1;var g=d(f,y);if(g===!1||g+y.place!==f.length||f[y.place++]!==2)return!1;var x=d(f,y);if(x===!1)return!1;var v=f.slice(y.place,x+y.place);if(y.place+=x,f[y.place++]!==2)return!1;var w=d(f,y);if(w===!1||f.length!==w+y.place)return!1;var S=f.slice(y.place,w+y.place);if(v[0]===0){if(!(128&v[1]))return!1;v=v.slice(1)}if(S[0]===0){if(!(128&S[1]))return!1;S=S.slice(1)}return this.r=new i(v),this.s=new i(S),this.recoveryParam=null,!0},c.prototype.toDER=function(f){var b=this.r.toArray(),y=this.s.toArray();for(128&b[0]&&(b=[0].concat(b)),128&y[0]&&(y=[0].concat(y)),b=p(b),y=p(y);!(y[0]||128&y[1]);)y=y.slice(1);var g=[2];h(g,b.length),(g=g.concat(b)).push(2),h(g,y.length);var x=g.concat(y),v=[48];return h(v,x.length),v=v.concat(x),o.encode(v,f)}},{"../utils":419,"bn.js":420}],415:[function(e,s,a){var i=e("hash.js"),o=e("../curves"),u=e("../utils"),c=u.assert,l=u.parseBytes,d=e("./key"),p=e("./signature");function h(f){if(c(f==="ed25519","only tested with ed25519 so far"),!(this instanceof h))return new h(f);f=o[f].curve,this.curve=f,this.g=f.g,this.g.precompute(f.n.bitLength()+1),this.pointClass=f.point().constructor,this.encodingLength=Math.ceil(f.n.bitLength()/8),this.hash=i.sha512}s.exports=h,h.prototype.sign=function(f,b){f=l(f);var y=this.keyFromSecret(b),g=this.hashInt(y.messagePrefix(),f),x=this.g.mul(g),v=this.encodePoint(x),w=this.hashInt(v,y.pubBytes(),f).mul(y.priv()),S=g.add(w).umod(this.curve.n);return this.makeSignature({R:x,S,Rencoded:v})},h.prototype.verify=function(f,b,y){f=l(f),b=this.makeSignature(b);var g=this.keyFromPublic(y),x=this.hashInt(b.Rencoded(),g.pubBytes(),f),v=this.g.mul(b.S());return b.R().add(g.pub().mul(x)).eq(v)},h.prototype.hashInt=function(){for(var f=this.hash(),b=0;b<arguments.length;b++)f.update(arguments[b]);return u.intFromLE(f.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(f){return d.fromPublic(this,f)},h.prototype.keyFromSecret=function(f){return d.fromSecret(this,f)},h.prototype.makeSignature=function(f){return f instanceof p?f:new p(this,f)},h.prototype.encodePoint=function(f){var b=f.getY().toArray("le",this.encodingLength);return b[this.encodingLength-1]|=f.getX().isOdd()?128:0,b},h.prototype.decodePoint=function(f){var b=(f=u.parseBytes(f)).length-1,y=f.slice(0,b).concat(-129&f[b]),g=(128&f[b])!=0,x=u.intFromLE(y);return this.curve.pointFromY(x,g)},h.prototype.encodeInt=function(f){return f.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(f){return u.intFromLE(f)},h.prototype.isPoint=function(f){return f instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,s,a){var i=e("../utils"),o=i.assert,u=i.parseBytes,c=i.cachedProperty;function l(d,p){this.eddsa=d,this._secret=u(p.secret),d.isPoint(p.pub)?this._pub=p.pub:this._pubBytes=u(p.pub)}l.fromPublic=function(d,p){return p instanceof l?p:new l(d,{pub:p})},l.fromSecret=function(d,p){return p instanceof l?p:new l(d,{secret:p})},l.prototype.secret=function(){return this._secret},c(l,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),c(l,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),c(l,"privBytes",function(){var d=this.eddsa,p=this.hash(),h=d.encodingLength-1,f=p.slice(0,d.encodingLength);return f[0]&=248,f[h]&=127,f[h]|=64,f}),c(l,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),c(l,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),c(l,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),l.prototype.sign=function(d){return o(this._secret,"KeyPair can only verify"),this.eddsa.sign(d,this)},l.prototype.verify=function(d,p){return this.eddsa.verify(d,p,this)},l.prototype.getSecret=function(d){return o(this._secret,"KeyPair is public only"),i.encode(this.secret(),d)},l.prototype.getPublic=function(d){return i.encode(this.pubBytes(),d)},s.exports=l},{"../utils":419}],417:[function(e,s,a){var i=e("bn.js"),o=e("../utils"),u=o.assert,c=o.cachedProperty,l=o.parseBytes;function d(p,h){this.eddsa=p,typeof h!="object"&&(h=l(h)),Array.isArray(h)&&(h={R:h.slice(0,p.encodingLength),S:h.slice(p.encodingLength)}),u(h.R&&h.S,"Signature without R or S"),p.isPoint(h.R)&&(this._R=h.R),h.S instanceof i&&(this._S=h.S),this._Rencoded=Array.isArray(h.R)?h.R:h.Rencoded,this._Sencoded=Array.isArray(h.S)?h.S:h.Sencoded}c(d,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),c(d,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),c(d,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),c(d,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),d.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},d.prototype.toHex=function(){return o.encode(this.toBytes(),"hex").toUpperCase()},s.exports=d},{"../utils":419,"bn.js":420}],418:[function(e,s,a){s.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,s,a){var i=a,o=e("bn.js"),u=e("minimalistic-assert"),c=e("minimalistic-crypto-utils");i.assert=u,i.toArray=c.toArray,i.zero2=c.zero2,i.toHex=c.toHex,i.encode=c.encode,i.getNAF=function(l,d,p){var h=new Array(Math.max(l.bitLength(),p)+1);h.fill(0);for(var f=1<<d+1,b=l.clone(),y=0;y<h.length;y++){var g,x=b.andln(f-1);b.isOdd()?(g=x>(f>>1)-1?(f>>1)-x:x,b.isubn(g)):g=0,h[y]=g,b.iushrn(1)}return h},i.getJSF=function(l,d){var p=[[],[]];l=l.clone(),d=d.clone();for(var h,f=0,b=0;l.cmpn(-f)>0||d.cmpn(-b)>0;){var y,g,x=l.andln(3)+f&3,v=d.andln(3)+b&3;x===3&&(x=-1),v===3&&(v=-1),y=1&x?(h=l.andln(7)+f&7)!==3&&h!==5||v!==2?x:-x:0,p[0].push(y),g=1&v?(h=d.andln(7)+b&7)!==3&&h!==5||x!==2?v:-v:0,p[1].push(g),2*f===y+1&&(f=1-f),2*b===g+1&&(b=1-b),l.iushrn(1),d.iushrn(1)}return p},i.cachedProperty=function(l,d,p){var h="_"+d;l.prototype[d]=function(){return this[h]!==void 0?this[h]:this[h]=p.call(this)}},i.parseBytes=function(l){return typeof l=="string"?i.toArray(l,"hex"):l},i.intFromLE=function(l){return new o(l,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,s,a){arguments[4][184][0].apply(a,arguments)},{buffer:188,dup:184}],421:[function(e,s,a){s.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,s,a){var i=Object.create||function(P){var L=function(){};return L.prototype=P,new L},o=Object.keys||function(P){var L=[];for(var O in P)Object.prototype.hasOwnProperty.call(P,O)&&L.push(O);return O},u=Function.prototype.bind||function(P){var L=this;return function(){return L.apply(P,arguments)}};function c(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=i(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}s.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0;var l,d=10;try{var p={};Object.defineProperty&&Object.defineProperty(p,"x",{value:0}),l=p.x===0}catch{l=!1}function h(P){return P._maxListeners===void 0?c.defaultMaxListeners:P._maxListeners}function f(P,L,O){if(L)P.call(O);else for(var H=P.length,U=R(P,H),I=0;I<H;++I)U[I].call(O)}function b(P,L,O,H){if(L)P.call(O,H);else for(var U=P.length,I=R(P,U),F=0;F<U;++F)I[F].call(O,H)}function y(P,L,O,H,U){if(L)P.call(O,H,U);else for(var I=P.length,F=R(P,I),A=0;A<I;++A)F[A].call(O,H,U)}function g(P,L,O,H,U,I){if(L)P.call(O,H,U,I);else for(var F=P.length,A=R(P,F),_=0;_<F;++_)A[_].call(O,H,U,I)}function x(P,L,O,H){if(L)P.apply(O,H);else for(var U=P.length,I=R(P,U),F=0;F<U;++F)I[F].apply(O,H)}function v(P,L,O,H){var U,I,F;if(typeof O!="function")throw new TypeError('"listener" argument must be a function');if((I=P._events)?(I.newListener&&(P.emit("newListener",L,O.listener?O.listener:O),I=P._events),F=I[L]):(I=P._events=i(null),P._eventsCount=0),F){if(typeof F=="function"?F=I[L]=H?[O,F]:[F,O]:H?F.unshift(O):F.push(O),!F.warned&&(U=h(P))&&U>0&&F.length>U){F.warned=!0;var A=new Error("Possible EventEmitter memory leak detected. "+F.length+' "'+String(L)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');A.name="MaxListenersExceededWarning",A.emitter=P,A.type=L,A.count=F.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",A.name,A.message)}}else F=I[L]=O,++P._eventsCount;return P}function w(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var P=new Array(arguments.length),L=0;L<P.length;++L)P[L]=arguments[L];this.listener.apply(this.target,P)}}function S(P,L,O){var H={fired:!1,wrapFn:void 0,target:P,type:L,listener:O},U=u.call(w,H);return U.listener=O,H.wrapFn=U,U}function D(P,L,O){var H=P._events;if(!H)return[];var U=H[L];return U?typeof U=="function"?O?[U.listener||U]:[U]:O?function(I){for(var F=new Array(I.length),A=0;A<F.length;++A)F[A]=I[A].listener||I[A];return F}(U):R(U,U.length):[]}function T(P){var L=this._events;if(L){var O=L[P];if(typeof O=="function")return 1;if(O)return O.length}return 0}function R(P,L){for(var O=new Array(L),H=0;H<L;++H)O[H]=P[H];return O}l?Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(P){if(typeof P!="number"||P<0||P!=P)throw new TypeError('"defaultMaxListeners" must be a positive number');d=P}}):c.defaultMaxListeners=d,c.prototype.setMaxListeners=function(P){if(typeof P!="number"||P<0||isNaN(P))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=P,this},c.prototype.getMaxListeners=function(){return h(this)},c.prototype.emit=function(P){var L,O,H,U,I,F,A=P==="error";if(F=this._events)A=A&&F.error==null;else if(!A)return!1;if(A){if(arguments.length>1&&(L=arguments[1]),L instanceof Error)throw L;var _=new Error('Unhandled "error" event. ('+L+")");throw _.context=L,_}if(!(O=F[P]))return!1;var E=typeof O=="function";switch(H=arguments.length){case 1:f(O,E,this);break;case 2:b(O,E,this,arguments[1]);break;case 3:y(O,E,this,arguments[1],arguments[2]);break;case 4:g(O,E,this,arguments[1],arguments[2],arguments[3]);break;default:for(U=new Array(H-1),I=1;I<H;I++)U[I-1]=arguments[I];x(O,E,this,U)}return!0},c.prototype.addListener=function(P,L){return v(this,P,L,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(P,L){return v(this,P,L,!0)},c.prototype.once=function(P,L){if(typeof L!="function")throw new TypeError('"listener" argument must be a function');return this.on(P,S(this,P,L)),this},c.prototype.prependOnceListener=function(P,L){if(typeof L!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(P,S(this,P,L)),this},c.prototype.removeListener=function(P,L){var O,H,U,I,F;if(typeof L!="function")throw new TypeError('"listener" argument must be a function');if(!(H=this._events))return this;if(!(O=H[P]))return this;if(O===L||O.listener===L)--this._eventsCount==0?this._events=i(null):(delete H[P],H.removeListener&&this.emit("removeListener",P,O.listener||L));else if(typeof O!="function"){for(U=-1,I=O.length-1;I>=0;I--)if(O[I]===L||O[I].listener===L){F=O[I].listener,U=I;break}if(U<0)return this;U===0?O.shift():function(A,_){for(var E=_,N=E+1,k=A.length;N<k;E+=1,N+=1)A[E]=A[N];A.pop()}(O,U),O.length===1&&(H[P]=O[0]),H.removeListener&&this.emit("removeListener",P,F||L)}return this},c.prototype.removeAllListeners=function(P){var L,O,H;if(!(O=this._events))return this;if(!O.removeListener)return arguments.length===0?(this._events=i(null),this._eventsCount=0):O[P]&&(--this._eventsCount==0?this._events=i(null):delete O[P]),this;if(arguments.length===0){var U,I=o(O);for(H=0;H<I.length;++H)(U=I[H])!=="removeListener"&&this.removeAllListeners(U);return this.removeAllListeners("removeListener"),this._events=i(null),this._eventsCount=0,this}if(typeof(L=O[P])=="function")this.removeListener(P,L);else if(L)for(H=L.length-1;H>=0;H--)this.removeListener(P,L[H]);return this},c.prototype.listeners=function(P){return D(this,P,!0)},c.prototype.rawListeners=function(P){return D(this,P,!1)},c.listenerCount=function(P,L){return typeof P.listenerCount=="function"?P.listenerCount(L):T.call(P,L)},c.prototype.listenerCount=T,c.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(e,s,a){var i=e("safe-buffer").Buffer,o=e("md5.js");s.exports=function(u,c,l,d){if(i.isBuffer(u)||(u=i.from(u,"binary")),c&&(i.isBuffer(c)||(c=i.from(c,"binary")),c.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var p=l/8,h=i.alloc(p),f=i.alloc(d||0),b=i.alloc(0);p>0||d>0;){var y=new o;y.update(b),y.update(u),c&&y.update(c),b=y.digest();var g=0;if(p>0){var x=h.length-p;g=Math.min(p,b.length),b.copy(h,x,0,g),p-=g}if(g<b.length&&d>0){var v=f.length-d,w=Math.min(d,b.length-g);b.copy(f,v,g,g+w),d-=w}}return b.fill(0),{key:h,iv:f}}},{"md5.js":450,"safe-buffer":494}],424:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.CsvParserStream=a.ParserOptions=a.parseFile=a.parseStream=a.parseString=a.parse=a.FormatterOptions=a.CsvFormatterStream=a.writeToPath=a.writeToString=a.writeToBuffer=a.writeToStream=a.write=a.format=void 0;var i=e("@fast-csv/format");Object.defineProperty(a,"format",{enumerable:!0,get:function(){return i.format}}),Object.defineProperty(a,"write",{enumerable:!0,get:function(){return i.write}}),Object.defineProperty(a,"writeToStream",{enumerable:!0,get:function(){return i.writeToStream}}),Object.defineProperty(a,"writeToBuffer",{enumerable:!0,get:function(){return i.writeToBuffer}}),Object.defineProperty(a,"writeToString",{enumerable:!0,get:function(){return i.writeToString}}),Object.defineProperty(a,"writeToPath",{enumerable:!0,get:function(){return i.writeToPath}}),Object.defineProperty(a,"CsvFormatterStream",{enumerable:!0,get:function(){return i.CsvFormatterStream}}),Object.defineProperty(a,"FormatterOptions",{enumerable:!0,get:function(){return i.FormatterOptions}});var o=e("@fast-csv/parse");Object.defineProperty(a,"parse",{enumerable:!0,get:function(){return o.parse}}),Object.defineProperty(a,"parseString",{enumerable:!0,get:function(){return o.parseString}}),Object.defineProperty(a,"parseStream",{enumerable:!0,get:function(){return o.parseStream}}),Object.defineProperty(a,"parseFile",{enumerable:!0,get:function(){return o.parseFile}}),Object.defineProperty(a,"ParserOptions",{enumerable:!0,get:function(){return o.ParserOptions}}),Object.defineProperty(a,"CsvParserStream",{enumerable:!0,get:function(){return o.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,s,a){var i=e("safe-buffer").Buffer,o=e("readable-stream").Transform;function u(c){o.call(this),this._block=i.allocUnsafe(c),this._blockSize=c,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(u,o),u.prototype._transform=function(c,l,d){var p=null;try{this.update(c,l)}catch(h){p=h}d(p)},u.prototype._flush=function(c){var l=null;try{this.push(this.digest())}catch(d){l=d}c(l)},u.prototype.update=function(c,l){if(function(y,g){if(!i.isBuffer(y)&&typeof y!="string")throw new TypeError(g+" must be a string or a buffer")}(c,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(c)||(c=i.from(c,l));for(var d=this._block,p=0;this._blockOffset+c.length-p>=this._blockSize;){for(var h=this._blockOffset;h<this._blockSize;)d[h++]=c[p++];this._update(),this._blockOffset=0}for(;p<c.length;)d[this._blockOffset++]=c[p++];for(var f=0,b=8*c.length;b>0;++f)this._length[f]+=b,(b=this._length[f]/4294967296|0)>0&&(this._length[f]-=4294967296*b);return this},u.prototype._update=function(){throw new Error("_update is not implemented")},u.prototype.digest=function(c){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var l=this._digest();c!==void 0&&(l=l.toString(c)),this._block.fill(0),this._blockOffset=0;for(var d=0;d<4;++d)this._length[d]=0;return l},u.prototype._digest=function(){throw new Error("_digest is not implemented")},s.exports=u},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,s,a){var i=a;i.utils=e("./hash/utils"),i.common=e("./hash/common"),i.sha=e("./hash/sha"),i.ripemd=e("./hash/ripemd"),i.hmac=e("./hash/hmac"),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,s,a){var i=e("./utils"),o=e("minimalistic-assert");function u(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}a.BlockHash=u,u.prototype.update=function(c,l){if(c=i.toArray(c,l),this.pending?this.pending=this.pending.concat(c):this.pending=c,this.pendingTotal+=c.length,this.pending.length>=this._delta8){var d=(c=this.pending).length%this._delta8;this.pending=c.slice(c.length-d,c.length),this.pending.length===0&&(this.pending=null),c=i.join32(c,0,c.length-d,this.endian);for(var p=0;p<c.length;p+=this._delta32)this._update(c,p,p+this._delta32)}return this},u.prototype.digest=function(c){return this.update(this._pad()),o(this.pending===null),this._digest(c)},u.prototype._pad=function(){var c=this.pendingTotal,l=this._delta8,d=l-(c+this.padLength)%l,p=new Array(d+this.padLength);p[0]=128;for(var h=1;h<d;h++)p[h]=0;if(c<<=3,this.endian==="big"){for(var f=8;f<this.padLength;f++)p[h++]=0;p[h++]=0,p[h++]=0,p[h++]=0,p[h++]=0,p[h++]=c>>>24&255,p[h++]=c>>>16&255,p[h++]=c>>>8&255,p[h++]=255&c}else for(p[h++]=255&c,p[h++]=c>>>8&255,p[h++]=c>>>16&255,p[h++]=c>>>24&255,p[h++]=0,p[h++]=0,p[h++]=0,p[h++]=0,f=8;f<this.padLength;f++)p[h++]=0;return p}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,s,a){var i=e("./utils"),o=e("minimalistic-assert");function u(c,l,d){if(!(this instanceof u))return new u(c,l,d);this.Hash=c,this.blockSize=c.blockSize/8,this.outSize=c.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(l,d))}s.exports=u,u.prototype._init=function(c){c.length>this.blockSize&&(c=new this.Hash().update(c).digest()),o(c.length<=this.blockSize);for(var l=c.length;l<this.blockSize;l++)c.push(0);for(l=0;l<c.length;l++)c[l]^=54;for(this.inner=new this.Hash().update(c),l=0;l<c.length;l++)c[l]^=106;this.outer=new this.Hash().update(c)},u.prototype.update=function(c,l){return this.inner.update(c,l),this},u.prototype.digest=function(c){return this.outer.update(this.inner.digest()),this.outer.digest(c)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,s,a){var i=e("./utils"),o=e("./common"),u=i.rotl32,c=i.sum32,l=i.sum32_3,d=i.sum32_4,p=o.BlockHash;function h(){if(!(this instanceof h))return new h;p.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(S,D,T,R){return S<=15?D^T^R:S<=31?D&T|~D&R:S<=47?(D|~T)^R:S<=63?D&R|T&~R:D^(T|~R)}function b(S){return S<=15?0:S<=31?1518500249:S<=47?1859775393:S<=63?2400959708:2840853838}function y(S){return S<=15?1352829926:S<=31?1548603684:S<=47?1836072691:S<=63?2053994217:0}i.inherits(h,p),a.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(S,D){for(var T=this.h[0],R=this.h[1],P=this.h[2],L=this.h[3],O=this.h[4],H=T,U=R,I=P,F=L,A=O,_=0;_<80;_++){var E=c(u(d(T,f(_,R,P,L),S[g[_]+D],b(_)),v[_]),O);T=O,O=L,L=u(P,10),P=R,R=E,E=c(u(d(H,f(79-_,U,I,F),S[x[_]+D],y(_)),w[_]),A),H=A,A=F,F=u(I,10),I=U,U=E}E=l(this.h[1],P,F),this.h[1]=l(this.h[2],L,A),this.h[2]=l(this.h[3],O,H),this.h[3]=l(this.h[4],T,U),this.h[4]=l(this.h[0],R,I),this.h[0]=E},h.prototype._digest=function(S){return S==="hex"?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],x=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],v=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],w=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,s,a){a.sha1=e("./sha/1"),a.sha224=e("./sha/224"),a.sha256=e("./sha/256"),a.sha384=e("./sha/384"),a.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,s,a){var i=e("../utils"),o=e("../common"),u=e("./common"),c=i.rotl32,l=i.sum32,d=i.sum32_5,p=u.ft_1,h=o.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function b(){if(!(this instanceof b))return new b;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(b,h),s.exports=b,b.blockSize=512,b.outSize=160,b.hmacStrength=80,b.padLength=64,b.prototype._update=function(y,g){for(var x=this.W,v=0;v<16;v++)x[v]=y[g+v];for(;v<x.length;v++)x[v]=c(x[v-3]^x[v-8]^x[v-14]^x[v-16],1);var w=this.h[0],S=this.h[1],D=this.h[2],T=this.h[3],R=this.h[4];for(v=0;v<x.length;v++){var P=~~(v/20),L=d(c(w,5),p(P,S,D,T),R,x[v],f[P]);R=T,T=D,D=c(S,30),S=w,w=L}this.h[0]=l(this.h[0],w),this.h[1]=l(this.h[1],S),this.h[2]=l(this.h[2],D),this.h[3]=l(this.h[3],T),this.h[4]=l(this.h[4],R)},b.prototype._digest=function(y){return y==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,s,a){var i=e("../utils"),o=e("./256");function u(){if(!(this instanceof u))return new u;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(u,o),s.exports=u,u.blockSize=512,u.outSize=224,u.hmacStrength=192,u.padLength=64,u.prototype._digest=function(c){return c==="hex"?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,s,a){var i=e("../utils"),o=e("../common"),u=e("./common"),c=e("minimalistic-assert"),l=i.sum32,d=i.sum32_4,p=i.sum32_5,h=u.ch32,f=u.maj32,b=u.s0_256,y=u.s1_256,g=u.g0_256,x=u.g1_256,v=o.BlockHash,w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function S(){if(!(this instanceof S))return new S;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=w,this.W=new Array(64)}i.inherits(S,v),s.exports=S,S.blockSize=512,S.outSize=256,S.hmacStrength=192,S.padLength=64,S.prototype._update=function(D,T){for(var R=this.W,P=0;P<16;P++)R[P]=D[T+P];for(;P<R.length;P++)R[P]=d(x(R[P-2]),R[P-7],g(R[P-15]),R[P-16]);var L=this.h[0],O=this.h[1],H=this.h[2],U=this.h[3],I=this.h[4],F=this.h[5],A=this.h[6],_=this.h[7];for(c(this.k.length===R.length),P=0;P<R.length;P++){var E=p(_,y(I),h(I,F,A),this.k[P],R[P]),N=l(b(L),f(L,O,H));_=A,A=F,F=I,I=l(U,E),U=H,H=O,O=L,L=l(E,N)}this.h[0]=l(this.h[0],L),this.h[1]=l(this.h[1],O),this.h[2]=l(this.h[2],H),this.h[3]=l(this.h[3],U),this.h[4]=l(this.h[4],I),this.h[5]=l(this.h[5],F),this.h[6]=l(this.h[6],A),this.h[7]=l(this.h[7],_)},S.prototype._digest=function(D){return D==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,s,a){var i=e("../utils"),o=e("./512");function u(){if(!(this instanceof u))return new u;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(u,o),s.exports=u,u.blockSize=1024,u.outSize=384,u.hmacStrength=192,u.padLength=128,u.prototype._digest=function(c){return c==="hex"?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,s,a){var i=e("../utils"),o=e("../common"),u=e("minimalistic-assert"),c=i.rotr64_hi,l=i.rotr64_lo,d=i.shr64_hi,p=i.shr64_lo,h=i.sum64,f=i.sum64_hi,b=i.sum64_lo,y=i.sum64_4_hi,g=i.sum64_4_lo,x=i.sum64_5_hi,v=i.sum64_5_lo,w=o.BlockHash,S=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function D(){if(!(this instanceof D))return new D;w.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=S,this.W=new Array(160)}function T(N,k,B,j,M){var G=N&B^~N&M;return G<0&&(G+=4294967296),G}function R(N,k,B,j,M,G){var Y=k&j^~k&G;return Y<0&&(Y+=4294967296),Y}function P(N,k,B,j,M){var G=N&B^N&M^B&M;return G<0&&(G+=4294967296),G}function L(N,k,B,j,M,G){var Y=k&j^k&G^j&G;return Y<0&&(Y+=4294967296),Y}function O(N,k){var B=c(N,k,28)^c(k,N,2)^c(k,N,7);return B<0&&(B+=4294967296),B}function H(N,k){var B=l(N,k,28)^l(k,N,2)^l(k,N,7);return B<0&&(B+=4294967296),B}function U(N,k){var B=c(N,k,14)^c(N,k,18)^c(k,N,9);return B<0&&(B+=4294967296),B}function I(N,k){var B=l(N,k,14)^l(N,k,18)^l(k,N,9);return B<0&&(B+=4294967296),B}function F(N,k){var B=c(N,k,1)^c(N,k,8)^d(N,k,7);return B<0&&(B+=4294967296),B}function A(N,k){var B=l(N,k,1)^l(N,k,8)^p(N,k,7);return B<0&&(B+=4294967296),B}function _(N,k){var B=c(N,k,19)^c(k,N,29)^d(N,k,6);return B<0&&(B+=4294967296),B}function E(N,k){var B=l(N,k,19)^l(k,N,29)^p(N,k,6);return B<0&&(B+=4294967296),B}i.inherits(D,w),s.exports=D,D.blockSize=1024,D.outSize=512,D.hmacStrength=192,D.padLength=128,D.prototype._prepareBlock=function(N,k){for(var B=this.W,j=0;j<32;j++)B[j]=N[k+j];for(;j<B.length;j+=2){var M=_(B[j-4],B[j-3]),G=E(B[j-4],B[j-3]),Y=B[j-14],J=B[j-13],V=F(B[j-30],B[j-29]),Q=A(B[j-30],B[j-29]),q=B[j-32],z=B[j-31];B[j]=y(M,G,Y,J,V,Q,q,z),B[j+1]=g(M,G,Y,J,V,Q,q,z)}},D.prototype._update=function(N,k){this._prepareBlock(N,k);var B=this.W,j=this.h[0],M=this.h[1],G=this.h[2],Y=this.h[3],J=this.h[4],V=this.h[5],Q=this.h[6],q=this.h[7],z=this.h[8],Z=this.h[9],re=this.h[10],le=this.h[11],ue=this.h[12],ce=this.h[13],ie=this.h[14],ye=this.h[15];u(this.k.length===B.length);for(var he=0;he<B.length;he+=2){var pe=ie,xe=ye,Oe=U(z,Z),Ae=I(z,Z),Le=T(z,Z,re,le,ue),He=R(z,Z,re,le,ue,ce),Ye=this.k[he],it=this.k[he+1],bt=B[he],tt=B[he+1],$e=x(pe,xe,Oe,Ae,Le,He,Ye,it,bt,tt),at=v(pe,xe,Oe,Ae,Le,He,Ye,it,bt,tt);pe=O(j,M),xe=H(j,M),Oe=P(j,M,G,Y,J),Ae=L(j,M,G,Y,J,V);var ze=f(pe,xe,Oe,Ae),wt=b(pe,xe,Oe,Ae);ie=ue,ye=ce,ue=re,ce=le,re=z,le=Z,z=f(Q,q,$e,at),Z=b(q,q,$e,at),Q=J,q=V,J=G,V=Y,G=j,Y=M,j=f($e,at,ze,wt),M=b($e,at,ze,wt)}h(this.h,0,j,M),h(this.h,2,G,Y),h(this.h,4,J,V),h(this.h,6,Q,q),h(this.h,8,z,Z),h(this.h,10,re,le),h(this.h,12,ue,ce),h(this.h,14,ie,ye)},D.prototype._digest=function(N){return N==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,s,a){var i=e("../utils").rotr32;function o(l,d,p){return l&d^~l&p}function u(l,d,p){return l&d^l&p^d&p}function c(l,d,p){return l^d^p}a.ft_1=function(l,d,p,h){return l===0?o(d,p,h):l===1||l===3?c(d,p,h):l===2?u(d,p,h):void 0},a.ch32=o,a.maj32=u,a.p32=c,a.s0_256=function(l){return i(l,2)^i(l,13)^i(l,22)},a.s1_256=function(l){return i(l,6)^i(l,11)^i(l,25)},a.g0_256=function(l){return i(l,7)^i(l,18)^l>>>3},a.g1_256=function(l){return i(l,17)^i(l,19)^l>>>10}},{"../utils":437}],437:[function(e,s,a){var i=e("minimalistic-assert"),o=e("inherits");function u(p,h){return(64512&p.charCodeAt(h))==55296&&!(h<0||h+1>=p.length)&&(64512&p.charCodeAt(h+1))==56320}function c(p){return(p>>>24|p>>>8&65280|p<<8&16711680|(255&p)<<24)>>>0}function l(p){return p.length===1?"0"+p:p}function d(p){return p.length===7?"0"+p:p.length===6?"00"+p:p.length===5?"000"+p:p.length===4?"0000"+p:p.length===3?"00000"+p:p.length===2?"000000"+p:p.length===1?"0000000"+p:p}a.inherits=o,a.toArray=function(p,h){if(Array.isArray(p))return p.slice();if(!p)return[];var f=[];if(typeof p=="string")if(h){if(h==="hex")for((p=p.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(p="0"+p),y=0;y<p.length;y+=2)f.push(parseInt(p[y]+p[y+1],16))}else for(var b=0,y=0;y<p.length;y++){var g=p.charCodeAt(y);g<128?f[b++]=g:g<2048?(f[b++]=g>>6|192,f[b++]=63&g|128):u(p,y)?(g=65536+((1023&g)<<10)+(1023&p.charCodeAt(++y)),f[b++]=g>>18|240,f[b++]=g>>12&63|128,f[b++]=g>>6&63|128,f[b++]=63&g|128):(f[b++]=g>>12|224,f[b++]=g>>6&63|128,f[b++]=63&g|128)}else for(y=0;y<p.length;y++)f[y]=0|p[y];return f},a.toHex=function(p){for(var h="",f=0;f<p.length;f++)h+=l(p[f].toString(16));return h},a.htonl=c,a.toHex32=function(p,h){for(var f="",b=0;b<p.length;b++){var y=p[b];h==="little"&&(y=c(y)),f+=d(y.toString(16))}return f},a.zero2=l,a.zero8=d,a.join32=function(p,h,f,b){var y=f-h;i(y%4==0);for(var g=new Array(y/4),x=0,v=h;x<g.length;x++,v+=4){var w;w=b==="big"?p[v]<<24|p[v+1]<<16|p[v+2]<<8|p[v+3]:p[v+3]<<24|p[v+2]<<16|p[v+1]<<8|p[v],g[x]=w>>>0}return g},a.split32=function(p,h){for(var f=new Array(4*p.length),b=0,y=0;b<p.length;b++,y+=4){var g=p[b];h==="big"?(f[y]=g>>>24,f[y+1]=g>>>16&255,f[y+2]=g>>>8&255,f[y+3]=255&g):(f[y+3]=g>>>24,f[y+2]=g>>>16&255,f[y+1]=g>>>8&255,f[y]=255&g)}return f},a.rotr32=function(p,h){return p>>>h|p<<32-h},a.rotl32=function(p,h){return p<<h|p>>>32-h},a.sum32=function(p,h){return p+h>>>0},a.sum32_3=function(p,h,f){return p+h+f>>>0},a.sum32_4=function(p,h,f,b){return p+h+f+b>>>0},a.sum32_5=function(p,h,f,b,y){return p+h+f+b+y>>>0},a.sum64=function(p,h,f,b){var y=p[h],g=b+p[h+1]>>>0,x=(g<b?1:0)+f+y;p[h]=x>>>0,p[h+1]=g},a.sum64_hi=function(p,h,f,b){return(h+b>>>0<h?1:0)+p+f>>>0},a.sum64_lo=function(p,h,f,b){return h+b>>>0},a.sum64_4_hi=function(p,h,f,b,y,g,x,v){var w=0,S=h;return w+=(S=S+b>>>0)<h?1:0,w+=(S=S+g>>>0)<g?1:0,p+f+y+x+(w+=(S=S+v>>>0)<v?1:0)>>>0},a.sum64_4_lo=function(p,h,f,b,y,g,x,v){return h+b+g+v>>>0},a.sum64_5_hi=function(p,h,f,b,y,g,x,v,w,S){var D=0,T=h;return D+=(T=T+b>>>0)<h?1:0,D+=(T=T+g>>>0)<g?1:0,D+=(T=T+v>>>0)<v?1:0,p+f+y+x+w+(D+=(T=T+S>>>0)<S?1:0)>>>0},a.sum64_5_lo=function(p,h,f,b,y,g,x,v,w,S){return h+b+g+v+S>>>0},a.rotr64_hi=function(p,h,f){return(h<<32-f|p>>>f)>>>0},a.rotr64_lo=function(p,h,f){return(p<<32-f|h>>>f)>>>0},a.shr64_hi=function(p,h,f){return p>>>f},a.shr64_lo=function(p,h,f){return(p<<32-f|h>>>f)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(e,s,a){var i=e("hash.js"),o=e("minimalistic-crypto-utils"),u=e("minimalistic-assert");function c(l){if(!(this instanceof c))return new c(l);this.hash=l.hash,this.predResist=!!l.predResist,this.outLen=this.hash.outSize,this.minEntropy=l.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var d=o.toArray(l.entropy,l.entropyEnc||"hex"),p=o.toArray(l.nonce,l.nonceEnc||"hex"),h=o.toArray(l.pers,l.persEnc||"hex");u(d.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(d,p,h)}s.exports=c,c.prototype._init=function(l,d,p){var h=l.concat(d).concat(p);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var f=0;f<this.V.length;f++)this.K[f]=0,this.V[f]=1;this._update(h),this._reseed=1,this.reseedInterval=281474976710656},c.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},c.prototype._update=function(l){var d=this._hmac().update(this.V).update([0]);l&&(d=d.update(l)),this.K=d.digest(),this.V=this._hmac().update(this.V).digest(),l&&(this.K=this._hmac().update(this.V).update([1]).update(l).digest(),this.V=this._hmac().update(this.V).digest())},c.prototype.reseed=function(l,d,p,h){typeof d!="string"&&(h=p,p=d,d=null),l=o.toArray(l,d),p=o.toArray(p,h),u(l.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(l.concat(p||[])),this._reseed=1},c.prototype.generate=function(l,d,p,h){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof d!="string"&&(h=p,p=d,d=null),p&&(p=o.toArray(p,h||"hex"),this._update(p));for(var f=[];f.length<l;)this.V=this._hmac().update(this.V).digest(),f=f.concat(this.V);var b=f.slice(0,l);return this._update(p),this._reseed++,o.encode(b,d)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,s,a){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */a.read=function(i,o,u,c,l){var d,p,h=8*l-c-1,f=(1<<h)-1,b=f>>1,y=-7,g=u?l-1:0,x=u?-1:1,v=i[o+g];for(g+=x,d=v&(1<<-y)-1,v>>=-y,y+=h;y>0;d=256*d+i[o+g],g+=x,y-=8);for(p=d&(1<<-y)-1,d>>=-y,y+=c;y>0;p=256*p+i[o+g],g+=x,y-=8);if(d===0)d=1-b;else{if(d===f)return p?NaN:1/0*(v?-1:1);p+=Math.pow(2,c),d-=b}return(v?-1:1)*p*Math.pow(2,d-c)},a.write=function(i,o,u,c,l,d){var p,h,f,b=8*d-l-1,y=(1<<b)-1,g=y>>1,x=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=c?0:d-1,w=c?1:-1,S=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(h=isNaN(o)?1:0,p=y):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),(o+=p+g>=1?x/f:x*Math.pow(2,1-g))*f>=2&&(p++,f/=2),p+g>=y?(h=0,p=y):p+g>=1?(h=(o*f-1)*Math.pow(2,l),p+=g):(h=o*Math.pow(2,g-1)*Math.pow(2,l),p=0));l>=8;i[u+v]=255&h,v+=w,h/=256,l-=8);for(p=p<<l|h,b+=l;b>0;i[u+v]=255&p,v+=w,p/=256,b-=8);i[u+v-w]|=128*S}},{}],440:[function(e,s,a){typeof Object.create=="function"?s.exports=function(i,o){o&&(i.super_=o,i.prototype=Object.create(o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:s.exports=function(i,o){if(o){i.super_=o;var u=function(){};u.prototype=o.prototype,i.prototype=new u,i.prototype.constructor=i}}},{}],441:[function(e,s,a){(function(i,o,u,c,l,d,p,h){(function(){/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(f){typeof a=="object"&&s!==void 0?s.exports=f():(typeof window<"u"?window:o!==void 0?o:typeof self<"u"?self:this).JSZip=f()})(function(){return function f(b,y,g){function x(S,D){if(!y[S]){if(!b[S]){var T=typeof e=="function"&&e;if(!D&&T)return T(S,!0);if(v)return v(S,!0);var R=new Error("Cannot find module '"+S+"'");throw R.code="MODULE_NOT_FOUND",R}var P=y[S]={exports:{}};b[S][0].call(P.exports,function(L){return x(b[S][1][L]||L)},P,P.exports,f,b,y,g)}return y[S].exports}for(var v=typeof e=="function"&&e,w=0;w<g.length;w++)x(g[w]);return x}({1:[function(f,b,y){var g=f("./utils"),x=f("./support"),v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";y.encode=function(w){for(var S,D,T,R,P,L,O,H=[],U=0,I=w.length,F=I,A=g.getTypeOf(w)!=="string";U<w.length;)F=I-U,T=A?(S=w[U++],D=U<I?w[U++]:0,U<I?w[U++]:0):(S=w.charCodeAt(U++),D=U<I?w.charCodeAt(U++):0,U<I?w.charCodeAt(U++):0),R=S>>2,P=(3&S)<<4|D>>4,L=1<F?(15&D)<<2|T>>6:64,O=2<F?63&T:64,H.push(v.charAt(R)+v.charAt(P)+v.charAt(L)+v.charAt(O));return H.join("")},y.decode=function(w){var S,D,T,R,P,L,O=0,H=0,U="data:";if(w.substr(0,U.length)===U)throw new Error("Invalid base64 input, it looks like a data url.");var I,F=3*(w=w.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(w.charAt(w.length-1)===v.charAt(64)&&F--,w.charAt(w.length-2)===v.charAt(64)&&F--,F%1!=0)throw new Error("Invalid base64 input, bad content length.");for(I=x.uint8array?new Uint8Array(0|F):new Array(0|F);O<w.length;)S=v.indexOf(w.charAt(O++))<<2|(R=v.indexOf(w.charAt(O++)))>>4,D=(15&R)<<4|(P=v.indexOf(w.charAt(O++)))>>2,T=(3&P)<<6|(L=v.indexOf(w.charAt(O++))),I[H++]=S,P!==64&&(I[H++]=D),L!==64&&(I[H++]=T);return I}},{"./support":30,"./utils":32}],2:[function(f,b,y){var g=f("./external"),x=f("./stream/DataWorker"),v=f("./stream/Crc32Probe"),w=f("./stream/DataLengthProbe");function S(D,T,R,P,L){this.compressedSize=D,this.uncompressedSize=T,this.crc32=R,this.compression=P,this.compressedContent=L}S.prototype={getContentWorker:function(){var D=new x(g.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new w("data_length")),T=this;return D.on("end",function(){if(this.streamInfo.data_length!==T.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),D},getCompressedWorker:function(){return new x(g.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},S.createWorkerFrom=function(D,T,R){return D.pipe(new v).pipe(new w("uncompressedSize")).pipe(T.compressWorker(R)).pipe(new w("compressedSize")).withStreamInfo("compression",T)},b.exports=S},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(f,b,y){var g=f("./stream/GenericWorker");y.STORE={magic:"\0\0",compressWorker:function(){return new g("STORE compression")},uncompressWorker:function(){return new g("STORE decompression")}},y.DEFLATE=f("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(f,b,y){var g=f("./utils"),x=function(){for(var v,w=[],S=0;S<256;S++){v=S;for(var D=0;D<8;D++)v=1&v?3988292384^v>>>1:v>>>1;w[S]=v}return w}();b.exports=function(v,w){return v!==void 0&&v.length?g.getTypeOf(v)!=="string"?function(S,D,T,R){var P=x,L=0+T;S^=-1;for(var O=0;O<L;O++)S=S>>>8^P[255&(S^D[O])];return-1^S}(0|w,v,v.length):function(S,D,T,R){var P=x,L=0+T;S^=-1;for(var O=0;O<L;O++)S=S>>>8^P[255&(S^D.charCodeAt(O))];return-1^S}(0|w,v,v.length):0}},{"./utils":32}],5:[function(f,b,y){y.base64=!1,y.binary=!1,y.dir=!1,y.createFolders=!0,y.date=null,y.compression=null,y.compressionOptions=null,y.comment=null,y.unixPermissions=null,y.dosPermissions=null},{}],6:[function(f,b,y){var g;g=typeof Promise<"u"?Promise:f("lie"),b.exports={Promise:g}},{lie:37}],7:[function(f,b,y){var g=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",x=f("pako"),v=f("./utils"),w=f("./stream/GenericWorker"),S=g?"uint8array":"array";function D(T,R){w.call(this,"FlateWorker/"+T),this._pako=null,this._pakoAction=T,this._pakoOptions=R,this.meta={}}y.magic="\b\0",v.inherits(D,w),D.prototype.processChunk=function(T){this.meta=T.meta,this._pako===null&&this._createPako(),this._pako.push(v.transformTo(S,T.data),!1)},D.prototype.flush=function(){w.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},D.prototype.cleanUp=function(){w.prototype.cleanUp.call(this),this._pako=null},D.prototype._createPako=function(){this._pako=new x[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var T=this;this._pako.onData=function(R){T.push({data:R,meta:T.meta})}},y.compressWorker=function(T){return new D("Deflate",T)},y.uncompressWorker=function(){return new D("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(f,b,y){function g(P,L){var O,H="";for(O=0;O<L;O++)H+=String.fromCharCode(255&P),P>>>=8;return H}function x(P,L,O,H,U,I){var F,A,_=P.file,E=P.compression,N=I!==S.utf8encode,k=v.transformTo("string",I(_.name)),B=v.transformTo("string",S.utf8encode(_.name)),j=_.comment,M=v.transformTo("string",I(j)),G=v.transformTo("string",S.utf8encode(j)),Y=B.length!==_.name.length,J=G.length!==j.length,V="",Q="",q="",z=_.dir,Z=_.date,re={crc32:0,compressedSize:0,uncompressedSize:0};L&&!O||(re.crc32=P.crc32,re.compressedSize=P.compressedSize,re.uncompressedSize=P.uncompressedSize);var le=0;L&&(le|=8),N||!Y&&!J||(le|=2048);var ue=0,ce=0;z&&(ue|=16),U==="UNIX"?(ce=798,ue|=function(ye,he){var pe=ye;return ye||(pe=he?16893:33204),(65535&pe)<<16}(_.unixPermissions,z)):(ce=20,ue|=function(ye){return 63&(ye||0)}(_.dosPermissions)),F=Z.getUTCHours(),F<<=6,F|=Z.getUTCMinutes(),F<<=5,F|=Z.getUTCSeconds()/2,A=Z.getUTCFullYear()-1980,A<<=4,A|=Z.getUTCMonth()+1,A<<=5,A|=Z.getUTCDate(),Y&&(Q=g(1,1)+g(D(k),4)+B,V+="up"+g(Q.length,2)+Q),J&&(q=g(1,1)+g(D(M),4)+G,V+="uc"+g(q.length,2)+q);var ie="";return ie+=`
\0`,ie+=g(le,2),ie+=E.magic,ie+=g(F,2),ie+=g(A,2),ie+=g(re.crc32,4),ie+=g(re.compressedSize,4),ie+=g(re.uncompressedSize,4),ie+=g(k.length,2),ie+=g(V.length,2),{fileRecord:T.LOCAL_FILE_HEADER+ie+k+V,dirRecord:T.CENTRAL_FILE_HEADER+g(ce,2)+ie+g(M.length,2)+"\0\0\0\0"+g(ue,4)+g(H,4)+k+V+M}}var v=f("../utils"),w=f("../stream/GenericWorker"),S=f("../utf8"),D=f("../crc32"),T=f("../signature");function R(P,L,O,H){w.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=L,this.zipPlatform=O,this.encodeFileName=H,this.streamFiles=P,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}v.inherits(R,w),R.prototype.push=function(P){var L=P.meta.percent||0,O=this.entriesCount,H=this._sources.length;this.accumulate?this.contentBuffer.push(P):(this.bytesWritten+=P.data.length,w.prototype.push.call(this,{data:P.data,meta:{currentFile:this.currentFile,percent:O?(L+100*(O-H-1))/O:100}}))},R.prototype.openedSource=function(P){this.currentSourceOffset=this.bytesWritten,this.currentFile=P.file.name;var L=this.streamFiles&&!P.file.dir;if(L){var O=x(P,L,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:O.fileRecord,meta:{percent:0}})}else this.accumulate=!0},R.prototype.closedSource=function(P){this.accumulate=!1;var L=this.streamFiles&&!P.file.dir,O=x(P,L,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(O.dirRecord),L)this.push({data:function(H){return T.DATA_DESCRIPTOR+g(H.crc32,4)+g(H.compressedSize,4)+g(H.uncompressedSize,4)}(P),meta:{percent:100}});else for(this.push({data:O.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},R.prototype.flush=function(){for(var P=this.bytesWritten,L=0;L<this.dirRecords.length;L++)this.push({data:this.dirRecords[L],meta:{percent:100}});var O=this.bytesWritten-P,H=function(U,I,F,A,_){var E=v.transformTo("string",_(A));return T.CENTRAL_DIRECTORY_END+"\0\0\0\0"+g(U,2)+g(U,2)+g(I,4)+g(F,4)+g(E.length,2)+E}(this.dirRecords.length,O,P,this.zipComment,this.encodeFileName);this.push({data:H,meta:{percent:100}})},R.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},R.prototype.registerPrevious=function(P){this._sources.push(P);var L=this;return P.on("data",function(O){L.processChunk(O)}),P.on("end",function(){L.closedSource(L.previous.streamInfo),L._sources.length?L.prepareNextSource():L.end()}),P.on("error",function(O){L.error(O)}),this},R.prototype.resume=function(){return!!w.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},R.prototype.error=function(P){var L=this._sources;if(!w.prototype.error.call(this,P))return!1;for(var O=0;O<L.length;O++)try{L[O].error(P)}catch{}return!0},R.prototype.lock=function(){w.prototype.lock.call(this);for(var P=this._sources,L=0;L<P.length;L++)P[L].lock()},b.exports=R},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(f,b,y){var g=f("../compressions"),x=f("./ZipFileWorker");y.generateWorker=function(v,w,S){var D=new x(w.streamFiles,S,w.platform,w.encodeFileName),T=0;try{v.forEach(function(R,P){T++;var L=function(I,F){var A=I||F,_=g[A];if(!_)throw new Error(A+" is not a valid compression method !");return _}(P.options.compression,w.compression),O=P.options.compressionOptions||w.compressionOptions||{},H=P.dir,U=P.date;P._compressWorker(L,O).withStreamInfo("file",{name:R,dir:H,date:U,comment:P.comment||"",unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions}).pipe(D)}),D.entriesCount=T}catch(R){D.error(R)}return D}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(f,b,y){function g(){if(!(this instanceof g))return new g;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var x=new g;for(var v in this)typeof this[v]!="function"&&(x[v]=this[v]);return x}}(g.prototype=f("./object")).loadAsync=f("./load"),g.support=f("./support"),g.defaults=f("./defaults"),g.version="3.10.1",g.loadAsync=function(x,v){return new g().loadAsync(x,v)},g.external=f("./external"),b.exports=g},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(f,b,y){var g=f("./utils"),x=f("./external"),v=f("./utf8"),w=f("./zipEntries"),S=f("./stream/Crc32Probe"),D=f("./nodejsUtils");function T(R){return new x.Promise(function(P,L){var O=R.decompressed.getContentWorker().pipe(new S);O.on("error",function(H){L(H)}).on("end",function(){O.streamInfo.crc32!==R.decompressed.crc32?L(new Error("Corrupted zip : CRC32 mismatch")):P()}).resume()})}b.exports=function(R,P){var L=this;return P=g.extend(P||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:v.utf8decode}),D.isNode&&D.isStream(R)?x.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):g.prepareContent("the loaded zip file",R,!0,P.optimizedBinaryString,P.base64).then(function(O){var H=new w(P);return H.load(O),H}).then(function(O){var H=[x.Promise.resolve(O)],U=O.files;if(P.checkCRC32)for(var I=0;I<U.length;I++)H.push(T(U[I]));return x.Promise.all(H)}).then(function(O){for(var H=O.shift(),U=H.files,I=0;I<U.length;I++){var F=U[I],A=F.fileNameStr,_=g.resolve(F.fileNameStr);L.file(_,F.decompressed,{binary:!0,optimizedBinaryString:!0,date:F.date,dir:F.dir,comment:F.fileCommentStr.length?F.fileCommentStr:null,unixPermissions:F.unixPermissions,dosPermissions:F.dosPermissions,createFolders:P.createFolders}),F.dir||(L.file(_).unsafeOriginalName=A)}return H.zipComment.length&&(L.comment=H.zipComment),L})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(f,b,y){var g=f("../utils"),x=f("../stream/GenericWorker");function v(w,S){x.call(this,"Nodejs stream input adapter for "+w),this._upstreamEnded=!1,this._bindStream(S)}g.inherits(v,x),v.prototype._bindStream=function(w){var S=this;(this._stream=w).pause(),w.on("data",function(D){S.push({data:D,meta:{percent:0}})}).on("error",function(D){S.isPaused?this.generatedError=D:S.error(D)}).on("end",function(){S.isPaused?S._upstreamEnded=!0:S.end()})},v.prototype.pause=function(){return!!x.prototype.pause.call(this)&&(this._stream.pause(),!0)},v.prototype.resume=function(){return!!x.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},b.exports=v},{"../stream/GenericWorker":28,"../utils":32}],13:[function(f,b,y){var g=f("readable-stream").Readable;function x(v,w,S){g.call(this,w),this._helper=v;var D=this;v.on("data",function(T,R){D.push(T)||D._helper.pause(),S&&S(R)}).on("error",function(T){D.emit("error",T)}).on("end",function(){D.push(null)})}f("../utils").inherits(x,g),x.prototype._read=function(){this._helper.resume()},b.exports=x},{"../utils":32,"readable-stream":16}],14:[function(f,b,y){b.exports={isNode:u!==void 0,newBufferFrom:function(g,x){if(u.from&&u.from!==Uint8Array.from)return u.from(g,x);if(typeof g=="number")throw new Error('The "data" argument must not be a number');return new u(g,x)},allocBuffer:function(g){if(u.alloc)return u.alloc(g);var x=new u(g);return x.fill(0),x},isBuffer:function(g){return u.isBuffer(g)},isStream:function(g){return g&&typeof g.on=="function"&&typeof g.pause=="function"&&typeof g.resume=="function"}}},{}],15:[function(f,b,y){function g(_,E,N){var k,B=v.getTypeOf(E),j=v.extend(N||{},D);j.date=j.date||new Date,j.compression!==null&&(j.compression=j.compression.toUpperCase()),typeof j.unixPermissions=="string"&&(j.unixPermissions=parseInt(j.unixPermissions,8)),j.unixPermissions&&16384&j.unixPermissions&&(j.dir=!0),j.dosPermissions&&16&j.dosPermissions&&(j.dir=!0),j.dir&&(_=U(_)),j.createFolders&&(k=H(_))&&I.call(this,k,!0);var M=B==="string"&&j.binary===!1&&j.base64===!1;N&&N.binary!==void 0||(j.binary=!M),(E instanceof T&&E.uncompressedSize===0||j.dir||!E||E.length===0)&&(j.base64=!1,j.binary=!0,E="",j.compression="STORE",B="string");var G;G=E instanceof T||E instanceof w?E:L.isNode&&L.isStream(E)?new O(_,E):v.prepareContent(_,E,j.binary,j.optimizedBinaryString,j.base64);var Y=new R(_,G,j);this.files[_]=Y}var x=f("./utf8"),v=f("./utils"),w=f("./stream/GenericWorker"),S=f("./stream/StreamHelper"),D=f("./defaults"),T=f("./compressedObject"),R=f("./zipObject"),P=f("./generate"),L=f("./nodejsUtils"),O=f("./nodejs/NodejsStreamInputAdapter"),H=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var E=_.lastIndexOf("/");return 0<E?_.substring(0,E):""},U=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},I=function(_,E){return E=E!==void 0?E:D.createFolders,_=U(_),this.files[_]||g.call(this,_,null,{dir:!0,createFolders:E}),this.files[_]};function F(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var E,N,k;for(E in this.files)k=this.files[E],(N=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&_(N,k)},filter:function(_){var E=[];return this.forEach(function(N,k){_(N,k)&&E.push(k)}),E},file:function(_,E,N){if(arguments.length!==1)return _=this.root+_,g.call(this,_,E,N),this;if(F(_)){var k=_;return this.filter(function(j,M){return!M.dir&&k.test(j)})}var B=this.files[this.root+_];return B&&!B.dir?B:null},folder:function(_){if(!_)return this;if(F(_))return this.filter(function(B,j){return j.dir&&_.test(B)});var E=this.root+_,N=I.call(this,E),k=this.clone();return k.root=N.name,k},remove:function(_){_=this.root+_;var E=this.files[_];if(E||(_.slice(-1)!=="/"&&(_+="/"),E=this.files[_]),E&&!E.dir)delete this.files[_];else for(var N=this.filter(function(B,j){return j.name.slice(0,_.length)===_}),k=0;k<N.length;k++)delete this.files[N[k].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var E,N={};try{if((N=v.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:x.utf8encode})).type=N.type.toLowerCase(),N.compression=N.compression.toUpperCase(),N.type==="binarystring"&&(N.type="string"),!N.type)throw new Error("No output type specified.");v.checkSupport(N.type),N.platform!=="darwin"&&N.platform!=="freebsd"&&N.platform!=="linux"&&N.platform!=="sunos"||(N.platform="UNIX"),N.platform==="win32"&&(N.platform="DOS");var k=N.comment||this.comment||"";E=P.generateWorker(this,N,k)}catch(B){(E=new w("error")).error(B)}return new S(E,N.type||"string",N.mimeType)},generateAsync:function(_,E){return this.generateInternalStream(_).accumulate(E)},generateNodeStream:function(_,E){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(E)}};b.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(f,b,y){b.exports=f("stream")},{stream:void 0}],17:[function(f,b,y){var g=f("./DataReader");function x(v){g.call(this,v);for(var w=0;w<this.data.length;w++)v[w]=255&v[w]}f("../utils").inherits(x,g),x.prototype.byteAt=function(v){return this.data[this.zero+v]},x.prototype.lastIndexOfSignature=function(v){for(var w=v.charCodeAt(0),S=v.charCodeAt(1),D=v.charCodeAt(2),T=v.charCodeAt(3),R=this.length-4;0<=R;--R)if(this.data[R]===w&&this.data[R+1]===S&&this.data[R+2]===D&&this.data[R+3]===T)return R-this.zero;return-1},x.prototype.readAndCheckSignature=function(v){var w=v.charCodeAt(0),S=v.charCodeAt(1),D=v.charCodeAt(2),T=v.charCodeAt(3),R=this.readData(4);return w===R[0]&&S===R[1]&&D===R[2]&&T===R[3]},x.prototype.readData=function(v){if(this.checkOffset(v),v===0)return[];var w=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,w},b.exports=x},{"../utils":32,"./DataReader":18}],18:[function(f,b,y){var g=f("../utils");function x(v){this.data=v,this.length=v.length,this.index=0,this.zero=0}x.prototype={checkOffset:function(v){this.checkIndex(this.index+v)},checkIndex:function(v){if(this.length<this.zero+v||v<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+v+"). Corrupted zip ?")},setIndex:function(v){this.checkIndex(v),this.index=v},skip:function(v){this.setIndex(this.index+v)},byteAt:function(){},readInt:function(v){var w,S=0;for(this.checkOffset(v),w=this.index+v-1;w>=this.index;w--)S=(S<<8)+this.byteAt(w);return this.index+=v,S},readString:function(v){return g.transformTo("string",this.readData(v))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var v=this.readInt(4);return new Date(Date.UTC(1980+(v>>25&127),(v>>21&15)-1,v>>16&31,v>>11&31,v>>5&63,(31&v)<<1))}},b.exports=x},{"../utils":32}],19:[function(f,b,y){var g=f("./Uint8ArrayReader");function x(v){g.call(this,v)}f("../utils").inherits(x,g),x.prototype.readData=function(v){this.checkOffset(v);var w=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,w},b.exports=x},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(f,b,y){var g=f("./DataReader");function x(v){g.call(this,v)}f("../utils").inherits(x,g),x.prototype.byteAt=function(v){return this.data.charCodeAt(this.zero+v)},x.prototype.lastIndexOfSignature=function(v){return this.data.lastIndexOf(v)-this.zero},x.prototype.readAndCheckSignature=function(v){return v===this.readData(4)},x.prototype.readData=function(v){this.checkOffset(v);var w=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,w},b.exports=x},{"../utils":32,"./DataReader":18}],21:[function(f,b,y){var g=f("./ArrayReader");function x(v){g.call(this,v)}f("../utils").inherits(x,g),x.prototype.readData=function(v){if(this.checkOffset(v),v===0)return new Uint8Array(0);var w=this.data.subarray(this.zero+this.index,this.zero+this.index+v);return this.index+=v,w},b.exports=x},{"../utils":32,"./ArrayReader":17}],22:[function(f,b,y){var g=f("../utils"),x=f("../support"),v=f("./ArrayReader"),w=f("./StringReader"),S=f("./NodeBufferReader"),D=f("./Uint8ArrayReader");b.exports=function(T){var R=g.getTypeOf(T);return g.checkSupport(R),R!=="string"||x.uint8array?R==="nodebuffer"?new S(T):x.uint8array?new D(g.transformTo("uint8array",T)):new v(g.transformTo("array",T)):new w(T)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(f,b,y){y.LOCAL_FILE_HEADER="PK",y.CENTRAL_FILE_HEADER="PK",y.CENTRAL_DIRECTORY_END="PK",y.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",y.ZIP64_CENTRAL_DIRECTORY_END="PK",y.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(f,b,y){var g=f("./GenericWorker"),x=f("../utils");function v(w){g.call(this,"ConvertWorker to "+w),this.destType=w}x.inherits(v,g),v.prototype.processChunk=function(w){this.push({data:x.transformTo(this.destType,w.data),meta:w.meta})},b.exports=v},{"../utils":32,"./GenericWorker":28}],25:[function(f,b,y){var g=f("./GenericWorker"),x=f("../crc32");function v(){g.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}f("../utils").inherits(v,g),v.prototype.processChunk=function(w){this.streamInfo.crc32=x(w.data,this.streamInfo.crc32||0),this.push(w)},b.exports=v},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(f,b,y){var g=f("../utils"),x=f("./GenericWorker");function v(w){x.call(this,"DataLengthProbe for "+w),this.propName=w,this.withStreamInfo(w,0)}g.inherits(v,x),v.prototype.processChunk=function(w){if(w){var S=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=S+w.data.length}x.prototype.processChunk.call(this,w)},b.exports=v},{"../utils":32,"./GenericWorker":28}],27:[function(f,b,y){var g=f("../utils"),x=f("./GenericWorker");function v(w){x.call(this,"DataWorker");var S=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,w.then(function(D){S.dataIsReady=!0,S.data=D,S.max=D&&D.length||0,S.type=g.getTypeOf(D),S.isPaused||S._tickAndRepeat()},function(D){S.error(D)})}g.inherits(v,x),v.prototype.cleanUp=function(){x.prototype.cleanUp.call(this),this.data=null},v.prototype.resume=function(){return!!x.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,g.delay(this._tickAndRepeat,[],this)),!0)},v.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(g.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},v.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var w=null,S=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":w=this.data.substring(this.index,S);break;case"uint8array":w=this.data.subarray(this.index,S);break;case"array":case"nodebuffer":w=this.data.slice(this.index,S)}return this.index=S,this.push({data:w,meta:{percent:this.max?this.index/this.max*100:0}})},b.exports=v},{"../utils":32,"./GenericWorker":28}],28:[function(f,b,y){function g(x){this.name=x||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}g.prototype={push:function(x){this.emit("data",x)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(x){this.emit("error",x)}return!0},error:function(x){return!this.isFinished&&(this.isPaused?this.generatedError=x:(this.isFinished=!0,this.emit("error",x),this.previous&&this.previous.error(x),this.cleanUp()),!0)},on:function(x,v){return this._listeners[x].push(v),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(x,v){if(this._listeners[x])for(var w=0;w<this._listeners[x].length;w++)this._listeners[x][w].call(this,v)},pipe:function(x){return x.registerPrevious(this)},registerPrevious:function(x){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=x.streamInfo,this.mergeStreamInfo(),this.previous=x;var v=this;return x.on("data",function(w){v.processChunk(w)}),x.on("end",function(){v.end()}),x.on("error",function(w){v.error(w)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var x=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),x=!0),this.previous&&this.previous.resume(),!x},flush:function(){},processChunk:function(x){this.push(x)},withStreamInfo:function(x,v){return this.extraStreamInfo[x]=v,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var x in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,x)&&(this.streamInfo[x]=this.extraStreamInfo[x])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var x="Worker "+this.name;return this.previous?this.previous+" -> "+x:x}},b.exports=g},{}],29:[function(f,b,y){var g=f("../utils"),x=f("./ConvertWorker"),v=f("./GenericWorker"),w=f("../base64"),S=f("../support"),D=f("../external"),T=null;if(S.nodestream)try{T=f("../nodejs/NodejsStreamOutputAdapter")}catch{}function R(P,L,O){var H=L;switch(L){case"blob":case"arraybuffer":H="uint8array";break;case"base64":H="string"}try{this._internalType=H,this._outputType=L,this._mimeType=O,g.checkSupport(H),this._worker=P.pipe(new x(H)),P.lock()}catch(U){this._worker=new v("error"),this._worker.error(U)}}R.prototype={accumulate:function(P){return function(L,O){return new D.Promise(function(H,U){var I=[],F=L._internalType,A=L._outputType,_=L._mimeType;L.on("data",function(E,N){I.push(E),O&&O(N)}).on("error",function(E){I=[],U(E)}).on("end",function(){try{var E=function(N,k,B){switch(N){case"blob":return g.newBlob(g.transformTo("arraybuffer",k),B);case"base64":return w.encode(k);default:return g.transformTo(N,k)}}(A,function(N,k){var B,j=0,M=null,G=0;for(B=0;B<k.length;B++)G+=k[B].length;switch(N){case"string":return k.join("");case"array":return Array.prototype.concat.apply([],k);case"uint8array":for(M=new Uint8Array(G),B=0;B<k.length;B++)M.set(k[B],j),j+=k[B].length;return M;case"nodebuffer":return u.concat(k);default:throw new Error("concat : unsupported type '"+N+"'")}}(F,I),_);H(E)}catch(N){U(N)}I=[]}).resume()})}(this,P)},on:function(P,L){var O=this;return P==="data"?this._worker.on(P,function(H){L.call(O,H.data,H.meta)}):this._worker.on(P,function(){g.delay(L,arguments,O)}),this},resume:function(){return g.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(P){if(g.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new T(this,{objectMode:this._outputType!=="nodebuffer"},P)}},b.exports=R},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(f,b,y){if(y.base64=!0,y.array=!0,y.string=!0,y.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",y.nodebuffer=u!==void 0,y.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")y.blob=!1;else{var g=new ArrayBuffer(0);try{y.blob=new Blob([g],{type:"application/zip"}).size===0}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);x.append(g),y.blob=x.getBlob("application/zip").size===0}catch{y.blob=!1}}}try{y.nodestream=!!f("readable-stream").Readable}catch{y.nodestream=!1}},{"readable-stream":16}],31:[function(f,b,y){for(var g=f("./utils"),x=f("./support"),v=f("./nodejsUtils"),w=f("./stream/GenericWorker"),S=new Array(256),D=0;D<256;D++)S[D]=252<=D?6:248<=D?5:240<=D?4:224<=D?3:192<=D?2:1;function T(){w.call(this,"utf-8 decode"),this.leftOver=null}function R(){w.call(this,"utf-8 encode")}S[254]=S[254]=1,y.utf8encode=function(P){return x.nodebuffer?v.newBufferFrom(P,"utf-8"):function(L){var O,H,U,I,F,A=L.length,_=0;for(I=0;I<A;I++)(64512&(H=L.charCodeAt(I)))==55296&&I+1<A&&(64512&(U=L.charCodeAt(I+1)))==56320&&(H=65536+(H-55296<<10)+(U-56320),I++),_+=H<128?1:H<2048?2:H<65536?3:4;for(O=x.uint8array?new Uint8Array(_):new Array(_),I=F=0;F<_;I++)(64512&(H=L.charCodeAt(I)))==55296&&I+1<A&&(64512&(U=L.charCodeAt(I+1)))==56320&&(H=65536+(H-55296<<10)+(U-56320),I++),H<128?O[F++]=H:(H<2048?O[F++]=192|H>>>6:(H<65536?O[F++]=224|H>>>12:(O[F++]=240|H>>>18,O[F++]=128|H>>>12&63),O[F++]=128|H>>>6&63),O[F++]=128|63&H);return O}(P)},y.utf8decode=function(P){return x.nodebuffer?g.transformTo("nodebuffer",P).toString("utf-8"):function(L){var O,H,U,I,F=L.length,A=new Array(2*F);for(O=H=0;O<F;)if((U=L[O++])<128)A[H++]=U;else if(4<(I=S[U]))A[H++]=65533,O+=I-1;else{for(U&=I===2?31:I===3?15:7;1<I&&O<F;)U=U<<6|63&L[O++],I--;1<I?A[H++]=65533:U<65536?A[H++]=U:(U-=65536,A[H++]=55296|U>>10&1023,A[H++]=56320|1023&U)}return A.length!==H&&(A.subarray?A=A.subarray(0,H):A.length=H),g.applyFromCharCode(A)}(P=g.transformTo(x.uint8array?"uint8array":"array",P))},g.inherits(T,w),T.prototype.processChunk=function(P){var L=g.transformTo(x.uint8array?"uint8array":"array",P.data);if(this.leftOver&&this.leftOver.length){if(x.uint8array){var O=L;(L=new Uint8Array(O.length+this.leftOver.length)).set(this.leftOver,0),L.set(O,this.leftOver.length)}else L=this.leftOver.concat(L);this.leftOver=null}var H=function(I,F){var A;for((F=F||I.length)>I.length&&(F=I.length),A=F-1;0<=A&&(192&I[A])==128;)A--;return A<0||A===0?F:A+S[I[A]]>F?A:F}(L),U=L;H!==L.length&&(x.uint8array?(U=L.subarray(0,H),this.leftOver=L.subarray(H,L.length)):(U=L.slice(0,H),this.leftOver=L.slice(H,L.length))),this.push({data:y.utf8decode(U),meta:P.meta})},T.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:y.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},y.Utf8DecodeWorker=T,g.inherits(R,w),R.prototype.processChunk=function(P){this.push({data:y.utf8encode(P.data),meta:P.meta})},y.Utf8EncodeWorker=R},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(f,b,y){var g=f("./support"),x=f("./base64"),v=f("./nodejsUtils"),w=f("./external");function S(O){return O}function D(O,H){for(var U=0;U<O.length;++U)H[U]=255&O.charCodeAt(U);return H}f("setimmediate"),y.newBlob=function(O,H){y.checkSupport("blob");try{return new Blob([O],{type:H})}catch{try{var U=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return U.append(O),U.getBlob(H)}catch{throw new Error("Bug : can't construct the Blob.")}}};var T={stringifyByChunk:function(O,H,U){var I=[],F=0,A=O.length;if(A<=U)return String.fromCharCode.apply(null,O);for(;F<A;)H==="array"||H==="nodebuffer"?I.push(String.fromCharCode.apply(null,O.slice(F,Math.min(F+U,A)))):I.push(String.fromCharCode.apply(null,O.subarray(F,Math.min(F+U,A)))),F+=U;return I.join("")},stringifyByChar:function(O){for(var H="",U=0;U<O.length;U++)H+=String.fromCharCode(O[U]);return H},applyCanBeUsed:{uint8array:function(){try{return g.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return g.nodebuffer&&String.fromCharCode.apply(null,v.allocBuffer(1)).length===1}catch{return!1}}()}};function R(O){var H=65536,U=y.getTypeOf(O),I=!0;if(U==="uint8array"?I=T.applyCanBeUsed.uint8array:U==="nodebuffer"&&(I=T.applyCanBeUsed.nodebuffer),I)for(;1<H;)try{return T.stringifyByChunk(O,U,H)}catch{H=Math.floor(H/2)}return T.stringifyByChar(O)}function P(O,H){for(var U=0;U<O.length;U++)H[U]=O[U];return H}y.applyFromCharCode=R;var L={};L.string={string:S,array:function(O){return D(O,new Array(O.length))},arraybuffer:function(O){return L.string.uint8array(O).buffer},uint8array:function(O){return D(O,new Uint8Array(O.length))},nodebuffer:function(O){return D(O,v.allocBuffer(O.length))}},L.array={string:R,array:S,arraybuffer:function(O){return new Uint8Array(O).buffer},uint8array:function(O){return new Uint8Array(O)},nodebuffer:function(O){return v.newBufferFrom(O)}},L.arraybuffer={string:function(O){return R(new Uint8Array(O))},array:function(O){return P(new Uint8Array(O),new Array(O.byteLength))},arraybuffer:S,uint8array:function(O){return new Uint8Array(O)},nodebuffer:function(O){return v.newBufferFrom(new Uint8Array(O))}},L.uint8array={string:R,array:function(O){return P(O,new Array(O.length))},arraybuffer:function(O){return O.buffer},uint8array:S,nodebuffer:function(O){return v.newBufferFrom(O)}},L.nodebuffer={string:R,array:function(O){return P(O,new Array(O.length))},arraybuffer:function(O){return L.nodebuffer.uint8array(O).buffer},uint8array:function(O){return P(O,new Uint8Array(O.length))},nodebuffer:S},y.transformTo=function(O,H){if(H=H||"",!O)return H;y.checkSupport(O);var U=y.getTypeOf(H);return L[U][O](H)},y.resolve=function(O){for(var H=O.split("/"),U=[],I=0;I<H.length;I++){var F=H[I];F==="."||F===""&&I!==0&&I!==H.length-1||(F===".."?U.pop():U.push(F))}return U.join("/")},y.getTypeOf=function(O){return typeof O=="string"?"string":Object.prototype.toString.call(O)==="[object Array]"?"array":g.nodebuffer&&v.isBuffer(O)?"nodebuffer":g.uint8array&&O instanceof Uint8Array?"uint8array":g.arraybuffer&&O instanceof ArrayBuffer?"arraybuffer":void 0},y.checkSupport=function(O){if(!g[O.toLowerCase()])throw new Error(O+" is not supported by this platform")},y.MAX_VALUE_16BITS=65535,y.MAX_VALUE_32BITS=-1,y.pretty=function(O){var H,U,I="";for(U=0;U<(O||"").length;U++)I+="\\x"+((H=O.charCodeAt(U))<16?"0":"")+H.toString(16).toUpperCase();return I},y.delay=function(O,H,U){h(function(){O.apply(U||null,H||[])})},y.inherits=function(O,H){function U(){}U.prototype=H.prototype,O.prototype=new U},y.extend=function(){var O,H,U={};for(O=0;O<arguments.length;O++)for(H in arguments[O])Object.prototype.hasOwnProperty.call(arguments[O],H)&&U[H]===void 0&&(U[H]=arguments[O][H]);return U},y.prepareContent=function(O,H,U,I,F){return w.Promise.resolve(H).then(function(A){return g.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new w.Promise(function(_,E){var N=new FileReader;N.onload=function(k){_(k.target.result)},N.onerror=function(k){E(k.target.error)},N.readAsArrayBuffer(A)}):A}).then(function(A){var _=y.getTypeOf(A);return _?(_==="arraybuffer"?A=y.transformTo("uint8array",A):_==="string"&&(F?A=x.decode(A):U&&I!==!0&&(A=function(E){return D(E,g.uint8array?new Uint8Array(E.length):new Array(E.length))}(A))),A):w.Promise.reject(new Error("Can't read the data of '"+O+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(f,b,y){var g=f("./reader/readerFor"),x=f("./utils"),v=f("./signature"),w=f("./zipEntry"),S=f("./support");function D(T){this.files=[],this.loadOptions=T}D.prototype={checkSignature:function(T){if(!this.reader.readAndCheckSignature(T)){this.reader.index-=4;var R=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+x.pretty(R)+", expected "+x.pretty(T)+")")}},isSignature:function(T,R){var P=this.reader.index;this.reader.setIndex(T);var L=this.reader.readString(4)===R;return this.reader.setIndex(P),L},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var T=this.reader.readData(this.zipCommentLength),R=S.uint8array?"uint8array":"array",P=x.transformTo(R,T);this.zipComment=this.loadOptions.decodeFileName(P)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var T,R,P,L=this.zip64EndOfCentralSize-44;0<L;)T=this.reader.readInt(2),R=this.reader.readInt(4),P=this.reader.readData(R),this.zip64ExtensibleData[T]={id:T,length:R,value:P}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var T,R;for(T=0;T<this.files.length;T++)R=this.files[T],this.reader.setIndex(R.localHeaderOffset),this.checkSignature(v.LOCAL_FILE_HEADER),R.readLocalPart(this.reader),R.handleUTF8(),R.processAttributes()},readCentralDir:function(){var T;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(v.CENTRAL_FILE_HEADER);)(T=new w({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(T);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var T=this.reader.lastIndexOfSignature(v.CENTRAL_DIRECTORY_END);if(T<0)throw this.isSignature(0,v.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(T);var R=T;if(this.checkSignature(v.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===x.MAX_VALUE_16BITS||this.diskWithCentralDirStart===x.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===x.MAX_VALUE_16BITS||this.centralDirRecords===x.MAX_VALUE_16BITS||this.centralDirSize===x.MAX_VALUE_32BITS||this.centralDirOffset===x.MAX_VALUE_32BITS){if(this.zip64=!0,(T=this.reader.lastIndexOfSignature(v.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(T),this.checkSignature(v.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,v.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(v.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(v.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var P=this.centralDirOffset+this.centralDirSize;this.zip64&&(P+=20,P+=12+this.zip64EndOfCentralSize);var L=R-P;if(0<L)this.isSignature(R,v.CENTRAL_FILE_HEADER)||(this.reader.zero=L);else if(L<0)throw new Error("Corrupted zip: missing "+Math.abs(L)+" bytes.")},prepareReader:function(T){this.reader=g(T)},load:function(T){this.prepareReader(T),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},b.exports=D},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(f,b,y){var g=f("./reader/readerFor"),x=f("./utils"),v=f("./compressedObject"),w=f("./crc32"),S=f("./utf8"),D=f("./compressions"),T=f("./support");function R(P,L){this.options=P,this.loadOptions=L}R.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(P){var L,O;if(P.skip(22),this.fileNameLength=P.readInt(2),O=P.readInt(2),this.fileName=P.readData(this.fileNameLength),P.skip(O),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((L=function(H){for(var U in D)if(Object.prototype.hasOwnProperty.call(D,U)&&D[U].magic===H)return D[U];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+x.pretty(this.compressionMethod)+" unknown (inner file : "+x.transformTo("string",this.fileName)+")");this.decompressed=new v(this.compressedSize,this.uncompressedSize,this.crc32,L,P.readData(this.compressedSize))},readCentralPart:function(P){this.versionMadeBy=P.readInt(2),P.skip(2),this.bitFlag=P.readInt(2),this.compressionMethod=P.readString(2),this.date=P.readDate(),this.crc32=P.readInt(4),this.compressedSize=P.readInt(4),this.uncompressedSize=P.readInt(4);var L=P.readInt(2);if(this.extraFieldsLength=P.readInt(2),this.fileCommentLength=P.readInt(2),this.diskNumberStart=P.readInt(2),this.internalFileAttributes=P.readInt(2),this.externalFileAttributes=P.readInt(4),this.localHeaderOffset=P.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");P.skip(L),this.readExtraFields(P),this.parseZIP64ExtraField(P),this.fileComment=P.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var P=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),P==0&&(this.dosPermissions=63&this.externalFileAttributes),P==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var P=g(this.extraFields[1].value);this.uncompressedSize===x.MAX_VALUE_32BITS&&(this.uncompressedSize=P.readInt(8)),this.compressedSize===x.MAX_VALUE_32BITS&&(this.compressedSize=P.readInt(8)),this.localHeaderOffset===x.MAX_VALUE_32BITS&&(this.localHeaderOffset=P.readInt(8)),this.diskNumberStart===x.MAX_VALUE_32BITS&&(this.diskNumberStart=P.readInt(4))}},readExtraFields:function(P){var L,O,H,U=P.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});P.index+4<U;)L=P.readInt(2),O=P.readInt(2),H=P.readData(O),this.extraFields[L]={id:L,length:O,value:H};P.setIndex(U)},handleUTF8:function(){var P=T.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=S.utf8decode(this.fileName),this.fileCommentStr=S.utf8decode(this.fileComment);else{var L=this.findExtraFieldUnicodePath();if(L!==null)this.fileNameStr=L;else{var O=x.transformTo(P,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(O)}var H=this.findExtraFieldUnicodeComment();if(H!==null)this.fileCommentStr=H;else{var U=x.transformTo(P,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(U)}}},findExtraFieldUnicodePath:function(){var P=this.extraFields[28789];if(P){var L=g(P.value);return L.readInt(1)!==1||w(this.fileName)!==L.readInt(4)?null:S.utf8decode(L.readData(P.length-5))}return null},findExtraFieldUnicodeComment:function(){var P=this.extraFields[25461];if(P){var L=g(P.value);return L.readInt(1)!==1||w(this.fileComment)!==L.readInt(4)?null:S.utf8decode(L.readData(P.length-5))}return null}},b.exports=R},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(f,b,y){function g(L,O,H){this.name=L,this.dir=H.dir,this.date=H.date,this.comment=H.comment,this.unixPermissions=H.unixPermissions,this.dosPermissions=H.dosPermissions,this._data=O,this._dataBinary=H.binary,this.options={compression:H.compression,compressionOptions:H.compressionOptions}}var x=f("./stream/StreamHelper"),v=f("./stream/DataWorker"),w=f("./utf8"),S=f("./compressedObject"),D=f("./stream/GenericWorker");g.prototype={internalStream:function(L){var O=null,H="string";try{if(!L)throw new Error("No output type specified.");var U=(H=L.toLowerCase())==="string"||H==="text";H!=="binarystring"&&H!=="text"||(H="string"),O=this._decompressWorker();var I=!this._dataBinary;I&&!U&&(O=O.pipe(new w.Utf8EncodeWorker)),!I&&U&&(O=O.pipe(new w.Utf8DecodeWorker))}catch(F){(O=new D("error")).error(F)}return new x(O,H,"")},async:function(L,O){return this.internalStream(L).accumulate(O)},nodeStream:function(L,O){return this.internalStream(L||"nodebuffer").toNodejsStream(O)},_compressWorker:function(L,O){if(this._data instanceof S&&this._data.compression.magic===L.magic)return this._data.getCompressedWorker();var H=this._decompressWorker();return this._dataBinary||(H=H.pipe(new w.Utf8EncodeWorker)),S.createWorkerFrom(H,L,O)},_decompressWorker:function(){return this._data instanceof S?this._data.getContentWorker():this._data instanceof D?this._data:new v(this._data)}};for(var T=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],R=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},P=0;P<T.length;P++)g.prototype[T[P]]=R;b.exports=g},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(f,b,y){(function(g){var x,v,w=g.MutationObserver||g.WebKitMutationObserver;if(w){var S=0,D=new w(L),T=g.document.createTextNode("");D.observe(T,{characterData:!0}),x=function(){T.data=S=++S%2}}else if(g.setImmediate||g.MessageChannel===void 0)x="document"in g&&"onreadystatechange"in g.document.createElement("script")?function(){var O=g.document.createElement("script");O.onreadystatechange=function(){L(),O.onreadystatechange=null,O.parentNode.removeChild(O),O=null},g.document.documentElement.appendChild(O)}:function(){setTimeout(L,0)};else{var R=new g.MessageChannel;R.port1.onmessage=L,x=function(){R.port2.postMessage(0)}}var P=[];function L(){var O,H;v=!0;for(var U=P.length;U;){for(H=P,P=[],O=-1;++O<U;)H[O]();U=P.length}v=!1}b.exports=function(O){P.push(O)!==1||v||x()}}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(f,b,y){var g=f("immediate");function x(){}var v={},w=["REJECTED"],S=["FULFILLED"],D=["PENDING"];function T(U){if(typeof U!="function")throw new TypeError("resolver must be a function");this.state=D,this.queue=[],this.outcome=void 0,U!==x&&O(this,U)}function R(U,I,F){this.promise=U,typeof I=="function"&&(this.onFulfilled=I,this.callFulfilled=this.otherCallFulfilled),typeof F=="function"&&(this.onRejected=F,this.callRejected=this.otherCallRejected)}function P(U,I,F){g(function(){var A;try{A=I(F)}catch(_){return v.reject(U,_)}A===U?v.reject(U,new TypeError("Cannot resolve promise with itself")):v.resolve(U,A)})}function L(U){var I=U&&U.then;if(U&&(typeof U=="object"||typeof U=="function")&&typeof I=="function")return function(){I.apply(U,arguments)}}function O(U,I){var F=!1;function A(N){F||(F=!0,v.reject(U,N))}function _(N){F||(F=!0,v.resolve(U,N))}var E=H(function(){I(_,A)});E.status==="error"&&A(E.value)}function H(U,I){var F={};try{F.value=U(I),F.status="success"}catch(A){F.status="error",F.value=A}return F}(b.exports=T).prototype.finally=function(U){if(typeof U!="function")return this;var I=this.constructor;return this.then(function(F){return I.resolve(U()).then(function(){return F})},function(F){return I.resolve(U()).then(function(){throw F})})},T.prototype.catch=function(U){return this.then(null,U)},T.prototype.then=function(U,I){if(typeof U!="function"&&this.state===S||typeof I!="function"&&this.state===w)return this;var F=new this.constructor(x);return this.state!==D?P(F,this.state===S?U:I,this.outcome):this.queue.push(new R(F,U,I)),F},R.prototype.callFulfilled=function(U){v.resolve(this.promise,U)},R.prototype.otherCallFulfilled=function(U){P(this.promise,this.onFulfilled,U)},R.prototype.callRejected=function(U){v.reject(this.promise,U)},R.prototype.otherCallRejected=function(U){P(this.promise,this.onRejected,U)},v.resolve=function(U,I){var F=H(L,I);if(F.status==="error")return v.reject(U,F.value);var A=F.value;if(A)O(U,A);else{U.state=S,U.outcome=I;for(var _=-1,E=U.queue.length;++_<E;)U.queue[_].callFulfilled(I)}return U},v.reject=function(U,I){U.state=w,U.outcome=I;for(var F=-1,A=U.queue.length;++F<A;)U.queue[F].callRejected(I);return U},T.resolve=function(U){return U instanceof this?U:v.resolve(new this(x),U)},T.reject=function(U){var I=new this(x);return v.reject(I,U)},T.all=function(U){var I=this;if(Object.prototype.toString.call(U)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=U.length,A=!1;if(!F)return this.resolve([]);for(var _=new Array(F),E=0,N=-1,k=new this(x);++N<F;)B(U[N],N);return k;function B(j,M){I.resolve(j).then(function(G){_[M]=G,++E!==F||A||(A=!0,v.resolve(k,_))},function(G){A||(A=!0,v.reject(k,G))})}},T.race=function(U){if(Object.prototype.toString.call(U)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=U.length,F=!1;if(!I)return this.resolve([]);for(var A,_=-1,E=new this(x);++_<I;)A=U[_],this.resolve(A).then(function(N){F||(F=!0,v.resolve(E,N))},function(N){F||(F=!0,v.reject(E,N))});return E}},{immediate:36}],38:[function(f,b,y){var g={};(0,f("./lib/utils/common").assign)(g,f("./lib/deflate"),f("./lib/inflate"),f("./lib/zlib/constants")),b.exports=g},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(f,b,y){var g=f("./zlib/deflate"),x=f("./utils/common"),v=f("./utils/strings"),w=f("./zlib/messages"),S=f("./zlib/zstream"),D=Object.prototype.toString;function T(P){if(!(this instanceof T))return new T(P);this.options=x.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},P||{});var L=this.options;L.raw&&0<L.windowBits?L.windowBits=-L.windowBits:L.gzip&&0<L.windowBits&&L.windowBits<16&&(L.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new S,this.strm.avail_out=0;var O=g.deflateInit2(this.strm,L.level,L.method,L.windowBits,L.memLevel,L.strategy);if(O!==0)throw new Error(w[O]);if(L.header&&g.deflateSetHeader(this.strm,L.header),L.dictionary){var H;if(H=typeof L.dictionary=="string"?v.string2buf(L.dictionary):D.call(L.dictionary)==="[object ArrayBuffer]"?new Uint8Array(L.dictionary):L.dictionary,(O=g.deflateSetDictionary(this.strm,H))!==0)throw new Error(w[O]);this._dict_set=!0}}function R(P,L){var O=new T(L);if(O.push(P,!0),O.err)throw O.msg||w[O.err];return O.result}T.prototype.push=function(P,L){var O,H,U=this.strm,I=this.options.chunkSize;if(this.ended)return!1;H=L===~~L?L:L===!0?4:0,typeof P=="string"?U.input=v.string2buf(P):D.call(P)==="[object ArrayBuffer]"?U.input=new Uint8Array(P):U.input=P,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new x.Buf8(I),U.next_out=0,U.avail_out=I),(O=g.deflate(U,H))!==1&&O!==0)return this.onEnd(O),!(this.ended=!0);U.avail_out!==0&&(U.avail_in!==0||H!==4&&H!==2)||(this.options.to==="string"?this.onData(v.buf2binstring(x.shrinkBuf(U.output,U.next_out))):this.onData(x.shrinkBuf(U.output,U.next_out)))}while((0<U.avail_in||U.avail_out===0)&&O!==1);return H===4?(O=g.deflateEnd(this.strm),this.onEnd(O),this.ended=!0,O===0):H!==2||(this.onEnd(0),!(U.avail_out=0))},T.prototype.onData=function(P){this.chunks.push(P)},T.prototype.onEnd=function(P){P===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=x.flattenChunks(this.chunks)),this.chunks=[],this.err=P,this.msg=this.strm.msg},y.Deflate=T,y.deflate=R,y.deflateRaw=function(P,L){return(L=L||{}).raw=!0,R(P,L)},y.gzip=function(P,L){return(L=L||{}).gzip=!0,R(P,L)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(f,b,y){var g=f("./zlib/inflate"),x=f("./utils/common"),v=f("./utils/strings"),w=f("./zlib/constants"),S=f("./zlib/messages"),D=f("./zlib/zstream"),T=f("./zlib/gzheader"),R=Object.prototype.toString;function P(O){if(!(this instanceof P))return new P(O);this.options=x.assign({chunkSize:16384,windowBits:0,to:""},O||{});var H=this.options;H.raw&&0<=H.windowBits&&H.windowBits<16&&(H.windowBits=-H.windowBits,H.windowBits===0&&(H.windowBits=-15)),!(0<=H.windowBits&&H.windowBits<16)||O&&O.windowBits||(H.windowBits+=32),15<H.windowBits&&H.windowBits<48&&!(15&H.windowBits)&&(H.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new D,this.strm.avail_out=0;var U=g.inflateInit2(this.strm,H.windowBits);if(U!==w.Z_OK)throw new Error(S[U]);this.header=new T,g.inflateGetHeader(this.strm,this.header)}function L(O,H){var U=new P(H);if(U.push(O,!0),U.err)throw U.msg||S[U.err];return U.result}P.prototype.push=function(O,H){var U,I,F,A,_,E,N=this.strm,k=this.options.chunkSize,B=this.options.dictionary,j=!1;if(this.ended)return!1;I=H===~~H?H:H===!0?w.Z_FINISH:w.Z_NO_FLUSH,typeof O=="string"?N.input=v.binstring2buf(O):R.call(O)==="[object ArrayBuffer]"?N.input=new Uint8Array(O):N.input=O,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new x.Buf8(k),N.next_out=0,N.avail_out=k),(U=g.inflate(N,w.Z_NO_FLUSH))===w.Z_NEED_DICT&&B&&(E=typeof B=="string"?v.string2buf(B):R.call(B)==="[object ArrayBuffer]"?new Uint8Array(B):B,U=g.inflateSetDictionary(this.strm,E)),U===w.Z_BUF_ERROR&&j===!0&&(U=w.Z_OK,j=!1),U!==w.Z_STREAM_END&&U!==w.Z_OK)return this.onEnd(U),!(this.ended=!0);N.next_out&&(N.avail_out!==0&&U!==w.Z_STREAM_END&&(N.avail_in!==0||I!==w.Z_FINISH&&I!==w.Z_SYNC_FLUSH)||(this.options.to==="string"?(F=v.utf8border(N.output,N.next_out),A=N.next_out-F,_=v.buf2string(N.output,F),N.next_out=A,N.avail_out=k-A,A&&x.arraySet(N.output,N.output,F,A,0),this.onData(_)):this.onData(x.shrinkBuf(N.output,N.next_out)))),N.avail_in===0&&N.avail_out===0&&(j=!0)}while((0<N.avail_in||N.avail_out===0)&&U!==w.Z_STREAM_END);return U===w.Z_STREAM_END&&(I=w.Z_FINISH),I===w.Z_FINISH?(U=g.inflateEnd(this.strm),this.onEnd(U),this.ended=!0,U===w.Z_OK):I!==w.Z_SYNC_FLUSH||(this.onEnd(w.Z_OK),!(N.avail_out=0))},P.prototype.onData=function(O){this.chunks.push(O)},P.prototype.onEnd=function(O){O===w.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=x.flattenChunks(this.chunks)),this.chunks=[],this.err=O,this.msg=this.strm.msg},y.Inflate=P,y.inflate=L,y.inflateRaw=function(O,H){return(H=H||{}).raw=!0,L(O,H)},y.ungzip=L},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(f,b,y){var g=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";y.assign=function(w){for(var S=Array.prototype.slice.call(arguments,1);S.length;){var D=S.shift();if(D){if(typeof D!="object")throw new TypeError(D+"must be non-object");for(var T in D)D.hasOwnProperty(T)&&(w[T]=D[T])}}return w},y.shrinkBuf=function(w,S){return w.length===S?w:w.subarray?w.subarray(0,S):(w.length=S,w)};var x={arraySet:function(w,S,D,T,R){if(S.subarray&&w.subarray)w.set(S.subarray(D,D+T),R);else for(var P=0;P<T;P++)w[R+P]=S[D+P]},flattenChunks:function(w){var S,D,T,R,P,L;for(S=T=0,D=w.length;S<D;S++)T+=w[S].length;for(L=new Uint8Array(T),S=R=0,D=w.length;S<D;S++)P=w[S],L.set(P,R),R+=P.length;return L}},v={arraySet:function(w,S,D,T,R){for(var P=0;P<T;P++)w[R+P]=S[D+P]},flattenChunks:function(w){return[].concat.apply([],w)}};y.setTyped=function(w){w?(y.Buf8=Uint8Array,y.Buf16=Uint16Array,y.Buf32=Int32Array,y.assign(y,x)):(y.Buf8=Array,y.Buf16=Array,y.Buf32=Array,y.assign(y,v))},y.setTyped(g)},{}],42:[function(f,b,y){var g=f("./common"),x=!0,v=!0;try{String.fromCharCode.apply(null,[0])}catch{x=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{v=!1}for(var w=new g.Buf8(256),S=0;S<256;S++)w[S]=252<=S?6:248<=S?5:240<=S?4:224<=S?3:192<=S?2:1;function D(T,R){if(R<65537&&(T.subarray&&v||!T.subarray&&x))return String.fromCharCode.apply(null,g.shrinkBuf(T,R));for(var P="",L=0;L<R;L++)P+=String.fromCharCode(T[L]);return P}w[254]=w[254]=1,y.string2buf=function(T){var R,P,L,O,H,U=T.length,I=0;for(O=0;O<U;O++)(64512&(P=T.charCodeAt(O)))==55296&&O+1<U&&(64512&(L=T.charCodeAt(O+1)))==56320&&(P=65536+(P-55296<<10)+(L-56320),O++),I+=P<128?1:P<2048?2:P<65536?3:4;for(R=new g.Buf8(I),O=H=0;H<I;O++)(64512&(P=T.charCodeAt(O)))==55296&&O+1<U&&(64512&(L=T.charCodeAt(O+1)))==56320&&(P=65536+(P-55296<<10)+(L-56320),O++),P<128?R[H++]=P:(P<2048?R[H++]=192|P>>>6:(P<65536?R[H++]=224|P>>>12:(R[H++]=240|P>>>18,R[H++]=128|P>>>12&63),R[H++]=128|P>>>6&63),R[H++]=128|63&P);return R},y.buf2binstring=function(T){return D(T,T.length)},y.binstring2buf=function(T){for(var R=new g.Buf8(T.length),P=0,L=R.length;P<L;P++)R[P]=T.charCodeAt(P);return R},y.buf2string=function(T,R){var P,L,O,H,U=R||T.length,I=new Array(2*U);for(P=L=0;P<U;)if((O=T[P++])<128)I[L++]=O;else if(4<(H=w[O]))I[L++]=65533,P+=H-1;else{for(O&=H===2?31:H===3?15:7;1<H&&P<U;)O=O<<6|63&T[P++],H--;1<H?I[L++]=65533:O<65536?I[L++]=O:(O-=65536,I[L++]=55296|O>>10&1023,I[L++]=56320|1023&O)}return D(I,L)},y.utf8border=function(T,R){var P;for((R=R||T.length)>T.length&&(R=T.length),P=R-1;0<=P&&(192&T[P])==128;)P--;return P<0||P===0?R:P+w[T[P]]>R?P:R}},{"./common":41}],43:[function(f,b,y){b.exports=function(g,x,v,w){for(var S=65535&g|0,D=g>>>16&65535|0,T=0;v!==0;){for(v-=T=2e3<v?2e3:v;D=D+(S=S+x[w++]|0)|0,--T;);S%=65521,D%=65521}return S|D<<16|0}},{}],44:[function(f,b,y){b.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(f,b,y){var g=function(){for(var x,v=[],w=0;w<256;w++){x=w;for(var S=0;S<8;S++)x=1&x?3988292384^x>>>1:x>>>1;v[w]=x}return v}();b.exports=function(x,v,w,S){var D=g,T=S+w;x^=-1;for(var R=S;R<T;R++)x=x>>>8^D[255&(x^v[R])];return-1^x}},{}],46:[function(f,b,y){var g,x=f("../utils/common"),v=f("./trees"),w=f("./adler32"),S=f("./crc32"),D=f("./messages"),T=-2,R=258,P=262,L=113;function O(V,Q){return V.msg=D[Q],Q}function H(V){return(V<<1)-(4<V?9:0)}function U(V){for(var Q=V.length;0<=--Q;)V[Q]=0}function I(V){var Q=V.state,q=Q.pending;q>V.avail_out&&(q=V.avail_out),q!==0&&(x.arraySet(V.output,Q.pending_buf,Q.pending_out,q,V.next_out),V.next_out+=q,Q.pending_out+=q,V.total_out+=q,V.avail_out-=q,Q.pending-=q,Q.pending===0&&(Q.pending_out=0))}function F(V,Q){v._tr_flush_block(V,0<=V.block_start?V.block_start:-1,V.strstart-V.block_start,Q),V.block_start=V.strstart,I(V.strm)}function A(V,Q){V.pending_buf[V.pending++]=Q}function _(V,Q){V.pending_buf[V.pending++]=Q>>>8&255,V.pending_buf[V.pending++]=255&Q}function E(V,Q){var q,z,Z=V.max_chain_length,re=V.strstart,le=V.prev_length,ue=V.nice_match,ce=V.strstart>V.w_size-P?V.strstart-(V.w_size-P):0,ie=V.window,ye=V.w_mask,he=V.prev,pe=V.strstart+R,xe=ie[re+le-1],Oe=ie[re+le];V.prev_length>=V.good_match&&(Z>>=2),ue>V.lookahead&&(ue=V.lookahead);do if(ie[(q=Q)+le]===Oe&&ie[q+le-1]===xe&&ie[q]===ie[re]&&ie[++q]===ie[re+1]){re+=2,q++;do;while(ie[++re]===ie[++q]&&ie[++re]===ie[++q]&&ie[++re]===ie[++q]&&ie[++re]===ie[++q]&&ie[++re]===ie[++q]&&ie[++re]===ie[++q]&&ie[++re]===ie[++q]&&ie[++re]===ie[++q]&&re<pe);if(z=R-(pe-re),re=pe-R,le<z){if(V.match_start=Q,ue<=(le=z))break;xe=ie[re+le-1],Oe=ie[re+le]}}while((Q=he[Q&ye])>ce&&--Z!=0);return le<=V.lookahead?le:V.lookahead}function N(V){var Q,q,z,Z,re,le,ue,ce,ie,ye,he=V.w_size;do{if(Z=V.window_size-V.lookahead-V.strstart,V.strstart>=he+(he-P)){for(x.arraySet(V.window,V.window,he,he,0),V.match_start-=he,V.strstart-=he,V.block_start-=he,Q=q=V.hash_size;z=V.head[--Q],V.head[Q]=he<=z?z-he:0,--q;);for(Q=q=he;z=V.prev[--Q],V.prev[Q]=he<=z?z-he:0,--q;);Z+=he}if(V.strm.avail_in===0)break;if(le=V.strm,ue=V.window,ce=V.strstart+V.lookahead,ye=void 0,(ie=Z)<(ye=le.avail_in)&&(ye=ie),q=ye===0?0:(le.avail_in-=ye,x.arraySet(ue,le.input,le.next_in,ye,ce),le.state.wrap===1?le.adler=w(le.adler,ue,ye,ce):le.state.wrap===2&&(le.adler=S(le.adler,ue,ye,ce)),le.next_in+=ye,le.total_in+=ye,ye),V.lookahead+=q,V.lookahead+V.insert>=3)for(re=V.strstart-V.insert,V.ins_h=V.window[re],V.ins_h=(V.ins_h<<V.hash_shift^V.window[re+1])&V.hash_mask;V.insert&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[re+3-1])&V.hash_mask,V.prev[re&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=re,re++,V.insert--,!(V.lookahead+V.insert<3)););}while(V.lookahead<P&&V.strm.avail_in!==0)}function k(V,Q){for(var q,z;;){if(V.lookahead<P){if(N(V),V.lookahead<P&&Q===0)return 1;if(V.lookahead===0)break}if(q=0,V.lookahead>=3&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+3-1])&V.hash_mask,q=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),q!==0&&V.strstart-q<=V.w_size-P&&(V.match_length=E(V,q)),V.match_length>=3)if(z=v._tr_tally(V,V.strstart-V.match_start,V.match_length-3),V.lookahead-=V.match_length,V.match_length<=V.max_lazy_match&&V.lookahead>=3){for(V.match_length--;V.strstart++,V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+3-1])&V.hash_mask,q=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart,--V.match_length!=0;);V.strstart++}else V.strstart+=V.match_length,V.match_length=0,V.ins_h=V.window[V.strstart],V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+1])&V.hash_mask;else z=v._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(z&&(F(V,!1),V.strm.avail_out===0))return 1}return V.insert=V.strstart<2?V.strstart:2,Q===4?(F(V,!0),V.strm.avail_out===0?3:4):V.last_lit&&(F(V,!1),V.strm.avail_out===0)?1:2}function B(V,Q){for(var q,z,Z;;){if(V.lookahead<P){if(N(V),V.lookahead<P&&Q===0)return 1;if(V.lookahead===0)break}if(q=0,V.lookahead>=3&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+3-1])&V.hash_mask,q=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),V.prev_length=V.match_length,V.prev_match=V.match_start,V.match_length=2,q!==0&&V.prev_length<V.max_lazy_match&&V.strstart-q<=V.w_size-P&&(V.match_length=E(V,q),V.match_length<=5&&(V.strategy===1||V.match_length===3&&4096<V.strstart-V.match_start)&&(V.match_length=2)),V.prev_length>=3&&V.match_length<=V.prev_length){for(Z=V.strstart+V.lookahead-3,z=v._tr_tally(V,V.strstart-1-V.prev_match,V.prev_length-3),V.lookahead-=V.prev_length-1,V.prev_length-=2;++V.strstart<=Z&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+3-1])&V.hash_mask,q=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),--V.prev_length!=0;);if(V.match_available=0,V.match_length=2,V.strstart++,z&&(F(V,!1),V.strm.avail_out===0))return 1}else if(V.match_available){if((z=v._tr_tally(V,0,V.window[V.strstart-1]))&&F(V,!1),V.strstart++,V.lookahead--,V.strm.avail_out===0)return 1}else V.match_available=1,V.strstart++,V.lookahead--}return V.match_available&&(z=v._tr_tally(V,0,V.window[V.strstart-1]),V.match_available=0),V.insert=V.strstart<2?V.strstart:2,Q===4?(F(V,!0),V.strm.avail_out===0?3:4):V.last_lit&&(F(V,!1),V.strm.avail_out===0)?1:2}function j(V,Q,q,z,Z){this.good_length=V,this.max_lazy=Q,this.nice_length=q,this.max_chain=z,this.func=Z}function M(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new x.Buf16(1146),this.dyn_dtree=new x.Buf16(122),this.bl_tree=new x.Buf16(78),U(this.dyn_ltree),U(this.dyn_dtree),U(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new x.Buf16(16),this.heap=new x.Buf16(573),U(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new x.Buf16(573),U(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(V){var Q;return V&&V.state?(V.total_in=V.total_out=0,V.data_type=2,(Q=V.state).pending=0,Q.pending_out=0,Q.wrap<0&&(Q.wrap=-Q.wrap),Q.status=Q.wrap?42:L,V.adler=Q.wrap===2?0:1,Q.last_flush=0,v._tr_init(Q),0):O(V,T)}function Y(V){var Q=G(V);return Q===0&&function(q){q.window_size=2*q.w_size,U(q.head),q.max_lazy_match=g[q.level].max_lazy,q.good_match=g[q.level].good_length,q.nice_match=g[q.level].nice_length,q.max_chain_length=g[q.level].max_chain,q.strstart=0,q.block_start=0,q.lookahead=0,q.insert=0,q.match_length=q.prev_length=2,q.match_available=0,q.ins_h=0}(V.state),Q}function J(V,Q,q,z,Z,re){if(!V)return T;var le=1;if(Q===-1&&(Q=6),z<0?(le=0,z=-z):15<z&&(le=2,z-=16),Z<1||9<Z||q!==8||z<8||15<z||Q<0||9<Q||re<0||4<re)return O(V,T);z===8&&(z=9);var ue=new M;return(V.state=ue).strm=V,ue.wrap=le,ue.gzhead=null,ue.w_bits=z,ue.w_size=1<<ue.w_bits,ue.w_mask=ue.w_size-1,ue.hash_bits=Z+7,ue.hash_size=1<<ue.hash_bits,ue.hash_mask=ue.hash_size-1,ue.hash_shift=~~((ue.hash_bits+3-1)/3),ue.window=new x.Buf8(2*ue.w_size),ue.head=new x.Buf16(ue.hash_size),ue.prev=new x.Buf16(ue.w_size),ue.lit_bufsize=1<<Z+6,ue.pending_buf_size=4*ue.lit_bufsize,ue.pending_buf=new x.Buf8(ue.pending_buf_size),ue.d_buf=1*ue.lit_bufsize,ue.l_buf=3*ue.lit_bufsize,ue.level=Q,ue.strategy=re,ue.method=q,Y(V)}g=[new j(0,0,0,0,function(V,Q){var q=65535;for(q>V.pending_buf_size-5&&(q=V.pending_buf_size-5);;){if(V.lookahead<=1){if(N(V),V.lookahead===0&&Q===0)return 1;if(V.lookahead===0)break}V.strstart+=V.lookahead,V.lookahead=0;var z=V.block_start+q;if((V.strstart===0||V.strstart>=z)&&(V.lookahead=V.strstart-z,V.strstart=z,F(V,!1),V.strm.avail_out===0)||V.strstart-V.block_start>=V.w_size-P&&(F(V,!1),V.strm.avail_out===0))return 1}return V.insert=0,Q===4?(F(V,!0),V.strm.avail_out===0?3:4):(V.strstart>V.block_start&&(F(V,!1),V.strm.avail_out),1)}),new j(4,4,8,4,k),new j(4,5,16,8,k),new j(4,6,32,32,k),new j(4,4,16,16,B),new j(8,16,32,32,B),new j(8,16,128,128,B),new j(8,32,128,256,B),new j(32,128,258,1024,B),new j(32,258,258,4096,B)],y.deflateInit=function(V,Q){return J(V,Q,8,15,8,0)},y.deflateInit2=J,y.deflateReset=Y,y.deflateResetKeep=G,y.deflateSetHeader=function(V,Q){return V&&V.state?V.state.wrap!==2?T:(V.state.gzhead=Q,0):T},y.deflate=function(V,Q){var q,z,Z,re;if(!V||!V.state||5<Q||Q<0)return V?O(V,T):T;if(z=V.state,!V.output||!V.input&&V.avail_in!==0||z.status===666&&Q!==4)return O(V,V.avail_out===0?-5:T);if(z.strm=V,q=z.last_flush,z.last_flush=Q,z.status===42)if(z.wrap===2)V.adler=0,A(z,31),A(z,139),A(z,8),z.gzhead?(A(z,(z.gzhead.text?1:0)+(z.gzhead.hcrc?2:0)+(z.gzhead.extra?4:0)+(z.gzhead.name?8:0)+(z.gzhead.comment?16:0)),A(z,255&z.gzhead.time),A(z,z.gzhead.time>>8&255),A(z,z.gzhead.time>>16&255),A(z,z.gzhead.time>>24&255),A(z,z.level===9?2:2<=z.strategy||z.level<2?4:0),A(z,255&z.gzhead.os),z.gzhead.extra&&z.gzhead.extra.length&&(A(z,255&z.gzhead.extra.length),A(z,z.gzhead.extra.length>>8&255)),z.gzhead.hcrc&&(V.adler=S(V.adler,z.pending_buf,z.pending,0)),z.gzindex=0,z.status=69):(A(z,0),A(z,0),A(z,0),A(z,0),A(z,0),A(z,z.level===9?2:2<=z.strategy||z.level<2?4:0),A(z,3),z.status=L);else{var le=8+(z.w_bits-8<<4)<<8;le|=(2<=z.strategy||z.level<2?0:z.level<6?1:z.level===6?2:3)<<6,z.strstart!==0&&(le|=32),le+=31-le%31,z.status=L,_(z,le),z.strstart!==0&&(_(z,V.adler>>>16),_(z,65535&V.adler)),V.adler=1}if(z.status===69)if(z.gzhead.extra){for(Z=z.pending;z.gzindex<(65535&z.gzhead.extra.length)&&(z.pending!==z.pending_buf_size||(z.gzhead.hcrc&&z.pending>Z&&(V.adler=S(V.adler,z.pending_buf,z.pending-Z,Z)),I(V),Z=z.pending,z.pending!==z.pending_buf_size));)A(z,255&z.gzhead.extra[z.gzindex]),z.gzindex++;z.gzhead.hcrc&&z.pending>Z&&(V.adler=S(V.adler,z.pending_buf,z.pending-Z,Z)),z.gzindex===z.gzhead.extra.length&&(z.gzindex=0,z.status=73)}else z.status=73;if(z.status===73)if(z.gzhead.name){Z=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>Z&&(V.adler=S(V.adler,z.pending_buf,z.pending-Z,Z)),I(V),Z=z.pending,z.pending===z.pending_buf_size)){re=1;break}re=z.gzindex<z.gzhead.name.length?255&z.gzhead.name.charCodeAt(z.gzindex++):0,A(z,re)}while(re!==0);z.gzhead.hcrc&&z.pending>Z&&(V.adler=S(V.adler,z.pending_buf,z.pending-Z,Z)),re===0&&(z.gzindex=0,z.status=91)}else z.status=91;if(z.status===91)if(z.gzhead.comment){Z=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>Z&&(V.adler=S(V.adler,z.pending_buf,z.pending-Z,Z)),I(V),Z=z.pending,z.pending===z.pending_buf_size)){re=1;break}re=z.gzindex<z.gzhead.comment.length?255&z.gzhead.comment.charCodeAt(z.gzindex++):0,A(z,re)}while(re!==0);z.gzhead.hcrc&&z.pending>Z&&(V.adler=S(V.adler,z.pending_buf,z.pending-Z,Z)),re===0&&(z.status=103)}else z.status=103;if(z.status===103&&(z.gzhead.hcrc?(z.pending+2>z.pending_buf_size&&I(V),z.pending+2<=z.pending_buf_size&&(A(z,255&V.adler),A(z,V.adler>>8&255),V.adler=0,z.status=L)):z.status=L),z.pending!==0){if(I(V),V.avail_out===0)return z.last_flush=-1,0}else if(V.avail_in===0&&H(Q)<=H(q)&&Q!==4)return O(V,-5);if(z.status===666&&V.avail_in!==0)return O(V,-5);if(V.avail_in!==0||z.lookahead!==0||Q!==0&&z.status!==666){var ue=z.strategy===2?function(ce,ie){for(var ye;;){if(ce.lookahead===0&&(N(ce),ce.lookahead===0)){if(ie===0)return 1;break}if(ce.match_length=0,ye=v._tr_tally(ce,0,ce.window[ce.strstart]),ce.lookahead--,ce.strstart++,ye&&(F(ce,!1),ce.strm.avail_out===0))return 1}return ce.insert=0,ie===4?(F(ce,!0),ce.strm.avail_out===0?3:4):ce.last_lit&&(F(ce,!1),ce.strm.avail_out===0)?1:2}(z,Q):z.strategy===3?function(ce,ie){for(var ye,he,pe,xe,Oe=ce.window;;){if(ce.lookahead<=R){if(N(ce),ce.lookahead<=R&&ie===0)return 1;if(ce.lookahead===0)break}if(ce.match_length=0,ce.lookahead>=3&&0<ce.strstart&&(he=Oe[pe=ce.strstart-1])===Oe[++pe]&&he===Oe[++pe]&&he===Oe[++pe]){xe=ce.strstart+R;do;while(he===Oe[++pe]&&he===Oe[++pe]&&he===Oe[++pe]&&he===Oe[++pe]&&he===Oe[++pe]&&he===Oe[++pe]&&he===Oe[++pe]&&he===Oe[++pe]&&pe<xe);ce.match_length=R-(xe-pe),ce.match_length>ce.lookahead&&(ce.match_length=ce.lookahead)}if(ce.match_length>=3?(ye=v._tr_tally(ce,1,ce.match_length-3),ce.lookahead-=ce.match_length,ce.strstart+=ce.match_length,ce.match_length=0):(ye=v._tr_tally(ce,0,ce.window[ce.strstart]),ce.lookahead--,ce.strstart++),ye&&(F(ce,!1),ce.strm.avail_out===0))return 1}return ce.insert=0,ie===4?(F(ce,!0),ce.strm.avail_out===0?3:4):ce.last_lit&&(F(ce,!1),ce.strm.avail_out===0)?1:2}(z,Q):g[z.level].func(z,Q);if(ue!==3&&ue!==4||(z.status=666),ue===1||ue===3)return V.avail_out===0&&(z.last_flush=-1),0;if(ue===2&&(Q===1?v._tr_align(z):Q!==5&&(v._tr_stored_block(z,0,0,!1),Q===3&&(U(z.head),z.lookahead===0&&(z.strstart=0,z.block_start=0,z.insert=0))),I(V),V.avail_out===0))return z.last_flush=-1,0}return Q!==4?0:z.wrap<=0?1:(z.wrap===2?(A(z,255&V.adler),A(z,V.adler>>8&255),A(z,V.adler>>16&255),A(z,V.adler>>24&255),A(z,255&V.total_in),A(z,V.total_in>>8&255),A(z,V.total_in>>16&255),A(z,V.total_in>>24&255)):(_(z,V.adler>>>16),_(z,65535&V.adler)),I(V),0<z.wrap&&(z.wrap=-z.wrap),z.pending!==0?0:1)},y.deflateEnd=function(V){var Q;return V&&V.state?(Q=V.state.status)!==42&&Q!==69&&Q!==73&&Q!==91&&Q!==103&&Q!==L&&Q!==666?O(V,T):(V.state=null,Q===L?O(V,-3):0):T},y.deflateSetDictionary=function(V,Q){var q,z,Z,re,le,ue,ce,ie,ye=Q.length;if(!V||!V.state||(re=(q=V.state).wrap)===2||re===1&&q.status!==42||q.lookahead)return T;for(re===1&&(V.adler=w(V.adler,Q,ye,0)),q.wrap=0,ye>=q.w_size&&(re===0&&(U(q.head),q.strstart=0,q.block_start=0,q.insert=0),ie=new x.Buf8(q.w_size),x.arraySet(ie,Q,ye-q.w_size,q.w_size,0),Q=ie,ye=q.w_size),le=V.avail_in,ue=V.next_in,ce=V.input,V.avail_in=ye,V.next_in=0,V.input=Q,N(q);q.lookahead>=3;){for(z=q.strstart,Z=q.lookahead-2;q.ins_h=(q.ins_h<<q.hash_shift^q.window[z+3-1])&q.hash_mask,q.prev[z&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=z,z++,--Z;);q.strstart=z,q.lookahead=2,N(q)}return q.strstart+=q.lookahead,q.block_start=q.strstart,q.insert=q.lookahead,q.lookahead=0,q.match_length=q.prev_length=2,q.match_available=0,V.next_in=ue,V.input=ce,V.avail_in=le,q.wrap=re,0},y.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(f,b,y){b.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(f,b,y){b.exports=function(g,x){var v,w,S,D,T,R,P,L,O,H,U,I,F,A,_,E,N,k,B,j,M,G,Y,J,V;v=g.state,w=g.next_in,J=g.input,S=w+(g.avail_in-5),D=g.next_out,V=g.output,T=D-(x-g.avail_out),R=D+(g.avail_out-257),P=v.dmax,L=v.wsize,O=v.whave,H=v.wnext,U=v.window,I=v.hold,F=v.bits,A=v.lencode,_=v.distcode,E=(1<<v.lenbits)-1,N=(1<<v.distbits)-1;e:do{F<15&&(I+=J[w++]<<F,F+=8,I+=J[w++]<<F,F+=8),k=A[I&E];t:for(;;){if(I>>>=B=k>>>24,F-=B,(B=k>>>16&255)==0)V[D++]=65535&k;else{if(!(16&B)){if(!(64&B)){k=A[(65535&k)+(I&(1<<B)-1)];continue t}if(32&B){v.mode=12;break e}g.msg="invalid literal/length code",v.mode=30;break e}j=65535&k,(B&=15)&&(F<B&&(I+=J[w++]<<F,F+=8),j+=I&(1<<B)-1,I>>>=B,F-=B),F<15&&(I+=J[w++]<<F,F+=8,I+=J[w++]<<F,F+=8),k=_[I&N];r:for(;;){if(I>>>=B=k>>>24,F-=B,!(16&(B=k>>>16&255))){if(!(64&B)){k=_[(65535&k)+(I&(1<<B)-1)];continue r}g.msg="invalid distance code",v.mode=30;break e}if(M=65535&k,F<(B&=15)&&(I+=J[w++]<<F,(F+=8)<B&&(I+=J[w++]<<F,F+=8)),P<(M+=I&(1<<B)-1)){g.msg="invalid distance too far back",v.mode=30;break e}if(I>>>=B,F-=B,(B=D-T)<M){if(O<(B=M-B)&&v.sane){g.msg="invalid distance too far back",v.mode=30;break e}if(Y=U,(G=0)===H){if(G+=L-B,B<j){for(j-=B;V[D++]=U[G++],--B;);G=D-M,Y=V}}else if(H<B){if(G+=L+H-B,(B-=H)<j){for(j-=B;V[D++]=U[G++],--B;);if(G=0,H<j){for(j-=B=H;V[D++]=U[G++],--B;);G=D-M,Y=V}}}else if(G+=H-B,B<j){for(j-=B;V[D++]=U[G++],--B;);G=D-M,Y=V}for(;2<j;)V[D++]=Y[G++],V[D++]=Y[G++],V[D++]=Y[G++],j-=3;j&&(V[D++]=Y[G++],1<j&&(V[D++]=Y[G++]))}else{for(G=D-M;V[D++]=V[G++],V[D++]=V[G++],V[D++]=V[G++],2<(j-=3););j&&(V[D++]=V[G++],1<j&&(V[D++]=V[G++]))}break}}break}}while(w<S&&D<R);w-=j=F>>3,I&=(1<<(F-=j<<3))-1,g.next_in=w,g.next_out=D,g.avail_in=w<S?S-w+5:5-(w-S),g.avail_out=D<R?R-D+257:257-(D-R),v.hold=I,v.bits=F}},{}],49:[function(f,b,y){var g=f("../utils/common"),x=f("./adler32"),v=f("./crc32"),w=f("./inffast"),S=f("./inftrees"),D=-2;function T(E){return(E>>>24&255)+(E>>>8&65280)+((65280&E)<<8)+((255&E)<<24)}function R(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new g.Buf16(320),this.work=new g.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function P(E){var N;return E&&E.state?(N=E.state,E.total_in=E.total_out=N.total=0,E.msg="",N.wrap&&(E.adler=1&N.wrap),N.mode=1,N.last=0,N.havedict=0,N.dmax=32768,N.head=null,N.hold=0,N.bits=0,N.lencode=N.lendyn=new g.Buf32(852),N.distcode=N.distdyn=new g.Buf32(592),N.sane=1,N.back=-1,0):D}function L(E){var N;return E&&E.state?((N=E.state).wsize=0,N.whave=0,N.wnext=0,P(E)):D}function O(E,N){var k,B;return E&&E.state?(B=E.state,N<0?(k=0,N=-N):(k=1+(N>>4),N<48&&(N&=15)),N&&(N<8||15<N)?D:(B.window!==null&&B.wbits!==N&&(B.window=null),B.wrap=k,B.wbits=N,L(E))):D}function H(E,N){var k,B;return E?(B=new R,(E.state=B).window=null,(k=O(E,N))!==0&&(E.state=null),k):D}var U,I,F=!0;function A(E){if(F){var N;for(U=new g.Buf32(512),I=new g.Buf32(32),N=0;N<144;)E.lens[N++]=8;for(;N<256;)E.lens[N++]=9;for(;N<280;)E.lens[N++]=7;for(;N<288;)E.lens[N++]=8;for(S(1,E.lens,0,288,U,0,E.work,{bits:9}),N=0;N<32;)E.lens[N++]=5;S(2,E.lens,0,32,I,0,E.work,{bits:5}),F=!1}E.lencode=U,E.lenbits=9,E.distcode=I,E.distbits=5}function _(E,N,k,B){var j,M=E.state;return M.window===null&&(M.wsize=1<<M.wbits,M.wnext=0,M.whave=0,M.window=new g.Buf8(M.wsize)),B>=M.wsize?(g.arraySet(M.window,N,k-M.wsize,M.wsize,0),M.wnext=0,M.whave=M.wsize):(B<(j=M.wsize-M.wnext)&&(j=B),g.arraySet(M.window,N,k-B,j,M.wnext),(B-=j)?(g.arraySet(M.window,N,k-B,B,0),M.wnext=B,M.whave=M.wsize):(M.wnext+=j,M.wnext===M.wsize&&(M.wnext=0),M.whave<M.wsize&&(M.whave+=j))),0}y.inflateReset=L,y.inflateReset2=O,y.inflateResetKeep=P,y.inflateInit=function(E){return H(E,15)},y.inflateInit2=H,y.inflate=function(E,N){var k,B,j,M,G,Y,J,V,Q,q,z,Z,re,le,ue,ce,ie,ye,he,pe,xe,Oe,Ae,Le,He=0,Ye=new g.Buf8(4),it=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!E||!E.state||!E.output||!E.input&&E.avail_in!==0)return D;(k=E.state).mode===12&&(k.mode=13),G=E.next_out,j=E.output,J=E.avail_out,M=E.next_in,B=E.input,Y=E.avail_in,V=k.hold,Q=k.bits,q=Y,z=J,Oe=0;e:for(;;)switch(k.mode){case 1:if(k.wrap===0){k.mode=13;break}for(;Q<16;){if(Y===0)break e;Y--,V+=B[M++]<<Q,Q+=8}if(2&k.wrap&&V===35615){Ye[k.check=0]=255&V,Ye[1]=V>>>8&255,k.check=v(k.check,Ye,2,0),Q=V=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&V)<<8)+(V>>8))%31){E.msg="incorrect header check",k.mode=30;break}if((15&V)!=8){E.msg="unknown compression method",k.mode=30;break}if(Q-=4,xe=8+(15&(V>>>=4)),k.wbits===0)k.wbits=xe;else if(xe>k.wbits){E.msg="invalid window size",k.mode=30;break}k.dmax=1<<xe,E.adler=k.check=1,k.mode=512&V?10:12,Q=V=0;break;case 2:for(;Q<16;){if(Y===0)break e;Y--,V+=B[M++]<<Q,Q+=8}if(k.flags=V,(255&k.flags)!=8){E.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){E.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=V>>8&1),512&k.flags&&(Ye[0]=255&V,Ye[1]=V>>>8&255,k.check=v(k.check,Ye,2,0)),Q=V=0,k.mode=3;case 3:for(;Q<32;){if(Y===0)break e;Y--,V+=B[M++]<<Q,Q+=8}k.head&&(k.head.time=V),512&k.flags&&(Ye[0]=255&V,Ye[1]=V>>>8&255,Ye[2]=V>>>16&255,Ye[3]=V>>>24&255,k.check=v(k.check,Ye,4,0)),Q=V=0,k.mode=4;case 4:for(;Q<16;){if(Y===0)break e;Y--,V+=B[M++]<<Q,Q+=8}k.head&&(k.head.xflags=255&V,k.head.os=V>>8),512&k.flags&&(Ye[0]=255&V,Ye[1]=V>>>8&255,k.check=v(k.check,Ye,2,0)),Q=V=0,k.mode=5;case 5:if(1024&k.flags){for(;Q<16;){if(Y===0)break e;Y--,V+=B[M++]<<Q,Q+=8}k.length=V,k.head&&(k.head.extra_len=V),512&k.flags&&(Ye[0]=255&V,Ye[1]=V>>>8&255,k.check=v(k.check,Ye,2,0)),Q=V=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&(Y<(Z=k.length)&&(Z=Y),Z&&(k.head&&(xe=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),g.arraySet(k.head.extra,B,M,Z,xe)),512&k.flags&&(k.check=v(k.check,B,Z,M)),Y-=Z,M+=Z,k.length-=Z),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if(Y===0)break e;for(Z=0;xe=B[M+Z++],k.head&&xe&&k.length<65536&&(k.head.name+=String.fromCharCode(xe)),xe&&Z<Y;);if(512&k.flags&&(k.check=v(k.check,B,Z,M)),Y-=Z,M+=Z,xe)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if(Y===0)break e;for(Z=0;xe=B[M+Z++],k.head&&xe&&k.length<65536&&(k.head.comment+=String.fromCharCode(xe)),xe&&Z<Y;);if(512&k.flags&&(k.check=v(k.check,B,Z,M)),Y-=Z,M+=Z,xe)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;Q<16;){if(Y===0)break e;Y--,V+=B[M++]<<Q,Q+=8}if(V!==(65535&k.check)){E.msg="header crc mismatch",k.mode=30;break}Q=V=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),E.adler=k.check=0,k.mode=12;break;case 10:for(;Q<32;){if(Y===0)break e;Y--,V+=B[M++]<<Q,Q+=8}E.adler=k.check=T(V),Q=V=0,k.mode=11;case 11:if(k.havedict===0)return E.next_out=G,E.avail_out=J,E.next_in=M,E.avail_in=Y,k.hold=V,k.bits=Q,2;E.adler=k.check=1,k.mode=12;case 12:if(N===5||N===6)break e;case 13:if(k.last){V>>>=7&Q,Q-=7&Q,k.mode=27;break}for(;Q<3;){if(Y===0)break e;Y--,V+=B[M++]<<Q,Q+=8}switch(k.last=1&V,Q-=1,3&(V>>>=1)){case 0:k.mode=14;break;case 1:if(A(k),k.mode=20,N!==6)break;V>>>=2,Q-=2;break e;case 2:k.mode=17;break;case 3:E.msg="invalid block type",k.mode=30}V>>>=2,Q-=2;break;case 14:for(V>>>=7&Q,Q-=7&Q;Q<32;){if(Y===0)break e;Y--,V+=B[M++]<<Q,Q+=8}if((65535&V)!=(V>>>16^65535)){E.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&V,Q=V=0,k.mode=15,N===6)break e;case 15:k.mode=16;case 16:if(Z=k.length){if(Y<Z&&(Z=Y),J<Z&&(Z=J),Z===0)break e;g.arraySet(j,B,M,Z,G),Y-=Z,M+=Z,J-=Z,G+=Z,k.length-=Z;break}k.mode=12;break;case 17:for(;Q<14;){if(Y===0)break e;Y--,V+=B[M++]<<Q,Q+=8}if(k.nlen=257+(31&V),V>>>=5,Q-=5,k.ndist=1+(31&V),V>>>=5,Q-=5,k.ncode=4+(15&V),V>>>=4,Q-=4,286<k.nlen||30<k.ndist){E.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;Q<3;){if(Y===0)break e;Y--,V+=B[M++]<<Q,Q+=8}k.lens[it[k.have++]]=7&V,V>>>=3,Q-=3}for(;k.have<19;)k.lens[it[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,Ae={bits:k.lenbits},Oe=S(0,k.lens,0,19,k.lencode,0,k.work,Ae),k.lenbits=Ae.bits,Oe){E.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;ce=(He=k.lencode[V&(1<<k.lenbits)-1])>>>16&255,ie=65535&He,!((ue=He>>>24)<=Q);){if(Y===0)break e;Y--,V+=B[M++]<<Q,Q+=8}if(ie<16)V>>>=ue,Q-=ue,k.lens[k.have++]=ie;else{if(ie===16){for(Le=ue+2;Q<Le;){if(Y===0)break e;Y--,V+=B[M++]<<Q,Q+=8}if(V>>>=ue,Q-=ue,k.have===0){E.msg="invalid bit length repeat",k.mode=30;break}xe=k.lens[k.have-1],Z=3+(3&V),V>>>=2,Q-=2}else if(ie===17){for(Le=ue+3;Q<Le;){if(Y===0)break e;Y--,V+=B[M++]<<Q,Q+=8}Q-=ue,xe=0,Z=3+(7&(V>>>=ue)),V>>>=3,Q-=3}else{for(Le=ue+7;Q<Le;){if(Y===0)break e;Y--,V+=B[M++]<<Q,Q+=8}Q-=ue,xe=0,Z=11+(127&(V>>>=ue)),V>>>=7,Q-=7}if(k.have+Z>k.nlen+k.ndist){E.msg="invalid bit length repeat",k.mode=30;break}for(;Z--;)k.lens[k.have++]=xe}}if(k.mode===30)break;if(k.lens[256]===0){E.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,Ae={bits:k.lenbits},Oe=S(1,k.lens,0,k.nlen,k.lencode,0,k.work,Ae),k.lenbits=Ae.bits,Oe){E.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,Ae={bits:k.distbits},Oe=S(2,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,Ae),k.distbits=Ae.bits,Oe){E.msg="invalid distances set",k.mode=30;break}if(k.mode=20,N===6)break e;case 20:k.mode=21;case 21:if(6<=Y&&258<=J){E.next_out=G,E.avail_out=J,E.next_in=M,E.avail_in=Y,k.hold=V,k.bits=Q,w(E,z),G=E.next_out,j=E.output,J=E.avail_out,M=E.next_in,B=E.input,Y=E.avail_in,V=k.hold,Q=k.bits,k.mode===12&&(k.back=-1);break}for(k.back=0;ce=(He=k.lencode[V&(1<<k.lenbits)-1])>>>16&255,ie=65535&He,!((ue=He>>>24)<=Q);){if(Y===0)break e;Y--,V+=B[M++]<<Q,Q+=8}if(ce&&!(240&ce)){for(ye=ue,he=ce,pe=ie;ce=(He=k.lencode[pe+((V&(1<<ye+he)-1)>>ye)])>>>16&255,ie=65535&He,!(ye+(ue=He>>>24)<=Q);){if(Y===0)break e;Y--,V+=B[M++]<<Q,Q+=8}V>>>=ye,Q-=ye,k.back+=ye}if(V>>>=ue,Q-=ue,k.back+=ue,k.length=ie,ce===0){k.mode=26;break}if(32&ce){k.back=-1,k.mode=12;break}if(64&ce){E.msg="invalid literal/length code",k.mode=30;break}k.extra=15&ce,k.mode=22;case 22:if(k.extra){for(Le=k.extra;Q<Le;){if(Y===0)break e;Y--,V+=B[M++]<<Q,Q+=8}k.length+=V&(1<<k.extra)-1,V>>>=k.extra,Q-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;ce=(He=k.distcode[V&(1<<k.distbits)-1])>>>16&255,ie=65535&He,!((ue=He>>>24)<=Q);){if(Y===0)break e;Y--,V+=B[M++]<<Q,Q+=8}if(!(240&ce)){for(ye=ue,he=ce,pe=ie;ce=(He=k.distcode[pe+((V&(1<<ye+he)-1)>>ye)])>>>16&255,ie=65535&He,!(ye+(ue=He>>>24)<=Q);){if(Y===0)break e;Y--,V+=B[M++]<<Q,Q+=8}V>>>=ye,Q-=ye,k.back+=ye}if(V>>>=ue,Q-=ue,k.back+=ue,64&ce){E.msg="invalid distance code",k.mode=30;break}k.offset=ie,k.extra=15&ce,k.mode=24;case 24:if(k.extra){for(Le=k.extra;Q<Le;){if(Y===0)break e;Y--,V+=B[M++]<<Q,Q+=8}k.offset+=V&(1<<k.extra)-1,V>>>=k.extra,Q-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){E.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if(J===0)break e;if(Z=z-J,k.offset>Z){if((Z=k.offset-Z)>k.whave&&k.sane){E.msg="invalid distance too far back",k.mode=30;break}re=Z>k.wnext?(Z-=k.wnext,k.wsize-Z):k.wnext-Z,Z>k.length&&(Z=k.length),le=k.window}else le=j,re=G-k.offset,Z=k.length;for(J<Z&&(Z=J),J-=Z,k.length-=Z;j[G++]=le[re++],--Z;);k.length===0&&(k.mode=21);break;case 26:if(J===0)break e;j[G++]=k.length,J--,k.mode=21;break;case 27:if(k.wrap){for(;Q<32;){if(Y===0)break e;Y--,V|=B[M++]<<Q,Q+=8}if(z-=J,E.total_out+=z,k.total+=z,z&&(E.adler=k.check=k.flags?v(k.check,j,z,G-z):x(k.check,j,z,G-z)),z=J,(k.flags?V:T(V))!==k.check){E.msg="incorrect data check",k.mode=30;break}Q=V=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;Q<32;){if(Y===0)break e;Y--,V+=B[M++]<<Q,Q+=8}if(V!==(4294967295&k.total)){E.msg="incorrect length check",k.mode=30;break}Q=V=0}k.mode=29;case 29:Oe=1;break e;case 30:Oe=-3;break e;case 31:return-4;case 32:default:return D}return E.next_out=G,E.avail_out=J,E.next_in=M,E.avail_in=Y,k.hold=V,k.bits=Q,(k.wsize||z!==E.avail_out&&k.mode<30&&(k.mode<27||N!==4))&&_(E,E.output,E.next_out,z-E.avail_out)?(k.mode=31,-4):(q-=E.avail_in,z-=E.avail_out,E.total_in+=q,E.total_out+=z,k.total+=z,k.wrap&&z&&(E.adler=k.check=k.flags?v(k.check,j,z,E.next_out-z):x(k.check,j,z,E.next_out-z)),E.data_type=k.bits+(k.last?64:0)+(k.mode===12?128:0)+(k.mode===20||k.mode===15?256:0),(q==0&&z===0||N===4)&&Oe===0&&(Oe=-5),Oe)},y.inflateEnd=function(E){if(!E||!E.state)return D;var N=E.state;return N.window&&(N.window=null),E.state=null,0},y.inflateGetHeader=function(E,N){var k;return E&&E.state&&2&(k=E.state).wrap?((k.head=N).done=!1,0):D},y.inflateSetDictionary=function(E,N){var k,B=N.length;return E&&E.state?(k=E.state).wrap!==0&&k.mode!==11?D:k.mode===11&&x(1,N,B,0)!==k.check?-3:_(E,N,B,B)?(k.mode=31,-4):(k.havedict=1,0):D},y.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(f,b,y){var g=f("../utils/common"),x=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],v=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],w=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],S=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];b.exports=function(D,T,R,P,L,O,H,U){var I,F,A,_,E,N,k,B,j,M=U.bits,G=0,Y=0,J=0,V=0,Q=0,q=0,z=0,Z=0,re=0,le=0,ue=null,ce=0,ie=new g.Buf16(16),ye=new g.Buf16(16),he=null,pe=0;for(G=0;G<=15;G++)ie[G]=0;for(Y=0;Y<P;Y++)ie[T[R+Y]]++;for(Q=M,V=15;1<=V&&ie[V]===0;V--);if(V<Q&&(Q=V),V===0)return L[O++]=20971520,L[O++]=20971520,U.bits=1,0;for(J=1;J<V&&ie[J]===0;J++);for(Q<J&&(Q=J),G=Z=1;G<=15;G++)if(Z<<=1,(Z-=ie[G])<0)return-1;if(0<Z&&(D===0||V!==1))return-1;for(ye[1]=0,G=1;G<15;G++)ye[G+1]=ye[G]+ie[G];for(Y=0;Y<P;Y++)T[R+Y]!==0&&(H[ye[T[R+Y]]++]=Y);if(N=D===0?(ue=he=H,19):D===1?(ue=x,ce-=257,he=v,pe-=257,256):(ue=w,he=S,-1),G=J,E=O,z=Y=le=0,A=-1,_=(re=1<<(q=Q))-1,D===1&&852<re||D===2&&592<re)return 1;for(;;){for(k=G-z,j=H[Y]<N?(B=0,H[Y]):H[Y]>N?(B=he[pe+H[Y]],ue[ce+H[Y]]):(B=96,0),I=1<<G-z,J=F=1<<q;L[E+(le>>z)+(F-=I)]=k<<24|B<<16|j|0,F!==0;);for(I=1<<G-1;le&I;)I>>=1;if(I!==0?(le&=I-1,le+=I):le=0,Y++,--ie[G]==0){if(G===V)break;G=T[R+H[Y]]}if(Q<G&&(le&_)!==A){for(z===0&&(z=Q),E+=J,Z=1<<(q=G-z);q+z<V&&!((Z-=ie[q+z])<=0);)q++,Z<<=1;if(re+=1<<q,D===1&&852<re||D===2&&592<re)return 1;L[A=le&_]=Q<<24|q<<16|E-O|0}}return le!==0&&(L[E+le]=G-z<<24|64<<16|0),U.bits=Q,0}},{"../utils/common":41}],51:[function(f,b,y){b.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(f,b,y){var g=f("../utils/common");function x(he){for(var pe=he.length;0<=--pe;)he[pe]=0}var v=256,w=286,S=30,D=15,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],R=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=new Array(576);x(O);var H=new Array(60);x(H);var U=new Array(512);x(U);var I=new Array(256);x(I);var F=new Array(29);x(F);var A,_,E,N=new Array(S);function k(he,pe,xe,Oe,Ae){this.static_tree=he,this.extra_bits=pe,this.extra_base=xe,this.elems=Oe,this.max_length=Ae,this.has_stree=he&&he.length}function B(he,pe){this.dyn_tree=he,this.max_code=0,this.stat_desc=pe}function j(he){return he<256?U[he]:U[256+(he>>>7)]}function M(he,pe){he.pending_buf[he.pending++]=255&pe,he.pending_buf[he.pending++]=pe>>>8&255}function G(he,pe,xe){he.bi_valid>16-xe?(he.bi_buf|=pe<<he.bi_valid&65535,M(he,he.bi_buf),he.bi_buf=pe>>16-he.bi_valid,he.bi_valid+=xe-16):(he.bi_buf|=pe<<he.bi_valid&65535,he.bi_valid+=xe)}function Y(he,pe,xe){G(he,xe[2*pe],xe[2*pe+1])}function J(he,pe){for(var xe=0;xe|=1&he,he>>>=1,xe<<=1,0<--pe;);return xe>>>1}function V(he,pe,xe){var Oe,Ae,Le=new Array(16),He=0;for(Oe=1;Oe<=D;Oe++)Le[Oe]=He=He+xe[Oe-1]<<1;for(Ae=0;Ae<=pe;Ae++){var Ye=he[2*Ae+1];Ye!==0&&(he[2*Ae]=J(Le[Ye]++,Ye))}}function Q(he){var pe;for(pe=0;pe<w;pe++)he.dyn_ltree[2*pe]=0;for(pe=0;pe<S;pe++)he.dyn_dtree[2*pe]=0;for(pe=0;pe<19;pe++)he.bl_tree[2*pe]=0;he.dyn_ltree[512]=1,he.opt_len=he.static_len=0,he.last_lit=he.matches=0}function q(he){8<he.bi_valid?M(he,he.bi_buf):0<he.bi_valid&&(he.pending_buf[he.pending++]=he.bi_buf),he.bi_buf=0,he.bi_valid=0}function z(he,pe,xe,Oe){var Ae=2*pe,Le=2*xe;return he[Ae]<he[Le]||he[Ae]===he[Le]&&Oe[pe]<=Oe[xe]}function Z(he,pe,xe){for(var Oe=he.heap[xe],Ae=xe<<1;Ae<=he.heap_len&&(Ae<he.heap_len&&z(pe,he.heap[Ae+1],he.heap[Ae],he.depth)&&Ae++,!z(pe,Oe,he.heap[Ae],he.depth));)he.heap[xe]=he.heap[Ae],xe=Ae,Ae<<=1;he.heap[xe]=Oe}function re(he,pe,xe){var Oe,Ae,Le,He,Ye=0;if(he.last_lit!==0)for(;Oe=he.pending_buf[he.d_buf+2*Ye]<<8|he.pending_buf[he.d_buf+2*Ye+1],Ae=he.pending_buf[he.l_buf+Ye],Ye++,Oe===0?Y(he,Ae,pe):(Y(he,(Le=I[Ae])+v+1,pe),(He=T[Le])!==0&&G(he,Ae-=F[Le],He),Y(he,Le=j(--Oe),xe),(He=R[Le])!==0&&G(he,Oe-=N[Le],He)),Ye<he.last_lit;);Y(he,256,pe)}function le(he,pe){var xe,Oe,Ae,Le=pe.dyn_tree,He=pe.stat_desc.static_tree,Ye=pe.stat_desc.has_stree,it=pe.stat_desc.elems,bt=-1;for(he.heap_len=0,he.heap_max=573,xe=0;xe<it;xe++)Le[2*xe]!==0?(he.heap[++he.heap_len]=bt=xe,he.depth[xe]=0):Le[2*xe+1]=0;for(;he.heap_len<2;)Le[2*(Ae=he.heap[++he.heap_len]=bt<2?++bt:0)]=1,he.depth[Ae]=0,he.opt_len--,Ye&&(he.static_len-=He[2*Ae+1]);for(pe.max_code=bt,xe=he.heap_len>>1;1<=xe;xe--)Z(he,Le,xe);for(Ae=it;xe=he.heap[1],he.heap[1]=he.heap[he.heap_len--],Z(he,Le,1),Oe=he.heap[1],he.heap[--he.heap_max]=xe,he.heap[--he.heap_max]=Oe,Le[2*Ae]=Le[2*xe]+Le[2*Oe],he.depth[Ae]=(he.depth[xe]>=he.depth[Oe]?he.depth[xe]:he.depth[Oe])+1,Le[2*xe+1]=Le[2*Oe+1]=Ae,he.heap[1]=Ae++,Z(he,Le,1),2<=he.heap_len;);he.heap[--he.heap_max]=he.heap[1],function(tt,$e){var at,ze,wt,vt,kt,pt,At=$e.dyn_tree,$t=$e.max_code,Tt=$e.stat_desc.static_tree,fr=$e.stat_desc.has_stree,ur=$e.stat_desc.extra_bits,er=$e.stat_desc.extra_base,Sr=$e.stat_desc.max_length,tr=0;for(vt=0;vt<=D;vt++)tt.bl_count[vt]=0;for(At[2*tt.heap[tt.heap_max]+1]=0,at=tt.heap_max+1;at<573;at++)Sr<(vt=At[2*At[2*(ze=tt.heap[at])+1]+1]+1)&&(vt=Sr,tr++),At[2*ze+1]=vt,$t<ze||(tt.bl_count[vt]++,kt=0,er<=ze&&(kt=ur[ze-er]),pt=At[2*ze],tt.opt_len+=pt*(vt+kt),fr&&(tt.static_len+=pt*(Tt[2*ze+1]+kt)));if(tr!==0){do{for(vt=Sr-1;tt.bl_count[vt]===0;)vt--;tt.bl_count[vt]--,tt.bl_count[vt+1]+=2,tt.bl_count[Sr]--,tr-=2}while(0<tr);for(vt=Sr;vt!==0;vt--)for(ze=tt.bl_count[vt];ze!==0;)$t<(wt=tt.heap[--at])||(At[2*wt+1]!==vt&&(tt.opt_len+=(vt-At[2*wt+1])*At[2*wt],At[2*wt+1]=vt),ze--)}}(he,pe),V(Le,bt,he.bl_count)}function ue(he,pe,xe){var Oe,Ae,Le=-1,He=pe[1],Ye=0,it=7,bt=4;for(He===0&&(it=138,bt=3),pe[2*(xe+1)+1]=65535,Oe=0;Oe<=xe;Oe++)Ae=He,He=pe[2*(Oe+1)+1],++Ye<it&&Ae===He||(Ye<bt?he.bl_tree[2*Ae]+=Ye:Ae!==0?(Ae!==Le&&he.bl_tree[2*Ae]++,he.bl_tree[32]++):Ye<=10?he.bl_tree[34]++:he.bl_tree[36]++,Le=Ae,bt=(Ye=0)===He?(it=138,3):Ae===He?(it=6,3):(it=7,4))}function ce(he,pe,xe){var Oe,Ae,Le=-1,He=pe[1],Ye=0,it=7,bt=4;for(He===0&&(it=138,bt=3),Oe=0;Oe<=xe;Oe++)if(Ae=He,He=pe[2*(Oe+1)+1],!(++Ye<it&&Ae===He)){if(Ye<bt)for(;Y(he,Ae,he.bl_tree),--Ye!=0;);else Ae!==0?(Ae!==Le&&(Y(he,Ae,he.bl_tree),Ye--),Y(he,16,he.bl_tree),G(he,Ye-3,2)):Ye<=10?(Y(he,17,he.bl_tree),G(he,Ye-3,3)):(Y(he,18,he.bl_tree),G(he,Ye-11,7));Le=Ae,bt=(Ye=0)===He?(it=138,3):Ae===He?(it=6,3):(it=7,4)}}x(N);var ie=!1;function ye(he,pe,xe,Oe){G(he,0+(Oe?1:0),3),function(Ae,Le,He,Ye){q(Ae),M(Ae,He),M(Ae,~He),g.arraySet(Ae.pending_buf,Ae.window,Le,He,Ae.pending),Ae.pending+=He}(he,pe,xe)}y._tr_init=function(he){ie||(function(){var pe,xe,Oe,Ae,Le,He=new Array(16);for(Ae=Oe=0;Ae<28;Ae++)for(F[Ae]=Oe,pe=0;pe<1<<T[Ae];pe++)I[Oe++]=Ae;for(I[Oe-1]=Ae,Ae=Le=0;Ae<16;Ae++)for(N[Ae]=Le,pe=0;pe<1<<R[Ae];pe++)U[Le++]=Ae;for(Le>>=7;Ae<S;Ae++)for(N[Ae]=Le<<7,pe=0;pe<1<<R[Ae]-7;pe++)U[256+Le++]=Ae;for(xe=0;xe<=D;xe++)He[xe]=0;for(pe=0;pe<=143;)O[2*pe+1]=8,pe++,He[8]++;for(;pe<=255;)O[2*pe+1]=9,pe++,He[9]++;for(;pe<=279;)O[2*pe+1]=7,pe++,He[7]++;for(;pe<=287;)O[2*pe+1]=8,pe++,He[8]++;for(V(O,287,He),pe=0;pe<S;pe++)H[2*pe+1]=5,H[2*pe]=J(pe,5);A=new k(O,T,257,w,D),_=new k(H,R,0,S,D),E=new k(new Array(0),P,0,19,7)}(),ie=!0),he.l_desc=new B(he.dyn_ltree,A),he.d_desc=new B(he.dyn_dtree,_),he.bl_desc=new B(he.bl_tree,E),he.bi_buf=0,he.bi_valid=0,Q(he)},y._tr_stored_block=ye,y._tr_flush_block=function(he,pe,xe,Oe){var Ae,Le,He=0;0<he.level?(he.strm.data_type===2&&(he.strm.data_type=function(Ye){var it,bt=4093624447;for(it=0;it<=31;it++,bt>>>=1)if(1&bt&&Ye.dyn_ltree[2*it]!==0)return 0;if(Ye.dyn_ltree[18]!==0||Ye.dyn_ltree[20]!==0||Ye.dyn_ltree[26]!==0)return 1;for(it=32;it<v;it++)if(Ye.dyn_ltree[2*it]!==0)return 1;return 0}(he)),le(he,he.l_desc),le(he,he.d_desc),He=function(Ye){var it;for(ue(Ye,Ye.dyn_ltree,Ye.l_desc.max_code),ue(Ye,Ye.dyn_dtree,Ye.d_desc.max_code),le(Ye,Ye.bl_desc),it=18;3<=it&&Ye.bl_tree[2*L[it]+1]===0;it--);return Ye.opt_len+=3*(it+1)+5+5+4,it}(he),Ae=he.opt_len+3+7>>>3,(Le=he.static_len+3+7>>>3)<=Ae&&(Ae=Le)):Ae=Le=xe+5,xe+4<=Ae&&pe!==-1?ye(he,pe,xe,Oe):he.strategy===4||Le===Ae?(G(he,2+(Oe?1:0),3),re(he,O,H)):(G(he,4+(Oe?1:0),3),function(Ye,it,bt,tt){var $e;for(G(Ye,it-257,5),G(Ye,bt-1,5),G(Ye,tt-4,4),$e=0;$e<tt;$e++)G(Ye,Ye.bl_tree[2*L[$e]+1],3);ce(Ye,Ye.dyn_ltree,it-1),ce(Ye,Ye.dyn_dtree,bt-1)}(he,he.l_desc.max_code+1,he.d_desc.max_code+1,He+1),re(he,he.dyn_ltree,he.dyn_dtree)),Q(he),Oe&&q(he)},y._tr_tally=function(he,pe,xe){return he.pending_buf[he.d_buf+2*he.last_lit]=pe>>>8&255,he.pending_buf[he.d_buf+2*he.last_lit+1]=255&pe,he.pending_buf[he.l_buf+he.last_lit]=255&xe,he.last_lit++,pe===0?he.dyn_ltree[2*xe]++:(he.matches++,pe--,he.dyn_ltree[2*(I[xe]+v+1)]++,he.dyn_dtree[2*j(pe)]++),he.last_lit===he.lit_bufsize-1},y._tr_align=function(he){G(he,2,3),Y(he,256,O),function(pe){pe.bi_valid===16?(M(pe,pe.bi_buf),pe.bi_buf=0,pe.bi_valid=0):8<=pe.bi_valid&&(pe.pending_buf[pe.pending++]=255&pe.bi_buf,pe.bi_buf>>=8,pe.bi_valid-=8)}(he)}},{"../utils/common":41}],53:[function(f,b,y){b.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(f,b,y){(function(g){(function(x,v){if(!x.setImmediate){var w,S,D,T,R=1,P={},L=!1,O=x.document,H=Object.getPrototypeOf&&Object.getPrototypeOf(x);H=H&&H.setTimeout?H:x,w={}.toString.call(x.process)==="[object process]"?function(A){i.nextTick(function(){I(A)})}:function(){if(x.postMessage&&!x.importScripts){var A=!0,_=x.onmessage;return x.onmessage=function(){A=!1},x.postMessage("","*"),x.onmessage=_,A}}()?(T="setImmediate$"+Math.random()+"$",x.addEventListener?x.addEventListener("message",F,!1):x.attachEvent("onmessage",F),function(A){x.postMessage(T+A,"*")}):x.MessageChannel?((D=new MessageChannel).port1.onmessage=function(A){I(A.data)},function(A){D.port2.postMessage(A)}):O&&"onreadystatechange"in O.createElement("script")?(S=O.documentElement,function(A){var _=O.createElement("script");_.onreadystatechange=function(){I(A),_.onreadystatechange=null,S.removeChild(_),_=null},S.appendChild(_)}):function(A){setTimeout(I,0,A)},H.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var _=new Array(arguments.length-1),E=0;E<_.length;E++)_[E]=arguments[E+1];var N={callback:A,args:_};return P[R]=N,w(R),R++},H.clearImmediate=U}function U(A){delete P[A]}function I(A){if(L)setTimeout(I,0,A);else{var _=P[A];if(_){L=!0;try{(function(E){var N=E.callback,k=E.args;switch(k.length){case 0:N();break;case 1:N(k[0]);break;case 2:N(k[0],k[1]);break;case 3:N(k[0],k[1],k[2]);break;default:N.apply(void 0,k)}})(_)}finally{U(A),L=!1}}}}function F(A){A.source===x&&typeof A.data=="string"&&A.data.indexOf(T)===0&&I(+A.data.slice(T.length))}})(typeof self>"u"?g===void 0?this:g:self)}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,e("_process"),typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,s,a){(function(i){(function(){var o=/[\\^$.*+?()[\]{}|]/g,u=RegExp(o.source),c=typeof i=="object"&&i&&i.Object===Object&&i,l=typeof self=="object"&&self&&self.Object===Object&&self,d=c||l||Function("return this")(),p=Object.prototype.toString,h=d.Symbol,f=h?h.prototype:void 0,b=f?f.toString:void 0;function y(g){if(typeof g=="string")return g;if(function(v){return typeof v=="symbol"||function(w){return!!w&&typeof w=="object"}(v)&&p.call(v)=="[object Symbol]"}(g))return b?b.call(g):"";var x=g+"";return x=="0"&&1/g==-1/0?"-0":x}s.exports=function(g){var x;return(g=(x=g)==null?"":y(x))&&u.test(g)?g.replace(o,"\\$&"):g}}).call(this)}).call(this,typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,s,a){(function(i){(function(){var o="[object Arguments]",u="[object Map]",c="[object Object]",l="[object Set]",d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p=/^\w*$/,h=/^\./,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,b=/\\(\\)?/g,y=/^\[object .+?Constructor\]$/,g=/^(?:0|[1-9]\d*)$/,x={};x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x[o]=x["[object Array]"]=x["[object ArrayBuffer]"]=x["[object Boolean]"]=x["[object DataView]"]=x["[object Date]"]=x["[object Error]"]=x["[object Function]"]=x[u]=x["[object Number]"]=x[c]=x["[object RegExp]"]=x[l]=x["[object String]"]=x["[object WeakMap]"]=!1;var v=typeof i=="object"&&i&&i.Object===Object&&i,w=typeof self=="object"&&self&&self.Object===Object&&self,S=v||w||Function("return this")(),D=typeof a=="object"&&a&&!a.nodeType&&a,T=D&&typeof s=="object"&&s&&!s.nodeType&&s,R=T&&T.exports===D&&v.process,P=function(){try{return R&&R.binding("util")}catch{}}(),L=P&&P.isTypedArray;function O(ke,Ge,mt,Et){for(var Yt=-1,Ht=ke?ke.length:0;++Yt<Ht;){var Vt=ke[Yt];Ge(Et,Vt,mt(Vt),ke)}return Et}function H(ke,Ge){for(var mt=-1,Et=ke?ke.length:0;++mt<Et;)if(Ge(ke[mt],mt,ke))return!0;return!1}function U(ke){var Ge=!1;if(ke!=null&&typeof ke.toString!="function")try{Ge=!!(ke+"")}catch{}return Ge}function I(ke){var Ge=-1,mt=Array(ke.size);return ke.forEach(function(Et,Yt){mt[++Ge]=[Yt,Et]}),mt}function F(ke){var Ge=-1,mt=Array(ke.size);return ke.forEach(function(Et){mt[++Ge]=Et}),mt}var A,_,E,N=Array.prototype,k=Function.prototype,B=Object.prototype,j=S["__core-js_shared__"],M=(A=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",G=k.toString,Y=B.hasOwnProperty,J=B.toString,V=RegExp("^"+G.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Q=S.Symbol,q=S.Uint8Array,z=B.propertyIsEnumerable,Z=N.splice,re=(_=Object.keys,E=Object,function(ke){return _(E(ke))}),le=Jt(S,"DataView"),ue=Jt(S,"Map"),ce=Jt(S,"Promise"),ie=Jt(S,"Set"),ye=Jt(S,"WeakMap"),he=Jt(Object,"create"),pe=rt(le),xe=rt(ue),Oe=rt(ce),Ae=rt(ie),Le=rt(ye),He=Q?Q.prototype:void 0,Ye=He?He.valueOf:void 0,it=He?He.toString:void 0;function bt(ke){var Ge=-1,mt=ke?ke.length:0;for(this.clear();++Ge<mt;){var Et=ke[Ge];this.set(Et[0],Et[1])}}function tt(ke){var Ge=-1,mt=ke?ke.length:0;for(this.clear();++Ge<mt;){var Et=ke[Ge];this.set(Et[0],Et[1])}}function $e(ke){var Ge=-1,mt=ke?ke.length:0;for(this.clear();++Ge<mt;){var Et=ke[Ge];this.set(Et[0],Et[1])}}function at(ke){var Ge=-1,mt=ke?ke.length:0;for(this.__data__=new $e;++Ge<mt;)this.add(ke[Ge])}function ze(ke){this.__data__=new tt(ke)}function wt(ke,Ge){var mt=Re(ke)||Pe(ke)?function(Vt,Tr){for(var vr=-1,Nr=Array(Vt);++vr<Vt;)Nr[vr]=Tr(vr);return Nr}(ke.length,String):[],Et=mt.length,Yt=!!Et;for(var Ht in ke)!Y.call(ke,Ht)||Yt&&(Ht=="length"||Lr(Ht,Et))||mt.push(Ht);return mt}function vt(ke,Ge){for(var mt=ke.length;mt--;)if(we(ke[mt][0],Ge))return mt;return-1}function kt(ke,Ge,mt,Et){return At(ke,function(Yt,Ht,Vt){Ge(Et,Yt,mt(Yt),Vt)}),Et}bt.prototype.clear=function(){this.__data__=he?he(null):{}},bt.prototype.delete=function(ke){return this.has(ke)&&delete this.__data__[ke]},bt.prototype.get=function(ke){var Ge=this.__data__;if(he){var mt=Ge[ke];return mt==="__lodash_hash_undefined__"?void 0:mt}return Y.call(Ge,ke)?Ge[ke]:void 0},bt.prototype.has=function(ke){var Ge=this.__data__;return he?Ge[ke]!==void 0:Y.call(Ge,ke)},bt.prototype.set=function(ke,Ge){return this.__data__[ke]=he&&Ge===void 0?"__lodash_hash_undefined__":Ge,this},tt.prototype.clear=function(){this.__data__=[]},tt.prototype.delete=function(ke){var Ge=this.__data__,mt=vt(Ge,ke);return!(mt<0)&&(mt==Ge.length-1?Ge.pop():Z.call(Ge,mt,1),!0)},tt.prototype.get=function(ke){var Ge=this.__data__,mt=vt(Ge,ke);return mt<0?void 0:Ge[mt][1]},tt.prototype.has=function(ke){return vt(this.__data__,ke)>-1},tt.prototype.set=function(ke,Ge){var mt=this.__data__,Et=vt(mt,ke);return Et<0?mt.push([ke,Ge]):mt[Et][1]=Ge,this},$e.prototype.clear=function(){this.__data__={hash:new bt,map:new(ue||tt),string:new bt}},$e.prototype.delete=function(ke){return Ir(this,ke).delete(ke)},$e.prototype.get=function(ke){return Ir(this,ke).get(ke)},$e.prototype.has=function(ke){return Ir(this,ke).has(ke)},$e.prototype.set=function(ke,Ge){return Ir(this,ke).set(ke,Ge),this},at.prototype.add=at.prototype.push=function(ke){return this.__data__.set(ke,"__lodash_hash_undefined__"),this},at.prototype.has=function(ke){return this.__data__.has(ke)},ze.prototype.clear=function(){this.__data__=new tt},ze.prototype.delete=function(ke){return this.__data__.delete(ke)},ze.prototype.get=function(ke){return this.__data__.get(ke)},ze.prototype.has=function(ke){return this.__data__.has(ke)},ze.prototype.set=function(ke,Ge){var mt=this.__data__;if(mt instanceof tt){var Et=mt.__data__;if(!ue||Et.length<199)return Et.push([ke,Ge]),this;mt=this.__data__=new $e(Et)}return mt.set(ke,Ge),this};var pt,At=(pt=function(ke,Ge){return ke&&$t(ke,Ge,zt)},function(ke,Ge){if(ke==null)return ke;if(!Ve(ke))return pt(ke,Ge);for(var mt=ke.length,Et=-1,Yt=Object(ke);++Et<mt&&Ge(Yt[Et],Et,Yt)!==!1;);return ke}),$t=function(ke){return function(Ge,mt,Et){for(var Yt=-1,Ht=Object(Ge),Vt=Et(Ge),Tr=Vt.length;Tr--;){var vr=Vt[++Yt];if(mt(Ht[vr],vr,Ht)===!1)break}return Ge}}();function Tt(ke,Ge){for(var mt=0,Et=(Ge=Lt(Ge,ke)?[Ge]:Wt(Ge)).length;ke!=null&&mt<Et;)ke=ke[qe(Ge[mt++])];return mt&&mt==Et?ke:void 0}function fr(ke,Ge){return ke!=null&&Ge in Object(ke)}function ur(ke,Ge,mt,Et,Yt){return ke===Ge||(ke==null||Ge==null||!et(ke)&&!ct(Ge)?ke!=ke&&Ge!=Ge:function(Ht,Vt,Tr,vr,Nr,ir){var _r=Re(Ht),nn=Re(Vt),sn="[object Array]",An="[object Array]";_r||(sn=(sn=wr(Ht))==o?c:sn),nn||(An=(An=wr(Vt))==o?c:An);var Vn=sn==c&&!U(Ht),Ms=An==c&&!U(Vt),as=sn==An;if(as&&!Vn)return ir||(ir=new ze),_r||Ft(Ht)?or(Ht,Vt,Tr,vr,Nr,ir):function(an,Wr,ri,ni,vo,ks,Vs){switch(ri){case"[object DataView]":if(an.byteLength!=Wr.byteLength||an.byteOffset!=Wr.byteOffset)return!1;an=an.buffer,Wr=Wr.buffer;case"[object ArrayBuffer]":return!(an.byteLength!=Wr.byteLength||!ni(new q(an),new q(Wr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return we(+an,+Wr);case"[object Error]":return an.name==Wr.name&&an.message==Wr.message;case"[object RegExp]":case"[object String]":return an==Wr+"";case u:var si=I;case l:var xo=2&ks;if(si||(si=F),an.size!=Wr.size&&!xo)return!1;var Wa=Vs.get(an);if(Wa)return Wa==Wr;ks|=1,Vs.set(an,Wr);var za=or(si(an),si(Wr),ni,vo,ks,Vs);return Vs.delete(an),za;case"[object Symbol]":if(Ye)return Ye.call(an)==Ye.call(Wr)}return!1}(Ht,Vt,sn,Tr,vr,Nr,ir);if(!(2&Nr)){var sa=Vn&&Y.call(Ht,"__wrapped__"),Xn=Ms&&Y.call(Vt,"__wrapped__");if(sa||Xn){var vi=sa?Ht.value():Ht,xi=Xn?Vt.value():Vt;return ir||(ir=new ze),Tr(vi,xi,vr,Nr,ir)}}return as?(ir||(ir=new ze),function(an,Wr,ri,ni,vo,ks){var Vs=2&vo,si=zt(an),xo=si.length,Wa=zt(Wr).length;if(xo!=Wa&&!Vs)return!1;for(var za=xo;za--;){var va=si[za];if(!(Vs?va in Wr:Y.call(Wr,va)))return!1}var xl=ks.get(an);if(xl&&ks.get(Wr))return xl==Wr;var ms=!0;ks.set(an,Wr),ks.set(Wr,an);for(var Jl=Vs;++za<xo;){va=si[za];var Uo=an[va],Dr=Wr[va];if(ni)var Zl=Vs?ni(Dr,Uo,va,Wr,an,ks):ni(Uo,Dr,va,an,Wr,ks);if(!(Zl===void 0?Uo===Dr||ri(Uo,Dr,ni,vo,ks):Zl)){ms=!1;break}Jl||(Jl=va=="constructor")}if(ms&&!Jl){var wl=an.constructor,Da=Wr.constructor;wl==Da||!("constructor"in an)||!("constructor"in Wr)||typeof wl=="function"&&wl instanceof wl&&typeof Da=="function"&&Da instanceof Da||(ms=!1)}return ks.delete(an),ks.delete(Wr),ms}(Ht,Vt,Tr,vr,Nr,ir)):!1}(ke,Ge,ur,mt,Et,Yt))}function er(ke){return!(!et(ke)||function(Ge){return!!M&&M in Ge}(ke))&&(ot(ke)||U(ke)?V:y).test(rt(ke))}function Sr(ke){return typeof ke=="function"?ke:ke==null?Rt:typeof ke=="object"?Re(ke)?function(Et,Yt){return Lt(Et)&&Er(Yt)?Cr(qe(Et),Yt):function(Ht){var Vt=function(Tr,vr,Nr){var ir=Tr==null?void 0:Tt(Tr,vr);return ir===void 0?Nr:ir}(Ht,Et);return Vt===void 0&&Vt===Yt?function(Tr,vr){return Tr!=null&&function(Nr,ir,_r){ir=Lt(ir,Nr)?[ir]:Wt(ir);for(var nn,sn=-1,An=ir.length;++sn<An;){var Vn=qe(ir[sn]);if(!(nn=Nr!=null&&_r(Nr,Vn)))break;Nr=Nr[Vn]}return nn||!!(An=Nr?Nr.length:0)&&Ke(An)&&Lr(Vn,An)&&(Re(Nr)||Pe(Nr))}(Tr,vr,fr)}(Ht,Et):ur(Yt,Vt,void 0,3)}}(ke[0],ke[1]):function(Et){var Yt=function(Ht){for(var Vt=zt(Ht),Tr=Vt.length;Tr--;){var vr=Vt[Tr],Nr=Ht[vr];Vt[Tr]=[vr,Nr,Er(Nr)]}return Vt}(Et);return Yt.length==1&&Yt[0][2]?Cr(Yt[0][0],Yt[0][1]):function(Ht){return Ht===Et||function(Vt,Tr,vr,Nr){var ir=vr.length,_r=ir;if(Vt==null)return!_r;for(Vt=Object(Vt);ir--;){var nn=vr[ir];if(nn[2]?nn[1]!==Vt[nn[0]]:!(nn[0]in Vt))return!1}for(;++ir<_r;){var sn=(nn=vr[ir])[0],An=Vt[sn],Vn=nn[1];if(nn[2]){if(An===void 0&&!(sn in Vt))return!1}else{var Ms=new ze,as;if(!(as===void 0?ur(Vn,An,Nr,3,Ms):as))return!1}}return!0}(Ht,Et,Yt)}}(ke):Lt(Ge=ke)?(mt=qe(Ge),function(Et){return Et==null?void 0:Et[mt]}):function(Et){return function(Yt){return Tt(Yt,Et)}}(Ge);var Ge,mt}function tr(ke){if(mt=(Ge=ke)&&Ge.constructor,Et=typeof mt=="function"&&mt.prototype||B,Ge!==Et)return re(ke);var Ge,mt,Et,Yt=[];for(var Ht in Object(ke))Y.call(ke,Ht)&&Ht!="constructor"&&Yt.push(Ht);return Yt}function Wt(ke){return Re(ke)?ke:lr(ke)}function or(ke,Ge,mt,Et,Yt,Ht){var Vt=2&Yt,Tr=ke.length,vr=Ge.length;if(Tr!=vr&&!(Vt&&vr>Tr))return!1;var Nr=Ht.get(ke);if(Nr&&Ht.get(Ge))return Nr==Ge;var ir=-1,_r=!0,nn=1&Yt?new at:void 0;for(Ht.set(ke,Ge),Ht.set(Ge,ke);++ir<Tr;){var sn=ke[ir],An=Ge[ir];if(Et)var Vn=Vt?Et(An,sn,ir,Ge,ke,Ht):Et(sn,An,ir,ke,Ge,Ht);if(Vn!==void 0){if(Vn)continue;_r=!1;break}if(nn){if(!H(Ge,function(Ms,as){if(!nn.has(as)&&(sn===Ms||mt(sn,Ms,Et,Yt,Ht)))return nn.add(as)})){_r=!1;break}}else if(sn!==An&&!mt(sn,An,Et,Yt,Ht)){_r=!1;break}}return Ht.delete(ke),Ht.delete(Ge),_r}function Ir(ke,Ge){var mt,Et,Yt=ke.__data__;return((Et=typeof(mt=Ge))=="string"||Et=="number"||Et=="symbol"||Et=="boolean"?mt!=="__proto__":mt===null)?Yt[typeof Ge=="string"?"string":"hash"]:Yt.map}function Jt(ke,Ge){var mt=function(Et,Yt){return Et==null?void 0:Et[Yt]}(ke,Ge);return er(mt)?mt:void 0}var wr=function(ke){return J.call(ke)};function Lr(ke,Ge){return!!(Ge=Ge??9007199254740991)&&(typeof ke=="number"||g.test(ke))&&ke>-1&&ke%1==0&&ke<Ge}function Lt(ke,Ge){if(Re(ke))return!1;var mt=typeof ke;return!(mt!="number"&&mt!="symbol"&&mt!="boolean"&&ke!=null&&!Nt(ke))||p.test(ke)||!d.test(ke)||Ge!=null&&ke in Object(Ge)}function Er(ke){return ke==ke&&!et(ke)}function Cr(ke,Ge){return function(mt){return mt!=null&&mt[ke]===Ge&&(Ge!==void 0||ke in Object(mt))}}(le&&wr(new le(new ArrayBuffer(1)))!="[object DataView]"||ue&&wr(new ue)!=u||ce&&wr(ce.resolve())!="[object Promise]"||ie&&wr(new ie)!=l||ye&&wr(new ye)!="[object WeakMap]")&&(wr=function(ke){var Ge=J.call(ke),mt=Ge==c?ke.constructor:void 0,Et=mt?rt(mt):void 0;if(Et)switch(Et){case pe:return"[object DataView]";case xe:return u;case Oe:return"[object Promise]";case Ae:return l;case Le:return"[object WeakMap]"}return Ge});var lr=Se(function(ke){var Ge;ke=(Ge=ke)==null?"":function(Et){if(typeof Et=="string")return Et;if(Nt(Et))return it?it.call(Et):"";var Yt=Et+"";return Yt=="0"&&1/Et==-1/0?"-0":Yt}(Ge);var mt=[];return h.test(ke)&&mt.push(""),ke.replace(f,function(Et,Yt,Ht,Vt){mt.push(Ht?Vt.replace(b,"$1"):Yt||Et)}),mt});function qe(ke){if(typeof ke=="string"||Nt(ke))return ke;var Ge=ke+"";return Ge=="0"&&1/ke==-1/0?"-0":Ge}function rt(ke){if(ke!=null){try{return G.call(ke)}catch{}try{return ke+""}catch{}}return""}var fe,Ee=(fe=function(ke,Ge,mt){Y.call(ke,mt)?ke[mt].push(Ge):ke[mt]=[Ge]},function(ke,Ge){var mt=Re(ke)?O:kt,Et={};return mt(ke,fe,Sr(Ge),Et)});function Se(ke,Ge){if(typeof ke!="function"||Ge&&typeof Ge!="function")throw new TypeError("Expected a function");var mt=function(){var Et=arguments,Yt=Ge?Ge.apply(this,Et):Et[0],Ht=mt.cache;if(Ht.has(Yt))return Ht.get(Yt);var Vt=ke.apply(this,Et);return mt.cache=Ht.set(Yt,Vt),Vt};return mt.cache=new(Se.Cache||$e),mt}function we(ke,Ge){return ke===Ge||ke!=ke&&Ge!=Ge}function Pe(ke){return function(Ge){return ct(Ge)&&Ve(Ge)}(ke)&&Y.call(ke,"callee")&&(!z.call(ke,"callee")||J.call(ke)==o)}Se.Cache=$e;var Re=Array.isArray;function Ve(ke){return ke!=null&&Ke(ke.length)&&!ot(ke)}function ot(ke){var Ge=et(ke)?J.call(ke):"";return Ge=="[object Function]"||Ge=="[object GeneratorFunction]"}function Ke(ke){return typeof ke=="number"&&ke>-1&&ke%1==0&&ke<=9007199254740991}function et(ke){var Ge=typeof ke;return!!ke&&(Ge=="object"||Ge=="function")}function ct(ke){return!!ke&&typeof ke=="object"}function Nt(ke){return typeof ke=="symbol"||ct(ke)&&J.call(ke)=="[object Symbol]"}var Ft=L?function(ke){return function(Ge){return ke(Ge)}}(L):function(ke){return ct(ke)&&Ke(ke.length)&&!!x[J.call(ke)]};function zt(ke){return Ve(ke)?wt(ke):tr(ke)}function Rt(ke){return ke}s.exports=Ee}).call(this)}).call(this,typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,s,a){var i=Object.prototype.toString;s.exports=function(o){return o===!0||o===!1||function(u){return!!u&&typeof u=="object"}(o)&&i.call(o)=="[object Boolean]"}},{}],445:[function(e,s,a){(function(i){(function(){var o="[object Arguments]",u="[object Map]",c="[object Object]",l="[object Set]",d=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h[o]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h["[object Function]"]=h[u]=h["[object Number]"]=h[c]=h["[object RegExp]"]=h[l]=h["[object String]"]=h["[object WeakMap]"]=!1;var f=typeof i=="object"&&i&&i.Object===Object&&i,b=typeof self=="object"&&self&&self.Object===Object&&self,y=f||b||Function("return this")(),g=typeof a=="object"&&a&&!a.nodeType&&a,x=g&&typeof s=="object"&&s&&!s.nodeType&&s,v=x&&x.exports===g,w=v&&f.process,S=function(){try{return w&&w.binding&&w.binding("util")}catch{}}(),D=S&&S.isTypedArray;function T(qe,rt){for(var fe=-1,Ee=qe==null?0:qe.length;++fe<Ee;)if(rt(qe[fe],fe,qe))return!0;return!1}function R(qe){var rt=-1,fe=Array(qe.size);return qe.forEach(function(Ee,Se){fe[++rt]=[Se,Ee]}),fe}function P(qe){var rt=-1,fe=Array(qe.size);return qe.forEach(function(Ee){fe[++rt]=Ee}),fe}var L,O,H,U=Array.prototype,I=Function.prototype,F=Object.prototype,A=y["__core-js_shared__"],_=I.toString,E=F.hasOwnProperty,N=(L=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+L:"",k=F.toString,B=RegExp("^"+_.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=v?y.Buffer:void 0,M=y.Symbol,G=y.Uint8Array,Y=F.propertyIsEnumerable,J=U.splice,V=M?M.toStringTag:void 0,Q=Object.getOwnPropertySymbols,q=j?j.isBuffer:void 0,z=(O=Object.keys,H=Object,function(qe){return O(H(qe))}),Z=fr(y,"DataView"),re=fr(y,"Map"),le=fr(y,"Promise"),ue=fr(y,"Set"),ce=fr(y,"WeakMap"),ie=fr(Object,"create"),ye=tr(Z),he=tr(re),pe=tr(le),xe=tr(ue),Oe=tr(ce),Ae=M?M.prototype:void 0,Le=Ae?Ae.valueOf:void 0;function He(qe){var rt=-1,fe=qe==null?0:qe.length;for(this.clear();++rt<fe;){var Ee=qe[rt];this.set(Ee[0],Ee[1])}}function Ye(qe){var rt=-1,fe=qe==null?0:qe.length;for(this.clear();++rt<fe;){var Ee=qe[rt];this.set(Ee[0],Ee[1])}}function it(qe){var rt=-1,fe=qe==null?0:qe.length;for(this.clear();++rt<fe;){var Ee=qe[rt];this.set(Ee[0],Ee[1])}}function bt(qe){var rt=-1,fe=qe==null?0:qe.length;for(this.__data__=new it;++rt<fe;)this.add(qe[rt])}function tt(qe){var rt=this.__data__=new Ye(qe);this.size=rt.size}function $e(qe,rt){var fe=Ir(qe),Ee=!fe&&or(qe),Se=!fe&&!Ee&&Jt(qe),we=!fe&&!Ee&&!Se&&Cr(qe),Pe=fe||Ee||Se||we,Re=Pe?function(Ke,et){for(var ct=-1,Nt=Array(Ke);++ct<Ke;)Nt[ct]=et(ct);return Nt}(qe.length,String):[],Ve=Re.length;for(var ot in qe)!E.call(qe,ot)||Pe&&(ot=="length"||Se&&(ot=="offset"||ot=="parent")||we&&(ot=="buffer"||ot=="byteLength"||ot=="byteOffset")||Sr(ot,Ve))||Re.push(ot);return Re}function at(qe,rt){for(var fe=qe.length;fe--;)if(Wt(qe[fe][0],rt))return fe;return-1}function ze(qe){return qe==null?qe===void 0?"[object Undefined]":"[object Null]":V&&V in Object(qe)?function(rt){var fe=E.call(rt,V),Ee=rt[V];try{rt[V]=void 0;var Se=!0}catch{}var we=k.call(rt);return Se&&(fe?rt[V]=Ee:delete rt[V]),we}(qe):function(rt){return k.call(rt)}(qe)}function wt(qe){return Er(qe)&&ze(qe)==o}function vt(qe,rt,fe,Ee,Se){return qe===rt||(qe==null||rt==null||!Er(qe)&&!Er(rt)?qe!=qe&&rt!=rt:function(we,Pe,Re,Ve,ot,Ke){var et=Ir(we),ct=Ir(Pe),Nt=et?"[object Array]":er(we),Ft=ct?"[object Array]":er(Pe),zt=(Nt=Nt==o?c:Nt)==c,Rt=(Ft=Ft==o?c:Ft)==c,ke=Nt==Ft;if(ke&&Jt(we)){if(!Jt(Pe))return!1;et=!0,zt=!1}if(ke&&!zt)return Ke||(Ke=new tt),et||Cr(we)?At(we,Pe,Re,Ve,ot,Ke):function(Ht,Vt,Tr,vr,Nr,ir,_r){switch(Tr){case"[object DataView]":if(Ht.byteLength!=Vt.byteLength||Ht.byteOffset!=Vt.byteOffset)return!1;Ht=Ht.buffer,Vt=Vt.buffer;case"[object ArrayBuffer]":return!(Ht.byteLength!=Vt.byteLength||!ir(new G(Ht),new G(Vt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Wt(+Ht,+Vt);case"[object Error]":return Ht.name==Vt.name&&Ht.message==Vt.message;case"[object RegExp]":case"[object String]":return Ht==Vt+"";case u:var nn=R;case l:var sn=1&vr;if(nn||(nn=P),Ht.size!=Vt.size&&!sn)return!1;var An=_r.get(Ht);if(An)return An==Vt;vr|=2,_r.set(Ht,Vt);var Vn=At(nn(Ht),nn(Vt),vr,Nr,ir,_r);return _r.delete(Ht),Vn;case"[object Symbol]":if(Le)return Le.call(Ht)==Le.call(Vt)}return!1}(we,Pe,Nt,Re,Ve,ot,Ke);if(!(1&Re)){var Ge=zt&&E.call(we,"__wrapped__"),mt=Rt&&E.call(Pe,"__wrapped__");if(Ge||mt){var Et=Ge?we.value():we,Yt=mt?Pe.value():Pe;return Ke||(Ke=new tt),ot(Et,Yt,Re,Ve,Ke)}}return ke?(Ke||(Ke=new tt),function(Ht,Vt,Tr,vr,Nr,ir){var _r=1&Tr,nn=$t(Ht),sn=nn.length,An=$t(Vt).length;if(sn!=An&&!_r)return!1;for(var Vn=sn;Vn--;){var Ms=nn[Vn];if(!(_r?Ms in Vt:E.call(Vt,Ms)))return!1}var as=ir.get(Ht);if(as&&ir.get(Vt))return as==Vt;var sa=!0;ir.set(Ht,Vt),ir.set(Vt,Ht);for(var Xn=_r;++Vn<sn;){Ms=nn[Vn];var vi=Ht[Ms],xi=Vt[Ms];if(vr)var an=_r?vr(xi,vi,Ms,Vt,Ht,ir):vr(vi,xi,Ms,Ht,Vt,ir);if(!(an===void 0?vi===xi||Nr(vi,xi,Tr,vr,ir):an)){sa=!1;break}Xn||(Xn=Ms=="constructor")}if(sa&&!Xn){var Wr=Ht.constructor,ri=Vt.constructor;Wr==ri||!("constructor"in Ht)||!("constructor"in Vt)||typeof Wr=="function"&&Wr instanceof Wr&&typeof ri=="function"&&ri instanceof ri||(sa=!1)}return ir.delete(Ht),ir.delete(Vt),sa}(we,Pe,Re,Ve,ot,Ke)):!1}(qe,rt,fe,Ee,vt,Se))}function kt(qe){return!(!Lt(qe)||function(rt){return!!N&&N in rt}(qe))&&(wr(qe)?B:d).test(tr(qe))}function pt(qe){if(fe=(rt=qe)&&rt.constructor,Ee=typeof fe=="function"&&fe.prototype||F,rt!==Ee)return z(qe);var rt,fe,Ee,Se=[];for(var we in Object(qe))E.call(qe,we)&&we!="constructor"&&Se.push(we);return Se}function At(qe,rt,fe,Ee,Se,we){var Pe=1&fe,Re=qe.length,Ve=rt.length;if(Re!=Ve&&!(Pe&&Ve>Re))return!1;var ot=we.get(qe);if(ot&&we.get(rt))return ot==rt;var Ke=-1,et=!0,ct=2&fe?new bt:void 0;for(we.set(qe,rt),we.set(rt,qe);++Ke<Re;){var Nt=qe[Ke],Ft=rt[Ke];if(Ee)var zt=Pe?Ee(Ft,Nt,Ke,rt,qe,we):Ee(Nt,Ft,Ke,qe,rt,we);if(zt!==void 0){if(zt)continue;et=!1;break}if(ct){if(!T(rt,function(Rt,ke){if(Ge=ke,!ct.has(Ge)&&(Nt===Rt||Se(Nt,Rt,fe,Ee,we)))return ct.push(ke);var Ge})){et=!1;break}}else if(Nt!==Ft&&!Se(Nt,Ft,fe,Ee,we)){et=!1;break}}return we.delete(qe),we.delete(rt),et}function $t(qe){return function(rt,fe,Ee){var Se=fe(rt);return Ir(rt)?Se:function(we,Pe){for(var Re=-1,Ve=Pe.length,ot=we.length;++Re<Ve;)we[ot+Re]=Pe[Re];return we}(Se,Ee(rt))}(qe,lr,ur)}function Tt(qe,rt){var fe,Ee,Se=qe.__data__;return((Ee=typeof(fe=rt))=="string"||Ee=="number"||Ee=="symbol"||Ee=="boolean"?fe!=="__proto__":fe===null)?Se[typeof rt=="string"?"string":"hash"]:Se.map}function fr(qe,rt){var fe=function(Ee,Se){return Ee==null?void 0:Ee[Se]}(qe,rt);return kt(fe)?fe:void 0}He.prototype.clear=function(){this.__data__=ie?ie(null):{},this.size=0},He.prototype.delete=function(qe){var rt=this.has(qe)&&delete this.__data__[qe];return this.size-=rt?1:0,rt},He.prototype.get=function(qe){var rt=this.__data__;if(ie){var fe=rt[qe];return fe==="__lodash_hash_undefined__"?void 0:fe}return E.call(rt,qe)?rt[qe]:void 0},He.prototype.has=function(qe){var rt=this.__data__;return ie?rt[qe]!==void 0:E.call(rt,qe)},He.prototype.set=function(qe,rt){var fe=this.__data__;return this.size+=this.has(qe)?0:1,fe[qe]=ie&&rt===void 0?"__lodash_hash_undefined__":rt,this},Ye.prototype.clear=function(){this.__data__=[],this.size=0},Ye.prototype.delete=function(qe){var rt=this.__data__,fe=at(rt,qe);return!(fe<0)&&(fe==rt.length-1?rt.pop():J.call(rt,fe,1),--this.size,!0)},Ye.prototype.get=function(qe){var rt=this.__data__,fe=at(rt,qe);return fe<0?void 0:rt[fe][1]},Ye.prototype.has=function(qe){return at(this.__data__,qe)>-1},Ye.prototype.set=function(qe,rt){var fe=this.__data__,Ee=at(fe,qe);return Ee<0?(++this.size,fe.push([qe,rt])):fe[Ee][1]=rt,this},it.prototype.clear=function(){this.size=0,this.__data__={hash:new He,map:new(re||Ye),string:new He}},it.prototype.delete=function(qe){var rt=Tt(this,qe).delete(qe);return this.size-=rt?1:0,rt},it.prototype.get=function(qe){return Tt(this,qe).get(qe)},it.prototype.has=function(qe){return Tt(this,qe).has(qe)},it.prototype.set=function(qe,rt){var fe=Tt(this,qe),Ee=fe.size;return fe.set(qe,rt),this.size+=fe.size==Ee?0:1,this},bt.prototype.add=bt.prototype.push=function(qe){return this.__data__.set(qe,"__lodash_hash_undefined__"),this},bt.prototype.has=function(qe){return this.__data__.has(qe)},tt.prototype.clear=function(){this.__data__=new Ye,this.size=0},tt.prototype.delete=function(qe){var rt=this.__data__,fe=rt.delete(qe);return this.size=rt.size,fe},tt.prototype.get=function(qe){return this.__data__.get(qe)},tt.prototype.has=function(qe){return this.__data__.has(qe)},tt.prototype.set=function(qe,rt){var fe=this.__data__;if(fe instanceof Ye){var Ee=fe.__data__;if(!re||Ee.length<199)return Ee.push([qe,rt]),this.size=++fe.size,this;fe=this.__data__=new it(Ee)}return fe.set(qe,rt),this.size=fe.size,this};var ur=Q?function(qe){return qe==null?[]:(qe=Object(qe),function(rt,fe){for(var Ee=-1,Se=rt==null?0:rt.length,we=0,Pe=[];++Ee<Se;){var Re=rt[Ee];fe(Re,Ee,rt)&&(Pe[we++]=Re)}return Pe}(Q(qe),function(rt){return Y.call(qe,rt)}))}:function(){return[]},er=ze;function Sr(qe,rt){return!!(rt=rt??9007199254740991)&&(typeof qe=="number"||p.test(qe))&&qe>-1&&qe%1==0&&qe<rt}function tr(qe){if(qe!=null){try{return _.call(qe)}catch{}try{return qe+""}catch{}}return""}function Wt(qe,rt){return qe===rt||qe!=qe&&rt!=rt}(Z&&er(new Z(new ArrayBuffer(1)))!="[object DataView]"||re&&er(new re)!=u||le&&er(le.resolve())!="[object Promise]"||ue&&er(new ue)!=l||ce&&er(new ce)!="[object WeakMap]")&&(er=function(qe){var rt=ze(qe),fe=rt==c?qe.constructor:void 0,Ee=fe?tr(fe):"";if(Ee)switch(Ee){case ye:return"[object DataView]";case he:return u;case pe:return"[object Promise]";case xe:return l;case Oe:return"[object WeakMap]"}return rt});var or=wt(function(){return arguments}())?wt:function(qe){return Er(qe)&&E.call(qe,"callee")&&!Y.call(qe,"callee")},Ir=Array.isArray,Jt=q||function(){return!1};function wr(qe){if(!Lt(qe))return!1;var rt=ze(qe);return rt=="[object Function]"||rt=="[object GeneratorFunction]"||rt=="[object AsyncFunction]"||rt=="[object Proxy]"}function Lr(qe){return typeof qe=="number"&&qe>-1&&qe%1==0&&qe<=9007199254740991}function Lt(qe){var rt=typeof qe;return qe!=null&&(rt=="object"||rt=="function")}function Er(qe){return qe!=null&&typeof qe=="object"}var Cr=D?function(qe){return function(rt){return qe(rt)}}(D):function(qe){return Er(qe)&&Lr(qe.length)&&!!h[ze(qe)]};function lr(qe){return(rt=qe)!=null&&Lr(rt.length)&&!wr(rt)?$e(qe):pt(qe);var rt}s.exports=function(qe,rt){return vt(qe,rt)}}).call(this)}).call(this,typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,s,a){(function(i){(function(){var o=typeof i=="object"&&i&&i.Object===Object&&i,u=typeof self=="object"&&self&&self.Object===Object&&self,c=o||u||Function("return this")(),l=Object.prototype,d=l.hasOwnProperty,p=l.toString,h=c.Symbol,f=h?h.toStringTag:void 0;function b(y){return y==null?y===void 0?"[object Undefined]":"[object Null]":f&&f in Object(y)?function(g){var x=d.call(g,f),v=g[f];try{g[f]=void 0;var w=!0}catch{}var S=p.call(g);return w&&(x?g[f]=v:delete g[f]),S}(y):function(g){return p.call(g)}(y)}s.exports=function(y){if(!function(x){var v=typeof x;return x!=null&&(v=="object"||v=="function")}(y))return!1;var g=b(y);return g=="[object Function]"||g=="[object GeneratorFunction]"||g=="[object AsyncFunction]"||g=="[object Proxy]"}}).call(this)}).call(this,typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,s,a){s.exports=function(i){return i==null}},{}],448:[function(e,s,a){s.exports=function(i){return i===void 0}},{}],449:[function(e,s,a){(function(i){(function(){var o=/^\[object .+?Constructor\]$/,u=typeof i=="object"&&i&&i.Object===Object&&i,c=typeof self=="object"&&self&&self.Object===Object&&self,l=u||c||Function("return this")();function d(M,G){return!!(M&&M.length)&&function(Y,J,V){if(J!=J)return function(z,Z,re,le){for(var ue=z.length,ce=re+-1;++ce<ue;)if(Z(z[ce],ce,z))return ce;return-1}(Y,p,V);for(var Q=V-1,q=Y.length;++Q<q;)if(Y[Q]===J)return Q;return-1}(M,G,0)>-1}function p(M){return M!=M}function h(M,G){return M.has(G)}function f(M){var G=-1,Y=Array(M.size);return M.forEach(function(J){Y[++G]=J}),Y}var b,y=Array.prototype,g=Function.prototype,x=Object.prototype,v=l["__core-js_shared__"],w=(b=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",S=g.toString,D=x.hasOwnProperty,T=x.toString,R=RegExp("^"+S.call(D).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=y.splice,L=B(l,"Map"),O=B(l,"Set"),H=B(Object,"create");function U(M){var G=-1,Y=M?M.length:0;for(this.clear();++G<Y;){var J=M[G];this.set(J[0],J[1])}}function I(M){var G=-1,Y=M?M.length:0;for(this.clear();++G<Y;){var J=M[G];this.set(J[0],J[1])}}function F(M){var G=-1,Y=M?M.length:0;for(this.clear();++G<Y;){var J=M[G];this.set(J[0],J[1])}}function A(M){var G=-1,Y=M?M.length:0;for(this.__data__=new F;++G<Y;)this.add(M[G])}function _(M,G){for(var Y,J,V=M.length;V--;)if((Y=M[V][0])===(J=G)||Y!=Y&&J!=J)return V;return-1}function E(M){return!(!j(M)||(G=M,w&&w in G))&&(function(Y){var J=j(Y)?T.call(Y):"";return J=="[object Function]"||J=="[object GeneratorFunction]"}(M)||function(Y){var J=!1;if(Y!=null&&typeof Y.toString!="function")try{J=!!(Y+"")}catch{}return J}(M)?R:o).test(function(Y){if(Y!=null){try{return S.call(Y)}catch{}try{return Y+""}catch{}}return""}(M));var G}U.prototype.clear=function(){this.__data__=H?H(null):{}},U.prototype.delete=function(M){return this.has(M)&&delete this.__data__[M]},U.prototype.get=function(M){var G=this.__data__;if(H){var Y=G[M];return Y==="__lodash_hash_undefined__"?void 0:Y}return D.call(G,M)?G[M]:void 0},U.prototype.has=function(M){var G=this.__data__;return H?G[M]!==void 0:D.call(G,M)},U.prototype.set=function(M,G){return this.__data__[M]=H&&G===void 0?"__lodash_hash_undefined__":G,this},I.prototype.clear=function(){this.__data__=[]},I.prototype.delete=function(M){var G=this.__data__,Y=_(G,M);return!(Y<0)&&(Y==G.length-1?G.pop():P.call(G,Y,1),!0)},I.prototype.get=function(M){var G=this.__data__,Y=_(G,M);return Y<0?void 0:G[Y][1]},I.prototype.has=function(M){return _(this.__data__,M)>-1},I.prototype.set=function(M,G){var Y=this.__data__,J=_(Y,M);return J<0?Y.push([M,G]):Y[J][1]=G,this},F.prototype.clear=function(){this.__data__={hash:new U,map:new(L||I),string:new U}},F.prototype.delete=function(M){return k(this,M).delete(M)},F.prototype.get=function(M){return k(this,M).get(M)},F.prototype.has=function(M){return k(this,M).has(M)},F.prototype.set=function(M,G){return k(this,M).set(M,G),this},A.prototype.add=A.prototype.push=function(M){return this.__data__.set(M,"__lodash_hash_undefined__"),this},A.prototype.has=function(M){return this.__data__.has(M)};var N=O&&1/f(new O([,-0]))[1]==1/0?function(M){return new O(M)}:function(){};function k(M,G){var Y,J,V=M.__data__;return((J=typeof(Y=G))=="string"||J=="number"||J=="symbol"||J=="boolean"?Y!=="__proto__":Y===null)?V[typeof G=="string"?"string":"hash"]:V.map}function B(M,G){var Y=function(J,V){return J==null?void 0:J[V]}(M,G);return E(Y)?Y:void 0}function j(M){var G=typeof M;return!!M&&(G=="object"||G=="function")}s.exports=function(M){return M&&M.length?function(G,Y,J){var V=-1,Q=d,q=G.length,z=!0,Z=[],re=Z;if(q>=200){var le=N(G);if(le)return f(le);z=!1,Q=h,re=new A}else re=Z;e:for(;++V<q;){var ue=G[V],ce=ue;if(ue=ue!==0?ue:0,z&&ce==ce){for(var ie=re.length;ie--;)if(re[ie]===ce)continue e;Z.push(ue)}else Q(re,ce,J)||(re!==Z&&re.push(ce),Z.push(ue))}return Z}(M):[]}}).call(this)}).call(this,typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,s,a){var i=e("inherits"),o=e("hash-base"),u=e("safe-buffer").Buffer,c=new Array(16);function l(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function d(y,g){return y<<g|y>>>32-g}function p(y,g,x,v,w,S,D){return d(y+(g&x|~g&v)+w+S|0,D)+g|0}function h(y,g,x,v,w,S,D){return d(y+(g&v|x&~v)+w+S|0,D)+g|0}function f(y,g,x,v,w,S,D){return d(y+(g^x^v)+w+S|0,D)+g|0}function b(y,g,x,v,w,S,D){return d(y+(x^(g|~v))+w+S|0,D)+g|0}i(l,o),l.prototype._update=function(){for(var y=c,g=0;g<16;++g)y[g]=this._block.readInt32LE(4*g);var x=this._a,v=this._b,w=this._c,S=this._d;x=p(x,v,w,S,y[0],3614090360,7),S=p(S,x,v,w,y[1],3905402710,12),w=p(w,S,x,v,y[2],606105819,17),v=p(v,w,S,x,y[3],3250441966,22),x=p(x,v,w,S,y[4],4118548399,7),S=p(S,x,v,w,y[5],1200080426,12),w=p(w,S,x,v,y[6],2821735955,17),v=p(v,w,S,x,y[7],4249261313,22),x=p(x,v,w,S,y[8],1770035416,7),S=p(S,x,v,w,y[9],2336552879,12),w=p(w,S,x,v,y[10],4294925233,17),v=p(v,w,S,x,y[11],2304563134,22),x=p(x,v,w,S,y[12],1804603682,7),S=p(S,x,v,w,y[13],4254626195,12),w=p(w,S,x,v,y[14],2792965006,17),x=h(x,v=p(v,w,S,x,y[15],1236535329,22),w,S,y[1],4129170786,5),S=h(S,x,v,w,y[6],3225465664,9),w=h(w,S,x,v,y[11],643717713,14),v=h(v,w,S,x,y[0],3921069994,20),x=h(x,v,w,S,y[5],3593408605,5),S=h(S,x,v,w,y[10],38016083,9),w=h(w,S,x,v,y[15],3634488961,14),v=h(v,w,S,x,y[4],3889429448,20),x=h(x,v,w,S,y[9],568446438,5),S=h(S,x,v,w,y[14],3275163606,9),w=h(w,S,x,v,y[3],4107603335,14),v=h(v,w,S,x,y[8],1163531501,20),x=h(x,v,w,S,y[13],2850285829,5),S=h(S,x,v,w,y[2],4243563512,9),w=h(w,S,x,v,y[7],1735328473,14),x=f(x,v=h(v,w,S,x,y[12],2368359562,20),w,S,y[5],4294588738,4),S=f(S,x,v,w,y[8],2272392833,11),w=f(w,S,x,v,y[11],1839030562,16),v=f(v,w,S,x,y[14],4259657740,23),x=f(x,v,w,S,y[1],2763975236,4),S=f(S,x,v,w,y[4],1272893353,11),w=f(w,S,x,v,y[7],4139469664,16),v=f(v,w,S,x,y[10],3200236656,23),x=f(x,v,w,S,y[13],681279174,4),S=f(S,x,v,w,y[0],3936430074,11),w=f(w,S,x,v,y[3],3572445317,16),v=f(v,w,S,x,y[6],76029189,23),x=f(x,v,w,S,y[9],3654602809,4),S=f(S,x,v,w,y[12],3873151461,11),w=f(w,S,x,v,y[15],530742520,16),x=b(x,v=f(v,w,S,x,y[2],3299628645,23),w,S,y[0],4096336452,6),S=b(S,x,v,w,y[7],1126891415,10),w=b(w,S,x,v,y[14],2878612391,15),v=b(v,w,S,x,y[5],4237533241,21),x=b(x,v,w,S,y[12],1700485571,6),S=b(S,x,v,w,y[3],2399980690,10),w=b(w,S,x,v,y[10],4293915773,15),v=b(v,w,S,x,y[1],2240044497,21),x=b(x,v,w,S,y[8],1873313359,6),S=b(S,x,v,w,y[15],4264355552,10),w=b(w,S,x,v,y[6],2734768916,15),v=b(v,w,S,x,y[13],1309151649,21),x=b(x,v,w,S,y[4],4149444226,6),S=b(S,x,v,w,y[11],3174756917,10),w=b(w,S,x,v,y[2],718787259,15),v=b(v,w,S,x,y[9],3951481745,21),this._a=this._a+x|0,this._b=this._b+v|0,this._c=this._c+w|0,this._d=this._d+S|0},l.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var y=u.allocUnsafe(16);return y.writeInt32LE(this._a,0),y.writeInt32LE(this._b,4),y.writeInt32LE(this._c,8),y.writeInt32LE(this._d,12),y},s.exports=l},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,s,a){var i=e("bn.js"),o=e("brorand");function u(c){this.rand=c||new o.Rand}s.exports=u,u.create=function(c){return new u(c)},u.prototype._randbelow=function(c){var l=c.bitLength(),d=Math.ceil(l/8);do var p=new i(this.rand.generate(d));while(p.cmp(c)>=0);return p},u.prototype._randrange=function(c,l){var d=l.sub(c);return c.add(this._randbelow(d))},u.prototype.test=function(c,l,d){var p=c.bitLength(),h=i.mont(c),f=new i(1).toRed(h);l||(l=Math.max(1,p/48|0));for(var b=c.subn(1),y=0;!b.testn(y);y++);for(var g=c.shrn(y),x=b.toRed(h);l>0;l--){var v=this._randrange(new i(2),b);d&&d(v);var w=v.toRed(h).redPow(g);if(w.cmp(f)!==0&&w.cmp(x)!==0){for(var S=1;S<y;S++){if((w=w.redSqr()).cmp(f)===0)return!1;if(w.cmp(x)===0)break}if(S===y)return!1}}return!0},u.prototype.getDivisor=function(c,l){var d=c.bitLength(),p=i.mont(c),h=new i(1).toRed(p);l||(l=Math.max(1,d/48|0));for(var f=c.subn(1),b=0;!f.testn(b);b++);for(var y=c.shrn(b),g=f.toRed(p);l>0;l--){var x=this._randrange(new i(2),f),v=c.gcd(x);if(v.cmpn(1)!==0)return v;var w=x.toRed(p).redPow(y);if(w.cmp(h)!==0&&w.cmp(g)!==0){for(var S=1;S<b;S++){if((w=w.redSqr()).cmp(h)===0)return w.fromRed().subn(1).gcd(c);if(w.cmp(g)===0)break}if(S===b)return(w=w.redSqr()).fromRed().subn(1).gcd(c)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,s,a){arguments[4][184][0].apply(a,arguments)},{buffer:188,dup:184}],453:[function(e,s,a){function i(o,u){if(!o)throw new Error(u||"Assertion failed")}s.exports=i,i.equal=function(o,u,c){if(o!=u)throw new Error(c||"Assertion failed: "+o+" != "+u)}},{}],454:[function(e,s,a){var i=a;function o(c){return c.length===1?"0"+c:c}function u(c){for(var l="",d=0;d<c.length;d++)l+=o(c[d].toString(16));return l}i.toArray=function(c,l){if(Array.isArray(c))return c.slice();if(!c)return[];var d=[];if(typeof c!="string"){for(var p=0;p<c.length;p++)d[p]=0|c[p];return d}if(l==="hex")for((c=c.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(c="0"+c),p=0;p<c.length;p+=2)d.push(parseInt(c[p]+c[p+1],16));else for(p=0;p<c.length;p++){var h=c.charCodeAt(p),f=h>>8,b=255&h;f?d.push(f,b):d.push(b)}return d},i.zero2=o,i.toHex=u,i.encode=function(c,l){return l==="hex"?u(c):c}},{}],455:[function(e,s,a){s.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,s,a){var i=e("asn1.js");a.certificate=e("./certificate");var o=i.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});a.RSAPrivateKey=o;var u=i.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});a.RSAPublicKey=u;var c=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())});a.PublicKey=c;var l=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),d=i.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(l),this.key("subjectPrivateKey").octstr())});a.PrivateKey=d;var p=i.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});a.EncryptedPrivateKey=p;var h=i.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});a.DSAPrivateKey=h,a.DSAparam=i.define("DSAparam",function(){this.int()});var f=i.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(b),this.key("publicKey").optional().explicit(1).bitstr())});a.ECPrivateKey=f;var b=i.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});a.signature=i.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(e,s,a){var i=e("asn1.js"),o=i.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),u=i.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),c=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),l=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(c),this.key("subjectPublicKey").bitstr())}),d=i.define("RelativeDistinguishedName",function(){this.setof(u)}),p=i.define("RDNSequence",function(){this.seqof(d)}),h=i.define("Name",function(){this.choice({rdnSequence:this.use(p)})}),f=i.define("Validity",function(){this.seq().obj(this.key("notBefore").use(o),this.key("notAfter").use(o))}),b=i.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),y=i.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(c),this.key("issuer").use(h),this.key("validity").use(f),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(l),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(b).optional())}),g=i.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(y),this.key("signatureAlgorithm").use(c),this.key("signatureValue").bitstr())});s.exports=g},{"asn1.js":170}],458:[function(e,s,a){var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,u=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,c=e("evp_bytestokey"),l=e("browserify-aes"),d=e("safe-buffer").Buffer;s.exports=function(p,h){var f,b=p.toString(),y=b.match(i);if(y){var g="aes"+y[1],x=d.from(y[2],"hex"),v=d.from(y[3].replace(/[\r\n]/g,""),"base64"),w=c(h,x.slice(0,8),parseInt(y[1],10)).key,S=[],D=l.createDecipheriv(g,w,x);S.push(D.update(v)),S.push(D.final()),f=d.concat(S)}else{var T=b.match(u);f=d.from(T[2].replace(/[\r\n]/g,""),"base64")}return{tag:b.match(o)[1],data:f}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,s,a){var i=e("./asn1"),o=e("./aesid.json"),u=e("./fixProc"),c=e("browserify-aes"),l=e("pbkdf2"),d=e("safe-buffer").Buffer;function p(h){var f;typeof h!="object"||d.isBuffer(h)||(f=h.passphrase,h=h.key),typeof h=="string"&&(h=d.from(h));var b,y,g=u(h,f),x=g.tag,v=g.data;switch(x){case"CERTIFICATE":y=i.certificate.decode(v,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(y||(y=i.PublicKey.decode(v,"der")),b=y.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(y.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return y.subjectPrivateKey=y.subjectPublicKey,{type:"ec",data:y};case"1.2.840.10040.4.1":return y.algorithm.params.pub_key=i.DSAparam.decode(y.subjectPublicKey.data,"der"),{type:"dsa",data:y.algorithm.params};default:throw new Error("unknown key id "+b)}case"ENCRYPTED PRIVATE KEY":v=function(w,S){var D=w.algorithm.decrypt.kde.kdeparams.salt,T=parseInt(w.algorithm.decrypt.kde.kdeparams.iters.toString(),10),R=o[w.algorithm.decrypt.cipher.algo.join(".")],P=w.algorithm.decrypt.cipher.iv,L=w.subjectPrivateKey,O=parseInt(R.split("-")[1],10)/8,H=l.pbkdf2Sync(S,D,T,O,"sha1"),U=c.createDecipheriv(R,H,P),I=[];return I.push(U.update(L)),I.push(U.final()),d.concat(I)}(v=i.EncryptedPrivateKey.decode(v,"der"),f);case"PRIVATE KEY":switch(b=(y=i.PrivateKey.decode(v,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(y.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:y.algorithm.curve,privateKey:i.ECPrivateKey.decode(y.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return y.algorithm.params.priv_key=i.DSAparam.decode(y.subjectPrivateKey,"der"),{type:"dsa",params:y.algorithm.params};default:throw new Error("unknown key id "+b)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(v,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(v,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(v,"der")};case"EC PRIVATE KEY":return{curve:(v=i.ECPrivateKey.decode(v,"der")).parameters.value,privateKey:v.privateKey};default:throw new Error("unknown key type "+x)}}s.exports=p,p.signature=i.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,s,a){a.pbkdf2=e("./lib/async"),a.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,s,a){(function(i){(function(){var o,u,c=e("safe-buffer").Buffer,l=e("./precondition"),d=e("./default-encoding"),p=e("./sync"),h=e("./to-buffer"),f=i.crypto&&i.crypto.subtle,b={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},y=[];function g(){return u||(u=i.process&&i.process.nextTick?i.process.nextTick:i.queueMicrotask?i.queueMicrotask:i.setImmediate?i.setImmediate:i.setTimeout)}function x(v,w,S,D,T){return f.importKey("raw",v,{name:"PBKDF2"},!1,["deriveBits"]).then(function(R){return f.deriveBits({name:"PBKDF2",salt:w,iterations:S,hash:{name:T}},R,D<<3)}).then(function(R){return c.from(R)})}s.exports=function(v,w,S,D,T,R){typeof T=="function"&&(R=T,T=void 0);var P=b[(T=T||"sha1").toLowerCase()];if(P&&typeof i.Promise=="function"){if(l(S,D),v=h(v,d,"Password"),w=h(w,d,"Salt"),typeof R!="function")throw new Error("No callback provided to pbkdf2");(function(L,O){L.then(function(H){g()(function(){O(null,H)})},function(H){g()(function(){O(H)})})})(function(L){if(i.process&&!i.process.browser||!f||!f.importKey||!f.deriveBits)return Promise.resolve(!1);if(y[L]!==void 0)return y[L];var O=x(o=o||c.alloc(8),o,10,128,L).then(function(){return!0}).catch(function(){return!1});return y[L]=O,O}(P).then(function(L){return L?x(v,w,S,D,P):p(v,w,S,D,T)}),R)}else g()(function(){var L;try{L=p(v,w,S,D,T)}catch(O){return R(O)}R(null,L)})}}).call(this)}).call(this,typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,s,a){(function(i,o){(function(){var u;o.process&&o.process.browser?u="utf-8":o.process&&o.process.version?u=parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":u="utf-8",s.exports=u}).call(this)}).call(this,e("_process"),typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,s,a){var i=Math.pow(2,30)-1;s.exports=function(o,u){if(typeof o!="number")throw new TypeError("Iterations not a number");if(o<0)throw new TypeError("Bad iterations");if(typeof u!="number")throw new TypeError("Key length not a number");if(u<0||u>i||u!=u)throw new TypeError("Bad key length")}},{}],464:[function(e,s,a){var i=e("create-hash/md5"),o=e("ripemd160"),u=e("sha.js"),c=e("safe-buffer").Buffer,l=e("./precondition"),d=e("./default-encoding"),p=e("./to-buffer"),h=c.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function b(y,g,x){var v=function(P){function L(O){return u(P).update(O).digest()}return P==="rmd160"||P==="ripemd160"?function(O){return new o().update(O).digest()}:P==="md5"?i:L}(y),w=y==="sha512"||y==="sha384"?128:64;g.length>w?g=v(g):g.length<w&&(g=c.concat([g,h],w));for(var S=c.allocUnsafe(w+f[y]),D=c.allocUnsafe(w+f[y]),T=0;T<w;T++)S[T]=54^g[T],D[T]=92^g[T];var R=c.allocUnsafe(w+x+4);S.copy(R,0,0,w),this.ipad1=R,this.ipad2=S,this.opad=D,this.alg=y,this.blocksize=w,this.hash=v,this.size=f[y]}b.prototype.run=function(y,g){return y.copy(g,this.blocksize),this.hash(g).copy(this.opad,this.blocksize),this.hash(this.opad)},s.exports=function(y,g,x,v,w){l(x,v);var S=new b(w=w||"sha1",y=p(y,d,"Password"),(g=p(g,d,"Salt")).length),D=c.allocUnsafe(v),T=c.allocUnsafe(g.length+4);g.copy(T,0,0,g.length);for(var R=0,P=f[w],L=Math.ceil(v/P),O=1;O<=L;O++){T.writeUInt32BE(O,g.length);for(var H=S.run(T,S.ipad1),U=H,I=1;I<x;I++){U=S.run(U,S.ipad2);for(var F=0;F<P;F++)H[F]^=U[F]}H.copy(D,R),R+=P}return D}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,s,a){var i=e("safe-buffer").Buffer;s.exports=function(o,u,c){if(i.isBuffer(o))return o;if(typeof o=="string")return i.from(o,u);if(ArrayBuffer.isView(o))return i.from(o.buffer);throw new TypeError(c+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,s,a){(function(i){(function(){i===void 0||!i.version||i.version.indexOf("v0.")===0||i.version.indexOf("v1.")===0&&i.version.indexOf("v1.8.")!==0?s.exports={nextTick:function(o,u,c,l){if(typeof o!="function")throw new TypeError('"callback" argument must be a function');var d,p,h=arguments.length;switch(h){case 0:case 1:return i.nextTick(o);case 2:return i.nextTick(function(){o.call(null,u)});case 3:return i.nextTick(function(){o.call(null,u,c)});case 4:return i.nextTick(function(){o.call(null,u,c,l)});default:for(d=new Array(h-1),p=0;p<d.length;)d[p++]=arguments[p];return i.nextTick(function(){o.apply(null,d)})}}}:s.exports=i}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,s,a){var i,o,u=s.exports={};function c(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function d(w){if(i===setTimeout)return setTimeout(w,0);if((i===c||!i)&&setTimeout)return i=setTimeout,setTimeout(w,0);try{return i(w,0)}catch{try{return i.call(null,w,0)}catch{return i.call(this,w,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:c}catch{i=c}try{o=typeof clearTimeout=="function"?clearTimeout:l}catch{o=l}})();var p,h=[],f=!1,b=-1;function y(){f&&p&&(f=!1,p.length?h=p.concat(h):b=-1,h.length&&g())}function g(){if(!f){var w=d(y);f=!0;for(var S=h.length;S;){for(p=h,h=[];++b<S;)p&&p[b].run();b=-1,S=h.length}p=null,f=!1,function(D){if(o===clearTimeout)return clearTimeout(D);if((o===l||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(D);try{o(D)}catch{try{return o.call(null,D)}catch{return o.call(this,D)}}}(w)}}function x(w,S){this.fun=w,this.array=S}function v(){}u.nextTick=function(w){var S=new Array(arguments.length-1);if(arguments.length>1)for(var D=1;D<arguments.length;D++)S[D-1]=arguments[D];h.push(new x(w,S)),h.length!==1||f||d(g)},x.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=v,u.addListener=v,u.once=v,u.off=v,u.removeListener=v,u.removeAllListeners=v,u.emit=v,u.prependListener=v,u.prependOnceListener=v,u.listeners=function(w){return[]},u.binding=function(w){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(w){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],468:[function(e,s,a){a.publicEncrypt=e("./publicEncrypt"),a.privateDecrypt=e("./privateDecrypt"),a.privateEncrypt=function(i,o){return a.publicEncrypt(i,o,!0)},a.publicDecrypt=function(i,o){return a.privateDecrypt(i,o,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,s,a){var i=e("create-hash"),o=e("safe-buffer").Buffer;function u(c){var l=o.allocUnsafe(4);return l.writeUInt32BE(c,0),l}s.exports=function(c,l){for(var d,p=o.alloc(0),h=0;p.length<l;)d=u(h++),p=o.concat([p,i("sha1").update(c).update(d).digest()]);return p.slice(0,l)}},{"create-hash":386,"safe-buffer":494}],470:[function(e,s,a){arguments[4][184][0].apply(a,arguments)},{buffer:188,dup:184}],471:[function(e,s,a){var i=e("parse-asn1"),o=e("./mgf"),u=e("./xor"),c=e("bn.js"),l=e("browserify-rsa"),d=e("create-hash"),p=e("./withPublic"),h=e("safe-buffer").Buffer;s.exports=function(f,b,y){var g;g=f.padding?f.padding:y?1:4;var x,v=i(f),w=v.modulus.byteLength();if(b.length>w||new c(b).cmp(v.modulus)>=0)throw new Error("decryption error");x=y?p(new c(b),v):l(b,v);var S=h.alloc(w-x.length);if(x=h.concat([S,x],w),g===4)return function(D,T){var R=D.modulus.byteLength(),P=d("sha1").update(h.alloc(0)).digest(),L=P.length;if(T[0]!==0)throw new Error("decryption error");var O=T.slice(1,L+1),H=T.slice(L+1),U=u(O,o(H,L)),I=u(H,o(U,R-L-1));if(function(A,_){A=h.from(A),_=h.from(_);var E=0,N=A.length;A.length!==_.length&&(E++,N=Math.min(A.length,_.length));for(var k=-1;++k<N;)E+=A[k]^_[k];return E}(P,I.slice(0,L)))throw new Error("decryption error");for(var F=L;I[F]===0;)F++;if(I[F++]!==1)throw new Error("decryption error");return I.slice(F)}(v,x);if(g===1)return function(D,T,R){for(var P=T.slice(0,2),L=2,O=0;T[L++]!==0;)if(L>=T.length){O++;break}var H=T.slice(2,L-1);if((P.toString("hex")!=="0002"&&!R||P.toString("hex")!=="0001"&&R)&&O++,H.length<8&&O++,O)throw new Error("decryption error");return T.slice(L)}(0,x,y);if(g===3)return x;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,s,a){var i=e("parse-asn1"),o=e("randombytes"),u=e("create-hash"),c=e("./mgf"),l=e("./xor"),d=e("bn.js"),p=e("./withPublic"),h=e("browserify-rsa"),f=e("safe-buffer").Buffer;s.exports=function(b,y,g){var x;x=b.padding?b.padding:g?1:4;var v,w=i(b);if(x===4)v=function(S,D){var T=S.modulus.byteLength(),R=D.length,P=u("sha1").update(f.alloc(0)).digest(),L=P.length,O=2*L;if(R>T-O-2)throw new Error("message too long");var H=f.alloc(T-R-O-2),U=T-L-1,I=o(L),F=l(f.concat([P,H,f.alloc(1,1),D],U),c(I,U)),A=l(I,c(F,L));return new d(f.concat([f.alloc(1),A,F],T))}(w,y);else if(x===1)v=function(S,D,T){var R,P=D.length,L=S.modulus.byteLength();if(P>L-11)throw new Error("message too long");return R=T?f.alloc(L-P-3,255):function(O){for(var H,U=f.allocUnsafe(O),I=0,F=o(2*O),A=0;I<O;)A===F.length&&(F=o(2*O),A=0),(H=F[A++])&&(U[I++]=H);return U}(L-P-3),new d(f.concat([f.from([0,T?1:2]),R,f.alloc(1),D],L))}(w,y,g);else{if(x!==3)throw new Error("unknown padding");if((v=new d(y)).cmp(w.modulus)>=0)throw new Error("data too long for modulus")}return g?h(v,w):p(v,w)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,s,a){var i=e("bn.js"),o=e("safe-buffer").Buffer;s.exports=function(u,c){return o.from(u.toRed(i.mont(c.modulus)).redPow(new i(c.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(e,s,a){s.exports=function(i,o){for(var u=i.length,c=-1;++c<u;)i[c]^=o[c];return i}},{}],475:[function(e,s,a){(function(i,o){(function(){var u=e("safe-buffer").Buffer,c=o.crypto||o.msCrypto;c&&c.getRandomValues?s.exports=function(l,d){if(l>4294967295)throw new RangeError("requested too many random bytes");var p=u.allocUnsafe(l);if(l>0)if(l>65536)for(var h=0;h<l;h+=65536)c.getRandomValues(p.slice(h,h+65536));else c.getRandomValues(p);return typeof d=="function"?i.nextTick(function(){d(null,p)}):p}:s.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,s,a){(function(i,o){(function(){function u(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var c=e("safe-buffer"),l=e("randombytes"),d=c.Buffer,p=c.kMaxLength,h=o.crypto||o.msCrypto,f=Math.pow(2,32)-1;function b(x,v){if(typeof x!="number"||x!=x)throw new TypeError("offset must be a number");if(x>f||x<0)throw new TypeError("offset must be a uint32");if(x>p||x>v)throw new RangeError("offset out of range")}function y(x,v,w){if(typeof x!="number"||x!=x)throw new TypeError("size must be a number");if(x>f||x<0)throw new TypeError("size must be a uint32");if(x+v>w||x>p)throw new RangeError("buffer too small")}function g(x,v,w,S){if(i.browser){var D=x.buffer,T=new Uint8Array(D,v,w);return h.getRandomValues(T),S?void i.nextTick(function(){S(null,x)}):x}if(!S)return l(w).copy(x,v),x;l(w,function(R,P){if(R)return S(R);P.copy(x,v),S(null,x)})}h&&h.getRandomValues||!i.browser?(a.randomFill=function(x,v,w,S){if(!(d.isBuffer(x)||x instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof v=="function")S=v,v=0,w=x.length;else if(typeof w=="function")S=w,w=x.length-v;else if(typeof S!="function")throw new TypeError('"cb" argument must be a function');return b(v,x.length),y(w,v,x.length),g(x,v,w,S)},a.randomFillSync=function(x,v,w){if(v===void 0&&(v=0),!(d.isBuffer(x)||x instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return b(v,x.length),w===void 0&&(w=x.length-v),y(w,v,x.length),g(x,v,w)}):(a.randomFill=u,a.randomFillSync=u)}).call(this)}).call(this,e("_process"),typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,s,a){var i={};function o(c,l,d){d||(d=Error);var p=function(h){var f,b;function y(g,x,v){return h.call(this,function(w,S,D){return typeof l=="string"?l:l(w,S,D)}(g,x,v))||this}return b=h,(f=y).prototype=Object.create(b.prototype),f.prototype.constructor=f,f.__proto__=b,y}(d);p.prototype.name=d.name,p.prototype.code=c,i[c]=p}function u(c,l){if(Array.isArray(c)){var d=c.length;return c=c.map(function(p){return String(p)}),d>2?"one of ".concat(l," ").concat(c.slice(0,d-1).join(", "),", or ")+c[d-1]:d===2?"one of ".concat(l," ").concat(c[0]," or ").concat(c[1]):"of ".concat(l," ").concat(c[0])}return"of ".concat(l," ").concat(String(c))}o("ERR_INVALID_OPT_VALUE",function(c,l){return'The value "'+l+'" is invalid for option "'+c+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(c,l,d){var p,h,f;if(typeof l=="string"&&(h="not ",l.substr(0,h.length)===h)?(p="must not be",l=l.replace(/^not /,"")):p="must be",function(y,g,x){return(x===void 0||x>y.length)&&(x=y.length),y.substring(x-g.length,x)===g}(c," argument"))f="The ".concat(c," ").concat(p," ").concat(u(l,"type"));else{var b=function(y,g,x){return typeof x!="number"&&(x=0),!(x+g.length>y.length)&&y.indexOf(g,x)!==-1}(c,".")?"property":"argument";f='The "'.concat(c,'" ').concat(b," ").concat(p," ").concat(u(l,"type"))}return f+=". Received type ".concat(typeof d)},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.codes=i},{}],478:[function(e,s,a){(function(i){(function(){var o=Object.keys||function(y){var g=[];for(var x in y)g.push(x);return g};s.exports=h;var u=e("./_stream_readable"),c=e("./_stream_writable");e("inherits")(h,u);for(var l=o(c.prototype),d=0;d<l.length;d++){var p=l[d];h.prototype[p]||(h.prototype[p]=c.prototype[p])}function h(y){if(!(this instanceof h))return new h(y);u.call(this,y),c.call(this,y),this.allowHalfOpen=!0,y&&(y.readable===!1&&(this.readable=!1),y.writable===!1&&(this.writable=!1),y.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||i.nextTick(b,this)}function b(y){y.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=y,this._writableState.destroyed=y)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,s,a){s.exports=o;var i=e("./_stream_transform");function o(u){if(!(this instanceof o))return new o(u);i.call(this,u)}e("inherits")(o,i),o.prototype._transform=function(u,c,l){l(null,u)}},{"./_stream_transform":481,inherits:440}],480:[function(e,s,a){(function(i,o){(function(){var u;s.exports=U,U.ReadableState=H,e("events").EventEmitter;var c=function(q,z){return q.listeners(z).length},l=e("./internal/streams/stream"),d=e("buffer").Buffer,p=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,f=e("util");h=f&&f.debuglog?f.debuglog("stream"):function(){};var b,y,g,x=e("./internal/streams/buffer_list"),v=e("./internal/streams/destroy"),w=e("./internal/streams/state").getHighWaterMark,S=e("../errors").codes,D=S.ERR_INVALID_ARG_TYPE,T=S.ERR_STREAM_PUSH_AFTER_EOF,R=S.ERR_METHOD_NOT_IMPLEMENTED,P=S.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(U,l);var L=v.errorOrDestroy,O=["error","close","destroy","pause","resume"];function H(q,z,Z){u=u||e("./_stream_duplex"),q=q||{},typeof Z!="boolean"&&(Z=z instanceof u),this.objectMode=!!q.objectMode,Z&&(this.objectMode=this.objectMode||!!q.readableObjectMode),this.highWaterMark=w(this,q,"readableHighWaterMark",Z),this.buffer=new x,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=q.emitClose!==!1,this.autoDestroy=!!q.autoDestroy,this.destroyed=!1,this.defaultEncoding=q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,q.encoding&&(b||(b=e("string_decoder/").StringDecoder),this.decoder=new b(q.encoding),this.encoding=q.encoding)}function U(q){if(u=u||e("./_stream_duplex"),!(this instanceof U))return new U(q);var z=this instanceof u;this._readableState=new H(q,this,z),this.readable=!0,q&&(typeof q.read=="function"&&(this._read=q.read),typeof q.destroy=="function"&&(this._destroy=q.destroy)),l.call(this)}function I(q,z,Z,re,le){h("readableAddChunk",z);var ue,ce=q._readableState;if(z===null)ce.reading=!1,function(ie,ye){if(h("onEofChunk"),!ye.ended){if(ye.decoder){var he=ye.decoder.end();he&&he.length&&(ye.buffer.push(he),ye.length+=ye.objectMode?1:he.length)}ye.ended=!0,ye.sync?_(ie):(ye.needReadable=!1,ye.emittedReadable||(ye.emittedReadable=!0,E(ie)))}}(q,ce);else if(le||(ue=function(ie,ye){var he;pe=ye,d.isBuffer(pe)||pe instanceof p||typeof ye=="string"||ye===void 0||ie.objectMode||(he=new D("chunk",["string","Buffer","Uint8Array"],ye));var pe;return he}(ce,z)),ue)L(q,ue);else if(ce.objectMode||z&&z.length>0)if(typeof z=="string"||ce.objectMode||Object.getPrototypeOf(z)===d.prototype||(z=function(ie){return d.from(ie)}(z)),re)ce.endEmitted?L(q,new P):F(q,ce,z,!0);else if(ce.ended)L(q,new T);else{if(ce.destroyed)return!1;ce.reading=!1,ce.decoder&&!Z?(z=ce.decoder.write(z),ce.objectMode||z.length!==0?F(q,ce,z,!1):N(q,ce)):F(q,ce,z,!1)}else re||(ce.reading=!1,N(q,ce));return!ce.ended&&(ce.length<ce.highWaterMark||ce.length===0)}function F(q,z,Z,re){z.flowing&&z.length===0&&!z.sync?(z.awaitDrain=0,q.emit("data",Z)):(z.length+=z.objectMode?1:Z.length,re?z.buffer.unshift(Z):z.buffer.push(Z),z.needReadable&&_(q)),N(q,z)}Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(q){this._readableState&&(this._readableState.destroyed=q)}}),U.prototype.destroy=v.destroy,U.prototype._undestroy=v.undestroy,U.prototype._destroy=function(q,z){z(q)},U.prototype.push=function(q,z){var Z,re=this._readableState;return re.objectMode?Z=!0:typeof q=="string"&&((z=z||re.defaultEncoding)!==re.encoding&&(q=d.from(q,z),z=""),Z=!0),I(this,q,z,!1,Z)},U.prototype.unshift=function(q){return I(this,q,null,!0,!1)},U.prototype.isPaused=function(){return this._readableState.flowing===!1},U.prototype.setEncoding=function(q){b||(b=e("string_decoder/").StringDecoder);var z=new b(q);this._readableState.decoder=z,this._readableState.encoding=this._readableState.decoder.encoding;for(var Z=this._readableState.buffer.head,re="";Z!==null;)re+=z.write(Z.data),Z=Z.next;return this._readableState.buffer.clear(),re!==""&&this._readableState.buffer.push(re),this._readableState.length=re.length,this};function A(q,z){return q<=0||z.length===0&&z.ended?0:z.objectMode?1:q!=q?z.flowing&&z.length?z.buffer.head.data.length:z.length:(q>z.highWaterMark&&(z.highWaterMark=function(Z){return Z>=1073741824?Z=1073741824:(Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++),Z}(q)),q<=z.length?q:z.ended?z.length:(z.needReadable=!0,0))}function _(q){var z=q._readableState;h("emitReadable",z.needReadable,z.emittedReadable),z.needReadable=!1,z.emittedReadable||(h("emitReadable",z.flowing),z.emittedReadable=!0,i.nextTick(E,q))}function E(q){var z=q._readableState;h("emitReadable_",z.destroyed,z.length,z.ended),z.destroyed||!z.length&&!z.ended||(q.emit("readable"),z.emittedReadable=!1),z.needReadable=!z.flowing&&!z.ended&&z.length<=z.highWaterMark,G(q)}function N(q,z){z.readingMore||(z.readingMore=!0,i.nextTick(k,q,z))}function k(q,z){for(;!z.reading&&!z.ended&&(z.length<z.highWaterMark||z.flowing&&z.length===0);){var Z=z.length;if(h("maybeReadMore read 0"),q.read(0),Z===z.length)break}z.readingMore=!1}function B(q){var z=q._readableState;z.readableListening=q.listenerCount("readable")>0,z.resumeScheduled&&!z.paused?z.flowing=!0:q.listenerCount("data")>0&&q.resume()}function j(q){h("readable nexttick read 0"),q.read(0)}function M(q,z){h("resume",z.reading),z.reading||q.read(0),z.resumeScheduled=!1,q.emit("resume"),G(q),z.flowing&&!z.reading&&q.read(0)}function G(q){var z=q._readableState;for(h("flow",z.flowing);z.flowing&&q.read()!==null;);}function Y(q,z){return z.length===0?null:(z.objectMode?Z=z.buffer.shift():!q||q>=z.length?(Z=z.decoder?z.buffer.join(""):z.buffer.length===1?z.buffer.first():z.buffer.concat(z.length),z.buffer.clear()):Z=z.buffer.consume(q,z.decoder),Z);var Z}function J(q){var z=q._readableState;h("endReadable",z.endEmitted),z.endEmitted||(z.ended=!0,i.nextTick(V,z,q))}function V(q,z){if(h("endReadableNT",q.endEmitted,q.length),!q.endEmitted&&q.length===0&&(q.endEmitted=!0,z.readable=!1,z.emit("end"),q.autoDestroy)){var Z=z._writableState;(!Z||Z.autoDestroy&&Z.finished)&&z.destroy()}}function Q(q,z){for(var Z=0,re=q.length;Z<re;Z++)if(q[Z]===z)return Z;return-1}U.prototype.read=function(q){h("read",q),q=parseInt(q,10);var z=this._readableState,Z=q;if(q!==0&&(z.emittedReadable=!1),q===0&&z.needReadable&&((z.highWaterMark!==0?z.length>=z.highWaterMark:z.length>0)||z.ended))return h("read: emitReadable",z.length,z.ended),z.length===0&&z.ended?J(this):_(this),null;if((q=A(q,z))===0&&z.ended)return z.length===0&&J(this),null;var re,le=z.needReadable;return h("need readable",le),(z.length===0||z.length-q<z.highWaterMark)&&h("length less than watermark",le=!0),z.ended||z.reading?h("reading or ended",le=!1):le&&(h("do read"),z.reading=!0,z.sync=!0,z.length===0&&(z.needReadable=!0),this._read(z.highWaterMark),z.sync=!1,z.reading||(q=A(Z,z))),(re=q>0?Y(q,z):null)===null?(z.needReadable=z.length<=z.highWaterMark,q=0):(z.length-=q,z.awaitDrain=0),z.length===0&&(z.ended||(z.needReadable=!0),Z!==q&&z.ended&&J(this)),re!==null&&this.emit("data",re),re},U.prototype._read=function(q){L(this,new R("_read()"))},U.prototype.pipe=function(q,z){var Z=this,re=this._readableState;switch(re.pipesCount){case 0:re.pipes=q;break;case 1:re.pipes=[re.pipes,q];break;default:re.pipes.push(q)}re.pipesCount+=1,h("pipe count=%d opts=%j",re.pipesCount,z);var le=(!z||z.end!==!1)&&q!==i.stdout&&q!==i.stderr?ce:Ae;function ue(Le,He){h("onunpipe"),Le===Z&&He&&He.hasUnpiped===!1&&(He.hasUnpiped=!0,h("cleanup"),q.removeListener("close",xe),q.removeListener("finish",Oe),q.removeListener("drain",ie),q.removeListener("error",pe),q.removeListener("unpipe",ue),Z.removeListener("end",ce),Z.removeListener("end",Ae),Z.removeListener("data",he),ye=!0,!re.awaitDrain||q._writableState&&!q._writableState.needDrain||ie())}function ce(){h("onend"),q.end()}re.endEmitted?i.nextTick(le):Z.once("end",le),q.on("unpipe",ue);var ie=function(Le){return function(){var He=Le._readableState;h("pipeOnDrain",He.awaitDrain),He.awaitDrain&&He.awaitDrain--,He.awaitDrain===0&&c(Le,"data")&&(He.flowing=!0,G(Le))}}(Z);q.on("drain",ie);var ye=!1;function he(Le){h("ondata");var He=q.write(Le);h("dest.write",He),He===!1&&((re.pipesCount===1&&re.pipes===q||re.pipesCount>1&&Q(re.pipes,q)!==-1)&&!ye&&(h("false write response, pause",re.awaitDrain),re.awaitDrain++),Z.pause())}function pe(Le){h("onerror",Le),Ae(),q.removeListener("error",pe),c(q,"error")===0&&L(q,Le)}function xe(){q.removeListener("finish",Oe),Ae()}function Oe(){h("onfinish"),q.removeListener("close",xe),Ae()}function Ae(){h("unpipe"),Z.unpipe(q)}return Z.on("data",he),function(Le,He,Ye){if(typeof Le.prependListener=="function")return Le.prependListener(He,Ye);Le._events&&Le._events[He]?Array.isArray(Le._events[He])?Le._events[He].unshift(Ye):Le._events[He]=[Ye,Le._events[He]]:Le.on(He,Ye)}(q,"error",pe),q.once("close",xe),q.once("finish",Oe),q.emit("pipe",Z),re.flowing||(h("pipe resume"),Z.resume()),q},U.prototype.unpipe=function(q){var z=this._readableState,Z={hasUnpiped:!1};if(z.pipesCount===0)return this;if(z.pipesCount===1)return q&&q!==z.pipes||(q||(q=z.pipes),z.pipes=null,z.pipesCount=0,z.flowing=!1,q&&q.emit("unpipe",this,Z)),this;if(!q){var re=z.pipes,le=z.pipesCount;z.pipes=null,z.pipesCount=0,z.flowing=!1;for(var ue=0;ue<le;ue++)re[ue].emit("unpipe",this,{hasUnpiped:!1});return this}var ce=Q(z.pipes,q);return ce===-1||(z.pipes.splice(ce,1),z.pipesCount-=1,z.pipesCount===1&&(z.pipes=z.pipes[0]),q.emit("unpipe",this,Z)),this},U.prototype.on=function(q,z){var Z=l.prototype.on.call(this,q,z),re=this._readableState;return q==="data"?(re.readableListening=this.listenerCount("readable")>0,re.flowing!==!1&&this.resume()):q==="readable"&&(re.endEmitted||re.readableListening||(re.readableListening=re.needReadable=!0,re.flowing=!1,re.emittedReadable=!1,h("on readable",re.length,re.reading),re.length?_(this):re.reading||i.nextTick(j,this))),Z},U.prototype.addListener=U.prototype.on,U.prototype.removeListener=function(q,z){var Z=l.prototype.removeListener.call(this,q,z);return q==="readable"&&i.nextTick(B,this),Z},U.prototype.removeAllListeners=function(q){var z=l.prototype.removeAllListeners.apply(this,arguments);return q!=="readable"&&q!==void 0||i.nextTick(B,this),z},U.prototype.resume=function(){var q=this._readableState;return q.flowing||(h("resume"),q.flowing=!q.readableListening,function(z,Z){Z.resumeScheduled||(Z.resumeScheduled=!0,i.nextTick(M,z,Z))}(this,q)),q.paused=!1,this},U.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},U.prototype.wrap=function(q){var z=this,Z=this._readableState,re=!1;for(var le in q.on("end",function(){if(h("wrapped end"),Z.decoder&&!Z.ended){var ce=Z.decoder.end();ce&&ce.length&&z.push(ce)}z.push(null)}),q.on("data",function(ce){h("wrapped data"),Z.decoder&&(ce=Z.decoder.write(ce)),Z.objectMode&&ce==null||(Z.objectMode||ce&&ce.length)&&(z.push(ce)||(re=!0,q.pause()))}),q)this[le]===void 0&&typeof q[le]=="function"&&(this[le]=function(ce){return function(){return q[ce].apply(q,arguments)}}(le));for(var ue=0;ue<O.length;ue++)q.on(O[ue],this.emit.bind(this,O[ue]));return this._read=function(ce){h("wrapped _read",ce),re&&(re=!1,q.resume())},this},typeof Symbol=="function"&&(U.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=e("./internal/streams/async_iterator")),y(this)}),Object.defineProperty(U.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(U.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(U.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(q){this._readableState&&(this._readableState.flowing=q)}}),U._fromList=Y,Object.defineProperty(U.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(U.from=function(q,z){return g===void 0&&(g=e("./internal/streams/from")),g(U,q,z)})}).call(this)}).call(this,e("_process"),typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,s,a){s.exports=h;var i=e("../errors").codes,o=i.ERR_METHOD_NOT_IMPLEMENTED,u=i.ERR_MULTIPLE_CALLBACK,c=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,l=i.ERR_TRANSFORM_WITH_LENGTH_0,d=e("./_stream_duplex");function p(y,g){var x=this._transformState;x.transforming=!1;var v=x.writecb;if(v===null)return this.emit("error",new u);x.writechunk=null,x.writecb=null,g!=null&&this.push(g),v(y);var w=this._readableState;w.reading=!1,(w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}function h(y){if(!(this instanceof h))return new h(y);d.call(this,y),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",f)}function f(){var y=this;typeof this._flush!="function"||this._readableState.destroyed?b(this,null,null):this._flush(function(g,x){b(y,g,x)})}function b(y,g,x){if(g)return y.emit("error",g);if(x!=null&&y.push(x),y._writableState.length)throw new l;if(y._transformState.transforming)throw new c;return y.push(null)}e("inherits")(h,d),h.prototype.push=function(y,g){return this._transformState.needTransform=!1,d.prototype.push.call(this,y,g)},h.prototype._transform=function(y,g,x){x(new o("_transform()"))},h.prototype._write=function(y,g,x){var v=this._transformState;if(v.writecb=x,v.writechunk=y,v.writeencoding=g,!v.transforming){var w=this._readableState;(v.needTransform||w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}},h.prototype._read=function(y){var g=this._transformState;g.writechunk===null||g.transforming?g.needTransform=!0:(g.transforming=!0,this._transform(g.writechunk,g.writeencoding,g.afterTransform))},h.prototype._destroy=function(y,g){d.prototype._destroy.call(this,y,function(x){g(x)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,s,a){(function(i,o){(function(){function u(k){var B=this;this.next=null,this.entry=null,this.finish=function(){(function(j,M,G){var Y=j.entry;for(j.entry=null;Y;){var J=Y.callback;M.pendingcb--,J(G),Y=Y.next}M.corkedRequestsFree.next=j})(B,k)}}var c;s.exports=U,U.WritableState=H;var l={deprecate:e("util-deprecate")},d=e("./internal/streams/stream"),p=e("buffer").Buffer,h=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f,b=e("./internal/streams/destroy"),y=e("./internal/streams/state").getHighWaterMark,g=e("../errors").codes,x=g.ERR_INVALID_ARG_TYPE,v=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_MULTIPLE_CALLBACK,S=g.ERR_STREAM_CANNOT_PIPE,D=g.ERR_STREAM_DESTROYED,T=g.ERR_STREAM_NULL_VALUES,R=g.ERR_STREAM_WRITE_AFTER_END,P=g.ERR_UNKNOWN_ENCODING,L=b.errorOrDestroy;function O(){}function H(k,B,j){c=c||e("./_stream_duplex"),k=k||{},typeof j!="boolean"&&(j=B instanceof c),this.objectMode=!!k.objectMode,j&&(this.objectMode=this.objectMode||!!k.writableObjectMode),this.highWaterMark=y(this,k,"writableHighWaterMark",j),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var M=k.decodeStrings===!1;this.decodeStrings=!M,this.defaultEncoding=k.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(G){(function(Y,J){var V=Y._writableState,Q=V.sync,q=V.writecb;if(typeof q!="function")throw new w;if(function(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0}(V),J)(function(Z,re,le,ue,ce){--re.pendingcb,le?(i.nextTick(ce,ue),i.nextTick(N,Z,re),Z._writableState.errorEmitted=!0,L(Z,ue)):(ce(ue),Z._writableState.errorEmitted=!0,L(Z,ue),N(Z,re))})(Y,V,Q,J,q);else{var z=_(V)||Y.destroyed;z||V.corked||V.bufferProcessing||!V.bufferedRequest||A(Y,V),Q?i.nextTick(F,Y,V,z,q):F(Y,V,z,q)}})(B,G)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=k.emitClose!==!1,this.autoDestroy=!!k.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}function U(k){var B=this instanceof(c=c||e("./_stream_duplex"));if(!B&&!f.call(U,this))return new U(k);this._writableState=new H(k,this,B),this.writable=!0,k&&(typeof k.write=="function"&&(this._write=k.write),typeof k.writev=="function"&&(this._writev=k.writev),typeof k.destroy=="function"&&(this._destroy=k.destroy),typeof k.final=="function"&&(this._final=k.final)),d.call(this)}function I(k,B,j,M,G,Y,J){B.writelen=M,B.writecb=J,B.writing=!0,B.sync=!0,B.destroyed?B.onwrite(new D("write")):j?k._writev(G,B.onwrite):k._write(G,Y,B.onwrite),B.sync=!1}function F(k,B,j,M){j||function(G,Y){Y.length===0&&Y.needDrain&&(Y.needDrain=!1,G.emit("drain"))}(k,B),B.pendingcb--,M(),N(k,B)}function A(k,B){B.bufferProcessing=!0;var j=B.bufferedRequest;if(k._writev&&j&&j.next){var M=B.bufferedRequestCount,G=new Array(M),Y=B.corkedRequestsFree;Y.entry=j;for(var J=0,V=!0;j;)G[J]=j,j.isBuf||(V=!1),j=j.next,J+=1;G.allBuffers=V,I(k,B,!0,B.length,G,"",Y.finish),B.pendingcb++,B.lastBufferedRequest=null,Y.next?(B.corkedRequestsFree=Y.next,Y.next=null):B.corkedRequestsFree=new u(B),B.bufferedRequestCount=0}else{for(;j;){var Q=j.chunk,q=j.encoding,z=j.callback;if(I(k,B,!1,B.objectMode?1:Q.length,Q,q,z),j=j.next,B.bufferedRequestCount--,B.writing)break}j===null&&(B.lastBufferedRequest=null)}B.bufferedRequest=j,B.bufferProcessing=!1}function _(k){return k.ending&&k.length===0&&k.bufferedRequest===null&&!k.finished&&!k.writing}function E(k,B){k._final(function(j){B.pendingcb--,j&&L(k,j),B.prefinished=!0,k.emit("prefinish"),N(k,B)})}function N(k,B){var j=_(B);if(j&&(function(G,Y){Y.prefinished||Y.finalCalled||(typeof G._final!="function"||Y.destroyed?(Y.prefinished=!0,G.emit("prefinish")):(Y.pendingcb++,Y.finalCalled=!0,i.nextTick(E,G,Y)))}(k,B),B.pendingcb===0&&(B.finished=!0,k.emit("finish"),B.autoDestroy))){var M=k._readableState;(!M||M.autoDestroy&&M.endEmitted)&&k.destroy()}return j}e("inherits")(U,d),H.prototype.getBuffer=function(){for(var k=this.bufferedRequest,B=[];k;)B.push(k),k=k.next;return B},function(){try{Object.defineProperty(H.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(U,Symbol.hasInstance,{value:function(k){return!!f.call(this,k)||this===U&&k&&k._writableState instanceof H}})):f=function(k){return k instanceof this},U.prototype.pipe=function(){L(this,new S)},U.prototype.write=function(k,B,j){var M,G=this._writableState,Y=!1,J=!G.objectMode&&(M=k,p.isBuffer(M)||M instanceof h);return J&&!p.isBuffer(k)&&(k=function(V){return p.from(V)}(k)),typeof B=="function"&&(j=B,B=null),J?B="buffer":B||(B=G.defaultEncoding),typeof j!="function"&&(j=O),G.ending?function(V,Q){var q=new R;L(V,q),i.nextTick(Q,q)}(this,j):(J||function(V,Q,q,z){var Z;return q===null?Z=new T:typeof q=="string"||Q.objectMode||(Z=new x("chunk",["string","Buffer"],q)),!Z||(L(V,Z),i.nextTick(z,Z),!1)}(this,G,k,j))&&(G.pendingcb++,Y=function(V,Q,q,z,Z,re){if(!q){var le=function(ye,he,pe){return ye.objectMode||ye.decodeStrings===!1||typeof he!="string"||(he=p.from(he,pe)),he}(Q,z,Z);z!==le&&(q=!0,Z="buffer",z=le)}var ue=Q.objectMode?1:z.length;Q.length+=ue;var ce=Q.length<Q.highWaterMark;if(ce||(Q.needDrain=!0),Q.writing||Q.corked){var ie=Q.lastBufferedRequest;Q.lastBufferedRequest={chunk:z,encoding:Z,isBuf:q,callback:re,next:null},ie?ie.next=Q.lastBufferedRequest:Q.bufferedRequest=Q.lastBufferedRequest,Q.bufferedRequestCount+=1}else I(V,Q,!1,ue,z,Z,re);return ce}(this,G,J,k,B,j)),Y},U.prototype.cork=function(){this._writableState.corked++},U.prototype.uncork=function(){var k=this._writableState;k.corked&&(k.corked--,k.writing||k.corked||k.bufferProcessing||!k.bufferedRequest||A(this,k))},U.prototype.setDefaultEncoding=function(k){if(typeof k=="string"&&(k=k.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((k+"").toLowerCase())>-1))throw new P(k);return this._writableState.defaultEncoding=k,this},Object.defineProperty(U.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(U.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),U.prototype._write=function(k,B,j){j(new v("_write()"))},U.prototype._writev=null,U.prototype.end=function(k,B,j){var M=this._writableState;return typeof k=="function"?(j=k,k=null,B=null):typeof B=="function"&&(j=B,B=null),k!=null&&this.write(k,B),M.corked&&(M.corked=1,this.uncork()),M.ending||function(G,Y,J){Y.ending=!0,N(G,Y),J&&(Y.finished?i.nextTick(J):G.once("finish",J)),Y.ended=!0,G.writable=!1}(this,M,j),this},Object.defineProperty(U.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(k){this._writableState&&(this._writableState.destroyed=k)}}),U.prototype.destroy=b.destroy,U.prototype._undestroy=b.undestroy,U.prototype._destroy=function(k,B){B(k)}}).call(this)}).call(this,e("_process"),typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,s,a){(function(i){(function(){var o;function u(D,T,R){return(T=function(P){var L=function(O,H){if(typeof O!="object"||O===null)return O;var U=O[Symbol.toPrimitive];if(U!==void 0){var I=U.call(O,H||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(H==="string"?String:Number)(O)}(P,"string");return typeof L=="symbol"?L:String(L)}(T))in D?Object.defineProperty(D,T,{value:R,enumerable:!0,configurable:!0,writable:!0}):D[T]=R,D}var c=e("./end-of-stream"),l=Symbol("lastResolve"),d=Symbol("lastReject"),p=Symbol("error"),h=Symbol("ended"),f=Symbol("lastPromise"),b=Symbol("handlePromise"),y=Symbol("stream");function g(D,T){return{value:D,done:T}}function x(D){var T=D[l];if(T!==null){var R=D[y].read();R!==null&&(D[f]=null,D[l]=null,D[d]=null,T(g(R,!1)))}}function v(D){i.nextTick(x,D)}var w=Object.getPrototypeOf(function(){}),S=Object.setPrototypeOf((u(o={get stream(){return this[y]},next:function(){var D=this,T=this[p];if(T!==null)return Promise.reject(T);if(this[h])return Promise.resolve(g(void 0,!0));if(this[y].destroyed)return new Promise(function(O,H){i.nextTick(function(){D[p]?H(D[p]):O(g(void 0,!0))})});var R,P=this[f];if(P)R=new Promise(function(O,H){return function(U,I){O.then(function(){H[h]?U(g(void 0,!0)):H[b](U,I)},I)}}(P,this));else{var L=this[y].read();if(L!==null)return Promise.resolve(g(L,!1));R=new Promise(this[b])}return this[f]=R,R}},Symbol.asyncIterator,function(){return this}),u(o,"return",function(){var D=this;return new Promise(function(T,R){D[y].destroy(null,function(P){P?R(P):T(g(void 0,!0))})})}),o),w);s.exports=function(D){var T,R=Object.create(S,(u(T={},y,{value:D,writable:!0}),u(T,l,{value:null,writable:!0}),u(T,d,{value:null,writable:!0}),u(T,p,{value:null,writable:!0}),u(T,h,{value:D._readableState.endEmitted,writable:!0}),u(T,b,{value:function(P,L){var O=R[y].read();O?(R[f]=null,R[l]=null,R[d]=null,P(g(O,!1))):(R[l]=P,R[d]=L)},writable:!0}),T));return R[f]=null,c(D,function(P){if(P&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"){var L=R[d];return L!==null&&(R[f]=null,R[l]=null,R[d]=null,L(P)),void(R[p]=P)}var O=R[l];O!==null&&(R[f]=null,R[l]=null,R[d]=null,O(g(void 0,!0))),R[h]=!0}),D.on("readable",v.bind(null,R)),R}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,s,a){function i(f,b){var y=Object.keys(f);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(f);b&&(g=g.filter(function(x){return Object.getOwnPropertyDescriptor(f,x).enumerable})),y.push.apply(y,g)}return y}function o(f){for(var b=1;b<arguments.length;b++){var y=arguments[b]!=null?arguments[b]:{};b%2?i(Object(y),!0).forEach(function(g){u(f,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(y)):i(Object(y)).forEach(function(g){Object.defineProperty(f,g,Object.getOwnPropertyDescriptor(y,g))})}return f}function u(f,b,y){return(b=l(b))in f?Object.defineProperty(f,b,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[b]=y,f}function c(f,b){for(var y=0;y<b.length;y++){var g=b[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,l(g.key),g)}}function l(f){var b=function(y,g){if(typeof y!="object"||y===null)return y;var x=y[Symbol.toPrimitive];if(x!==void 0){var v=x.call(y,g||"default");if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(y)}(f,"string");return typeof b=="symbol"?b:String(b)}var d=e("buffer").Buffer,p=e("util").inspect,h=p&&p.custom||"inspect";s.exports=function(){function f(){(function(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")})(this,f),this.head=null,this.tail=null,this.length=0}var b,y;return b=f,(y=[{key:"push",value:function(g){var x={data:g,next:null};this.length>0?this.tail.next=x:this.head=x,this.tail=x,++this.length}},{key:"unshift",value:function(g){var x={data:g,next:this.head};this.length===0&&(this.tail=x),this.head=x,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var x=this.head,v=""+x.data;x=x.next;)v+=g+x.data;return v}},{key:"concat",value:function(g){if(this.length===0)return d.alloc(0);for(var x,v,w,S=d.allocUnsafe(g>>>0),D=this.head,T=0;D;)x=D.data,v=S,w=T,d.prototype.copy.call(x,v,w),T+=D.data.length,D=D.next;return S}},{key:"consume",value:function(g,x){var v;return g<this.head.data.length?(v=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):v=g===this.head.data.length?this.shift():x?this._getString(g):this._getBuffer(g),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var x=this.head,v=1,w=x.data;for(g-=w.length;x=x.next;){var S=x.data,D=g>S.length?S.length:g;if(D===S.length?w+=S:w+=S.slice(0,g),(g-=D)==0){D===S.length?(++v,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=S.slice(D));break}++v}return this.length-=v,w}},{key:"_getBuffer",value:function(g){var x=d.allocUnsafe(g),v=this.head,w=1;for(v.data.copy(x),g-=v.data.length;v=v.next;){var S=v.data,D=g>S.length?S.length:g;if(S.copy(x,x.length-g,0,D),(g-=D)==0){D===S.length?(++w,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=S.slice(D));break}++w}return this.length-=w,x}},{key:h,value:function(g,x){return p(this,o(o({},x),{},{depth:0,customInspect:!1}))}}])&&c(b.prototype,y),Object.defineProperty(b,"prototype",{writable:!1}),f}()},{buffer:220,util:188}],485:[function(e,s,a){(function(i){(function(){function o(l,d){c(l,d),u(l)}function u(l){l._writableState&&!l._writableState.emitClose||l._readableState&&!l._readableState.emitClose||l.emit("close")}function c(l,d){l.emit("error",d)}s.exports={destroy:function(l,d){var p=this,h=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return h||f?(d?d(l):l&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(c,this,l)):i.nextTick(c,this,l)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,function(b){!d&&b?p._writableState?p._writableState.errorEmitted?i.nextTick(u,p):(p._writableState.errorEmitted=!0,i.nextTick(o,p,b)):i.nextTick(o,p,b):d?(i.nextTick(u,p),d(b)):i.nextTick(u,p)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(l,d){var p=l._readableState,h=l._writableState;p&&p.autoDestroy||h&&h.autoDestroy?l.destroy(d):l.emit("error",d)}}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,s,a){var i=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function o(){}s.exports=function u(c,l,d){if(typeof l=="function")return u(c,null,l);l||(l={}),d=function(D){var T=!1;return function(){if(!T){T=!0;for(var R=arguments.length,P=new Array(R),L=0;L<R;L++)P[L]=arguments[L];D.apply(this,P)}}}(d||o);var p=l.readable||l.readable!==!1&&c.readable,h=l.writable||l.writable!==!1&&c.writable,f=function(){c.writable||y()},b=c._writableState&&c._writableState.finished,y=function(){h=!1,b=!0,p||d.call(c)},g=c._readableState&&c._readableState.endEmitted,x=function(){p=!1,g=!0,h||d.call(c)},v=function(D){d.call(c,D)},w=function(){var D;return p&&!g?(c._readableState&&c._readableState.ended||(D=new i),d.call(c,D)):h&&!b?(c._writableState&&c._writableState.ended||(D=new i),d.call(c,D)):void 0},S=function(){c.req.on("finish",y)};return function(D){return D.setHeader&&typeof D.abort=="function"}(c)?(c.on("complete",y),c.on("abort",w),c.req?S():c.on("request",S)):h&&!c._writableState&&(c.on("end",f),c.on("close",f)),c.on("end",x),c.on("finish",y),l.error!==!1&&c.on("error",v),c.on("close",w),function(){c.removeListener("complete",y),c.removeListener("abort",w),c.removeListener("request",S),c.req&&c.req.removeListener("finish",y),c.removeListener("end",f),c.removeListener("close",f),c.removeListener("finish",y),c.removeListener("end",x),c.removeListener("error",v),c.removeListener("close",w)}}},{"../../../errors":477}],487:[function(e,s,a){s.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,s,a){var i,o=e("../../../errors").codes,u=o.ERR_MISSING_ARGS,c=o.ERR_STREAM_DESTROYED;function l(b){if(b)throw b}function d(b,y,g,x){x=function(S){var D=!1;return function(){D||(D=!0,S.apply(void 0,arguments))}}(x);var v=!1;b.on("close",function(){v=!0}),i===void 0&&(i=e("./end-of-stream")),i(b,{readable:y,writable:g},function(S){if(S)return x(S);v=!0,x()});var w=!1;return function(S){if(!v&&!w)return w=!0,function(D){return D.setHeader&&typeof D.abort=="function"}(b)?b.abort():typeof b.destroy=="function"?b.destroy():void x(S||new c("pipe"))}}function p(b){b()}function h(b,y){return b.pipe(y)}function f(b){return b.length?typeof b[b.length-1]!="function"?l:b.pop():l}s.exports=function(){for(var b=arguments.length,y=new Array(b),g=0;g<b;g++)y[g]=arguments[g];var x,v=f(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new u("streams");var w=y.map(function(S,D){var T=D<y.length-1;return d(S,T,D>0,function(R){x||(x=R),R&&w.forEach(p),T||(w.forEach(p),v(x))})});return y.reduce(h)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,s,a){var i=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;s.exports={getHighWaterMark:function(o,u,c,l){var d=function(p,h,f){return p.highWaterMark!=null?p.highWaterMark:h?p[f]:null}(u,l,c);if(d!=null){if(!isFinite(d)||Math.floor(d)!==d||d<0)throw new i(l?c:"highWaterMark",d);return Math.floor(d)}return o.objectMode?16:16384}}},{"../../../errors":477}],490:[function(e,s,a){s.exports=e("events").EventEmitter},{events:422}],491:[function(e,s,a){(a=s.exports=e("./lib/_stream_readable.js")).Stream=a,a.Readable=a,a.Writable=e("./lib/_stream_writable.js"),a.Duplex=e("./lib/_stream_duplex.js"),a.Transform=e("./lib/_stream_transform.js"),a.PassThrough=e("./lib/_stream_passthrough.js"),a.finished=e("./lib/internal/streams/end-of-stream.js"),a.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,s,a){var i=function(o){var u=Object.prototype,c=u.hasOwnProperty,l=Object.defineProperty||function(N,k,B){N[k]=B.value},d=typeof Symbol=="function"?Symbol:{},p=d.iterator||"@@iterator",h=d.asyncIterator||"@@asyncIterator",f=d.toStringTag||"@@toStringTag";function b(N,k,B){return Object.defineProperty(N,k,{value:B,enumerable:!0,configurable:!0,writable:!0}),N[k]}try{b({},"")}catch{b=function(k,B,j){return k[B]=j}}function y(N,k,B,j){var M=k&&k.prototype instanceof v?k:v,G=Object.create(M.prototype),Y=new A(j||[]);return l(G,"_invoke",{value:H(N,B,Y)}),G}function g(N,k,B){try{return{type:"normal",arg:N.call(k,B)}}catch(j){return{type:"throw",arg:j}}}o.wrap=y;var x={};function v(){}function w(){}function S(){}var D={};b(D,p,function(){return this});var T=Object.getPrototypeOf,R=T&&T(T(_([])));R&&R!==u&&c.call(R,p)&&(D=R);var P=S.prototype=v.prototype=Object.create(D);function L(N){["next","throw","return"].forEach(function(k){b(N,k,function(B){return this._invoke(k,B)})})}function O(N,k){var B;l(this,"_invoke",{value:function(j,M){function G(){return new k(function(Y,J){(function V(Q,q,z,Z){var re=g(N[Q],N,q);if(re.type!=="throw"){var le=re.arg,ue=le.value;return ue&&typeof ue=="object"&&c.call(ue,"__await")?k.resolve(ue.__await).then(function(ce){V("next",ce,z,Z)},function(ce){V("throw",ce,z,Z)}):k.resolve(ue).then(function(ce){le.value=ce,z(le)},function(ce){return V("throw",ce,z,Z)})}Z(re.arg)})(j,M,Y,J)})}return B=B?B.then(G,G):G()}})}function H(N,k,B){var j="suspendedStart";return function(M,G){if(j==="executing")throw new Error("Generator is already running");if(j==="completed"){if(M==="throw")throw G;return E()}for(B.method=M,B.arg=G;;){var Y=B.delegate;if(Y){var J=U(Y,B);if(J){if(J===x)continue;return J}}if(B.method==="next")B.sent=B._sent=B.arg;else if(B.method==="throw"){if(j==="suspendedStart")throw j="completed",B.arg;B.dispatchException(B.arg)}else B.method==="return"&&B.abrupt("return",B.arg);j="executing";var V=g(N,k,B);if(V.type==="normal"){if(j=B.done?"completed":"suspendedYield",V.arg===x)continue;return{value:V.arg,done:B.done}}V.type==="throw"&&(j="completed",B.method="throw",B.arg=V.arg)}}}function U(N,k){var B=k.method,j=N.iterator[B];if(j===void 0)return k.delegate=null,B==="throw"&&N.iterator.return&&(k.method="return",k.arg=void 0,U(N,k),k.method==="throw")||B!=="return"&&(k.method="throw",k.arg=new TypeError("The iterator does not provide a '"+B+"' method")),x;var M=g(j,N.iterator,k.arg);if(M.type==="throw")return k.method="throw",k.arg=M.arg,k.delegate=null,x;var G=M.arg;return G?G.done?(k[N.resultName]=G.value,k.next=N.nextLoc,k.method!=="return"&&(k.method="next",k.arg=void 0),k.delegate=null,x):G:(k.method="throw",k.arg=new TypeError("iterator result is not an object"),k.delegate=null,x)}function I(N){var k={tryLoc:N[0]};1 in N&&(k.catchLoc=N[1]),2 in N&&(k.finallyLoc=N[2],k.afterLoc=N[3]),this.tryEntries.push(k)}function F(N){var k=N.completion||{};k.type="normal",delete k.arg,N.completion=k}function A(N){this.tryEntries=[{tryLoc:"root"}],N.forEach(I,this),this.reset(!0)}function _(N){if(N){var k=N[p];if(k)return k.call(N);if(typeof N.next=="function")return N;if(!isNaN(N.length)){var B=-1,j=function M(){for(;++B<N.length;)if(c.call(N,B))return M.value=N[B],M.done=!1,M;return M.value=void 0,M.done=!0,M};return j.next=j}}return{next:E}}function E(){return{value:void 0,done:!0}}return w.prototype=S,l(P,"constructor",{value:S,configurable:!0}),l(S,"constructor",{value:w,configurable:!0}),w.displayName=b(S,f,"GeneratorFunction"),o.isGeneratorFunction=function(N){var k=typeof N=="function"&&N.constructor;return!!k&&(k===w||(k.displayName||k.name)==="GeneratorFunction")},o.mark=function(N){return Object.setPrototypeOf?Object.setPrototypeOf(N,S):(N.__proto__=S,b(N,f,"GeneratorFunction")),N.prototype=Object.create(P),N},o.awrap=function(N){return{__await:N}},L(O.prototype),b(O.prototype,h,function(){return this}),o.AsyncIterator=O,o.async=function(N,k,B,j,M){M===void 0&&(M=Promise);var G=new O(y(N,k,B,j),M);return o.isGeneratorFunction(k)?G:G.next().then(function(Y){return Y.done?Y.value:G.next()})},L(P),b(P,f,"Generator"),b(P,p,function(){return this}),b(P,"toString",function(){return"[object Generator]"}),o.keys=function(N){var k=Object(N),B=[];for(var j in k)B.push(j);return B.reverse(),function M(){for(;B.length;){var G=B.pop();if(G in k)return M.value=G,M.done=!1,M}return M.done=!0,M}},o.values=_,A.prototype={constructor:A,reset:function(N){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(F),!N)for(var k in this)k.charAt(0)==="t"&&c.call(this,k)&&!isNaN(+k.slice(1))&&(this[k]=void 0)},stop:function(){this.done=!0;var N=this.tryEntries[0].completion;if(N.type==="throw")throw N.arg;return this.rval},dispatchException:function(N){if(this.done)throw N;var k=this;function B(V,Q){return G.type="throw",G.arg=N,k.next=V,Q&&(k.method="next",k.arg=void 0),!!Q}for(var j=this.tryEntries.length-1;j>=0;--j){var M=this.tryEntries[j],G=M.completion;if(M.tryLoc==="root")return B("end");if(M.tryLoc<=this.prev){var Y=c.call(M,"catchLoc"),J=c.call(M,"finallyLoc");if(Y&&J){if(this.prev<M.catchLoc)return B(M.catchLoc,!0);if(this.prev<M.finallyLoc)return B(M.finallyLoc)}else if(Y){if(this.prev<M.catchLoc)return B(M.catchLoc,!0)}else{if(!J)throw new Error("try statement without catch or finally");if(this.prev<M.finallyLoc)return B(M.finallyLoc)}}}},abrupt:function(N,k){for(var B=this.tryEntries.length-1;B>=0;--B){var j=this.tryEntries[B];if(j.tryLoc<=this.prev&&c.call(j,"finallyLoc")&&this.prev<j.finallyLoc){var M=j;break}}M&&(N==="break"||N==="continue")&&M.tryLoc<=k&&k<=M.finallyLoc&&(M=null);var G=M?M.completion:{};return G.type=N,G.arg=k,M?(this.method="next",this.next=M.finallyLoc,x):this.complete(G)},complete:function(N,k){if(N.type==="throw")throw N.arg;return N.type==="break"||N.type==="continue"?this.next=N.arg:N.type==="return"?(this.rval=this.arg=N.arg,this.method="return",this.next="end"):N.type==="normal"&&k&&(this.next=k),x},finish:function(N){for(var k=this.tryEntries.length-1;k>=0;--k){var B=this.tryEntries[k];if(B.finallyLoc===N)return this.complete(B.completion,B.afterLoc),F(B),x}},catch:function(N){for(var k=this.tryEntries.length-1;k>=0;--k){var B=this.tryEntries[k];if(B.tryLoc===N){var j=B.completion;if(j.type==="throw"){var M=j.arg;F(B)}return M}}throw new Error("illegal catch attempt")},delegateYield:function(N,k,B){return this.delegate={iterator:_(N),resultName:k,nextLoc:B},this.method==="next"&&(this.arg=void 0),x}},o}(typeof s=="object"?s.exports:{});try{regeneratorRuntime=i}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},{}],493:[function(e,s,a){var i=e("buffer").Buffer,o=e("inherits"),u=e("hash-base"),c=new Array(16),l=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],b=[1352829926,1548603684,1836072691,2053994217,0];function y(){u.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function g(T,R){return T<<R|T>>>32-R}function x(T,R,P,L,O,H,U,I){return g(T+(R^P^L)+H+U|0,I)+O|0}function v(T,R,P,L,O,H,U,I){return g(T+(R&P|~R&L)+H+U|0,I)+O|0}function w(T,R,P,L,O,H,U,I){return g(T+((R|~P)^L)+H+U|0,I)+O|0}function S(T,R,P,L,O,H,U,I){return g(T+(R&L|P&~L)+H+U|0,I)+O|0}function D(T,R,P,L,O,H,U,I){return g(T+(R^(P|~L))+H+U|0,I)+O|0}o(y,u),y.prototype._update=function(){for(var T=c,R=0;R<16;++R)T[R]=this._block.readInt32LE(4*R);for(var P=0|this._a,L=0|this._b,O=0|this._c,H=0|this._d,U=0|this._e,I=0|this._a,F=0|this._b,A=0|this._c,_=0|this._d,E=0|this._e,N=0;N<80;N+=1){var k,B;N<16?(k=x(P,L,O,H,U,T[l[N]],f[0],p[N]),B=D(I,F,A,_,E,T[d[N]],b[0],h[N])):N<32?(k=v(P,L,O,H,U,T[l[N]],f[1],p[N]),B=S(I,F,A,_,E,T[d[N]],b[1],h[N])):N<48?(k=w(P,L,O,H,U,T[l[N]],f[2],p[N]),B=w(I,F,A,_,E,T[d[N]],b[2],h[N])):N<64?(k=S(P,L,O,H,U,T[l[N]],f[3],p[N]),B=v(I,F,A,_,E,T[d[N]],b[3],h[N])):(k=D(P,L,O,H,U,T[l[N]],f[4],p[N]),B=x(I,F,A,_,E,T[d[N]],b[4],h[N])),P=U,U=H,H=g(O,10),O=L,L=k,I=E,E=_,_=g(A,10),A=F,F=B}var j=this._b+O+_|0;this._b=this._c+H+E|0,this._c=this._d+U+I|0,this._d=this._e+P+F|0,this._e=this._a+L+A|0,this._a=j},y.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var T=i.alloc?i.alloc(20):new i(20);return T.writeInt32LE(this._a,0),T.writeInt32LE(this._b,4),T.writeInt32LE(this._c,8),T.writeInt32LE(this._d,12),T.writeInt32LE(this._e,16),T},s.exports=y},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,s,a){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var i=e("buffer"),o=i.Buffer;function u(l,d){for(var p in l)d[p]=l[p]}function c(l,d,p){return o(l,d,p)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?s.exports=i:(u(i,a),a.Buffer=c),c.prototype=Object.create(o.prototype),u(o,c),c.from=function(l,d,p){if(typeof l=="number")throw new TypeError("Argument must not be a number");return o(l,d,p)},c.alloc=function(l,d,p){if(typeof l!="number")throw new TypeError("Argument must be a number");var h=o(l);return d!==void 0?typeof p=="string"?h.fill(d,p):h.fill(d):h.fill(0),h},c.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return o(l)},c.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(l)}},{buffer:220}],495:[function(e,s,a){(function(i){(function(){var o,u=e("buffer"),c=u.Buffer,l={};for(o in u)u.hasOwnProperty(o)&&o!=="SlowBuffer"&&o!=="Buffer"&&(l[o]=u[o]);var d=l.Buffer={};for(o in c)c.hasOwnProperty(o)&&o!=="allocUnsafe"&&o!=="allocUnsafeSlow"&&(d[o]=c[o]);if(l.Buffer.prototype=c.prototype,d.from&&d.from!==Uint8Array.from||(d.from=function(p,h,f){if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof p);if(p&&p.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);return c(p,h,f)}),d.alloc||(d.alloc=function(p,h,f){if(typeof p!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof p);if(p<0||p>=2*(1<<30))throw new RangeError('The value "'+p+'" is invalid for option "size"');var b=c(p);return h&&h.length!==0?typeof f=="string"?b.fill(h,f):b.fill(h):b.fill(0),b}),!l.kStringMaxLength)try{l.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch{}l.constants||(l.constants={MAX_LENGTH:l.kMaxLength},l.kStringMaxLength&&(l.constants.MAX_STRING_LENGTH=l.kStringMaxLength)),s.exports=l}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0});const i=e("xmlchars/xml/1.0/ed5"),o=e("xmlchars/xml/1.1/ed2"),u=e("xmlchars/xmlns/1.0/ed3");var c=i.isS,l=i.isChar,d=i.isNameStartChar,p=i.isNameChar,h=i.S_LIST,f=i.NAME_RE,b=o.isChar,y=u.isNCNameStartChar,g=u.isNCNameChar,x=u.NC_NAME_RE;const v="http://www.w3.org/XML/1998/namespace",w="http://www.w3.org/2000/xmlns/",S={__proto__:null,xml:v,xmlns:w},D={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},T=_=>_===34||_===39,R=[34,39],P=[...R,91,62],L=[...R,60,93],O=[61,63,...h],H=[...h,62,38,60];function U(_,E,N){switch(E){case"xml":N!==v&&_.fail(`xml prefix must be bound to ${v}.`);break;case"xmlns":N!==w&&_.fail(`xmlns prefix must be bound to ${w}.`)}switch(N){case w:_.fail(E===""?`the default namespace may not be set to ${N}.`:`may not assign a prefix (even "xmlns") to the URI ${w}.`);break;case v:switch(E){case"xml":break;case"":_.fail(`the default namespace may not be set to ${N}.`);break;default:_.fail("may not assign the xml namespace to another prefix.")}}}const I=_=>x.test(_),F=_=>f.test(_);a.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const A={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};a.SaxesParser=class{constructor(_){this.opt=_??{},this.fragmentOpt=!!this.opt.fragment;const E=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,E){this.nameStartCheck=y,this.nameCheck=g,this.isName=I,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},S);const N=this.opt.additionalNamespaces;N!=null&&(function(k,B){for(const j of Object.keys(B))U(k,j,B[j])}(this,N),Object.assign(this.ns,N))}else this.nameStartCheck=d,this.nameCheck=p,this.isName=F,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var _;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:E}=this;this.state=E?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=E,this.xmlDeclPossible=!E,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:N}=this.opt;if(N===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");N="1.0"}this.setXMLVersion(N),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(D),(_=this.readyHandler)===null||_===void 0||_.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(_,E){this[A[_]]=E}off(_){this[A[_]]=void 0}makeError(_){var E;let N=(E=this.fileName)!==null&&E!==void 0?E:"";return this.trackPosition&&(N.length>0&&(N+=":"),N+=`${this.line}:${this.column}`),N.length>0&&(N+=": "),new Error(N+_)}fail(_){const E=this.makeError(_),N=this.errorHandler;if(N===void 0)throw E;return N(E),this}write(_){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let E=!1;_===null?(E=!0,_=""):typeof _=="object"&&(_=_.toString()),this.carriedFromPrevious!==void 0&&(_=`${this.carriedFromPrevious}${_}`,this.carriedFromPrevious=void 0);let N=_.length;const k=_.charCodeAt(N-1);!E&&(k===13||k>=55296&&k<=56319)&&(this.carriedFromPrevious=_[N-1],N--,_=_.slice(0,N));const{stateTable:B}=this;for(this.chunk=_,this.i=0;this.i<N;)B[this.state].call(this);return this.chunkPosition+=N,E?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:_,i:E}=this;if(this.prevI=E,this.i=E+1,E>=_.length)return-1;const N=_.charCodeAt(E);if(this.column++,N<55296){if(N>=32||N===9)return N;switch(N){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return _.charCodeAt(E+1)===10&&(this.i=E+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),N}}if(N>56319)return N>=57344&&N<=65533||this.fail("disallowed character."),N;const k=65536+1024*(N-55296)+(_.charCodeAt(E+1)-56320);return this.i=E+2,k>1114111&&this.fail("disallowed character."),k}getCode11(){const{chunk:_,i:E}=this;if(this.prevI=E,this.i=E+1,E>=_.length)return-1;const N=_.charCodeAt(E);if(this.column++,N<55296){if(N>31&&N<127||N>159&&N!==8232||N===9)return N;switch(N){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const B=_.charCodeAt(E+1);B!==10&&B!==133||(this.i=E+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),N}}if(N>56319)return N>=57344&&N<=65533||this.fail("disallowed character."),N;const k=65536+1024*(N-55296)+(_.charCodeAt(E+1)-56320);return this.i=E+2,k>1114111&&this.fail("disallowed character."),k}getCodeNorm(){const _=this.getCode();return _===-2?10:_}unget(){this.i=this.prevI,this.column--}captureTo(_){let{i:E}=this;const{chunk:N}=this;for(;;){const k=this.getCode(),B=k===-2,j=B?10:k;if(j===-1||_.includes(j))return this.text+=N.slice(E,this.prevI),j;B&&(this.text+=N.slice(E,this.prevI)+`
`,E=this.i)}}captureToChar(_){let{i:E}=this;const{chunk:N}=this;for(;;){let k=this.getCode();switch(k){case-2:this.text+=N.slice(E,this.prevI)+`
`,E=this.i,k=10;break;case-1:return this.text+=N.slice(E),!1}if(k===_)return this.text+=N.slice(E,this.prevI),!0}}captureNameChars(){const{chunk:_,i:E}=this;for(;;){const N=this.getCode();if(N===-1)return this.name+=_.slice(E),-1;if(!p(N))return this.name+=_.slice(E,this.prevI),N===-2?10:N}}skipSpaces(){for(;;){const _=this.getCodeNorm();if(_===-1||!c(_))return _}}setXMLVersion(_){this.currentXMLVersion=_,_==="1.0"?(this.isChar=l,this.getCode=this.getCode10):(this.isChar=b,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const _=this.i,E=this.skipSpaces();switch(this.prevI!==_&&(this.xmlDeclPossible=!1),E){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var _;const E=this.captureTo(P);switch(E){case 62:(_=this.doctypeHandler)===null||_===void 0||_.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(E),E===91?this.state=4:T(E)&&(this.state=3,this.q=E)}}sDoctypeQuote(){const _=this.q;this.captureToChar(_)&&(this.text+=String.fromCodePoint(_),this.q=null,this.state=2)}sDTD(){const _=this.captureTo(L);_!==-1&&(this.text+=String.fromCodePoint(_),_===93?this.state=2:_===60?this.state=6:T(_)&&(this.state=5,this.q=_))}sDTDQuoted(){const _=this.q;this.captureToChar(_)&&(this.text+=String.fromCodePoint(_),this.state=4,this.q=null)}sDTDOpenWaka(){const _=this.getCodeNorm();switch(this.text+=String.fromCodePoint(_),_){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const _=String.fromCodePoint(this.getCodeNorm()),E=this.openWakaBang+=_;this.text+=_,E!=="-"&&(this.state=E==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),this.state=_===45?10:8}sDTDCommentEnded(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),_===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),_===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:_}=this;const{chunk:E}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=E.slice(_,this.prevI)+`
`,_=this.i;break;case 59:{const{entityReturnState:N}=this,k=this.entity+E.slice(_,this.prevI);let B;this.state=N,k===""?(this.fail("empty entity name."),B="&;"):(B=this.parseEntity(k),this.entity=""),N===13&&this.textHandler===void 0||(this.text+=B);break e}case-1:this.entity+=E.slice(_);break e}}sOpenWaka(){const _=this.getCode();if(d(_))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(_){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var _;const E=this.getCodeNorm();E===45?(this.state=19,(_=this.commentHandler)===null||_===void 0||_.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(E),this.state=17)}sCommentEnded(){const _=this.getCodeNorm();_!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(_),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const _=this.getCodeNorm();_===93?this.state=22:(this.text+="]"+String.fromCodePoint(_),this.state=20)}sCDataEnding2(){var _;const E=this.getCodeNorm();switch(E){case 62:(_=this.cdataHandler)===null||_===void 0||_.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(E),this.state=20}}sPIFirstChar(){const _=this.getCodeNorm();this.nameStartCheck(_)?(this.piTarget+=String.fromCodePoint(_),this.state=24):_===63||c(_)?(this.fail("processing instruction without a target."),this.state=_===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(_),this.state=24)}sPIRest(){const{chunk:_,i:E}=this;for(;;){const N=this.getCodeNorm();if(N===-1)return void(this.piTarget+=_.slice(E));if(!this.nameCheck(N)){this.piTarget+=_.slice(E,this.prevI);const k=N===63;k||c(N)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=k?33:27):this.state=k?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(N));break}}}sPIBody(){if(this.text.length===0){const _=this.getCodeNorm();_===63?this.state=26:c(_)||(this.text=String.fromCodePoint(_))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var _;const E=this.getCodeNorm();if(E===62){const{piTarget:N}=this;N.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(_=this.piHandler)===null||_===void 0||_.call(this,{target:N,body:this.text}),this.piTarget=this.text="",this.state=13}else E===63?this.text+="?":(this.text+="?"+String.fromCodePoint(E),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const _=this.skipSpaces();_!==63?_!==-1&&(this.state=28,this.name=String.fromCodePoint(_)):this.state=33}sXMLDeclName(){const _=this.captureTo(O);if(_===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(c(_)||_===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=_===61?30:29}}sXMLDeclEq(){const _=this.getCodeNorm();if(_===63)return this.state=33,void this.fail("XML declaration is incomplete.");c(_)||(_!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const _=this.getCodeNorm();if(_===63)return this.state=33,void this.fail("XML declaration is incomplete.");c(_)||(T(_)?this.q=_:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const _=this.captureTo([this.q,63]);if(_===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(_===-1)return;const E=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const N=E;this.xmlDecl.version=N,/^1\.[0-9]+$/.test(N)?this.opt.forceXMLVersion||this.setXMLVersion(N):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(E)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=E;break;case"standalone":E!=="yes"&&E!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=E}this.name="",this.state=32}sXMLDeclSeparator(){const _=this.getCodeNorm();_!==63?(c(_)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var _;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(_=this.xmldeclHandler)===null||_===void 0||_.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var _;const E=this.captureNameChars();if(E===-1)return;const N=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=N.ns=Object.create(null)),(_=this.openTagStartHandler)===null||_===void 0||_.call(this,N),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),E){case 62:this.openTag();break;case 47:this.state=35;break;default:c(E)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const _=this.skipSpaces();_!==-1&&(d(_)?(this.unget(),this.state=37):_===62?this.openTag():_===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const _=this.captureNameChars();_===61?this.state=39:c(_)?this.state=38:_===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):_!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const _=this.skipSpaces();switch(_){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",_===62?this.openTag():d(_)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const _=this.getCodeNorm();T(_)?(this.q=_,this.state=40):c(_)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:_,chunk:E}=this;let{i:N}=this;for(;;)switch(this.getCode()){case _:return this.pushAttrib(this.name,this.text+E.slice(N,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=E.slice(N,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=E.slice(N,this.prevI)+" ",N=this.i;break;case 60:return this.text+=E.slice(N,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=E.slice(N))}}sAttribValueClosed(){const _=this.getCodeNorm();c(_)?this.state=36:_===62?this.openTag():_===47?this.state=35:d(_)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const _=this.captureTo(H);switch(_){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",_===62?this.openTag():this.state=36}}sCloseTag(){const _=this.captureNameChars();_===62?this.closeTag():c(_)?this.state=44:_!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:_,forbiddenState:E}=this;const{chunk:N,textHandler:k}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,k!==void 0){const{text:B}=this,j=N.slice(_,this.prevI);B.length!==0?(k(B+j),this.text=""):j.length!==0&&k(j)}E=0;break e;case 38:this.state=14,this.entityReturnState=13,k!==void 0&&(this.text+=N.slice(_,this.prevI)),E=0;break e;case 93:switch(E){case 0:E=1;break;case 1:E=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:E===2&&this.fail('the string "]]>" is disallowed in char data.'),E=0;break;case-2:k!==void 0&&(this.text+=N.slice(_,this.prevI)+`
`),_=this.i,E=0;break;case-1:k!==void 0&&(this.text+=N.slice(_));break e;default:E=0}this.forbiddenState=E}handleTextOutsideRoot(){let{i:_}=this;const{chunk:E,textHandler:N}=this;let k=!1;e:for(;;){const B=this.getCode();switch(B){case 60:if(this.state=15,N!==void 0){const{text:j}=this,M=E.slice(_,this.prevI);j.length!==0?(N(j+M),this.text=""):M.length!==0&&N(M)}break e;case 38:this.state=14,this.entityReturnState=13,N!==void 0&&(this.text+=E.slice(_,this.prevI)),k=!0;break e;case-2:N!==void 0&&(this.text+=E.slice(_,this.prevI)+`
`),_=this.i;break;case-1:N!==void 0&&(this.text+=E.slice(_));break e;default:c(B)||(k=!0)}}k&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(_,E){var N;const{prefix:k,local:B}=this.qname(_),j={name:_,prefix:k,local:B,value:E};if(this.attribList.push(j),(N=this.attributeHandler)===null||N===void 0||N.call(this,j),k==="xmlns"){const M=E.trim();this.currentXMLVersion==="1.0"&&M===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[B]=M,U(this,B,M)}else if(_==="xmlns"){const M=E.trim();this.topNS[""]=M,U(this,"",M)}}pushAttribPlain(_,E){var N;const k={name:_,value:E};this.attribList.push(k),(N=this.attributeHandler)===null||N===void 0||N.call(this,k)}end(){var _,E;this.sawRoot||this.fail("document must contain a root element.");const{tags:N}=this;for(;N.length>0;){const B=N.pop();this.fail("unclosed tag: "+B.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:k}=this;return k.length!==0&&((_=this.textHandler)===null||_===void 0||_.call(this,k),this.text=""),this._closed=!0,(E=this.endHandler)===null||E===void 0||E.call(this),this._init(),this}resolve(_){var E,N;let k=this.topNS[_];if(k!==void 0)return k;const{tags:B}=this;for(let j=B.length-1;j>=0;j--)if(k=B[j].ns[_],k!==void 0)return k;return k=this.ns[_],k!==void 0?k:(N=(E=this.opt).resolvePrefix)===null||N===void 0?void 0:N.call(E,_)}qname(_){const E=_.indexOf(":");if(E===-1)return{prefix:"",local:_};const N=_.slice(E+1),k=_.slice(0,E);return(k===""||N===""||N.includes(":"))&&this.fail(`malformed name: ${_}.`),{prefix:k,local:N}}processAttribsNS(){var _;const{attribList:E}=this,N=this.tag;{const{prefix:j,local:M}=this.qname(N.name);N.prefix=j,N.local=M;const G=N.uri=(_=this.resolve(j))!==null&&_!==void 0?_:"";j!==""&&(j==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),G===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(j)}.`),N.uri=j))}if(E.length===0)return;const{attributes:k}=N,B=new Set;for(const j of E){const{name:M,prefix:G,local:Y}=j;let J,V;G===""?(J=M==="xmlns"?w:"",V=M):(J=this.resolve(G),J===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(G)}.`),J=G),V=`{${J}}${Y}`),B.has(V)&&this.fail(`duplicate attribute: ${V}.`),B.add(V),j.uri=J,k[M]=j}this.attribList=[]}processAttribsPlain(){const{attribList:_}=this,E=this.tag.attributes;for(const{name:N,value:k}of _)E[N]!==void 0&&this.fail(`duplicate attribute: ${N}.`),E[N]=k;this.attribList=[]}openTag(){var _;this.processAttribs();const{tags:E}=this,N=this.tag;N.isSelfClosing=!1,(_=this.openTagHandler)===null||_===void 0||_.call(this,N),E.push(N),this.state=13,this.name=""}openSelfClosingTag(){var _,E,N;this.processAttribs();const{tags:k}=this,B=this.tag;B.isSelfClosing=!0,(_=this.openTagHandler)===null||_===void 0||_.call(this,B),(E=this.closeTagHandler)===null||E===void 0||E.call(this,B),(this.tag=(N=k[k.length-1])!==null&&N!==void 0?N:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:_,name:E}=this;if(this.state=13,this.name="",E==="")return this.fail("weird empty close tag."),void(this.text+="</>");const N=this.closeTagHandler;let k=_.length;for(;k-- >0;){const B=this.tag=_.pop();if(this.topNS=B.ns,N==null||N(B),B.name===E)break;this.fail("unexpected close tag.")}k===0?this.closedRoot=!0:k<0&&(this.fail(`unmatched closing tag: ${E}.`),this.text+=`</${E}>`)}parseEntity(_){if(_[0]!=="#"){const N=this.ENTITIES[_];return N!==void 0?N:(this.fail(this.isName(_)?"undefined entity.":"disallowed character in entity name."),`&${_};`)}let E=NaN;return _[1]==="x"&&/^#x[0-9a-f]+$/i.test(_)?E=parseInt(_.slice(2),16):/^#[0-9]+$/.test(_)&&(E=parseInt(_.slice(1),10)),this.isChar(E)?String.fromCodePoint(E):(this.fail("malformed character entity."),`&${_};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,s,a){var i=e("safe-buffer").Buffer;function o(u,c){this._block=i.alloc(u),this._finalSize=c,this._blockSize=u,this._len=0}o.prototype.update=function(u,c){typeof u=="string"&&(c=c||"utf8",u=i.from(u,c));for(var l=this._block,d=this._blockSize,p=u.length,h=this._len,f=0;f<p;){for(var b=h%d,y=Math.min(p-f,d-b),g=0;g<y;g++)l[b+g]=u[f+g];f+=y,(h+=y)%d==0&&this._update(l)}return this._len+=p,this},o.prototype.digest=function(u){var c=this._len%this._blockSize;this._block[c]=128,this._block.fill(0,c+1),c>=this._finalSize&&(this._update(this._block),this._block.fill(0));var l=8*this._len;if(l<=4294967295)this._block.writeUInt32BE(l,this._blockSize-4);else{var d=(4294967295&l)>>>0,p=(l-d)/4294967296;this._block.writeUInt32BE(p,this._blockSize-8),this._block.writeUInt32BE(d,this._blockSize-4)}this._update(this._block);var h=this._hash();return u?h.toString(u):h},o.prototype._update=function(){throw new Error("_update must be implemented by subclass")},s.exports=o},{"safe-buffer":494}],498:[function(e,s,a){var i=s.exports=function(o){o=o.toLowerCase();var u=i[o];if(!u)throw new Error(o+" is not supported (we accept pull requests)");return new u};i.sha=e("./sha"),i.sha1=e("./sha1"),i.sha224=e("./sha224"),i.sha256=e("./sha256"),i.sha384=e("./sha384"),i.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,s,a){var i=e("inherits"),o=e("./hash"),u=e("safe-buffer").Buffer,c=[1518500249,1859775393,-1894007588,-899497514],l=new Array(80);function d(){this.init(),this._w=l,o.call(this,64,56)}function p(f){return f<<30|f>>>2}function h(f,b,y,g){return f===0?b&y|~b&g:f===2?b&y|b&g|y&g:b^y^g}i(d,o),d.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},d.prototype._update=function(f){for(var b,y=this._w,g=0|this._a,x=0|this._b,v=0|this._c,w=0|this._d,S=0|this._e,D=0;D<16;++D)y[D]=f.readInt32BE(4*D);for(;D<80;++D)y[D]=y[D-3]^y[D-8]^y[D-14]^y[D-16];for(var T=0;T<80;++T){var R=~~(T/20),P=0|((b=g)<<5|b>>>27)+h(R,x,v,w)+S+y[T]+c[R];S=w,w=v,v=p(x),x=g,g=P}this._a=g+this._a|0,this._b=x+this._b|0,this._c=v+this._c|0,this._d=w+this._d|0,this._e=S+this._e|0},d.prototype._hash=function(){var f=u.allocUnsafe(20);return f.writeInt32BE(0|this._a,0),f.writeInt32BE(0|this._b,4),f.writeInt32BE(0|this._c,8),f.writeInt32BE(0|this._d,12),f.writeInt32BE(0|this._e,16),f},s.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,s,a){var i=e("inherits"),o=e("./hash"),u=e("safe-buffer").Buffer,c=[1518500249,1859775393,-1894007588,-899497514],l=new Array(80);function d(){this.init(),this._w=l,o.call(this,64,56)}function p(b){return b<<5|b>>>27}function h(b){return b<<30|b>>>2}function f(b,y,g,x){return b===0?y&g|~y&x:b===2?y&g|y&x|g&x:y^g^x}i(d,o),d.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},d.prototype._update=function(b){for(var y,g=this._w,x=0|this._a,v=0|this._b,w=0|this._c,S=0|this._d,D=0|this._e,T=0;T<16;++T)g[T]=b.readInt32BE(4*T);for(;T<80;++T)g[T]=(y=g[T-3]^g[T-8]^g[T-14]^g[T-16])<<1|y>>>31;for(var R=0;R<80;++R){var P=~~(R/20),L=p(x)+f(P,v,w,S)+D+g[R]+c[P]|0;D=S,S=w,w=h(v),v=x,x=L}this._a=x+this._a|0,this._b=v+this._b|0,this._c=w+this._c|0,this._d=S+this._d|0,this._e=D+this._e|0},d.prototype._hash=function(){var b=u.allocUnsafe(20);return b.writeInt32BE(0|this._a,0),b.writeInt32BE(0|this._b,4),b.writeInt32BE(0|this._c,8),b.writeInt32BE(0|this._d,12),b.writeInt32BE(0|this._e,16),b},s.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,s,a){var i=e("inherits"),o=e("./sha256"),u=e("./hash"),c=e("safe-buffer").Buffer,l=new Array(64);function d(){this.init(),this._w=l,u.call(this,64,56)}i(d,o),d.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},d.prototype._hash=function(){var p=c.allocUnsafe(28);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p},s.exports=d},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,s,a){var i=e("inherits"),o=e("./hash"),u=e("safe-buffer").Buffer,c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],l=new Array(64);function d(){this.init(),this._w=l,o.call(this,64,56)}function p(g,x,v){return v^g&(x^v)}function h(g,x,v){return g&x|v&(g|x)}function f(g){return(g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10)}function b(g){return(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7)}function y(g){return(g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3}i(d,o),d.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},d.prototype._update=function(g){for(var x,v=this._w,w=0|this._a,S=0|this._b,D=0|this._c,T=0|this._d,R=0|this._e,P=0|this._f,L=0|this._g,O=0|this._h,H=0;H<16;++H)v[H]=g.readInt32BE(4*H);for(;H<64;++H)v[H]=0|(((x=v[H-2])>>>17|x<<15)^(x>>>19|x<<13)^x>>>10)+v[H-7]+y(v[H-15])+v[H-16];for(var U=0;U<64;++U){var I=O+b(R)+p(R,P,L)+c[U]+v[U]|0,F=f(w)+h(w,S,D)|0;O=L,L=P,P=R,R=T+I|0,T=D,D=S,S=w,w=I+F|0}this._a=w+this._a|0,this._b=S+this._b|0,this._c=D+this._c|0,this._d=T+this._d|0,this._e=R+this._e|0,this._f=P+this._f|0,this._g=L+this._g|0,this._h=O+this._h|0},d.prototype._hash=function(){var g=u.allocUnsafe(32);return g.writeInt32BE(this._a,0),g.writeInt32BE(this._b,4),g.writeInt32BE(this._c,8),g.writeInt32BE(this._d,12),g.writeInt32BE(this._e,16),g.writeInt32BE(this._f,20),g.writeInt32BE(this._g,24),g.writeInt32BE(this._h,28),g},s.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,s,a){var i=e("inherits"),o=e("./sha512"),u=e("./hash"),c=e("safe-buffer").Buffer,l=new Array(160);function d(){this.init(),this._w=l,u.call(this,128,112)}i(d,o),d.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},d.prototype._hash=function(){var p=c.allocUnsafe(48);function h(f,b,y){p.writeInt32BE(f,y),p.writeInt32BE(b,y+4)}return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),p},s.exports=d},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,s,a){var i=e("inherits"),o=e("./hash"),u=e("safe-buffer").Buffer,c=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],l=new Array(160);function d(){this.init(),this._w=l,o.call(this,128,112)}function p(S,D,T){return T^S&(D^T)}function h(S,D,T){return S&D|T&(S|D)}function f(S,D){return(S>>>28|D<<4)^(D>>>2|S<<30)^(D>>>7|S<<25)}function b(S,D){return(S>>>14|D<<18)^(S>>>18|D<<14)^(D>>>9|S<<23)}function y(S,D){return(S>>>1|D<<31)^(S>>>8|D<<24)^S>>>7}function g(S,D){return(S>>>1|D<<31)^(S>>>8|D<<24)^(S>>>7|D<<25)}function x(S,D){return(S>>>19|D<<13)^(D>>>29|S<<3)^S>>>6}function v(S,D){return(S>>>19|D<<13)^(D>>>29|S<<3)^(S>>>6|D<<26)}function w(S,D){return S>>>0<D>>>0?1:0}i(d,o),d.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},d.prototype._update=function(S){for(var D=this._w,T=0|this._ah,R=0|this._bh,P=0|this._ch,L=0|this._dh,O=0|this._eh,H=0|this._fh,U=0|this._gh,I=0|this._hh,F=0|this._al,A=0|this._bl,_=0|this._cl,E=0|this._dl,N=0|this._el,k=0|this._fl,B=0|this._gl,j=0|this._hl,M=0;M<32;M+=2)D[M]=S.readInt32BE(4*M),D[M+1]=S.readInt32BE(4*M+4);for(;M<160;M+=2){var G=D[M-30],Y=D[M-30+1],J=y(G,Y),V=g(Y,G),Q=x(G=D[M-4],Y=D[M-4+1]),q=v(Y,G),z=D[M-14],Z=D[M-14+1],re=D[M-32],le=D[M-32+1],ue=V+Z|0,ce=J+z+w(ue,V)|0;ce=(ce=ce+Q+w(ue=ue+q|0,q)|0)+re+w(ue=ue+le|0,le)|0,D[M]=ce,D[M+1]=ue}for(var ie=0;ie<160;ie+=2){ce=D[ie],ue=D[ie+1];var ye=h(T,R,P),he=h(F,A,_),pe=f(T,F),xe=f(F,T),Oe=b(O,N),Ae=b(N,O),Le=c[ie],He=c[ie+1],Ye=p(O,H,U),it=p(N,k,B),bt=j+Ae|0,tt=I+Oe+w(bt,j)|0;tt=(tt=(tt=tt+Ye+w(bt=bt+it|0,it)|0)+Le+w(bt=bt+He|0,He)|0)+ce+w(bt=bt+ue|0,ue)|0;var $e=xe+he|0,at=pe+ye+w($e,xe)|0;I=U,j=B,U=H,B=k,H=O,k=N,O=L+tt+w(N=E+bt|0,E)|0,L=P,E=_,P=R,_=A,R=T,A=F,T=tt+at+w(F=bt+$e|0,bt)|0}this._al=this._al+F|0,this._bl=this._bl+A|0,this._cl=this._cl+_|0,this._dl=this._dl+E|0,this._el=this._el+N|0,this._fl=this._fl+k|0,this._gl=this._gl+B|0,this._hl=this._hl+j|0,this._ah=this._ah+T+w(this._al,F)|0,this._bh=this._bh+R+w(this._bl,A)|0,this._ch=this._ch+P+w(this._cl,_)|0,this._dh=this._dh+L+w(this._dl,E)|0,this._eh=this._eh+O+w(this._el,N)|0,this._fh=this._fh+H+w(this._fl,k)|0,this._gh=this._gh+U+w(this._gl,B)|0,this._hh=this._hh+I+w(this._hl,j)|0},d.prototype._hash=function(){var S=u.allocUnsafe(64);function D(T,R,P){S.writeInt32BE(T,P),S.writeInt32BE(R,P+4)}return D(this._ah,this._al,0),D(this._bh,this._bl,8),D(this._ch,this._cl,16),D(this._dh,this._dl,24),D(this._eh,this._el,32),D(this._fh,this._fl,40),D(this._gh,this._gl,48),D(this._hh,this._hl,56),S},s.exports=d},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,s,a){s.exports=o;var i=e("events").EventEmitter;function o(){i.call(this)}e("inherits")(o,i),o.Readable=e("readable-stream/readable.js"),o.Writable=e("readable-stream/writable.js"),o.Duplex=e("readable-stream/duplex.js"),o.Transform=e("readable-stream/transform.js"),o.PassThrough=e("readable-stream/passthrough.js"),o.Stream=o,o.prototype.pipe=function(u,c){var l=this;function d(x){u.writable&&u.write(x)===!1&&l.pause&&l.pause()}function p(){l.readable&&l.resume&&l.resume()}l.on("data",d),u.on("drain",p),u._isStdio||c&&c.end===!1||(l.on("end",f),l.on("close",b));var h=!1;function f(){h||(h=!0,u.end())}function b(){h||(h=!0,typeof u.destroy=="function"&&u.destroy())}function y(x){if(g(),i.listenerCount(this,"error")===0)throw x}function g(){l.removeListener("data",d),u.removeListener("drain",p),l.removeListener("end",f),l.removeListener("close",b),l.removeListener("error",y),u.removeListener("error",y),l.removeListener("end",g),l.removeListener("close",g),u.removeListener("close",g)}return l.on("error",y),u.on("error",y),l.on("end",g),l.on("close",g),u.on("close",g),u.emit("pipe",l),u}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,s,a){var i={}.toString;s.exports=Array.isArray||function(o){return i.call(o)=="[object Array]"}},{}],507:[function(e,s,a){s.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,s,a){var i=e("process-nextick-args"),o=Object.keys||function(g){var x=[];for(var v in g)x.push(v);return x};s.exports=f;var u=Object.create(e("core-util-is"));u.inherits=e("inherits");var c=e("./_stream_readable"),l=e("./_stream_writable");u.inherits(f,c);for(var d=o(l.prototype),p=0;p<d.length;p++){var h=d[p];f.prototype[h]||(f.prototype[h]=l.prototype[h])}function f(g){if(!(this instanceof f))return new f(g);c.call(this,g),l.call(this,g),g&&g.readable===!1&&(this.readable=!1),g&&g.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,g&&g.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",b)}function b(){this.allowHalfOpen||this._writableState.ended||i.nextTick(y,this)}function y(g){g.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}}),f.prototype._destroy=function(g,x){this.push(null),this.end(),i.nextTick(x,g)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,s,a){s.exports=u;var i=e("./_stream_transform"),o=Object.create(e("core-util-is"));function u(c){if(!(this instanceof u))return new u(c);i.call(this,c)}o.inherits=e("inherits"),o.inherits(u,i),u.prototype._transform=function(c,l,d){d(null,c)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,s,a){(function(i,o){(function(){var u=e("process-nextick-args");s.exports=T;var c,l=e("isarray");T.ReadableState=D,e("events").EventEmitter;var d=function(j,M){return j.listeners(M).length},p=e("./internal/streams/stream"),h=e("safe-buffer").Buffer,f=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},b=Object.create(e("core-util-is"));b.inherits=e("inherits");var y=e("util"),g=void 0;g=y&&y.debuglog?y.debuglog("stream"):function(){};var x,v=e("./internal/streams/BufferList"),w=e("./internal/streams/destroy");b.inherits(T,p);var S=["error","close","destroy","pause","resume"];function D(j,M){j=j||{};var G=M instanceof(c=c||e("./_stream_duplex"));this.objectMode=!!j.objectMode,G&&(this.objectMode=this.objectMode||!!j.readableObjectMode);var Y=j.highWaterMark,J=j.readableHighWaterMark,V=this.objectMode?16:16384;this.highWaterMark=Y||Y===0?Y:G&&(J||J===0)?J:V,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=j.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,j.encoding&&(x||(x=e("string_decoder/").StringDecoder),this.decoder=new x(j.encoding),this.encoding=j.encoding)}function T(j){if(c=c||e("./_stream_duplex"),!(this instanceof T))return new T(j);this._readableState=new D(j,this),this.readable=!0,j&&(typeof j.read=="function"&&(this._read=j.read),typeof j.destroy=="function"&&(this._destroy=j.destroy)),p.call(this)}function R(j,M,G,Y,J){var V,Q=j._readableState;return M===null?(Q.reading=!1,function(q,z){if(!z.ended){if(z.decoder){var Z=z.decoder.end();Z&&Z.length&&(z.buffer.push(Z),z.length+=z.objectMode?1:Z.length)}z.ended=!0,O(q)}}(j,Q)):(J||(V=function(q,z){var Z;re=z,h.isBuffer(re)||re instanceof f||typeof z=="string"||z===void 0||q.objectMode||(Z=new TypeError("Invalid non-string/buffer chunk"));var re;return Z}(Q,M)),V?j.emit("error",V):Q.objectMode||M&&M.length>0?(typeof M=="string"||Q.objectMode||Object.getPrototypeOf(M)===h.prototype||(M=function(q){return h.from(q)}(M)),Y?Q.endEmitted?j.emit("error",new Error("stream.unshift() after end event")):P(j,Q,M,!0):Q.ended?j.emit("error",new Error("stream.push() after EOF")):(Q.reading=!1,Q.decoder&&!G?(M=Q.decoder.write(M),Q.objectMode||M.length!==0?P(j,Q,M,!1):U(j,Q)):P(j,Q,M,!1))):Y||(Q.reading=!1)),function(q){return!q.ended&&(q.needReadable||q.length<q.highWaterMark||q.length===0)}(Q)}function P(j,M,G,Y){M.flowing&&M.length===0&&!M.sync?(j.emit("data",G),j.read(0)):(M.length+=M.objectMode?1:G.length,Y?M.buffer.unshift(G):M.buffer.push(G),M.needReadable&&O(j)),U(j,M)}Object.defineProperty(T.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(j){this._readableState&&(this._readableState.destroyed=j)}}),T.prototype.destroy=w.destroy,T.prototype._undestroy=w.undestroy,T.prototype._destroy=function(j,M){this.push(null),M(j)},T.prototype.push=function(j,M){var G,Y=this._readableState;return Y.objectMode?G=!0:typeof j=="string"&&((M=M||Y.defaultEncoding)!==Y.encoding&&(j=h.from(j,M),M=""),G=!0),R(this,j,M,!1,G)},T.prototype.unshift=function(j){return R(this,j,null,!0,!1)},T.prototype.isPaused=function(){return this._readableState.flowing===!1},T.prototype.setEncoding=function(j){return x||(x=e("string_decoder/").StringDecoder),this._readableState.decoder=new x(j),this._readableState.encoding=j,this};function L(j,M){return j<=0||M.length===0&&M.ended?0:M.objectMode?1:j!=j?M.flowing&&M.length?M.buffer.head.data.length:M.length:(j>M.highWaterMark&&(M.highWaterMark=function(G){return G>=8388608?G=8388608:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G}(j)),j<=M.length?j:M.ended?M.length:(M.needReadable=!0,0))}function O(j){var M=j._readableState;M.needReadable=!1,M.emittedReadable||(g("emitReadable",M.flowing),M.emittedReadable=!0,M.sync?u.nextTick(H,j):H(j))}function H(j){g("emit readable"),j.emit("readable"),_(j)}function U(j,M){M.readingMore||(M.readingMore=!0,u.nextTick(I,j,M))}function I(j,M){for(var G=M.length;!M.reading&&!M.flowing&&!M.ended&&M.length<M.highWaterMark&&(g("maybeReadMore read 0"),j.read(0),G!==M.length);)G=M.length;M.readingMore=!1}function F(j){g("readable nexttick read 0"),j.read(0)}function A(j,M){M.reading||(g("resume read 0"),j.read(0)),M.resumeScheduled=!1,M.awaitDrain=0,j.emit("resume"),_(j),M.flowing&&!M.reading&&j.read(0)}function _(j){var M=j._readableState;for(g("flow",M.flowing);M.flowing&&j.read()!==null;);}function E(j,M){return M.length===0?null:(M.objectMode?G=M.buffer.shift():!j||j>=M.length?(G=M.decoder?M.buffer.join(""):M.buffer.length===1?M.buffer.head.data:M.buffer.concat(M.length),M.buffer.clear()):G=function(Y,J,V){var Q;return Y<J.head.data.length?(Q=J.head.data.slice(0,Y),J.head.data=J.head.data.slice(Y)):Q=Y===J.head.data.length?J.shift():V?function(q,z){var Z=z.head,re=1,le=Z.data;for(q-=le.length;Z=Z.next;){var ue=Z.data,ce=q>ue.length?ue.length:q;if(ce===ue.length?le+=ue:le+=ue.slice(0,q),(q-=ce)===0){ce===ue.length?(++re,Z.next?z.head=Z.next:z.head=z.tail=null):(z.head=Z,Z.data=ue.slice(ce));break}++re}return z.length-=re,le}(Y,J):function(q,z){var Z=h.allocUnsafe(q),re=z.head,le=1;for(re.data.copy(Z),q-=re.data.length;re=re.next;){var ue=re.data,ce=q>ue.length?ue.length:q;if(ue.copy(Z,Z.length-q,0,ce),(q-=ce)===0){ce===ue.length?(++le,re.next?z.head=re.next:z.head=z.tail=null):(z.head=re,re.data=ue.slice(ce));break}++le}return z.length-=le,Z}(Y,J),Q}(j,M.buffer,M.decoder),G);var G}function N(j){var M=j._readableState;if(M.length>0)throw new Error('"endReadable()" called on non-empty stream');M.endEmitted||(M.ended=!0,u.nextTick(k,M,j))}function k(j,M){j.endEmitted||j.length!==0||(j.endEmitted=!0,M.readable=!1,M.emit("end"))}function B(j,M){for(var G=0,Y=j.length;G<Y;G++)if(j[G]===M)return G;return-1}T.prototype.read=function(j){g("read",j),j=parseInt(j,10);var M=this._readableState,G=j;if(j!==0&&(M.emittedReadable=!1),j===0&&M.needReadable&&(M.length>=M.highWaterMark||M.ended))return g("read: emitReadable",M.length,M.ended),M.length===0&&M.ended?N(this):O(this),null;if((j=L(j,M))===0&&M.ended)return M.length===0&&N(this),null;var Y,J=M.needReadable;return g("need readable",J),(M.length===0||M.length-j<M.highWaterMark)&&g("length less than watermark",J=!0),M.ended||M.reading?g("reading or ended",J=!1):J&&(g("do read"),M.reading=!0,M.sync=!0,M.length===0&&(M.needReadable=!0),this._read(M.highWaterMark),M.sync=!1,M.reading||(j=L(G,M))),(Y=j>0?E(j,M):null)===null?(M.needReadable=!0,j=0):M.length-=j,M.length===0&&(M.ended||(M.needReadable=!0),G!==j&&M.ended&&N(this)),Y!==null&&this.emit("data",Y),Y},T.prototype._read=function(j){this.emit("error",new Error("_read() is not implemented"))},T.prototype.pipe=function(j,M){var G=this,Y=this._readableState;switch(Y.pipesCount){case 0:Y.pipes=j;break;case 1:Y.pipes=[Y.pipes,j];break;default:Y.pipes.push(j)}Y.pipesCount+=1,g("pipe count=%d opts=%j",Y.pipesCount,M);var J=(!M||M.end!==!1)&&j!==i.stdout&&j!==i.stderr?Q:ie;function V(ye,he){g("onunpipe"),ye===G&&he&&he.hasUnpiped===!1&&(he.hasUnpiped=!0,g("cleanup"),j.removeListener("close",ue),j.removeListener("finish",ce),j.removeListener("drain",q),j.removeListener("error",le),j.removeListener("unpipe",V),G.removeListener("end",Q),G.removeListener("end",ie),G.removeListener("data",re),z=!0,!Y.awaitDrain||j._writableState&&!j._writableState.needDrain||q())}function Q(){g("onend"),j.end()}Y.endEmitted?u.nextTick(J):G.once("end",J),j.on("unpipe",V);var q=function(ye){return function(){var he=ye._readableState;g("pipeOnDrain",he.awaitDrain),he.awaitDrain&&he.awaitDrain--,he.awaitDrain===0&&d(ye,"data")&&(he.flowing=!0,_(ye))}}(G);j.on("drain",q);var z=!1,Z=!1;function re(ye){g("ondata"),Z=!1,j.write(ye)!==!1||Z||((Y.pipesCount===1&&Y.pipes===j||Y.pipesCount>1&&B(Y.pipes,j)!==-1)&&!z&&(g("false write response, pause",Y.awaitDrain),Y.awaitDrain++,Z=!0),G.pause())}function le(ye){g("onerror",ye),ie(),j.removeListener("error",le),d(j,"error")===0&&j.emit("error",ye)}function ue(){j.removeListener("finish",ce),ie()}function ce(){g("onfinish"),j.removeListener("close",ue),ie()}function ie(){g("unpipe"),G.unpipe(j)}return G.on("data",re),function(ye,he,pe){if(typeof ye.prependListener=="function")return ye.prependListener(he,pe);ye._events&&ye._events[he]?l(ye._events[he])?ye._events[he].unshift(pe):ye._events[he]=[pe,ye._events[he]]:ye.on(he,pe)}(j,"error",le),j.once("close",ue),j.once("finish",ce),j.emit("pipe",G),Y.flowing||(g("pipe resume"),G.resume()),j},T.prototype.unpipe=function(j){var M=this._readableState,G={hasUnpiped:!1};if(M.pipesCount===0)return this;if(M.pipesCount===1)return j&&j!==M.pipes||(j||(j=M.pipes),M.pipes=null,M.pipesCount=0,M.flowing=!1,j&&j.emit("unpipe",this,G)),this;if(!j){var Y=M.pipes,J=M.pipesCount;M.pipes=null,M.pipesCount=0,M.flowing=!1;for(var V=0;V<J;V++)Y[V].emit("unpipe",this,{hasUnpiped:!1});return this}var Q=B(M.pipes,j);return Q===-1||(M.pipes.splice(Q,1),M.pipesCount-=1,M.pipesCount===1&&(M.pipes=M.pipes[0]),j.emit("unpipe",this,G)),this},T.prototype.on=function(j,M){var G=p.prototype.on.call(this,j,M);if(j==="data")this._readableState.flowing!==!1&&this.resume();else if(j==="readable"){var Y=this._readableState;Y.endEmitted||Y.readableListening||(Y.readableListening=Y.needReadable=!0,Y.emittedReadable=!1,Y.reading?Y.length&&O(this):u.nextTick(F,this))}return G},T.prototype.addListener=T.prototype.on,T.prototype.resume=function(){var j=this._readableState;return j.flowing||(g("resume"),j.flowing=!0,function(M,G){G.resumeScheduled||(G.resumeScheduled=!0,u.nextTick(A,M,G))}(this,j)),this},T.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this},T.prototype.wrap=function(j){var M=this,G=this._readableState,Y=!1;for(var J in j.on("end",function(){if(g("wrapped end"),G.decoder&&!G.ended){var Q=G.decoder.end();Q&&Q.length&&M.push(Q)}M.push(null)}),j.on("data",function(Q){g("wrapped data"),G.decoder&&(Q=G.decoder.write(Q)),G.objectMode&&Q==null||(G.objectMode||Q&&Q.length)&&(M.push(Q)||(Y=!0,j.pause()))}),j)this[J]===void 0&&typeof j[J]=="function"&&(this[J]=function(Q){return function(){return j[Q].apply(j,arguments)}}(J));for(var V=0;V<S.length;V++)j.on(S[V],this.emit.bind(this,S[V]));return this._read=function(Q){g("wrapped _read",Q),Y&&(Y=!1,j.resume())},this},Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),T._fromList=E}).call(this)}).call(this,e("_process"),typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,s,a){s.exports=c;var i=e("./_stream_duplex"),o=Object.create(e("core-util-is"));function u(p,h){var f=this._transformState;f.transforming=!1;var b=f.writecb;if(!b)return this.emit("error",new Error("write callback called multiple times"));f.writechunk=null,f.writecb=null,h!=null&&this.push(h),b(p);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function c(p){if(!(this instanceof c))return new c(p);i.call(this,p),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",l)}function l(){var p=this;typeof this._flush=="function"?this._flush(function(h,f){d(p,h,f)}):d(this,null,null)}function d(p,h,f){if(h)return p.emit("error",h);if(f!=null&&p.push(f),p._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(p._transformState.transforming)throw new Error("Calling transform done when still transforming");return p.push(null)}o.inherits=e("inherits"),o.inherits(c,i),c.prototype.push=function(p,h){return this._transformState.needTransform=!1,i.prototype.push.call(this,p,h)},c.prototype._transform=function(p,h,f){throw new Error("_transform() is not implemented")},c.prototype._write=function(p,h,f){var b=this._transformState;if(b.writecb=f,b.writechunk=p,b.writeencoding=h,!b.transforming){var y=this._readableState;(b.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},c.prototype._read=function(p){var h=this._transformState;h.writechunk!==null&&h.writecb&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},c.prototype._destroy=function(p,h){var f=this;i.prototype._destroy.call(this,p,function(b){h(b),f.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,s,a){(function(i,o,u){(function(){var c=e("process-nextick-args");function l(U){var I=this;this.next=null,this.entry=null,this.finish=function(){(function(F,A,_){var E=F.entry;for(F.entry=null;E;){var N=E.callback;A.pendingcb--,N(_),E=E.next}A.corkedRequestsFree.next=F})(I,U)}}s.exports=D;var d,p=!i.browser&&["v0.10","v0.9."].indexOf(i.version.slice(0,5))>-1?u:c.nextTick;D.WritableState=S;var h=Object.create(e("core-util-is"));h.inherits=e("inherits");var f={deprecate:e("util-deprecate")},b=e("./internal/streams/stream"),y=e("safe-buffer").Buffer,g=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},x,v=e("./internal/streams/destroy");function w(){}function S(U,I){d=d||e("./_stream_duplex"),U=U||{};var F=I instanceof d;this.objectMode=!!U.objectMode,F&&(this.objectMode=this.objectMode||!!U.writableObjectMode);var A=U.highWaterMark,_=U.writableHighWaterMark,E=this.objectMode?16:16384;this.highWaterMark=A||A===0?A:F&&(_||_===0)?_:E,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var N=U.decodeStrings===!1;this.decodeStrings=!N,this.defaultEncoding=U.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(k){(function(B,j){var M=B._writableState,G=M.sync,Y=M.writecb;if(function(V){V.writing=!1,V.writecb=null,V.length-=V.writelen,V.writelen=0}(M),j)(function(V,Q,q,z,Z){--Q.pendingcb,q?(c.nextTick(Z,z),c.nextTick(H,V,Q),V._writableState.errorEmitted=!0,V.emit("error",z)):(Z(z),V._writableState.errorEmitted=!0,V.emit("error",z),H(V,Q))})(B,M,G,j,Y);else{var J=L(M);J||M.corked||M.bufferProcessing||!M.bufferedRequest||P(B,M),G?p(R,B,M,J,Y):R(B,M,J,Y)}})(I,k)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}function D(U){if(d=d||e("./_stream_duplex"),!(x.call(D,this)||this instanceof d))return new D(U);this._writableState=new S(U,this),this.writable=!0,U&&(typeof U.write=="function"&&(this._write=U.write),typeof U.writev=="function"&&(this._writev=U.writev),typeof U.destroy=="function"&&(this._destroy=U.destroy),typeof U.final=="function"&&(this._final=U.final)),b.call(this)}function T(U,I,F,A,_,E,N){I.writelen=A,I.writecb=N,I.writing=!0,I.sync=!0,F?U._writev(_,I.onwrite):U._write(_,E,I.onwrite),I.sync=!1}function R(U,I,F,A){F||function(_,E){E.length===0&&E.needDrain&&(E.needDrain=!1,_.emit("drain"))}(U,I),I.pendingcb--,A(),H(U,I)}function P(U,I){I.bufferProcessing=!0;var F=I.bufferedRequest;if(U._writev&&F&&F.next){var A=I.bufferedRequestCount,_=new Array(A),E=I.corkedRequestsFree;E.entry=F;for(var N=0,k=!0;F;)_[N]=F,F.isBuf||(k=!1),F=F.next,N+=1;_.allBuffers=k,T(U,I,!0,I.length,_,"",E.finish),I.pendingcb++,I.lastBufferedRequest=null,E.next?(I.corkedRequestsFree=E.next,E.next=null):I.corkedRequestsFree=new l(I),I.bufferedRequestCount=0}else{for(;F;){var B=F.chunk,j=F.encoding,M=F.callback;if(T(U,I,!1,I.objectMode?1:B.length,B,j,M),F=F.next,I.bufferedRequestCount--,I.writing)break}F===null&&(I.lastBufferedRequest=null)}I.bufferedRequest=F,I.bufferProcessing=!1}function L(U){return U.ending&&U.length===0&&U.bufferedRequest===null&&!U.finished&&!U.writing}function O(U,I){U._final(function(F){I.pendingcb--,F&&U.emit("error",F),I.prefinished=!0,U.emit("prefinish"),H(U,I)})}function H(U,I){var F=L(I);return F&&(function(A,_){_.prefinished||_.finalCalled||(typeof A._final=="function"?(_.pendingcb++,_.finalCalled=!0,c.nextTick(O,A,_)):(_.prefinished=!0,A.emit("prefinish")))}(U,I),I.pendingcb===0&&(I.finished=!0,U.emit("finish"))),F}h.inherits(D,b),S.prototype.getBuffer=function(){for(var U=this.bufferedRequest,I=[];U;)I.push(U),U=U.next;return I},function(){try{Object.defineProperty(S.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(x=Function.prototype[Symbol.hasInstance],Object.defineProperty(D,Symbol.hasInstance,{value:function(U){return!!x.call(this,U)||this===D&&U&&U._writableState instanceof S}})):x=function(U){return U instanceof this},D.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},D.prototype.write=function(U,I,F){var A,_=this._writableState,E=!1,N=!_.objectMode&&(A=U,y.isBuffer(A)||A instanceof g);return N&&!y.isBuffer(U)&&(U=function(k){return y.from(k)}(U)),typeof I=="function"&&(F=I,I=null),N?I="buffer":I||(I=_.defaultEncoding),typeof F!="function"&&(F=w),_.ended?function(k,B){var j=new Error("write after end");k.emit("error",j),c.nextTick(B,j)}(this,F):(N||function(k,B,j,M){var G=!0,Y=!1;return j===null?Y=new TypeError("May not write null values to stream"):typeof j=="string"||j===void 0||B.objectMode||(Y=new TypeError("Invalid non-string/buffer chunk")),Y&&(k.emit("error",Y),c.nextTick(M,Y),G=!1),G}(this,_,U,F))&&(_.pendingcb++,E=function(k,B,j,M,G,Y){if(!j){var J=function(z,Z,re){return z.objectMode||z.decodeStrings===!1||typeof Z!="string"||(Z=y.from(Z,re)),Z}(B,M,G);M!==J&&(j=!0,G="buffer",M=J)}var V=B.objectMode?1:M.length;B.length+=V;var Q=B.length<B.highWaterMark;if(Q||(B.needDrain=!0),B.writing||B.corked){var q=B.lastBufferedRequest;B.lastBufferedRequest={chunk:M,encoding:G,isBuf:j,callback:Y,next:null},q?q.next=B.lastBufferedRequest:B.bufferedRequest=B.lastBufferedRequest,B.bufferedRequestCount+=1}else T(k,B,!1,V,M,G,Y);return Q}(this,_,N,U,I,F)),E},D.prototype.cork=function(){this._writableState.corked++},D.prototype.uncork=function(){var U=this._writableState;U.corked&&(U.corked--,U.writing||U.corked||U.bufferProcessing||!U.bufferedRequest||P(this,U))},D.prototype.setDefaultEncoding=function(U){if(typeof U=="string"&&(U=U.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((U+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+U);return this._writableState.defaultEncoding=U,this},Object.defineProperty(D.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),D.prototype._write=function(U,I,F){F(new Error("_write() is not implemented"))},D.prototype._writev=null,D.prototype.end=function(U,I,F){var A=this._writableState;typeof U=="function"?(F=U,U=null,I=null):typeof I=="function"&&(F=I,I=null),U!=null&&this.write(U,I),A.corked&&(A.corked=1,this.uncork()),A.ending||function(_,E,N){E.ending=!0,H(_,E),N&&(E.finished?c.nextTick(N):_.once("finish",N)),E.ended=!0,_.writable=!1}(this,A,F)},Object.defineProperty(D.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(U){this._writableState&&(this._writableState.destroyed=U)}}),D.prototype.destroy=v.destroy,D.prototype._undestroy=v.undestroy,D.prototype._destroy=function(U,I){this.end(),I(U)}}).call(this)}).call(this,e("_process"),typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,s,a){var i=e("safe-buffer").Buffer,o=e("util");s.exports=function(){function u(){(function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,u),this.head=null,this.tail=null,this.length=0}return u.prototype.push=function(c){var l={data:c,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length},u.prototype.unshift=function(c){var l={data:c,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length},u.prototype.shift=function(){if(this.length!==0){var c=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,c}},u.prototype.clear=function(){this.head=this.tail=null,this.length=0},u.prototype.join=function(c){if(this.length===0)return"";for(var l=this.head,d=""+l.data;l=l.next;)d+=c+l.data;return d},u.prototype.concat=function(c){if(this.length===0)return i.alloc(0);for(var l,d,p,h=i.allocUnsafe(c>>>0),f=this.head,b=0;f;)l=f.data,d=h,p=b,l.copy(d,p),b+=f.data.length,f=f.next;return h},u}(),o&&o.inspect&&o.inspect.custom&&(s.exports.prototype[o.inspect.custom]=function(){var u=o.inspect({length:this.length});return this.constructor.name+" "+u})},{"safe-buffer":520,util:188}],514:[function(e,s,a){var i=e("process-nextick-args");function o(u,c){u.emit("error",c)}s.exports={destroy:function(u,c){var l=this,d=this._readableState&&this._readableState.destroyed,p=this._writableState&&this._writableState.destroyed;return d||p?(c?c(u):u&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(o,this,u)):i.nextTick(o,this,u)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(u||null,function(h){!c&&h?l._writableState?l._writableState.errorEmitted||(l._writableState.errorEmitted=!0,i.nextTick(o,l,h)):i.nextTick(o,l,h):c&&c(h)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(e,s,a){arguments[4][490][0].apply(a,arguments)},{dup:490,events:422}],516:[function(e,s,a){s.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,s,a){(a=s.exports=e("./lib/_stream_readable.js")).Stream=a,a.Readable=a,a.Writable=e("./lib/_stream_writable.js"),a.Duplex=e("./lib/_stream_duplex.js"),a.Transform=e("./lib/_stream_transform.js"),a.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,s,a){s.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,s,a){s.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,s,a){arguments[4][217][0].apply(a,arguments)},{buffer:220,dup:217}],521:[function(e,s,a){arguments[4][218][0].apply(a,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,s,a){arguments[4][218][0].apply(a,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,s,a){(function(i,o){(function(){var u=e("process/browser.js").nextTick,c=Function.prototype.apply,l=Array.prototype.slice,d={},p=0;function h(f,b){this._id=f,this._clearFn=b}a.setTimeout=function(){return new h(c.call(setTimeout,window,arguments),clearTimeout)},a.setInterval=function(){return new h(c.call(setInterval,window,arguments),clearInterval)},a.clearTimeout=a.clearInterval=function(f){f.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(window,this._id)},a.enroll=function(f,b){clearTimeout(f._idleTimeoutId),f._idleTimeout=b},a.unenroll=function(f){clearTimeout(f._idleTimeoutId),f._idleTimeout=-1},a._unrefActive=a.active=function(f){clearTimeout(f._idleTimeoutId);var b=f._idleTimeout;b>=0&&(f._idleTimeoutId=setTimeout(function(){f._onTimeout&&f._onTimeout()},b))},a.setImmediate=typeof i=="function"?i:function(f){var b=p++,y=!(arguments.length<2)&&l.call(arguments,1);return d[b]=!0,u(function(){d[b]&&(y?f.apply(null,y):f.call(null),a.clearImmediate(b))}),b},a.clearImmediate=typeof o=="function"?o:function(f){delete d[f]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,s,a){(function(i){(function(){function o(u){try{if(!i.localStorage)return!1}catch{return!1}var c=i.localStorage[u];return c!=null&&String(c).toLowerCase()==="true"}s.exports=function(u,c){if(o("noDeprecation"))return u;var l=!1;return function(){if(!l){if(o("throwDeprecation"))throw new Error(c);o("traceDeprecation")?console.trace(c):console.warn(c),l=!0}return u.apply(this,arguments)}}}).call(this)}).call(this,typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,s,a){typeof Object.create=="function"?s.exports=function(i,o){i.super_=o,i.prototype=Object.create(o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}})}:s.exports=function(i,o){i.super_=o;var u=function(){};u.prototype=o.prototype,i.prototype=new u,i.prototype.constructor=i}},{}],526:[function(e,s,a){s.exports=function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"}},{}],527:[function(e,s,a){(function(i,o){(function(){var u=/%[sdj%]/g;a.format=function(_){if(!S(_)){for(var E=[],N=0;N<arguments.length;N++)E.push(d(arguments[N]));return E.join(" ")}N=1;for(var k=arguments,B=k.length,j=String(_).replace(u,function(G){if(G==="%%")return"%";if(N>=B)return G;switch(G){case"%s":return String(k[N++]);case"%d":return Number(k[N++]);case"%j":try{return JSON.stringify(k[N++])}catch{return"[Circular]"}default:return G}}),M=k[N];N<B;M=k[++N])v(M)||!R(M)?j+=" "+M:j+=" "+d(M);return j},a.deprecate=function(_,E){if(D(o.process))return function(){return a.deprecate(_,E).apply(this,arguments)};if(i.noDeprecation===!0)return _;var N=!1;return function(){if(!N){if(i.throwDeprecation)throw new Error(E);i.traceDeprecation?console.trace(E):console.error(E),N=!0}return _.apply(this,arguments)}};var c,l={};function d(_,E){var N={seen:[],stylize:h};return arguments.length>=3&&(N.depth=arguments[2]),arguments.length>=4&&(N.colors=arguments[3]),x(E)?N.showHidden=E:E&&a._extend(N,E),D(N.showHidden)&&(N.showHidden=!1),D(N.depth)&&(N.depth=2),D(N.colors)&&(N.colors=!1),D(N.customInspect)&&(N.customInspect=!0),N.colors&&(N.stylize=p),f(N,_,N.depth)}function p(_,E){var N=d.styles[E];return N?"\x1B["+d.colors[N][0]+"m"+_+"\x1B["+d.colors[N][1]+"m":_}function h(_,E){return _}function f(_,E,N){if(_.customInspect&&E&&O(E.inspect)&&E.inspect!==a.inspect&&(!E.constructor||E.constructor.prototype!==E)){var k=E.inspect(N,_);return S(k)||(k=f(_,k,N)),k}var B=function(q,z){if(D(z))return q.stylize("undefined","undefined");if(S(z)){var Z="'"+JSON.stringify(z).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return q.stylize(Z,"string")}if(w(z))return q.stylize(""+z,"number");if(x(z))return q.stylize(""+z,"boolean");if(v(z))return q.stylize("null","null")}(_,E);if(B)return B;var j=Object.keys(E),M=function(q){var z={};return q.forEach(function(Z,re){z[Z]=!0}),z}(j);if(_.showHidden&&(j=Object.getOwnPropertyNames(E)),L(E)&&(j.indexOf("message")>=0||j.indexOf("description")>=0))return b(E);if(j.length===0){if(O(E)){var G=E.name?": "+E.name:"";return _.stylize("[Function"+G+"]","special")}if(T(E))return _.stylize(RegExp.prototype.toString.call(E),"regexp");if(P(E))return _.stylize(Date.prototype.toString.call(E),"date");if(L(E))return b(E)}var Y,J="",V=!1,Q=["{","}"];return g(E)&&(V=!0,Q=["[","]"]),O(E)&&(J=" [Function"+(E.name?": "+E.name:"")+"]"),T(E)&&(J=" "+RegExp.prototype.toString.call(E)),P(E)&&(J=" "+Date.prototype.toUTCString.call(E)),L(E)&&(J=" "+b(E)),j.length!==0||V&&E.length!=0?N<0?T(E)?_.stylize(RegExp.prototype.toString.call(E),"regexp"):_.stylize("[Object]","special"):(_.seen.push(E),Y=V?function(q,z,Z,re,le){for(var ue=[],ce=0,ie=z.length;ce<ie;++ce)A(z,String(ce))?ue.push(y(q,z,Z,re,String(ce),!0)):ue.push("");return le.forEach(function(ye){ye.match(/^\d+$/)||ue.push(y(q,z,Z,re,ye,!0))}),ue}(_,E,N,M,j):j.map(function(q){return y(_,E,N,M,q,V)}),_.seen.pop(),function(q,z,Z){return q.reduce(function(re,le){return le.indexOf(`
`)>=0,re+le.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Z[0]+(z===""?"":z+`
 `)+" "+q.join(`,
  `)+" "+Z[1]:Z[0]+z+" "+q.join(", ")+" "+Z[1]}(Y,J,Q)):Q[0]+J+Q[1]}function b(_){return"["+Error.prototype.toString.call(_)+"]"}function y(_,E,N,k,B,j){var M,G,Y;if((Y=Object.getOwnPropertyDescriptor(E,B)||{value:E[B]}).get?G=Y.set?_.stylize("[Getter/Setter]","special"):_.stylize("[Getter]","special"):Y.set&&(G=_.stylize("[Setter]","special")),A(k,B)||(M="["+B+"]"),G||(_.seen.indexOf(Y.value)<0?(G=v(N)?f(_,Y.value,null):f(_,Y.value,N-1)).indexOf(`
`)>-1&&(G=j?G.split(`
`).map(function(J){return"  "+J}).join(`
`).substr(2):`
`+G.split(`
`).map(function(J){return"   "+J}).join(`
`)):G=_.stylize("[Circular]","special")),D(M)){if(j&&B.match(/^\d+$/))return G;(M=JSON.stringify(""+B)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(M=M.substr(1,M.length-2),M=_.stylize(M,"name")):(M=M.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),M=_.stylize(M,"string"))}return M+": "+G}function g(_){return Array.isArray(_)}function x(_){return typeof _=="boolean"}function v(_){return _===null}function w(_){return typeof _=="number"}function S(_){return typeof _=="string"}function D(_){return _===void 0}function T(_){return R(_)&&H(_)==="[object RegExp]"}function R(_){return typeof _=="object"&&_!==null}function P(_){return R(_)&&H(_)==="[object Date]"}function L(_){return R(_)&&(H(_)==="[object Error]"||_ instanceof Error)}function O(_){return typeof _=="function"}function H(_){return Object.prototype.toString.call(_)}function U(_){return _<10?"0"+_.toString(10):_.toString(10)}a.debuglog=function(_){if(D(c)&&(c=i.env.NODE_DEBUG||""),_=_.toUpperCase(),!l[_])if(new RegExp("\\b"+_+"\\b","i").test(c)){var E=i.pid;l[_]=function(){var N=a.format.apply(a,arguments);console.error("%s %d: %s",_,E,N)}}else l[_]=function(){};return l[_]},a.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},a.isArray=g,a.isBoolean=x,a.isNull=v,a.isNullOrUndefined=function(_){return _==null},a.isNumber=w,a.isString=S,a.isSymbol=function(_){return typeof _=="symbol"},a.isUndefined=D,a.isRegExp=T,a.isObject=R,a.isDate=P,a.isError=L,a.isFunction=O,a.isPrimitive=function(_){return _===null||typeof _=="boolean"||typeof _=="number"||typeof _=="string"||typeof _=="symbol"||_===void 0},a.isBuffer=e("./support/isBuffer");var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function F(){var _=new Date,E=[U(_.getHours()),U(_.getMinutes()),U(_.getSeconds())].join(":");return[_.getDate(),I[_.getMonth()],E].join(" ")}function A(_,E){return Object.prototype.hasOwnProperty.call(_,E)}a.log=function(){console.log("%s - %s",F(),a.format.apply(a,arguments))},a.inherits=e("inherits"),a._extend=function(_,E){if(!E||!R(E))return _;for(var N=Object.keys(E),k=N.length;k--;)_[N[k]]=E[N[k]];return _}}).call(this)}).call(this,e("_process"),typeof t<"u"?t:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"v1",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(a,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(a,"v4",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(a,"v5",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(a,"NIL",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(a,"version",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(a,"validate",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(a,"stringify",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(a,"parse",{enumerable:!0,get:function(){return f.default}});var i=b(e("./v1.js")),o=b(e("./v3.js")),u=b(e("./v4.js")),c=b(e("./v5.js")),l=b(e("./nil.js")),d=b(e("./version.js")),p=b(e("./validate.js")),h=b(e("./stringify.js")),f=b(e("./parse.js"));function b(y){return y&&y.__esModule?y:{default:y}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,s,a){function i(f){return 14+(f+64>>>9<<4)+1}function o(f,b){const y=(65535&f)+(65535&b);return(f>>16)+(b>>16)+(y>>16)<<16|65535&y}function u(f,b,y,g,x,v){return o((w=o(o(b,f),o(g,v)))<<(S=x)|w>>>32-S,y);var w,S}function c(f,b,y,g,x,v,w){return u(b&y|~b&g,f,b,x,v,w)}function l(f,b,y,g,x,v,w){return u(b&g|y&~g,f,b,x,v,w)}function d(f,b,y,g,x,v,w){return u(b^y^g,f,b,x,v,w)}function p(f,b,y,g,x,v,w){return u(y^(b|~g),f,b,x,v,w)}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var h=function(f){if(typeof f=="string"){const b=unescape(encodeURIComponent(f));f=new Uint8Array(b.length);for(let y=0;y<b.length;++y)f[y]=b.charCodeAt(y)}return function(b){const y=[],g=32*b.length;for(let x=0;x<g;x+=8){const v=b[x>>5]>>>x%32&255,w=parseInt("0123456789abcdef".charAt(v>>>4&15)+"0123456789abcdef".charAt(15&v),16);y.push(w)}return y}(function(b,y){b[y>>5]|=128<<y%32,b[i(y)-1]=y;let g=1732584193,x=-271733879,v=-1732584194,w=271733878;for(let S=0;S<b.length;S+=16){const D=g,T=x,R=v,P=w;g=c(g,x,v,w,b[S],7,-680876936),w=c(w,g,x,v,b[S+1],12,-389564586),v=c(v,w,g,x,b[S+2],17,606105819),x=c(x,v,w,g,b[S+3],22,-1044525330),g=c(g,x,v,w,b[S+4],7,-176418897),w=c(w,g,x,v,b[S+5],12,1200080426),v=c(v,w,g,x,b[S+6],17,-1473231341),x=c(x,v,w,g,b[S+7],22,-45705983),g=c(g,x,v,w,b[S+8],7,1770035416),w=c(w,g,x,v,b[S+9],12,-1958414417),v=c(v,w,g,x,b[S+10],17,-42063),x=c(x,v,w,g,b[S+11],22,-1990404162),g=c(g,x,v,w,b[S+12],7,1804603682),w=c(w,g,x,v,b[S+13],12,-40341101),v=c(v,w,g,x,b[S+14],17,-1502002290),x=c(x,v,w,g,b[S+15],22,1236535329),g=l(g,x,v,w,b[S+1],5,-165796510),w=l(w,g,x,v,b[S+6],9,-1069501632),v=l(v,w,g,x,b[S+11],14,643717713),x=l(x,v,w,g,b[S],20,-373897302),g=l(g,x,v,w,b[S+5],5,-701558691),w=l(w,g,x,v,b[S+10],9,38016083),v=l(v,w,g,x,b[S+15],14,-660478335),x=l(x,v,w,g,b[S+4],20,-405537848),g=l(g,x,v,w,b[S+9],5,568446438),w=l(w,g,x,v,b[S+14],9,-1019803690),v=l(v,w,g,x,b[S+3],14,-187363961),x=l(x,v,w,g,b[S+8],20,1163531501),g=l(g,x,v,w,b[S+13],5,-1444681467),w=l(w,g,x,v,b[S+2],9,-51403784),v=l(v,w,g,x,b[S+7],14,1735328473),x=l(x,v,w,g,b[S+12],20,-1926607734),g=d(g,x,v,w,b[S+5],4,-378558),w=d(w,g,x,v,b[S+8],11,-2022574463),v=d(v,w,g,x,b[S+11],16,1839030562),x=d(x,v,w,g,b[S+14],23,-35309556),g=d(g,x,v,w,b[S+1],4,-1530992060),w=d(w,g,x,v,b[S+4],11,1272893353),v=d(v,w,g,x,b[S+7],16,-155497632),x=d(x,v,w,g,b[S+10],23,-1094730640),g=d(g,x,v,w,b[S+13],4,681279174),w=d(w,g,x,v,b[S],11,-358537222),v=d(v,w,g,x,b[S+3],16,-722521979),x=d(x,v,w,g,b[S+6],23,76029189),g=d(g,x,v,w,b[S+9],4,-640364487),w=d(w,g,x,v,b[S+12],11,-421815835),v=d(v,w,g,x,b[S+15],16,530742520),x=d(x,v,w,g,b[S+2],23,-995338651),g=p(g,x,v,w,b[S],6,-198630844),w=p(w,g,x,v,b[S+7],10,1126891415),v=p(v,w,g,x,b[S+14],15,-1416354905),x=p(x,v,w,g,b[S+5],21,-57434055),g=p(g,x,v,w,b[S+12],6,1700485571),w=p(w,g,x,v,b[S+3],10,-1894986606),v=p(v,w,g,x,b[S+10],15,-1051523),x=p(x,v,w,g,b[S+1],21,-2054922799),g=p(g,x,v,w,b[S+8],6,1873313359),w=p(w,g,x,v,b[S+15],10,-30611744),v=p(v,w,g,x,b[S+6],15,-1560198380),x=p(x,v,w,g,b[S+13],21,1309151649),g=p(g,x,v,w,b[S+4],6,-145523070),w=p(w,g,x,v,b[S+11],10,-1120210379),v=p(v,w,g,x,b[S+2],15,718787259),x=p(x,v,w,g,b[S+9],21,-343485551),g=o(g,D),x=o(x,T),v=o(v,R),w=o(w,P)}return[g,x,v,w]}(function(b){if(b.length===0)return[];const y=8*b.length,g=new Uint32Array(i(y));for(let x=0;x<y;x+=8)g[x>>5]|=(255&b[x/8])<<x%32;return g}(f),8*f.length))};a.default=h},{}],530:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,a.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i,o=(i=e("./validate.js"))&&i.__esModule?i:{default:i},u=function(c){if(!(0,o.default)(c))throw TypeError("Invalid UUID");let l;const d=new Uint8Array(16);return d[0]=(l=parseInt(c.slice(0,8),16))>>>24,d[1]=l>>>16&255,d[2]=l>>>8&255,d[3]=255&l,d[4]=(l=parseInt(c.slice(9,13),16))>>>8,d[5]=255&l,d[6]=(l=parseInt(c.slice(14,18),16))>>>8,d[7]=255&l,d[8]=(l=parseInt(c.slice(19,23),16))>>>8,d[9]=255&l,d[10]=(l=parseInt(c.slice(24,36),16))/1099511627776&255,d[11]=l/4294967296&255,d[12]=l>>>24&255,d[13]=l>>>16&255,d[14]=l>>>8&255,d[15]=255&l,d};a.default=u},{"./validate.js":541}],532:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,a.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(e,s,a){let i;Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(){if(!i&&(i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(o)};const o=new Uint8Array(16)},{}],534:[function(e,s,a){function i(c,l,d,p){switch(c){case 0:return l&d^~l&p;case 1:return l^d^p;case 2:return l&d^l&p^d&p;case 3:return l^d^p}}function o(c,l){return c<<l|c>>>32-l}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var u=function(c){const l=[1518500249,1859775393,2400959708,3395469782],d=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof c=="string"){const b=unescape(encodeURIComponent(c));c=[];for(let y=0;y<b.length;++y)c.push(b.charCodeAt(y))}else Array.isArray(c)||(c=Array.prototype.slice.call(c));c.push(128);const p=c.length/4+2,h=Math.ceil(p/16),f=new Array(h);for(let b=0;b<h;++b){const y=new Uint32Array(16);for(let g=0;g<16;++g)y[g]=c[64*b+4*g]<<24|c[64*b+4*g+1]<<16|c[64*b+4*g+2]<<8|c[64*b+4*g+3];f[b]=y}f[h-1][14]=8*(c.length-1)/Math.pow(2,32),f[h-1][14]=Math.floor(f[h-1][14]),f[h-1][15]=8*(c.length-1)&4294967295;for(let b=0;b<h;++b){const y=new Uint32Array(80);for(let D=0;D<16;++D)y[D]=f[b][D];for(let D=16;D<80;++D)y[D]=o(y[D-3]^y[D-8]^y[D-14]^y[D-16],1);let g=d[0],x=d[1],v=d[2],w=d[3],S=d[4];for(let D=0;D<80;++D){const T=Math.floor(D/20),R=o(g,5)+i(T,x,v,w)+S+l[T]+y[D]>>>0;S=w,w=v,v=o(x,30)>>>0,x=g,g=R}d[0]=d[0]+g>>>0,d[1]=d[1]+x>>>0,d[2]=d[2]+v>>>0,d[3]=d[3]+w>>>0,d[4]=d[4]+S>>>0}return[d[0]>>24&255,d[0]>>16&255,d[0]>>8&255,255&d[0],d[1]>>24&255,d[1]>>16&255,d[1]>>8&255,255&d[1],d[2]>>24&255,d[2]>>16&255,d[2]>>8&255,255&d[2],d[3]>>24&255,d[3]>>16&255,d[3]>>8&255,255&d[3],d[4]>>24&255,d[4]>>16&255,d[4]>>8&255,255&d[4]]};a.default=u},{}],535:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i,o=(i=e("./validate.js"))&&i.__esModule?i:{default:i};const u=[];for(let l=0;l<256;++l)u.push((l+256).toString(16).substr(1));var c=function(l){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const p=(u[l[d+0]]+u[l[d+1]]+u[l[d+2]]+u[l[d+3]]+"-"+u[l[d+4]]+u[l[d+5]]+"-"+u[l[d+6]]+u[l[d+7]]+"-"+u[l[d+8]]+u[l[d+9]]+"-"+u[l[d+10]]+u[l[d+11]]+u[l[d+12]]+u[l[d+13]]+u[l[d+14]]+u[l[d+15]]).toLowerCase();if(!(0,o.default)(p))throw TypeError("Stringified UUID is invalid");return p};a.default=c},{"./validate.js":541}],536:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=u(e("./rng.js")),o=u(e("./stringify.js"));function u(f){return f&&f.__esModule?f:{default:f}}let c,l,d=0,p=0;var h=function(f,b,y){let g=b&&y||0;const x=b||new Array(16);let v=(f=f||{}).node||c,w=f.clockseq!==void 0?f.clockseq:l;if(v==null||w==null){const L=f.random||(f.rng||i.default)();v==null&&(v=c=[1|L[0],L[1],L[2],L[3],L[4],L[5]]),w==null&&(w=l=16383&(L[6]<<8|L[7]))}let S=f.msecs!==void 0?f.msecs:Date.now(),D=f.nsecs!==void 0?f.nsecs:p+1;const T=S-d+(D-p)/1e4;if(T<0&&f.clockseq===void 0&&(w=w+1&16383),(T<0||S>d)&&f.nsecs===void 0&&(D=0),D>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=S,p=D,l=w,S+=122192928e5;const R=(1e4*(268435455&S)+D)%4294967296;x[g++]=R>>>24&255,x[g++]=R>>>16&255,x[g++]=R>>>8&255,x[g++]=255&R;const P=S/4294967296*1e4&268435455;x[g++]=P>>>8&255,x[g++]=255&P,x[g++]=P>>>24&15|16,x[g++]=P>>>16&255,x[g++]=w>>>8|128,x[g++]=255&w;for(let L=0;L<6;++L)x[g+L]=v[L];return b||(0,o.default)(x)};a.default=h},{"./rng.js":533,"./stringify.js":535}],537:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=u(e("./v35.js")),o=u(e("./md5.js"));function u(l){return l&&l.__esModule?l:{default:l}}var c=(0,i.default)("v3",48,o.default);a.default=c},{"./md5.js":529,"./v35.js":538}],538:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(d,p,h){function f(b,y,g,x){if(typeof b=="string"&&(b=function(w){w=unescape(encodeURIComponent(w));const S=[];for(let D=0;D<w.length;++D)S.push(w.charCodeAt(D));return S}(b)),typeof y=="string"&&(y=(0,o.default)(y)),y.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let v=new Uint8Array(16+b.length);if(v.set(y),v.set(b,y.length),v=h(v),v[6]=15&v[6]|p,v[8]=63&v[8]|128,g){x=x||0;for(let w=0;w<16;++w)g[x+w]=v[w];return g}return(0,i.default)(v)}try{f.name=d}catch{}return f.DNS=c,f.URL=l,f},a.URL=a.DNS=void 0;var i=u(e("./stringify.js")),o=u(e("./parse.js"));function u(d){return d&&d.__esModule?d:{default:d}}const c="6ba7b810-9dad-11d1-80b4-00c04fd430c8";a.DNS=c;const l="6ba7b811-9dad-11d1-80b4-00c04fd430c8";a.URL=l},{"./parse.js":531,"./stringify.js":535}],539:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=u(e("./rng.js")),o=u(e("./stringify.js"));function u(l){return l&&l.__esModule?l:{default:l}}var c=function(l,d,p){const h=(l=l||{}).random||(l.rng||i.default)();if(h[6]=15&h[6]|64,h[8]=63&h[8]|128,d){p=p||0;for(let f=0;f<16;++f)d[p+f]=h[f];return d}return(0,o.default)(h)};a.default=c},{"./rng.js":533,"./stringify.js":535}],540:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=u(e("./v35.js")),o=u(e("./sha1.js"));function u(l){return l&&l.__esModule?l:{default:l}}var c=(0,i.default)("v5",80,o.default);a.default=c},{"./sha1.js":534,"./v35.js":538}],541:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i,o=(i=e("./regex.js"))&&i.__esModule?i:{default:i},u=function(c){return typeof c=="string"&&o.default.test(c)};a.default=u},{"./regex.js":532}],542:[function(e,s,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i,o=(i=e("./validate.js"))&&i.__esModule?i:{default:i},u=function(c){if(!(0,o.default)(c))throw TypeError("Invalid UUID");return parseInt(c.substr(14,1),16)};a.default=u},{"./validate.js":541}],543:[function(e,s,a){/**
 * Character classes and associated utilities for the 5th edition of XML 1.0.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(a,"__esModule",{value:!0}),a.CHAR=`	
\r ---`,a.S=` 	\r
`,a.NAME_START_CHAR=":A-Z_a-z-----------",a.NAME_CHAR="-"+a.NAME_START_CHAR+".0-9--",a.CHAR_RE=new RegExp("^["+a.CHAR+"]$","u"),a.S_RE=new RegExp("^["+a.S+"]+$","u"),a.NAME_START_CHAR_RE=new RegExp("^["+a.NAME_START_CHAR+"]$","u"),a.NAME_CHAR_RE=new RegExp("^["+a.NAME_CHAR+"]$","u"),a.NAME_RE=new RegExp("^["+a.NAME_START_CHAR+"]["+a.NAME_CHAR+"]*$","u"),a.NMTOKEN_RE=new RegExp("^["+a.NAME_CHAR+"]+$","u");function i(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}a.S_LIST=[32,10,13,9],a.isChar=function(o){return o>=32&&o<=55295||o===10||o===13||o===9||o>=57344&&o<=65533||o>=65536&&o<=1114111},a.isS=function(o){return o===32||o===10||o===13||o===9},a.isNameStartChar=i,a.isNameChar=function(o){return i(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],544:[function(e,s,a){/**
 * Character classes and associated utilities for the 2nd edition of XML 1.1.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(a,"__esModule",{value:!0}),a.CHAR="---",a.RESTRICTED_CHAR="-\b\v\f---",a.S=` 	\r
`,a.NAME_START_CHAR=":A-Z_a-z-----------",a.NAME_CHAR="-"+a.NAME_START_CHAR+".0-9--",a.CHAR_RE=new RegExp("^["+a.CHAR+"]$","u"),a.RESTRICTED_CHAR_RE=new RegExp("^["+a.RESTRICTED_CHAR+"]$","u"),a.S_RE=new RegExp("^["+a.S+"]+$","u"),a.NAME_START_CHAR_RE=new RegExp("^["+a.NAME_START_CHAR+"]$","u"),a.NAME_CHAR_RE=new RegExp("^["+a.NAME_CHAR+"]$","u"),a.NAME_RE=new RegExp("^["+a.NAME_START_CHAR+"]["+a.NAME_CHAR+"]*$","u"),a.NMTOKEN_RE=new RegExp("^["+a.NAME_CHAR+"]+$","u");function i(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}a.S_LIST=[32,10,13,9],a.isChar=function(o){return o>=1&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},a.isRestrictedChar=function(o){return o>=1&&o<=8||o===11||o===12||o>=14&&o<=31||o>=127&&o<=132||o>=134&&o<=159},a.isCharAndNotRestricted=function(o){return o===9||o===10||o===13||o>31&&o<127||o===133||o>159&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},a.isS=function(o){return o===32||o===10||o===13||o===9},a.isNameStartChar=i,a.isNameChar=function(o){return i(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],545:[function(e,s,a){/**
 * Character class utilities for XML NS 1.0 edition 3.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */function i(o){return o>=65&&o<=90||o===95||o>=97&&o<=122||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8204&&o<=8205||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}Object.defineProperty(a,"__esModule",{value:!0}),a.NC_NAME_START_CHAR="A-Z_a-z------------",a.NC_NAME_CHAR="-"+a.NC_NAME_START_CHAR+".0-9--",a.NC_NAME_START_CHAR_RE=new RegExp("^["+a.NC_NAME_START_CHAR+"]$","u"),a.NC_NAME_CHAR_RE=new RegExp("^["+a.NC_NAME_CHAR+"]$","u"),a.NC_NAME_RE=new RegExp("^["+a.NC_NAME_START_CHAR+"]["+a.NC_NAME_CHAR+"]*$","u"),a.isNCNameStartChar=i,a.isNCNameChar=function(o){return i(o)||o===45||o===46||o>=48&&o<=57||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}]},{},[15])(15)})})(MA);var xB=MA.exports;const OA=QN(xB);var LA={exports:{}};(function(n,r){var t={};(function(e,s){s()})(Ab,function(){function e(l,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\uFEFF",l],{type:l.type}):l}function s(l,d,p){var h=new XMLHttpRequest;h.open("GET",l),h.responseType="blob",h.onload=function(){c(h.response,d,p)},h.onerror=function(){console.error("could not download file")},h.send()}function a(l){var d=new XMLHttpRequest;d.open("HEAD",l,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function i(l){try{l.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),l.dispatchEvent(d)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof t=="object"&&t.global===t?t:void 0,u=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!u?function(l,d,p){var h=o.URL||o.webkitURL,f=document.createElement("a");d=d||l.name||"download",f.download=d,f.rel="noopener",typeof l=="string"?(f.href=l,f.origin===location.origin?i(f):a(f.href)?s(l,d,p):i(f,f.target="_blank")):(f.href=h.createObjectURL(l),setTimeout(function(){h.revokeObjectURL(f.href)},4e4),setTimeout(function(){i(f)},0))}:"msSaveOrOpenBlob"in navigator?function(l,d,p){if(d=d||l.name||"download",typeof l!="string")navigator.msSaveOrOpenBlob(e(l,p),d);else if(a(l))s(l,d,p);else{var h=document.createElement("a");h.href=l,h.target="_blank",setTimeout(function(){i(h)})}}:function(l,d,p,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof l=="string")return s(l,d,p);var f=l.type==="application/octet-stream",b=/constructor/i.test(o.HTMLElement)||o.safari,y=/CriOS\/[\d]+/.test(navigator.userAgent);if((y||f&&b||u)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var w=g.result;w=y?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=w:location=w,h=null},g.readAsDataURL(l)}else{var x=o.URL||o.webkitURL,v=x.createObjectURL(l);h?h.location=v:location.href=v,h=null,setTimeout(function(){x.revokeObjectURL(v)},4e4)}});o.saveAs=c.saveAs=c,n.exports=c})})(LA);var wB=LA.exports;const _B=({reportTitle:n})=>{const r=()=>{const e=document.querySelectorAll("table thead tr"),s=Array.from(e).map(l=>{const d=l.querySelectorAll("th");return Array.from(d).map(p=>p.innerText)}),a=document.querySelectorAll("table tbody tr"),i=Array.from(a).map(l=>{const d=l.querySelectorAll("td");return Array.from(d).map(p=>p.innerText)}),o=new OA.Workbook,u=o.addWorksheet(`${n}`);console.log(u.name);const c=u.addRow(s[0]);u.columns=s[0].map(l=>({header:l,width:l.length<20?20:l.length})),c.eachCell(l=>{l.font={bold:!0,size:12,color:{argb:"f9f9f9"}},l.fill={type:"pattern",pattern:"solid",fgColor:{argb:"787878"}},l.alignment={horizontal:"left"}}),i.forEach(l=>{u.addRow(l)}),u.eachRow((l,d)=>{d!==1&&l.eachCell(p=>{p.font={size:12,color:{argb:"FF000000"}},p.alignment={horizontal:"left"}})}),o.xlsx.writeBuffer().then(l=>{const d=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});console.log(d),wB.saveAs(d,`${n}.xlsx`)})},t=()=>{r()};return m.jsx("section",{className:"my-10 space-y-3",children:m.jsx("footer",{children:m.jsx("div",{className:"vertical-center p-5 pt-9 ",children:m.jsx("button",{className:" bg-[#FEF116] text-dark_grey text_size_5 w-[126px] p-2 rounded",onClick:()=>{t()},children:"Download"})})})})};function $0(n){return Fn({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.972 6.251c-.967-.538-2.185-.188-2.72.777l-3.713 6.682-2.125-2.125c-.781-.781-2.047-.781-2.828 0-.781.781-.781 2.047 0 2.828l4 4c.378.379.888.587 1.414.587l.277-.02c.621-.087 1.166-.46 1.471-1.009l5-9c.537-.966.189-2.183-.776-2.72z"},child:[]}]})(n)}const SB=({register:n})=>{const[r,t]=St.useState(""),e=s=>{t(s.target.value)};return m.jsxs("form",{className:"w-full mx-auto mt-5",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("p",{className:"mb-4",children:"Please indicate any additional information or unusual circumstances considered relevant to the staff performance or assessment. Please specify accordingly."}),m.jsx("textarea",{...n("additionalInfo"),className:"w-full h-32 border p-2 rounded resize-none outline-none"})]}),m.jsxs("div",{className:"mb-8",children:[m.jsx("h2",{className:"font-bold bg-black text-white p-2",children:"RECOMMENDATION"}),m.jsxs("div",{className:"space-y-4 mt-4",children:[m.jsxs("label",{className:"flex items-center relative",children:[m.jsx("input",{type:"radio",...n("recommendation"),value:"confirmed",checked:r==="confirmed",onChange:e,className:"mr-2 w-6 h-6 border-2 bg-white appearance-none rounded-none"}),m.jsxs("span",{className:"radio-label flex items-center",children:[r==="confirmed"&&m.jsx($0,{className:"text-[#4ad84a] text-[28px] absolute bottom-0 -left-0.5"}),"The appointment to be confirmed"]})]}),m.jsxs("label",{className:"flex items-center relative",children:[m.jsx("input",{type:"radio",...n("recommendation"),value:"extended",checked:r==="extended",onChange:e,className:"mr-2 w-6 h-6 border-2 border-gray-500 bg-white appearance-none rounded-none"}),m.jsxs("span",{className:"radio-label flex items-center",children:[r==="extended"&&m.jsx($0,{className:"text-[#4ad84a] text-[28px] absolute bottom-0 -left-0.5"}),"The appointment to be extended for a further probationary period of",m.jsx("input",{type:"text",...n("extensionPeriod"),className:"w-12 border-b outline-none text-center ml-2",placeholder:"0"})," ","months"]})]}),m.jsxs("label",{className:"flex items-center relative",children:[m.jsx("input",{type:"radio",...n("recommendation"),value:"terminated",checked:r==="terminated",onChange:e,className:"mr-2 w-6 h-6 border-2 border-gray-500 bg-white appearance-none rounded-none"}),m.jsxs("span",{className:"radio-label flex items-center",children:[r==="terminated"&&m.jsx($0,{className:"text-[#4ad84a] text-[28px] absolute bottom-0 -left-0.5"}),"The appointment to be terminated"]})]})]})]}),m.jsxs("div",{className:"mb-8",children:[m.jsx("p",{children:"Comments that you would like to include into the probation/employment confirmation letter:"}),m.jsxs("p",{className:"italic",children:["(It is ",m.jsx("strong",{children:"compulsory"})," for you to fill in your comment for the ",m.jsx("strong",{children:"staff level"})," considering his/her attitude, approach, and ability in performing the duties or responsibilities assigned.)"]})]}),m.jsxs("div",{className:"mt-20 space-y-16",children:[m.jsxs("div",{className:"flex justify-between items-center space-x-8",children:[m.jsxs("div",{className:"flex justify-center items-center",children:[m.jsx("label",{className:"text-sm font-medium",children:"Name of Supervisor :"}),m.jsx("input",{type:"text",...n("supervisorName"),className:"border-b outline-none px-1"})]}),m.jsxs("div",{className:"flex items-center space-x-2 border-b",children:[m.jsx("label",{className:"text-sm font-medium",children:"Approved"}),m.jsx("input",{type:"checkbox",...n("supervisorApproved"),className:"form-checkbox h-4 w-4"})]}),m.jsx("div",{className:"flex items-center space-x-2 border-b",children:m.jsx("input",{type:"date",...n("supervisorDate"),className:"outline-none"})})]}),m.jsxs("div",{className:"flex justify-between items-center space-x-8",children:[m.jsxs("div",{className:"flex justify-center items-center",children:[m.jsx("label",{className:"text-sm font-medium",children:"Name of Manager :"}),m.jsx("input",{type:"text",...n("managerName"),className:"border-b outline-none px-1"})]}),m.jsxs("div",{className:"flex items-center space-x-2 border-b",children:[m.jsx("label",{className:"text-sm font-medium",children:"Approved"}),m.jsx("input",{type:"checkbox",...n("managerApproved"),className:"form-checkbox h-4 w-4"})]}),m.jsx("div",{className:"flex items-center space-x-2 border-b",children:m.jsx("input",{type:"date",...n("managerDate"),className:"outline-none"})})]}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"w-[350px]",children:[m.jsx("p",{className:"font-semibold",children:"Concurred By GM :"}),m.jsx("p",{children:"(For Staff Category Only)"})]}),m.jsxs("div",{className:"flex items-center space-x-2 border-b",children:[m.jsx("label",{className:"text-sm font-medium",children:"Approved"}),m.jsx("input",{type:"checkbox",...n("gmApproved"),className:"form-checkbox h-4 w-4"})]}),m.jsx("div",{className:"flex items-center space-x-2 border-b",children:m.jsx("input",{type:"date",...n("gmDate"),className:"outline-none"})})]})]}),m.jsxs("div",{className:"border pt-4 mt-5",children:[m.jsx("h3",{className:"font-bold underline p-2",children:"Human Resources Department"}),m.jsx("div",{children:m.jsx("p",{className:"font-semibold border-b p-2",children:"Received & Action By :"})}),m.jsxs("div",{className:"flex justify-evenly items-center border-b py-5",children:[m.jsxs("div",{className:"flex justify-center items-center",children:[m.jsx("label",{className:"text-sm font-medium",children:"Name :"}),m.jsx("input",{type:"text",...n("hrName"),className:"border-b outline-none px-1"})]}),m.jsx("div",{className:"flex items-center space-x-2 border-b",children:m.jsx("input",{type:"date",...n("hrDate"),className:"outline-none"})})]})]}),m.jsx("div",{className:"mt-8",children:m.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded",children:"Submit"})})]})},pu=({title:n,name:r,register:t})=>{const[e,s]=ne.useState(""),a=i=>{s(i.target.value)};return m.jsxs("div",{className:"mb-6",children:[m.jsx("h3",{className:"font-semibold",children:n}),m.jsxs("div",{className:"mt-2",children:[m.jsxs("label",{className:"flex items-center relative",children:[m.jsx("input",{type:"radio",name:r,...t(r),value:"exceeding",checked:e==="exceeding",onChange:a,className:"mr-2 appearance-none w-5 h-5 border rounded-sm"}),"Exceeding expectations",e==="exceeding"&&m.jsx($0,{className:"text-[#4ad84a] text-[28px] absolute -bottom-0.5 -left-0.5"})]}),m.jsxs("label",{className:"flex items-center relative mt-2",children:[m.jsx("input",{type:"radio",name:r,...t(r),value:"meeting",checked:e==="meeting",onChange:a,className:"mr-2 appearance-none w-5 h-5 border rounded-sm"}),"Meeting expectations",e==="meeting"&&m.jsx($0,{className:"text-[#4ad84a] text-[28px] absolute -bottom-0.5 -left-0.5"})]}),m.jsxs("label",{className:"flex items-center relative mt-2",children:[m.jsx("input",{type:"radio",name:r,...t(r),value:"notMeeting",checked:e==="notMeeting",onChange:a,className:"mr-2 appearance-none w-5 h-5 border rounded-sm"}),"Not meeting expectations (provide details)",e==="notMeeting"&&m.jsx($0,{className:"text-[#4ad84a] text-[28px] absolute -bottom-0.5 -left-0.5"})]})]})]})},EB=({register:n})=>m.jsxs("div",{children:[m.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Employee Performance"}),m.jsx(pu,{title:"1) Communication and Inter-personal Skill",name:"communication",register:n}),m.jsx(pu,{title:"2) Quality of Work",name:"quality",register:n}),m.jsx(pu,{title:"3) Pace of Work",name:"pace",register:n}),m.jsx(pu,{title:"4) Initiative",name:"initiative",register:n}),m.jsx(pu,{title:"5) Attitude and professionalism",name:"attitude",register:n}),m.jsx(pu,{title:"6) Adaptability",name:"adaptability",register:n}),m.jsx(pu,{title:"7) Teamwork",name:"teamwork",register:n}),m.jsx(pu,{title:"8) Responsible and dependable",name:"responsibility",register:n}),m.jsx(pu,{title:"9) Diligent",name:"diligent",register:n}),m.jsx(pu,{title:"10) Commitment towards the job",name:"commitment",register:n})]}),NB="/assets/logo-CSWhrnUD.png",na=({notification:n,text:r,path:t})=>{const[e,s]=ne.useState(!1);return ne.useEffect(()=>{if(n){s(!0);const a=setTimeout(()=>{s(!1),t&&(window.location.href=t)},3e3);return()=>clearTimeout(a)}},[n,t]),m.jsx("section",{children:e&&m.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-[70]",children:m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg text-center",children:[m.jsx("p",{className:"text-dark_grey font-semibold",children:r}),m.jsx("img",{src:NB,alt:"Logo",className:"mt-4 cursor-pointer w-12 h-12 mx-auto animate-spin-slow"})]})})})},AB=ne.forwardRef(()=>{const n=Ju(),[r,t]=ne.useState(!1),[e,s]=ne.useState(""),{employeeData:a}=n.state||{},{register:i,handleSubmit:o}=Pn(),u=c=>{console.log("Form Data:",c),s("Report  Probation Form Info  Save successfully"),t(!0)};return m.jsxs("form",{onSubmit:o(u),className:"p-10 bg-white shadow-md w-full px-20 mx-auto",children:[m.jsx("section",{className:"center mb-16",children:m.jsx("div",{className:"max-w-[400px] w-full",children:m.jsx("img",{className:"w-full",src:$m,alt:"Logo not found"})})}),m.jsxs("div",{className:"mb-10",children:[m.jsxs("p",{className:"text-md mt-2",children:["For the attention of:"," ",m.jsx("input",{type:"text",...i("attention"),className:"border-b border-black focus:outline-none px-1"})]}),m.jsxs("p",{className:"text-md mt-3",children:["Deadline submit to Human Resources Department by"," ",m.jsx("input",{type:"text",...i("deadline"),className:"border-b border-black outline-none px-1"})]})]}),m.jsxs("div",{className:"w-full mx-auto mb-10",children:[m.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Employee Details:"}),m.jsx("table",{className:"w-full border border-black",children:m.jsxs("tbody",{children:[m.jsxs("tr",{className:"border",children:[m.jsx("td",{className:"p-2 border-r border-b font-semibold",children:"Employee Name"}),m.jsx("td",{className:"p-2 border-b",children:m.jsx("input",{...i("name"),defaultValue:(a==null?void 0:a.name)||"-",className:"w-full outline-none"})})]}),m.jsxs("tr",{className:"border",children:[m.jsx("td",{className:"p-2 border-r border-b font-semibold",children:"Employee ID"}),m.jsx("td",{className:"p-2 border-b",children:m.jsx("input",{...i("empID"),defaultValue:(a==null?void 0:a.empID)||"",className:"w-full outline-none"})})]}),m.jsxs("tr",{className:"border",children:[m.jsx("td",{className:"p-2 border-r border-b font-semibold",children:"Badge Number"}),m.jsx("td",{className:"p-2 border-b",children:m.jsx("input",{...i("empBadgeNo"),defaultValue:(a==null?void 0:a.empBadgeNo)||"",className:"w-full outline-none"})})]}),m.jsxs("tr",{className:"border",children:[m.jsx("td",{className:"p-2 border-r border-b font-semibold",children:"Department"}),m.jsx("td",{className:"p-2 border-b",children:m.jsx("input",{...i("department"),defaultValue:(a==null?void 0:a.department)||"",className:"w-full outline-none"})})]}),m.jsxs("tr",{className:"border",children:[m.jsx("td",{className:"p-2 border-r border-b font-semibold",children:"Position"}),m.jsx("td",{className:"p-2 border-b",children:m.jsx("input",{...i("position"),defaultValue:(a==null?void 0:a.position)||"",className:"w-full outline-none"})})]}),m.jsxs("tr",{className:"border",children:[m.jsx("td",{className:"p-2 border-r border-b font-semibold",children:"Date Joined"}),m.jsx("td",{className:"p-2 border-b",children:m.jsx("input",{...i("doj"),defaultValue:(a==null?void 0:a.doj)||"",className:"w-full outline-none"})})]}),m.jsxs("tr",{className:"border",children:[m.jsx("td",{className:"p-2 border-r border-b font-semibold",children:"Probation End Date"}),m.jsx("td",{className:"p-2 border-b",children:m.jsx("input",{...i("probationEnd"),defaultValue:(a==null?void 0:a.probationEnd)||"-",className:"w-full outline-none"})})]}),m.jsxs("tr",{className:"border",children:[m.jsx("td",{className:"p-2 border-r font-semibold",children:"Extended Probation End Date"}),m.jsx("td",{className:"p-2 border-b",children:m.jsx("input",{...i("extendedProbationEndDate"),defaultValue:(a==null?void 0:a.extendedPED)||"-",className:"w-full outline-none"})})]})]})})]}),m.jsx(EB,{register:i}),m.jsx(SB,{register:i}),m.jsx("div",{className:"flex items-center justify-center mt-8",children:m.jsx("button",{type:"submit",className:"primary_btn",children:"Save"})}),r&&m.jsx(na,{text:e,notification:r,path:"/reports"})]})}),Vc=({tableBody:n,tableHead:r,typeOfReport:t,reportTitle:e,allData:s,handleViewDetails:a})=>m.jsx("div",{children:n.length>0?m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-bold center my-10",children:t}),m.jsx("div",{className:" w-full overflow-x-auto overflow-auto scrollbar-hide shadow-lg ",children:m.jsxs("table",{className:" mt-5 border-collapse w-full ",children:[m.jsx("thead",{className:"w-full ",children:m.jsx("tr",{className:"bg-[#C5C5C5]  rounded-sm",children:r.map((i,o)=>m.jsx("th",{className:"px-6 py-5 text-[15px] text-secondary w-full ",children:m.jsx("span",{className:"w-[120px] center",children:i})},o))})}),m.jsx("tbody",{children:n.map((i,o)=>m.jsxs("tr",{className:"text-sm border-b-2 border-[#CECECE]",children:[i.map((u,c)=>m.jsx("td",{className:"border-b-2 text-center border-[#CECECE] p-2",children:u},c)),t==="Probation Form"&&m.jsx("td",{className:"border-b-2 text-center border-[#CECECE] p-2 cursor-pointer text-blue-600",onClick:()=>a(s[o]),children:"View Details"})]},o))})]})})]}):m.jsx("div",{className:"text-center mt-10",children:"No Report List Available Here"})}),kB=({allData:n,typeOfReport:r,reportTitle:t})=>{const[e,s]=ne.useState([]),[a,i]=ne.useState(["Name","Employee Badge","Gender","Date of Birth","Date of Joined","Nationality","work Position","contactNo","Brunei I/C No","Passport No","Pass Expiry","Department","Contract Start Date","Contract End Date","Previous Company Name"]),o=u=>(console.log(u),u.map(c=>[c.name||"-",c.empBadgeNo||"-",c.gender||"-",c.dob||"-",c.doj||"-",c.nationality||"-",c.position||"-",c.contactNo||"-",c.bwnIcNo||"-",c.ppNo||"-",c.ppExpiry||"-",c.department||"-",c.contractStart||"-",c.contractEnd||"-",c.preEmp||"-"]));return ne.useEffect(()=>{s(o(n))},[n]),m.jsx("div",{children:m.jsx(Vc,{tableBody:e,tableHead:a,typeOfReport:r,reportTitle:t})})},CB=({allData:n,typeOfReport:r,reportTitle:t})=>{const[e,s]=ne.useState([]),[a,i]=ne.useState(["Name","Emp ID","Badge No","Nationality","Department","Work Position","Date of Resignation","Reason of Resignation"]),o=u=>u.filter(c=>c.resignDate).map(c=>[c.name||"-",c.empID||"-",c.empBadgeNo||"-",c.nationality||"-",c.department||"-",c.position||"-",c.resignDate||"-",c.resignNotProb||"-"]);return ne.useEffect(()=>{s(o(n))},[n]),m.jsx("div",{children:m.jsx(Vc,{tableBody:e,tableHead:a,typeOfReport:r,reportTitle:t})})},DB=({allData:n,typeOfReport:r,reportTitle:t})=>{const[e,s]=ne.useState([]),[a,i]=ne.useState(["Name","Emp ID","Badge No","Nationality","Department","Work Position","Date of Termination","Reason of Termination"]),o=u=>u.filter(c=>c.termiDate).map(c=>[c.name||"-",c.empID||"-",c.empBadgeNo||"-",c.nationality||"-",c.position||"-",c.department||"-",c.termiDate||"-",c.reasonOfTermination||"-"]);return ne.useEffect(()=>{s(o(n))},[n]),m.jsx("div",{children:m.jsx(Vc,{tableBody:e,tableHead:a,typeOfReport:r,reportTitle:t})})},TB=({allData:n,typeOfReport:r,reportTitle:t})=>{const[e,s]=ne.useState([]),[a,i]=ne.useState(["Name","Employee Badge","Date of Joined","Department","Work Position","Probation Expiry Date","Deadline to Return to HRD"]),o=l=>{const d=new Date(l);return d.setDate(d.getDate()-7),d.toISOString().split("T")[0]},u=l=>{const d=new Date,h=(new Date(l)-d)/(1e3*60*60*24);return h<=7&&h>=0},c=l=>l.filter(d=>d.probationEnd&&u(d.probationEnd)).map(d=>[d.name||"-",d.empBadgeNo||"-",d.doj||"-",d.department||"-",d.position||"-",d.probationEnd||"-",d.probationEnd?o(d.probationEnd):"-"]);return ne.useEffect(()=>{s(c(n))},[n]),m.jsx("div",{children:m.jsx(Vc,{tableBody:e,tableHead:a,typeOfReport:r,reportTitle:t})})},jB=({allData:n,typeOfReport:r,reportTitle:t})=>{const[e,s]=ne.useState([]),[a,i]=ne.useState(["Name","Employee Badge","Nationality","Date of Joined","Department","workPosition","Contract Start Date ","Contract End Date","LD Expiry","Duration of Renewal Contract",,]),o=(l,d)=>{const p=new Date(l),h=new Date(d);return isNaN(p.getTime())||isNaN(h.getTime())?"-":(h.getFullYear()-p.getFullYear())*12+(h.getMonth()-p.getMonth())},u=(l,d)=>{const p=new Date(l),h=new Date(d),f=new Date;if(isNaN(p.getTime())||isNaN(h.getTime()))return"-";const b=o(l,d),y=o(l,f),g=b-y;return g>=0?`${g} months`:"-"},c=l=>l.map(d=>{const p=u(d.contractStart,d.contractEnd);return[d.name||"-",d.empBadgeNo||"-",d.nationality||"-",d.doj||"-",d.department||"-",d.position||"-",d.contractStart||"-",d.contractEnd||"-",d.nlmsEmpValid||"-",p||"-"]});return ne.useEffect(()=>{s(c(n))},[n]),console.log(e),m.jsx("div",{children:m.jsx(Vc,{tableBody:e,tableHead:a,typeOfReport:r,reportTitle:t})})},IB=({allData:n,typeOfReport:r,reportTitle:t})=>{const[e,s]=ne.useState([]),[a,i]=ne.useState(["Name","Employee Badge","Nationality","Work Position","Department","Pass Expiry"]),o=c=>{if(!c)return!1;const l=new Date,h=(new Date(c).getTime()-l.getTime())/(1e3*3600*24);return h<=30&&h>=0},u=c=>c.filter(l=>o(l.empPassExp)).map(l=>[l.name||"-",l.empBadgeNo||"-",l.nationality||"-",l.position||"-",l.department||"-",l.empPassExp||"-"]);return ne.useEffect(()=>{n&&n.length>0&&s(u(n))},[n]),console.log("Filtered Table Data:",e),m.jsx("div",{children:m.jsx(Vc,{tableBody:e,tableHead:a,typeOfReport:r,reportTitle:t})})},PB=({allData:n,typeOfReport:r,reportTitle:t})=>{const[e,s]=ne.useState([]),[a]=ne.useState(["Name","Employee Badge","Nationality","Work Position","Department","LD Approved","LD Expiry"]),i=u=>{if(!u)return!1;const c=new Date,l=new Date(u);if(isNaN(l.getTime()))return console.error("Invalid date format:",u),!1;const p=(l.getTime()-c.getTime())/(1e3*3600*24);return p<=90&&p>=0},o=u=>{const c=u.filter(l=>i(l.nlmsEmpValid));return console.log("Filtered Data:",c),c.map(l=>[l.name||"-",l.empBadgeNo||"-",l.nationality||"-",l.position||"-",l.department||"-",l.nlmsEmpApproval||"-",l.nlmsEmpValid||"-"])};return ne.useEffect(()=>{n&&Array.isArray(n)?s(o(n)):console.warn("Invalid or missing allData:",n)},[n]),m.jsx("div",{children:m.jsx(Vc,{tableBody:e,tableHead:a,typeOfReport:r,reportTitle:t})})},RB=({allData:n,typeOfReport:r,reportTitle:t})=>{const[e,s]=ne.useState([]),[a,i]=ne.useState(["Name","Employee Badge","Date of Joined","Department","workPosition","Probation Expiry Date","Deadline to return HRD"]),o=u=>u.map(c=>[c.name||"-",c.empBadgeNo||"-",c.doj||"-",c.department||"-",c.position||"-",c.probationEnd||"-",c.deadlineToReturnHRD||"-"]);return ne.useEffect(()=>{s(o(n))},[n]),console.log(e),m.jsx("div",{children:m.jsx(Vc,{tableBody:e,tableHead:a,typeOfReport:r,reportTitle:t})})},MB=({allData:n,typeOfReport:r,reportTitle:t})=>{const[e,s]=ne.useState([]),[a,i]=ne.useState(["Name","Employee Badge","Nationality","Work Position","Department","Medical Expiry"]),o=c=>{if(!c)return!1;const l=new Date,h=(new Date(c).getTime()-l.getTime())/(1e3*3600*24);return h<=90&&h>=0},u=c=>c.filter(d=>o(d.bruneiME)).map(d=>[d.name||"-",d.empBadgeNo||"-",d.nationality||"-",d.position||"-",d.department||"-",d.bruneiME||"-"]);return ne.useEffect(()=>{s(u(n))},[n]),console.log(e),m.jsx("div",{children:m.jsx(Vc,{tableBody:e,tableHead:a,typeOfReport:r,reportTitle:t})})};function ss(n){"@babel/helpers - typeof";return ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ss(n)}var Hi=Uint8Array,bl=Uint16Array,v8=Int32Array,Xw=new Hi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Jw=new Hi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),f_=new Hi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),FA=function(n,r){for(var t=new bl(31),e=0;e<31;++e)t[e]=r+=1<<n[e-1];for(var s=new v8(t[30]),e=1;e<30;++e)for(var a=t[e];a<t[e+1];++a)s[a]=a-t[e]<<5|e;return{b:t,r:s}},BA=FA(Xw,2),UA=BA.b,p_=BA.r;UA[28]=258,p_[258]=28;var HA=FA(Jw,0),OB=HA.b,QE=HA.r,m_=new bl(32768);for(var Es=0;Es<32768;++Es){var Wh=(Es&43690)>>1|(Es&21845)<<1;Wh=(Wh&52428)>>2|(Wh&13107)<<2,Wh=(Wh&61680)>>4|(Wh&3855)<<4,m_[Es]=((Wh&65280)>>8|(Wh&255)<<8)>>1}var zu=function(n,r,t){for(var e=n.length,s=0,a=new bl(r);s<e;++s)n[s]&&++a[n[s]-1];var i=new bl(r);for(s=1;s<r;++s)i[s]=i[s-1]+a[s-1]<<1;var o;if(t){o=new bl(1<<r);var u=15-r;for(s=0;s<e;++s)if(n[s])for(var c=s<<4|n[s],l=r-n[s],d=i[n[s]-1]++<<l,p=d|(1<<l)-1;d<=p;++d)o[m_[d]>>u]=c}else for(o=new bl(e),s=0;s<e;++s)n[s]&&(o[s]=m_[i[n[s]-1]++]>>15-n[s]);return o},Pf=new Hi(288);for(var Es=0;Es<144;++Es)Pf[Es]=8;for(var Es=144;Es<256;++Es)Pf[Es]=9;for(var Es=256;Es<280;++Es)Pf[Es]=7;for(var Es=280;Es<288;++Es)Pf[Es]=8;var Tb=new Hi(32);for(var Es=0;Es<32;++Es)Tb[Es]=5;var LB=zu(Pf,9,0),FB=zu(Pf,9,1),BB=zu(Tb,5,0),UB=zu(Tb,5,1),_6=function(n){for(var r=n[0],t=1;t<n.length;++t)n[t]>r&&(r=n[t]);return r},vc=function(n,r,t){var e=r/8|0;return(n[e]|n[e+1]<<8)>>(r&7)&t},S6=function(n,r){var t=r/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(r&7)},x8=function(n){return(n+7)/8|0},qA=function(n,r,t){return(t==null||t>n.length)&&(t=n.length),new Hi(n.subarray(r,t))},HB=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ec=function(n,r,t){var e=new Error(r||HB[n]);if(e.code=n,Error.captureStackTrace&&Error.captureStackTrace(e,Ec),!t)throw e;return e},qB=function(n,r,t,e){var s=n.length,a=0;if(!s||r.f&&!r.l)return t||new Hi(0);var i=!t,o=i||r.i!=2,u=r.i;i&&(t=new Hi(s*3));var c=function(Z){var re=t.length;if(Z>re){var le=new Hi(Math.max(re*2,Z));le.set(t),t=le}},l=r.f||0,d=r.p||0,p=r.b||0,h=r.l,f=r.d,b=r.m,y=r.n,g=s*8;do{if(!h){l=vc(n,d,1);var x=vc(n,d+1,3);if(d+=3,x)if(x==1)h=FB,f=UB,b=9,y=5;else if(x==2){var D=vc(n,d,31)+257,T=vc(n,d+10,15)+4,R=D+vc(n,d+5,31)+1;d+=14;for(var P=new Hi(R),L=new Hi(19),O=0;O<T;++O)L[f_[O]]=vc(n,d+O*3,7);d+=T*3;for(var H=_6(L),U=(1<<H)-1,I=zu(L,H,1),O=0;O<R;){var F=I[vc(n,d,U)];d+=F&15;var v=F>>4;if(v<16)P[O++]=v;else{var A=0,_=0;for(v==16?(_=3+vc(n,d,3),d+=2,A=P[O-1]):v==17?(_=3+vc(n,d,7),d+=3):v==18&&(_=11+vc(n,d,127),d+=7);_--;)P[O++]=A}}var E=P.subarray(0,D),N=P.subarray(D);b=_6(E),y=_6(N),h=zu(E,b,1),f=zu(N,y,1)}else Ec(1);else{var v=x8(d)+4,w=n[v-4]|n[v-3]<<8,S=v+w;if(S>s){u&&Ec(0);break}o&&c(p+w),t.set(n.subarray(v,S),p),r.b=p+=w,r.p=d=S*8,r.f=l;continue}if(d>g){u&&Ec(0);break}}o&&c(p+131072);for(var k=(1<<b)-1,B=(1<<y)-1,j=d;;j=d){var A=h[S6(n,d)&k],M=A>>4;if(d+=A&15,d>g){u&&Ec(0);break}if(A||Ec(2),M<256)t[p++]=M;else if(M==256){j=d,h=null;break}else{var G=M-254;if(M>264){var O=M-257,Y=Xw[O];G=vc(n,d,(1<<Y)-1)+UA[O],d+=Y}var J=f[S6(n,d)&B],V=J>>4;J||Ec(3),d+=J&15;var N=OB[V];if(V>3){var Y=Jw[V];N+=S6(n,d)&(1<<Y)-1,d+=Y}if(d>g){u&&Ec(0);break}o&&c(p+131072);var Q=p+G;if(p<N){var q=a-N,z=Math.min(N,Q);for(q+p<0&&Ec(3);p<z;++p)t[p]=e[q+p]}for(;p<Q;++p)t[p]=t[p-N]}}r.l=h,r.p=j,r.b=p,r.f=l,h&&(l=1,r.m=b,r.d=f,r.n=y)}while(!l);return p!=t.length&&i?qA(t,0,p):t.subarray(0,p)},Id=function(n,r,t){t<<=r&7;var e=r/8|0;n[e]|=t,n[e+1]|=t>>8},Mg=function(n,r,t){t<<=r&7;var e=r/8|0;n[e]|=t,n[e+1]|=t>>8,n[e+2]|=t>>16},E6=function(n,r){for(var t=[],e=0;e<n.length;++e)n[e]&&t.push({s:e,f:n[e]});var s=t.length,a=t.slice();if(!s)return{t:zA,l:0};if(s==1){var i=new Hi(t[0].s+1);return i[t[0].s]=1,{t:i,l:1}}t.sort(function(S,D){return S.f-D.f}),t.push({s:-1,f:25001});var o=t[0],u=t[1],c=0,l=1,d=2;for(t[0]={s:-1,f:o.f+u.f,l:o,r:u};l!=s-1;)o=t[t[c].f<t[d].f?c++:d++],u=t[c!=l&&t[c].f<t[d].f?c++:d++],t[l++]={s:-1,f:o.f+u.f,l:o,r:u};for(var p=a[0].s,e=1;e<s;++e)a[e].s>p&&(p=a[e].s);var h=new bl(p+1),f=g_(t[l-1],h,0);if(f>r){var e=0,b=0,y=f-r,g=1<<y;for(a.sort(function(D,T){return h[T.s]-h[D.s]||D.f-T.f});e<s;++e){var x=a[e].s;if(h[x]>r)b+=g-(1<<f-h[x]),h[x]=r;else break}for(b>>=y;b>0;){var v=a[e].s;h[v]<r?b-=1<<r-h[v]++-1:++e}for(;e>=0&&b;--e){var w=a[e].s;h[w]==r&&(--h[w],++b)}f=r}return{t:new Hi(h),l:f}},g_=function(n,r,t){return n.s==-1?Math.max(g_(n.l,r,t+1),g_(n.r,r,t+1)):r[n.s]=t},e3=function(n){for(var r=n.length;r&&!n[--r];);for(var t=new bl(++r),e=0,s=n[0],a=1,i=function(u){t[e++]=u},o=1;o<=r;++o)if(n[o]==s&&o!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)i(32754);a>2&&(i(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(i(s),--a;a>6;a-=6)i(8304);a>2&&(i(a-3<<5|8208),a=0)}for(;a--;)i(s);a=1,s=n[o]}return{c:t.subarray(0,e),n:r}},Og=function(n,r){for(var t=0,e=0;e<r.length;++e)t+=n[e]*r[e];return t},WA=function(n,r,t){var e=t.length,s=x8(r+2);n[s]=e&255,n[s+1]=e>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var a=0;a<e;++a)n[s+a+4]=t[a];return(s+4+e)*8},t3=function(n,r,t,e,s,a,i,o,u,c,l){Id(r,l++,t),++s[256];for(var d=E6(s,15),p=d.t,h=d.l,f=E6(a,15),b=f.t,y=f.l,g=e3(p),x=g.c,v=g.n,w=e3(b),S=w.c,D=w.n,T=new bl(19),R=0;R<x.length;++R)++T[x[R]&31];for(var R=0;R<S.length;++R)++T[S[R]&31];for(var P=E6(T,7),L=P.t,O=P.l,H=19;H>4&&!L[f_[H-1]];--H);var U=c+5<<3,I=Og(s,Pf)+Og(a,Tb)+i,F=Og(s,p)+Og(a,b)+i+14+3*H+Og(T,L)+2*T[16]+3*T[17]+7*T[18];if(u>=0&&U<=I&&U<=F)return WA(r,l,n.subarray(u,u+c));var A,_,E,N;if(Id(r,l,1+(F<I)),l+=2,F<I){A=zu(p,h,0),_=p,E=zu(b,y,0),N=b;var k=zu(L,O,0);Id(r,l,v-257),Id(r,l+5,D-1),Id(r,l+10,H-4),l+=14;for(var R=0;R<H;++R)Id(r,l+3*R,L[f_[R]]);l+=3*H;for(var B=[x,S],j=0;j<2;++j)for(var M=B[j],R=0;R<M.length;++R){var G=M[R]&31;Id(r,l,k[G]),l+=L[G],G>15&&(Id(r,l,M[R]>>5&127),l+=M[R]>>12)}}else A=LB,_=Pf,E=BB,N=Tb;for(var R=0;R<o;++R){var Y=e[R];if(Y>255){var G=Y>>18&31;Mg(r,l,A[G+257]),l+=_[G+257],G>7&&(Id(r,l,Y>>23&31),l+=Xw[G]);var J=Y&31;Mg(r,l,E[J]),l+=N[J],J>3&&(Mg(r,l,Y>>5&8191),l+=Jw[J])}else Mg(r,l,A[Y]),l+=_[Y]}return Mg(r,l,A[256]),l+_[256]},WB=new v8([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),zA=new Hi(0),zB=function(n,r,t,e,s,a){var i=a.z||n.length,o=new Hi(e+i+5*(1+Math.ceil(i/7e3))+s),u=o.subarray(e,o.length-s),c=a.l,l=(a.r||0)&7;if(r){l&&(u[0]=a.r>>3);for(var d=WB[r-1],p=d>>13,h=d&8191,f=(1<<t)-1,b=a.p||new bl(32768),y=a.h||new bl(f+1),g=Math.ceil(t/3),x=2*g,v=function(ue){return(n[ue]^n[ue+1]<<g^n[ue+2]<<x)&f},w=new v8(25e3),S=new bl(288),D=new bl(32),T=0,R=0,P=a.i||0,L=0,O=a.w||0,H=0;P+2<i;++P){var U=v(P),I=P&32767,F=y[U];if(b[I]=F,y[U]=I,O<=P){var A=i-P;if((T>7e3||L>24576)&&(A>423||!c)){l=t3(n,u,0,w,S,D,R,L,H,P-H,l),L=T=R=0,H=P;for(var _=0;_<286;++_)S[_]=0;for(var _=0;_<30;++_)D[_]=0}var E=2,N=0,k=h,B=I-F&32767;if(A>2&&U==v(P-B))for(var j=Math.min(p,A)-1,M=Math.min(32767,P),G=Math.min(258,A);B<=M&&--k&&I!=F;){if(n[P+E]==n[P+E-B]){for(var Y=0;Y<G&&n[P+Y]==n[P+Y-B];++Y);if(Y>E){if(E=Y,N=B,Y>j)break;for(var J=Math.min(B,Y-2),V=0,_=0;_<J;++_){var Q=P-B+_&32767,q=b[Q],z=Q-q&32767;z>V&&(V=z,F=Q)}}}I=F,F=b[I],B+=I-F&32767}if(N){w[L++]=268435456|p_[E]<<18|QE[N];var Z=p_[E]&31,re=QE[N]&31;R+=Xw[Z]+Jw[re],++S[257+Z],++D[re],O=P+E,++T}else w[L++]=n[P],++S[n[P]]}}for(P=Math.max(P,O);P<i;++P)w[L++]=n[P],++S[n[P]];l=t3(n,u,c,w,S,D,R,L,H,P-H,l),c||(a.r=l&7|u[l/8|0]<<3,l-=7,a.h=y,a.p=b,a.i=P,a.w=O)}else{for(var P=a.w||0;P<i+c;P+=65535){var le=P+65535;le>=i&&(u[l/8|0]=c,le=i),l=WA(u,l+1,n.subarray(P,le))}a.i=i}return qA(o,0,e+x8(l)+s)},VA=function(){var n=1,r=0;return{p:function(t){for(var e=n,s=r,a=t.length|0,i=0;i!=a;){for(var o=Math.min(i+2655,a);i<o;++i)s+=e+=t[i];e=(e&65535)+15*(e>>16),s=(s&65535)+15*(s>>16)}n=e,r=s},d:function(){return n%=65521,r%=65521,(n&255)<<24|(n&65280)<<8|(r&255)<<8|r>>8}}},VB=function(n,r,t,e,s){if(!s&&(s={l:1},r.dictionary)){var a=r.dictionary.subarray(-32768),i=new Hi(a.length+n.length);i.set(a),i.set(n,a.length),n=i,s.w=a.length}return zB(n,r.level==null?6:r.level,r.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+r.mem,t,e,s)},$A=function(n,r,t){for(;t;++r)n[r]=t,t>>>=8},$B=function(n,r){var t=r.level,e=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=e<<6|(r.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,r.dictionary){var s=VA();s.p(r.dictionary),$A(n,2,s.d())}},GB=function(n,r){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Ec(6,"invalid zlib data"),(n[1]>>5&1)==+!r&&Ec(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function b_(n,r){r||(r={});var t=VA();t.p(n);var e=VB(n,r,r.dictionary?6:2,4);return $B(e,r),$A(e,e.length-4,t.d()),e}function YB(n,r){return qB(n.subarray(GB(n,r),-4),{i:2},r,r)}var KB=typeof TextDecoder<"u"&&new TextDecoder,XB=0;try{KB.decode(zA,{stream:!0}),XB=1}catch{}var r3={},Br=function(){return typeof window<"u"?window:typeof r3<"u"?r3:typeof self<"u"?self:this}();function N6(){Br.console&&typeof Br.console.log=="function"&&Br.console.log.apply(Br.console,arguments)}var hs={log:N6,warn:function(n){Br.console&&(typeof Br.console.warn=="function"?Br.console.warn.apply(Br.console,arguments):N6.call(null,arguments))},error:function(n){Br.console&&(typeof Br.console.error=="function"?Br.console.error.apply(Br.console,arguments):N6(n))}};function A6(n,r,t){var e=new XMLHttpRequest;e.open("GET",n),e.responseType="blob",e.onload=function(){vp(e.response,r,t)},e.onerror=function(){hs.error("could not download file")},e.send()}function n3(n){var r=new XMLHttpRequest;r.open("HEAD",n,!1);try{r.send()}catch{}return r.status>=200&&r.status<=299}function O2(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(r)}}var lb,y_,vp=Br.saveAs||((typeof window>"u"?"undefined":ss(window))!=="object"||window!==Br?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,r,t){var e=Br.URL||Br.webkitURL,s=document.createElement("a");r=r||n.name||"download",s.download=r,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?n3(s.href)?A6(n,r,t):O2(s,s.target="_blank"):O2(s)):(s.href=e.createObjectURL(n),setTimeout(function(){e.revokeObjectURL(s.href)},4e4),setTimeout(function(){O2(s)},0))}:"msSaveOrOpenBlob"in navigator?function(n,r,t){if(r=r||n.name||"download",typeof n=="string")if(n3(n))A6(n,r,t);else{var e=document.createElement("a");e.href=n,e.target="_blank",setTimeout(function(){O2(e)})}else navigator.msSaveOrOpenBlob(function(s,a){return a===void 0?a={autoBom:!1}:ss(a)!=="object"&&(hs.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(n,t),r)}:function(n,r,t,e){if((e=e||open("","_blank"))&&(e.document.title=e.document.body.innerText="downloading..."),typeof n=="string")return A6(n,r,t);var s=n.type==="application/octet-stream",a=/constructor/i.test(Br.HTMLElement)||Br.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||s&&a)&&(typeof FileReader>"u"?"undefined":ss(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var l=o.result;l=i?l:l.replace(/^data:[^;]*;/,"data:attachment/file;"),e?e.location.href=l:location=l,e=null},o.readAsDataURL(n)}else{var u=Br.URL||Br.webkitURL,c=u.createObjectURL(n);e?e.location=c:location.href=c,e=null,setTimeout(function(){u.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function GA(n){var r;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],e=0;e<t.length;e++){var s=t[e].re,a=t[e].process,i=s.exec(n);i&&(r=a(i),this.r=r[0],this.g=r[1],this.b=r[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),u=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),u.length==1&&(u="0"+u),c.length==1&&(c="0"+c),"#"+o+u+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function k6(n,r){var t=n[0],e=n[1],s=n[2],a=n[3];t=ki(t,e,s,a,r[0],7,-680876936),a=ki(a,t,e,s,r[1],12,-389564586),s=ki(s,a,t,e,r[2],17,606105819),e=ki(e,s,a,t,r[3],22,-1044525330),t=ki(t,e,s,a,r[4],7,-176418897),a=ki(a,t,e,s,r[5],12,1200080426),s=ki(s,a,t,e,r[6],17,-1473231341),e=ki(e,s,a,t,r[7],22,-45705983),t=ki(t,e,s,a,r[8],7,1770035416),a=ki(a,t,e,s,r[9],12,-1958414417),s=ki(s,a,t,e,r[10],17,-42063),e=ki(e,s,a,t,r[11],22,-1990404162),t=ki(t,e,s,a,r[12],7,1804603682),a=ki(a,t,e,s,r[13],12,-40341101),s=ki(s,a,t,e,r[14],17,-1502002290),t=Ci(t,e=ki(e,s,a,t,r[15],22,1236535329),s,a,r[1],5,-165796510),a=Ci(a,t,e,s,r[6],9,-1069501632),s=Ci(s,a,t,e,r[11],14,643717713),e=Ci(e,s,a,t,r[0],20,-373897302),t=Ci(t,e,s,a,r[5],5,-701558691),a=Ci(a,t,e,s,r[10],9,38016083),s=Ci(s,a,t,e,r[15],14,-660478335),e=Ci(e,s,a,t,r[4],20,-405537848),t=Ci(t,e,s,a,r[9],5,568446438),a=Ci(a,t,e,s,r[14],9,-1019803690),s=Ci(s,a,t,e,r[3],14,-187363961),e=Ci(e,s,a,t,r[8],20,1163531501),t=Ci(t,e,s,a,r[13],5,-1444681467),a=Ci(a,t,e,s,r[2],9,-51403784),s=Ci(s,a,t,e,r[7],14,1735328473),t=Di(t,e=Ci(e,s,a,t,r[12],20,-1926607734),s,a,r[5],4,-378558),a=Di(a,t,e,s,r[8],11,-2022574463),s=Di(s,a,t,e,r[11],16,1839030562),e=Di(e,s,a,t,r[14],23,-35309556),t=Di(t,e,s,a,r[1],4,-1530992060),a=Di(a,t,e,s,r[4],11,1272893353),s=Di(s,a,t,e,r[7],16,-155497632),e=Di(e,s,a,t,r[10],23,-1094730640),t=Di(t,e,s,a,r[13],4,681279174),a=Di(a,t,e,s,r[0],11,-358537222),s=Di(s,a,t,e,r[3],16,-722521979),e=Di(e,s,a,t,r[6],23,76029189),t=Di(t,e,s,a,r[9],4,-640364487),a=Di(a,t,e,s,r[12],11,-421815835),s=Di(s,a,t,e,r[15],16,530742520),t=Ti(t,e=Di(e,s,a,t,r[2],23,-995338651),s,a,r[0],6,-198630844),a=Ti(a,t,e,s,r[7],10,1126891415),s=Ti(s,a,t,e,r[14],15,-1416354905),e=Ti(e,s,a,t,r[5],21,-57434055),t=Ti(t,e,s,a,r[12],6,1700485571),a=Ti(a,t,e,s,r[3],10,-1894986606),s=Ti(s,a,t,e,r[10],15,-1051523),e=Ti(e,s,a,t,r[1],21,-2054922799),t=Ti(t,e,s,a,r[8],6,1873313359),a=Ti(a,t,e,s,r[15],10,-30611744),s=Ti(s,a,t,e,r[6],15,-1560198380),e=Ti(e,s,a,t,r[13],21,1309151649),t=Ti(t,e,s,a,r[4],6,-145523070),a=Ti(a,t,e,s,r[11],10,-1120210379),s=Ti(s,a,t,e,r[2],15,718787259),e=Ti(e,s,a,t,r[9],21,-343485551),n[0]=_f(t,n[0]),n[1]=_f(e,n[1]),n[2]=_f(s,n[2]),n[3]=_f(a,n[3])}function Zw(n,r,t,e,s,a){return r=_f(_f(r,n),_f(e,a)),_f(r<<s|r>>>32-s,t)}function ki(n,r,t,e,s,a,i){return Zw(r&t|~r&e,n,r,s,a,i)}function Ci(n,r,t,e,s,a,i){return Zw(r&e|t&~e,n,r,s,a,i)}function Di(n,r,t,e,s,a,i){return Zw(r^t^e,n,r,s,a,i)}function Ti(n,r,t,e,s,a,i){return Zw(t^(r|~e),n,r,s,a,i)}function YA(n){var r,t=n.length,e=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=n.length;r+=64)k6(e,JB(n.substring(r-64,r)));n=n.substring(r-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<n.length;r++)s[r>>2]|=n.charCodeAt(r)<<(r%4<<3);if(s[r>>2]|=128<<(r%4<<3),r>55)for(k6(e,s),r=0;r<16;r++)s[r]=0;return s[14]=8*t,k6(e,s),e}function JB(n){var r,t=[];for(r=0;r<64;r+=4)t[r>>2]=n.charCodeAt(r)+(n.charCodeAt(r+1)<<8)+(n.charCodeAt(r+2)<<16)+(n.charCodeAt(r+3)<<24);return t}lb=Br.atob.bind(Br),y_=Br.btoa.bind(Br);var s3="0123456789abcdef".split("");function ZB(n){for(var r="",t=0;t<4;t++)r+=s3[n>>8*t+4&15]+s3[n>>8*t&15];return r}function QB(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function v_(n){return YA(n).map(QB).join("")}var eU=function(n){for(var r=0;r<n.length;r++)n[r]=ZB(n[r]);return n.join("")}(YA("hello"))!="5d41402abc4b2a76b9719d911017c592";function _f(n,r){if(eU){var t=(65535&n)+(65535&r);return(n>>16)+(r>>16)+(t>>16)<<16|65535&t}return n+r&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function x_(n,r){var t,e,s,a;if(n!==t){for(var i=(s=n,a=1+(256/n.length>>0),new Array(a+1).join(s)),o=[],u=0;u<256;u++)o[u]=u;var c=0;for(u=0;u<256;u++){var l=o[u];c=(c+l+i.charCodeAt(u))%256,o[u]=o[c],o[c]=l}t=n,e=o}else o=e;var d=r.length,p=0,h=0,f="";for(u=0;u<d;u++)h=(h+(l=o[p=(p+1)%256]))%256,o[p]=o[h],o[h]=l,i=o[(o[p]+o[h])%256],f+=String.fromCharCode(r.charCodeAt(u)^i);return f}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var a3={print:4,modify:8,copy:16,"annot-forms":32};function R0(n,r,t,e){this.v=1,this.r=2;var s=192;n.forEach(function(o){if(a3.perm!==void 0)throw new Error("Invalid permission: "+o);s+=a3[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(r+this.padding).substr(0,32),i=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,i),this.P=-(1+(255^s)),this.encryptionKey=v_(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(e)).substr(0,5),this.U=x_(this.encryptionKey,this.padding)}function M0(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var r="",t=n.length,e=0;e<t;e++){var s=n.charCodeAt(e);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?r+="#"+("0"+s.toString(16)).slice(-2):r+=n[e]}return r}function i3(n){if(ss(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var r={};this.subscribe=function(t,e,s){if(s=s||!1,typeof t!="string"||typeof e!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");r.hasOwnProperty(t)||(r[t]={});var a=Math.random().toString(35);return r[t][a]=[e,!!s],a},this.unsubscribe=function(t){for(var e in r)if(r[e][t])return delete r[e][t],Object.keys(r[e]).length===0&&delete r[e],!0;return!1},this.publish=function(t){if(r.hasOwnProperty(t)){var e=Array.prototype.slice.call(arguments,1),s=[];for(var a in r[t]){var i=r[t][a];try{i[0].apply(n,e)}catch(o){Br.console&&hs.error("jsPDF PubSub Error",o.message,o)}i[1]&&s.push(a)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return r}}function jb(n){if(!(this instanceof jb))return new jb(n);var r="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&r.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function KA(n,r){this.gState=n,this.matrix=r,this.id="",this.objectNumber=-1}function Xh(n,r,t,e,s){if(!(this instanceof Xh))return new Xh(n,r,t,e,s);this.type=n==="axial"?2:3,this.coords=r,this.colors=t,KA.call(this,e,s)}function kp(n,r,t,e,s){if(!(this instanceof kp))return new kp(n,r,t,e,s);this.boundingBox=n,this.xStep=r,this.yStep=t,this.stream="",this.cloneIndex=0,KA.call(this,e,s)}function jr(n){var r,t=typeof arguments[0]=="string"?arguments[0]:"p",e=arguments[1],s=arguments[2],a=arguments[3],i=[],o=1,u=16,c="S",l=null;ss(n=n||{})==="object"&&(t=n.orientation,e=n.unit||e,s=n.format||s,a=n.compress||n.compressPdf||a,(l=n.encryption||null)!==null&&(l.userPassword=l.userPassword||"",l.ownerPassword=l.ownerPassword||"",l.userPermissions=l.userPermissions||[]),o=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(r=n.precision),n.floatPrecision!==void 0&&(u=n.floatPrecision),c=n.defaultPathOperation||"S"),i=n.filters||(a===!0?["FlateEncode"]:i),e=e||"mm",t=(""+(t||"P")).toLowerCase();var d=n.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=i3;var f="1.3",b=h.__private__.getPdfVersion=function(){return f};h.__private__.setPdfVersion=function(se){f=se};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return y};var g=h.__private__.getPageFormat=function(se){return y[se]};s=s||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},v=x.COMPAT;function w(){this.saveGraphicsState(),ie(new Lt(ze,0,0,-ze,0,Ta()*ze).toString()+" cm"),this.setFontSize(this.getFontSize()/ze),c="n",v=x.ADVANCED}function S(){this.restoreGraphicsState(),c="S",v=x.COMPAT}var D=h.__private__.combineFontStyleAndFontWeight=function(se,me){if(se=="bold"&&me=="normal"||se=="bold"&&me==400||se=="normal"&&me=="italic"||se=="bold"&&me=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return me&&(se=me==400||me==="normal"?se==="italic"?"italic":"normal":me!=700&&me!=="bold"||se!=="normal"?(me==700?"bold":me)+""+se:"bold"),se};h.advancedAPI=function(se){var me=v===x.COMPAT;return me&&w.call(this),typeof se!="function"||(se(this),me&&S.call(this)),this},h.compatAPI=function(se){var me=v===x.ADVANCED;return me&&S.call(this),typeof se!="function"||(se(this),me&&w.call(this)),this},h.isAdvancedAPI=function(){return v===x.ADVANCED};var T,R=function(se){if(v!==x.ADVANCED)throw new Error(se+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},P=h.roundToPrecision=h.__private__.roundToPrecision=function(se,me){var Be=r||me;if(isNaN(se)||isNaN(Be))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return se.toFixed(Be).replace(/0+$/,"")};T=h.hpf=h.__private__.hpf=typeof u=="number"?function(se){if(isNaN(se))throw new Error("Invalid argument passed to jsPDF.hpf");return P(se,u)}:u==="smart"?function(se){if(isNaN(se))throw new Error("Invalid argument passed to jsPDF.hpf");return P(se,se>-1&&se<1?16:5)}:function(se){if(isNaN(se))throw new Error("Invalid argument passed to jsPDF.hpf");return P(se,16)};var L=h.f2=h.__private__.f2=function(se){if(isNaN(se))throw new Error("Invalid argument passed to jsPDF.f2");return P(se,2)},O=h.__private__.f3=function(se){if(isNaN(se))throw new Error("Invalid argument passed to jsPDF.f3");return P(se,3)},H=h.scale=h.__private__.scale=function(se){if(isNaN(se))throw new Error("Invalid argument passed to jsPDF.scale");return v===x.COMPAT?se*ze:v===x.ADVANCED?se:void 0},U=function(se){return v===x.COMPAT?Ta()-se:v===x.ADVANCED?se:void 0},I=function(se){return H(U(se))};h.__private__.setPrecision=h.setPrecision=function(se){typeof parseInt(se,10)=="number"&&(r=parseInt(se,10))};var F,A="00000000000000000000000000000000",_=h.__private__.getFileId=function(){return A},E=h.__private__.setFileId=function(se){return A=se!==void 0&&/^[a-fA-F0-9]{32}$/.test(se)?se.toUpperCase():A.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),l!==null&&(ms=new R0(l.userPermissions,l.userPassword,l.ownerPassword,A)),A};h.setFileId=function(se){return E(se),this},h.getFileId=function(){return _()};var N=h.__private__.convertDateToPDFDate=function(se){var me=se.getTimezoneOffset(),Be=me<0?"+":"-",Xe=Math.floor(Math.abs(me/60)),dt=Math.abs(me%60),_t=[Be,G(Xe),"'",G(dt),"'"].join("");return["D:",se.getFullYear(),G(se.getMonth()+1),G(se.getDate()),G(se.getHours()),G(se.getMinutes()),G(se.getSeconds()),_t].join("")},k=h.__private__.convertPDFDateToDate=function(se){var me=parseInt(se.substr(2,4),10),Be=parseInt(se.substr(6,2),10)-1,Xe=parseInt(se.substr(8,2),10),dt=parseInt(se.substr(10,2),10),_t=parseInt(se.substr(12,2),10),Ut=parseInt(se.substr(14,2),10);return new Date(me,Be,Xe,dt,_t,Ut,0)},B=h.__private__.setCreationDate=function(se){var me;if(se===void 0&&(se=new Date),se instanceof Date)me=N(se);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(se))throw new Error("Invalid argument passed to jsPDF.setCreationDate");me=se}return F=me},j=h.__private__.getCreationDate=function(se){var me=F;return se==="jsDate"&&(me=k(F)),me};h.setCreationDate=function(se){return B(se),this},h.getCreationDate=function(se){return j(se)};var M,G=h.__private__.padd2=function(se){return("0"+parseInt(se)).slice(-2)},Y=h.__private__.padd2Hex=function(se){return("00"+(se=se.toString())).substr(se.length)},J=0,V=[],Q=[],q=0,z=[],Z=[],re=!1,le=Q,ue=function(){J=0,q=0,Q=[],V=[],z=[],Se=rt(),we=rt()};h.__private__.setCustomOutputDestination=function(se){re=!0,le=se};var ce=function(se){re||(le=se)};h.__private__.resetCustomOutputDestination=function(){re=!1,le=Q};var ie=h.__private__.out=function(se){return se=se.toString(),q+=se.length+1,le.push(se),le},ye=h.__private__.write=function(se){return ie(arguments.length===1?se.toString():Array.prototype.join.call(arguments," "))},he=h.__private__.getArrayBuffer=function(se){for(var me=se.length,Be=new ArrayBuffer(me),Xe=new Uint8Array(Be);me--;)Xe[me]=se.charCodeAt(me);return Be},pe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return pe};var xe=n.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(se){return xe=v===x.ADVANCED?se/ze:se,this};var Oe,Ae=h.__private__.getFontSize=h.getFontSize=function(){return v===x.COMPAT?xe:xe*ze},Le=n.R2L||!1;h.__private__.setR2L=h.setR2L=function(se){return Le=se,this},h.__private__.getR2L=h.getR2L=function(){return Le};var He,Ye=h.__private__.setZoomMode=function(se){var me=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(se))Oe=se;else if(isNaN(se)){if(me.indexOf(se)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+se+'" is not recognized.');Oe=se}else Oe=parseInt(se,10)};h.__private__.getZoomMode=function(){return Oe};var it,bt=h.__private__.setPageMode=function(se){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(se)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+se+'" is not recognized.');He=se};h.__private__.getPageMode=function(){return He};var tt=h.__private__.setLayoutMode=function(se){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(se)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+se+'" is not recognized.');it=se};h.__private__.getLayoutMode=function(){return it},h.__private__.setDisplayMode=h.setDisplayMode=function(se,me,Be){return Ye(se),tt(me),bt(Be),this};var $e={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(se){if(Object.keys($e).indexOf(se)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return $e[se]},h.__private__.getDocumentProperties=function(){return $e},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(se){for(var me in $e)$e.hasOwnProperty(me)&&se[me]&&($e[me]=se[me]);return this},h.__private__.setDocumentProperty=function(se,me){if(Object.keys($e).indexOf(se)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return $e[se]=me};var at,ze,wt,vt,kt,pt={},At={},$t=[],Tt={},fr={},ur={},er={},Sr=null,tr=0,Wt=[],or=new i3(h),Ir=n.hotfixes||[],Jt={},wr={},Lr=[],Lt=function se(me,Be,Xe,dt,_t,Ut){if(!(this instanceof se))return new se(me,Be,Xe,dt,_t,Ut);isNaN(me)&&(me=1),isNaN(Be)&&(Be=0),isNaN(Xe)&&(Xe=0),isNaN(dt)&&(dt=1),isNaN(_t)&&(_t=0),isNaN(Ut)&&(Ut=0),this._matrix=[me,Be,Xe,dt,_t,Ut]};Object.defineProperty(Lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(se){this._matrix[0]=se}}),Object.defineProperty(Lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(se){this._matrix[1]=se}}),Object.defineProperty(Lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(se){this._matrix[2]=se}}),Object.defineProperty(Lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(se){this._matrix[3]=se}}),Object.defineProperty(Lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(se){this._matrix[4]=se}}),Object.defineProperty(Lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(se){this._matrix[5]=se}}),Object.defineProperty(Lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(se){this._matrix[0]=se}}),Object.defineProperty(Lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(se){this._matrix[1]=se}}),Object.defineProperty(Lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(se){this._matrix[2]=se}}),Object.defineProperty(Lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(se){this._matrix[3]=se}}),Object.defineProperty(Lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(se){this._matrix[4]=se}}),Object.defineProperty(Lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(se){this._matrix[5]=se}}),Object.defineProperty(Lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Lt.prototype.join=function(se){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(se)},Lt.prototype.multiply=function(se){var me=se.sx*this.sx+se.shy*this.shx,Be=se.sx*this.shy+se.shy*this.sy,Xe=se.shx*this.sx+se.sy*this.shx,dt=se.shx*this.shy+se.sy*this.sy,_t=se.tx*this.sx+se.ty*this.shx+this.tx,Ut=se.tx*this.shy+se.ty*this.sy+this.ty;return new Lt(me,Be,Xe,dt,_t,Ut)},Lt.prototype.decompose=function(){var se=this.sx,me=this.shy,Be=this.shx,Xe=this.sy,dt=this.tx,_t=this.ty,Ut=Math.sqrt(se*se+me*me),Zt=(se/=Ut)*Be+(me/=Ut)*Xe;Be-=se*Zt,Xe-=me*Zt;var br=Math.sqrt(Be*Be+Xe*Xe);return Zt/=br,se*(Xe/=br)<me*(Be/=br)&&(se=-se,me=-me,Zt=-Zt,Ut=-Ut),{scale:new Lt(Ut,0,0,br,0,0),translate:new Lt(1,0,0,1,dt,_t),rotate:new Lt(se,me,-me,se,0,0),skew:new Lt(1,0,Zt,1,0,0)}},Lt.prototype.toString=function(se){return this.join(" ")},Lt.prototype.inversed=function(){var se=this.sx,me=this.shy,Be=this.shx,Xe=this.sy,dt=this.tx,_t=this.ty,Ut=1/(se*Xe-me*Be),Zt=Xe*Ut,br=-me*Ut,Ur=-Be*Ut,Fr=se*Ut;return new Lt(Zt,br,Ur,Fr,-Zt*dt-Ur*_t,-br*dt-Fr*_t)},Lt.prototype.applyToPoint=function(se){var me=se.x*this.sx+se.y*this.shx+this.tx,Be=se.x*this.shy+se.y*this.sy+this.ty;return new Zc(me,Be)},Lt.prototype.applyToRectangle=function(se){var me=this.applyToPoint(se),Be=this.applyToPoint(new Zc(se.x+se.w,se.y+se.h));return new _a(me.x,me.y,Be.x-me.x,Be.y-me.y)},Lt.prototype.clone=function(){var se=this.sx,me=this.shy,Be=this.shx,Xe=this.sy,dt=this.tx,_t=this.ty;return new Lt(se,me,Be,Xe,dt,_t)},h.Matrix=Lt;var Er=h.matrixMult=function(se,me){return me.multiply(se)},Cr=new Lt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Cr;var lr=function(se,me){if(!fr[se]){var Be=(me instanceof Xh?"Sh":"P")+(Object.keys(Tt).length+1).toString(10);me.id=Be,fr[se]=Be,Tt[Be]=me,or.publish("addPattern",me)}};h.ShadingPattern=Xh,h.TilingPattern=kp,h.addShadingPattern=function(se,me){return R("addShadingPattern()"),lr(se,me),this},h.beginTilingPattern=function(se){R("beginTilingPattern()"),od(se.boundingBox[0],se.boundingBox[1],se.boundingBox[2]-se.boundingBox[0],se.boundingBox[3]-se.boundingBox[1],se.matrix)},h.endTilingPattern=function(se,me){R("endTilingPattern()"),me.stream=Z[M].join(`
`),lr(se,me),or.publish("endTilingPattern",me),Lr.pop().restore()};var qe=h.__private__.newObject=function(){var se=rt();return fe(se,!0),se},rt=h.__private__.newObjectDeferred=function(){return J++,V[J]=function(){return q},J},fe=function(se,me){return me=typeof me=="boolean"&&me,V[se]=q,me&&ie(se+" 0 obj"),se},Ee=h.__private__.newAdditionalObject=function(){var se={objId:rt(),content:""};return z.push(se),se},Se=rt(),we=rt(),Pe=h.__private__.decodeColorString=function(se){var me=se.split(" ");if(me.length!==2||me[1]!=="g"&&me[1]!=="G")me.length===5&&(me[4]==="k"||me[4]==="K")&&(me=[(1-me[0])*(1-me[3]),(1-me[1])*(1-me[3]),(1-me[2])*(1-me[3]),"r"]);else{var Be=parseFloat(me[0]);me=[Be,Be,Be,"r"]}for(var Xe="#",dt=0;dt<3;dt++)Xe+=("0"+Math.floor(255*parseFloat(me[dt])).toString(16)).slice(-2);return Xe},Re=h.__private__.encodeColorString=function(se){var me;typeof se=="string"&&(se={ch1:se});var Be=se.ch1,Xe=se.ch2,dt=se.ch3,_t=se.ch4,Ut=se.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Be=="string"&&Be.charAt(0)!=="#"){var Zt=new GA(Be);if(Zt.ok)Be=Zt.toHex();else if(!/^\d*\.?\d*$/.test(Be))throw new Error('Invalid color "'+Be+'" passed to jsPDF.encodeColorString.')}if(typeof Be=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Be)&&(Be="#"+Be[1]+Be[1]+Be[2]+Be[2]+Be[3]+Be[3]),typeof Be=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Be)){var br=parseInt(Be.substr(1),16);Be=br>>16&255,Xe=br>>8&255,dt=255&br}if(Xe===void 0||_t===void 0&&Be===Xe&&Xe===dt)if(typeof Be=="string")me=Be+" "+Ut[0];else switch(se.precision){case 2:me=L(Be/255)+" "+Ut[0];break;case 3:default:me=O(Be/255)+" "+Ut[0]}else if(_t===void 0||ss(_t)==="object"){if(_t&&!isNaN(_t.a)&&_t.a===0)return me=["1.","1.","1.",Ut[1]].join(" ");if(typeof Be=="string")me=[Be,Xe,dt,Ut[1]].join(" ");else switch(se.precision){case 2:me=[L(Be/255),L(Xe/255),L(dt/255),Ut[1]].join(" ");break;default:case 3:me=[O(Be/255),O(Xe/255),O(dt/255),Ut[1]].join(" ")}}else if(typeof Be=="string")me=[Be,Xe,dt,_t,Ut[2]].join(" ");else switch(se.precision){case 2:me=[L(Be),L(Xe),L(dt),L(_t),Ut[2]].join(" ");break;case 3:default:me=[O(Be),O(Xe),O(dt),O(_t),Ut[2]].join(" ")}return me},Ve=h.__private__.getFilters=function(){return i},ot=h.__private__.putStream=function(se){var me=(se=se||{}).data||"",Be=se.filters||Ve(),Xe=se.alreadyAppliedFilters||[],dt=se.addLength1||!1,_t=me.length,Ut=se.objectId,Zt=function(Os){return Os};if(l!==null&&Ut===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");l!==null&&(Zt=ms.encryptor(Ut,0));var br={};Be===!0&&(Be=["FlateEncode"]);var Ur=se.additionalKeyValues||[],Fr=(br=jr.API.processDataByFilters!==void 0?jr.API.processDataByFilters(me,Be):{data:me,reverseChain:[]}).reverseChain+(Array.isArray(Xe)?Xe.join(" "):Xe.toString());if(br.data.length!==0&&(Ur.push({key:"Length",value:br.data.length}),dt===!0&&Ur.push({key:"Length1",value:_t})),Fr.length!=0)if(Fr.split("/").length-1==1)Ur.push({key:"Filter",value:Fr});else{Ur.push({key:"Filter",value:"["+Fr+"]"});for(var tn=0;tn<Ur.length;tn+=1)if(Ur[tn].key==="DecodeParms"){for(var Jn=[],us=0;us<br.reverseChain.split("/").length-1;us+=1)Jn.push("null");Jn.push(Ur[tn].value),Ur[tn].value="["+Jn.join(" ")+"]"}}ie("<<");for(var Cs=0;Cs<Ur.length;Cs++)ie("/"+Ur[Cs].key+" "+Ur[Cs].value);ie(">>"),br.data.length!==0&&(ie("stream"),ie(Zt(br.data)),ie("endstream"))},Ke=h.__private__.putPage=function(se){var me=se.number,Be=se.data,Xe=se.objId,dt=se.contentsObjId;fe(Xe,!0),ie("<</Type /Page"),ie("/Parent "+se.rootDictionaryObjId+" 0 R"),ie("/Resources "+se.resourceDictionaryObjId+" 0 R"),ie("/MediaBox ["+parseFloat(T(se.mediaBox.bottomLeftX))+" "+parseFloat(T(se.mediaBox.bottomLeftY))+" "+T(se.mediaBox.topRightX)+" "+T(se.mediaBox.topRightY)+"]"),se.cropBox!==null&&ie("/CropBox ["+T(se.cropBox.bottomLeftX)+" "+T(se.cropBox.bottomLeftY)+" "+T(se.cropBox.topRightX)+" "+T(se.cropBox.topRightY)+"]"),se.bleedBox!==null&&ie("/BleedBox ["+T(se.bleedBox.bottomLeftX)+" "+T(se.bleedBox.bottomLeftY)+" "+T(se.bleedBox.topRightX)+" "+T(se.bleedBox.topRightY)+"]"),se.trimBox!==null&&ie("/TrimBox ["+T(se.trimBox.bottomLeftX)+" "+T(se.trimBox.bottomLeftY)+" "+T(se.trimBox.topRightX)+" "+T(se.trimBox.topRightY)+"]"),se.artBox!==null&&ie("/ArtBox ["+T(se.artBox.bottomLeftX)+" "+T(se.artBox.bottomLeftY)+" "+T(se.artBox.topRightX)+" "+T(se.artBox.topRightY)+"]"),typeof se.userUnit=="number"&&se.userUnit!==1&&ie("/UserUnit "+se.userUnit),or.publish("putPage",{objId:Xe,pageContext:Wt[me],pageNumber:me,page:Be}),ie("/Contents "+dt+" 0 R"),ie(">>"),ie("endobj");var _t=Be.join(`
`);return v===x.ADVANCED&&(_t+=`
Q`),fe(dt,!0),ot({data:_t,filters:Ve(),objectId:dt}),ie("endobj"),Xe},et=h.__private__.putPages=function(){var se,me,Be=[];for(se=1;se<=tr;se++)Wt[se].objId=rt(),Wt[se].contentsObjId=rt();for(se=1;se<=tr;se++)Be.push(Ke({number:se,data:Z[se],objId:Wt[se].objId,contentsObjId:Wt[se].contentsObjId,mediaBox:Wt[se].mediaBox,cropBox:Wt[se].cropBox,bleedBox:Wt[se].bleedBox,trimBox:Wt[se].trimBox,artBox:Wt[se].artBox,userUnit:Wt[se].userUnit,rootDictionaryObjId:Se,resourceDictionaryObjId:we}));fe(Se,!0),ie("<</Type /Pages");var Xe="/Kids [";for(me=0;me<tr;me++)Xe+=Be[me]+" 0 R ";ie(Xe+"]"),ie("/Count "+tr),ie(">>"),ie("endobj"),or.publish("postPutPages")},ct=function(se){or.publish("putFont",{font:se,out:ie,newObject:qe,putStream:ot}),se.isAlreadyPutted!==!0&&(se.objectNumber=qe(),ie("<<"),ie("/Type /Font"),ie("/BaseFont /"+M0(se.postScriptName)),ie("/Subtype /Type1"),typeof se.encoding=="string"&&ie("/Encoding /"+se.encoding),ie("/FirstChar 32"),ie("/LastChar 255"),ie(">>"),ie("endobj"))},Nt=function(){for(var se in pt)pt.hasOwnProperty(se)&&(d===!1||d===!0&&p.hasOwnProperty(se))&&ct(pt[se])},Ft=function(se){se.objectNumber=qe();var me=[];me.push({key:"Type",value:"/XObject"}),me.push({key:"Subtype",value:"/Form"}),me.push({key:"BBox",value:"["+[T(se.x),T(se.y),T(se.x+se.width),T(se.y+se.height)].join(" ")+"]"}),me.push({key:"Matrix",value:"["+se.matrix.toString()+"]"});var Be=se.pages[1].join(`
`);ot({data:Be,additionalKeyValues:me,objectId:se.objectNumber}),ie("endobj")},zt=function(){for(var se in Jt)Jt.hasOwnProperty(se)&&Ft(Jt[se])},Rt=function(se,me){var Be,Xe=[],dt=1/(me-1);for(Be=0;Be<1;Be+=dt)Xe.push(Be);if(Xe.push(1),se[0].offset!=0){var _t={offset:0,color:se[0].color};se.unshift(_t)}if(se[se.length-1].offset!=1){var Ut={offset:1,color:se[se.length-1].color};se.push(Ut)}for(var Zt="",br=0,Ur=0;Ur<Xe.length;Ur++){for(Be=Xe[Ur];Be>se[br+1].offset;)br++;var Fr=se[br].offset,tn=(Be-Fr)/(se[br+1].offset-Fr),Jn=se[br].color,us=se[br+1].color;Zt+=Y(Math.round((1-tn)*Jn[0]+tn*us[0]).toString(16))+Y(Math.round((1-tn)*Jn[1]+tn*us[1]).toString(16))+Y(Math.round((1-tn)*Jn[2]+tn*us[2]).toString(16))}return Zt.trim()},ke=function(se,me){me||(me=21);var Be=qe(),Xe=Rt(se.colors,me),dt=[];dt.push({key:"FunctionType",value:"0"}),dt.push({key:"Domain",value:"[0.0 1.0]"}),dt.push({key:"Size",value:"["+me+"]"}),dt.push({key:"BitsPerSample",value:"8"}),dt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),dt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ot({data:Xe,additionalKeyValues:dt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Be}),ie("endobj"),se.objectNumber=qe(),ie("<< /ShadingType "+se.type),ie("/ColorSpace /DeviceRGB");var _t="/Coords ["+T(parseFloat(se.coords[0]))+" "+T(parseFloat(se.coords[1]))+" ";se.type===2?_t+=T(parseFloat(se.coords[2]))+" "+T(parseFloat(se.coords[3])):_t+=T(parseFloat(se.coords[2]))+" "+T(parseFloat(se.coords[3]))+" "+T(parseFloat(se.coords[4]))+" "+T(parseFloat(se.coords[5])),ie(_t+="]"),se.matrix&&ie("/Matrix ["+se.matrix.toString()+"]"),ie("/Function "+Be+" 0 R"),ie("/Extend [true true]"),ie(">>"),ie("endobj")},Ge=function(se,me){var Be=rt(),Xe=qe();me.push({resourcesOid:Be,objectOid:Xe}),se.objectNumber=Xe;var dt=[];dt.push({key:"Type",value:"/Pattern"}),dt.push({key:"PatternType",value:"1"}),dt.push({key:"PaintType",value:"1"}),dt.push({key:"TilingType",value:"1"}),dt.push({key:"BBox",value:"["+se.boundingBox.map(T).join(" ")+"]"}),dt.push({key:"XStep",value:T(se.xStep)}),dt.push({key:"YStep",value:T(se.yStep)}),dt.push({key:"Resources",value:Be+" 0 R"}),se.matrix&&dt.push({key:"Matrix",value:"["+se.matrix.toString()+"]"}),ot({data:se.stream,additionalKeyValues:dt,objectId:se.objectNumber}),ie("endobj")},mt=function(se){var me;for(me in Tt)Tt.hasOwnProperty(me)&&(Tt[me]instanceof Xh?ke(Tt[me]):Tt[me]instanceof kp&&Ge(Tt[me],se))},Et=function(se){for(var me in se.objectNumber=qe(),ie("<<"),se)switch(me){case"opacity":ie("/ca "+L(se[me]));break;case"stroke-opacity":ie("/CA "+L(se[me]))}ie(">>"),ie("endobj")},Yt=function(){var se;for(se in ur)ur.hasOwnProperty(se)&&Et(ur[se])},Ht=function(){for(var se in ie("/XObject <<"),Jt)Jt.hasOwnProperty(se)&&Jt[se].objectNumber>=0&&ie("/"+se+" "+Jt[se].objectNumber+" 0 R");or.publish("putXobjectDict"),ie(">>")},Vt=function(){ms.oid=qe(),ie("<<"),ie("/Filter /Standard"),ie("/V "+ms.v),ie("/R "+ms.r),ie("/U <"+ms.toHexString(ms.U)+">"),ie("/O <"+ms.toHexString(ms.O)+">"),ie("/P "+ms.P),ie(">>"),ie("endobj")},Tr=function(){for(var se in ie("/Font <<"),pt)pt.hasOwnProperty(se)&&(d===!1||d===!0&&p.hasOwnProperty(se))&&ie("/"+se+" "+pt[se].objectNumber+" 0 R");ie(">>")},vr=function(){if(Object.keys(Tt).length>0){for(var se in ie("/Shading <<"),Tt)Tt.hasOwnProperty(se)&&Tt[se]instanceof Xh&&Tt[se].objectNumber>=0&&ie("/"+se+" "+Tt[se].objectNumber+" 0 R");or.publish("putShadingPatternDict"),ie(">>")}},Nr=function(se){if(Object.keys(Tt).length>0){for(var me in ie("/Pattern <<"),Tt)Tt.hasOwnProperty(me)&&Tt[me]instanceof h.TilingPattern&&Tt[me].objectNumber>=0&&Tt[me].objectNumber<se&&ie("/"+me+" "+Tt[me].objectNumber+" 0 R");or.publish("putTilingPatternDict"),ie(">>")}},ir=function(){if(Object.keys(ur).length>0){var se;for(se in ie("/ExtGState <<"),ur)ur.hasOwnProperty(se)&&ur[se].objectNumber>=0&&ie("/"+se+" "+ur[se].objectNumber+" 0 R");or.publish("putGStateDict"),ie(">>")}},_r=function(se){fe(se.resourcesOid,!0),ie("<<"),ie("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Tr(),vr(),Nr(se.objectOid),ir(),Ht(),ie(">>"),ie("endobj")},nn=function(){var se=[];Nt(),Yt(),zt(),mt(se),or.publish("putResources"),se.forEach(_r),_r({resourcesOid:we,objectOid:Number.MAX_SAFE_INTEGER}),or.publish("postPutResources")},sn=function(){or.publish("putAdditionalObjects");for(var se=0;se<z.length;se++){var me=z[se];fe(me.objId,!0),ie(me.content),ie("endobj")}or.publish("postPutAdditionalObjects")},An=function(se){At[se.fontName]=At[se.fontName]||{},At[se.fontName][se.fontStyle]=se.id},Vn=function(se,me,Be,Xe,dt){var _t={id:"F"+(Object.keys(pt).length+1).toString(10),postScriptName:se,fontName:me,fontStyle:Be,encoding:Xe,isStandardFont:dt||!1,metadata:{}};return or.publish("addFont",{font:_t,instance:this}),pt[_t.id]=_t,An(_t),_t.id},Ms=function(se){for(var me=0,Be=pe.length;me<Be;me++){var Xe=Vn.call(this,se[me][0],se[me][1],se[me][2],pe[me][3],!0);d===!1&&(p[Xe]=!0);var dt=se[me][0].split("-");An({id:Xe,fontName:dt[0],fontStyle:dt[1]||""})}or.publish("addFonts",{fonts:pt,dictionary:At})},as=function(se){return se.foo=function(){try{return se.apply(this,arguments)}catch(Xe){var me=Xe.stack||"";~me.indexOf(" at ")&&(me=me.split(" at ")[1]);var Be="Error in function "+me.split(`
`)[0].split("<")[0]+": "+Xe.message;if(!Br.console)throw new Error(Be);Br.console.error(Be,Xe),Br.alert&&alert(Be)}},se.foo.bar=se,se.foo},sa=function(se,me){var Be,Xe,dt,_t,Ut,Zt,br,Ur,Fr;if(dt=(me=me||{}).sourceEncoding||"Unicode",Ut=me.outputEncoding,(me.autoencode||Ut)&&pt[at].metadata&&pt[at].metadata[dt]&&pt[at].metadata[dt].encoding&&(_t=pt[at].metadata[dt].encoding,!Ut&&pt[at].encoding&&(Ut=pt[at].encoding),!Ut&&_t.codePages&&(Ut=_t.codePages[0]),typeof Ut=="string"&&(Ut=_t[Ut]),Ut)){for(br=!1,Zt=[],Be=0,Xe=se.length;Be<Xe;Be++)(Ur=Ut[se.charCodeAt(Be)])?Zt.push(String.fromCharCode(Ur)):Zt.push(se[Be]),Zt[Be].charCodeAt(0)>>8&&(br=!0);se=Zt.join("")}for(Be=se.length;br===void 0&&Be!==0;)se.charCodeAt(Be-1)>>8&&(br=!0),Be--;if(!br)return se;for(Zt=me.noBOM?[]:[254,255],Be=0,Xe=se.length;Be<Xe;Be++){if((Fr=(Ur=se.charCodeAt(Be))>>8)>>8)throw new Error("Character at position "+Be+" of string '"+se+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Zt.push(Fr),Zt.push(Ur-(Fr<<8))}return String.fromCharCode.apply(void 0,Zt)},Xn=h.__private__.pdfEscape=h.pdfEscape=function(se,me){return sa(se,me).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},vi=h.__private__.beginPage=function(se){Z[++tr]=[],Wt[tr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(se[0]),topRightY:Number(se[1])}},Wr(tr),ce(Z[M])},xi=function(se,me){var Be,Xe,dt;switch(t=me||t,typeof se=="string"&&(Be=g(se.toLowerCase()),Array.isArray(Be)&&(Xe=Be[0],dt=Be[1])),Array.isArray(se)&&(Xe=se[0]*ze,dt=se[1]*ze),isNaN(Xe)&&(Xe=s[0],dt=s[1]),(Xe>14400||dt>14400)&&(hs.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Xe=Math.min(14400,Xe),dt=Math.min(14400,dt)),s=[Xe,dt],t.substr(0,1)){case"l":dt>Xe&&(s=[dt,Xe]);break;case"p":Xe>dt&&(s=[dt,Xe])}vi(s),Th(sd),ie(ai),Xc!==0&&ie(Xc+" J"),Jc!==0&&ie(Jc+" j"),or.publish("addPage",{pageNumber:tr})},an=function(se){se>0&&se<=tr&&(Z.splice(se,1),Wt.splice(se,1),tr--,M>tr&&(M=tr),this.setPage(M))},Wr=function(se){se>0&&se<=tr&&(M=se)},ri=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Z.length-1},ni=function(se,me,Be){var Xe,dt=void 0;return Be=Be||{},se=se!==void 0?se:pt[at].fontName,me=me!==void 0?me:pt[at].fontStyle,Xe=se.toLowerCase(),At[Xe]!==void 0&&At[Xe][me]!==void 0?dt=At[Xe][me]:At[se]!==void 0&&At[se][me]!==void 0?dt=At[se][me]:Be.disableWarning===!1&&hs.warn("Unable to look up font label for font '"+se+"', '"+me+"'. Refer to getFontList() for available fonts."),dt||Be.noFallback||(dt=At.times[me])==null&&(dt=At.times.normal),dt},vo=h.__private__.putInfo=function(){var se=qe(),me=function(Xe){return Xe};for(var Be in l!==null&&(me=ms.encryptor(se,0)),ie("<<"),ie("/Producer ("+Xn(me("jsPDF "+jr.version))+")"),$e)$e.hasOwnProperty(Be)&&$e[Be]&&ie("/"+Be.substr(0,1).toUpperCase()+Be.substr(1)+" ("+Xn(me($e[Be]))+")");ie("/CreationDate ("+Xn(me(F))+")"),ie(">>"),ie("endobj")},ks=h.__private__.putCatalog=function(se){var me=(se=se||{}).rootDictionaryObjId||Se;switch(qe(),ie("<<"),ie("/Type /Catalog"),ie("/Pages "+me+" 0 R"),Oe||(Oe="fullwidth"),Oe){case"fullwidth":ie("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ie("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ie("/OpenAction [3 0 R /Fit]");break;case"original":ie("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Be=""+Oe;Be.substr(Be.length-1)==="%"&&(Oe=parseInt(Oe)/100),typeof Oe=="number"&&ie("/OpenAction [3 0 R /XYZ null null "+L(Oe)+"]")}switch(it||(it="continuous"),it){case"continuous":ie("/PageLayout /OneColumn");break;case"single":ie("/PageLayout /SinglePage");break;case"two":case"twoleft":ie("/PageLayout /TwoColumnLeft");break;case"tworight":ie("/PageLayout /TwoColumnRight")}He&&ie("/PageMode /"+He),or.publish("putCatalog"),ie(">>"),ie("endobj")},Vs=h.__private__.putTrailer=function(){ie("trailer"),ie("<<"),ie("/Size "+(J+1)),ie("/Root "+J+" 0 R"),ie("/Info "+(J-1)+" 0 R"),l!==null&&ie("/Encrypt "+ms.oid+" 0 R"),ie("/ID [ <"+A+"> <"+A+"> ]"),ie(">>")},si=h.__private__.putHeader=function(){ie("%PDF-"+f),ie("%")},xo=h.__private__.putXRef=function(){var se="0000000000";ie("xref"),ie("0 "+(J+1)),ie("0000000000 65535 f ");for(var me=1;me<=J;me++)typeof V[me]=="function"?ie((se+V[me]()).slice(-10)+" 00000 n "):V[me]!==void 0?ie((se+V[me]).slice(-10)+" 00000 n "):ie("0000000000 00000 n ")},Wa=h.__private__.buildDocument=function(){ue(),ce(Q),or.publish("buildDocument"),si(),et(),sn(),nn(),l!==null&&Vt(),vo(),ks();var se=q;return xo(),Vs(),ie("startxref"),ie(""+se),ie("%%EOF"),ce(Z[M]),Q.join(`
`)},za=h.__private__.getBlob=function(se){return new Blob([he(se)],{type:"application/pdf"})},va=h.output=h.__private__.output=as(function(se,me){switch(typeof(me=me||{})=="string"?me={filename:me}:me.filename=me.filename||"generated.pdf",se){case void 0:return Wa();case"save":h.save(me.filename);break;case"arraybuffer":return he(Wa());case"blob":return za(Wa());case"bloburi":case"bloburl":if(Br.URL!==void 0&&typeof Br.URL.createObjectURL=="function")return Br.URL&&Br.URL.createObjectURL(za(Wa()))||void 0;hs.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Be="",Xe=Wa();try{Be=y_(Xe)}catch{Be=y_(unescape(encodeURIComponent(Xe)))}return"data:application/pdf;filename="+me.filename+";base64,"+Be;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Br)==="[object Window]"){var dt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",_t=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';me.pdfObjectUrl&&(dt=me.pdfObjectUrl,_t="");var Ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+dt+'"'+_t+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(me)+");<\/script></body></html>",Zt=Br.open();return Zt!==null&&Zt.document.write(Ut),Zt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Br)==="[object Window]"){var br='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(me.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+me.filename+'" width="500px" height="400px" /></body></html>',Ur=Br.open();if(Ur!==null){Ur.document.write(br);var Fr=this;Ur.document.documentElement.querySelector("#pdfViewer").onload=function(){Ur.document.title=me.filename,Ur.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Fr.output("bloburl"))}}return Ur}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Br)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var tn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",me)+'"></iframe></body></html>',Jn=Br.open();if(Jn!==null&&(Jn.document.write(tn),Jn.document.title=me.filename),Jn||typeof safari>"u")return Jn;break;case"datauri":case"dataurl":return Br.document.location.href=this.output("datauristring",me);default:return null}}),xl=function(se){return Array.isArray(Ir)===!0&&Ir.indexOf(se)>-1};switch(e){case"pt":ze=1;break;case"mm":ze=72/25.4;break;case"cm":ze=72/2.54;break;case"in":ze=72;break;case"px":ze=xl("px_scaling")==1?.75:96/72;break;case"pc":case"em":ze=12;break;case"ex":ze=6;break;default:if(typeof e!="number")throw new Error("Invalid unit: "+e);ze=e}var ms=null;B(),E();var Jl=function(se){return l!==null?ms.encryptor(se,0):function(me){return me}},Uo=h.__private__.getPageInfo=h.getPageInfo=function(se){if(isNaN(se)||se%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Wt[se].objId,pageNumber:se,pageContext:Wt[se]}},Dr=h.__private__.getPageInfoByObjId=function(se){if(isNaN(se)||se%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var me in Wt)if(Wt[me].objId===se)break;return Uo(me)},Zl=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Wt[M].objId,pageNumber:M,pageContext:Wt[M]}};h.addPage=function(){return xi.apply(this,arguments),this},h.setPage=function(){return Wr.apply(this,arguments),ce.call(this,Z[M]),this},h.insertPage=function(se){return this.addPage(),this.movePage(M,se),this},h.movePage=function(se,me){var Be,Xe;if(se>me){Be=Z[se],Xe=Wt[se];for(var dt=se;dt>me;dt--)Z[dt]=Z[dt-1],Wt[dt]=Wt[dt-1];Z[me]=Be,Wt[me]=Xe,this.setPage(me)}else if(se<me){Be=Z[se],Xe=Wt[se];for(var _t=se;_t<me;_t++)Z[_t]=Z[_t+1],Wt[_t]=Wt[_t+1];Z[me]=Be,Wt[me]=Xe,this.setPage(me)}return this},h.deletePage=function(){return an.apply(this,arguments),this},h.__private__.text=h.text=function(se,me,Be,Xe,dt){var _t,Ut,Zt,br,Ur,Fr,tn,Jn,us,Cs=(Xe=Xe||{}).scope||this;if(typeof se=="number"&&typeof me=="number"&&(typeof Be=="string"||Array.isArray(Be))){var Os=Be;Be=me,me=se,se=Os}if(arguments[3]instanceof Lt?(R("The transform parameter of text() with a Matrix value"),us=dt):(Zt=arguments[4],br=arguments[5],ss(tn=arguments[3])==="object"&&tn!==null||(typeof Zt=="string"&&(br=Zt,Zt=null),typeof tn=="string"&&(br=tn,tn=null),typeof tn=="number"&&(Zt=tn,tn=null),Xe={flags:tn,angle:Zt,align:br})),isNaN(me)||isNaN(Be)||se==null)throw new Error("Invalid arguments passed to jsPDF.text");if(se.length===0)return Cs;var gs="",Ji=!1,Va=typeof Xe.lineHeightFactor=="number"?Xe.lineHeightFactor:Ql,bs=Cs.internal.scaleFactor;function Qc(Zn){return Zn=Zn.split("	").join(Array(Xe.TabLen||9).join(" ")),Xn(Zn,tn)}function zo(Zn){for(var Un,Fs=Zn.concat(),oa=[],lc=Fs.length;lc--;)typeof(Un=Fs.shift())=="string"?oa.push(Un):Array.isArray(Zn)&&(Un.length===1||Un[1]===void 0&&Un[2]===void 0)?oa.push(Un[0]):oa.push([Un[0],Un[1],Un[2]]);return oa}function eu(Zn,Un){var Fs;if(typeof Zn=="string")Fs=Un(Zn)[0];else if(Array.isArray(Zn)){for(var oa,lc,lu=Zn.concat(),Zi=[],dd=lu.length;dd--;)typeof(oa=lu.shift())=="string"?Zi.push(Un(oa)[0]):Array.isArray(oa)&&typeof oa[0]=="string"&&(lc=Un(oa[0],oa[1],oa[2]),Zi.push([lc[0],lc[1],lc[2]]));Fs=Zi}return Fs}var rc=!1,ld=!0;if(typeof se=="string")rc=!0;else if(Array.isArray(se)){var cd=se.concat();Ut=[];for(var tu,aa=cd.length;aa--;)(typeof(tu=cd.shift())!="string"||Array.isArray(tu)&&typeof tu[0]!="string")&&(ld=!1);rc=ld}if(rc===!1)throw new Error('Type of text must be string or Array. "'+se+'" is not recognized.');typeof se=="string"&&(se=se.match(/[\r?\n]/)?se.split(/\r\n|\r|\n/g):[se]);var Ls=xe/Cs.internal.scaleFactor,Ds=Ls*(Va-1);switch(Xe.baseline){case"bottom":Be-=Ds;break;case"top":Be+=Ls-Ds;break;case"hanging":Be+=Ls-2*Ds;break;case"middle":Be+=Ls/2-Ds}if((Fr=Xe.maxWidth||0)>0&&(typeof se=="string"?se=Cs.splitTextToSize(se,Fr):Object.prototype.toString.call(se)==="[object Array]"&&(se=se.reduce(function(Zn,Un){return Zn.concat(Cs.splitTextToSize(Un,Fr))},[]))),_t={text:se,x:me,y:Be,options:Xe,mutex:{pdfEscape:Xn,activeFontKey:at,fonts:pt,activeFontSize:xe}},or.publish("preProcessText",_t),se=_t.text,Zt=(Xe=_t.options).angle,!(us instanceof Lt)&&Zt&&typeof Zt=="number"){Zt*=Math.PI/180,Xe.rotationDirection===0&&(Zt=-Zt),v===x.ADVANCED&&(Zt=-Zt);var nc=Math.cos(Zt),ru=Math.sin(Zt);us=new Lt(nc,ru,-ru,nc,0,0)}else Zt&&Zt instanceof Lt&&(us=Zt);v!==x.ADVANCED||us||(us=Cr),(Ur=Xe.charSpace||ec)!==void 0&&(gs+=T(H(Ur))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Jn=Xe.horizontalScale)!==void 0&&(gs+=T(100*Jn)+` Tz
`),Xe.lang;var _s=-1,nu=Xe.renderingMode!==void 0?Xe.renderingMode:Xe.stroke,$s=Cs.internal.getCurrentPageInfo().pageContext;switch(nu){case 0:case!1:case"fill":_s=0;break;case 1:case!0:case"stroke":_s=1;break;case 2:case"fillThenStroke":_s=2;break;case 3:case"invisible":_s=3;break;case 4:case"fillAndAddForClipping":_s=4;break;case 5:case"strokeAndAddPathForClipping":_s=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":_s=6;break;case 7:case"addToPathForClipping":_s=7}var _o=$s.usedRenderingMode!==void 0?$s.usedRenderingMode:-1;_s!==-1?gs+=_s+` Tr
`:_o!==-1&&(gs+=`0 Tr
`),_s!==-1&&($s.usedRenderingMode=_s),br=Xe.align||"left";var $a,su=xe*Va,l0=Cs.internal.pageSize.getWidth(),sc=pt[at];Ur=Xe.charSpace||ec,Fr=Xe.maxWidth||0,tn=Object.assign({autoencode:!0,noBOM:!0},Xe.flags);var Sa=[],au=function(Zn){return Cs.getStringUnitWidth(Zn,{font:sc,charSpace:Ur,fontSize:xe,doKerning:!1})*xe/bs};if(Object.prototype.toString.call(se)==="[object Array]"){var wi;Ut=zo(se),br!=="left"&&($a=Ut.map(au));var ii,iu=0;if(br==="right"){me-=$a[0],se=[],aa=Ut.length;for(var ac=0;ac<aa;ac++)ac===0?(ii=$n(me),wi=Xi(Be)):(ii=H(iu-$a[ac]),wi=-su),se.push([Ut[ac],ii,wi]),iu=$a[ac]}else if(br==="center"){me-=$a[0]/2,se=[],aa=Ut.length;for(var ic=0;ic<aa;ic++)ic===0?(ii=$n(me),wi=Xi(Be)):(ii=H((iu-$a[ic])/2),wi=-su),se.push([Ut[ic],ii,wi]),iu=$a[ic]}else if(br==="left"){se=[],aa=Ut.length;for(var Vo=0;Vo<aa;Vo++)se.push(Ut[Vo])}else if(br==="justify"&&sc.encoding==="Identity-H"){se=[],aa=Ut.length,Fr=Fr!==0?Fr:l0;for(var st=0,yt=0;yt<aa;yt++)if(wi=yt===0?Xi(Be):-su,ii=yt===0?$n(me):st,yt<aa-1){var gt=H((Fr-$a[yt])/(Ut[yt].split(" ").length-1)),Kt=Ut[yt].split(" ");se.push([Kt[0]+" ",ii,wi]),st=0;for(var xr=1;xr<Kt.length;xr++){var ln=(au(Kt[xr-1]+" "+Kt[xr])-au(Kt[xr]))*bs+gt;xr==Kt.length-1?se.push([Kt[xr],ln,0]):se.push([Kt[xr]+" ",ln,0]),st-=ln}}else se.push([Ut[yt],ii,wi]);se.push(["",st,0])}else{if(br!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(se=[],aa=Ut.length,Fr=Fr!==0?Fr:l0,yt=0;yt<aa;yt++)wi=yt===0?Xi(Be):-su,ii=yt===0?$n(me):0,yt<aa-1?Sa.push(T(H((Fr-$a[yt])/(Ut[yt].split(" ").length-1)))):Sa.push(0),se.push([Ut[yt],ii,wi])}}var Ts=typeof Xe.R2L=="boolean"?Xe.R2L:Le;Ts===!0&&(se=eu(se,function(Zn,Un,Fs){return[Zn.split("").reverse().join(""),Un,Fs]})),_t={text:se,x:me,y:Be,options:Xe,mutex:{pdfEscape:Xn,activeFontKey:at,fonts:pt,activeFontSize:xe}},or.publish("postProcessText",_t),se=_t.text,Ji=_t.mutex.isHex||!1;var kn=pt[at].encoding;kn!=="WinAnsiEncoding"&&kn!=="StandardEncoding"||(se=eu(se,function(Zn,Un,Fs){return[Qc(Zn),Un,Fs]})),Ut=zo(se),se=[];for(var oc,ud,ia,Nl=0,Mh=1,So=Array.isArray(Ut[0])?Mh:Nl,$o="",ou=function(Zn,Un,Fs){var oa="";return Fs instanceof Lt?(Fs=typeof Xe.angle=="number"?Er(Fs,new Lt(1,0,0,1,Zn,Un)):Er(new Lt(1,0,0,1,Zn,Un),Fs),v===x.ADVANCED&&(Fs=Er(new Lt(1,0,0,-1,0,0),Fs)),oa=Fs.join(" ")+` Tm
`):oa=T(Zn)+" "+T(Un)+` Td
`,oa},Xr=0;Xr<Ut.length;Xr++){switch($o="",So){case Mh:ia=(Ji?"<":"(")+Ut[Xr][0]+(Ji?">":")"),oc=parseFloat(Ut[Xr][1]),ud=parseFloat(Ut[Xr][2]);break;case Nl:ia=(Ji?"<":"(")+Ut[Xr]+(Ji?">":")"),oc=$n(me),ud=Xi(Be)}Sa!==void 0&&Sa[Xr]!==void 0&&($o=Sa[Xr]+` Tw
`),Xr===0?se.push($o+ou(oc,ud,us)+ia):So===Nl?se.push($o+ia):So===Mh&&se.push($o+ou(oc,ud,us)+ia)}se=So===Nl?se.join(` Tj
T* `):se.join(` Tj
`),se+=` Tj
`;var Eo=`BT
/`;return Eo+=at+" "+xe+` Tf
`,Eo+=T(xe*Va)+` TL
`,Eo+=El+`
`,Eo+=gs,Eo+=se,ie(Eo+="ET"),p[at]=!0,Cs};var wl=h.__private__.clip=h.clip=function(se){return ie(se==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return wl("evenodd")},h.__private__.discardPath=h.discardPath=function(){return ie("n"),this};var Da=h.__private__.isValidStyle=function(se){var me=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(se)!==-1&&(me=!0),me};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(se){return Da(se)&&(c=se),this};var Ch=h.__private__.getStyle=h.getStyle=function(se){var me=c;switch(se){case"D":case"S":me="S";break;case"F":me="f";break;case"FD":case"DF":me="B";break;case"f":case"f*":case"B":case"B*":me=se}return me},Dh=h.close=function(){return ie("h"),this};h.stroke=function(){return ie("S"),this},h.fill=function(se){return _l("f",se),this},h.fillEvenOdd=function(se){return _l("f*",se),this},h.fillStroke=function(se){return _l("B",se),this},h.fillStrokeEvenOdd=function(se){return _l("B*",se),this};var _l=function(se,me){ss(me)==="object"?Jf(me,se):ie(se)},rd=function(se){se===null||v===x.ADVANCED&&se===void 0||(se=Ch(se),ie(se))};function Xf(se,me,Be,Xe,dt){var _t=new kp(me||this.boundingBox,Be||this.xStep,Xe||this.yStep,this.gState,dt||this.matrix);_t.stream=this.stream;var Ut=se+"$$"+this.cloneIndex+++"$$";return lr(Ut,_t),_t}var Jf=function(se,me){var Be=fr[se.key],Xe=Tt[Be];if(Xe instanceof Xh)ie("q"),ie(Zf(me)),Xe.gState&&h.setGState(Xe.gState),ie(se.matrix.toString()+" cm"),ie("/"+Be+" sh"),ie("Q");else if(Xe instanceof kp){var dt=new Lt(1,0,0,-1,0,Ta());se.matrix&&(dt=dt.multiply(se.matrix||Cr),Be=Xf.call(Xe,se.key,se.boundingBox,se.xStep,se.yStep,dt).id),ie("q"),ie("/Pattern cs"),ie("/"+Be+" scn"),Xe.gState&&h.setGState(Xe.gState),ie(me),ie("Q")}},Zf=function(se){switch(se){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},nd=h.moveTo=function(se,me){return ie(T(H(se))+" "+T(I(me))+" m"),this},bn=h.lineTo=function(se,me){return ie(T(H(se))+" "+T(I(me))+" l"),this},dn=h.curveTo=function(se,me,Be,Xe,dt,_t){return ie([T(H(se)),T(I(me)),T(H(Be)),T(I(Xe)),T(H(dt)),T(I(_t)),"c"].join(" ")),this};h.__private__.line=h.line=function(se,me,Be,Xe,dt){if(isNaN(se)||isNaN(me)||isNaN(Be)||isNaN(Xe)||!Da(dt))throw new Error("Invalid arguments passed to jsPDF.line");return v===x.COMPAT?this.lines([[Be-se,Xe-me]],se,me,[1,1],dt||"S"):this.lines([[Be-se,Xe-me]],se,me,[1,1]).stroke()},h.__private__.lines=h.lines=function(se,me,Be,Xe,dt,_t){var Ut,Zt,br,Ur,Fr,tn,Jn,us,Cs,Os,gs,Ji;if(typeof se=="number"&&(Ji=Be,Be=me,me=se,se=Ji),Xe=Xe||[1,1],_t=_t||!1,isNaN(me)||isNaN(Be)||!Array.isArray(se)||!Array.isArray(Xe)||!Da(dt)||typeof _t!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(nd(me,Be),Ut=Xe[0],Zt=Xe[1],Ur=se.length,Os=me,gs=Be,br=0;br<Ur;br++)(Fr=se[br]).length===2?(Os=Fr[0]*Ut+Os,gs=Fr[1]*Zt+gs,bn(Os,gs)):(tn=Fr[0]*Ut+Os,Jn=Fr[1]*Zt+gs,us=Fr[2]*Ut+Os,Cs=Fr[3]*Zt+gs,Os=Fr[4]*Ut+Os,gs=Fr[5]*Zt+gs,dn(tn,Jn,us,Cs,Os,gs));return _t&&Dh(),rd(dt),this},h.path=function(se){for(var me=0;me<se.length;me++){var Be=se[me],Xe=Be.c;switch(Be.op){case"m":nd(Xe[0],Xe[1]);break;case"l":bn(Xe[0],Xe[1]);break;case"c":dn.apply(this,Xe);break;case"h":Dh()}}return this},h.__private__.rect=h.rect=function(se,me,Be,Xe,dt){if(isNaN(se)||isNaN(me)||isNaN(Be)||isNaN(Xe)||!Da(dt))throw new Error("Invalid arguments passed to jsPDF.rect");return v===x.COMPAT&&(Xe=-Xe),ie([T(H(se)),T(I(me)),T(H(Be)),T(H(Xe)),"re"].join(" ")),rd(dt),this},h.__private__.triangle=h.triangle=function(se,me,Be,Xe,dt,_t,Ut){if(isNaN(se)||isNaN(me)||isNaN(Be)||isNaN(Xe)||isNaN(dt)||isNaN(_t)||!Da(Ut))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Be-se,Xe-me],[dt-Be,_t-Xe],[se-dt,me-_t]],se,me,[1,1],Ut,!0),this},h.__private__.roundedRect=h.roundedRect=function(se,me,Be,Xe,dt,_t,Ut){if(isNaN(se)||isNaN(me)||isNaN(Be)||isNaN(Xe)||isNaN(dt)||isNaN(_t)||!Da(Ut))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Zt=4/3*(Math.SQRT2-1);return dt=Math.min(dt,.5*Be),_t=Math.min(_t,.5*Xe),this.lines([[Be-2*dt,0],[dt*Zt,0,dt,_t-_t*Zt,dt,_t],[0,Xe-2*_t],[0,_t*Zt,-dt*Zt,_t,-dt,_t],[2*dt-Be,0],[-dt*Zt,0,-dt,-_t*Zt,-dt,-_t],[0,2*_t-Xe],[0,-_t*Zt,dt*Zt,-_t,dt,-_t]],se+dt,me,[1,1],Ut,!0),this},h.__private__.ellipse=h.ellipse=function(se,me,Be,Xe,dt){if(isNaN(se)||isNaN(me)||isNaN(Be)||isNaN(Xe)||!Da(dt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var _t=4/3*(Math.SQRT2-1)*Be,Ut=4/3*(Math.SQRT2-1)*Xe;return nd(se+Be,me),dn(se+Be,me-Ut,se+_t,me-Xe,se,me-Xe),dn(se-_t,me-Xe,se-Be,me-Ut,se-Be,me),dn(se-Be,me+Ut,se-_t,me+Xe,se,me+Xe),dn(se+_t,me+Xe,se+Be,me+Ut,se+Be,me),rd(dt),this},h.__private__.circle=h.circle=function(se,me,Be,Xe){if(isNaN(se)||isNaN(me)||isNaN(Be)||!Da(Xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(se,me,Be,Be,Xe)},h.setFont=function(se,me,Be){return Be&&(me=D(me,Be)),at=ni(se,me,{disableWarning:!1}),this};var Qf=h.__private__.getFont=h.getFont=function(){return pt[ni.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var se,me,Be={};for(se in At)if(At.hasOwnProperty(se))for(me in Be[se]=[],At[se])At[se].hasOwnProperty(me)&&Be[se].push(me);return Be},h.addFont=function(se,me,Be,Xe,dt){var _t=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&_t.indexOf(arguments[3])!==-1?dt=arguments[3]:arguments[3]&&_t.indexOf(arguments[3])==-1&&(Be=D(Be,Xe)),dt=dt||"Identity-H",Vn.call(this,se,me,Be,dt)};var Ql,sd=n.lineWidth||.200025,Kc=h.__private__.getLineWidth=h.getLineWidth=function(){return sd},Th=h.__private__.setLineWidth=h.setLineWidth=function(se){return sd=se,ie(T(H(se))+" w"),this};h.__private__.setLineDash=jr.API.setLineDash=jr.API.setLineDashPattern=function(se,me){if(se=se||[],me=me||0,isNaN(me)||!Array.isArray(se))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return se=se.map(function(Be){return T(H(Be))}).join(" "),me=T(H(me)),ie("["+se+"] "+me+" d"),this};var jh=h.__private__.getLineHeight=h.getLineHeight=function(){return xe*Ql};h.__private__.getLineHeight=h.getLineHeight=function(){return xe*Ql};var ad=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(se){return typeof(se=se||1.15)=="number"&&(Ql=se),this},Ih=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Ql};ad(n.lineHeight);var $n=h.__private__.getHorizontalCoordinate=function(se){return H(se)},Xi=h.__private__.getVerticalCoordinate=function(se){return v===x.ADVANCED?se:Wt[M].mediaBox.topRightY-Wt[M].mediaBox.bottomLeftY-H(se)},Sl=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(se){return T($n(se))},Ho=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(se){return T(Xi(se))},ai=n.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Pe(ai)},h.__private__.setStrokeColor=h.setDrawColor=function(se,me,Be,Xe){return ai=Re({ch1:se,ch2:me,ch3:Be,ch4:Xe,pdfColorType:"draw",precision:2}),ie(ai),this};var xa=n.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Pe(xa)},h.__private__.setFillColor=h.setFillColor=function(se,me,Be,Xe){return xa=Re({ch1:se,ch2:me,ch3:Be,ch4:Xe,pdfColorType:"fill",precision:2}),ie(xa),this};var El=n.textColor||"0 g",Ph=h.__private__.getTextColor=h.getTextColor=function(){return Pe(El)};h.__private__.setTextColor=h.setTextColor=function(se,me,Be,Xe){return El=Re({ch1:se,ch2:me,ch3:Be,ch4:Xe,pdfColorType:"text",precision:3}),this};var ec=n.charSpace,Rh=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(ec||0)};h.__private__.setCharSpace=h.setCharSpace=function(se){if(isNaN(se))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ec=se,this};var Xc=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(se){var me=h.CapJoinStyles[se];if(me===void 0)throw new Error("Line cap style of '"+se+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xc=me,ie(me+" J"),this};var Jc=0;h.__private__.setLineJoin=h.setLineJoin=function(se){var me=h.CapJoinStyles[se];if(me===void 0)throw new Error("Line join style of '"+se+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Jc=me,ie(me+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(se){if(se=se||0,isNaN(se))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ie(T(H(se))+" M"),this},h.GState=jb,h.setGState=function(se){(se=typeof se=="string"?ur[er[se]]:wa(null,se)).equals(Sr)||(ie("/"+se.id+" gs"),Sr=se)};var wa=function(se,me){if(!se||!er[se]){var Be=!1;for(var Xe in ur)if(ur.hasOwnProperty(Xe)&&ur[Xe].equals(me)){Be=!0;break}if(Be)me=ur[Xe];else{var dt="GS"+(Object.keys(ur).length+1).toString(10);ur[dt]=me,me.id=dt}return se&&(er[se]=me.id),or.publish("addGState",me),me}};h.addGState=function(se,me){return wa(se,me),this},h.saveGraphicsState=function(){return ie("q"),$t.push({key:at,size:xe,color:El}),this},h.restoreGraphicsState=function(){ie("Q");var se=$t.pop();return at=se.key,xe=se.size,El=se.color,Sr=null,this},h.setCurrentTransformationMatrix=function(se){return ie(se.toString()+" cm"),this},h.comment=function(se){return ie("#"+se),this};var Zc=function(se,me){var Be=se||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Be},set:function(_t){isNaN(_t)||(Be=parseFloat(_t))}});var Xe=me||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Xe},set:function(_t){isNaN(_t)||(Xe=parseFloat(_t))}});var dt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return dt},set:function(_t){dt=_t.toString()}}),this},_a=function(se,me,Be,Xe){Zc.call(this,se,me),this.type="rect";var dt=Be||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return dt},set:function(Ut){isNaN(Ut)||(dt=parseFloat(Ut))}});var _t=Xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return _t},set:function(Ut){isNaN(Ut)||(_t=parseFloat(Ut))}}),this},id=function(){this.page=tr,this.currentPage=M,this.pages=Z.slice(0),this.pagesContext=Wt.slice(0),this.x=wt,this.y=vt,this.matrix=kt,this.width=Wo(M),this.height=Ta(M),this.outputDestination=le,this.id="",this.objectNumber=-1};id.prototype.restore=function(){tr=this.page,M=this.currentPage,Wt=this.pagesContext,Z=this.pages,wt=this.x,vt=this.y,kt=this.matrix,Rn(M,this.width),tc(M,this.height),le=this.outputDestination};var od=function(se,me,Be,Xe,dt){Lr.push(new id),tr=M=0,Z=[],wt=se,vt=me,kt=dt,vi([Be,Xe])},wo=function(se){if(wr[se])Lr.pop().restore();else{var me=new id,Be="Xo"+(Object.keys(Jt).length+1).toString(10);me.id=Be,wr[se]=Be,Jt[Be]=me,or.publish("addFormObject",me),Lr.pop().restore()}};for(var qo in h.beginFormObject=function(se,me,Be,Xe,dt){return od(se,me,Be,Xe,dt),this},h.endFormObject=function(se){return wo(se),this},h.doFormObject=function(se,me){var Be=Jt[wr[se]];return ie("q"),ie(me.toString()+" cm"),ie("/"+Be.id+" Do"),ie("Q"),this},h.getFormObject=function(se){var me=Jt[wr[se]];return{x:me.x,y:me.y,width:me.width,height:me.height,matrix:me.matrix}},h.save=function(se,me){return se=se||"generated.pdf",(me=me||{}).returnPromise=me.returnPromise||!1,me.returnPromise===!1?(vp(za(Wa()),se),typeof vp.unload=="function"&&Br.setTimeout&&setTimeout(vp.unload,911),this):new Promise(function(Be,Xe){try{var dt=vp(za(Wa()),se);typeof vp.unload=="function"&&Br.setTimeout&&setTimeout(vp.unload,911),Be(dt)}catch(_t){Xe(_t.message)}})},jr.API)jr.API.hasOwnProperty(qo)&&(qo==="events"&&jr.API.events.length?function(se,me){var Be,Xe,dt;for(dt=me.length-1;dt!==-1;dt--)Be=me[dt][0],Xe=me[dt][1],se.subscribe.apply(se,[Be].concat(typeof Xe=="function"?[Xe]:Xe))}(or,jr.API.events):h[qo]=jr.API[qo]);var Wo=h.getPageWidth=function(se){return(Wt[se=se||M].mediaBox.topRightX-Wt[se].mediaBox.bottomLeftX)/ze},Rn=h.setPageWidth=function(se,me){Wt[se].mediaBox.topRightX=me*ze+Wt[se].mediaBox.bottomLeftX},Ta=h.getPageHeight=function(se){return(Wt[se=se||M].mediaBox.topRightY-Wt[se].mediaBox.bottomLeftY)/ze},tc=h.setPageHeight=function(se,me){Wt[se].mediaBox.topRightY=me*ze+Wt[se].mediaBox.bottomLeftY};return h.internal={pdfEscape:Xn,getStyle:Ch,getFont:Qf,getFontSize:Ae,getCharSpace:Rh,getTextColor:Ph,getLineHeight:jh,getLineHeightFactor:Ih,getLineWidth:Kc,write:ye,getHorizontalCoordinate:$n,getVerticalCoordinate:Xi,getCoordinateString:Sl,getVerticalCoordinateString:Ho,collections:{},newObject:qe,newAdditionalObject:Ee,newObjectDeferred:rt,newObjectDeferredBegin:fe,getFilters:Ve,putStream:ot,events:or,scaleFactor:ze,pageSize:{getWidth:function(){return Wo(M)},setWidth:function(se){Rn(M,se)},getHeight:function(){return Ta(M)},setHeight:function(se){tc(M,se)}},encryptionOptions:l,encryption:ms,getEncryptor:Jl,output:va,getNumberOfPages:ri,pages:Z,out:ie,f2:L,f3:O,getPageInfo:Uo,getPageInfoByObjId:Dr,getCurrentPageInfo:Zl,getPDFVersion:b,Point:Zc,Rectangle:_a,Matrix:Lt,hasHotfix:xl},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Wo(M)},set:function(se){Rn(M,se)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Ta(M)},set:function(se){tc(M,se)},enumerable:!0,configurable:!0}),Ms.call(h,pe),at="F1",xi(s,t),or.publish("initialized"),h}R0.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},R0.prototype.toHexString=function(n){return n.split("").map(function(r){return("0"+(255&r.charCodeAt(0)).toString(16)).slice(-2)}).join("")},R0.prototype.hexToBytes=function(n){for(var r=[],t=0;t<n.length;t+=2)r.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return r.join("")},R0.prototype.processOwnerPassword=function(n,r){return x_(v_(r).substr(0,5),n)},R0.prototype.encryptor=function(n,r){var t=v_(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&r,r>>8&255)).substr(0,10);return function(e){return x_(t,e)}},jb.prototype.equals=function(n){var r,t="id,objectNumber,equals";if(!n||ss(n)!==ss(this))return!1;var e=0;for(r in this)if(!(t.indexOf(r)>=0)){if(this.hasOwnProperty(r)&&!n.hasOwnProperty(r)||this[r]!==n[r])return!1;e++}for(r in n)n.hasOwnProperty(r)&&t.indexOf(r)<0&&e--;return e===0},jr.API={events:[]},jr.version="2.5.2";var Zs=jr.API,w8=1,Jm=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T0=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},$r=function(n){return n.toFixed(2)},zh=function(n){return n.toFixed(5)};Zs.__acroform__={};var Bo=function(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n},o3=function(n){return n*w8},bu=function(n){var r=new JA,t=dr.internal.getHeight(n)||0,e=dr.internal.getWidth(n)||0;return r.BBox=[0,0,Number($r(e)),Number($r(t))],r},tU=Zs.__acroform__.setBit=function(n,r){if(n=n||0,r=r||0,isNaN(n)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<r},rU=Zs.__acroform__.clearBit=function(n,r){if(n=n||0,r=r||0,isNaN(n)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<r)},nU=Zs.__acroform__.getBit=function(n,r){if(isNaN(n)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<r?1:0},fa=Zs.__acroform__.getBitForPdf=function(n,r){if(isNaN(n)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return nU(n,r-1)},pa=Zs.__acroform__.setBitForPdf=function(n,r){if(isNaN(n)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return tU(n,r-1)},ma=Zs.__acroform__.clearBitForPdf=function(n,r){if(isNaN(n)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return rU(n,r-1)},sU=Zs.__acroform__.calculateCoordinates=function(n,r){var t=r.internal.getHorizontalCoordinate,e=r.internal.getVerticalCoordinate,s=n[0],a=n[1],i=n[2],o=n[3],u={};return u.lowerLeft_X=t(s)||0,u.lowerLeft_Y=e(a+o)||0,u.upperRight_X=t(s+i)||0,u.upperRight_Y=e(a)||0,[Number($r(u.lowerLeft_X)),Number($r(u.lowerLeft_Y)),Number($r(u.upperRight_X)),Number($r(u.upperRight_Y))]},aU=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var r=[],t=n._V||n.DV,e=w_(n,t),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;r.push("/Tx BMC"),r.push("q"),r.push("BT"),r.push(n.scope.__private__.encodeColorString(n.color)),r.push("/"+s+" "+$r(e.fontSize)+" Tf"),r.push("1 0 0 1 0 0 Tm"),r.push(e.text),r.push("ET"),r.push("Q"),r.push("EMC");var a=bu(n);return a.scope=n.scope,a.stream=r.join(`
`),a}},w_=function(n,r){var t=n.fontSize===0?n.maxFontSize:n.fontSize,e={text:"",fontSize:""},s=(r=(r=r.substr(0,1)=="("?r.substr(1):r).substr(r.length-1)==")"?r.substr(0,r.length-1):r).split(" ");s=n.multiline?s.map(function(O){return O.split(`
`)}):s.map(function(O){return[O]});var a=t,i=dr.internal.getHeight(n)||0;i=i<0?-i:i;var o=dr.internal.getWidth(n)||0;o=o<0?-o:o;var u=function(O,H,U){if(O+1<s.length){var I=H+" "+s[O+1][0];return L2(I,n,U).width<=o-4}return!1};a++;e:for(;a>0;){r="",a--;var c,l,d=L2("3",n,a).height,p=n.multiline?i-a:(i-d)/2,h=p+=2,f=0,b=0,y=0;if(a<=0){r=`(...) Tj
`,r+="% Width of Text: "+L2(r,n,a=12).width+", FieldWidth:"+o+`
`;break}for(var g="",x=0,v=0;v<s.length;v++)if(s.hasOwnProperty(v)){var w=!1;if(s[v].length!==1&&y!==s[v].length-1){if((d+2)*(x+2)+2>i)continue e;g+=s[v][y],w=!0,b=v,v--}else{g=(g+=s[v][y]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var S=parseInt(v),D=u(S,g,a),T=v>=s.length-1;if(D&&!T){g+=" ",y=0;continue}if(D||T){if(T)b=S;else if(n.multiline&&(d+2)*(x+2)+2>i)continue e}else{if(!n.multiline||(d+2)*(x+2)+2>i)continue e;b=S}}for(var R="",P=f;P<=b;P++){var L=s[P];if(n.multiline){if(P===b){R+=L[y]+" ",y=(y+1)%L.length;continue}if(P===f){R+=L[L.length-1]+" ";continue}}R+=L[0]+" "}switch(R=R.substr(R.length-1)==" "?R.substr(0,R.length-1):R,l=L2(R,n,a).width,n.textAlign){case"right":c=o-l-2;break;case"center":c=(o-l)/2;break;case"left":default:c=2}r+=$r(c)+" "+$r(h)+` Td
`,r+="("+Jm(R)+`) Tj
`,r+=-$r(c)+` 0 Td
`,h=-(a+2),l=0,f=w?b:b+1,x++,g=""}break}return e.text=r,e.fontSize=a,e},L2=function(n,r,t){var e=r.scope.internal.getFont(r.fontName,r.fontStyle),s=r.scope.getStringUnitWidth(n,{font:e,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:r.scope.getStringUnitWidth("3",{font:e,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},iU={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},oU=function(n,r){var t={type:"reference",object:n};r.internal.getPageInfo(n.page).pageContext.annotations.find(function(e){return e.type===t.type&&e.object===t.object})===void 0&&r.internal.getPageInfo(n.page).pageContext.annotations.push(t)},lU=function(n,r){for(var t in n)if(n.hasOwnProperty(t)){var e=t,s=n[t];r.internal.newObjectDeferredBegin(s.objId,!0),ss(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete n[e]}},cU=function(n,r){if(r.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if($c.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(iU)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");w8=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new ZA,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var e=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in e)if(e.hasOwnProperty(s)){var a=e[s];a.objId=void 0,a.hasAnnotation&&oU(a,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(e,s){var a=!e;for(var i in e||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(i)){var o=e[i],u=[],c=o.Rect;if(o.Rect&&(o.Rect=sU(o.Rect,s)),s.internal.newObjectDeferredBegin(o.objId,!0),o.DA=dr.createDefaultAppearanceStream(o),ss(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(u=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var l=aU(o);u.push({key:"AP",value:"<</N "+l+">>"}),s.internal.acroformPlugin.xForms.push(l)}if(o.appearanceStreamContent){var d="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var h=o.appearanceStreamContent[p];if(d+="/"+p+" ",d+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var i in h)if(h.hasOwnProperty(i)){var f=h[i];typeof f=="function"&&(f=f.call(s,o)),d+="/"+i+" "+f+" ",s.internal.acroformPlugin.xForms.indexOf(f)>=0||s.internal.acroformPlugin.xForms.push(f)}}else typeof(f=h)=="function"&&(f=f.call(s,o)),d+="/"+i+" "+f,s.internal.acroformPlugin.xForms.indexOf(f)>=0||s.internal.acroformPlugin.xForms.push(f);d+=">>"}u.push({key:"AP",value:`<<
`+d+">>"})}s.internal.putStream({additionalKeyValues:u,objectId:o.objId}),s.internal.out("endobj")}a&&lU(s.internal.acroformPlugin.xForms,s)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},XA=Zs.__acroform__.arrayToPdfArray=function(n,r,t){var e=function(i){return i};if(Array.isArray(n)){for(var s="[",a=0;a<n.length;a++)switch(a!==0&&(s+=" "),ss(n[a])){case"boolean":case"number":case"object":s+=n[a].toString();break;case"string":n[a].substr(0,1)!=="/"?(r!==void 0&&t&&(e=t.internal.getEncryptor(r)),s+="("+Jm(e(n[a].toString()))+")"):s+=n[a].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},C6=function(n,r,t){var e=function(s){return s};return r!==void 0&&t&&(e=t.internal.getEncryptor(r)),(n=n||"").toString(),n="("+Jm(e(n))+")"},Uu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Uu.prototype.toString=function(){return this.objId+" 0 R"},Uu.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Uu.prototype.getKeyValueListForStream=function(){var n=[],r=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var t in r)if(Object.getOwnPropertyDescriptor(this,r[t]).configurable===!1){var e=r[t],s=this[e];s&&(Array.isArray(s)?n.push({key:e,value:XA(s,this.objId,this.scope)}):s instanceof Uu?(s.scope=this.scope,n.push({key:e,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:e,value:s}))}return n};var JA=function(){Uu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,r=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Bo(JA,Uu);var ZA=function(){Uu.call(this);var n,r=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return r.length>0?r:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return r}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Jm(t(n))+")"}},set:function(t){n=t}})};Bo(ZA,Uu);var $c=function n(){Uu.call(this);var r=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return r},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');r=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!fa(r,3)},set:function(g){g?this.F=pa(r,3):this.F=ma(r,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');t=g}});var e=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(e.length!==0)return e},set:function(g){e=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!e||isNaN(e[0])?0:e[0]},set:function(g){e[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!e||isNaN(e[1])?0:e[1]},set:function(g){e[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!e||isNaN(e[2])?0:e[2]},set:function(g){e[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!e||isNaN(e[3])?0:e[3]},set:function(g){e[3]=g}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Jx)return;a="FieldObject"+n.FieldNum++}var g=function(x){return x};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+Jm(g(a))+")"},set:function(g){a=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(g){a=g}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(g){i=g}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(g){u=g}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/w8:c},set:function(g){c=g}});var l="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof Jx||this instanceof kf))return C6(d,this.objId,this.scope)},set:function(g){g=g.toString(),d=g}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Fa?p:C6(p,this.objId,this.scope)},set:function(g){g=g.toString(),p=this instanceof Fa?g:g.substr(0,1)==="("?T0(g.substr(1,g.length-2)):T0(g)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fa?T0(p.substr(1,p.length-1)):p},set:function(g){g=g.toString(),p=this instanceof Fa?"/"+g:g}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Fa?h:C6(h,this.objId,this.scope)},set:function(g){g=g.toString(),h=this instanceof Fa?g:g.substr(0,1)==="("?T0(g.substr(1,g.length-2)):T0(g)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fa?T0(h.substr(1,h.length-1)):h},set:function(g){g=g.toString(),h=this instanceof Fa?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var f,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(g){g=!!g,b=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(f)return f},set:function(g){f=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,1)},set:function(g){g?this.Ff=pa(this.Ff,1):this.Ff=ma(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,2)},set:function(g){g?this.Ff=pa(this.Ff,2):this.Ff=ma(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,3)},set:function(g){g?this.Ff=pa(this.Ff,3):this.Ff=ma(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');y=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(y){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:y=2;break;case"center":case 1:y=1;break;case"left":case 0:default:y=0}}})};Bo($c,Uu);var Am=function(){$c.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var r=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return XA(r,this.objId,this.scope)},set:function(t){var e,s;s=[],typeof(e=t)=="string"&&(s=function(a,i,o){o||(o=1);for(var u,c=[];u=i.exec(a);)c.push(u[o]);return c}(e,/\((.*?)\)/g)),r=s}}),this.getOptions=function(){return r},this.setOptions=function(t){r=t,this.sort&&r.sort()},this.addOption=function(t){t=(t=t||"").toString(),r.push(t),this.sort&&r.sort()},this.removeOption=function(t,e){for(e=e||!1,t=(t=t||"").toString();r.indexOf(t)!==-1&&(r.splice(r.indexOf(t),1),e!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,18)},set:function(t){t?this.Ff=pa(this.Ff,18):this.Ff=ma(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=pa(this.Ff,19):this.Ff=ma(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,20)},set:function(t){t?(this.Ff=pa(this.Ff,20),r.sort()):this.Ff=ma(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,22)},set:function(t){t?this.Ff=pa(this.Ff,22):this.Ff=ma(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,23)},set:function(t){t?this.Ff=pa(this.Ff,23):this.Ff=ma(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,27)},set:function(t){t?this.Ff=pa(this.Ff,27):this.Ff=ma(this.Ff,27)}}),this.hasAppearanceStream=!1};Bo(Am,$c);var km=function(){Am.call(this),this.fontName="helvetica",this.combo=!1};Bo(km,Am);var Cm=function(){km.call(this),this.combo=!0};Bo(Cm,km);var cb=function(){Cm.call(this),this.edit=!0};Bo(cb,Cm);var Fa=function(){$c.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,15)},set:function(t){t?this.Ff=pa(this.Ff,15):this.Ff=ma(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,16)},set:function(t){t?this.Ff=pa(this.Ff,16):this.Ff=ma(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,17)},set:function(t){t?this.Ff=pa(this.Ff,17):this.Ff=ma(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,26)},set:function(t){t?this.Ff=pa(this.Ff,26):this.Ff=ma(this.Ff,26)}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(a){return a};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(r).length!==0){var e,s=[];for(e in s.push("<<"),r)s.push("/"+e+" ("+Jm(t(r[e]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){ss(t)==="object"&&(r=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(t){typeof t=="string"&&(r.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Bo(Fa,$c);var ub=function(){Fa.call(this),this.pushButton=!0};Bo(ub,Fa);var Dm=function(){Fa.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(r){n=r!==void 0?r:[]}})};Bo(Dm,Fa);var Jx=function(){var n,r;$c.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return r},set:function(s){r=s}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(o){return o};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var a,i=[];for(a in i.push("<<"),e)i.push("/"+a+" ("+Jm(s(e[a]))+")");return i.push(">>"),i.join(`
`)},set:function(s){ss(s)==="object"&&(e=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(s){typeof s=="string"&&(e.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=dr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Bo(Jx,$c),Dm.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var r in this.Kids)if(this.Kids.hasOwnProperty(r)){var t=this.Kids[r];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Dm.prototype.createOption=function(n){var r=new Jx;return r.Parent=this,r.optionName=n,this.Kids.push(r),uU.call(this.scope,r),r};var db=function(){Fa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=dr.CheckBox.createAppearanceStream()};Bo(db,Fa);var kf=function(){$c.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,13)},set:function(r){r?this.Ff=pa(this.Ff,13):this.Ff=ma(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,21)},set:function(r){r?this.Ff=pa(this.Ff,21):this.Ff=ma(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,23)},set:function(r){r?this.Ff=pa(this.Ff,23):this.Ff=ma(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,24)},set:function(r){r?this.Ff=pa(this.Ff,24):this.Ff=ma(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,25)},set:function(r){r?this.Ff=pa(this.Ff,25):this.Ff=ma(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,26)},set:function(r){r?this.Ff=pa(this.Ff,26):this.Ff=ma(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(r){Number.isInteger(r)&&(n=r)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Bo(kf,$c);var hb=function(){kf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!fa(this.Ff,14)},set:function(n){n?this.Ff=pa(this.Ff,14):this.Ff=ma(this.Ff,14)}}),this.password=!0};Bo(hb,kf);var dr={CheckBox:{createAppearanceStream:function(){return{N:{On:dr.CheckBox.YesNormal},D:{On:dr.CheckBox.YesPushDown,Off:dr.CheckBox.OffPushDown}}},YesPushDown:function(n){var r=bu(n);r.scope=n.scope;var t=[],e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),a=w_(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+$r(dr.internal.getWidth(n))+" "+$r(dr.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+e+" "+$r(a.fontSize)+" Tf "+s),t.push("BT"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC"),r.stream=t.join(`
`),r},YesNormal:function(n){var r=bu(n);r.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color),s=[],a=dr.internal.getHeight(n),i=dr.internal.getWidth(n),o=w_(n,n.caption);return s.push("1 g"),s.push("0 0 "+$r(i)+" "+$r(a)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+$r(i-1)+" "+$r(a-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+$r(o.fontSize)+" Tf "+e),s.push(o.text),s.push("ET"),s.push("Q"),r.stream=s.join(`
`),r},OffPushDown:function(n){var r=bu(n);r.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+$r(dr.internal.getWidth(n))+" "+$r(dr.internal.getHeight(n))+" re"),t.push("f"),r.stream=t.join(`
`),r}},RadioButton:{Circle:{createAppearanceStream:function(n){var r={D:{Off:dr.RadioButton.Circle.OffPushDown},N:{}};return r.N[n]=dr.RadioButton.Circle.YesNormal,r.D[n]=dr.RadioButton.Circle.YesPushDown,r},getCA:function(){return"l"},YesNormal:function(n){var r=bu(n);r.scope=n.scope;var t=[],e=dr.internal.getWidth(n)<=dr.internal.getHeight(n)?dr.internal.getWidth(n)/4:dr.internal.getHeight(n)/4;e=Number((.9*e).toFixed(5));var s=dr.internal.Bezier_C,a=Number((e*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+zh(dr.internal.getWidth(n)/2)+" "+zh(dr.internal.getHeight(n)/2)+" cm"),t.push(e+" 0 m"),t.push(e+" "+a+" "+a+" "+e+" 0 "+e+" c"),t.push("-"+a+" "+e+" -"+e+" "+a+" -"+e+" 0 c"),t.push("-"+e+" -"+a+" -"+a+" -"+e+" 0 -"+e+" c"),t.push(a+" -"+e+" "+e+" -"+a+" "+e+" 0 c"),t.push("f"),t.push("Q"),r.stream=t.join(`
`),r},YesPushDown:function(n){var r=bu(n);r.scope=n.scope;var t=[],e=dr.internal.getWidth(n)<=dr.internal.getHeight(n)?dr.internal.getWidth(n)/4:dr.internal.getHeight(n)/4;e=Number((.9*e).toFixed(5));var s=Number((2*e).toFixed(5)),a=Number((s*dr.internal.Bezier_C).toFixed(5)),i=Number((e*dr.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+zh(dr.internal.getWidth(n)/2)+" "+zh(dr.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),t.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),t.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),t.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+zh(dr.internal.getWidth(n)/2)+" "+zh(dr.internal.getHeight(n)/2)+" cm"),t.push(e+" 0 m"),t.push(e+" "+i+" "+i+" "+e+" 0 "+e+" c"),t.push("-"+i+" "+e+" -"+e+" "+i+" -"+e+" 0 c"),t.push("-"+e+" -"+i+" -"+i+" -"+e+" 0 -"+e+" c"),t.push(i+" -"+e+" "+e+" -"+i+" "+e+" 0 c"),t.push("f"),t.push("Q"),r.stream=t.join(`
`),r},OffPushDown:function(n){var r=bu(n);r.scope=n.scope;var t=[],e=dr.internal.getWidth(n)<=dr.internal.getHeight(n)?dr.internal.getWidth(n)/4:dr.internal.getHeight(n)/4;e=Number((.9*e).toFixed(5));var s=Number((2*e).toFixed(5)),a=Number((s*dr.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+zh(dr.internal.getWidth(n)/2)+" "+zh(dr.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),t.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),t.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),t.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),t.push("f"),t.push("Q"),r.stream=t.join(`
`),r}},Cross:{createAppearanceStream:function(n){var r={D:{Off:dr.RadioButton.Cross.OffPushDown},N:{}};return r.N[n]=dr.RadioButton.Cross.YesNormal,r.D[n]=dr.RadioButton.Cross.YesPushDown,r},getCA:function(){return"8"},YesNormal:function(n){var r=bu(n);r.scope=n.scope;var t=[],e=dr.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+$r(dr.internal.getWidth(n)-2)+" "+$r(dr.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push($r(e.x1.x)+" "+$r(e.x1.y)+" m"),t.push($r(e.x2.x)+" "+$r(e.x2.y)+" l"),t.push($r(e.x4.x)+" "+$r(e.x4.y)+" m"),t.push($r(e.x3.x)+" "+$r(e.x3.y)+" l"),t.push("s"),t.push("Q"),r.stream=t.join(`
`),r},YesPushDown:function(n){var r=bu(n);r.scope=n.scope;var t=dr.internal.calculateCross(n),e=[];return e.push("0.749023 g"),e.push("0 0 "+$r(dr.internal.getWidth(n))+" "+$r(dr.internal.getHeight(n))+" re"),e.push("f"),e.push("q"),e.push("1 1 "+$r(dr.internal.getWidth(n)-2)+" "+$r(dr.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push($r(t.x1.x)+" "+$r(t.x1.y)+" m"),e.push($r(t.x2.x)+" "+$r(t.x2.y)+" l"),e.push($r(t.x4.x)+" "+$r(t.x4.y)+" m"),e.push($r(t.x3.x)+" "+$r(t.x3.y)+" l"),e.push("s"),e.push("Q"),r.stream=e.join(`
`),r},OffPushDown:function(n){var r=bu(n);r.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+$r(dr.internal.getWidth(n))+" "+$r(dr.internal.getHeight(n))+" re"),t.push("f"),r.stream=t.join(`
`),r}}},createDefaultAppearanceStream:function(n){var r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+r+" "+n.fontSize+" Tf "+t}};dr.internal={Bezier_C:.551915024494,calculateCross:function(n){var r=dr.internal.getWidth(n),t=dr.internal.getHeight(n),e=Math.min(r,t);return{x1:{x:(r-e)/2,y:(t-e)/2+e},x2:{x:(r-e)/2+e,y:(t-e)/2},x3:{x:(r-e)/2,y:(t-e)/2},x4:{x:(r-e)/2+e,y:(t-e)/2+e}}}},dr.internal.getWidth=function(n){var r=0;return ss(n)==="object"&&(r=o3(n.Rect[2])),r},dr.internal.getHeight=function(n){var r=0;return ss(n)==="object"&&(r=o3(n.Rect[3])),r};var uU=Zs.addField=function(n){if(cU(this,n),!(n instanceof $c))throw new Error("Invalid argument passed to jsPDF.addField.");var r;return(r=n).scope.internal.acroformPlugin.printedOut&&(r.scope.internal.acroformPlugin.printedOut=!1,r.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),r.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(r),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Zs.AcroFormChoiceField=Am,Zs.AcroFormListBox=km,Zs.AcroFormComboBox=Cm,Zs.AcroFormEditBox=cb,Zs.AcroFormButton=Fa,Zs.AcroFormPushButton=ub,Zs.AcroFormRadioButton=Dm,Zs.AcroFormCheckBox=db,Zs.AcroFormTextField=kf,Zs.AcroFormPasswordField=hb,Zs.AcroFormAppearance=dr,Zs.AcroForm={ChoiceField:Am,ListBox:km,ComboBox:Cm,EditBox:cb,Button:Fa,PushButton:ub,RadioButton:Dm,CheckBox:db,TextField:kf,PasswordField:hb,Appearance:dr},jr.AcroForm={ChoiceField:Am,ListBox:km,ComboBox:Cm,EditBox:cb,Button:Fa,PushButton:ub,RadioButton:Dm,CheckBox:db,TextField:kf,PasswordField:hb,Appearance:dr};var dU=jr.AcroForm;function QA(n){return n.reduce(function(r,t,e){return r[t]=e,r},{})}(function(n){n.__addimage__={};var r="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},e=n.__addimage__.getImageFileTypeByImageData=function(O,H){var U,I,F,A,_,E=r;if((H=H||r)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(D(O))for(_ in t)for(F=t[_],U=0;U<F.length;U+=1){for(A=!0,I=0;I<F[U].length;I+=1)if(F[U][I]!==void 0&&F[U][I]!==O[I]){A=!1;break}if(A===!0){E=_;break}}else for(_ in t)for(F=t[_],U=0;U<F.length;U+=1){for(A=!0,I=0;I<F[U].length;I+=1)if(F[U][I]!==void 0&&F[U][I]!==O.charCodeAt(I)){A=!1;break}if(A===!0){E=_;break}}return E===r&&H!==r&&(E=H),E},s=function O(H){for(var U=this.internal.write,I=this.internal.putStream,F=(0,this.internal.getFilters)();F.indexOf("FlateEncode")!==-1;)F.splice(F.indexOf("FlateEncode"),1);H.objectId=this.internal.newObject();var A=[];if(A.push({key:"Type",value:"/XObject"}),A.push({key:"Subtype",value:"/Image"}),A.push({key:"Width",value:H.width}),A.push({key:"Height",value:H.height}),H.colorSpace===y.INDEXED?A.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(H.palette.length/3-1)+" "+("sMask"in H&&H.sMask!==void 0?H.objectId+2:H.objectId+1)+" 0 R]"}):(A.push({key:"ColorSpace",value:"/"+H.colorSpace}),H.colorSpace===y.DEVICE_CMYK&&A.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),A.push({key:"BitsPerComponent",value:H.bitsPerComponent}),"decodeParameters"in H&&H.decodeParameters!==void 0&&A.push({key:"DecodeParms",value:"<<"+H.decodeParameters+">>"}),"transparency"in H&&Array.isArray(H.transparency)){for(var _="",E=0,N=H.transparency.length;E<N;E++)_+=H.transparency[E]+" "+H.transparency[E]+" ";A.push({key:"Mask",value:"["+_+"]"})}H.sMask!==void 0&&A.push({key:"SMask",value:H.objectId+1+" 0 R"});var k=H.filter!==void 0?["/"+H.filter]:void 0;if(I({data:H.data,additionalKeyValues:A,alreadyAppliedFilters:k,objectId:H.objectId}),U("endobj"),"sMask"in H&&H.sMask!==void 0){var B="/Predictor "+H.predictor+" /Colors 1 /BitsPerComponent "+H.bitsPerComponent+" /Columns "+H.width,j={width:H.width,height:H.height,colorSpace:"DeviceGray",bitsPerComponent:H.bitsPerComponent,decodeParameters:B,data:H.sMask};"filter"in H&&(j.filter=H.filter),O.call(this,j)}if(H.colorSpace===y.INDEXED){var M=this.internal.newObject();I({data:R(new Uint8Array(H.palette)),objectId:M}),U("endobj")}},a=function(){var O=this.internal.collections.addImage_images;for(var H in O)s.call(this,O[H])},i=function(){var O,H=this.internal.collections.addImage_images,U=this.internal.write;for(var I in H)U("/I"+(O=H[I]).index,O.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",i))},u=function(){var O=this.internal.collections.addImage_images;return o.call(this),O},c=function(){return Object.keys(this.internal.collections.addImage_images).length},l=function(O){return typeof n["process"+O.toUpperCase()]=="function"},d=function(O){return ss(O)==="object"&&O.nodeType===1},p=function(O,H){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var U=""+O.getAttribute("src");if(U.indexOf("data:image/")===0)return lb(unescape(U).split("base64,").pop());var I=n.loadFile(U,!0);if(I!==void 0)return I}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var F;switch(H){case"PNG":F="image/png";break;case"WEBP":F="image/webp";break;case"JPEG":case"JPG":default:F="image/jpeg"}return lb(O.toDataURL(F,1).split("base64,").pop())}},h=function(O){var H=this.internal.collections.addImage_images;if(H){for(var U in H)if(O===H[U].alias)return H[U]}},f=function(O,H,U){return O||H||(O=-96,H=-96),O<0&&(O=-1*U.width*72/O/this.internal.scaleFactor),H<0&&(H=-1*U.height*72/H/this.internal.scaleFactor),O===0&&(O=H*U.width/U.height),H===0&&(H=O*U.height/U.width),[O,H]},b=function(O,H,U,I,F,A){var _=f.call(this,U,I,F),E=this.internal.getCoordinateString,N=this.internal.getVerticalCoordinateString,k=u.call(this);if(U=_[0],I=_[1],k[F.index]=F,A){A*=Math.PI/180;var B=Math.cos(A),j=Math.sin(A),M=function(Y){return Y.toFixed(4)},G=[M(B),M(j),M(-1*j),M(B),0,0,"cm"]}this.internal.write("q"),A?(this.internal.write([1,"0","0",1,E(O),N(H+I),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([E(U),"0","0",E(I),"0","0","cm"].join(" "))):this.internal.write([E(U),"0","0",E(I),E(O),N(H+I),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+F.index+" Do"),this.internal.write("Q")},y=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var g=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=n.__addimage__.sHashCode=function(O){var H,U,I=0;if(typeof O=="string")for(U=O.length,H=0;H<U;H++)I=(I<<5)-I+O.charCodeAt(H),I|=0;else if(D(O))for(U=O.byteLength/2,H=0;H<U;H++)I=(I<<5)-I+O[H],I|=0;return I},v=n.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var H=!0;return O.length===0&&(H=!1),O.length%4!=0&&(H=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(H=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(H=!1),H},w=n.__addimage__.extractImageFromDataUrl=function(O){var H=(O=O||"").split("base64,"),U=null;if(H.length===2){var I=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(H[0]);Array.isArray(I)&&(U={mimeType:I[1],charset:I[2],data:H[1]})}return U},S=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(O){return S()&&O instanceof ArrayBuffer};var D=n.__addimage__.isArrayBufferView=function(O){return S()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},T=n.__addimage__.binaryStringToUint8Array=function(O){for(var H=O.length,U=new Uint8Array(H),I=0;I<H;I++)U[I]=O.charCodeAt(I);return U},R=n.__addimage__.arrayBufferToBinaryString=function(O){for(var H="",U=D(O)?O:new Uint8Array(O),I=0;I<U.length;I+=8192)H+=String.fromCharCode.apply(null,U.subarray(I,I+8192));return H};n.addImage=function(){var O,H,U,I,F,A,_,E,N;if(typeof arguments[1]=="number"?(H=r,U=arguments[1],I=arguments[2],F=arguments[3],A=arguments[4],_=arguments[5],E=arguments[6],N=arguments[7]):(H=arguments[1],U=arguments[2],I=arguments[3],F=arguments[4],A=arguments[5],_=arguments[6],E=arguments[7],N=arguments[8]),ss(O=arguments[0])==="object"&&!d(O)&&"imageData"in O){var k=O;O=k.imageData,H=k.format||H||r,U=k.x||U||0,I=k.y||I||0,F=k.w||k.width||F,A=k.h||k.height||A,_=k.alias||_,E=k.compression||E,N=k.rotation||k.angle||N}var B=this.internal.getFilters();if(E===void 0&&B.indexOf("FlateEncode")!==-1&&(E="SLOW"),isNaN(U)||isNaN(I))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var j=P.call(this,O,H,_,E);return b.call(this,U,I,F,A,j,N),this};var P=function(O,H,U,I){var F,A,_;if(typeof O=="string"&&e(O)===r){O=unescape(O);var E=L(O,!1);(E!==""||(E=n.loadFile(O,!0))!==void 0)&&(O=E)}if(d(O)&&(O=p(O,H)),H=e(O,H),!l(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(((_=U)==null||_.length===0)&&(U=function(N){return typeof N=="string"||D(N)?x(N):D(N.data)?x(N.data):null}(O)),(F=h.call(this,U))||(S()&&(O instanceof Uint8Array||H==="RGBA"||(A=O,O=T(O))),F=this["process"+H.toUpperCase()](O,c.call(this),U,function(N){return N&&typeof N=="string"&&(N=N.toUpperCase()),N in n.image_compression?N:g.NONE}(I),A)),!F)throw new Error("An unknown error occurred whilst processing the image.");return F},L=n.__addimage__.convertBase64ToBinaryString=function(O,H){var U;H=typeof H!="boolean"||H;var I,F="";if(typeof O=="string"){I=(U=w(O))!==null?U.data:O;try{F=lb(I)}catch(A){if(H)throw v(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+A.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return F};n.getImageProperties=function(O){var H,U,I="";if(d(O)&&(O=p(O)),typeof O=="string"&&e(O)===r&&((I=L(O,!1))===""&&(I=n.loadFile(O)||""),O=I),U=e(O),!l(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(!S()||O instanceof Uint8Array||(O=T(O)),!(H=this["process"+U.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return H.fileType=U,H}})(jr.API),function(n){var r=function(t){if(t!==void 0&&t!="")return!0};jr.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var e,s,a,i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),c=t.pageContext.annotations,l=!1,d=0;d<c.length&&!l;d++)switch((e=c[d]).type){case"link":(r(e.options.url)||r(e.options.pageNumber))&&(l=!0);break;case"reference":case"text":case"freetext":l=!0}if(l!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){e=c[p];var h=this.internal.pdfEscape,f=this.internal.getEncryptor(t.objId);switch(e.type){case"reference":this.internal.write(" "+e.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(b.objId),x=e.title||"Note";a="<</Type /Annot /Subtype /Text "+(s="/Rect ["+i(e.bounds.x)+" "+o(e.bounds.y+e.bounds.h)+" "+i(e.bounds.x+e.bounds.w)+" "+o(e.bounds.y)+"] ")+"/Contents ("+h(g(e.contents))+")",a+=" /Popup "+y.objId+" 0 R",a+=" /P "+u.objId+" 0 R",a+=" /T ("+h(g(x))+") >>",b.content=a;var v=b.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+i(e.bounds.x+30)+" "+o(e.bounds.y+e.bounds.h)+" "+i(e.bounds.x+e.bounds.w+30)+" "+o(e.bounds.y)+"] ")+" /Parent "+v,e.open&&(a+=" /Open true"),a+=" >>",y.content=a,this.internal.write(b.objId,"0 R",y.objId,"0 R");break;case"freetext":s="/Rect ["+i(e.bounds.x)+" "+o(e.bounds.y)+" "+i(e.bounds.x+e.bounds.w)+" "+o(e.bounds.y+e.bounds.h)+"] ";var w=e.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+h(f(e.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(e.options.name){var S=this.annotations._nameMap[e.options.name];e.options.pageNumber=S.page,e.options.top=S.y}else e.options.top||(e.options.top=0);if(s="/Rect ["+e.finalBounds.x+" "+e.finalBounds.y+" "+e.finalBounds.w+" "+e.finalBounds.h+"] ",a="",e.options.url)a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+h(f(e.options.url))+") >>";else if(e.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(e.options.pageNumber).objId+" 0 R",e.options.magFactor=e.options.magFactor||"XYZ",e.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+e.options.top+"]";break;case"FitV":e.options.left=e.options.left||0,a+=" /FitV "+e.options.left+"]";break;case"XYZ":default:var D=o(e.options.top);e.options.left=e.options.left||0,e.options.zoom===void 0&&(e.options.zoom=0),a+=" /XYZ "+e.options.left+" "+D+" "+e.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var e=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":e.pageContext.annotations.push(t)}},n.link=function(t,e,s,a,i){var o=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:u(t),y:c(e),w:u(t+s),h:c(e+a)},options:i,type:"link"})},n.textWithLink=function(t,e,s,a){var i,o,u=this.getTextWidth(t),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var l=this.splitTextToSize(t,o).length;i=Math.ceil(c*l)}else o=u,i=c;return this.text(t,e,s,a),s+=.2*c,a.align==="center"&&(e-=u/2),a.align==="right"&&(e-=u),this.link(e,s-c,o,i,a),u},n.getTextWidth=function(t){var e=this.internal.getFontSize();return this.getStringUnitWidth(t)*e/this.internal.scaleFactor}}(jr.API),function(n){var r={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},e={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var a=n.__arabicParser__.isInArabicSubstitutionA=function(b){return r[b.charCodeAt(0)]!==void 0},i=n.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},o=n.__arabicParser__.isArabicEndLetter=function(b){return i(b)&&a(b)&&r[b.charCodeAt(0)].length<=2},u=n.__arabicParser__.isArabicAlfLetter=function(b){return i(b)&&s.indexOf(b.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return i(b)&&a(b)&&r[b.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(b){return i(b)&&a(b)&&r[b.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(b){return i(b)&&a(b)&&r[b.charCodeAt(0)].length>=3};var l=n.__arabicParser__.arabicLetterHasMedialForm=function(b){return i(b)&&a(b)&&r[b.charCodeAt(0)].length==4},d=n.__arabicParser__.resolveLigatures=function(b){var y=0,g=t,x="",v=0;for(y=0;y<b.length;y+=1)g[b.charCodeAt(y)]!==void 0?(v++,typeof(g=g[b.charCodeAt(y)])=="number"&&(x+=String.fromCharCode(g),g=t,v=0),y===b.length-1&&(g=t,x+=b.charAt(y-(v-1)),y-=v-1,v=0)):(g=t,x+=b.charAt(y-v),y-=v,v=0);return x};n.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&e[b.charCodeAt(0)]!==void 0};var p=n.__arabicParser__.getCorrectForm=function(b,y,g){return i(b)?a(b)===!1?-1:!c(b)||!i(y)&&!i(g)||!i(g)&&o(y)||o(b)&&!i(y)||o(b)&&u(y)||o(b)&&o(y)?0:l(b)&&i(y)&&!o(y)&&i(g)&&c(g)?3:o(b)||!i(g)?1:2:-1},h=function(b){var y=0,g=0,x=0,v="",w="",S="",D=(b=b||"").split("\\s+"),T=[];for(y=0;y<D.length;y+=1){for(T.push(""),g=0;g<D[y].length;g+=1)v=D[y][g],w=D[y][g-1],S=D[y][g+1],i(v)?(x=p(v,w,S),T[y]+=x!==-1?String.fromCharCode(r[v.charCodeAt(0)][x]):v):T[y]+=v;T[y]=d(T[y])}return T.join(" ")},f=n.__arabicParser__.processArabic=n.processArabic=function(){var b,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(y)){var x=0;for(g=[],x=0;x<y.length;x+=1)Array.isArray(y[x])?g.push([h(y[x][0]),y[x][1],y[x][2]]):g.push([h(y[x])]);b=g}else b=h(y);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};n.events.push(["preProcessText",f])}(jr.API),jr.API.autoPrint=function(n){var r;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+r+" 0 R")})}return this},function(n){var r=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var e=150;Object.defineProperty(this,"width",{get:function(){return e},set:function(o){e=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=e+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(o){s=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(o){i=o}}),Object.defineProperty(this,"parentNode",{})};r.prototype.getContext=function(t,e){var s;if((t=t||"2d")!=="2d")return null;for(s in e)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=e[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},r.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new r,this.canvas.pdf=this}])}(jr.API),function(n){var r={left:0,top:0,bottom:0,right:0},t=!1,e=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},r),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var l=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(b){d=b}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var f=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return f},set:function(b){f=b}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(u){return e.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},n.getTextDimensions=function(u,c){e.call(this);var l=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,h=0,f=0,b=0,y=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var g=c.maxWidth;g>0?typeof u=="string"?u=this.splitTextToSize(u,g):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(v,w){return v.concat(y.splitTextToSize(w,g))},[])):u=Array.isArray(u)?u:[u];for(var x=0;x<u.length;x++)h<(b=this.getStringUnitWidth(u[x],{font:d})*l)&&(h=b);return h!==0&&(f=u.length),{w:h/=p,h:Math.max((f*l*this.getLineHeightFactor()-l*(this.getLineHeightFactor()-1))/p,0)}},n.cellAddPage=function(){e.call(this),this.addPage();var u=this.internal.__cell__.margins||r;return this.internal.__cell__.lastCell=new a(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=n.cell=function(){var u;u=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),e.call(this);var c=this.internal.__cell__.lastCell,l=this.internal.__cell__.padding,d=this.internal.__cell__.margins||r,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===u.lineNumber?(u.x=(c.x||0)+(c.width||0),u.y=c.y||0):c.y+c.height+u.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=d.top,h&&p&&(this.printHeaderRow(u.lineNumber,!0),u.y+=p[0].height)):u.y=c.y+c.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-l,u.y+l,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+l,{align:"center",baseline:"top",maxWidth:u.width-l-l}):this.text(u.text,u.x+l,u.y+l,{align:"left",baseline:"top",maxWidth:u.width-l-l})),this.internal.__cell__.lastCell=u,this};n.table=function(u,c,l,d,p){if(e.call(this),!l)throw new Error("No data for PDF table.");var h,f,b,y,g=[],x=[],v=[],w={},S={},D=[],T=[],R=(p=p||{}).autoSize||!1,P=p.printHeaders!==!1,L=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,O=p.margins||Object.assign({width:this.getPageWidth()},r),H=typeof p.padding=="number"?p.padding:3,U=p.headerBackgroundColor||"#c8c8c8",I=p.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=L,this.internal.__cell__.padding=H,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=I,this.setFontSize(L),d==null)x=g=Object.keys(l[0]),v=g.map(function(){return"left"});else if(Array.isArray(d)&&ss(d[0])==="object")for(g=d.map(function(k){return k.name}),x=d.map(function(k){return k.prompt||k.name||""}),v=d.map(function(k){return k.align||"left"}),h=0;h<d.length;h+=1)S[d[h].name]=d[h].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(x=g=d,v=g.map(function(){return"left"}));if(R||Array.isArray(d)&&typeof d[0]=="string")for(h=0;h<g.length;h+=1){for(w[y=g[h]]=l.map(function(k){return k[y]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(x[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),f=w[y],this.setFont(void 0,"normal"),b=0;b<f.length;b+=1)D.push(this.getTextDimensions(f[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[y]=Math.max.apply(null,D)+H+H,D=[]}if(P){var F={};for(h=0;h<g.length;h+=1)F[g[h]]={},F[g[h]].text=x[h],F[g[h]].align=v[h];var A=o.call(this,F,S);T=g.map(function(k){return new a(u,c,S[k],A,F[k].text,void 0,F[k].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var _=d.reduce(function(k,B){return k[B.name]=B.align,k},{});for(h=0;h<l.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:l[h]},this);var E=o.call(this,l[h],S);for(b=0;b<g.length;b+=1){var N=l[h][g[b]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:b,data:N},this),i.call(this,new a(u,c,S[g[b]],E,N,h+2,_[g[b]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=c,this};var o=function(u,c){var l=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(u).map(function(h){var f=u[h];return this.splitTextToSize(f.hasOwnProperty("text")?f.text:f,c[h]-l-l)},this).map(function(h){return this.getLineHeightFactor()*h.length*d/p+l+l},this).reduce(function(h,f){return Math.max(h,f)},0)};n.setTableHeaderRow=function(u){e.call(this),this.internal.__cell__.tableHeaderRow=u},n.printHeaderRow=function(u,c){if(e.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var l;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){l=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(l.y=this.internal.__cell__.margins.top||0,p.push(l)),l.lineNumber=u;var f=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,l),this.setTextColor(f)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),t=!1}}(jr.API);var ek={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},tk=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],__=QA(tk),rk=[100,200,300,400,500,600,700,800,900],hU=QA(rk);function S_(n){var r=n.family.replace(/"|'/g,"").toLowerCase(),t=function(a){return ek[a=a||"normal"]?a:"normal"}(n.style),e=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(n.weight),s=function(a){return typeof __[a=a||"normal"]=="number"?a:"normal"}(n.stretch);return{family:r,style:t,weight:e,stretch:s,src:n.src||[],ref:n.ref||{name:r,style:[s,t,e].join(" ")}}}function l3(n,r,t,e){var s;for(s=t;s>=0&&s<r.length;s+=e)if(n[r[s]])return n[r[s]];for(s=t;s>=0&&s<r.length;s-=e)if(n[r[s]])return n[r[s]]}var fU={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},c3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function u3(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function pU(n,r,t){for(var e=(t=t||{}).defaultFontFamily||"times",s=Object.assign({},fU,t.genericFontFamilies||{}),a=null,i=null,o=0;o<r.length;++o)if(s[(a=S_(r[o])).family]&&(a.family=s[a.family]),n.hasOwnProperty(a.family)){i=n[a.family];break}if(!(i=i||n[e]))throw new Error("Could not find a font-family for the rule '"+u3(a)+"' and default family '"+e+"'.");if(i=function(u,c){if(c[u])return c[u];var l=__[u],d=l<=__.normal?-1:1,p=l3(c,tk,l,d);if(!p)throw new Error("Could not find a matching font-stretch value for "+u);return p}(a.stretch,i),i=function(u,c){if(c[u])return c[u];for(var l=ek[u],d=0;d<l.length;++d)if(c[l[d]])return c[l[d]];throw new Error("Could not find a matching font-style for "+u)}(a.style,i),!(i=function(u,c){if(c[u])return c[u];if(u===400&&c[500])return c[500];if(u===500&&c[400])return c[400];var l=hU[u],d=l3(c,rk,l,u<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+u);return d}(a.weight,i)))throw new Error("Failed to resolve a font for the rule '"+u3(a)+"'.");return i}function d3(n){return n.trimLeft()}function mU(n,r){for(var t=0;t<n.length;){if(n.charAt(t)===r)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function gU(n){var r=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return r===null?null:[r[0],n.substring(r[0].length)]}var F2,h3,f3,D6=["times"];(function(n){var r,t,e,s,a,i,o,u,c,l=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new u,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new i,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new i,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new d(this),r=this.internal.f2,t=this.internal.getCoordinateString,e=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,i=this.internal.Point,o=this.internal.Rectangle,u=this.internal.Matrix,c=new l}]);var d=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var M=j;Object.defineProperty(this,"pdf",{get:function(){return M}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(ce){G=!!ce}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(ce){Y=!!ce}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function(ce){isNaN(ce)||(J=ce)}});var V=0;Object.defineProperty(this,"posY",{get:function(){return V},set:function(ce){isNaN(ce)||(V=ce)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ce){var ie;typeof ce=="number"?ie=[ce,ce,ce,ce]:((ie=new Array(4))[0]=ce[0],ie[1]=ce.length>=2?ce[1]:ie[0],ie[2]=ce.length>=3?ce[2]:ie[0],ie[3]=ce.length>=4?ce[3]:ie[1]),c.margin=ie}});var Q=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Q},set:function(ce){Q=ce}});var q=0;Object.defineProperty(this,"lastBreak",{get:function(){return q},set:function(ce){q=ce}});var z=[];Object.defineProperty(this,"pageBreaks",{get:function(){return z},set:function(ce){z=ce}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ce){ce instanceof l&&(c=ce)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ce){c.path=ce}});var Z=[];Object.defineProperty(this,"ctxStack",{get:function(){return Z},set:function(ce){Z=ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ce){var ie;ie=p(ce),this.ctx.fillStyle=ie.style,this.ctx.isFillTransparent=ie.a===0,this.ctx.fillOpacity=ie.a,this.pdf.setFillColor(ie.r,ie.g,ie.b,{a:ie.a}),this.pdf.setTextColor(ie.r,ie.g,ie.b,{a:ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ce){var ie=p(ce);this.ctx.strokeStyle=ie.style,this.ctx.isStrokeTransparent=ie.a===0,this.ctx.strokeOpacity=ie.a,ie.a===0?this.pdf.setDrawColor(255,255,255):(ie.a,this.pdf.setDrawColor(ie.r,ie.g,ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ce){["butt","round","square"].indexOf(ce)!==-1&&(this.ctx.lineCap=ce,this.pdf.setLineCap(ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ce){isNaN(ce)||(this.ctx.lineWidth=ce,this.pdf.setLineWidth(ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ce){["bevel","round","miter"].indexOf(ce)!==-1&&(this.ctx.lineJoin=ce,this.pdf.setLineJoin(ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ce){isNaN(ce)||(this.ctx.miterLimit=ce,this.pdf.setMiterLimit(ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ce){this.ctx.textBaseline=ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ce){["right","end","center","left","start"].indexOf(ce)!==-1&&(this.ctx.textAlign=ce)}});var re=null;function le(ce,ie){if(re===null){var ye=function(he){var pe=[];return Object.keys(he).forEach(function(xe){he[xe].forEach(function(Oe){var Ae=null;switch(Oe){case"bold":Ae={family:xe,weight:"bold"};break;case"italic":Ae={family:xe,style:"italic"};break;case"bolditalic":Ae={family:xe,weight:"bold",style:"italic"};break;case"":case"normal":Ae={family:xe}}Ae!==null&&(Ae.ref={name:xe,style:Oe},pe.push(Ae))})}),pe}(ce.getFontList());re=function(he){for(var pe={},xe=0;xe<he.length;++xe){var Oe=S_(he[xe]),Ae=Oe.family,Le=Oe.stretch,He=Oe.style,Ye=Oe.weight;pe[Ae]=pe[Ae]||{},pe[Ae][Le]=pe[Ae][Le]||{},pe[Ae][Le][He]=pe[Ae][Le][He]||{},pe[Ae][Le][He][Ye]=Oe}return pe}(ye.concat(ie))}return re}var ue=null;Object.defineProperty(this,"fontFaces",{get:function(){return ue},set:function(ce){re=null,ue=ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ce){var ie;if(this.ctx.font=ce,(ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ce))!==null){var ye=ie[1],he=(ie[2],ie[3]),pe=ie[4],xe=(ie[5],ie[6]),Oe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(pe)[2];pe=Math.floor(Oe==="px"?parseFloat(pe)*this.pdf.internal.scaleFactor:Oe==="em"?parseFloat(pe)*this.pdf.getFontSize():parseFloat(pe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(pe);var Ae=function($e){var at,ze,wt=[],vt=$e.trim();if(vt==="")return D6;if(vt in c3)return[c3[vt]];for(;vt!=="";){switch(ze=null,at=(vt=d3(vt)).charAt(0)){case'"':case"'":ze=mU(vt.substring(1),at);break;default:ze=gU(vt)}if(ze===null||(wt.push(ze[0]),(vt=d3(ze[1]))!==""&&vt.charAt(0)!==","))return D6;vt=vt.replace(/^,/,"")}return wt}(xe);if(this.fontFaces){var Le=pU(le(this.pdf,this.fontFaces),Ae.map(function($e){return{family:$e,stretch:"normal",weight:he,style:ye}}));this.pdf.setFont(Le.ref.name,Le.ref.style)}else{var He="";(he==="bold"||parseInt(he,10)>=700||ye==="bold")&&(He="bold"),ye==="italic"&&(He+="italic"),He.length===0&&(He="normal");for(var Ye="",it={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},bt=0;bt<Ae.length;bt++){if(this.pdf.internal.getFont(Ae[bt],He,{noFallback:!0,disableWarning:!0})!==void 0){Ye=Ae[bt];break}if(He==="bolditalic"&&this.pdf.internal.getFont(Ae[bt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ye=Ae[bt],He="bold";else if(this.pdf.internal.getFont(Ae[bt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ye=Ae[bt],He="normal";break}}if(Ye===""){for(var tt=0;tt<Ae.length;tt++)if(it[Ae[tt]]){Ye=it[Ae[tt]];break}}Ye=Ye===""?"Times":Ye,this.pdf.setFont(Ye,He)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ce){this.ctx.globalCompositeOperation=ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ce){this.ctx.globalAlpha=ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ce){this.ctx.lineDashOffset=ce,B.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ce){this.ctx.lineDash=ce,B.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ce){this.ctx.ignoreClearRect=!!ce}})};d.prototype.setLineDash=function(j){this.lineDash=j},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){w.call(this,"fill",!1)},d.prototype.stroke=function(){w.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(j,M){if(isNaN(j)||isNaN(M))throw hs.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new i(j,M));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new i(j,M)},d.prototype.closePath=function(){var j=new i(0,0),M=0;for(M=this.path.length-1;M!==-1;M--)if(this.path[M].type==="begin"&&ss(this.path[M+1])==="object"&&typeof this.path[M+1].x=="number"){j=new i(this.path[M+1].x,this.path[M+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(j.x,j.y)},d.prototype.lineTo=function(j,M){if(isNaN(j)||isNaN(M))throw hs.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new i(j,M));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new i(G.x,G.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},d.prototype.quadraticCurveTo=function(j,M,G,Y){if(isNaN(G)||isNaN(Y)||isNaN(j)||isNaN(M))throw hs.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new i(G,Y)),V=this.ctx.transform.applyToPoint(new i(j,M));this.path.push({type:"qct",x1:V.x,y1:V.y,x:J.x,y:J.y}),this.ctx.lastPoint=new i(J.x,J.y)},d.prototype.bezierCurveTo=function(j,M,G,Y,J,V){if(isNaN(J)||isNaN(V)||isNaN(j)||isNaN(M)||isNaN(G)||isNaN(Y))throw hs.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Q=this.ctx.transform.applyToPoint(new i(J,V)),q=this.ctx.transform.applyToPoint(new i(j,M)),z=this.ctx.transform.applyToPoint(new i(G,Y));this.path.push({type:"bct",x1:q.x,y1:q.y,x2:z.x,y2:z.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new i(Q.x,Q.y)},d.prototype.arc=function(j,M,G,Y,J,V){if(isNaN(j)||isNaN(M)||isNaN(G)||isNaN(Y)||isNaN(J))throw hs.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(V=!!V,!this.ctx.transform.isIdentity){var Q=this.ctx.transform.applyToPoint(new i(j,M));j=Q.x,M=Q.y;var q=this.ctx.transform.applyToPoint(new i(0,G)),z=this.ctx.transform.applyToPoint(new i(0,0));G=Math.sqrt(Math.pow(q.x-z.x,2)+Math.pow(q.y-z.y,2))}Math.abs(J-Y)>=2*Math.PI&&(Y=0,J=2*Math.PI),this.path.push({type:"arc",x:j,y:M,radius:G,startAngle:Y,endAngle:J,counterclockwise:V})},d.prototype.arcTo=function(j,M,G,Y,J){throw new Error("arcTo not implemented.")},d.prototype.rect=function(j,M,G,Y){if(isNaN(j)||isNaN(M)||isNaN(G)||isNaN(Y))throw hs.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,M),this.lineTo(j+G,M),this.lineTo(j+G,M+Y),this.lineTo(j,M+Y),this.lineTo(j,M),this.lineTo(j+G,M),this.lineTo(j,M)},d.prototype.fillRect=function(j,M,G,Y){if(isNaN(j)||isNaN(M)||isNaN(G)||isNaN(Y))throw hs.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,M,G,Y),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},d.prototype.strokeRect=function(j,M,G,Y){if(isNaN(j)||isNaN(M)||isNaN(G)||isNaN(Y))throw hs.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");f.call(this)||(this.beginPath(),this.rect(j,M,G,Y),this.stroke())},d.prototype.clearRect=function(j,M,G,Y){if(isNaN(j)||isNaN(M)||isNaN(G)||isNaN(Y))throw hs.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,M,G,Y))},d.prototype.save=function(j){j=typeof j!="boolean"||j;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(M),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new l(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},d.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(M),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(j){var M,G,Y,J;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))M=0,G=0,Y=0,J=0;else{var V=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(V!==null)M=parseInt(V[1]),G=parseInt(V[2]),Y=parseInt(V[3]),J=1;else if((V=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)M=parseInt(V[1]),G=parseInt(V[2]),Y=parseInt(V[3]),J=parseFloat(V[4]);else{if(J=1,typeof j=="string"&&j.charAt(0)!=="#"){var Q=new GA(j);j=Q.ok?Q.toHex():"#000000"}j.length===4?(M=j.substring(1,2),M+=M,G=j.substring(2,3),G+=G,Y=j.substring(3,4),Y+=Y):(M=j.substring(1,3),G=j.substring(3,5),Y=j.substring(5,7)),M=parseInt(M,16),G=parseInt(G,16),Y=parseInt(Y,16)}}return{r:M,g:G,b:Y,a:J,style:j}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},f=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(j,M,G,Y){if(isNaN(M)||isNaN(G)||typeof j!="string")throw hs.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!h.call(this)){var J=E(this.ctx.transform.rotation),V=this.ctx.transform.scaleX;H.call(this,{text:j,x:M,y:G,scale:V,angle:J,align:this.textAlign,maxWidth:Y})}},d.prototype.strokeText=function(j,M,G,Y){if(isNaN(M)||isNaN(G)||typeof j!="string")throw hs.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!f.call(this)){Y=isNaN(Y)?void 0:Y;var J=E(this.ctx.transform.rotation),V=this.ctx.transform.scaleX;H.call(this,{text:j,x:M,y:G,scale:V,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:Y})}},d.prototype.measureText=function(j){if(typeof j!="string")throw hs.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var M=this.pdf,G=this.pdf.internal.scaleFactor,Y=M.internal.getFontSize(),J=M.getStringUnitWidth(j)*Y/M.internal.scaleFactor,V=function(Q){var q=(Q=Q||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return q}}),this};return new V({width:J*=Math.round(96*G/72*1e4)/1e4})},d.prototype.scale=function(j,M){if(isNaN(j)||isNaN(M))throw hs.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new u(j,0,0,M,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},d.prototype.rotate=function(j){if(isNaN(j))throw hs.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var M=new u(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(M)},d.prototype.translate=function(j,M){if(isNaN(j)||isNaN(M))throw hs.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new u(1,0,0,1,j,M);this.ctx.transform=this.ctx.transform.multiply(G)},d.prototype.transform=function(j,M,G,Y,J,V){if(isNaN(j)||isNaN(M)||isNaN(G)||isNaN(Y)||isNaN(J)||isNaN(V))throw hs.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Q=new u(j,M,G,Y,J,V);this.ctx.transform=this.ctx.transform.multiply(Q)},d.prototype.setTransform=function(j,M,G,Y,J,V){j=isNaN(j)?1:j,M=isNaN(M)?0:M,G=isNaN(G)?0:G,Y=isNaN(Y)?1:Y,J=isNaN(J)?0:J,V=isNaN(V)?0:V,this.ctx.transform=new u(j,M,G,Y,J,V)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(j,M,G,Y,J,V,Q,q,z){var Z=this.pdf.getImageProperties(j),re=1,le=1,ue=1,ce=1;Y!==void 0&&q!==void 0&&(ue=q/Y,ce=z/J,re=Z.width/Y*q/Y,le=Z.height/J*z/J),V===void 0&&(V=M,Q=G,M=0,G=0),Y!==void 0&&q===void 0&&(q=Y,z=J),Y===void 0&&q===void 0&&(q=Z.width,z=Z.height);for(var ie,ye=this.ctx.transform.decompose(),he=E(ye.rotate.shx),pe=new u,xe=(pe=(pe=(pe=pe.multiply(ye.translate)).multiply(ye.skew)).multiply(ye.scale)).applyToRectangle(new o(V-M*ue,Q-G*ce,Y*re,J*le)),Oe=y.call(this,xe),Ae=[],Le=0;Le<Oe.length;Le+=1)Ae.indexOf(Oe[Le])===-1&&Ae.push(Oe[Le]);if(v(Ae),this.autoPaging)for(var He=Ae[0],Ye=Ae[Ae.length-1],it=He;it<Ye+1;it++){this.pdf.setPage(it);var bt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tt=it===1?this.posY+this.margin[0]:this.margin[0],$e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=it===1?0:$e+(it-2)*at;if(this.ctx.clip_path.length!==0){var wt=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(ie,this.posX+this.margin[3],-ze+tt+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=wt}var vt=JSON.parse(JSON.stringify(xe));vt=x([vt],this.posX+this.margin[3],-ze+tt+this.ctx.prevPageLastElemOffset)[0];var kt=(it>He||it<Ye)&&b.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,at,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",vt.x,vt.y,vt.w,vt.h,null,null,he),kt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(j,"JPEG",xe.x,xe.y,xe.w,xe.h,null,null,he)};var y=function(j,M,G){var Y=[];M=M||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":Y.push(Math.floor((j.y+J)/G)+1);break;case"arc":Y.push(Math.floor((j.y+J-j.radius)/G)+1),Y.push(Math.floor((j.y+J+j.radius)/G)+1);break;case"qct":var V=N(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);Y.push(Math.floor((V.y+J)/G)+1),Y.push(Math.floor((V.y+V.h+J)/G)+1);break;case"bct":var Q=k(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);Y.push(Math.floor((Q.y+J)/G)+1),Y.push(Math.floor((Q.y+Q.h+J)/G)+1);break;case"rect":Y.push(Math.floor((j.y+J)/G)+1),Y.push(Math.floor((j.y+j.h+J)/G)+1)}for(var q=0;q<Y.length;q+=1)for(;this.pdf.internal.getNumberOfPages()<Y[q];)g.call(this);return Y},g=function(){var j=this.fillStyle,M=this.strokeStyle,G=this.font,Y=this.lineCap,J=this.lineWidth,V=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=M,this.font=G,this.lineCap=Y,this.lineWidth=J,this.lineJoin=V},x=function(j,M,G){for(var Y=0;Y<j.length;Y++)switch(j[Y].type){case"bct":j[Y].x2+=M,j[Y].y2+=G;case"qct":j[Y].x1+=M,j[Y].y1+=G;case"mt":case"lt":case"arc":default:j[Y].x+=M,j[Y].y+=G}return j},v=function(j){return j.sort(function(M,G){return M-G})},w=function(j,M){for(var G,Y,J=this.fillStyle,V=this.strokeStyle,Q=this.lineCap,q=this.lineWidth,z=Math.abs(q*this.ctx.transform.scaleX),Z=this.lineJoin,re=JSON.parse(JSON.stringify(this.path)),le=JSON.parse(JSON.stringify(this.path)),ue=[],ce=0;ce<le.length;ce++)if(le[ce].x!==void 0)for(var ie=y.call(this,le[ce]),ye=0;ye<ie.length;ye+=1)ue.indexOf(ie[ye])===-1&&ue.push(ie[ye]);for(var he=0;he<ue.length;he++)for(;this.pdf.internal.getNumberOfPages()<ue[he];)g.call(this);if(v(ue),this.autoPaging)for(var pe=ue[0],xe=ue[ue.length-1],Oe=pe;Oe<xe+1;Oe++){this.pdf.setPage(Oe),this.fillStyle=J,this.strokeStyle=V,this.lineCap=Q,this.lineWidth=z,this.lineJoin=Z;var Ae=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Le=Oe===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=Oe===1?0:He+(Oe-2)*Ye;if(this.ctx.clip_path.length!==0){var bt=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(G,this.posX+this.margin[3],-it+Le+this.ctx.prevPageLastElemOffset),S.call(this,j,!0),this.path=bt}if(Y=JSON.parse(JSON.stringify(re)),this.path=x(Y,this.posX+this.margin[3],-it+Le+this.ctx.prevPageLastElemOffset),M===!1||Oe===0){var tt=(Oe>pe||Oe<xe)&&b.call(this);tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ae,Ye,null).clip().discardPath()),S.call(this,j,M),tt&&this.pdf.restoreGraphicsState()}this.lineWidth=q}else this.lineWidth=z,S.call(this,j,M),this.lineWidth=q;this.path=re},S=function(j,M){if((j!=="stroke"||M||!f.call(this))&&(j==="stroke"||M||!h.call(this))){for(var G,Y,J=[],V=this.path,Q=0;Q<V.length;Q++){var q=V[Q];switch(q.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:q,deltas:[],abs:[]});break;case"lt":var z=J.length;if(V[Q-1]&&!isNaN(V[Q-1].x)&&(G=[q.x-V[Q-1].x,q.y-V[Q-1].y],z>0)){for(;z>=0;z--)if(J[z-1].close!==!0&&J[z-1].begin!==!0){J[z-1].deltas.push(G),J[z-1].abs.push(q);break}}break;case"bct":G=[q.x1-V[Q-1].x,q.y1-V[Q-1].y,q.x2-V[Q-1].x,q.y2-V[Q-1].y,q.x-V[Q-1].x,q.y-V[Q-1].y],J[J.length-1].deltas.push(G);break;case"qct":var Z=V[Q-1].x+2/3*(q.x1-V[Q-1].x),re=V[Q-1].y+2/3*(q.y1-V[Q-1].y),le=q.x+2/3*(q.x1-q.x),ue=q.y+2/3*(q.y1-q.y),ce=q.x,ie=q.y;G=[Z-V[Q-1].x,re-V[Q-1].y,le-V[Q-1].x,ue-V[Q-1].y,ce-V[Q-1].x,ie-V[Q-1].y],J[J.length-1].deltas.push(G);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(q)}}Y=M?null:j==="stroke"?"stroke":"fill";for(var ye=!1,he=0;he<J.length;he++)if(J[he].arc)for(var pe=J[he].abs,xe=0;xe<pe.length;xe++){var Oe=pe[xe];Oe.type==="arc"?R.call(this,Oe.x,Oe.y,Oe.radius,Oe.startAngle,Oe.endAngle,Oe.counterclockwise,void 0,M,!ye):U.call(this,Oe.x,Oe.y),ye=!0}else if(J[he].close===!0)this.pdf.internal.out("h"),ye=!1;else if(J[he].begin!==!0){var Ae=J[he].start.x,Le=J[he].start.y;I.call(this,J[he].deltas,Ae,Le),ye=!0}Y&&P.call(this,Y),M&&L.call(this)}},D=function(j){var M=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=M*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-G;case"top":return j+M-G;case"hanging":return j+M-2*G;case"middle":return j+M/2-G;case"ideographic":return j;case"alphabetic":default:return j}},T=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(M,G){this.colorStops.push([M,G])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var R=function(j,M,G,Y,J,V,Q,q,z){for(var Z=A.call(this,G,Y,J,V),re=0;re<Z.length;re++){var le=Z[re];re===0&&(z?O.call(this,le.x1+j,le.y1+M):U.call(this,le.x1+j,le.y1+M)),F.call(this,j,M,le.x2,le.y2,le.x3,le.y3,le.x4,le.y4)}q?L.call(this):P.call(this,Q)},P=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},L=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(j,M){this.pdf.internal.out(t(j)+" "+e(M)+" m")},H=function(j){var M;switch(j.align){case"right":case"end":M="right";break;case"center":M="center";break;case"left":case"start":default:M="left"}var G=this.pdf.getTextDimensions(j.text),Y=D.call(this,j.y),J=T.call(this,Y)-G.h,V=this.ctx.transform.applyToPoint(new i(j.x,Y)),Q=this.ctx.transform.decompose(),q=new u;q=(q=(q=q.multiply(Q.translate)).multiply(Q.skew)).multiply(Q.scale);for(var z,Z,re,le=this.ctx.transform.applyToRectangle(new o(j.x,Y,G.w,G.h)),ue=q.applyToRectangle(new o(j.x,J,G.w,G.h)),ce=y.call(this,ue),ie=[],ye=0;ye<ce.length;ye+=1)ie.indexOf(ce[ye])===-1&&ie.push(ce[ye]);if(v(ie),this.autoPaging)for(var he=ie[0],pe=ie[ie.length-1],xe=he;xe<pe+1;xe++){this.pdf.setPage(xe);var Oe=xe===1?this.posY+this.margin[0]:this.margin[0],Ae=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Le=this.pdf.internal.pageSize.height-this.margin[2],He=Le-this.margin[0],Ye=this.pdf.internal.pageSize.width-this.margin[1],it=Ye-this.margin[3],bt=xe===1?0:Ae+(xe-2)*He;if(this.ctx.clip_path.length!==0){var tt=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(z,this.posX+this.margin[3],-1*bt+Oe),S.call(this,"fill",!0),this.path=tt}var $e=x([JSON.parse(JSON.stringify(ue))],this.posX+this.margin[3],-bt+Oe+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*j.scale),re=this.lineWidth,this.lineWidth=re*j.scale);var at=this.autoPaging!=="text";if(at||$e.y+$e.h<=Le){if(at||$e.y>=Oe&&$e.x<=Ye){var ze=at?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||Ye-$e.x)[0],wt=x([JSON.parse(JSON.stringify(le))],this.posX+this.margin[3],-bt+Oe+this.ctx.prevPageLastElemOffset)[0],vt=at&&(xe>he||xe<pe)&&b.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,He,null).clip().discardPath()),this.pdf.text(ze,wt.x,wt.y,{angle:j.angle,align:M,renderingMode:j.renderingMode}),vt&&this.pdf.restoreGraphicsState()}}else $e.y<Le&&(this.ctx.prevPageLastElemOffset+=Le-$e.y);j.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=re)}else j.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*j.scale),re=this.lineWidth,this.lineWidth=re*j.scale),this.pdf.text(j.text,V.x+this.posX,V.y+this.posY,{angle:j.angle,align:M,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=re)},U=function(j,M,G,Y){G=G||0,Y=Y||0,this.pdf.internal.out(t(j+G)+" "+e(M+Y)+" l")},I=function(j,M,G){return this.pdf.lines(j,M,G,null,null)},F=function(j,M,G,Y,J,V,Q,q){this.pdf.internal.out([r(s(G+j)),r(a(Y+M)),r(s(J+j)),r(a(V+M)),r(s(Q+j)),r(a(q+M)),"c"].join(" "))},A=function(j,M,G,Y){for(var J=2*Math.PI,V=Math.PI/2;M>G;)M-=J;var Q=Math.abs(G-M);Q<J&&Y&&(Q=J-Q);for(var q=[],z=Y?-1:1,Z=M;Q>1e-5;){var re=Z+z*Math.min(Q,V);q.push(_.call(this,j,Z,re)),Q-=Math.abs(re-Z),Z=re}return q},_=function(j,M,G){var Y=(G-M)/2,J=j*Math.cos(Y),V=j*Math.sin(Y),Q=J,q=-V,z=Q*Q+q*q,Z=z+Q*J+q*V,re=4/3*(Math.sqrt(2*z*Z)-Z)/(Q*V-q*J),le=Q-re*q,ue=q+re*Q,ce=le,ie=-ue,ye=Y+M,he=Math.cos(ye),pe=Math.sin(ye);return{x1:j*Math.cos(M),y1:j*Math.sin(M),x2:le*he-ue*pe,y2:le*pe+ue*he,x3:ce*he-ie*pe,y3:ce*pe+ie*he,x4:j*Math.cos(G),y4:j*Math.sin(G)}},E=function(j){return 180*j/Math.PI},N=function(j,M,G,Y,J,V){var Q=j+.5*(G-j),q=M+.5*(Y-M),z=J+.5*(G-J),Z=V+.5*(Y-V),re=Math.min(j,J,Q,z),le=Math.max(j,J,Q,z),ue=Math.min(M,V,q,Z),ce=Math.max(M,V,q,Z);return new o(re,ue,le-re,ce-ue)},k=function(j,M,G,Y,J,V,Q,q){var z,Z,re,le,ue,ce,ie,ye,he,pe,xe,Oe,Ae,Le,He=G-j,Ye=Y-M,it=J-G,bt=V-Y,tt=Q-J,$e=q-V;for(Z=0;Z<41;Z++)he=(ie=(re=j+(z=Z/40)*He)+z*((ue=G+z*it)-re))+z*(ue+z*(J+z*tt-ue)-ie),pe=(ye=(le=M+z*Ye)+z*((ce=Y+z*bt)-le))+z*(ce+z*(V+z*$e-ce)-ye),Z==0?(xe=he,Oe=pe,Ae=he,Le=pe):(xe=Math.min(xe,he),Oe=Math.min(Oe,pe),Ae=Math.max(Ae,he),Le=Math.max(Le,pe));return new o(Math.round(xe),Math.round(Oe),Math.round(Ae-xe),Math.round(Le-Oe))},B=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,M,G=(j=this.ctx.lineDash,M=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:M}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(jr.API),function(n){var r=function(a){var i,o,u,c,l,d,p,h,f,b;for(o=[],u=0,c=(a+=i="\0\0\0\0".slice(a.length%4||4)).length;c>u;u+=4)(l=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(d=(l=((l=((l=((l=(l-(b=l%85))/85)-(f=l%85))/85)-(h=l%85))/85)-(p=l%85))/85)%85,o.push(d+33,p+33,h+33,f+33,b+33)):o.push(122);return function(y,g){for(var x=g;x>0;x--)y.pop()}(o,i.length),String.fromCharCode.apply(String,o)+"~>"},t=function(a){var i,o,u,c,l,d=String,p="length",h=255,f="charCodeAt",b="slice",y="replace";for(a[b](-2),a=a[b](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),u=[],c=0,l=(a+=i="uuuuu"[b](a[p]%5||5))[p];l>c;c+=5)o=52200625*(a[f](c)-33)+614125*(a[f](c+1)-33)+7225*(a[f](c+2)-33)+85*(a[f](c+3)-33)+(a[f](c+4)-33),u.push(h&o>>24,h&o>>16,h&o>>8,h&o);return function(g,x){for(var v=x;v>0;v--)g.pop()}(u,i[p]),d.fromCharCode.apply(d,u)},e=function(a){var i=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),i.test(a)===!1)return"";for(var o="",u=0;u<a.length;u+=2)o+=String.fromCharCode("0x"+(a[u]+a[u+1]));return o},s=function(a){for(var i=new Uint8Array(a.length),o=a.length;o--;)i[o]=a.charCodeAt(o);return a=(i=b_(i)).reduce(function(u,c){return u+String.fromCharCode(c)},"")};n.processDataByFilters=function(a,i){var o=0,u=a||"",c=[];for(typeof(i=i||[])=="string"&&(i=[i]),o=0;o<i.length;o+=1)switch(i[o]){case"ASCII85Decode":case"/ASCII85Decode":u=t(u),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=r(u),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=e(u),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[o]+'" is not implemented')}return{data:u,reverseChain:c.reverse().join(" ")}}}(jr.API),function(n){n.loadFile=function(r,t,e){return function(s,a,i){a=a!==!1,i=typeof i=="function"?i:function(){};var o=void 0;try{o=function(u,c,l){var d=new XMLHttpRequest,p=0,h=function(f){var b=f.length,y=[],g=String.fromCharCode;for(p=0;p<b;p+=1)y.push(g(255&f.charCodeAt(p)));return y.join("")};if(d.open("GET",u,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?l(h(this.responseText)):l(void 0)}),d.send(null),c&&d.status===200)return h(d.responseText)}(s,a,i)}catch{}return o}(r,t,e)},n.loadImageFile=n.loadFile}(jr.API),function(n){function r(){return(Br.html2canvas?Promise.resolve(Br.html2canvas):Ap(()=>import("./html2canvas.esm-DadlvMMh.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load html2canvas: "+i))}).then(function(i){return i.default?i.default:i})}function t(){return(Br.DOMPurify?Promise.resolve(Br.DOMPurify):Ap(()=>import("./purify.es-a-CayzAK.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load dompurify: "+i))}).then(function(i){return i.default?i.default:i})}var e=function(i){var o=ss(i);return o==="undefined"?"undefined":o==="string"||i instanceof String?"string":o==="number"||i instanceof Number?"number":o==="function"||i instanceof Function?"function":i&&i.constructor===Array?"array":i&&i.nodeType===1?"element":o==="object"?"object":"unknown"},s=function(i,o){var u=document.createElement(i);for(var c in o.className&&(u.className=o.className),o.innerHTML&&o.dompurify&&(u.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)u.style[c]=o.style[c];return u},a=function i(o){var u=Object.assign(i.convert(Promise.resolve()),JSON.parse(JSON.stringify(i.template))),c=i.convert(Promise.resolve(),u);return c=(c=c.setProgress(1,i,1,[i])).set(o)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(i,o){return i.__proto__=o||a.prototype,i},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(i,o){return this.then(function(){switch(o=o||function(u){switch(e(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(i)){case"string":return this.then(t).then(function(u){return this.set({src:s("div",{innerHTML:i,dompurify:u})})});case"element":return this.set({src:i});case"canvas":return this.set({canvas:i});case"img":return this.set({img:i});default:return this.error("Unknown source type.")}})},a.prototype.to=function(i){switch(i){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var i={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function u(c,l){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)l!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||d.appendChild(u(p,l));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(i.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:i}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(r).then(function(o){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,o(this.prop.container,u)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(r).then(function(o){var u=this.opt.jsPDF,c=this.opt.fontFaces,l=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:l,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var h=c[p],f=h.src.find(function(b){return b.format==="truetype"});f&&u.addFont(f.url,h.ref.name,h.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,u.context2d.save(!0),o(this.prop.container,d)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var i=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=i})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(i,o,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(i,o):this.outputPdf(i,o)},a.prototype.outputPdf=function(i,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(i,o)})},a.prototype.outputImg=function(i){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(i){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+i+'" is not supported.'}})},a.prototype.save=function(i){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(i?{filename:i}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(i){if(e(i)!=="object")return this;var o=Object.keys(i||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=i[u]};switch(u){case"margin":return this.setMargin.bind(this,i.margin);case"jsPDF":return function(){return this.opt.jsPDF=i.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,i.pageSize);default:return function(){this.opt[u]=i[u]}}},this);return this.then(function(){return this.thenList(o)})},a.prototype.get=function(i,o){return this.then(function(){var u=i in a.template.prop?this.prop[i]:this.opt[i];return o?o(u):u})},a.prototype.setMargin=function(i){return this.then(function(){switch(e(i)){case"number":i=[i,i,i,i];case"array":if(i.length===2&&(i=[i[0],i[1],i[0],i[1]]),i.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=i}).then(this.setPageSize)},a.prototype.setPageSize=function(i){function o(u,c){return Math.floor(u*c/72*96)}return this.then(function(){(i=i||jr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(i.inner={width:i.width-this.opt.margin[1]-this.opt.margin[3],height:i.height-this.opt.margin[0]-this.opt.margin[2]},i.inner.px={width:o(i.inner.width,i.k),height:o(i.inner.height,i.k)},i.inner.ratio=i.inner.height/i.inner.width),this.prop.pageSize=i})},a.prototype.setProgress=function(i,o,u,c){return i!=null&&(this.progress.val=i),o!=null&&(this.progress.state=o),u!=null&&(this.progress.n=u),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(i,o,u,c){return this.setProgress(i?this.progress.val+i:null,o||null,u?this.progress.n+u:null,c?this.progress.stack.concat(c):null)},a.prototype.then=function(i,o){var u=this;return this.thenCore(i,o,function(c,l){return u.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return u.updateProgress(null,c),d}).then(c,l).then(function(d){return u.updateProgress(1),d})})},a.prototype.thenCore=function(i,o,u){u=u||Promise.prototype.then,i&&(i=i.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),l=u.call(c,i,o);return a.convert(l,this.__proto__)},a.prototype.thenExternal=function(i,o){return Promise.prototype.then.call(this,i,o)},a.prototype.thenList=function(i){var o=this;return i.forEach(function(u){o=o.thenCore(u)}),o},a.prototype.catch=function(i){i&&(i=i.bind(this));var o=Promise.prototype.catch.call(this,i);return a.convert(o,this)},a.prototype.catchExternal=function(i){return Promise.prototype.catch.call(this,i)},a.prototype.error=function(i){return this.then(function(){throw new Error(i)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,jr.getPageSize=function(i,o,u){if(ss(i)==="object"){var c=i;i=c.orientation,o=c.unit||o,u=c.format||u}o=o||"mm",u=u||"a4",i=(""+(i||"P")).toLowerCase();var l,d=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":l=1;break;case"mm":l=72/25.4;break;case"cm":l=72/2.54;break;case"in":l=72;break;case"px":l=.75;break;case"pc":case"em":l=12;break;case"ex":l=6;break;default:throw"Invalid unit: "+o}var h,f=0,b=0;if(p.hasOwnProperty(d))f=p[d][1]/l,b=p[d][0]/l;else try{f=u[1],b=u[0]}catch{throw new Error("Invalid format: "+u)}if(i==="p"||i==="portrait")i="p",b>f&&(h=b,b=f,f=h);else{if(i!=="l"&&i!=="landscape")throw"Invalid orientation: "+i;i="l",f>b&&(h=b,b=f,f=h)}return{width:b,height:f,unit:o,k:l,orientation:i}},n.html=function(i,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(S_):null;var u=new a(o);return o.worker?u:u.from(i).doCallback()}}(jr.API),jr.API.addJS=function(n){return f3=n,this.internal.events.subscribe("postPutResources",function(){F2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(F2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),h3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+f3+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){F2!==void 0&&h3!==void 0&&this.internal.out("/Names <</JavaScript "+F2+" 0 R>>")}),this},function(n){var r;n.events.push(["postPutResources",function(){var t=this,e=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),a=0;a<s.length;a++){var i=s[a],o=e.exec(i);if(o!=null){var u=o[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(i)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,l=[];for(a=0;a<c;a++){var d=t.internal.newObject();l.push(d);var p=t.internal.getPageInfo(a+1);t.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=t.internal.newObject();for(t.internal.write("<< /Names [ "),a=0;a<l.length;a++)t.internal.write("(page_"+(a+1)+")"+l[a]+" 0 R");t.internal.write(" ] >>","endobj"),r=t.internal.newObject(),t.internal.write("<< /Dests "+h+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+r+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(e,s,a){var i={title:s,options:a,children:[]};return e==null&&(e=this.root),e.children.push(i),i},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(e){e.id=t.internal.newObjectDeferred();for(var s=0;s<e.children.length;s++)this.genIds_r(e.children[s])},t.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},t.outline.renderItems=function(e){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<e.children.length;a++){var i=e.children[a];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(e)),a>0&&this.line("/Prev "+this.makeRef(e.children[a-1])),a<e.children.length-1&&this.line("/Next "+this.makeRef(e.children[a+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var o=this.count=this.count_r({count:0},i);if(o>0&&this.line("/Count "+o),i.options&&i.options.pageNumber){var u=t.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var c=0;c<e.children.length;c++)this.renderItems(e.children[c])},t.outline.line=function(e){this.ctx.val+=e+`\r
`},t.outline.makeRef=function(e){return e.id+" 0 R"},t.outline.makeString=function(e){return"("+t.internal.pdfEscape(e)+")"},t.outline.objStart=function(e){this.ctx.val+=`\r
`+e.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(e,s){for(var a=0;a<s.children.length;a++)e.count++,this.count_r(e,s.children[a]);return e.count}}])}(jr.API),function(n){var r=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,e,s,a,i,o){var u,c=this.decode.DCT_DECODE,l=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=i||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(u=function(d){for(var p,h=256*d.charCodeAt(4)+d.charCodeAt(5),f=d.length,b={width:0,height:0,numcomponents:1},y=4;y<f;y+=2){if(y+=h,r.indexOf(d.charCodeAt(y+1))!==-1){p=256*d.charCodeAt(y+5)+d.charCodeAt(y+6),b={width:256*d.charCodeAt(y+7)+d.charCodeAt(y+8),height:p,numcomponents:d.charCodeAt(y+9)};break}h=256*d.charCodeAt(y+2)+d.charCodeAt(y+3)}return b}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}l={data:t,width:u.width,height:u.height,colorSpace:o,bitsPerComponent:8,filter:c,index:e,alias:s}}return l}}(jr.API);var j0,B2,p3,m3,g3,bU=function(){var n,r,t;function e(a){var i,o,u,c,l,d,p,h,f,b,y,g,x,v;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(i=this.readUInt32(),f=(function(){var w,S;for(S=[],w=0;w<4;++w)S.push(String.fromCharCode(this.data[this.pos++]));return S}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(i);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},l=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*l/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(f==="fdAT"&&(this.pos+=4,i-=4),a=(d!=null?d.data:void 0)||this.imgData,g=0;0<=i?g<i:g>i;0<=i?++g:--g)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(i),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((b=u-this.transparency.indexed.length)>0)for(x=0;0<=b?x<b:x>b;0<=b?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(i)[0];break;case 2:this.transparency.rgb=this.read(i)}break;case"tEXt":p=(y=this.read(i)).indexOf(0),h=String.fromCharCode.apply(String,y.slice(0,p)),this.text[h]=String.fromCharCode.apply(String,y.slice(p+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(v=this.colorType)===4||v===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=i}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}e.prototype.read=function(a){var i,o;for(o=[],i=0;0<=a?i<a:i>a;0<=a?++i:--i)o.push(this.data[this.pos++]);return o},e.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},e.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},e.prototype.decodePixels=function(a){var i=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*i),u=0,c=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function l(d,p,h,f){var b,y,g,x,v,w,S,D,T,R,P,L,O,H,U,I,F,A,_,E,N,k=Math.ceil((c.width-d)/h),B=Math.ceil((c.height-p)/f),j=c.width==k&&c.height==B;for(H=i*k,L=j?o:new Uint8Array(H*B),w=a.length,O=0,y=0;O<B&&u<w;){switch(a[u++]){case 0:for(x=F=0;F<H;x=F+=1)L[y++]=a[u++];break;case 1:for(x=A=0;A<H;x=A+=1)b=a[u++],v=x<i?0:L[y-i],L[y++]=(b+v)%256;break;case 2:for(x=_=0;_<H;x=_+=1)b=a[u++],g=(x-x%i)/i,U=O&&L[(O-1)*H+g*i+x%i],L[y++]=(U+b)%256;break;case 3:for(x=E=0;E<H;x=E+=1)b=a[u++],g=(x-x%i)/i,v=x<i?0:L[y-i],U=O&&L[(O-1)*H+g*i+x%i],L[y++]=(b+Math.floor((v+U)/2))%256;break;case 4:for(x=N=0;N<H;x=N+=1)b=a[u++],g=(x-x%i)/i,v=x<i?0:L[y-i],O===0?U=I=0:(U=L[(O-1)*H+g*i+x%i],I=g&&L[(O-1)*H+(g-1)*i+x%i]),S=v+U-I,D=Math.abs(S-v),R=Math.abs(S-U),P=Math.abs(S-I),T=D<=R&&D<=P?v:R<=P?U:I,L[y++]=(b+T)%256;break;default:throw new Error("Invalid filter algorithm: "+a[u-1])}if(!j){var M=((p+O*f)*c.width+d)*i,G=O*H;for(x=0;x<k;x+=1){for(var Y=0;Y<i;Y+=1)o[M++]=L[G++];M+=(h-1)*i}}O++}}return a=YB(a),c.interlaceMethod==1?(l(0,0,8,8),l(4,0,8,8),l(0,4,4,8),l(2,0,4,4),l(0,2,2,4),l(1,0,2,2),l(0,1,1,2)):l(0,0,1,1),o},e.prototype.decodePalette=function(){var a,i,o,u,c,l,d,p,h;for(o=this.palette,l=this.transparency.indexed||[],c=new Uint8Array((l.length||0)+o.length),u=0,a=0,i=d=0,p=o.length;d<p;i=d+=3)c[u++]=o[i],c[u++]=o[i+1],c[u++]=o[i+2],c[u++]=(h=l[a++])!=null?h:255;return c},e.prototype.copyToImageData=function(a,i){var o,u,c,l,d,p,h,f,b,y,g;if(u=this.colors,b=null,o=this.hasAlphaChannel,this.palette.length&&(b=(g=this._decodedPalette)!=null?g:this._decodedPalette=this.decodePalette(),u=4,o=!0),f=(c=a.data||a).length,d=b||i,l=p=0,u===1)for(;l<f;)h=b?4*i[l/4]:p,y=d[h++],c[l++]=y,c[l++]=y,c[l++]=y,c[l++]=o?d[h++]:255,p=h;else for(;l<f;)h=b?4*i[l/4]:p,c[l++]=d[h++],c[l++]=d[h++],c[l++]=d[h++],c[l++]=o?d[h++]:255,p=h},e.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var s=function(){if(Object.prototype.toString.call(Br)==="[object Window]"){try{r=Br.document.createElement("canvas"),t=r.getContext("2d")}catch{return!1}return!0}return!1};return s(),n=function(a){var i;if(s()===!0)return t.width=a.width,t.height=a.height,t.clearRect(0,0,a.width,a.height),t.putImageData(a,0,0),(i=new Image).src=r.toDataURL(),i;throw new Error("This method requires a Browser with Canvas-capability.")},e.prototype.decodeFrames=function(a){var i,o,u,c,l,d,p,h;if(this.animation){for(h=[],o=l=0,d=(p=this.animation.frames).length;l<d;o=++l)i=p[o],u=a.createImageData(i.width,i.height),c=this.decodePixels(new Uint8Array(i.data)),this.copyToImageData(u,c),i.imageData=u,h.push(i.image=n(u));return h}},e.prototype.renderFrame=function(a,i){var o,u,c;return o=(u=this.animation.frames)[i],c=u[i-1],i===0&&a.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?a.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&a.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&a.clearRect(o.xOffset,o.yOffset,o.width,o.height),a.drawImage(o.image,o.xOffset,o.yOffset)},e.prototype.animate=function(a){var i,o,u,c,l,d,p=this;return o=0,d=this.animation,c=d.numFrames,u=d.frames,l=d.numPlays,(i=function(){var h,f;if(h=o++%c,f=u[h],p.renderFrame(a,h),c>1&&o/c<l)return p.animation._timeout=setTimeout(i,f.delay)})()},e.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},e.prototype.render=function(a){var i,o;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,i=a.getContext("2d"),this.animation?(this.decodeFrames(i),this.animate(i)):(o=i.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),i.putImageData(o,0,0))},e}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function yU(n){var r=0;if(n[r++]!==71||n[r++]!==73||n[r++]!==70||n[r++]!==56||(n[r++]+1&253)!=56||n[r++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[r++]|n[r++]<<8,e=n[r++]|n[r++]<<8,s=n[r++],a=s>>7,i=1<<(7&s)+1;n[r++],n[r++];var o=null,u=null;a&&(o=r,u=i,r+=3*i);var c=!0,l=[],d=0,p=null,h=0,f=null;for(this.width=t,this.height=e;c&&r<n.length;)switch(n[r++]){case 33:switch(n[r++]){case 255:if(n[r]!==11||n[r+1]==78&&n[r+2]==69&&n[r+3]==84&&n[r+4]==83&&n[r+5]==67&&n[r+6]==65&&n[r+7]==80&&n[r+8]==69&&n[r+9]==50&&n[r+10]==46&&n[r+11]==48&&n[r+12]==3&&n[r+13]==1&&n[r+16]==0)r+=14,f=n[r++]|n[r++]<<8,r++;else for(r+=12;;){if(!((O=n[r++])>=0))throw Error("Invalid block size");if(O===0)break;r+=O}break;case 249:if(n[r++]!==4||n[r+4]!==0)throw new Error("Invalid graphics extension block.");var b=n[r++];d=n[r++]|n[r++]<<8,p=n[r++],!(1&b)&&(p=null),h=b>>2&7,r++;break;case 254:for(;;){if(!((O=n[r++])>=0))throw Error("Invalid block size");if(O===0)break;r+=O}break;default:throw new Error("Unknown graphic control label: 0x"+n[r-1].toString(16))}break;case 44:var y=n[r++]|n[r++]<<8,g=n[r++]|n[r++]<<8,x=n[r++]|n[r++]<<8,v=n[r++]|n[r++]<<8,w=n[r++],S=w>>6&1,D=1<<(7&w)+1,T=o,R=u,P=!1;w>>7&&(P=!0,T=r,R=D,r+=3*D);var L=r;for(r++;;){var O;if(!((O=n[r++])>=0))throw Error("Invalid block size");if(O===0)break;r+=O}l.push({x:y,y:g,width:x,height:v,has_local_palette:P,palette_offset:T,palette_size:R,data_offset:L,data_length:r-L,transparent_index:p,interlaced:!!S,delay:d,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[r-1].toString(16))}this.numFrames=function(){return l.length},this.loopCount=function(){return f},this.frameInfo=function(H){if(H<0||H>=l.length)throw new Error("Frame index out of range.");return l[H]},this.decodeAndBlitFrameBGRA=function(H,U){var I=this.frameInfo(H),F=I.width*I.height,A=new Uint8Array(F);b3(n,I.data_offset,A,F);var _=I.palette_offset,E=I.transparent_index;E===null&&(E=256);var N=I.width,k=t-N,B=N,j=4*(I.y*t+I.x),M=4*((I.y+I.height)*t+I.x),G=j,Y=4*k;I.interlaced===!0&&(Y+=4*t*7);for(var J=8,V=0,Q=A.length;V<Q;++V){var q=A[V];if(B===0&&(B=N,(G+=Y)>=M&&(Y=4*k+4*t*(J-1),G=j+(N+k)*(J<<1),J>>=1)),q===E)G+=4;else{var z=n[_+3*q],Z=n[_+3*q+1],re=n[_+3*q+2];U[G++]=re,U[G++]=Z,U[G++]=z,U[G++]=255}--B}},this.decodeAndBlitFrameRGBA=function(H,U){var I=this.frameInfo(H),F=I.width*I.height,A=new Uint8Array(F);b3(n,I.data_offset,A,F);var _=I.palette_offset,E=I.transparent_index;E===null&&(E=256);var N=I.width,k=t-N,B=N,j=4*(I.y*t+I.x),M=4*((I.y+I.height)*t+I.x),G=j,Y=4*k;I.interlaced===!0&&(Y+=4*t*7);for(var J=8,V=0,Q=A.length;V<Q;++V){var q=A[V];if(B===0&&(B=N,(G+=Y)>=M&&(Y=4*k+4*t*(J-1),G=j+(N+k)*(J<<1),J>>=1)),q===E)G+=4;else{var z=n[_+3*q],Z=n[_+3*q+1],re=n[_+3*q+2];U[G++]=z,U[G++]=Z,U[G++]=re,U[G++]=255}--B}}}function b3(n,r,t,e){for(var s=n[r++],a=1<<s,i=a+1,o=i+1,u=s+1,c=(1<<u)-1,l=0,d=0,p=0,h=n[r++],f=new Int32Array(4096),b=null;;){for(;l<16&&h!==0;)d|=n[r++]<<l,l+=8,h===1?h=n[r++]:--h;if(l<u)break;var y=d&c;if(d>>=u,l-=u,y!==a){if(y===i)break;for(var g=y<o?y:b,x=0,v=g;v>a;)v=f[v]>>8,++x;var w=v;if(p+x+(g!==y?1:0)>e)return void hs.log("Warning, gif stream longer than expected.");t[p++]=w;var S=p+=x;for(g!==y&&(t[p++]=w),v=g;x--;)v=f[v],t[--S]=255&v,v>>=8;b!==null&&o<4096&&(f[o++]=b<<8|w,o>=c+1&&u<12&&(++u,c=c<<1|1)),b=y}else o=i+1,c=(1<<(u=s+1))-1,b=null}return p!==e&&hs.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function T6(n){var r,t,e,s,a,i=Math.floor,o=new Array(64),u=new Array(64),c=new Array(64),l=new Array(64),d=new Array(65535),p=new Array(65535),h=new Array(64),f=new Array(64),b=[],y=0,g=7,x=new Array(64),v=new Array(64),w=new Array(64),S=new Array(256),D=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],R=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],H=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],F=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function A(j,M){for(var G=0,Y=0,J=new Array,V=1;V<=16;V++){for(var Q=1;Q<=j[V];Q++)J[M[Y]]=[],J[M[Y]][0]=G,J[M[Y]][1]=V,Y++,G++;G*=2}return J}function _(j){for(var M=j[0],G=j[1]-1;G>=0;)M&1<<G&&(y|=1<<g),G--,--g<0&&(y==255?(E(255),E(0)):E(y),g=7,y=0)}function E(j){b.push(j)}function N(j){E(j>>8&255),E(255&j)}function k(j,M,G,Y,J){for(var V,Q=J[0],q=J[240],z=function(pe,xe){var Oe,Ae,Le,He,Ye,it,bt,tt,$e,at,ze=0;for($e=0;$e<8;++$e){Oe=pe[ze],Ae=pe[ze+1],Le=pe[ze+2],He=pe[ze+3],Ye=pe[ze+4],it=pe[ze+5],bt=pe[ze+6];var wt=Oe+(tt=pe[ze+7]),vt=Oe-tt,kt=Ae+bt,pt=Ae-bt,At=Le+it,$t=Le-it,Tt=He+Ye,fr=He-Ye,ur=wt+Tt,er=wt-Tt,Sr=kt+At,tr=kt-At;pe[ze]=ur+Sr,pe[ze+4]=ur-Sr;var Wt=.707106781*(tr+er);pe[ze+2]=er+Wt,pe[ze+6]=er-Wt;var or=.382683433*((ur=fr+$t)-(tr=pt+vt)),Ir=.5411961*ur+or,Jt=1.306562965*tr+or,wr=.707106781*(Sr=$t+pt),Lr=vt+wr,Lt=vt-wr;pe[ze+5]=Lt+Ir,pe[ze+3]=Lt-Ir,pe[ze+1]=Lr+Jt,pe[ze+7]=Lr-Jt,ze+=8}for(ze=0,$e=0;$e<8;++$e){Oe=pe[ze],Ae=pe[ze+8],Le=pe[ze+16],He=pe[ze+24],Ye=pe[ze+32],it=pe[ze+40],bt=pe[ze+48];var Er=Oe+(tt=pe[ze+56]),Cr=Oe-tt,lr=Ae+bt,qe=Ae-bt,rt=Le+it,fe=Le-it,Ee=He+Ye,Se=He-Ye,we=Er+Ee,Pe=Er-Ee,Re=lr+rt,Ve=lr-rt;pe[ze]=we+Re,pe[ze+32]=we-Re;var ot=.707106781*(Ve+Pe);pe[ze+16]=Pe+ot,pe[ze+48]=Pe-ot;var Ke=.382683433*((we=Se+fe)-(Ve=qe+Cr)),et=.5411961*we+Ke,ct=1.306562965*Ve+Ke,Nt=.707106781*(Re=fe+qe),Ft=Cr+Nt,zt=Cr-Nt;pe[ze+40]=zt+et,pe[ze+24]=zt-et,pe[ze+8]=Ft+ct,pe[ze+56]=Ft-ct,ze++}for($e=0;$e<64;++$e)at=pe[$e]*xe[$e],h[$e]=at>0?at+.5|0:at-.5|0;return h}(j,M),Z=0;Z<64;++Z)f[T[Z]]=z[Z];var re=f[0]-G;G=f[0],re==0?_(Y[0]):(_(Y[p[V=32767+re]]),_(d[V]));for(var le=63;le>0&&f[le]==0;)le--;if(le==0)return _(Q),G;for(var ue,ce=1;ce<=le;){for(var ie=ce;f[ce]==0&&ce<=le;)++ce;var ye=ce-ie;if(ye>=16){ue=ye>>4;for(var he=1;he<=ue;++he)_(q);ye&=15}V=32767+f[ce],_(J[(ye<<4)+p[V]]),_(d[V]),ce++}return le!=63&&_(Q),G}function B(j){j=Math.min(Math.max(j,1),100),a!=j&&(function(M){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var J=i((G[Y]*M+50)/100);J=Math.min(Math.max(J,1),255),o[T[Y]]=J}for(var V=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Q=0;Q<64;Q++){var q=i((V[Q]*M+50)/100);q=Math.min(Math.max(q,1),255),u[T[Q]]=q}for(var z=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Z=0,re=0;re<8;re++)for(var le=0;le<8;le++)c[Z]=1/(o[T[Z]]*z[re]*z[le]*8),l[Z]=1/(u[T[Z]]*z[re]*z[le]*8),Z++}(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),a=j)}this.encode=function(j,M){M&&B(M),b=new Array,y=0,g=7,N(65496),N(65504),N(16),E(74),E(70),E(73),E(70),E(0),E(1),E(1),E(0),N(1),N(1),E(0),E(0),function(){N(65499),N(132),E(0);for(var Ae=0;Ae<64;Ae++)E(o[Ae]);E(1);for(var Le=0;Le<64;Le++)E(u[Le])}(),function(Ae,Le){N(65472),N(17),E(8),N(Le),N(Ae),E(3),E(1),E(17),E(0),E(2),E(17),E(1),E(3),E(17),E(1)}(j.width,j.height),function(){N(65476),N(418),E(0);for(var Ae=0;Ae<16;Ae++)E(R[Ae+1]);for(var Le=0;Le<=11;Le++)E(P[Le]);E(16);for(var He=0;He<16;He++)E(L[He+1]);for(var Ye=0;Ye<=161;Ye++)E(O[Ye]);E(1);for(var it=0;it<16;it++)E(H[it+1]);for(var bt=0;bt<=11;bt++)E(U[bt]);E(17);for(var tt=0;tt<16;tt++)E(I[tt+1]);for(var $e=0;$e<=161;$e++)E(F[$e])}(),N(65498),N(12),E(3),E(1),E(0),E(2),E(17),E(3),E(17),E(0),E(63),E(0);var G=0,Y=0,J=0;y=0,g=7,this.encode.displayName="_encode_";for(var V,Q,q,z,Z,re,le,ue,ce,ie=j.data,ye=j.width,he=j.height,pe=4*ye,xe=0;xe<he;){for(V=0;V<pe;){for(Z=pe*xe+V,le=-1,ue=0,ce=0;ce<64;ce++)re=Z+(ue=ce>>3)*pe+(le=4*(7&ce)),xe+ue>=he&&(re-=pe*(xe+1+ue-he)),V+le>=pe&&(re-=V+le-pe+4),Q=ie[re++],q=ie[re++],z=ie[re++],x[ce]=(D[Q]+D[q+256>>0]+D[z+512>>0]>>16)-128,v[ce]=(D[Q+768>>0]+D[q+1024>>0]+D[z+1280>>0]>>16)-128,w[ce]=(D[Q+1280>>0]+D[q+1536>>0]+D[z+1792>>0]>>16)-128;G=k(x,c,G,r,e),Y=k(v,l,Y,t,s),J=k(w,l,J,t,s),V+=32}xe+=8}if(g>=0){var Oe=[];Oe[1]=g+1,Oe[0]=(1<<g+1)-1,_(Oe)}return N(65497),new Uint8Array(b)},n=n||50,function(){for(var j=String.fromCharCode,M=0;M<256;M++)S[M]=j(M)}(),r=A(R,P),t=A(H,U),e=A(L,O),s=A(I,F),function(){for(var j=1,M=2,G=1;G<=15;G++){for(var Y=j;Y<M;Y++)p[32767+Y]=G,d[32767+Y]=[],d[32767+Y][1]=G,d[32767+Y][0]=Y;for(var J=-(M-1);J<=-j;J++)p[32767+J]=G,d[32767+J]=[],d[32767+J][1]=G,d[32767+J][0]=M-1+J;j<<=1,M<<=1}}(),function(){for(var j=0;j<256;j++)D[j]=19595*j,D[j+256>>0]=38470*j,D[j+512>>0]=7471*j+32768,D[j+768>>0]=-11059*j,D[j+1024>>0]=-21709*j,D[j+1280>>0]=32768*j+8421375,D[j+1536>>0]=-27439*j,D[j+1792>>0]=-5329*j}(),B(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function xc(n,r){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!r,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function y3(n){function r(R){if(!R)throw Error("assert :P")}function t(R,P,L){for(var O=0;4>O;O++)if(R[P+O]!=L.charCodeAt(O))return!0;return!1}function e(R,P,L,O,H){for(var U=0;U<H;U++)R[P+U]=L[O+U]}function s(R,P,L,O){for(var H=0;H<O;H++)R[P+H]=L}function a(R){return new Int32Array(R)}function i(R,P){for(var L=[],O=0;O<R;O++)L.push(new P);return L}function o(R,P){var L=[];return function O(H,U,I){for(var F=I[U],A=0;A<F&&(H.push(I.length>U+1?[]:new P),!(I.length<U+1));A++)O(H[A],U+1,I)}(L,0,R),L}var u=function(){var R=this;function P(K,ee){for(var ae=1<<ee-1>>>0;K&ae;)ae>>>=1;return ae?(K&ae-1)+ae:K}function L(K,ee,ae,de,ge){r(!(de%ae));do K[ee+(de-=ae)]=ge;while(0<de)}function O(K,ee,ae,de,ge){if(r(2328>=ge),512>=ge)var ve=a(512);else if((ve=a(ge))==null)return 0;return function(_e,Ce,Ie,Fe,Qe,ht){var ft,lt,It=Ce,xt=1<<Ie,Je=a(16),nt=a(16);for(r(Qe!=0),r(Fe!=null),r(_e!=null),r(0<Ie),lt=0;lt<Qe;++lt){if(15<Fe[lt])return 0;++Je[Fe[lt]]}if(Je[0]==Qe)return 0;for(nt[1]=0,ft=1;15>ft;++ft){if(Je[ft]>1<<ft)return 0;nt[ft+1]=nt[ft]+Je[ft]}for(lt=0;lt<Qe;++lt)ft=Fe[lt],0<Fe[lt]&&(ht[nt[ft]++]=lt);if(nt[15]==1)return(Fe=new H).g=0,Fe.value=ht[0],L(_e,It,1,xt,Fe),xt;var Dt,Bt=-1,jt=xt-1,Qt=0,Xt=1,pr=1,Gt=1<<Ie;for(lt=0,ft=1,Qe=2;ft<=Ie;++ft,Qe<<=1){if(Xt+=pr<<=1,0>(pr-=Je[ft]))return 0;for(;0<Je[ft];--Je[ft])(Fe=new H).g=ft,Fe.value=ht[lt++],L(_e,It+Qt,Qe,Gt,Fe),Qt=P(Qt,ft)}for(ft=Ie+1,Qe=2;15>=ft;++ft,Qe<<=1){if(Xt+=pr<<=1,0>(pr-=Je[ft]))return 0;for(;0<Je[ft];--Je[ft]){if(Fe=new H,(Qt&jt)!=Bt){for(It+=Gt,Dt=1<<(Bt=ft)-Ie;15>Bt&&!(0>=(Dt-=Je[Bt]));)++Bt,Dt<<=1;xt+=Gt=1<<(Dt=Bt-Ie),_e[Ce+(Bt=Qt&jt)].g=Dt+Ie,_e[Ce+Bt].value=It-Ce-Bt}Fe.g=ft-Ie,Fe.value=ht[lt++],L(_e,It+(Qt>>Ie),Qe,Gt,Fe),Qt=P(Qt,ft)}}return Xt!=2*nt[15]-1?0:xt}(K,ee,ae,de,ge,ve)}function H(){this.value=this.g=0}function U(){this.value=this.g=0}function I(){this.G=i(5,H),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(aa,U)}function F(K,ee,ae,de){r(K!=null),r(ee!=null),r(2147483648>de),K.Ca=254,K.I=0,K.b=-8,K.Ka=0,K.oa=ee,K.pa=ae,K.Jd=ee,K.Yc=ae+de,K.Zc=4<=de?ae+de-4+1:ae,V(K)}function A(K,ee){for(var ae=0;0<ee--;)ae|=q(K,128)<<ee;return ae}function _(K,ee){var ae=A(K,ee);return Q(K)?-ae:ae}function E(K,ee,ae,de){var ge,ve=0;for(r(K!=null),r(ee!=null),r(4294967288>de),K.Sb=de,K.Ra=0,K.u=0,K.h=0,4<de&&(de=4),ge=0;ge<de;++ge)ve+=ee[ae+ge]<<8*ge;K.Ra=ve,K.bb=de,K.oa=ee,K.pa=ae}function N(K){for(;8<=K.u&&K.bb<K.Sb;)K.Ra>>>=8,K.Ra+=K.oa[K.pa+K.bb]<<nc-8>>>0,++K.bb,K.u-=8;G(K)&&(K.h=1,K.u=0)}function k(K,ee){if(r(0<=ee),!K.h&&ee<=Ds){var ae=M(K)&Ls[ee];return K.u+=ee,N(K),ae}return K.h=1,K.u=0}function B(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function M(K){return K.Ra>>>(K.u&nc-1)>>>0}function G(K){return r(K.bb<=K.Sb),K.h||K.bb==K.Sb&&K.u>nc}function Y(K,ee){K.u=ee,K.h=G(K)}function J(K){K.u>=ru&&(r(K.u>=ru),N(K))}function V(K){r(K!=null&&K.oa!=null),K.pa<K.Zc?(K.I=(K.oa[K.pa++]|K.I<<8)>>>0,K.b+=8):(r(K!=null&&K.oa!=null),K.pa<K.Yc?(K.b+=8,K.I=K.oa[K.pa++]|K.I<<8):K.Ka?K.b=0:(K.I<<=8,K.b+=8,K.Ka=1))}function Q(K){return A(K,1)}function q(K,ee){var ae=K.Ca;0>K.b&&V(K);var de=K.b,ge=ae*ee>>>8,ve=(K.I>>>de>ge)+0;for(ve?(ae-=ge,K.I-=ge+1<<de>>>0):ae=ge+1,de=ae,ge=0;256<=de;)ge+=8,de>>=8;return de=7^ge+_s[de],K.b-=de,K.Ca=(ae<<de)-1,ve}function z(K,ee,ae){K[ee+0]=ae>>24&255,K[ee+1]=ae>>16&255,K[ee+2]=ae>>8&255,K[ee+3]=ae>>0&255}function Z(K,ee){return K[ee+0]<<0|K[ee+1]<<8}function re(K,ee){return Z(K,ee)|K[ee+2]<<16}function le(K,ee){return Z(K,ee)|Z(K,ee+2)<<16}function ue(K,ee){var ae=1<<ee;return r(K!=null),r(0<ee),K.X=a(ae),K.X==null?0:(K.Mb=32-ee,K.Xa=ee,1)}function ce(K,ee){r(K!=null),r(ee!=null),r(K.Xa==ee.Xa),e(ee.X,0,K.X,0,1<<ee.Xa)}function ie(){this.X=[],this.Xa=this.Mb=0}function ye(K,ee,ae,de){r(ae!=null),r(de!=null);var ge=ae[0],ve=de[0];return ge==0&&(ge=(K*ve+ee/2)/ee),ve==0&&(ve=(ee*ge+K/2)/K),0>=ge||0>=ve?0:(ae[0]=ge,de[0]=ve,1)}function he(K,ee){return K+(1<<ee)-1>>>ee}function pe(K,ee){return((4278255360&K)+(4278255360&ee)>>>0&4278255360)+((16711935&K)+(16711935&ee)>>>0&16711935)>>>0}function xe(K,ee){R[ee]=function(ae,de,ge,ve,_e,Ce,Ie){var Fe;for(Fe=0;Fe<_e;++Fe){var Qe=R[K](Ce[Ie+Fe-1],ge,ve+Fe);Ce[Ie+Fe]=pe(ae[de+Fe],Qe)}}}function Oe(){this.ud=this.hd=this.jd=0}function Ae(K,ee){return((4278124286&(K^ee))>>>1)+(K&ee)>>>0}function Le(K){return 0<=K&&256>K?K:0>K?0:255<K?255:void 0}function He(K,ee){return Le(K+(K-ee+.5>>1))}function Ye(K,ee,ae){return Math.abs(ee-ae)-Math.abs(K-ae)}function it(K,ee,ae,de,ge,ve,_e){for(de=ve[_e-1],ae=0;ae<ge;++ae)ve[_e+ae]=de=pe(K[ee+ae],de)}function bt(K,ee,ae,de,ge){var ve;for(ve=0;ve<ae;++ve){var _e=K[ee+ve],Ce=_e>>8&255,Ie=16711935&(Ie=(Ie=16711935&_e)+((Ce<<16)+Ce));de[ge+ve]=(4278255360&_e)+Ie>>>0}}function tt(K,ee){ee.jd=K>>0&255,ee.hd=K>>8&255,ee.ud=K>>16&255}function $e(K,ee,ae,de,ge,ve){var _e;for(_e=0;_e<de;++_e){var Ce=ee[ae+_e],Ie=Ce>>>8,Fe=Ce,Qe=255&(Qe=(Qe=Ce>>>16)+((K.jd<<24>>24)*(Ie<<24>>24)>>>5));Fe=255&(Fe=(Fe=Fe+((K.hd<<24>>24)*(Ie<<24>>24)>>>5))+((K.ud<<24>>24)*(Qe<<24>>24)>>>5)),ge[ve+_e]=(4278255360&Ce)+(Qe<<16)+Fe}}function at(K,ee,ae,de,ge){R[ee]=function(ve,_e,Ce,Ie,Fe,Qe,ht,ft,lt){for(Ie=ht;Ie<ft;++Ie)for(ht=0;ht<lt;++ht)Fe[Qe++]=ge(Ce[de(ve[_e++])])},R[K]=function(ve,_e,Ce,Ie,Fe,Qe,ht){var ft=8>>ve.b,lt=ve.Ea,It=ve.K[0],xt=ve.w;if(8>ft)for(ve=(1<<ve.b)-1,xt=(1<<ft)-1;_e<Ce;++_e){var Je,nt=0;for(Je=0;Je<lt;++Je)Je&ve||(nt=de(Ie[Fe++])),Qe[ht++]=ge(It[nt&xt]),nt>>=ft}else R["VP8LMapColor"+ae](Ie,Fe,It,xt,Qe,ht,_e,Ce,lt)}}function ze(K,ee,ae,de,ge){for(ae=ee+ae;ee<ae;){var ve=K[ee++];de[ge++]=ve>>16&255,de[ge++]=ve>>8&255,de[ge++]=ve>>0&255}}function wt(K,ee,ae,de,ge){for(ae=ee+ae;ee<ae;){var ve=K[ee++];de[ge++]=ve>>16&255,de[ge++]=ve>>8&255,de[ge++]=ve>>0&255,de[ge++]=ve>>24&255}}function vt(K,ee,ae,de,ge){for(ae=ee+ae;ee<ae;){var ve=(_e=K[ee++])>>16&240|_e>>12&15,_e=_e>>0&240|_e>>28&15;de[ge++]=ve,de[ge++]=_e}}function kt(K,ee,ae,de,ge){for(ae=ee+ae;ee<ae;){var ve=(_e=K[ee++])>>16&248|_e>>13&7,_e=_e>>5&224|_e>>3&31;de[ge++]=ve,de[ge++]=_e}}function pt(K,ee,ae,de,ge){for(ae=ee+ae;ee<ae;){var ve=K[ee++];de[ge++]=ve>>0&255,de[ge++]=ve>>8&255,de[ge++]=ve>>16&255}}function At(K,ee,ae,de,ge,ve){if(ve==0)for(ae=ee+ae;ee<ae;)z(de,((ve=K[ee++])[0]>>24|ve[1]>>8&65280|ve[2]<<8&16711680|ve[3]<<24)>>>0),ge+=32;else e(de,ge,K,ee,ae)}function $t(K,ee){R[ee][0]=R[K+"0"],R[ee][1]=R[K+"1"],R[ee][2]=R[K+"2"],R[ee][3]=R[K+"3"],R[ee][4]=R[K+"4"],R[ee][5]=R[K+"5"],R[ee][6]=R[K+"6"],R[ee][7]=R[K+"7"],R[ee][8]=R[K+"8"],R[ee][9]=R[K+"9"],R[ee][10]=R[K+"10"],R[ee][11]=R[K+"11"],R[ee][12]=R[K+"12"],R[ee][13]=R[K+"13"],R[ee][14]=R[K+"0"],R[ee][15]=R[K+"0"]}function Tt(K){return K==wg||K==Lh||K==md||K==tp}function fr(){this.eb=[],this.size=this.A=this.fb=0}function ur(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function er(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new fr,this.f.kb=new ur,this.sd=null}function Sr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function tr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Wt(K){return alert("todo:WebPSamplerProcessPlane"),K.T}function or(K,ee){var ae=K.T,de=ee.ba.f.RGBA,ge=de.eb,ve=de.fb+K.ka*de.A,_e=Ya[ee.ba.S],Ce=K.y,Ie=K.O,Fe=K.f,Qe=K.N,ht=K.ea,ft=K.W,lt=ee.cc,It=ee.dc,xt=ee.Mc,Je=ee.Nc,nt=K.ka,Dt=K.ka+K.T,Bt=K.U,jt=Bt+1>>1;for(nt==0?_e(Ce,Ie,null,null,Fe,Qe,ht,ft,Fe,Qe,ht,ft,ge,ve,null,null,Bt):(_e(ee.ec,ee.fc,Ce,Ie,lt,It,xt,Je,Fe,Qe,ht,ft,ge,ve-de.A,ge,ve,Bt),++ae);nt+2<Dt;nt+=2)lt=Fe,It=Qe,xt=ht,Je=ft,Qe+=K.Rc,ft+=K.Rc,ve+=2*de.A,_e(Ce,(Ie+=2*K.fa)-K.fa,Ce,Ie,lt,It,xt,Je,Fe,Qe,ht,ft,ge,ve-de.A,ge,ve,Bt);return Ie+=K.fa,K.j+Dt<K.o?(e(ee.ec,ee.fc,Ce,Ie,Bt),e(ee.cc,ee.dc,Fe,Qe,jt),e(ee.Mc,ee.Nc,ht,ft,jt),ae--):1&Dt||_e(Ce,Ie,null,null,Fe,Qe,ht,ft,Fe,Qe,ht,ft,ge,ve+de.A,null,null,Bt),ae}function Ir(K,ee,ae){var de=K.F,ge=[K.J];if(de!=null){var ve=K.U,_e=ee.ba.S,Ce=_e==pd||_e==md;ee=ee.ba.f.RGBA;var Ie=[0],Fe=K.ka;Ie[0]=K.T,K.Kb&&(Fe==0?--Ie[0]:(--Fe,ge[0]-=K.width),K.j+K.ka+K.T==K.o&&(Ie[0]=K.o-K.j-Fe));var Qe=ee.eb;Fe=ee.fb+Fe*ee.A,K=Un(de,ge[0],K.width,ve,Ie,Qe,Fe+(Ce?0:3),ee.A),r(ae==Ie),K&&Tt(_e)&&Eo(Qe,Fe,Ce,ve,Ie,ee.A)}return 0}function Jt(K){var ee=K.ma,ae=ee.ba.S,de=11>ae,ge=ae==ep||ae==Al||ae==pd||ae==xg||ae==12||Tt(ae);if(ee.memory=null,ee.Ib=null,ee.Jb=null,ee.Nd=null,!ld(ee.Oa,K,ge?11:12))return 0;if(ge&&Tt(ae)&&Ut(),K.da)alert("todo:use_scaling");else{if(de){if(ee.Ib=Wt,K.Kb){if(ae=K.U+1>>1,ee.memory=a(K.U+2*ae),ee.memory==null)return 0;ee.ec=ee.memory,ee.fc=0,ee.cc=ee.ec,ee.dc=ee.fc+K.U,ee.Mc=ee.cc,ee.Nc=ee.dc+ae,ee.Ib=or,Ut()}}else alert("todo:EmitYUV");ge&&(ee.Jb=Ir,de&&dt())}if(de&&!Xv){for(K=0;256>K;++K)R5[K]=89858*(K-128)+f0>>h0,O5[K]=-22014*(K-128)+f0,M5[K]=-45773*(K-128),uc[K]=113618*(K-128)+f0>>h0;for(K=Ko;K<Eg;++K)ee=76283*(K-16)+f0>>h0,L5[K-Ko]=Va(ee,255),F5[K-Ko]=Va(ee+8>>4,15);Xv=1}return 1}function wr(K){var ee=K.ma,ae=K.U,de=K.T;return r(!(1&K.ka)),0>=ae||0>=de?0:(ae=ee.Ib(K,ee),ee.Jb!=null&&ee.Jb(K,ee,ae),ee.Dc+=ae,1)}function Lr(K){K.ma.memory=null}function Lt(K,ee,ae,de){return k(K,8)!=47?0:(ee[0]=k(K,14)+1,ae[0]=k(K,14)+1,de[0]=k(K,1),k(K,3)!=0?0:!K.h)}function Er(K,ee){if(4>K)return K+1;var ae=K-2>>1;return(2+(1&K)<<ae)+k(ee,ae)+1}function Cr(K,ee){return 120<ee?ee-120:1<=(ae=((ae=Ga[ee-1])>>4)*K+(8-(15&ae)))?ae:1;var ae}function lr(K,ee,ae){var de=M(ae),ge=K[ee+=255&de].g-8;return 0<ge&&(Y(ae,ae.u+8),de=M(ae),ee+=K[ee].value,ee+=de&(1<<ge)-1),Y(ae,ae.u+K[ee].g),K[ee].value}function qe(K,ee,ae){return ae.g+=K.g,ae.value+=K.value<<ee>>>0,r(8>=ae.g),K.g}function rt(K,ee,ae){var de=K.xc;return r((ee=de==0?0:K.vc[K.md*(ae>>de)+(ee>>de)])<K.Wb),K.Ya[ee]}function fe(K,ee,ae,de){var ge=K.ab,ve=K.c*ee,_e=K.C;ee=_e+ee;var Ce=ae,Ie=de;for(de=K.Ta,ae=K.Ua;0<ge--;){var Fe=K.gc[ge],Qe=_e,ht=ee,ft=Ce,lt=Ie,It=(Ie=de,Ce=ae,Fe.Ea);switch(r(Qe<ht),r(ht<=Fe.nc),Fe.hc){case 2:_o(ft,lt,(ht-Qe)*It,Ie,Ce);break;case 0:var xt=Qe,Je=ht,nt=Ie,Dt=Ce,Bt=(Gt=Fe).Ea;xt==0&&(nu(ft,lt,null,null,1,nt,Dt),it(ft,lt+1,0,0,Bt-1,nt,Dt+1),lt+=Bt,Dt+=Bt,++xt);for(var jt=1<<Gt.b,Qt=jt-1,Xt=he(Bt,Gt.b),pr=Gt.K,Gt=Gt.w+(xt>>Gt.b)*Xt;xt<Je;){var Cn=pr,Mn=Gt,mn=1;for($s(ft,lt,nt,Dt-Bt,1,nt,Dt);mn<Bt;){var Jr=(mn&~Qt)+jt;Jr>Bt&&(Jr=Bt),(0,Sa[Cn[Mn++]>>8&15])(ft,lt+ +mn,nt,Dt+mn-Bt,Jr-mn,nt,Dt+mn),mn=Jr}lt+=Bt,Dt+=Bt,++xt&Qt||(Gt+=Xt)}ht!=Fe.nc&&e(Ie,Ce-It,Ie,Ce+(ht-Qe-1)*It,It);break;case 1:for(It=ft,Je=lt,Bt=(ft=Fe.Ea)-(Dt=ft&~(nt=(lt=1<<Fe.b)-1)),xt=he(ft,Fe.b),jt=Fe.K,Fe=Fe.w+(Qe>>Fe.b)*xt;Qe<ht;){for(Qt=jt,Xt=Fe,pr=new Oe,Gt=Je+Dt,Cn=Je+ft;Je<Gt;)tt(Qt[Xt++],pr),au(pr,It,Je,lt,Ie,Ce),Je+=lt,Ce+=lt;Je<Cn&&(tt(Qt[Xt++],pr),au(pr,It,Je,Bt,Ie,Ce),Je+=Bt,Ce+=Bt),++Qe&nt||(Fe+=xt)}break;case 3:if(ft==Ie&&lt==Ce&&0<Fe.b){for(Je=Ie,ft=It=Ce+(ht-Qe)*It-(Dt=(ht-Qe)*he(Fe.Ea,Fe.b)),lt=Ie,nt=Ce,xt=[],Dt=(Bt=Dt)-1;0<=Dt;--Dt)xt[Dt]=lt[nt+Dt];for(Dt=Bt-1;0<=Dt;--Dt)Je[ft+Dt]=xt[Dt];$a(Fe,Qe,ht,Ie,It,Ie,Ce)}else $a(Fe,Qe,ht,ft,lt,Ie,Ce)}Ce=de,Ie=ae}Ie!=ae&&e(de,ae,Ce,Ie,ve)}function Ee(K,ee){var ae=K.V,de=K.Ba+K.c*K.C,ge=ee-K.C;if(r(ee<=K.l.o),r(16>=ge),0<ge){var ve=K.l,_e=K.Ta,Ce=K.Ua,Ie=ve.width;if(fe(K,ge,ae,de),ge=Ce=[Ce],r((ae=K.C)<(de=ee)),r(ve.v<ve.va),de>ve.o&&(de=ve.o),ae<ve.j){var Fe=ve.j-ae;ae=ve.j,ge[0]+=Fe*Ie}if(ae>=de?ae=0:(ge[0]+=4*ve.v,ve.ka=ae-ve.j,ve.U=ve.va-ve.v,ve.T=de-ae,ae=1),ae){if(Ce=Ce[0],11>(ae=K.ca).S){var Qe=ae.f.RGBA,ht=(de=ae.S,ge=ve.U,ve=ve.T,Fe=Qe.eb,Qe.A),ft=ve;for(Qe=Qe.fb+K.Ma*Qe.A;0<ft--;){var lt=_e,It=Ce,xt=ge,Je=Fe,nt=Qe;switch(de){case fd:wi(lt,It,xt,Je,nt);break;case ep:ii(lt,It,xt,Je,nt);break;case wg:ii(lt,It,xt,Je,nt),Eo(Je,nt,0,xt,1,0);break;case Oh:ic(lt,It,xt,Je,nt);break;case Al:At(lt,It,xt,Je,nt,1);break;case Lh:At(lt,It,xt,Je,nt,1),Eo(Je,nt,0,xt,1,0);break;case pd:At(lt,It,xt,Je,nt,0);break;case md:At(lt,It,xt,Je,nt,0),Eo(Je,nt,1,xt,1,0);break;case xg:iu(lt,It,xt,Je,nt);break;case tp:iu(lt,It,xt,Je,nt),Zn(Je,nt,xt,1,0);break;case zv:ac(lt,It,xt,Je,nt);break;default:r(0)}Ce+=Ie,Qe+=ht}K.Ma+=ve}else alert("todo:EmitRescaledRowsYUVA");r(K.Ma<=ae.height)}}K.C=ee,r(K.C<=K.i)}function Se(K){var ee;if(0<K.ua)return 0;for(ee=0;ee<K.Wb;++ee){var ae=K.Ya[ee].G,de=K.Ya[ee].H;if(0<ae[1][de[1]+0].g||0<ae[2][de[2]+0].g||0<ae[3][de[3]+0].g)return 0}return 1}function we(K,ee,ae,de,ge,ve){if(K.Z!=0){var _e=K.qd,Ce=K.rd;for(r(Yo[K.Z]!=null);ee<ae;++ee)Yo[K.Z](_e,Ce,de,ge,de,ge,ve),_e=de,Ce=ge,ge+=ve;K.qd=_e,K.rd=Ce}}function Pe(K,ee){var ae=K.l.ma,de=ae.Z==0||ae.Z==1?K.l.j:K.C;if(de=K.C<de?de:K.C,r(ee<=K.l.o),ee>de){var ge=K.l.width,ve=ae.ca,_e=ae.tb+ge*de,Ce=K.V,Ie=K.Ba+K.c*de,Fe=K.gc;r(K.ab==1),r(Fe[0].hc==3),l0(Fe[0],de,ee,Ce,Ie,ve,_e),we(ae,de,ee,ve,_e,ge)}K.C=K.Ma=ee}function Re(K,ee,ae,de,ge,ve,_e){var Ce=K.$/de,Ie=K.$%de,Fe=K.m,Qe=K.s,ht=ae+K.$,ft=ht;ge=ae+de*ge;var lt=ae+de*ve,It=280+Qe.ua,xt=K.Pb?Ce:16777216,Je=0<Qe.ua?Qe.Wa:null,nt=Qe.wc,Dt=ht<lt?rt(Qe,Ie,Ce):null;r(K.C<ve),r(lt<=ge);var Bt=!1;e:for(;;){for(;Bt||ht<lt;){var jt=0;if(Ce>=xt){var Qt=ht-ae;r((xt=K).Pb),xt.wd=xt.m,xt.xd=Qt,0<xt.s.ua&&ce(xt.s.Wa,xt.s.vb),xt=Ce+T5}if(Ie&nt||(Dt=rt(Qe,Ie,Ce)),r(Dt!=null),Dt.Qb&&(ee[ht]=Dt.qb,Bt=!0),!Bt)if(J(Fe),Dt.jc){jt=Fe,Qt=ee;var Xt=ht,pr=Dt.pd[M(jt)&aa-1];r(Dt.jc),256>pr.g?(Y(jt,jt.u+pr.g),Qt[Xt]=pr.value,jt=0):(Y(jt,jt.u+pr.g-256),r(256<=pr.value),jt=pr.value),jt==0&&(Bt=!0)}else jt=lr(Dt.G[0],Dt.H[0],Fe);if(Fe.h)break;if(Bt||256>jt){if(!Bt)if(Dt.nd)ee[ht]=(Dt.qb|jt<<8)>>>0;else{if(J(Fe),Bt=lr(Dt.G[1],Dt.H[1],Fe),J(Fe),Qt=lr(Dt.G[2],Dt.H[2],Fe),Xt=lr(Dt.G[3],Dt.H[3],Fe),Fe.h)break;ee[ht]=(Xt<<24|Bt<<16|jt<<8|Qt)>>>0}if(Bt=!1,++ht,++Ie>=de&&(Ie=0,++Ce,_e!=null&&Ce<=ve&&!(Ce%16)&&_e(K,Ce),Je!=null))for(;ft<ht;)jt=ee[ft++],Je.X[(506832829*jt&4294967295)>>>Je.Mb]=jt}else if(280>jt){if(jt=Er(jt-256,Fe),Qt=lr(Dt.G[4],Dt.H[4],Fe),J(Fe),Qt=Cr(de,Qt=Er(Qt,Fe)),Fe.h)break;if(ht-ae<Qt||ge-ht<jt)break e;for(Xt=0;Xt<jt;++Xt)ee[ht+Xt]=ee[ht+Xt-Qt];for(ht+=jt,Ie+=jt;Ie>=de;)Ie-=de,++Ce,_e!=null&&Ce<=ve&&!(Ce%16)&&_e(K,Ce);if(r(ht<=ge),Ie&nt&&(Dt=rt(Qe,Ie,Ce)),Je!=null)for(;ft<ht;)jt=ee[ft++],Je.X[(506832829*jt&4294967295)>>>Je.Mb]=jt}else{if(!(jt<It))break e;for(Bt=jt-280,r(Je!=null);ft<ht;)jt=ee[ft++],Je.X[(506832829*jt&4294967295)>>>Je.Mb]=jt;jt=ht,r(!(Bt>>>(Qt=Je).Xa)),ee[jt]=Qt.X[Bt],Bt=!0}Bt||r(Fe.h==G(Fe))}if(K.Pb&&Fe.h&&ht<ge)r(K.m.h),K.a=5,K.m=K.wd,K.$=K.xd,0<K.s.ua&&ce(K.s.vb,K.s.Wa);else{if(Fe.h)break e;_e!=null&&_e(K,Ce>ve?ve:Ce),K.a=0,K.$=ht-ae}return 1}return K.a=3,0}function Ve(K){r(K!=null),K.vc=null,K.yc=null,K.Ya=null;var ee=K.Wa;ee!=null&&(ee.X=null),K.vb=null,r(K!=null)}function ot(){var K=new wo;return K==null?null:(K.a=0,K.xb=Gv,$t("Predictor","VP8LPredictors"),$t("Predictor","VP8LPredictors_C"),$t("PredictorAdd","VP8LPredictorsAdd"),$t("PredictorAdd","VP8LPredictorsAdd_C"),_o=bt,au=$e,wi=ze,ii=wt,iu=vt,ac=kt,ic=pt,R.VP8LMapColor32b=su,R.VP8LMapColor8b=sc,K)}function Ke(K,ee,ae,de,ge){var ve=1,_e=[K],Ce=[ee],Ie=de.m,Fe=de.s,Qe=null,ht=0;e:for(;;){if(ae)for(;ve&&k(Ie,1);){var ft=_e,lt=Ce,It=de,xt=1,Je=It.m,nt=It.gc[It.ab],Dt=k(Je,2);if(It.Oc&1<<Dt)ve=0;else{switch(It.Oc|=1<<Dt,nt.hc=Dt,nt.Ea=ft[0],nt.nc=lt[0],nt.K=[null],++It.ab,r(4>=It.ab),Dt){case 0:case 1:nt.b=k(Je,3)+2,xt=Ke(he(nt.Ea,nt.b),he(nt.nc,nt.b),0,It,nt.K),nt.K=nt.K[0];break;case 3:var Bt,jt=k(Je,8)+1,Qt=16<jt?0:4<jt?1:2<jt?2:3;if(ft[0]=he(nt.Ea,Qt),nt.b=Qt,Bt=xt=Ke(jt,1,0,It,nt.K)){var Xt,pr=jt,Gt=nt,Cn=1<<(8>>Gt.b),Mn=a(Cn);if(Mn==null)Bt=0;else{var mn=Gt.K[0],Jr=Gt.w;for(Mn[0]=Gt.K[0][0],Xt=1;Xt<1*pr;++Xt)Mn[Xt]=pe(mn[Jr+Xt],Mn[Xt-1]);for(;Xt<4*Cn;++Xt)Mn[Xt]=0;Gt.K[0]=null,Gt.K[0]=Mn,Bt=1}}xt=Bt;break;case 2:break;default:r(0)}ve=xt}}if(_e=_e[0],Ce=Ce[0],ve&&k(Ie,1)&&!(ve=1<=(ht=k(Ie,4))&&11>=ht)){de.a=3;break e}var gn;if(gn=ve)t:{var Hn,Vr,Ss,Si=de,Bs=_e,On=Ce,Dn=ht,Ei=ae,js=Si.m,Gs=Si.s,Ys=[null],Us=1,to=0,ys=D5[Dn];r:for(;;){if(Ei&&k(js,1)){var Ks=k(js,3)+2,dc=he(Bs,Ks),vd=he(On,Ks),Bh=dc*vd;if(!Ke(dc,vd,0,Si,Ys))break r;for(Ys=Ys[0],Gs.xc=Ks,Hn=0;Hn<Bh;++Hn){var kl=Ys[Hn]>>8&65535;Ys[Hn]=kl,kl>=Us&&(Us=kl+1)}}if(js.h)break r;for(Vr=0;5>Vr;++Vr){var Is=$v[Vr];!Vr&&0<Dn&&(Is+=1<<Dn),to<Is&&(to=Is)}var xd=i(Us*ys,H),Ng=Us,Qv=i(Ng,I);if(Qv==null)var p0=null;else r(65536>=Ng),p0=Qv;var hc=a(to);if(p0==null||hc==null||xd==null){Si.a=1;break r}var m0=xd;for(Hn=Ss=0;Hn<Us;++Hn){var Xo=p0[Hn],uu=Xo.G,wd=Xo.H,e2=0,g0=1,t2=0;for(Vr=0;5>Vr;++Vr){Is=$v[Vr],uu[Vr]=m0,wd[Vr]=Ss,!Vr&&0<Dn&&(Is+=1<<Dn);s:{var ip,op=Is,b0=Si,_d=hc,r2=m0,n2=Ss,y0=0,Jo=b0.m,H5=k(Jo,1);if(s(_d,0,0,op),H5){var s2=k(Jo,1)+1,a2=k(Jo,1),i2=k(Jo,a2==0?1:8);_d[i2]=1,s2==2&&(_d[i2=k(Jo,8)]=1);var lp=1}else{var o2=a(19),v0=k(Jo,4)+4;if(19<v0){b0.a=3;var cp=0;break s}for(ip=0;ip<v0;++ip)o2[la[ip]]=k(Jo,3);var up=void 0,dp=void 0,x0=b0,Qr=o2,w0=op,l2=_d,Sd=0,fc=x0.m,c2=8,u2=i(128,H);n:for(;O(u2,0,7,Qr,19);){if(k(fc,1)){var Ao=2+2*k(fc,3);if((up=2+k(fc,Ao))>w0)break n}else up=w0;for(dp=0;dp<w0&&up--;){J(fc);var d2=u2[0+(127&M(fc))];Y(fc,fc.u+d2.g);var pc=d2.value;if(16>pc)l2[dp++]=pc,pc!=0&&(c2=pc);else{var Ag=pc==16,kg=pc-16,h2=Vv[kg],Ni=k(fc,k5[kg])+h2;if(dp+Ni>w0)break n;for(var du=Ag?c2:0;0<Ni--;)l2[dp++]=du}}Sd=1;break n}Sd||(x0.a=3),lp=Sd}(lp=lp&&!Jo.h)&&(y0=O(r2,n2,8,_d,op)),lp&&y0!=0?cp=y0:(b0.a=3,cp=0)}if(cp==0)break r;if(g0&&C5[Vr]==1&&(g0=m0[Ss].g==0),e2+=m0[Ss].g,Ss+=cp,3>=Vr){var Ed,_0=hc[0];for(Ed=1;Ed<Is;++Ed)hc[Ed]>_0&&(_0=hc[Ed]);t2+=_0}}if(Xo.nd=g0,Xo.Qb=0,g0&&(Xo.qb=(uu[3][wd[3]+0].value<<24|uu[1][wd[1]+0].value<<16|uu[2][wd[2]+0].value)>>>0,e2==0&&256>uu[0][wd[0]+0].value&&(Xo.Qb=1,Xo.qb+=uu[0][wd[0]+0].value<<8)),Xo.jc=!Xo.Qb&&6>t2,Xo.jc){var Nd,Cl=Xo;for(Nd=0;Nd<aa;++Nd){var Dl=Nd,mc=Cl.pd[Dl],Uh=Cl.G[0][Cl.H[0]+Dl];256<=Uh.value?(mc.g=Uh.g+256,mc.value=Uh.value):(mc.g=0,mc.value=0,Dl>>=qe(Uh,8,mc),Dl>>=qe(Cl.G[1][Cl.H[1]+Dl],16,mc),Dl>>=qe(Cl.G[2][Cl.H[2]+Dl],0,mc),qe(Cl.G[3][Cl.H[3]+Dl],24,mc))}}}Gs.vc=Ys,Gs.Wb=Us,Gs.Ya=p0,Gs.yc=xd,gn=1;break t}gn=0}if(!(ve=gn)){de.a=3;break e}if(0<ht){if(Fe.ua=1<<ht,!ue(Fe.Wa,ht)){de.a=1,ve=0;break e}}else Fe.ua=0;var hp=de,gc=_e,q5=Ce,Tl=hp.s,S0=Tl.xc;if(hp.c=gc,hp.i=q5,Tl.md=he(gc,S0),Tl.wc=S0==0?-1:(1<<S0)-1,ae){de.xb=j5;break e}if((Qe=a(_e*Ce))==null){de.a=1,ve=0;break e}ve=(ve=Re(de,Qe,0,_e,Ce,Ce,null))&&!Ie.h;break e}return ve?(ge!=null?ge[0]=Qe:(r(Qe==null),r(ae)),de.$=0,ae||Ve(Fe)):Ve(Fe),ve}function et(K,ee){var ae=K.c*K.i,de=ae+ee+16*ee;return r(K.c<=ee),K.V=a(de),K.V==null?(K.Ta=null,K.Ua=0,K.a=1,0):(K.Ta=K.V,K.Ua=K.Ba+ae+ee,1)}function ct(K,ee){var ae=K.C,de=ee-ae,ge=K.V,ve=K.Ba+K.c*ae;for(r(ee<=K.l.o);0<de;){var _e=16<de?16:de,Ce=K.l.ma,Ie=K.l.width,Fe=Ie*_e,Qe=Ce.ca,ht=Ce.tb+Ie*ae,ft=K.Ta,lt=K.Ua;fe(K,_e,ge,ve),Fs(ft,lt,Qe,ht,Fe),we(Ce,ae,ae+_e,Qe,ht,Ie),de-=_e,ge+=_e*K.c,ae+=_e}r(ae==ee),K.C=K.Ma=ee}function Nt(){this.ub=this.yd=this.td=this.Rb=0}function Ft(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function zt(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Rt(){this.Yb=function(){var K=[];return function ee(ae,de,ge){for(var ve=ge[de],_e=0;_e<ve&&(ae.push(ge.length>de+1?[]:0),!(ge.length<de+1));_e++)ee(ae[_e],de+1,ge)}(K,0,[3,11]),K}()}function ke(){this.jb=a(3),this.Wc=o([4,8],Rt),this.Xc=o([4,17],Rt)}function Ge(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function mt(){this.ld=this.La=this.dd=this.tc=0}function Et(){this.Na=this.la=0}function Yt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ht(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Vt(){this.uc=this.M=this.Nb=0,this.wa=Array(new mt),this.Y=0,this.ya=Array(new Ht),this.aa=0,this.l=new Nr}function Tr(){this.y=a(16),this.f=a(8),this.ea=a(8)}function vr(){this.cb=this.a=0,this.sc="",this.m=new B,this.Od=new Nt,this.Kc=new Ft,this.ed=new Ge,this.Qa=new zt,this.Ic=this.$c=this.Aa=0,this.D=new Vt,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,B),this.ia=0,this.pb=i(4,Yt),this.Pa=new ke,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Tr),this.Hd=0,this.rb=Array(new Et),this.sb=0,this.wa=Array(new mt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ht),this.L=this.aa=0,this.gd=o([4,2],mt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Nr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ir(){var K=new vr;return K!=null&&(K.a=0,K.sc="OK",K.cb=0,K.Xb=0,gd||(gd=An)),K}function _r(K,ee,ae){return K.a==0&&(K.a=ee,K.sc=ae,K.cb=0),0}function nn(K,ee,ae){return 3<=ae&&K[ee+0]==157&&K[ee+1]==1&&K[ee+2]==42}function sn(K,ee){if(K==null)return 0;if(K.a=0,K.sc="OK",ee==null)return _r(K,2,"null VP8Io passed to VP8GetHeaders()");var ae=ee.data,de=ee.w,ge=ee.ha;if(4>ge)return _r(K,7,"Truncated header.");var ve=ae[de+0]|ae[de+1]<<8|ae[de+2]<<16,_e=K.Od;if(_e.Rb=!(1&ve),_e.td=ve>>1&7,_e.yd=ve>>4&1,_e.ub=ve>>5,3<_e.td)return _r(K,3,"Incorrect keyframe parameters.");if(!_e.yd)return _r(K,4,"Frame not displayable.");de+=3,ge-=3;var Ce=K.Kc;if(_e.Rb){if(7>ge)return _r(K,7,"cannot parse picture header");if(!nn(ae,de,ge))return _r(K,3,"Bad code word");Ce.c=16383&(ae[de+4]<<8|ae[de+3]),Ce.Td=ae[de+4]>>6,Ce.i=16383&(ae[de+6]<<8|ae[de+5]),Ce.Ud=ae[de+6]>>6,de+=7,ge-=7,K.za=Ce.c+15>>4,K.Ub=Ce.i+15>>4,ee.width=Ce.c,ee.height=Ce.i,ee.Da=0,ee.j=0,ee.v=0,ee.va=ee.width,ee.o=ee.height,ee.da=0,ee.ib=ee.width,ee.hb=ee.height,ee.U=ee.width,ee.T=ee.height,s((ve=K.Pa).jb,0,255,ve.jb.length),r((ve=K.Qa)!=null),ve.Cb=0,ve.Bb=0,ve.Fb=1,s(ve.Zb,0,0,ve.Zb.length),s(ve.Lb,0,0,ve.Lb)}if(_e.ub>ge)return _r(K,7,"bad partition length");F(ve=K.m,ae,de,_e.ub),de+=_e.ub,ge-=_e.ub,_e.Rb&&(Ce.Ld=Q(ve),Ce.Kd=Q(ve)),Ce=K.Qa;var Ie,Fe=K.Pa;if(r(ve!=null),r(Ce!=null),Ce.Cb=Q(ve),Ce.Cb){if(Ce.Bb=Q(ve),Q(ve)){for(Ce.Fb=Q(ve),Ie=0;4>Ie;++Ie)Ce.Zb[Ie]=Q(ve)?_(ve,7):0;for(Ie=0;4>Ie;++Ie)Ce.Lb[Ie]=Q(ve)?_(ve,6):0}if(Ce.Bb)for(Ie=0;3>Ie;++Ie)Fe.jb[Ie]=Q(ve)?A(ve,8):255}else Ce.Bb=0;if(ve.Ka)return _r(K,3,"cannot parse segment header");if((Ce=K.ed).zd=Q(ve),Ce.Tb=A(ve,6),Ce.wb=A(ve,3),Ce.Pc=Q(ve),Ce.Pc&&Q(ve)){for(Fe=0;4>Fe;++Fe)Q(ve)&&(Ce.vd[Fe]=_(ve,6));for(Fe=0;4>Fe;++Fe)Q(ve)&&(Ce.od[Fe]=_(ve,6))}if(K.L=Ce.Tb==0?0:Ce.zd?1:2,ve.Ka)return _r(K,3,"cannot parse filter header");var Qe=ge;if(ge=Ie=de,de=Ie+Qe,Ce=Qe,K.Xb=(1<<A(K.m,2))-1,Qe<3*(Fe=K.Xb))ae=7;else{for(Ie+=3*Fe,Ce-=3*Fe,Qe=0;Qe<Fe;++Qe){var ht=ae[ge+0]|ae[ge+1]<<8|ae[ge+2]<<16;ht>Ce&&(ht=Ce),F(K.Jc[+Qe],ae,Ie,ht),Ie+=ht,Ce-=ht,ge+=3}F(K.Jc[+Fe],ae,Ie,Ce),ae=Ie<de?0:5}if(ae!=0)return _r(K,ae,"cannot parse partitions");for(ae=A(Ie=K.m,7),ge=Q(Ie)?_(Ie,4):0,de=Q(Ie)?_(Ie,4):0,Ce=Q(Ie)?_(Ie,4):0,Fe=Q(Ie)?_(Ie,4):0,Ie=Q(Ie)?_(Ie,4):0,Qe=K.Qa,ht=0;4>ht;++ht){if(Qe.Cb){var ft=Qe.Zb[ht];Qe.Fb||(ft+=ae)}else{if(0<ht){K.pb[ht]=K.pb[0];continue}ft=ae}var lt=K.pb[ht];lt.Sc[0]=u0[Va(ft+ge,127)],lt.Sc[1]=_g[Va(ft+0,127)],lt.Eb[0]=2*u0[Va(ft+de,127)],lt.Eb[1]=101581*_g[Va(ft+Ce,127)]>>16,8>lt.Eb[1]&&(lt.Eb[1]=8),lt.Qc[0]=u0[Va(ft+Fe,117)],lt.Qc[1]=_g[Va(ft+Ie,127)],lt.lc=ft+Ie}if(!_e.Rb)return _r(K,4,"Not a key frame.");for(Q(ve),_e=K.Pa,ae=0;4>ae;++ae){for(ge=0;8>ge;++ge)for(de=0;3>de;++de)for(Ce=0;11>Ce;++Ce)Fe=q(ve,d0[ae][ge][de][Ce])?A(ve,8):np[ae][ge][de][Ce],_e.Wc[ae][ge].Yb[de][Ce]=Fe;for(ge=0;17>ge;++ge)_e.Xc[ae][ge]=_e.Wc[ae][Fh[ge]]}return K.kc=Q(ve),K.kc&&(K.Bd=A(ve,8)),K.cb=1}function An(K,ee,ae,de,ge,ve,_e){var Ce=ee[ge].Yb[ae];for(ae=0;16>ge;++ge){if(!q(K,Ce[ae+0]))return ge;for(;!q(K,Ce[ae+1]);)if(Ce=ee[++ge].Yb[0],ae=0,ge==16)return 16;var Ie=ee[ge+1].Yb;if(q(K,Ce[ae+2])){var Fe=K,Qe=0;if(q(Fe,(ft=Ce)[(ht=ae)+3]))if(q(Fe,ft[ht+6])){for(Ce=0,ht=2*(Qe=q(Fe,ft[ht+8]))+(ft=q(Fe,ft[ht+9+Qe])),Qe=0,ft=rp[ht];ft[Ce];++Ce)Qe+=Qe+q(Fe,ft[Ce]);Qe+=3+(8<<ht)}else q(Fe,ft[ht+7])?(Qe=7+2*q(Fe,165),Qe+=q(Fe,145)):Qe=5+q(Fe,159);else Qe=q(Fe,ft[ht+4])?3+q(Fe,ft[ht+5]):2;Ce=Ie[2]}else Qe=1,Ce=Ie[1];Ie=_e+Sg[ge],0>(Fe=K).b&&V(Fe);var ht,ft=Fe.b,lt=(ht=Fe.Ca>>1)-(Fe.I>>ft)>>31;--Fe.b,Fe.Ca+=lt,Fe.Ca|=1,Fe.I-=(ht+1&lt)<<ft,ve[Ie]=((Qe^lt)-lt)*de[(0<ge)+0]}return 16}function Vn(K){var ee=K.rb[K.sb-1];ee.la=0,ee.Na=0,s(K.zc,0,0,K.zc.length),K.ja=0}function Ms(K,ee){if(K==null)return 0;if(ee==null)return _r(K,2,"NULL VP8Io parameter in VP8Decode().");if(!K.cb&&!sn(K,ee))return 0;if(r(K.cb),ee.ac==null||ee.ac(ee)){ee.ob&&(K.L=0);var ae=No[K.L];if(K.L==2?(K.yb=0,K.zb=0):(K.yb=ee.v-ae>>4,K.zb=ee.j-ae>>4,0>K.yb&&(K.yb=0),0>K.zb&&(K.zb=0)),K.Va=ee.o+15+ae>>4,K.Hb=ee.va+15+ae>>4,K.Hb>K.za&&(K.Hb=K.za),K.Va>K.Ub&&(K.Va=K.Ub),0<K.L){var de=K.ed;for(ae=0;4>ae;++ae){var ge;if(K.Qa.Cb){var ve=K.Qa.Lb[ae];K.Qa.Fb||(ve+=de.Tb)}else ve=de.Tb;for(ge=0;1>=ge;++ge){var _e=K.gd[ae][ge],Ce=ve;if(de.Pc&&(Ce+=de.vd[0],ge&&(Ce+=de.od[0])),0<(Ce=0>Ce?0:63<Ce?63:Ce)){var Ie=Ce;0<de.wb&&(Ie=4<de.wb?Ie>>2:Ie>>1)>9-de.wb&&(Ie=9-de.wb),1>Ie&&(Ie=1),_e.dd=Ie,_e.tc=2*Ce+Ie,_e.ld=40<=Ce?2:15<=Ce?1:0}else _e.tc=0;_e.La=ge}}}ae=0}else _r(K,6,"Frame setup failed"),ae=K.a;if(ae=ae==0){if(ae){K.$c=0,0<K.Aa||(K.Ic=U5);e:{ae=K.Ic,de=4*(Ie=K.za);var Fe=32*Ie,Qe=Ie+1,ht=0<K.L?Ie*(0<K.Aa?2:1):0,ft=(K.Aa==2?2:1)*Ie;if((_e=de+832+(ge=3*(16*ae+No[K.L])/2*Fe)+(ve=K.Fa!=null&&0<K.Fa.length?K.Kc.c*K.Kc.i:0))!=_e)ae=0;else{if(_e>K.Vb){if(K.Vb=0,K.Ec=a(_e),K.Fc=0,K.Ec==null){ae=_r(K,1,"no memory during frame initialization.");break e}K.Vb=_e}_e=K.Ec,Ce=K.Fc,K.Ac=_e,K.Bc=Ce,Ce+=de,K.Gd=i(Fe,Tr),K.Hd=0,K.rb=i(Qe+1,Et),K.sb=1,K.wa=ht?i(ht,mt):null,K.Y=0,K.D.Nb=0,K.D.wa=K.wa,K.D.Y=K.Y,0<K.Aa&&(K.D.Y+=Ie),r(!0),K.oc=_e,K.pc=Ce,Ce+=832,K.ya=i(ft,Ht),K.aa=0,K.D.ya=K.ya,K.D.aa=K.aa,K.Aa==2&&(K.D.aa+=Ie),K.R=16*Ie,K.B=8*Ie,Ie=(Fe=No[K.L])*K.R,Fe=Fe/2*K.B,K.sa=_e,K.ta=Ce+Ie,K.qa=K.sa,K.ra=K.ta+16*ae*K.R+Fe,K.Ha=K.qa,K.Ia=K.ra+8*ae*K.B+Fe,K.$c=0,Ce+=ge,K.mb=ve?_e:null,K.nb=ve?Ce:null,r(Ce+ve<=K.Fc+K.Vb),Vn(K),s(K.Ac,K.Bc,0,de),ae=1}}if(ae){if(ee.ka=0,ee.y=K.sa,ee.O=K.ta,ee.f=K.qa,ee.N=K.ra,ee.ea=K.Ha,ee.Vd=K.Ia,ee.fa=K.R,ee.Rc=K.B,ee.F=null,ee.J=0,!dd){for(ae=-255;255>=ae;++ae)oa[255+ae]=0>ae?-ae:ae;for(ae=-1020;1020>=ae;++ae)lc[1020+ae]=-128>ae?-128:127<ae?127:ae;for(ae=-112;112>=ae;++ae)lu[112+ae]=-16>ae?-16:15<ae?15:ae;for(ae=-255;510>=ae;++ae)Zi[255+ae]=0>ae?0:255<ae?255:ae;dd=1}Vo=vo,st=an,gt=Wr,Kt=ri,xr=ni,yt=xi,ln=xa,Ts=El,kn=Rh,oc=Xc,ud=Ph,ia=ec,Nl=Jc,Mh=wa,So=Ih,$o=$n,ou=Xi,Xr=Sl,Go[0]=Da,Go[1]=Vs,Go[2]=Zl,Go[3]=wl,Go[4]=Ch,Go[5]=_l,Go[6]=Dh,Go[7]=rd,Go[8]=Jf,Go[9]=Xf,cu[0]=xl,cu[1]=xo,cu[2]=Wa,cu[3]=za,cu[4]=ms,cu[5]=Jl,cu[6]=Uo,cc[0]=dn,cc[1]=si,cc[2]=Zf,cc[3]=nd,cc[4]=Ql,cc[5]=Qf,cc[6]=sd,ae=1}else ae=0}ae&&(ae=function(lt,It){for(lt.M=0;lt.M<lt.Va;++lt.M){var xt,Je=lt.Jc[lt.M&lt.Xb],nt=lt.m,Dt=lt;for(xt=0;xt<Dt.za;++xt){var Bt=nt,jt=Dt,Qt=jt.Ac,Xt=jt.Bc+4*xt,pr=jt.zc,Gt=jt.ya[jt.aa+xt];if(jt.Qa.Bb?Gt.$b=q(Bt,jt.Pa.jb[0])?2+q(Bt,jt.Pa.jb[2]):q(Bt,jt.Pa.jb[1]):Gt.$b=0,jt.kc&&(Gt.Ad=q(Bt,jt.Bd)),Gt.Za=!q(Bt,145)+0,Gt.Za){var Cn=Gt.Ob,Mn=0;for(jt=0;4>jt;++jt){var mn,Jr=pr[0+jt];for(mn=0;4>mn;++mn){Jr=sp[Qt[Xt+mn]][Jr];for(var gn=bd[q(Bt,Jr[0])];0<gn;)gn=bd[2*gn+q(Bt,Jr[gn])];Jr=-gn,Qt[Xt+mn]=Jr}e(Cn,Mn,Qt,Xt,4),Mn+=4,pr[0+jt]=Jr}}else Jr=q(Bt,156)?q(Bt,128)?1:3:q(Bt,163)?2:0,Gt.Ob[0]=Jr,s(Qt,Xt,Jr,4),s(pr,0,Jr,4);Gt.Dd=q(Bt,142)?q(Bt,114)?q(Bt,183)?1:3:2:0}if(Dt.m.Ka)return _r(lt,7,"Premature end-of-partition0 encountered.");for(;lt.ja<lt.za;++lt.ja){if(Dt=Je,Bt=(nt=lt).rb[nt.sb-1],Qt=nt.rb[nt.sb+nt.ja],xt=nt.ya[nt.aa+nt.ja],Xt=nt.kc?xt.Ad:0)Bt.la=Qt.la=0,xt.Za||(Bt.Na=Qt.Na=0),xt.Hc=0,xt.Gc=0,xt.ia=0;else{var Hn,Vr;if(Bt=Qt,Qt=Dt,Xt=nt.Pa.Xc,pr=nt.ya[nt.aa+nt.ja],Gt=nt.pb[pr.$b],jt=pr.ad,Cn=0,Mn=nt.rb[nt.sb-1],Jr=mn=0,s(jt,Cn,0,384),pr.Za)var Ss=0,Si=Xt[3];else{gn=a(16);var Bs=Bt.Na+Mn.Na;if(Bs=gd(Qt,Xt[1],Bs,Gt.Eb,0,gn,0),Bt.Na=Mn.Na=(0<Bs)+0,1<Bs)Vo(gn,0,jt,Cn);else{var On=gn[0]+3>>3;for(gn=0;256>gn;gn+=16)jt[Cn+gn]=On}Ss=1,Si=Xt[0]}var Dn=15&Bt.la,Ei=15&Mn.la;for(gn=0;4>gn;++gn){var js=1&Ei;for(On=Vr=0;4>On;++On)Dn=Dn>>1|(js=(Bs=gd(Qt,Si,Bs=js+(1&Dn),Gt.Sc,Ss,jt,Cn))>Ss)<<7,Vr=Vr<<2|(3<Bs?3:1<Bs?2:jt[Cn+0]!=0),Cn+=16;Dn>>=4,Ei=Ei>>1|js<<7,mn=(mn<<8|Vr)>>>0}for(Si=Dn,Ss=Ei>>4,Hn=0;4>Hn;Hn+=2){for(Vr=0,Dn=Bt.la>>4+Hn,Ei=Mn.la>>4+Hn,gn=0;2>gn;++gn){for(js=1&Ei,On=0;2>On;++On)Bs=js+(1&Dn),Dn=Dn>>1|(js=0<(Bs=gd(Qt,Xt[2],Bs,Gt.Qc,0,jt,Cn)))<<3,Vr=Vr<<2|(3<Bs?3:1<Bs?2:jt[Cn+0]!=0),Cn+=16;Dn>>=2,Ei=Ei>>1|js<<5}Jr|=Vr<<4*Hn,Si|=Dn<<4<<Hn,Ss|=(240&Ei)<<Hn}Bt.la=Si,Mn.la=Ss,pr.Hc=mn,pr.Gc=Jr,pr.ia=43690&Jr?0:Gt.ia,Xt=!(mn|Jr)}if(0<nt.L&&(nt.wa[nt.Y+nt.ja]=nt.gd[xt.$b][xt.Za],nt.wa[nt.Y+nt.ja].La|=!Xt),Dt.Ka)return _r(lt,7,"Premature end-of-file encountered.")}if(Vn(lt),nt=It,Dt=1,xt=(Je=lt).D,Bt=0<Je.L&&Je.M>=Je.zb&&Je.M<=Je.Va,Je.Aa==0)e:{if(xt.M=Je.M,xt.uc=Bt,eu(Je,xt),Dt=1,xt=(Vr=Je.D).Nb,Bt=(Jr=No[Je.L])*Je.R,Qt=Jr/2*Je.B,gn=16*xt*Je.R,On=8*xt*Je.B,Xt=Je.sa,pr=Je.ta-Bt+gn,Gt=Je.qa,jt=Je.ra-Qt+On,Cn=Je.Ha,Mn=Je.Ia-Qt+On,Ei=(Dn=Vr.M)==0,mn=Dn>=Je.Va-1,Je.Aa==2&&eu(Je,Vr),Vr.uc)for(js=(Bs=Je).D.M,r(Bs.D.uc),Vr=Bs.yb;Vr<Bs.Hb;++Vr){Ss=Vr,Si=js;var Gs=(Ys=(Is=Bs).D).Nb;Hn=Is.R;var Ys=Ys.wa[Ys.Y+Ss],Us=Is.sa,to=Is.ta+16*Gs*Hn+16*Ss,ys=Ys.dd,Ks=Ys.tc;if(Ks!=0)if(r(3<=Ks),Is.L==1)0<Ss&&$o(Us,to,Hn,Ks+4),Ys.La&&Xr(Us,to,Hn,Ks),0<Si&&So(Us,to,Hn,Ks+4),Ys.La&&ou(Us,to,Hn,Ks);else{var dc=Is.B,vd=Is.qa,Bh=Is.ra+8*Gs*dc+8*Ss,kl=Is.Ha,Is=Is.Ia+8*Gs*dc+8*Ss;Gs=Ys.ld,0<Ss&&(Ts(Us,to,Hn,Ks+4,ys,Gs),oc(vd,Bh,kl,Is,dc,Ks+4,ys,Gs)),Ys.La&&(ia(Us,to,Hn,Ks,ys,Gs),Mh(vd,Bh,kl,Is,dc,Ks,ys,Gs)),0<Si&&(ln(Us,to,Hn,Ks+4,ys,Gs),kn(vd,Bh,kl,Is,dc,Ks+4,ys,Gs)),Ys.La&&(ud(Us,to,Hn,Ks,ys,Gs),Nl(vd,Bh,kl,Is,dc,Ks,ys,Gs))}}if(Je.ia&&alert("todo:DitherRow"),nt.put!=null){if(Vr=16*Dn,Dn=16*(Dn+1),Ei?(nt.y=Je.sa,nt.O=Je.ta+gn,nt.f=Je.qa,nt.N=Je.ra+On,nt.ea=Je.Ha,nt.W=Je.Ia+On):(Vr-=Jr,nt.y=Xt,nt.O=pr,nt.f=Gt,nt.N=jt,nt.ea=Cn,nt.W=Mn),mn||(Dn-=Jr),Dn>nt.o&&(Dn=nt.o),nt.F=null,nt.J=null,Je.Fa!=null&&0<Je.Fa.length&&Vr<Dn&&(nt.J=tc(Je,nt,Vr,Dn-Vr),nt.F=Je.mb,nt.F==null&&nt.F.length==0)){Dt=_r(Je,3,"Could not decode alpha data.");break e}Vr<nt.j&&(Jr=nt.j-Vr,Vr=nt.j,r(!(1&Jr)),nt.O+=Je.R*Jr,nt.N+=Je.B*(Jr>>1),nt.W+=Je.B*(Jr>>1),nt.F!=null&&(nt.J+=nt.width*Jr)),Vr<Dn&&(nt.O+=nt.v,nt.N+=nt.v>>1,nt.W+=nt.v>>1,nt.F!=null&&(nt.J+=nt.v),nt.ka=Vr-nt.j,nt.U=nt.va-nt.v,nt.T=Dn-Vr,Dt=nt.put(nt))}xt+1!=Je.Ic||mn||(e(Je.sa,Je.ta-Bt,Xt,pr+16*Je.R,Bt),e(Je.qa,Je.ra-Qt,Gt,jt+8*Je.B,Qt),e(Je.Ha,Je.Ia-Qt,Cn,Mn+8*Je.B,Qt))}if(!Dt)return _r(lt,6,"Output aborted.")}return 1}(K,ee)),ee.bc!=null&&ee.bc(ee),ae&=1}return ae?(K.cb=0,ae):0}function as(K,ee,ae,de,ge){ge=K[ee+ae+32*de]+(ge>>3),K[ee+ae+32*de]=-256&ge?0>ge?0:255:ge}function sa(K,ee,ae,de,ge,ve){as(K,ee,0,ae,de+ge),as(K,ee,1,ae,de+ve),as(K,ee,2,ae,de-ve),as(K,ee,3,ae,de-ge)}function Xn(K){return(20091*K>>16)+K}function vi(K,ee,ae,de){var ge,ve=0,_e=a(16);for(ge=0;4>ge;++ge){var Ce=K[ee+0]+K[ee+8],Ie=K[ee+0]-K[ee+8],Fe=(35468*K[ee+4]>>16)-Xn(K[ee+12]),Qe=Xn(K[ee+4])+(35468*K[ee+12]>>16);_e[ve+0]=Ce+Qe,_e[ve+1]=Ie+Fe,_e[ve+2]=Ie-Fe,_e[ve+3]=Ce-Qe,ve+=4,ee++}for(ge=ve=0;4>ge;++ge)Ce=(K=_e[ve+0]+4)+_e[ve+8],Ie=K-_e[ve+8],Fe=(35468*_e[ve+4]>>16)-Xn(_e[ve+12]),as(ae,de,0,0,Ce+(Qe=Xn(_e[ve+4])+(35468*_e[ve+12]>>16))),as(ae,de,1,0,Ie+Fe),as(ae,de,2,0,Ie-Fe),as(ae,de,3,0,Ce-Qe),ve++,de+=32}function xi(K,ee,ae,de){var ge=K[ee+0]+4,ve=35468*K[ee+4]>>16,_e=Xn(K[ee+4]),Ce=35468*K[ee+1]>>16;sa(ae,de,0,ge+_e,K=Xn(K[ee+1]),Ce),sa(ae,de,1,ge+ve,K,Ce),sa(ae,de,2,ge-ve,K,Ce),sa(ae,de,3,ge-_e,K,Ce)}function an(K,ee,ae,de,ge){vi(K,ee,ae,de),ge&&vi(K,ee+16,ae,de+4)}function Wr(K,ee,ae,de){st(K,ee+0,ae,de,1),st(K,ee+32,ae,de+128,1)}function ri(K,ee,ae,de){var ge;for(K=K[ee+0]+4,ge=0;4>ge;++ge)for(ee=0;4>ee;++ee)as(ae,de,ee,ge,K)}function ni(K,ee,ae,de){K[ee+0]&&Kt(K,ee+0,ae,de),K[ee+16]&&Kt(K,ee+16,ae,de+4),K[ee+32]&&Kt(K,ee+32,ae,de+128),K[ee+48]&&Kt(K,ee+48,ae,de+128+4)}function vo(K,ee,ae,de){var ge,ve=a(16);for(ge=0;4>ge;++ge){var _e=K[ee+0+ge]+K[ee+12+ge],Ce=K[ee+4+ge]+K[ee+8+ge],Ie=K[ee+4+ge]-K[ee+8+ge],Fe=K[ee+0+ge]-K[ee+12+ge];ve[0+ge]=_e+Ce,ve[8+ge]=_e-Ce,ve[4+ge]=Fe+Ie,ve[12+ge]=Fe-Ie}for(ge=0;4>ge;++ge)_e=(K=ve[0+4*ge]+3)+ve[3+4*ge],Ce=ve[1+4*ge]+ve[2+4*ge],Ie=ve[1+4*ge]-ve[2+4*ge],Fe=K-ve[3+4*ge],ae[de+0]=_e+Ce>>3,ae[de+16]=Fe+Ie>>3,ae[de+32]=_e-Ce>>3,ae[de+48]=Fe-Ie>>3,de+=64}function ks(K,ee,ae){var de,ge=ee-32,ve=_i,_e=255-K[ge-1];for(de=0;de<ae;++de){var Ce,Ie=ve,Fe=_e+K[ee-1];for(Ce=0;Ce<ae;++Ce)K[ee+Ce]=Ie[Fe+K[ge+Ce]];ee+=32}}function Vs(K,ee){ks(K,ee,4)}function si(K,ee){ks(K,ee,8)}function xo(K,ee){ks(K,ee,16)}function Wa(K,ee){var ae;for(ae=0;16>ae;++ae)e(K,ee+32*ae,K,ee-32,16)}function za(K,ee){var ae;for(ae=16;0<ae;--ae)s(K,ee,K[ee-1],16),ee+=32}function va(K,ee,ae){var de;for(de=0;16>de;++de)s(ee,ae+32*de,K,16)}function xl(K,ee){var ae,de=16;for(ae=0;16>ae;++ae)de+=K[ee-1+32*ae]+K[ee+ae-32];va(de>>5,K,ee)}function ms(K,ee){var ae,de=8;for(ae=0;16>ae;++ae)de+=K[ee-1+32*ae];va(de>>4,K,ee)}function Jl(K,ee){var ae,de=8;for(ae=0;16>ae;++ae)de+=K[ee+ae-32];va(de>>4,K,ee)}function Uo(K,ee){va(128,K,ee)}function Dr(K,ee,ae){return K+2*ee+ae+2>>2}function Zl(K,ee){var ae,de=ee-32;for(de=new Uint8Array([Dr(K[de-1],K[de+0],K[de+1]),Dr(K[de+0],K[de+1],K[de+2]),Dr(K[de+1],K[de+2],K[de+3]),Dr(K[de+2],K[de+3],K[de+4])]),ae=0;4>ae;++ae)e(K,ee+32*ae,de,0,de.length)}function wl(K,ee){var ae=K[ee-1],de=K[ee-1+32],ge=K[ee-1+64],ve=K[ee-1+96];z(K,ee+0,16843009*Dr(K[ee-1-32],ae,de)),z(K,ee+32,16843009*Dr(ae,de,ge)),z(K,ee+64,16843009*Dr(de,ge,ve)),z(K,ee+96,16843009*Dr(ge,ve,ve))}function Da(K,ee){var ae,de=4;for(ae=0;4>ae;++ae)de+=K[ee+ae-32]+K[ee-1+32*ae];for(de>>=3,ae=0;4>ae;++ae)s(K,ee+32*ae,de,4)}function Ch(K,ee){var ae=K[ee-1+0],de=K[ee-1+32],ge=K[ee-1+64],ve=K[ee-1-32],_e=K[ee+0-32],Ce=K[ee+1-32],Ie=K[ee+2-32],Fe=K[ee+3-32];K[ee+0+96]=Dr(de,ge,K[ee-1+96]),K[ee+1+96]=K[ee+0+64]=Dr(ae,de,ge),K[ee+2+96]=K[ee+1+64]=K[ee+0+32]=Dr(ve,ae,de),K[ee+3+96]=K[ee+2+64]=K[ee+1+32]=K[ee+0+0]=Dr(_e,ve,ae),K[ee+3+64]=K[ee+2+32]=K[ee+1+0]=Dr(Ce,_e,ve),K[ee+3+32]=K[ee+2+0]=Dr(Ie,Ce,_e),K[ee+3+0]=Dr(Fe,Ie,Ce)}function Dh(K,ee){var ae=K[ee+1-32],de=K[ee+2-32],ge=K[ee+3-32],ve=K[ee+4-32],_e=K[ee+5-32],Ce=K[ee+6-32],Ie=K[ee+7-32];K[ee+0+0]=Dr(K[ee+0-32],ae,de),K[ee+1+0]=K[ee+0+32]=Dr(ae,de,ge),K[ee+2+0]=K[ee+1+32]=K[ee+0+64]=Dr(de,ge,ve),K[ee+3+0]=K[ee+2+32]=K[ee+1+64]=K[ee+0+96]=Dr(ge,ve,_e),K[ee+3+32]=K[ee+2+64]=K[ee+1+96]=Dr(ve,_e,Ce),K[ee+3+64]=K[ee+2+96]=Dr(_e,Ce,Ie),K[ee+3+96]=Dr(Ce,Ie,Ie)}function _l(K,ee){var ae=K[ee-1+0],de=K[ee-1+32],ge=K[ee-1+64],ve=K[ee-1-32],_e=K[ee+0-32],Ce=K[ee+1-32],Ie=K[ee+2-32],Fe=K[ee+3-32];K[ee+0+0]=K[ee+1+64]=ve+_e+1>>1,K[ee+1+0]=K[ee+2+64]=_e+Ce+1>>1,K[ee+2+0]=K[ee+3+64]=Ce+Ie+1>>1,K[ee+3+0]=Ie+Fe+1>>1,K[ee+0+96]=Dr(ge,de,ae),K[ee+0+64]=Dr(de,ae,ve),K[ee+0+32]=K[ee+1+96]=Dr(ae,ve,_e),K[ee+1+32]=K[ee+2+96]=Dr(ve,_e,Ce),K[ee+2+32]=K[ee+3+96]=Dr(_e,Ce,Ie),K[ee+3+32]=Dr(Ce,Ie,Fe)}function rd(K,ee){var ae=K[ee+0-32],de=K[ee+1-32],ge=K[ee+2-32],ve=K[ee+3-32],_e=K[ee+4-32],Ce=K[ee+5-32],Ie=K[ee+6-32],Fe=K[ee+7-32];K[ee+0+0]=ae+de+1>>1,K[ee+1+0]=K[ee+0+64]=de+ge+1>>1,K[ee+2+0]=K[ee+1+64]=ge+ve+1>>1,K[ee+3+0]=K[ee+2+64]=ve+_e+1>>1,K[ee+0+32]=Dr(ae,de,ge),K[ee+1+32]=K[ee+0+96]=Dr(de,ge,ve),K[ee+2+32]=K[ee+1+96]=Dr(ge,ve,_e),K[ee+3+32]=K[ee+2+96]=Dr(ve,_e,Ce),K[ee+3+64]=Dr(_e,Ce,Ie),K[ee+3+96]=Dr(Ce,Ie,Fe)}function Xf(K,ee){var ae=K[ee-1+0],de=K[ee-1+32],ge=K[ee-1+64],ve=K[ee-1+96];K[ee+0+0]=ae+de+1>>1,K[ee+2+0]=K[ee+0+32]=de+ge+1>>1,K[ee+2+32]=K[ee+0+64]=ge+ve+1>>1,K[ee+1+0]=Dr(ae,de,ge),K[ee+3+0]=K[ee+1+32]=Dr(de,ge,ve),K[ee+3+32]=K[ee+1+64]=Dr(ge,ve,ve),K[ee+3+64]=K[ee+2+64]=K[ee+0+96]=K[ee+1+96]=K[ee+2+96]=K[ee+3+96]=ve}function Jf(K,ee){var ae=K[ee-1+0],de=K[ee-1+32],ge=K[ee-1+64],ve=K[ee-1+96],_e=K[ee-1-32],Ce=K[ee+0-32],Ie=K[ee+1-32],Fe=K[ee+2-32];K[ee+0+0]=K[ee+2+32]=ae+_e+1>>1,K[ee+0+32]=K[ee+2+64]=de+ae+1>>1,K[ee+0+64]=K[ee+2+96]=ge+de+1>>1,K[ee+0+96]=ve+ge+1>>1,K[ee+3+0]=Dr(Ce,Ie,Fe),K[ee+2+0]=Dr(_e,Ce,Ie),K[ee+1+0]=K[ee+3+32]=Dr(ae,_e,Ce),K[ee+1+32]=K[ee+3+64]=Dr(de,ae,_e),K[ee+1+64]=K[ee+3+96]=Dr(ge,de,ae),K[ee+1+96]=Dr(ve,ge,de)}function Zf(K,ee){var ae;for(ae=0;8>ae;++ae)e(K,ee+32*ae,K,ee-32,8)}function nd(K,ee){var ae;for(ae=0;8>ae;++ae)s(K,ee,K[ee-1],8),ee+=32}function bn(K,ee,ae){var de;for(de=0;8>de;++de)s(ee,ae+32*de,K,8)}function dn(K,ee){var ae,de=8;for(ae=0;8>ae;++ae)de+=K[ee+ae-32]+K[ee-1+32*ae];bn(de>>4,K,ee)}function Qf(K,ee){var ae,de=4;for(ae=0;8>ae;++ae)de+=K[ee+ae-32];bn(de>>3,K,ee)}function Ql(K,ee){var ae,de=4;for(ae=0;8>ae;++ae)de+=K[ee-1+32*ae];bn(de>>3,K,ee)}function sd(K,ee){bn(128,K,ee)}function Kc(K,ee,ae){var de=K[ee-ae],ge=K[ee+0],ve=3*(ge-de)+c0[1020+K[ee-2*ae]-K[ee+ae]],_e=hd[112+(ve+4>>3)];K[ee-ae]=_i[255+de+hd[112+(ve+3>>3)]],K[ee+0]=_i[255+ge-_e]}function Th(K,ee,ae,de){var ge=K[ee+0],ve=K[ee+ae];return Qi[255+K[ee-2*ae]-K[ee-ae]]>de||Qi[255+ve-ge]>de}function jh(K,ee,ae,de){return 4*Qi[255+K[ee-ae]-K[ee+0]]+Qi[255+K[ee-2*ae]-K[ee+ae]]<=de}function ad(K,ee,ae,de,ge){var ve=K[ee-3*ae],_e=K[ee-2*ae],Ce=K[ee-ae],Ie=K[ee+0],Fe=K[ee+ae],Qe=K[ee+2*ae],ht=K[ee+3*ae];return 4*Qi[255+Ce-Ie]+Qi[255+_e-Fe]>de?0:Qi[255+K[ee-4*ae]-ve]<=ge&&Qi[255+ve-_e]<=ge&&Qi[255+_e-Ce]<=ge&&Qi[255+ht-Qe]<=ge&&Qi[255+Qe-Fe]<=ge&&Qi[255+Fe-Ie]<=ge}function Ih(K,ee,ae,de){var ge=2*de+1;for(de=0;16>de;++de)jh(K,ee+de,ae,ge)&&Kc(K,ee+de,ae)}function $n(K,ee,ae,de){var ge=2*de+1;for(de=0;16>de;++de)jh(K,ee+de*ae,1,ge)&&Kc(K,ee+de*ae,1)}function Xi(K,ee,ae,de){var ge;for(ge=3;0<ge;--ge)Ih(K,ee+=4*ae,ae,de)}function Sl(K,ee,ae,de){var ge;for(ge=3;0<ge;--ge)$n(K,ee+=4,ae,de)}function Ho(K,ee,ae,de,ge,ve,_e,Ce){for(ve=2*ve+1;0<ge--;){if(ad(K,ee,ae,ve,_e))if(Th(K,ee,ae,Ce))Kc(K,ee,ae);else{var Ie=K,Fe=ee,Qe=ae,ht=Ie[Fe-2*Qe],ft=Ie[Fe-Qe],lt=Ie[Fe+0],It=Ie[Fe+Qe],xt=Ie[Fe+2*Qe],Je=27*(Dt=c0[1020+3*(lt-ft)+c0[1020+ht-It]])+63>>7,nt=18*Dt+63>>7,Dt=9*Dt+63>>7;Ie[Fe-3*Qe]=_i[255+Ie[Fe-3*Qe]+Dt],Ie[Fe-2*Qe]=_i[255+ht+nt],Ie[Fe-Qe]=_i[255+ft+Je],Ie[Fe+0]=_i[255+lt-Je],Ie[Fe+Qe]=_i[255+It-nt],Ie[Fe+2*Qe]=_i[255+xt-Dt]}ee+=de}}function ai(K,ee,ae,de,ge,ve,_e,Ce){for(ve=2*ve+1;0<ge--;){if(ad(K,ee,ae,ve,_e))if(Th(K,ee,ae,Ce))Kc(K,ee,ae);else{var Ie=K,Fe=ee,Qe=ae,ht=Ie[Fe-Qe],ft=Ie[Fe+0],lt=Ie[Fe+Qe],It=hd[112+((xt=3*(ft-ht))+4>>3)],xt=hd[112+(xt+3>>3)],Je=It+1>>1;Ie[Fe-2*Qe]=_i[255+Ie[Fe-2*Qe]+Je],Ie[Fe-Qe]=_i[255+ht+xt],Ie[Fe+0]=_i[255+ft-It],Ie[Fe+Qe]=_i[255+lt-Je]}ee+=de}}function xa(K,ee,ae,de,ge,ve){Ho(K,ee,ae,1,16,de,ge,ve)}function El(K,ee,ae,de,ge,ve){Ho(K,ee,1,ae,16,de,ge,ve)}function Ph(K,ee,ae,de,ge,ve){var _e;for(_e=3;0<_e;--_e)ai(K,ee+=4*ae,ae,1,16,de,ge,ve)}function ec(K,ee,ae,de,ge,ve){var _e;for(_e=3;0<_e;--_e)ai(K,ee+=4,1,ae,16,de,ge,ve)}function Rh(K,ee,ae,de,ge,ve,_e,Ce){Ho(K,ee,ge,1,8,ve,_e,Ce),Ho(ae,de,ge,1,8,ve,_e,Ce)}function Xc(K,ee,ae,de,ge,ve,_e,Ce){Ho(K,ee,1,ge,8,ve,_e,Ce),Ho(ae,de,1,ge,8,ve,_e,Ce)}function Jc(K,ee,ae,de,ge,ve,_e,Ce){ai(K,ee+4*ge,ge,1,8,ve,_e,Ce),ai(ae,de+4*ge,ge,1,8,ve,_e,Ce)}function wa(K,ee,ae,de,ge,ve,_e,Ce){ai(K,ee+4,1,ge,8,ve,_e,Ce),ai(ae,de+4,1,ge,8,ve,_e,Ce)}function Zc(){this.ba=new er,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new tr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function _a(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function id(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function od(){this.ua=0,this.Wa=new ie,this.vb=new ie,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new I,this.yc=new H}function wo(){this.xb=this.a=0,this.l=new Nr,this.ca=new er,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new od,this.ab=0,this.gc=i(4,id),this.Oc=0}function qo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Nr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Wo(K,ee,ae,de,ge,ve,_e){for(K=K==null?0:K[ee+0],ee=0;ee<_e;++ee)ge[ve+ee]=K+ae[de+ee]&255,K=ge[ve+ee]}function Rn(K,ee,ae,de,ge,ve,_e){var Ce;if(K==null)Wo(null,null,ae,de,ge,ve,_e);else for(Ce=0;Ce<_e;++Ce)ge[ve+Ce]=K[ee+Ce]+ae[de+Ce]&255}function Ta(K,ee,ae,de,ge,ve,_e){if(K==null)Wo(null,null,ae,de,ge,ve,_e);else{var Ce,Ie=K[ee+0],Fe=Ie,Qe=Ie;for(Ce=0;Ce<_e;++Ce)Fe=Qe+(Ie=K[ee+Ce])-Fe,Qe=ae[de+Ce]+(-256&Fe?0>Fe?0:255:Fe)&255,Fe=Ie,ge[ve+Ce]=Qe}}function tc(K,ee,ae,de){var ge=ee.width,ve=ee.o;if(r(K!=null&&ee!=null),0>ae||0>=de||ae+de>ve)return null;if(!K.Cc){if(K.ga==null){var _e;if(K.ga=new qo,(_e=K.ga==null)||(_e=ee.width*ee.o,r(K.Gb.length==0),K.Gb=a(_e),K.Uc=0,K.Gb==null?_e=0:(K.mb=K.Gb,K.nb=K.Uc,K.rc=null,_e=1),_e=!_e),!_e){_e=K.ga;var Ce=K.Fa,Ie=K.P,Fe=K.qc,Qe=K.mb,ht=K.nb,ft=Ie+1,lt=Fe-1,It=_e.l;if(r(Ce!=null&&Qe!=null&&ee!=null),Yo[0]=null,Yo[1]=Wo,Yo[2]=Rn,Yo[3]=Ta,_e.ca=Qe,_e.tb=ht,_e.c=ee.width,_e.i=ee.height,r(0<_e.c&&0<_e.i),1>=Fe)ee=0;else if(_e.$a=Ce[Ie+0]>>0&3,_e.Z=Ce[Ie+0]>>2&3,_e.Lc=Ce[Ie+0]>>4&3,Ie=Ce[Ie+0]>>6&3,0>_e.$a||1<_e.$a||4<=_e.Z||1<_e.Lc||Ie)ee=0;else if(It.put=wr,It.ac=Jt,It.bc=Lr,It.ma=_e,It.width=ee.width,It.height=ee.height,It.Da=ee.Da,It.v=ee.v,It.va=ee.va,It.j=ee.j,It.o=ee.o,_e.$a)e:{r(_e.$a==1),ee=ot();t:for(;;){if(ee==null){ee=0;break e}if(r(_e!=null),_e.mc=ee,ee.c=_e.c,ee.i=_e.i,ee.l=_e.l,ee.l.ma=_e,ee.l.width=_e.c,ee.l.height=_e.i,ee.a=0,E(ee.m,Ce,ft,lt),!Ke(_e.c,_e.i,1,ee,null)||(ee.ab==1&&ee.gc[0].hc==3&&Se(ee.s)?(_e.ic=1,Ce=ee.c*ee.i,ee.Ta=null,ee.Ua=0,ee.V=a(Ce),ee.Ba=0,ee.V==null?(ee.a=1,ee=0):ee=1):(_e.ic=0,ee=et(ee,_e.c)),!ee))break t;ee=1;break e}_e.mc=null,ee=0}else ee=lt>=_e.c*_e.i;_e=!ee}if(_e)return null;K.ga.Lc!=1?K.Ga=0:de=ve-ae}r(K.ga!=null),r(ae+de<=ve);e:{if(ee=(Ce=K.ga).c,ve=Ce.l.o,Ce.$a==0){if(ft=K.rc,lt=K.Vc,It=K.Fa,Ie=K.P+1+ae*ee,Fe=K.mb,Qe=K.nb+ae*ee,r(Ie<=K.P+K.qc),Ce.Z!=0)for(r(Yo[Ce.Z]!=null),_e=0;_e<de;++_e)Yo[Ce.Z](ft,lt,It,Ie,Fe,Qe,ee),ft=Fe,lt=Qe,Qe+=ee,Ie+=ee;else for(_e=0;_e<de;++_e)e(Fe,Qe,It,Ie,ee),ft=Fe,lt=Qe,Qe+=ee,Ie+=ee;K.rc=ft,K.Vc=lt}else{if(r(Ce.mc!=null),ee=ae+de,r((_e=Ce.mc)!=null),r(ee<=_e.i),_e.C>=ee)ee=1;else if(Ce.ic||dt(),Ce.ic){Ce=_e.V,ft=_e.Ba,lt=_e.c;var xt=_e.i,Je=(It=1,Ie=_e.$/lt,Fe=_e.$%lt,Qe=_e.m,ht=_e.s,_e.$),nt=lt*xt,Dt=lt*ee,Bt=ht.wc,jt=Je<Dt?rt(ht,Fe,Ie):null;r(Je<=nt),r(ee<=xt),r(Se(ht));t:for(;;){for(;!Qe.h&&Je<Dt;){if(Fe&Bt||(jt=rt(ht,Fe,Ie)),r(jt!=null),J(Qe),256>(xt=lr(jt.G[0],jt.H[0],Qe)))Ce[ft+Je]=xt,++Je,++Fe>=lt&&(Fe=0,++Ie<=ee&&!(Ie%16)&&Pe(_e,Ie));else{if(!(280>xt)){It=0;break t}xt=Er(xt-256,Qe);var Qt,Xt=lr(jt.G[4],jt.H[4],Qe);if(J(Qe),!(Je>=(Xt=Cr(lt,Xt=Er(Xt,Qe)))&&nt-Je>=xt)){It=0;break t}for(Qt=0;Qt<xt;++Qt)Ce[ft+Je+Qt]=Ce[ft+Je+Qt-Xt];for(Je+=xt,Fe+=xt;Fe>=lt;)Fe-=lt,++Ie<=ee&&!(Ie%16)&&Pe(_e,Ie);Je<Dt&&Fe&Bt&&(jt=rt(ht,Fe,Ie))}r(Qe.h==G(Qe))}Pe(_e,Ie>ee?ee:Ie);break t}!It||Qe.h&&Je<nt?(It=0,_e.a=Qe.h?5:3):_e.$=Je,ee=It}else ee=Re(_e,_e.V,_e.Ba,_e.c,_e.i,ee,ct);if(!ee){de=0;break e}}ae+de>=ve&&(K.Cc=1),de=1}if(!de)return null;if(K.Cc&&((de=K.ga)!=null&&(de.mc=null),K.ga=null,0<K.Ga))return alert("todo:WebPDequantizeLevels"),null}return K.nb+ae*ge}function se(K,ee,ae,de,ge,ve){for(;0<ge--;){var _e,Ce=K,Ie=ee+(ae?1:0),Fe=K,Qe=ee+(ae?0:3);for(_e=0;_e<de;++_e){var ht=Fe[Qe+4*_e];ht!=255&&(ht*=32897,Ce[Ie+4*_e+0]=Ce[Ie+4*_e+0]*ht>>23,Ce[Ie+4*_e+1]=Ce[Ie+4*_e+1]*ht>>23,Ce[Ie+4*_e+2]=Ce[Ie+4*_e+2]*ht>>23)}ee+=ve}}function me(K,ee,ae,de,ge){for(;0<de--;){var ve;for(ve=0;ve<ae;++ve){var _e=K[ee+2*ve+0],Ce=15&(Fe=K[ee+2*ve+1]),Ie=4369*Ce,Fe=(240&Fe|Fe>>4)*Ie>>16;K[ee+2*ve+0]=(240&_e|_e>>4)*Ie>>16&240|(15&_e|_e<<4)*Ie>>16>>4&15,K[ee+2*ve+1]=240&Fe|Ce}ee+=ge}}function Be(K,ee,ae,de,ge,ve,_e,Ce){var Ie,Fe,Qe=255;for(Fe=0;Fe<ge;++Fe){for(Ie=0;Ie<de;++Ie){var ht=K[ee+Ie];ve[_e+4*Ie]=ht,Qe&=ht}ee+=ae,_e+=Ce}return Qe!=255}function Xe(K,ee,ae,de,ge){var ve;for(ve=0;ve<ge;++ve)ae[de+ve]=K[ee+ve]>>8}function dt(){Eo=se,Zn=me,Un=Be,Fs=Xe}function _t(K,ee,ae){R[K]=function(de,ge,ve,_e,Ce,Ie,Fe,Qe,ht,ft,lt,It,xt,Je,nt,Dt,Bt){var jt,Qt=Bt-1>>1,Xt=Ce[Ie+0]|Fe[Qe+0]<<16,pr=ht[ft+0]|lt[It+0]<<16;r(de!=null);var Gt=3*Xt+pr+131074>>2;for(ee(de[ge+0],255&Gt,Gt>>16,xt,Je),ve!=null&&(Gt=3*pr+Xt+131074>>2,ee(ve[_e+0],255&Gt,Gt>>16,nt,Dt)),jt=1;jt<=Qt;++jt){var Cn=Ce[Ie+jt]|Fe[Qe+jt]<<16,Mn=ht[ft+jt]|lt[It+jt]<<16,mn=Xt+Cn+pr+Mn+524296,Jr=mn+2*(Cn+pr)>>3;Gt=Jr+Xt>>1,Xt=(mn=mn+2*(Xt+Mn)>>3)+Cn>>1,ee(de[ge+2*jt-1],255&Gt,Gt>>16,xt,Je+(2*jt-1)*ae),ee(de[ge+2*jt-0],255&Xt,Xt>>16,xt,Je+(2*jt-0)*ae),ve!=null&&(Gt=mn+pr>>1,Xt=Jr+Mn>>1,ee(ve[_e+2*jt-1],255&Gt,Gt>>16,nt,Dt+(2*jt-1)*ae),ee(ve[_e+2*jt+0],255&Xt,Xt>>16,nt,Dt+(2*jt+0)*ae)),Xt=Cn,pr=Mn}1&Bt||(Gt=3*Xt+pr+131074>>2,ee(de[ge+Bt-1],255&Gt,Gt>>16,xt,Je+(Bt-1)*ae),ve!=null&&(Gt=3*pr+Xt+131074>>2,ee(ve[_e+Bt-1],255&Gt,Gt>>16,nt,Dt+(Bt-1)*ae)))}}function Ut(){Ya[fd]=Yv,Ya[ep]=yd,Ya[Oh]=Te,Ya[Al]=ap,Ya[pd]=eo,Ya[xg]=on,Ya[zv]=I5,Ya[wg]=yd,Ya[Lh]=ap,Ya[md]=eo,Ya[tp]=on}function Zt(K){return K&~P5?0>K?0:255:K>>Kv}function br(K,ee){return Zt((19077*K>>8)+(26149*ee>>8)-14234)}function Ur(K,ee,ae){return Zt((19077*K>>8)-(6419*ee>>8)-(13320*ae>>8)+8708)}function Fr(K,ee){return Zt((19077*K>>8)+(33050*ee>>8)-17685)}function tn(K,ee,ae,de,ge){de[ge+0]=br(K,ae),de[ge+1]=Ur(K,ee,ae),de[ge+2]=Fr(K,ee)}function Jn(K,ee,ae,de,ge){de[ge+0]=Fr(K,ee),de[ge+1]=Ur(K,ee,ae),de[ge+2]=br(K,ae)}function us(K,ee,ae,de,ge){var ve=Ur(K,ee,ae);ee=ve<<3&224|Fr(K,ee)>>3,de[ge+0]=248&br(K,ae)|ve>>5,de[ge+1]=ee}function Cs(K,ee,ae,de,ge){var ve=240&Fr(K,ee)|15;de[ge+0]=240&br(K,ae)|Ur(K,ee,ae)>>4,de[ge+1]=ve}function Os(K,ee,ae,de,ge){de[ge+0]=255,tn(K,ee,ae,de,ge+1)}function gs(K,ee,ae,de,ge){Jn(K,ee,ae,de,ge),de[ge+3]=255}function Ji(K,ee,ae,de,ge){tn(K,ee,ae,de,ge),de[ge+3]=255}function Va(K,ee){return 0>K?0:K>ee?ee:K}function bs(K,ee,ae){R[K]=function(de,ge,ve,_e,Ce,Ie,Fe,Qe,ht){for(var ft=Qe+(-2&ht)*ae;Qe!=ft;)ee(de[ge+0],ve[_e+0],Ce[Ie+0],Fe,Qe),ee(de[ge+1],ve[_e+0],Ce[Ie+0],Fe,Qe+ae),ge+=2,++_e,++Ie,Qe+=2*ae;1&ht&&ee(de[ge+0],ve[_e+0],Ce[Ie+0],Fe,Qe)}}function Qc(K,ee,ae){return ae==0?K==0?ee==0?6:5:ee==0?4:0:ae}function zo(K,ee,ae,de,ge){switch(K>>>30){case 3:st(ee,ae,de,ge,0);break;case 2:yt(ee,ae,de,ge);break;case 1:Kt(ee,ae,de,ge)}}function eu(K,ee){var ae,de,ge=ee.M,ve=ee.Nb,_e=K.oc,Ce=K.pc+40,Ie=K.oc,Fe=K.pc+584,Qe=K.oc,ht=K.pc+600;for(ae=0;16>ae;++ae)_e[Ce+32*ae-1]=129;for(ae=0;8>ae;++ae)Ie[Fe+32*ae-1]=129,Qe[ht+32*ae-1]=129;for(0<ge?_e[Ce-1-32]=Ie[Fe-1-32]=Qe[ht-1-32]=129:(s(_e,Ce-32-1,127,21),s(Ie,Fe-32-1,127,9),s(Qe,ht-32-1,127,9)),de=0;de<K.za;++de){var ft=ee.ya[ee.aa+de];if(0<de){for(ae=-1;16>ae;++ae)e(_e,Ce+32*ae-4,_e,Ce+32*ae+12,4);for(ae=-1;8>ae;++ae)e(Ie,Fe+32*ae-4,Ie,Fe+32*ae+4,4),e(Qe,ht+32*ae-4,Qe,ht+32*ae+4,4)}var lt=K.Gd,It=K.Hd+de,xt=ft.ad,Je=ft.Hc;if(0<ge&&(e(_e,Ce-32,lt[It].y,0,16),e(Ie,Fe-32,lt[It].f,0,8),e(Qe,ht-32,lt[It].ea,0,8)),ft.Za){var nt=_e,Dt=Ce-32+16;for(0<ge&&(de>=K.za-1?s(nt,Dt,lt[It].y[15],4):e(nt,Dt,lt[It+1].y,0,4)),ae=0;4>ae;ae++)nt[Dt+128+ae]=nt[Dt+256+ae]=nt[Dt+384+ae]=nt[Dt+0+ae];for(ae=0;16>ae;++ae,Je<<=2)nt=_e,Dt=Ce+Jv[ae],Go[ft.Ob[ae]](nt,Dt),zo(Je,xt,16*+ae,nt,Dt)}else if(nt=Qc(de,ge,ft.Ob[0]),cu[nt](_e,Ce),Je!=0)for(ae=0;16>ae;++ae,Je<<=2)zo(Je,xt,16*+ae,_e,Ce+Jv[ae]);for(ae=ft.Gc,nt=Qc(de,ge,ft.Dd),cc[nt](Ie,Fe),cc[nt](Qe,ht),Je=xt,nt=Ie,Dt=Fe,255&(ft=ae>>0)&&(170&ft?gt(Je,256,nt,Dt):xr(Je,256,nt,Dt)),ft=Qe,Je=ht,255&(ae>>=8)&&(170&ae?gt(xt,320,ft,Je):xr(xt,320,ft,Je)),ge<K.Ub-1&&(e(lt[It].y,0,_e,Ce+480,16),e(lt[It].f,0,Ie,Fe+224,8),e(lt[It].ea,0,Qe,ht+224,8)),ae=8*ve*K.B,lt=K.sa,It=K.ta+16*de+16*ve*K.R,xt=K.qa,ft=K.ra+8*de+ae,Je=K.Ha,nt=K.Ia+8*de+ae,ae=0;16>ae;++ae)e(lt,It+ae*K.R,_e,Ce+32*ae,16);for(ae=0;8>ae;++ae)e(xt,ft+ae*K.B,Ie,Fe+32*ae,8),e(Je,nt+ae*K.B,Qe,ht+32*ae,8)}}function rc(K,ee,ae,de,ge,ve,_e,Ce,Ie){var Fe=[0],Qe=[0],ht=0,ft=Ie!=null?Ie.kd:0,lt=Ie??new _a;if(K==null||12>ae)return 7;lt.data=K,lt.w=ee,lt.ha=ae,ee=[ee],ae=[ae],lt.gb=[lt.gb];e:{var It=ee,xt=ae,Je=lt.gb;if(r(K!=null),r(xt!=null),r(Je!=null),Je[0]=0,12<=xt[0]&&!t(K,It[0],"RIFF")){if(t(K,It[0]+8,"WEBP")){Je=3;break e}var nt=le(K,It[0]+4);if(12>nt||4294967286<nt){Je=3;break e}if(ft&&nt>xt[0]-8){Je=7;break e}Je[0]=nt,It[0]+=12,xt[0]-=12}Je=0}if(Je!=0)return Je;for(nt=0<lt.gb[0],ae=ae[0];;){e:{var Dt=K;xt=ee,Je=ae;var Bt=Fe,jt=Qe,Qt=It=[0];if((Gt=ht=[ht])[0]=0,8>Je[0])Je=7;else{if(!t(Dt,xt[0],"VP8X")){if(le(Dt,xt[0]+4)!=10){Je=3;break e}if(18>Je[0]){Je=7;break e}var Xt=le(Dt,xt[0]+8),pr=1+re(Dt,xt[0]+12);if(2147483648<=pr*(Dt=1+re(Dt,xt[0]+15))){Je=3;break e}Qt!=null&&(Qt[0]=Xt),Bt!=null&&(Bt[0]=pr),jt!=null&&(jt[0]=Dt),xt[0]+=18,Je[0]-=18,Gt[0]=1}Je=0}}if(ht=ht[0],It=It[0],Je!=0)return Je;if(xt=!!(2&It),!nt&&ht)return 3;if(ve!=null&&(ve[0]=!!(16&It)),_e!=null&&(_e[0]=xt),Ce!=null&&(Ce[0]=0),_e=Fe[0],It=Qe[0],ht&&xt&&Ie==null){Je=0;break}if(4>ae){Je=7;break}if(nt&&ht||!nt&&!ht&&!t(K,ee[0],"ALPH")){ae=[ae],lt.na=[lt.na],lt.P=[lt.P],lt.Sa=[lt.Sa];e:{Xt=K,Je=ee,nt=ae;var Gt=lt.gb;Bt=lt.na,jt=lt.P,Qt=lt.Sa,pr=22,r(Xt!=null),r(nt!=null),Dt=Je[0];var Cn=nt[0];for(r(Bt!=null),r(Qt!=null),Bt[0]=null,jt[0]=null,Qt[0]=0;;){if(Je[0]=Dt,nt[0]=Cn,8>Cn){Je=7;break e}var Mn=le(Xt,Dt+4);if(4294967286<Mn){Je=3;break e}var mn=8+Mn+1&-2;if(pr+=mn,0<Gt&&pr>Gt){Je=3;break e}if(!t(Xt,Dt,"VP8 ")||!t(Xt,Dt,"VP8L")){Je=0;break e}if(Cn[0]<mn){Je=7;break e}t(Xt,Dt,"ALPH")||(Bt[0]=Xt,jt[0]=Dt+8,Qt[0]=Mn),Dt+=mn,Cn-=mn}}if(ae=ae[0],lt.na=lt.na[0],lt.P=lt.P[0],lt.Sa=lt.Sa[0],Je!=0)break}ae=[ae],lt.Ja=[lt.Ja],lt.xa=[lt.xa];e:if(Gt=K,Je=ee,nt=ae,Bt=lt.gb[0],jt=lt.Ja,Qt=lt.xa,Xt=Je[0],Dt=!t(Gt,Xt,"VP8 "),pr=!t(Gt,Xt,"VP8L"),r(Gt!=null),r(nt!=null),r(jt!=null),r(Qt!=null),8>nt[0])Je=7;else{if(Dt||pr){if(Gt=le(Gt,Xt+4),12<=Bt&&Gt>Bt-12){Je=3;break e}if(ft&&Gt>nt[0]-8){Je=7;break e}jt[0]=Gt,Je[0]+=8,nt[0]-=8,Qt[0]=pr}else Qt[0]=5<=nt[0]&&Gt[Xt+0]==47&&!(Gt[Xt+4]>>5),jt[0]=nt[0];Je=0}if(ae=ae[0],lt.Ja=lt.Ja[0],lt.xa=lt.xa[0],ee=ee[0],Je!=0)break;if(4294967286<lt.Ja)return 3;if(Ce==null||xt||(Ce[0]=lt.xa?2:1),_e=[_e],It=[It],lt.xa){if(5>ae){Je=7;break}Ce=_e,ft=It,xt=ve,K==null||5>ae?K=0:5<=ae&&K[ee+0]==47&&!(K[ee+4]>>5)?(nt=[0],Gt=[0],Bt=[0],E(jt=new j,K,ee,ae),Lt(jt,nt,Gt,Bt)?(Ce!=null&&(Ce[0]=nt[0]),ft!=null&&(ft[0]=Gt[0]),xt!=null&&(xt[0]=Bt[0]),K=1):K=0):K=0}else{if(10>ae){Je=7;break}Ce=It,K==null||10>ae||!nn(K,ee+3,ae-3)?K=0:(ft=K[ee+0]|K[ee+1]<<8|K[ee+2]<<16,xt=16383&(K[ee+7]<<8|K[ee+6]),K=16383&(K[ee+9]<<8|K[ee+8]),1&ft||3<(ft>>1&7)||!(ft>>4&1)||ft>>5>=lt.Ja||!xt||!K?K=0:(_e&&(_e[0]=xt),Ce&&(Ce[0]=K),K=1))}if(!K||(_e=_e[0],It=It[0],ht&&(Fe[0]!=_e||Qe[0]!=It)))return 3;Ie!=null&&(Ie[0]=lt,Ie.offset=ee-Ie.w,r(4294967286>ee-Ie.w),r(Ie.offset==Ie.ha-ae));break}return Je==0||Je==7&&ht&&Ie==null?(ve!=null&&(ve[0]|=lt.na!=null&&0<lt.na.length),de!=null&&(de[0]=_e),ge!=null&&(ge[0]=It),0):Je}function ld(K,ee,ae){var de=ee.width,ge=ee.height,ve=0,_e=0,Ce=de,Ie=ge;if(ee.Da=K!=null&&0<K.Da,ee.Da&&(Ce=K.cd,Ie=K.bd,ve=K.v,_e=K.j,11>ae||(ve&=-2,_e&=-2),0>ve||0>_e||0>=Ce||0>=Ie||ve+Ce>de||_e+Ie>ge))return 0;if(ee.v=ve,ee.j=_e,ee.va=ve+Ce,ee.o=_e+Ie,ee.U=Ce,ee.T=Ie,ee.da=K!=null&&0<K.da,ee.da){if(!ye(Ce,Ie,ae=[K.ib],ve=[K.hb]))return 0;ee.ib=ae[0],ee.hb=ve[0]}return ee.ob=K!=null&&K.ob,ee.Kb=K==null||!K.Sd,ee.da&&(ee.ob=ee.ib<3*de/4&&ee.hb<3*ge/4,ee.Kb=0),1}function cd(K){if(K==null)return 2;if(11>K.S){var ee=K.f.RGBA;ee.fb+=(K.height-1)*ee.A,ee.A=-ee.A}else ee=K.f.kb,K=K.height,ee.O+=(K-1)*ee.fa,ee.fa=-ee.fa,ee.N+=(K-1>>1)*ee.Ab,ee.Ab=-ee.Ab,ee.W+=(K-1>>1)*ee.Db,ee.Db=-ee.Db,ee.F!=null&&(ee.J+=(K-1)*ee.lb,ee.lb=-ee.lb);return 0}function tu(K,ee,ae,de){if(de==null||0>=K||0>=ee)return 2;if(ae!=null){if(ae.Da){var ge=ae.cd,ve=ae.bd,_e=-2&ae.v,Ce=-2&ae.j;if(0>_e||0>Ce||0>=ge||0>=ve||_e+ge>K||Ce+ve>ee)return 2;K=ge,ee=ve}if(ae.da){if(!ye(K,ee,ge=[ae.ib],ve=[ae.hb]))return 2;K=ge[0],ee=ve[0]}}de.width=K,de.height=ee;e:{var Ie=de.width,Fe=de.height;if(K=de.S,0>=Ie||0>=Fe||!(K>=fd&&13>K))K=2;else{if(0>=de.Rd&&de.sd==null){_e=ve=ge=ee=0;var Qe=(Ce=Ie*Zv[K])*Fe;if(11>K||(ve=(Fe+1)/2*(ee=(Ie+1)/2),K==12&&(_e=(ge=Ie)*Fe)),(Fe=a(Qe+2*ve+_e))==null){K=1;break e}de.sd=Fe,11>K?((Ie=de.f.RGBA).eb=Fe,Ie.fb=0,Ie.A=Ce,Ie.size=Qe):((Ie=de.f.kb).y=Fe,Ie.O=0,Ie.fa=Ce,Ie.Fd=Qe,Ie.f=Fe,Ie.N=0+Qe,Ie.Ab=ee,Ie.Cd=ve,Ie.ea=Fe,Ie.W=0+Qe+ve,Ie.Db=ee,Ie.Ed=ve,K==12&&(Ie.F=Fe,Ie.J=0+Qe+2*ve),Ie.Tc=_e,Ie.lb=ge)}if(ee=1,ge=de.S,ve=de.width,_e=de.height,ge>=fd&&13>ge)if(11>ge)K=de.f.RGBA,ee&=(Ce=Math.abs(K.A))*(_e-1)+ve<=K.size,ee&=Ce>=ve*Zv[ge],ee&=K.eb!=null;else{K=de.f.kb,Ce=(ve+1)/2,Qe=(_e+1)/2,Ie=Math.abs(K.fa),Fe=Math.abs(K.Ab);var ht=Math.abs(K.Db),ft=Math.abs(K.lb),lt=ft*(_e-1)+ve;ee&=Ie*(_e-1)+ve<=K.Fd,ee&=Fe*(Qe-1)+Ce<=K.Cd,ee=(ee&=ht*(Qe-1)+Ce<=K.Ed)&Ie>=ve&Fe>=Ce&ht>=Ce,ee&=K.y!=null,ee&=K.f!=null,ee&=K.ea!=null,ge==12&&(ee&=ft>=ve,ee&=lt<=K.Tc,ee&=K.F!=null)}else ee=0;K=ee?0:2}}return K!=0||ae!=null&&ae.fd&&(K=cd(de)),K}var aa=64,Ls=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ds=24,nc=32,ru=8,_s=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];xe("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(K){return K},R.Predictor2=function(K,ee,ae){return ee[ae+0]},R.Predictor3=function(K,ee,ae){return ee[ae+1]},R.Predictor4=function(K,ee,ae){return ee[ae-1]},R.Predictor5=function(K,ee,ae){return Ae(Ae(K,ee[ae+1]),ee[ae+0])},R.Predictor6=function(K,ee,ae){return Ae(K,ee[ae-1])},R.Predictor7=function(K,ee,ae){return Ae(K,ee[ae+0])},R.Predictor8=function(K,ee,ae){return Ae(ee[ae-1],ee[ae+0])},R.Predictor9=function(K,ee,ae){return Ae(ee[ae+0],ee[ae+1])},R.Predictor10=function(K,ee,ae){return Ae(Ae(K,ee[ae-1]),Ae(ee[ae+0],ee[ae+1]))},R.Predictor11=function(K,ee,ae){var de=ee[ae+0];return 0>=Ye(de>>24&255,K>>24&255,(ee=ee[ae-1])>>24&255)+Ye(de>>16&255,K>>16&255,ee>>16&255)+Ye(de>>8&255,K>>8&255,ee>>8&255)+Ye(255&de,255&K,255&ee)?de:K},R.Predictor12=function(K,ee,ae){var de=ee[ae+0];return(Le((K>>24&255)+(de>>24&255)-((ee=ee[ae-1])>>24&255))<<24|Le((K>>16&255)+(de>>16&255)-(ee>>16&255))<<16|Le((K>>8&255)+(de>>8&255)-(ee>>8&255))<<8|Le((255&K)+(255&de)-(255&ee)))>>>0},R.Predictor13=function(K,ee,ae){var de=ee[ae-1];return(He((K=Ae(K,ee[ae+0]))>>24&255,de>>24&255)<<24|He(K>>16&255,de>>16&255)<<16|He(K>>8&255,de>>8&255)<<8|He(K>>0&255,de>>0&255))>>>0};var nu=R.PredictorAdd0;R.PredictorAdd1=it,xe("Predictor2","PredictorAdd2"),xe("Predictor3","PredictorAdd3"),xe("Predictor4","PredictorAdd4"),xe("Predictor5","PredictorAdd5"),xe("Predictor6","PredictorAdd6"),xe("Predictor7","PredictorAdd7"),xe("Predictor8","PredictorAdd8"),xe("Predictor9","PredictorAdd9"),xe("Predictor10","PredictorAdd10"),xe("Predictor11","PredictorAdd11"),xe("Predictor12","PredictorAdd12"),xe("Predictor13","PredictorAdd13");var $s=R.PredictorAdd2;at("ColorIndexInverseTransform","MapARGB","32b",function(K){return K>>8&255},function(K){return K}),at("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(K){return K},function(K){return K>>8&255});var _o,$a=R.ColorIndexInverseTransform,su=R.MapARGB,l0=R.VP8LColorIndexInverseTransformAlpha,sc=R.MapAlpha,Sa=R.VP8LPredictorsAdd=[];Sa.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var au,wi,ii,iu,ac,ic,Vo,st,yt,gt,Kt,xr,ln,Ts,kn,oc,ud,ia,Nl,Mh,So,$o,ou,Xr,Eo,Zn,Un,Fs,oa=a(511),lc=a(2041),lu=a(225),Zi=a(767),dd=0,c0=lc,hd=lu,_i=Zi,Qi=oa,fd=0,ep=1,Oh=2,Al=3,pd=4,xg=5,zv=6,wg=7,Lh=8,md=9,tp=10,k5=[2,3,7],Vv=[3,3,11],$v=[280,256,256,256,40],C5=[0,1,1,1,0],la=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ga=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],D5=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],T5=8,u0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],_g=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],gd=null,rp=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Sg=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],bd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],np=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],sp=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],d0=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Fh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],cu=[],Go=[],cc=[],j5=1,Gv=2,Yo=[],Ya=[];_t("UpsampleRgbLinePair",tn,3),_t("UpsampleBgrLinePair",Jn,3),_t("UpsampleRgbaLinePair",Ji,4),_t("UpsampleBgraLinePair",gs,4),_t("UpsampleArgbLinePair",Os,4),_t("UpsampleRgba4444LinePair",Cs,2),_t("UpsampleRgb565LinePair",us,2);var Yv=R.UpsampleRgbLinePair,Te=R.UpsampleBgrLinePair,yd=R.UpsampleRgbaLinePair,ap=R.UpsampleBgraLinePair,eo=R.UpsampleArgbLinePair,on=R.UpsampleRgba4444LinePair,I5=R.UpsampleRgb565LinePair,h0=16,f0=1<<h0-1,Ko=-227,Eg=482,Kv=6,P5=(256<<Kv)-1,Xv=0,R5=a(256),uc=a(256),M5=a(256),O5=a(256),L5=a(Eg-Ko),F5=a(Eg-Ko);bs("YuvToRgbRow",tn,3),bs("YuvToBgrRow",Jn,3),bs("YuvToRgbaRow",Ji,4),bs("YuvToBgraRow",gs,4),bs("YuvToArgbRow",Os,4),bs("YuvToRgba4444Row",Cs,2),bs("YuvToRgb565Row",us,2);var Jv=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],No=[0,2,8],B5=[8,7,6,4,4,2,2,2,1,1,1,1],U5=1;this.WebPDecodeRGBA=function(K,ee,ae,de,ge){var ve=ep,_e=new Zc,Ce=new er;_e.ba=Ce,Ce.S=ve,Ce.width=[Ce.width],Ce.height=[Ce.height];var Ie=Ce.width,Fe=Ce.height,Qe=new Sr;if(Qe==null||K==null)var ht=2;else r(Qe!=null),ht=rc(K,ee,ae,Qe.width,Qe.height,Qe.Pd,Qe.Qd,Qe.format,null);if(ht!=0?Ie=0:(Ie!=null&&(Ie[0]=Qe.width[0]),Fe!=null&&(Fe[0]=Qe.height[0]),Ie=1),Ie){Ce.width=Ce.width[0],Ce.height=Ce.height[0],de!=null&&(de[0]=Ce.width),ge!=null&&(ge[0]=Ce.height);e:{if(de=new Nr,(ge=new _a).data=K,ge.w=ee,ge.ha=ae,ge.kd=1,ee=[0],r(ge!=null),((K=rc(ge.data,ge.w,ge.ha,null,null,null,ee,null,ge))==0||K==7)&&ee[0]&&(K=4),(ee=K)==0){if(r(_e!=null),de.data=ge.data,de.w=ge.w+ge.offset,de.ha=ge.ha-ge.offset,de.put=wr,de.ac=Jt,de.bc=Lr,de.ma=_e,ge.xa){if((K=ot())==null){_e=1;break e}if(function(ft,lt){var It=[0],xt=[0],Je=[0];t:for(;;){if(ft==null)return 0;if(lt==null)return ft.a=2,0;if(ft.l=lt,ft.a=0,E(ft.m,lt.data,lt.w,lt.ha),!Lt(ft.m,It,xt,Je)){ft.a=3;break t}if(ft.xb=Gv,lt.width=It[0],lt.height=xt[0],!Ke(It[0],xt[0],1,ft,null))break t;return 1}return r(ft.a!=0),0}(K,de)){if(de=(ee=tu(de.width,de.height,_e.Oa,_e.ba))==0){t:{de=K;r:for(;;){if(de==null){de=0;break t}if(r(de.s.yc!=null),r(de.s.Ya!=null),r(0<de.s.Wb),r((ae=de.l)!=null),r((ge=ae.ma)!=null),de.xb!=0){if(de.ca=ge.ba,de.tb=ge.tb,r(de.ca!=null),!ld(ge.Oa,ae,Al)){de.a=2;break r}if(!et(de,ae.width)||ae.da)break r;if((ae.da||Tt(de.ca.S))&&dt(),11>de.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),de.ca.f.kb.F!=null&&dt()),de.Pb&&0<de.s.ua&&de.s.vb.X==null&&!ue(de.s.vb,de.s.Wa.Xa)){de.a=1;break r}de.xb=0}if(!Re(de,de.V,de.Ba,de.c,de.i,ae.o,Ee))break r;ge.Dc=de.Ma,de=1;break t}r(de.a!=0),de=0}de=!de}de&&(ee=K.a)}else ee=K.a}else{if((K=new ir)==null){_e=1;break e}if(K.Fa=ge.na,K.P=ge.P,K.qc=ge.Sa,sn(K,de)){if((ee=tu(de.width,de.height,_e.Oa,_e.ba))==0){if(K.Aa=0,ae=_e.Oa,r((ge=K)!=null),ae!=null){if(0<(Ie=0>(Ie=ae.Md)?0:100<Ie?255:255*Ie/100)){for(Fe=Qe=0;4>Fe;++Fe)12>(ht=ge.pb[Fe]).lc&&(ht.ia=Ie*B5[0>ht.lc?0:ht.lc]>>3),Qe|=ht.ia;Qe&&(alert("todo:VP8InitRandom"),ge.ia=1)}ge.Ga=ae.Id,100<ge.Ga?ge.Ga=100:0>ge.Ga&&(ge.Ga=0)}Ms(K,de)||(ee=K.a)}}else ee=K.a}ee==0&&_e.Oa!=null&&_e.Oa.fd&&(ee=cd(_e.ba))}_e=ee}ve=_e!=0?null:11>ve?Ce.f.RGBA.eb:Ce.f.kb.y}else ve=null;return ve};var Zv=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(R,P){for(var L="",O=0;O<4;O++)L+=String.fromCharCode(R[P++]);return L}function l(R,P){return(R[P+0]<<0|R[P+1]<<8|R[P+2]<<16)>>>0}function d(R,P){return(R[P+0]<<0|R[P+1]<<8|R[P+2]<<16|R[P+3]<<24)>>>0}new u;var p=[0],h=[0],f=[],b=new u,y=n,g=function(R,P){var L={},O=0,H=!1,U=0,I=0;if(L.frames=[],!function(M,G,Y,J){for(var V=0;V<J;V++)if(M[G+V]!=Y.charCodeAt(V))return!0;return!1}(R,P,"RIFF",4)){var F,A;for(d(R,P+=4),P+=8;P<R.length;){var _=c(R,P),E=d(R,P+=4);P+=4;var N=E+(1&E);switch(_){case"VP8 ":case"VP8L":L.frames[O]===void 0&&(L.frames[O]={}),(j=L.frames[O]).src_off=H?I:P-8,j.src_size=U+E+8,O++,H&&(H=!1,U=0,I=0);break;case"VP8X":(j=L.header={}).feature_flags=R[P];var k=P+4;j.canvas_width=1+l(R,k),k+=3,j.canvas_height=1+l(R,k),k+=3;break;case"ALPH":H=!0,U=N+8,I=P-8;break;case"ANIM":(j=L.header).bgcolor=d(R,P),k=P+4,j.loop_count=(F=R)[(A=k)+0]<<0|F[A+1]<<8,k+=2;break;case"ANMF":var B,j;(j=L.frames[O]={}).offset_x=2*l(R,P),P+=3,j.offset_y=2*l(R,P),P+=3,j.width=1+l(R,P),P+=3,j.height=1+l(R,P),P+=3,j.duration=l(R,P),P+=3,B=R[P++],j.dispose=1&B,j.blend=B>>1&1}_!="ANMF"&&(P+=N)}return L}}(y,0);g.response=y,g.rgbaoutput=!0,g.dataurl=!1;var x=g.header?g.header:null,v=g.frames?g.frames:null;if(x){x.loop_counter=x.loop_count,p=[x.canvas_height],h=[x.canvas_width];for(var w=0;w<v.length&&v[w].blend!=0;w++);}var S=v[0],D=b.WebPDecodeRGBA(y,S.src_off,S.src_size,h,p);S.rgba=D,S.imgwidth=h[0],S.imgheight=p[0];for(var T=0;T<h[0]*p[0]*4;T++)f[T]=D[T];return this.width=h,this.height=p,this.data=f,this}(function(n){var r=function(){return typeof b_=="function"},t=function(p,h,f,b){var y=4,g=i;switch(b){case n.image_compression.FAST:y=1,g=a;break;case n.image_compression.MEDIUM:y=6,g=o;break;case n.image_compression.SLOW:y=9,g=u}p=e(p,h,f,g);var x=b_(p,{level:y});return n.__addimage__.arrayBufferToBinaryString(x)},e=function(p,h,f,b){for(var y,g,x,v=p.length/h,w=new Uint8Array(p.length+v),S=l(),D=0;D<v;D+=1){if(x=D*h,y=p.subarray(x,x+h),b)w.set(b(y,f,g),x+D);else{for(var T,R=S.length,P=[];T<R;T+=1)P[T]=S[T](y,f,g);var L=d(P.concat());w.set(P[L],x+D)}g=y}return w},s=function(p){var h=Array.apply([],p);return h.unshift(0),h},a=function(p,h){var f,b=[],y=p.length;b[0]=1;for(var g=0;g<y;g+=1)f=p[g-h]||0,b[g+1]=p[g]-f+256&255;return b},i=function(p,h,f){var b,y=[],g=p.length;y[0]=2;for(var x=0;x<g;x+=1)b=f&&f[x]||0,y[x+1]=p[x]-b+256&255;return y},o=function(p,h,f){var b,y,g=[],x=p.length;g[0]=3;for(var v=0;v<x;v+=1)b=p[v-h]||0,y=f&&f[v]||0,g[v+1]=p[v]+256-(b+y>>>1)&255;return g},u=function(p,h,f){var b,y,g,x,v=[],w=p.length;v[0]=4;for(var S=0;S<w;S+=1)b=p[S-h]||0,y=f&&f[S]||0,g=f&&f[S-h]||0,x=c(b,y,g),v[S+1]=p[S]-x+256&255;return v},c=function(p,h,f){if(p===h&&h===f)return p;var b=Math.abs(h-f),y=Math.abs(p-f),g=Math.abs(p+h-f-f);return b<=y&&b<=g?p:y<=g?h:f},l=function(){return[s,a,i,o,u]},d=function(p){var h=p.map(function(f){return f.reduce(function(b,y){return b+Math.abs(y)},0)});return h.indexOf(Math.min.apply(null,h))};n.processPNG=function(p,h,f,b){var y,g,x,v,w,S,D,T,R,P,L,O,H,U,I,F=this.decode.FLATE_DECODE,A="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(x=new bU(p)).imgData,g=x.bits,y=x.colorSpace,w=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){R=(T=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,L=new Uint8Array(R*x.colors),P=new Uint8Array(R);var _,E=x.pixelBitlength-x.bits;for(U=0,I=0;U<R;U++){for(H=T[U],_=0;_<E;)L[I++]=H>>>_&255,_+=x.bits;P[U]=H>>>_&255}}if(x.bits===16){R=(T=new Uint32Array(x.decodePixels().buffer)).length,L=new Uint8Array(R*(32/x.pixelBitlength)*x.colors),P=new Uint8Array(R*(32/x.pixelBitlength)),O=x.colors>1,U=0,I=0;for(var N=0;U<R;)H=T[U++],L[I++]=H>>>0&255,O&&(L[I++]=H>>>16&255,H=T[U++],L[I++]=H>>>0&255),P[N++]=H>>>16&255;g=8}b!==n.image_compression.NONE&&r()?(p=t(L,x.width*x.colors,x.colors,b),D=t(P,x.width,1,b)):(p=L,D=P,F=void 0)}if(x.colorType===3&&(y=this.color_spaces.INDEXED,S=x.palette,x.transparency.indexed)){var k=x.transparency.indexed,B=0;for(U=0,R=k.length;U<R;++U)B+=k[U];if((B/=255)===R-1&&k.indexOf(0)!==-1)v=[k.indexOf(0)];else if(B!==R){for(T=x.decodePixels(),P=new Uint8Array(T.length),U=0,R=T.length;U<R;U++)P[U]=k[T[U]];D=t(P,x.width,1)}}var j=function(M){var G;switch(M){case n.image_compression.FAST:G=11;break;case n.image_compression.MEDIUM:G=13;break;case n.image_compression.SLOW:G=14;break;default:G=12}return G}(b);return F===this.decode.FLATE_DECODE&&(A="/Predictor "+j+" "),A+="/Colors "+w+" /BitsPerComponent "+g+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(D&&this.__addimage__.isArrayBuffer(D)||this.__addimage__.isArrayBufferView(D))&&(D=this.__addimage__.arrayBufferToBinaryString(D)),{alias:f,data:p,index:h,filter:F,decodeParameters:A,transparency:v,palette:S,sMask:D,predictor:j,width:x.width,height:x.height,bitsPerComponent:g,colorSpace:y}}}})(jr.API),function(n){n.processGIF89A=function(r,t,e,s){var a=new yU(r),i=a.width,o=a.height,u=[];a.decodeAndBlitFrameRGBA(0,u);var c={data:u,width:i,height:o},l=new T6(100).encode(c,100);return n.processJPEG.call(this,l,t,e,s)},n.processGIF87A=n.processGIF89A}(jr.API),xc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var r=0;r<n;r++){var t=this.datav.getUint8(this.pos++,!0),e=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[r]={red:s,green:e,blue:t,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},xc.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,r=this.width*this.height*4;this.data=new Uint8Array(r),this[n]()}catch(t){hs.log("bit decode error:"+t)}},xc.prototype.bit1=function(){var n,r=Math.ceil(this.width/8),t=r%4;for(n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,s=0;s<r;s++)for(var a=this.datav.getUint8(this.pos++,!0),i=e*this.width*4+8*s*4,o=0;o<8&&8*s+o<this.width;o++){var u=this.palette[a>>7-o&1];this.data[i+4*o]=u.blue,this.data[i+4*o+1]=u.green,this.data[i+4*o+2]=u.red,this.data[i+4*o+3]=255}t!==0&&(this.pos+=4-t)}},xc.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),r=n%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,s=0;s<n;s++){var a=this.datav.getUint8(this.pos++,!0),i=e*this.width*4+2*s*4,o=a>>4,u=15&a,c=this.palette[o];if(this.data[i]=c.blue,this.data[i+1]=c.green,this.data[i+2]=c.red,this.data[i+3]=255,2*s+1>=this.width)break;c=this.palette[u],this.data[i+4]=c.blue,this.data[i+4+1]=c.green,this.data[i+4+2]=c.red,this.data[i+4+3]=255}r!==0&&(this.pos+=4-r)}},xc.prototype.bit8=function(){for(var n=this.width%4,r=this.height-1;r>=0;r--){for(var t=this.bottom_up?r:this.height-1-r,e=0;e<this.width;e++){var s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*e;if(s<this.palette.length){var i=this.palette[s];this.data[a]=i.red,this.data[a+1]=i.green,this.data[a+2]=i.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}n!==0&&(this.pos+=4-n)}},xc.prototype.bit15=function(){for(var n=this.width%3,r=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(a&r)/r*255|0,o=(a>>5&r)/r*255|0,u=(a>>10&r)/r*255|0,c=a>>15?255:0,l=e*this.width*4+4*s;this.data[l]=u,this.data[l+1]=o,this.data[l+2]=i,this.data[l+3]=c}this.pos+=n}},xc.prototype.bit16=function(){for(var n=this.width%3,r=parseInt("11111",2),t=parseInt("111111",2),e=this.height-1;e>=0;e--){for(var s=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&r)/r*255|0,u=(i>>5&t)/t*255|0,c=(i>>11)/r*255|0,l=s*this.width*4+4*a;this.data[l]=c,this.data[l+1]=u,this.data[l+2]=o,this.data[l+3]=255}this.pos+=n}},xc.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var e=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*t;this.data[i]=a,this.data[i+1]=s,this.data[i+2]=e,this.data[i+3]=255}this.pos+=this.width%4}},xc.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var r=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var e=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*t;this.data[o]=a,this.data[o+1]=s,this.data[o+2]=e,this.data[o+3]=i}},xc.prototype.getData=function(){return this.data},function(n){n.processBMP=function(r,t,e,s){var a=new xc(r,!1),i=a.width,o=a.height,u={data:a.getData(),width:i,height:o},c=new T6(100).encode(u,100);return n.processJPEG.call(this,c,t,e,s)}}(jr.API),y3.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(r,t,e,s){var a=new y3(r),i=a.width,o=a.height,u={data:a.getData(),width:i,height:o},c=new T6(100).encode(u,100);return n.processJPEG.call(this,c,t,e,s)}}(jr.API),jr.API.processRGBA=function(n,r,t){for(var e=n.data,s=e.length,a=new Uint8Array(s/4*3),i=new Uint8Array(s/4),o=0,u=0,c=0;c<s;c+=4){var l=e[c],d=e[c+1],p=e[c+2],h=e[c+3];a[o++]=l,a[o++]=d,a[o++]=p,i[u++]=h}var f=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:f,index:r,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},jr.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},j0=jr.API,B2=j0.getCharWidthsArray=function(n,r){var t,e,s=(r=r||{}).font||this.internal.getFont(),a=r.fontSize||this.internal.getFontSize(),i=r.charSpace||this.internal.getCharSpace(),o=r.widths?r.widths:s.metadata.Unicode.widths,u=o.fof?o.fof:1,c=r.kerning?r.kerning:s.metadata.Unicode.kerning,l=c.fof?c.fof:1,d=r.doKerning!==!1,p=0,h=n.length,f=0,b=o[0]||u,y=[];for(t=0;t<h;t++)e=n.charCodeAt(t),typeof s.metadata.widthOfString=="function"?y.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(e))+i*(1e3/a)||0)/1e3):(p=d&&ss(c[e])==="object"&&!isNaN(parseInt(c[e][f],10))?c[e][f]/l:0,y.push((o[e]||b)/u+p)),f=e;return y},p3=j0.getStringUnitWidth=function(n,r){var t=(r=r||{}).fontSize||this.internal.getFontSize(),e=r.font||this.internal.getFont(),s=r.charSpace||this.internal.getCharSpace();return j0.processArabic&&(n=j0.processArabic(n)),typeof e.metadata.widthOfString=="function"?e.metadata.widthOfString(n,t,s)/t:B2.apply(this,arguments).reduce(function(a,i){return a+i},0)},m3=function(n,r,t,e){for(var s=[],a=0,i=n.length,o=0;a!==i&&o+r[a]<t;)o+=r[a],a++;s.push(n.slice(0,a));var u=a;for(o=0;a!==i;)o+r[a]>e&&(s.push(n.slice(u,a)),o=0,u=a),o+=r[a],a++;return u!==a&&s.push(n.slice(u,a)),s},g3=function(n,r,t){t||(t={});var e,s,a,i,o,u,c,l=[],d=[l],p=t.textIndent||0,h=0,f=0,b=n.split(" "),y=B2.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?b[0].length+2:t.lineIndent||0){var g=Array(u).join(" "),x=[];b.map(function(w){(w=w.split(/\s*\n/)).length>1?x=x.concat(w.map(function(S,D){return(D&&S.length?`
`:"")+S})):x.push(w[0])}),b=x,u=p3.apply(this,[g,t])}for(a=0,i=b.length;a<i;a++){var v=0;if(e=b[a],u&&e[0]==`
`&&(e=e.substr(1),v=1),p+h+(f=(s=B2.apply(this,[e,t])).reduce(function(w,S){return w+S},0))>r||v){if(f>r){for(o=m3.apply(this,[e,s,r-(p+h),r]),l.push(o.shift()),l=[o.pop()];o.length;)d.push([o.shift()]);f=s.slice(e.length-(l[0]?l[0].length:0)).reduce(function(w,S){return w+S},0)}else l=[e];d.push(l),p=f+u,h=y}else l.push(e),p+=h+f,h=y}return c=u?function(w,S){return(S?g:"")+w.join(" ")}:function(w){return w.join(" ")},d.map(c)},j0.splitTextToSize=function(n,r,t){var e,s=(t=t||{}).fontSize||this.internal.getFontSize(),a=(function(l){if(l.widths&&l.kerning)return{widths:l.widths,kerning:l.kerning};var d=this.internal.getFont(l.fontName,l.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);e=Array.isArray(n)?n:String(n).split(/\r?\n/);var i=1*this.internal.scaleFactor*r/s;a.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,a.lineIndent=t.lineIndent;var o,u,c=[];for(o=0,u=e.length;o<u;o++)c=c.concat(g3.apply(this,[e[o],i,a]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var r="klmnopqrstuvwxyz",t={},e={},s=0;s<r.length;s++)t[r[s]]="0123456789abcdef"[s],e["0123456789abcdef"[s]]=r[s];var a=function(d){return"0x"+parseInt(d,10).toString(16)},i=n.__fontmetrics__.compress=function(d){var p,h,f,b,y=["{"];for(var g in d){if(p=d[g],isNaN(parseInt(g,10))?h="'"+g+"'":(g=parseInt(g,10),h=(h=a(g).slice(2)).slice(0,-1)+e[h.slice(-1)]),typeof p=="number")p<0?(f=a(p).slice(3),b="-"):(f=a(p).slice(2),b=""),f=b+f.slice(0,-1)+e[f.slice(-1)];else{if(ss(p)!=="object")throw new Error("Don't know what to do with value type "+ss(p)+".");f=i(p)}y.push(h+f)}return y.push("}"),y.join("")},o=n.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,h,f,b,y={},g=1,x=y,v=[],w="",S="",D=d.length-1,T=1;T<D;T+=1)(b=d[T])=="'"?p?(f=p.join(""),p=void 0):p=[]:p?p.push(b):b=="{"?(v.push([x,f]),x={},f=void 0):b=="}"?((h=v.pop())[0][h[1]]=x,f=void 0,x=h[0]):b=="-"?g=-1:f===void 0?t.hasOwnProperty(b)?(w+=t[b],f=parseInt(w,16)*g,g=1,w=""):w+=b:t.hasOwnProperty(b)?(S+=t[b],x[f]=parseInt(S,16)*g,g=1,f=void 0,S=""):S+=b;return y},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},l={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(d){var p=d.font,h=l.Unicode[p.postScriptName];h&&(p.metadata.Unicode={},p.metadata.Unicode.widths=h.widths,p.metadata.Unicode.kerning=h.kerning);var f=c.Unicode[p.postScriptName];f&&(p.metadata.Unicode.encoding=f,p.encoding=f.codePages[0])}])}(jr.API),function(n){var r=function(t){for(var e=t.length,s=new Uint8Array(e),a=0;a<e;a++)s[a]=t.charCodeAt(a);return s};n.API.events.push(["addFont",function(t){var e=void 0,s=t.font,a=t.instance;if(!s.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(e=a.existsFileInVFS(s.postScriptName)===!1?a.loadFile(s.postScriptName):a.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(i,o){o=/^\x00\x01\x00\x00/.test(o)?r(o):r(lb(o)),i.metadata=n.API.TTFFont.open(o),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]})(s,e)}}])}(jr),function(n){function r(){return(Br.canvg?Promise.resolve(Br.canvg):Ap(()=>import("./index.es-CBSepBFD.js"),__vite__mapDeps([0,1,2,3,4,5]))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}jr.API.addSvgAsImage=function(t,e,s,a,i,o,u,c){if(isNaN(e)||isNaN(s))throw hs.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(i))throw hs.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=a,l.height=i;var d=l.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,l.width,l.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return r().then(function(f){return f.fromString(d,t,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(f){return f.render(p)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),e,s,a,i,u,c)})}}(),jr.API.putTotalPages=function(n){var r,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(r=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(r=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var e=1;e<=this.internal.getNumberOfPages();e++)for(var s=0;s<this.internal.pages[e].length;s++)this.internal.pages[e][s]=this.internal.pages[e][s].replace(r,t);return this},jr.API.viewerPreferences=function(n,r){var t;n=n||{},r=r||!1;var e,s,a,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(i),u=[],c=0,l=0,d=0;function p(f,b){var y,g=!1;for(y=0;y<f.length;y+=1)f[y]===b&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||r===!0){var h=o.length;for(d=0;d<h;d+=1)t[o[d]].value=t[o[d]].defaultValue,t[o[d]].explicitSet=!1}if(ss(n)==="object"){for(s in n)if(a=n[s],p(o,s)&&a!==void 0){if(t[s].type==="boolean"&&typeof a=="boolean")t[s].value=a;else if(t[s].type==="name"&&p(t[s].valueSet,a))t[s].value=a;else if(t[s].type==="integer"&&Number.isInteger(a))t[s].value=a;else if(t[s].type==="array"){for(c=0;c<a.length;c+=1)if(e=!0,a[c].length===1&&typeof a[c][0]=="number")u.push(String(a[c]-1));else if(a[c].length>1){for(l=0;l<a[c].length;l+=1)typeof a[c][l]!="number"&&(e=!1);e===!0&&u.push([a[c][0]-1,a[c][1]-1].join(" "))}t[s].value="["+u.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var f,b=[];for(f in t)t[f].explicitSet===!0&&(t[f].type==="name"?b.push("/"+f+" /"+t[f].value):b.push("/"+f+" "+t[f].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var r=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(e)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),c=a.length+i.length+o.length+s.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(s+a+i+o+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(e,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:e,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",r)),this}}(jr.API),function(n){var r=n.API,t=r.pdfEscape16=function(a,i){for(var o,u=i.metadata.Unicode.widths,c=["","0","00","000","0000"],l=[""],d=0,p=a.length;d<p;++d){if(o=i.metadata.characterToGlyph(a.charCodeAt(d)),i.metadata.glyIdsUsed.push(o),i.metadata.toUnicode[o]=a.charCodeAt(d),u.indexOf(o)==-1&&(u.push(o),u.push([parseInt(i.metadata.widthOfGlyph(o),10)])),o=="0")return l.join("");o=o.toString(16),l.push(c[4-o.length],o)}return l.join("")},e=function(a){var i,o,u,c,l,d,p;for(l=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],d=0,p=(o=Object.keys(a).sort(function(h,f){return h-f})).length;d<p;d++)i=o[d],u.length>=100&&(l+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),a[i]!==void 0&&a[i]!==null&&typeof a[i].toString=="function"&&(c=("0000"+a[i].toString(16)).slice(-4),i=("0000"+(+i).toString(16)).slice(-4),u.push("<"+i+"><"+c+">"));return u.length&&(l+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),l+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};r.events.push(["putFont",function(a){(function(i){var o=i.font,u=i.out,c=i.newObject,l=i.putStream;if(o.metadata instanceof n.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",f=0;f<p.length;f++)h+=String.fromCharCode(p[f]);var b=c();l({data:h,addLength1:!0,objectId:b}),u("endobj");var y=c();l({data:e(o.metadata.toUnicode),addLength1:!0,objectId:y}),u("endobj");var g=c();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+M0(o.fontName)),u("/FontFile2 "+b+" 0 R"),u("/FontBBox "+n.API.PDFObject.convert(o.metadata.bbox)),u("/Flags "+o.metadata.flags),u("/StemV "+o.metadata.stemV),u("/ItalicAngle "+o.metadata.italicAngle),u("/Ascent "+o.metadata.ascender),u("/Descent "+o.metadata.decender),u("/CapHeight "+o.metadata.capHeight),u(">>"),u("endobj");var x=c();u("<<"),u("/Type /Font"),u("/BaseFont /"+M0(o.fontName)),u("/FontDescriptor "+g+" 0 R"),u("/W "+n.API.PDFObject.convert(d)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+o.encoding+")"),u(">>"),u(">>"),u("endobj"),o.objectNumber=c(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+y+" 0 R"),u("/BaseFont /"+M0(o.fontName)),u("/Encoding /"+o.encoding),u("/DescendantFonts ["+x+" 0 R]"),u(">>"),u("endobj"),o.isAlreadyPutted=!0}})(a)}]),r.events.push(["putFont",function(a){(function(i){var o=i.font,u=i.out,c=i.newObject,l=i.putStream;if(o.metadata instanceof n.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,p="",h=0;h<d.length;h++)p+=String.fromCharCode(d[h]);var f=c();l({data:p,addLength1:!0,objectId:f}),u("endobj");var b=c();l({data:e(o.metadata.toUnicode),addLength1:!0,objectId:b}),u("endobj");var y=c();u("<<"),u("/Descent "+o.metadata.decender),u("/CapHeight "+o.metadata.capHeight),u("/StemV "+o.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+f+" 0 R"),u("/Flags 96"),u("/FontBBox "+n.API.PDFObject.convert(o.metadata.bbox)),u("/FontName /"+M0(o.fontName)),u("/ItalicAngle "+o.metadata.italicAngle),u("/Ascent "+o.metadata.ascender),u(">>"),u("endobj"),o.objectNumber=c();for(var g=0;g<o.metadata.hmtx.widths.length;g++)o.metadata.hmtx.widths[g]=parseInt(o.metadata.hmtx.widths[g]*(1e3/o.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+M0(o.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),u("endobj"),o.isAlreadyPutted=!0}})(a)}]);var s=function(a){var i,o=a.text||"",u=a.x,c=a.y,l=a.options||{},d=a.mutex||{},p=d.pdfEscape,h=d.activeFontKey,f=d.fonts,b=h,y="",g=0,x="",v=f[b].encoding;if(f[b].encoding!=="Identity-H")return{text:o,x:u,y:c,options:l,mutex:d};for(x=o,b=h,Array.isArray(o)&&(x=o[0]),g=0;g<x.length;g+=1)f[b].metadata.hasOwnProperty("cmap")&&(i=f[b].metadata.cmap.unicode.codeMap[x[g].charCodeAt(0)]),i||x[g].charCodeAt(0)<256&&f[b].metadata.hasOwnProperty("Unicode")?y+=x[g]:y+="";var w="";return parseInt(b.slice(1))<14||v==="WinAnsiEncoding"?w=p(y,b).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):v==="Identity-H"&&(w=t(y,f[b])),d.isHex=!0,{text:w,x:u,y:c,options:l,mutex:d}};r.events.push(["postProcessText",function(a){var i=a.text||"",o=[],u={text:i,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(i)){var c=0;for(c=0;c<i.length;c+=1)Array.isArray(i[c])&&i[c].length===3?o.push([s(Object.assign({},u,{text:i[c][0]})).text,i[c][1],i[c][2]]):o.push(s(Object.assign({},u,{text:i[c]})).text);a.text=o}else a.text=s(Object.assign({},u,{text:i})).text}])}(jr),function(n){var r=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return r.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,e){return r.call(this),this.internal.vFS[t]=e,this},n.getFileFromVFS=function(t){return r.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(jr.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(e){var s,a,i,o,u,c,l,d=r,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],f={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,v=0;this.__bidiEngine__={};var w=function(O){var H=O.charCodeAt(),U=H>>8,I=b[U];return I!==void 0?d[256*I+(255&H)]:U===252||U===253?"AL":g.test(U)?"L":U===8?"R":"N"},S=function(O){for(var H,U=0;U<O.length;U++){if((H=w(O.charAt(U)))==="L")return!1;if(H==="R")return!0}return!1},D=function(O,H,U,I){var F,A,_,E,N=H[I];switch(N){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(N="AN");break;case"AL":x=!0,N="R";break;case"WS":N="N";break;case"CS":I<1||I+1>=H.length||(F=U[I-1])!=="EN"&&F!=="AN"||(A=H[I+1])!=="EN"&&A!=="AN"?N="N":x&&(A="AN"),N=A===F?A:"N";break;case"ES":N=(F=I>0?U[I-1]:"B")==="EN"&&I+1<H.length&&H[I+1]==="EN"?"EN":"N";break;case"ET":if(I>0&&U[I-1]==="EN"){N="EN";break}if(x){N="N";break}for(_=I+1,E=H.length;_<E&&H[_]==="ET";)_++;N=_<E&&H[_]==="EN"?"EN":"N";break;case"NSM":if(i&&!o){for(E=H.length,_=I+1;_<E&&H[_]==="NSM";)_++;if(_<E){var k=O[I],B=k>=1425&&k<=2303||k===64286;if(F=H[_],B&&(F==="R"||F==="AL")){N="R";break}}}N=I<1||(F=H[I-1])==="B"?"N":U[I-1];break;case"B":x=!1,s=!0,N=v;break;case"S":a=!0,N="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":N="N"}return N},T=function(O,H,U){var I=O.split("");return U&&R(I,U,{hiLevel:v}),I.reverse(),H&&H.reverse(),I.join("")},R=function(O,H,U){var I,F,A,_,E,N=-1,k=O.length,B=0,j=[],M=v?h:p,G=[];for(x=!1,s=!1,a=!1,F=0;F<k;F++)G[F]=w(O[F]);for(A=0;A<k;A++){if(E=B,j[A]=D(O,G,j,A),I=240&(B=M[E][f[j[A]]]),B&=15,H[A]=_=M[B][5],I>0)if(I===16){for(F=N;F<A;F++)H[F]=1;N=-1}else N=-1;if(M[B][6])N===-1&&(N=A);else if(N>-1){for(F=N;F<A;F++)H[F]=_;N=-1}G[A]==="B"&&(H[A]=0),U.hiLevel|=_}a&&function(Y,J,V){for(var Q=0;Q<V;Q++)if(Y[Q]==="S"){J[Q]=v;for(var q=Q-1;q>=0&&Y[q]==="WS";q--)J[q]=v}}(G,H,k)},P=function(O,H,U,I,F){if(!(F.hiLevel<O)){if(O===1&&v===1&&!s)return H.reverse(),void(U&&U.reverse());for(var A,_,E,N,k=H.length,B=0;B<k;){if(I[B]>=O){for(E=B+1;E<k&&I[E]>=O;)E++;for(N=B,_=E-1;N<_;N++,_--)A=H[N],H[N]=H[_],H[_]=A,U&&(A=U[N],U[N]=U[_],U[_]=A);B=E}B++}}},L=function(O,H,U){var I=O.split(""),F={hiLevel:v};return U||(U=[]),R(I,U,F),function(A,_,E){if(E.hiLevel!==0&&l)for(var N,k=0;k<A.length;k++)_[k]===1&&(N=y.indexOf(A[k]))>=0&&(A[k]=y[N+1])}(I,U,F),P(2,I,H,U,F),P(1,I,H,U,F),I.join("")};return this.__bidiEngine__.doBidiReorder=function(O,H,U){if(function(F,A){if(A)for(var _=0;_<F.length;_++)A[_]=_;o===void 0&&(o=S(F)),c===void 0&&(c=S(F))}(O,H),i||!u||c)if(i&&u&&o^c)v=o?1:0,O=T(O,H,U);else if(!i&&u&&c)v=o?1:0,O=L(O,H,U),O=T(O,H);else if(!i||o||u||c){if(i&&!u&&o^c)O=T(O,H),o?(v=0,O=L(O,H,U)):(v=1,O=L(O,H,U),O=T(O,H));else if(i&&o&&!u&&c)v=1,O=L(O,H,U),O=T(O,H);else if(!i&&!u&&o^c){var I=l;o?(v=1,O=L(O,H,U),v=0,l=!1,O=L(O,H,U),l=I):(v=0,O=L(O,H,U),O=T(O,H),v=1,l=!1,O=L(O,H,U),l=I,O=T(O,H))}}else v=0,O=L(O,H,U);else v=o?1:0,O=L(O,H,U);return O},this.__bidiEngine__.setOptions=function(O){O&&(i=O.isInputVisual,u=O.isOutputVisual,o=O.isInputRtl,c=O.isOutputRtl,l=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var r=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(e){var s=e.text,a=(e.x,e.y,e.options||{}),i=(e.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,t.setOptions(a),Object.prototype.toString.call(s)==="[object Array]"){var o=0;for(i=[],o=0;o<s.length;o+=1)Object.prototype.toString.call(s[o])==="[object Array]"?i.push([t.doBidiReorder(s[o][0]),s[o][1],s[o][2]]):i.push([t.doBidiReorder(s[o])]);e.text=i}else e.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])}(jr),jr.API.TTFFont=function(){function n(r){var t;if(this.rawData=r,t=this.contents=new Rf(r),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new PU(this),this.registerTTF()}return n.open=function(r){return new n(r)},n.prototype.parse=function(){return this.directory=new vU(this.contents),this.head=new wU(this),this.name=new AU(this),this.cmap=new nk(this),this.toUnicode={},this.hhea=new _U(this),this.maxp=new kU(this),this.hmtx=new CU(this),this.post=new EU(this),this.os2=new SU(this),this.loca=new IU(this),this.glyf=new DU(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var r,t,e,s,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var i,o,u,c;for(c=[],i=0,o=(u=this.bbox).length;i<o;i++)r=u[i],c.push(Math.round(r*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(e=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+e)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(r){var t;return((t=this.cmap.unicode)!=null?t.codeMap[r]:void 0)||0},n.prototype.widthOfGlyph=function(r){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(r).advance*t},n.prototype.widthOfString=function(r,t,e){var s,a,i,o;for(i=0,a=0,o=(r=""+r).length;0<=o?a<o:a>o;a=0<=o?++a:--a)s=r.charCodeAt(a),i+=this.widthOfGlyph(this.characterToGlyph(s))+e*(1e3/t)||0;return i*(t/1e3)},n.prototype.lineHeight=function(r,t){var e;return t==null&&(t=!1),e=t?this.lineGap:0,(this.ascender+e-this.decender)/1e3*r},n}();var Gc,Rf=function(){function n(r){this.data=r??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(r){return this.data[this.pos++]=r},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(r){return this.writeByte(r>>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt32=function(){var r;return(r=this.readUInt32())>=2147483648?r-4294967296:r},n.prototype.writeInt32=function(r){return r<0&&(r+=4294967296),this.writeUInt32(r)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(r){return this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt16=function(){var r;return(r=this.readUInt16())>=32768?r-65536:r},n.prototype.writeInt16=function(r){return r<0&&(r+=65536),this.writeUInt16(r)},n.prototype.readString=function(r){var t,e;for(e=[],t=0;0<=r?t<r:t>r;t=0<=r?++t:--t)e[t]=String.fromCharCode(this.readByte());return e.join("")},n.prototype.writeString=function(r){var t,e,s;for(s=[],t=0,e=r.length;0<=e?t<e:t>e;t=0<=e?++t:--t)s.push(this.writeByte(r.charCodeAt(t)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(r){return this.writeInt16(r)},n.prototype.readLongLong=function(){var r,t,e,s,a,i,o,u;return r=this.readByte(),t=this.readByte(),e=this.readByte(),s=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),u=this.readByte(),128&r?-1*(72057594037927940*(255^r)+281474976710656*(255^t)+1099511627776*(255^e)+4294967296*(255^s)+16777216*(255^a)+65536*(255^i)+256*(255^o)+(255^u)+1):72057594037927940*r+281474976710656*t+1099511627776*e+4294967296*s+16777216*a+65536*i+256*o+u},n.prototype.writeLongLong=function(r){var t,e;return t=Math.floor(r/4294967296),e=4294967295&r,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(r){return this.writeInt32(r)},n.prototype.read=function(r){var t,e;for(t=[],e=0;0<=r?e<r:e>r;e=0<=r?++e:--e)t.push(this.readByte());return t},n.prototype.write=function(r){var t,e,s,a;for(a=[],e=0,s=r.length;e<s;e++)t=r[e],a.push(this.writeByte(t));return a},n}(),vU=function(){var n;function r(t){var e,s,a;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,a=this.tableCount;0<=a?s<a:s>a;s=0<=a?++s:--s)e={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[e.tag]=e}return r.prototype.encode=function(t){var e,s,a,i,o,u,c,l,d,p,h,f,b;for(b in h=Object.keys(t).length,u=Math.log(2),d=16*Math.floor(Math.log(h)/u),i=Math.floor(d/u),l=16*h-d,(s=new Rf).writeInt(this.scalarType),s.writeShort(h),s.writeShort(d),s.writeShort(i),s.writeShort(l),a=16*h,c=s.pos+a,o=null,f=[],t)for(p=t[b],s.writeString(b),s.writeInt(n(p)),s.writeInt(c),s.writeInt(p.length),f=f.concat(p),b==="head"&&(o=c),c+=p.length;c%4;)f.push(0),c++;return s.write(f),e=2981146554-n(s.data),s.pos=o+8,s.writeUInt32(e),s.data},n=function(t){var e,s,a,i;for(t=sk.call(t);t.length%4;)t.push(0);for(a=new Rf(t),s=0,e=0,i=t.length;e<i;e=e+=4)s+=a.readUInt32();return 4294967295&s},r}(),xU={}.hasOwnProperty,Zu=function(n,r){for(var t in r)xU.call(r,t)&&(n[t]=r[t]);function e(){this.constructor=n}return e.prototype=r.prototype,n.prototype=new e,n.__super__=r.prototype,n};Gc=function(){function n(r){var t;this.file=r,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var wU=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return Zu(r,Gc),r.prototype.tag="head",r.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},r.prototype.encode=function(t){var e;return(e=new Rf).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},r}(),v3=function(){function n(r,t){var e,s,a,i,o,u,c,l,d,p,h,f,b,y,g,x,v;switch(this.platformID=r.readUInt16(),this.encodingID=r.readShort(),this.offset=t+r.readInt(),d=r.pos,r.pos=this.offset,this.format=r.readUInt16(),this.length=r.readUInt16(),this.language=r.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=r.readByte();break;case 4:for(h=r.readUInt16(),p=h/2,r.pos+=6,a=function(){var w,S;for(S=[],u=w=0;0<=p?w<p:w>p;u=0<=p?++w:--w)S.push(r.readUInt16());return S}(),r.pos+=2,b=function(){var w,S;for(S=[],u=w=0;0<=p?w<p:w>p;u=0<=p?++w:--w)S.push(r.readUInt16());return S}(),c=function(){var w,S;for(S=[],u=w=0;0<=p?w<p:w>p;u=0<=p?++w:--w)S.push(r.readUInt16());return S}(),l=function(){var w,S;for(S=[],u=w=0;0<=p?w<p:w>p;u=0<=p?++w:--w)S.push(r.readUInt16());return S}(),s=(this.length-r.pos+this.offset)/2,o=function(){var w,S;for(S=[],u=w=0;0<=s?w<s:w>s;u=0<=s?++w:--w)S.push(r.readUInt16());return S}(),u=g=0,v=a.length;g<v;u=++g)for(y=a[u],e=x=f=b[u];f<=y?x<=y:x>=y;e=f<=y?++x:--x)l[u]===0?i=e+c[u]:(i=o[l[u]/2+(e-f)-(p-u)]||0)!==0&&(i+=c[u]),this.codeMap[e]=65535&i}r.pos=d}return n.encode=function(r,t){var e,s,a,i,o,u,c,l,d,p,h,f,b,y,g,x,v,w,S,D,T,R,P,L,O,H,U,I,F,A,_,E,N,k,B,j,M,G,Y,J,V,Q,q,z,Z,re;switch(I=new Rf,i=Object.keys(r).sort(function(le,ue){return le-ue}),t){case"macroman":for(b=0,y=function(){var le=[];for(f=0;f<256;++f)le.push(0);return le}(),x={0:0},a={},F=0,N=i.length;F<N;F++)x[q=r[s=i[F]]]==null&&(x[q]=++b),a[s]={old:r[s],new:x[r[s]]},y[s]=x[r[s]];return I.writeUInt16(1),I.writeUInt16(0),I.writeUInt32(12),I.writeUInt16(0),I.writeUInt16(262),I.writeUInt16(0),I.write(y),{charMap:a,subtable:I.data,maxGlyphID:b+1};case"unicode":for(H=[],d=[],v=0,x={},e={},g=c=null,A=0,k=i.length;A<k;A++)x[S=r[s=i[A]]]==null&&(x[S]=++v),e[s]={old:S,new:x[S]},o=x[S]-s,g!=null&&o===c||(g&&d.push(g),H.push(s),c=o),g=s;for(g&&d.push(g),d.push(65535),H.push(65535),L=2*(P=H.length),R=2*Math.pow(Math.log(P)/Math.LN2,2),p=Math.log(R/2)/Math.LN2,T=2*P-R,u=[],D=[],h=[],f=_=0,B=H.length;_<B;f=++_){if(O=H[f],l=d[f],O===65535){u.push(0),D.push(0);break}if(O-(U=e[O].new)>=32768)for(u.push(0),D.push(2*(h.length+P-f)),s=E=O;O<=l?E<=l:E>=l;s=O<=l?++E:--E)h.push(e[s].new);else u.push(U-O),D.push(0)}for(I.writeUInt16(3),I.writeUInt16(1),I.writeUInt32(12),I.writeUInt16(4),I.writeUInt16(16+8*P+2*h.length),I.writeUInt16(0),I.writeUInt16(L),I.writeUInt16(R),I.writeUInt16(p),I.writeUInt16(T),V=0,j=d.length;V<j;V++)s=d[V],I.writeUInt16(s);for(I.writeUInt16(0),Q=0,M=H.length;Q<M;Q++)s=H[Q],I.writeUInt16(s);for(z=0,G=u.length;z<G;z++)o=u[z],I.writeUInt16(o);for(Z=0,Y=D.length;Z<Y;Z++)w=D[Z],I.writeUInt16(w);for(re=0,J=h.length;re<J;re++)b=h[re],I.writeUInt16(b);return{charMap:e,subtable:I.data,maxGlyphID:v+1}}},n}(),nk=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return Zu(r,Gc),r.prototype.tag="cmap",r.prototype.parse=function(t){var e,s,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)e=new v3(t,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},r.encode=function(t,e){var s,a;return e==null&&(e="macroman"),s=v3.encode(t,e),(a=new Rf).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},r}(),_U=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return Zu(r,Gc),r.prototype.tag="hhea",r.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},r}(),SU=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return Zu(r,Gc),r.prototype.tag="OS/2",r.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var e,s;for(s=[],e=0;e<10;++e)s.push(t.readByte());return s}(),this.charRange=function(){var e,s;for(s=[],e=0;e<4;++e)s.push(t.readInt());return s}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var e,s;for(s=[],e=0;e<2;e=++e)s.push(t.readInt());return s}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},r}(),EU=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return Zu(r,Gc),r.prototype.tag="post",r.prototype.parse=function(t){var e,s,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var i;for(s=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)e=t.readByte(),a.push(this.names.push(t.readString(e)));return a;case 151552:return s=t.readUInt16(),this.offsets=t.read(s);case 196608:break;case 262144:return this.map=(function(){var o,u,c;for(c=[],i=o=0,u=this.file.maxp.numGlyphs;0<=u?o<u:o>u;i=0<=u?++o:--o)c.push(t.readUInt32());return c}).call(this)}},r}(),NU=function(n,r){this.raw=n,this.length=n.length,this.platformID=r.platformID,this.encodingID=r.encodingID,this.languageID=r.languageID},AU=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return Zu(r,Gc),r.prototype.tag="name",r.prototype.parse=function(t){var e,s,a,i,o,u,c,l,d,p,h;for(t.pos=this.offset,t.readShort(),e=t.readShort(),u=t.readShort(),s=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)s.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+u+t.readShort()});for(c={},i=d=0,p=s.length;d<p;i=++d)a=s[i],t.pos=a.offset,l=t.readString(a.length),o=new NU(l,a),c[h=a.nameID]==null&&(c[h]=[]),c[a.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},r}(),kU=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return Zu(r,Gc),r.prototype.tag="maxp",r.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},r}(),CU=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return Zu(r,Gc),r.prototype.tag="hmtx",r.prototype.parse=function(t){var e,s,a,i,o,u,c;for(t.pos=this.offset,this.metrics=[],e=0,u=this.file.hhea.numberOfMetrics;0<=u?e<u:e>u;e=0<=u?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var l,d;for(d=[],e=l=0;0<=a?l<a:l>a;e=0<=a?++l:--l)d.push(t.readInt16());return d}(),this.widths=(function(){var l,d,p,h;for(h=[],l=0,d=(p=this.metrics).length;l<d;l++)i=p[l],h.push(i.advance);return h}).call(this),s=this.widths[this.widths.length-1],c=[],e=o=0;0<=a?o<a:o>a;e=0<=a?++o:--o)c.push(this.widths.push(s));return c},r.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},r}(),sk=[].slice,DU=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return Zu(r,Gc),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(t){var e,s,a,i,o,u,c,l,d,p;return t in this.cache?this.cache[t]:(i=this.file.loca,e=this.file.contents,s=i.indexOf(t),(a=i.lengthOf(t))===0?this.cache[t]=null:(e.pos=this.offset+s,o=(u=new Rf(e.read(a))).readShort(),l=u.readShort(),p=u.readShort(),c=u.readShort(),d=u.readShort(),this.cache[t]=o===-1?new jU(u,l,p,c,d):new TU(u,o,l,p,c,d),this.cache[t]))},r.prototype.encode=function(t,e,s){var a,i,o,u,c;for(o=[],i=[],u=0,c=e.length;u<c;u++)a=t[e[u]],i.push(o.length),a&&(o=o.concat(a.encode(s)));return i.push(o.length),{table:o,offsets:i}},r}(),TU=function(){function n(r,t,e,s,a,i){this.raw=r,this.numberOfContours=t,this.xMin=e,this.yMin=s,this.xMax=a,this.yMax=i,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),jU=function(){function n(r,t,e,s,a){var i,o;for(this.raw=r,this.xMin=t,this.yMin=e,this.xMax=s,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;o=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&o;)i.pos+=1&o?4:2,128&o?i.pos+=8:64&o?i.pos+=4:8&o&&(i.pos+=2)}return n.prototype.encode=function(){var r,t,e;for(t=new Rf(sk.call(this.raw.data)),r=0,e=this.glyphIDs.length;r<e;++r)t.pos=this.glyphOffsets[r];return t.data},n}(),IU=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return Zu(r,Gc),r.prototype.tag="loca",r.prototype.parse=function(t){var e,s;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?(function(){var a,i;for(i=[],s=0,a=this.length;s<a;s+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],s=0,a=this.length;s<a;s+=4)i.push(t.readUInt32());return i}).call(this)},r.prototype.indexOf=function(t){return this.offsets[t]},r.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},r.prototype.encode=function(t,e){for(var s=new Uint32Array(this.offsets.length),a=0,i=0,o=0;o<s.length;++o)if(s[o]=a,i<e.length&&e[i]==o){++i,s[o]=a;var u=this.offsets[o],c=this.offsets[o+1]-u;c>0&&(a+=c)}for(var l=new Array(4*s.length),d=0;d<s.length;++d)l[4*d+3]=255&s[d],l[4*d+2]=(65280&s[d])>>8,l[4*d+1]=(16711680&s[d])>>16,l[4*d]=(4278190080&s[d])>>24;return l},r}(),PU=function(){function n(r){this.font=r,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var r,t,e,s,a;for(t in s=this.font.cmap.tables[0].codeMap,r={},a=this.subset)e=a[t],r[t]=s[e];return r},n.prototype.glyphsFor=function(r){var t,e,s,a,i,o,u;for(s={},i=0,o=r.length;i<o;i++)s[a=r[i]]=this.font.glyf.glyphFor(a);for(a in t=[],s)(e=s[a])!=null&&e.compound&&t.push.apply(t,e.glyphIDs);if(t.length>0)for(a in u=this.glyphsFor(t))e=u[a],s[a]=e;return s},n.prototype.encode=function(r,t){var e,s,a,i,o,u,c,l,d,p,h,f,b,y,g;for(s in e=nk.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(r),h={0:0},g=e.charMap)h[(u=g[s]).old]=u.new;for(f in p=e.maxGlyphID,i)f in h||(h[f]=p++);return l=function(x){var v,w;for(v in w={},x)w[x[v]]=v;return w}(h),d=Object.keys(l).sort(function(x,v){return x-v}),b=function(){var x,v,w;for(w=[],x=0,v=d.length;x<v;x++)o=d[x],w.push(l[o]);return w}(),a=this.font.glyf.encode(i,b,h),c=this.font.loca.encode(a.offsets,b),y={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},n}();jr.API.PDFObject=function(){var n;function r(){}return n=function(t,e){return(Array(e+1).join("0")+t).slice(-e)},r.convert=function(t){var e,s,a,i;if(Array.isArray(t))return"["+function(){var o,u,c;for(c=[],o=0,u=t.length;o<u;o++)e=t[o],c.push(r.convert(e));return c}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in a=["<<"],t)i=t[s],a.push("/"+s+" "+r.convert(i));return a.push(">>"),a.join(`
`)}return""+t},r}();const RU=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:dU,AcroFormAppearance:dr,AcroFormButton:Fa,AcroFormCheckBox:db,AcroFormChoiceField:Am,AcroFormComboBox:Cm,AcroFormEditBox:cb,AcroFormListBox:km,AcroFormPasswordField:hb,AcroFormPushButton:ub,AcroFormRadioButton:Dm,AcroFormTextField:kf,GState:jb,ShadingPattern:Xh,TilingPattern:kp,default:jr,jsPDF:jr},Symbol.toStringTag,{value:"Module"}));var MU={exports:{}};const OU=TM(RU);(function(n,r){var t={};/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(s,a){n.exports=a(function(){try{return OU}catch{}}())})(typeof globalThis<"u"?globalThis:typeof Ab<"u"?Ab:typeof window<"u"?window:typeof self<"u"?self:t,function(e){return function(){var s={172:function(u,c){var l=this&&this.__extends||function(){var h=function(f,b){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var x in g)Object.prototype.hasOwnProperty.call(g,x)&&(y[x]=g[x])},h(f,b)};return function(f,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");h(f,b);function y(){this.constructor=f}f.prototype=b===null?Object.create(b):(y.prototype=b.prototype,new y)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.CellHookData=c.HookData=void 0;var d=function(){function h(f,b,y){this.table=b,this.pageNumber=b.pageNumber,this.pageCount=this.pageNumber,this.settings=b.settings,this.cursor=y,this.doc=f.getDocument()}return h}();c.HookData=d;var p=function(h){l(f,h);function f(b,y,g,x,v,w){var S=h.call(this,b,y,w)||this;return S.cell=g,S.row=x,S.column=v,S.section=x.section,S}return f}(d);c.CellHookData=p},340:function(u,c,l){Object.defineProperty(c,"__esModule",{value:!0});var d=l(4),p=l(136),h=l(744),f=l(776),b=l(664),y=l(972);function g(x){x.API.autoTable=function(){for(var v=[],w=0;w<arguments.length;w++)v[w]=arguments[w];var S;v.length===1?S=v[0]:(console.error("Use of deprecated autoTable initiation"),S=v[2]||{},S.columns=v[0],S.body=v[1]);var D=(0,f.parseInput)(this,S),T=(0,y.createTable)(this,D);return(0,b.drawTable)(this,T),this},x.API.lastAutoTable=!1,x.API.previousAutoTable=!1,x.API.autoTable.previous=!1,x.API.autoTableText=function(v,w,S,D){(0,p.default)(v,w,S,D,this)},x.API.autoTableSetDefaults=function(v){return h.DocHandler.setDefaults(v,this),this},x.autoTableSetDefaults=function(v,w){h.DocHandler.setDefaults(v,w)},x.API.autoTableHtmlToJson=function(v,w){var S;if(w===void 0&&(w=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var D=new h.DocHandler(this),T=(0,d.parseHtml)(D,v,window,w,!1),R=T.head,P=T.body,L=((S=R[0])===null||S===void 0?void 0:S.map(function(O){return O.content}))||[];return{columns:L,rows:P,data:P}},x.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var v=this.lastAutoTable;return v&&v.finalY?v.finalY:0},x.API.autoTableAddPageContent=function(v){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),x.API.autoTable.globalDefaults||(x.API.autoTable.globalDefaults={}),x.API.autoTable.globalDefaults.addPageContent=v,this},x.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}c.default=g},136:function(u,c){Object.defineProperty(c,"__esModule",{value:!0});function l(d,p,h,f,b){f=f||{};var y=1.15,g=b.internal.scaleFactor,x=b.internal.getFontSize()/g,v=b.getLineHeightFactor?b.getLineHeightFactor():y,w=x*v,S=/\r\n|\r|\n/g,D="",T=1;if((f.valign==="middle"||f.valign==="bottom"||f.halign==="center"||f.halign==="right")&&(D=typeof d=="string"?d.split(S):d,T=D.length||1),h+=x*(2-y),f.valign==="middle"?h-=T/2*w:f.valign==="bottom"&&(h-=T*w),f.halign==="center"||f.halign==="right"){var R=x;if(f.halign==="center"&&(R*=.5),D&&T>=1){for(var P=0;P<D.length;P++)b.text(D[P],p-b.getStringUnitWidth(D[P])*R,h),h+=w;return b}p-=b.getStringUnitWidth(d)*R}return f.halign==="justify"?b.text(d,p,h,{maxWidth:f.maxWidth||100,align:"justify"}):b.text(d,p,h),b}c.default=l},420:function(u,c){Object.defineProperty(c,"__esModule",{value:!0}),c.getPageAvailableWidth=c.parseSpacing=c.getFillStyle=c.addTableBorder=c.getStringWidth=void 0;function l(b,y,g){g.applyStyles(y,!0);var x=Array.isArray(b)?b:[b],v=x.map(function(w){return g.getTextWidth(w)}).reduce(function(w,S){return Math.max(w,S)},0);return v}c.getStringWidth=l;function d(b,y,g,x){var v=y.settings.tableLineWidth,w=y.settings.tableLineColor;b.applyStyles({lineWidth:v,lineColor:w});var S=p(v,!1);S&&b.rect(g.x,g.y,y.getWidth(b.pageSize().width),x.y-g.y,S)}c.addTableBorder=d;function p(b,y){var g=b>0,x=y||y===0;return g&&x?"DF":g?"S":x?"F":null}c.getFillStyle=p;function h(b,y){var g,x,v,w;if(b=b||y,Array.isArray(b)){if(b.length>=4)return{top:b[0],right:b[1],bottom:b[2],left:b[3]};if(b.length===3)return{top:b[0],right:b[1],bottom:b[2],left:b[1]};if(b.length===2)return{top:b[0],right:b[1],bottom:b[0],left:b[1]};b.length===1?b=b[0]:b=y}return typeof b=="object"?(typeof b.vertical=="number"&&(b.top=b.vertical,b.bottom=b.vertical),typeof b.horizontal=="number"&&(b.right=b.horizontal,b.left=b.horizontal),{left:(g=b.left)!==null&&g!==void 0?g:y,top:(x=b.top)!==null&&x!==void 0?x:y,right:(v=b.right)!==null&&v!==void 0?v:y,bottom:(w=b.bottom)!==null&&w!==void 0?w:y}):(typeof b!="number"&&(b=y),{top:b,right:b,bottom:b,left:b})}c.parseSpacing=h;function f(b,y){var g=h(y.settings.margin,0);return b.pageSize().width-(g.left+g.right)}c.getPageAvailableWidth=f},796:function(u,c){var l=this&&this.__extends||function(){var f=function(b,y){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,x){g.__proto__=x}||function(g,x){for(var v in x)Object.prototype.hasOwnProperty.call(x,v)&&(g[v]=x[v])},f(b,y)};return function(b,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");f(b,y);function g(){this.constructor=b}b.prototype=y===null?Object.create(y):(g.prototype=y.prototype,new g)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.getTheme=c.defaultStyles=c.HtmlRowInput=void 0;var d=function(f){l(b,f);function b(y){var g=f.call(this)||this;return g._element=y,g}return b}(Array);c.HtmlRowInput=d;function p(f){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/f,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}c.defaultStyles=p;function h(f){var b={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return b[f]}c.getTheme=h},903:function(u,c,l){Object.defineProperty(c,"__esModule",{value:!0}),c.parseCss=void 0;var d=l(420);function p(g,x,v,w,S){var D={},T=1.3333333333333333,R=f(x,function(k){return S.getComputedStyle(k).backgroundColor});R!=null&&(D.fillColor=R);var P=f(x,function(k){return S.getComputedStyle(k).color});P!=null&&(D.textColor=P);var L=y(w,v);L&&(D.cellPadding=L);var O="borderTopColor",H=T*v,U=w.borderTopWidth;if(w.borderBottomWidth===U&&w.borderRightWidth===U&&w.borderLeftWidth===U){var I=(parseFloat(U)||0)/H;I&&(D.lineWidth=I)}else D.lineWidth={top:(parseFloat(w.borderTopWidth)||0)/H,right:(parseFloat(w.borderRightWidth)||0)/H,bottom:(parseFloat(w.borderBottomWidth)||0)/H,left:(parseFloat(w.borderLeftWidth)||0)/H},D.lineWidth.top||(D.lineWidth.right?O="borderRightColor":D.lineWidth.bottom?O="borderBottomColor":D.lineWidth.left&&(O="borderLeftColor"));var F=f(x,function(k){return S.getComputedStyle(k)[O]});F!=null&&(D.lineColor=F);var A=["left","right","center","justify"];A.indexOf(w.textAlign)!==-1&&(D.halign=w.textAlign),A=["middle","bottom","top"],A.indexOf(w.verticalAlign)!==-1&&(D.valign=w.verticalAlign);var _=parseInt(w.fontSize||"");isNaN(_)||(D.fontSize=_/T);var E=h(w);E&&(D.fontStyle=E);var N=(w.fontFamily||"").toLowerCase();return g.indexOf(N)!==-1&&(D.font=N),D}c.parseCss=p;function h(g){var x="";return(g.fontWeight==="bold"||g.fontWeight==="bolder"||parseInt(g.fontWeight)>=700)&&(x="bold"),(g.fontStyle==="italic"||g.fontStyle==="oblique")&&(x+="italic"),x}function f(g,x){var v=b(g,x);if(!v)return null;var w=v.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!w||!Array.isArray(w))return null;var S=[parseInt(w[1]),parseInt(w[2]),parseInt(w[3])],D=parseInt(w[4]);return D===0||isNaN(S[0])||isNaN(S[1])||isNaN(S[2])?null:S}function b(g,x){var v=x(g);return v==="rgba(0, 0, 0, 0)"||v==="transparent"||v==="initial"||v==="inherit"?g.parentElement==null?null:b(g.parentElement,x):v}function y(g,x){var v=[g.paddingTop,g.paddingRight,g.paddingBottom,g.paddingLeft],w=96/(72/x),S=(parseInt(g.lineHeight)-parseInt(g.fontSize))/x/2,D=v.map(function(R){return parseInt(R||"0")/w}),T=(0,d.parseSpacing)(D,0);return S>T.top&&(T.top=S),S>T.bottom&&(T.bottom=S),T}},744:function(u,c){Object.defineProperty(c,"__esModule",{value:!0}),c.DocHandler=void 0;var l={},d=function(){function p(h){this.jsPDFDocument=h,this.userStyles={textColor:h.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:h.internal.getFontSize(),fontStyle:h.internal.getFont().fontStyle,font:h.internal.getFont().fontName,lineWidth:h.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:h.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return p.setDefaults=function(h,f){f===void 0&&(f=null),f?f.__autoTableDocumentDefaults=h:l=h},p.unifyColor=function(h){return Array.isArray(h)?h:typeof h=="number"?[h,h,h]:typeof h=="string"?[h]:null},p.prototype.applyStyles=function(h,f){var b,y,g;f===void 0&&(f=!1),h.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(h.fontStyle);var x=this.jsPDFDocument.internal.getFont(),v=x.fontStyle,w=x.fontName;if(h.font&&(w=h.font),h.fontStyle){v=h.fontStyle;var S=this.getFontList()[w];S&&S.indexOf(v)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(S[0]),v=S[0])}if(this.jsPDFDocument.setFont(w,v),h.fontSize&&this.jsPDFDocument.setFontSize(h.fontSize),!f){var D=p.unifyColor(h.fillColor);D&&(b=this.jsPDFDocument).setFillColor.apply(b,D),D=p.unifyColor(h.textColor),D&&(y=this.jsPDFDocument).setTextColor.apply(y,D),D=p.unifyColor(h.lineColor),D&&(g=this.jsPDFDocument).setDrawColor.apply(g,D),typeof h.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(h.lineWidth)}},p.prototype.splitTextToSize=function(h,f,b){return this.jsPDFDocument.splitTextToSize(h,f,b)},p.prototype.rect=function(h,f,b,y,g){return this.jsPDFDocument.rect(h,f,b,y,g)},p.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},p.prototype.getTextWidth=function(h){return this.jsPDFDocument.getTextWidth(h)},p.prototype.getDocument=function(){return this.jsPDFDocument},p.prototype.setPage=function(h){this.jsPDFDocument.setPage(h)},p.prototype.addPage=function(){return this.jsPDFDocument.addPage()},p.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},p.prototype.getGlobalOptions=function(){return l||{}},p.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},p.prototype.pageSize=function(){var h=this.jsPDFDocument.internal.pageSize;return h.width==null&&(h={width:h.getWidth(),height:h.getHeight()}),h},p.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},p.prototype.getLineHeightFactor=function(){var h=this.jsPDFDocument;return h.getLineHeightFactor?h.getLineHeightFactor():1.15},p.prototype.getLineHeight=function(h){return h/this.scaleFactor()*this.getLineHeightFactor()},p.prototype.pageNumber=function(){var h=this.jsPDFDocument.internal.getCurrentPageInfo();return h?h.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},p}();c.DocHandler=d},4:function(u,c,l){Object.defineProperty(c,"__esModule",{value:!0}),c.parseHtml=void 0;var d=l(903),p=l(796);function h(y,g,x,v,w){var S,D;v===void 0&&(v=!1),w===void 0&&(w=!1);var T;typeof g=="string"?T=x.document.querySelector(g):T=g;var R=Object.keys(y.getFontList()),P=y.scaleFactor(),L=[],O=[],H=[];if(!T)return console.error("Html table could not be found with input: ",g),{head:L,body:O,foot:H};for(var U=0;U<T.rows.length;U++){var I=T.rows[U],F=(D=(S=I==null?void 0:I.parentElement)===null||S===void 0?void 0:S.tagName)===null||D===void 0?void 0:D.toLowerCase(),A=f(R,P,x,I,v,w);A&&(F==="thead"?L.push(A):F==="tfoot"?H.push(A):O.push(A))}return{head:L,body:O,foot:H}}c.parseHtml=h;function f(y,g,x,v,w,S){for(var D=new p.HtmlRowInput(v),T=0;T<v.cells.length;T++){var R=v.cells[T],P=x.getComputedStyle(R);if(w||P.display!=="none"){var L=void 0;S&&(L=(0,d.parseCss)(y,R,g,P,x)),D.push({rowSpan:R.rowSpan,colSpan:R.colSpan,styles:L,_element:R,content:b(R)})}}var O=x.getComputedStyle(v);if(D.length>0&&(w||O.display!=="none"))return D}function b(y){var g=y.cloneNode(!0);return g.innerHTML=g.innerHTML.replace(/\n/g,"").replace(/ +/g," "),g.innerHTML=g.innerHTML.split(/<br.*?>/).map(function(x){return x.trim()}).join(`
`),g.innerText||g.textContent||""}},776:function(u,c,l){Object.defineProperty(c,"__esModule",{value:!0}),c.parseInput=void 0;var d=l(4),p=l(356),h=l(420),f=l(744),b=l(792);function y(T,R){var P=new f.DocHandler(T),L=P.getDocumentOptions(),O=P.getGlobalOptions();(0,b.default)(P,O,L,R);var H=(0,p.assign)({},O,L,R),U;typeof window<"u"&&(U=window);var I=g(O,L,R),F=x(O,L,R),A=v(P,H),_=S(P,H,U);return{id:R.tableId,content:_,hooks:F,styles:I,settings:A}}c.parseInput=y;function g(T,R,P){for(var L={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},O=function(F){if(F==="columnStyles"){var A=T[F],_=R[F],E=P[F];L.columnStyles=(0,p.assign)({},A,_,E)}else{var N=[T,R,P],k=N.map(function(B){return B[F]||{}});L[F]=(0,p.assign)({},k[0],k[1],k[2])}},H=0,U=Object.keys(L);H<U.length;H++){var I=U[H];O(I)}return L}function x(T,R,P){for(var L=[T,R,P],O={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},H=0,U=L;H<U.length;H++){var I=U[H];I.didParseCell&&O.didParseCell.push(I.didParseCell),I.willDrawCell&&O.willDrawCell.push(I.willDrawCell),I.didDrawCell&&O.didDrawCell.push(I.didDrawCell),I.willDrawPage&&O.willDrawPage.push(I.willDrawPage),I.didDrawPage&&O.didDrawPage.push(I.didDrawPage)}return O}function v(T,R){var P,L,O,H,U,I,F,A,_,E,N,k,B=(0,h.parseSpacing)(R.margin,40/T.scaleFactor()),j=(P=w(T,R.startY))!==null&&P!==void 0?P:B.top,M;R.showFoot===!0?M="everyPage":R.showFoot===!1?M="never":M=(L=R.showFoot)!==null&&L!==void 0?L:"everyPage";var G;R.showHead===!0?G="everyPage":R.showHead===!1?G="never":G=(O=R.showHead)!==null&&O!==void 0?O:"everyPage";var Y=(H=R.useCss)!==null&&H!==void 0?H:!1,J=R.theme||(Y?"plain":"striped"),V=!!R.horizontalPageBreak,Q=(U=R.horizontalPageBreakRepeat)!==null&&U!==void 0?U:null;return{includeHiddenHtml:(I=R.includeHiddenHtml)!==null&&I!==void 0?I:!1,useCss:Y,theme:J,startY:j,margin:B,pageBreak:(F=R.pageBreak)!==null&&F!==void 0?F:"auto",rowPageBreak:(A=R.rowPageBreak)!==null&&A!==void 0?A:"auto",tableWidth:(_=R.tableWidth)!==null&&_!==void 0?_:"auto",showHead:G,showFoot:M,tableLineWidth:(E=R.tableLineWidth)!==null&&E!==void 0?E:0,tableLineColor:(N=R.tableLineColor)!==null&&N!==void 0?N:200,horizontalPageBreak:V,horizontalPageBreakRepeat:Q,horizontalPageBreakBehaviour:(k=R.horizontalPageBreakBehaviour)!==null&&k!==void 0?k:"afterAllRows"}}function w(T,R){var P=T.getLastAutoTable(),L=T.scaleFactor(),O=T.pageNumber(),H=!1;if(P&&P.startPageNumber){var U=P.startPageNumber+P.pageNumber-1;H=U===O}return typeof R=="number"?R:(R==null||R===!1)&&H&&(P==null?void 0:P.finalY)!=null?P.finalY+20/L:null}function S(T,R,P){var L=R.head||[],O=R.body||[],H=R.foot||[];if(R.html){var U=R.includeHiddenHtml;if(P){var I=(0,d.parseHtml)(T,R.html,P,U,R.useCss)||{};L=I.head||L,O=I.body||L,H=I.foot||L}else console.error("Cannot parse html in non browser environment")}var F=R.columns||D(L,O,H);return{columns:F,head:L,body:O,foot:H}}function D(T,R,P){var L=T[0]||R[0]||P[0]||[],O=[];return Object.keys(L).filter(function(H){return H!=="_element"}).forEach(function(H){var U=1,I;Array.isArray(L)?I=L[parseInt(H)]:I=L[H],typeof I=="object"&&!Array.isArray(I)&&(U=(I==null?void 0:I.colSpan)||1);for(var F=0;F<U;F++){var A=void 0;Array.isArray(L)?A=O.length:A=H+(F>0?"_".concat(F):"");var _={dataKey:A};O.push(_)}}),O}},792:function(u,c){Object.defineProperty(c,"__esModule",{value:!0});function l(p,h,f,b){for(var y=function(w){w&&typeof w!="object"&&console.error("The options parameter should be of type object, is: "+typeof w),typeof w.extendWidth<"u"&&(w.tableWidth=w.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof w.margins<"u"&&(typeof w.margin>"u"&&(w.margin=w.margins),console.error("Use of deprecated option: margins, use margin instead.")),w.startY&&typeof w.startY!="number"&&(console.error("Invalid value for startY option",w.startY),delete w.startY),!w.didDrawPage&&(w.afterPageContent||w.beforePageContent||w.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),w.didDrawPage=function(H){p.applyStyles(p.userStyles),w.beforePageContent&&w.beforePageContent(H),p.applyStyles(p.userStyles),w.afterPageContent&&w.afterPageContent(H),p.applyStyles(p.userStyles),w.afterPageAdd&&H.pageNumber>1&&H.afterPageAdd(H),p.applyStyles(p.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(H){w[H]&&console.error('The "'.concat(H,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(H){var U=H[0],I=H[1];w[I]&&(console.error("Use of deprecated option ".concat(I,". Use ").concat(U," instead")),w[U]=w[I])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(H){var U=typeof H=="string"?H:H[0],I=typeof H=="string"?H:H[1];typeof w[U]<"u"&&(typeof w.styles[I]>"u"&&(w.styles[I]=w[U]),console.error("Use of deprecated option: "+U+", use the style "+I+" instead."))});for(var S=0,D=["styles","bodyStyles","headStyles","footStyles"];S<D.length;S++){var T=D[S];d(w[T]||{})}for(var R=w.columnStyles||{},P=0,L=Object.keys(R);P<L.length;P++){var O=L[P];d(R[O]||{})}},g=0,x=[h,f,b];g<x.length;g++){var v=x[g];y(v)}}c.default=l;function d(p){p.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),p.minCellHeight||(p.minCellHeight=p.rowHeight)):p.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),p.cellWidth||(p.cellWidth=p.columnWidth))}},260:function(u,c,l){Object.defineProperty(c,"__esModule",{value:!0}),c.Column=c.Cell=c.Row=c.Table=void 0;var d=l(796),p=l(172),h=l(420),f=function(){function x(v,w){this.pageNumber=1,this.pageCount=1,this.id=v.id,this.settings=v.settings,this.styles=v.styles,this.hooks=v.hooks,this.columns=w.columns,this.head=w.head,this.body=w.body,this.foot=w.foot}return x.prototype.getHeadHeight=function(v){return this.head.reduce(function(w,S){return w+S.getMaxCellHeight(v)},0)},x.prototype.getFootHeight=function(v){return this.foot.reduce(function(w,S){return w+S.getMaxCellHeight(v)},0)},x.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},x.prototype.callCellHooks=function(v,w,S,D,T,R){for(var P=0,L=w;P<L.length;P++){var O=L[P],H=new p.CellHookData(v,this,S,D,T,R),U=O(H)===!1;if(S.text=Array.isArray(S.text)?S.text:[S.text],U)return!1}return!0},x.prototype.callEndPageHooks=function(v,w){v.applyStyles(v.userStyles);for(var S=0,D=this.hooks.didDrawPage;S<D.length;S++){var T=D[S];T(new p.HookData(v,this,w))}},x.prototype.callWillDrawPageHooks=function(v,w){for(var S=0,D=this.hooks.willDrawPage;S<D.length;S++){var T=D[S];T(new p.HookData(v,this,w))}},x.prototype.getWidth=function(v){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var w=this.columns.reduce(function(D,T){return D+T.wrappedWidth},0);return w}else{var S=this.settings.margin;return v-S.left-S.right}},x}();c.Table=f;var b=function(){function x(v,w,S,D,T){T===void 0&&(T=!1),this.height=0,this.raw=v,v instanceof d.HtmlRowInput&&(this.raw=v._element,this.element=v._element),this.index=w,this.section=S,this.cells=D,this.spansMultiplePages=T}return x.prototype.getMaxCellHeight=function(v){var w=this;return v.reduce(function(S,D){var T;return Math.max(S,((T=w.cells[D.index])===null||T===void 0?void 0:T.height)||0)},0)},x.prototype.hasRowSpan=function(v){var w=this;return v.filter(function(S){var D=w.cells[S.index];return D?D.rowSpan>1:!1}).length>0},x.prototype.canEntireRowFit=function(v,w){return this.getMaxCellHeight(w)<=v},x.prototype.getMinimumRowHeight=function(v,w){var S=this;return v.reduce(function(D,T){var R=S.cells[T.index];if(!R)return 0;var P=w.getLineHeight(R.styles.fontSize),L=R.padding("vertical"),O=L+P;return O>D?O:D},0)},x}();c.Row=b;var y=function(){function x(v,w,S){var D,T;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=w,this.section=S,this.raw=v;var R=v;v!=null&&typeof v=="object"&&!Array.isArray(v)?(this.rowSpan=v.rowSpan||1,this.colSpan=v.colSpan||1,R=(T=(D=v.content)!==null&&D!==void 0?D:v.title)!==null&&T!==void 0?T:v,v._element&&(this.raw=v._element)):(this.rowSpan=1,this.colSpan=1);var P=R!=null?""+R:"",L=/\r\n|\r|\n/g;this.text=P.split(L)}return x.prototype.getTextPos=function(){var v;if(this.styles.valign==="top")v=this.y+this.padding("top");else if(this.styles.valign==="bottom")v=this.y+this.height-this.padding("bottom");else{var w=this.height-this.padding("vertical");v=this.y+w/2+this.padding("top")}var S;if(this.styles.halign==="right")S=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var D=this.width-this.padding("horizontal");S=this.x+D/2+this.padding("left")}else S=this.x+this.padding("left");return{x:S,y:v}},x.prototype.getContentHeight=function(v,w){w===void 0&&(w=1.15);var S=Array.isArray(this.text)?this.text.length:1,D=this.styles.fontSize/v*w,T=S*D+this.padding("vertical");return Math.max(T,this.styles.minCellHeight)},x.prototype.padding=function(v){var w=(0,h.parseSpacing)(this.styles.cellPadding,0);return v==="vertical"?w.top+w.bottom:v==="horizontal"?w.left+w.right:w[v]},x}();c.Cell=y;var g=function(){function x(v,w,S){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=v,this.raw=w,this.index=S}return x.prototype.getMaxCustomCellWidth=function(v){for(var w=0,S=0,D=v.allRows();S<D.length;S++){var T=D[S],R=T.cells[this.index];R&&typeof R.styles.cellWidth=="number"&&(w=Math.max(w,R.styles.cellWidth))}return w},x}();c.Column=g},356:function(u,c){Object.defineProperty(c,"__esModule",{value:!0}),c.assign=void 0;function l(d,p,h,f,b){if(d==null)throw new TypeError("Cannot convert undefined or null to object");for(var y=Object(d),g=1;g<arguments.length;g++){var x=arguments[g];if(x!=null)for(var v in x)Object.prototype.hasOwnProperty.call(x,v)&&(y[v]=x[v])}return y}c.assign=l},972:function(u,c,l){Object.defineProperty(c,"__esModule",{value:!0}),c.createTable=void 0;var d=l(744),p=l(260),h=l(324),f=l(796),b=l(356);function y(T,R){var P=new d.DocHandler(T),L=g(R,P.scaleFactor()),O=new p.Table(R,L);return(0,h.calculateWidths)(P,O),P.applyStyles(P.userStyles),O}c.createTable=y;function g(T,R){var P=T.content,L=S(P.columns);if(P.head.length===0){var O=v(L,"head");O&&P.head.push(O)}if(P.foot.length===0){var O=v(L,"foot");O&&P.foot.push(O)}var H=T.settings.theme,U=T.styles;return{columns:L,head:x("head",P.head,L,U,H,R),body:x("body",P.body,L,U,H,R),foot:x("foot",P.foot,L,U,H,R)}}function x(T,R,P,L,O,H){var U={},I=R.map(function(F,A){for(var _=0,E={},N=0,k=0,B=0,j=P;B<j.length;B++){var M=j[B];if(U[M.index]==null||U[M.index].left===0)if(k===0){var G=void 0;Array.isArray(F)?G=F[M.index-N-_]:G=F[M.dataKey];var Y={};typeof G=="object"&&!Array.isArray(G)&&(Y=(G==null?void 0:G.styles)||{});var J=D(T,M,A,O,L,H,Y),V=new p.Cell(G,J,T);E[M.dataKey]=V,E[M.index]=V,k=V.colSpan-1,U[M.index]={left:V.rowSpan-1,times:k}}else k--,N++;else U[M.index].left--,k=U[M.index].times,_++}return new p.Row(F,A,T,E)});return I}function v(T,R){var P={};return T.forEach(function(L){if(L.raw!=null){var O=w(R,L.raw);O!=null&&(P[L.dataKey]=O)}}),Object.keys(P).length>0?P:null}function w(T,R){if(T==="head"){if(typeof R=="object")return R.header||R.title||null;if(typeof R=="string"||typeof R=="number")return R}else if(T==="foot"&&typeof R=="object")return R.footer;return null}function S(T){return T.map(function(R,P){var L,O,H;return typeof R=="object"?H=(O=(L=R.dataKey)!==null&&L!==void 0?L:R.key)!==null&&O!==void 0?O:P:H=P,new p.Column(H,R,P)})}function D(T,R,P,L,O,H,U){var I=(0,f.getTheme)(L),F;T==="head"?F=O.headStyles:T==="body"?F=O.bodyStyles:T==="foot"&&(F=O.footStyles);var A=(0,b.assign)({},I.table,I[T],O.styles,F),_=O.columnStyles[R.dataKey]||O.columnStyles[R.index]||{},E=T==="body"?_:{},N=T==="body"&&P%2===0?(0,b.assign)({},I.alternateRow,O.alternateRowStyles):{},k=(0,f.defaultStyles)(H),B=(0,b.assign)({},k,A,N,E);return(0,b.assign)(B,U)}},664:function(u,c,l){Object.defineProperty(c,"__esModule",{value:!0}),c.addPage=c.drawTable=void 0;var d=l(420),p=l(260),h=l(744),f=l(356),b=l(136),y=l(224);function g(_,E){var N=E.settings,k=N.startY,B=N.margin,j={x:B.left,y:k},M=E.getHeadHeight(E.columns)+E.getFootHeight(E.columns),G=k+B.bottom+M;if(N.pageBreak==="avoid"){var Y=E.body,J=Y.reduce(function(q,z){return q+z.height},0);G+=J}var V=new h.DocHandler(_);(N.pageBreak==="always"||N.startY!=null&&G>V.pageSize().height)&&(A(V),j.y=B.top),E.callWillDrawPageHooks(V,j);var Q=(0,f.assign)({},j);E.startPageNumber=V.pageNumber(),N.horizontalPageBreak?x(V,E,Q,j):(V.applyStyles(V.userStyles),(N.showHead==="firstPage"||N.showHead==="everyPage")&&E.head.forEach(function(q){return O(V,E,q,j,E.columns)}),V.applyStyles(V.userStyles),E.body.forEach(function(q,z){var Z=z===E.body.length-1;L(V,E,q,Z,Q,j,E.columns)}),V.applyStyles(V.userStyles),(N.showFoot==="lastPage"||N.showFoot==="everyPage")&&E.foot.forEach(function(q){return O(V,E,q,j,E.columns)})),(0,d.addTableBorder)(V,E,Q,j),E.callEndPageHooks(V,j),E.finalY=j.y,_.lastAutoTable=E,_.previousAutoTable=E,_.autoTable&&(_.autoTable.previous=E),V.applyStyles(V.userStyles)}c.drawTable=g;function x(_,E,N,k){var B=(0,y.calculateAllColumnsCanFitInPage)(_,E),j=E.settings;if(j.horizontalPageBreakBehaviour==="afterAllRows")B.forEach(function(J,V){_.applyStyles(_.userStyles),V>0?F(_,E,N,k,J.columns,!0):v(_,E,k,J.columns),w(_,E,N,k,J.columns),D(_,E,k,J.columns)});else for(var M=-1,G=B[0],Y=function(){var J=M;if(G){_.applyStyles(_.userStyles);var V=G.columns;M>=0?F(_,E,N,k,V,!0):v(_,E,k,V),J=S(_,E,M+1,k,V),D(_,E,k,V)}var Q=J-M;B.slice(1).forEach(function(q){_.applyStyles(_.userStyles),F(_,E,N,k,q.columns,!0),S(_,E,M+1,k,q.columns,Q),D(_,E,k,q.columns)}),M=J};M<E.body.length-1;)Y()}function v(_,E,N,k){var B=E.settings;_.applyStyles(_.userStyles),(B.showHead==="firstPage"||B.showHead==="everyPage")&&E.head.forEach(function(j){return O(_,E,j,N,k)})}function w(_,E,N,k,B){_.applyStyles(_.userStyles),E.body.forEach(function(j,M){var G=M===E.body.length-1;L(_,E,j,G,N,k,B)})}function S(_,E,N,k,B,j){_.applyStyles(_.userStyles),j=j??E.body.length;var M=Math.min(N+j,E.body.length),G=-1;return E.body.slice(N,M).forEach(function(Y,J){var V=N+J===E.body.length-1,Q=I(_,E,V,k);Y.canEntireRowFit(Q,B)&&(O(_,E,Y,k,B),G=N+J)}),G}function D(_,E,N,k){var B=E.settings;_.applyStyles(_.userStyles),(B.showFoot==="lastPage"||B.showFoot==="everyPage")&&E.foot.forEach(function(j){return O(_,E,j,N,k)})}function T(_,E,N){var k=N.getLineHeight(_.styles.fontSize),B=_.padding("vertical"),j=Math.floor((E-B)/k);return Math.max(0,j)}function R(_,E,N,k){var B={};_.spansMultiplePages=!0,_.height=0;for(var j=0,M=0,G=N.columns;M<G.length;M++){var Y=G[M],J=_.cells[Y.index];if(J){Array.isArray(J.text)||(J.text=[J.text]);var V=new p.Cell(J.raw,J.styles,J.section);V=(0,f.assign)(V,J),V.text=[];var Q=T(J,E,k);J.text.length>Q&&(V.text=J.text.splice(Q,J.text.length));var q=k.scaleFactor(),z=k.getLineHeightFactor();J.contentHeight=J.getContentHeight(q,z),J.contentHeight>=E&&(J.contentHeight=E,V.styles.minCellHeight-=E),J.contentHeight>_.height&&(_.height=J.contentHeight),V.contentHeight=V.getContentHeight(q,z),V.contentHeight>j&&(j=V.contentHeight),B[Y.index]=V}}var Z=new p.Row(_.raw,-1,_.section,B,!0);Z.height=j;for(var re=0,le=N.columns;re<le.length;re++){var Y=le[re],V=Z.cells[Y.index];V&&(V.height=Z.height);var J=_.cells[Y.index];J&&(J.height=_.height)}return Z}function P(_,E,N,k){var B=_.pageSize().height,j=k.settings.margin,M=j.top+j.bottom,G=B-M;E.section==="body"&&(G-=k.getHeadHeight(k.columns)+k.getFootHeight(k.columns));var Y=E.getMinimumRowHeight(k.columns,_),J=Y<N;if(Y>G)return console.error("Will not be able to print row ".concat(E.index," correctly since it's minimum height is larger than page height")),!0;if(!J)return!1;var V=E.hasRowSpan(k.columns),Q=E.getMaxCellHeight(k.columns)>G;return Q?(V&&console.error("The content of row ".concat(E.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(V||k.settings.rowPageBreak==="avoid")}function L(_,E,N,k,B,j,M){var G=I(_,E,k,j);if(N.canEntireRowFit(G,M))O(_,E,N,j,M);else if(P(_,N,G,E)){var Y=R(N,G,E,_);O(_,E,N,j,M),F(_,E,B,j,M),L(_,E,Y,k,B,j,M)}else F(_,E,B,j,M),L(_,E,N,k,B,j,M)}function O(_,E,N,k,B){k.x=E.settings.margin.left;for(var j=0,M=B;j<M.length;j++){var G=M[j],Y=N.cells[G.index];if(!Y){k.x+=G.width;continue}_.applyStyles(Y.styles),Y.x=k.x,Y.y=k.y;var J=E.callCellHooks(_,E.hooks.willDrawCell,Y,N,G,k);if(J===!1){k.x+=G.width;continue}H(_,Y,k);var V=Y.getTextPos();(0,b.default)(Y.text,V.x,V.y,{halign:Y.styles.halign,valign:Y.styles.valign,maxWidth:Math.ceil(Y.width-Y.padding("left")-Y.padding("right"))},_.getDocument()),E.callCellHooks(_,E.hooks.didDrawCell,Y,N,G,k),k.x+=G.width}k.y+=N.height}function H(_,E,N){var k=E.styles;if(_.getDocument().setFillColor(_.getDocument().getFillColor()),typeof k.lineWidth=="number"){var B=(0,d.getFillStyle)(k.lineWidth,k.fillColor);B&&_.rect(E.x,N.y,E.width,E.height,B)}else typeof k.lineWidth=="object"&&(k.fillColor&&_.rect(E.x,N.y,E.width,E.height,"F"),U(_,E,N,k.lineWidth))}function U(_,E,N,k){var B,j,M,G;k.top&&(B=N.x,j=N.y,M=N.x+E.width,G=N.y,k.right&&(M+=.5*k.right),k.left&&(B-=.5*k.left),Y(k.top,B,j,M,G)),k.bottom&&(B=N.x,j=N.y+E.height,M=N.x+E.width,G=N.y+E.height,k.right&&(M+=.5*k.right),k.left&&(B-=.5*k.left),Y(k.bottom,B,j,M,G)),k.left&&(B=N.x,j=N.y,M=N.x,G=N.y+E.height,k.top&&(j-=.5*k.top),k.bottom&&(G+=.5*k.bottom),Y(k.left,B,j,M,G)),k.right&&(B=N.x+E.width,j=N.y,M=N.x+E.width,G=N.y+E.height,k.top&&(j-=.5*k.top),k.bottom&&(G+=.5*k.bottom),Y(k.right,B,j,M,G));function Y(J,V,Q,q,z){_.getDocument().setLineWidth(J),_.getDocument().line(V,Q,q,z,"S")}}function I(_,E,N,k){var B=E.settings.margin.bottom,j=E.settings.showFoot;return(j==="everyPage"||j==="lastPage"&&N)&&(B+=E.getFootHeight(E.columns)),_.pageSize().height-k.y-B}function F(_,E,N,k,B,j){B===void 0&&(B=[]),j===void 0&&(j=!1),_.applyStyles(_.userStyles),E.settings.showFoot==="everyPage"&&!j&&E.foot.forEach(function(G){return O(_,E,G,k,B)}),E.callEndPageHooks(_,k);var M=E.settings.margin;(0,d.addTableBorder)(_,E,N,k),A(_),E.pageNumber++,E.pageCount++,k.x=M.left,k.y=M.top,N.y=M.top,E.callWillDrawPageHooks(_,k),E.settings.showHead==="everyPage"&&(E.head.forEach(function(G){return O(_,E,G,k,B)}),_.applyStyles(_.userStyles))}c.addPage=F;function A(_){var E=_.pageNumber();_.setPage(E+1);var N=_.pageNumber();return N===E?(_.addPage(),!0):!1}},224:function(u,c,l){Object.defineProperty(c,"__esModule",{value:!0}),c.calculateAllColumnsCanFitInPage=void 0;var d=l(420);function p(f,b,y){var g;y===void 0&&(y={});var x=(0,d.getPageAvailableWidth)(f,b),v=new Map,w=[],S=[],D=[];b.settings.horizontalPageBreakRepeat,Array.isArray(b.settings.horizontalPageBreakRepeat)?D=b.settings.horizontalPageBreakRepeat:(typeof b.settings.horizontalPageBreakRepeat=="string"||typeof b.settings.horizontalPageBreakRepeat=="number")&&(D=[b.settings.horizontalPageBreakRepeat]),D.forEach(function(L){var O=b.columns.find(function(H){return H.dataKey===L||H.index===L});O&&!v.has(O.index)&&(v.set(O.index,!0),w.push(O.index),S.push(b.columns[O.index]),x-=O.wrappedWidth)});for(var T=!0,R=(g=y==null?void 0:y.start)!==null&&g!==void 0?g:0;R<b.columns.length;){if(v.has(R)){R++;continue}var P=b.columns[R].wrappedWidth;if(T||x>=P)T=!1,w.push(R),S.push(b.columns[R]),x-=P;else break;R++}return{colIndexes:w,columns:S,lastIndex:R-1}}function h(f,b){for(var y=[],g=0;g<b.columns.length;g++){var x=p(f,b,{start:g});x.columns.length&&(y.push(x),g=x.lastIndex)}return y}c.calculateAllColumnsCanFitInPage=h},324:function(u,c,l){Object.defineProperty(c,"__esModule",{value:!0}),c.ellipsize=c.resizeColumns=c.calculateWidths=void 0;var d=l(420);function p(w,S){h(w,S);var D=[],T=0;S.columns.forEach(function(P){var L=P.getMaxCustomCellWidth(S);L?P.width=L:(P.width=P.wrappedWidth,D.push(P)),T+=P.width});var R=S.getWidth(w.pageSize().width)-T;R&&(R=f(D,R,function(P){return Math.max(P.minReadableWidth,P.minWidth)})),R&&(R=f(D,R,function(P){return P.minWidth})),R=Math.abs(R),!S.settings.horizontalPageBreak&&R>.1/w.scaleFactor()&&(R=R<1?R:Math.round(R),console.warn("Of the table content, ".concat(R," units width could not fit page"))),y(S),g(S,w),b(S)}c.calculateWidths=p;function h(w,S){var D=w.scaleFactor(),T=S.settings.horizontalPageBreak,R=(0,d.getPageAvailableWidth)(w,S);S.allRows().forEach(function(P){for(var L=0,O=S.columns;L<O.length;L++){var H=O[L],U=P.cells[H.index];if(U){var I=S.hooks.didParseCell;S.callCellHooks(w,I,U,P,H,null);var F=U.padding("horizontal");U.contentWidth=(0,d.getStringWidth)(U.text,U.styles,w)+F;var A=(0,d.getStringWidth)(U.text.join(" ").split(/[^\S\u00A0]+/),U.styles,w);if(U.minReadableWidth=A+U.padding("horizontal"),typeof U.styles.cellWidth=="number")U.minWidth=U.styles.cellWidth,U.wrappedWidth=U.styles.cellWidth;else if(U.styles.cellWidth==="wrap"||T===!0)U.contentWidth>R?(U.minWidth=R,U.wrappedWidth=R):(U.minWidth=U.contentWidth,U.wrappedWidth=U.contentWidth);else{var _=10/D;U.minWidth=U.styles.minCellWidth||_,U.wrappedWidth=U.contentWidth,U.minWidth>U.wrappedWidth&&(U.wrappedWidth=U.minWidth)}}}}),S.allRows().forEach(function(P){for(var L=0,O=S.columns;L<O.length;L++){var H=O[L],U=P.cells[H.index];if(U&&U.colSpan===1)H.wrappedWidth=Math.max(H.wrappedWidth,U.wrappedWidth),H.minWidth=Math.max(H.minWidth,U.minWidth),H.minReadableWidth=Math.max(H.minReadableWidth,U.minReadableWidth);else{var I=S.styles.columnStyles[H.dataKey]||S.styles.columnStyles[H.index]||{},F=I.cellWidth||I.minCellWidth;F&&typeof F=="number"&&(H.minWidth=F,H.wrappedWidth=F)}U&&(U.colSpan>1&&!H.minWidth&&(H.minWidth=U.minWidth),U.colSpan>1&&!H.wrappedWidth&&(H.wrappedWidth=U.minWidth))}})}function f(w,S,D){for(var T=S,R=w.reduce(function(_,E){return _+E.wrappedWidth},0),P=0;P<w.length;P++){var L=w[P],O=L.wrappedWidth/R,H=T*O,U=L.width+H,I=D(L),F=U<I?I:U;S-=F-L.width,L.width=F}if(S=Math.round(S*1e10)/1e10,S){var A=w.filter(function(_){return S<0?_.width>D(_):!0});A.length&&(S=f(A,S,D))}return S}c.resizeColumns=f;function b(w){for(var S={},D=1,T=w.allRows(),R=0;R<T.length;R++)for(var P=T[R],L=0,O=w.columns;L<O.length;L++){var H=O[L],U=S[H.index];if(D>1)D--,delete P.cells[H.index];else if(U)U.cell.height+=P.height,D=U.cell.colSpan,delete P.cells[H.index],U.left--,U.left<=1&&delete S[H.index];else{var I=P.cells[H.index];if(!I)continue;if(I.height=P.height,I.rowSpan>1){var F=T.length-R,A=I.rowSpan>F?F:I.rowSpan;S[H.index]={cell:I,left:A,row:P}}}}}function y(w){for(var S=w.allRows(),D=0;D<S.length;D++)for(var T=S[D],R=null,P=0,L=0,O=0;O<w.columns.length;O++){var H=w.columns[O];if(L-=1,L>1&&w.columns[O+1])P+=H.width,delete T.cells[H.index];else if(R){var U=R;delete T.cells[H.index],R=null,U.width=H.width+P}else{var U=T.cells[H.index];if(!U)continue;if(L=U.colSpan,P=0,U.colSpan>1){R=U,P+=H.width;continue}U.width=H.width+P}}}function g(w,S){for(var D={count:0,height:0},T=0,R=w.allRows();T<R.length;T++){for(var P=R[T],L=0,O=w.columns;L<O.length;L++){var H=O[L],U=P.cells[H.index];if(U){S.applyStyles(U.styles,!0);var I=U.width-U.padding("horizontal");if(U.styles.overflow==="linebreak")U.text=S.splitTextToSize(U.text,I+1/S.scaleFactor(),{fontSize:U.styles.fontSize});else if(U.styles.overflow==="ellipsize")U.text=x(U.text,I,U.styles,S,"...");else if(U.styles.overflow==="hidden")U.text=x(U.text,I,U.styles,S,"");else if(typeof U.styles.overflow=="function"){var F=U.styles.overflow(U.text,I);typeof F=="string"?U.text=[F]:U.text=F}U.contentHeight=U.getContentHeight(S.scaleFactor(),S.getLineHeightFactor());var A=U.contentHeight/U.rowSpan;U.rowSpan>1&&D.count*D.height<A*U.rowSpan?D={height:A,count:U.rowSpan}:D&&D.count>0&&D.height>A&&(A=D.height),A>P.height&&(P.height=A)}}D.count--}}function x(w,S,D,T,R){return w.map(function(P){return v(P,S,D,T,R)})}c.ellipsize=x;function v(w,S,D,T,R){var P=1e4*T.scaleFactor();if(S=Math.ceil(S*P)/P,S>=(0,d.getStringWidth)(w,D,T))return w;for(;S<(0,d.getStringWidth)(w+R,D,T)&&!(w.length<=1);)w=w.substring(0,w.length-1);return w.trim()+R}},964:function(u){if(typeof e>"u"){var c=new Error("Cannot find module 'undefined'");throw c.code="MODULE_NOT_FOUND",c}u.exports=e}},a={};function i(u){var c=a[u];if(c!==void 0)return c.exports;var l=a[u]={exports:{}};return s[u].call(l.exports,l,l.exports,i),l.exports}var o={};return function(){var u=o;Object.defineProperty(u,"__esModule",{value:!0}),u.Cell=u.Column=u.Row=u.Table=u.CellHookData=u.__drawTable=u.__createTable=u.applyPlugin=void 0;var c=i(340),l=i(776),d=i(664),p=i(972),h=i(260);Object.defineProperty(u,"Table",{enumerable:!0,get:function(){return h.Table}});var f=i(172);Object.defineProperty(u,"CellHookData",{enumerable:!0,get:function(){return f.CellHookData}});var b=i(260);Object.defineProperty(u,"Cell",{enumerable:!0,get:function(){return b.Cell}}),Object.defineProperty(u,"Column",{enumerable:!0,get:function(){return b.Column}}),Object.defineProperty(u,"Row",{enumerable:!0,get:function(){return b.Row}});function y(S){(0,c.default)(S)}u.applyPlugin=y;function g(S,D){var T=(0,l.parseInput)(S,D),R=(0,p.createTable)(S,T);(0,d.drawTable)(S,R)}function x(S,D){var T=(0,l.parseInput)(S,D);return(0,p.createTable)(S,T)}u.__createTable=x;function v(S,D){(0,d.drawTable)(S,D)}u.__drawTable=v;try{var w=i(964);w.jsPDF&&(w=w.jsPDF),y(w)}catch{}u.default=g}(),o}()})})(MU);const LU=({allData:n,typeOfReport:r,reportTitle:t})=>{const[e,s]=ne.useState([]),[a,i]=ne.useState(["Name","Employee Badge","Nationality","Date of Joined","Department","workPosition","Contract Start Date ","Contract End Date","LD Expiry","Duration of Renewal Contract"]);ne.useRef();const[o,u]=ne.useState(!0),c=(f,b)=>{const y=new Date(f),g=new Date(b);return isNaN(y.getTime())||isNaN(g.getTime())?"-":(g.getFullYear()-y.getFullYear())*12+(g.getMonth()-y.getMonth())},l=(f,b)=>{const y=new Date(f),g=new Date(b),x=new Date;if(isNaN(y.getTime())||isNaN(g.getTime()))return"-";const v=c(f,b),w=c(f,x),S=v-w;return S>=0?`${S} months`:"-"},d=f=>f.map(b=>{const y=l(b.contractStart,b.contractEnd);return[b.name||"-",b.empBadgeNo||"-",b.nationality||"-",b.doj||"-",b.department||"-",b.position||"-",b.contractStart||"-",b.contractEnd||"-",b.nlmsEmpValid||"-",y||"-"]});ne.useEffect(()=>{s(d(n))},[n]);const p=()=>{const f=new jr("landscape");f.setFontSize(16),f.text("Contract Completion Form for the Month of January 2024",f.internal.pageSize.getWidth()/2,20,{align:"center"});const b=document.querySelector('input[type="text"]').value;f.setFontSize(12),f.text(`Attn: ${b}`,14,40);const y=40;f.setDrawColor(0,0,0),f.line(25,y,100,y);const g=document.querySelectorAll("table thead tr"),x=Array.from(g).map(T=>{const R=T.querySelectorAll("th");return Array.from(R).map(P=>P.innerText)}),v=document.querySelectorAll("table tbody tr"),w=Array.from(v).map(T=>{const R=T.querySelectorAll("td");return Array.from(R).map(P=>P.querySelector("input")?P.querySelector("input").value:P.innerText)});f.autoTable({head:x,body:w,startY:50,styles:{cellWidth:"auto",overflow:"linebreak"}}),f.setFontSize(11);const S=f.lastAutoTable.finalY+12;f.text("Notes: Deadline return to HRD after one week from the date received of Contract Completion Report",14,S),f.setFontSize(10);const D=S+25;f.text("Recommended By:",40,D),f.text("Acknowledged & Checked By:",130,D),f.text("Approved By:",230,D),f.line(30,D+10,85,D+10),f.line(120,D+10,190,D+10),f.line(220,D+10,265,D+10),f.setFontSize(11),f.text("Department Head",40,D+20),f.text("HRM",150,D+20),f.text("GM",238,D+20),f.save("contract_completion_form.pdf")},h=()=>{console.log("dnfnjdbf"),o===!0&&p()};return ne.useState(null),m.jsxs("div",{children:[m.jsx(Vc,{tableBody:e,tableHead:a,typeOfReport:r,reportTitle:t}),m.jsx("div",{className:"vertical-center p-5 pt-9 ",children:m.jsx("button",{className:" bg-[#FEF116] text-dark_grey text_size_5 w-[126px] p-2 rounded",onClick:h,children:"Download"})})]})},FU=({allData:n,typeOfReport:r,reportTitle:t})=>{const[e,s]=ne.useState([]),[a]=ne.useState(["Name","Employee ID","Employee Badge","Date of Joined","Department","Position","Probation Expiry Date","Deadline to return HRD","Download"]),[i,o]=ne.useState(null),u=Yi(),c=h=>h.filter(f=>f.probationEnd).map(f=>[f.name||"-",f.empID||"-",f.empBadgeNo||"-",f.doj||"-",f.department||"-",f.position||"-",f.probationEnd||"-",f.deadlineToReturnHRD||"-"]);ne.useEffect(()=>{s(c(n))},[n]);const l=h=>{o(h)},d=()=>{o(null)},p=()=>{d(),i&&u("/probForm",{state:{employeeData:i}})};return m.jsxs("div",{children:[m.jsx(Vc,{tableBody:e,tableHead:a,typeOfReport:r,reportTitle:t,allData:n,handleViewDetails:l}),i&&m.jsx("div",{className:"fixed inset-0 center z-50 bg-black bg-opacity-50",children:m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-1/3",children:[m.jsxs("section",{className:"flex justify-start gap-10 items-center mb-5",children:[m.jsx("div",{className:"max-w-[150px] w-full",children:m.jsx("img",{className:"w-full",src:$m,alt:"Logo"})}),m.jsx("div",{children:m.jsx("h2",{className:"text-xl font-semibold border-b-2",children:"Person Details"})})]}),m.jsxs("p",{className:"flex justify-between mb-2",children:[m.jsx("strong",{children:"Name:"})," ",i.name]}),m.jsxs("p",{className:"flex justify-between mb-2",children:[m.jsx("strong",{children:"Emp ID:"})," ",i.empID]}),m.jsxs("p",{className:"flex justify-between mb-2",children:[m.jsx("strong",{children:"Emp Badge No:"})," ",i.empBadgeNo]}),m.jsxs("p",{className:"flex justify-between mb-2",children:[m.jsx("strong",{children:"Position:"})," ",i.position]}),m.jsxs("p",{className:"flex justify-between mb-2",children:[m.jsx("strong",{children:"Department:"})," ",i.department]}),m.jsxs("p",{className:"flex justify-between mb-2",children:[m.jsx("strong",{children:"Date Of Join:"})," ",i.doj]}),m.jsxs("p",{className:"flex justify-between mb-2",children:[m.jsx("strong",{children:"Probation End Date:"})," ",i.probationEnd]}),m.jsxs("p",{className:"flex justify-between mb-2",children:[m.jsx("strong",{children:"Contract End Date:"})," ",i.contractEnd||"-"]}),m.jsxs("div",{className:"flex justify-evenly items-center p-3",children:[m.jsx("button",{className:"mt-4 bg-blue text-white px-4 py-2 rounded",onClick:d,children:"Close"}),m.jsx("button",{className:"mt-4 bg-green text-white px-4 py-2 rounded",onClick:p,children:"Go to Probation Form"})]})]})})]})},BU=()=>{const{empPIData:n,LMIData:r,PPValidsData:t,empPDData:e,IDData:s,workInfoData:a,terminateData:i,DNData:o}=ne.useContext(Wn),[u,c]=ne.useState([]),[l,d]=ne.useState([]),[p,h]=ne.useState(!1),[f,b]=ne.useState([]),[y,g]=ne.useState("Filter The Report"),[x,v]=ne.useState("Recruitment & Mobilization"),[w,S]=ne.useState(""),[D,T]=ne.useState(""),[R,P]=ne.useState(""),[L,O]=ne.useState(!0);console.log(n),console.log(e),console.log(s),console.log(a),console.log(i),console.log(o),console.log(t),console.log(r);const H=(A,_,E,N,k,B,j,M)=>A.map(G=>{const Y=_.find(re=>re.empID===G.empID)||{},J=E.find(re=>re.empID===G.empID)||{},V=N.find(re=>re.empID===G.empID)||{},Q=k.find(re=>re.empID===G.empID)||{},q=M.find(re=>re.empID===G.empID)||{},z=B.find(re=>re.empID===G.empID)||{},Z=j.find(re=>re.empID===G.empID)||{};return{...G,...Y,...J,...V,...Q,...q,...z,...Z}});ne.useEffect(()=>{if(n&&e&&s&&a&&i&&o&&t&&r){const A=H(n,e,s,a,i,o,t,r);b(A),console.log(A),O(!1)}},[n,e,s,a,i,o,t,r]),ne.useEffect(()=>{S(x)},[x,p,f]);const U=A=>{d(A)},I=()=>{if(!f)return;const A=f.filter(_=>{const E=_.dateOfJoin===D.trim(),N=_.contractEndDate===R.trim();return E&&N});d(A)};if(ne.useEffect(()=>{D&&R?I():h(!p)},[D,R]),L)return m.jsx("p",{children:"Loading data..."});const F=[{title:"Recruitment & Mobilization"},{title:"Resignation"},{title:"Termination"},{title:"Probation Review"},{title:"Contract Expiry Review"},{title:"Probation Form"},{title:"Contract Expiry PDF"},{title:"Employment Pass expiry"},{title:"LD expiry"},{title:"Passport Expiry"},{title:"Employment Medical"}];return m.jsxs("div",{className:"border border-white p-10 w-full",children:[m.jsx("p",{className:"text-2xl font-semibold text-dark_grey text-center uppercase mb-10",children:"Report"}),m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx(vB,{typeOfReport:x,setTypeOfReport:v,Reports:F,justFilterName:y}),m.jsxs("div",{className:"flex justify-end gap-4",children:[m.jsxs("div",{className:"flex items-center w-[20%] p-2 gap-1 border border-[#D9D9D9] rounded text-dark_grey",children:[m.jsx("input",{type:"text",value:D,placeholder:"Start Date",className:"outline-none w-full",onChange:A=>T(A.target.value)}),m.jsx("span",{children:m.jsx(ZE,{className:"text-xl text-dark_grey"})})]}),m.jsxs("div",{className:"border border-[#D9D9D9] rounded w-[20%] text-dark_grey flex items-center p-2 gap-1",children:[m.jsx("input",{type:"text",value:R,placeholder:"End Date",className:"outline-none w-full",onChange:A=>P(A.target.value)}),m.jsx("span",{children:m.jsx(ZE,{className:"text-xl text-dark_grey"})})]}),m.jsx(Gf,{placeholder:"Search Name",onResult:U,icon:m.jsx(Rs,{}),data:f})]})]}),w==="Recruitment & Mobilization"&&m.jsx(kB,{allData:f,typeOfReport:x,reportTitle:w}),w==="Resignation"&&m.jsx(CB,{allData:f,typeOfReport:x,reportTitle:w}),w==="Termination"&&m.jsx(DB,{allData:f,typeOfReport:x,reportTitle:w}),w==="Probation Review"&&m.jsx(TB,{allData:f,typeOfReport:x,reportTitle:w}),w==="Probation Form"&&m.jsx(FU,{allData:f,typeOfReport:x,reportTitle:w}),w==="Contract Expiry Review"&&m.jsx(jB,{allData:f,typeOfReport:x,reportTitle:w}),w==="Contract Expiry PDF"&&m.jsx(LU,{allData:f,typeOfReport:x,reportTitle:w}),w==="Employment Pass expiry"&&m.jsx(IB,{allData:f,typeOfReport:x,reportTitle:w}),w==="LD expiry"&&m.jsx(PB,{allData:f,typeOfReport:x,reportTitle:w}),w==="Passport Expiry"&&m.jsx(RB,{allData:f,typeOfReport:x,reportTitle:w}),w==="Employment Medical"&&m.jsx(MB,{allData:f,typeOfReport:x,reportTitle:w}),m.jsx("div",{children:w!=="Contract Expiry PDF"&&w!=="Probation Form"&&m.jsx(_B,{MRReport:u,MRRValues:l,reportTitle:w})})]})},UU="data:image/svg+xml,%3csvg%20width='67'%20height='74'%20viewBox='0%200%2067%2074'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M45.5062%2063.1407H3.38928C3.38928%2051.6318%2012.8163%2042.3042%2024.4478%2042.3042C36.0792%2042.3042%2045.5062%2051.6318%2045.5062%2063.1407Z'%20stroke='%23027797'%20stroke-width='3.20734'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M33.6927%2031.2003C33.6927%2036.2487%2029.5578%2042.3106%2024.4556%2042.3106C23.0711%2042.3106%2021.7623%2041.8602%2020.5863%2041.1094C19.6%2040.4901%2018.7086%2039.6644%2017.9689%2038.7073C17.9499%2038.6885%2017.9309%2038.6697%2017.912%2038.6509C16.2239%2036.5114%2015.1996%2033.7339%2015.1996%2031.2003C15.1996%2026.1519%2019.3346%2022.0419%2024.4556%2022.0419C29.5578%2022.0419%2033.6927%2026.1519%2033.6927%2031.2003Z'%20stroke='%23027797'%20stroke-width='3.20734'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M51.3653%2028.8693C58.3643%2028.8693%2064.0381%2023.2553%2064.0381%2016.3301C64.0381%209.40488%2058.3643%203.79089%2051.3653%203.79089C44.3663%203.79089%2038.6925%209.40488%2038.6925%2016.3301C38.6925%2023.2553%2044.3663%2028.8693%2051.3653%2028.8693Z'%20stroke='%23027797'%20stroke-width='3.20734'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M46.4165%2016.3298H56.3141'%20stroke='%23027797'%20stroke-width='3.20734'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M51.3652%2021.2267V11.4335'%20stroke='%23027797'%20stroke-width='3.20734'%20stroke-miterlimit='10'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",HU="/assets/candidate-B-jEx5lF.svg",qU="data:image/svg+xml,%3csvg%20width='83'%20height='83'%20viewBox='0%200%2083%2083'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8.05493%2015.1387C8.05493%2034.4786%208.05493%2053.8185%208.05493%2073.1585H60.2094V15.1387H8.05493ZM9.79534%2016.756H58.469V71.5411H9.79534V16.756Z'%20fill='%23850849'/%3e%3cpath%20d='M40.4547%2014.0641C40.4547%2015.4083%2040.4547%2016.7526%2040.4547%2018.0968H57.2215V31.5383H61.1204V14.0641H40.4547Z'%20fill='%23850849'/%3e%3cpath%20d='M54.7299%203.99487C46.4613%203.99487%2039.7392%2010.5366%2039.7392%2018.5843C39.7392%2026.632%2046.4613%2033.1753%2054.7299%2033.1753C62.9984%2033.1753%2069.7205%2026.632%2069.7205%2018.5843C69.7205%2010.5366%2062.9984%203.99487%2054.7299%203.99487ZM54.7299%205.68866C62.0578%205.68865%2067.9801%2011.4519%2067.9801%2018.5843C67.9801%2025.7166%2062.0578%2031.4815%2054.7299%2031.4815C47.4019%2031.4815%2041.4796%2025.7166%2041.4796%2018.5843C41.4796%2011.4519%2047.4019%205.68865%2054.7299%205.68866Z'%20fill='%23850849'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M63.1548%2029.035C62.9817%2029.0361%2062.8128%2029.0873%2062.6698%2029.1822C62.5268%2029.2771%2062.4161%2029.4113%2062.3518%2029.5678C62.2876%2029.7242%2062.2728%2029.8958%2062.3092%2030.0604C62.3457%2030.2251%2062.4318%2030.3755%2062.5565%2030.4923L72.5469%2040.1078C72.6276%2040.1884%2072.724%2040.2525%2072.8305%2040.2964C72.9369%2040.3403%2073.0513%2040.3631%2073.1669%2040.3635C73.2826%2040.3639%2073.3971%2040.3419%2073.5039%2040.2988C73.6107%2040.2556%2073.7076%2040.1921%2073.7889%2040.1121C73.8702%2040.0321%2073.9343%2039.9371%2073.9774%2039.8328C74.0206%2039.7284%2074.042%2039.6166%2074.0403%2039.5041C74.0386%2039.3916%2074.0139%2039.2806%2073.9676%2039.1774C73.9213%2039.0743%2073.8544%2038.9812%2073.7707%2038.9036L63.7803%2029.2881C63.6987%2029.2074%2063.6013%2029.1434%2063.4939%2029.0999C63.3865%2029.0564%2063.2712%2029.0344%2063.1548%2029.035Z'%20fill='%23850849'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M17.3547%2023.3695V24.568H50.1929V23.3695H17.3547Z'%20fill='%23850849'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M17.3547%2031.3594V32.5578H50.1929V31.3594H17.3547Z'%20fill='%23850849'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M17.3547%2039.3492V40.5477H50.1929V39.3492H17.3547Z'%20fill='%23850849'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M17.3547%2047.339V48.5375H50.1929V47.339H17.3547Z'%20fill='%23850849'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M17.3547%2055.3289V56.5273H50.1929V55.3289H17.3547Z'%20fill='%23850849'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M17.3547%2063.3187V64.5172H50.1929V63.3187H17.3547Z'%20fill='%23850849'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M42.0145%2022.7703V25.1672H50.9095V22.7703H42.0145Z'%20fill='%23850849'/%3e%3c/svg%3e",WU="/assets/non-local-cv-DGqpwB1W.svg",zU="data:image/svg+xml,%3csvg%20width='57'%20height='56'%20viewBox='0%200%2057%2056'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.9312%200.0246582C6.68757%200.0246582%200.794983%205.8717%200.794983%2013.058C0.794983%2020.2443%206.68819%2026.0913%2013.9312%2026.0913C21.1742%2026.0913%2027.0674%2020.2443%2027.0674%2013.058C27.0674%205.8717%2021.1742%200.0246582%2013.9312%200.0246582ZM13.9312%2024.3612C7.64963%2024.3612%202.53932%2019.291%202.53932%2013.0586C2.53932%206.82622%207.64963%201.75533%2013.9312%201.75533C20.2128%201.75533%2025.3237%206.82561%2025.3237%2013.058C25.3237%2019.2904%2020.2128%2024.3612%2013.9312%2024.3612ZM16.7315%2012.2356C17.4549%2011.5215%2017.9034%2010.5335%2017.9034%209.44323C17.9034%207.27%2016.1216%205.50158%2013.9306%205.50158C11.7402%205.50158%209.95844%207.26939%209.95844%209.44323C9.95844%2010.5335%2010.407%2011.5215%2011.1303%2012.2356C8.65832%2013.31%206.92686%2015.759%206.92686%2018.6037C6.92686%2019.0816%207.31708%2019.4687%207.79872%2019.4687H20.0631C20.5447%2019.4687%2020.935%2019.0816%2020.935%2018.6037C20.935%2015.759%2019.2035%2013.31%2016.7315%2012.2356ZM11.7028%209.44323C11.7028%208.22391%2012.7023%207.23225%2013.9312%207.23225C15.1602%207.23225%2016.1596%208.22391%2016.1596%209.44323C16.1596%2010.6626%2015.1602%2011.6542%2013.9312%2011.6542C12.7023%2011.6542%2011.7028%2010.6626%2011.7028%209.44323ZM8.74299%2017.7381C9.15959%2015.2708%2011.3273%2013.3843%2013.9306%2013.3843C16.5339%2013.3843%2018.7016%2015.2708%2019.1182%2017.7381H8.74299ZM13.9312%2029.3366C6.68757%2029.3366%200.794983%2035.1836%200.794983%2042.3699C0.794983%2049.5562%206.68819%2055.4032%2013.9312%2055.4032C21.1742%2055.4032%2027.0674%2049.5562%2027.0674%2042.3699C27.0674%2035.1836%2021.1742%2029.3366%2013.9312%2029.3366ZM13.9312%2053.6731C7.64963%2053.6731%202.53932%2048.6029%202.53932%2042.3705C2.53932%2036.1381%207.64963%2031.0678%2013.9312%2031.0678C20.2128%2031.0678%2025.3237%2036.1381%2025.3237%2042.3705C25.3237%2048.6029%2020.2128%2053.6731%2013.9312%2053.6731ZM16.7315%2041.5475C17.4549%2040.8334%2017.9034%2039.8454%2017.9034%2038.7551C17.9034%2036.5819%2016.1216%2034.8135%2013.9306%2034.8135C11.7402%2034.8135%209.95844%2036.5813%209.95844%2038.7551C9.95844%2039.8454%2010.407%2040.8334%2011.1303%2041.5475C8.65832%2042.6219%206.92686%2045.0709%206.92686%2047.9156C6.92686%2048.3935%207.31708%2048.7806%207.79872%2048.7806H20.0631C20.5447%2048.7806%2020.935%2048.3935%2020.935%2047.9156C20.935%2045.0709%2019.2035%2042.6219%2016.7315%2041.5475ZM11.7028%2038.7551C11.7028%2037.5358%2012.7023%2036.5442%2013.9312%2036.5442C15.1602%2036.5442%2016.1596%2037.5358%2016.1596%2038.7551C16.1596%2039.9745%2015.1602%2040.9661%2013.9312%2040.9661C12.7023%2040.9661%2011.7028%2039.9739%2011.7028%2038.7551ZM8.74299%2047.05C9.15959%2044.5827%2011.3273%2042.6962%2013.9306%2042.6962C16.5339%2042.6962%2018.7016%2044.5821%2019.1182%2047.05H8.74299ZM32.4766%2013.0586C32.4766%2012.5807%2032.8668%2012.1936%2033.3484%2012.1936H55.7377C56.2193%2012.1936%2056.6096%2012.5807%2056.6096%2013.0586C56.6096%2013.5365%2056.2193%2013.9236%2055.7377%2013.9236H33.349C32.8674%2013.9236%2032.4766%2013.5365%2032.4766%2013.0586ZM56.6108%2018.818C56.6108%2019.2958%2056.2206%2019.683%2055.7389%2019.683H33.349C32.8674%2019.683%2032.4772%2019.2958%2032.4772%2018.818C32.4772%2018.3401%2032.8674%2017.9529%2033.349%2017.9529H55.7383C56.2199%2017.9529%2056.6108%2018.3401%2056.6108%2018.818ZM32.4766%207.29861C32.4766%206.82074%2032.8668%206.43357%2033.3484%206.43357H48.521C49.0027%206.43357%2049.3929%206.82074%2049.3929%207.29861C49.3929%207.77648%2049.0027%208.16364%2048.521%208.16364H33.349C32.8674%208.16425%2032.4766%207.77648%2032.4766%207.29861ZM56.6108%2042.3699C56.6108%2042.8478%2056.2206%2043.2349%2055.7389%2043.2349H33.349C32.8674%2043.2349%2032.4772%2042.8478%2032.4772%2042.3699C32.4772%2041.892%2032.8674%2041.5049%2033.349%2041.5049H55.7383C56.2199%2041.5049%2056.6108%2041.892%2056.6108%2042.3699ZM56.6108%2048.1299C56.6108%2048.6077%2056.2206%2048.9949%2055.7389%2048.9949H33.349C32.8674%2048.9949%2032.4772%2048.6077%2032.4772%2048.1299C32.4772%2047.652%2032.8674%2047.2648%2033.349%2047.2648H55.7383C56.2199%2047.2642%2056.6108%2047.652%2056.6108%2048.1299ZM32.4766%2036.6105C32.4766%2036.1326%2032.8668%2035.7455%2033.3484%2035.7455H48.521C49.0027%2035.7455%2049.3929%2036.1326%2049.3929%2036.6105C49.3929%2037.0884%2049.0027%2037.4755%2048.521%2037.4755H33.349C32.8674%2037.4755%2032.4766%2037.0884%2032.4766%2036.6105Z'%20fill='%23400C88'/%3e%3c/svg%3e",VU="data:image/svg+xml,%3csvg%20width='74'%20height='71'%20viewBox='0%200%2074%2071'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M58.6839%2025.2973H52.9528V20.6244C52.951%2019.0758%2052.3466%2017.5911%2051.2722%2016.4961C50.1978%2015.4011%2048.7411%2014.7851%2047.2217%2014.7832H26.5898C25.0704%2014.7851%2023.6137%2015.4011%2022.5393%2016.4961C21.4649%2017.5911%2020.8605%2019.0758%2020.8587%2020.6244V25.2973H15.1276C13.6082%2025.2992%2012.1515%2025.9152%2011.0772%2027.0102C10.0028%2028.1052%209.39837%2029.5899%209.39655%2031.1385V36.9797C9.39546%2038.5757%209.79855%2040.145%2010.5668%2041.5358C10.5566%2041.5742%2010.5486%2041.6132%2010.5428%2041.6526V55.6715C10.5191%2057.1936%2011.0886%2058.6633%2012.1264%2059.7582C13.1642%2060.8532%2014.5856%2061.4841%2016.079%2061.5126H57.7325C59.226%2061.4841%2060.6473%2060.8532%2061.6851%2059.7582C62.7229%2058.6633%2063.2924%2057.1936%2063.2688%2055.6715V41.6526C63.263%2041.6132%2063.2549%2041.5742%2063.2447%2041.5358C64.013%2040.145%2064.4161%2038.5757%2064.415%2036.9797V31.1385C64.4132%2029.5899%2063.8088%2028.1052%2062.7344%2027.0102C61.66%2025.9152%2060.2033%2025.2992%2058.6839%2025.2973ZM23.1512%2020.6244C23.1512%2019.6949%2023.5134%2018.8034%2024.1583%2018.1462C24.8032%2017.4889%2025.6778%2017.1197%2026.5898%2017.1197H47.2217C48.1337%2017.1197%2049.0083%2017.4889%2049.6532%2018.1462C50.2981%2018.8034%2050.6604%2019.6949%2050.6604%2020.6244V25.2973H48.3679V22.9609C48.3679%2022.0313%2048.0056%2021.1399%2047.3608%2020.4827C46.7159%2019.8254%2045.8413%2019.4561%2044.9293%2019.4561H28.8822C27.9703%2019.4561%2027.0956%2019.8254%2026.4507%2020.4827C25.8059%2021.1399%2025.4436%2022.0313%2025.4436%2022.9609V25.2973H23.1512V20.6244ZM46.0755%2025.2973H27.736V22.9609C27.736%2022.651%2027.8568%2022.3539%2028.0717%2022.1348C28.2867%2021.9157%2028.5782%2021.7926%2028.8822%2021.7926H44.9293C45.2333%2021.7926%2045.5248%2021.9157%2045.7398%2022.1348C45.9547%2022.3539%2046.0755%2022.651%2046.0755%2022.9609V25.2973ZM11.689%2031.1385C11.689%2030.209%2012.0513%2029.3176%2012.6961%2028.6603C13.341%2028.003%2014.2156%2027.6338%2015.1276%2027.6338H58.6839C59.5959%2027.6338%2060.4705%2028.003%2061.1154%2028.6603C61.7603%2029.3176%2062.1225%2030.209%2062.1225%2031.1385V36.9797C62.1207%2038.8381%2061.3956%2040.6199%2060.1062%2041.934C58.8169%2043.2482%2057.0687%2043.9872%2055.2452%2043.9891H51.8066V41.6526C51.8066%2041.3428%2051.6858%2041.0456%2051.4709%2040.8266C51.2559%2040.6075%2050.9644%2040.4844%2050.6604%2040.4844H46.0755C45.7715%2040.4844%2045.48%2040.6075%2045.265%2040.8266C45.05%2041.0456%2044.9293%2041.3428%2044.9293%2041.6526V43.9891H28.8822V41.6526C28.8822%2041.3428%2028.7615%2041.0456%2028.5465%2040.8266C28.3316%2040.6075%2028.04%2040.4844%2027.736%2040.4844H23.1512C22.8472%2040.4844%2022.5556%2040.6075%2022.3407%2040.8266C22.1257%2041.0456%2022.0049%2041.3428%2022.0049%2041.6526V43.9891H18.5663C16.7429%2043.9872%2014.9947%2043.2482%2013.7053%2041.934C12.416%2040.6199%2011.6908%2038.8381%2011.689%2036.9797V31.1385ZM47.2217%2042.8209H49.5142V47.4938H47.2217V42.8209ZM24.2974%2042.8209H26.5898V47.4938H24.2974V42.8209ZM57.7325%2059.1762H16.079C15.1934%2059.1481%2014.3549%2058.7635%2013.7469%2058.1066C13.1389%2057.4498%2012.8111%2056.5741%2012.8352%2055.6715V44.2636C14.458%2045.5986%2016.4808%2046.3264%2018.5663%2046.3256H22.0049V48.662C22.0049%2048.9719%2022.1257%2049.269%2022.3407%2049.4881C22.5556%2049.7072%2022.8472%2049.8303%2023.1512%2049.8303H27.736C28.04%2049.8303%2028.3316%2049.7072%2028.5465%2049.4881C28.7615%2049.269%2028.8822%2048.9719%2028.8822%2048.662V46.3256H44.9293V48.662C44.9293%2048.9719%2045.05%2049.269%2045.265%2049.4881C45.48%2049.7072%2045.7715%2049.8303%2046.0755%2049.8303H50.6604C50.9644%2049.8303%2051.2559%2049.7072%2051.4709%2049.4881C51.6858%2049.269%2051.8066%2048.9719%2051.8066%2048.662V46.3256H55.2452C57.3307%2046.3264%2059.3535%2045.5986%2060.9763%2044.2636V55.6715C61.0004%2056.5741%2060.6726%2057.4498%2060.0646%2058.1066C59.4566%2058.7635%2058.6181%2059.1481%2057.7325%2059.1762Z'%20fill='%238F3A0D'/%3e%3c/svg%3e",$U="/assets/apply_employreq-D9sKIy29.svg",ak=[{bg:" shadow-[0_1px_6px_1px_rgba(0,0,0,0.2)]",bg1:"bg-[#C9C9C9]",icons:$U,title:"Apply Employee Requisition",path:"applyemployreq"},{bg:" shadow-[0_1px_4px_1px_rgba(0,0,0,0.2)]",bg1:"bg-[#9BE9FF]",icons:UU,title:"Employee Requisition",path:"employreq"},{bg:" shadow-[0_1px_6px_1px_rgba(0,0,0,0.2)]",bg1:"bg-[#FFEDA5]",icons:HU,title:"Candidate",path:"candidate"},{bg:" shadow-[0_1px_6px_1px_rgba(0,0,0,0.2)]",bg1:"bg-[#F58DC3]",icons:qU,title:"Local CV",path:"localcandi"},{bg:" shadow-[0_1px_6px_1px_rgba(0,0,0,0.2)]",bg1:"bg-[#B1F094]",icons:WU,title:"Non Local CV",path:"nonloccandi"},{bg:" shadow-[0_1px_6px_1px_rgba(0,0,0,0.2)]",bg1:"bg-[#BF91FF]",icons:zU,title:"Status",path:"status"},{bg:" shadow-[0_1px_6px_1px_rgba(0,0,0,0.2)]",bg1:"bg-[#FBB995]",icons:VU,title:"WorkPass Tracking",path:"workpasstracking"}],GU=()=>{const n=Yi(),r=y8("userID","Recruitment"),t=s=>{s==="Apply Employee Requisition"?n("/recrutiles/applyemployreq"):s==="Employee Requisition"?n("/recrutiles/employreq"):s==="Candidate"?n("/recrutiles/candidate"):s==="Local CV"?n("/recrutiles/localcandi"):s==="Non Local CV"?n("/recrutiles/nonloccandi"):s==="Status"?n("/recrutiles/status"):s==="WorkPass Tracking"&&n("/recrutiles/workpasstracking")},e=ak.filter(s=>r.includes(s.title));return console.log(e,"kjhg"),m.jsx("section",{className:"min-h-screen p-10 bg-[#F5F6F1]",children:m.jsx("div",{className:" screen-size flex justify-between items-center flex-wrap gap-10 text-black",children:e.map((s,a)=>m.jsxs("div",{onClick:()=>t(s.title),className:`${s.bg} rounded-3xl w-72 h-50 p-4 bg-white border-4 border-white cursor-pointer transition-all duration-50 hover:border-[#faf362] hover:border-4`,children:[m.jsx("div",{className:`${s.bg1} rounded-full my-8 w-24 h-24 center m-auto`,children:m.jsx("img",{className:"w-13 h-16 object-cover",src:s.icons,alt:`${a} Icon not found`})}),m.jsx("h5",{className:"text-[18px] font-semibold text-center",children:s.title})]},a))})})},YU=()=>(ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),m.jsx("div",{children:m.jsx(GU,{})}));function KU(n){return Fn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"},child:[]}]})(n)}function XU(n){return Fn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M64 80c-8.8 0-16 7.2-16 16V416c0 8.8 7.2 16 16 16H384c8.8 0 16-7.2 16-16V96c0-8.8-7.2-16-16-16H64zM0 96C0 60.7 28.7 32 64 32H384c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM152 232H296c13.3 0 24 10.7 24 24s-10.7 24-24 24H152c-13.3 0-24-10.7-24-24s10.7-24 24-24z"},child:[]}]})(n)}function JU(n){return Fn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M64 80c-8.8 0-16 7.2-16 16V416c0 8.8 7.2 16 16 16H384c8.8 0 16-7.2 16-16V96c0-8.8-7.2-16-16-16H64zM0 96C0 60.7 28.7 32 64 32H384c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM200 344V280H136c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V168c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H248v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"},child:[]}]})(n)}function ZU(n){return Fn({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"},child:[]}]})(n)}function Yc(n){return Fn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(n)}function QU(n){return Fn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(n)}function eH(n){return Fn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function x3(n){return Fn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(n)}function _8(n){return Fn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(n)}function S8(n){return Fn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(n)}function Mf(n){return Fn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(n)}function E8(n){return Fn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function tH(n){return Fn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(n)}function rH(n){return Fn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function nH(n){return Fn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(n)}function _h(n){return Fn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(n)}function Of(n){return Fn({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function sH(n){return Fn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-83.6 290.5c4.8 4.8 4.8 12.6 0 17.4l-40.5 40.5c-4.8 4.8-12.6 4.8-17.4 0L256 313.3l-66.5 67.1c-4.8 4.8-12.6 4.8-17.4 0l-40.5-40.5c-4.8-4.8-4.8-12.6 0-17.4l67.1-66.5-67.1-66.5c-4.8-4.8-4.8-12.6 0-17.4l40.5-40.5c4.8-4.8 12.6-4.8 17.4 0l66.5 67.1 66.5-67.1c4.8-4.8 12.6-4.8 17.4 0l40.5 40.5c4.8 4.8 4.8 12.6 0 17.4L313.3 256l67.1 66.5z"},child:[]}]})(n)}const Zm=({currentPage:n,totalPages:r,onPageChange:t})=>{const s=(()=>{const a=[];if(r<=4)for(let i=1;i<=r;i++)a.push(i);else{let i=Math.max(n-1,1),o=i+3;o>r&&(o=r,i=Math.max(o-3,1));for(let u=i;u<=o;u++)a.push(u)}return a})();return m.jsxs("div",{className:"flex justify-between gap-6 w-3/5 items-center",children:[m.jsxs("button",{onClick:()=>t(n-1),disabled:n===1,className:"flex items-center gap-2 border border-[#5A5858] text-sm text-dark_grey rounded-lg hover:bg-gray-200 px-5 py-2 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors duration-200",children:[m.jsx(KU,{className:"text-[16px]"}),m.jsx("span",{children:"Previous"})]}),s.map((a,i)=>m.jsx("button",{onClick:()=>t(a),className:`w-8 h-8 p-4 flex items-center justify-center text-sm font-medium rounded-full ${n===a?"bg-[indigo] shadow-md text-white":"bg-gray-200 text-dark_grey"}`,children:a},i)),m.jsxs("button",{onClick:()=>t(n+1),disabled:n===r,className:"flex items-center gap-2 border border-[#5A5858] text-sm text-dark_grey rounded-lg  px-5 py-2 ",children:[m.jsx("span",{children:"Next"}),m.jsx(QU,{className:"text-[16px]"})]})]})},aH=({initialData:n,statusUpdate:r,handleClickForToggle:t,onViewClick:e,handleDelete:s,userType:a,personalInfo:i,formatDate:o})=>{const[u,c]=ne.useState(n),[l,d]=ne.useState(1),[p,h]=ne.useState(15);ne.useEffect(()=>{c(n)},[n]);const f=["S. No","Employee ID","Name","Received Date",a!=="Supervisor"&&a!=="Manager"&&"Supervisor Name",a!=="Manager"&&"Approved Date",a!=="Manager"&&a!=="Supervisior"&&"Manager Name",a!=="Supervisor"&&"Approved Date","Submitted Form",a!=="SuperAdmin"&&a!=="HR"&&"Status"].filter(Boolean),b=w=>w==="Rejected"?"text-[#C50000]":w==="Approved"?"text-[#0CB100]":w==="Pending"?"text-dark_grey":"text-gray-500",y=u.filter(w=>w.empStatus!=="Cancelled"),g=(a!=="SuperAdmin"||a!=="HR")&&a==="Manager"?y.filter(w=>w.supervisorStatus==="Approved"&&(w.managerName===i.name||w.supervisorName===i.name)):a==="Supervisor"?y.filter(w=>w.supervisorName===i.name):y;ne.useEffect(()=>{const w=g,S=(l-1)*p,D=w.slice(S,S+p);c(D)},[l,p]);const v=Math.ceil(g.length/p);return m.jsxs("section",{className:"flex flex-col",children:[m.jsx("div",{className:"leaveManagementTable h-[70vh] max-h-[calc(70vh-7rem)] max-w-[100%] overflow-x-auto",children:m.jsxs("table",{className:"w-[1150px]",children:[m.jsx("thead",{className:"bg-black sticky top-0",children:m.jsx("tr",{className:"bg-[#C5C5C5] rounded-sm",children:f.map((w,S)=>m.jsx("th",{className:"px-4 py-5 text-[15px] text-secondary",children:w},S))})}),m.jsx("tbody",{children:g&&g.length>0?g.map((w,S)=>m.jsxs("tr",{className:"text-center text-sm border-b-2 border-[#CECECE]",children:[m.jsx("td",{className:"border-b-2 border-[#CECECE] py-3",children:S+1}),m.jsx("td",{className:"border-b-2 border-[#CECECE] py-3",children:w.empID}),m.jsx("td",{className:"border-b-2 border-[#CECECE] text-start pl-4",children:w.employeeInfo.name||"Tony Stark"}),m.jsx("td",{className:"border-b-2 border-[#CECECE]",children:o(w.createdAt)}),a!=="Supervisor"&&a!=="Manager"&&m.jsx("td",{className:"border-b-2 border-[#CECECE]",children:w.supervisorName||"N/A"}),a!=="Manager"&&m.jsx("td",{className:"border-b-2 border-[#CECECE]",children:o(w.supervisorDate)||"N/A"}),a!=="Manager"&&a!=="Supervisor"&&m.jsx("td",{className:"border-b-2 border-[#CECECE]",children:w.managerName||"N/A"}),a!=="Supervisor"&&m.jsx("td",{className:"border-b-2 border-[#CECECE]",children:o(w.managerDate)||"N/A"}),m.jsx("td",{className:"border-b-2 border-[#CECECE] cursor-pointer",children:m.jsx("span",{className:"border-b-2 border-dark_grey",onClick:()=>{t(),e(w)},children:w["submitted Form"]||"View"})}),m.jsx("td",{className:`${b(w.managerStatus)}`,children:a==="Supervisior"&&w.supervisorStatus||a==="Manager"&&w.managerStatus})]},w.id)):m.jsx("tr",{children:m.jsx("td",{colSpan:f.length,className:"text-center py-4",children:"No data available"})})})]})}),m.jsx("div",{className:"ml-20 flex justify-center",children:m.jsx("div",{className:"w-[60%] flex justify-start mt-4  px-10",children:a!=="SuperAdmin"&&a!=="HR"&&m.jsx(Zm,{currentPage:l,totalPages:v,onPageChange:w=>{w>=1&&w<=v&&d(w)}})})})]})},iH=({initialData:n,userType:r,formatDate:t,personalInfo:e})=>{const[s,a]=ne.useState(1),[i,o]=ne.useState(n),[u,c]=ne.useState(15),l=["S.No","Employee ID","Leave Type","Start Date","End Date","Reason",r!=="SuperAdmin"&&"Status"],d=b=>b==="Rejected"?"text-[#C50000]":b==="Approved"?"text-[#0CB100]":b==="Pending"?"text-dark_grey":"text-gray-500",p=n==null?void 0:n.filter(b=>{const y=b.supervisorName,g=b.managerName,x=e.name===y||e.name===g||r==="SuperAdmin"||r==="HR";return b.managerStatus==="Approved"&&x});ne.useEffect(()=>{const b=p,y=(s-1)*u,g=b.slice(y,y+u);o(g)},[s,u]);const f=Math.ceil(p.length/u);return m.jsxs("section",{children:[m.jsx("div",{className:"leaveManagementTable h-[70vh] max-h-[calc(70vh-7rem)] max-w-[100%] overflow-x-auto",children:m.jsxs("table",{className:"w-[1150px]",children:[m.jsx("thead",{className:"bg-black",children:m.jsx("tr",{className:"bg-[#C5C5C5] rounded-sm",children:l.map((b,y)=>m.jsx("th",{className:"px-4 py-5 text-[15px] text-secondary",children:b},y))})}),m.jsx("tbody",{children:p&&p.map((b,y)=>m.jsxs("tr",{className:"text-center text-sm border-b-2 border-[#CECECE]",children:[m.jsx("td",{className:"border-b-2 border-[#CECECE] py-3",children:y+1}),m.jsx("td",{className:"border-b-2 border-[#CECECE] py-3",children:b.empID}),m.jsx("td",{className:"border-b-2 border-[#CECECE]",children:b.leaveType}),m.jsx("td",{className:"border-b-2 border-[#CECECE]",children:t(b.fromDate)}),m.jsx("td",{className:"border-b-2 border-[#CECECE]",children:t(b.toDate)}),m.jsx("td",{className:"border-b-2 border-[#CECECE]",children:b.reason}),m.jsx("td",{className:`${d(r==="Manager"?b.managerStatus:r==="Supervisor"?b.supervisorStatus:b.managerStatus)}`,children:r==="Manager"?b.managerStatus||"not found":r==="Supervisor"||r==="HR"?b.supervisorStatus||"not found":""})]},y))})]})}),m.jsx("div",{className:"ml-20 flex justify-center",children:m.jsx("div",{className:"w-[60%] flex justify-start mt-4 px-10",children:r!=="SuperAdmin"&&r!=="HR"&&m.jsx(Zm,{currentPage:s,totalPages:f,onPageChange:b=>{b>=1&&b<=f&&a(b)}})})})]})},oH=({AfterFilter:n})=>{const[r,t]=ne.useState(!1),[e,s]=ne.useState("All"),a=()=>{t(!r)},i=o=>{s(o),t(!1)};return ne.useEffect(()=>{n(e)},[e]),m.jsx("section",{className:"",children:m.jsxs("div",{className:"center gap-2 border relative rounded-md p-[9px]  text-sm text-secondary border-[#CDCDCD]",onClick:a,children:[m.jsx(u8,{}),m.jsx("p",{children:"Filter"}),r&&m.jsx("div",{className:" top-10 absolute left-0 w-32 shadow-lg bg-white z-50 ",children:m.jsxs("div",{className:"py-1 shadow-md  flex flex-col bg-white",children:[m.jsx("button",{onClick:()=>i("All"),className:" w-full text-left px-4 py-2 text-sm text-dark_grey hover:bg-lite_grey hover:text-white ",children:"All"}),m.jsx("button",{onClick:()=>i("Pending"),className:" w-full text-left px-4 py-2 text-sm text-dark_grey hover:bg-lite_grey hover:text-white ",children:"Pending"}),m.jsx("button",{onClick:()=>{i("Approved")},className:"   w-full text-left px-4 py-2 text-sm text-dark_grey hover:bg-lite_grey hover:text-white",children:"Approved"}),m.jsx("button",{onClick:()=>i("Rejected"),className:" w-full text-left px-4 py-2 text-sm text-dark_grey hover:bg-lite_grey hover:text-white",children:"Rejected"})]})})]})})};function ik(n){var r,t,e="";if(typeof n=="string"||typeof n=="number")e+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(r=0;r<s;r++)n[r]&&(t=ik(n[r]))&&(e&&(e+=" "),e+=t)}else for(t in n)n[t]&&(e&&(e+=" "),e+=t);return e}function ea(){for(var n,r,t=0,e="",s=arguments.length;t<s;t++)(n=arguments[t])&&(r=ik(n))&&(e&&(e+=" "),e+=r);return e}function Qw(){return typeof window<"u"}function fg(n){return ok(n)?(n.nodeName||"").toLowerCase():"#document"}function yl(n){var r;return(n==null||(r=n.ownerDocument)==null?void 0:r.defaultView)||window}function Qu(n){var r;return(r=(ok(n)?n.ownerDocument:n.document)||window.document)==null?void 0:r.documentElement}function ok(n){return Qw()?n instanceof Node||n instanceof yl(n).Node:!1}function fo(n){return Qw()?n instanceof Element||n instanceof yl(n).Element:!1}function Yu(n){return Qw()?n instanceof HTMLElement||n instanceof yl(n).HTMLElement:!1}function w3(n){return!Qw()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof yl(n).ShadowRoot}function Sv(n){const{overflow:r,overflowX:t,overflowY:e,display:s}=Yl(n);return/auto|scroll|overlay|hidden|clip/.test(r+e+t)&&!["inline","contents"].includes(s)}function lH(n){return["table","td","th"].includes(fg(n))}function e5(n){return[":popover-open",":modal"].some(r=>{try{return n.matches(r)}catch{return!1}})}function N8(n){const r=A8(),t=fo(n)?Yl(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!r&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!r&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(e=>(t.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(t.contain||"").includes(e))}function cH(n){let r=Lf(n);for(;Yu(r)&&!rg(r);){if(N8(r))return r;if(e5(r))return null;r=Lf(r)}return null}function A8(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function rg(n){return["html","body","#document"].includes(fg(n))}function Yl(n){return yl(n).getComputedStyle(n)}function t5(n){return fo(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Lf(n){if(fg(n)==="html")return n;const r=n.assignedSlot||n.parentNode||w3(n)&&n.host||Qu(n);return w3(r)?r.host:r}function lk(n){const r=Lf(n);return rg(r)?n.ownerDocument?n.ownerDocument.body:n.body:Yu(r)&&Sv(r)?r:lk(r)}function Ib(n,r,t){var e;r===void 0&&(r=[]),t===void 0&&(t=!0);const s=lk(n),a=s===((e=n.ownerDocument)==null?void 0:e.body),i=yl(s);if(a){const o=E_(i);return r.concat(i,i.visualViewport||[],Sv(s)?s:[],o&&t?Ib(o):[])}return r.concat(s,Ib(s,[],t))}function E_(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const ng=Math.min,Tm=Math.max,Zx=Math.round,U2=Math.floor,Ff=n=>({x:n,y:n}),uH={left:"right",right:"left",bottom:"top",top:"bottom"},dH={start:"end",end:"start"};function hH(n,r,t){return Tm(n,ng(r,t))}function r5(n,r){return typeof n=="function"?n(r):n}function sg(n){return n.split("-")[0]}function Ev(n){return n.split("-")[1]}function fH(n){return n==="x"?"y":"x"}function k8(n){return n==="y"?"height":"width"}function Pb(n){return["top","bottom"].includes(sg(n))?"y":"x"}function C8(n){return fH(Pb(n))}function pH(n,r,t){t===void 0&&(t=!1);const e=Ev(n),s=C8(n),a=k8(s);let i=s==="x"?e===(t?"end":"start")?"right":"left":e==="start"?"bottom":"top";return r.reference[a]>r.floating[a]&&(i=Qx(i)),[i,Qx(i)]}function mH(n){const r=Qx(n);return[N_(n),r,N_(r)]}function N_(n){return n.replace(/start|end/g,r=>dH[r])}function gH(n,r,t){const e=["left","right"],s=["right","left"],a=["top","bottom"],i=["bottom","top"];switch(n){case"top":case"bottom":return t?r?s:e:r?e:s;case"left":case"right":return r?a:i;default:return[]}}function bH(n,r,t,e){const s=Ev(n);let a=gH(sg(n),t==="start",e);return s&&(a=a.map(i=>i+"-"+s),r&&(a=a.concat(a.map(N_)))),a}function Qx(n){return n.replace(/left|right|bottom|top/g,r=>uH[r])}function yH(n){return{top:0,right:0,bottom:0,left:0,...n}}function ck(n){return typeof n!="number"?yH(n):{top:n,right:n,bottom:n,left:n}}function ew(n){const{x:r,y:t,width:e,height:s}=n;return{width:e,height:s,top:t,left:r,right:r+e,bottom:t+s,x:r,y:t}}function _3(n,r,t){let{reference:e,floating:s}=n;const a=Pb(r),i=C8(r),o=k8(i),u=sg(r),c=a==="y",l=e.x+e.width/2-s.width/2,d=e.y+e.height/2-s.height/2,p=e[o]/2-s[o]/2;let h;switch(u){case"top":h={x:l,y:e.y-s.height};break;case"bottom":h={x:l,y:e.y+e.height};break;case"right":h={x:e.x+e.width,y:d};break;case"left":h={x:e.x-s.width,y:d};break;default:h={x:e.x,y:e.y}}switch(Ev(r)){case"start":h[i]-=p*(t&&c?-1:1);break;case"end":h[i]+=p*(t&&c?-1:1);break}return h}const vH=async(n,r,t)=>{const{placement:e="bottom",strategy:s="absolute",middleware:a=[],platform:i}=t,o=a.filter(Boolean),u=await(i.isRTL==null?void 0:i.isRTL(r));let c=await i.getElementRects({reference:n,floating:r,strategy:s}),{x:l,y:d}=_3(c,e,u),p=e,h={},f=0;for(let b=0;b<o.length;b++){const{name:y,fn:g}=o[b],{x,y:v,data:w,reset:S}=await g({x:l,y:d,initialPlacement:e,placement:p,strategy:s,middlewareData:h,rects:c,platform:i,elements:{reference:n,floating:r}});l=x??l,d=v??d,h={...h,[y]:{...h[y],...w}},S&&f<=50&&(f++,typeof S=="object"&&(S.placement&&(p=S.placement),S.rects&&(c=S.rects===!0?await i.getElementRects({reference:n,floating:r,strategy:s}):S.rects),{x:l,y:d}=_3(c,p,u)),b=-1)}return{x:l,y:d,placement:p,strategy:s,middlewareData:h}};async function xH(n,r){var t;r===void 0&&(r={});const{x:e,y:s,platform:a,rects:i,elements:o,strategy:u}=n,{boundary:c="clippingAncestors",rootBoundary:l="viewport",elementContext:d="floating",altBoundary:p=!1,padding:h=0}=r5(r,n),f=ck(h),y=o[p?d==="floating"?"reference":"floating":d],g=ew(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(y)))==null||t?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:l,strategy:u})),x=d==="floating"?{x:e,y:s,width:i.floating.width,height:i.floating.height}:i.reference,v=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),w=await(a.isElement==null?void 0:a.isElement(v))?await(a.getScale==null?void 0:a.getScale(v))||{x:1,y:1}:{x:1,y:1},S=ew(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:v,strategy:u}):x);return{top:(g.top-S.top+f.top)/w.y,bottom:(S.bottom-g.bottom+f.bottom)/w.y,left:(g.left-S.left+f.left)/w.x,right:(S.right-g.right+f.right)/w.x}}const wH=n=>({name:"arrow",options:n,async fn(r){const{x:t,y:e,placement:s,rects:a,platform:i,elements:o,middlewareData:u}=r,{element:c,padding:l=0}=r5(n,r)||{};if(c==null)return{};const d=ck(l),p={x:t,y:e},h=C8(s),f=k8(h),b=await i.getDimensions(c),y=h==="y",g=y?"top":"left",x=y?"bottom":"right",v=y?"clientHeight":"clientWidth",w=a.reference[f]+a.reference[h]-p[h]-a.floating[f],S=p[h]-a.reference[h],D=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let T=D?D[v]:0;(!T||!await(i.isElement==null?void 0:i.isElement(D)))&&(T=o.floating[v]||a.floating[f]);const R=w/2-S/2,P=T/2-b[f]/2-1,L=ng(d[g],P),O=ng(d[x],P),H=L,U=T-b[f]-O,I=T/2-b[f]/2+R,F=hH(H,I,U),A=!u.arrow&&Ev(s)!=null&&I!==F&&a.reference[f]/2-(I<H?L:O)-b[f]/2<0,_=A?I<H?I-H:I-U:0;return{[h]:p[h]+_,data:{[h]:F,centerOffset:I-F-_,...A&&{alignmentOffset:_}},reset:A}}}),_H=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(r){var t,e;const{placement:s,middlewareData:a,rects:i,initialPlacement:o,platform:u,elements:c}=r,{mainAxis:l=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:b=!0,...y}=r5(n,r);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const g=sg(s),x=Pb(o),v=sg(o)===o,w=await(u.isRTL==null?void 0:u.isRTL(c.floating)),S=p||(v||!b?[Qx(o)]:mH(o)),D=f!=="none";!p&&D&&S.push(...bH(o,b,f,w));const T=[o,...S],R=await xH(r,y),P=[];let L=((e=a.flip)==null?void 0:e.overflows)||[];if(l&&P.push(R[g]),d){const I=pH(s,i,w);P.push(R[I[0]],R[I[1]])}if(L=[...L,{placement:s,overflows:P}],!P.every(I=>I<=0)){var O,H;const I=(((O=a.flip)==null?void 0:O.index)||0)+1,F=T[I];if(F)return{data:{index:I,overflows:L},reset:{placement:F}};let A=(H=L.filter(_=>_.overflows[0]<=0).sort((_,E)=>_.overflows[1]-E.overflows[1])[0])==null?void 0:H.placement;if(!A)switch(h){case"bestFit":{var U;const _=(U=L.filter(E=>{if(D){const N=Pb(E.placement);return N===x||N==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(N=>N>0).reduce((N,k)=>N+k,0)]).sort((E,N)=>E[1]-N[1])[0])==null?void 0:U[0];_&&(A=_);break}case"initialPlacement":A=o;break}if(s!==A)return{reset:{placement:A}}}return{}}}};async function SH(n,r){const{placement:t,platform:e,elements:s}=n,a=await(e.isRTL==null?void 0:e.isRTL(s.floating)),i=sg(t),o=Ev(t),u=Pb(t)==="y",c=["left","top"].includes(i)?-1:1,l=a&&u?-1:1,d=r5(r,n);let{mainAxis:p,crossAxis:h,alignmentAxis:f}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof f=="number"&&(h=o==="end"?f*-1:f),u?{x:h*l,y:p*c}:{x:p*c,y:h*l}}const EH=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(r){var t,e;const{x:s,y:a,placement:i,middlewareData:o}=r,u=await SH(r,n);return i===((t=o.offset)==null?void 0:t.placement)&&(e=o.arrow)!=null&&e.alignmentOffset?{}:{x:s+u.x,y:a+u.y,data:{...u,placement:i}}}}};function uk(n){const r=Yl(n);let t=parseFloat(r.width)||0,e=parseFloat(r.height)||0;const s=Yu(n),a=s?n.offsetWidth:t,i=s?n.offsetHeight:e,o=Zx(t)!==a||Zx(e)!==i;return o&&(t=a,e=i),{width:t,height:e,$:o}}function D8(n){return fo(n)?n:n.contextElement}function G0(n){const r=D8(n);if(!Yu(r))return Ff(1);const t=r.getBoundingClientRect(),{width:e,height:s,$:a}=uk(r);let i=(a?Zx(t.width):t.width)/e,o=(a?Zx(t.height):t.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!o||!Number.isFinite(o))&&(o=1),{x:i,y:o}}const NH=Ff(0);function dk(n){const r=yl(n);return!A8()||!r.visualViewport?NH:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function AH(n,r,t){return r===void 0&&(r=!1),!t||r&&t!==yl(n)?!1:r}function Om(n,r,t,e){r===void 0&&(r=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),a=D8(n);let i=Ff(1);r&&(e?fo(e)&&(i=G0(e)):i=G0(n));const o=AH(a,t,e)?dk(a):Ff(0);let u=(s.left+o.x)/i.x,c=(s.top+o.y)/i.y,l=s.width/i.x,d=s.height/i.y;if(a){const p=yl(a),h=e&&fo(e)?yl(e):e;let f=p,b=E_(f);for(;b&&e&&h!==f;){const y=G0(b),g=b.getBoundingClientRect(),x=Yl(b),v=g.left+(b.clientLeft+parseFloat(x.paddingLeft))*y.x,w=g.top+(b.clientTop+parseFloat(x.paddingTop))*y.y;u*=y.x,c*=y.y,l*=y.x,d*=y.y,u+=v,c+=w,f=yl(b),b=E_(f)}}return ew({width:l,height:d,x:u,y:c})}function kH(n){let{elements:r,rect:t,offsetParent:e,strategy:s}=n;const a=s==="fixed",i=Qu(e),o=r?e5(r.floating):!1;if(e===i||o&&a)return t;let u={scrollLeft:0,scrollTop:0},c=Ff(1);const l=Ff(0),d=Yu(e);if((d||!d&&!a)&&((fg(e)!=="body"||Sv(i))&&(u=t5(e)),Yu(e))){const p=Om(e);c=G0(e),l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-u.scrollLeft*c.x+l.x,y:t.y*c.y-u.scrollTop*c.y+l.y}}function CH(n){return Array.from(n.getClientRects())}function A_(n,r){const t=t5(n).scrollLeft;return r?r.left+t:Om(Qu(n)).left+t}function DH(n){const r=Qu(n),t=t5(n),e=n.ownerDocument.body,s=Tm(r.scrollWidth,r.clientWidth,e.scrollWidth,e.clientWidth),a=Tm(r.scrollHeight,r.clientHeight,e.scrollHeight,e.clientHeight);let i=-t.scrollLeft+A_(n);const o=-t.scrollTop;return Yl(e).direction==="rtl"&&(i+=Tm(r.clientWidth,e.clientWidth)-s),{width:s,height:a,x:i,y:o}}function TH(n,r){const t=yl(n),e=Qu(n),s=t.visualViewport;let a=e.clientWidth,i=e.clientHeight,o=0,u=0;if(s){a=s.width,i=s.height;const c=A8();(!c||c&&r==="fixed")&&(o=s.offsetLeft,u=s.offsetTop)}return{width:a,height:i,x:o,y:u}}function jH(n,r){const t=Om(n,!0,r==="fixed"),e=t.top+n.clientTop,s=t.left+n.clientLeft,a=Yu(n)?G0(n):Ff(1),i=n.clientWidth*a.x,o=n.clientHeight*a.y,u=s*a.x,c=e*a.y;return{width:i,height:o,x:u,y:c}}function S3(n,r,t){let e;if(r==="viewport")e=TH(n,t);else if(r==="document")e=DH(Qu(n));else if(fo(r))e=jH(r,t);else{const s=dk(n);e={...r,x:r.x-s.x,y:r.y-s.y}}return ew(e)}function hk(n,r){const t=Lf(n);return t===r||!fo(t)||rg(t)?!1:Yl(t).position==="fixed"||hk(t,r)}function IH(n,r){const t=r.get(n);if(t)return t;let e=Ib(n,[],!1).filter(o=>fo(o)&&fg(o)!=="body"),s=null;const a=Yl(n).position==="fixed";let i=a?Lf(n):n;for(;fo(i)&&!rg(i);){const o=Yl(i),u=N8(i);!u&&o.position==="fixed"&&(s=null),(a?!u&&!s:!u&&o.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Sv(i)&&!u&&hk(n,i))?e=e.filter(l=>l!==i):s=o,i=Lf(i)}return r.set(n,e),e}function PH(n){let{element:r,boundary:t,rootBoundary:e,strategy:s}=n;const i=[...t==="clippingAncestors"?e5(r)?[]:IH(r,this._c):[].concat(t),e],o=i[0],u=i.reduce((c,l)=>{const d=S3(r,l,s);return c.top=Tm(d.top,c.top),c.right=ng(d.right,c.right),c.bottom=ng(d.bottom,c.bottom),c.left=Tm(d.left,c.left),c},S3(r,o,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function RH(n){const{width:r,height:t}=uk(n);return{width:r,height:t}}function MH(n,r,t){const e=Yu(r),s=Qu(r),a=t==="fixed",i=Om(n,!0,a,r);let o={scrollLeft:0,scrollTop:0};const u=Ff(0);if(e||!e&&!a)if((fg(r)!=="body"||Sv(s))&&(o=t5(r)),e){const h=Om(r,!0,a,r);u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}else s&&(u.x=A_(s));let c=0,l=0;if(s&&!e&&!a){const h=s.getBoundingClientRect();l=h.top+o.scrollTop,c=h.left+o.scrollLeft-A_(s,h)}const d=i.left+o.scrollLeft-u.x-c,p=i.top+o.scrollTop-u.y-l;return{x:d,y:p,width:i.width,height:i.height}}function j6(n){return Yl(n).position==="static"}function E3(n,r){if(!Yu(n)||Yl(n).position==="fixed")return null;if(r)return r(n);let t=n.offsetParent;return Qu(n)===t&&(t=t.ownerDocument.body),t}function fk(n,r){const t=yl(n);if(e5(n))return t;if(!Yu(n)){let s=Lf(n);for(;s&&!rg(s);){if(fo(s)&&!j6(s))return s;s=Lf(s)}return t}let e=E3(n,r);for(;e&&lH(e)&&j6(e);)e=E3(e,r);return e&&rg(e)&&j6(e)&&!N8(e)?t:e||cH(n)||t}const OH=async function(n){const r=this.getOffsetParent||fk,t=this.getDimensions,e=await t(n.floating);return{reference:MH(n.reference,await r(n.floating),n.strategy),floating:{x:0,y:0,width:e.width,height:e.height}}};function LH(n){return Yl(n).direction==="rtl"}const FH={convertOffsetParentRelativeRectToViewportRelativeRect:kH,getDocumentElement:Qu,getClippingRect:PH,getOffsetParent:fk,getElementRects:OH,getClientRects:CH,getDimensions:RH,getScale:G0,isElement:fo,isRTL:LH};function BH(n,r){let t=null,e;const s=Qu(n);function a(){var o;clearTimeout(e),(o=t)==null||o.disconnect(),t=null}function i(o,u){o===void 0&&(o=!1),u===void 0&&(u=1),a();const{left:c,top:l,width:d,height:p}=n.getBoundingClientRect();if(o||r(),!d||!p)return;const h=U2(l),f=U2(s.clientWidth-(c+d)),b=U2(s.clientHeight-(l+p)),y=U2(c),x={rootMargin:-h+"px "+-f+"px "+-b+"px "+-y+"px",threshold:Tm(0,ng(1,u))||1};let v=!0;function w(S){const D=S[0].intersectionRatio;if(D!==u){if(!v)return i();D?i(!1,D):e=setTimeout(()=>{i(!1,1e-7)},1e3)}v=!1}try{t=new IntersectionObserver(w,{...x,root:s.ownerDocument})}catch{t=new IntersectionObserver(w,x)}t.observe(n)}return i(!0),a}function UH(n,r,t,e){e===void 0&&(e={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:u=!1}=e,c=D8(n),l=s||a?[...c?Ib(c):[],...Ib(r)]:[];l.forEach(g=>{s&&g.addEventListener("scroll",t,{passive:!0}),a&&g.addEventListener("resize",t)});const d=c&&o?BH(c,t):null;let p=-1,h=null;i&&(h=new ResizeObserver(g=>{let[x]=g;x&&x.target===c&&h&&(h.unobserve(r),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var v;(v=h)==null||v.observe(r)})),t()}),c&&!u&&h.observe(c),h.observe(r));let f,b=u?Om(n):null;u&&y();function y(){const g=Om(n);b&&(g.x!==b.x||g.y!==b.y||g.width!==b.width||g.height!==b.height)&&t(),b=g,f=requestAnimationFrame(y)}return t(),()=>{var g;l.forEach(x=>{s&&x.removeEventListener("scroll",t),a&&x.removeEventListener("resize",t)}),d==null||d(),(g=h)==null||g.disconnect(),h=null,u&&cancelAnimationFrame(f)}}const HH=EH,qH=_H,N3=wH,WH=(n,r,t)=>{const e=new Map,s={platform:FH,...t},a={...s.platform,_c:e};return vH(n,r,{...s,platform:a})};var ux=typeof document<"u"?ne.useLayoutEffect:ne.useEffect;function tw(n,r){if(n===r)return!0;if(typeof n!=typeof r)return!1;if(typeof n=="function"&&n.toString()===r.toString())return!0;let t,e,s;if(n&&r&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==r.length)return!1;for(e=t;e--!==0;)if(!tw(n[e],r[e]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(r).length)return!1;for(e=t;e--!==0;)if(!{}.hasOwnProperty.call(r,s[e]))return!1;for(e=t;e--!==0;){const a=s[e];if(!(a==="_owner"&&n.$$typeof)&&!tw(n[a],r[a]))return!1}return!0}return n!==n&&r!==r}function pk(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function A3(n,r){const t=pk(n);return Math.round(r*t)/t}function I6(n){const r=ne.useRef(n);return ux(()=>{r.current=n}),r}function zH(n){n===void 0&&(n={});const{placement:r="bottom",strategy:t="absolute",middleware:e=[],platform:s,elements:{reference:a,floating:i}={},transform:o=!0,whileElementsMounted:u,open:c}=n,[l,d]=ne.useState({x:0,y:0,strategy:t,placement:r,middlewareData:{},isPositioned:!1}),[p,h]=ne.useState(e);tw(p,e)||h(e);const[f,b]=ne.useState(null),[y,g]=ne.useState(null),x=ne.useCallback(E=>{E!==D.current&&(D.current=E,b(E))},[]),v=ne.useCallback(E=>{E!==T.current&&(T.current=E,g(E))},[]),w=a||f,S=i||y,D=ne.useRef(null),T=ne.useRef(null),R=ne.useRef(l),P=u!=null,L=I6(u),O=I6(s),H=I6(c),U=ne.useCallback(()=>{if(!D.current||!T.current)return;const E={placement:r,strategy:t,middleware:p};O.current&&(E.platform=O.current),WH(D.current,T.current,E).then(N=>{const k={...N,isPositioned:H.current!==!1};I.current&&!tw(R.current,k)&&(R.current=k,eA.flushSync(()=>{d(k)}))})},[p,r,t,O,H]);ux(()=>{c===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,d(E=>({...E,isPositioned:!1})))},[c]);const I=ne.useRef(!1);ux(()=>(I.current=!0,()=>{I.current=!1}),[]),ux(()=>{if(w&&(D.current=w),S&&(T.current=S),w&&S){if(L.current)return L.current(w,S,U);U()}},[w,S,U,L,P]);const F=ne.useMemo(()=>({reference:D,floating:T,setReference:x,setFloating:v}),[x,v]),A=ne.useMemo(()=>({reference:w,floating:S}),[w,S]),_=ne.useMemo(()=>{const E={position:t,left:0,top:0};if(!A.floating)return E;const N=A3(A.floating,l.x),k=A3(A.floating,l.y);return o?{...E,transform:"translate("+N+"px, "+k+"px)",...pk(A.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:N,top:k}},[t,o,A.floating,l.x,l.y]);return ne.useMemo(()=>({...l,update:U,refs:F,elements:A,floatingStyles:_}),[l,U,F,A,_])}const VH=n=>{function r(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:e,padding:s}=typeof n=="function"?n(t):n;return e&&r(e)?e.current!=null?N3({element:e.current,padding:s}).fn(t):{}:e?N3({element:e,padding:s}).fn(t):{}}}},$H=(n,r)=>({...HH(n),options:[n,r]}),GH=(n,r)=>({...qH(n),options:[n,r]}),YH=(n,r)=>({...VH(n),options:[n,r]}),mk={...jM},KH=mk.useInsertionEffect,XH=KH||(n=>n());function JH(n){const r=ne.useRef(()=>{});return XH(()=>{r.current=n}),ne.useCallback(function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return r.current==null?void 0:r.current(...e)},[])}var rw=typeof document<"u"?ne.useLayoutEffect:ne.useEffect;function k_(){return k_=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}return n},k_.apply(this,arguments)}let k3=!1,ZH=0;const C3=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+ZH++;function QH(){const[n,r]=ne.useState(()=>k3?C3():void 0);return rw(()=>{n==null&&r(C3())},[]),ne.useEffect(()=>{k3=!0},[]),n}const eq=mk.useId,gk=eq||QH,tq=ne.forwardRef(function(r,t){const{context:{placement:e,elements:{floating:s},middlewareData:{arrow:a,shift:i}},width:o=14,height:u=7,tipRadius:c=0,strokeWidth:l=0,staticOffset:d,stroke:p,d:h,style:{transform:f,...b}={},...y}=r,g=gk(),[x,v]=ne.useState(!1);if(rw(()=>{if(!s)return;Yl(s).direction==="rtl"&&v(!0)},[s]),!s)return null;const[w,S]=e.split("-"),D=w==="top"||w==="bottom";let T=d;(D&&i!=null&&i.x||!D&&i!=null&&i.y)&&(T=null);const R=l*2,P=R/2,L=o/2*(c/-8+1),O=u/2*c/4,H=!!h,U=T&&S==="end"?"bottom":"top";let I=T&&S==="end"?"right":"left";T&&x&&(I=S==="end"?"left":"right");const F=(a==null?void 0:a.x)!=null?T||a.x:"",A=(a==null?void 0:a.y)!=null?T||a.y:"",_=h||"M0,0"+(" H"+o)+(" L"+(o-L)+","+(u-O))+(" Q"+o/2+","+u+" "+L+","+(u-O))+" Z",E={top:H?"rotate(180deg)":"",left:H?"rotate(90deg)":"rotate(-90deg)",bottom:H?"":"rotate(180deg)",right:H?"rotate(-90deg)":"rotate(90deg)"}[w];return ne.createElement("svg",k_({},y,{"aria-hidden":!0,ref:t,width:H?o:o+R,height:o,viewBox:"0 0 "+o+" "+(u>o?u:o),style:{position:"absolute",pointerEvents:"none",[I]:F,[U]:A,[w]:D||H?"100%":"calc(100% - "+R/2+"px)",transform:[E,f].filter(N=>!!N).join(" "),...b}}),R>0&&ne.createElement("path",{clipPath:"url(#"+g+")",fill:"none",stroke:p,strokeWidth:R+(h?0:1),d:_}),ne.createElement("path",{stroke:R&&!h?y.fill:"none",d:_}),ne.createElement("clipPath",{id:g},ne.createElement("rect",{x:-P,y:P*(H?-1:1),width:o+R,height:o})))});function rq(){const n=new Map;return{emit(r,t){var e;(e=n.get(r))==null||e.forEach(s=>s(t))},on(r,t){n.set(r,[...n.get(r)||[],t])},off(r,t){var e;n.set(r,((e=n.get(r))==null?void 0:e.filter(s=>s!==t))||[])}}}const nq=ne.createContext(null),sq=ne.createContext(null),aq=()=>{var n;return((n=ne.useContext(nq))==null?void 0:n.id)||null},iq=()=>ne.useContext(sq);function oq(n){const{open:r=!1,onOpenChange:t,elements:e}=n,s=gk(),a=ne.useRef({}),[i]=ne.useState(()=>rq()),o=aq()!=null,[u,c]=ne.useState(e.reference),l=JH((h,f,b)=>{a.current.openEvent=h?f:void 0,i.emit("openchange",{open:h,event:f,reason:b,nested:o}),t==null||t(h,f,b)}),d=ne.useMemo(()=>({setPositionReference:c}),[]),p=ne.useMemo(()=>({reference:u||e.reference||null,floating:e.floating||null,domReference:e.reference}),[u,e.reference,e.floating]);return ne.useMemo(()=>({dataRef:a,open:r,onOpenChange:l,elements:p,events:i,floatingId:s,refs:d}),[r,l,p,i,s,d])}function lq(n){n===void 0&&(n={});const{nodeId:r}=n,t=oq({...n,elements:{reference:null,floating:null,...n.elements}}),e=n.rootContext||t,s=e.elements,[a,i]=ne.useState(null),[o,u]=ne.useState(null),l=(s==null?void 0:s.reference)||a,d=ne.useRef(null),p=iq();rw(()=>{l&&(d.current=l)},[l]);const h=zH({...n,elements:{...s,...o&&{reference:o}}}),f=ne.useCallback(v=>{const w=fo(v)?{getBoundingClientRect:()=>v.getBoundingClientRect(),contextElement:v}:v;u(w),h.refs.setReference(w)},[h.refs]),b=ne.useCallback(v=>{(fo(v)||v===null)&&(d.current=v,i(v)),(fo(h.refs.reference.current)||h.refs.reference.current===null||v!==null&&!fo(v))&&h.refs.setReference(v)},[h.refs]),y=ne.useMemo(()=>({...h.refs,setReference:b,setPositionReference:f,domReference:d}),[h.refs,b,f]),g=ne.useMemo(()=>({...h.elements,domReference:l}),[h.elements,l]),x=ne.useMemo(()=>({...h,...e,refs:y,elements:g,nodeId:r}),[h,y,g,r,e]);return rw(()=>{e.dataRef.current.floatingContext=x;const v=p==null?void 0:p.nodesRef.current.find(w=>w.id===r);v&&(v.context=x)}),ne.useMemo(()=>({...h,context:x,refs:y,elements:g}),[h,y,g,x])}/*!
  react-datepicker v7.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var C_=function(r,t){return C_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,s){e.__proto__=s}||function(e,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])},C_(r,t)};function ti(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");C_(n,r);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var Tn=function(){return Tn=Object.assign||function(t){for(var e,s=1,a=arguments.length;s<a;s++){e=arguments[s];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Tn.apply(this,arguments)};function Hu(n,r,t){if(t||arguments.length===2)for(var e=0,s=r.length,a;e<s;e++)(a||!(e in r))&&(a||(a=Array.prototype.slice.call(r,0,e)),a[e]=r[e]);return n.concat(a||Array.prototype.slice.call(r))}var cq=function(n){var r=n.showTimeSelectOnly,t=r===void 0?!1:r,e=n.showTime,s=e===void 0?!1:e,a=n.className,i=n.children,o=t?"Choose Time":"Choose Date".concat(s?" and Time":"");return St.createElement("div",{className:a,role:"dialog","aria-label":o,"aria-modal":"true"},i)},uq=function(n,r){var t=ne.useRef(null),e=ne.useRef(n);e.current=n;var s=ne.useCallback(function(a){var i;t.current&&!t.current.contains(a.target)&&(r&&a.target instanceof HTMLElement&&a.target.classList.contains(r)||(i=e.current)===null||i===void 0||i.call(e,a))},[r]);return ne.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),t},n5=function(n){var r=n.children,t=n.onClickOutside,e=n.className,s=n.containerRef,a=n.style,i=n.ignoreClass,o=uq(t,i);return St.createElement("div",{className:e,style:a,ref:function(u){o.current=u,s&&(s.current=u)}},r)},nr;(function(n){n.ArrowUp="ArrowUp",n.ArrowDown="ArrowDown",n.ArrowLeft="ArrowLeft",n.ArrowRight="ArrowRight",n.PageUp="PageUp",n.PageDown="PageDown",n.Home="Home",n.End="End",n.Enter="Enter",n.Space=" ",n.Tab="Tab",n.Escape="Escape",n.Backspace="Backspace",n.X="x"})(nr||(nr={}));function bk(){var n=typeof window<"u"?window:globalThis;return n}var Nv=12,dq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function ns(n){if(n==null)return new Date;var r=typeof n=="string"?MF(n):cr(n);return Bd(r)?r:new Date}function P6(n,r,t,e,s){var a,i=null,o=jm(t)||jm(fb()),u=!0;if(Array.isArray(r))return r.forEach(function(l){var d=v6(n,l,new Date,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});e&&(u=Bd(d,s)&&n===Ns(d,l,t)),Bd(d,s)&&u&&(i=d)}),i;if(i=v6(n,r,new Date,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),e)u=Bd(i)&&n===Ns(i,r,t);else if(!Bd(i)){var c=((a=r.match(dq))!==null&&a!==void 0?a:[]).map(function(l){var d=l[0];if(d==="p"||d==="P"){var p=Kx[d];return o?p(l,o.formatLong):d}return l}).join("");n.length>0&&(i=v6(n,c.slice(0,n.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Bd(i)||(i=new Date(n))}return Bd(i)&&u?i:null}function Bd(n,r){return Vx(n)&&!Mm(n,r??new Date("1/1/1800"))}function Ns(n,r,t){if(t==="en")return W0(n,r,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var e=t?jm(t):void 0;return t&&!e&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),!e&&fb()&&jm(fb())&&(e=jm(fb())),W0(n,r,{locale:e,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ql(n,r){var t=r.dateFormat,e=r.locale,s=Array.isArray(t)&&t.length>0?t[0]:t;return n&&Ns(n,s,e)||""}function hq(n,r,t){if(!n)return"";var e=ql(n,t),s=r?ql(r,t):"";return"".concat(e," - ").concat(s)}function fq(n,r){if(!(n!=null&&n.length))return"";var t=n[0]?ql(n[0],r):"";if(n.length===1)return t;if(n.length===2&&n[1]){var e=ql(n[1],r);return"".concat(t,", ").concat(e)}var s=n.length-1;return"".concat(t," (+").concat(s,")")}function R6(n,r){var t=r.hour,e=t===void 0?0:t,s=r.minute,a=s===void 0?0:s,i=r.second,o=i===void 0?0:i;return ox(lx(cx(n,o),a),e)}function pq(n){return p8(n)}function mq(n,r){return Ns(n,"ddd",r)}function dx(n){return Rm(n)}function Cf(n,r,t){var e=jm(r||fb());return wh(n,{locale:e,weekStartsOn:t})}function Df(n){return _A(n)}function Hg(n){return Kw(n)}function D3(n){return u_(n)}function T3(){return Rm(ns())}function j3(n){return wA(n)}function gq(n){return UO(n)}function Ou(n,r){return n&&r?PF(n,r):!n&&!r}function oo(n,r){return n&&r?jF(n,r):!n&&!r}function nw(n,r){return n&&r?IF(n,r):!n&&!r}function _n(n,r){return n&&r?FO(n,r):!n&&!r}function Cp(n,r){return n&&r?OL(n,r):!n&&!r}function qg(n,r,t){var e,s=Rm(r),a=wA(t);try{e=Db(n,{start:s,end:a})}catch{e=!1}return e}function fb(){var n=bk();return n.__localeId__}function jm(n){if(typeof n=="string"){var r=bk();return r.__localeData__?r.__localeData__[n]:void 0}else return n}function bq(n,r,t){return r(Ns(n,"EEEE",t))}function yq(n,r){return Ns(n,"EEEEEE",r)}function vq(n,r){return Ns(n,"EEE",r)}function T8(n,r){return Ns(hl(ns(),n),"LLLL",r)}function yk(n,r){return Ns(hl(ns(),n),"LLL",r)}function xq(n,r){return Ns(P0(ns(),n),"QQQ",r)}function Lu(n,r){var t=r===void 0?{}:r,e=t.minDate,s=t.maxDate,a=t.excludeDates,i=t.excludeDateIntervals,o=t.includeDates,u=t.includeDateIntervals,c=t.filterDate;return Av(n,{minDate:e,maxDate:s})||a&&a.some(function(l){return l instanceof Date?_n(n,l):_n(n,l.date)})||i&&i.some(function(l){var d=l.start,p=l.end;return Db(n,{start:d,end:p})})||o&&!o.some(function(l){return _n(n,l)})||u&&!u.some(function(l){var d=l.start,p=l.end;return Db(n,{start:d,end:p})})||c&&!c(ns(n))||!1}function j8(n,r){var t=r===void 0?{}:r,e=t.excludeDates,s=t.excludeDateIntervals;return s&&s.length>0?s.some(function(a){var i=a.start,o=a.end;return Db(n,{start:i,end:o})}):e&&e.some(function(a){var i;return a instanceof Date?_n(n,a):_n(n,(i=a.date)!==null&&i!==void 0?i:new Date)})||!1}function vk(n,r){var t=r===void 0?{}:r,e=t.minDate,s=t.maxDate,a=t.excludeDates,i=t.includeDates,o=t.filterDate;return Av(n,{minDate:e?_A(e):void 0,maxDate:s?BO(s):void 0})||(a==null?void 0:a.some(function(u){return oo(n,u instanceof Date?u:u.date)}))||i&&!i.some(function(u){return oo(n,u)})||o&&!o(ns(n))||!1}function H2(n,r,t,e){var s=un(n),a=ho(n),i=un(r),o=ho(r),u=un(e);return s===i&&s===u?a<=t&&t<=o:s<i?u===s&&a<=t||u===i&&o>=t||u<i&&u>s:!1}function wq(n,r){var t=r===void 0?{}:r,e=t.minDate,s=t.maxDate,a=t.excludeDates,i=t.includeDates;return Av(n,{minDate:e,maxDate:s})||a&&a.some(function(o){return oo(o instanceof Date?o:o.date,n)})||i&&!i.some(function(o){return oo(o,n)})||!1}function q2(n,r){var t=r===void 0?{}:r,e=t.minDate,s=t.maxDate,a=t.excludeDates,i=t.includeDates,o=t.filterDate;return Av(n,{minDate:e,maxDate:s})||(a==null?void 0:a.some(function(u){return nw(n,u instanceof Date?u:u.date)}))||i&&!i.some(function(u){return nw(n,u)})||o&&!o(ns(n))||!1}function W2(n,r,t){if(!r||!t||!Vx(r)||!Vx(t))return!1;var e=un(r),s=un(t);return e<=n&&s>=n}function hx(n,r){var t=r===void 0?{}:r,e=t.minDate,s=t.maxDate,a=t.excludeDates,i=t.includeDates,o=t.filterDate,u=new Date(n,0,1);return Av(u,{minDate:e?Kw(e):void 0,maxDate:s?SA(s):void 0})||(a==null?void 0:a.some(function(c){return Ou(u,c instanceof Date?c:c.date)}))||i&&!i.some(function(c){return Ou(u,c)})||o&&!o(ns(u))||!1}function z2(n,r,t,e){var s=un(n),a=Nm(n),i=un(r),o=Nm(r),u=un(e);return s===i&&s===u?a<=t&&t<=o:s<i?u===s&&a<=t||u===i&&o>=t||u<i&&u>s:!1}function Av(n,r){var t,e=r===void 0?{}:r,s=e.minDate,a=e.maxDate;return(t=s&&Cb(n,s)<0||a&&Cb(n,a)>0)!==null&&t!==void 0?t:!1}function I3(n,r){return r.some(function(t){return qu(t)===qu(n)&&Wu(t)===Wu(n)&&ph(t)===ph(n)})}function P3(n,r){var t=r===void 0?{}:r,e=t.excludeTimes,s=t.includeTimes,a=t.filterTime;return e&&I3(n,e)||s&&!I3(n,s)||a&&!a(n)||!1}function R3(n,r){var t=r.minTime,e=r.maxTime;if(!t||!e)throw new Error("Both minTime and maxTime props required");var s=ns();s=ox(s,qu(n)),s=lx(s,Wu(n)),s=cx(s,ph(n));var a=ns();a=ox(a,qu(t)),a=lx(a,Wu(t)),a=cx(a,ph(t));var i=ns();i=ox(i,qu(e)),i=lx(i,Wu(e)),i=cx(i,ph(e));var o;try{o=!Db(s,{start:a,end:i})}catch{o=!1}return o}function M3(n,r){var t=r===void 0?{}:r,e=t.minDate,s=t.includeDates,a=eg(n,1);return e&&$x(e,a)>0||s&&s.every(function(i){return $x(i,a)>0})||!1}function O3(n,r){var t=r===void 0?{}:r,e=t.maxDate,s=t.includeDates,a=zc(n,1);return e&&$x(a,e)>0||s&&s.every(function(i){return $x(a,i)>0})||!1}function _q(n,r){var t=r===void 0?{}:r,e=t.minDate,s=t.includeDates,a=Kw(n),i=RA(a,1);return e&&Gx(e,i)>0||s&&s.every(function(o){return Gx(o,i)>0})||!1}function Sq(n,r){var t=r===void 0?{}:r,e=t.maxDate,s=t.includeDates,a=SA(n),i=f8(a,1);return e&&Gx(i,e)>0||s&&s.every(function(o){return Gx(i,o)>0})||!1}function L3(n,r){var t=r===void 0?{}:r,e=t.minDate,s=t.includeDates,a=tg(n,1);return e&&Yx(e,a)>0||s&&s.every(function(i){return Yx(i,a)>0})||!1}function Eq(n,r){var t=r===void 0?{}:r,e=t.minDate,s=t.yearItemNumber,a=s===void 0?Nv:s,i=Hg(tg(n,a)),o=Sf(i,a).endPeriod,u=e&&un(e);return u&&u>o||!1}function F3(n,r){var t=r===void 0?{}:r,e=t.maxDate,s=t.includeDates,a=hh(n,1);return e&&Yx(a,e)>0||s&&s.every(function(i){return Yx(a,i)>0})||!1}function Nq(n,r){var t=r===void 0?{}:r,e=t.maxDate,s=t.yearItemNumber,a=s===void 0?Nv:s,i=hh(n,a),o=Sf(i,a).startPeriod,u=e&&un(e);return u&&u<o||!1}function xk(n){var r=n.minDate,t=n.includeDates;if(t&&r){var e=t.filter(function(s){return Cb(s,r)>=0});return VE(e)}else return t?VE(t):r}function wk(n){var r=n.maxDate,t=n.includeDates;if(t&&r){var e=t.filter(function(s){return Cb(s,r)<=0});return zE(e)}else return t?zE(t):r}function B3(n,r){var t;n===void 0&&(n=[]),r===void 0&&(r="react-datepicker__day--highlighted");for(var e=new Map,s=0,a=n.length;s<a;s++){var i=n[s];if(fh(i)){var o=Ns(i,"MM.dd.yyyy"),u=e.get(o)||[];u.includes(r)||(u.push(r),e.set(o,u))}else if(typeof i=="object"){var c=Object.keys(i),l=(t=c[0])!==null&&t!==void 0?t:"",d=i[l];if(typeof l=="string"&&Array.isArray(d))for(var p=0,h=d.length;p<h;p++){var f=d[p];if(f){var o=Ns(f,"MM.dd.yyyy"),u=e.get(o)||[];u.includes(l)||(u.push(l),e.set(o,u))}}}}return e}function Aq(n,r){return n.length!==r.length?!1:n.every(function(t,e){return t===r[e]})}function kq(n,r){n===void 0&&(n=[]),r===void 0&&(r="react-datepicker__day--holidays");var t=new Map;return n.forEach(function(e){var s=e.date,a=e.holidayName;if(fh(s)){var i=Ns(s,"MM.dd.yyyy"),o=t.get(i)||{className:"",holidayNames:[]};if(!("className"in o&&o.className===r&&Aq(o.holidayNames,[a]))){o.className=r;var u=o.holidayNames;o.holidayNames=u?Hu(Hu([],u,!0),[a],!1):[a],t.set(i,o)}}}),t}function Cq(n,r,t,e,s){for(var a=s.length,i=[],o=0;o<a;o++){var u=n,c=s[o];c&&(u=RO(u,qu(c)),u=c_(u,Wu(c)),u=LO(u,ph(c)));var l=c_(n,(t+1)*e);If(u,r)&&Mm(u,l)&&c!=null&&i.push(c)}return i}function U3(n){return n<10?"0".concat(n):"".concat(n)}function Sf(n,r){r===void 0&&(r=Nv);var t=Math.ceil(un(n)/r)*r,e=t-(r-1);return{startPeriod:e,endPeriod:t}}function Dq(n){var r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t=new Date(n.getFullYear(),n.getMonth(),n.getDate(),24);return Math.round((+t-+r)/36e5)}function H3(n){var r=n.getSeconds(),t=n.getMilliseconds();return cr(n.getTime()-r*1e3-t)}function Tq(n,r){return H3(n).getTime()===H3(r).getTime()}function q3(n){if(!fh(n))throw new Error("Invalid date");var r=new Date(n);return r.setHours(0,0,0,0),r}function W3(n,r){if(!fh(n)||!fh(r))throw new Error("Invalid date received");var t=q3(n),e=q3(r);return Mm(t,e)}function _k(n){return n.key===nr.Space}var jq=function(n){ti(r,n);function r(t){var e=n.call(this,t)||this;return e.inputRef=St.createRef(),e.onTimeChange=function(s){var a,i;e.setState({time:s});var o=e.props.date,u=o instanceof Date&&!isNaN(+o),c=u?o:new Date;if(s!=null&&s.includes(":")){var l=s.split(":"),d=l[0],p=l[1];c.setHours(Number(d)),c.setMinutes(Number(p))}(i=(a=e.props).onChange)===null||i===void 0||i.call(a,c)},e.renderTimeInput=function(){var s=e.state.time,a=e.props,i=a.date,o=a.timeString,u=a.customTimeInput;return u?ne.cloneElement(u,{date:i,value:s,onChange:e.onTimeChange}):St.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:e.inputRef,onClick:function(){var c;(c=e.inputRef.current)===null||c===void 0||c.focus()},required:!0,value:s,onChange:function(c){e.onTimeChange(c.target.value||o)}})},e.state={time:e.props.timeString},e}return r.getDerivedStateFromProps=function(t,e){return t.timeString!==e.time?{time:t.timeString}:null},r.prototype.render=function(){return St.createElement("div",{className:"react-datepicker__input-time-container"},St.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),St.createElement("div",{className:"react-datepicker-time__input-container"},St.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},r}(ne.Component),Iq=function(n){ti(r,n);function r(){var t=n!==null&&n.apply(this,arguments)||this;return t.dayEl=ne.createRef(),t.handleClick=function(e){!t.isDisabled()&&t.props.onClick&&t.props.onClick(e)},t.handleMouseEnter=function(e){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(e)},t.handleOnKeyDown=function(e){var s,a,i=e.key;i===nr.Space&&(e.preventDefault(),e.key=nr.Enter),(a=(s=t.props).handleOnKeyDown)===null||a===void 0||a.call(s,e)},t.isSameDay=function(e){return _n(t.props.day,e)},t.isKeyboardSelected=function(){var e;if(t.props.disabledKeyboardNavigation)return!1;var s=t.props.selectsMultiple?(e=t.props.selectedDates)===null||e===void 0?void 0:e.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected),a=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!s&&t.isSameDayOrWeek(t.props.preSelection)&&!a},t.isDisabled=function(e){return e===void 0&&(e=t.props.day),Lu(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return j8(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return _n(t.props.day,Cf(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(e){return t.props.showWeekPicker&&_n(e,Cf(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(e){return t.isSameDay(e)||t.isSameWeek(e)},t.getHighLightedClass=function(){var e=t.props,s=e.day,a=e.highlightDates;if(!a)return!1;var i=Ns(s,"MM.dd.yyyy");return a.get(i)},t.getHolidaysClass=function(){var e,s=t.props,a=s.day,i=s.holidays;if(!i)return[void 0];var o=Ns(a,"MM.dd.yyyy");return i.has(o)?[(e=i.get(o))===null||e===void 0?void 0:e.className]:[void 0]},t.isInRange=function(){var e=t.props,s=e.day,a=e.startDate,i=e.endDate;return!a||!i?!1:qg(s,a,i)},t.isInSelectingRange=function(){var e,s=t.props,a=s.day,i=s.selectsStart,o=s.selectsEnd,u=s.selectsRange,c=s.selectsDisabledDaysInRange,l=s.startDate,d=s.endDate,p=(e=t.props.selectingDate)!==null&&e!==void 0?e:t.props.preSelection;return!(i||o||u)||!p||!c&&t.isDisabled()?!1:i&&d&&(Mm(p,d)||Cp(p,d))?qg(a,p,d):o&&l&&(If(p,l)||Cp(p,l))||u&&l&&!d&&(If(p,l)||Cp(p,l))?qg(a,l,p):!1},t.isSelectingRangeStart=function(){var e;if(!t.isInSelectingRange())return!1;var s=t.props,a=s.day,i=s.startDate,o=s.selectsStart,u=(e=t.props.selectingDate)!==null&&e!==void 0?e:t.props.preSelection;return o?_n(a,u):_n(a,i)},t.isSelectingRangeEnd=function(){var e;if(!t.isInSelectingRange())return!1;var s=t.props,a=s.day,i=s.endDate,o=s.selectsEnd,u=s.selectsRange,c=(e=t.props.selectingDate)!==null&&e!==void 0?e:t.props.preSelection;return o||u?_n(a,c):_n(a,i)},t.isRangeStart=function(){var e=t.props,s=e.day,a=e.startDate,i=e.endDate;return!a||!i?!1:_n(a,s)},t.isRangeEnd=function(){var e=t.props,s=e.day,a=e.startDate,i=e.endDate;return!a||!i?!1:_n(i,s)},t.isWeekend=function(){var e=IL(t.props.day);return e===0||e===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===ho(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(ho(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(ns())},t.isSelected=function(){var e;return t.props.selectsMultiple?(e=t.props.selectedDates)===null||e===void 0?void 0:e.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(e){var s=t.props.dayClassName?t.props.dayClassName(e):void 0;return ea("react-datepicker__day",s,"react-datepicker__day--"+mq(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var e=t.props,s=e.day,a=e.ariaLabelPrefixWhenEnabled,i=a===void 0?"Choose":a,o=e.ariaLabelPrefixWhenDisabled,u=o===void 0?"Not available":o,c=t.isDisabled()||t.isExcluded()?u:i;return"".concat(c," ").concat(Ns(s,"PPPP",t.props.locale))},t.getTitle=function(){var e=t.props,s=e.day,a=e.holidays,i=a===void 0?new Map:a,o=e.excludeDates,u=Ns(s,"MM.dd.yyyy"),c=[];return i.has(u)&&c.push.apply(c,i.get(u).holidayNames),t.isExcluded()&&c.push(o==null?void 0:o.filter(function(l){return l instanceof Date?_n(l,s):_n(l==null?void 0:l.date,s)}).map(function(l){if(!(l instanceof Date))return l==null?void 0:l.message})),c.join(", ")},t.getTabIndex=function(){var e=t.props.selected,s=t.props.preSelection,a=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(e)&&_n(s,e))?0:-1;return a},t.handleFocusDay=function(){var e;t.shouldFocusDay()&&((e=t.dayEl.current)===null||e===void 0||e.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(XE(t.props.day),t.props.day):XE(t.props.day)},t.render=function(){return St.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&St.createElement("span",{className:"overlay"},t.getTitle()))},t}return r.prototype.componentDidMount=function(){this.handleFocusDay()},r.prototype.componentDidUpdate=function(){this.handleFocusDay()},r.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},r.prototype.isDayActiveElement=function(){var t,e,s;return((e=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||e===void 0?void 0:e.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},r.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},r}(ne.Component),Pq=function(n){ti(r,n);function r(){var t=n!==null&&n.apply(this,arguments)||this;return t.weekNumberEl=ne.createRef(),t.handleClick=function(e){t.props.onClick&&t.props.onClick(e)},t.handleOnKeyDown=function(e){var s,a,i=e.key;i===nr.Space&&(e.preventDefault(),e.key=nr.Enter),(a=(s=t.props).handleOnKeyDown)===null||a===void 0||a.call(s,e)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!_n(t.props.date,t.props.selected)&&_n(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||_n(t.props.date,t.props.selected)&&_n(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(e){var s=!1;t.getTabIndex()===0&&!(e!=null&&e.isInputFocused)&&_n(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(s=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(r,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},r.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},r.prototype.render=function(){var t=this.props,e=t.weekNumber,s=t.ariaLabelPrefix,a=s===void 0?r.defaultProps.ariaLabelPrefix:s,i=t.onClick,o={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!i,"react-datepicker__week-number--selected":!!i&&_n(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return St.createElement("div",{ref:this.weekNumberEl,className:ea(o),"aria-label":"".concat(a," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},e)},r}(ne.Component),Rq=function(n){ti(r,n);function r(){var t=n!==null&&n.apply(this,arguments)||this;return t.isDisabled=function(e){return Lu(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(e,s){t.props.onDayClick&&t.props.onDayClick(e,s)},t.handleDayMouseEnter=function(e){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(e)},t.handleWeekClick=function(e,s,a){for(var i,o,u,c=new Date(e),l=0;l<7;l++){var d=new Date(e);d.setDate(d.getDate()+l);var p=!t.isDisabled(d);if(p){c=d;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(c,s,a),t.props.showWeekPicker&&t.handleDayClick(c,a),((i=t.props.shouldCloseOnSelect)!==null&&i!==void 0?i:r.defaultProps.shouldCloseOnSelect)&&((u=(o=t.props).setOpen)===null||u===void 0||u.call(o,!1))},t.formatWeekNumber=function(e){return t.props.formatWeekNumber?t.props.formatWeekNumber(e):pq(e)},t.renderDays=function(){var e=t.startOfWeek(),s=[],a=t.formatWeekNumber(e);if(t.props.showWeekNumber){var i=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,e,a):void 0;s.push(St.createElement(Pq,Tn({key:"W"},r.defaultProps,t.props,{weekNumber:a,date:e,onClick:i})))}return s.concat([0,1,2,3,4,5,6].map(function(o){var u=$f(e,o);return St.createElement(Iq,Tn({},r.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:u.valueOf(),day:u,onClick:t.handleDayClick.bind(t,u),onMouseEnter:t.handleDayMouseEnter.bind(t,u)}))}))},t.startOfWeek=function(){return Cf(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!_n(t.startOfWeek(),t.props.selected)&&_n(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(r,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),r.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":_n(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return St.createElement("div",{className:ea(t)},this.renderDays())},r}(ne.Component),Lg,Mq=6,Y0={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},M6=(Lg={},Lg[Y0.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Lg[Y0.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Lg[Y0.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Lg),V2=1;function z3(n,r){return n?Y0.FOUR_COLUMNS:r?Y0.TWO_COLUMNS:Y0.THREE_COLUMNS}var Oq=function(n){ti(r,n);function r(){var t=n!==null&&n.apply(this,arguments)||this;return t.MONTH_REFS=Hu([],Array(12),!0).map(function(){return ne.createRef()}),t.QUARTER_REFS=Hu([],Array(4),!0).map(function(){return ne.createRef()}),t.isDisabled=function(e){return Lu(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(e){return j8(e,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(e,s){var a,i;(i=(a=t.props).onDayClick)===null||i===void 0||i.call(a,e,s,t.props.orderInDisplay)},t.handleDayMouseEnter=function(e){var s,a;(a=(s=t.props).onDayMouseEnter)===null||a===void 0||a.call(s,e)},t.handleMouseLeave=function(){var e,s;(s=(e=t.props).onMouseLeave)===null||s===void 0||s.call(e)},t.isRangeStartMonth=function(e){var s=t.props,a=s.day,i=s.startDate,o=s.endDate;return!i||!o?!1:oo(hl(a,e),i)},t.isRangeStartQuarter=function(e){var s=t.props,a=s.day,i=s.startDate,o=s.endDate;return!i||!o?!1:nw(P0(a,e),i)},t.isRangeEndMonth=function(e){var s=t.props,a=s.day,i=s.startDate,o=s.endDate;return!i||!o?!1:oo(hl(a,e),o)},t.isRangeEndQuarter=function(e){var s=t.props,a=s.day,i=s.startDate,o=s.endDate;return!i||!o?!1:nw(P0(a,e),o)},t.isInSelectingRangeMonth=function(e){var s,a=t.props,i=a.day,o=a.selectsStart,u=a.selectsEnd,c=a.selectsRange,l=a.startDate,d=a.endDate,p=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(o||u||c)||!p?!1:o&&d?H2(p,d,e,i):u&&l||c&&l&&!d?H2(l,p,e,i):!1},t.isSelectingMonthRangeStart=function(e){var s;if(!t.isInSelectingRangeMonth(e))return!1;var a=t.props,i=a.day,o=a.startDate,u=a.selectsStart,c=hl(i,e),l=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return u?oo(c,l):oo(c,o)},t.isSelectingMonthRangeEnd=function(e){var s;if(!t.isInSelectingRangeMonth(e))return!1;var a=t.props,i=a.day,o=a.endDate,u=a.selectsEnd,c=a.selectsRange,l=hl(i,e),d=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return u||c?oo(l,d):oo(l,o)},t.isInSelectingRangeQuarter=function(e){var s,a=t.props,i=a.day,o=a.selectsStart,u=a.selectsEnd,c=a.selectsRange,l=a.startDate,d=a.endDate,p=(s=t.props.selectingDate)!==null&&s!==void 0?s:t.props.preSelection;return!(o||u||c)||!p?!1:o&&d?z2(p,d,e,i):u&&l||c&&l&&!d?z2(l,p,e,i):!1},t.isWeekInMonth=function(e){var s=t.props.day,a=$f(e,6);return oo(e,s)||oo(a,s)},t.isCurrentMonth=function(e,s){return un(e)===un(ns())&&s===ho(ns())},t.isCurrentQuarter=function(e,s){return un(e)===un(ns())&&s===Nm(ns())},t.isSelectedMonth=function(e,s,a){return ho(a)===s&&un(e)===un(a)},t.isSelectMonthInList=function(e,s,a){return a.some(function(i){return t.isSelectedMonth(e,s,i)})},t.isSelectedQuarter=function(e,s,a){return Nm(e)===s&&un(e)===un(a)},t.renderWeeks=function(){for(var e=[],s=t.props.fixedHeight,a=0,i=!1,o=Cf(Df(t.props.day),t.props.locale,t.props.calendarStartDay),u=function(f){return t.props.showWeekPicker?Cf(f,t.props.locale,t.props.calendarStartDay):t.props.preSelection},c=function(f){return t.props.showWeekPicker?Cf(f,t.props.locale,t.props.calendarStartDay):t.props.selected},l=t.props.selected?c(t.props.selected):void 0,d=t.props.preSelection?u(t.props.preSelection):void 0;e.push(St.createElement(Rq,Tn({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:a,day:o,month:ho(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:l,preSelection:d,showWeekNumber:t.props.showWeekNumbers}))),!i;){a++,o=zx(o,1);var p=s&&a>=Mq,h=!s&&!t.isWeekInMonth(o);if(p||h)if(t.props.peekNextMonth)i=!0;else break}return e},t.onMonthClick=function(e,s){var a=t.isMonthDisabledForLabelDate(s),i=a.isDisabled,o=a.labelDate;i||t.handleDayClick(Df(o),e)},t.onMonthMouseEnter=function(e){var s=t.isMonthDisabledForLabelDate(e),a=s.isDisabled,i=s.labelDate;a||t.handleDayMouseEnter(Df(i))},t.handleMonthNavigation=function(e,s){var a,i,o,u;(i=(a=t.props).setPreSelection)===null||i===void 0||i.call(a,s),(u=(o=t.MONTH_REFS[e])===null||o===void 0?void 0:o.current)===null||u===void 0||u.focus()},t.handleKeyboardNavigation=function(e,s,a){var i,o=t.props,u=o.selected,c=o.preSelection,l=o.setPreSelection,d=o.minDate,p=o.maxDate,h=o.showFourColumnMonthYearPicker,f=o.showTwoColumnMonthYearPicker;if(c){var b=z3(h,f),y=t.getVerticalOffset(b),g=(i=M6[b])===null||i===void 0?void 0:i.grid,x=function(T,R,P){var L,O,H=R,U=P;switch(T){case nr.ArrowRight:H=zc(R,V2),U=P===11?0:P+V2;break;case nr.ArrowLeft:H=eg(R,V2),U=P===0?11:P-V2;break;case nr.ArrowUp:H=eg(R,y),U=!((L=g==null?void 0:g[0])===null||L===void 0)&&L.includes(P)?P+12-y:P-y;break;case nr.ArrowDown:H=zc(R,y),U=!((O=g==null?void 0:g[g.length-1])===null||O===void 0)&&O.includes(P)?P-12+y:P+y;break}return{newCalculatedDate:H,newCalculatedMonth:U}},v=function(T,R,P){for(var L=40,O=T,H=!1,U=0,I=x(O,R,P),F=I.newCalculatedDate,A=I.newCalculatedMonth;!H;){if(U>=L){F=R,A=P;break}if(d&&F<d){O=nr.ArrowRight;var _=x(O,F,A);F=_.newCalculatedDate,A=_.newCalculatedMonth}if(p&&F>p){O=nr.ArrowLeft;var _=x(O,F,A);F=_.newCalculatedDate,A=_.newCalculatedMonth}if(wq(F,t.props)){var _=x(O,F,A);F=_.newCalculatedDate,A=_.newCalculatedMonth}else H=!0;U++}return{newCalculatedDate:F,newCalculatedMonth:A}};if(s===nr.Enter){t.isMonthDisabled(a)||(t.onMonthClick(e,a),l==null||l(u));return}var w=v(s,c,a),S=w.newCalculatedDate,D=w.newCalculatedMonth;switch(s){case nr.ArrowRight:case nr.ArrowLeft:case nr.ArrowUp:case nr.ArrowDown:t.handleMonthNavigation(D,S);break}}},t.getVerticalOffset=function(e){var s,a;return(a=(s=M6[e])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&a!==void 0?a:0},t.onMonthKeyDown=function(e,s){var a=t.props,i=a.disabledKeyboardNavigation,o=a.handleOnMonthKeyDown,u=e.key;u!==nr.Tab&&e.preventDefault(),i||t.handleKeyboardNavigation(e,u,s),o&&o(e)},t.onQuarterClick=function(e,s){var a=P0(t.props.day,s);q2(a,t.props)||t.handleDayClick(D3(a),e)},t.onQuarterMouseEnter=function(e){var s=P0(t.props.day,e);q2(s,t.props)||t.handleDayMouseEnter(D3(s))},t.handleQuarterNavigation=function(e,s){var a,i,o,u;t.isDisabled(s)||t.isExcluded(s)||((i=(a=t.props).setPreSelection)===null||i===void 0||i.call(a,s),(u=(o=t.QUARTER_REFS[e-1])===null||o===void 0?void 0:o.current)===null||u===void 0||u.focus())},t.onQuarterKeyDown=function(e,s){var a,i,o=e.key;if(!t.props.disabledKeyboardNavigation)switch(o){case nr.Enter:t.onQuarterClick(e,s),(i=(a=t.props).setPreSelection)===null||i===void 0||i.call(a,t.props.selected);break;case nr.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===4?1:s+1,f8(t.props.preSelection,1));break;case nr.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(s===1?4:s-1,RA(t.props.preSelection,1));break}},t.isMonthDisabledForLabelDate=function(e){var s,a=t.props,i=a.day,o=a.minDate,u=a.maxDate,c=a.excludeDates,l=a.includeDates,d=hl(i,e);return{isDisabled:(s=(o||u||c||l)&&vk(d,t.props))!==null&&s!==void 0?s:!1,labelDate:d}},t.isMonthDisabled=function(e){var s=t.isMonthDisabledForLabelDate(e).isDisabled;return s},t.getMonthClassNames=function(e){var s=t.props,a=s.day,i=s.startDate,o=s.endDate,u=s.preSelection,c=s.monthClassName,l=c?c(hl(a,e)):void 0,d=t.getSelection();return ea("react-datepicker__month-text","react-datepicker__month-".concat(e),l,{"react-datepicker__month-text--disabled":t.isMonthDisabled(e),"react-datepicker__month-text--selected":d?t.isSelectMonthInList(a,e,d):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&u&&t.isSelectedMonth(a,e,u)&&!t.isMonthDisabled(e),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(e),"react-datepicker__month-text--in-range":i&&o?H2(i,o,e,a):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(e),"react-datepicker__month-text--range-end":t.isRangeEndMonth(e),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(e),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(e),"react-datepicker__month-text--today":t.isCurrentMonth(a,e)})},t.getTabIndex=function(e){if(t.props.preSelection==null)return"-1";var s=ho(t.props.preSelection),a=t.isMonthDisabledForLabelDate(s).isDisabled,i=e===s&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return i},t.getQuarterTabIndex=function(e){if(t.props.preSelection==null)return"-1";var s=Nm(t.props.preSelection),a=q2(t.props.day,t.props),i=e===s&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return i},t.getAriaLabel=function(e){var s=t.props,a=s.chooseDayAriaLabelPrefix,i=a===void 0?"Choose":a,o=s.disabledDayAriaLabelPrefix,u=o===void 0?"Not available":o,c=s.day,l=s.locale,d=hl(c,e),p=t.isDisabled(d)||t.isExcluded(d)?u:i;return"".concat(p," ").concat(Ns(d,"MMMM yyyy",l))},t.getQuarterClassNames=function(e){var s=t.props,a=s.day,i=s.startDate,o=s.endDate,u=s.selected,c=s.minDate,l=s.maxDate,d=s.excludeDates,p=s.includeDates,h=s.filterDate,f=s.preSelection,b=s.disabledKeyboardNavigation,y=(c||l||d||p||h)&&q2(P0(a,e),t.props);return ea("react-datepicker__quarter-text","react-datepicker__quarter-".concat(e),{"react-datepicker__quarter-text--disabled":y,"react-datepicker__quarter-text--selected":u?t.isSelectedQuarter(a,e,u):void 0,"react-datepicker__quarter-text--keyboard-selected":!b&&f&&t.isSelectedQuarter(a,e,f)&&!y,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(e),"react-datepicker__quarter-text--in-range":i&&o?z2(i,o,e,a):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(e),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(e)})},t.getMonthContent=function(e){var s=t.props,a=s.showFullMonthYearPicker,i=s.renderMonthContent,o=s.locale,u=s.day,c=yk(e,o),l=T8(e,o);return i?i(e,c,l,u):a?l:c},t.getQuarterContent=function(e){var s,a=t.props,i=a.renderQuarterContent,o=a.locale,u=xq(e,o);return(s=i==null?void 0:i(e,u))!==null&&s!==void 0?s:u},t.renderMonths=function(){var e,s=t.props,a=s.showTwoColumnMonthYearPicker,i=s.showFourColumnMonthYearPicker,o=s.day,u=s.selected,c=(e=M6[z3(i,a)])===null||e===void 0?void 0:e.grid;return c==null?void 0:c.map(function(l,d){return St.createElement("div",{className:"react-datepicker__month-wrapper",key:d},l.map(function(p,h){return St.createElement("div",{ref:t.MONTH_REFS[p],key:h,onClick:function(f){t.onMonthClick(f,p)},onKeyDown:function(f){_k(f)&&(f.preventDefault(),f.key=nr.Enter),t.onMonthKeyDown(f,p)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(p)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(p)}:void 0,tabIndex:Number(t.getTabIndex(p)),className:t.getMonthClassNames(p),"aria-disabled":t.isMonthDisabled(p),role:"option","aria-label":t.getAriaLabel(p),"aria-current":t.isCurrentMonth(o,p)?"date":void 0,"aria-selected":u?t.isSelectedMonth(o,p,u):void 0},t.getMonthContent(p))}))})},t.renderQuarters=function(){var e=t.props,s=e.day,a=e.selected,i=[1,2,3,4];return St.createElement("div",{className:"react-datepicker__quarter-wrapper"},i.map(function(o,u){return St.createElement("div",{key:u,ref:t.QUARTER_REFS[u],role:"option",onClick:function(c){t.onQuarterClick(c,o)},onKeyDown:function(c){t.onQuarterKeyDown(c,o)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(o)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(o)}:void 0,className:t.getQuarterClassNames(o),"aria-selected":a?t.isSelectedQuarter(s,o,a):void 0,tabIndex:Number(t.getQuarterTabIndex(o)),"aria-current":t.isCurrentQuarter(s,o)?"date":void 0},t.getQuarterContent(o))}))},t.getClassNames=function(){var e=t.props,s=e.selectingDate,a=e.selectsStart,i=e.selectsEnd,o=e.showMonthYearPicker,u=e.showQuarterYearPicker,c=e.showWeekPicker;return ea("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(a||i)},{"react-datepicker__monthPicker":o},{"react-datepicker__quarterPicker":u},{"react-datepicker__weekPicker":c})},t}return r.prototype.getSelection=function(){var t=this.props,e=t.selected,s=t.selectedDates,a=t.selectsMultiple;if(a)return s;if(e)return[e]},r.prototype.render=function(){var t=this.props,e=t.showMonthYearPicker,s=t.showQuarterYearPicker,a=t.day,i=t.ariaLabelPrefix,o=i===void 0?"Month ":i,u=o?o.trim()+" ":"";return St.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(u).concat(Ns(a,"MMMM, yyyy",this.props.locale)),role:"listbox"},e?this.renderMonths():s?this.renderQuarters():this.renderWeeks())},r}(ne.Component),Lq=function(n){ti(r,n);function r(){var t=n!==null&&n.apply(this,arguments)||this;return t.isSelectedMonth=function(e){return t.props.month===e},t.renderOptions=function(){return t.props.monthNames.map(function(e,s){return St.createElement("div",{className:t.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:e,onClick:t.onChange.bind(t,s),"aria-selected":t.isSelectedMonth(s)?"true":void 0},t.isSelectedMonth(s)?St.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",e)})},t.onChange=function(e){return t.props.onChange(e)},t.handleClickOutside=function(){return t.props.onCancel()},t}return r.prototype.render=function(){return St.createElement(n5,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},r}(ne.Component),Fq=function(n){ti(r,n);function r(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(e){return e.map(function(s,a){return St.createElement("option",{key:s,value:a},s)})},t.renderSelectMode=function(e){return St.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(s){return t.onChange(parseInt(s.target.value))}},t.renderSelectOptions(e))},t.renderReadView=function(e,s){return St.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},St.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),St.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[t.props.month]))},t.renderDropdown=function(e){return St.createElement(Lq,Tn({key:"dropdown"},t.props,{monthNames:e,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(e){var s=t.state.dropdownVisible,a=[t.renderReadView(!s,e)];return s&&a.unshift(t.renderDropdown(e)),a},t.onChange=function(e){t.toggleDropdown(),e!==t.props.month&&t.props.onChange(e)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return r.prototype.render=function(){var t=this,e=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(a){return yk(a,t.props.locale)}:function(a){return T8(a,t.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(e);break;case"select":s=this.renderSelectMode(e);break}return St.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},r}(ne.Component);function Bq(n,r){for(var t=[],e=Df(n),s=Df(r);!If(e,s);)t.push(ns(e)),e=zc(e,1);return t}var Uq=function(n){ti(r,n);function r(t){var e=n.call(this,t)||this;return e.renderOptions=function(){return e.state.monthYearsList.map(function(s){var a=h_(s),i=Ou(e.props.date,s)&&oo(e.props.date,s);return St.createElement("div",{className:i?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:a,onClick:e.onChange.bind(e,a),"aria-selected":i?"true":void 0},i?St.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Ns(s,e.props.dateFormat,e.props.locale))})},e.onChange=function(s){return e.props.onChange(s)},e.handleClickOutside=function(){e.props.onCancel()},e.state={monthYearsList:Bq(e.props.minDate,e.props.maxDate)},e}return r.prototype.render=function(){var t=ea({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return St.createElement(n5,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},r}(ne.Component),Hq=function(n){ti(r,n);function r(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=Df(t.props.minDate),s=Df(t.props.maxDate),a=[];!If(e,s);){var i=h_(e);a.push(St.createElement("option",{key:i,value:i},Ns(e,t.props.dateFormat,t.props.locale))),e=zc(e,1)}return a},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return St.createElement("select",{value:h_(Df(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){var s=Ns(t.props.date,t.props.dateFormat,t.props.locale);return St.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},St.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),St.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},t.renderDropdown=function(){return St.createElement(Uq,Tn({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,s=[t.renderReadView(!e)];return e&&s.unshift(t.renderDropdown()),s},t.onChange=function(e){t.toggleDropdown();var s=ns(e);Ou(t.props.date,s)&&oo(t.props.date,s)||t.props.onChange(s)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return r.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return St.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},r}(ne.Component),qq=function(n){ti(r,n);function r(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var e,s,a;t.list&&(t.list.scrollTop=(a=t.centerLi&&r.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((s=(e=t.header)===null||e===void 0?void 0:e.clientHeight)!==null&&s!==void 0?s:0):t.list.clientHeight,t.centerLi))!==null&&a!==void 0?a:0)})},t.handleClick=function(e){var s,a;(t.props.minTime||t.props.maxTime)&&R3(e,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&P3(e,t.props)||(a=(s=t.props).onChange)===null||a===void 0||a.call(s,e)},t.isSelectedTime=function(e){return t.props.selected&&Tq(t.props.selected,e)},t.isDisabledTime=function(e){return(t.props.minTime||t.props.maxTime)&&R3(e,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&P3(e,t.props)},t.liClasses=function(e){var s,a=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(e):void 0];return t.isSelectedTime(e)&&a.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(e)&&a.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(qu(e)*3600+Wu(e)*60+ph(e))%(((s=t.props.intervals)!==null&&s!==void 0?s:r.defaultProps.intervals)*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},t.handleOnKeyDown=function(e,s){var a,i;e.key===nr.Space&&(e.preventDefault(),e.key=nr.Enter),(e.key===nr.ArrowUp||e.key===nr.ArrowLeft)&&e.target instanceof HTMLElement&&e.target.previousSibling&&(e.preventDefault(),e.target.previousSibling instanceof HTMLElement&&e.target.previousSibling.focus()),(e.key===nr.ArrowDown||e.key===nr.ArrowRight)&&e.target instanceof HTMLElement&&e.target.nextSibling&&(e.preventDefault(),e.target.nextSibling instanceof HTMLElement&&e.target.nextSibling.focus()),e.key===nr.Enter&&t.handleClick(s),(i=(a=t.props).handleOnKeyDown)===null||i===void 0||i.call(a,e)},t.renderTimes=function(){for(var e,s=[],a=t.props.format?t.props.format:"p",i=(e=t.props.intervals)!==null&&e!==void 0?e:r.defaultProps.intervals,o=t.props.selected||t.props.openToDate||ns(),u=dx(o),c=t.props.injectTimes&&t.props.injectTimes.sort(function(y,g){return y.getTime()-g.getTime()}),l=60*Dq(o),d=l/i,p=0;p<d;p++){var h=c_(u,p*i);if(s.push(h),c){var f=Cq(u,h,p,i,c);s=s.concat(f)}}var b=s.reduce(function(y,g){return g.getTime()<=o.getTime()?g:y},s[0]);return s.map(function(y){return St.createElement("li",{key:y.valueOf(),onClick:t.handleClick.bind(t,y),className:t.liClasses(y),ref:function(g){y===b&&(t.centerLi=g)},onKeyDown:function(g){t.handleOnKeyDown(g,y)},tabIndex:y===b?0:-1,role:"option","aria-selected":t.isSelectedTime(y)?"true":void 0,"aria-disabled":t.isDisabledTime(y)?"true":void 0},Ns(y,a,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?St.createElement(St.Fragment,null):St.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(e){t.header=e}},St.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(r,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},r.prototype.render=function(){var t=this,e,s=this.state.height;return St.createElement("div",{className:"react-datepicker__time-container ".concat(((e=this.props.todayButton)!==null&&e!==void 0?e:r.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),St.createElement("div",{className:"react-datepicker__time"},St.createElement("div",{className:"react-datepicker__time-box"},St.createElement("ul",{className:"react-datepicker__time-list",ref:function(a){t.list=a},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},r.calcCenterPosition=function(t,e){return e.offsetTop-(t/2-e.clientHeight/2)},r}(ne.Component),V3=3,Wq=function(n){ti(r,n);function r(t){var e=n.call(this,t)||this;return e.YEAR_REFS=Hu([],Array(e.props.yearItemNumber),!0).map(function(){return ne.createRef()}),e.isDisabled=function(s){return Lu(s,{minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,includeDates:e.props.includeDates,filterDate:e.props.filterDate})},e.isExcluded=function(s){return j8(s,{excludeDates:e.props.excludeDates})},e.selectingDate=function(){var s;return(s=e.props.selectingDate)!==null&&s!==void 0?s:e.props.preSelection},e.updateFocusOnPaginate=function(s){var a=function(){var i,o;(o=(i=e.YEAR_REFS[s])===null||i===void 0?void 0:i.current)===null||o===void 0||o.focus()};window.requestAnimationFrame(a)},e.handleYearClick=function(s,a){e.props.onDayClick&&e.props.onDayClick(s,a)},e.handleYearNavigation=function(s,a){var i,o,u,c,l=e.props,d=l.date,p=l.yearItemNumber;if(!(d===void 0||p===void 0)){var h=Sf(d,p).startPeriod;e.isDisabled(a)||e.isExcluded(a)||((o=(i=e.props).setPreSelection)===null||o===void 0||o.call(i,a),s-h<0?e.updateFocusOnPaginate(p-(h-s)):s-h>=p?e.updateFocusOnPaginate(Math.abs(p-(s-h))):(c=(u=e.YEAR_REFS[s-h])===null||u===void 0?void 0:u.current)===null||c===void 0||c.focus())}},e.isSameDay=function(s,a){return _n(s,a)},e.isCurrentYear=function(s){return s===un(ns())},e.isRangeStart=function(s){return e.props.startDate&&e.props.endDate&&Ou(vu(ns(),s),e.props.startDate)},e.isRangeEnd=function(s){return e.props.startDate&&e.props.endDate&&Ou(vu(ns(),s),e.props.endDate)},e.isInRange=function(s){return W2(s,e.props.startDate,e.props.endDate)},e.isInSelectingRange=function(s){var a=e.props,i=a.selectsStart,o=a.selectsEnd,u=a.selectsRange,c=a.startDate,l=a.endDate;return!(i||o||u)||!e.selectingDate()?!1:i&&l?W2(s,e.selectingDate(),l):o&&c||u&&c&&!l?W2(s,c,e.selectingDate()):!1},e.isSelectingRangeStart=function(s){var a;if(!e.isInSelectingRange(s))return!1;var i=e.props,o=i.startDate,u=i.selectsStart,c=vu(ns(),s);return u?Ou(c,(a=e.selectingDate())!==null&&a!==void 0?a:null):Ou(c,o??null)},e.isSelectingRangeEnd=function(s){var a;if(!e.isInSelectingRange(s))return!1;var i=e.props,o=i.endDate,u=i.selectsEnd,c=i.selectsRange,l=vu(ns(),s);return u||c?Ou(l,(a=e.selectingDate())!==null&&a!==void 0?a:null):Ou(l,o??null)},e.isKeyboardSelected=function(s){if(!(e.props.date===void 0||e.props.selected==null||e.props.preSelection==null)){var a=e.props,i=a.minDate,o=a.maxDate,u=a.excludeDates,c=a.includeDates,l=a.filterDate,d=Hg(vu(e.props.date,s)),p=(i||o||u||c||l)&&hx(s,e.props);return!e.props.disabledKeyboardNavigation&&!e.props.inline&&!_n(d,Hg(e.props.selected))&&_n(d,Hg(e.props.preSelection))&&!p}},e.onYearClick=function(s,a){var i=e.props.date;i!==void 0&&e.handleYearClick(Hg(vu(i,a)),s)},e.onYearKeyDown=function(s,a){var i,o,u=s.key,c=e.props,l=c.date,d=c.yearItemNumber,p=c.handleOnKeyDown;if(u!==nr.Tab&&s.preventDefault(),!e.props.disabledKeyboardNavigation)switch(u){case nr.Enter:if(e.props.selected==null)break;e.onYearClick(s,a),(o=(i=e.props).setPreSelection)===null||o===void 0||o.call(i,e.props.selected);break;case nr.ArrowRight:if(e.props.preSelection==null)break;e.handleYearNavigation(a+1,hh(e.props.preSelection,1));break;case nr.ArrowLeft:if(e.props.preSelection==null)break;e.handleYearNavigation(a-1,tg(e.props.preSelection,1));break;case nr.ArrowUp:{if(l===void 0||d===void 0||e.props.preSelection==null)break;var h=Sf(l,d).startPeriod,f=V3,b=a-f;if(b<h){var y=d%f;a>=h&&a<h+y?f=y:f+=y,b=a-f}e.handleYearNavigation(b,tg(e.props.preSelection,f));break}case nr.ArrowDown:{if(l===void 0||d===void 0||e.props.preSelection==null)break;var g=Sf(l,d).endPeriod,f=V3,b=a+f;if(b>g){var y=d%f;a<=g&&a>g-y?f=y:f+=y,b=a+f}e.handleYearNavigation(b,hh(e.props.preSelection,f));break}}p&&p(s)},e.getYearClassNames=function(s){var a=e.props,i=a.date,o=a.minDate,u=a.maxDate,c=a.selected,l=a.excludeDates,d=a.includeDates,p=a.filterDate,h=a.yearClassName;return ea("react-datepicker__year-text","react-datepicker__year-".concat(s),i?h==null?void 0:h(vu(i,s)):void 0,{"react-datepicker__year-text--selected":c?s===un(c):void 0,"react-datepicker__year-text--disabled":(o||u||l||d||p)&&hx(s,e.props),"react-datepicker__year-text--keyboard-selected":e.isKeyboardSelected(s),"react-datepicker__year-text--range-start":e.isRangeStart(s),"react-datepicker__year-text--range-end":e.isRangeEnd(s),"react-datepicker__year-text--in-range":e.isInRange(s),"react-datepicker__year-text--in-selecting-range":e.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":e.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":e.isSelectingRangeEnd(s),"react-datepicker__year-text--today":e.isCurrentYear(s)})},e.getYearTabIndex=function(s){if(e.props.disabledKeyboardNavigation||e.props.preSelection==null)return"-1";var a=un(e.props.preSelection),i=hx(s,e.props);return s===a&&!i?"0":"-1"},e.getYearContainerClassNames=function(){var s=e.props,a=s.selectingDate,i=s.selectsStart,o=s.selectsEnd,u=s.selectsRange;return ea("react-datepicker__year",{"react-datepicker__year--selecting-range":a&&(i||o||u)})},e.getYearContent=function(s){return e.props.renderYearContent?e.props.renderYearContent(s):s},e}return r.prototype.render=function(){var t=this,e=[],s=this.props,a=s.date,i=s.yearItemNumber,o=s.onYearMouseEnter,u=s.onYearMouseLeave;if(a===void 0)return null;for(var c=Sf(a,i),l=c.startPeriod,d=c.endPeriod,p=function(b){e.push(St.createElement("div",{ref:h.YEAR_REFS[b-l],onClick:function(y){t.onYearClick(y,b)},onKeyDown:function(y){_k(y)&&(y.preventDefault(),y.key=nr.Enter),t.onYearKeyDown(y,b)},tabIndex:Number(h.getYearTabIndex(b)),className:h.getYearClassNames(b),onMouseEnter:h.props.usePointerEvent?void 0:function(y){return o(y,b)},onPointerEnter:h.props.usePointerEvent?function(y){return o(y,b)}:void 0,onMouseLeave:h.props.usePointerEvent?void 0:function(y){return u(y,b)},onPointerLeave:h.props.usePointerEvent?function(y){return u(y,b)}:void 0,key:b,"aria-current":h.isCurrentYear(b)?"date":void 0},h.getYearContent(b)))},h=this,f=l;f<=d;f++)p(f);return St.createElement("div",{className:this.getYearContainerClassNames()},St.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},e))},r}(ne.Component);function zq(n,r,t,e){for(var s=[],a=0;a<2*r+1;a++){var i=n+r-a,o=!0;t&&(o=un(t)<=i),e&&o&&(o=un(e)>=i),o&&s.push(i)}return s}var Vq=function(n){ti(r,n);function r(t){var e=n.call(this,t)||this;e.renderOptions=function(){var o=e.props.year,u=e.state.yearsList.map(function(d){return St.createElement("div",{className:o===d?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:d,onClick:e.onChange.bind(e,d),"aria-selected":o===d?"true":void 0},o===d?St.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",d)}),c=e.props.minDate?un(e.props.minDate):null,l=e.props.maxDate?un(e.props.maxDate):null;return(!l||!e.state.yearsList.find(function(d){return d===l}))&&u.unshift(St.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:e.incrementYears},St.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!c||!e.state.yearsList.find(function(d){return d===c}))&&u.push(St.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:e.decrementYears},St.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),u},e.onChange=function(o){e.props.onChange(o)},e.handleClickOutside=function(){e.props.onCancel()},e.shiftYears=function(o){var u=e.state.yearsList.map(function(c){return c+o});e.setState({yearsList:u})},e.incrementYears=function(){return e.shiftYears(1)},e.decrementYears=function(){return e.shiftYears(-1)};var s=t.yearDropdownItemNumber,a=t.scrollableYearDropdown,i=s||(a?10:5);return e.state={yearsList:zq(e.props.year,i,e.props.minDate,e.props.maxDate)},e.dropdownRef=ne.createRef(),e}return r.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var e=t.children?Array.from(t.children):null,s=e?e.find(function(a){return a.ariaSelected}):null;t.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},r.prototype.render=function(){var t=ea({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return St.createElement(n5,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},r}(ne.Component),$q=function(n){ti(r,n);function r(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=t.props.minDate?un(t.props.minDate):1900,s=t.props.maxDate?un(t.props.maxDate):2100,a=[],i=e;i<=s;i++)a.push(St.createElement("option",{key:i,value:i},i));return a},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return St.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){return St.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(s){return t.toggleDropdown(s)}},St.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),St.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return St.createElement(Vq,Tn({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,s=[t.renderReadView(!e)];return e&&s.unshift(t.renderDropdown()),s},t.onChange=function(e){t.toggleDropdown(),e!==t.props.year&&t.props.onChange(e)},t.toggleDropdown=function(e){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,e)})},t.handleYearChange=function(e,s){var a;(a=t.onSelect)===null||a===void 0||a.call(t,e,s),t.setOpen()},t.onSelect=function(e,s){var a,i;(i=(a=t.props).onSelect)===null||i===void 0||i.call(a,e,s)},t.setOpen=function(){var e,s;(s=(e=t.props).setOpen)===null||s===void 0||s.call(e,!0)},t}return r.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return St.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},r}(ne.Component),Gq=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Yq=function(n){var r=(n.className||"").split(/\s+/);return Gq.some(function(t){return r.indexOf(t)>=0})},Kq=function(n){ti(r,n);function r(t){var e=n.call(this,t)||this;return e.monthContainer=void 0,e.handleClickOutside=function(s){e.props.onClickOutside(s)},e.setClickOutsideRef=function(){return e.containerRef.current},e.handleDropdownFocus=function(s){var a,i;Yq(s.target)&&((i=(a=e.props).onDropdownFocus)===null||i===void 0||i.call(a,s))},e.getDateInView=function(){var s=e.props,a=s.preSelection,i=s.selected,o=s.openToDate,u=xk(e.props),c=wk(e.props),l=ns(),d=o||i||a;return d||(u&&Mm(l,u)?u:c&&If(l,c)?c:l)},e.increaseMonth=function(){e.setState(function(s){var a=s.date;return{date:zc(a,1)}},function(){return e.handleMonthChange(e.state.date)})},e.decreaseMonth=function(){e.setState(function(s){var a=s.date;return{date:eg(a,1)}},function(){return e.handleMonthChange(e.state.date)})},e.handleDayClick=function(s,a,i){e.props.onSelect(s,a,i),e.props.setPreSelection&&e.props.setPreSelection(s)},e.handleDayMouseEnter=function(s){e.setState({selectingDate:s}),e.props.onDayMouseEnter&&e.props.onDayMouseEnter(s)},e.handleMonthMouseLeave=function(){e.setState({selectingDate:void 0}),e.props.onMonthMouseLeave&&e.props.onMonthMouseLeave()},e.handleYearMouseEnter=function(s,a){e.setState({selectingDate:vu(ns(),a)}),e.props.onYearMouseEnter&&e.props.onYearMouseEnter(s,a)},e.handleYearMouseLeave=function(s,a){e.props.onYearMouseLeave&&e.props.onYearMouseLeave(s,a)},e.handleYearChange=function(s){var a,i,o,u;(i=(a=e.props).onYearChange)===null||i===void 0||i.call(a,s),e.setState({isRenderAriaLiveMessage:!0}),e.props.adjustDateOnChange&&(e.props.onSelect(s),(u=(o=e.props).setOpen)===null||u===void 0||u.call(o,!0)),e.props.setPreSelection&&e.props.setPreSelection(s)},e.handleMonthChange=function(s){var a,i;e.handleCustomMonthChange(s),e.props.adjustDateOnChange&&(e.props.onSelect(s),(i=(a=e.props).setOpen)===null||i===void 0||i.call(a,!0)),e.props.setPreSelection&&e.props.setPreSelection(s)},e.handleCustomMonthChange=function(s){var a,i;(i=(a=e.props).onMonthChange)===null||i===void 0||i.call(a,s),e.setState({isRenderAriaLiveMessage:!0})},e.handleMonthYearChange=function(s){e.handleYearChange(s),e.handleMonthChange(s)},e.changeYear=function(s){e.setState(function(a){var i=a.date;return{date:vu(i,Number(s))}},function(){return e.handleYearChange(e.state.date)})},e.changeMonth=function(s){e.setState(function(a){var i=a.date;return{date:hl(i,Number(s))}},function(){return e.handleMonthChange(e.state.date)})},e.changeMonthYear=function(s){e.setState(function(a){var i=a.date;return{date:vu(hl(i,ho(s)),un(s))}},function(){return e.handleMonthYearChange(e.state.date)})},e.header=function(s){s===void 0&&(s=e.state.date);var a=Cf(s,e.props.locale,e.props.calendarStartDay),i=[];return e.props.showWeekNumbers&&i.push(St.createElement("div",{key:"W",className:"react-datepicker__day-name"},e.props.weekLabel||"#")),i.concat([0,1,2,3,4,5,6].map(function(o){var u=$f(a,o),c=e.formatWeekday(u,e.props.locale),l=e.props.weekDayClassName?e.props.weekDayClassName(u):void 0;return St.createElement("div",{key:o,"aria-label":Ns(u,"EEEE",e.props.locale),className:ea("react-datepicker__day-name",l)},c)}))},e.formatWeekday=function(s,a){return e.props.formatWeekDay?bq(s,e.props.formatWeekDay,a):e.props.useWeekdaysShort?vq(s,a):yq(s,a)},e.decreaseYear=function(){e.setState(function(s){var a,i=s.date;return{date:tg(i,e.props.showYearPicker?(a=e.props.yearItemNumber)!==null&&a!==void 0?a:r.defaultProps.yearItemNumber:1)}},function(){return e.handleYearChange(e.state.date)})},e.clearSelectingDate=function(){e.setState({selectingDate:void 0})},e.renderPreviousButton=function(){var s;if(!e.props.renderCustomHeader){var a;switch(!0){case e.props.showMonthYearPicker:a=L3(e.state.date,e.props);break;case e.props.showYearPicker:a=Eq(e.state.date,e.props);break;case e.props.showQuarterYearPicker:a=_q(e.state.date,e.props);break;default:a=M3(e.state.date,e.props);break}if(!(!((s=e.props.forceShowMonthNavigation)!==null&&s!==void 0?s:r.defaultProps.forceShowMonthNavigation)&&!e.props.showDisabledMonthNavigation&&a||e.props.showTimeSelectOnly)){var i=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],o=["react-datepicker__navigation","react-datepicker__navigation--previous"],u=e.decreaseMonth;(e.props.showMonthYearPicker||e.props.showQuarterYearPicker||e.props.showYearPicker)&&(u=e.decreaseYear),a&&e.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--previous--disabled"),u=void 0);var c=e.props.showMonthYearPicker||e.props.showQuarterYearPicker||e.props.showYearPicker,l=e.props,d=l.previousMonthButtonLabel,p=d===void 0?r.defaultProps.previousMonthButtonLabel:d,h=l.previousYearButtonLabel,f=h===void 0?r.defaultProps.previousYearButtonLabel:h,b=e.props,y=b.previousMonthAriaLabel,g=y===void 0?typeof p=="string"?p:"Previous Month":y,x=b.previousYearAriaLabel,v=x===void 0?typeof f=="string"?f:"Previous Year":x;return St.createElement("button",{type:"button",className:o.join(" "),onClick:u,onKeyDown:e.props.handleOnKeyDown,"aria-label":c?v:g},St.createElement("span",{className:i.join(" ")},c?f:p))}}},e.increaseYear=function(){e.setState(function(s){var a,i=s.date;return{date:hh(i,e.props.showYearPicker?(a=e.props.yearItemNumber)!==null&&a!==void 0?a:r.defaultProps.yearItemNumber:1)}},function(){return e.handleYearChange(e.state.date)})},e.renderNextButton=function(){var s;if(!e.props.renderCustomHeader){var a;switch(!0){case e.props.showMonthYearPicker:a=F3(e.state.date,e.props);break;case e.props.showYearPicker:a=Nq(e.state.date,e.props);break;case e.props.showQuarterYearPicker:a=Sq(e.state.date,e.props);break;default:a=O3(e.state.date,e.props);break}if(!(!((s=e.props.forceShowMonthNavigation)!==null&&s!==void 0?s:r.defaultProps.forceShowMonthNavigation)&&!e.props.showDisabledMonthNavigation&&a||e.props.showTimeSelectOnly)){var i=["react-datepicker__navigation","react-datepicker__navigation--next"],o=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];e.props.showTimeSelect&&i.push("react-datepicker__navigation--next--with-time"),e.props.todayButton&&i.push("react-datepicker__navigation--next--with-today-button");var u=e.increaseMonth;(e.props.showMonthYearPicker||e.props.showQuarterYearPicker||e.props.showYearPicker)&&(u=e.increaseYear),a&&e.props.showDisabledMonthNavigation&&(i.push("react-datepicker__navigation--next--disabled"),u=void 0);var c=e.props.showMonthYearPicker||e.props.showQuarterYearPicker||e.props.showYearPicker,l=e.props,d=l.nextMonthButtonLabel,p=d===void 0?r.defaultProps.nextMonthButtonLabel:d,h=l.nextYearButtonLabel,f=h===void 0?r.defaultProps.nextYearButtonLabel:h,b=e.props,y=b.nextMonthAriaLabel,g=y===void 0?typeof p=="string"?p:"Next Month":y,x=b.nextYearAriaLabel,v=x===void 0?typeof f=="string"?f:"Next Year":x;return St.createElement("button",{type:"button",className:i.join(" "),onClick:u,onKeyDown:e.props.handleOnKeyDown,"aria-label":c?v:g},St.createElement("span",{className:o.join(" ")},c?f:p))}}},e.renderCurrentMonth=function(s){s===void 0&&(s=e.state.date);var a=["react-datepicker__current-month"];return e.props.showYearDropdown&&a.push("react-datepicker__current-month--hasYearDropdown"),e.props.showMonthDropdown&&a.push("react-datepicker__current-month--hasMonthDropdown"),e.props.showMonthYearDropdown&&a.push("react-datepicker__current-month--hasMonthYearDropdown"),St.createElement("h2",{className:a.join(" ")},Ns(s,e.props.dateFormat,e.props.locale))},e.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!e.props.showYearDropdown||s))return St.createElement($q,Tn({},r.defaultProps,e.props,{date:e.state.date,onChange:e.changeYear,year:un(e.state.date)}))},e.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!e.props.showMonthDropdown||s))return St.createElement(Fq,Tn({},r.defaultProps,e.props,{month:ho(e.state.date),onChange:e.changeMonth}))},e.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!e.props.showMonthYearDropdown||s))return St.createElement(Hq,Tn({},r.defaultProps,e.props,{date:e.state.date,onChange:e.changeMonthYear}))},e.handleTodayButtonClick=function(s){e.props.onSelect(T3(),s),e.props.setPreSelection&&e.props.setPreSelection(T3())},e.renderTodayButton=function(){if(!(!e.props.todayButton||e.props.showTimeSelectOnly))return St.createElement("div",{className:"react-datepicker__today-button",onClick:e.handleTodayButtonClick},e.props.todayButton)},e.renderDefaultHeader=function(s){var a=s.monthDate,i=s.i;return St.createElement("div",{className:"react-datepicker__header ".concat(e.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},e.renderCurrentMonth(a),St.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(e.props.dropdownMode),onFocus:e.handleDropdownFocus},e.renderMonthDropdown(i!==0),e.renderMonthYearDropdown(i!==0),e.renderYearDropdown(i!==0)),St.createElement("div",{className:"react-datepicker__day-names"},e.header(a)))},e.renderCustomHeader=function(s){var a,i,o=s.monthDate,u=s.i;if(e.props.showTimeSelect&&!e.state.monthContainer||e.props.showTimeSelectOnly)return null;var c=M3(e.state.date,e.props),l=O3(e.state.date,e.props),d=L3(e.state.date,e.props),p=F3(e.state.date,e.props),h=!e.props.showMonthYearPicker&&!e.props.showQuarterYearPicker&&!e.props.showYearPicker;return St.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:e.props.onDropdownFocus},(i=(a=e.props).renderCustomHeader)===null||i===void 0?void 0:i.call(a,Tn(Tn({},e.state),{customHeaderCount:u,monthDate:o,changeMonth:e.changeMonth,changeYear:e.changeYear,decreaseMonth:e.decreaseMonth,increaseMonth:e.increaseMonth,decreaseYear:e.decreaseYear,increaseYear:e.increaseYear,prevMonthButtonDisabled:c,nextMonthButtonDisabled:l,prevYearButtonDisabled:d,nextYearButtonDisabled:p})),h&&St.createElement("div",{className:"react-datepicker__day-names"},e.header(o)))},e.renderYearHeader=function(s){var a=s.monthDate,i=e.props,o=i.showYearPicker,u=i.yearItemNumber,c=u===void 0?r.defaultProps.yearItemNumber:u,l=Sf(a,c),d=l.startPeriod,p=l.endPeriod;return St.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},o?"".concat(d," - ").concat(p):un(a))},e.renderHeader=function(s){var a=s.monthDate,i=s.i,o=i===void 0?0:i,u={monthDate:a,i:o};switch(!0){case e.props.renderCustomHeader!==void 0:return e.renderCustomHeader(u);case(e.props.showMonthYearPicker||e.props.showQuarterYearPicker||e.props.showYearPicker):return e.renderYearHeader(u);default:return e.renderDefaultHeader(u)}},e.renderMonths=function(){var s,a;if(!(e.props.showTimeSelectOnly||e.props.showYearPicker)){for(var i=[],o=(s=e.props.monthsShown)!==null&&s!==void 0?s:r.defaultProps.monthsShown,u=e.props.showPreviousMonths?o-1:0,c=e.props.showMonthYearPicker||e.props.showQuarterYearPicker?hh(e.state.date,u):eg(e.state.date,u),l=(a=e.props.monthSelectedIn)!==null&&a!==void 0?a:u,d=0;d<o;++d){var p=d-l+u,h=e.props.showMonthYearPicker||e.props.showQuarterYearPicker?hh(c,p):zc(c,p),f="month-".concat(d),b=d<o-1,y=d>0;i.push(St.createElement("div",{key:f,ref:function(g){e.monthContainer=g??void 0},className:"react-datepicker__month-container"},e.renderHeader({monthDate:h,i:d}),St.createElement(Oq,Tn({},r.defaultProps,e.props,{ariaLabelPrefix:e.props.monthAriaLabelPrefix,day:h,onDayClick:e.handleDayClick,handleOnKeyDown:e.props.handleOnDayKeyDown,handleOnMonthKeyDown:e.props.handleOnKeyDown,onDayMouseEnter:e.handleDayMouseEnter,onMouseLeave:e.handleMonthMouseLeave,orderInDisplay:d,selectingDate:e.state.selectingDate,monthShowsDuplicateDaysEnd:b,monthShowsDuplicateDaysStart:y}))))}return i}},e.renderYears=function(){if(!e.props.showTimeSelectOnly&&e.props.showYearPicker)return St.createElement("div",{className:"react-datepicker__year--container"},e.renderHeader({monthDate:e.state.date}),St.createElement(Wq,Tn({},r.defaultProps,e.props,{selectingDate:e.state.selectingDate,date:e.state.date,onDayClick:e.handleDayClick,clearSelectingDate:e.clearSelectingDate,onYearMouseEnter:e.handleYearMouseEnter,onYearMouseLeave:e.handleYearMouseLeave})))},e.renderTimeSection=function(){if(e.props.showTimeSelect&&(e.state.monthContainer||e.props.showTimeSelectOnly))return St.createElement(qq,Tn({},r.defaultProps,e.props,{onChange:e.props.onTimeChange,format:e.props.timeFormat,intervals:e.props.timeIntervals,monthRef:e.state.monthContainer}))},e.renderInputTimeSection=function(){var s=e.props.selected?new Date(e.props.selected):void 0,a=s&&Bd(s)&&!!e.props.selected,i=a?"".concat(U3(s.getHours()),":").concat(U3(s.getMinutes())):"";if(e.props.showTimeInput)return St.createElement(jq,Tn({},r.defaultProps,e.props,{date:s,timeString:i,onChange:e.props.onTimeChange}))},e.renderAriaLiveRegion=function(){var s,a=Sf(e.state.date,(s=e.props.yearItemNumber)!==null&&s!==void 0?s:r.defaultProps.yearItemNumber),i=a.startPeriod,o=a.endPeriod,u;return e.props.showYearPicker?u="".concat(i," - ").concat(o):e.props.showMonthYearPicker||e.props.showQuarterYearPicker?u=un(e.state.date):u="".concat(T8(ho(e.state.date),e.props.locale)," ").concat(un(e.state.date)),St.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},e.state.isRenderAriaLiveMessage&&u)},e.renderChildren=function(){if(e.props.children)return St.createElement("div",{className:"react-datepicker__children-container"},e.props.children)},e.containerRef=ne.createRef(),e.state={date:e.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},e}return Object.defineProperty(r,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Nv}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},r.prototype.componentDidUpdate=function(t){var e=this;if(this.props.preSelection&&(!_n(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var s=!oo(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&e.handleCustomMonthChange(e.state.date)})}else this.props.openToDate&&!_n(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},r.prototype.render=function(){var t=this.props.container||cq;return St.createElement(n5,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},St.createElement(t,{className:ea("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},r}(ne.Component),Xq=function(n){var r=n.icon,t=n.className,e=t===void 0?"":t,s=n.onClick,a="react-datepicker__calendar-icon";return typeof r=="string"?St.createElement("i",{className:"".concat(a," ").concat(r," ").concat(e),"aria-hidden":"true",onClick:s}):St.isValidElement(r)?St.cloneElement(r,{className:"".concat(r.props.className||""," ").concat(a," ").concat(e),onClick:function(i){typeof r.props.onClick=="function"&&r.props.onClick(i),typeof s=="function"&&s(i)}}):St.createElement("svg",{className:"".concat(a," ").concat(e),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},St.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Sk=function(n){ti(r,n);function r(t){var e=n.call(this,t)||this;return e.portalRoot=null,e.el=document.createElement("div"),e}return r.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},r.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},r.prototype.render=function(){return IM.createPortal(this.props.children,this.el)},r}(ne.Component),Jq="[tabindex], a, button, input, select, textarea",Zq=function(n){return(n instanceof HTMLAnchorElement||!n.disabled)&&n.tabIndex!==-1},Ek=function(n){ti(r,n);function r(t){var e=n.call(this,t)||this;return e.getTabChildren=function(){var s;return Array.prototype.slice.call((s=e.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(Jq),1,-1).filter(Zq)},e.handleFocusStart=function(){var s=e.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},e.handleFocusEnd=function(){var s=e.getTabChildren();s&&s.length>1&&s[0].focus()},e.tabLoopRef=ne.createRef(),e}return r.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:r.defaultProps.enableTabLoop)?St.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},St.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,St.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},r.defaultProps={enableTabLoop:!0},r}(ne.Component);function Qq(n){var r=function(t){var e,s=typeof t.hidePopper=="boolean"?t.hidePopper:!0,a=ne.useRef(null),i=lq(Tn({open:!s,whileElementsMounted:UH,placement:t.popperPlacement,middleware:Hu([GH({padding:15}),$H(10),YH({element:a})],(e=t.popperModifiers)!==null&&e!==void 0?e:[],!0)},t.popperProps)),o=Tn(Tn({},t),{hidePopper:s,popperProps:Tn(Tn({},i),{arrowRef:a})});return St.createElement(n,Tn({},o))};return r}var eW=function(n){ti(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),r.prototype.render=function(){var t=this.props,e=t.className,s=t.wrapperClassName,a=t.hidePopper,i=a===void 0?r.defaultProps.hidePopper:a,o=t.popperComponent,u=t.targetComponent,c=t.enableTabLoop,l=t.popperOnKeyDown,d=t.portalId,p=t.portalHost,h=t.popperProps,f=t.showArrow,b=void 0;if(!i){var y=ea("react-datepicker-popper",e);b=St.createElement(Ek,{enableTabLoop:c},St.createElement("div",{ref:h.refs.setFloating,style:h.floatingStyles,className:y,"data-placement":h.placement,onKeyDown:l},o,f&&St.createElement(tq,{ref:h.arrowRef,context:h.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(b=ne.createElement(this.props.popperContainer,{},b)),d&&!i&&(b=St.createElement(Sk,{portalId:d,portalHost:p},b));var g=ea("react-datepicker-wrapper",s);return St.createElement(St.Fragment,null,St.createElement("div",{ref:h.refs.setReference,className:g},u),b)},r}(ne.Component),tW=Qq(eW),$3="react-datepicker-ignore-onclickoutside";function rW(n,r){return n&&r?ho(n)!==ho(r)||un(n)!==un(r):n!==r}var O6="Date input not valid.",nW=function(n){ti(r,n);function r(t){var e=n.call(this,t)||this;return e.calendar=null,e.input=null,e.getPreSelection=function(){return e.props.openToDate?e.props.openToDate:e.props.selectsEnd&&e.props.startDate?e.props.startDate:e.props.selectsStart&&e.props.endDate?e.props.endDate:ns()},e.modifyHolidays=function(){var s;return(s=e.props.holidays)===null||s===void 0?void 0:s.reduce(function(a,i){var o=new Date(i.date);return Bd(o)?Hu(Hu([],a,!0),[Tn(Tn({},i),{date:o})],!1):a},[])},e.calcInitialState=function(){var s,a=e.getPreSelection(),i=xk(e.props),o=wk(e.props),u=i&&Mm(a,dx(i))?i:o&&If(a,j3(o))?o:a;return{open:e.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=e.props.selectsRange?e.props.startDate:e.props.selected)!==null&&s!==void 0?s:u,highlightDates:B3(e.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},e.resetHiddenStatus=function(){e.setState(Tn(Tn({},e.state),{wasHidden:!1}))},e.setHiddenStatus=function(){e.setState(Tn(Tn({},e.state),{wasHidden:!0}))},e.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&e.setHiddenStatus()},e.clearPreventFocusTimeout=function(){e.preventFocusTimeout&&clearTimeout(e.preventFocusTimeout)},e.setFocus=function(){e.input&&e.input.focus&&e.input.focus({preventScroll:!0})},e.setBlur=function(){e.input&&e.input.blur&&e.input.blur(),e.cancelFocusInput()},e.setOpen=function(s,a){a===void 0&&(a=!1),e.setState({open:s,preSelection:s&&e.state.open?e.state.preSelection:e.calcInitialState().preSelection,lastPreSelectChange:L6},function(){s||e.setState(function(i){return{focused:a?i.focused:!1}},function(){!a&&e.setBlur(),e.setState({inputValue:null})})})},e.inputOk=function(){return fh(e.state.preSelection)},e.isCalendarOpen=function(){return e.props.open===void 0?e.state.open&&!e.props.disabled&&!e.props.readOnly:e.props.open},e.handleFocus=function(s){var a,i,o=e.state.wasHidden,u=o?e.state.open:!0;o&&e.resetHiddenStatus(),!e.state.preventFocus&&u&&((i=(a=e.props).onFocus)===null||i===void 0||i.call(a,s),!e.props.preventOpenOnFocus&&!e.props.readOnly&&e.setOpen(!0)),e.setState({focused:!0})},e.sendFocusBackToInput=function(){e.preventFocusTimeout&&e.clearPreventFocusTimeout(),e.setState({preventFocus:!0},function(){e.preventFocusTimeout=setTimeout(function(){e.setFocus(),e.setState({preventFocus:!1})})})},e.cancelFocusInput=function(){clearTimeout(e.inputFocusTimeout),e.inputFocusTimeout=void 0},e.deferFocusInput=function(){e.cancelFocusInput(),e.inputFocusTimeout=setTimeout(function(){return e.setFocus()},1)},e.handleDropdownFocus=function(){e.cancelFocusInput()},e.handleBlur=function(s){var a,i;(!e.state.open||e.props.withPortal||e.props.showTimeInput)&&((i=(a=e.props).onBlur)===null||i===void 0||i.call(a,s)),e.setState({focused:!1})},e.handleCalendarClickOutside=function(s){var a,i;e.props.inline||e.setOpen(!1),(i=(a=e.props).onClickOutside)===null||i===void 0||i.call(a,s),e.props.withPortal&&s.preventDefault()},e.handleChange=function(){for(var s,a,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var u=i[0];if(!(e.props.onChangeRaw&&(e.props.onChangeRaw.apply(e,i),!u||typeof u.isDefaultPrevented!="function"||u.isDefaultPrevented()))){e.setState({inputValue:(u==null?void 0:u.target)instanceof HTMLInputElement?u.target.value:null,lastPreSelectChange:sW});var c=e.props,l=c.dateFormat,d=l===void 0?r.defaultProps.dateFormat:l,p=c.strictParsing,h=p===void 0?r.defaultProps.strictParsing:p,f=c.selectsRange,b=c.startDate,y=c.endDate,g=(u==null?void 0:u.target)instanceof HTMLInputElement?u.target.value:"";if(f){var x=g.split("-",2).map(function(L){return L.trim()}),v=x[0],w=x[1],S=P6(v??"",d,e.props.locale,h),D=P6(w??"",d,e.props.locale,h),T=(b==null?void 0:b.getTime())!==(S==null?void 0:S.getTime()),R=(y==null?void 0:y.getTime())!==(D==null?void 0:D.getTime());if(!T&&!R||S&&Lu(S,e.props)||D&&Lu(D,e.props))return;(a=(s=e.props).onChange)===null||a===void 0||a.call(s,[S,D],u)}else{var P=P6(g,d,e.props.locale,h,e.props.minDate);e.props.showTimeSelectOnly&&e.props.selected&&P&&!_n(P,e.props.selected)&&(P=JF(e.props.selected,{hours:qu(P),minutes:Wu(P),seconds:ph(P)})),(P||!g)&&e.setSelected(P,u,!0)}}},e.handleSelect=function(s,a,i){if(e.props.shouldCloseOnSelect&&!e.props.showTimeSelect&&e.sendFocusBackToInput(),e.props.onChangeRaw&&e.props.onChangeRaw(a),e.setSelected(s,a,!1,i),e.props.showDateSelect&&e.setState({isRenderAriaLiveMessage:!0}),!e.props.shouldCloseOnSelect||e.props.showTimeSelect)e.setPreSelection(s);else if(!e.props.inline){e.props.selectsRange||e.setOpen(!1);var o=e.props,u=o.startDate,c=o.endDate;u&&!c&&(e.props.swapRange||!W3(s,u))&&e.setOpen(!1)}},e.setSelected=function(s,a,i,o){var u,c,l=s;if(e.props.showYearPicker){if(l!==null&&hx(un(l),e.props))return}else if(e.props.showMonthYearPicker){if(l!==null&&vk(l,e.props))return}else if(l!==null&&Lu(l,e.props))return;var d=e.props,p=d.onChange,h=d.selectsRange,f=d.startDate,b=d.endDate,y=d.selectsMultiple,g=d.selectedDates,x=d.minTime,v=d.swapRange;if(!Cp(e.props.selected,l)||e.props.allowSameDay||h||y)if(l!==null&&(e.props.selected&&(!i||!e.props.showTimeSelect&&!e.props.showTimeSelectOnly&&!e.props.showTimeInput)&&(l=R6(l,{hour:qu(e.props.selected),minute:Wu(e.props.selected),second:ph(e.props.selected)})),!i&&(e.props.showTimeSelect||e.props.showTimeSelectOnly)&&x&&(l=R6(l,{hour:x.getHours(),minute:x.getMinutes(),second:x.getSeconds()})),e.props.inline||e.setState({preSelection:l}),e.props.focusSelectedMonth||e.setState({monthSelectedIn:o})),h){var w=!f&&!b,S=f&&!b,D=f&&b;w?p==null||p([l,null],a):S&&(l===null?p==null||p([null,null],a):W3(l,f)?v?p==null||p([l,f],a):p==null||p([l,null],a):p==null||p([f,l],a)),D&&(p==null||p([l,null],a))}else if(y){if(l!==null)if(!(g!=null&&g.length))p==null||p([l],a);else{var T=g.some(function(P){return _n(P,l)});if(T){var R=g.filter(function(P){return!_n(P,l)});p==null||p(R,a)}else p==null||p(Hu(Hu([],g,!0),[l],!1),a)}}else p==null||p(l,a);i||((c=(u=e.props).onSelect)===null||c===void 0||c.call(u,l,a),e.setState({inputValue:null}))},e.setPreSelection=function(s){var a=fh(e.props.minDate),i=fh(e.props.maxDate),o=!0;if(s){var u=dx(s);if(a&&i)o=qg(s,e.props.minDate,e.props.maxDate);else if(a){var c=dx(e.props.minDate);o=If(s,c)||Cp(u,c)}else if(i){var l=j3(e.props.maxDate);o=Mm(s,l)||Cp(u,l)}}o&&e.setState({preSelection:s})},e.toggleCalendar=function(){e.setOpen(!e.state.open)},e.handleTimeChange=function(s){var a,i;if(!(e.props.selectsRange||e.props.selectsMultiple)){var o=e.props.selected?e.props.selected:e.getPreSelection(),u=e.props.selected?s:R6(o,{hour:qu(s),minute:Wu(s)});e.setState({preSelection:u}),(i=(a=e.props).onChange)===null||i===void 0||i.call(a,u),e.props.shouldCloseOnSelect&&!e.props.showTimeInput&&(e.sendFocusBackToInput(),e.setOpen(!1)),e.props.showTimeInput&&e.setOpen(!0),(e.props.showTimeSelectOnly||e.props.showTimeSelect)&&e.setState({isRenderAriaLiveMessage:!0}),e.setState({inputValue:null})}},e.onInputClick=function(){var s,a;!e.props.disabled&&!e.props.readOnly&&e.setOpen(!0),(a=(s=e.props).onInputClick)===null||a===void 0||a.call(s)},e.onInputKeyDown=function(s){var a,i,o,u,c,l;(i=(a=e.props).onKeyDown)===null||i===void 0||i.call(a,s);var d=s.key;if(!e.state.open&&!e.props.inline&&!e.props.preventOpenOnFocus){(d===nr.ArrowDown||d===nr.ArrowUp||d===nr.Enter)&&((o=e.onInputClick)===null||o===void 0||o.call(e));return}if(e.state.open){if(d===nr.ArrowDown||d===nr.ArrowUp){s.preventDefault();var p=e.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":e.props.showWeekPicker&&e.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':e.props.showFullMonthYearPicker||e.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',h=((u=e.calendar)===null||u===void 0?void 0:u.containerRef.current)instanceof Element&&e.calendar.containerRef.current.querySelector(p);h instanceof HTMLElement&&h.focus({preventScroll:!0});return}var f=ns(e.state.preSelection);d===nr.Enter?(s.preventDefault(),e.inputOk()&&e.state.lastPreSelectChange===L6?(e.handleSelect(f,s),!e.props.shouldCloseOnSelect&&e.setPreSelection(f)):e.setOpen(!1)):d===nr.Escape?(s.preventDefault(),e.sendFocusBackToInput(),e.setOpen(!1)):d===nr.Tab&&e.setOpen(!1),e.inputOk()||(l=(c=e.props).onInputError)===null||l===void 0||l.call(c,{code:1,msg:O6})}},e.onPortalKeyDown=function(s){var a=s.key;a===nr.Escape&&(s.preventDefault(),e.setState({preventFocus:!0},function(){e.setOpen(!1),setTimeout(function(){e.setFocus(),e.setState({preventFocus:!1})})}))},e.onDayKeyDown=function(s){var a,i,o,u,c,l,d=e.props,p=d.minDate,h=d.maxDate,f=d.disabledKeyboardNavigation,b=d.showWeekPicker,y=d.shouldCloseOnSelect,g=d.locale,x=d.calendarStartDay,v=d.adjustDateOnChange,w=d.inline;if((i=(a=e.props).onKeyDown)===null||i===void 0||i.call(a,s),!f){var S=s.key,D=s.shiftKey,T=ns(e.state.preSelection),R=function(F,A){var _=A;switch(F){case nr.ArrowRight:_=b?zx(A,1):$f(A,1);break;case nr.ArrowLeft:_=b?JE(A,1):RF(A,1);break;case nr.ArrowUp:_=JE(A,1);break;case nr.ArrowDown:_=zx(A,1);break;case nr.PageUp:_=D?tg(A,1):eg(A,1);break;case nr.PageDown:_=D?hh(A,1):zc(A,1);break;case nr.Home:_=Cf(A,g,x);break;case nr.End:_=gq(A);break}return _},P=function(F,A){for(var _=40,E=F,N=!1,k=0,B=R(F,A);!N;){if(k>=_){B=A;break}p&&B<p&&(E=nr.ArrowRight,B=Lu(p,e.props)?R(E,B):p),h&&B>h&&(E=nr.ArrowLeft,B=Lu(h,e.props)?R(E,B):h),Lu(B,e.props)?((E===nr.PageUp||E===nr.Home)&&(E=nr.ArrowRight),(E===nr.PageDown||E===nr.End)&&(E=nr.ArrowLeft),B=R(E,B)):N=!0,k++}return B};if(S===nr.Enter){s.preventDefault(),e.handleSelect(T,s),!y&&e.setPreSelection(T);return}else if(S===nr.Escape){s.preventDefault(),e.setOpen(!1),e.inputOk()||(u=(o=e.props).onInputError)===null||u===void 0||u.call(o,{code:1,msg:O6});return}var L=null;switch(S){case nr.ArrowLeft:case nr.ArrowRight:case nr.ArrowUp:case nr.ArrowDown:case nr.PageUp:case nr.PageDown:case nr.Home:case nr.End:L=P(S,T);break}if(!L){(l=(c=e.props).onInputError)===null||l===void 0||l.call(c,{code:1,msg:O6});return}if(s.preventDefault(),e.setState({lastPreSelectChange:L6}),v&&e.setSelected(L),e.setPreSelection(L),w){var O=ho(T),H=ho(L),U=un(T),I=un(L);O!==H||U!==I?e.setState({shouldFocusDayInline:!0}):e.setState({shouldFocusDayInline:!1})}}},e.onPopperKeyDown=function(s){var a=s.key;a===nr.Escape&&(s.preventDefault(),e.sendFocusBackToInput())},e.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),e.sendFocusBackToInput();var a=e.props,i=a.selectsRange,o=a.onChange;i?o==null||o([null,null],s):o==null||o(null,s),e.setState({inputValue:null})},e.clear=function(){e.onClearClick()},e.onScroll=function(s){typeof e.props.closeOnScroll=="boolean"&&e.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&e.setOpen(!1):typeof e.props.closeOnScroll=="function"&&e.props.closeOnScroll(s)&&e.setOpen(!1)},e.renderCalendar=function(){var s,a;return!e.props.inline&&!e.isCalendarOpen()?null:St.createElement(Kq,Tn({showMonthYearDropdown:void 0,ref:function(i){e.calendar=i}},e.props,e.state,{setOpen:e.setOpen,dateFormat:(s=e.props.dateFormatCalendar)!==null&&s!==void 0?s:r.defaultProps.dateFormatCalendar,onSelect:e.handleSelect,onClickOutside:e.handleCalendarClickOutside,holidays:kq(e.modifyHolidays()),outsideClickIgnoreClass:$3,onDropdownFocus:e.handleDropdownFocus,onTimeChange:e.handleTimeChange,className:e.props.calendarClassName,container:e.props.calendarContainer,handleOnKeyDown:e.props.onKeyDown,handleOnDayKeyDown:e.onDayKeyDown,setPreSelection:e.setPreSelection,dropdownMode:(a=e.props.dropdownMode)!==null&&a!==void 0?a:r.defaultProps.dropdownMode}),e.props.children)},e.renderAriaLiveRegion=function(){var s=e.props,a=s.dateFormat,i=a===void 0?r.defaultProps.dateFormat:a,o=s.locale,u=e.props.showTimeInput||e.props.showTimeSelect,c=u?"PPPPp":"PPPP",l;return e.props.selectsRange?l="Selected start date: ".concat(ql(e.props.startDate,{dateFormat:c,locale:o}),". ").concat(e.props.endDate?"End date: "+ql(e.props.endDate,{dateFormat:c,locale:o}):""):e.props.showTimeSelectOnly?l="Selected time: ".concat(ql(e.props.selected,{dateFormat:i,locale:o})):e.props.showYearPicker?l="Selected year: ".concat(ql(e.props.selected,{dateFormat:"yyyy",locale:o})):e.props.showMonthYearPicker?l="Selected month: ".concat(ql(e.props.selected,{dateFormat:"MMMM yyyy",locale:o})):e.props.showQuarterYearPicker?l="Selected quarter: ".concat(ql(e.props.selected,{dateFormat:"yyyy, QQQ",locale:o})):l="Selected date: ".concat(ql(e.props.selected,{dateFormat:c,locale:o})),St.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},l)},e.renderDateInput=function(){var s,a,i,o=ea(e.props.className,(s={},s[$3]=e.state.open,s)),u=e.props.customInput||St.createElement("input",{type:"text"}),c=e.props.customInputRef||"ref",l=e.props,d=l.dateFormat,p=d===void 0?r.defaultProps.dateFormat:d,h=l.locale,f=typeof e.props.value=="string"?e.props.value:typeof e.state.inputValue=="string"?e.state.inputValue:e.props.selectsRange?hq(e.props.startDate,e.props.endDate,{dateFormat:p,locale:h}):e.props.selectsMultiple?fq((i=e.props.selectedDates)!==null&&i!==void 0?i:[],{dateFormat:p,locale:h}):ql(e.props.selected,{dateFormat:p,locale:h});return ne.cloneElement(u,(a={},a[c]=function(b){e.input=b},a.value=f,a.onBlur=e.handleBlur,a.onChange=e.handleChange,a.onClick=e.onInputClick,a.onFocus=e.handleFocus,a.onKeyDown=e.onInputKeyDown,a.id=e.props.id,a.name=e.props.name,a.form=e.props.form,a.autoFocus=e.props.autoFocus,a.placeholder=e.props.placeholderText,a.disabled=e.props.disabled,a.autoComplete=e.props.autoComplete,a.className=ea(u.props.className,o),a.title=e.props.title,a.readOnly=e.props.readOnly,a.required=e.props.required,a.tabIndex=e.props.tabIndex,a["aria-describedby"]=e.props.ariaDescribedBy,a["aria-invalid"]=e.props.ariaInvalid,a["aria-labelledby"]=e.props.ariaLabelledBy,a["aria-required"]=e.props.ariaRequired,a))},e.renderClearButton=function(){var s=e.props,a=s.isClearable,i=s.disabled,o=s.selected,u=s.startDate,c=s.endDate,l=s.clearButtonTitle,d=s.clearButtonClassName,p=d===void 0?"":d,h=s.ariaLabelClose,f=h===void 0?"Close":h,b=s.selectedDates;return a&&(o!=null||u!=null||c!=null||b!=null&&b.length)?St.createElement("button",{type:"button",className:ea("react-datepicker__close-icon",p,{"react-datepicker__close-icon--disabled":i}),disabled:i,"aria-label":f,onClick:e.onClearClick,title:l,tabIndex:-1}):null},e.state=e.calcInitialState(),e.preventFocusTimeout=void 0,e}return Object.defineProperty(r,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Nv,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.componentDidUpdate=function(t,e){var s,a,i,o;t.inline&&rW(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:B3(this.props.highlightDates)}),!e.focused&&!Cp(t.selected,this.props.selected)&&this.setState({inputValue:null}),e.open!==this.state.open&&(e.open===!1&&this.state.open===!0&&((a=(s=this.props).onCalendarOpen)===null||a===void 0||a.call(s)),e.open===!0&&this.state.open===!1&&((o=(i=this.props).onCalendarClose)===null||o===void 0||o.call(i)))},r.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.renderInputContainer=function(){var t=this.props,e=t.showIcon,s=t.icon,a=t.calendarIconClassname,i=t.calendarIconClassName,o=t.toggleCalendarOnIconClick,u=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),St.createElement("div",{className:"react-datepicker__input-container".concat(e?" react-datepicker__view-calendar-icon":"")},e&&St.createElement(Xq,Tn({icon:s,className:ea(i,!i&&a,u&&"react-datepicker-ignore-onclickoutside")},o?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},r.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var e=this.state.open?St.createElement(Ek,{enableTabLoop:this.props.enableTabLoop},St.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(e=St.createElement(Sk,Tn({portalId:this.props.portalId},this.props),e)),St.createElement("div",null,this.renderInputContainer(),e)}return St.createElement(tW,Tn({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},r}(ne.Component),sW="input",L6="navigate";const aW=({onDateChange:n})=>{const[r,t]=ne.useState(null),[e,s]=ne.useState(!1),a=ne.useRef(),i=u=>{if(t(u),u){const c=(u.getMonth()+1).toString(),l=u.getDate().toString(),d=u.getFullYear().toString();n(`${c}, ${l}, ${d}`)}else n("");s(!1)},o=()=>{s(u=>!u)};return m.jsx("div",{className:"relative",style:{width:"200px"},children:m.jsxs("div",{className:"rounded-md flex items-center py-2 w-full text_size_5 bg-white border text-grey border-lite_grey ${border} px-3 gap-2",children:[m.jsx(nW,{ref:a,selected:r,onChange:i,dateFormat:"MM/dd/yyyy",placeholderText:"Select a date",className:"uppercase outline-none text-sm w-full",open:e,onCalendarClose:()=>s(!1)}),m.jsx(eH,{className:"absolute right-2 text-gray-400 cursor-pointer",onClick:o})]})})};function s5(n){return Fn({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor"},child:[]}]})(n)}const iW=`
  mutation CreateOffshoreSheet(
    $input: CreateOffshoreSheetInput!
    $condition: ModelOffshoreSheetConditionInput
  ) {
    createOffshoreSheet(input: $input, condition: $condition) {
      id
      date
      dailySheet
      status
      createdAt
      updatedAt
      __typename
    }
  }
`,oW=`
  mutation UpdateOffshoreSheet(
    $input: UpdateOffshoreSheetInput!
    $condition: ModelOffshoreSheetConditionInput
  ) {
    updateOffshoreSheet(input: $input, condition: $condition) {
      id
      date
      dailySheet
      status
      createdAt
      updatedAt
      __typename
    }
  }
`,lW=`
  mutation CreateORMCSheet(
    $input: CreateORMCSheetInput!
    $condition: ModelORMCSheetConditionInput
  ) {
    createORMCSheet(input: $input, condition: $condition) {
      id
      date
      dailySheet
      status
      createdAt
      updatedAt
      __typename
    }
  }
`,cW=`
  mutation UpdateORMCSheet(
    $input: UpdateORMCSheetInput!
    $condition: ModelORMCSheetConditionInput
  ) {
    updateORMCSheet(input: $input, condition: $condition) {
      id
      date
      dailySheet
      status
      createdAt
      updatedAt
      __typename
    }
  }
`,uW=`
  mutation CreateSBWSheet(
    $input: CreateSBWSheetInput!
    $condition: ModelSBWSheetConditionInput
  ) {
    createSBWSheet(input: $input, condition: $condition) {
      id
      date
      dailySheet
      status
      createdAt
      updatedAt
      __typename
    }
  }
`,dW=`
  mutation UpdateSBWSheet(
    $input: UpdateSBWSheetInput!
    $condition: ModelSBWSheetConditionInput
  ) {
    updateSBWSheet(input: $input, condition: $condition) {
      id
      date
      dailySheet
      status
      createdAt
      updatedAt
      __typename
    }
  }
`,hW=`
  mutation CreateEmpRequisition(
    $input: CreateEmpRequisitionInput!
    $condition: ModelEmpRequisitionConditionInput
  ) {
    createEmpRequisition(input: $input, condition: $condition) {
      id
      department
      justification
      project
      position
      quantity
      qualification
      reasonForReq
      replacementFor
      tentativeDate
      createdAt
      updatedAt
      __typename
    }
  }
`,fW=`
  mutation CreateHeadOffice(
    $input: CreateHeadOfficeInput!
    $condition: ModelHeadOfficeConditionInput
  ) {
    createHeadOffice(input: $input, condition: $condition) {
      id
      dailySheet
      date
      status
      createdAt
      updatedAt
      __typename
    }
  }
`,pW=`
  mutation UpdateHeadOffice(
    $input: UpdateHeadOfficeInput!
    $condition: ModelHeadOfficeConditionInput
  ) {
    updateHeadOffice(input: $input, condition: $condition) {
      id
      dailySheet
      date
      status
      createdAt
      updatedAt
      __typename
    }
  }
`,mW=`
  mutation CreateTrainingCertificates(
    $input: CreateTrainingCertificatesInput!
    $condition: ModelTrainingCertificatesConditionInput
  ) {
    createTrainingCertificates(input: $input, condition: $condition) {
      id
      empID
      courseCode
      courseName
      company
      certifiExpiry
      eCertifiDate
      trainingUpCertifi
      orgiCertifiDate
      createdAt
      updatedAt
      __typename
    }
  }
`,gW=`
  mutation CreateAddCourse(
    $input: CreateAddCourseInput!
    $condition: ModelAddCourseConditionInput
  ) {
    createAddCourse(input: $input, condition: $condition) {
      id
      courseSelect
      courseName
      company
      createdAt
      updatedAt
      __typename
    }
  }
`,bW=`
  mutation UpdateAddCourse(
    $input: UpdateAddCourseInput!
    $condition: ModelAddCourseConditionInput
  ) {
    updateAddCourse(input: $input, condition: $condition) {
      id
      courseSelect
      courseName
      company
      createdAt
      updatedAt
      __typename
    }
  }
`,yW=`
  mutation CreateEmpDepInsurance(
    $input: CreateEmpDepInsuranceInput!
    $condition: ModelEmpDepInsuranceConditionInput
  ) {
    createEmpDepInsurance(input: $input, condition: $condition) {
      id
      empID
      depInsurance
      createdAt
      updatedAt
      __typename
    }
  }
`,vW=`
  mutation UpdateEmpDepInsurance(
    $input: UpdateEmpDepInsuranceInput!
    $condition: ModelEmpDepInsuranceConditionInput
  ) {
    updateEmpDepInsurance(input: $input, condition: $condition) {
      id
      empID
      depInsurance
      createdAt
      updatedAt
      __typename
    }
  }
`,xW=`
  mutation CreateEmpInsurance(
    $input: CreateEmpInsuranceInput!
    $condition: ModelEmpInsuranceConditionInput
  ) {
    createEmpInsurance(input: $input, condition: $condition) {
      id
      empID
      groupIns
      groupInsEffectDate
      groupInsEndDate
      workmenComp
      workmePolicyNo
      travelIns
      accidentIns
      empInsUpload
      createdAt
      updatedAt
      __typename
    }
  }
`,wW=`
  mutation UpdateEmpInsurance(
    $input: UpdateEmpInsuranceInput!
    $condition: ModelEmpInsuranceConditionInput
  ) {
    updateEmpInsurance(input: $input, condition: $condition) {
      id
      empID
      groupIns
      groupInsEffectDate
      groupInsEndDate
      workmenComp
      workmePolicyNo
      travelIns
      accidentIns
      empInsUpload
      createdAt
      updatedAt
      __typename
    }
  }
`,_W=`
  mutation CreateSawpDetails(
    $input: CreateSawpDetailsInput!
    $condition: ModelSawpDetailsConditionInput
  ) {
    createSawpDetails(input: $input, condition: $condition) {
      id
      empID
      sawpEmpLtrReq
      sawpEmpLtrReci
      sawpEmpUpload
      createdAt
      updatedAt
      __typename
    }
  }
`,SW=`
  mutation UpdateSawpDetails(
    $input: UpdateSawpDetailsInput!
    $condition: ModelSawpDetailsConditionInput
  ) {
    updateSawpDetails(input: $input, condition: $condition) {
      id
      empID
      sawpEmpLtrReq
      sawpEmpLtrReci
      sawpEmpUpload
      createdAt
      updatedAt
      __typename
    }
  }
`,EW=`
  mutation CreateDNDetails(
    $input: CreateDNDetailsInput!
    $condition: ModelDNDetailsConditionInput
  ) {
    createDNDetails(input: $input, condition: $condition) {
      id
      empID
      doeEmpSubmit
      doeEmpApproval
      doeEmpValid
      doeEmpRefNo
      doeEmpUpload
      permitType
      nlmsEmpSubmit
      nlmsEmpSubmitRefNo
      nlmsEmpApproval
      nlmsRefNo
      nlmsEmpValid
      nlmsEmpUpload
      createdAt
      updatedAt
      __typename
    }
  }
`,Nk=`
  mutation UpdateDNDetails(
    $input: UpdateDNDetailsInput!
    $condition: ModelDNDetailsConditionInput
  ) {
    updateDNDetails(input: $input, condition: $condition) {
      id
      empID
      doeEmpSubmit
      doeEmpApproval
      doeEmpValid
      doeEmpRefNo
      doeEmpUpload
      permitType
      nlmsEmpSubmit
      nlmsEmpSubmitRefNo
      nlmsEmpApproval
      nlmsRefNo
      nlmsEmpValid
      nlmsEmpUpload
      createdAt
      updatedAt
      __typename
    }
  }
`,NW=`
  mutation CreateBJLDetails(
    $input: CreateBJLDetailsInput!
    $condition: ModelBJLDetailsConditionInput
  ) {
    createBJLDetails(input: $input, condition: $condition) {
      id
      empID
      bankSubmit
      bankRece
      bankRefNo
      bankAmt
      bankValid
      bankEndorse
      bankEmpUpload
      tbaPurchase
      jitpaAmt
      jpValid
      jpEndorse
      jpEmpUpload
      lbrReceiptNo
      lbrDepoAmt
      lbrDepoSubmit
      lbrDepoUpload
      createdAt
      updatedAt
      __typename
    }
  }
`,I8=`
  mutation UpdateBJLDetails(
    $input: UpdateBJLDetailsInput!
    $condition: ModelBJLDetailsConditionInput
  ) {
    updateBJLDetails(input: $input, condition: $condition) {
      id
      empID
      bankSubmit
      bankRece
      bankRefNo
      bankAmt
      bankValid
      bankEndorse
      bankEmpUpload
      tbaPurchase
      jitpaAmt
      jpValid
      jpEndorse
      jpEmpUpload
      lbrReceiptNo
      lbrDepoAmt
      lbrDepoSubmit
      lbrDepoUpload
      createdAt
      updatedAt
      __typename
    }
  }
`,AW=`
  mutation CreatePassportValid(
    $input: CreatePassportValidInput!
    $condition: ModelPassportValidConditionInput
  ) {
    createPassportValid(input: $input, condition: $condition) {
      id
      empID
      ppLocation
      arrivStampUpload
      immigEmpUpload
      reEntryUpload
      arrivStampExp
      immigRefNo
      ppSubmit
      empPassExp
      empPassStatus
      airTktStatus
      reEntryVisa
      immigApproval
      reEntryVisaExp
      remarkImmig
      createdAt
      updatedAt
      __typename
    }
  }
`,kW=`
  mutation UpdatePassportValid(
    $input: UpdatePassportValidInput!
    $condition: ModelPassportValidConditionInput
  ) {
    updatePassportValid(input: $input, condition: $condition) {
      id
      empID
      ppLocation
      arrivStampUpload
      immigEmpUpload
      reEntryUpload
      arrivStampExp
      immigRefNo
      ppSubmit
      empPassExp
      empPassStatus
      airTktStatus
      reEntryVisa
      immigApproval
      reEntryVisaExp
      remarkImmig
      createdAt
      updatedAt
      __typename
    }
  }
`,CW=`
  mutation CreateBlng(
    $input: CreateBlngInput!
    $condition: ModelBlngConditionInput
  ) {
    createBlng(input: $input, condition: $condition) {
      id
      weeklySheet
      date
      status
      createdAt
      updatedAt
      __typename
    }
  }
`,DW=`
  mutation UpdateBlng(
    $input: UpdateBlngInput!
    $condition: ModelBlngConditionInput
  ) {
    updateBlng(input: $input, condition: $condition) {
      id
      weeklySheet
      date
      status
      createdAt
      updatedAt
      __typename
    }
  }
`,TW=`
  mutation CreateEmployeeNonLocalAcco(
    $input: CreateEmployeeNonLocalAccoInput!
    $condition: ModelEmployeeNonLocalAccoConditionInput
  ) {
    createEmployeeNonLocalAcco(input: $input, condition: $condition) {
      id
      empID
      accommodation
      accommodationAddress
      createdAt
      updatedAt
      __typename
    }
  }
`,jW=`
  mutation UpdateEmployeeNonLocalAcco(
    $input: UpdateEmployeeNonLocalAccoInput!
    $condition: ModelEmployeeNonLocalAccoConditionInput
  ) {
    updateEmployeeNonLocalAcco(input: $input, condition: $condition) {
      id
      empID
      accommodation
      accommodationAddress
      createdAt
      updatedAt
      __typename
    }
  }
`,IW=`
  mutation CreateLabourMedicalInfo(
    $input: CreateLabourMedicalInfoInput!
    $condition: ModelLabourMedicalInfoConditionInput
  ) {
    createLabourMedicalInfo(input: $input, condition: $condition) {
      id
      empID
      overMD
      overME
      bruhimsRD
      bruhimsRNo
      bruneiMAD
      bruneiME
      uploadFitness
      uploadRegis
      uploadBwn
      dependPass
      createdAt
      updatedAt
      __typename
    }
  }
`,PW=`
  mutation UpdateLabourMedicalInfo(
    $input: UpdateLabourMedicalInfoInput!
    $condition: ModelLabourMedicalInfoConditionInput
  ) {
    updateLabourMedicalInfo(input: $input, condition: $condition) {
      id
      empID
      overMD
      overME
      bruhimsRD
      bruhimsRNo
      bruneiMAD
      bruneiME
      uploadFitness
      uploadRegis
      uploadBwn
      dependPass
      createdAt
      updatedAt
      __typename
    }
  }
`,RW=`
  mutation CreateServiceRecord(
    $input: CreateServiceRecordInput!
    $condition: ModelServiceRecordConditionInput
  ) {
    createServiceRecord(input: $input, condition: $condition) {
      id
      empID
      depEmpDate
      depEmp
      positionRev
      positionRevDate
      revSalary
      revSalaryDate
      revLeavePass
      revLeaveDate
      revAnnualLeave
      revALD
      remarkWI
      uploadPR
      uploadSP
      uploadLP
      uploadAL
      uploadDep
      createdAt
      updatedAt
      __typename
    }
  }
`,MW=`
  mutation UpdateServiceRecord(
    $input: UpdateServiceRecordInput!
    $condition: ModelServiceRecordConditionInput
  ) {
    updateServiceRecord(input: $input, condition: $condition) {
      id
      empID
      depEmpDate
      depEmp
      positionRev
      positionRevDate
      revSalary
      revSalaryDate
      revLeavePass
      revLeaveDate
      revAnnualLeave
      revALD
      remarkWI
      uploadPR
      uploadSP
      uploadLP
      uploadAL
      uploadDep
      createdAt
      updatedAt
      __typename
    }
  }
`,OW=`
  mutation CreateEmpLeaveDetails(
    $input: CreateEmpLeaveDetailsInput!
    $condition: ModelEmpLeaveDetailsConditionInput
  ) {
    createEmpLeaveDetails(input: $input, condition: $condition) {
      id
      empID
      annualLeave
      annualLeaveDate
      compasLeave
      destinateLeavePass
      durLeavePass
      dateLeavePass
      leavePass
      materLeave
      mrageLeave
      paterLeave
      sickLeave
      sickLeaveDate
      hospLeave
      createdAt
      updatedAt
      __typename
    }
  }
`,LW=`
  mutation UpdateEmpLeaveDetails(
    $input: UpdateEmpLeaveDetailsInput!
    $condition: ModelEmpLeaveDetailsConditionInput
  ) {
    updateEmpLeaveDetails(input: $input, condition: $condition) {
      id
      empID
      annualLeave
      annualLeaveDate
      compasLeave
      destinateLeavePass
      durLeavePass
      dateLeavePass
      leavePass
      materLeave
      mrageLeave
      paterLeave
      sickLeave
      sickLeaveDate
      hospLeave
      createdAt
      updatedAt
      __typename
    }
  }
`,FW=`
  mutation CreateTerminationInfo(
    $input: CreateTerminationInfoInput!
    $condition: ModelTerminationInfoConditionInput
  ) {
    createTerminationInfo(input: $input, condition: $condition) {
      id
      empID
      resignDate
      resignNotProb
      otherResignNotProb
      resignNotConf
      otherResignNotConf
      reasonResign
      reasonTerminate
      termiDate
      termiNotProb
      otherTermiNotProb
      termiNotConf
      otherTermiNotConf
      WIContract
      WIProbation
      WIResignation
      WITermination
      WILeaveEntitle
      createdAt
      updatedAt
      __typename
    }
  }
`,BW=`
  mutation UpdateTerminationInfo(
    $input: UpdateTerminationInfoInput!
    $condition: ModelTerminationInfoConditionInput
  ) {
    updateTerminationInfo(input: $input, condition: $condition) {
      id
      empID
      resignDate
      resignNotProb
      otherResignNotProb
      resignNotConf
      otherResignNotConf
      reasonResign
      reasonTerminate
      termiDate
      termiNotProb
      otherTermiNotProb
      termiNotConf
      otherTermiNotConf
      WIContract
      WIProbation
      WIResignation
      WITermination
      WILeaveEntitle
      createdAt
      updatedAt
      __typename
    }
  }
`,UW=`
  mutation CreateEmpWorkInfo(
    $input: CreateEmpWorkInfoInput!
    $condition: ModelEmpWorkInfoConditionInput
  ) {
    createEmpWorkInfo(input: $input, condition: $condition) {
      id
      empID
      contractStart
      contractEnd
      contractPeriod
      doj
      department
      hr
      jobCat
      jobDesc
      manager
      otherJobCat
      otherDepartment
      otherPosition
      probationStart
      probationEnd
      probDuration
      position
      relationship
      supervisor
      skillPool
      salaryType
      sapNo
      upgradeDate
      upgradePosition
      workStatus
      workHrs
      workWeek
      workMonth
      createdAt
      updatedAt
      __typename
    }
  }
`,HW=`
  mutation UpdateEmpWorkInfo(
    $input: UpdateEmpWorkInfoInput!
    $condition: ModelEmpWorkInfoConditionInput
  ) {
    updateEmpWorkInfo(input: $input, condition: $condition) {
      id
      empID
      contractStart
      contractEnd
      contractPeriod
      doj
      department
      hr
      jobCat
      jobDesc
      manager
      otherJobCat
      otherDepartment
      otherPosition
      probationStart
      probationEnd
      probDuration
      position
      relationship
      supervisor
      skillPool
      salaryType
      sapNo
      upgradeDate
      upgradePosition
      workStatus
      workHrs
      workWeek
      workMonth
      createdAt
      updatedAt
      __typename
    }
  }
`,qW=`
  mutation CreateEmpPersonalInfo(
    $input: CreateEmpPersonalInfoInput!
    $condition: ModelEmpPersonalInfoConditionInput
  ) {
    createEmpPersonalInfo(input: $input, condition: $condition) {
      id
      empID
      age
      aTQualify
      alternateNo
      agent
      contactNo
      cob
      contractType
      ctryOfOrigin
      chinese
      dob
      educLevel
      email
      eduDetails
      empBadgeNo
      empType
      familyDetails
      gender
      lang
      marital
      name
      officialEmail
      oCOfOrigin
      profilePhoto
      permanentAddress
      position
      sapNo
      createdAt
      updatedAt
      __typename
    }
  }
`,Ak=`
  mutation UpdateEmpPersonalInfo(
    $input: UpdateEmpPersonalInfoInput!
    $condition: ModelEmpPersonalInfoConditionInput
  ) {
    updateEmpPersonalInfo(input: $input, condition: $condition) {
      id
      empID
      age
      aTQualify
      alternateNo
      agent
      contactNo
      cob
      contractType
      ctryOfOrigin
      chinese
      dob
      educLevel
      email
      eduDetails
      empBadgeNo
      empType
      familyDetails
      gender
      lang
      marital
      name
      officialEmail
      oCOfOrigin
      profilePhoto
      permanentAddress
      position
      sapNo
      createdAt
      updatedAt
      __typename
    }
  }
`,WW=`
  mutation CreateIDDetails(
    $input: CreateIDDetailsInput!
    $condition: ModelIDDetailsConditionInput
  ) {
    createIDDetails(input: $input, condition: $condition) {
      id
      empID
      applicationUpload
      bwnIcNo
      bwnIcColour
      bwnIcExpiry
      bwnUpload
      cvCertifyUpload
      driveLic
      inducBrief
      inducBriefUp
      loiUpload
      myIcNo
      myIcUpload
      nationality
      nationalCat
      otherNation
      otherRace
      otherReligion
      ppNo
      paafCvevUpload
      ppIssued
      ppExpiry
      ppUpload
      ppDestinate
      preEmp
      preEmpPeriod
      race
      religion
      supportDocUpload
      createdAt
      updatedAt
      __typename
    }
  }
`,zW=`
  mutation UpdateIDDetails(
    $input: UpdateIDDetailsInput!
    $condition: ModelIDDetailsConditionInput
  ) {
    updateIDDetails(input: $input, condition: $condition) {
      id
      empID
      applicationUpload
      bwnIcNo
      bwnIcColour
      bwnIcExpiry
      bwnUpload
      cvCertifyUpload
      driveLic
      inducBrief
      inducBriefUp
      loiUpload
      myIcNo
      myIcUpload
      nationality
      nationalCat
      otherNation
      otherRace
      otherReligion
      ppNo
      paafCvevUpload
      ppIssued
      ppExpiry
      ppUpload
      ppDestinate
      preEmp
      preEmpPeriod
      race
      religion
      supportDocUpload
      createdAt
      updatedAt
      __typename
    }
  }
`,VW=`
  mutation CreateInterviewScheduleSchema(
    $input: CreateInterviewScheduleSchemaInput!
    $condition: ModelInterviewScheduleSchemaConditionInput
  ) {
    createInterviewScheduleSchema(input: $input, condition: $condition) {
      id
      date
      time
      venue
      interviewType
      interviewer
      message
      tempID
      candidateStatus
      department
      createdAt
      updatedAt
      __typename
    }
  }
`,D_=`
  mutation UpdateInterviewScheduleSchema(
    $input: UpdateInterviewScheduleSchemaInput!
    $condition: ModelInterviewScheduleSchemaConditionInput
  ) {
    updateInterviewScheduleSchema(input: $input, condition: $condition) {
      id
      date
      time
      venue
      interviewType
      interviewer
      message
      tempID
      candidateStatus
      department
      createdAt
      updatedAt
      __typename
    }
  }
`,$W=`
  mutation CreateEducationDetails(
    $input: CreateEducationDetailsInput!
    $condition: ModelEducationDetailsConditionInput
  ) {
    createEducationDetails(input: $input, condition: $condition) {
      id
      tempID
      crime
      crimeDesc
      emgDetails
      noExperience
      empStatement
      desc
      disease
      diseaseDesc
      liquor
      liquorDesc
      noticePeriod
      perIS
      perIDesc
      referees
      relatives
      salaryExpectation
      supportInfo
      uploadResume
      uploadCertificate
      uploadPp
      createdAt
      updatedAt
      __typename
    }
  }
`,GW=`
  mutation CreatePersonalDetails(
    $input: CreatePersonalDetailsInput!
    $condition: ModelPersonalDetailsConditionInput
  ) {
    createPersonalDetails(input: $input, condition: $condition) {
      id
      tempID
      age
      alternateNo
      agent
      bwnIcNo
      bwnIcExpiry
      bwnIcColour
      contactNo
      cob
      contractType
      chinese
      dob
      driveLic
      email
      empType
      eduDetails
      familyDetails
      gender
      lang
      marital
      name
      nationality
      otherNation
      otherRace
      otherReligion
      ppNo
      ppIssued
      ppExpiry
      ppDestinate
      presentAddress
      permanentAddress
      profilePhoto
      position
      race
      religion
      status
      workExperience
      createdAt
      updatedAt
      __typename
    }
  }
`,YW=`
  mutation CreateUser(
    $input: CreateUserInput!
    $condition: ModelUserConditionInput
  ) {
    createUser(input: $input, condition: $condition) {
      id
      empID
      selectType
      setPermissions
      password
      status
      createdAt
      updatedAt
      __typename
    }
  }
`,P8=`
  mutation UpdateUser(
    $input: UpdateUserInput!
    $condition: ModelUserConditionInput
  ) {
    updateUser(input: $input, condition: $condition) {
      id
      empID
      selectType
      setPermissions
      password
      status
      createdAt
      updatedAt
      __typename
    }
  }
`,KW=`
  mutation UpdateTicketRequest(
    $input: UpdateTicketRequestInput!
    $condition: ModelTicketRequestConditionInput
  ) {
    updateTicketRequest(input: $input, condition: $condition) {
      id
      empID
      empStatus
      empDate
      empRemarks
      departureDate
      arrivalDate
      destination
      remarks
      hrStatus
      hrDate
      hrRemarks
      hrName
      createdAt
      updatedAt
      __typename
    }
  }
`,XW=`
  mutation UpdateLeaveStatus(
    $input: UpdateLeaveStatusInput!
    $condition: ModelLeaveStatusConditionInput
  ) {
    updateLeaveStatus(input: $input, condition: $condition) {
      id
      empID
      leaveType
      fromDate
      toDate
      days
      applyTo
      reason
      medicalCertificate
      supervisorName
      supervisorStatus
      supervisorDate
      supervisorRemarks
      managerName
      managerStatus
      managerDate
      managerRemarks
      empStatus
      empDate
      empRemarks
      createdAt
      updatedAt
      __typename
    }
  }
`,JW=`
  mutation DeleteLeaveStatus(
    $input: DeleteLeaveStatusInput!
    $condition: ModelLeaveStatusConditionInput
  ) {
    deleteLeaveStatus(input: $input, condition: $condition) {
      id
      empID
      leaveType
      fromDate
      toDate
      days
      applyTo
      reason
      medicalCertificate
      supervisorName
      supervisorStatus
      supervisorDate
      supervisorRemarks
      managerName
      managerStatus
      managerDate
      managerRemarks
      empStatus
      empDate
      empRemarks
      createdAt
      updatedAt
      __typename
    }
  }
`,Pl=kr(),R8=()=>{ne.useState([]),ne.useState([]);const[n,r]=ne.useState([]),[t,e]=ne.useState([]),[s,a]=ne.useState([]),[i,o]=ne.useState([]),[u,c]=ne.useState(!0),[l,d]=ne.useState(null);return ne.useEffect(()=>{(async()=>{var y,g,x,v,w,S,D,T,R,P,L,O;c(!0);try{const[H,U,I,F,A,_]=await Promise.all([Pl.graphql({query:listEmailNotifis}),Pl.graphql({query:kb}),Pl.graphql({query:OE}),Pl.graphql({query:tA}),Pl.graphql({query:c8}),Pl.graphql({query:rA})]),E=((g=(y=H==null?void 0:H.data)==null?void 0:y.listLeaveStatuses)==null?void 0:g.items)||[],N=((v=(x=U==null?void 0:U.data)==null?void 0:x.listEmpPersonalInfos)==null?void 0:v.items)||[],k=((S=(w=I==null?void 0:I.data)==null?void 0:w.listTicketRequests)==null?void 0:S.items)||[],B=((T=(D=F==null?void 0:F.data)==null?void 0:D.listPersonalDetails)==null?void 0:T.items)||[],j=((P=(R=A==null?void 0:A.data)==null?void 0:R.listUsers)==null?void 0:P.items)||[],M=((O=(L=_==null?void 0:_.data)==null?void 0:L.listInterviewScheduleSchemas)==null?void 0:O.items)||[];console.log("Fetched Leave Statuses:",E),console.log("Fetched Employee Personal Infos:",N),console.log("Fetched Tickets Request Details:",k),console.log("Fetched Personal Details:",B),console.log("Fetched User Data:",j),console.log("new",I),console.log("Interview 2.0",M),o(k),r(B);const G=N.reduce((V,Q)=>(V[Q.empID]=Q,V),{}),Y=k.reduce((V,Q)=>(V[Q.empID]=Q,V),{}),J=E.map(V=>({...V,employeeInfo:G[V.empID]||{},ticketRequest:Y[V.empID]||{}}));console.log("Merged Data:",J),e(J)}catch(H){d(H),console.error("Error fetching data:",H)}finally{c(!1)}})()},[]),ne.useEffect(()=>{(async()=>{var y,g,x,v,w,S;c(!0);try{const[D,T,R]=await Promise.all([Pl.graphql({query:kb}),Pl.graphql({query:OE}),Pl.graphql({query:Ww})]),P=((g=(y=D==null?void 0:D.data)==null?void 0:y.listEmpPersonalInfos)==null?void 0:g.items)||[],L=((v=(x=T==null?void 0:T.data)==null?void 0:x.listTicketRequests)==null?void 0:v.items)||[],O=((S=(w=R==null?void 0:R.data)==null?void 0:w.listEmpWorkInfos)==null?void 0:S.items)||[];console.log("Fetched Employee Personal Infos:",P),console.log("Fetched Ticket Request Details:",L),console.log("Fetched Employee Work Infos:",O),o(L);const H=P.reduce((F,A)=>(F[A.empID]=A,F),{}),U=O.reduce((F,A)=>(F[A.empID]=A,F),{}),I=L.map(F=>({...F,employeeInfo:H[F.empID]||{},workInfo:U[F.empID]||{}}));console.log("Merged Data 4.0:",I),a(I)}catch(D){d(D),console.error("Error fetching data:",D)}finally{c(!1)}})()},[]),ne.useEffect(()=>{console.log("2826",s)},[s]),{ticketMerged:s,mergedData:t,ticketRequests:i,loading:u,error:l,handleDeleteLeaveStatus:async b=>{c(!0);try{await Pl.graphql({query:JW,variables:{input:{id:b}}}),e(y=>y.filter(g=>g.id!==b))}catch(y){d(y),console.error("Error deleting leave status:",y)}finally{c(!1)}},handleUpdateLeaveStatus:async(b,y)=>{c(!0);try{const x=(await Pl.graphql({query:XW,variables:{input:{id:b,...y}}})).data.updateLeaveStatus;e(v=>v.map(w=>w.id===b?x:w))}catch(g){d(g),console.error("Error updating leave status:",g)}finally{c(!1)}},handleUpdateTicketRequest:async(b,y)=>{c(!0);try{const x=(await Pl.graphql({query:KW,variables:{input:{id:b,...y}}})).data.updateTicketRequest;e(v=>v.map(w=>w.id===b?x:w))}catch(g){d(g),console.error("Error updating leave status:",g)}finally{c(!1)}},personalDetails:n}},ZW=({handleClickForToggle:n,leaveData:r,ticketData:t,source:e,userType:s,personalInfo:a,formatDate:i})=>{const[o,u]=ne.useState(""),[c,l]=ne.useState(""),[d,p]=ne.useState(!1),[h,f]=ne.useState(""),b=Yi(),{handleUpdateLeaveStatus:y,handleUpdateTicketRequest:g}=R8(),{userData:x}=ne.useContext(Wn),v=D=>{const T={},R=localStorage.getItem("userType"),P=new Date().toISOString();console.log("updateData:",r),R==="Manager"?(T.managerStatus=D,T.managerRemarks=o,T.managerDate=P,T.managerName=a.name):R==="Supervisior"&&(T.supervisorStatus=D,T.supervisorRemarks=o,T.supervisorDate=P,T.supervisorName=a.name),e==="LM"?(y(r.id,T),console.log(`Status: Leave ${D} by ${a.name} (${R} on ${P})`),f(`Leave ${D} by ${a.name} on ${P}`)):e==="Tickets"&&(T.hrStatus=D,T.hrRemarks=o,T.hrDate=P,g(t.id,T),console.log(`Ticket request ${D} by ${a.name} (${R} on ${P})`),f(`Ticket request ${D} by ${a.name} on ${P}`)),p(!0),setTimeout(()=>{p(!1),b("/dashboard")},3e3)},w=()=>v("Approved"),S=()=>v("Rejected");return ne.useEffect(()=>{const D=localStorage.getItem("userType");l(D),console.log(`UserType: '${D}'`)},[]),console.log("userData",x),m.jsxs("main",{className:"flex flex-col items-center justify-center inset-0 z-50 fixed",children:[m.jsx("header",{className:"w-[500px] mt-5 ",children:m.jsxs("div",{className:"flex justify-between bg-[#C6C6C6] py-1",children:[m.jsx("p",{}),m.jsx("p",{className:"text-dark_grey text-[24px] font-medium",children:"View Form"}),m.jsx(s5,{className:"text-2xl mt-2 mr-4 cursor-pointer",onClick:n})]})}),d&&m.jsx(na,{text:h,notification:d,path:"/dashboard"}),e==="LM"&&m.jsxs("section",{className:"shadow-md w-[500px] px-5 bg-white",children:[m.jsxs("div",{className:"p-5 text_size_6 ",children:[m.jsx("div",{className:"py-2 mb-2",children:m.jsx("p",{className:"text-center text-[24px] font-semibold",children:`Manager  :${r.managerStatus+`Supervisor   :${r.supervisorStatus}`}`})}),m.jsxs("div",{className:"grid grid-cols-2 ",children:[m.jsx("p",{children:"Name"}),m.jsx("p",{children:r.employeeInfo.name})]}),m.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[m.jsx("p",{children:"Job Title"}),m.jsx("p",{children:r.jobTitle||"N/A"})]}),m.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[m.jsx("p",{children:"Badge"}),m.jsx("p",{children:r.employeeInfo.empBadgeNo})]}),m.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[m.jsx("p",{children:"Dept/Dev"}),m.jsx("p",{children:r.deptDev||"N/A"})]}),m.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[m.jsx("p",{children:"Select Date"}),m.jsx("p",{children:r.selectDate||"N/A"})]}),m.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[m.jsx("p",{children:"Leave Type"}),m.jsx("p",{children:r.leaveType})]}),m.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[m.jsx("p",{children:"Apply to"}),m.jsxs("p",{children:[i(r.fromDate)," to ",i(r.toDate)]})]}),m.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[m.jsx("p",{children:"No of days"}),m.jsx("p",{children:r.days})]}),r.remark&&m.jsxs("div",{className:"grid grid-cols-2 py-6 ",children:[m.jsx("p",{children:"Comments:"}),m.jsx("p",{className:"text-start text-[16px] font-medium border border-gray-400 w-[186px] h-[51px] ",children:r.remark||"No remarks added"})]}),(r.managerStatus==="Pending"||r.supervisorStatus==="Pending")&&s!=="SuperAdmin"&&s!=="HR"&&m.jsxs("div",{className:"grid grid-rows-2 pt-1",children:[m.jsx("label",{htmlFor:"remark",children:"Remark :"}),m.jsx("input",{type:"text",value:o,onChange:D=>u(D.target.value),className:"border border-grey w-full h-9 outline-none pl-2"})]})]}),m.jsx("div",{className:"flex justify-between px-5 pb-10",children:(r.managerStatus==="Pending"||r.supervisorStatus==="Pending")&&s!=="SuperAdmin"&&s!=="HR"&&m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"bg-[#FEF116] p-2 px-3 rounded text-dark_grey text_size_6",onClick:w,children:"Approve"}),m.jsx("button",{className:"border border-grey p-2 px-5 rounded text-dark_grey text_size_6",onClick:S,children:"Reject"})]})})]}),e==="Tickets"&&m.jsxs("section",{className:"shadow-md w-[500px] px-5 bg-white",children:[m.jsxs("div",{className:"p-5 text_size_6 ",children:[m.jsx("div",{className:"py-2 mb-2",children:m.jsx("p",{className:"text-center text-[24px] font-semibold",children:t.hrStatus==="Pending"?"Request Tickets":t.hrStatus})}),m.jsxs("div",{className:"grid grid-cols-2 ",children:[m.jsx("p",{children:"Name"}),m.jsx("p",{children:t.employeeInfo.name})]}),m.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[m.jsx("p",{children:"Batch Number"}),m.jsx("p",{children:t.employeeInfo.empBadgeNo||"Web Developer"})]}),m.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[m.jsx("p",{children:"Department"}),m.jsx("p",{children:t.workInfo.department||"N/a"})]}),m.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[m.jsx("p",{children:"Position"}),m.jsx("p",{children:t.workInfo.position||"N/A"})]}),m.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[m.jsx("p",{children:"Date Join"}),m.jsx("p",{children:i(t.workInfo.doj)||"Testing"})]}),m.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[m.jsx("p",{children:"Departure Date"}),m.jsx("p",{children:i(t.departureDate)})]}),m.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[m.jsx("p",{children:"Arrival date"}),m.jsx("p",{children:i(t.arrivalDate)})]}),m.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[m.jsx("p",{children:"Reason"}),m.jsx("p",{children:t.remarks})]}),t.hrRemark&&m.jsxs("div",{className:"grid grid-cols-2 pt-1",children:[m.jsx("p",{children:"Remark"}),m.jsx("p",{children:t.hrRemark||"No remarks added"})]}),t.hrStatus==="Pending"&&s!=="SuperAdmin"&&m.jsxs("div",{className:"grid grid-rows-2 pt-1",children:[m.jsx("label",{htmlFor:"remark",children:"Remark :"}),m.jsx("input",{type:"text",value:o,onChange:D=>u(D.target.value),className:"border border-grey w-full h-9 outline-none pl-2"})]})]}),m.jsx("div",{className:"flex justify-between px-5 pb-10",children:t.hrStatus==="Pending"&&s==="HR"&&m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"bg-[#FEF116] p-2 px-3 rounded text-dark_grey text_size_6",onClick:w,children:"Approve"}),m.jsx("button",{className:"border border-grey p-2 px-5 rounded text-dark_grey text_size_6",onClick:S,children:"Reject"})]})})]})]})},QW=({initialData:n,userType:r})=>{const[t,e]=ne.useState(n),[s,a]=ne.useState(1),[i,o]=ne.useState(15),u=["Employee ID","Employee Name","No of Leave Taken","No of Leave Remaining"];ne.useEffect(()=>{const d=t,p=(s-1)*i,h=d.slice(p,p+i);e(h)},[s,i]);const l=Math.ceil(t.length/i);return m.jsxs("section",{children:[m.jsx("div",{className:"leaveManagementTable h-[70vh] max-h-[calc(70vh-7rem)] max-w-[100%] overflow-y-auto",children:m.jsxs("table",{className:"w-[1150px] ",children:[m.jsx("thead",{className:"bg-black",children:m.jsx("tr",{className:"bg-[#C5C5C5] rounded-sm",children:u.map((d,p)=>m.jsx("th",{className:"px-4 py-5 text-[15px] text-secondary",children:d},p))})}),m.jsx("tbody",{children:n&&n.map((d,p)=>m.jsxs("tr",{className:"text-center text-sm border-b-2 border-[#CECECE]",children:[m.jsx("td",{className:"border-b-2 border-[#CECECE] py-3",children:d.empID}),m.jsx("td",{className:"border-b-2 border-[#CECECE]",children:d.employeeInfo.name}),m.jsx("td",{className:"border-b-2 border-[#CECECE]",children:d.days}),m.jsx("td",{className:"border-b-2 border-[#CECECE]",children:d["no of leave remaining"]})]},p))})]})}),m.jsx("div",{className:"ml-20 flex justify-center",children:m.jsx("div",{className:"w-[60%] flex justify-start mt-4  px-10",children:r!=="SuperAdmin"&&r!=="HR"&&m.jsx(Zm,{currentPage:s,totalPages:l,onPageChange:d=>{d>=1&&d<=l&&a(d)}})})})]})},ez=({initialData:n,statusUpdate:r,handleClickForToggle:t,onViewClick:e,userType:s,formatDate:a,personalInfo:i})=>{const[o,u]=ne.useState(n),[c,l]=ne.useState(1),[d,p]=ne.useState(15);ne.useEffect(()=>{u(n)},[n]);const h=["S.No","Name","Batch Number","Department","Position","Date Join","Departure date","Arrival date","Submitted form",s!=="SuperAdmin"&&"Status"],f=o.filter(g=>g.empStatus!=="Cancelled").filter(g=>s==="HR"?g.hrName===i.name:!0);ne.useEffect(()=>{const g=f,x=(c-1)*d,v=g.slice(x,x+d);u(v)},[c,d]);const y=Math.ceil(f.length/d);return m.jsxs("section",{className:"",children:[m.jsx("div",{className:"leaveManagementTable h-[70vh] max-h-[calc(70vh-7rem)] max-w-[100%] overflow-x-auto flex-grow",children:m.jsxs("table",{className:"w-[1150px]",children:[m.jsx("thead",{className:"bg-black",children:m.jsx("tr",{className:"  bg-[#C5C5C5]  rounded-sm",children:h.map((g,x)=>m.jsx("th",{className:" px-4 py-5 text-[15px] text-secondary",children:g},x))})}),m.jsx("tbody",{children:f&&f.map((g,x)=>m.jsxs("tr",{className:"text-center text-sm border-b-2 border-[#CECECE]",children:[m.jsx("td",{className:"border-b-2 border-[#CECECE] py-3",children:x+1}),m.jsx("td",{className:"border-b-2 border-[#CECECE] py-3",children:g.employeeInfo.name}),m.jsx("td",{className:"border-b-2 border-[#CECECE] pl-4",children:g.employeeInfo.empBadgeNo}),m.jsx("td",{className:"border-b-2 border-[#CECECE]",children:g.workInfo.department||"N/A"}),m.jsx("td",{className:"border-b-2 border-[#CECECE]",children:g.workInfo.position||"N/A"}),m.jsx("td",{className:"border-b-2 border-[#CECECE]",children:a(g.createdAt)}),m.jsx("td",{className:"border-b-2 border-[#CECECE]",children:a(g.departureDate)}),m.jsx("td",{className:"border-b-2 border-[#CECECE]",children:a(g.arrivalDate)}),m.jsx("td",{className:"border-b-2 border-[#CECECE] cursor-pointer",children:m.jsx("span",{className:"border-b-2 border-dark_grey ",onClick:()=>{t(),e(g)},children:"View"})}),s!=="SuperAdmin"&&m.jsx("td",{className:`border-b-2 border-[#CECECE] ${g.hrStatus==="Rejected"?"text-[#C50000]":g.hrStatus==="Approved"?"text-[#0CB100]":g.hrStatus==="Pending"?"text-dark_grey":""}`,children:g.hrStatus})]},x))})]})}),m.jsx("div",{className:"ml-20 flex justify-center",children:m.jsx("div",{className:"w-[60%] flex justify-start mt-4  px-10",children:s!=="SuperAdmin"&&m.jsx(Zm,{currentPage:c,totalPages:y,onPageChange:g=>{g>=1&&g<=y&&l(g)}})})})]})},tz=kr(),rz=n=>{const[r,t]=ne.useState({profilePhoto:"",name:"",email:"",contactNo:""}),[e,s]=ne.useState(!0),[a,i]=ne.useState(null);return ne.useEffect(()=>{console.log(`useEmployeePersonalInfo: Fetching data for userID: ${n}`),n&&(async()=>{var u,c;try{s(!0),console.log("Fetching employee data...");const l=await tz.graphql({query:kb}),d=((c=(u=l==null?void 0:l.data)==null?void 0:u.listEmpPersonalInfos)==null?void 0:c.items)||[];if(console.log("Fetched employee data:",d),d.length===0){i("No employee data found."),console.log("No employee data found."),s(!1);return}const p=d.find(h=>h.empID.toLowerCase()===n.toLowerCase());console.log("Matching user data: 20000",p),p?t({profilePhoto:p.profilePhoto,name:p.name,email:p.email,contactNo:p.contactNo||""}):(i(`No matching employee found for userID: ${n}`),console.log(`No matching employee found for userID: ${n}`))}catch(l){i("Error fetching employee personal info."),console.error("Error fetching data:",l)}finally{s(!1),console.log("Data fetching completed.")}})()},[n]),{personalInfo:r,loading:e,error:a}},nz=()=>{const[n,r]=ne.useState([]),[t,e]=ne.useState(null),[s,a]=ne.useState(0),[i,o]=ne.useState("All");ne.useState(""),ne.useState("");const[u,c]=ne.useState(1),[l,d]=ne.useState(35),[p,h]=ne.useState(""),[f,b]=ne.useState(!1),[y,g]=ne.useState(null),[x,v]=ne.useState(null);ne.useState("");const[w,S]=ne.useState(""),[D,T]=ne.useState(""),[R,P]=ne.useState("");ne.useState("Hr");const{mergedData:L,loading:O,error:H,handleDeleteLeaveStatus:U,handleUpdateLeaveStatus:I,fetchedTicketRequests:F,ticketMerged:A}=R8();ne.useEffect(()=>{const Q=localStorage.getItem("userID");P(Q),console.log("Navbar: User ID from localStorage:",Q)},[]);const{personalInfo:_}=rz(R);console.log("Mergeddata",L),ne.useEffect(()=>{r(N())},[L]);const E=()=>{if(s===0||s===1||s===2)return L;if(s===3)return A},N=()=>{let Q=E();if(i!=="All"&&(Q=Q.filter(q=>q.status===i)),w){const q=new Date(w);Q=Q.filter(z=>{const Z=s===0?new Date(z.createdAt):new Date(z["start Date"]);return Z.getFullYear()===q.getFullYear()&&Z.getMonth()===q.getMonth()&&Z.getDate()===q.getDate()})}return p&&(Q=Q.filter(q=>q.empID.toLowerCase().includes(p.toLowerCase()))),Q};ne.useEffect(()=>{const Q=N(),q=(u-1)*l,z=Q.slice(q,q+l);r(z)},[u,i,w,l,p,s]);const k=Q=>{o(Q),c(1)},B=()=>{b(!f)},j=N(),M=Math.ceil(j.length/l),G=(Q,q)=>{e(q),q==="LM"?(g(Q),v(null)):q==="Tickets"&&(v(Q),g(null)),b(!0)},Y=async(Q,q,z)=>{try{await I(Q,{status:q,remark:z}),g(null),b(!1),console.log("Update successful for:",Q)}catch(Z){console.error("Error updating leave status:",Z)}};ne.useEffect(()=>{const Q=localStorage.getItem("userType");T(Q)},[]);const J=async Q=>{try{const q=await Q;r(q)}catch(q){console.error("Error search data",q)}};ne.useEffect(()=>{const Q=localStorage.getItem("userType");T(Q),console.log("UserID from localStorage:",Q)},[]),console.log(_,"kol");const V=Q=>{if(!Q||isNaN(new Date(Q).getTime()))return"";const q=new Date(Q),z=q.getDate().toString().padStart(2,"0"),Z=(q.getMonth()+1).toString().padStart(2,"0"),re=q.getFullYear();return`${z}/${Z}/${re}`};return m.jsxs("section",{className:"py-20 px-10",children:[m.jsxs("div",{className:"screen-size",children:[m.jsxs("section",{className:"flex justify-between items-center py-3",children:[m.jsxs("p",{className:"text_size_5",children:[m.jsx("span",{className:`relative after:absolute after:-bottom-2 after:left-0 after:w-full after:h-1 cursor-pointer ${s===0&&"after:bg-primary"}`,onClick:()=>{a(0),c(1),console.log(s)},children:"Request Leave"})," ","/"," ",m.jsx("span",{className:`relative after:absolute after:-bottom-2 after:left-0 after:w-full after:h-1 cursor-pointer ${s===1&&"after:bg-primary"}`,onClick:()=>{a(1),c(1)},children:"History of leave"})," ","/"," ",m.jsx("span",{className:`relative after:absolute after:-bottom-2 after:left-0 after:w-full after:h-1 cursor-pointer ${s===2&&"after:bg-primary"}`,onClick:()=>{a(2),c(1)},children:"Employee Leave Balance"})," ",(D==="HR"||D==="SuperAdmin")&&m.jsxs(m.Fragment,{children:["/"," ",m.jsx("span",{className:`relative after:absolute after:-bottom-2 after:left-0 after:w-full after:h-1 cursor-pointer ${s===3&&"after:bg-primary"}`,onClick:()=>{a(3),c(1),console.log(s)},children:"Request Tickets"})]})]}),m.jsxs("div",{className:`flex gap-5 w-[600px] ${s===2?"justify-end":""}`,children:[m.jsx(Gf,{allEmpDetails:L,searchIcon2:m.jsx(Rs,{}),placeholder:"Employee ID",searchUserList:J,border:"rounded-md"}),s!==2&&m.jsxs(m.Fragment,{children:[m.jsx(aW,{onDateChange:(Q,q,z)=>{S(`${z}-${q}-${Q}`),c(1)}}),m.jsx(oH,{AfterFilter:k})]})]})]}),m.jsxs("section",{className:"center w-full",children:[s===0&&m.jsx(m.Fragment,{children:j.length>0?m.jsx(aH,{handleClickForToggle:B,initialData:n,userType:D,onViewClick:Q=>G(Q,"LM"),handleDelete:U,personalInfo:_,formatDate:V}):m.jsx("p",{className:"mt-12 text-center text-gray-500",children:"No results found in the history of leave."})}),s===1&&m.jsx(m.Fragment,{children:j.length>0?m.jsx(iH,{initialData:n,userType:D,currentPage:u,rowsPerPage:l,formatDate:V,personalInfo:_}):m.jsx("p",{className:"mt-12 text-center text-gray-500",children:"No results found in the history of leave."})}),s===2&&m.jsx(m.Fragment,{children:j.length>0?m.jsx(QW,{initialData:n,currentPage:u,rowsPerPage:l,formatDate:V,userType:D}):m.jsx("p",{className:"mt-12 text-center text-gray-500",children:"No results found in employee leave balance."})}),s===3&&m.jsx(m.Fragment,{children:j.length>0?m.jsx(ez,{handleClickForToggle:B,initialData:A,userType:D,formatDate:V,personalInfo:_,onViewClick:Q=>G(Q,"Tickets")}):m.jsx("p",{className:"mt-12 text-center text-gray-500",children:"No results found in ticket request."})})]}),m.jsx("div",{className:"ml-20 flex justify-center",children:m.jsx("div",{className:"w-[60%] flex justify-start mt-4 px-10",children:(D==="SuperAdmin"||D!=="Supervisor"&&D!=="Manager"&&s!==3)&&j.length>0&&m.jsx(Zm,{currentPage:u,totalPages:M,onPageChange:Q=>{Q>=1&&Q<=M&&c(Q)}})})})]}),f&&(y||x)&&m.jsx(ZW,{handleClickForToggle:B,leaveData:y,ticketData:x,source:t,formatDate:V,onUpdate:Y,userType:D,ticketRequest:A,personalInfo:_})]})},sz="/assets/icon1-CfCPE9X-.svg",az="data:image/svg+xml,%3csvg%20width='22'%20height='20'%20viewBox='0%200%2022%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.65318%208.48788C7.65318%209.2283%207.94683%209.90139%208.42683%2010.3949C7.55718%2010.7455%206.78071%2011.326%206.20189%2012.0665C5.84613%2012.5236%205.5666%2013.0312%205.3746%2013.5725C5.17695%2014.1362%205.07812%2014.7252%205.07812%2015.3253C5.07812%2015.4235%205.11765%2015.5104%205.18542%2015.5721C5.21365%2015.6029%205.25036%2015.6282%205.29271%2015.6478C7.00095%2016.4303%208.73742%2016.8257%2010.4485%2016.8257H10.4513C12.1624%2016.8257%2013.8932%2016.4275%2015.5958%2015.645C15.7511%2015.5749%2015.8273%2015.4038%2015.7849%2015.244C15.7765%2014.6691%2015.6777%2014.1053%2015.4885%2013.5668C15.2965%2013.0228%2015.0198%2012.5152%2014.6612%2012.0608C14.0824%2011.3204%2013.3059%2010.7399%2012.4362%2010.3893C12.9162%209.89296%2013.2099%209.21988%2013.2099%208.48228C13.2099%206.95941%2011.9647%205.72266%2010.4315%205.72266C8.89836%205.72266%207.65318%206.96783%207.65318%208.48788ZM15.0875%2015.1234C14.6386%2015.3197%2014.1868%2015.488%2013.7379%2015.6282L12.9388%2013.8164C12.8626%2013.6426%2012.6565%2013.5641%2012.4814%2013.6398C12.3064%2013.7155%2012.2273%2013.9203%2012.3035%2014.0941L13.0631%2015.8161C11.3153%2016.2452%209.55624%2016.2424%207.80565%2015.8105L8.56236%2014.0941C8.6386%2013.9203%208.55954%2013.7155%208.38448%2013.6398C8.20942%2013.5641%208.0033%2013.6426%207.92707%2013.8164L7.13083%2015.6198C6.67907%2015.4796%206.2273%2015.3113%205.77836%2015.1122C5.86871%2013.1602%207.19577%2011.4635%209.07907%2010.897C9.48001%2011.1213%209.94024%2011.2476%2010.4315%2011.2476C10.9228%2011.2476%2011.3831%2011.1213%2011.784%2010.897C13.6729%2011.4663%2015%2013.1686%2015.0875%2015.1234ZM12.5153%208.48788C12.5153%209.62934%2011.5807%2010.5576%2010.4315%2010.5576C9.28236%2010.5576%208.34777%209.62934%208.34777%208.48788C8.34777%207.34647%209.28236%206.41814%2010.4315%206.41814C11.5807%206.41814%2012.5153%207.34647%2012.5153%208.48788Z'%20fill='%2356E7B4'/%3e%3cpath%20d='M20.7049%205.83478L10.6108%200.0462745C10.5035%20-0.0154248%2010.3708%20-0.0154248%2010.2635%200.0462745L0.172235%205.83478C0.0649412%205.89652%200%206.00866%200%206.13209V7.67454C0%2010.782%200.827294%2013.8445%202.38871%2016.534C3.95294%2019.2235%206.20894%2021.4672%208.91953%2023.0209L10.2664%2023.7921C10.32%2023.823%2010.3793%2023.837%2010.4386%2023.837C10.4979%2023.837%2010.5572%2023.823%2010.6108%2023.7921L11.9576%2023.0209C14.6654%2021.4672%2016.9242%2019.2264%2018.4885%2016.534C20.0527%2013.8445%2020.8772%2010.7792%2020.8772%207.67454V6.13209C20.8772%206.01148%2020.8122%205.89652%2020.7049%205.83478ZM20.1826%207.67737C20.1826%2010.6614%2019.3892%2013.6061%2017.8842%2016.1919C16.3793%2018.7776%2014.2108%2020.9315%2011.6075%2022.4263L10.4386%2023.0966L9.26682%2022.4235C6.66353%2020.9315%204.49506%2018.7748%202.99012%2016.1891C1.48518%2013.6033%200.691765%2010.6585%200.691765%207.67454V6.3312L10.4386%200.744598L20.1826%206.33398V7.67737Z'%20fill='%2356E7B4'/%3e%3cpath%20d='M10.2674%201.24159L1.2152%206.43274C1.10791%206.49444%201.04297%206.60663%201.04297%206.73001V7.67797C1.04297%2010.603%201.82226%2013.4889%203.29332%2016.0214C4.76438%2018.5539%206.89332%2020.6657%209.44297%2022.1296L10.2674%2022.6036C10.3211%2022.6344%2010.3804%2022.6485%2010.4397%2022.6485C10.499%2022.6485%2010.5583%2022.6344%2010.6119%2022.6036L11.4364%2022.1296C13.986%2020.6685%2016.1121%2018.5539%2017.586%2016.0214C19.0571%2013.4889%2019.8364%2010.603%2019.8364%207.67797V6.73001C19.8364%206.60663%2019.7714%206.49444%2019.6641%206.43274L10.6119%201.24159C10.5046%201.17989%2010.3747%201.17989%2010.2674%201.24159ZM19.1446%206.92917V7.67797C19.1446%2013.3739%2016.0585%2018.6829%2011.0919%2021.5323L10.4397%2021.9053L9.78744%2021.5323C4.82085%2018.6829%201.73473%2013.3739%201.73473%207.67797V6.92917L10.4397%201.93711L19.1446%206.92917Z'%20fill='%2356E7B4'/%3e%3c/svg%3e",iz="/assets/icon3-D9h3GSOk.svg",oz=()=>(ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),m.jsxs("section",{className:"screen-size p-10 flex gap-16",children:[m.jsx(fl,{img:sz,text1:"Leave Benefits",fontSize:"text_size_5 ",borderColor:"border-[#FBCBCB]",bgColor:"white"}),m.jsx(fl,{img:az,text1:"Paternity Benefits",fontSize:"text_size_5 ",borderColor:"border-[#7DF2E7]",bgColor:"white"}),m.jsx(fl,{img:iz,text1:"Employee Benefits",fontSize:"text_size_5 ",borderColor:"border-[#C379FF]",bgColor:"white"})]})),lz=({toggleFunction:n,specificNotificationDetails:r})=>(console.log(r),m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 ",children:m.jsxs("section",{className:"bg-[#FBFBFB] p-5 gap-2 flex flex-col item-center rounded-lg shadow-md border border-[#EBEBEB] ",children:[m.jsx("div",{className:"flex justify-end",children:m.jsx(s5,{className:"text-2xl cursor-pointer",onClick:n})}),m.jsx("div",{className:"flex justify-center ",children:m.jsx("img",{className:"size-32 h-12 w-full",src:"/src/assets/logo/logo-with-name.svg",alt:"not found"})}),m.jsx("div",{className:"flex justify-center py-2 ",children:m.jsx("p",{className:"text-dark_grey text_size_3",children:"Passport Expiry"})}),m.jsxs("div",{className:"grid grid-cols-2  pl-5",children:[m.jsx("p",{className:"text-dark_grey text_size_6",children:"Employee ID"}),m.jsx("p",{className:"text-dark_grey text-[16px] pl-5",children:r.empID})]}),m.jsxs("div",{className:"grid grid-cols-2 pl-5",children:[m.jsx("p",{className:"text-dark_grey text_size_6",children:"Employee Badge number"}),m.jsx("p",{className:"text-dark_grey text-[16px] pl-5",children:r.empBatchNo})]}),m.jsxs("div",{className:"grid grid-cols-2 pl-5",children:[m.jsx("p",{className:"text-dark_grey text_size_6",children:"Employee Name"}),m.jsx("p",{className:"text-dark_grey text-[16px] pl-5",children:r.name})]}),m.jsxs("div",{className:"grid grid-cols-2 pl-5",children:[m.jsx("p",{className:"text-dark_grey text_size_6",children:"Department"}),m.jsx("p",{className:"text-dark_grey text-[16px] pl-5",children:r.department})]}),m.jsxs("div",{className:"grid grid-cols-2 pl-5",children:[m.jsx("p",{className:"text-dark_grey text_size_6",children:"Nationality"}),m.jsx("p",{className:"text-dark_grey text-[16px] pl-5",children:r.nationality})]}),m.jsxs("div",{className:"grid grid-cols-2 pl-5",children:[m.jsx("p",{className:"text-dark_grey text_size_6",children:"Position"}),m.jsx("p",{className:"text-dark_grey text-[16px] pl-5",children:r.possition})]}),m.jsxs("div",{className:"grid grid-cols-2 pl-5 pb-3",children:[m.jsx("p",{className:"text-dark_grey text_size_6",children:r.subject}),m.jsx("p",{className:"text-dark_grey text-[16px] pl-5",children:r.expiryDate})]})]})})),cz=()=>{ne.useState();const[n,r]=ne.useState([]),[t,e]=ne.useState(!1),[s,a]=ne.useState();kr();const i=()=>{e(!t)},o=d=>{a(d)};ne.useEffect(()=>()=>{l()},[]);const u=(d,p)=>{const h=new Date(d);return h.setMonth(h.getMonth()-p),h},c=(d,p)=>{const h=new Date(d);return h.setFullYear(h.getFullYear()-p),h},l=()=>{const h=[{empID:"E001",name:"John Doe",ProbationaryEndDate:"2024-11-15",contractEndDate:"2024-12-15",employmentPassExpiry:"2024-11-17",passportExpiry:"2025-10-16",bruneiMedicalExpiry:"2025-01-15",employeeBadgeNumber:"BAT001",workPosition:"Admin",department:"web development",nationality:"Bruneian"},{empID:"E002",name:"Jane Smith",ProbationaryEndDate:"2024-11-16",contractEndDate:"2025-01-15",employmentPassExpiry:"2024-11-18",passportExpiry:"2025-10-08",bruneiMedicalExpiry:"2025-01-08",employeeBadgeNumber:"BAT002",workPosition:"HR",department:"Mobile App development",nationality:"Brunei PR"},{empID:"E003",name:"Alice Brown",ProbationaryEndDate:"2024-12-15",contractEndDate:"2024-12-16",employmentPassExpiry:"2024-11-14",passportExpiry:"2025-10-14",bruneiMedicalExpiry:"2025-01-17",employeeBadgeNumber:"BAT003",workPosition:"Time keeper",department:"web development",nationality:"Indian"}].map(f=>{const b=new Date,y=u(new Date(f.ProbationaryEndDate),1),g=u(new Date(f.contractEndDate),2),x=u(new Date(f.employmentPassExpiry),1),v=c(new Date(f.passportExpiry),1),w=u(new Date(f.bruneiMedicalExpiry),3),S=[];return b>=y&&b<=new Date(f.ProbationaryEndDate)&&S.push({empID:f.empID,empBatchNo:f.employeeBadgeNumber,name:f.name,possition:f.workPosition,department:f.department,type:"Probation",expiryDate:f.ProbationaryEndDate,date:b.toLocaleDateString(),subject:"Probation Expiry",title:"Monthly Probation Expiry",nationality:f.nationality}),b>=g&&b<=new Date(f.contractEndDate)&&S.push({empID:f.empID,empBatchNo:f.employeeBadgeNumber,name:f.name,possition:f.workPosition,department:f.department,type:"Contract",expiryDate:f.contractEndDate,date:b.toLocaleDateString(),subject:"Contract Expiry",title:"Monthly Contract Expiry",nationality:f.nationality}),b>=x&&b<=new Date(f.employmentPassExpiry)&&S.push({empID:f.empID,empBatchNo:f.employeeBadgeNumber,name:f.name,possition:f.workPosition,department:f.department,type:"Employment Pass",expiryDate:f.employmentPassExpiry,date:b.toLocaleDateString(),subject:"Employment Pass Expiry",title:"Monthly Employment Pass Expiry",nationality:f.nationality}),b>=v&&b<=new Date(f.passportExpiry)&&S.push({empID:f.empID,empBatchNo:f.employeeBadgeNumber,name:f.name,possition:f.workPosition,department:f.department,type:"Passport",expiryDate:f.passportExpiry,date:b.toLocaleDateString(),subject:"Passport Expiry",title:"Monthly Passport Expiry",nationality:f.nationality}),b>=w&&b<=new Date(f.bruneiMedicalExpiry)&&S.push({empID:f.empID,empBatchNo:f.employeeBadgeNumber,name:f.name,possition:f.workPosition,department:f.department,type:"Brunei Medical",expiryDate:f.bruneiMedicalExpiry,date:b.toLocaleDateString(),subject:"Employment Medical Expiry",title:"Monthly Employment Pass Expiry",nationality:f.nationality}),S}).flat();r(h),console.log(h)};return m.jsxs("section",{className:"p-10 bg-[#F7F8F4] shadow-md rounded-lg",children:[m.jsxs("div",{className:" bg-white rounded-2xl",children:[m.jsxs("div",{className:" mb-4",children:[m.jsx("h2",{className:"text-lg font-semibold  pt-5 pl-16 text-dark_grey",children:"Notification"}),m.jsx("p",{className:"border-b-2 border-[#959595] mt-4"})]}),m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{className:"text-grey",children:m.jsxs("tr",{className:"uppercase bg-[#F1F1F1]",children:[m.jsx("th",{className:"p-7 text-left",children:"Date"}),m.jsx("th",{className:"p-7 text-left",children:"Subject"}),m.jsx("th",{className:"p-7  text-left"}),m.jsx("th",{className:"p-7  text-left"})]})}),m.jsx("tbody",{children:n&&n.map((d,p)=>m.jsxs("tr",{className:"border-b last:border-b-0 ",children:[m.jsx("td",{className:"p-7",children:d.date}),m.jsxs("td",{className:"p-7 text_size_6 text-dark_grey gap-5",children:[d.subject," ",m.jsx("br",{}),m.jsxs("span",{className:"text-sm text-dark_ash",children:["Please take immediate action to renew your"," ",d.subject,"..."]})]}),m.jsx("td",{className:"pr-14 ",children:m.jsx("span",{className:"border-b-2 py-1 cursor-pointer",onClick:()=>{i(),o(d)},children:"Read More"})}),m.jsx("td",{className:"px-4",children:m.jsx("div",{className:" mt-3.5 w-[60px] border label-new ",children:m.jsx("span",{className:"flex justify-center items-center",children:"New"})})})]},p))})]})]}),t&&m.jsx(lz,{toggleFunction:i,specificNotificationDetails:s})]})},uz=()=>m.jsx("div",{children:"Logout"}),Vh=64,dz=16,hz=[1732584193,4023233417,2562383102,271733878];class fz{constructor(){this.reset()}update(r){if(pz(r))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const t=mz(r);let e=0,{byteLength:s}=t;for(this.bytesHashed+=s;s>0;)this.buffer.setUint8(this.bufferLength++,t[e++]),s--,this.bufferLength===Vh&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){const{buffer:t,bufferLength:e,bytesHashed:s}=this,a=s*8;if(t.setUint8(this.bufferLength++,128),e%Vh>=Vh-8){for(let i=this.bufferLength;i<Vh;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(let i=this.bufferLength;i<Vh-8;i++)t.setUint8(i,0);t.setUint32(Vh-8,a>>>0,!0),t.setUint32(Vh-4,Math.floor(a/4294967296),!0),this.hashBuffer(),this.finished=!0}const r=new DataView(new ArrayBuffer(dz));for(let t=0;t<4;t++)r.setUint32(t*4,this.state[t],!0);return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}hashBuffer(){const{buffer:r,state:t}=this;let e=t[0],s=t[1],a=t[2],i=t[3];e=ji(e,s,a,i,r.getUint32(0,!0),7,3614090360),i=ji(i,e,s,a,r.getUint32(4,!0),12,3905402710),a=ji(a,i,e,s,r.getUint32(8,!0),17,606105819),s=ji(s,a,i,e,r.getUint32(12,!0),22,3250441966),e=ji(e,s,a,i,r.getUint32(16,!0),7,4118548399),i=ji(i,e,s,a,r.getUint32(20,!0),12,1200080426),a=ji(a,i,e,s,r.getUint32(24,!0),17,2821735955),s=ji(s,a,i,e,r.getUint32(28,!0),22,4249261313),e=ji(e,s,a,i,r.getUint32(32,!0),7,1770035416),i=ji(i,e,s,a,r.getUint32(36,!0),12,2336552879),a=ji(a,i,e,s,r.getUint32(40,!0),17,4294925233),s=ji(s,a,i,e,r.getUint32(44,!0),22,2304563134),e=ji(e,s,a,i,r.getUint32(48,!0),7,1804603682),i=ji(i,e,s,a,r.getUint32(52,!0),12,4254626195),a=ji(a,i,e,s,r.getUint32(56,!0),17,2792965006),s=ji(s,a,i,e,r.getUint32(60,!0),22,1236535329),e=Ii(e,s,a,i,r.getUint32(4,!0),5,4129170786),i=Ii(i,e,s,a,r.getUint32(24,!0),9,3225465664),a=Ii(a,i,e,s,r.getUint32(44,!0),14,643717713),s=Ii(s,a,i,e,r.getUint32(0,!0),20,3921069994),e=Ii(e,s,a,i,r.getUint32(20,!0),5,3593408605),i=Ii(i,e,s,a,r.getUint32(40,!0),9,38016083),a=Ii(a,i,e,s,r.getUint32(60,!0),14,3634488961),s=Ii(s,a,i,e,r.getUint32(16,!0),20,3889429448),e=Ii(e,s,a,i,r.getUint32(36,!0),5,568446438),i=Ii(i,e,s,a,r.getUint32(56,!0),9,3275163606),a=Ii(a,i,e,s,r.getUint32(12,!0),14,4107603335),s=Ii(s,a,i,e,r.getUint32(32,!0),20,1163531501),e=Ii(e,s,a,i,r.getUint32(52,!0),5,2850285829),i=Ii(i,e,s,a,r.getUint32(8,!0),9,4243563512),a=Ii(a,i,e,s,r.getUint32(28,!0),14,1735328473),s=Ii(s,a,i,e,r.getUint32(48,!0),20,2368359562),e=Pi(e,s,a,i,r.getUint32(20,!0),4,4294588738),i=Pi(i,e,s,a,r.getUint32(32,!0),11,2272392833),a=Pi(a,i,e,s,r.getUint32(44,!0),16,1839030562),s=Pi(s,a,i,e,r.getUint32(56,!0),23,4259657740),e=Pi(e,s,a,i,r.getUint32(4,!0),4,2763975236),i=Pi(i,e,s,a,r.getUint32(16,!0),11,1272893353),a=Pi(a,i,e,s,r.getUint32(28,!0),16,4139469664),s=Pi(s,a,i,e,r.getUint32(40,!0),23,3200236656),e=Pi(e,s,a,i,r.getUint32(52,!0),4,681279174),i=Pi(i,e,s,a,r.getUint32(0,!0),11,3936430074),a=Pi(a,i,e,s,r.getUint32(12,!0),16,3572445317),s=Pi(s,a,i,e,r.getUint32(24,!0),23,76029189),e=Pi(e,s,a,i,r.getUint32(36,!0),4,3654602809),i=Pi(i,e,s,a,r.getUint32(48,!0),11,3873151461),a=Pi(a,i,e,s,r.getUint32(60,!0),16,530742520),s=Pi(s,a,i,e,r.getUint32(8,!0),23,3299628645),e=Ri(e,s,a,i,r.getUint32(0,!0),6,4096336452),i=Ri(i,e,s,a,r.getUint32(28,!0),10,1126891415),a=Ri(a,i,e,s,r.getUint32(56,!0),15,2878612391),s=Ri(s,a,i,e,r.getUint32(20,!0),21,4237533241),e=Ri(e,s,a,i,r.getUint32(48,!0),6,1700485571),i=Ri(i,e,s,a,r.getUint32(12,!0),10,2399980690),a=Ri(a,i,e,s,r.getUint32(40,!0),15,4293915773),s=Ri(s,a,i,e,r.getUint32(4,!0),21,2240044497),e=Ri(e,s,a,i,r.getUint32(32,!0),6,1873313359),i=Ri(i,e,s,a,r.getUint32(60,!0),10,4264355552),a=Ri(a,i,e,s,r.getUint32(24,!0),15,2734768916),s=Ri(s,a,i,e,r.getUint32(52,!0),21,1309151649),e=Ri(e,s,a,i,r.getUint32(16,!0),6,4149444226),i=Ri(i,e,s,a,r.getUint32(44,!0),10,3174756917),a=Ri(a,i,e,s,r.getUint32(8,!0),15,718787259),s=Ri(s,a,i,e,r.getUint32(36,!0),21,3951481745),t[0]=e+t[0]&4294967295,t[1]=s+t[1]&4294967295,t[2]=a+t[2]&4294967295,t[3]=i+t[3]&4294967295}reset(){this.state=Uint32Array.from(hz),this.buffer=new DataView(new ArrayBuffer(Vh)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function a5(n,r,t,e,s,a){return r=(r+n&4294967295)+(e+a&4294967295)&4294967295,(r<<s|r>>>32-s)+t&4294967295}function ji(n,r,t,e,s,a,i){return a5(r&t|~r&e,n,r,s,a,i)}function Ii(n,r,t,e,s,a,i){return a5(r&e|t&~e,n,r,s,a,i)}function Pi(n,r,t,e,s,a,i){return a5(r^t^e,n,r,s,a,i)}function Ri(n,r,t,e,s,a,i){return a5(t^(r|~e),n,r,s,a,i)}function pz(n){return typeof n=="string"?n.length===0:n.byteLength===0}function mz(n){return typeof n=="string"?PM(n):ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(n)}const gz=({job:n,onCancel:r})=>{const t="IN_PROGRESS";let e;const s={cancel:i=>{const{state:o}=s;if(o==="CANCELED"||o==="ERROR"||o==="SUCCESS"){Wc.debug(`This task cannot be canceled. State: ${o}`);return}s.state="CANCELED",e=i,r(e)},state:t},a=(async()=>{try{const i=await n();return s.state="SUCCESS",i}catch(i){throw XM(i)&&(s.state="CANCELED",i.message=e??i.message),s.state="ERROR",i}})();return Object.assign(s,{result:a})},G3=({job:n,onCancel:r,onResume:t,onPause:e,isMultipartUpload:s})=>{const a=gz({job:n,onCancel:r}),i=Object.assign(a,{pause:()=>{const{state:o}=i;if(!s||o!=="IN_PROGRESS"){Wc.debug(`This task cannot be paused. State: ${o}`);return}i.state="PAUSED",e==null||e()},resume:()=>{const{state:o}=i;if(!s||o!=="PAUSED"){Wc.debug(`This task cannot be resumed. State: ${o}`);return}i.state="IN_PROGRESS",t==null||t()}});return i},bz=n=>{if(n==null)return 0;if(typeof n=="string"){let r=n.length;for(let t=r-1;t>=0;t--){const e=n.charCodeAt(t);e>127&&e<=2047?r++:e>2047&&e<=65535&&(r+=2),e>=56320&&e<=57343&&t--}return r}else{if(typeof n.byteLength=="number")return n.byteLength;if(typeof n.size=="number")return n.size}};function Y3(n){const r=Array.from(n,t=>String.fromCodePoint(t)).join("");return btoa(r)}function yz(n){return Y3(typeof n=="string"?new TextEncoder().encode(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength))}const kk=async n=>{const r=new fz,t=n instanceof Blob?await vz(n):n;r.update(t);const e=await r.digest();return yz(e)},vz=n=>new Promise((r,t)=>{const e=new FileReader;e.onload=()=>{r(e.result)},e.onabort=()=>{t(new Error("Read aborted"))},e.onerror=()=>{t(e.error)},e.readAsArrayBuffer(n)}),xz=async(n,r)=>{const t={...await cA({...n,ContentType:n.ContentType??"application/octet-stream"}),...uA({"content-md5":n.ContentMD5})},e=new lg(r.url.toString());return $l(!!n.Key,"Key"),e.pathname=dg(e,n.Key),{method:"PUT",headers:t,url:e,body:n.Body}},wz=async n=>{if(n.statusCode>=300){const r=await Ym(n);throw Km(r,n.statusCode)}else return{...hg(n.headers,{ETag:"etag",VersionId:"x-amz-version-id"}),$metadata:cg(n)}},_z=Vf(ug,xz,wz,{...Gm,responseType:"text"}),Sz=async(n,r)=>{const t=await cA(n),e=new lg(r.url.toString());return $l(!!n.Key,"Key"),e.pathname=dg(e,n.Key),e.search="uploads",{method:"POST",headers:t,url:e}},Ez=async n=>{if(n.statusCode>=300){const r=await Ym(n);throw Km(r,n.statusCode)}else{const r=await Vw(n),t=hg(r,{UploadId:"UploadId"});return{$metadata:cg(n),...t}}},Nz=Vf(ug,Sz,Ez,{...Gm,responseType:"text"}),Az=async(n,r)=>{const t={...uA({"content-md5":n.ContentMD5})};t["content-type"]="application/octet-stream";const e=new lg(r.url.toString());return $l(!!n.Key,"Key"),e.pathname=dg(e,n.Key),$l(!!n.PartNumber,"PartNumber"),$l(!!n.UploadId,"UploadId"),e.search=new zw({partNumber:n.PartNumber+"",uploadId:n.UploadId}).toString(),{method:"PUT",headers:t,url:e,body:n.Body}},kz=async n=>{if(n.statusCode>=300){const r=await Ym(n);throw Km(r,n.statusCode)}else return{...hg(n.headers,{ETag:"etag"}),$metadata:cg(n)}},Cz=Vf(ug,Az,kz,{...Gm,responseType:"text"}),Ck="Invalid parameter for ComplteMultipartUpload API",Dz=async(n,r)=>{const t={"content-type":"application/xml"},e=new lg(r.url.toString());return $l(!!n.Key,"Key"),e.pathname=dg(e,n.Key),$l(!!n.UploadId,"UploadId"),e.search=new zw({uploadId:n.UploadId}).toString(),$l(!!n.MultipartUpload,"MultipartUpload"),{method:"POST",headers:t,url:e,body:'<?xml version="1.0" encoding="UTF-8"?>'+Tz(n.MultipartUpload)}},Tz=n=>{var r;if(!((r=n.Parts)!=null&&r.length))throw new Error(`${Ck}: ${n}`);return`<CompleteMultipartUpload xmlns="http://s3.amazonaws.com/doc/2006-03-01/">${n.Parts.map(jz).join("")}</CompleteMultipartUpload>`},jz=n=>{if(!n.ETag||n.PartNumber==null)throw new Error(`${Ck}: ${n}`);return`<Part><ETag>${n.ETag}</ETag><PartNumber>${n.PartNumber}</PartNumber></Part>`},Iz=async n=>{const r=await Vw(n);if(r.Code!==void 0&&r.Message!==void 0){const t=await Ym({...n,statusCode:500});throw Km(t,n.statusCode)}return r},Pz=async n=>{if(n.statusCode>=300){const r=await Ym(n);throw Km(r,n.statusCode)}else{const r=await Iz(n),t=hg(r,{ETag:"ETag",Key:"Key",Location:"Location"});return{$metadata:cg(n),...t}}},Rz=async(n,r)=>{if(!n)return!1;if(n.statusCode===200){if(!n.body)return!0;const e=await Vw(n);return e.Code!==void 0&&e.Message!==void 0}const t=Gm.retryDecider;return t(n,r)},Mz=Vf(ug,Dz,Pz,{...Gm,responseType:"text",retryDecider:Rz}),Oz=async(n,r)=>{const t={},e=new lg(r.url.toString());return $l(!!n.Key,"Key"),e.pathname=dg(e,n.Key),$l(!!n.UploadId,"UploadId"),e.search=new zw({uploadId:n.UploadId}).toString(),{method:"GET",headers:t,url:e}},Lz=async n=>{if(n.statusCode>=300){const r=await Ym(n);throw Km(r,n.statusCode)}else{const r=await Vw(n),t=hg(r,{UploadId:"UploadId",Parts:["Part",e=>JM(e,Fz)]});return{$metadata:cg(n),...t}}},Fz=n=>n.map(r=>hg(r,{PartNumber:["PartNumber",BE],ETag:"ETag",Size:["Size",BE]})),Bz=Vf(ug,Oz,Lz,{...Gm,responseType:"text"}),Uz=(n,r)=>{const t=new lg(r.url.toString());return $l(!!n.Key,"Key"),t.pathname=dg(t,n.Key),$l(!!n.UploadId,"UploadId"),t.search=new zw({uploadId:n.UploadId}).toString(),{method:"DELETE",headers:{},url:t}},Hz=async n=>{if(n.statusCode>=300){const r=await Ym(n);throw Km(r,n.statusCode)}else return{$metadata:cg(n)}},qz=Vf(ug,Uz,Hz,{...Gm,responseType:"text"}),Wz=(n,r,t)=>async()=>{const{options:e,data:s}=n,{bucket:a,keyPrefix:i,s3Config:o,isObjectLockEnabled:u,identityId:c}=await dA(wv,e),{inputType:l,objectKey:d}=hA(n,c),p=l===Hx?i+d:d,{contentDisposition:h,contentEncoding:f,contentType:b="application/octet-stream",metadata:y,onProgress:g}=e??{},{ETag:x,VersionId:v}=await _z({...o,abortSignal:r,onUploadProgress:g,userAgentValue:fA(nA.UploadData)},{Bucket:a,Key:p,Body:s,ContentType:b,ContentDisposition:pA(h),ContentEncoding:f,Metadata:y,ContentMD5:u?await kk(s):void 0}),w={eTag:x,versionId:v,contentType:b,metadata:y,size:t};return l===Hx?{key:d,...w}:{path:d,...w}},zz=async({dataChunkerGenerator:n,completedPartNumberSet:r,s3Config:t,abortSignal:e,bucket:s,finalKey:a,uploadId:i,onPartUploadCompletion:o,onProgress:u,isObjectLockEnabled:c})=>{let l=0;for(const{data:d,partNumber:p,size:h}of n){if(e.aborted){Wc.debug("upload executor aborted.");break}if(r.has(p))Wc.debug(`part ${p} already uploaded.`),l+=h,u==null||u({transferredBytes:l});else{const{ETag:f}=await Cz({...t,abortSignal:e,onUploadProgress:b=>{const{transferredBytes:y}=b;u==null||u({transferredBytes:l+y})}},{Bucket:s,Key:a,UploadId:i,Body:d,PartNumber:p,ContentMD5:c?await kk(d):void 0});l+=h,o(p,f)}}},Vz=1e3*60*60,$z=async({cacheKey:n,s3Config:r,bucket:t,finalKey:e})=>{const s=await M8(J1);if(!s[n]||s[n].lastTouched<Date.now()-Vz)return null;const a=s[n];a.lastTouched=Date.now(),await J1.setItem($w,JSON.stringify(s));try{const{Parts:i=[]}=await Bz(r,{Bucket:t,Key:e,UploadId:a.uploadId});return{parts:i,uploadId:a.uploadId}}catch{return Wc.debug("failed to list cached parts, removing cached upload."),await j_(n),null}},M8=async n=>{try{return JSON.parse(await n.getItem($w)??"{}")}catch{return Wc.debug("failed to parse cached uploads record."),{}}},T_=({file:n,size:r,contentType:t,bucket:e,accessLevel:s,key:a})=>{let i;const o=t??(n==null?void 0:n.type)??"application/octet-stream";s===void 0?i="custom":i=s==="guest"?"public":s;const u=`${r}_${o}_${e}_${i}_${a}`;return n?`${n.name}_${n.lastModified}_${u}`:u},Gz=async(n,r)=>{const t=await M8(J1);t[n]={...r,lastTouched:Date.now()},await J1.setItem($w,JSON.stringify(t))},j_=async n=>{const r=await M8(J1);delete r[n],await J1.setItem($w,JSON.stringify(r))},Yz=({size:n,onProgress:r})=>{const t=[],e=()=>t.reduce((s,a)=>s+a,0);return{getOnProgressListener:()=>{t.push(0);const s=t.length-1;return a=>{const{transferredBytes:i}=a;t[s]=i,r==null||r({transferredBytes:e(),totalBytes:n})}}}},Kz=async({s3Config:n,data:r,size:t,contentType:e,bucket:s,accessLevel:a,keyPrefix:i,key:o,contentDisposition:u,contentEncoding:c,metadata:l,abortSignal:d})=>{const p=i!==void 0?i+o:o;let h;if(t===void 0)Wc.debug("uploaded data size cannot be determined, skipping cache."),h=void 0;else{const f=T_({size:t,contentType:e,file:r instanceof File?r:void 0,bucket:s,accessLevel:a,key:o}),b=await $z({s3Config:n,cacheKey:f,bucket:s,finalKey:p});h=b?{...b,uploadCacheKey:f}:void 0}if(h)return{uploadId:h.uploadId,cachedParts:h.parts};{const{UploadId:f}=await Nz({...n,abortSignal:d},{Bucket:s,Key:p,ContentType:e,ContentDisposition:pA(u),ContentEncoding:c,Metadata:l});if(t===void 0)return Wc.debug("uploaded data size cannot be determined, skipping cache."),{uploadId:f,cachedParts:[]};const b=T_({size:t,contentType:e,file:r instanceof File?r:void 0,bucket:s,accessLevel:a,key:o});return await Gz(b,{uploadId:f,bucket:s,key:o,fileName:r instanceof File?r.name:""}),{uploadId:f,cachedParts:[]}}},Xz=n=>{if(!n)return n_;let r=n_,t=Math.ceil(n/r);for(;t>ZM;)r*=2,t=Math.ceil(n/r);return r},Dk=(n,r)=>{const t=Xz(r);if(n instanceof Blob)return F6(n,0,n.size,t);if(ArrayBuffer.isView(n))return F6(n.buffer,n.byteOffset,n.byteLength,t);if(n instanceof ArrayBuffer)return F6(n,0,n.byteLength,t);if(typeof n=="string"){const e=new Blob([n]);return Dk(e,e.size)}else throw new mA({name:s_.InvalidUploadSource,...QM[s_.InvalidUploadSource]})},F6=function*(n,r,t,e){let s=1,a=r,i=r+Math.min(e,t);for(;i<t+r;)yield{partNumber:s,data:n.slice(a,i),size:e},s+=1,a=i,i=a+e;yield{partNumber:s,data:n.slice(a,t+r),size:t+r-a}},Jz=(n,r)=>{let t,e,s,a,i,o,u,c,l,d,p,h=!1;const f=async()=>{const{options:w,data:S}=n,D=await dA(wv,w);i=new AbortController,h=!1,a=D.s3Config,u=D.bucket,l=D.identityId;const{inputType:T,objectKey:R}=hA(n,l),{contentDisposition:P,contentEncoding:L,contentType:O="application/octet-stream",metadata:H,onProgress:U}=w??{};if(p=R,T===Hx){const B=w==null?void 0:w.accessLevel;c=D.keyPrefix,p=c+R,o=Zz(B)}if(!s){const{uploadId:B,cachedParts:j}=await Kz({s3Config:a,accessLevel:o,bucket:u,keyPrefix:c,key:R,contentType:O,contentDisposition:P,contentEncoding:L,metadata:H,data:S,size:r,abortSignal:i.signal});s={uploadId:B,completedParts:j}}d=r?T_({file:S instanceof File?S:void 0,accessLevel:o,contentType:w==null?void 0:w.contentType,bucket:u,size:r,key:R}):void 0;const I=Dk(S,r),F=new Set(s.completedParts.map(({PartNumber:B})=>B)),A=(B,j)=>{s==null||s.completedParts.push({PartNumber:B,ETag:j})},_=Yz({size:r,onProgress:U}),E=[];for(let B=0;B<tO;B++)E.push(zz({dataChunkerGenerator:I,completedPartNumberSet:F,s3Config:a,abortSignal:i.signal,bucket:u,finalKey:p,uploadId:s.uploadId,onPartUploadCompletion:A,onProgress:_.getOnProgressListener(),isObjectLockEnabled:D.isObjectLockEnabled}));await Promise.all(E);const{ETag:N}=await Mz({...a,abortSignal:i.signal,userAgentValue:fA(nA.UploadData)},{Bucket:u,Key:p,UploadId:s.uploadId,MultipartUpload:{Parts:s.completedParts.sort((B,j)=>B.PartNumber-j.PartNumber)}});if(r){const{ContentLength:B}=await rO(a,{Bucket:u,Key:p});if(B&&B!==r)throw new mA({name:"Error",message:`Upload failed. Expected object size ${r}, but got ${B}.`})}d&&await j_(d);const k={eTag:N,contentType:O,metadata:H};return T===Hx?{key:R,...k}:{path:R,...k}},b=()=>f().then(t).catch(w=>{const S=i==null?void 0:i.signal;S!=null&&S.aborted&&h?Wc.debug("upload paused."):e(w)});return{multipartUploadJob:()=>new Promise((w,S)=>{t=w,e=S,b()}),onPause:()=>{h=!0,i==null||i.abort()},onResume:()=>{b()},onCancel:w=>{i==null||i.abort(w),(async()=>{d&&await j_(d),await qz(a,{Bucket:u,Key:p,UploadId:s==null?void 0:s.uploadId})})().catch(D=>{Wc.debug("error when cancelling upload task.",D)}),e(new eO(w?{message:w}:void 0))}}},Zz=n=>{var r,t;return n??((t=(r=wv.libraryOptions.Storage)==null?void 0:r.S3)==null?void 0:t.defaultAccessLevel)??nO};function Tk(n){const{data:r}=n,t=bz(r);if(sO(t===void 0||t<=aO,s_.ObjectIsTooLarge),t&&t<=n_){const e=new AbortController;return G3({isMultipartUpload:!1,job:Wz(n,e.signal,t),onCancel:s=>{e.abort(s)}})}else{const{multipartUploadJob:e,onPause:s,onResume:a,onCancel:i}=Jz(n,t);return G3({isMultipartUpload:!0,job:e,onCancel:o=>{i(o)},onPause:s,onResume:a})}}const As=async(n,r,t,e,s)=>{try{if(await lA()){const o=(await Tk({path:`public/${r}/${e}/${n.name}`,data:n}).result).path,u=new Date().toISOString().split("T")[0];t(typeof s=="number"?c=>{const l={...c};return l[r]=l[r]||[],l[r][s]=l[r][s]||[],l[r][s].find(p=>p.upload===o)||l[r][s].push({upload:o,date:u}),l}:c=>({...c,[r]:[...c[r]||[],{upload:o,date:u}]}))}}catch(a){console.log(`Error uploading ${r}:`,a)}};var sw={exports:{}};sw.exports;(function(n,r){var t={};(function(){var e,s="4.17.21",a=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",u="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",l=500,d="__lodash_placeholder__",p=1,h=2,f=4,b=1,y=2,g=1,x=2,v=4,w=8,S=16,D=32,T=64,R=128,P=256,L=512,O=30,H="...",U=800,I=16,F=1,A=2,_=3,E=1/0,N=9007199254740991,k=17976931348623157e292,B=NaN,j=4294967295,M=j-1,G=j>>>1,Y=[["ary",R],["bind",g],["bindKey",x],["curry",w],["curryRight",S],["flip",L],["partial",D],["partialRight",T],["rearg",P]],J="[object Arguments]",V="[object Array]",Q="[object AsyncFunction]",q="[object Boolean]",z="[object Date]",Z="[object DOMException]",re="[object Error]",le="[object Function]",ue="[object GeneratorFunction]",ce="[object Map]",ie="[object Number]",ye="[object Null]",he="[object Object]",pe="[object Promise]",xe="[object Proxy]",Oe="[object RegExp]",Ae="[object Set]",Le="[object String]",He="[object Symbol]",Ye="[object Undefined]",it="[object WeakMap]",bt="[object WeakSet]",tt="[object ArrayBuffer]",$e="[object DataView]",at="[object Float32Array]",ze="[object Float64Array]",wt="[object Int8Array]",vt="[object Int16Array]",kt="[object Int32Array]",pt="[object Uint8Array]",At="[object Uint8ClampedArray]",$t="[object Uint16Array]",Tt="[object Uint32Array]",fr=/\b__p \+= '';/g,ur=/\b(__p \+=) '' \+/g,er=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Sr=/&(?:amp|lt|gt|quot|#39);/g,tr=/[&<>"']/g,Wt=RegExp(Sr.source),or=RegExp(tr.source),Ir=/<%-([\s\S]+?)%>/g,Jt=/<%([\s\S]+?)%>/g,wr=/<%=([\s\S]+?)%>/g,Lr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lt=/^\w*$/,Er=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Cr=/[\\^$.*+?()[\]{}|]/g,lr=RegExp(Cr.source),qe=/^\s+/,rt=/\s/,fe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ee=/\{\n\/\* \[wrapped with (.+)\] \*/,Se=/,? & /,we=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Pe=/[()=,{}\[\]\/\s]/,Re=/\\(\\)?/g,Ve=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ot=/\w*$/,Ke=/^[-+]0x[0-9a-f]+$/i,et=/^0b[01]+$/i,ct=/^\[object .+?Constructor\]$/,Nt=/^0o[0-7]+$/i,Ft=/^(?:0|[1-9]\d*)$/,zt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Rt=/($^)/,ke=/['\n\r\u2028\u2029\\]/g,Ge="\\ud800-\\udfff",mt="\\u0300-\\u036f",Et="\\ufe20-\\ufe2f",Yt="\\u20d0-\\u20ff",Ht=mt+Et+Yt,Vt="\\u2700-\\u27bf",Tr="a-z\\xdf-\\xf6\\xf8-\\xff",vr="\\xac\\xb1\\xd7\\xf7",Nr="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ir="\\u2000-\\u206f",_r=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",nn="A-Z\\xc0-\\xd6\\xd8-\\xde",sn="\\ufe0e\\ufe0f",An=vr+Nr+ir+_r,Vn="[']",Ms="["+Ge+"]",as="["+An+"]",sa="["+Ht+"]",Xn="\\d+",vi="["+Vt+"]",xi="["+Tr+"]",an="[^"+Ge+An+Xn+Vt+Tr+nn+"]",Wr="\\ud83c[\\udffb-\\udfff]",ri="(?:"+sa+"|"+Wr+")",ni="[^"+Ge+"]",vo="(?:\\ud83c[\\udde6-\\uddff]){2}",ks="[\\ud800-\\udbff][\\udc00-\\udfff]",Vs="["+nn+"]",si="\\u200d",xo="(?:"+xi+"|"+an+")",Wa="(?:"+Vs+"|"+an+")",za="(?:"+Vn+"(?:d|ll|m|re|s|t|ve))?",va="(?:"+Vn+"(?:D|LL|M|RE|S|T|VE))?",xl=ri+"?",ms="["+sn+"]?",Jl="(?:"+si+"(?:"+[ni,vo,ks].join("|")+")"+ms+xl+")*",Uo="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Dr="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Zl=ms+xl+Jl,wl="(?:"+[vi,vo,ks].join("|")+")"+Zl,Da="(?:"+[ni+sa+"?",sa,vo,ks,Ms].join("|")+")",Ch=RegExp(Vn,"g"),Dh=RegExp(sa,"g"),_l=RegExp(Wr+"(?="+Wr+")|"+Da+Zl,"g"),rd=RegExp([Vs+"?"+xi+"+"+za+"(?="+[as,Vs,"$"].join("|")+")",Wa+"+"+va+"(?="+[as,Vs+xo,"$"].join("|")+")",Vs+"?"+xo+"+"+za,Vs+"+"+va,Dr,Uo,Xn,wl].join("|"),"g"),Xf=RegExp("["+si+Ge+Ht+sn+"]"),Jf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Zf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],nd=-1,bn={};bn[at]=bn[ze]=bn[wt]=bn[vt]=bn[kt]=bn[pt]=bn[At]=bn[$t]=bn[Tt]=!0,bn[J]=bn[V]=bn[tt]=bn[q]=bn[$e]=bn[z]=bn[re]=bn[le]=bn[ce]=bn[ie]=bn[he]=bn[Oe]=bn[Ae]=bn[Le]=bn[it]=!1;var dn={};dn[J]=dn[V]=dn[tt]=dn[$e]=dn[q]=dn[z]=dn[at]=dn[ze]=dn[wt]=dn[vt]=dn[kt]=dn[ce]=dn[ie]=dn[he]=dn[Oe]=dn[Ae]=dn[Le]=dn[He]=dn[pt]=dn[At]=dn[$t]=dn[Tt]=!0,dn[re]=dn[le]=dn[it]=!1;var Qf={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Ql={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},sd={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Kc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Th=parseFloat,jh=parseInt,ad=typeof t=="object"&&t&&t.Object===Object&&t,Ih=typeof self=="object"&&self&&self.Object===Object&&self,$n=ad||Ih||Function("return this")(),Xi=r&&!r.nodeType&&r,Sl=Xi&&!0&&n&&!n.nodeType&&n,Ho=Sl&&Sl.exports===Xi,ai=Ho&&ad.process,xa=function(){try{var st=Sl&&Sl.require&&Sl.require("util").types;return st||ai&&ai.binding&&ai.binding("util")}catch{}}(),El=xa&&xa.isArrayBuffer,Ph=xa&&xa.isDate,ec=xa&&xa.isMap,Rh=xa&&xa.isRegExp,Xc=xa&&xa.isSet,Jc=xa&&xa.isTypedArray;function wa(st,yt,gt){switch(gt.length){case 0:return st.call(yt);case 1:return st.call(yt,gt[0]);case 2:return st.call(yt,gt[0],gt[1]);case 3:return st.call(yt,gt[0],gt[1],gt[2])}return st.apply(yt,gt)}function Zc(st,yt,gt,Kt){for(var xr=-1,ln=st==null?0:st.length;++xr<ln;){var Ts=st[xr];yt(Kt,Ts,gt(Ts),st)}return Kt}function _a(st,yt){for(var gt=-1,Kt=st==null?0:st.length;++gt<Kt&&yt(st[gt],gt,st)!==!1;);return st}function id(st,yt){for(var gt=st==null?0:st.length;gt--&&yt(st[gt],gt,st)!==!1;);return st}function od(st,yt){for(var gt=-1,Kt=st==null?0:st.length;++gt<Kt;)if(!yt(st[gt],gt,st))return!1;return!0}function wo(st,yt){for(var gt=-1,Kt=st==null?0:st.length,xr=0,ln=[];++gt<Kt;){var Ts=st[gt];yt(Ts,gt,st)&&(ln[xr++]=Ts)}return ln}function qo(st,yt){var gt=st==null?0:st.length;return!!gt&&Zt(st,yt,0)>-1}function Wo(st,yt,gt){for(var Kt=-1,xr=st==null?0:st.length;++Kt<xr;)if(gt(yt,st[Kt]))return!0;return!1}function Rn(st,yt){for(var gt=-1,Kt=st==null?0:st.length,xr=Array(Kt);++gt<Kt;)xr[gt]=yt(st[gt],gt,st);return xr}function Ta(st,yt){for(var gt=-1,Kt=yt.length,xr=st.length;++gt<Kt;)st[xr+gt]=yt[gt];return st}function tc(st,yt,gt,Kt){var xr=-1,ln=st==null?0:st.length;for(Kt&&ln&&(gt=st[++xr]);++xr<ln;)gt=yt(gt,st[xr],xr,st);return gt}function se(st,yt,gt,Kt){var xr=st==null?0:st.length;for(Kt&&xr&&(gt=st[--xr]);xr--;)gt=yt(gt,st[xr],xr,st);return gt}function me(st,yt){for(var gt=-1,Kt=st==null?0:st.length;++gt<Kt;)if(yt(st[gt],gt,st))return!0;return!1}var Be=tn("length");function Xe(st){return st.split("")}function dt(st){return st.match(we)||[]}function _t(st,yt,gt){var Kt;return gt(st,function(xr,ln,Ts){if(yt(xr,ln,Ts))return Kt=ln,!1}),Kt}function Ut(st,yt,gt,Kt){for(var xr=st.length,ln=gt+(Kt?1:-1);Kt?ln--:++ln<xr;)if(yt(st[ln],ln,st))return ln;return-1}function Zt(st,yt,gt){return yt===yt?su(st,yt,gt):Ut(st,Ur,gt)}function br(st,yt,gt,Kt){for(var xr=gt-1,ln=st.length;++xr<ln;)if(Kt(st[xr],yt))return xr;return-1}function Ur(st){return st!==st}function Fr(st,yt){var gt=st==null?0:st.length;return gt?Os(st,yt)/gt:B}function tn(st){return function(yt){return yt==null?e:yt[st]}}function Jn(st){return function(yt){return st==null?e:st[yt]}}function us(st,yt,gt,Kt,xr){return xr(st,function(ln,Ts,kn){gt=Kt?(Kt=!1,ln):yt(gt,ln,Ts,kn)}),gt}function Cs(st,yt){var gt=st.length;for(st.sort(yt);gt--;)st[gt]=st[gt].value;return st}function Os(st,yt){for(var gt,Kt=-1,xr=st.length;++Kt<xr;){var ln=yt(st[Kt]);ln!==e&&(gt=gt===e?ln:gt+ln)}return gt}function gs(st,yt){for(var gt=-1,Kt=Array(st);++gt<st;)Kt[gt]=yt(gt);return Kt}function Ji(st,yt){return Rn(yt,function(gt){return[gt,st[gt]]})}function Va(st){return st&&st.slice(0,au(st)+1).replace(qe,"")}function bs(st){return function(yt){return st(yt)}}function Qc(st,yt){return Rn(yt,function(gt){return st[gt]})}function zo(st,yt){return st.has(yt)}function eu(st,yt){for(var gt=-1,Kt=st.length;++gt<Kt&&Zt(yt,st[gt],0)>-1;);return gt}function rc(st,yt){for(var gt=st.length;gt--&&Zt(yt,st[gt],0)>-1;);return gt}function ld(st,yt){for(var gt=st.length,Kt=0;gt--;)st[gt]===yt&&++Kt;return Kt}var cd=Jn(Qf),tu=Jn(Ql);function aa(st){return"\\"+Kc[st]}function Ls(st,yt){return st==null?e:st[yt]}function Ds(st){return Xf.test(st)}function nc(st){return Jf.test(st)}function ru(st){for(var yt,gt=[];!(yt=st.next()).done;)gt.push(yt.value);return gt}function _s(st){var yt=-1,gt=Array(st.size);return st.forEach(function(Kt,xr){gt[++yt]=[xr,Kt]}),gt}function nu(st,yt){return function(gt){return st(yt(gt))}}function $s(st,yt){for(var gt=-1,Kt=st.length,xr=0,ln=[];++gt<Kt;){var Ts=st[gt];(Ts===yt||Ts===d)&&(st[gt]=d,ln[xr++]=gt)}return ln}function _o(st){var yt=-1,gt=Array(st.size);return st.forEach(function(Kt){gt[++yt]=Kt}),gt}function $a(st){var yt=-1,gt=Array(st.size);return st.forEach(function(Kt){gt[++yt]=[Kt,Kt]}),gt}function su(st,yt,gt){for(var Kt=gt-1,xr=st.length;++Kt<xr;)if(st[Kt]===yt)return Kt;return-1}function l0(st,yt,gt){for(var Kt=gt+1;Kt--;)if(st[Kt]===yt)return Kt;return Kt}function sc(st){return Ds(st)?ii(st):Be(st)}function Sa(st){return Ds(st)?iu(st):Xe(st)}function au(st){for(var yt=st.length;yt--&&rt.test(st.charAt(yt)););return yt}var wi=Jn(sd);function ii(st){for(var yt=_l.lastIndex=0;_l.test(st);)++yt;return yt}function iu(st){return st.match(_l)||[]}function ac(st){return st.match(rd)||[]}var ic=function st(yt){yt=yt==null?$n:Vo.defaults($n.Object(),yt,Vo.pick($n,Zf));var gt=yt.Array,Kt=yt.Date,xr=yt.Error,ln=yt.Function,Ts=yt.Math,kn=yt.Object,oc=yt.RegExp,ud=yt.String,ia=yt.TypeError,Nl=gt.prototype,Mh=ln.prototype,So=kn.prototype,$o=yt["__core-js_shared__"],ou=Mh.toString,Xr=So.hasOwnProperty,Eo=0,Zn=function(){var C=/[^.]+$/.exec($o&&$o.keys&&$o.keys.IE_PROTO||"");return C?"Symbol(src)_1."+C:""}(),Un=So.toString,Fs=ou.call(kn),oa=$n._,lc=oc("^"+ou.call(Xr).replace(Cr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lu=Ho?yt.Buffer:e,Zi=yt.Symbol,dd=yt.Uint8Array,c0=lu?lu.allocUnsafe:e,hd=nu(kn.getPrototypeOf,kn),_i=kn.create,Qi=So.propertyIsEnumerable,fd=Nl.splice,ep=Zi?Zi.isConcatSpreadable:e,Oh=Zi?Zi.iterator:e,Al=Zi?Zi.toStringTag:e,pd=function(){try{var C=fp(kn,"defineProperty");return C({},"",{}),C}catch{}}(),xg=yt.clearTimeout!==$n.clearTimeout&&yt.clearTimeout,zv=Kt&&Kt.now!==$n.Date.now&&Kt.now,wg=yt.setTimeout!==$n.setTimeout&&yt.setTimeout,Lh=Ts.ceil,md=Ts.floor,tp=kn.getOwnPropertySymbols,k5=lu?lu.isBuffer:e,Vv=yt.isFinite,$v=Nl.join,C5=nu(kn.keys,kn),la=Ts.max,Ga=Ts.min,D5=Kt.now,T5=yt.parseInt,u0=Ts.random,_g=Nl.reverse,gd=fp(yt,"DataView"),rp=fp(yt,"Map"),Sg=fp(yt,"Promise"),bd=fp(yt,"Set"),np=fp(yt,"WeakMap"),sp=fp(kn,"create"),d0=np&&new np,Fh={},cu=pp(gd),Go=pp(rp),cc=pp(Sg),j5=pp(bd),Gv=pp(np),Yo=Zi?Zi.prototype:e,Ya=Yo?Yo.valueOf:e,Yv=Yo?Yo.toString:e;function Te(C){if(Xs(C)&&!Yr(C)&&!(C instanceof on)){if(C instanceof eo)return C;if(Xr.call(C,"__wrapped__"))return QS(C)}return new eo(C)}var yd=function(){function C(){}return function(W){if(!Hs(W))return{};if(_i)return _i(W);C.prototype=W;var te=new C;return C.prototype=e,te}}();function ap(){}function eo(C,W){this.__wrapped__=C,this.__actions__=[],this.__chain__=!!W,this.__index__=0,this.__values__=e}Te.templateSettings={escape:Ir,evaluate:Jt,interpolate:wr,variable:"",imports:{_:Te}},Te.prototype=ap.prototype,Te.prototype.constructor=Te,eo.prototype=yd(ap.prototype),eo.prototype.constructor=eo;function on(C){this.__wrapped__=C,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=j,this.__views__=[]}function I5(){var C=new on(this.__wrapped__);return C.__actions__=ko(this.__actions__),C.__dir__=this.__dir__,C.__filtered__=this.__filtered__,C.__iteratees__=ko(this.__iteratees__),C.__takeCount__=this.__takeCount__,C.__views__=ko(this.__views__),C}function h0(){if(this.__filtered__){var C=new on(this);C.__dir__=-1,C.__filtered__=!0}else C=this.clone(),C.__dir__*=-1;return C}function f0(){var C=this.__wrapped__.value(),W=this.__dir__,te=Yr(C),oe=W<0,be=te?C.length:0,Me=ZT(0,be,this.__views__),We=Me.start,Ze=Me.end,ut=Ze-We,Pt=oe?Ze:We-1,Mt=this.__iteratees__,qt=Mt.length,rr=0,mr=Ga(ut,this.__takeCount__);if(!te||!oe&&be==ut&&mr==ut)return Cl(C,this.__actions__);var Rr=[];e:for(;ut--&&rr<mr;){Pt+=W;for(var rn=-1,Mr=C[Pt];++rn<qt;){var hn=Mt[rn],yn=hn.iteratee,Qo=hn.type,no=yn(Mr);if(Qo==A)Mr=no;else if(!no){if(Qo==F)continue e;break e}}Rr[rr++]=Mr}return Rr}on.prototype=yd(ap.prototype),on.prototype.constructor=on;function Ko(C){var W=-1,te=C==null?0:C.length;for(this.clear();++W<te;){var oe=C[W];this.set(oe[0],oe[1])}}function Eg(){this.__data__=sp?sp(null):{},this.size=0}function Kv(C){var W=this.has(C)&&delete this.__data__[C];return this.size-=W?1:0,W}function P5(C){var W=this.__data__;if(sp){var te=W[C];return te===c?e:te}return Xr.call(W,C)?W[C]:e}function Xv(C){var W=this.__data__;return sp?W[C]!==e:Xr.call(W,C)}function R5(C,W){var te=this.__data__;return this.size+=this.has(C)?0:1,te[C]=sp&&W===e?c:W,this}Ko.prototype.clear=Eg,Ko.prototype.delete=Kv,Ko.prototype.get=P5,Ko.prototype.has=Xv,Ko.prototype.set=R5;function uc(C){var W=-1,te=C==null?0:C.length;for(this.clear();++W<te;){var oe=C[W];this.set(oe[0],oe[1])}}function M5(){this.__data__=[],this.size=0}function O5(C){var W=this.__data__,te=nt(W,C);if(te<0)return!1;var oe=W.length-1;return te==oe?W.pop():fd.call(W,te,1),--this.size,!0}function L5(C){var W=this.__data__,te=nt(W,C);return te<0?e:W[te][1]}function F5(C){return nt(this.__data__,C)>-1}function Jv(C,W){var te=this.__data__,oe=nt(te,C);return oe<0?(++this.size,te.push([C,W])):te[oe][1]=W,this}uc.prototype.clear=M5,uc.prototype.delete=O5,uc.prototype.get=L5,uc.prototype.has=F5,uc.prototype.set=Jv;function No(C){var W=-1,te=C==null?0:C.length;for(this.clear();++W<te;){var oe=C[W];this.set(oe[0],oe[1])}}function B5(){this.size=0,this.__data__={hash:new Ko,map:new(rp||uc),string:new Ko}}function U5(C){var W=v2(this,C).delete(C);return this.size-=W?1:0,W}function Zv(C){return v2(this,C).get(C)}function K(C){return v2(this,C).has(C)}function ee(C,W){var te=v2(this,C),oe=te.size;return te.set(C,W),this.size+=te.size==oe?0:1,this}No.prototype.clear=B5,No.prototype.delete=U5,No.prototype.get=Zv,No.prototype.has=K,No.prototype.set=ee;function ae(C){var W=-1,te=C==null?0:C.length;for(this.__data__=new No;++W<te;)this.add(C[W])}function de(C){return this.__data__.set(C,c),this}function ge(C){return this.__data__.has(C)}ae.prototype.add=ae.prototype.push=de,ae.prototype.has=ge;function ve(C){var W=this.__data__=new uc(C);this.size=W.size}function _e(){this.__data__=new uc,this.size=0}function Ce(C){var W=this.__data__,te=W.delete(C);return this.size=W.size,te}function Ie(C){return this.__data__.get(C)}function Fe(C){return this.__data__.has(C)}function Qe(C,W){var te=this.__data__;if(te instanceof uc){var oe=te.__data__;if(!rp||oe.length<a-1)return oe.push([C,W]),this.size=++te.size,this;te=this.__data__=new No(oe)}return te.set(C,W),this.size=te.size,this}ve.prototype.clear=_e,ve.prototype.delete=Ce,ve.prototype.get=Ie,ve.prototype.has=Fe,ve.prototype.set=Qe;function ht(C,W){var te=Yr(C),oe=!te&&mp(C),be=!te&&!oe&&Hh(C),Me=!te&&!oe&&!be&&k0(C),We=te||oe||be||Me,Ze=We?gs(C.length,ud):[],ut=Ze.length;for(var Pt in C)(W||Xr.call(C,Pt))&&!(We&&(Pt=="length"||be&&(Pt=="offset"||Pt=="parent")||Me&&(Pt=="buffer"||Pt=="byteLength"||Pt=="byteOffset")||Cd(Pt,ut)))&&Ze.push(Pt);return Ze}function ft(C){var W=C.length;return W?C[up(0,W-1)]:e}function lt(C,W){return x2(ko(C),pr(W,0,C.length))}function It(C){return x2(ko(C))}function xt(C,W,te){(te!==e&&!bc(C[W],te)||te===e&&!(W in C))&&Qt(C,W,te)}function Je(C,W,te){var oe=C[W];(!(Xr.call(C,W)&&bc(oe,te))||te===e&&!(W in C))&&Qt(C,W,te)}function nt(C,W){for(var te=C.length;te--;)if(bc(C[te][0],W))return te;return-1}function Dt(C,W,te,oe){return gn(C,function(be,Me,We){W(oe,be,te(be),We)}),oe}function Bt(C,W){return C&&hu(W,Ka(W),C)}function jt(C,W){return C&&hu(W,Do(W),C)}function Qt(C,W,te){W=="__proto__"&&pd?pd(C,W,{configurable:!0,enumerable:!0,value:te,writable:!0}):C[W]=te}function Xt(C,W){for(var te=-1,oe=W.length,be=gt(oe),Me=C==null;++te<oe;)be[te]=Me?e:o6(C,W[te]);return be}function pr(C,W,te){return C===C&&(te!==e&&(C=C<=te?C:te),W!==e&&(C=C>=W?C:W)),C}function Gt(C,W,te,oe,be,Me){var We,Ze=W&p,ut=W&h,Pt=W&f;if(te&&(We=be?te(C,oe,be,Me):te(C)),We!==e)return We;if(!Hs(C))return C;var Mt=Yr(C);if(Mt){if(We=ej(C),!Ze)return ko(C,We)}else{var qt=Ai(C),rr=qt==le||qt==ue;if(Hh(C))return NS(C,Ze);if(qt==he||qt==J||rr&&!be){if(We=ut||rr?{}:zS(C),!Ze)return ut?WT(C,jt(We,C)):qT(C,Bt(We,C))}else{if(!dn[qt])return be?C:{};We=tj(C,qt,Ze)}}Me||(Me=new ve);var mr=Me.get(C);if(mr)return mr;Me.set(C,We),vE(C)?C.forEach(function(Mr){We.add(Gt(Mr,W,te,Mr,C,Me))}):bE(C)&&C.forEach(function(Mr,hn){We.set(hn,Gt(Mr,W,te,hn,C,Me))});var Rr=Pt?ut?G5:$5:ut?Do:Ka,rn=Mt?e:Rr(C);return _a(rn||C,function(Mr,hn){rn&&(hn=Mr,Mr=C[hn]),Je(We,hn,Gt(Mr,W,te,hn,C,Me))}),We}function Cn(C){var W=Ka(C);return function(te){return Mn(te,C,W)}}function Mn(C,W,te){var oe=te.length;if(C==null)return!oe;for(C=kn(C);oe--;){var be=te[oe],Me=W[be],We=C[be];if(We===e&&!(be in C)||!Me(We))return!1}return!0}function mn(C,W,te){if(typeof C!="function")throw new ia(o);return Tg(function(){C.apply(e,te)},W)}function Jr(C,W,te,oe){var be=-1,Me=qo,We=!0,Ze=C.length,ut=[],Pt=W.length;if(!Ze)return ut;te&&(W=Rn(W,bs(te))),oe?(Me=Wo,We=!1):W.length>=a&&(Me=zo,We=!1,W=new ae(W));e:for(;++be<Ze;){var Mt=C[be],qt=te==null?Mt:te(Mt);if(Mt=oe||Mt!==0?Mt:0,We&&qt===qt){for(var rr=Pt;rr--;)if(W[rr]===qt)continue e;ut.push(Mt)}else Me(W,qt,oe)||ut.push(Mt)}return ut}var gn=TS(js),Hn=TS(Gs,!0);function Vr(C,W){var te=!0;return gn(C,function(oe,be,Me){return te=!!W(oe,be,Me),te}),te}function Ss(C,W,te){for(var oe=-1,be=C.length;++oe<be;){var Me=C[oe],We=W(Me);if(We!=null&&(Ze===e?We===We&&!Zo(We):te(We,Ze)))var Ze=We,ut=Me}return ut}function Si(C,W,te,oe){var be=C.length;for(te=en(te),te<0&&(te=-te>be?0:be+te),oe=oe===e||oe>be?be:en(oe),oe<0&&(oe+=be),oe=te>oe?0:wE(oe);te<oe;)C[te++]=W;return C}function Bs(C,W){var te=[];return gn(C,function(oe,be,Me){W(oe,be,Me)&&te.push(oe)}),te}function On(C,W,te,oe,be){var Me=-1,We=C.length;for(te||(te=nj),be||(be=[]);++Me<We;){var Ze=C[Me];W>0&&te(Ze)?W>1?On(Ze,W-1,te,oe,be):Ta(be,Ze):oe||(be[be.length]=Ze)}return be}var Dn=jS(),Ei=jS(!0);function js(C,W){return C&&Dn(C,W,Ka)}function Gs(C,W){return C&&Ei(C,W,Ka)}function Ys(C,W){return wo(W,function(te){return Dd(C[te])})}function Us(C,W){W=gc(W,C);for(var te=0,oe=W.length;C!=null&&te<oe;)C=C[fu(W[te++])];return te&&te==oe?C:e}function to(C,W,te){var oe=W(C);return Yr(C)?oe:Ta(oe,te(C))}function ys(C){return C==null?C===e?Ye:ye:Al&&Al in kn(C)?JT(C):uj(C)}function Ks(C,W){return C>W}function dc(C,W){return C!=null&&Xr.call(C,W)}function vd(C,W){return C!=null&&W in kn(C)}function Bh(C,W,te){return C>=Ga(W,te)&&C<la(W,te)}function kl(C,W,te){for(var oe=te?Wo:qo,be=C[0].length,Me=C.length,We=Me,Ze=gt(Me),ut=1/0,Pt=[];We--;){var Mt=C[We];We&&W&&(Mt=Rn(Mt,bs(W))),ut=Ga(Mt.length,ut),Ze[We]=!te&&(W||be>=120&&Mt.length>=120)?new ae(We&&Mt):e}Mt=C[0];var qt=-1,rr=Ze[0];e:for(;++qt<be&&Pt.length<ut;){var mr=Mt[qt],Rr=W?W(mr):mr;if(mr=te||mr!==0?mr:0,!(rr?zo(rr,Rr):oe(Pt,Rr,te))){for(We=Me;--We;){var rn=Ze[We];if(!(rn?zo(rn,Rr):oe(C[We],Rr,te)))continue e}rr&&rr.push(Rr),Pt.push(mr)}}return Pt}function Is(C,W,te,oe){return js(C,function(be,Me,We){W(oe,te(be),Me,We)}),oe}function xd(C,W,te){W=gc(W,C),C=YS(C,W);var oe=C==null?C:C[fu(jl(W))];return oe==null?e:wa(oe,C,te)}function Ng(C){return Xs(C)&&ys(C)==J}function Qv(C){return Xs(C)&&ys(C)==tt}function p0(C){return Xs(C)&&ys(C)==z}function hc(C,W,te,oe,be){return C===W?!0:C==null||W==null||!Xs(C)&&!Xs(W)?C!==C&&W!==W:m0(C,W,te,oe,hc,be)}function m0(C,W,te,oe,be,Me){var We=Yr(C),Ze=Yr(W),ut=We?V:Ai(C),Pt=Ze?V:Ai(W);ut=ut==J?he:ut,Pt=Pt==J?he:Pt;var Mt=ut==he,qt=Pt==he,rr=ut==Pt;if(rr&&Hh(C)){if(!Hh(W))return!1;We=!0,Mt=!1}if(rr&&!Mt)return Me||(Me=new ve),We||k0(C)?HS(C,W,te,oe,be,Me):KT(C,W,ut,te,oe,be,Me);if(!(te&b)){var mr=Mt&&Xr.call(C,"__wrapped__"),Rr=qt&&Xr.call(W,"__wrapped__");if(mr||Rr){var rn=mr?C.value():C,Mr=Rr?W.value():W;return Me||(Me=new ve),be(rn,Mr,te,oe,Me)}}return rr?(Me||(Me=new ve),XT(C,W,te,oe,be,Me)):!1}function Xo(C){return Xs(C)&&Ai(C)==ce}function uu(C,W,te,oe){var be=te.length,Me=be,We=!oe;if(C==null)return!Me;for(C=kn(C);be--;){var Ze=te[be];if(We&&Ze[2]?Ze[1]!==C[Ze[0]]:!(Ze[0]in C))return!1}for(;++be<Me;){Ze=te[be];var ut=Ze[0],Pt=C[ut],Mt=Ze[1];if(We&&Ze[2]){if(Pt===e&&!(ut in C))return!1}else{var qt=new ve;if(oe)var rr=oe(Pt,Mt,ut,C,W,qt);if(!(rr===e?hc(Mt,Pt,b|y,oe,qt):rr))return!1}}return!0}function wd(C){if(!Hs(C)||aj(C))return!1;var W=Dd(C)?lc:ct;return W.test(pp(C))}function e2(C){return Xs(C)&&ys(C)==Oe}function g0(C){return Xs(C)&&Ai(C)==Ae}function t2(C){return Xs(C)&&A2(C.length)&&!!bn[ys(C)]}function ip(C){return typeof C=="function"?C:C==null?To:typeof C=="object"?Yr(C)?y0(C[0],C[1]):n2(C):IE(C)}function op(C){if(!Dg(C))return C5(C);var W=[];for(var te in kn(C))Xr.call(C,te)&&te!="constructor"&&W.push(te);return W}function b0(C){if(!Hs(C))return cj(C);var W=Dg(C),te=[];for(var oe in C)oe=="constructor"&&(W||!Xr.call(C,oe))||te.push(oe);return te}function _d(C,W){return C<W}function r2(C,W){var te=-1,oe=Co(C)?gt(C.length):[];return gn(C,function(be,Me,We){oe[++te]=W(be,Me,We)}),oe}function n2(C){var W=K5(C);return W.length==1&&W[0][2]?$S(W[0][0],W[0][1]):function(te){return te===C||uu(te,C,W)}}function y0(C,W){return J5(C)&&VS(W)?$S(fu(C),W):function(te){var oe=o6(te,C);return oe===e&&oe===W?l6(te,C):hc(W,oe,b|y)}}function Jo(C,W,te,oe,be){C!==W&&Dn(W,function(Me,We){if(be||(be=new ve),Hs(Me))H5(C,W,We,te,Jo,oe,be);else{var Ze=oe?oe(Q5(C,We),Me,We+"",C,W,be):e;Ze===e&&(Ze=Me),xt(C,We,Ze)}},Do)}function H5(C,W,te,oe,be,Me,We){var Ze=Q5(C,te),ut=Q5(W,te),Pt=We.get(ut);if(Pt){xt(C,te,Pt);return}var Mt=Me?Me(Ze,ut,te+"",C,W,We):e,qt=Mt===e;if(qt){var rr=Yr(ut),mr=!rr&&Hh(ut),Rr=!rr&&!mr&&k0(ut);Mt=ut,rr||mr||Rr?Yr(Ze)?Mt=Ze:ca(Ze)?Mt=ko(Ze):mr?(qt=!1,Mt=NS(ut,!0)):Rr?(qt=!1,Mt=AS(ut,!0)):Mt=[]:jg(ut)||mp(ut)?(Mt=Ze,mp(Ze)?Mt=_E(Ze):(!Hs(Ze)||Dd(Ze))&&(Mt=zS(ut))):qt=!1}qt&&(We.set(ut,Mt),be(Mt,ut,oe,Me,We),We.delete(ut)),xt(C,te,Mt)}function s2(C,W){var te=C.length;if(te)return W+=W<0?te:0,Cd(W,te)?C[W]:e}function a2(C,W,te){W.length?W=Rn(W,function(Me){return Yr(Me)?function(We){return Us(We,Me.length===1?Me[0]:Me)}:Me}):W=[To];var oe=-1;W=Rn(W,bs(Pr()));var be=r2(C,function(Me,We,Ze){var ut=Rn(W,function(Pt){return Pt(Me)});return{criteria:ut,index:++oe,value:Me}});return Cs(be,function(Me,We){return HT(Me,We,te)})}function i2(C,W){return lp(C,W,function(te,oe){return l6(C,oe)})}function lp(C,W,te){for(var oe=-1,be=W.length,Me={};++oe<be;){var We=W[oe],Ze=Us(C,We);te(Ze,We)&&Sd(Me,gc(We,C),Ze)}return Me}function o2(C){return function(W){return Us(W,C)}}function v0(C,W,te,oe){var be=oe?br:Zt,Me=-1,We=W.length,Ze=C;for(C===W&&(W=ko(W)),te&&(Ze=Rn(C,bs(te)));++Me<We;)for(var ut=0,Pt=W[Me],Mt=te?te(Pt):Pt;(ut=be(Ze,Mt,ut,oe))>-1;)Ze!==C&&fd.call(Ze,ut,1),fd.call(C,ut,1);return C}function cp(C,W){for(var te=C?W.length:0,oe=te-1;te--;){var be=W[te];if(te==oe||be!==Me){var Me=be;Cd(be)?fd.call(C,be,1):Ed(C,be)}}return C}function up(C,W){return C+md(u0()*(W-C+1))}function dp(C,W,te,oe){for(var be=-1,Me=la(Lh((W-C)/(te||1)),0),We=gt(Me);Me--;)We[oe?Me:++be]=C,C+=te;return We}function x0(C,W){var te="";if(!C||W<1||W>N)return te;do W%2&&(te+=C),W=md(W/2),W&&(C+=C);while(W);return te}function Qr(C,W){return e6(GS(C,W,To),C+"")}function w0(C){return ft(C0(C))}function l2(C,W){var te=C0(C);return x2(te,pr(W,0,te.length))}function Sd(C,W,te,oe){if(!Hs(C))return C;W=gc(W,C);for(var be=-1,Me=W.length,We=Me-1,Ze=C;Ze!=null&&++be<Me;){var ut=fu(W[be]),Pt=te;if(ut==="__proto__"||ut==="constructor"||ut==="prototype")return C;if(be!=We){var Mt=Ze[ut];Pt=oe?oe(Mt,ut,Ze):e,Pt===e&&(Pt=Hs(Mt)?Mt:Cd(W[be+1])?[]:{})}Je(Ze,ut,Pt),Ze=Ze[ut]}return C}var fc=d0?function(C,W){return d0.set(C,W),C}:To,c2=pd?function(C,W){return pd(C,"toString",{configurable:!0,enumerable:!1,value:u6(W),writable:!0})}:To;function u2(C){return x2(C0(C))}function Ao(C,W,te){var oe=-1,be=C.length;W<0&&(W=-W>be?0:be+W),te=te>be?be:te,te<0&&(te+=be),be=W>te?0:te-W>>>0,W>>>=0;for(var Me=gt(be);++oe<be;)Me[oe]=C[oe+W];return Me}function d2(C,W){var te;return gn(C,function(oe,be,Me){return te=W(oe,be,Me),!te}),!!te}function pc(C,W,te){var oe=0,be=C==null?oe:C.length;if(typeof W=="number"&&W===W&&be<=G){for(;oe<be;){var Me=oe+be>>>1,We=C[Me];We!==null&&!Zo(We)&&(te?We<=W:We<W)?oe=Me+1:be=Me}return be}return Ag(C,W,To,te)}function Ag(C,W,te,oe){var be=0,Me=C==null?0:C.length;if(Me===0)return 0;W=te(W);for(var We=W!==W,Ze=W===null,ut=Zo(W),Pt=W===e;be<Me;){var Mt=md((be+Me)/2),qt=te(C[Mt]),rr=qt!==e,mr=qt===null,Rr=qt===qt,rn=Zo(qt);if(We)var Mr=oe||Rr;else Pt?Mr=Rr&&(oe||rr):Ze?Mr=Rr&&rr&&(oe||!mr):ut?Mr=Rr&&rr&&!mr&&(oe||!rn):mr||rn?Mr=!1:Mr=oe?qt<=W:qt<W;Mr?be=Mt+1:Me=Mt}return Ga(Me,M)}function kg(C,W){for(var te=-1,oe=C.length,be=0,Me=[];++te<oe;){var We=C[te],Ze=W?W(We):We;if(!te||!bc(Ze,ut)){var ut=Ze;Me[be++]=We===0?0:We}}return Me}function h2(C){return typeof C=="number"?C:Zo(C)?B:+C}function Ni(C){if(typeof C=="string")return C;if(Yr(C))return Rn(C,Ni)+"";if(Zo(C))return Yv?Yv.call(C):"";var W=C+"";return W=="0"&&1/C==-E?"-0":W}function du(C,W,te){var oe=-1,be=qo,Me=C.length,We=!0,Ze=[],ut=Ze;if(te)We=!1,be=Wo;else if(Me>=a){var Pt=W?null:GT(C);if(Pt)return _o(Pt);We=!1,be=zo,ut=new ae}else ut=W?[]:Ze;e:for(;++oe<Me;){var Mt=C[oe],qt=W?W(Mt):Mt;if(Mt=te||Mt!==0?Mt:0,We&&qt===qt){for(var rr=ut.length;rr--;)if(ut[rr]===qt)continue e;W&&ut.push(qt),Ze.push(Mt)}else be(ut,qt,te)||(ut!==Ze&&ut.push(qt),Ze.push(Mt))}return Ze}function Ed(C,W){return W=gc(W,C),C=YS(C,W),C==null||delete C[fu(jl(W))]}function _0(C,W,te,oe){return Sd(C,W,te(Us(C,W)),oe)}function Nd(C,W,te,oe){for(var be=C.length,Me=oe?be:-1;(oe?Me--:++Me<be)&&W(C[Me],Me,C););return te?Ao(C,oe?0:Me,oe?Me+1:be):Ao(C,oe?Me+1:0,oe?be:Me)}function Cl(C,W){var te=C;return te instanceof on&&(te=te.value()),tc(W,function(oe,be){return be.func.apply(be.thisArg,Ta([oe],be.args))},te)}function Dl(C,W,te){var oe=C.length;if(oe<2)return oe?du(C[0]):[];for(var be=-1,Me=gt(oe);++be<oe;)for(var We=C[be],Ze=-1;++Ze<oe;)Ze!=be&&(Me[be]=Jr(Me[be]||We,C[Ze],W,te));return du(On(Me,1),W,te)}function mc(C,W,te){for(var oe=-1,be=C.length,Me=W.length,We={};++oe<be;){var Ze=oe<Me?W[oe]:e;te(We,C[oe],Ze)}return We}function Uh(C){return ca(C)?C:[]}function hp(C){return typeof C=="function"?C:To}function gc(C,W){return Yr(C)?C:J5(C,W)?[C]:ZS(Gn(C))}var q5=Qr;function Tl(C,W,te){var oe=C.length;return te=te===e?oe:te,!W&&te>=oe?C:Ao(C,W,te)}var S0=xg||function(C){return $n.clearTimeout(C)};function NS(C,W){if(W)return C.slice();var te=C.length,oe=c0?c0(te):new C.constructor(te);return C.copy(oe),oe}function W5(C){var W=new C.constructor(C.byteLength);return new dd(W).set(new dd(C)),W}function FT(C,W){var te=W?W5(C.buffer):C.buffer;return new C.constructor(te,C.byteOffset,C.byteLength)}function BT(C){var W=new C.constructor(C.source,ot.exec(C));return W.lastIndex=C.lastIndex,W}function UT(C){return Ya?kn(Ya.call(C)):{}}function AS(C,W){var te=W?W5(C.buffer):C.buffer;return new C.constructor(te,C.byteOffset,C.length)}function kS(C,W){if(C!==W){var te=C!==e,oe=C===null,be=C===C,Me=Zo(C),We=W!==e,Ze=W===null,ut=W===W,Pt=Zo(W);if(!Ze&&!Pt&&!Me&&C>W||Me&&We&&ut&&!Ze&&!Pt||oe&&We&&ut||!te&&ut||!be)return 1;if(!oe&&!Me&&!Pt&&C<W||Pt&&te&&be&&!oe&&!Me||Ze&&te&&be||!We&&be||!ut)return-1}return 0}function HT(C,W,te){for(var oe=-1,be=C.criteria,Me=W.criteria,We=be.length,Ze=te.length;++oe<We;){var ut=kS(be[oe],Me[oe]);if(ut){if(oe>=Ze)return ut;var Pt=te[oe];return ut*(Pt=="desc"?-1:1)}}return C.index-W.index}function CS(C,W,te,oe){for(var be=-1,Me=C.length,We=te.length,Ze=-1,ut=W.length,Pt=la(Me-We,0),Mt=gt(ut+Pt),qt=!oe;++Ze<ut;)Mt[Ze]=W[Ze];for(;++be<We;)(qt||be<Me)&&(Mt[te[be]]=C[be]);for(;Pt--;)Mt[Ze++]=C[be++];return Mt}function DS(C,W,te,oe){for(var be=-1,Me=C.length,We=-1,Ze=te.length,ut=-1,Pt=W.length,Mt=la(Me-Ze,0),qt=gt(Mt+Pt),rr=!oe;++be<Mt;)qt[be]=C[be];for(var mr=be;++ut<Pt;)qt[mr+ut]=W[ut];for(;++We<Ze;)(rr||be<Me)&&(qt[mr+te[We]]=C[be++]);return qt}function ko(C,W){var te=-1,oe=C.length;for(W||(W=gt(oe));++te<oe;)W[te]=C[te];return W}function hu(C,W,te,oe){var be=!te;te||(te={});for(var Me=-1,We=W.length;++Me<We;){var Ze=W[Me],ut=oe?oe(te[Ze],C[Ze],Ze,te,C):e;ut===e&&(ut=C[Ze]),be?Qt(te,Ze,ut):Je(te,Ze,ut)}return te}function qT(C,W){return hu(C,X5(C),W)}function WT(C,W){return hu(C,qS(C),W)}function f2(C,W){return function(te,oe){var be=Yr(te)?Zc:Dt,Me=W?W():{};return be(te,C,Pr(oe,2),Me)}}function E0(C){return Qr(function(W,te){var oe=-1,be=te.length,Me=be>1?te[be-1]:e,We=be>2?te[2]:e;for(Me=C.length>3&&typeof Me=="function"?(be--,Me):e,We&&ro(te[0],te[1],We)&&(Me=be<3?e:Me,be=1),W=kn(W);++oe<be;){var Ze=te[oe];Ze&&C(W,Ze,oe,Me)}return W})}function TS(C,W){return function(te,oe){if(te==null)return te;if(!Co(te))return C(te,oe);for(var be=te.length,Me=W?be:-1,We=kn(te);(W?Me--:++Me<be)&&oe(We[Me],Me,We)!==!1;);return te}}function jS(C){return function(W,te,oe){for(var be=-1,Me=kn(W),We=oe(W),Ze=We.length;Ze--;){var ut=We[C?Ze:++be];if(te(Me[ut],ut,Me)===!1)break}return W}}function zT(C,W,te){var oe=W&g,be=Cg(C);function Me(){var We=this&&this!==$n&&this instanceof Me?be:C;return We.apply(oe?te:this,arguments)}return Me}function IS(C){return function(W){W=Gn(W);var te=Ds(W)?Sa(W):e,oe=te?te[0]:W.charAt(0),be=te?Tl(te,1).join(""):W.slice(1);return oe[C]()+be}}function N0(C){return function(W){return tc(TE(DE(W).replace(Ch,"")),C,"")}}function Cg(C){return function(){var W=arguments;switch(W.length){case 0:return new C;case 1:return new C(W[0]);case 2:return new C(W[0],W[1]);case 3:return new C(W[0],W[1],W[2]);case 4:return new C(W[0],W[1],W[2],W[3]);case 5:return new C(W[0],W[1],W[2],W[3],W[4]);case 6:return new C(W[0],W[1],W[2],W[3],W[4],W[5]);case 7:return new C(W[0],W[1],W[2],W[3],W[4],W[5],W[6])}var te=yd(C.prototype),oe=C.apply(te,W);return Hs(oe)?oe:te}}function VT(C,W,te){var oe=Cg(C);function be(){for(var Me=arguments.length,We=gt(Me),Ze=Me,ut=A0(be);Ze--;)We[Ze]=arguments[Ze];var Pt=Me<3&&We[0]!==ut&&We[Me-1]!==ut?[]:$s(We,ut);if(Me-=Pt.length,Me<te)return LS(C,W,p2,be.placeholder,e,We,Pt,e,e,te-Me);var Mt=this&&this!==$n&&this instanceof be?oe:C;return wa(Mt,this,We)}return be}function PS(C){return function(W,te,oe){var be=kn(W);if(!Co(W)){var Me=Pr(te,3);W=Ka(W),te=function(Ze){return Me(be[Ze],Ze,be)}}var We=C(W,te,oe);return We>-1?be[Me?W[We]:We]:e}}function RS(C){return kd(function(W){var te=W.length,oe=te,be=eo.prototype.thru;for(C&&W.reverse();oe--;){var Me=W[oe];if(typeof Me!="function")throw new ia(o);if(be&&!We&&y2(Me)=="wrapper")var We=new eo([],!0)}for(oe=We?oe:te;++oe<te;){Me=W[oe];var Ze=y2(Me),ut=Ze=="wrapper"?Y5(Me):e;ut&&Z5(ut[0])&&ut[1]==(R|w|D|P)&&!ut[4].length&&ut[9]==1?We=We[y2(ut[0])].apply(We,ut[3]):We=Me.length==1&&Z5(Me)?We[Ze]():We.thru(Me)}return function(){var Pt=arguments,Mt=Pt[0];if(We&&Pt.length==1&&Yr(Mt))return We.plant(Mt).value();for(var qt=0,rr=te?W[qt].apply(this,Pt):Mt;++qt<te;)rr=W[qt].call(this,rr);return rr}})}function p2(C,W,te,oe,be,Me,We,Ze,ut,Pt){var Mt=W&R,qt=W&g,rr=W&x,mr=W&(w|S),Rr=W&L,rn=rr?e:Cg(C);function Mr(){for(var hn=arguments.length,yn=gt(hn),Qo=hn;Qo--;)yn[Qo]=arguments[Qo];if(mr)var no=A0(Mr),el=ld(yn,no);if(oe&&(yn=CS(yn,oe,be,mr)),Me&&(yn=DS(yn,Me,We,mr)),hn-=el,mr&&hn<Pt){var ua=$s(yn,no);return LS(C,W,p2,Mr.placeholder,te,yn,ua,Ze,ut,Pt-hn)}var yc=qt?te:this,jd=rr?yc[C]:C;return hn=yn.length,Ze?yn=dj(yn,Ze):Rr&&hn>1&&yn.reverse(),Mt&&ut<hn&&(yn.length=ut),this&&this!==$n&&this instanceof Mr&&(jd=rn||Cg(jd)),jd.apply(yc,yn)}return Mr}function MS(C,W){return function(te,oe){return Is(te,C,W(oe),{})}}function m2(C,W){return function(te,oe){var be;if(te===e&&oe===e)return W;if(te!==e&&(be=te),oe!==e){if(be===e)return oe;typeof te=="string"||typeof oe=="string"?(te=Ni(te),oe=Ni(oe)):(te=h2(te),oe=h2(oe)),be=C(te,oe)}return be}}function z5(C){return kd(function(W){return W=Rn(W,bs(Pr())),Qr(function(te){var oe=this;return C(W,function(be){return wa(be,oe,te)})})})}function g2(C,W){W=W===e?" ":Ni(W);var te=W.length;if(te<2)return te?x0(W,C):W;var oe=x0(W,Lh(C/sc(W)));return Ds(W)?Tl(Sa(oe),0,C).join(""):oe.slice(0,C)}function $T(C,W,te,oe){var be=W&g,Me=Cg(C);function We(){for(var Ze=-1,ut=arguments.length,Pt=-1,Mt=oe.length,qt=gt(Mt+ut),rr=this&&this!==$n&&this instanceof We?Me:C;++Pt<Mt;)qt[Pt]=oe[Pt];for(;ut--;)qt[Pt++]=arguments[++Ze];return wa(rr,be?te:this,qt)}return We}function OS(C){return function(W,te,oe){return oe&&typeof oe!="number"&&ro(W,te,oe)&&(te=oe=e),W=Td(W),te===e?(te=W,W=0):te=Td(te),oe=oe===e?W<te?1:-1:Td(oe),dp(W,te,oe,C)}}function b2(C){return function(W,te){return typeof W=="string"&&typeof te=="string"||(W=Il(W),te=Il(te)),C(W,te)}}function LS(C,W,te,oe,be,Me,We,Ze,ut,Pt){var Mt=W&w,qt=Mt?We:e,rr=Mt?e:We,mr=Mt?Me:e,Rr=Mt?e:Me;W|=Mt?D:T,W&=~(Mt?T:D),W&v||(W&=~(g|x));var rn=[C,W,be,mr,qt,Rr,rr,Ze,ut,Pt],Mr=te.apply(e,rn);return Z5(C)&&KS(Mr,rn),Mr.placeholder=oe,XS(Mr,C,W)}function V5(C){var W=Ts[C];return function(te,oe){if(te=Il(te),oe=oe==null?0:Ga(en(oe),292),oe&&Vv(te)){var be=(Gn(te)+"e").split("e"),Me=W(be[0]+"e"+(+be[1]+oe));return be=(Gn(Me)+"e").split("e"),+(be[0]+"e"+(+be[1]-oe))}return W(te)}}var GT=bd&&1/_o(new bd([,-0]))[1]==E?function(C){return new bd(C)}:f6;function FS(C){return function(W){var te=Ai(W);return te==ce?_s(W):te==Ae?$a(W):Ji(W,C(W))}}function Ad(C,W,te,oe,be,Me,We,Ze){var ut=W&x;if(!ut&&typeof C!="function")throw new ia(o);var Pt=oe?oe.length:0;if(Pt||(W&=~(D|T),oe=be=e),We=We===e?We:la(en(We),0),Ze=Ze===e?Ze:en(Ze),Pt-=be?be.length:0,W&T){var Mt=oe,qt=be;oe=be=e}var rr=ut?e:Y5(C),mr=[C,W,te,oe,be,Mt,qt,Me,We,Ze];if(rr&&lj(mr,rr),C=mr[0],W=mr[1],te=mr[2],oe=mr[3],be=mr[4],Ze=mr[9]=mr[9]===e?ut?0:C.length:la(mr[9]-Pt,0),!Ze&&W&(w|S)&&(W&=~(w|S)),!W||W==g)var Rr=zT(C,W,te);else W==w||W==S?Rr=VT(C,W,Ze):(W==D||W==(g|D))&&!be.length?Rr=$T(C,W,te,oe):Rr=p2.apply(e,mr);var rn=rr?fc:KS;return XS(rn(Rr,mr),C,W)}function BS(C,W,te,oe){return C===e||bc(C,So[te])&&!Xr.call(oe,te)?W:C}function US(C,W,te,oe,be,Me){return Hs(C)&&Hs(W)&&(Me.set(W,C),Jo(C,W,e,US,Me),Me.delete(W)),C}function YT(C){return jg(C)?e:C}function HS(C,W,te,oe,be,Me){var We=te&b,Ze=C.length,ut=W.length;if(Ze!=ut&&!(We&&ut>Ze))return!1;var Pt=Me.get(C),Mt=Me.get(W);if(Pt&&Mt)return Pt==W&&Mt==C;var qt=-1,rr=!0,mr=te&y?new ae:e;for(Me.set(C,W),Me.set(W,C);++qt<Ze;){var Rr=C[qt],rn=W[qt];if(oe)var Mr=We?oe(rn,Rr,qt,W,C,Me):oe(Rr,rn,qt,C,W,Me);if(Mr!==e){if(Mr)continue;rr=!1;break}if(mr){if(!me(W,function(hn,yn){if(!zo(mr,yn)&&(Rr===hn||be(Rr,hn,te,oe,Me)))return mr.push(yn)})){rr=!1;break}}else if(!(Rr===rn||be(Rr,rn,te,oe,Me))){rr=!1;break}}return Me.delete(C),Me.delete(W),rr}function KT(C,W,te,oe,be,Me,We){switch(te){case $e:if(C.byteLength!=W.byteLength||C.byteOffset!=W.byteOffset)return!1;C=C.buffer,W=W.buffer;case tt:return!(C.byteLength!=W.byteLength||!Me(new dd(C),new dd(W)));case q:case z:case ie:return bc(+C,+W);case re:return C.name==W.name&&C.message==W.message;case Oe:case Le:return C==W+"";case ce:var Ze=_s;case Ae:var ut=oe&b;if(Ze||(Ze=_o),C.size!=W.size&&!ut)return!1;var Pt=We.get(C);if(Pt)return Pt==W;oe|=y,We.set(C,W);var Mt=HS(Ze(C),Ze(W),oe,be,Me,We);return We.delete(C),Mt;case He:if(Ya)return Ya.call(C)==Ya.call(W)}return!1}function XT(C,W,te,oe,be,Me){var We=te&b,Ze=$5(C),ut=Ze.length,Pt=$5(W),Mt=Pt.length;if(ut!=Mt&&!We)return!1;for(var qt=ut;qt--;){var rr=Ze[qt];if(!(We?rr in W:Xr.call(W,rr)))return!1}var mr=Me.get(C),Rr=Me.get(W);if(mr&&Rr)return mr==W&&Rr==C;var rn=!0;Me.set(C,W),Me.set(W,C);for(var Mr=We;++qt<ut;){rr=Ze[qt];var hn=C[rr],yn=W[rr];if(oe)var Qo=We?oe(yn,hn,rr,W,C,Me):oe(hn,yn,rr,C,W,Me);if(!(Qo===e?hn===yn||be(hn,yn,te,oe,Me):Qo)){rn=!1;break}Mr||(Mr=rr=="constructor")}if(rn&&!Mr){var no=C.constructor,el=W.constructor;no!=el&&"constructor"in C&&"constructor"in W&&!(typeof no=="function"&&no instanceof no&&typeof el=="function"&&el instanceof el)&&(rn=!1)}return Me.delete(C),Me.delete(W),rn}function kd(C){return e6(GS(C,e,rE),C+"")}function $5(C){return to(C,Ka,X5)}function G5(C){return to(C,Do,qS)}var Y5=d0?function(C){return d0.get(C)}:f6;function y2(C){for(var W=C.name+"",te=Fh[W],oe=Xr.call(Fh,W)?te.length:0;oe--;){var be=te[oe],Me=be.func;if(Me==null||Me==C)return be.name}return W}function A0(C){var W=Xr.call(Te,"placeholder")?Te:C;return W.placeholder}function Pr(){var C=Te.iteratee||d6;return C=C===d6?ip:C,arguments.length?C(arguments[0],arguments[1]):C}function v2(C,W){var te=C.__data__;return sj(W)?te[typeof W=="string"?"string":"hash"]:te.map}function K5(C){for(var W=Ka(C),te=W.length;te--;){var oe=W[te],be=C[oe];W[te]=[oe,be,VS(be)]}return W}function fp(C,W){var te=Ls(C,W);return wd(te)?te:e}function JT(C){var W=Xr.call(C,Al),te=C[Al];try{C[Al]=e;var oe=!0}catch{}var be=Un.call(C);return oe&&(W?C[Al]=te:delete C[Al]),be}var X5=tp?function(C){return C==null?[]:(C=kn(C),wo(tp(C),function(W){return Qi.call(C,W)}))}:p6,qS=tp?function(C){for(var W=[];C;)Ta(W,X5(C)),C=hd(C);return W}:p6,Ai=ys;(gd&&Ai(new gd(new ArrayBuffer(1)))!=$e||rp&&Ai(new rp)!=ce||Sg&&Ai(Sg.resolve())!=pe||bd&&Ai(new bd)!=Ae||np&&Ai(new np)!=it)&&(Ai=function(C){var W=ys(C),te=W==he?C.constructor:e,oe=te?pp(te):"";if(oe)switch(oe){case cu:return $e;case Go:return ce;case cc:return pe;case j5:return Ae;case Gv:return it}return W});function ZT(C,W,te){for(var oe=-1,be=te.length;++oe<be;){var Me=te[oe],We=Me.size;switch(Me.type){case"drop":C+=We;break;case"dropRight":W-=We;break;case"take":W=Ga(W,C+We);break;case"takeRight":C=la(C,W-We);break}}return{start:C,end:W}}function QT(C){var W=C.match(Ee);return W?W[1].split(Se):[]}function WS(C,W,te){W=gc(W,C);for(var oe=-1,be=W.length,Me=!1;++oe<be;){var We=fu(W[oe]);if(!(Me=C!=null&&te(C,We)))break;C=C[We]}return Me||++oe!=be?Me:(be=C==null?0:C.length,!!be&&A2(be)&&Cd(We,be)&&(Yr(C)||mp(C)))}function ej(C){var W=C.length,te=new C.constructor(W);return W&&typeof C[0]=="string"&&Xr.call(C,"index")&&(te.index=C.index,te.input=C.input),te}function zS(C){return typeof C.constructor=="function"&&!Dg(C)?yd(hd(C)):{}}function tj(C,W,te){var oe=C.constructor;switch(W){case tt:return W5(C);case q:case z:return new oe(+C);case $e:return FT(C,te);case at:case ze:case wt:case vt:case kt:case pt:case At:case $t:case Tt:return AS(C,te);case ce:return new oe;case ie:case Le:return new oe(C);case Oe:return BT(C);case Ae:return new oe;case He:return UT(C)}}function rj(C,W){var te=W.length;if(!te)return C;var oe=te-1;return W[oe]=(te>1?"& ":"")+W[oe],W=W.join(te>2?", ":" "),C.replace(fe,`{
/* [wrapped with `+W+`] */
`)}function nj(C){return Yr(C)||mp(C)||!!(ep&&C&&C[ep])}function Cd(C,W){var te=typeof C;return W=W??N,!!W&&(te=="number"||te!="symbol"&&Ft.test(C))&&C>-1&&C%1==0&&C<W}function ro(C,W,te){if(!Hs(te))return!1;var oe=typeof W;return(oe=="number"?Co(te)&&Cd(W,te.length):oe=="string"&&W in te)?bc(te[W],C):!1}function J5(C,W){if(Yr(C))return!1;var te=typeof C;return te=="number"||te=="symbol"||te=="boolean"||C==null||Zo(C)?!0:Lt.test(C)||!Lr.test(C)||W!=null&&C in kn(W)}function sj(C){var W=typeof C;return W=="string"||W=="number"||W=="symbol"||W=="boolean"?C!=="__proto__":C===null}function Z5(C){var W=y2(C),te=Te[W];if(typeof te!="function"||!(W in on.prototype))return!1;if(C===te)return!0;var oe=Y5(te);return!!oe&&C===oe[0]}function aj(C){return!!Zn&&Zn in C}var ij=$o?Dd:m6;function Dg(C){var W=C&&C.constructor,te=typeof W=="function"&&W.prototype||So;return C===te}function VS(C){return C===C&&!Hs(C)}function $S(C,W){return function(te){return te==null?!1:te[C]===W&&(W!==e||C in kn(te))}}function oj(C){var W=E2(C,function(oe){return te.size===l&&te.clear(),oe}),te=W.cache;return W}function lj(C,W){var te=C[1],oe=W[1],be=te|oe,Me=be<(g|x|R),We=oe==R&&te==w||oe==R&&te==P&&C[7].length<=W[8]||oe==(R|P)&&W[7].length<=W[8]&&te==w;if(!(Me||We))return C;oe&g&&(C[2]=W[2],be|=te&g?0:v);var Ze=W[3];if(Ze){var ut=C[3];C[3]=ut?CS(ut,Ze,W[4]):Ze,C[4]=ut?$s(C[3],d):W[4]}return Ze=W[5],Ze&&(ut=C[5],C[5]=ut?DS(ut,Ze,W[6]):Ze,C[6]=ut?$s(C[5],d):W[6]),Ze=W[7],Ze&&(C[7]=Ze),oe&R&&(C[8]=C[8]==null?W[8]:Ga(C[8],W[8])),C[9]==null&&(C[9]=W[9]),C[0]=W[0],C[1]=be,C}function cj(C){var W=[];if(C!=null)for(var te in kn(C))W.push(te);return W}function uj(C){return Un.call(C)}function GS(C,W,te){return W=la(W===e?C.length-1:W,0),function(){for(var oe=arguments,be=-1,Me=la(oe.length-W,0),We=gt(Me);++be<Me;)We[be]=oe[W+be];be=-1;for(var Ze=gt(W+1);++be<W;)Ze[be]=oe[be];return Ze[W]=te(We),wa(C,this,Ze)}}function YS(C,W){return W.length<2?C:Us(C,Ao(W,0,-1))}function dj(C,W){for(var te=C.length,oe=Ga(W.length,te),be=ko(C);oe--;){var Me=W[oe];C[oe]=Cd(Me,te)?be[Me]:e}return C}function Q5(C,W){if(!(W==="constructor"&&typeof C[W]=="function")&&W!="__proto__")return C[W]}var KS=JS(fc),Tg=wg||function(C,W){return $n.setTimeout(C,W)},e6=JS(c2);function XS(C,W,te){var oe=W+"";return e6(C,rj(oe,hj(QT(oe),te)))}function JS(C){var W=0,te=0;return function(){var oe=D5(),be=I-(oe-te);if(te=oe,be>0){if(++W>=U)return arguments[0]}else W=0;return C.apply(e,arguments)}}function x2(C,W){var te=-1,oe=C.length,be=oe-1;for(W=W===e?oe:W;++te<W;){var Me=up(te,be),We=C[Me];C[Me]=C[te],C[te]=We}return C.length=W,C}var ZS=oj(function(C){var W=[];return C.charCodeAt(0)===46&&W.push(""),C.replace(Er,function(te,oe,be,Me){W.push(be?Me.replace(Re,"$1"):oe||te)}),W});function fu(C){if(typeof C=="string"||Zo(C))return C;var W=C+"";return W=="0"&&1/C==-E?"-0":W}function pp(C){if(C!=null){try{return ou.call(C)}catch{}try{return C+""}catch{}}return""}function hj(C,W){return _a(Y,function(te){var oe="_."+te[0];W&te[1]&&!qo(C,oe)&&C.push(oe)}),C.sort()}function QS(C){if(C instanceof on)return C.clone();var W=new eo(C.__wrapped__,C.__chain__);return W.__actions__=ko(C.__actions__),W.__index__=C.__index__,W.__values__=C.__values__,W}function fj(C,W,te){(te?ro(C,W,te):W===e)?W=1:W=la(en(W),0);var oe=C==null?0:C.length;if(!oe||W<1)return[];for(var be=0,Me=0,We=gt(Lh(oe/W));be<oe;)We[Me++]=Ao(C,be,be+=W);return We}function pj(C){for(var W=-1,te=C==null?0:C.length,oe=0,be=[];++W<te;){var Me=C[W];Me&&(be[oe++]=Me)}return be}function mj(){var C=arguments.length;if(!C)return[];for(var W=gt(C-1),te=arguments[0],oe=C;oe--;)W[oe-1]=arguments[oe];return Ta(Yr(te)?ko(te):[te],On(W,1))}var gj=Qr(function(C,W){return ca(C)?Jr(C,On(W,1,ca,!0)):[]}),bj=Qr(function(C,W){var te=jl(W);return ca(te)&&(te=e),ca(C)?Jr(C,On(W,1,ca,!0),Pr(te,2)):[]}),yj=Qr(function(C,W){var te=jl(W);return ca(te)&&(te=e),ca(C)?Jr(C,On(W,1,ca,!0),e,te):[]});function vj(C,W,te){var oe=C==null?0:C.length;return oe?(W=te||W===e?1:en(W),Ao(C,W<0?0:W,oe)):[]}function xj(C,W,te){var oe=C==null?0:C.length;return oe?(W=te||W===e?1:en(W),W=oe-W,Ao(C,0,W<0?0:W)):[]}function wj(C,W){return C&&C.length?Nd(C,Pr(W,3),!0,!0):[]}function _j(C,W){return C&&C.length?Nd(C,Pr(W,3),!0):[]}function Sj(C,W,te,oe){var be=C==null?0:C.length;return be?(te&&typeof te!="number"&&ro(C,W,te)&&(te=0,oe=be),Si(C,W,te,oe)):[]}function eE(C,W,te){var oe=C==null?0:C.length;if(!oe)return-1;var be=te==null?0:en(te);return be<0&&(be=la(oe+be,0)),Ut(C,Pr(W,3),be)}function tE(C,W,te){var oe=C==null?0:C.length;if(!oe)return-1;var be=oe-1;return te!==e&&(be=en(te),be=te<0?la(oe+be,0):Ga(be,oe-1)),Ut(C,Pr(W,3),be,!0)}function rE(C){var W=C==null?0:C.length;return W?On(C,1):[]}function Ej(C){var W=C==null?0:C.length;return W?On(C,E):[]}function Nj(C,W){var te=C==null?0:C.length;return te?(W=W===e?1:en(W),On(C,W)):[]}function Aj(C){for(var W=-1,te=C==null?0:C.length,oe={};++W<te;){var be=C[W];oe[be[0]]=be[1]}return oe}function nE(C){return C&&C.length?C[0]:e}function kj(C,W,te){var oe=C==null?0:C.length;if(!oe)return-1;var be=te==null?0:en(te);return be<0&&(be=la(oe+be,0)),Zt(C,W,be)}function Cj(C){var W=C==null?0:C.length;return W?Ao(C,0,-1):[]}var Dj=Qr(function(C){var W=Rn(C,Uh);return W.length&&W[0]===C[0]?kl(W):[]}),Tj=Qr(function(C){var W=jl(C),te=Rn(C,Uh);return W===jl(te)?W=e:te.pop(),te.length&&te[0]===C[0]?kl(te,Pr(W,2)):[]}),jj=Qr(function(C){var W=jl(C),te=Rn(C,Uh);return W=typeof W=="function"?W:e,W&&te.pop(),te.length&&te[0]===C[0]?kl(te,e,W):[]});function Ij(C,W){return C==null?"":$v.call(C,W)}function jl(C){var W=C==null?0:C.length;return W?C[W-1]:e}function Pj(C,W,te){var oe=C==null?0:C.length;if(!oe)return-1;var be=oe;return te!==e&&(be=en(te),be=be<0?la(oe+be,0):Ga(be,oe-1)),W===W?l0(C,W,be):Ut(C,Ur,be,!0)}function Rj(C,W){return C&&C.length?s2(C,en(W)):e}var Mj=Qr(sE);function sE(C,W){return C&&C.length&&W&&W.length?v0(C,W):C}function Oj(C,W,te){return C&&C.length&&W&&W.length?v0(C,W,Pr(te,2)):C}function Lj(C,W,te){return C&&C.length&&W&&W.length?v0(C,W,e,te):C}var Fj=kd(function(C,W){var te=C==null?0:C.length,oe=Xt(C,W);return cp(C,Rn(W,function(be){return Cd(be,te)?+be:be}).sort(kS)),oe});function Bj(C,W){var te=[];if(!(C&&C.length))return te;var oe=-1,be=[],Me=C.length;for(W=Pr(W,3);++oe<Me;){var We=C[oe];W(We,oe,C)&&(te.push(We),be.push(oe))}return cp(C,be),te}function t6(C){return C==null?C:_g.call(C)}function Uj(C,W,te){var oe=C==null?0:C.length;return oe?(te&&typeof te!="number"&&ro(C,W,te)?(W=0,te=oe):(W=W==null?0:en(W),te=te===e?oe:en(te)),Ao(C,W,te)):[]}function Hj(C,W){return pc(C,W)}function qj(C,W,te){return Ag(C,W,Pr(te,2))}function Wj(C,W){var te=C==null?0:C.length;if(te){var oe=pc(C,W);if(oe<te&&bc(C[oe],W))return oe}return-1}function zj(C,W){return pc(C,W,!0)}function Vj(C,W,te){return Ag(C,W,Pr(te,2),!0)}function $j(C,W){var te=C==null?0:C.length;if(te){var oe=pc(C,W,!0)-1;if(bc(C[oe],W))return oe}return-1}function Gj(C){return C&&C.length?kg(C):[]}function Yj(C,W){return C&&C.length?kg(C,Pr(W,2)):[]}function Kj(C){var W=C==null?0:C.length;return W?Ao(C,1,W):[]}function Xj(C,W,te){return C&&C.length?(W=te||W===e?1:en(W),Ao(C,0,W<0?0:W)):[]}function Jj(C,W,te){var oe=C==null?0:C.length;return oe?(W=te||W===e?1:en(W),W=oe-W,Ao(C,W<0?0:W,oe)):[]}function Zj(C,W){return C&&C.length?Nd(C,Pr(W,3),!1,!0):[]}function Qj(C,W){return C&&C.length?Nd(C,Pr(W,3)):[]}var eI=Qr(function(C){return du(On(C,1,ca,!0))}),tI=Qr(function(C){var W=jl(C);return ca(W)&&(W=e),du(On(C,1,ca,!0),Pr(W,2))}),rI=Qr(function(C){var W=jl(C);return W=typeof W=="function"?W:e,du(On(C,1,ca,!0),e,W)});function nI(C){return C&&C.length?du(C):[]}function sI(C,W){return C&&C.length?du(C,Pr(W,2)):[]}function aI(C,W){return W=typeof W=="function"?W:e,C&&C.length?du(C,e,W):[]}function r6(C){if(!(C&&C.length))return[];var W=0;return C=wo(C,function(te){if(ca(te))return W=la(te.length,W),!0}),gs(W,function(te){return Rn(C,tn(te))})}function aE(C,W){if(!(C&&C.length))return[];var te=r6(C);return W==null?te:Rn(te,function(oe){return wa(W,e,oe)})}var iI=Qr(function(C,W){return ca(C)?Jr(C,W):[]}),oI=Qr(function(C){return Dl(wo(C,ca))}),lI=Qr(function(C){var W=jl(C);return ca(W)&&(W=e),Dl(wo(C,ca),Pr(W,2))}),cI=Qr(function(C){var W=jl(C);return W=typeof W=="function"?W:e,Dl(wo(C,ca),e,W)}),uI=Qr(r6);function dI(C,W){return mc(C||[],W||[],Je)}function hI(C,W){return mc(C||[],W||[],Sd)}var fI=Qr(function(C){var W=C.length,te=W>1?C[W-1]:e;return te=typeof te=="function"?(C.pop(),te):e,aE(C,te)});function iE(C){var W=Te(C);return W.__chain__=!0,W}function pI(C,W){return W(C),C}function w2(C,W){return W(C)}var mI=kd(function(C){var W=C.length,te=W?C[0]:0,oe=this.__wrapped__,be=function(Me){return Xt(Me,C)};return W>1||this.__actions__.length||!(oe instanceof on)||!Cd(te)?this.thru(be):(oe=oe.slice(te,+te+(W?1:0)),oe.__actions__.push({func:w2,args:[be],thisArg:e}),new eo(oe,this.__chain__).thru(function(Me){return W&&!Me.length&&Me.push(e),Me}))});function gI(){return iE(this)}function bI(){return new eo(this.value(),this.__chain__)}function yI(){this.__values__===e&&(this.__values__=xE(this.value()));var C=this.__index__>=this.__values__.length,W=C?e:this.__values__[this.__index__++];return{done:C,value:W}}function vI(){return this}function xI(C){for(var W,te=this;te instanceof ap;){var oe=QS(te);oe.__index__=0,oe.__values__=e,W?be.__wrapped__=oe:W=oe;var be=oe;te=te.__wrapped__}return be.__wrapped__=C,W}function wI(){var C=this.__wrapped__;if(C instanceof on){var W=C;return this.__actions__.length&&(W=new on(this)),W=W.reverse(),W.__actions__.push({func:w2,args:[t6],thisArg:e}),new eo(W,this.__chain__)}return this.thru(t6)}function _I(){return Cl(this.__wrapped__,this.__actions__)}var SI=f2(function(C,W,te){Xr.call(C,te)?++C[te]:Qt(C,te,1)});function EI(C,W,te){var oe=Yr(C)?od:Vr;return te&&ro(C,W,te)&&(W=e),oe(C,Pr(W,3))}function NI(C,W){var te=Yr(C)?wo:Bs;return te(C,Pr(W,3))}var AI=PS(eE),kI=PS(tE);function CI(C,W){return On(_2(C,W),1)}function DI(C,W){return On(_2(C,W),E)}function TI(C,W,te){return te=te===e?1:en(te),On(_2(C,W),te)}function oE(C,W){var te=Yr(C)?_a:gn;return te(C,Pr(W,3))}function lE(C,W){var te=Yr(C)?id:Hn;return te(C,Pr(W,3))}var jI=f2(function(C,W,te){Xr.call(C,te)?C[te].push(W):Qt(C,te,[W])});function II(C,W,te,oe){C=Co(C)?C:C0(C),te=te&&!oe?en(te):0;var be=C.length;return te<0&&(te=la(be+te,0)),k2(C)?te<=be&&C.indexOf(W,te)>-1:!!be&&Zt(C,W,te)>-1}var PI=Qr(function(C,W,te){var oe=-1,be=typeof W=="function",Me=Co(C)?gt(C.length):[];return gn(C,function(We){Me[++oe]=be?wa(W,We,te):xd(We,W,te)}),Me}),RI=f2(function(C,W,te){Qt(C,te,W)});function _2(C,W){var te=Yr(C)?Rn:r2;return te(C,Pr(W,3))}function MI(C,W,te,oe){return C==null?[]:(Yr(W)||(W=W==null?[]:[W]),te=oe?e:te,Yr(te)||(te=te==null?[]:[te]),a2(C,W,te))}var OI=f2(function(C,W,te){C[te?0:1].push(W)},function(){return[[],[]]});function LI(C,W,te){var oe=Yr(C)?tc:us,be=arguments.length<3;return oe(C,Pr(W,4),te,be,gn)}function FI(C,W,te){var oe=Yr(C)?se:us,be=arguments.length<3;return oe(C,Pr(W,4),te,be,Hn)}function BI(C,W){var te=Yr(C)?wo:Bs;return te(C,N2(Pr(W,3)))}function UI(C){var W=Yr(C)?ft:w0;return W(C)}function HI(C,W,te){(te?ro(C,W,te):W===e)?W=1:W=en(W);var oe=Yr(C)?lt:l2;return oe(C,W)}function qI(C){var W=Yr(C)?It:u2;return W(C)}function WI(C){if(C==null)return 0;if(Co(C))return k2(C)?sc(C):C.length;var W=Ai(C);return W==ce||W==Ae?C.size:op(C).length}function zI(C,W,te){var oe=Yr(C)?me:d2;return te&&ro(C,W,te)&&(W=e),oe(C,Pr(W,3))}var VI=Qr(function(C,W){if(C==null)return[];var te=W.length;return te>1&&ro(C,W[0],W[1])?W=[]:te>2&&ro(W[0],W[1],W[2])&&(W=[W[0]]),a2(C,On(W,1),[])}),S2=zv||function(){return $n.Date.now()};function $I(C,W){if(typeof W!="function")throw new ia(o);return C=en(C),function(){if(--C<1)return W.apply(this,arguments)}}function cE(C,W,te){return W=te?e:W,W=C&&W==null?C.length:W,Ad(C,R,e,e,e,e,W)}function uE(C,W){var te;if(typeof W!="function")throw new ia(o);return C=en(C),function(){return--C>0&&(te=W.apply(this,arguments)),C<=1&&(W=e),te}}var n6=Qr(function(C,W,te){var oe=g;if(te.length){var be=$s(te,A0(n6));oe|=D}return Ad(C,oe,W,te,be)}),dE=Qr(function(C,W,te){var oe=g|x;if(te.length){var be=$s(te,A0(dE));oe|=D}return Ad(W,oe,C,te,be)});function hE(C,W,te){W=te?e:W;var oe=Ad(C,w,e,e,e,e,e,W);return oe.placeholder=hE.placeholder,oe}function fE(C,W,te){W=te?e:W;var oe=Ad(C,S,e,e,e,e,e,W);return oe.placeholder=fE.placeholder,oe}function pE(C,W,te){var oe,be,Me,We,Ze,ut,Pt=0,Mt=!1,qt=!1,rr=!0;if(typeof C!="function")throw new ia(o);W=Il(W)||0,Hs(te)&&(Mt=!!te.leading,qt="maxWait"in te,Me=qt?la(Il(te.maxWait)||0,W):Me,rr="trailing"in te?!!te.trailing:rr);function mr(ua){var yc=oe,jd=be;return oe=be=e,Pt=ua,We=C.apply(jd,yc),We}function Rr(ua){return Pt=ua,Ze=Tg(hn,W),Mt?mr(ua):We}function rn(ua){var yc=ua-ut,jd=ua-Pt,PE=W-yc;return qt?Ga(PE,Me-jd):PE}function Mr(ua){var yc=ua-ut,jd=ua-Pt;return ut===e||yc>=W||yc<0||qt&&jd>=Me}function hn(){var ua=S2();if(Mr(ua))return yn(ua);Ze=Tg(hn,rn(ua))}function yn(ua){return Ze=e,rr&&oe?mr(ua):(oe=be=e,We)}function Qo(){Ze!==e&&S0(Ze),Pt=0,oe=ut=be=Ze=e}function no(){return Ze===e?We:yn(S2())}function el(){var ua=S2(),yc=Mr(ua);if(oe=arguments,be=this,ut=ua,yc){if(Ze===e)return Rr(ut);if(qt)return S0(Ze),Ze=Tg(hn,W),mr(ut)}return Ze===e&&(Ze=Tg(hn,W)),We}return el.cancel=Qo,el.flush=no,el}var GI=Qr(function(C,W){return mn(C,1,W)}),YI=Qr(function(C,W,te){return mn(C,Il(W)||0,te)});function KI(C){return Ad(C,L)}function E2(C,W){if(typeof C!="function"||W!=null&&typeof W!="function")throw new ia(o);var te=function(){var oe=arguments,be=W?W.apply(this,oe):oe[0],Me=te.cache;if(Me.has(be))return Me.get(be);var We=C.apply(this,oe);return te.cache=Me.set(be,We)||Me,We};return te.cache=new(E2.Cache||No),te}E2.Cache=No;function N2(C){if(typeof C!="function")throw new ia(o);return function(){var W=arguments;switch(W.length){case 0:return!C.call(this);case 1:return!C.call(this,W[0]);case 2:return!C.call(this,W[0],W[1]);case 3:return!C.call(this,W[0],W[1],W[2])}return!C.apply(this,W)}}function XI(C){return uE(2,C)}var JI=q5(function(C,W){W=W.length==1&&Yr(W[0])?Rn(W[0],bs(Pr())):Rn(On(W,1),bs(Pr()));var te=W.length;return Qr(function(oe){for(var be=-1,Me=Ga(oe.length,te);++be<Me;)oe[be]=W[be].call(this,oe[be]);return wa(C,this,oe)})}),s6=Qr(function(C,W){var te=$s(W,A0(s6));return Ad(C,D,e,W,te)}),mE=Qr(function(C,W){var te=$s(W,A0(mE));return Ad(C,T,e,W,te)}),ZI=kd(function(C,W){return Ad(C,P,e,e,e,W)});function QI(C,W){if(typeof C!="function")throw new ia(o);return W=W===e?W:en(W),Qr(C,W)}function eP(C,W){if(typeof C!="function")throw new ia(o);return W=W==null?0:la(en(W),0),Qr(function(te){var oe=te[W],be=Tl(te,0,W);return oe&&Ta(be,oe),wa(C,this,be)})}function tP(C,W,te){var oe=!0,be=!0;if(typeof C!="function")throw new ia(o);return Hs(te)&&(oe="leading"in te?!!te.leading:oe,be="trailing"in te?!!te.trailing:be),pE(C,W,{leading:oe,maxWait:W,trailing:be})}function rP(C){return cE(C,1)}function nP(C,W){return s6(hp(W),C)}function sP(){if(!arguments.length)return[];var C=arguments[0];return Yr(C)?C:[C]}function aP(C){return Gt(C,f)}function iP(C,W){return W=typeof W=="function"?W:e,Gt(C,f,W)}function oP(C){return Gt(C,p|f)}function lP(C,W){return W=typeof W=="function"?W:e,Gt(C,p|f,W)}function cP(C,W){return W==null||Mn(C,W,Ka(W))}function bc(C,W){return C===W||C!==C&&W!==W}var uP=b2(Ks),dP=b2(function(C,W){return C>=W}),mp=Ng(function(){return arguments}())?Ng:function(C){return Xs(C)&&Xr.call(C,"callee")&&!Qi.call(C,"callee")},Yr=gt.isArray,hP=El?bs(El):Qv;function Co(C){return C!=null&&A2(C.length)&&!Dd(C)}function ca(C){return Xs(C)&&Co(C)}function fP(C){return C===!0||C===!1||Xs(C)&&ys(C)==q}var Hh=k5||m6,pP=Ph?bs(Ph):p0;function mP(C){return Xs(C)&&C.nodeType===1&&!jg(C)}function gP(C){if(C==null)return!0;if(Co(C)&&(Yr(C)||typeof C=="string"||typeof C.splice=="function"||Hh(C)||k0(C)||mp(C)))return!C.length;var W=Ai(C);if(W==ce||W==Ae)return!C.size;if(Dg(C))return!op(C).length;for(var te in C)if(Xr.call(C,te))return!1;return!0}function bP(C,W){return hc(C,W)}function yP(C,W,te){te=typeof te=="function"?te:e;var oe=te?te(C,W):e;return oe===e?hc(C,W,e,te):!!oe}function a6(C){if(!Xs(C))return!1;var W=ys(C);return W==re||W==Z||typeof C.message=="string"&&typeof C.name=="string"&&!jg(C)}function vP(C){return typeof C=="number"&&Vv(C)}function Dd(C){if(!Hs(C))return!1;var W=ys(C);return W==le||W==ue||W==Q||W==xe}function gE(C){return typeof C=="number"&&C==en(C)}function A2(C){return typeof C=="number"&&C>-1&&C%1==0&&C<=N}function Hs(C){var W=typeof C;return C!=null&&(W=="object"||W=="function")}function Xs(C){return C!=null&&typeof C=="object"}var bE=ec?bs(ec):Xo;function xP(C,W){return C===W||uu(C,W,K5(W))}function wP(C,W,te){return te=typeof te=="function"?te:e,uu(C,W,K5(W),te)}function _P(C){return yE(C)&&C!=+C}function SP(C){if(ij(C))throw new xr(i);return wd(C)}function EP(C){return C===null}function NP(C){return C==null}function yE(C){return typeof C=="number"||Xs(C)&&ys(C)==ie}function jg(C){if(!Xs(C)||ys(C)!=he)return!1;var W=hd(C);if(W===null)return!0;var te=Xr.call(W,"constructor")&&W.constructor;return typeof te=="function"&&te instanceof te&&ou.call(te)==Fs}var i6=Rh?bs(Rh):e2;function AP(C){return gE(C)&&C>=-N&&C<=N}var vE=Xc?bs(Xc):g0;function k2(C){return typeof C=="string"||!Yr(C)&&Xs(C)&&ys(C)==Le}function Zo(C){return typeof C=="symbol"||Xs(C)&&ys(C)==He}var k0=Jc?bs(Jc):t2;function kP(C){return C===e}function CP(C){return Xs(C)&&Ai(C)==it}function DP(C){return Xs(C)&&ys(C)==bt}var TP=b2(_d),jP=b2(function(C,W){return C<=W});function xE(C){if(!C)return[];if(Co(C))return k2(C)?Sa(C):ko(C);if(Oh&&C[Oh])return ru(C[Oh]());var W=Ai(C),te=W==ce?_s:W==Ae?_o:C0;return te(C)}function Td(C){if(!C)return C===0?C:0;if(C=Il(C),C===E||C===-E){var W=C<0?-1:1;return W*k}return C===C?C:0}function en(C){var W=Td(C),te=W%1;return W===W?te?W-te:W:0}function wE(C){return C?pr(en(C),0,j):0}function Il(C){if(typeof C=="number")return C;if(Zo(C))return B;if(Hs(C)){var W=typeof C.valueOf=="function"?C.valueOf():C;C=Hs(W)?W+"":W}if(typeof C!="string")return C===0?C:+C;C=Va(C);var te=et.test(C);return te||Nt.test(C)?jh(C.slice(2),te?2:8):Ke.test(C)?B:+C}function _E(C){return hu(C,Do(C))}function IP(C){return C?pr(en(C),-N,N):C===0?C:0}function Gn(C){return C==null?"":Ni(C)}var PP=E0(function(C,W){if(Dg(W)||Co(W)){hu(W,Ka(W),C);return}for(var te in W)Xr.call(W,te)&&Je(C,te,W[te])}),SE=E0(function(C,W){hu(W,Do(W),C)}),C2=E0(function(C,W,te,oe){hu(W,Do(W),C,oe)}),RP=E0(function(C,W,te,oe){hu(W,Ka(W),C,oe)}),MP=kd(Xt);function OP(C,W){var te=yd(C);return W==null?te:Bt(te,W)}var LP=Qr(function(C,W){C=kn(C);var te=-1,oe=W.length,be=oe>2?W[2]:e;for(be&&ro(W[0],W[1],be)&&(oe=1);++te<oe;)for(var Me=W[te],We=Do(Me),Ze=-1,ut=We.length;++Ze<ut;){var Pt=We[Ze],Mt=C[Pt];(Mt===e||bc(Mt,So[Pt])&&!Xr.call(C,Pt))&&(C[Pt]=Me[Pt])}return C}),FP=Qr(function(C){return C.push(e,US),wa(EE,e,C)});function BP(C,W){return _t(C,Pr(W,3),js)}function UP(C,W){return _t(C,Pr(W,3),Gs)}function HP(C,W){return C==null?C:Dn(C,Pr(W,3),Do)}function qP(C,W){return C==null?C:Ei(C,Pr(W,3),Do)}function WP(C,W){return C&&js(C,Pr(W,3))}function zP(C,W){return C&&Gs(C,Pr(W,3))}function VP(C){return C==null?[]:Ys(C,Ka(C))}function $P(C){return C==null?[]:Ys(C,Do(C))}function o6(C,W,te){var oe=C==null?e:Us(C,W);return oe===e?te:oe}function GP(C,W){return C!=null&&WS(C,W,dc)}function l6(C,W){return C!=null&&WS(C,W,vd)}var YP=MS(function(C,W,te){W!=null&&typeof W.toString!="function"&&(W=Un.call(W)),C[W]=te},u6(To)),KP=MS(function(C,W,te){W!=null&&typeof W.toString!="function"&&(W=Un.call(W)),Xr.call(C,W)?C[W].push(te):C[W]=[te]},Pr),XP=Qr(xd);function Ka(C){return Co(C)?ht(C):op(C)}function Do(C){return Co(C)?ht(C,!0):b0(C)}function JP(C,W){var te={};return W=Pr(W,3),js(C,function(oe,be,Me){Qt(te,W(oe,be,Me),oe)}),te}function ZP(C,W){var te={};return W=Pr(W,3),js(C,function(oe,be,Me){Qt(te,be,W(oe,be,Me))}),te}var QP=E0(function(C,W,te){Jo(C,W,te)}),EE=E0(function(C,W,te,oe){Jo(C,W,te,oe)}),eR=kd(function(C,W){var te={};if(C==null)return te;var oe=!1;W=Rn(W,function(Me){return Me=gc(Me,C),oe||(oe=Me.length>1),Me}),hu(C,G5(C),te),oe&&(te=Gt(te,p|h|f,YT));for(var be=W.length;be--;)Ed(te,W[be]);return te});function tR(C,W){return NE(C,N2(Pr(W)))}var rR=kd(function(C,W){return C==null?{}:i2(C,W)});function NE(C,W){if(C==null)return{};var te=Rn(G5(C),function(oe){return[oe]});return W=Pr(W),lp(C,te,function(oe,be){return W(oe,be[0])})}function nR(C,W,te){W=gc(W,C);var oe=-1,be=W.length;for(be||(be=1,C=e);++oe<be;){var Me=C==null?e:C[fu(W[oe])];Me===e&&(oe=be,Me=te),C=Dd(Me)?Me.call(C):Me}return C}function sR(C,W,te){return C==null?C:Sd(C,W,te)}function aR(C,W,te,oe){return oe=typeof oe=="function"?oe:e,C==null?C:Sd(C,W,te,oe)}var AE=FS(Ka),kE=FS(Do);function iR(C,W,te){var oe=Yr(C),be=oe||Hh(C)||k0(C);if(W=Pr(W,4),te==null){var Me=C&&C.constructor;be?te=oe?new Me:[]:Hs(C)?te=Dd(Me)?yd(hd(C)):{}:te={}}return(be?_a:js)(C,function(We,Ze,ut){return W(te,We,Ze,ut)}),te}function oR(C,W){return C==null?!0:Ed(C,W)}function lR(C,W,te){return C==null?C:_0(C,W,hp(te))}function cR(C,W,te,oe){return oe=typeof oe=="function"?oe:e,C==null?C:_0(C,W,hp(te),oe)}function C0(C){return C==null?[]:Qc(C,Ka(C))}function uR(C){return C==null?[]:Qc(C,Do(C))}function dR(C,W,te){return te===e&&(te=W,W=e),te!==e&&(te=Il(te),te=te===te?te:0),W!==e&&(W=Il(W),W=W===W?W:0),pr(Il(C),W,te)}function hR(C,W,te){return W=Td(W),te===e?(te=W,W=0):te=Td(te),C=Il(C),Bh(C,W,te)}function fR(C,W,te){if(te&&typeof te!="boolean"&&ro(C,W,te)&&(W=te=e),te===e&&(typeof W=="boolean"?(te=W,W=e):typeof C=="boolean"&&(te=C,C=e)),C===e&&W===e?(C=0,W=1):(C=Td(C),W===e?(W=C,C=0):W=Td(W)),C>W){var oe=C;C=W,W=oe}if(te||C%1||W%1){var be=u0();return Ga(C+be*(W-C+Th("1e-"+((be+"").length-1))),W)}return up(C,W)}var pR=N0(function(C,W,te){return W=W.toLowerCase(),C+(te?CE(W):W)});function CE(C){return c6(Gn(C).toLowerCase())}function DE(C){return C=Gn(C),C&&C.replace(zt,cd).replace(Dh,"")}function mR(C,W,te){C=Gn(C),W=Ni(W);var oe=C.length;te=te===e?oe:pr(en(te),0,oe);var be=te;return te-=W.length,te>=0&&C.slice(te,be)==W}function gR(C){return C=Gn(C),C&&or.test(C)?C.replace(tr,tu):C}function bR(C){return C=Gn(C),C&&lr.test(C)?C.replace(Cr,"\\$&"):C}var yR=N0(function(C,W,te){return C+(te?"-":"")+W.toLowerCase()}),vR=N0(function(C,W,te){return C+(te?" ":"")+W.toLowerCase()}),xR=IS("toLowerCase");function wR(C,W,te){C=Gn(C),W=en(W);var oe=W?sc(C):0;if(!W||oe>=W)return C;var be=(W-oe)/2;return g2(md(be),te)+C+g2(Lh(be),te)}function _R(C,W,te){C=Gn(C),W=en(W);var oe=W?sc(C):0;return W&&oe<W?C+g2(W-oe,te):C}function SR(C,W,te){C=Gn(C),W=en(W);var oe=W?sc(C):0;return W&&oe<W?g2(W-oe,te)+C:C}function ER(C,W,te){return te||W==null?W=0:W&&(W=+W),T5(Gn(C).replace(qe,""),W||0)}function NR(C,W,te){return(te?ro(C,W,te):W===e)?W=1:W=en(W),x0(Gn(C),W)}function AR(){var C=arguments,W=Gn(C[0]);return C.length<3?W:W.replace(C[1],C[2])}var kR=N0(function(C,W,te){return C+(te?"_":"")+W.toLowerCase()});function CR(C,W,te){return te&&typeof te!="number"&&ro(C,W,te)&&(W=te=e),te=te===e?j:te>>>0,te?(C=Gn(C),C&&(typeof W=="string"||W!=null&&!i6(W))&&(W=Ni(W),!W&&Ds(C))?Tl(Sa(C),0,te):C.split(W,te)):[]}var DR=N0(function(C,W,te){return C+(te?" ":"")+c6(W)});function TR(C,W,te){return C=Gn(C),te=te==null?0:pr(en(te),0,C.length),W=Ni(W),C.slice(te,te+W.length)==W}function jR(C,W,te){var oe=Te.templateSettings;te&&ro(C,W,te)&&(W=e),C=Gn(C),W=C2({},W,oe,BS);var be=C2({},W.imports,oe.imports,BS),Me=Ka(be),We=Qc(be,Me),Ze,ut,Pt=0,Mt=W.interpolate||Rt,qt="__p += '",rr=oc((W.escape||Rt).source+"|"+Mt.source+"|"+(Mt===wr?Ve:Rt).source+"|"+(W.evaluate||Rt).source+"|$","g"),mr="//# sourceURL="+(Xr.call(W,"sourceURL")?(W.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++nd+"]")+`
`;C.replace(rr,function(Mr,hn,yn,Qo,no,el){return yn||(yn=Qo),qt+=C.slice(Pt,el).replace(ke,aa),hn&&(Ze=!0,qt+=`' +
__e(`+hn+`) +
'`),no&&(ut=!0,qt+=`';
`+no+`;
__p += '`),yn&&(qt+=`' +
((__t = (`+yn+`)) == null ? '' : __t) +
'`),Pt=el+Mr.length,Mr}),qt+=`';
`;var Rr=Xr.call(W,"variable")&&W.variable;if(!Rr)qt=`with (obj) {
`+qt+`
}
`;else if(Pe.test(Rr))throw new xr(u);qt=(ut?qt.replace(fr,""):qt).replace(ur,"$1").replace(er,"$1;"),qt="function("+(Rr||"obj")+`) {
`+(Rr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ze?", __e = _.escape":"")+(ut?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+qt+`return __p
}`;var rn=jE(function(){return ln(Me,mr+"return "+qt).apply(e,We)});if(rn.source=qt,a6(rn))throw rn;return rn}function IR(C){return Gn(C).toLowerCase()}function PR(C){return Gn(C).toUpperCase()}function RR(C,W,te){if(C=Gn(C),C&&(te||W===e))return Va(C);if(!C||!(W=Ni(W)))return C;var oe=Sa(C),be=Sa(W),Me=eu(oe,be),We=rc(oe,be)+1;return Tl(oe,Me,We).join("")}function MR(C,W,te){if(C=Gn(C),C&&(te||W===e))return C.slice(0,au(C)+1);if(!C||!(W=Ni(W)))return C;var oe=Sa(C),be=rc(oe,Sa(W))+1;return Tl(oe,0,be).join("")}function OR(C,W,te){if(C=Gn(C),C&&(te||W===e))return C.replace(qe,"");if(!C||!(W=Ni(W)))return C;var oe=Sa(C),be=eu(oe,Sa(W));return Tl(oe,be).join("")}function LR(C,W){var te=O,oe=H;if(Hs(W)){var be="separator"in W?W.separator:be;te="length"in W?en(W.length):te,oe="omission"in W?Ni(W.omission):oe}C=Gn(C);var Me=C.length;if(Ds(C)){var We=Sa(C);Me=We.length}if(te>=Me)return C;var Ze=te-sc(oe);if(Ze<1)return oe;var ut=We?Tl(We,0,Ze).join(""):C.slice(0,Ze);if(be===e)return ut+oe;if(We&&(Ze+=ut.length-Ze),i6(be)){if(C.slice(Ze).search(be)){var Pt,Mt=ut;for(be.global||(be=oc(be.source,Gn(ot.exec(be))+"g")),be.lastIndex=0;Pt=be.exec(Mt);)var qt=Pt.index;ut=ut.slice(0,qt===e?Ze:qt)}}else if(C.indexOf(Ni(be),Ze)!=Ze){var rr=ut.lastIndexOf(be);rr>-1&&(ut=ut.slice(0,rr))}return ut+oe}function FR(C){return C=Gn(C),C&&Wt.test(C)?C.replace(Sr,wi):C}var BR=N0(function(C,W,te){return C+(te?" ":"")+W.toUpperCase()}),c6=IS("toUpperCase");function TE(C,W,te){return C=Gn(C),W=te?e:W,W===e?nc(C)?ac(C):dt(C):C.match(W)||[]}var jE=Qr(function(C,W){try{return wa(C,e,W)}catch(te){return a6(te)?te:new xr(te)}}),UR=kd(function(C,W){return _a(W,function(te){te=fu(te),Qt(C,te,n6(C[te],C))}),C});function HR(C){var W=C==null?0:C.length,te=Pr();return C=W?Rn(C,function(oe){if(typeof oe[1]!="function")throw new ia(o);return[te(oe[0]),oe[1]]}):[],Qr(function(oe){for(var be=-1;++be<W;){var Me=C[be];if(wa(Me[0],this,oe))return wa(Me[1],this,oe)}})}function qR(C){return Cn(Gt(C,p))}function u6(C){return function(){return C}}function WR(C,W){return C==null||C!==C?W:C}var zR=RS(),VR=RS(!0);function To(C){return C}function d6(C){return ip(typeof C=="function"?C:Gt(C,p))}function $R(C){return n2(Gt(C,p))}function GR(C,W){return y0(C,Gt(W,p))}var YR=Qr(function(C,W){return function(te){return xd(te,C,W)}}),KR=Qr(function(C,W){return function(te){return xd(C,te,W)}});function h6(C,W,te){var oe=Ka(W),be=Ys(W,oe);te==null&&!(Hs(W)&&(be.length||!oe.length))&&(te=W,W=C,C=this,be=Ys(W,Ka(W)));var Me=!(Hs(te)&&"chain"in te)||!!te.chain,We=Dd(C);return _a(be,function(Ze){var ut=W[Ze];C[Ze]=ut,We&&(C.prototype[Ze]=function(){var Pt=this.__chain__;if(Me||Pt){var Mt=C(this.__wrapped__),qt=Mt.__actions__=ko(this.__actions__);return qt.push({func:ut,args:arguments,thisArg:C}),Mt.__chain__=Pt,Mt}return ut.apply(C,Ta([this.value()],arguments))})}),C}function XR(){return $n._===this&&($n._=oa),this}function f6(){}function JR(C){return C=en(C),Qr(function(W){return s2(W,C)})}var ZR=z5(Rn),QR=z5(od),eM=z5(me);function IE(C){return J5(C)?tn(fu(C)):o2(C)}function tM(C){return function(W){return C==null?e:Us(C,W)}}var rM=OS(),nM=OS(!0);function p6(){return[]}function m6(){return!1}function sM(){return{}}function aM(){return""}function iM(){return!0}function oM(C,W){if(C=en(C),C<1||C>N)return[];var te=j,oe=Ga(C,j);W=Pr(W),C-=j;for(var be=gs(oe,W);++te<C;)W(te);return be}function lM(C){return Yr(C)?Rn(C,fu):Zo(C)?[C]:ko(ZS(Gn(C)))}function cM(C){var W=++Eo;return Gn(C)+W}var uM=m2(function(C,W){return C+W},0),dM=V5("ceil"),hM=m2(function(C,W){return C/W},1),fM=V5("floor");function pM(C){return C&&C.length?Ss(C,To,Ks):e}function mM(C,W){return C&&C.length?Ss(C,Pr(W,2),Ks):e}function gM(C){return Fr(C,To)}function bM(C,W){return Fr(C,Pr(W,2))}function yM(C){return C&&C.length?Ss(C,To,_d):e}function vM(C,W){return C&&C.length?Ss(C,Pr(W,2),_d):e}var xM=m2(function(C,W){return C*W},1),wM=V5("round"),_M=m2(function(C,W){return C-W},0);function SM(C){return C&&C.length?Os(C,To):0}function EM(C,W){return C&&C.length?Os(C,Pr(W,2)):0}return Te.after=$I,Te.ary=cE,Te.assign=PP,Te.assignIn=SE,Te.assignInWith=C2,Te.assignWith=RP,Te.at=MP,Te.before=uE,Te.bind=n6,Te.bindAll=UR,Te.bindKey=dE,Te.castArray=sP,Te.chain=iE,Te.chunk=fj,Te.compact=pj,Te.concat=mj,Te.cond=HR,Te.conforms=qR,Te.constant=u6,Te.countBy=SI,Te.create=OP,Te.curry=hE,Te.curryRight=fE,Te.debounce=pE,Te.defaults=LP,Te.defaultsDeep=FP,Te.defer=GI,Te.delay=YI,Te.difference=gj,Te.differenceBy=bj,Te.differenceWith=yj,Te.drop=vj,Te.dropRight=xj,Te.dropRightWhile=wj,Te.dropWhile=_j,Te.fill=Sj,Te.filter=NI,Te.flatMap=CI,Te.flatMapDeep=DI,Te.flatMapDepth=TI,Te.flatten=rE,Te.flattenDeep=Ej,Te.flattenDepth=Nj,Te.flip=KI,Te.flow=zR,Te.flowRight=VR,Te.fromPairs=Aj,Te.functions=VP,Te.functionsIn=$P,Te.groupBy=jI,Te.initial=Cj,Te.intersection=Dj,Te.intersectionBy=Tj,Te.intersectionWith=jj,Te.invert=YP,Te.invertBy=KP,Te.invokeMap=PI,Te.iteratee=d6,Te.keyBy=RI,Te.keys=Ka,Te.keysIn=Do,Te.map=_2,Te.mapKeys=JP,Te.mapValues=ZP,Te.matches=$R,Te.matchesProperty=GR,Te.memoize=E2,Te.merge=QP,Te.mergeWith=EE,Te.method=YR,Te.methodOf=KR,Te.mixin=h6,Te.negate=N2,Te.nthArg=JR,Te.omit=eR,Te.omitBy=tR,Te.once=XI,Te.orderBy=MI,Te.over=ZR,Te.overArgs=JI,Te.overEvery=QR,Te.overSome=eM,Te.partial=s6,Te.partialRight=mE,Te.partition=OI,Te.pick=rR,Te.pickBy=NE,Te.property=IE,Te.propertyOf=tM,Te.pull=Mj,Te.pullAll=sE,Te.pullAllBy=Oj,Te.pullAllWith=Lj,Te.pullAt=Fj,Te.range=rM,Te.rangeRight=nM,Te.rearg=ZI,Te.reject=BI,Te.remove=Bj,Te.rest=QI,Te.reverse=t6,Te.sampleSize=HI,Te.set=sR,Te.setWith=aR,Te.shuffle=qI,Te.slice=Uj,Te.sortBy=VI,Te.sortedUniq=Gj,Te.sortedUniqBy=Yj,Te.split=CR,Te.spread=eP,Te.tail=Kj,Te.take=Xj,Te.takeRight=Jj,Te.takeRightWhile=Zj,Te.takeWhile=Qj,Te.tap=pI,Te.throttle=tP,Te.thru=w2,Te.toArray=xE,Te.toPairs=AE,Te.toPairsIn=kE,Te.toPath=lM,Te.toPlainObject=_E,Te.transform=iR,Te.unary=rP,Te.union=eI,Te.unionBy=tI,Te.unionWith=rI,Te.uniq=nI,Te.uniqBy=sI,Te.uniqWith=aI,Te.unset=oR,Te.unzip=r6,Te.unzipWith=aE,Te.update=lR,Te.updateWith=cR,Te.values=C0,Te.valuesIn=uR,Te.without=iI,Te.words=TE,Te.wrap=nP,Te.xor=oI,Te.xorBy=lI,Te.xorWith=cI,Te.zip=uI,Te.zipObject=dI,Te.zipObjectDeep=hI,Te.zipWith=fI,Te.entries=AE,Te.entriesIn=kE,Te.extend=SE,Te.extendWith=C2,h6(Te,Te),Te.add=uM,Te.attempt=jE,Te.camelCase=pR,Te.capitalize=CE,Te.ceil=dM,Te.clamp=dR,Te.clone=aP,Te.cloneDeep=oP,Te.cloneDeepWith=lP,Te.cloneWith=iP,Te.conformsTo=cP,Te.deburr=DE,Te.defaultTo=WR,Te.divide=hM,Te.endsWith=mR,Te.eq=bc,Te.escape=gR,Te.escapeRegExp=bR,Te.every=EI,Te.find=AI,Te.findIndex=eE,Te.findKey=BP,Te.findLast=kI,Te.findLastIndex=tE,Te.findLastKey=UP,Te.floor=fM,Te.forEach=oE,Te.forEachRight=lE,Te.forIn=HP,Te.forInRight=qP,Te.forOwn=WP,Te.forOwnRight=zP,Te.get=o6,Te.gt=uP,Te.gte=dP,Te.has=GP,Te.hasIn=l6,Te.head=nE,Te.identity=To,Te.includes=II,Te.indexOf=kj,Te.inRange=hR,Te.invoke=XP,Te.isArguments=mp,Te.isArray=Yr,Te.isArrayBuffer=hP,Te.isArrayLike=Co,Te.isArrayLikeObject=ca,Te.isBoolean=fP,Te.isBuffer=Hh,Te.isDate=pP,Te.isElement=mP,Te.isEmpty=gP,Te.isEqual=bP,Te.isEqualWith=yP,Te.isError=a6,Te.isFinite=vP,Te.isFunction=Dd,Te.isInteger=gE,Te.isLength=A2,Te.isMap=bE,Te.isMatch=xP,Te.isMatchWith=wP,Te.isNaN=_P,Te.isNative=SP,Te.isNil=NP,Te.isNull=EP,Te.isNumber=yE,Te.isObject=Hs,Te.isObjectLike=Xs,Te.isPlainObject=jg,Te.isRegExp=i6,Te.isSafeInteger=AP,Te.isSet=vE,Te.isString=k2,Te.isSymbol=Zo,Te.isTypedArray=k0,Te.isUndefined=kP,Te.isWeakMap=CP,Te.isWeakSet=DP,Te.join=Ij,Te.kebabCase=yR,Te.last=jl,Te.lastIndexOf=Pj,Te.lowerCase=vR,Te.lowerFirst=xR,Te.lt=TP,Te.lte=jP,Te.max=pM,Te.maxBy=mM,Te.mean=gM,Te.meanBy=bM,Te.min=yM,Te.minBy=vM,Te.stubArray=p6,Te.stubFalse=m6,Te.stubObject=sM,Te.stubString=aM,Te.stubTrue=iM,Te.multiply=xM,Te.nth=Rj,Te.noConflict=XR,Te.noop=f6,Te.now=S2,Te.pad=wR,Te.padEnd=_R,Te.padStart=SR,Te.parseInt=ER,Te.random=fR,Te.reduce=LI,Te.reduceRight=FI,Te.repeat=NR,Te.replace=AR,Te.result=nR,Te.round=wM,Te.runInContext=st,Te.sample=UI,Te.size=WI,Te.snakeCase=kR,Te.some=zI,Te.sortedIndex=Hj,Te.sortedIndexBy=qj,Te.sortedIndexOf=Wj,Te.sortedLastIndex=zj,Te.sortedLastIndexBy=Vj,Te.sortedLastIndexOf=$j,Te.startCase=DR,Te.startsWith=TR,Te.subtract=_M,Te.sum=SM,Te.sumBy=EM,Te.template=jR,Te.times=oM,Te.toFinite=Td,Te.toInteger=en,Te.toLength=wE,Te.toLower=IR,Te.toNumber=Il,Te.toSafeInteger=IP,Te.toString=Gn,Te.toUpper=PR,Te.trim=RR,Te.trimEnd=MR,Te.trimStart=OR,Te.truncate=LR,Te.unescape=FR,Te.uniqueId=cM,Te.upperCase=BR,Te.upperFirst=c6,Te.each=oE,Te.eachRight=lE,Te.first=nE,h6(Te,function(){var C={};return js(Te,function(W,te){Xr.call(Te.prototype,te)||(C[te]=W)}),C}(),{chain:!1}),Te.VERSION=s,_a(["bind","bindKey","curry","curryRight","partial","partialRight"],function(C){Te[C].placeholder=Te}),_a(["drop","take"],function(C,W){on.prototype[C]=function(te){te=te===e?1:la(en(te),0);var oe=this.__filtered__&&!W?new on(this):this.clone();return oe.__filtered__?oe.__takeCount__=Ga(te,oe.__takeCount__):oe.__views__.push({size:Ga(te,j),type:C+(oe.__dir__<0?"Right":"")}),oe},on.prototype[C+"Right"]=function(te){return this.reverse()[C](te).reverse()}}),_a(["filter","map","takeWhile"],function(C,W){var te=W+1,oe=te==F||te==_;on.prototype[C]=function(be){var Me=this.clone();return Me.__iteratees__.push({iteratee:Pr(be,3),type:te}),Me.__filtered__=Me.__filtered__||oe,Me}}),_a(["head","last"],function(C,W){var te="take"+(W?"Right":"");on.prototype[C]=function(){return this[te](1).value()[0]}}),_a(["initial","tail"],function(C,W){var te="drop"+(W?"":"Right");on.prototype[C]=function(){return this.__filtered__?new on(this):this[te](1)}}),on.prototype.compact=function(){return this.filter(To)},on.prototype.find=function(C){return this.filter(C).head()},on.prototype.findLast=function(C){return this.reverse().find(C)},on.prototype.invokeMap=Qr(function(C,W){return typeof C=="function"?new on(this):this.map(function(te){return xd(te,C,W)})}),on.prototype.reject=function(C){return this.filter(N2(Pr(C)))},on.prototype.slice=function(C,W){C=en(C);var te=this;return te.__filtered__&&(C>0||W<0)?new on(te):(C<0?te=te.takeRight(-C):C&&(te=te.drop(C)),W!==e&&(W=en(W),te=W<0?te.dropRight(-W):te.take(W-C)),te)},on.prototype.takeRightWhile=function(C){return this.reverse().takeWhile(C).reverse()},on.prototype.toArray=function(){return this.take(j)},js(on.prototype,function(C,W){var te=/^(?:filter|find|map|reject)|While$/.test(W),oe=/^(?:head|last)$/.test(W),be=Te[oe?"take"+(W=="last"?"Right":""):W],Me=oe||/^find/.test(W);be&&(Te.prototype[W]=function(){var We=this.__wrapped__,Ze=oe?[1]:arguments,ut=We instanceof on,Pt=Ze[0],Mt=ut||Yr(We),qt=function(hn){var yn=be.apply(Te,Ta([hn],Ze));return oe&&rr?yn[0]:yn};Mt&&te&&typeof Pt=="function"&&Pt.length!=1&&(ut=Mt=!1);var rr=this.__chain__,mr=!!this.__actions__.length,Rr=Me&&!rr,rn=ut&&!mr;if(!Me&&Mt){We=rn?We:new on(this);var Mr=C.apply(We,Ze);return Mr.__actions__.push({func:w2,args:[qt],thisArg:e}),new eo(Mr,rr)}return Rr&&rn?C.apply(this,Ze):(Mr=this.thru(qt),Rr?oe?Mr.value()[0]:Mr.value():Mr)})}),_a(["pop","push","shift","sort","splice","unshift"],function(C){var W=Nl[C],te=/^(?:push|sort|unshift)$/.test(C)?"tap":"thru",oe=/^(?:pop|shift)$/.test(C);Te.prototype[C]=function(){var be=arguments;if(oe&&!this.__chain__){var Me=this.value();return W.apply(Yr(Me)?Me:[],be)}return this[te](function(We){return W.apply(Yr(We)?We:[],be)})}}),js(on.prototype,function(C,W){var te=Te[W];if(te){var oe=te.name+"";Xr.call(Fh,oe)||(Fh[oe]=[]),Fh[oe].push({name:W,func:te})}}),Fh[p2(e,x).name]=[{name:"wrapper",func:e}],on.prototype.clone=I5,on.prototype.reverse=h0,on.prototype.value=f0,Te.prototype.at=mI,Te.prototype.chain=gI,Te.prototype.commit=bI,Te.prototype.next=yI,Te.prototype.plant=xI,Te.prototype.reverse=wI,Te.prototype.toJSON=Te.prototype.valueOf=Te.prototype.value=_I,Te.prototype.first=Te.prototype.head,Oh&&(Te.prototype[Oh]=vI),Te},Vo=ic();Sl?((Sl.exports=Vo)._=Vo,Xi._=Vo):$n._=Vo}).call(Ab)})(sw,sw.exports);var Qz=sw.exports;const Ct=({label:n,name:r,type:t="text",options:e=[],register:s,value:a,errors:i,select:o,onChange:u,valueData:c,setValue:l,append:d,isArray:p,control:h,errorValue:f,arrayString:b})=>{var w,S,D,T,R;const[y,g]=ne.useState(a||(p?[]:""));ne.useEffect(()=>{if(a!==void 0){const P=Array.isArray(a)?a:p?[a]:a;g(P)}},[a,p]);const x=(w=Qz.get(i,r))==null?void 0:w.message,v=P=>{const L=P.target.value;if(d){const O=y.includes(L)?y:[...y,L];g(O),l&&l(r,O),u&&u(P)}else g(L),l&&l(r,p?[L]:L),u&&u(P)};return m.jsxs("div",{className:"form-group w-full",children:[m.jsx("label",{className:"block text_size_6",children:n}),t==="selectOption"?m.jsxs("select",{className:"input-field select-custom",...s(r),value:y[y.length-1],onChange:P=>{v(P)},children:[m.jsx("option",{value:"",children:o||" "}),e==null?void 0:e.map((P,L)=>m.jsx("option",{value:P.value,children:P.label},L))]}):t==="select"?m.jsxs("select",{className:"input-field select-custom",...s(r),onChange:v,children:[m.jsx("option",{value:`${c||""}`,children:o}),e==null?void 0:e.map((P,L)=>m.jsx("option",{value:P.value,children:P.label},L))]}):b&&h?m.jsx(os,{name:r,control:h,render:({field:P})=>m.jsx("div",{children:m.jsx("input",{type:"text",className:"input-field border",...P,value:P.value||"",onChange:L=>{const O=L.target.value;P.onChange(p?[O]:O)}})})}):m.jsx("input",{type:t,value:a,className:"input-field border",...s(r)}),y==="other"&&m.jsx("input",{type:"text",className:"input-field border mt-2",placeholder:"Please specify",value:a,...s(`${r}Details`)}),((D=(S=f==null?void 0:f[r])==null?void 0:S[0])==null?void 0:D.message)&&m.jsx("p",{className:"text-[red] text-[12px] pt-2",children:(R=(T=f==null?void 0:f[r])==null?void 0:T[0])==null?void 0:R.message}),x&&m.jsx("p",{className:"text-[red] text-[12px] pt-2",children:x})]})},i5=[{value:"Male",label:"Male"},{value:"Female",label:"Female"}],eV=[{value:"English",label:"English"},{value:"Mandarin",label:"Mandarin"},{value:"Malay",label:"Malay"},{value:"Tamil",label:"Tamil"},{value:"Other",label:"Other"}],jk=[{value:"Malay",label:"Malay"},{value:"Chinese",label:"Chinese"},{value:"Indian",label:"Indian"},{value:"Other",label:"Other"}],Ik=[{value:"Islam",label:"Islam"},{value:"Christian",label:"Christian"},{value:"Hindu",label:"Hindu"},{value:"Buddhist",label:"Buddhist"},{value:"Free Thinker",label:"Free Thinker"},{value:"Not Mentioned",label:"Not Mentioned"}],tV=[{value:"Local",label:"Local"},{value:"Foreigner",label:"Foreigner"}],O8=[{value:"Single",label:"Single"},{value:"Married",label:"Married"},{value:"Widow",label:"Widow"},{value:"Divorce",label:"Divorce"}],o5=[{value:"Bruneian",label:"Bruneian"},{value:"Brunei PR",label:"Brunei PR"},{value:"Malaysian",label:"Malaysian"},{value:"Indonesian",label:"Indonesian"},{value:"Indian",label:"Indian"},{value:"Bangladeshi",label:"Bangladeshi"},{value:"Thai",label:"Thai"},{value:"Sri Lankan",label:"Sri Lankan"},{value:"Filipino",label:"Filipino"},{value:"Other",label:"Other"}],Pk=[{value:"Local",label:"Local"},{value:"LPA",label:"LPA"},{value:"SAWP",label:"SAWP"}],rV=[{value:"Onshore",label:"OnShore"},{value:"Offshore",label:"OffShore"}],nV=[{value:"Brunei",label:"Brunei"},{value:"Malaysia",label:"Malaysia"},{value:"Indonesia",label:"Indonesia"},{value:"India",label:"India"},{value:"Bangladesh",label:"Bangladesh"},{value:"Thailand",label:"Thailand"},{value:"Sri Lanka",label:"Sri Lanka"},{value:"Philippines",label:"Philippines"},{value:"Other",label:"Other"}],Rk=[{value:"Yellow",label:"Yellow"},{value:"Red",label:"Red"},{value:"Green",label:"Green"}],sV=[{value:"Postgraduate",label:"Postgraduate"},{value:"Bachelor or Equivalent",label:"Bachelor or Equivalent"},{value:"Advance Diploma or Equivalant",label:"Advance Diploma or Equivalent"},{value:"Technical/Vocational/Diploma/Certificate",label:"Technical/Vocational/Diploma/Certificate"},{value:"Secondary Education",label:"Secondary Education"},{value:"Primary Education or Below",label:"Primary Education or Below"},{value:"Others",label:"Others"}],aV=[{label:"Brunei IC Loc/Non-Loc",icon:m.jsx(xs,{}),title:"bwnUpload"},{label:"Malaysia IC",icon:m.jsx(xs,{}),title:"myIcUpload"},{label:"Passport Copy",icon:m.jsx(xs,{}),title:"ppUpload"},{label:"CV & Certificates",icon:m.jsx(xs,{}),title:"cvCertifyUpload"},{label:"Application Form",icon:m.jsx(xs,{}),title:"applicationUpload"},{label:"LOI",icon:m.jsx(xs,{}),title:"loiUpload"},{label:"PAAF/CVEV Approval",icon:m.jsx(xs,{}),title:"paafCvevUpload"},{label:"Any Supporting Doc",icon:m.jsx(xs,{}),title:"supportDocUpload"}],iV=[{value:"own",label:"Own"},{value:"company",label:"Company"}],oV=[{value:"Corporate",label:"Corporate"},{value:"Human Resources",label:"Human Resources"},{value:"Accounts",label:"Accounts"},{value:"LBD",label:"LBD"},{value:"Purchasing",label:"Purchasing"},{value:"Offshore",label:"Offshore"},{value:"BLNG",label:"BLNG"},{value:"CPD",label:"CPD"},{value:"E&I",label:"E&I"},{value:"Other",label:"Other"}],lV=[{value:"",label:"Select Category"},{value:"Director",label:"Director"},{value:"Mechanic",label:"Mechanic"},{value:"Manager",label:"Manager"},{value:"Blaster/Painter",label:"Blaster/Painter"},{value:"Coordinator",label:"Coordinator"},{value:"Fitter",label:"Fitter"},{value:"Superintendent",label:"Superintendent"},{value:"Welder",label:"Welder"},{value:"Inspector",label:"Inspector"},{value:"Machinist",label:"Machinist"},{value:"Engineer",label:"Engineer"},{value:"Scaffolder",label:"Scaffolder"},{value:"Supervisor",label:"Supervisor"},{value:"Storekeeper",label:"Storekeeper"},{value:"Safety",label:"Safety"},{value:"Insulation",label:"Insulation"},{value:"Technician",label:"Technician"},{value:"Leadman",label:"Leadman"},{value:"Rigger/Field Support",label:"Rigger/Field Support"},{value:"Clerical",label:"Clerical"},{value:"Helper/Store Assistant",label:"Helper/Store Assistant"},{value:"Electrician",label:"Electrician"},{value:"Driver",label:"Driver"},{value:"Driver/Operator",label:"Driver/Operator"},{value:"Other",label:"Other"}],cV=[{label:"Contract",icon:m.jsx(xs,{}),title:"WIContract"},{label:"Probation",icon:m.jsx(xs,{}),title:"WIProbation"},{label:"Resignation",icon:m.jsx(xs,{}),title:"WIResignation"},{label:"Termination",icon:m.jsx(xs,{}),title:"WITermination"},{label:"Leave Entitlement",icon:m.jsx(xs,{}),title:"WILeaveEntitle"}],uV=()=>{var h,f,b,y;ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const n=Yi();ne.useState(null),(h=Ju().state)==null||h.editingData;const{register:t,handleSubmit:e,setValue:s,watch:a,formState:{errors:i}}=Pn({resolver:Bn(qM),defaultValues:JSON.parse(localStorage.getItem("applicantFormData"))||{}}),[o,u]=ne.useState({profilePhoto:null}),[c,l]=ne.useState(null);ne.useEffect(()=>{const g=JSON.parse(localStorage.getItem("applicantFormData"));g&&Object.keys(g).forEach(x=>s(x,g[x]))},[s]);const d=async g=>{const x=g.target.files[0];x&&(l(x),s("profilePhoto",x),await As(x,"profilePhoto",u,"Employee"))},p=async g=>{try{console.log(g);const x={...g,profilePhoto:o.profilePhoto};localStorage.setItem("applicantFormData",JSON.stringify(x)),n("/addCandidates/personalDetails",{state:{FormData:x}}),u({profilePhoto:null})}catch(x){console.log(x)}};return m.jsx("section",{className:"w-full",children:m.jsxs("form",{className:"",onSubmit:e(p),children:[m.jsxs("div",{className:"flex justify-between items-center flex-wrap",children:[m.jsx("div",{className:"mt-10 mb-5 text_size_6",children:m.jsx(Ct,{label:"Applying for the position of",register:t,name:"position",type:"text",errors:i})}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-center items-center gap-5",children:[m.jsx("input",{type:"radio",id:"offshore",...t("empType"),value:"Offshore"}),m.jsx("label",{htmlFor:"offshore",children:"Offshore"}),m.jsx("input",{type:"radio",id:"onshore",...t("empType"),value:"Onshore"}),m.jsx("label",{htmlFor:"onshore",children:"Onshore"})]}),i.empType&&m.jsx("p",{className:"text-[red] text-[13px] text-center mt-3",children:i.empType.message})]}),m.jsxs("div",{className:"py-2 center flex-col max-w-[160px]",children:[m.jsx("input",{type:"file",id:"fileInput",name:"profilePhoto",accept:".jpg,.jpeg,.png",onChange:d,className:"hidden"}),m.jsxs("div",{className:"h-[120px] max-w-[120px] relative rounded-md bg-lite_skyBlue",children:[m.jsx("img",{src:c?URL.createObjectURL(c):o.profilePhoto?o.profilePhoto:qx,id:"previewImg",alt:"profile",className:"object-cover w-full h-full",onError:g=>g.target.src=qx}),(c||o.profilePhoto)&&m.jsx("div",{className:"absolute top-24 -right-3  bg-lite_grey p-[2px] rounded-full cursor-pointer",onClick:()=>document.getElementById("fileInput").click(),children:m.jsx(iA,{className:"w-6 h-6 p-1"})})]}),!c&&!o.profilePhoto&&m.jsx("div",{className:"mt-1 rounded-lg text-center",children:m.jsx("button",{type:"button",className:"text_size_6",onClick:()=>document.getElementById("fileInput").click(),children:"Choose Image"})}),i.profilePhoto&&m.jsx("p",{className:"text-[red] text-[13px] text-center",children:i.profilePhoto.message})]})]}),m.jsx("div",{className:"grid grid-cols-2 gap-x-12 gap-y-5 mb-4 text_size_6",children:[{label:"Contract Type",name:"contractType",type:"select",options:Pk},{label:"Agent",name:"agent",type:"text"},{label:"Name",name:"name",type:"text"},{label:"Chinese characters (if applicable)",name:"chinese",type:"text"},{label:"Gender",name:"gender",type:"select",options:i5},{label:"Date of Birth",name:"dob",type:"date"},{label:"Age",name:"age",type:"number",min:20,max:99},{label:"Email ID",name:"email",type:"email"},{label:"Marital Status",name:"marital",type:"select",options:O8},{label:"Country of Birth",name:"cob",type:"text"},{label:"Nationality",name:"nationality",type:"select",options:o5},{label:"Other Nationality",name:"otherNation",type:"text",disabled:((f=a("nationality"))==null?void 0:f.toLowerCase())!=="other"},{label:"Race",name:"race",type:"select",options:jk},{label:"Other Race",name:"otherRace",type:"text",disabled:((b=a("race"))==null?void 0:b.toLowerCase())!=="other"},{label:"Religion",name:"religion",type:"select",options:Ik},{label:"Other Religion",name:"otherReligion",type:"text",disabled:((y=a("religion"))==null?void 0:y.toLowerCase())!=="other"}].map((g,x)=>{var v;return m.jsxs("div",{children:[m.jsx("label",{className:"block",children:g.label}),g.type==="select"?m.jsxs("select",{...t(g.name),className:"mt-2 p-2.5 text_size_7 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full",children:[m.jsx("option",{value:""}),(g.options||[]).map((w,S)=>m.jsx("option",{value:w.value,children:w.label},S))]}):m.jsx("input",{...t(g.name),type:g.type,disabled:g.disabled,min:g.min,max:g.max,className:"mt-2 p-2 text_size_7 bg-lite_skyBlue border border-[#dedddd] text-dark_grey   outline-none rounded w-full"}),i[g.name]&&m.jsx("p",{className:"text-[red] text-[13px]",children:(v=i[g.name])==null?void 0:v.message})]},x)})}),m.jsx("div",{className:"flex justify-center my-10 gap-10",children:m.jsx("button",{type:"submit",className:"primary_btn",children:"Next"})})]})})};function dV(n){return Fn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 13.5V4a2 2 0 0 1 2-2h8.5L20 7.5V20a2 2 0 0 1-2 2h-5.5"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"path",attr:{d:"M10.42 12.61a2.1 2.1 0 1 1 2.97 2.97L7.95 21 4 22l.99-3.95 5.43-5.44Z"},child:[]}]})(n)}function Mk(n){return Fn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(n)}function Tf(n){return Fn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"18",height:"18",x:"3",y:"3",rx:"2"},child:[]},{tag:"path",attr:{d:"M8 12h8"},child:[]}]})(n)}function Vu(n){return Fn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"18",height:"18",x:"3",y:"3",rx:"2"},child:[]},{tag:"path",attr:{d:"M8 12h8"},child:[]},{tag:"path",attr:{d:"M12 8v8"},child:[]}]})(n)}kr();const hV=()=>{var S,D;const r=(S=Ju().state)==null?void 0:S.FormData;ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{register:t,handleSubmit:e,control:s,setValue:a,formState:{errors:i}}=Pn({resolver:Bn(WM(r==null?void 0:r.nationality)),defaultValues:{familyDetails:[{}],eduDetails:[{university:"",fromDate:"",toDate:"",degree:""}],workExperience:[{}]}});ne.useEffect(()=>{const T=JSON.parse(localStorage.getItem("personalFormData"));T&&Object.keys(T).forEach(R=>a(R,T[R]))},[a]);const{fields:o,append:u,remove:c}=Af({control:s,name:"familyDetails"}),{fields:l,append:d,remove:p}=Af({control:s,name:"eduDetails"}),{fields:h,append:f,remove:b}=Af({control:s,name:"workExperience"}),y=()=>{u({isNew:!0})},g=()=>{d({isNew:!0})},x=()=>{f({isNew:!0})},v=Yi(),w=T=>{const R={...T,...r};localStorage.setItem("personalFormData",JSON.stringify(R)),console.log(R),v("/addCandidates/educationDetails",{state:{FormData:R}})};return m.jsxs("form",{onSubmit:e(w),className:" mx-auto py-6",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text_size_6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block mb-1",children:"Contact Number"}),m.jsx("input",{type:"text",...t("contactNo"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"}),i.contactNo&&m.jsx("p",{className:"text-[red] text-[12px]",children:i.contactNo.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block mb-1",children:"Alternate Number"}),m.jsx("input",{type:"text",...t("alternateNo"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd]  text-dark_grey outline-none rounded w-full"}),i.alternateNo&&m.jsx("p",{className:"text-[red] text-[12px]",children:i.alternateNo.message})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text_size_6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block mb-1",children:"Present Address"}),m.jsx("input",{type:"text",...t("presentAddress"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"}),i.presentAddress&&m.jsx("p",{className:"text-[red] text-[12px]",children:i.presentAddress.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block mb-1",children:"Permanent Address"}),m.jsx("input",{type:"text",...t("permanentAddress"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"}),m.jsx("p",{className:"text-[red] text-[12px]",children:(D=i.permanentAddress)==null?void 0:D.message})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text_size_6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block mb-1",children:"Driving License Class"}),m.jsx("input",{type:"text",...t("driveLic"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block mb-1",children:"Language Proficiency"}),m.jsxs("select",{...t("lang"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full",children:[m.jsx("option",{value:""}),eV.map((T,R)=>m.jsx("option",{value:T.value,children:T.label},R))]}),i.lang&&m.jsx("p",{className:"text-[red] text-[12px]",children:i.lang.message})]})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4 text_size_6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block mb-1",children:"Brunei I/C No"}),m.jsx("input",{type:"text",...t("bwnIcNo"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"}),i.bwnIcNo&&m.jsx("p",{className:"text-[red] text-[12px]",children:i.bwnIcNo.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block mb-1",children:"Brunei I/C Colour"}),m.jsxs("select",{...t("bwnIcColour"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full",children:[m.jsx("option",{value:""}),Rk.map((T,R)=>m.jsx("option",{value:T.value,children:T.label},R))]}),i.bwnIcColour&&m.jsx("p",{className:"text-[red] text-[12px]",children:i.bwnIcColour.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block mb-1",children:"Brunei I/C Expiry"}),m.jsx("input",{type:"date",...t("bwnIcExpiry"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"}),i.bwnIcExpiry&&m.jsx("p",{className:"text-[red] text-[12px]",children:i.bwnIcExpiry.message})]})]}),m.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4 text_size_6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block mb-1",children:"Passport Number"}),m.jsx("input",{type:"text",...t("ppNo"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"}),i.ppNo&&m.jsx("p",{className:"text-[red] text-[12px] ",children:i.ppNo.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block mb-1",children:"Passport issued date"}),m.jsx("input",{type:"date",...t("ppIssued"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"}),i.ppIssued&&m.jsx("p",{className:"text-[red] text-[12px]",children:i.ppIssued.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block mb-1",children:"Passport Expiry"}),m.jsx("input",{type:"date",...t("ppExpiry"),className:"mt-2 text_size_9 p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"}),i.ppExpiry&&m.jsx("p",{className:"text-[red] text-[12px]",children:i.ppExpiry.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block mb-1",children:"Passport issued destination"}),m.jsx("input",{type:"text",...t("ppDestinate"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"}),i.ppDestinate&&m.jsx("p",{className:"text-[red] text-[12px]",children:i.ppDestinate.message})]})]}),m.jsxs("div",{className:"mb-4 relative text_size_6",children:[m.jsx("label",{className:"block mb-1",children:"Particulars of Immediate Family (Spouse, Children, Parents, Brothers & Sisters)"}),o.map((T,R)=>m.jsxs("div",{className:"grid grid-cols-5 gap-4 mb-2",children:[m.jsx("input",{type:"text",...t(`familyDetails.${R}.name`),placeholder:"Name",className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),m.jsx("input",{type:"text",...t(`familyDetails.${R}.relationship`),placeholder:"Relationship",className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),m.jsx("input",{type:"text",...t(`familyDetails.${R}.age`),placeholder:"Age",className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),m.jsx("input",{type:"text",...t(`familyDetails.${R}.occupation`),placeholder:"Occupation",className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),m.jsx("input",{type:"text",...t(`familyDetails.${R}.placeOfOccupation`),placeholder:"Place of Occupation",className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),T.isNew&&m.jsxs("button",{type:"button",onClick:()=>c(R),className:"absolute top-15 -right-7 text-medium_grey text-[18px]",children:[m.jsx(Tf,{})," "]})]},T.id)),m.jsx("button",{type:"button",onClick:y,className:"absolute top-11 -right-7 text-medium_grey text-[18px]",children:m.jsx(Vu,{})})]}),m.jsxs("div",{className:"mb-4 relative text_size_6",children:[m.jsx("label",{className:"block mb-1",children:"Education Details"}),l.map((T,R)=>m.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-2",children:[m.jsx(os,{name:`eduDetails.${R}.university`,control:s,render:({field:P})=>{var L,O;return m.jsxs("div",{className:"flex flex-col",children:[m.jsx("textarea",{...P,placeholder:"School / University / Professional Institute",className:"resize-none text_size_9 mt-2 p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),((O=(L=i.eduDetails)==null?void 0:L[R])==null?void 0:O.university)&&m.jsx("p",{className:"text-[red] text-xs mt-1",children:i.eduDetails[R].university.message})]})}}),m.jsx(os,{name:`eduDetails.${R}.fromDate`,control:s,render:({field:P})=>{var L,O;return m.jsxs("div",{className:"flex flex-col",children:[m.jsx("textarea",{...P,type:"date",placeholder:"From Date",className:"resize-none mt-2 p-2.5 text_size_9  bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),((O=(L=i.eduDetails)==null?void 0:L[R])==null?void 0:O.fromDate)&&m.jsx("p",{className:"text-[red] text-xs mt-1",children:i.eduDetails[R].fromDate.message})]})}}),m.jsx(os,{name:`eduDetails.${R}.toDate`,control:s,render:({field:P})=>{var L,O;return m.jsxs("div",{className:"flex flex-col",children:[m.jsx("textarea",{...P,type:"date",placeholder:"To Date",className:"resize-none mt-2 p-2.5 text_size_9  bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),((O=(L=i.eduDetails)==null?void 0:L[R])==null?void 0:O.toDate)&&m.jsx("p",{className:"text-[red] text-xs mt-1",children:i.eduDetails[R].toDate.message})]})}}),m.jsx(os,{name:`eduDetails.${R}.degree`,control:s,render:({field:P})=>{var L,O;return m.jsxs("div",{className:"flex flex-col",children:[m.jsx("textarea",{...P,placeholder:"Highest Standard / Passed / Certificate / Degree / Professional Qualification",className:"resize-none mt-2 p-2.5  bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded text_size_9"}),((O=(L=i.eduDetails)==null?void 0:L[R])==null?void 0:O.degree)&&m.jsx("p",{className:"text-[red] text-xs mt-1",children:i.eduDetails[R].degree.message})]})}}),T.isNew&&m.jsxs("button",{type:"button",onClick:()=>p(R),className:"absolute top-15 -right-7 text-medium_grey text-[18px]",children:[m.jsx(Tf,{})," "]})]},T.id)),m.jsx("button",{type:"button",onClick:g,className:"absolute top-12 -right-7 text-medium_grey text-[18px]",children:m.jsx(Vu,{})})]}),m.jsxs("div",{className:"mb-4 relative text_size_6",children:[m.jsx("label",{className:"block mb-1",children:"Previous Employment Including Temporary Work"}),h.map((T,R)=>m.jsxs("div",{className:"grid grid-cols-6 gap-4 mb-2",children:[m.jsx("input",{type:"text",...t(`workExperience.${R}.name`),placeholder:"Name and Address",className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),m.jsx("input",{type:"text",...t(`workExperience.${R}.position`),placeholder:"Position Held",className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),m.jsx("input",{type:"date",...t(`workExperience.${R}.from`),placeholder:"From",className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),m.jsx("input",{type:"date",...t(`workExperience.${R}.to`),placeholder:"To",className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),m.jsx("input",{type:"text",...t(`workExperience.${R}.salary`),placeholder:"Salary",className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),m.jsx("input",{type:"text",...t(`workExperience.${R}.reasonForLeaving`),placeholder:"Reason for Leaving",className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),T.isNew&&m.jsxs("button",{type:"button",onClick:()=>b(R),className:"absolute top-15 -right-7 text-medium_grey text-[18px]",children:[m.jsx(Tf,{})," "]})]},T.id)),m.jsx("button",{type:"button",onClick:x,className:"absolute top-11 -right-7 text-medium_grey text-[18px]",children:m.jsx(Vu,{})})]}),m.jsx("div",{className:"flex justify-center mt-12 gap-10",children:m.jsx("button",{type:"submit",className:"primary_btn",children:"Next"})})]})};kr();const fV=()=>{var w;const r=(w=Ju().state)==null?void 0:w.FormData;ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{handleSubmit:t,control:e,formState:{errors:s},watch:a}=Pn({resolver:Bn(zM),defaultValues:{referees:[{name:"",address:"",telephone:"",profession:""}],relatives:[{name:"",positionHeld:"",relationship:""}],emgDetails:[{name:"",relationship:"",address:"",phoneNumber:"",bloodGroup:""}],disease:"no",liquor:"no",crime:"no",diseaseDesc:"",liquorDesc:"",crimeDesc:""}}),i=Yi(),{fields:o,append:u,remove:c}=Af({control:e,name:"emgDetails"}),{fields:l,append:d,remove:p}=Af({control:e,name:"referees"}),{fields:h,append:f,remove:b}=Af({control:e,name:"relatives"}),y=()=>{u({name:"",relationship:"",address:"",phoneNumber:"",bloodGroup:"",isNew:!0})},g=()=>{d({name:"",address:"",telephone:"",profession:"",isNew:!0})},x=()=>{f({name:"",positionHeld:"",relationship:"",isNew:!0})},v=S=>{console.log(S);const D={...S,...r};console.log(D),i("/addCandidates/otherDetails",{state:{FormData:D}})};return m.jsxs("form",{onSubmit:t(v),className:"",children:[m.jsxs("div",{className:"relative mt-10",children:[m.jsxs("label",{className:"text_size_6 mb-3",children:["Characters Referees"," ",m.jsx("span",{className:"text-[#838383]",children:"(Names of relatives should not be given)"})]}),l.map((S,D)=>m.jsxs("div",{className:"flex gap-2 mb-7",children:[m.jsx(os,{name:`referees.${D}.name`,control:e,render:({field:T})=>m.jsx("input",{...T,placeholder:"Name",className:"mt-2  text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"})}),m.jsx(os,{name:`referees.${D}.address`,control:e,render:({field:T})=>m.jsx("input",{...T,placeholder:"Address",className:"mt-2  text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"})}),m.jsx(os,{name:`referees.${D}.telephone`,control:e,render:({field:T})=>m.jsx("input",{...T,placeholder:"Telephone",className:"mt-2 text_size_7 w-[150px] p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"})}),m.jsx(os,{name:`referees.${D}.profession`,control:e,render:({field:T})=>m.jsx("input",{...T,placeholder:"Profession",className:"mt-2 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"})}),S.isNew&&m.jsx("button",{type:"button",onClick:()=>p(D),className:"absolute top-15 -right-7 text-medium_grey text-[18px]",children:m.jsx(Tf,{})})]},S.id)),m.jsx("button",{type:"button",onClick:g,className:"absolute top-11 -right-7 text-medium_grey text-[18px]",children:m.jsx(Vu,{})})]}),m.jsxs("div",{className:"relative",children:[m.jsx("label",{className:"text_size_6 mb-3",children:"Relatives Employed by the company"}),h.map((S,D)=>m.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-7",children:[m.jsx(os,{name:`relatives.${D}.name`,control:e,render:({field:T})=>m.jsx("input",{...T,placeholder:"Name",className:"mt-2  text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"})}),m.jsx(os,{name:`relatives.${D}.positionHeld`,control:e,render:({field:T})=>m.jsx("input",{...T,placeholder:"Position Held",className:"mt-2  text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"})}),m.jsx(os,{name:`relatives.${D}.relationship`,control:e,render:({field:T})=>m.jsx("input",{...T,placeholder:"Relationship",className:"mt-2  text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"})}),S.isNew&&m.jsxs("button",{type:"button",onClick:()=>b(D),className:"absolute top-15 -right-7 text-medium_grey text-[18px]",children:[m.jsx(Tf,{})," "]})]},S.id)),m.jsx("button",{type:"button",onClick:x,className:"absolute top-11 -right-7 text-medium_grey text-[18px]",children:m.jsx(Vu,{})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_6 mb-3",children:"Brief Description of Present Duties"}),m.jsx(os,{name:"description",control:e,render:({field:S})=>m.jsx("textarea",{...S,className:"resize-none mt-2 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full",rows:"3"})})]}),m.jsxs("div",{className:"mb-4 relative text_size_6",children:[m.jsx("label",{className:"block mb-1",children:"In Case of Accident / Emergency"}),o.map((S,D)=>m.jsxs("div",{className:"grid grid-cols-5 gap-3 mb-2",children:[m.jsx(os,{name:`emgDetails.${D}.name`,control:e,render:({field:T})=>{var R,P;return m.jsxs("div",{className:"flex flex-col",children:[m.jsx("input",{...T,placeholder:"Name of Person notify",className:"resize-none text_size_9 mt-2   p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),((P=(R=s.emgDetails)==null?void 0:R[D])==null?void 0:P.name)&&m.jsx("p",{className:"text-[red] text-xs mt-1",children:s.emgDetails[D].name.message})]})}}),m.jsx(os,{name:`emgDetails.${D}.relationship`,control:e,render:({field:T})=>{var R,P;return m.jsxs("div",{className:"flex flex-col",children:[m.jsx("input",{...T,placeholder:"Relationship",className:"mt-2 p-2.5 text_size_9  bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),((P=(R=s.emgDetails)==null?void 0:R[D])==null?void 0:P.relationship)&&m.jsx("p",{className:"text-[red] text-xs mt-1",children:s.emgDetails[D].relationship.message})]})}}),m.jsx(os,{name:`emgDetails.${D}.address`,control:e,render:({field:T})=>{var R,P;return m.jsxs("div",{className:"flex flex-col",children:[m.jsx("input",{...T,placeholder:"Address",className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),((P=(R=s.emgDetails)==null?void 0:R[D])==null?void 0:P.address)&&m.jsx("p",{className:"text-[red] text-xs mt-1",children:s.emgDetails[D].address.message})]})}}),m.jsx(os,{name:`emgDetails.${D}.phoneNumber`,control:e,render:({field:T})=>{var R,P;return m.jsxs("div",{className:"flex flex-col",children:[m.jsx("input",{...T,placeholder:"Contant Number",className:" mt-2 p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded text_size_9"}),((P=(R=s.emgDetails)==null?void 0:R[D])==null?void 0:P.phoneNumber)&&m.jsx("p",{className:"text-[red] text-xs mt-1",children:s.emgDetails[D].phoneNumber.message})]})}}),m.jsx(os,{name:`emgDetails.${D}.bloodGroup`,control:e,render:({field:T})=>{var R,P;return m.jsxs("div",{className:"flex flex-col",children:[m.jsx("input",{...T,placeholder:"Blood Group",className:" mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded"}),((P=(R=s.emgDetails)==null?void 0:R[D])==null?void 0:P.bloodGroup)&&m.jsx("p",{className:"text-[red] text-xs mt-1",children:s.emgDetails[D].bloodGroup.message})]})}}),S.isNew&&m.jsxs("button",{type:"button",onClick:()=>c(D),className:"absolute top-15 -right-7 text-medium_grey text-[18px]",children:[m.jsx(Tf,{})," "]})]},S.id)),m.jsx("button",{type:"button",onClick:y,className:"absolute top-11 -right-7 text-medium_grey text-[18px]",children:m.jsx(Vu,{})})]}),[{field:"disease",label:"Have you ever suffered from any disease or received treatment?"},{field:"liquor",label:"Were you ever an alcoholic or substance abuser?"},{field:"crime",label:"Have you ever been convicted of a crime?"}].map((S,D)=>{var T;return m.jsxs("div",{className:"grid grid-cols-1 gap-4 text_size_6 mt-5",children:[m.jsx("div",{children:m.jsx("label",{htmlFor:S.field,className:"text_size_6 mb-2",children:S.label})}),m.jsxs("div",{className:"flex justify-between items-center mb-5",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"flex items-center gap-2",children:m.jsx(os,{name:S.field,control:e,defaultValue:"no",render:({field:R})=>m.jsxs(m.Fragment,{children:[m.jsx("input",{type:"radio",id:`${S.field}_yes`,...R,value:"yes",name:`${S.field}`,className:"border p-2.5 rounded"}),m.jsx("label",{htmlFor:`${S.field}_yes`,children:"Yes"})]})})}),m.jsx("div",{className:"flex items-center gap-2",children:m.jsx(os,{name:S.field,control:e,defaultValue:"no",render:({field:R})=>m.jsxs(m.Fragment,{children:[m.jsx("input",{type:"radio",id:`${S.field}_no`,...R,value:"no",name:`${S.field}`,defaultChecked:!0,className:"border p-2.5 rounded"}),m.jsx("label",{htmlFor:`${S.field}_no`,children:"No"})]})})})]}),m.jsxs("div",{className:"items-center",children:[m.jsx("label",{htmlFor:`${S.field}Desc`,className:"text_size_7 mr-5 text-[#C7C7C7]",children:"If yes, please provide details"}),m.jsx(os,{name:`${S.field}Desc`,control:e,defaultValue:"",render:({field:R})=>m.jsx("input",{id:`${S.field}Desc`,...R,className:`w-[450px] mt-2 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded ${s[`${S.field}Desc`]?"border-red-500":""}`,disabled:a(S.field)!=="yes"})}),s[`${S.field}Desc`]&&m.jsx("p",{className:"text-[red] text-xs mt-4",children:(T=s[`${S.field}Desc`])==null?void 0:T.message})]})]})]},D)}),m.jsx("div",{className:"flex justify-center my-7 gap-10",children:m.jsx("button",{type:"submit",className:"primary_btn",children:"Next"})})]})},pV=()=>{const n=kr();return{submitODFunc:ne.useCallback(async({reqValue:t,latestTempIDData:e})=>{if(!t||!e)throw new Error("Missing required parameters");const{crime:s,crimeDesc:a,emgDetails:i,noExperience:o,empStatement:u,desc:c,disease:l,diseaseDesc:d,liquor:p,liquorDesc:h,noticePeriod:f,perIS:b,perIDesc:y,referees:g,relatives:x,salaryExpectation:v,supportInfo:w,age:S,alternateNo:D,agent:T,bwnIcNo:R,bwnIcExpiry:P,bwnIcColour:L,contactNo:O,cob:H,contractType:U,chinese:I,dob:F,driveLic:A,email:_,empType:E,eduDetails:N,familyDetails:k,gender:B,lang:j,marital:M,name:G,nationality:Y,otherNation:J,otherRace:V,otherReligion:Q,ppNo:q,ppIssued:z,ppExpiry:Z,ppDestinate:re,presentAddress:le,permanentAddress:ue,profilePhoto:ce,position:ie,race:ye,religion:he,workExperience:pe,uploadResume:xe,uploadCertificate:Oe,uploadPp:Ae,status:Le}=t,He={tempID:e,crime:s,crimeDesc:a,emgDetails:i,noExperience:o,empStatement:u,desc:c,disease:l,diseaseDesc:d,liquor:p,liquorDesc:h,noticePeriod:f,perIS:b,perIDesc:y,referees:g,relatives:x,salaryExpectation:v,supportInfo:w,uploadResume:xe,uploadCertificate:Oe,uploadPp:Ae},Ye={tempID:e,age:S,alternateNo:D,agent:T,bwnIcNo:R,bwnIcExpiry:P,bwnIcColour:L,contactNo:O,cob:H,contractType:U,chinese:I,dob:F,driveLic:A,email:_,empType:E,eduDetails:N,familyDetails:k,gender:B,lang:j,marital:M,name:G,nationality:Y,otherNation:J,otherRace:V,otherReligion:Q,ppNo:q,ppIssued:z,ppExpiry:Z,ppDestinate:re,presentAddress:le,permanentAddress:ue,profilePhoto:ce,position:ie,race:ye,religion:he,status:Le,workExperience:pe};try{await Promise.all([n.graphql({query:GW,variables:{input:Ye}}),n.graphql({query:$W,variables:{input:He}})]),localStorage.removeItem("applicantFormData"),localStorage.removeItem("personalFormData")}catch(it){throw console.error("Error executing GraphQL requests:",it),it}},[])}},mV=kr(),gV=()=>{var S,D,T,R,P;const{submitODFunc:n}=pV(),[r,t]=ne.useState(!1),s=(S=Ju().state)==null?void 0:S.FormData,[a,i]=ne.useState(""),[o,u]=ne.useState({uploadResume:null,uploadCertificate:null,uploadPp:null}),[c,l]=ne.useState({uploadResume:null,uploadCertificate:null,uploadPassport:null}),{register:d,control:p,watch:h,handleSubmit:f,setValue:b,formState:{errors:y}}=Pn({resolver:Bn(VM),defaultValues:{perIS:"no",perIDesc:""}}),g=async(L,O)=>{const H=L.target.files[0];b(O,H);const U=s==null?void 0:s.name;H&&(O==="uploadResume"?(await As(H,"uploadResume",l,U),u(I=>({...I,uploadResume:H.name}))):O==="uploadCertificate"?(await As(H,"uploadCertificate",l,U),u(I=>({...I,uploadCertificate:H.name}))):O==="uploadPp"&&(await As(H,"uploadPassport",l,U),u(I=>({...I,uploadPp:H.name}))))},x=async()=>{var L,O;try{const H=await mV.graphql({query:tA});return(((O=(L=H==null?void 0:H.data)==null?void 0:L.listPersonalDetails)==null?void 0:O.items)||[]).length}catch(H){return console.error("Error fetching total count:",H),0}},v=L=>{const O=L+1;return`TEMP${String(O).padStart(3,"0")}`};ne.useEffect(()=>{(async()=>{const O=await x(),H=v(O);i(H)})()},[]);const w=async L=>{try{const O={...L,...s,eduDetails:JSON.stringify(L.eduDetails),familyDetails:JSON.stringify(L.familyDetails),workExperience:JSON.stringify(L.workExperience),emgDetails:JSON.stringify(L.emgDetails),referees:JSON.stringify(L.referees),relatives:JSON.stringify(L.relatives),uploadResume:c.uploadResume,uploadCertificate:c.uploadCertificate,uploadPp:c.uploadPassport,status:"Acitve"};await n({reqValue:O,latestTempIDData:a}),t(!0)}catch(O){console.log(O),console.error("Error submitting data to AWS:",JSON.stringify(O,null,2))}};return m.jsxs("form",{onSubmit:f(w),className:"pt-5",children:[m.jsxs("div",{className:" grid grid-cols-2 gap-5",children:[m.jsx("div",{className:"mb-4",children:m.jsx(Ct,{label:"Number of Years Experience in Applied Position",register:d,name:"noExperience",type:"text",errors:y})}),m.jsx("div",{className:"mb-4",children:m.jsx(Ct,{label:"Salary Expected",register:d,name:"salaryExpectation",type:"text",errors:y})})]}),m.jsx("div",{className:"mb-4",children:m.jsx(Ct,{label:"  Termination Notice for Present job (month/Date)",register:d,name:"noticePeriod",type:"text",errors:y})}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"text_size_6",children:"Have you been interviewed for a position at this company before?"}),m.jsxs("div",{className:"flex justify-between items-center mt-2 mb-4",children:[m.jsxs("div",{children:[m.jsx(os,{name:"perIS",control:p,defaultValue:"no",render:({field:L})=>m.jsxs(m.Fragment,{children:[m.jsx("input",{type:"radio",id:"yes",...L,value:"yes",className:"mr-2 p-3"}),m.jsx("label",{htmlFor:"yes",className:"mr-4 text_size_6",children:"Yes"}),m.jsx("input",{type:"radio",id:"no",...L,value:"no",className:"mr-2 p-3",defaultChecked:!0}),m.jsx("label",{htmlFor:"no",className:"text_size_6",children:"No"})]})}),y.perIS&&m.jsx("p",{className:"text-[red] text-xs mt-1",children:y.perIS.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"w-[350px] text_size_7",children:"If yes, please give Details"}),m.jsx(os,{name:"perIDesc",control:p,defaultValue:"",render:({field:L})=>m.jsx("input",{...L,disabled:h("perIS")!=="yes",className:`mt-2 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full ${y.perIDesc?"border-[red]":""}`})}),y.perIDesc&&m.jsx("p",{className:"text-[red] text-xs mt-4",children:y.perIDesc.message})]})]})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"text_size_6 mb-2",children:"Any other information you wish to provide?"}),m.jsx("textarea",{...d("supportInfo"),className:"resize-none mt-2 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full",rows:"4"})]}),m.jsxs("div",{className:"my-5 ",children:[m.jsx("label",{className:"text_size_6",children:"Choose file"}),m.jsxs("div",{className:"flex items-center justify-between mt-3 mb-10 gap-5",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"flex items-center px-3 py-2 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] rounded-md cursor-pointer",children:["Upload Resume",m.jsx("input",{type:"file",...d("uploadResume"),onChange:L=>g(L,"uploadResume"),className:"hidden",accept:"application/pdf, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),m.jsx("span",{className:"ml-2",children:m.jsx(xs,{})})]}),o.uploadResume?m.jsxs("p",{className:"text-xs mt-1 text-grey",children:["Uploaded: ",o.uploadResume]}):m.jsx("p",{className:"text-[red] text-xs mt-1",children:(D=y==null?void 0:y.uploadResume)==null?void 0:D.message})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"flex items-center px-3 py-2 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] rounded-md cursor-pointer",children:["Qualification Certificate",m.jsx("input",{type:"file",...d("uploadCertificate"),onChange:L=>g(L,"uploadCertificate"),className:"hidden",accept:"application/pdf, image/png, image/jpeg"}),m.jsx("span",{className:"ml-2",children:m.jsx(xs,{})})]}),o.uploadCertificate?m.jsxs("p",{className:"text-xs mt-1 text-grey",children:["Uploaded: ",o.uploadCertificate]}):m.jsx("p",{className:"text-[red] text-xs mt-1",children:(T=y==null?void 0:y.uploadCertificate)==null?void 0:T.message})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"flex items-center px-3 py-2 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] rounded-md cursor-pointer",children:["Upload IC / Passport",m.jsx("input",{type:"file",...d("uploadPp"),onChange:L=>g(L,"uploadPp"),className:"hidden",accept:"application/pdf, image/png, image/jpeg"}),m.jsx("span",{className:"ml-2",children:m.jsx(xs,{})})]}),o.uploadPp?m.jsxs("p",{className:"text-xs mt-1 text-grey",children:["Uploaded: ",o.uploadPp]}):m.jsx("p",{className:"text-[red] text-xs mt-1",children:(R=y==null?void 0:y.uploadPp)==null?void 0:R.message})]})]})]}),m.jsxs("div",{className:"flex items-start mb-4",children:[m.jsx("input",{type:"checkbox",id:"employeeStatement",...d("empStatement",{required:"This field is required"}),className:"w-5 h-5 border-medium_grey rounded"}),m.jsx("label",{htmlFor:"empStatement",className:"ml-2 text-gray-700",children:"I Hereby Declare that every statement made by me in this form is true and correct and I understand and agree that any false declaration made by me may be ground for termination of my contract of employment without notice."})]}),y.empStatement&&m.jsx("p",{className:"text-[red] text-sm",children:(P=y==null?void 0:y.empStatement)==null?void 0:P.message}),m.jsx("div",{className:"text-center my-10",children:m.jsx("button",{type:"submit",className:"primary_btn",children:"Submit"})}),r&&m.jsx(na,{text:"Your Application Submitted Successfully",notification:r,path:"/recrutiles/candidate"})]})},bV=()=>{const n=Yi(),r=Ju(),[t,e]=ne.useState("");ne.useEffect(()=>{r.pathname.includes("applyemployreq")?e("Apply Employee Requisition"):r.pathname.includes("employreq")?e("Employee Requisition"):r.pathname.includes("candidate")?e("Candidate"):r.pathname.includes("localcandi")?e("Local CV"):r.pathname.includes("nonloccandi")?e("Non Local CV"):r.pathname.includes("status")?e("Status"):r.pathname.includes("workpasstracking")&&e("WorkPass Tracking")},[r.pathname]);const s=(a,i)=>{e(a),n(i)};return m.jsxs("section",{className:"h-full bg-[#F5F6F1]",children:[m.jsx("div",{className:"flex flex-wrap justify-center sm:justify-evenly items-center gap-4 py-10 text-black",children:ak.map((a,i)=>m.jsxs("div",{onClick:()=>s(a.title,a.path),className:`${a.bg} rounded-3xl w-[10rem] sm:w-[11.1rem] h-40 p-4 cursor-pointer ${t===a.title?"border-4 bg-white border-[#faf362]":""}`,children:[m.jsx("div",{className:`${a.bg1} rounded-full my-4 w-16 h-16 flex justify-center items-center m-auto`,children:m.jsx("img",{className:"w-[2.2rem] h-9 object-cover",src:a.icons,alt:`${i} Icon not found`})}),m.jsx("h5",{className:"text-[14px] font-semibold text-center",children:a.title})]},i))}),m.jsx(_v,{})]})},yV="data:image/svg+xml,%3csvg%20width='86'%20height='88'%20viewBox='0%200%2086%2088'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M29.0861%2060.643C29.8672%2060.643%2030.5218%2060.3716%2031.0497%2059.829C31.5753%2059.2887%2031.8381%2058.6177%2031.8381%2057.816C31.8381%2057.0142%2031.5729%2056.3444%2031.0426%2055.8066C30.5122%2055.2688%2029.8565%2055%2029.0753%2055C28.2942%2055%2027.6396%2055.2713%2027.1117%2055.814C26.5837%2056.3566%2026.3209%2057.0276%2026.3233%2057.827C26.3257%2058.6263%2026.5909%2059.2948%2027.1188%2059.8326C27.6468%2060.3704%2028.3025%2060.643%2029.0861%2060.643ZM29.0861%2046.8196C29.8672%2046.8196%2030.5218%2046.5495%2031.0497%2046.0093C31.5753%2045.4666%2031.8381%2044.7944%2031.8381%2043.9926C31.8381%2043.1908%2031.5729%2042.5223%2031.0426%2041.987C30.5122%2041.4516%2029.8565%2041.1827%2029.0753%2041.1803C28.2942%2041.1778%2027.6396%2041.448%2027.1117%2041.9906C26.5837%2042.5333%2026.3209%2043.2055%2026.3233%2044.0073C26.3257%2044.8091%2026.5909%2045.4776%2027.1188%2046.013C27.6468%2046.5483%2028.3025%2046.8172%2029.0861%2046.8196ZM29.0861%2033C29.8672%2033%2030.5218%2032.7298%2031.0497%2032.1896C31.5753%2031.647%2031.8381%2030.9747%2031.8381%2030.173C31.8381%2029.3712%2031.5729%2028.7026%2031.0426%2028.1673C30.5122%2027.632%2029.8565%2027.3631%2029.0753%2027.3606C28.2942%2027.3582%2027.6396%2027.6283%2027.1117%2028.171C26.5861%2028.7136%2026.3233%2029.3846%2026.3233%2030.184C26.3233%2030.9833%2026.5885%2031.6531%2027.1188%2032.1933C27.6492%2032.7335%2028.3049%2033.0024%2029.0861%2033ZM40.1048%2059.6566H59.4011V55.99H40.1048V59.6566ZM40.1048%2045.8333H59.4011V42.1666H40.1048V45.8333ZM40.1048%2032.01H59.4011V28.3433H40.1048V32.01ZM20.1242%2073.3333C18.4734%2073.3333%2017.0962%2072.7686%2015.9926%2071.6393C14.8889%2070.51%2014.3359%2069.0995%2014.3335%2067.408V20.592C14.3335%2018.9028%2014.8865%2017.4936%2015.9926%2016.3643C17.0986%2015.235%2018.4758%2014.6691%2020.1242%2014.6666H65.8797C67.5281%2014.6666%2068.9053%2015.2325%2070.0113%2016.3643C71.1174%2017.4961%2071.6692%2018.9053%2071.6668%2020.592V67.4116C71.6668%2069.0983%2071.115%2070.5075%2070.0113%2071.6393C68.9077%2072.7711%2067.5293%2073.3357%2065.8762%2073.3333H20.1242ZM20.1242%2069.6666H65.8797C66.4292%2069.6666%2066.9344%2069.432%2067.3955%2068.9626C67.8566%2068.4933%2068.0859%2067.9751%2068.0835%2067.408V20.592C68.0835%2020.0273%2067.8542%2019.5091%2067.3955%2019.0373C66.9368%2018.5655%2066.4304%2018.3308%2065.8762%2018.3333H20.1242C19.5723%2018.3333%2019.0659%2018.568%2018.6048%2019.0373C18.1438%2019.5066%2017.9144%2020.0248%2017.9168%2020.592V67.4116C17.9168%2067.9738%2018.1462%2068.4908%2018.6048%2068.9626C19.0635%2069.4344%2019.5687%2069.6691%2020.1206%2069.6666'%20fill='%230D4B8F'/%3e%3c/svg%3e",vV="/assets/add-candidate-kBJp-1Eg.svg",xV=()=>{const n=Yi();return m.jsxs("section",{className:"min-h-screen bg-[#F5F6F1]",children:[m.jsxs("div",{className:"center gap-20 m-20 text-black",children:[m.jsxs("div",{onClick:()=>n("/recrutiles/listofcandi"),className:"border-1 shadow-[0_1px_4px_1px_rgba(0,0,0,0.2)] bg-white rounded-xl w-64 h-72 p-5 cursor-pointer hover:border-4 hover:border-[#0D4B8F]",children:[m.jsx("div",{className:"bg-[#CDE4FD] rounded-full my-10 w-24 h-24 flex justify-center items-center m-auto",children:m.jsx("img",{className:"w-13 h-16 object-cover",src:yV,alt:"Candidates List Icon"})}),m.jsx("h5",{className:"text-[18px] font-semibold text-center",children:"Candidates List"})]}),m.jsxs("div",{onClick:()=>n("/addCandidates"),className:"border-1 shadow-[0_1px_4px_1px_rgba(0,0,0,0.2)] bg-white rounded-xl w-64 h-72 p-5 cursor-pointer hover:border-4 hover:border-[#0D4B8F]",children:[m.jsx("div",{className:"bg-[#CDE4FD] rounded-full my-10 w-24 h-24 flex justify-center items-center m-auto",children:m.jsx("img",{className:"w-13 h-16 object-cover",src:vV,alt:"Add Candidate Icon"})}),m.jsx("h5",{className:"text-[18px] font-semibold text-center",children:"Add Candidate"})]})]}),m.jsx(_v,{})]})},wV=kr(),_V=()=>{const[n,r]=ne.useState(!1),[t,e]=ne.useState(!1),[s,a]=ne.useState(null);return{createSchedule:async o=>{r(!0),e(!1),a(null);try{const u=await wV.graphql({query:VW,variables:{input:o}});console.log("API Response:",u),e(!0)}catch(u){console.error("Error during API call:",u),a(u)}finally{r(!1)}},isLoading:n,notification:t,error:s}};kr();const SV=({candidate:n,onClose:r,onSave:t})=>{const[e,s]=ne.useState(!1),{register:a,handleSubmit:i,formState:{errors:o}}=Pn({resolver:Bn($M)}),{createSchedule:u,isLoading:c,error:l}=_V(),d=i(async p=>{const h={...p,date:new Date(p.date).toISOString().split("T")[0],tempID:n.tempID,candidateStatus:"pending"};console.log("Formatted Data:",h),await u(h)});return m.jsx("section",{className:"min-h-screen bg-opacity-80 w-full center",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-[400px] overflow-y-auto ",children:[m.jsxs("div",{className:"text-xl relative text-dark_grey text-center font-semibold p-3 rounded-t-lg bg-yellow",children:[m.jsx("p",{children:" Schedule Interview"}),m.jsxs("button",{className:"border absolute right-4 top-3 rounded-full px-2 center",onClick:r,children:[" ",""]})]}),m.jsxs("div",{className:"p-5",children:[m.jsxs("div",{className:"flex flex-row justify-between space-x-8",children:[m.jsxs("div",{className:"mt-2",children:[m.jsx("label",{className:"text-dark_grey text-[14px] font-normal",children:"Date"}),m.jsx("input",{type:"date",name:"date",...a("date"),className:"w-full p-2 shadow-[0_1px_4px_1px_rgba(0,0,0,0.2)] rounded mt-1"}),o.date&&m.jsx("p",{className:"text-[red] mt-1 text-[11px]",children:o.date.message})]}),m.jsxs("div",{className:"mt-2",children:[m.jsx("label",{className:"text-dark_grey text-[14px] font-normal",children:"Time"}),m.jsx("input",{type:"time",name:"time",...a("time"),className:"w-full p-2 shadow-[0_1px_4px_1px_rgba(0,0,0,0.2)] rounded mt-1"}),o.time&&m.jsx("p",{className:"text-[red] mt-1 text-[11px]",children:o.time.message})]})]}),m.jsxs("div",{className:"mt-2",children:[m.jsx("label",{className:"text-dark_grey text-[14px] font-normal",children:"Interview Type"}),m.jsxs("div",{className:"flex items-center mt-2 space-x-11 pl-4",children:[m.jsxs("label",{className:"flex items-center text-[14px] font-normal text-ash",children:[m.jsx("input",{type:"radio",name:"interviewType",value:"Offline",...a("interviewType"),className:"mr-2"}),"Offline"]}),m.jsxs("label",{className:"flex items-center text-[14px] font-normal text-ash",children:[m.jsx("input",{type:"radio",name:"interviewType",value:"Online",...a("interviewType"),className:"mr-2"}),"Online"]})]}),o.interviewType&&m.jsx("p",{className:"text-[red] text-[11px]",children:o.interviewType.message})]}),m.jsxs("div",{className:"mt-2",children:[m.jsx("label",{className:"text-dark_grey text-[14px] font-normal",children:"Venue"}),m.jsx("input",{type:"text",name:"venue",...a("venue"),className:"w-full p-2 shadow-[0_1px_4px_1px_rgba(0,0,0,0.2)] rounded mt-1 outline-none"}),o.venue&&m.jsx("p",{className:"text-[red] mt-1 text-[11px]",children:o.venue.message})]}),m.jsxs("div",{className:"mt-2",children:[m.jsx("label",{className:"text-dark_grey text-[14px] font-normal",children:"Assign Manager"}),m.jsx("input",{type:"text",name:"interviewer",...a("interviewer"),className:"w-full p-2 shadow-[0_1px_4px_1px_rgba(0,0,0,0.2)] rounded mt-1 outline-none"}),o.interviewer&&m.jsx("p",{className:"text-[red] mt-1 text-[11px]",children:o.interviewer.message})]}),m.jsxs("div",{className:"mt-2",children:[m.jsx("label",{className:"text-dark_grey text-[14px] font-normal",children:"Message"}),m.jsx("textarea",{name:"message",...a("message"),className:"w-full p-2 resize-none shadow-[0_1px_4px_1px_rgba(0,0,0,0.2)] rounded mt-1 outline-none"}),o.message&&m.jsx("p",{className:"text-[red]  text-[11px]",children:o.message.message})]}),m.jsx("div",{className:"text-center mt-1 center",children:m.jsx("button",{className:"border-2 border-[#F7EC3D] text-dark_grey font-medium hover:bg-yellow py-1 px-2 rounded w-32",onClick:()=>{d()},children:"Send"})}),e&&m.jsx(na,{text:"Notification Successfully Sent to HRD",notification:e,path:"/recrutiles/listofcandi"})]})]})})},K3=kr(),EV=({candidate:n,onClose:r,showDecisionButtons:t})=>{const{IVSSDetails:e}=ne.useContext(Wn);console.log(e);const[s,a]=ne.useState(!1),[i,o]=ne.useState(!1),{personalDetails:u}=R8(),c=()=>{a(!0)},l=()=>{a(!1)};console.log("hey buddy",u);const d=async h=>{try{if(!Array.isArray(h))throw new Error("dataCandi must be an array.");const b=h.map(y=>e==null?void 0:e.find(g=>y.tempID===(g==null?void 0:g.tempID))).filter(y=>y==null?void 0:y.id);if(b.length===0){console.error("No matching candidates found."),console.log("dataCandi:",h),console.log("IVSSDetails:",e);return}for(const y of b){console.log("Updating candidate with ID:",y.id);const g={id:y.id,candidateStatus:"Rejected"};try{const x=await K3.graphql({query:D_,variables:{input:g}});console.log("Update successful for candidate ID",y.id,":",x),o(!0)}catch(x){console.error("Error updating candidate ID",y.id,":",x)}}r()}catch(f){console.error("Error in handleRejected function:",f)}},p=async h=>{try{if(!Array.isArray(h))throw new Error("dataCandi must be an array.");const b=h.map(y=>e==null?void 0:e.find(g=>y.tempID===(g==null?void 0:g.tempID))).filter(y=>y==null?void 0:y.id);if(b.length===0){console.log(error),console.log("dataCandi:",h),console.log("IVSSDetails:",e);return}for(const y of b){console.log("Updating candidate with ID:",y.id);const g={id:y.id,candidateStatus:"Selected"};try{const x=await K3.graphql({query:D_,variables:{input:g}});console.log("Update successful for candidate ID",y.id,":",x)}catch(x){console.log(error),console.error("Error updating candidate ID",y.id,":",x)}}}catch(f){console.log(error),console.error("Error in handleSelected function:",f)}};return ne.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[]),m.jsxs("section",{children:[m.jsx("div",{className:"fixed top-0 left-0 inset-0 bg-grey bg-opacity-80 center z-[60]",children:m.jsxs("div",{className:"bg-white w-full max-w-[700px] max-h-[90vh] p-6 rounded-lg relative overflow-y-auto",children:[m.jsx("button",{className:"absolute top-2 right-4 w-8 h-8 border rounded-full text-xl",onClick:r,children:""}),m.jsxs("div",{className:"flex items-center gap-20",children:[m.jsx("img",{src:$m,alt:"Logo",className:"max-w-[180px] w-full"}),m.jsx("h2",{className:"text-xl font-bold underline",children:"Employee Application Review"})]}),m.jsxs("div",{className:"mt-6 relative",children:[m.jsx("div",{className:"flex justify-end absolute right-0 top-0 mt-4 mr-4",children:m.jsx("img",{src:n.profilePhoto,alt:`${n.name}'s photo`,className:"w-32 h-36 border-2 border-lite_grey shadow-[0_3px_6px_1px_rgba(0,0,0,0.2)]"})}),[{label:"Applying For",value:n.position},{label:"Name",value:n.name},{label:"Gender",value:n.gender},{label:"Nationality",value:n.nationality},{label:"Experience",value:n.noExperience},{label:"Contract",value:n.contractType},{label:"Type",value:n.empType},{label:"Email",value:n.email},{label:"Contact",value:n.contactNo}].map((h,f)=>m.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[m.jsx("strong",{className:"w-full",children:h.label}),m.jsxs("span",{className:"w-full col-span-2",children:[": ",h.value]})]},f))]}),m.jsxs("div",{className:"flex justify-center mt-6 gap-5",children:[!t&&m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"hover:bg-medium_red hover:border-medium_red border-2 border-yellow px-4 py-1 shadow-xl rounded-lg",onClick:d,children:"Reject"}),m.jsx("button",{className:"hover:bg-[#faf362] border-2 border-yellow px-4 py-1 shadow-xl rounded-lg",onClick:c,children:"Schedule Interview"})]}),t&&m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"hover:bg-medium_red hover:border-medium_red border-2 border-yellow px-4 py-1 shadow-xl rounded-lg",onClick:()=>{d([n])},children:"Rejected"}),m.jsx("button",{className:"hover:bg-[#faf362] border-2 border-yellow px-4 py-1 shadow-xl rounded-lg",onClick:()=>{p([n])},children:"Selected"})]}),i&&m.jsx(na,{text:"Candidate Selected Successfully",notification:i,path:"/employee"})]})]})}),s&&m.jsx("div",{className:"fixed top-0 left-0 inset-0 bg-black bg-opacity-50 w-full z-[70]",children:m.jsx(SV,{candidate:n,onClose:l})})]})},kv=({columns:n,rowClickHandler:r,selectedRows:t,onRowSelect:e,showCheckboxes:s=!0,currentPage:a,selectedTable:i,edited:o,showEditIcon:u,data:c})=>{const[l,d]=ne.useState(t||[]),[p,h]=ne.useState({}),[f,b]=ne.useState(!1),[y,g]=ne.useState(null),x=ne.useRef(null),v=c.filter(P=>P.status!=="Inactive"),w=(P,L,O)=>{h(H=>({...H,[L]:(H==null?void 0:H[L])===O?null:O})),g(P),b(!0)},S=()=>{b(!1)},D=P=>{const L=l.includes(P)?l.filter(O=>O!==P):[...l,P];d(L),e&&e(L)},T=P=>{if(P.target.checked){const L=c.map((O,H)=>H);d(L),e&&e(L)}else d([]),e&&e([])},R={TempID:"tempID",Name:"name",Gender:"gender",Nationality:"nationality",Position:"position",Experience:"noExperience",Email:"email",Contact:"contactNo",Contract:"contractType",Type:"empType",Interviewer:"interviewer","Interview Date":"date",Time:"time",Venue:"venue",Status:"status"};return ne.useEffect(()=>{const P=L=>{x.current&&!x.current.contains(L.target)&&h({})};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[]),v?v.length===0?m.jsx("div",{className:"text-center text-grey py-10",children:"No data available."}):m.jsxs("div",{className:"overflow-x-auto rounded-lg",ref:x,children:[" ",m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-[#939393] text-white",children:m.jsxs("tr",{children:[s&&m.jsx("th",{className:"pl-4 py-4",children:m.jsx("input",{className:"w-6 h-6",type:"checkbox",onClick:P=>P.stopPropagation(),onChange:T,checked:l.length===v.length&&v.length>0})}),m.jsx("th",{className:"pl-4 py-4",children:"S.No"}),n.map((P,L)=>m.jsx("th",{className:"pl-4 py-4",children:P},L)),(a==="status"||a==="workpasstracking")&&m.jsx("th",{})]})}),m.jsx("tbody",{className:"bg-white cursor-pointer",children:v.map((P,L)=>m.jsxs("tr",{className:`shadow-[0_3px_6px_1px_rgba(0,0,0,0.2)] ${s?l.includes(L)?"bg-medium_blue":"":p[i]===L?"bg-medium_blue":""}`,onClick:()=>w(P,i,L),children:[s&&m.jsx("td",{className:"pl-4 py-4",children:m.jsx("input",{className:"w-5 h-6",type:"checkbox",onClick:O=>{O.stopPropagation(),o(P)},checked:l.includes(L),onChange:()=>D(L)})}),m.jsx("td",{className:"pl-4 py-4",children:L+1}),n.map((O,H)=>m.jsx("td",{className:"pl-4 py-4",children:P[R[O]]||"-"},H)),(a==="status"||a==="workpasstracking")&&u&&m.jsx("td",{className:"px-4 py-4 text-[#835c1d]",children:m.jsx(dV,{className:"text-2xl cursor-pointer",onClick:O=>{O.stopPropagation(),o(P)}})})]},L))})]}),f&&y&&m.jsx(EV,{candidate:y,onClose:S,showDecisionButtons:a==="status"})]}):m.jsx("div",{children:"Loading..."})},NV=()=>{const[n,r]=ne.useState(""),[t,e]=ne.useState(!0),[s,a]=ne.useState(!1),[i,o]=ne.useState([]),[u,c]=ne.useState(null),{empPDData:l}=ne.useContext(Wn),d=Yi(),[p,h]=ne.useState([]),f=l.filter(w=>w.nationality==="Bruneian"||w.nationality==="Brunei PR").filter(w=>w.name.toLowerCase().includes(n.toLowerCase())||w.position.toLowerCase().includes(n.toLowerCase())||w.nationality.toLowerCase().includes(n.toLowerCase()));ne.useEffect(()=>{f.length>0?e(!1):(e(!1),a(!0))},[f]);const b=w=>{c(w)},y=w=>{h(w)},g=()=>{f.filter(w=>!i.includes(w.sno)),o([])},x=w=>{o(w)},v=["Name","Gender","Nationality","Position","Experience","Type","Email","Contact"];return m.jsxs("section",{className:"screen-size min-h-screen w-full my-5",children:[m.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[m.jsx("div",{className:"flex-1",children:m.jsx("button",{className:"bg-[#faf362] py-2 px-3 rounded-lg text-[18px] font-semibold",children:"Local CV Candidates"})}),m.jsx("div",{className:" flex-1 flex justify-end ",children:m.jsx(Gf,{newFormData:f,searchHandler:r,emptySearch:()=>console.log("Search cleared!"),searchIcon1:m.jsx(Rs,{}),placeholder:"Search",border:"rounded-full",shadow:"shadow-[0_1px_6px_1px_rgba(0,0,0,0.2)]"})})]}),m.jsxs("div",{className:"flex relative mb-8",children:[m.jsx("div",{className:" absolute top-1/2 right-14 transform -translate-y-1/2 text-2xl hover:text-3xl flex items-center cursor-pointer",onClick:()=>{i.length===1?d("/addCandidates",{state:{editingData:i[0]}}):i.length>1?alert("Please select only one row to edit."):alert("Please select a row before editing.")},disabled:i.length===0,children:m.jsx(E8,{className:"mr-2"})}),m.jsx("div",{className:"absolute top-1/2 right-0 transform -translate-y-1/2 text-3xl hover:text-4xl cursor-pointer text-[#f42232cc] flex items-center",onClick:g,children:m.jsx(d8,{className:"mr-2"})})]}),t?m.jsx("div",{className:"text-center py-10",children:"Loading..."}):s?m.jsx("div",{className:"text-center py-10",children:"No data available."}):m.jsx(kv,{columns:v,rowClickHandler:b,data:f,selectedRows:i,onRowSelect:x,edited:y})]})},AV=()=>{const[n,r]=ne.useState(""),[t,e]=ne.useState(!1),[s,a]=ne.useState(""),[i,o]=ne.useState([]),[u,c]=ne.useState(null),{empPDData:l}=ne.useContext(Wn),d=Yi(),[p,h]=ne.useState([]),[f,b]=ne.useState(!0),[y,g]=ne.useState(!1),x=()=>{e(!t)},v=L=>{c(L)},w=L=>{h(L)},S=()=>{T.filter(L=>!i.includes(L.id)),o([])},D=L=>{o(L)};console.log(l);const T=l.filter(L=>{const O=L.nationality!=="Bruneian"&&L.nationality!=="Brunei PR",H=!s||s==="LPA"&&L.contractType.toLowerCase()==="lpa"||s==="SAWP"&&L.contractType.toLowerCase()==="sawp",U=L.name.toLowerCase().includes(n.toLowerCase())||L.position.toLowerCase().includes(n.toLowerCase())||L.nationality.toLowerCase().includes(n.toLowerCase());return O&&H&&U});ne.useEffect(()=>{T.length>0?(b(!1),g(null)):g("No data available.")},[T]);const R=L=>{a(L==="Show All"?"":L),e(!1)},P=["Name","Gender","Nationality","Position","Experience","Contract","Type","Email","Contact"];return m.jsxs("section",{className:"screen-size min-h-screen w-full my-5",children:[m.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[m.jsxs("div",{className:"relative ",children:[m.jsxs("button",{onClick:x,className:"bg-[#faf362] py-2 px-3 rounded-lg text-[18px] font-semibold flex items-center",children:["Non Local CV Candidates",t?m.jsx(S8,{className:"ml-2"}):m.jsx(_8,{className:"ml-2"})]}),t&&m.jsxs("div",{className:"absolute mt-2 bg-white border-2 border-grey rounded-lg shadow-lg",children:[m.jsx("button",{onClick:()=>R("LPA"),className:"block px-4 py-2 hover:bg-[#f8a595cc] rounded-lg text-left w-full",children:"LPA"}),m.jsx("button",{onClick:()=>R("SAWP"),className:"block px-4 py-2 hover:bg-[#f8a595cc] rounded-lg text-left w-full",children:"SAWP"}),m.jsx("button",{onClick:()=>R("Show All"),className:"block px-4 py-2 hover:bg-[#f8a595cc] rounded-lg text-left w-full",children:"Show All"})]})]}),m.jsx("div",{className:" flex-1 flex justify-end ",children:m.jsx(Gf,{newFormData:T,searchHandler:r,emptySearch:()=>console.log("Search cleared!"),searchIcon1:m.jsx(Rs,{}),placeholder:"Search",border:"rounded-full",shadow:"shadow-[0_1px_6px_1px_rgba(0,0,0,0.2)]"})})]}),m.jsxs("div",{className:"flex relative mb-8 ",children:[m.jsx("div",{className:" absolute top-1/2 right-14 transform -translate-y-1/2 text-2xl hover:text-3xl flex items-center cursor-pointer",onClick:()=>{i.length===1?d("/addCandidates",{state:{editingData:i[0]}}):i.length>1?alert("Please select only one row to edit."):alert("Please select a row before editing.")},disabled:i.length===0,children:m.jsx(E8,{className:"mr-2"})}),m.jsx("div",{className:"absolute top-1/2 right-0 transform -translate-y-1/2 text-3xl hover:text-4xl cursor-pointer text-[#f42232cc] flex items-center",onClick:S,children:m.jsx(d8,{className:"mr-2"})})]}),s&&m.jsx("div",{className:"mb-3 text-[18px] w-20 py-1 text-center rounded-lg font-bold bg-medium_red",children:s}),f?m.jsx("div",{className:"text-center py-10",children:"Loading..."}):y?m.jsx("div",{className:"text-center py-10",children:y}):m.jsx(kv,{columns:P,rowClickHandler:v,data:T,selectedRows:i,onRowSelect:D,edited:w})]})},kV=()=>{ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const[n,r]=ne.useState("applicantDetails"),t=Yi(),e=Ju(),s=()=>{switch(n){case"applicantDetails":t("/addCandidates/personalDetails"),r("personalDetails");break;case"personalDetails":t("/addCandidates/educationDetails"),r("educationExperience");break;case"educationExperience":t("/addCandidates/otherDetails"),r("otherDetails");break}},a=(i,o)=>{r(i),t(o)};return ne.useEffect(()=>{const i=e.pathname;i.includes("/personalDetails")?r("personalDetails"):i.includes("/educationDetails")?r("educationExperience"):i.includes("/otherDetails")?r("otherDetails"):r("applicantDetails")},[e]),m.jsx("section",{className:"w-full bg-[#F5F6F1] ",children:m.jsxs("div",{className:"w-11/12 relative mx-auto p-6",children:[m.jsx("h2",{className:"text-[20px] font-bold mb-4 text-center",children:"Application Form"}),m.jsxs("div",{className:"flex justify-between border-b mb-4 text-[14px] font-semibold",children:[m.jsx("button",{className:`py-2 px-4 focus:outline-none ${n==="applicantDetails"?"border-b-8 border-yellow":""}`,onClick:()=>a("applicantDetails","/addCandidates"),children:"Applicant Details"}),m.jsx("button",{className:`py-2 px-4 focus:outline-none ${n==="personalDetails"?"border-b-8 border-yellow":""}`,onClick:()=>a("personalDetails","/addCandidates/personalDetails"),children:"Personal Details"}),m.jsx("button",{className:`py-2 px-4 focus:outline-none ${n==="educationExperience"?"border-b-8 border-yellow":""}`,onClick:()=>a("educationExperience","/addCandidates/educationDetails"),children:"Reference Details"}),m.jsx("button",{className:`py-2 px-4 focus:outline-none ${n==="otherDetails"?"border-b-8 border-yellow":""}`,onClick:()=>a("otherDetails","/addCandidates/otherDetails"),children:"Other Details"})]}),m.jsx("div",{children:m.jsx(_v,{context:{activeTab:n,handleNext:s}})})]})})};function CV(n){return Fn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M6.41421 15.89L16.5563 5.74785L15.1421 4.33363L5 14.4758V15.89H6.41421ZM7.24264 17.89H3V13.6473L14.435 2.21231C14.8256 1.82179 15.4587 1.82179 15.8492 2.21231L18.6777 5.04074C19.0682 5.43126 19.0682 6.06443 18.6777 6.45495L7.24264 17.89ZM3 19.89H21V21.89H3V19.89Z"},child:[]}]})(n)}function DV(n){return Fn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M7 4V2H17V4H22V6H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V6H2V4H7ZM6 6V20H18V6H6ZM9 9H11V17H9V9ZM13 9H15V17H13V9Z"},child:[]}]})(n)}const TV=({data:n,onclose:r})=>{const[t,e]=ne.useState(!1),s=()=>{e(!t)};return m.jsx("section",{className:"fixed top-0 left-0 inset-0 bg-black bg-opacity-80 center w-full h-screen z-[60]",children:m.jsx("div",{className:"bg-white w-full max-w-xl max-h-[90vh]  rounded-lg relative overflow-y-auto",children:m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"relative center mb-8",children:[" ",m.jsx("h6",{className:"text-xl font-bold underline text-dark_grey",children:"View Form"}),m.jsx("button",{className:"absolute top-0 right-4 w-8 h-8 border rounded-full text-xl",onClick:r,children:""})]}),[{label:"UserID",value:n.empID},{label:"Name",value:n.name},{label:"Type",value:n.selectType},{label:"Official Email",value:n.officialEmail},{label:"Password",value:t?n.password:"",isPassword:!0}].map((a,i)=>m.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[m.jsx("strong",{className:"w-full",children:a.label}),m.jsxs("span",{className:"flex items-center gap-3 col-span-2",children:[": ",a.value,a.isPassword&&m.jsxs("div",{className:" center",children:[" ",m.jsx("button",{type:"button",className:" text-dark_grey underline text-xl",onClick:s,children:t?m.jsx(rH,{}):m.jsx(tH,{})})]})]}),"            "]},i)),m.jsx("div",{className:"center mt-7",children:m.jsx("button",{className:"primary_btn text_size_4",onClick:r,children:"Okay"})})]})})})},jV=()=>{const n=kr();return{SubmitDeletedUser:ne.useCallback(async({deleteUserData:t})=>{if(!t)throw new Error("Missing required parameters");const{id:e}=t,s={id:e,status:"InActive"};try{await n.graphql({query:P8,variables:{input:s}}).then(a=>{})}catch(a){console.log("Error deleting user:",a)}})}},X3=()=>{const{empPIData:n,userData:r,workInfoData:t}=ne.useContext(Wn),{SubmitDeletedUser:e}=jV(),[s,a]=ne.useState([]),[i,o]=ne.useState([]),[u,c]=ne.useState(!1),[l,d]=ne.useState([]),[p,h]=ne.useState([]),f=Yi(),[b,y]=ne.useState(1),[g,x]=ne.useState(5),[v,w]=ne.useState([]),[S,D]=ne.useState(""),[T,R]=ne.useState(!1);ne.useEffect(()=>{const F=(b-1)*g,E=(v.length>0?v:i).sort((N,k)=>{const B=/\d+$/,j=N.empID.match(B)?N.empID.match(B)[0].padStart(5,"0"):"",M=k.empID.match(B)?k.empID.match(B)[0].padStart(5,"0"):"",G=N.empID.replace(B,"").toLowerCase(),Y=k.empID.replace(B,"").toLowerCase();return G!==Y?G.localeCompare(Y):j.localeCompare(M)}).slice(F,F+g);h(E)},[b,g,i,v]);const P=Math.ceil((v.length>0?v.length:i.length)/g),L=()=>{c(!u)};ne.useEffect(()=>{(async()=>{try{const A=r.map(_=>{const E=n.find(k=>k.empID===_.empID),N=t?t.find(k=>k.empID===_.empID):{};return E?{..._,...E,...N}:null}).filter(Boolean).filter(_=>_.status==="Active");a(A),o(A)}catch(A){console.log(A)}})()},[r,n]);const O=F=>{w(F),y(1)},H=async F=>{f("/addNewForm",{state:{editUserData:{storedValue:{data:F,title:"Edit User"},userValue:r,employeeValue:n,workValue:t}}})},U=()=>{f("/addNewForm",{state:{addUserData:{userValue:r,employeeValue:n,workValue:t}}})},I=async F=>{const A=r.find(_=>_.empID===F.empID);await e({deleteUserData:A}),D("User deleted successfully"),R(!0)};return m.jsxs("section",{className:" flex justify-center px-10 py-20 bg-[#F8F8F8] h-screen relative",children:[m.jsxs("div",{className:"bg-white flex flex-col gap-10 rounded-b-lg shadow-lg max-w-[99%] w-full",children:[m.jsx("article",{className:"bg-[#E1E1E2] py-3 shadow-md rounded-t-lg text-center",children:m.jsx("h1",{className:"text-dark_grey text-2xl font-semibold",children:"User List"})}),m.jsx("section",{children:m.jsxs("div",{className:"flex items-center justify-between  px-14",children:[m.jsxs("div",{className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2",onClick:U,children:[" ",m.jsx("span",{className:"text-2xl",children:"+"})," Add"]}),m.jsx(Gf,{allEmpDetails:i,searchUserList:O,searchIcon2:m.jsx(Rs,{}),placeholder:"Employee ID",border:"rounded-lg"})]})}),m.jsxs("div",{className:"flex flex-col flex-grow",children:[m.jsx("div",{className:"px-1 ",children:m.jsxs("table",{className:"w-full mx-auto bg-white pt-10",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"text_size_5 text-dark_grey ",children:[m.jsx("th",{className:"px-6 text-start py-3",children:"EMP ID"}),m.jsx("th",{className:"px-6 text-start  py-3",children:"Name"}),m.jsx("th",{className:"px-6 text-start py-3",children:"Type"}),m.jsx("th",{className:"px-6 text-start py-3",children:"Official Email Id"}),m.jsx("th",{className:"px-6 text-start py-3",children:"Password"}),m.jsx("th",{className:"px-6 text-start py-3",children:"ViewForm"}),m.jsx("th",{className:"px-6 text-start py-3",children:"Actions"})]})}),m.jsx("tbody",{children:p&&p.length>0?p.map((F,A)=>m.jsxs("tr",{onClick:()=>{d(F)},children:[m.jsx("td",{className:"px-6 py-2",children:F.empID}),m.jsx("td",{className:"px-6 py-2",children:F.name}),m.jsx("td",{className:"px-6 py-2",children:F.selectType}),m.jsx("td",{className:"px-6 py-2",children:F.officialEmail}),m.jsx("td",{className:"px-6 w-[200px] py-2 text-center",children:m.jsx("input",{type:"password",className:"outline-none w-full",value:F.password,readOnly:!0})}),m.jsx("td",{className:"px-6 py-2 text-center text-[blue]",onClick:()=>{L()},children:"View"}),m.jsx("td",{className:"px-6 py-2",children:m.jsxs("div",{className:"flex gap-5",children:[m.jsx("span",{onClick:()=>{H(F)},children:m.jsx(CV,{})}),m.jsx("span",{onClick:()=>{I(F)},children:m.jsx(DV,{})})]})})]},A)):m.jsx("tr",{children:m.jsx("td",{colSpan:"6",className:"px-6 py-6 text-center text-dark_ash text_size_5",children:"No User List Available Here"})})})]})}),m.jsx("div",{className:"flex justify-center mt-auto",children:m.jsx("div",{className:"ml-[650px] flex justify-between px-10 py-8",children:m.jsx(Zm,{currentPage:b,totalPages:P,onPageChange:F=>{F>=1&&F<=P&&y(F)}})})})]})]}),u&&m.jsx(TV,{data:l,onclose:L}),T&&m.jsx(na,{text:S,notification:T,path:"/user"})]})};function I_(n){return Fn({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M8 8.707l3.646 3.647.708-.707L8.707 8l3.647-3.646-.707-.708L8 7.293 4.354 3.646l-.707.708L7.293 8l-3.646 3.646.707.708L8 8.707z"},child:[]}]})(n)}const Ok=({isVisible:n,onClose:r,isMdView:t=!1})=>{const[e,s]=ne.useState([]),[a,i]=ne.useState(null),[o,u]=ne.useState(null);ne.useEffect(()=>{const l=kr();n&&(async()=>{var p,h;try{const f=await l.graphql({query:sA}),b=(h=(p=f==null?void 0:f.data)==null?void 0:p.listEmpRequisitions)==null?void 0:h.items.map(y=>({id:y.id,manager:y.manager,department:y.department,position:y.position,project:y.project,additional:y.additional||"",quantity:y.quantity,date:y.createdAt,status:y.status||"Pending",remarks:y.remarks||""}));s(b)}catch(f){console.error("Error fetching requisition data:",f),u("Error fetching requisition data")}})()},[n]);const c=l=>{s(d=>d.map(p=>p.id===a.id?{...p,status:l}:p)),i(null)};return m.jsx("div",{className:`fixed inset-0 ${n?"flex":"hidden"} items-center justify-center z-[70]`,children:m.jsxs("div",{className:"bg-white w-full max-w-[700px] rounded-lg relative p-10 overflow-y-auto border",children:[m.jsx("button",{onClick:r,className:"absolute top-5 right-6 border rounded-full p-1",children:m.jsx(I_,{size:20})}),m.jsxs("div",{className:"flex items-center gap-8 py-2 pb-5",children:[m.jsx("img",{src:$m,alt:"Logo",className:"max-w-[180px] w-full"}),m.jsx("h2",{className:"text-xl font-bold underline",children:"Employee Requisition Review"})]}),o?m.jsx("div",{className:"text-[red]",children:o}):m.jsx(Lk,{requestData:e,onStatusChange:c,onRequestSelect:l=>i(l)}),a&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white w-full max-w-[600px] rounded-lg p-8 relative",children:[m.jsx("button",{onClick:()=>i(null),className:"absolute top-4 right-4",children:m.jsx(I_,{size:20})}),m.jsx("h3",{className:"text-xl font-bold mb-4",children:"Review Requisition"}),m.jsx("div",{className:"gap-4",children:[{label:"Requested Manager",value:a.manager},{label:"Department",value:a.department},{label:"Position",value:a.position},{label:"Project",value:a.project},{label:"Quantity",value:a.quantity},{label:"Additional",value:a.additional||""},{label:"Justification",value:a.justification||""}].map((l,d)=>m.jsxs("div",{className:"flex mb-2",children:[m.jsxs("strong",{className:"w-1/3",children:[l.label,":"]}),m.jsx("span",{className:"w-2/3",children:l.value})]},d))}),t&&m.jsxs("div",{className:"flex justify-center mt-4",children:[m.jsx("button",{className:"bg-red text-white px-4 py-2 rounded-lg mr-2",onClick:()=>c("Rejected"),children:"Reject"}),m.jsx("button",{className:"bg-green text-white px-4 py-2 rounded-lg",onClick:()=>c("Approved"),children:"Approve"})]})]})})]})})},IV=({isOpen:n,onClose:r,onSave:t,initialRemarks:e})=>{const[s,a]=ne.useState("");ne.useEffect(()=>{n&&a(e||"")},[n,e]);const i=()=>{a(""),r()},o=()=>{t(s),a(""),r()};return n?m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex justify-center items-center",children:m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[m.jsx("h3",{className:"mb-4 text-xl font-semibold",children:"Remarks"}),m.jsx("textarea",{value:s,onChange:u=>a(u.target.value),rows:"4",className:"w-full p-2 border rounded-md",placeholder:"Enter your remarks here..."}),m.jsxs("div",{className:"mt-4 flex justify-end",children:[m.jsx("button",{className:"hover:bg-grey border-2 border-grey hover:text-white px-4 py-1 mr-2 rounded-lg",onClick:i,children:"Cancel"}),m.jsx("button",{className:"hover:bg-[#faf362] border-2 border-yellow px-4 py-1 rounded-lg",onClick:o,children:"Save"})]})]})}):null},Lk=({requestData:n,onStatusChange:r,onRequestSelect:t})=>{const[e,s]=ne.useState(""),[a,i]=ne.useState(null),[o,u]=ne.useState(null),c=n==null?void 0:n.filter(h=>{var f,b,y,g;return(((f=h.manager)==null?void 0:f.toLowerCase())||"").includes(e.toLowerCase())||(((b=h.department)==null?void 0:b.toLowerCase())||"").includes(e.toLowerCase())||(((y=h.position)==null?void 0:y.toLowerCase())||"").includes(e.toLowerCase())||(((g=h.project)==null?void 0:g.toLowerCase())||"").includes(e.toLowerCase())}),l=()=>{i(null)},d=h=>{r(a.id,h),i(null)},p=()=>{u(null)};return m.jsxs("section",{className:"screen-size h-screen w-full my-5",children:[m.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[m.jsx("button",{className:"bg-[#faf362] py-2 px-3 rounded-lg text-[18px] font-semibold",children:"Employee Requisition Review"}),m.jsx(Gf,{value:e,searchHandler:s,searchIcon1:m.jsx(Rs,{}),placeholder:"name, position"})]}),m.jsx("div",{className:"overflow-x-auto rounded-lg",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-[#939393] text-white rounded-lg",children:m.jsxs("tr",{children:[m.jsx("th",{className:"pl-4 py-4",children:"Requested Manager"}),m.jsx("th",{className:"py-4",children:"Department"}),m.jsx("th",{className:"py-4",children:"Position"}),m.jsx("th",{className:"py-4",children:"Project"}),m.jsx("th",{className:"py-4",children:"Quantity"}),m.jsx("th",{className:"py-4",children:"Received Date"}),m.jsx("th",{className:"py-4",children:"Submitted Form"}),m.jsx("th",{className:"py-4",children:"Status Update"}),m.jsx("th",{className:"py-4",children:"Remarks"})]})}),m.jsx("tbody",{className:"bg-white",children:(c==null?void 0:c.length)>0?c.map((h,f)=>m.jsxs("tr",{className:"shadow-[0_3px_6px_1px_rgba(0,0,0,0.2)]",children:[m.jsx("td",{className:"pl-4 py-4",children:h.manager}),m.jsx("td",{className:"py-4",children:h.department}),m.jsx("td",{className:"py-4",children:h.position}),m.jsx("td",{className:"py-4",children:h.project}),m.jsx("td",{className:"py-4",children:h.quantity}),m.jsx("td",{className:"py-4",children:new Date(h.date).toLocaleDateString("en-GB")}),m.jsx("td",{className:"py-4",children:m.jsx("button",{onClick:()=>u(h),children:"View"})}),m.jsx("td",{className:`py-4 font-semibold ${h.status==="Approved"?"text-[#25a041]":h.status==="Rejected"?"text-[#f75a11]":"text-grey"}`,children:h.status}),m.jsxs("td",{className:"py-4 flex items-center gap-2",children:[m.jsx("span",{children:h.remarks}),m.jsx(nH,{onClick:()=>i(h)})]})]},f)):m.jsx("tr",{children:m.jsx("td",{colSpan:"9",className:"text-center py-4",children:"No Requisitions Found"})})})]})}),o&&m.jsx(Ok,{isVisible:!!o,onClose:p,requestData:o,onStatusChange:r}),m.jsx(IV,{isOpen:!!a,onClose:l,onSave:d,initialRemarks:(a==null?void 0:a.remarks)||""})]})};function Fk(n){return Fn({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.406 1.342A5.53 5.53 0 0 1 8 0c2.69 0 4.923 2 5.166 4.579C14.758 4.804 16 6.137 16 7.773 16 9.569 14.502 11 12.687 11H10a.5.5 0 0 1 0-1h2.688C13.979 10 15 8.988 15 7.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 2.825 10.328 1 8 1a4.53 4.53 0 0 0-2.941 1.1c-.757.652-1.153 1.438-1.153 2.055v.448l-.445.049C2.064 4.805 1 5.952 1 7.318 1 8.785 2.23 10 3.781 10H6a.5.5 0 0 1 0 1H3.781C1.708 11 0 9.366 0 7.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M7.646 4.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V14.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708z"},child:[]}]})(n)}const PV=()=>{const[n,r]=ne.useState({interview:{date:"",time:"",venue:"",interviewType:"",interviewer:"",message:""}}),t=(a,i)=>{r(o=>({...o,interview:{...o.interview,[a]:i}}))},e=(a,i)=>{r(o=>({...o,interview:{...o.interview,[a]:i}}))},s=[{field:"date",label:"Date",type:"date"},{field:"time",label:"Time",type:"time"},{field:"venue",label:"Venue",type:"text"},{field:"interviewType",label:"Interview Type",type:"text"},{field:"interviewer",label:"Interviewer",type:"text"},{field:"message",label:"Message",type:"textarea"}];return m.jsxs("form",{children:[m.jsx("div",{className:"p-4 grid grid-cols-2 gap-5",children:s.map(a=>{var i;return m.jsxs("label",{className:"block mb-4",children:[a.label,":",a.type!=="file"&&a.type!=="textarea"?m.jsx("input",{type:a.type,className:"w-full border p-2 rounded mt-1",value:n.interview[a.field],onChange:o=>t(a.field,o.target.value)}):a.type==="textarea"?m.jsx("textarea",{className:"w-full border p-2 rounded mt-1",value:n.interview[a.field],onChange:o=>t(a.field,o.target.value)}):m.jsxs("div",{className:"flex items-center mt-1",children:[m.jsx("input",{type:"file",className:"hidden",id:a.field,onChange:o=>e(a.field,o.target.files[0])}),m.jsxs("label",{htmlFor:a.field,className:"flex items-center cursor-pointer text-gray-500",children:[m.jsx(Fk,{className:"mr-2 text-lg text-[#ab1234]"}),((i=n.interview[a.field])==null?void 0:i.name)||"Upload PDF"]})]})]},a.field)})}),m.jsx("div",{className:"center",children:m.jsx("button",{type:"submit",className:"py-1 px-5 rounded-xl shadow-lg border-2 border-yellow hover:bg-yellow",children:"Submit"})})]})},RV=()=>{const{register:n,handleSubmit:r,formState:{errors:t}}=Pn({resolver:Bn(Kn().shape({id:Ue().required("ID is required"),department:Ue().required("Department is required")})),defaultValues:{id:"",department:""}}),e=async s=>{try{const a=await client.graphql({query:D_,variables:{input:{id:s.id,department:s.department}}});console.log("Update Successful:",a),alert("Department updated successfully!")}catch(a){console.error("Error updating department:",a),alert("Failed to update department.")}};return m.jsxs("form",{onSubmit:r(e),className:"p-4",children:[m.jsx("div",{className:"mb-4",children:m.jsxs("label",{className:"block mb-2 font-medium",children:["Interview ID:",m.jsx("input",{type:"text",...n("id"),className:"w-full p-2 border rounded mt-1",placeholder:"Enter the interview schedule ID"}),t.id&&m.jsx("p",{className:"text-red-500",children:t.id.message})]})}),m.jsx("div",{className:"mb-4",children:m.jsxs("label",{className:"block mb-2 font-medium",children:["Department:",m.jsxs("select",{...n("department"),className:"w-full p-2 border rounded mt-1",children:[m.jsx("option",{value:"",children:"Select Department"}),m.jsx("option",{value:"HR",children:"HR"}),m.jsx("option",{value:"Finance",children:"Finance"}),m.jsx("option",{value:"Development",children:"Development"}),m.jsx("option",{value:"Sales",children:"Sales"})]}),t.department&&m.jsx("p",{className:"text-red-500",children:t.department.message})]})}),m.jsx("div",{className:"center mt-10",children:m.jsx("button",{type:"submit",className:"py-1 px-5 rounded-xl shadow-lg border-2 border-yellow hover:bg-yellow",children:"Submit"})})]})},MV=Kn().shape({loiIssueDate:Yn().required("Issue date is required"),loiAcceptDate:Yn().nullable(),loiDeclineDate:Yn().nullable(),declineReason:Ue().when("loiDeclineDate",{is:n=>n!=null,then:Ue().required("Decline reason is required if declined")}),loiFile:Or().nullable().test("fileType","Only PDF files are allowed",n=>n?n[0].type==="application/pdf":!0)}),OV=()=>{var l;const[n,r]=ne.useState(null),[t,e]=ne.useState(null),{register:s,handleSubmit:a,formState:{errors:i},setValue:o}=Pn({resolver:Bn(MV)}),u=async(d,p)=>{const h=d.target.files[0];o(p,h),h&&(await As(h,"loiFile",e),r(h.name))},c=d=>{console.log({...d,loiFile:t})};return m.jsxs("form",{onSubmit:a(c),children:[m.jsxs("div",{className:"grid grid-cols-2 gap-5 mt-5",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"loiIssueDate",children:"Issue Date"}),m.jsx("input",{className:"w-full border p-2 rounded mt-1",type:"date",id:"loiIssueDate",...s("loiIssueDate")}),i.loiIssueDate&&m.jsx("p",{className:"text-red-500 text-xs",children:i.loiIssueDate.message})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"loiAcceptDate",children:"Accept Date"}),m.jsx("input",{className:"w-full border p-2 rounded mt-1",type:"date",id:"loiAcceptDate",...s("loiAcceptDate")}),i.loiAcceptDate&&m.jsx("p",{className:"text-red-500 text-xs",children:i.loiAcceptDate.message})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"loiDeclineDate",children:"Decline Date"}),m.jsx("input",{className:"w-full border p-2 rounded mt-1",type:"date",id:"loiDeclineDate",...s("loiDeclineDate")}),i.loiDeclineDate&&m.jsx("p",{className:"text-red-500 text-xs",children:i.loiDeclineDate.message})]}),(t==null?void 0:t.loiDeclineDate)&&m.jsxs("div",{children:[m.jsx("label",{htmlFor:"declineReason",children:"Decline Reason"}),m.jsx("input",{type:"text",id:"declineReason",...s("declineReason")}),i.declineReason&&m.jsx("p",{className:"text-red-500 text-xs",children:i.declineReason.message})]}),m.jsxs("div",{className:"",children:[m.jsx("label",{className:"text_size_6",children:"Choose file"}),m.jsx("div",{className:"flex items-center justify-between mt-3 mb-5 gap-5",children:m.jsxs("div",{children:[m.jsxs("label",{className:"flex items-center px-3 py-2 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] rounded-md cursor-pointer",children:["Upload LOI",m.jsx("input",{type:"file",...s("loiFile"),onChange:d=>u(d,"loiFile"),className:"hidden",accept:"application/pdf"}),m.jsx("span",{className:"ml-2",children:m.jsx(xs,{})})]}),n?m.jsxs("p",{className:"text-xs mt-1 text-grey",children:["Uploaded: ",n]}):m.jsx("p",{className:"text-[red] text-xs mt-1",children:(l=i==null?void 0:i.loiFile)==null?void 0:l.message})]})})]})]}),m.jsx("div",{className:"center mt-5",children:m.jsx("button",{type:"submit",className:"py-1 px-5 rounded-xl shadow-lg border-2 border-yellow hover:bg-yellow",children:"Submit"})})]})},LV=Kn().shape({cvecApproveDate:Yn().notRequired(),cvecFile:Or().nullable().required("File is required").test("fileType","Only PDF files are allowed",n=>n?n.type==="application/pdf":!1)}),FV=()=>{const[n,r]=ne.useState(null),[t,e]=ne.useState(null),{register:s,handleSubmit:a,formState:{errors:i},setValue:o}=Pn({resolver:Bn(LV)}),u=async l=>{const d=l.target.files[0];if(o("cvecFile",d),d)try{await As(d,"cvecFile",e),r(d.name)}catch(p){console.error("Error uploading file:",p)}},c=l=>{const d={...l,cvecFile:t};console.log("Form submitted with data:",d)};return m.jsxs("form",{onSubmit:a(c),className:"p-5",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-5 mt-5",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"cvecApproveDate",children:"Approval Date"}),m.jsx("input",{className:"w-full border p-2 rounded mt-1",type:"date",id:"cvecApproveDate",...s("cvecApproveDate")})]}),m.jsxs("div",{className:"",children:[m.jsx("label",{children:"Choose File"}),m.jsxs("div",{className:"flex items-center gap-5 mt-1",children:[m.jsxs("label",{className:"flex items-center px-3 py-2 bg-lite_skyBlue border border-[#dedddd] rounded-md cursor-pointer",children:["Upload CVEV",m.jsx("input",{type:"file",className:"hidden",accept:"application/pdf",onChange:u}),m.jsx("span",{className:"ml-2",children:m.jsx(xs,{})})]}),n?m.jsxs("p",{className:"text-xs mt-1 text-grey",children:["Uploaded: ",n]}):i.cvecFile&&m.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.cvecFile.message})]})]})]}),m.jsx("div",{className:"mt-5 flex justify-center",children:m.jsx("button",{type:"submit",className:"py-2 px-5 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition",children:"Submit"})})]})},BV=Kn().shape({paafApproveDate:Yn().notRequired(),paafFile:Or().nullable().required("File is required").test("fileType","Only PDF files are allowed",n=>n?n.type==="application/pdf":!1)}),UV=()=>{const[n,r]=ne.useState(null),[t,e]=ne.useState(null),{register:s,handleSubmit:a,formState:{errors:i},setValue:o}=Pn({resolver:Bn(BV)}),u=async l=>{const d=l.target.files[0];if(o("paafFile",d),d)try{await As(d,"paafFile",e),r(d.name)}catch(p){console.error("Error uploading file:",p)}},c=l=>{const d={...l,paafFile:t};console.log("Form submitted with data:",d)};return m.jsxs("form",{onSubmit:a(c),className:"p-5",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-5 mt-5",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"paafApproveDate",children:"Approval Date"}),m.jsx("input",{className:"w-full border p-2 rounded mt-1",type:"date",id:"paafApproveDate",...s("paafApproveDate")})]}),m.jsxs("div",{className:"",children:[m.jsx("label",{children:"Choose File"}),m.jsxs("div",{className:"flex items-center gap-5 mt-1",children:[m.jsxs("label",{className:"flex items-center px-3 py-2 bg-lite_skyBlue border border-[#dedddd] rounded-md cursor-pointer",children:["Upload PAAF",m.jsx("input",{type:"file",className:"hidden",accept:"application/pdf",onChange:u}),m.jsx("span",{className:"ml-2",children:m.jsx(xs,{})})]}),n?m.jsxs("p",{className:"text-xs mt-1 text-grey",children:["Uploaded: ",n]}):i.paafFile&&m.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.paafFile.message})]})]})]}),m.jsx("div",{className:"mt-5 flex justify-center",children:m.jsx("button",{type:"submit",className:"py-2 px-5 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition",children:"Submit"})})]})},HV=Kn().shape({mobSignDate:Yn().notRequired(),mobFile:Or().nullable().required("File is required").test("fileType","Only PDF files are allowed",n=>n?n.type==="application/pdf":!1)}),qV=()=>{const[n,r]=ne.useState(null),[t,e]=ne.useState(null),{register:s,handleSubmit:a,formState:{errors:i},setValue:o}=Pn({resolver:Bn(HV)}),u=async l=>{const d=l.target.files[0];if(o("mobFile",d),d)try{await As(d,"mobFile",e),r(d.name)}catch(p){console.error("Error uploading file:",p)}},c=l=>{const d={...l,mobFile:t};console.log("Form submitted with data:",d)};return m.jsxs("form",{onSubmit:a(c),className:"p-5",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-5 mt-5",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"mobSignDate",children:"Approval Date"}),m.jsx("input",{className:"w-full border p-2 rounded mt-1",type:"date",id:"mobSignDate",...s("mobSignDate")})]}),m.jsxs("div",{className:"",children:[m.jsx("label",{children:"Choose File"}),m.jsxs("div",{className:"flex items-center gap-5 mt-1",children:[m.jsxs("label",{className:"flex items-center px-3 py-2 bg-lite_skyBlue border border-[#dedddd] rounded-md cursor-pointer",children:["Upload File",m.jsx("input",{type:"file",className:"hidden",accept:"application/pdf",onChange:u}),m.jsx("span",{className:"ml-2",children:m.jsx(xs,{})})]}),n?m.jsxs("p",{className:"text-xs mt-1 text-grey",children:["Uploaded: ",n]}):i.mobFile&&m.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.mobFile.message})]})]})]}),m.jsx("div",{className:"mt-5 flex justify-center",children:m.jsx("button",{type:"submit",className:"py-2 px-5 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition",children:"Submit"})})]})},WV=({candidate:n,onClose:r,onSave:t})=>{const[e,s]=ne.useState(0);return m.jsx("div",{className:"fixed inset-0 bg-grey bg-opacity-80 z-50 center",children:m.jsxs("div",{className:"bg-white p-8 rounded-lg w-full max-w-[650px]  overflow-hidden",children:[m.jsxs("h2",{className:"text-xl font-bold mb-4 p-1 rounded-md bg-[#f7f183ea]",children:["TempID: ",n==null?void 0:n.tempID,"  Name: ",n==null?void 0:n.name]}),m.jsxs("article",{className:"flex-1 flex gap-5 text-dark_grey mt-5",children:[m.jsx("h1",{className:`  px-3 py-1 rounded-lg whitespace-nowrap  ${e===0?"border-2 border-[#FEF116] bg-[#FFFEF4]":"bg-[#DDDDDD]"}`,onClick:()=>s(0),children:"Interview"}),m.jsx("h2",{className:`  px-3 py-1 rounded-lg whitespace-nowrap  ${e===1?"border-2 border-[#FEF116] bg-[#FFFEF4]":"bg-[#DDDDDD]"}`,onClick:()=>s(1),children:"Candidate"}),m.jsx("h3",{className:`  px-3 py-1 rounded-lg whitespace-nowrap  ${e===2?"border-2 border-[#FEF116] bg-[#FFFEF4]":"bg-[#DDDDDD]"}`,onClick:()=>s(2),children:"LOI"}),m.jsx("h4",{className:` px-3 py-1 rounded-lg whitespace-nowrap  ${e===3?"border-2 border-[#FEF116] bg-[#FFFEF4]":"bg-[#DDDDDD]"}`,onClick:()=>s(3),children:"CVEV"}),m.jsx("h5",{className:`  px-3 py-1 rounded-lg whitespace-nowrap  ${e===4?"border-2 border-[#FEF116] bg-[#FFFEF4]":"bg-[#DDDDDD]"}`,onClick:()=>s(4),children:"PAAF"}),m.jsx("h6",{className:`  px-3 py-1 rounded-lg whitespace-nowrap  ${e===5?"border-2 border-[#FEF116] bg-[#FFFEF4]":"bg-[#DDDDDD]"}`,onClick:()=>s(5),children:"Mobilization"})]}),e===0&&m.jsx(PV,{}),e===1&&m.jsx(RV,{}),e===2&&m.jsx(OV,{}),e===3&&m.jsx(FV,{}),e===4&&m.jsx(UV,{}),e===5&&m.jsx(qV,{}),m.jsx("div",{className:"flex justify-between mt-4",children:m.jsx("button",{onClick:r,className:"border-2 border-grey hover:bg-slate_grey hover:text-white px-4 py-2 rounded-xl",children:"Close"})})]})})},zV=kr(),VV={"Interview Scheduled":["tempID","Name","Nationality","Interview Date","Time","Venue","Interviewer"],"Selected Candidate":["tempID","Name","Nationality","Position","Department","Status Update"],LOI:["tempID","Name","Nationality","Issue Date","Accept Date","LOI PDF","Decline Date","Status Update"],CVEV_OffShore:["tempID","Name","Nationality","Position","Approved Date","CVEV PDF","Status Update"],PAAF_OnShore:["tempID","Name","Nationality","Position","Approved Date","PAAF PDF","Status Update"],Mobilization:["tempID","Name","Nationality","Position","Signed Date","Contract PDF","Status Update"]},$V=["Interview Scheduled","Selected Candidate","LOI","CVEV_OffShore","PAAF_OnShore","Mobilization"],GV=()=>{ne.useState(null);const[n,r]=ne.useState(!0),[t,e]=ne.useState(null),[s,a]=ne.useState(!1),[i,o]=ne.useState([]),[u,c]=ne.useState([]),[l,d]=ne.useState(!1),[p,h]=ne.useState(null),[f,b]=ne.useState(!1),[y,g]=ne.useState([]),[x,v]=ne.useState("Interview Scheduled"),[w,S]=ne.useState("Interview Scheduled"),D=ne.useRef(null);ne.useState([]);const[T,R]=ne.useState([]),{empPDData:P,educDetailsData:L}=ne.useContext(Wn),O=(N,k)=>N.map(B=>{const j=k.find(M=>M.tempID===B.tempID)||{};return{...B,...j}});ne.useEffect(()=>{(async()=>{var k,B;try{const[j]=await Promise.all([zV.graphql({query:rA})]),M=((B=(k=j==null?void 0:j.data)==null?void 0:k.listInterviewScheduleSchemas)==null?void 0:B.items)||[];if(P&&L){const Y=O(P,L).map(J=>{const V=M.find(Q=>Q.tempID===J.tempID);return V?{...J,...V}:J});R(Y),g(Y),r(!1)}}catch(j){e(j.message),r(!1)}})()},[P,L]);const H=N=>{o(k=>k.includes(N)?k.filter(B=>B!==N):N==="LOCAL"?["LOCAL",...k.filter(B=>B!=="NON LOCAL"&&B!=="LPA"&&B!=="SAWP")]:N==="NON LOCAL"?["NON LOCAL",...k.filter(B=>B!=="LOCAL")]:N==="ONSHORE"||N==="OFFSHORE"?[N,...k.filter(B=>B!=="ONSHORE"&&B!=="OFFSHORE")]:N==="LPA"||N==="SAWP"?[N,...k.filter(B=>B!=="LPA"&&B!=="SAWP")]:[...k,N])},U=N=>i.includes("LOCAL")?N==="NON LOCAL"||N==="LPA"||N==="SAWP":i.includes("NON LOCAL")?N==="LOCAL":!1;ne.useEffect(()=>{const N=k=>{!k.target.closest(".cvTypeDropdown")&&s&&a(!1),D.current&&!D.current.contains(k.target)&&f&&b(!1)};return document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[s,f]);const I=N=>{N==null||N.stopPropagation(),b(k=>!k)},F=async N=>{const k=N.target.value;switch(v(k),S(k),k){case"Interview Scheduled":const B=T.filter(V=>V.candidateStatus==="Pending");g(B);break;case"Selected Candidate":const j=T.filter(V=>V.candidateStatus==="Selected");g(j);break;case"LOI":const M=T.filter(V=>V.candidateStatus==="Selected");g(M);break;case"CVEV_OffShore":const G=T.filter(V=>V.candidateStatus==="Selected");g(G);break;case"PAAF_OnShore":const Y=T.filter(V=>V.candidateStatus==="Selected");g(Y);break;case"Mobilization":const J=T.filter(V=>V.candidateStatus==="Selected");g(J);break;default:g(T);break}b(!1)},A=N=>{h(N),d(!0)},_=()=>{d(!1),h(null)},E=N=>{const k=B=>B.map(j=>j.tempID===N.tempID?{...j,...N}:j);R(B=>k(B)),g(B=>k(B)),d(!1)};return m.jsxs("section",{className:"screen-size min-h-screen mb-4",children:[m.jsxs("div",{className:"relative",children:[m.jsxs("button",{className:`font-semibold py-2 px-6 mb-6 rounded-lg flex items-center ${i.length>0?"bg-[#faf362]":"bg-[#8d8f9036]"} cvTypeDropdown`,onClick:()=>a(!s),children:[i.length>0?i.join(" + "):"CV TYPE",s?m.jsx(S8,{className:"ml-10"}):m.jsx(_8,{className:"ml-10"})]}),s&&m.jsx("div",{className:"absolute bg-white border shadow-lg rounded-lg z-20 cvTypeDropdown",children:["LOCAL","NON LOCAL","LPA","SAWP","ONSHORE","OFFSHORE"].map(N=>m.jsxs("label",{className:"block w-full text-left px-4 py-2",children:[m.jsx("input",{type:"checkbox",className:"mr-2",checked:i.includes(N),onChange:()=>H(N),disabled:U(N)}),N]},N))}),m.jsxs("button",{onClick:I,className:`absolute top-0 right-0 px-6 py-2 font-semibold rounded-lg flex items-center ${x.length?"bg-[#faf362]":"bg-[#8d8f9036]"}`,children:[m.jsx(Mk,{className:"mr-5"}),m.jsx("span",{children:w})]}),f&&m.jsx("div",{ref:D,className:"absolute top-12 right-0 mt-2 bg-white shadow-lg rounded-lg p-4 z-50 flex flex-col space-y-2",children:$V.map(N=>m.jsxs("label",{className:`flex items-center font-semibold  space-x-2 hover:font-bold hover:text-[#c7bd03] p-2 rounded-md ${x===N?"text-[#faf362]":"text-lite_grey"}`,children:[m.jsx("input",{type:"radio",className:"w-5 h-6",name:"status",value:N,checked:x===N,onChange:F}),m.jsx("span",{children:N})]},N))})]}),n?m.jsx("p",{children:"Loading..."}):t?m.jsx("p",{children:t}):m.jsxs(m.Fragment,{children:[m.jsx(kv,{columns:VV[x],data:y,showCheckboxes:!1,selectedRows:u,currentPage:"status",selectedTable:"status",edited:A,showEditIcon:!0}),l&&m.jsx(WV,{candidate:p,onSave:E,onClose:_})]})]})},J3={SAWP:[{label:"Client Support Letter Requested Date",field:"supportletterReqDate",type:"date"},{label:"Client Support Letter Received Date",field:"supportletterReceiveDate",type:"date"},{label:"Upload Letter PDF",field:"letterfile",type:"file"}],DOE:[{label:"Date of Submission",field:"doesubmitdate",type:"date"},{label:"Date of Approval",field:"doeapprovedate",type:"date"},{label:"Valid Until",field:"doeexpirydate",type:"date"},{label:"Reference No",field:"referenceno",type:"text"},{label:"Upload DOE PDF",field:"doefile",type:"file"}],NLMS:[{label:"Date of Submission",field:"nlmssubmitdate",type:"date"},{label:"Submission Reference No",field:"submissionrefrenceno",type:"text"},{label:"Date of Approval",field:"nlmsapprovedate",type:"date"},{label:"LD Reference No",field:"ldreferenceno",type:"text"},{label:"Valid Until",field:"nlmsexpirydate",type:"date"},{label:"Upload NLMS PDF",field:"nlmsfile",type:"file"}],BankGuarantee:[{label:"Date of Submission",field:"bgsubmitdate",type:"date"},{label:"Date Received",field:"bgreceivedate",type:"date"},{label:"Reference No",field:"referenceno",type:"text"},{label:"BG Amount",field:"bgamount",type:"text"},{label:"Valid Until",field:"bgexpirydate",type:"date"},{label:"Upload BG PDF",field:"bgfile",type:"file"}],JITPA:[{label:"TBA Purchase Date",field:"tbapurchasedate",type:"date"},{label:"JITPA Amount",field:"jitpaamount",type:"text"},{label:"Valid Until",field:"jitpaexpirydate",type:"date"},{label:"Labour Deposit Receipt No",field:"receiptno",type:"text"},{label:"Deposit Amount",field:"depositamount",type:"text"},{label:"Submit Date for Endorsement",field:"submitdateendorsement",type:"date"},{label:"Upload JITPA PDF",field:"jitpafile",type:"file"}],Immigration:[{label:"Immigration Reference No",field:"immbdno",type:"text"},{label:"Date of Submission",field:"docsubmitdate",type:"date"},{label:"Date of Approval",field:"visaapprovedate",type:"date"},{label:"Visa Reference No",field:"visareferenceno",type:"text"},{label:"Upload Visa PDF",field:"visaFile",type:"file"}],AirTicket:[{label:"Date of Departure",field:"departuredate",type:"date"},{label:"Date of Arrival",field:"arrivaldate",type:"date"},{label:"Departure From",field:"cityname",type:"text"},{label:"AirFare",field:"airfare",type:"text"},{label:"Upload Ticket",field:"airticketfile",type:"file"}],Mobilization:[{label:"Agent Name",field:"agentname",type:"text"},{label:"Date of Signing",field:"mobSignDate",type:"date"},{label:"Upload Contract PDF",field:"mobFile",type:"file"}]},YV=({candidate:n,onClose:r,onSave:t})=>{const[e,s]=ne.useState("DOE"),[a,i]=ne.useState({SAWP:{supportletterReqDate:"",supportletterReceiveDate:"",letterfile:null},DOE:{doesubmitdate:"",doeapprovedate:"",doeexpirydate:"",referenceno:"",doefile:null},NLMS:{nlmssubmitdate:"",submissionrefrenceno:"",nlmsapprovedate:"",ldreferenceno:"",nlmsexpirydate:"",nlmsfile:null},BankGuarantee:{bgsubmitdate:"",bgreceivedate:"",referenceno:"",bgamount:"",bgexpirydate:"",bgfile:null},JITPA:{tbapurchasedate:"",jitpaamount:"",jitpaexpirydate:"",receiptno:"",depositamount:"",submitdateendorsement:"",jitpafile:null},Immigration:{immbdno:"",docsubmitdate:"",visaapprovedate:"",visareferenceno:"",visaFile:null},AirTicket:{departuredate:"",arrivaldate:"",cityname:"",airfare:"",airticketfile:null},Mobilization:{agentname:"",mobSignDate:"",mobFile:null}}),o=p=>{s(p)},u=(p,h,f)=>{i(b=>({...b,[p]:{...b[p],[h]:f}}))},c=(p,h,f)=>{i(b=>({...b,[p]:{...b[p],[h]:f}}))},l=()=>{t(a),r()};ne.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[]);const d=()=>J3[e].map(p=>m.jsxs("label",{className:"block",children:[p.label,":",p.type!=="file"?m.jsx("input",{type:p.type,className:"w-full border p-2 rounded mt-1 ",value:a[e][p.field]||"",onChange:h=>u(e,p.field,h.target.value)}):m.jsxs("div",{className:"flex items-center mt-1",children:[m.jsx("input",{type:"file",className:"hidden",id:p.field,onChange:h=>c(e,p.field,h.target.files[0])}),m.jsxs("label",{htmlFor:p.field,className:"flex items-center cursor-pointer text-lite_grey",children:[m.jsx(Fk,{className:"mr-2 text-lg text-[#ab1234]"}),a[e][p.field]?a[e][p.field].name:"Upload PDF"]})]})]},p.field));return m.jsx("div",{className:"fixed inset-0 bg-grey bg-opacity-80 z-50 center",children:m.jsxs("div",{className:"bg-white p-8 rounded-lg w-full max-w-[900px] h-[80vh] overflow-hidden",children:[m.jsxs("h2",{className:"text-xl font-bold mb-4 p-1 rounded-md bg-[#f7f183ea]",children:["Temp Id: ",n.tempid,"  Name: ",n.name]}),m.jsx("div",{className:"flex space-x-4 mb-6  ",children:Object.keys(J3).map(p=>m.jsx("button",{className:`px-3 py-1 rounded-lg whitespace-nowrap ${e===p?"border-2 border-[#FEF116] bg-[#FFFEF4]":"bg-[#DDDDDD]"}`,onClick:()=>o(p),children:p},p))}),m.jsx("div",{className:"grid grid-cols-2 gap-x-10 overflow-y-auto h-[50vh] pr-4",children:d()}),m.jsxs("div",{className:"flex justify-between mt-4",children:[m.jsx("button",{onClick:r,className:"border-2 border-grey hover:bg-slate_grey hover:text-white px-4 py-2 rounded-xl",children:"Close"}),m.jsx("button",{onClick:l,className:"py-1 px-5 rounded-xl shadow-lg border-2 border-yellow hover:bg-yellow",children:"Save"})]})]})})},KV=()=>{const[n,r]=ne.useState([]),[t,e]=ne.useState(!0),[s,a]=ne.useState(null);ne.useState("");const[i,o]=ne.useState([]),[u,c]=ne.useState(!1),[l,d]=ne.useState(null),[p,h]=ne.useState(!1),[f,b]=ne.useState([]),y=ne.useRef(null),[g,x]=ne.useState("Check status"),[v,w]=ne.useState(""),[S,D]=ne.useState([]),[T,R]=ne.useState(!1);ne.useEffect(()=>{if(n&&n.length>0){const A=n.filter(_=>_.approvalStatus==="CVEV"||_.approvalStatus==="PAAF");b(A)}else b([])},[n]);const P=A=>{A==null||A.stopPropagation(),h(_=>!_)},L=A=>{d(A),c(!0)},O=A=>{const _=A.target.value;w(_),x(_);const E=n.filter(N=>N.workpasstracking===_);b(E),h(!1)},H=()=>c(!1),U=["TempId","Name","Nationality","Position","Contract","Type","Email","Contact"];ne.useEffect(()=>{const A=_=>{y.current&&!y.current.contains(_.target)&&h(!1),_.target.closest(".candidateTypeDropdown")||R(!1)};return document.addEventListener("mousedown",A),()=>{document.removeEventListener("mousedown",A)}},[]);const I=A=>{const _=n.map(E=>E.tempid===l.tempid?{...E,...A}:E);b(_),c(!1)},F=A=>{let _=[...S];if(_.includes(A)?_=_.filter(E=>E!==A):_.push(A),D(_),_.length===0)b(n);else{const E=n.filter(N=>_.some(k=>k==="SAWP"?N.contract==="SAWP":k==="LPA"?N.contract==="LPA":k==="OnShore"?N.type==="OnShore":k==="OffShore"?N.type==="OffShore":!0));b(E)}};return m.jsx("section",{className:"screen-size min-h-screen mb-4 ",children:m.jsxs("div",{className:"relative",children:[m.jsxs("button",{className:`font-semibold py-2 px-6 mb-6 rounded-lg flex items-center ${S.length>0?"bg-[#faf362]":"bg-[#8d8f9036]"} candidateTypeDropdown`,onClick:()=>R(!T),children:[S.length>0?S.join(" + "):"CANDIDATE TYPE",T?m.jsx(S8,{className:"ml-10"}):m.jsx(_8,{className:"ml-10"})]}),T&&m.jsx("div",{className:"absolute bg-white border shadow-lg rounded-lg z-20 candidateTypeDropdown",children:["SAWP","LPA","OnShore","OffShore"].map(A=>m.jsxs("label",{className:"block w-full text-left px-4 py-2",children:[m.jsx("input",{type:"checkbox",className:"mr-2",checked:S.includes(A),onChange:()=>F(A)}),A]},A))}),m.jsxs("button",{onClick:P,className:`absolute top-0 right-0 px-6 py-2 font-semibold rounded-lg flex items-center ${v.length?"bg-[#faf362]":"bg-[#8d8f9036]"}`,children:[m.jsx(Mk,{className:"mr-5"}),m.jsx("span",{children:g})]}),p&&m.jsxs("div",{ref:y,className:"absolute top-12 right-0 mt-2 bg-white shadow-lg rounded-lg p-4 z-50 flex flex-col space-y-2",children:[["SAWP","DOE","NLMS","Bank Guarantee","JITPA","Immigration","Air Ticket","Mobilization"].map(A=>m.jsxs("label",{className:`flex items-center font-semibold space-x-2 hover:font-bold hover:text-[#c7bd03] p-2 rounded-md ${v===A?"text-[#faf362]":"text-lite_grey"}`,children:[m.jsx("input",{type:"radio",className:"w-5 h-6",name:"workpasstracking",value:A,checked:v===A,onChange:O}),m.jsx("span",{children:A})]},A)),m.jsx("button",{className:"mt-4 px-1 py-2 border-2 border-yellow rounded-lg shadow-lg hover:bg-[#faf362]",onClick:A=>{A.stopPropagation(),w(""),b(n),x("Check status"),h(!1)},children:"Reset"})]}),!t&&!s?f.length>0?m.jsx(kv,{columns:U,data:f,rowClickHandler:L,showCheckboxes:!1,selectedRows:i,currentPage:"workpasstracking",selectedTable:"workpasstracking",edited:L,showEditIcon:!0}):m.jsx("div",{className:"text-center text-grey py-10",children:"No data found"}):m.jsx("div",{children:t?"Loading...":"Error fetching data. Check your Internet connection."}),u&&l&&m.jsx(YV,{candidate:l,onClose:H,onSave:I})]})})},XV="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.1667%2014.1667L17.5%2017.5M2.5%209.16667C2.5%2010.9348%203.20238%2012.6305%204.45262%2013.8807C5.70286%2015.131%207.39856%2015.8333%209.16667%2015.8333C10.9348%2015.8333%2012.6305%2015.131%2013.8807%2013.8807C15.131%2012.6305%2015.8333%2010.9348%2015.8333%209.16667C15.8333%207.39856%2015.131%205.70286%2013.8807%204.45262C12.6305%203.20238%2010.9348%202.5%209.16667%202.5C7.39856%202.5%205.70286%203.20238%204.45262%204.45262C3.20238%205.70286%202.5%207.39856%202.5%209.16667Z'%20stroke='%23303030'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",JV=({activeTab:n,handleTabClick:r})=>{const t=["Personal Details","Family Details","Medical Details","Non-Local Accommodation Details","Insurance Details","Work Info","Work Pass"];return m.jsx("div",{className:"sticky top-11 bg-white flex justify-between items-center  z-40",children:m.jsx("p",{className:"text_size_5",children:t.map((e,s)=>m.jsxs("span",{className:`relative after:absolute after:-bottom-2 after:left-0 after:w-full after:h-1 cursor-pointer ${n===s&&"after:bg-primary"}`,onClick:()=>r(s),children:[e," ",s<t.length-1&&" -> "]},s))})})};var pb={};pb.d=(n,r)=>{for(var t in r)pb.o(r,t)&&!pb.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:r[t]})};pb.o=(n,r)=>Object.prototype.hasOwnProperty.call(n,r);var qr=globalThis.pdfjsLib={};pb.d(qr,{AbortException:()=>e0,AnnotationEditorLayer:()=>q4,AnnotationEditorParamsType:()=>zr,AnnotationEditorType:()=>wn,AnnotationEditorUIManager:()=>Fm,AnnotationLayer:()=>KG,AnnotationMode:()=>Jh,CMapCompressionType:()=>R_,ColorPicker:()=>dw,DOMSVGFactory:()=>B8,DrawLayer:()=>$4,FeatureTest:()=>Oo,GlobalWorkerOptions:()=>mh,ImageKind:()=>fx,InvalidPDFException:()=>Uk,MissingPDFException:()=>Qm,OPS:()=>Nc,Outliner:()=>S4,PDFDataRangeTransport:()=>M9,PDFDateString:()=>Gk,PDFWorker:()=>X0,PasswordResponses:()=>t$,PermissionFlag:()=>e$,PixelsPerInch:()=>Bf,RenderingCancelledException:()=>U8,TextLayer:()=>cw,UnexpectedResponseException:()=>d5,Util:()=>yr,VerbosityLevel:()=>l5,XfaLayer:()=>L9,build:()=>DG,createValidAbsoluteUrl:()=>a$,fetchData:()=>g5,getDocument:()=>xG,getFilenameFromUrl:()=>m$,getPdfFilenameFromUrl:()=>g$,getXfaPageViewport:()=>b$,isDataScheme:()=>H8,isPdfFile:()=>q8,noContextMenu:()=>Fo,normalizeUnicode:()=>d$,renderTextLayer:()=>dG,setLayerDimensions:()=>Lm,shadow:()=>jn,updateTextLayer:()=>hG,version:()=>CG});const zi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Bk=[1,0,0,1,0,0],P_=[.001,0,0,.001,0,0],ZV=1e7,B6=1.35,Wl={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},Jh={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},QV="pdfjs_internal_editor_",wn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},zr={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},e$={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Oi={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},fx={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ja={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Fg={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},l5={ERRORS:0,WARNINGS:1,INFOS:5},R_={NONE:0,BINARY:1},Nc={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t$={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let c5=l5.WARNINGS;function r$(n){Number.isInteger(n)&&(c5=n)}function n$(){return c5}function u5(n){c5>=l5.INFOS&&console.log(`Info: ${n}`)}function cn(n){c5>=l5.WARNINGS&&console.log(`Warning: ${n}`)}function ls(n){throw new Error(n)}function Ua(n,r){n||ls(r)}function s$(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function a$(n,r=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const s=n.match(/\./g);(s==null?void 0:s.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=u$(n)}catch{}}const e=r?new URL(n,r):new URL(n);if(s$(e))return e}catch{}return null}function jn(n,r,t,e=!1){return Object.defineProperty(n,r,{value:t,enumerable:!e,configurable:!0,writable:!1}),t}const Yf=function(){function r(t,e){this.constructor===r&&ls("Cannot initialize BaseException."),this.message=t,this.name=e}return r.prototype=new Error,r.constructor=r,r}();class M_ extends Yf{constructor(r,t){super(r,"PasswordException"),this.code=t}}class O_ extends Yf{constructor(r,t){super(r,"UnknownErrorException"),this.details=t}}class Uk extends Yf{constructor(r){super(r,"InvalidPDFException")}}class Qm extends Yf{constructor(r){super(r,"MissingPDFException")}}class d5 extends Yf{constructor(r,t){super(r,"UnexpectedResponseException"),this.status=t}}class i$ extends Yf{constructor(r){super(r,"FormatError")}}class e0 extends Yf{constructor(r){super(r,"AbortException")}}function Hk(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&ls("Invalid argument for bytesToString");const r=n.length,t=8192;if(r<t)return String.fromCharCode.apply(null,n);const e=[];for(let s=0;s<r;s+=t){const a=Math.min(s+t,r),i=n.subarray(s,a);e.push(String.fromCharCode.apply(null,i))}return e.join("")}function h5(n){typeof n!="string"&&ls("Invalid argument for stringToBytes");const r=n.length,t=new Uint8Array(r);for(let e=0;e<r;++e)t[e]=n.charCodeAt(e)&255;return t}function o$(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function L8(n){const r=Object.create(null);for(const[t,e]of n)r[t]=e;return r}function l$(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function c$(){try{return new Function(""),!0}catch{return!1}}class Oo{static get isLittleEndian(){return jn(this,"isLittleEndian",l$())}static get isEvalSupported(){return jn(this,"isEvalSupported",c$())}static get isOffscreenCanvasSupported(){return jn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?jn(this,"platform",{isMac:navigator.platform.includes("Mac")}):jn(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var r,t;return jn(this,"isCSSRoundSupported",(t=(r=globalThis.CSS)==null?void 0:r.supports)==null?void 0:t.call(r,"width: round(1.5px, 1px)"))}}const U6=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var vh,px,L_;class yr{static makeHexColor(r,t,e){return`#${U6[r]}${U6[t]}${U6[e]}`}static scaleMinMax(r,t){let e;r[0]?(r[0]<0&&(e=t[0],t[0]=t[2],t[2]=e),t[0]*=r[0],t[2]*=r[0],r[3]<0&&(e=t[1],t[1]=t[3],t[3]=e),t[1]*=r[3],t[3]*=r[3]):(e=t[0],t[0]=t[1],t[1]=e,e=t[2],t[2]=t[3],t[3]=e,r[1]<0&&(e=t[1],t[1]=t[3],t[3]=e),t[1]*=r[1],t[3]*=r[1],r[2]<0&&(e=t[0],t[0]=t[2],t[2]=e),t[0]*=r[2],t[2]*=r[2]),t[0]+=r[4],t[1]+=r[5],t[2]+=r[4],t[3]+=r[5]}static transform(r,t){return[r[0]*t[0]+r[2]*t[1],r[1]*t[0]+r[3]*t[1],r[0]*t[2]+r[2]*t[3],r[1]*t[2]+r[3]*t[3],r[0]*t[4]+r[2]*t[5]+r[4],r[1]*t[4]+r[3]*t[5]+r[5]]}static applyTransform(r,t){const e=r[0]*t[0]+r[1]*t[2]+t[4],s=r[0]*t[1]+r[1]*t[3]+t[5];return[e,s]}static applyInverseTransform(r,t){const e=t[0]*t[3]-t[1]*t[2],s=(r[0]*t[3]-r[1]*t[2]+t[2]*t[5]-t[4]*t[3])/e,a=(-r[0]*t[1]+r[1]*t[0]+t[4]*t[1]-t[5]*t[0])/e;return[s,a]}static getAxialAlignedBoundingBox(r,t){const e=this.applyTransform(r,t),s=this.applyTransform(r.slice(2,4),t),a=this.applyTransform([r[0],r[3]],t),i=this.applyTransform([r[2],r[1]],t);return[Math.min(e[0],s[0],a[0],i[0]),Math.min(e[1],s[1],a[1],i[1]),Math.max(e[0],s[0],a[0],i[0]),Math.max(e[1],s[1],a[1],i[1])]}static inverseTransform(r){const t=r[0]*r[3]-r[1]*r[2];return[r[3]/t,-r[1]/t,-r[2]/t,r[0]/t,(r[2]*r[5]-r[4]*r[3])/t,(r[4]*r[1]-r[5]*r[0])/t]}static singularValueDecompose2dScale(r){const t=[r[0],r[2],r[1],r[3]],e=r[0]*t[0]+r[1]*t[2],s=r[0]*t[1]+r[1]*t[3],a=r[2]*t[0]+r[3]*t[2],i=r[2]*t[1]+r[3]*t[3],o=(e+i)/2,u=Math.sqrt((e+i)**2-4*(e*i-a*s))/2,c=o+u||1,l=o-u||1;return[Math.sqrt(c),Math.sqrt(l)]}static normalizeRect(r){const t=r.slice(0);return r[0]>r[2]&&(t[0]=r[2],t[2]=r[0]),r[1]>r[3]&&(t[1]=r[3],t[3]=r[1]),t}static intersect(r,t){const e=Math.max(Math.min(r[0],r[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(r[0],r[2]),Math.max(t[0],t[2]));if(e>s)return null;const a=Math.max(Math.min(r[1],r[3]),Math.min(t[1],t[3])),i=Math.min(Math.max(r[1],r[3]),Math.max(t[1],t[3]));return a>i?null:[e,a,s,i]}static bezierBoundingBox(r,t,e,s,a,i,o,u,c){return c?(c[0]=Math.min(c[0],r,o),c[1]=Math.min(c[1],t,u),c[2]=Math.max(c[2],r,o),c[3]=Math.max(c[3],t,u)):c=[Math.min(r,o),Math.min(t,u),Math.max(r,o),Math.max(t,u)],De(this,vh,L_).call(this,r,e,a,o,t,s,i,u,3*(-r+3*(e-a)+o),6*(r-2*e+a),3*(e-r),c),De(this,vh,L_).call(this,r,e,a,o,t,s,i,u,3*(-t+3*(s-i)+u),6*(t-2*s+i),3*(s-t),c),c}}vh=new WeakSet,px=function(r,t,e,s,a,i,o,u,c,l){if(c<=0||c>=1)return;const d=1-c,p=c*c,h=p*c,f=d*(d*(d*r+3*c*t)+3*p*e)+h*s,b=d*(d*(d*a+3*c*i)+3*p*o)+h*u;l[0]=Math.min(l[0],f),l[1]=Math.min(l[1],b),l[2]=Math.max(l[2],f),l[3]=Math.max(l[3],b)},L_=function(r,t,e,s,a,i,o,u,c,l,d,p){if(Math.abs(c)<1e-12){Math.abs(l)>=1e-12&&De(this,vh,px).call(this,r,t,e,s,a,i,o,u,-d/l,p);return}const h=l**2-4*d*c;if(h<0)return;const f=Math.sqrt(h),b=2*c;De(this,vh,px).call(this,r,t,e,s,a,i,o,u,(-l+f)/b,p),De(this,vh,px).call(this,r,t,e,s,a,i,o,u,(-l-f)/b,p)},je(yr,vh);function u$(n){return decodeURIComponent(escape(n))}let H6=null,Z3=null;function d$(n){return H6||(H6=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Z3=new Map([["","t"]])),n.replaceAll(H6,(r,t,e)=>t?t.normalize("NFKC"):Z3.get(e))}function h$(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let r=0;r<32;r++)n[r]=Math.floor(Math.random()*255);return Hk(n)}const qk="pdfjs_internal_id_",Pd={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class f5{constructor(){this.constructor===f5&&ls("Cannot initialize BaseFilterFactory.")}addFilter(r){return"none"}addHCMFilter(r,t){return"none"}addAlphaFilter(r){return"none"}addLuminosityFilter(r){return"none"}addHighlightHCMFilter(r,t,e,s,a){return"none"}destroy(r=!1){}}var Wb;const wS=class wS{constructor({enableHWA:r=!1}={}){je(this,Wb,!1);this.constructor===wS&&ls("Cannot initialize BaseCanvasFactory."),Ne(this,Wb,r)}create(r,t){if(r<=0||t<=0)throw new Error("Invalid canvas size");const e=this._createCanvas(r,t);return{canvas:e,context:e.getContext("2d",{willReadFrequently:!X(this,Wb)})}}reset(r,t,e){if(!r.canvas)throw new Error("Canvas is not specified");if(t<=0||e<=0)throw new Error("Invalid canvas size");r.canvas.width=t,r.canvas.height=e}destroy(r){if(!r.canvas)throw new Error("Canvas is not specified");r.canvas.width=0,r.canvas.height=0,r.canvas=null,r.context=null}_createCanvas(r,t){ls("Abstract method `_createCanvas` called.")}};Wb=new WeakMap;let aw=wS;class p5{constructor({baseUrl:r=null,isCompressed:t=!0}){this.constructor===p5&&ls("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=r,this.isCompressed=t}async fetch({name:r}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!r)throw new Error("CMap name must be specified.");const t=this.baseUrl+r+(this.isCompressed?".bcmap":""),e=this.isCompressed?R_.BINARY:R_.NONE;return this._fetchData(t,e).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}_fetchData(r,t){ls("Abstract method `_fetchData` called.")}}class m5{constructor({baseUrl:r=null}){this.constructor===m5&&ls("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=r}async fetch({filename:r}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!r)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${r}`;return this._fetchData(t).catch(e=>{throw new Error(`Unable to load font data at: ${t}`)})}_fetchData(r){ls("Abstract method `_fetchData` called.")}}class F8{constructor(){this.constructor===F8&&ls("Cannot initialize BaseSVGFactory.")}create(r,t,e=!1){if(r<=0||t<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),e||(s.setAttribute("width",`${r}px`),s.setAttribute("height",`${t}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${r} ${t}`),s}createElement(r){if(typeof r!="string")throw new Error("Invalid SVG element type");return this._createSVG(r)}_createSVG(r){ls("Abstract method `_createSVG` called.")}}const Md="http://www.w3.org/2000/svg",Ep=class Ep{};Ot(Ep,"CSS",96),Ot(Ep,"PDF",72),Ot(Ep,"PDF_TO_CSS_UNITS",Ep.CSS/Ep.PDF);let Bf=Ep;var Tp,xu,Hd,Io,Ew,jp,hr,Li,O0,L0,mx,Wk,F_,F0,Wg,zg,B_,Vg;class f$ extends f5{constructor({docId:t,ownerDocument:e=globalThis.document}={}){super();je(this,hr);je(this,Tp);je(this,xu);je(this,Hd);je(this,Io);je(this,Ew);je(this,jp,0);Ne(this,Hd,t),Ne(this,Io,e)}addFilter(t){if(!t)return"none";let e=X(this,hr,Li).get(t);if(e)return e;const[s,a,i]=De(this,hr,mx).call(this,t),o=t.length===1?s:`${s}${a}${i}`;if(e=X(this,hr,Li).get(o),e)return X(this,hr,Li).set(t,e),e;const u=`g_${X(this,Hd)}_transfer_map_${tl(this,jp)._++}`,c=`url(#${u})`;X(this,hr,Li).set(t,c),X(this,hr,Li).set(o,c);const l=De(this,hr,F0).call(this,u);return De(this,hr,zg).call(this,s,a,i,l),c}addHCMFilter(t,e){var f;const s=`${t}-${e}`,a="base";let i=X(this,hr,O0).get(a);if((i==null?void 0:i.key)===s||(i?((f=i.filter)==null||f.remove(),i.key=s,i.url="none",i.filter=null):(i={key:s,url:"none",filter:null},X(this,hr,O0).set(a,i)),!t||!e))return i.url;const o=De(this,hr,Vg).call(this,t);t=yr.makeHexColor(...o);const u=De(this,hr,Vg).call(this,e);if(e=yr.makeHexColor(...u),X(this,hr,L0).style.color="",t==="#000000"&&e==="#ffffff"||t===e)return i.url;const c=new Array(256);for(let b=0;b<=255;b++){const y=b/255;c[b]=y<=.03928?y/12.92:((y+.055)/1.055)**2.4}const l=c.join(","),d=`g_${X(this,Hd)}_hcm_filter`,p=i.filter=De(this,hr,F0).call(this,d);De(this,hr,zg).call(this,l,l,l,p),De(this,hr,F_).call(this,p);const h=(b,y)=>{const g=o[b]/255,x=u[b]/255,v=new Array(y+1);for(let w=0;w<=y;w++)v[w]=g+w/y*(x-g);return v.join(",")};return De(this,hr,zg).call(this,h(0,5),h(1,5),h(2,5),p),i.url=`url(#${d})`,i.url}addAlphaFilter(t){let e=X(this,hr,Li).get(t);if(e)return e;const[s]=De(this,hr,mx).call(this,[t]),a=`alpha_${s}`;if(e=X(this,hr,Li).get(a),e)return X(this,hr,Li).set(t,e),e;const i=`g_${X(this,Hd)}_alpha_map_${tl(this,jp)._++}`,o=`url(#${i})`;X(this,hr,Li).set(t,o),X(this,hr,Li).set(a,o);const u=De(this,hr,F0).call(this,i);return De(this,hr,B_).call(this,s,u),o}addLuminosityFilter(t){let e=X(this,hr,Li).get(t||"luminosity");if(e)return e;let s,a;if(t?([s]=De(this,hr,mx).call(this,[t]),a=`luminosity_${s}`):a="luminosity",e=X(this,hr,Li).get(a),e)return X(this,hr,Li).set(t,e),e;const i=`g_${X(this,Hd)}_luminosity_map_${tl(this,jp)._++}`,o=`url(#${i})`;X(this,hr,Li).set(t,o),X(this,hr,Li).set(a,o);const u=De(this,hr,F0).call(this,i);return De(this,hr,Wk).call(this,u),t&&De(this,hr,B_).call(this,s,u),o}addHighlightHCMFilter(t,e,s,a,i){var x;const o=`${e}-${s}-${a}-${i}`;let u=X(this,hr,O0).get(t);if((u==null?void 0:u.key)===o||(u?((x=u.filter)==null||x.remove(),u.key=o,u.url="none",u.filter=null):(u={key:o,url:"none",filter:null},X(this,hr,O0).set(t,u)),!e||!s))return u.url;const[c,l]=[e,s].map(De(this,hr,Vg).bind(this));let d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),p=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),[h,f]=[a,i].map(De(this,hr,Vg).bind(this));p<d&&([d,p,h,f]=[p,d,f,h]),X(this,hr,L0).style.color="";const b=(v,w,S)=>{const D=new Array(256),T=(p-d)/S,R=v/255,P=(w-v)/(255*S);let L=0;for(let O=0;O<=S;O++){const H=Math.round(d+O*T),U=R+O*P;for(let I=L;I<=H;I++)D[I]=U;L=H+1}for(let O=L;O<256;O++)D[O]=D[L-1];return D.join(",")},y=`g_${X(this,Hd)}_hcm_${t}_filter`,g=u.filter=De(this,hr,F0).call(this,y);return De(this,hr,F_).call(this,g),De(this,hr,zg).call(this,b(h[0],f[0],5),b(h[1],f[1],5),b(h[2],f[2],5),g),u.url=`url(#${y})`,u.url}destroy(t=!1){t&&X(this,hr,O0).size!==0||(X(this,xu)&&(X(this,xu).parentNode.parentNode.remove(),Ne(this,xu,null)),X(this,Tp)&&(X(this,Tp).clear(),Ne(this,Tp,null)),Ne(this,jp,0))}}Tp=new WeakMap,xu=new WeakMap,Hd=new WeakMap,Io=new WeakMap,Ew=new WeakMap,jp=new WeakMap,hr=new WeakSet,Li=function(){return X(this,Tp)||Ne(this,Tp,new Map)},O0=function(){return X(this,Ew)||Ne(this,Ew,new Map)},L0=function(){if(!X(this,xu)){const t=X(this,Io).createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const s=X(this,Io).createElementNS(Md,"svg");s.setAttribute("width",0),s.setAttribute("height",0),Ne(this,xu,X(this,Io).createElementNS(Md,"defs")),t.append(s),s.append(X(this,xu)),X(this,Io).body.append(t)}return X(this,xu)},mx=function(t){if(t.length===1){const c=t[0],l=new Array(256);for(let p=0;p<256;p++)l[p]=c[p]/255;const d=l.join(",");return[d,d,d]}const[e,s,a]=t,i=new Array(256),o=new Array(256),u=new Array(256);for(let c=0;c<256;c++)i[c]=e[c]/255,o[c]=s[c]/255,u[c]=a[c]/255;return[i.join(","),o.join(","),u.join(",")]},Wk=function(t){const e=X(this,Io).createElementNS(Md,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)},F_=function(t){const e=X(this,Io).createElementNS(Md,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)},F0=function(t){const e=X(this,Io).createElementNS(Md,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),X(this,hr,L0).append(e),e},Wg=function(t,e,s){const a=X(this,Io).createElementNS(Md,e);a.setAttribute("type","discrete"),a.setAttribute("tableValues",s),t.append(a)},zg=function(t,e,s,a){const i=X(this,Io).createElementNS(Md,"feComponentTransfer");a.append(i),De(this,hr,Wg).call(this,i,"feFuncR",t),De(this,hr,Wg).call(this,i,"feFuncG",e),De(this,hr,Wg).call(this,i,"feFuncB",s)},B_=function(t,e){const s=X(this,Io).createElementNS(Md,"feComponentTransfer");e.append(s),De(this,hr,Wg).call(this,s,"feFuncA",t)},Vg=function(t){return X(this,hr,L0).style.color=t,W8(getComputedStyle(X(this,hr,L0)).getPropertyValue("color"))};class p$ extends aw{constructor({ownerDocument:r=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=r}_createCanvas(r,t){const e=this._document.createElement("canvas");return e.width=r,e.height=t,e}}async function g5(n,r="text"){if($g(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(r){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,e)=>{const s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType=r,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(r){case"arraybuffer":case"blob":case"json":t(s.response);return}t(s.responseText);return}e(new Error(s.statusText))}},s.send(null)})}class zk extends p5{_fetchData(r,t){return g5(r,this.isCompressed?"arraybuffer":"text").then(e=>({cMapData:e instanceof ArrayBuffer?new Uint8Array(e):h5(e),compressionType:t}))}}class Vk extends m5{_fetchData(r){return g5(r,"arraybuffer").then(t=>new Uint8Array(t))}}class B8 extends F8{_createSVG(r){return document.createElementNS(Md,r)}}class Cv{constructor({viewBox:r,scale:t,rotation:e,offsetX:s=0,offsetY:a=0,dontFlip:i=!1}){this.viewBox=r,this.scale=t,this.rotation=e,this.offsetX=s,this.offsetY=a;const o=(r[2]+r[0])/2,u=(r[3]+r[1])/2;let c,l,d,p;switch(e%=360,e<0&&(e+=360),e){case 180:c=-1,l=0,d=0,p=1;break;case 90:c=0,l=1,d=1,p=0;break;case 270:c=0,l=-1,d=-1,p=0;break;case 0:c=1,l=0,d=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}i&&(d=-d,p=-p);let h,f,b,y;c===0?(h=Math.abs(u-r[1])*t+s,f=Math.abs(o-r[0])*t+a,b=(r[3]-r[1])*t,y=(r[2]-r[0])*t):(h=Math.abs(o-r[0])*t+s,f=Math.abs(u-r[1])*t+a,b=(r[2]-r[0])*t,y=(r[3]-r[1])*t),this.transform=[c*t,l*t,d*t,p*t,h-c*t*o-d*t*u,f-l*t*o-p*t*u],this.width=b,this.height=y}get rawDims(){const{viewBox:r}=this;return jn(this,"rawDims",{pageWidth:r[2]-r[0],pageHeight:r[3]-r[1],pageX:r[0],pageY:r[1]})}clone({scale:r=this.scale,rotation:t=this.rotation,offsetX:e=this.offsetX,offsetY:s=this.offsetY,dontFlip:a=!1}={}){return new Cv({viewBox:this.viewBox.slice(),scale:r,rotation:t,offsetX:e,offsetY:s,dontFlip:a})}convertToViewportPoint(r,t){return yr.applyTransform([r,t],this.transform)}convertToViewportRectangle(r){const t=yr.applyTransform([r[0],r[1]],this.transform),e=yr.applyTransform([r[2],r[3]],this.transform);return[t[0],t[1],e[0],e[1]]}convertToPdfPoint(r,t){return yr.applyInverseTransform([r,t],this.transform)}}class U8 extends Yf{constructor(r,t=0){super(r,"RenderingCancelledException"),this.extraDelay=t}}function H8(n){const r=n.length;let t=0;for(;t<r&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function q8(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function m$(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function g$(n,r="document.pdf"){if(typeof n!="string")return r;if(H8(n))return cn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),r;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,e=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=t.exec(n);let a=e.exec(s[1])||e.exec(s[2])||e.exec(s[3]);if(a&&(a=a[0],a.includes("%")))try{a=e.exec(decodeURIComponent(a))[0]}catch{}return a||r}class Q3{constructor(){Ot(this,"started",Object.create(null));Ot(this,"times",[])}time(r){r in this.started&&cn(`Timer is already running for ${r}`),this.started[r]=Date.now()}timeEnd(r){r in this.started||cn(`Timer has not been started for ${r}`),this.times.push({name:r,start:this.started[r],end:Date.now()}),delete this.started[r]}toString(){const r=[];let t=0;for(const{name:e}of this.times)t=Math.max(e.length,t);for(const{name:e,start:s,end:a}of this.times)r.push(`${e.padEnd(t)} ${a-s}ms
`);return r.join("")}}function $g(n,r){try{const{protocol:t}=r?new URL(n,r):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function Fo(n){n.preventDefault()}function $k(n){console.log("Deprecated API usage: "+n)}let e7;class Gk{static toDateObject(r){if(!r||typeof r!="string")return null;e7||(e7=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=e7.exec(r);if(!t)return null;const e=parseInt(t[1],10);let s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let a=parseInt(t[3],10);a=a>=1&&a<=31?a:1;let i=parseInt(t[4],10);i=i>=0&&i<=23?i:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let u=parseInt(t[6],10);u=u>=0&&u<=59?u:0;const c=t[7]||"Z";let l=parseInt(t[8],10);l=l>=0&&l<=23?l:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(i+=l,o+=d):c==="+"&&(i-=l,o-=d),new Date(Date.UTC(e,s,a,i,o,u))}}function b$(n,{scale:r=1,rotation:t=0}){const{width:e,height:s}=n.attributes.style,a=[0,0,parseInt(e),parseInt(s)];return new Cv({viewBox:a,scale:r,rotation:t})}function W8(n){if(n.startsWith("#")){const r=parseInt(n.slice(1),16);return[(r&16711680)>>16,(r&65280)>>8,r&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(r=>parseInt(r)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(r=>parseInt(r)).slice(0,3):(cn(`Not a valid color format: "${n}"`),[0,0,0])}function y$(n){const r=document.createElement("span");r.style.visibility="hidden",document.body.append(r);for(const t of n.keys()){r.style.color=t;const e=window.getComputedStyle(r).color;n.set(t,W8(e))}r.remove()}function Ws(n){const{a:r,b:t,c:e,d:s,e:a,f:i}=n.getTransform();return[r,t,e,s,a,i]}function Rd(n){const{a:r,b:t,c:e,d:s,e:a,f:i}=n.getTransform().invertSelf();return[r,t,e,s,a,i]}function Lm(n,r,t=!1,e=!0){if(r instanceof Cv){const{pageWidth:s,pageHeight:a}=r.rawDims,{style:i}=n,o=Oo.isCSSRoundSupported,u=`var(--scale-factor) * ${s}px`,c=`var(--scale-factor) * ${a}px`,l=o?`round(${u}, 1px)`:`calc(${u})`,d=o?`round(${c}, 1px)`:`calc(${c})`;!t||r.rotation%180===0?(i.width=l,i.height=d):(i.width=d,i.height=l)}e&&n.setAttribute("data-main-rotation",r.rotation)}var Ip,Pp,sl,Rp,Nw,Yk,go,Kk,Xk,gx,Jk,H_;const Aw=class Aw{constructor(r){je(this,go);je(this,Ip,null);je(this,Pp,null);je(this,sl);je(this,Rp,null);Ne(this,sl,r)}render(){const r=Ne(this,Ip,document.createElement("div"));r.className="editToolbar",r.setAttribute("role","toolbar");const t=X(this,sl)._uiManager._signal;r.addEventListener("contextmenu",Fo,{signal:t}),r.addEventListener("pointerdown",De(Aw,Nw,Yk),{signal:t});const e=Ne(this,Rp,document.createElement("div"));e.className="buttons",r.append(e);const s=X(this,sl).toolbarPosition;if(s){const{style:a}=r,i=X(this,sl)._uiManager.direction==="ltr"?1-s[0]:s[0];a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return De(this,go,Jk).call(this),r}hide(){var r;X(this,Ip).classList.add("hidden"),(r=X(this,Pp))==null||r.hideDropdown()}show(){X(this,Ip).classList.remove("hidden")}addAltTextButton(r){De(this,go,gx).call(this,r),X(this,Rp).prepend(r,X(this,go,H_))}addColorPicker(r){Ne(this,Pp,r);const t=r.renderButton();De(this,go,gx).call(this,t),X(this,Rp).prepend(t,X(this,go,H_))}remove(){var r;X(this,Ip).remove(),(r=X(this,Pp))==null||r.destroy(),Ne(this,Pp,null)}};Ip=new WeakMap,Pp=new WeakMap,sl=new WeakMap,Rp=new WeakMap,Nw=new WeakSet,Yk=function(r){r.stopPropagation()},go=new WeakSet,Kk=function(r){X(this,sl)._focusEventsAllowed=!1,r.preventDefault(),r.stopPropagation()},Xk=function(r){X(this,sl)._focusEventsAllowed=!0,r.preventDefault(),r.stopPropagation()},gx=function(r){const t=X(this,sl)._uiManager._signal;r.addEventListener("focusin",De(this,go,Kk).bind(this),{capture:!0,signal:t}),r.addEventListener("focusout",De(this,go,Xk).bind(this),{capture:!0,signal:t}),r.addEventListener("contextmenu",Fo,{signal:t})},Jk=function(){const r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",`pdfjs-editor-remove-${X(this,sl).editorType}-button`),De(this,go,gx).call(this,r),r.addEventListener("click",t=>{X(this,sl)._uiManager.delete()},{signal:X(this,sl)._uiManager._signal}),X(this,Rp).append(r)},H_=function(){const r=document.createElement("div");return r.className="divider",r},je(Aw,Nw);let U_=Aw;var zb,Mp,Op,Wf,Zk,Qk,e9;class v${constructor(r){je(this,Wf);je(this,zb,null);je(this,Mp,null);je(this,Op);Ne(this,Op,r)}show(r,t,e){const[s,a]=De(this,Wf,Qk).call(this,t,e),{style:i}=X(this,Mp)||Ne(this,Mp,De(this,Wf,Zk).call(this));r.append(X(this,Mp)),i.insetInlineEnd=`${100*s}%`,i.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){X(this,Mp).remove()}}zb=new WeakMap,Mp=new WeakMap,Op=new WeakMap,Wf=new WeakSet,Zk=function(){const r=Ne(this,Mp,document.createElement("div"));r.className="editToolbar",r.setAttribute("role","toolbar"),r.addEventListener("contextmenu",Fo,{signal:X(this,Op)._signal});const t=Ne(this,zb,document.createElement("div"));return t.className="buttons",r.append(t),De(this,Wf,e9).call(this),r},Qk=function(r,t){let e=0,s=0;for(const a of r){const i=a.y+a.height;if(i<e)continue;const o=a.x+(t?a.width:0);if(i>e){s=o,e=i;continue}t?o>s&&(s=o):o<s&&(s=o)}return[t?1-s:s,e]},e9=function(){const r=document.createElement("button");r.className="highlightButton",r.tabIndex=0,r.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");r.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const e=X(this,Op)._signal;r.addEventListener("contextmenu",Fo,{signal:e}),r.addEventListener("click",()=>{X(this,Op).highlightSelection("floating_button")},{signal:e}),X(this,zb).append(r)};function iw(n,r,t){for(const e of t)r.addEventListener(e,n[e].bind(n))}function x$(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var kw;class w${constructor(){je(this,kw,0)}get id(){return`${QV}${tl(this,kw)._++}`}}kw=new WeakMap;var Vb,Cw,Fl,$b,W_;const _S=class _S{constructor(){je(this,$b);je(this,Vb,h$());je(this,Cw,0);je(this,Fl,null)}static get _isSVGFittingCanvas(){const r='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',e=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=r;const a=s.decode().then(()=>(e.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0]===0));return jn(this,"_isSVGFittingCanvas",a)}async getFromFile(r){const{lastModified:t,name:e,size:s,type:a}=r;return De(this,$b,W_).call(this,`${t}_${e}_${s}_${a}`,r)}async getFromUrl(r){return De(this,$b,W_).call(this,r,r)}async getFromId(r){X(this,Fl)||Ne(this,Fl,new Map);const t=X(this,Fl).get(r);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null}getSvgUrl(r){const t=X(this,Fl).get(r);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(r){X(this,Fl)||Ne(this,Fl,new Map);const t=X(this,Fl).get(r);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(r){return r.startsWith(`image_${X(this,Vb)}_`)}};Vb=new WeakMap,Cw=new WeakMap,Fl=new WeakMap,$b=new WeakSet,W_=async function(r,t){X(this,Fl)||Ne(this,Fl,new Map);let e=X(this,Fl).get(r);if(e===null)return null;if(e!=null&&e.bitmap)return e.refCounter+=1,e;try{e||(e={bitmap:null,id:`image_${X(this,Vb)}_${tl(this,Cw)._++}`,refCounter:0,isSvg:!1});let s;if(typeof t=="string"?(e.url=t,s=await g5(t,"blob")):s=e.file=t,s.type==="image/svg+xml"){const a=_S._isSVGFittingCanvas,i=new FileReader,o=new Image,u=new Promise((c,l)=>{o.onload=()=>{e.bitmap=o,e.isSvg=!0,c()},i.onload=async()=>{const d=e.svgUrl=i.result;o.src=await a?`${d}#svgView(preserveAspectRatio(none))`:d},o.onerror=i.onerror=l});i.readAsDataURL(s),await u}else e.bitmap=await createImageBitmap(s);e.refCounter=1}catch(s){console.error(s),e=null}return X(this,Fl).set(r,e),e&&X(this,Fl).set(e.id,e),e};let q_=_S;var Ja,ef,Gb,Za;class _${constructor(r=128){je(this,Ja,[]);je(this,ef,!1);je(this,Gb);je(this,Za,-1);Ne(this,Gb,r)}add({cmd:r,undo:t,post:e,mustExec:s,type:a=NaN,overwriteIfSameType:i=!1,keepUndo:o=!1}){if(s&&r(),X(this,ef))return;const u={cmd:r,undo:t,post:e,type:a};if(X(this,Za)===-1){X(this,Ja).length>0&&(X(this,Ja).length=0),Ne(this,Za,0),X(this,Ja).push(u);return}if(i&&X(this,Ja)[X(this,Za)].type===a){o&&(u.undo=X(this,Ja)[X(this,Za)].undo),X(this,Ja)[X(this,Za)]=u;return}const c=X(this,Za)+1;c===X(this,Gb)?X(this,Ja).splice(0,1):(Ne(this,Za,c),c<X(this,Ja).length&&X(this,Ja).splice(c)),X(this,Ja).push(u)}undo(){if(X(this,Za)===-1)return;Ne(this,ef,!0);const{undo:r,post:t}=X(this,Ja)[X(this,Za)];r(),t==null||t(),Ne(this,ef,!1),Ne(this,Za,X(this,Za)-1)}redo(){if(X(this,Za)<X(this,Ja).length-1){Ne(this,Za,X(this,Za)+1),Ne(this,ef,!0);const{cmd:r,post:t}=X(this,Ja)[X(this,Za)];r(),t==null||t(),Ne(this,ef,!1)}}hasSomethingToUndo(){return X(this,Za)!==-1}hasSomethingToRedo(){return X(this,Za)<X(this,Ja).length-1}destroy(){Ne(this,Ja,null)}}Ja=new WeakMap,ef=new WeakMap,Gb=new WeakMap,Za=new WeakMap;var Dw,t9;class Dv{constructor(r){je(this,Dw);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Oo.platform;for(const[e,s,a={}]of r)for(const i of e){const o=i.startsWith("mac+");t&&o?(this.callbacks.set(i.slice(4),{callback:s,options:a}),this.allKeys.add(i.split("+").at(-1))):!t&&!o&&(this.callbacks.set(i,{callback:s,options:a}),this.allKeys.add(i.split("+").at(-1)))}}exec(r,t){if(!this.allKeys.has(t.key))return;const e=this.callbacks.get(De(this,Dw,t9).call(this,t));if(!e)return;const{callback:s,options:{bubbles:a=!1,args:i=[],checker:o=null}}=e;o&&!o(r,t)||(s.bind(r,...i,t)(),a||(t.stopPropagation(),t.preventDefault()))}}Dw=new WeakSet,t9=function(r){r.altKey&&this.buffer.push("alt"),r.ctrlKey&&this.buffer.push("ctrl"),r.metaKey&&this.buffer.push("meta"),r.shiftKey&&this.buffer.push("shift"),this.buffer.push(r.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Tw=class Tw{get _colors(){const r=new Map([["CanvasText",null],["Canvas",null]]);return y$(r),jn(this,"_colors",r)}convert(r){const t=W8(r);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[e,s]of this._colors)if(s.every((a,i)=>a===t[i]))return Tw._colorsMapping.get(e);return t}getHexCode(r){const t=this._colors.get(r);return t?yr.makeHexColor(...t):r}};Ot(Tw,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let z_=Tw;var r1,al,Ia,li,n1,qd,s1,Ac,a1,Lp,wu,kc,Fp,Yb,Kb,_u,i1,tf,Su,jw,rf,Xb,Bp,Jb,o1,ci,Qn,Wd,Up,Zb,Qb,ey,ty,ry,ny,sy,ay,iy,oy,ly,cy,uy,nf,Eu,zd,dy,sr,bx,r9,n9,yx,s9,a9,i9,V_,o9,$_,G_,l9,so,Gh,c9,u9,Y_,d9,Gg,K_;const V0=class V0{constructor(r,t,e,s,a,i,o,u,c){je(this,sr);je(this,r1,new AbortController);je(this,al,null);je(this,Ia,new Map);je(this,li,new Map);je(this,n1,null);je(this,qd,null);je(this,s1,null);je(this,Ac,new _$);je(this,a1,0);je(this,Lp,new Set);je(this,wu,null);je(this,kc,null);je(this,Fp,new Set);je(this,Yb,!1);je(this,Kb,null);je(this,_u,null);je(this,i1,null);je(this,tf,!1);je(this,Su,null);je(this,jw,new w$);je(this,rf,!1);je(this,Xb,!1);je(this,Bp,null);je(this,Jb,null);je(this,o1,null);je(this,ci,wn.NONE);je(this,Qn,new Set);je(this,Wd,null);je(this,Up,null);je(this,Zb,null);je(this,Qb,this.blur.bind(this));je(this,ey,this.focus.bind(this));je(this,ty,this.copy.bind(this));je(this,ry,this.cut.bind(this));je(this,ny,this.paste.bind(this));je(this,sy,this.keydown.bind(this));je(this,ay,this.keyup.bind(this));je(this,iy,this.onEditingAction.bind(this));je(this,oy,this.onPageChanging.bind(this));je(this,ly,this.onScaleChanging.bind(this));je(this,cy,this.onRotationChanging.bind(this));je(this,uy,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});je(this,nf,[0,0]);je(this,Eu,null);je(this,zd,null);je(this,dy,null);this._signal=X(this,r1).signal,Ne(this,zd,r),Ne(this,dy,t),Ne(this,n1,e),this._eventBus=s,this._eventBus._on("editingaction",X(this,iy)),this._eventBus._on("pagechanging",X(this,oy)),this._eventBus._on("scalechanging",X(this,ly)),this._eventBus._on("rotationchanging",X(this,cy)),De(this,sr,s9).call(this),De(this,sr,l9).call(this),De(this,sr,V_).call(this),Ne(this,qd,a.annotationStorage),Ne(this,Kb,a.filterFactory),Ne(this,Up,i),Ne(this,i1,o||null),Ne(this,Yb,u),Ne(this,o1,c||null),this.viewParameters={realScale:Bf.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const r=V0.prototype,t=i=>X(i,zd).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&i.hasSomethingToControl(),e=(i,{target:o})=>{if(o instanceof HTMLInputElement){const{type:u}=o;return u!=="text"&&u!=="number"}return!0},s=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return jn(this,"_keyboardManager",new Dv([[["ctrl+a","mac+meta+a"],r.selectAll,{checker:e}],[["ctrl+z","mac+meta+z"],r.undo,{checker:e}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],r.redo,{checker:e}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],r.delete,{checker:e}],[["Enter","mac+Enter"],r.addNewEditorFromKeyboard,{checker:(i,{target:o})=>!(o instanceof HTMLButtonElement)&&X(i,zd).contains(o)&&!i.isEnterHandled}],[[" ","mac+ "],r.addNewEditorFromKeyboard,{checker:(i,{target:o})=>!(o instanceof HTMLButtonElement)&&X(i,zd).contains(document.activeElement)}],[["Escape","mac+Escape"],r.unselectAll],[["ArrowLeft","mac+ArrowLeft"],r.translateSelectedEditors,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],r.translateSelectedEditors,{args:[-a,0],checker:t}],[["ArrowRight","mac+ArrowRight"],r.translateSelectedEditors,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],r.translateSelectedEditors,{args:[a,0],checker:t}],[["ArrowUp","mac+ArrowUp"],r.translateSelectedEditors,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],r.translateSelectedEditors,{args:[0,-a],checker:t}],[["ArrowDown","mac+ArrowDown"],r.translateSelectedEditors,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],r.translateSelectedEditors,{args:[0,a],checker:t}]]))}destroy(){var r,t,e;(r=X(this,r1))==null||r.abort(),Ne(this,r1,null),this._signal=null,this._eventBus._off("editingaction",X(this,iy)),this._eventBus._off("pagechanging",X(this,oy)),this._eventBus._off("scalechanging",X(this,ly)),this._eventBus._off("rotationchanging",X(this,cy));for(const s of X(this,li).values())s.destroy();X(this,li).clear(),X(this,Ia).clear(),X(this,Fp).clear(),Ne(this,al,null),X(this,Qn).clear(),X(this,Ac).destroy(),(t=X(this,n1))==null||t.destroy(),(e=X(this,Su))==null||e.hide(),Ne(this,Su,null),X(this,_u)&&(clearTimeout(X(this,_u)),Ne(this,_u,null)),X(this,Eu)&&(clearTimeout(X(this,Eu)),Ne(this,Eu,null))}async mlGuess(r){var t;return((t=X(this,o1))==null?void 0:t.guess(r))||null}get hasMLManager(){return!!X(this,o1)}get hcmFilter(){return jn(this,"hcmFilter",X(this,Up)?X(this,Kb).addHCMFilter(X(this,Up).foreground,X(this,Up).background):"none")}get direction(){return jn(this,"direction",getComputedStyle(X(this,zd)).direction)}get highlightColors(){return jn(this,"highlightColors",X(this,i1)?new Map(X(this,i1).split(",").map(r=>r.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return jn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,r=>r.reverse())):null)}setMainHighlightColorPicker(r){Ne(this,Jb,r)}editAltText(r){var t;(t=X(this,n1))==null||t.editAltText(this,r)}onPageChanging({pageNumber:r}){Ne(this,a1,r-1)}focusMainContainer(){X(this,zd).focus()}findParent(r,t){for(const e of X(this,li).values()){const{x:s,y:a,width:i,height:o}=e.div.getBoundingClientRect();if(r>=s&&r<=s+i&&t>=a&&t<=a+o)return e}return null}disableUserSelect(r=!1){X(this,dy).classList.toggle("noUserSelect",r)}addShouldRescale(r){X(this,Fp).add(r)}removeShouldRescale(r){X(this,Fp).delete(r)}onScaleChanging({scale:r}){this.commitOrRemove(),this.viewParameters.realScale=r*Bf.PDF_TO_CSS_UNITS;for(const t of X(this,Fp))t.onScaleChanging()}onRotationChanging({pagesRotation:r}){this.commitOrRemove(),this.viewParameters.rotation=r}highlightSelection(r=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:e,anchorOffset:s,focusNode:a,focusOffset:i}=t,o=t.toString(),c=De(this,sr,bx).call(this,t).closest(".textLayer"),l=this.getSelectionBoxes(c);if(l){t.empty(),X(this,ci)===wn.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:wn.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const d of X(this,li).values())if(d.hasTextLayer(c)){d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:r,boxes:l,anchorNode:e,anchorOffset:s,focusNode:a,focusOffset:i,text:o});break}}}addToAnnotationStorage(r){!r.isEmpty()&&X(this,qd)&&!X(this,qd).has(r.id)&&X(this,qd).setValue(r.id,r)}blur(){if(this.isShiftKeyDown=!1,X(this,tf)&&(Ne(this,tf,!1),De(this,sr,yx).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:r}=document;for(const t of X(this,Qn))if(t.div.contains(r)){Ne(this,Bp,[t,r]),t._focusEventsAllowed=!1;break}}focus(){if(!X(this,Bp))return;const[r,t]=X(this,Bp);Ne(this,Bp,null),t.addEventListener("focusin",()=>{r._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){De(this,sr,V_).call(this),De(this,sr,$_).call(this)}removeEditListeners(){De(this,sr,o9).call(this),De(this,sr,G_).call(this)}dragOver(r){for(const{type:t}of r.dataTransfer.items)for(const e of X(this,kc))if(e.isHandlingMimeForPasting(t)){r.dataTransfer.dropEffect="copy",r.preventDefault();return}}drop(r){for(const t of r.dataTransfer.items)for(const e of X(this,kc))if(e.isHandlingMimeForPasting(t.type)){e.paste(t,this.currentLayer),r.preventDefault();return}}copy(r){var e;if(r.preventDefault(),(e=X(this,al))==null||e.commitOrRemove(),!this.hasSelection)return;const t=[];for(const s of X(this,Qn)){const a=s.serialize(!0);a&&t.push(a)}t.length!==0&&r.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(r){this.copy(r),this.delete()}paste(r){r.preventDefault();const{clipboardData:t}=r;for(const a of t.items)for(const i of X(this,kc))if(i.isHandlingMimeForPasting(a.type)){i.paste(a,this.currentLayer);return}let e=t.getData("application/pdfjs");if(!e)return;try{e=JSON.parse(e)}catch(a){cn(`paste: "${a.message}".`);return}if(!Array.isArray(e))return;this.unselectAll();const s=this.currentLayer;try{const a=[];for(const u of e){const c=s.deserialize(u);if(!c)return;a.push(c)}const i=()=>{for(const u of a)De(this,sr,Y_).call(this,u);De(this,sr,K_).call(this,a)},o=()=>{for(const u of a)u.remove()};this.addCommands({cmd:i,undo:o,mustExec:!0})}catch(a){cn(`paste: "${a.message}".`)}}keydown(r){!this.isShiftKeyDown&&r.key==="Shift"&&(this.isShiftKeyDown=!0),X(this,ci)!==wn.NONE&&!this.isEditorHandlingKeyboard&&V0._keyboardManager.exec(this,r)}keyup(r){this.isShiftKeyDown&&r.key==="Shift"&&(this.isShiftKeyDown=!1,X(this,tf)&&(Ne(this,tf,!1),De(this,sr,yx).call(this,"main_toolbar")))}onEditingAction({name:r}){switch(r){case"undo":case"redo":case"delete":case"selectAll":this[r]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(r){r?(De(this,sr,a9).call(this),De(this,sr,$_).call(this),De(this,sr,so).call(this,{isEditing:X(this,ci)!==wn.NONE,isEmpty:De(this,sr,Gg).call(this),hasSomethingToUndo:X(this,Ac).hasSomethingToUndo(),hasSomethingToRedo:X(this,Ac).hasSomethingToRedo(),hasSelectedEditor:!1})):(De(this,sr,i9).call(this),De(this,sr,G_).call(this),De(this,sr,so).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(r){if(!X(this,kc)){Ne(this,kc,r);for(const t of X(this,kc))De(this,sr,Gh).call(this,t.defaultPropertiesToUpdate)}}getId(){return X(this,jw).id}get currentLayer(){return X(this,li).get(X(this,a1))}getLayer(r){return X(this,li).get(r)}get currentPageIndex(){return X(this,a1)}addLayer(r){X(this,li).set(r.pageIndex,r),X(this,rf)?r.enable():r.disable()}removeLayer(r){X(this,li).delete(r.pageIndex)}updateMode(r,t=null,e=!1){if(X(this,ci)!==r){if(Ne(this,ci,r),r===wn.NONE){this.setEditingState(!1),De(this,sr,u9).call(this);return}this.setEditingState(!0),De(this,sr,c9).call(this),this.unselectAll();for(const s of X(this,li).values())s.updateMode(r);if(!t&&e){this.addNewEditorFromKeyboard();return}if(t){for(const s of X(this,Ia).values())if(s.annotationElementId===t){this.setSelected(s),s.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(r){r!==X(this,ci)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:r})}updateParams(r,t){var e;if(X(this,kc)){switch(r){case zr.CREATE:this.currentLayer.addNewEditor();return;case zr.HIGHLIGHT_DEFAULT_COLOR:(e=X(this,Jb))==null||e.updateColor(t);break;case zr.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(X(this,Zb)||Ne(this,Zb,new Map)).set(r,t),this.showAllEditors("highlight",t);break}for(const s of X(this,Qn))s.updateParams(r,t);for(const s of X(this,kc))s.updateDefaultParams(r,t)}}showAllEditors(r,t,e=!1){var a;for(const i of X(this,Ia).values())i.editorType===r&&i.show(t);(((a=X(this,Zb))==null?void 0:a.get(zr.HIGHLIGHT_SHOW_ALL))??!0)!==t&&De(this,sr,Gh).call(this,[[zr.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(r=!1){if(X(this,Xb)!==r){Ne(this,Xb,r);for(const t of X(this,li).values())r?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",r)}}getEditors(r){const t=[];for(const e of X(this,Ia).values())e.pageIndex===r&&t.push(e);return t}getEditor(r){return X(this,Ia).get(r)}addEditor(r){X(this,Ia).set(r.id,r)}removeEditor(r){var t;r.div.contains(document.activeElement)&&(X(this,_u)&&clearTimeout(X(this,_u)),Ne(this,_u,setTimeout(()=>{this.focusMainContainer(),Ne(this,_u,null)},0))),X(this,Ia).delete(r.id),this.unselect(r),(!r.annotationElementId||!X(this,Lp).has(r.annotationElementId))&&((t=X(this,qd))==null||t.remove(r.id))}addDeletedAnnotationElement(r){X(this,Lp).add(r.annotationElementId),this.addChangedExistingAnnotation(r),r.deleted=!0}isDeletedAnnotationElement(r){return X(this,Lp).has(r)}removeDeletedAnnotationElement(r){X(this,Lp).delete(r.annotationElementId),this.removeChangedExistingAnnotation(r),r.deleted=!1}setActiveEditor(r){X(this,al)!==r&&(Ne(this,al,r),r&&De(this,sr,Gh).call(this,r.propertiesToUpdate))}updateUI(r){X(this,sr,d9)===r&&De(this,sr,Gh).call(this,r.propertiesToUpdate)}toggleSelected(r){if(X(this,Qn).has(r)){X(this,Qn).delete(r),r.unselect(),De(this,sr,so).call(this,{hasSelectedEditor:this.hasSelection});return}X(this,Qn).add(r),r.select(),De(this,sr,Gh).call(this,r.propertiesToUpdate),De(this,sr,so).call(this,{hasSelectedEditor:!0})}setSelected(r){for(const t of X(this,Qn))t!==r&&t.unselect();X(this,Qn).clear(),X(this,Qn).add(r),r.select(),De(this,sr,Gh).call(this,r.propertiesToUpdate),De(this,sr,so).call(this,{hasSelectedEditor:!0})}isSelected(r){return X(this,Qn).has(r)}get firstSelectedEditor(){return X(this,Qn).values().next().value}unselect(r){r.unselect(),X(this,Qn).delete(r),De(this,sr,so).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return X(this,Qn).size!==0}get isEnterHandled(){return X(this,Qn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){X(this,Ac).undo(),De(this,sr,so).call(this,{hasSomethingToUndo:X(this,Ac).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:De(this,sr,Gg).call(this)})}redo(){X(this,Ac).redo(),De(this,sr,so).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:X(this,Ac).hasSomethingToRedo(),isEmpty:De(this,sr,Gg).call(this)})}addCommands(r){X(this,Ac).add(r),De(this,sr,so).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:De(this,sr,Gg).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const r=[...X(this,Qn)],t=()=>{for(const s of r)s.remove()},e=()=>{for(const s of r)De(this,sr,Y_).call(this,s)};this.addCommands({cmd:t,undo:e,mustExec:!0})}commitOrRemove(){var r;(r=X(this,al))==null||r.commitOrRemove()}hasSomethingToControl(){return X(this,al)||this.hasSelection}selectAll(){for(const r of X(this,Qn))r.commit();De(this,sr,K_).call(this,X(this,Ia).values())}unselectAll(){if(!(X(this,al)&&(X(this,al).commitOrRemove(),X(this,ci)!==wn.NONE))&&this.hasSelection){for(const r of X(this,Qn))r.unselect();X(this,Qn).clear(),De(this,sr,so).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(r,t,e=!1){if(e||this.commitOrRemove(),!this.hasSelection)return;X(this,nf)[0]+=r,X(this,nf)[1]+=t;const[s,a]=X(this,nf),i=[...X(this,Qn)],o=1e3;X(this,Eu)&&clearTimeout(X(this,Eu)),Ne(this,Eu,setTimeout(()=>{Ne(this,Eu,null),X(this,nf)[0]=X(this,nf)[1]=0,this.addCommands({cmd:()=>{for(const u of i)X(this,Ia).has(u.id)&&u.translateInPage(s,a)},undo:()=>{for(const u of i)X(this,Ia).has(u.id)&&u.translateInPage(-s,-a)},mustExec:!1})},o));for(const u of i)u.translateInPage(r,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Ne(this,wu,new Map);for(const r of X(this,Qn))X(this,wu).set(r,{savedX:r.x,savedY:r.y,savedPageIndex:r.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!X(this,wu))return!1;this.disableUserSelect(!1);const r=X(this,wu);Ne(this,wu,null);let t=!1;for(const[{x:s,y:a,pageIndex:i},o]of r)o.newX=s,o.newY=a,o.newPageIndex=i,t||(t=s!==o.savedX||a!==o.savedY||i!==o.savedPageIndex);if(!t)return!1;const e=(s,a,i,o)=>{if(X(this,Ia).has(s.id)){const u=X(this,li).get(o);u?s._setParentAndPosition(u,a,i):(s.pageIndex=o,s.x=a,s.y=i)}};return this.addCommands({cmd:()=>{for(const[s,{newX:a,newY:i,newPageIndex:o}]of r)e(s,a,i,o)},undo:()=>{for(const[s,{savedX:a,savedY:i,savedPageIndex:o}]of r)e(s,a,i,o)},mustExec:!0}),!0}dragSelectedEditors(r,t){if(X(this,wu))for(const e of X(this,wu).keys())e.drag(r,t)}rebuild(r){if(r.parent===null){const t=this.getLayer(r.pageIndex);t?(t.changeParent(r),t.addOrRebuild(r)):(this.addEditor(r),this.addToAnnotationStorage(r),r.rebuild())}else r.parent.addOrRebuild(r)}get isEditorHandlingKeyboard(){var r;return((r=this.getActive())==null?void 0:r.shouldGetKeyboardEvents())||X(this,Qn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(r){return X(this,al)===r}getActive(){return X(this,al)}getMode(){return X(this,ci)}get imageManager(){return jn(this,"imageManager",new q_)}getSelectionBoxes(r){if(!r)return null;const t=document.getSelection();for(let c=0,l=t.rangeCount;c<l;c++)if(!r.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:e,y:s,width:a,height:i}=r.getBoundingClientRect();let o;switch(r.getAttribute("data-main-rotation")){case"90":o=(c,l,d,p)=>({x:(l-s)/i,y:1-(c+d-e)/a,width:p/i,height:d/a});break;case"180":o=(c,l,d,p)=>({x:1-(c+d-e)/a,y:1-(l+p-s)/i,width:d/a,height:p/i});break;case"270":o=(c,l,d,p)=>({x:1-(l+p-s)/i,y:(c-e)/a,width:p/i,height:d/a});break;default:o=(c,l,d,p)=>({x:(c-e)/a,y:(l-s)/i,width:d/a,height:p/i});break}const u=[];for(let c=0,l=t.rangeCount;c<l;c++){const d=t.getRangeAt(c);if(!d.collapsed)for(const{x:p,y:h,width:f,height:b}of d.getClientRects())f===0||b===0||u.push(o(p,h,f,b))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:r,id:t}){(X(this,s1)||Ne(this,s1,new Map)).set(r,t)}removeChangedExistingAnnotation({annotationElementId:r}){var t;(t=X(this,s1))==null||t.delete(r)}renderAnnotationElement(r){var s;const t=(s=X(this,s1))==null?void 0:s.get(r.data.id);if(!t)return;const e=X(this,qd).getRawValue(t);e&&(X(this,ci)===wn.NONE&&!e.hasBeenModified||e.renderAnnotationElement(r))}};r1=new WeakMap,al=new WeakMap,Ia=new WeakMap,li=new WeakMap,n1=new WeakMap,qd=new WeakMap,s1=new WeakMap,Ac=new WeakMap,a1=new WeakMap,Lp=new WeakMap,wu=new WeakMap,kc=new WeakMap,Fp=new WeakMap,Yb=new WeakMap,Kb=new WeakMap,_u=new WeakMap,i1=new WeakMap,tf=new WeakMap,Su=new WeakMap,jw=new WeakMap,rf=new WeakMap,Xb=new WeakMap,Bp=new WeakMap,Jb=new WeakMap,o1=new WeakMap,ci=new WeakMap,Qn=new WeakMap,Wd=new WeakMap,Up=new WeakMap,Zb=new WeakMap,Qb=new WeakMap,ey=new WeakMap,ty=new WeakMap,ry=new WeakMap,ny=new WeakMap,sy=new WeakMap,ay=new WeakMap,iy=new WeakMap,oy=new WeakMap,ly=new WeakMap,cy=new WeakMap,uy=new WeakMap,nf=new WeakMap,Eu=new WeakMap,zd=new WeakMap,dy=new WeakMap,sr=new WeakSet,bx=function({anchorNode:r}){return r.nodeType===Node.TEXT_NODE?r.parentElement:r},r9=function(){const r=document.getSelection();if(!r||r.isCollapsed)return;const e=De(this,sr,bx).call(this,r).closest(".textLayer"),s=this.getSelectionBoxes(e);s&&(X(this,Su)||Ne(this,Su,new v$(this)),X(this,Su).show(e,s,this.direction==="ltr"))},n9=function(){var a,i,o;const r=document.getSelection();if(!r||r.isCollapsed){X(this,Wd)&&((a=X(this,Su))==null||a.hide(),Ne(this,Wd,null),De(this,sr,so).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=r;if(t===X(this,Wd))return;if(!De(this,sr,bx).call(this,r).closest(".textLayer")){X(this,Wd)&&((i=X(this,Su))==null||i.hide(),Ne(this,Wd,null),De(this,sr,so).call(this,{hasSelectedText:!1}));return}if((o=X(this,Su))==null||o.hide(),Ne(this,Wd,t),De(this,sr,so).call(this,{hasSelectedText:!0}),!(X(this,ci)!==wn.HIGHLIGHT&&X(this,ci)!==wn.NONE)&&(X(this,ci)===wn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),Ne(this,tf,this.isShiftKeyDown),!this.isShiftKeyDown)){const u=this._signal,c=l=>{l.type==="pointerup"&&l.button!==0||(window.removeEventListener("pointerup",c),window.removeEventListener("blur",c),l.type==="pointerup"&&De(this,sr,yx).call(this,"main_toolbar"))};window.addEventListener("pointerup",c,{signal:u}),window.addEventListener("blur",c,{signal:u})}},yx=function(r=""){X(this,ci)===wn.HIGHLIGHT?this.highlightSelection(r):X(this,Yb)&&De(this,sr,r9).call(this)},s9=function(){document.addEventListener("selectionchange",De(this,sr,n9).bind(this),{signal:this._signal})},a9=function(){const r=this._signal;window.addEventListener("focus",X(this,ey),{signal:r}),window.addEventListener("blur",X(this,Qb),{signal:r})},i9=function(){window.removeEventListener("focus",X(this,ey)),window.removeEventListener("blur",X(this,Qb))},V_=function(){const r=this._signal;window.addEventListener("keydown",X(this,sy),{signal:r}),window.addEventListener("keyup",X(this,ay),{signal:r})},o9=function(){window.removeEventListener("keydown",X(this,sy)),window.removeEventListener("keyup",X(this,ay))},$_=function(){const r=this._signal;document.addEventListener("copy",X(this,ty),{signal:r}),document.addEventListener("cut",X(this,ry),{signal:r}),document.addEventListener("paste",X(this,ny),{signal:r})},G_=function(){document.removeEventListener("copy",X(this,ty)),document.removeEventListener("cut",X(this,ry)),document.removeEventListener("paste",X(this,ny))},l9=function(){const r=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:r}),document.addEventListener("drop",this.drop.bind(this),{signal:r})},so=function(r){Object.entries(r).some(([e,s])=>X(this,uy)[e]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(X(this,uy),r)}),X(this,ci)===wn.HIGHLIGHT&&r.hasSelectedEditor===!1&&De(this,sr,Gh).call(this,[[zr.HIGHLIGHT_FREE,!0]]))},Gh=function(r){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:r})},c9=function(){if(!X(this,rf)){Ne(this,rf,!0);for(const r of X(this,li).values())r.enable();for(const r of X(this,Ia).values())r.enable()}},u9=function(){if(this.unselectAll(),X(this,rf)){Ne(this,rf,!1);for(const r of X(this,li).values())r.disable();for(const r of X(this,Ia).values())r.disable()}},Y_=function(r){const t=X(this,li).get(r.pageIndex);t?t.addOrRebuild(r):(this.addEditor(r),this.addToAnnotationStorage(r))},d9=function(){let r=null;for(r of X(this,Qn));return r},Gg=function(){if(X(this,Ia).size===0)return!0;if(X(this,Ia).size===1)for(const r of X(this,Ia).values())return r.isEmpty();return!1},K_=function(r){for(const t of X(this,Qn))t.unselect();X(this,Qn).clear();for(const t of r)t.isEmpty()||(X(this,Qn).add(t),t.select());De(this,sr,so).call(this,{hasSelectedEditor:this.hasSelection})},Ot(V0,"TRANSLATE_SMALL",1),Ot(V0,"TRANSLATE_BIG",10);let Fm=V0;var Vd,$d,Cc,Gd,il,l1,Dc,hy,X_;const Od=class Od{constructor(r){je(this,hy);je(this,Vd,"");je(this,$d,!1);je(this,Cc,null);je(this,Gd,null);je(this,il,null);je(this,l1,!1);je(this,Dc,null);Ne(this,Dc,r)}static initialize(r){Od._l10nPromise||(Od._l10nPromise=r)}async render(){const r=Ne(this,Cc,document.createElement("button"));r.className="altText";const t=await Od._l10nPromise.get("pdfjs-editor-alt-text-button-label");r.textContent=t,r.setAttribute("aria-label",t),r.tabIndex="0";const e=X(this,Dc)._uiManager._signal;r.addEventListener("contextmenu",Fo,{signal:e}),r.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:e});const s=a=>{a.preventDefault(),X(this,Dc)._uiManager.editAltText(X(this,Dc))};return r.addEventListener("click",s,{capture:!0,signal:e}),r.addEventListener("keydown",a=>{a.target===r&&a.key==="Enter"&&(Ne(this,l1,!0),s(a))},{signal:e}),await De(this,hy,X_).call(this),r}finish(){X(this,Cc)&&(X(this,Cc).focus({focusVisible:X(this,l1)}),Ne(this,l1,!1))}isEmpty(){return!X(this,Vd)&&!X(this,$d)}get data(){return{altText:X(this,Vd),decorative:X(this,$d)}}set data({altText:r,decorative:t}){X(this,Vd)===r&&X(this,$d)===t||(Ne(this,Vd,r),Ne(this,$d,t),De(this,hy,X_).call(this))}toggle(r=!1){X(this,Cc)&&(!r&&X(this,il)&&(clearTimeout(X(this,il)),Ne(this,il,null)),X(this,Cc).disabled=!r)}destroy(){var r;(r=X(this,Cc))==null||r.remove(),Ne(this,Cc,null),Ne(this,Gd,null)}};Vd=new WeakMap,$d=new WeakMap,Cc=new WeakMap,Gd=new WeakMap,il=new WeakMap,l1=new WeakMap,Dc=new WeakMap,hy=new WeakSet,X_=async function(){var s;const r=X(this,Cc);if(!r)return;if(!X(this,Vd)&&!X(this,$d)){r.classList.remove("done"),(s=X(this,Gd))==null||s.remove();return}r.classList.add("done"),Od._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(a=>{r.setAttribute("aria-label",a)});let t=X(this,Gd);if(!t){Ne(this,Gd,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip");const a=t.id=`alt-text-tooltip-${X(this,Dc).id}`;r.setAttribute("aria-describedby",a);const i=100,o=X(this,Dc)._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(X(this,il)),Ne(this,il,null)},{once:!0}),r.addEventListener("mouseenter",()=>{Ne(this,il,setTimeout(()=>{Ne(this,il,null),X(this,Gd).classList.add("show"),X(this,Dc)._reportTelemetry({action:"alt_text_tooltip"})},i))},{signal:o}),r.addEventListener("mouseleave",()=>{var u;X(this,il)&&(clearTimeout(X(this,il)),Ne(this,il,null)),(u=X(this,Gd))==null||u.classList.remove("show")},{signal:o})}t.innerText=X(this,$d)?await Od._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):X(this,Vd),t.parentNode||r.append(t);const e=X(this,Dc).getImageForAltText();e==null||e.setAttribute("aria-describedby",t.id)},Ot(Od,"_l10nPromise",null);let ow=Od;var Hp,Tc,Fi,c1,qp,ui,Wp,u1,d1,Bi,fy,zp,sf,py,Vp,Yd,Nu,h1,f1,Bl,my,Iw,fn,J_,gy,Z_,Q_,h9,f9,e4,t4,r4,p9,m9,g9,b9,n4,Yg;const ds=class ds{constructor(r){je(this,fn);je(this,Hp,null);je(this,Tc,null);je(this,Fi,null);je(this,c1,!1);je(this,qp,!1);je(this,ui,null);je(this,Wp,null);je(this,u1,this.focusin.bind(this));je(this,d1,this.focusout.bind(this));je(this,Bi,null);je(this,fy,"");je(this,zp,!1);je(this,sf,null);je(this,py,!1);je(this,Vp,!1);je(this,Yd,!1);je(this,Nu,null);je(this,h1,0);je(this,f1,0);je(this,Bl,null);Ot(this,"_initialOptions",Object.create(null));Ot(this,"_isVisible",!0);Ot(this,"_uiManager",null);Ot(this,"_focusEventsAllowed",!0);Ot(this,"_l10nPromise",null);je(this,my,!1);je(this,Iw,ds._zIndex++);this.constructor===ds&&ls("Cannot initialize AnnotationEditor."),this.parent=r.parent,this.id=r.id,this.width=this.height=null,this.pageIndex=r.parent.pageIndex,this.name=r.name,this.div=null,this._uiManager=r.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=r.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:e,pageHeight:s,pageX:a,pageY:i}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[e,s],this.pageTranslation=[a,i];const[o,u]=this.parentDimensions;this.x=r.x/o,this.y=r.y/u,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const r=ds.prototype._resizeWithKeyboard,t=Fm.TRANSLATE_SMALL,e=Fm.TRANSLATE_BIG;return jn(this,"_resizerKeyboardManager",new Dv([[["ArrowLeft","mac+ArrowLeft"],r,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],r,{args:[-e,0]}],[["ArrowRight","mac+ArrowRight"],r,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],r,{args:[e,0]}],[["ArrowUp","mac+ArrowUp"],r,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],r,{args:[0,-e]}],[["ArrowDown","mac+ArrowDown"],r,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],r,{args:[0,e]}],[["Escape","mac+Escape"],ds.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return jn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(r){const t=new S$({id:r.parent.getNextId(),parent:r.parent,uiManager:r._uiManager});t.annotationElementId=r.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(r,t,e){if(ds._l10nPromise||(ds._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(a=>[a,r.get(a.replaceAll(/([A-Z])/g,i=>`-${i.toLowerCase()}`))]))),e!=null&&e.strings)for(const a of e.strings)ds._l10nPromise.set(a,r.get(a));if(ds._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);ds._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(r,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(r){return!1}static paste(r,t){ls("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return X(this,my)}set _isDraggable(r){var t;Ne(this,my,r),(t=this.div)==null||t.classList.toggle("draggable",r)}get isEnterHandled(){return!0}center(){const[r,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(r*2),this.y+=this.width*r/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(r*2),this.y-=this.width*r/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(r){this._uiManager.addCommands(r)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=X(this,Iw)}setParent(r){r!==null?(this.pageIndex=r.pageIndex,this.pageDimensions=r.pageDimensions):De(this,fn,Yg).call(this),this.parent=r}focusin(r){this._focusEventsAllowed&&(X(this,zp)?Ne(this,zp,!1):this.parent.setSelected(this))}focusout(r){var e;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=r.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(r.preventDefault(),(e=this.parent)!=null&&e.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(r,t,e,s){const[a,i]=this.parentDimensions;[e,s]=this.screenToPageTranslation(e,s),this.x=(r+e)/a,this.y=(t+s)/i,this.fixAndSetPosition()}translate(r,t){De(this,fn,J_).call(this,this.parentDimensions,r,t)}translateInPage(r,t){X(this,sf)||Ne(this,sf,[this.x,this.y]),De(this,fn,J_).call(this,this.pageDimensions,r,t),this.div.scrollIntoView({block:"nearest"})}drag(r,t){X(this,sf)||Ne(this,sf,[this.x,this.y]);const[e,s]=this.parentDimensions;if(this.x+=r/e,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:c,y:l}=this.div.getBoundingClientRect();this.parent.findNewParent(this,c,l)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:i}=this;const[o,u]=this.getBaseTranslation();a+=o,i+=u,this.div.style.left=`${(100*a).toFixed(2)}%`,this.div.style.top=`${(100*i).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!X(this,sf)&&(X(this,sf)[0]!==this.x||X(this,sf)[1]!==this.y)}getBaseTranslation(){const[r,t]=this.parentDimensions,{_borderLineWidth:e}=ds,s=e/r,a=e/t;switch(this.rotation){case 90:return[-s,a];case 180:return[s,a];case 270:return[s,-a];default:return[-s,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(r=this.rotation){const[t,e]=this.pageDimensions;let{x:s,y:a,width:i,height:o}=this;if(i*=t,o*=e,s*=t,a*=e,this._mustFixPosition)switch(r){case 0:s=Math.max(0,Math.min(t-i,s)),a=Math.max(0,Math.min(e-o,a));break;case 90:s=Math.max(0,Math.min(t-o,s)),a=Math.min(e,Math.max(i,a));break;case 180:s=Math.min(t,Math.max(i,s)),a=Math.min(e,Math.max(o,a));break;case 270:s=Math.min(t,Math.max(o,s)),a=Math.max(0,Math.min(e-i,a));break}this.x=s/=t,this.y=a/=e;const[u,c]=this.getBaseTranslation();s+=u,a+=c;const{style:l}=this.div;l.left=`${(100*s).toFixed(2)}%`,l.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(r,t){var e;return De(e=ds,gy,Z_).call(e,r,t,this.parentRotation)}pageTranslationToScreen(r,t){var e;return De(e=ds,gy,Z_).call(e,r,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:r,pageDimensions:[t,e]}=this,s=t*r,a=e*r;return Oo.isCSSRoundSupported?[Math.round(s),Math.round(a)]:[s,a]}setDims(r,t){const[e,s]=this.parentDimensions;this.div.style.width=`${(100*r/e).toFixed(2)}%`,X(this,qp)||(this.div.style.height=`${(100*t/s).toFixed(2)}%`)}fixDims(){const{style:r}=this.div,{height:t,width:e}=r,s=e.endsWith("%"),a=!X(this,qp)&&t.endsWith("%");if(s&&a)return;const[i,o]=this.parentDimensions;s||(r.width=`${(100*parseFloat(e)/i).toFixed(2)}%`),!X(this,qp)&&!a&&(r.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var r;(r=X(this,Fi))==null||r.finish()}async addEditToolbar(){return X(this,Bi)||X(this,Vp)?X(this,Bi):(Ne(this,Bi,new U_(this)),this.div.append(X(this,Bi).render()),X(this,Fi)&&X(this,Bi).addAltTextButton(await X(this,Fi).render()),X(this,Bi))}removeEditToolbar(){var r;X(this,Bi)&&(X(this,Bi).remove(),Ne(this,Bi,null),(r=X(this,Fi))==null||r.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){X(this,Fi)||(ow.initialize(ds._l10nPromise),Ne(this,Fi,new ow(this)),X(this,Hp)&&(X(this,Fi).data=X(this,Hp),Ne(this,Hp,null)),await this.addEditToolbar())}get altTextData(){var r;return(r=X(this,Fi))==null?void 0:r.data}set altTextData(r){X(this,Fi)&&(X(this,Fi).data=r)}hasAltText(){var r;return!((r=X(this,Fi))!=null&&r.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=X(this,c1)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const r=this._uiManager._signal;this.div.addEventListener("focusin",X(this,u1),{signal:r}),this.div.addEventListener("focusout",X(this,d1),{signal:r});const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*e/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/e).toFixed(2)}%`);const[s,a]=this.getInitialTranslation();return this.translate(s,a),iw(this,this.div,["pointerdown"]),this.div}pointerdown(r){const{isMac:t}=Oo.platform;if(r.button!==0||r.ctrlKey&&t){r.preventDefault();return}if(Ne(this,zp,!0),this._isDraggable){De(this,fn,p9).call(this,r);return}De(this,fn,r4).call(this,r)}moveInDOM(){X(this,Nu)&&clearTimeout(X(this,Nu)),Ne(this,Nu,setTimeout(()=>{var r;Ne(this,Nu,null),(r=this.parent)==null||r.moveEditorInDOM(this)},0))}_setParentAndPosition(r,t,e){r.changeParent(this),this.x=t,this.y=e,this.fixAndSetPosition()}getRect(r,t,e=this.rotation){const s=this.parentScale,[a,i]=this.pageDimensions,[o,u]=this.pageTranslation,c=r/s,l=t/s,d=this.x*a,p=this.y*i,h=this.width*a,f=this.height*i;switch(e){case 0:return[d+c+o,i-p-l-f+u,d+c+h+o,i-p-l+u];case 90:return[d+l+o,i-p+c+u,d+l+f+o,i-p+c+h+u];case 180:return[d-c-h+o,i-p+l+u,d-c+o,i-p+l+f+u];case 270:return[d-l-f+o,i-p-c-h+u,d-l+o,i-p-c+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(r,t){const[e,s,a,i]=r,o=a-e,u=i-s;switch(this.rotation){case 0:return[e,t-i,o,u];case 90:return[e,t-s,u,o];case 180:return[a,t-s,o,u];case 270:return[a,t-i,u,o];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Ne(this,Vp,!0)}disableEditMode(){Ne(this,Vp,!1)}isInEditMode(){return X(this,Vp)}shouldGetKeyboardEvents(){return X(this,Yd)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var t,e;const r=this._uiManager._signal;(t=this.div)==null||t.addEventListener("focusin",X(this,u1),{signal:r}),(e=this.div)==null||e.addEventListener("focusout",X(this,d1),{signal:r})}rotate(r){}serialize(r=!1,t=null){ls("An editor must be serializable")}static deserialize(r,t,e){const s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:e});s.rotation=r.rotation,Ne(s,Hp,r.accessibilityData);const[a,i]=s.pageDimensions,[o,u,c,l]=s.getRectInCurrentCoords(r.rect,i);return s.x=o/a,s.y=u/i,s.width=c/a,s.height=l/i,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",X(this,u1)),this.div.removeEventListener("focusout",X(this,d1)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),X(this,Nu)&&(clearTimeout(X(this,Nu)),Ne(this,Nu,null)),De(this,fn,Yg).call(this),this.removeEditToolbar(),X(this,Bl)){for(const r of X(this,Bl).values())clearTimeout(r);Ne(this,Bl,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(De(this,fn,h9).call(this),X(this,ui).classList.remove("hidden"),iw(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(r){if(!this.isResizable||r.target!==this.div||r.key!=="Enter")return;this._uiManager.setSelected(this),Ne(this,Wp,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=X(this,ui).children;if(!X(this,Tc)){Ne(this,Tc,Array.from(t));const i=De(this,fn,m9).bind(this),o=De(this,fn,g9).bind(this),u=this._uiManager._signal;for(const c of X(this,Tc)){const l=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",i,{signal:u}),c.addEventListener("blur",o,{signal:u}),c.addEventListener("focus",De(this,fn,b9).bind(this,l),{signal:u}),ds._l10nPromise.get(`pdfjs-editor-resizer-label-${l}`).then(d=>c.setAttribute("aria-label",d))}}const e=X(this,Tc)[0];let s=0;for(const i of t){if(i===e)break;s++}const a=(360-this.rotation+this.parentRotation)%360/90*(X(this,Tc).length/4);if(a!==s){if(a<s)for(let o=0;o<s-a;o++)X(this,ui).append(X(this,ui).firstChild);else if(a>s)for(let o=0;o<a-s;o++)X(this,ui).firstChild.before(X(this,ui).lastChild);let i=0;for(const o of t){const c=X(this,Tc)[i++].getAttribute("data-resizer-name");ds._l10nPromise.get(`pdfjs-editor-resizer-label-${c}`).then(l=>o.setAttribute("aria-label",l))}}De(this,fn,n4).call(this,0),Ne(this,Yd,!0),X(this,ui).firstChild.focus({focusVisible:!0}),r.preventDefault(),r.stopImmediatePropagation()}_resizeWithKeyboard(r,t){X(this,Yd)&&De(this,fn,t4).call(this,X(this,fy),{movementX:r,movementY:t})}_stopResizingWithKeyboard(){De(this,fn,Yg).call(this),this.div.focus()}select(){var r,t;if(this.makeResizable(),(r=this.div)==null||r.classList.add("selectedEditor"),!X(this,Bi)){this.addEditToolbar().then(()=>{var e,s;(e=this.div)!=null&&e.classList.contains("selectedEditor")&&((s=X(this,Bi))==null||s.show())});return}(t=X(this,Bi))==null||t.show()}unselect(){var r,t,e,s;(r=X(this,ui))==null||r.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(e=this.div)!=null&&e.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=X(this,Bi))==null||s.hide()}updateParams(r,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return X(this,py)}set isEditing(r){Ne(this,py,r),this.parent&&(r?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(r,t){Ne(this,qp,!0);const e=r/t,{style:s}=this.div;s.aspectRatio=e,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(r,t=!1){if(t){X(this,Bl)||Ne(this,Bl,new Map);const{action:e}=r;let s=X(this,Bl).get(e);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(r),X(this,Bl).delete(e),X(this,Bl).size===0&&Ne(this,Bl,null)},ds._telemetryTimeout),X(this,Bl).set(e,s);return}r.type||(r.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:r}})}show(r=this._isVisible){this.div.classList.toggle("hidden",!r),this._isVisible=r}enable(){this.div&&(this.div.tabIndex=0),Ne(this,c1,!1)}disable(){this.div&&(this.div.tabIndex=-1),Ne(this,c1,!0)}renderAnnotationElement(r){let t=r.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.container.prepend(t);else if(t.nodeName==="CANVAS"){const e=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.before(t)}return t}resetAnnotationElement(r){const{firstChild:t}=r.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Hp=new WeakMap,Tc=new WeakMap,Fi=new WeakMap,c1=new WeakMap,qp=new WeakMap,ui=new WeakMap,Wp=new WeakMap,u1=new WeakMap,d1=new WeakMap,Bi=new WeakMap,fy=new WeakMap,zp=new WeakMap,sf=new WeakMap,py=new WeakMap,Vp=new WeakMap,Yd=new WeakMap,Nu=new WeakMap,h1=new WeakMap,f1=new WeakMap,Bl=new WeakMap,my=new WeakMap,Iw=new WeakMap,fn=new WeakSet,J_=function([r,t],e,s){[e,s]=this.screenToPageTranslation(e,s),this.x+=e/r,this.y+=s/t,this.fixAndSetPosition()},gy=new WeakSet,Z_=function(r,t,e){switch(e){case 90:return[t,-r];case 180:return[-r,-t];case 270:return[-t,r];default:return[r,t]}},Q_=function(r){switch(r){case 90:{const[t,e]=this.pageDimensions;return[0,-t/e,e/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,e]=this.pageDimensions;return[0,t/e,-e/t,0]}default:return[1,0,0,1]}},h9=function(){if(X(this,ui))return;Ne(this,ui,document.createElement("div")),X(this,ui).classList.add("resizers");const r=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const e of r){const s=document.createElement("div");X(this,ui).append(s),s.classList.add("resizer",e),s.setAttribute("data-resizer-name",e),s.addEventListener("pointerdown",De(this,fn,f9).bind(this,e),{signal:t}),s.addEventListener("contextmenu",Fo,{signal:t}),s.tabIndex=-1}this.div.prepend(X(this,ui))},f9=function(r,t){var b;t.preventDefault();const{isMac:e}=Oo.platform;if(t.button!==0||t.ctrlKey&&e)return;(b=X(this,Fi))==null||b.toggle(!1);const s=De(this,fn,t4).bind(this,r),a=this._isDraggable;this._isDraggable=!1;const i=this._uiManager._signal,o={passive:!0,capture:!0,signal:i};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",s,o),window.addEventListener("contextmenu",Fo,{signal:i});const u=this.x,c=this.y,l=this.width,d=this.height,p=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const f=()=>{var y;this.parent.togglePointerEvents(!0),(y=X(this,Fi))==null||y.toggle(!0),this._isDraggable=a,window.removeEventListener("pointerup",f),window.removeEventListener("blur",f),window.removeEventListener("pointermove",s,o),window.removeEventListener("contextmenu",Fo),this.parent.div.style.cursor=p,this.div.style.cursor=h,De(this,fn,e4).call(this,u,c,l,d)};window.addEventListener("pointerup",f,{signal:i}),window.addEventListener("blur",f,{signal:i})},e4=function(r,t,e,s){const a=this.x,i=this.y,o=this.width,u=this.height;a===r&&i===t&&o===e&&u===s||this.addCommands({cmd:()=>{this.width=o,this.height=u,this.x=a,this.y=i;const[c,l]=this.parentDimensions;this.setDims(c*o,l*u),this.fixAndSetPosition()},undo:()=>{this.width=e,this.height=s,this.x=r,this.y=t;const[c,l]=this.parentDimensions;this.setDims(c*e,l*s),this.fixAndSetPosition()},mustExec:!0})},t4=function(r,t){const[e,s]=this.parentDimensions,a=this.x,i=this.y,o=this.width,u=this.height,c=ds.MIN_SIZE/e,l=ds.MIN_SIZE/s,d=_=>Math.round(_*1e4)/1e4,p=De(this,fn,Q_).call(this,this.rotation),h=(_,E)=>[p[0]*_+p[2]*E,p[1]*_+p[3]*E],f=De(this,fn,Q_).call(this,360-this.rotation),b=(_,E)=>[f[0]*_+f[2]*E,f[1]*_+f[3]*E];let y,g,x=!1,v=!1;switch(r){case"topLeft":x=!0,y=(_,E)=>[0,0],g=(_,E)=>[_,E];break;case"topMiddle":y=(_,E)=>[_/2,0],g=(_,E)=>[_/2,E];break;case"topRight":x=!0,y=(_,E)=>[_,0],g=(_,E)=>[0,E];break;case"middleRight":v=!0,y=(_,E)=>[_,E/2],g=(_,E)=>[0,E/2];break;case"bottomRight":x=!0,y=(_,E)=>[_,E],g=(_,E)=>[0,0];break;case"bottomMiddle":y=(_,E)=>[_/2,E],g=(_,E)=>[_/2,0];break;case"bottomLeft":x=!0,y=(_,E)=>[0,E],g=(_,E)=>[_,0];break;case"middleLeft":v=!0,y=(_,E)=>[0,E/2],g=(_,E)=>[_,E/2];break}const w=y(o,u),S=g(o,u);let D=h(...S);const T=d(a+D[0]),R=d(i+D[1]);let P=1,L=1,[O,H]=this.screenToPageTranslation(t.movementX,t.movementY);if([O,H]=b(O/e,H/s),x){const _=Math.hypot(o,u);P=L=Math.max(Math.min(Math.hypot(S[0]-w[0]-O,S[1]-w[1]-H)/_,1/o,1/u),c/o,l/u)}else v?P=Math.max(c,Math.min(1,Math.abs(S[0]-w[0]-O)))/o:L=Math.max(l,Math.min(1,Math.abs(S[1]-w[1]-H)))/u;const U=d(o*P),I=d(u*L);D=h(...g(U,I));const F=T-D[0],A=R-D[1];this.width=U,this.height=I,this.x=F,this.y=A,this.setDims(e*U,s*I),this.fixAndSetPosition()},r4=function(r){const{isMac:t}=Oo.platform;r.ctrlKey&&!t||r.shiftKey||r.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},p9=function(r){const t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let e,s;const a=this._uiManager._signal;t&&(this.div.classList.add("moving"),e={passive:!0,capture:!0,signal:a},Ne(this,h1,r.clientX),Ne(this,f1,r.clientY),s=o=>{const{clientX:u,clientY:c}=o,[l,d]=this.screenToPageTranslation(u-X(this,h1),c-X(this,f1));Ne(this,h1,u),Ne(this,f1,c),this._uiManager.dragSelectedEditors(l,d)},window.addEventListener("pointermove",s,e));const i=()=>{window.removeEventListener("pointerup",i),window.removeEventListener("blur",i),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",s,e)),Ne(this,zp,!1),this._uiManager.endDragSession()||De(this,fn,r4).call(this,r)};window.addEventListener("pointerup",i,{signal:a}),window.addEventListener("blur",i,{signal:a})},m9=function(r){ds._resizerKeyboardManager.exec(this,r)},g9=function(r){var t;X(this,Yd)&&((t=r.relatedTarget)==null?void 0:t.parentNode)!==X(this,ui)&&De(this,fn,Yg).call(this)},b9=function(r){Ne(this,fy,X(this,Yd)?r:"")},n4=function(r){if(X(this,Tc))for(const t of X(this,Tc))t.tabIndex=r},Yg=function(){if(Ne(this,Yd,!1),De(this,fn,n4).call(this,-1),X(this,Wp)){const{savedX:r,savedY:t,savedWidth:e,savedHeight:s}=X(this,Wp);De(this,fn,e4).call(this,r,t,e,s),Ne(this,Wp,null)}},je(ds,gy),Ot(ds,"_borderLineWidth",-1),Ot(ds,"_colorManager",new z_),Ot(ds,"_zIndex",1),Ot(ds,"_telemetryTimeout",1e3);let ts=ds;class S$ extends ts{constructor(r){super(r),this.annotationElementId=r.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const t7=3285377520,Rl=4294901760,mu=65535;class y9{constructor(r){this.h1=r?r&4294967295:t7,this.h2=r?r&4294967295:t7}update(r){let t,e;if(typeof r=="string"){t=new Uint8Array(r.length*2),e=0;for(let b=0,y=r.length;b<y;b++){const g=r.charCodeAt(b);g<=255?t[e++]=g:(t[e++]=g>>>8,t[e++]=g&255)}}else if(ArrayBuffer.isView(r))t=r.slice(),e=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=e>>2,a=e-s*4,i=new Uint32Array(t.buffer,0,s);let o=0,u=0,c=this.h1,l=this.h2;const d=3432918353,p=461845907,h=d&mu,f=p&mu;for(let b=0;b<s;b++)b&1?(o=i[b],o=o*d&Rl|o*h&mu,o=o<<15|o>>>17,o=o*p&Rl|o*f&mu,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(u=i[b],u=u*d&Rl|u*h&mu,u=u<<15|u>>>17,u=u*p&Rl|u*f&mu,l^=u,l=l<<13|l>>>19,l=l*5+3864292196);switch(o=0,a){case 3:o^=t[s*4+2]<<16;case 2:o^=t[s*4+1]<<8;case 1:o^=t[s*4],o=o*d&Rl|o*h&mu,o=o<<15|o>>>17,o=o*p&Rl|o*f&mu,s&1?c^=o:l^=o}this.h1=c,this.h2=l}hexdigest(){let r=this.h1,t=this.h2;return r^=t>>>1,r=r*3981806797&Rl|r*36045&mu,t=t*4283543511&Rl|((t<<16|r>>>16)*2950163797&Rl)>>>16,r^=t>>>1,r=r*444984403&Rl|r*60499&mu,t=t*3301882366&Rl|((t<<16|r>>>16)*3120437893&Rl)>>>16,r^=t>>>1,(r>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const s4=Object.freeze({map:null,hash:"",transfer:void 0});var $p,di,Pw,v9;class z8{constructor(){je(this,Pw);je(this,$p,!1);je(this,di,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(r,t){const e=X(this,di).get(r);return e===void 0?t:Object.assign(t,e)}getRawValue(r){return X(this,di).get(r)}remove(r){if(X(this,di).delete(r),X(this,di).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of X(this,di).values())if(t instanceof ts)return;this.onAnnotationEditor(null)}}setValue(r,t){const e=X(this,di).get(r);let s=!1;if(e!==void 0)for(const[a,i]of Object.entries(t))e[a]!==i&&(s=!0,e[a]=i);else s=!0,X(this,di).set(r,t);s&&De(this,Pw,v9).call(this),t instanceof ts&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(r){return X(this,di).has(r)}getAll(){return X(this,di).size>0?L8(X(this,di)):null}setAll(r){for(const[t,e]of Object.entries(r))this.setValue(t,e)}get size(){return X(this,di).size}resetModified(){X(this,$p)&&(Ne(this,$p,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new x9(this)}get serializable(){if(X(this,di).size===0)return s4;const r=new Map,t=new y9,e=[],s=Object.create(null);let a=!1;for(const[i,o]of X(this,di)){const u=o instanceof ts?o.serialize(!1,s):o;u&&(r.set(i,u),t.update(`${i}:${JSON.stringify(u)}`),a||(a=!!u.bitmap))}if(a)for(const i of r.values())i.bitmap&&e.push(i.bitmap);return r.size>0?{map:r,hash:t.hexdigest(),transfer:e}:s4}get editorStats(){let r=null;const t=new Map;for(const e of X(this,di).values()){if(!(e instanceof ts))continue;const s=e.telemetryFinalData;if(!s)continue;const{type:a}=s;t.has(a)||t.set(a,Object.getPrototypeOf(e).constructor),r||(r=Object.create(null));const i=r[a]||(r[a]=new Map);for(const[o,u]of Object.entries(s)){if(o==="type")continue;let c=i.get(o);c||(c=new Map,i.set(o,c));const l=c.get(u)??0;c.set(u,l+1)}}for(const[e,s]of t)r[e]=s.computeTelemetryFinalData(r[e]);return r}}$p=new WeakMap,di=new WeakMap,Pw=new WeakSet,v9=function(){X(this,$p)||(Ne(this,$p,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var by;class x9 extends z8{constructor(t){super();je(this,by);const{map:e,hash:s,transfer:a}=t.serializable,i=structuredClone(e,a?{transfer:a}:null);Ne(this,by,{map:i,hash:s,transfer:a})}get print(){ls("Should not call PrintAnnotationStorage.print")}get serializable(){return X(this,by)}}by=new WeakMap;var p1;class E${constructor({ownerDocument:r=globalThis.document,styleElement:t=null}){je(this,p1,new Set);this._document=r,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(r){this.nativeFontFaces.add(r),this._document.fonts.add(r)}removeNativeFontFace(r){this.nativeFontFaces.delete(r),this._document.fonts.delete(r)}insertRule(r){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(r,t.cssRules.length)}clear(){for(const r of this.nativeFontFaces)this._document.fonts.delete(r);this.nativeFontFaces.clear(),X(this,p1).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:r,_inspectFont:t}){if(!(!r||X(this,p1).has(r.loadedName))){if(Ua(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:e,src:s,style:a}=r,i=new FontFace(e,s,a);this.addNativeFontFace(i);try{await i.load(),X(this,p1).add(e),t==null||t(r)}catch{cn(`Cannot load system font: ${r.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(i)}return}ls("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(r){if(r.attached||r.missingFile&&!r.systemFontInfo)return;if(r.attached=!0,r.systemFontInfo){await this.loadSystemFont(r);return}if(this.isFontLoadingAPISupported){const e=r.createNativeFontFace();if(e){this.addNativeFontFace(e);try{await e.loaded}catch(s){throw cn(`Failed to load font '${e.family}': '${s}'.`),r.disableFontFace=!0,s}}return}const t=r.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(e=>{const s=this._queueLoadingCallback(e);this._prepareFontLoadEvent(r,s)})}}get isFontLoadingAPISupported(){var t;const r=!!((t=this._document)!=null&&t.fonts);return jn(this,"isFontLoadingAPISupported",r)}get isSyncFontLoadingSupported(){let r=!1;return(zi||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(r=!0),jn(this,"isSyncFontLoadingSupported",r)}_queueLoadingCallback(r){function t(){for(Ua(!s.done,"completeRequest() cannot be called twice."),s.done=!0;e.length>0&&e[0].done;){const a=e.shift();setTimeout(a.callback,0)}}const{loadingRequests:e}=this,s={done:!1,complete:t,callback:r};return e.push(s),s}get _loadTestFont(){const r=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return jn(this,"_loadTestFont",r)}_prepareFontLoadEvent(r,t){function e(w,S){return w.charCodeAt(S)<<24|w.charCodeAt(S+1)<<16|w.charCodeAt(S+2)<<8|w.charCodeAt(S+3)&255}function s(w,S,D,T){const R=w.substring(0,S),P=w.substring(S+D);return R+T+P}let a,i;const o=this._document.createElement("canvas");o.width=1,o.height=1;const u=o.getContext("2d");let c=0;function l(w,S){if(++c>30){cn("Load test font never loaded."),S();return}if(u.font="30px "+w,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){S();return}setTimeout(l.bind(null,w,S))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=s(p,976,d.length,d);const f=16,b=1482184792;let y=e(p,f);for(a=0,i=d.length-3;a<i;a+=4)y=y-b+e(d,a)|0;a<d.length&&(y=y-b+e(d+"XXX",a)|0),p=s(p,f,4,o$(y));const g=`url(data:font/opentype;base64,${btoa(p)});`,x=`@font-face {font-family:"${d}";src:${g}}`;this.insertRule(x);const v=this._document.createElement("div");v.style.visibility="hidden",v.style.width=v.style.height="10px",v.style.position="absolute",v.style.top=v.style.left="0px";for(const w of[r.loadedName,d]){const S=this._document.createElement("span");S.textContent="Hi",S.style.fontFamily=w,v.append(S)}this._document.body.append(v),l(d,()=>{v.remove(),t.complete()})}}p1=new WeakMap;class N${constructor(r,{disableFontFace:t=!1,inspectFont:e=null}){this.compiledGlyphs=Object.create(null);for(const s in r)this[s]=r[s];this.disableFontFace=t===!0,this._inspectFont=e}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let r;if(!this.cssFontInfo)r=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),r=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return(t=this._inspectFont)==null||t.call(this,this),r}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const r=Hk(this.data),t=`url(data:${this.mimetype};base64,${btoa(r)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let a=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(a+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${a}src:${t}}`}return(s=this._inspectFont)==null||s.call(this,this,t),e}getPathGenerator(r,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let e;try{e=r.get(this.loadedName+"_path_"+t)}catch(a){cn(`getPathGenerator - ignoring character: "${a}".`)}if(!Array.isArray(e)||e.length===0)return this.compiledGlyphs[t]=function(a,i){};const s=[];for(let a=0,i=e.length;a<i;)switch(e[a++]){case Pd.BEZIER_CURVE_TO:{const[o,u,c,l,d,p]=e.slice(a,a+6);s.push(h=>h.bezierCurveTo(o,u,c,l,d,p)),a+=6}break;case Pd.MOVE_TO:{const[o,u]=e.slice(a,a+2);s.push(c=>c.moveTo(o,u)),a+=2}break;case Pd.LINE_TO:{const[o,u]=e.slice(a,a+2);s.push(c=>c.lineTo(o,u)),a+=2}break;case Pd.QUADRATIC_CURVE_TO:{const[o,u,c,l]=e.slice(a,a+4);s.push(d=>d.quadraticCurveTo(o,u,c,l)),a+=4}break;case Pd.RESTORE:s.push(o=>o.restore());break;case Pd.SAVE:s.push(o=>o.save());break;case Pd.SCALE:Ua(s.length===2,"Scale command is only valid at the third position.");break;case Pd.TRANSFORM:{const[o,u,c,l,d,p]=e.slice(a,a+6);s.push(h=>h.transform(o,u,c,l,d,p)),a+=6}break;case Pd.TRANSLATE:{const[o,u]=e.slice(a,a+2);s.push(c=>c.translate(o,u)),a+=2}break}return this.compiledGlyphs[t]=function(i,o){s[0](i),s[1](i),i.scale(o,-o);for(let u=2,c=s.length;u<c;u++)s[u](i)}}}if(zi){var a4=Promise.withResolvers(),mb=null;(async()=>{const r=await Ap(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await Ap(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await Ap(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await Ap(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let a,i;return new Map(Object.entries({fs:r,http:t,https:e,url:s,canvas:a,path2d:i}))})().then(r=>{mb=r,a4.resolve()},r=>{cn(`loadPackages: ${r}`),mb=new Map,a4.resolve()})}class Ku{static get promise(){return a4.promise}static get(r){return mb==null?void 0:mb.get(r)}}const w9=function(n){return Ku.get("fs").promises.readFile(n).then(t=>new Uint8Array(t))};class A$ extends f5{}class k$ extends aw{_createCanvas(r,t){return Ku.get("canvas").createCanvas(r,t)}}class C$ extends p5{_fetchData(r,t){return w9(r).then(e=>({cMapData:e,compressionType:t}))}}class D$ extends m5{_fetchData(r){return w9(r)}}const co={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function i4(n,r){if(!r)return;const t=r[2]-r[0],e=r[3]-r[1],s=new Path2D;s.rect(r[0],r[1],t,e),n.clip(s)}class Tv{constructor(){this.constructor===Tv&&ls("Cannot initialize BaseShadingPattern.")}getPattern(){ls("Abstract method `getPattern` called.")}}class T$ extends Tv{constructor(r){super(),this._type=r[1],this._bbox=r[2],this._colorStops=r[3],this._p0=r[4],this._p1=r[5],this._r0=r[6],this._r1=r[7],this.matrix=null}_createGradient(r){let t;this._type==="axial"?t=r.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=r.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const e of this._colorStops)t.addColorStop(e[0],e[1]);return t}getPattern(r,t,e,s){let a;if(s===co.STROKE||s===co.FILL){const i=t.current.getClippedPathBoundingBox(s,Ws(r))||[0,0,0,0],o=Math.ceil(i[2]-i[0])||1,u=Math.ceil(i[3]-i[1])||1,c=t.cachedCanvases.getCanvas("pattern",o,u,!0),l=c.context;l.clearRect(0,0,l.canvas.width,l.canvas.height),l.beginPath(),l.rect(0,0,l.canvas.width,l.canvas.height),l.translate(-i[0],-i[1]),e=yr.transform(e,[1,0,0,1,i[0],i[1]]),l.transform(...t.baseTransform),this.matrix&&l.transform(...this.matrix),i4(l,this._bbox),l.fillStyle=this._createGradient(l),l.fill(),a=r.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(e);a.setTransform(d)}else i4(r,this._bbox),a=this._createGradient(r);return a}}function q6(n,r,t,e,s,a,i,o){const u=r.coords,c=r.colors,l=n.data,d=n.width*4;let p;u[t+1]>u[e+1]&&(p=t,t=e,e=p,p=a,a=i,i=p),u[e+1]>u[s+1]&&(p=e,e=s,s=p,p=i,i=o,o=p),u[t+1]>u[e+1]&&(p=t,t=e,e=p,p=a,a=i,i=p);const h=(u[t]+r.offsetX)*r.scaleX,f=(u[t+1]+r.offsetY)*r.scaleY,b=(u[e]+r.offsetX)*r.scaleX,y=(u[e+1]+r.offsetY)*r.scaleY,g=(u[s]+r.offsetX)*r.scaleX,x=(u[s+1]+r.offsetY)*r.scaleY;if(f>=x)return;const v=c[a],w=c[a+1],S=c[a+2],D=c[i],T=c[i+1],R=c[i+2],P=c[o],L=c[o+1],O=c[o+2],H=Math.round(f),U=Math.round(x);let I,F,A,_,E,N,k,B;for(let j=H;j<=U;j++){if(j<y){const V=j<f?0:(f-j)/(f-y);I=h-(h-b)*V,F=v-(v-D)*V,A=w-(w-T)*V,_=S-(S-R)*V}else{let V;j>x?V=1:y===x?V=0:V=(y-j)/(y-x),I=b-(b-g)*V,F=D-(D-P)*V,A=T-(T-L)*V,_=R-(R-O)*V}let M;j<f?M=0:j>x?M=1:M=(f-j)/(f-x),E=h-(h-g)*M,N=v-(v-P)*M,k=w-(w-L)*M,B=S-(S-O)*M;const G=Math.round(Math.min(I,E)),Y=Math.round(Math.max(I,E));let J=d*j+G*4;for(let V=G;V<=Y;V++)M=(I-V)/(I-E),M<0?M=0:M>1&&(M=1),l[J++]=F-(F-N)*M|0,l[J++]=A-(A-k)*M|0,l[J++]=_-(_-B)*M|0,l[J++]=255}}function j$(n,r,t){const e=r.coords,s=r.colors;let a,i;switch(r.type){case"lattice":const o=r.verticesPerRow,u=Math.floor(e.length/o)-1,c=o-1;for(a=0;a<u;a++){let l=a*o;for(let d=0;d<c;d++,l++)q6(n,t,e[l],e[l+1],e[l+o],s[l],s[l+1],s[l+o]),q6(n,t,e[l+o+1],e[l+1],e[l+o],s[l+o+1],s[l+1],s[l+o])}break;case"triangles":for(a=0,i=e.length;a<i;a+=3)q6(n,t,e[a],e[a+1],e[a+2],s[a],s[a+1],s[a+2]);break;default:throw new Error("illegal figure")}}class I$ extends Tv{constructor(r){super(),this._coords=r[2],this._colors=r[3],this._figures=r[4],this._bounds=r[5],this._bbox=r[7],this._background=r[8],this.matrix=null}_createMeshCanvas(r,t,e){const o=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,l=Math.ceil(this._bounds[3])-u,d=Math.min(Math.ceil(Math.abs(c*r[0]*1.1)),3e3),p=Math.min(Math.ceil(Math.abs(l*r[1]*1.1)),3e3),h=c/d,f=l/p,b={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-u,scaleX:1/h,scaleY:1/f},y=d+2*2,g=p+2*2,x=e.getCanvas("mesh",y,g,!1),v=x.context,w=v.createImageData(d,p);if(t){const D=w.data;for(let T=0,R=D.length;T<R;T+=4)D[T]=t[0],D[T+1]=t[1],D[T+2]=t[2],D[T+3]=255}for(const D of this._figures)j$(w,D,b);return v.putImageData(w,2,2),{canvas:x.canvas,offsetX:o-2*h,offsetY:u-2*f,scaleX:h,scaleY:f}}getPattern(r,t,e,s){i4(r,this._bbox);let a;if(s===co.SHADING)a=yr.singularValueDecompose2dScale(Ws(r));else if(a=yr.singularValueDecompose2dScale(t.baseTransform),this.matrix){const o=yr.singularValueDecompose2dScale(this.matrix);a=[a[0]*o[0],a[1]*o[1]]}const i=this._createMeshCanvas(a,s===co.SHADING?null:this._background,t.cachedCanvases);return s!==co.SHADING&&(r.setTransform(...t.baseTransform),this.matrix&&r.transform(...this.matrix)),r.translate(i.offsetX,i.offsetY),r.scale(i.scaleX,i.scaleY),r.createPattern(i.canvas,"no-repeat")}}class P$ extends Tv{getPattern(){return"hotpink"}}function R$(n){switch(n[0]){case"RadialAxial":return new T$(n);case"Mesh":return new I$(n);case"Dummy":return new P$}throw new Error(`Unknown IR type: ${n[0]}`)}const r7={COLORED:1,UNCOLORED:2},Rw=class Rw{constructor(r,t,e,s,a){this.operatorList=r[2],this.matrix=r[3],this.bbox=r[4],this.xstep=r[5],this.ystep=r[6],this.paintType=r[7],this.tilingType=r[8],this.color=t,this.ctx=e,this.canvasGraphicsFactory=s,this.baseTransform=a}createPatternCanvas(r){const t=this.operatorList,e=this.bbox,s=this.xstep,a=this.ystep,i=this.paintType,o=this.tilingType,u=this.color,c=this.canvasGraphicsFactory;u5("TilingType: "+o);const l=e[0],d=e[1],p=e[2],h=e[3],f=yr.singularValueDecompose2dScale(this.matrix),b=yr.singularValueDecompose2dScale(this.baseTransform),y=[f[0]*b[0],f[1]*b[1]],g=this.getSizeAndScale(s,this.ctx.canvas.width,y[0]),x=this.getSizeAndScale(a,this.ctx.canvas.height,y[1]),v=r.cachedCanvases.getCanvas("pattern",g.size,x.size,!0),w=v.context,S=c.createCanvasGraphics(w);S.groupLevel=r.groupLevel,this.setFillAndStrokeStyleToContext(S,i,u);let D=l,T=d,R=p,P=h;return l<0&&(D=0,R+=Math.abs(l)),d<0&&(T=0,P+=Math.abs(d)),w.translate(-(g.scale*D),-(x.scale*T)),S.transform(g.scale,0,0,x.scale,0,0),w.save(),this.clipBbox(S,D,T,R,P),S.baseTransform=Ws(S.ctx),S.executeOperatorList(t),S.endDrawing(),{canvas:v.canvas,scaleX:g.scale,scaleY:x.scale,offsetX:D,offsetY:T}}getSizeAndScale(r,t,e){r=Math.abs(r);const s=Math.max(Rw.MAX_PATTERN_SIZE,t);let a=Math.ceil(r*e);return a>=s?a=s:e=a/r,{scale:e,size:a}}clipBbox(r,t,e,s,a){const i=s-t,o=a-e;r.ctx.rect(t,e,i,o),r.current.updateRectMinMax(Ws(r.ctx),[t,e,s,a]),r.clip(),r.endPath()}setFillAndStrokeStyleToContext(r,t,e){const s=r.ctx,a=r.current;switch(t){case r7.COLORED:const i=this.ctx;s.fillStyle=i.fillStyle,s.strokeStyle=i.strokeStyle,a.fillColor=i.fillStyle,a.strokeColor=i.strokeStyle;break;case r7.UNCOLORED:const o=yr.makeHexColor(e[0],e[1],e[2]);s.fillStyle=o,s.strokeStyle=o,a.fillColor=o,a.strokeColor=o;break;default:throw new i$(`Unsupported paint type: ${t}`)}}getPattern(r,t,e,s){let a=e;s!==co.SHADING&&(a=yr.transform(a,t.baseTransform),this.matrix&&(a=yr.transform(a,this.matrix)));const i=this.createPatternCanvas(t);let o=new DOMMatrix(a);o=o.translate(i.offsetX,i.offsetY),o=o.scale(1/i.scaleX,1/i.scaleY);const u=r.createPattern(i.canvas,"repeat");return u.setTransform(o),u}};Ot(Rw,"MAX_PATTERN_SIZE",3e3);let o4=Rw;function M$({src:n,srcPos:r=0,dest:t,width:e,height:s,nonBlackColor:a=4294967295,inverseDecode:i=!1}){const o=Oo.isLittleEndian?4278190080:255,[u,c]=i?[a,o]:[o,a],l=e>>3,d=e&7,p=n.length;t=new Uint32Array(t.buffer);let h=0;for(let f=0;f<s;f++){for(const y=r+l;r<y;r++){const g=r<p?n[r]:255;t[h++]=g&128?c:u,t[h++]=g&64?c:u,t[h++]=g&32?c:u,t[h++]=g&16?c:u,t[h++]=g&8?c:u,t[h++]=g&4?c:u,t[h++]=g&2?c:u,t[h++]=g&1?c:u}if(d===0)continue;const b=r<p?n[r++]:255;for(let y=0;y<d;y++)t[h++]=b&1<<7-y?c:u}return{srcPos:r,destPos:h}}const n7=16,s7=100,O$=15,a7=10,i7=1e3,Ro=16;function L$(n,r){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){r.save(),this.__originalSave()},n.restore=function(){r.restore(),this.__originalRestore()},n.translate=function(e,s){r.translate(e,s),this.__originalTranslate(e,s)},n.scale=function(e,s){r.scale(e,s),this.__originalScale(e,s)},n.transform=function(e,s,a,i,o,u){r.transform(e,s,a,i,o,u),this.__originalTransform(e,s,a,i,o,u)},n.setTransform=function(e,s,a,i,o,u){r.setTransform(e,s,a,i,o,u),this.__originalSetTransform(e,s,a,i,o,u)},n.resetTransform=function(){r.resetTransform(),this.__originalResetTransform()},n.rotate=function(e){r.rotate(e),this.__originalRotate(e)},n.clip=function(e){r.clip(e),this.__originalClip(e)},n.moveTo=function(t,e){r.moveTo(t,e),this.__originalMoveTo(t,e)},n.lineTo=function(t,e){r.lineTo(t,e),this.__originalLineTo(t,e)},n.bezierCurveTo=function(t,e,s,a,i,o){r.bezierCurveTo(t,e,s,a,i,o),this.__originalBezierCurveTo(t,e,s,a,i,o)},n.rect=function(t,e,s,a){r.rect(t,e,s,a),this.__originalRect(t,e,s,a)},n.closePath=function(){r.closePath(),this.__originalClosePath()},n.beginPath=function(){r.beginPath(),this.__originalBeginPath()}}class F${constructor(r){this.canvasFactory=r,this.cache=Object.create(null)}getCanvas(r,t,e){let s;return this.cache[r]!==void 0?(s=this.cache[r],this.canvasFactory.reset(s,t,e)):(s=this.canvasFactory.create(t,e),this.cache[r]=s),s}delete(r){delete this.cache[r]}clear(){for(const r in this.cache){const t=this.cache[r];this.canvasFactory.destroy(t),delete this.cache[r]}}}function $2(n,r,t,e,s,a,i,o,u,c){const[l,d,p,h,f,b]=Ws(n);if(d===0&&p===0){const x=i*l+f,v=Math.round(x),w=o*h+b,S=Math.round(w),D=(i+u)*l+f,T=Math.abs(Math.round(D)-v)||1,R=(o+c)*h+b,P=Math.abs(Math.round(R)-S)||1;return n.setTransform(Math.sign(l),0,0,Math.sign(h),v,S),n.drawImage(r,t,e,s,a,0,0,T,P),n.setTransform(l,d,p,h,f,b),[T,P]}if(l===0&&h===0){const x=o*p+f,v=Math.round(x),w=i*d+b,S=Math.round(w),D=(o+c)*p+f,T=Math.abs(Math.round(D)-v)||1,R=(i+u)*d+b,P=Math.abs(Math.round(R)-S)||1;return n.setTransform(0,Math.sign(d),Math.sign(p),0,v,S),n.drawImage(r,t,e,s,a,0,0,P,T),n.setTransform(l,d,p,h,f,b),[P,T]}n.drawImage(r,t,e,s,a,i,o,u,c);const y=Math.hypot(l,d),g=Math.hypot(p,h);return[y*u,g*c]}function B$(n){const{width:r,height:t}=n;if(r>i7||t>i7)return null;const e=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),a=r+1;let i=new Uint8Array(a*(t+1)),o,u,c;const l=r+7&-8;let d=new Uint8Array(l*t),p=0;for(const g of n.data){let x=128;for(;x>0;)d[p++]=g&x?0:255,x>>=1}let h=0;for(p=0,d[p]!==0&&(i[0]=1,++h),u=1;u<r;u++)d[p]!==d[p+1]&&(i[u]=d[p]?2:1,++h),p++;for(d[p]!==0&&(i[u]=2,++h),o=1;o<t;o++){p=o*l,c=o*a,d[p-l]!==d[p]&&(i[c]=d[p]?1:8,++h);let g=(d[p]?4:0)+(d[p-l]?8:0);for(u=1;u<r;u++)g=(g>>2)+(d[p+1]?4:0)+(d[p-l+1]?8:0),s[g]&&(i[c+u]=s[g],++h),p++;if(d[p-l]!==d[p]&&(i[c+u]=d[p]?2:4,++h),h>e)return null}for(p=l*(t-1),c=o*a,d[p]!==0&&(i[c]=8,++h),u=1;u<r;u++)d[p]!==d[p+1]&&(i[c+u]=d[p]?4:8,++h),p++;if(d[p]!==0&&(i[c+u]=4,++h),h>e)return null;const f=new Int32Array([0,a,-1,0,-a,0,0,0,1]),b=new Path2D;for(o=0;h&&o<=t;o++){let g=o*a;const x=g+r;for(;g<x&&!i[g];)g++;if(g===x)continue;b.moveTo(g%a,o);const v=g;let w=i[g];do{const S=f[w];do g+=S;while(!i[g]);const D=i[g];D!==5&&D!==10?(w=D,i[g]=0):(w=D&51*w>>4,i[g]&=w>>2|w<<2),b.lineTo(g%a,g/a|0),i[g]||--h}while(v!==g);--o}return d=null,i=null,function(g){g.save(),g.scale(1/r,-1/t),g.translate(0,-t),g.fill(b),g.beginPath(),g.restore()}}class o7{constructor(r,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Bk,this.textMatrixScale=1,this.fontMatrix=P_,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Oi.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,r,t])}clone(){const r=Object.create(this);return r.clipBox=this.clipBox.slice(),r}setCurrentPoint(r,t){this.x=r,this.y=t}updatePathMinMax(r,t,e){[t,e]=yr.applyTransform([t,e],r),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,e),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,e)}updateRectMinMax(r,t){const e=yr.applyTransform(t,r),s=yr.applyTransform(t.slice(2),r),a=yr.applyTransform([t[0],t[3]],r),i=yr.applyTransform([t[2],t[1]],r);this.minX=Math.min(this.minX,e[0],s[0],a[0],i[0]),this.minY=Math.min(this.minY,e[1],s[1],a[1],i[1]),this.maxX=Math.max(this.maxX,e[0],s[0],a[0],i[0]),this.maxY=Math.max(this.maxY,e[1],s[1],a[1],i[1])}updateScalingPathMinMax(r,t){yr.scaleMinMax(r,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(r,t,e,s,a,i,o,u,c,l){const d=yr.bezierBoundingBox(t,e,s,a,i,o,u,c,l);l||this.updateRectMinMax(r,d)}getPathBoundingBox(r=co.FILL,t=null){const e=[this.minX,this.minY,this.maxX,this.maxY];if(r===co.STROKE){t||ls("Stroke bounding box must include transform.");const s=yr.singularValueDecompose2dScale(t),a=s[0]*this.lineWidth/2,i=s[1]*this.lineWidth/2;e[0]-=a,e[1]-=i,e[2]+=a,e[3]+=i}return e}updateClipFromPath(){const r=yr.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(r||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(r){this.clipBox=r,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(r=co.FILL,t=null){return yr.intersect(this.clipBox,this.getPathBoundingBox(r,t))}}function l7(n,r){if(typeof ImageData<"u"&&r instanceof ImageData){n.putImageData(r,0,0);return}const t=r.height,e=r.width,s=t%Ro,a=(t-s)/Ro,i=s===0?a:a+1,o=n.createImageData(e,Ro);let u=0,c;const l=r.data,d=o.data;let p,h,f,b;if(r.kind===fx.GRAYSCALE_1BPP){const y=l.byteLength,g=new Uint32Array(d.buffer,0,d.byteLength>>2),x=g.length,v=e+7>>3,w=4294967295,S=Oo.isLittleEndian?4278190080:255;for(p=0;p<i;p++){for(f=p<a?Ro:s,c=0,h=0;h<f;h++){const D=y-u;let T=0;const R=D>v?e:D*8-7,P=R&-8;let L=0,O=0;for(;T<P;T+=8)O=l[u++],g[c++]=O&128?w:S,g[c++]=O&64?w:S,g[c++]=O&32?w:S,g[c++]=O&16?w:S,g[c++]=O&8?w:S,g[c++]=O&4?w:S,g[c++]=O&2?w:S,g[c++]=O&1?w:S;for(;T<R;T++)L===0&&(O=l[u++],L=128),g[c++]=O&L?w:S,L>>=1}for(;c<x;)g[c++]=0;n.putImageData(o,0,p*Ro)}}else if(r.kind===fx.RGBA_32BPP){for(h=0,b=e*Ro*4,p=0;p<a;p++)d.set(l.subarray(u,u+b)),u+=b,n.putImageData(o,0,h),h+=Ro;p<i&&(b=e*s*4,d.set(l.subarray(u,u+b)),n.putImageData(o,0,h))}else if(r.kind===fx.RGB_24BPP)for(f=Ro,b=e*f,p=0;p<i;p++){for(p>=a&&(f=s,b=e*f),c=0,h=b;h--;)d[c++]=l[u++],d[c++]=l[u++],d[c++]=l[u++],d[c++]=255;n.putImageData(o,0,p*Ro)}else throw new Error(`bad image kind: ${r.kind}`)}function c7(n,r){if(r.bitmap){n.drawImage(r.bitmap,0,0);return}const t=r.height,e=r.width,s=t%Ro,a=(t-s)/Ro,i=s===0?a:a+1,o=n.createImageData(e,Ro);let u=0;const c=r.data,l=o.data;for(let d=0;d<i;d++){const p=d<a?Ro:s;({srcPos:u}=M$({src:c,srcPos:u,dest:l,width:e,height:p,nonBlackColor:0})),n.putImageData(o,0,d*Ro)}}function Bg(n,r){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const e of t)n[e]!==void 0&&(r[e]=n[e]);n.setLineDash!==void 0&&(r.setLineDash(n.getLineDash()),r.lineDashOffset=n.lineDashOffset)}function G2(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!zi){const{filter:r}=n;r!=="none"&&r!==""&&(n.filter="none")}}function u7(n,r){if(r)return!0;const t=yr.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const e=Math.fround((globalThis.devicePixelRatio||1)*Bf.PDF_TO_CSS_UNITS);return t[0]<=e&&t[1]<=e}const U$=["butt","round","square"],H$=["miter","round","bevel"],q$={},d7={};var zf,l4,c4;const SS=class SS{constructor(r,t,e,s,a,{optionalContentConfig:i,markedContentStack:o=null},u,c){je(this,zf);this.ctx=r,this.current=new o7(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=e,this.canvasFactory=s,this.filterFactory=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=i,this.cachedCanvases=new F$(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(r,t=null){return typeof r=="string"?r.startsWith("g_")?this.commonObjs.get(r):this.objs.get(r):t}beginDrawing({transform:r,viewport:t,transparency:e=!1,background:s=null}){const a=this.ctx.canvas.width,i=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,a,i),this.ctx.fillStyle=o,e){const u=this.cachedCanvases.getCanvas("transparent",a,i);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...Ws(this.compositeCtx))}this.ctx.save(),G2(this.ctx),r&&(this.ctx.transform(...r),this.outputScaleX=r[0],this.outputScaleY=r[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Ws(this.ctx)}executeOperatorList(r,t,e,s){const a=r.argsArray,i=r.fnArray;let o=t||0;const u=a.length;if(u===o)return o;const c=u-o>a7&&typeof e=="function",l=c?Date.now()+O$:0;let d=0;const p=this.commonObjs,h=this.objs;let f;for(;;){if(s!==void 0&&o===s.nextBreakPoint)return s.breakIt(o,e),o;if(f=i[o],f!==Nc.dependency)this[f].apply(this,a[o]);else for(const b of a[o]){const y=b.startsWith("g_")?p:h;if(!y.has(b))return y.get(b,e),o}if(o++,o===u)return o;if(c&&++d>a7){if(Date.now()>l)return e(),o;d=0}}}endDrawing(){De(this,zf,l4).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const r of this._cachedBitmapsMap.values()){for(const t of r.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);r.clear()}this._cachedBitmapsMap.clear(),De(this,zf,c4).call(this)}_scaleImage(r,t){const e=r.width,s=r.height;let a=Math.max(Math.hypot(t[0],t[1]),1),i=Math.max(Math.hypot(t[2],t[3]),1),o=e,u=s,c="prescale1",l,d;for(;a>2&&o>1||i>2&&u>1;){let p=o,h=u;a>2&&o>1&&(p=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),a/=o/p),i>2&&u>1&&(h=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,i/=u/h),l=this.cachedCanvases.getCanvas(c,p,h),d=l.context,d.clearRect(0,0,p,h),d.drawImage(r,0,0,o,u,0,0,p,h),r=l.canvas,o=p,u=h,c=c==="prescale1"?"prescale2":"prescale1"}return{img:r,paintWidth:o,paintHeight:u}}_createMaskCanvas(r){const t=this.ctx,{width:e,height:s}=r,a=this.current.fillColor,i=this.current.patternFill,o=Ws(t);let u,c,l,d;if((r.bitmap||r.data)&&r.count>1){const R=r.bitmap||r.data.buffer;c=JSON.stringify(i?o:[o.slice(0,4),a]),u=this._cachedBitmapsMap.get(R),u||(u=new Map,this._cachedBitmapsMap.set(R,u));const P=u.get(c);if(P&&!i){const L=Math.round(Math.min(o[0],o[2])+o[4]),O=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:P,offsetX:L,offsetY:O}}l=P}l||(d=this.cachedCanvases.getCanvas("maskCanvas",e,s),c7(d.context,r));let p=yr.transform(o,[1/e,0,0,-1/s,0,0]);p=yr.transform(p,[1,0,0,1,0,-s]);const[h,f,b,y]=yr.getAxialAlignedBoundingBox([0,0,e,s],p),g=Math.round(b-h)||1,x=Math.round(y-f)||1,v=this.cachedCanvases.getCanvas("fillCanvas",g,x),w=v.context,S=h,D=f;w.translate(-S,-D),w.transform(...p),l||(l=this._scaleImage(d.canvas,Rd(w)),l=l.img,u&&i&&u.set(c,l)),w.imageSmoothingEnabled=u7(Ws(w),r.interpolate),$2(w,l,0,0,l.width,l.height,0,0,e,s),w.globalCompositeOperation="source-in";const T=yr.transform(Rd(w),[1,0,0,1,-S,-D]);return w.fillStyle=i?a.getPattern(t,this,T,co.FILL):a,w.fillRect(0,0,e,s),u&&!i&&(this.cachedCanvases.delete("fillCanvas"),u.set(c,v.canvas)),{canvas:v.canvas,offsetX:Math.round(S),offsetY:Math.round(D)}}setLineWidth(r){r!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=r,this.ctx.lineWidth=r}setLineCap(r){this.ctx.lineCap=U$[r]}setLineJoin(r){this.ctx.lineJoin=H$[r]}setMiterLimit(r){this.ctx.miterLimit=r}setDash(r,t){const e=this.ctx;e.setLineDash!==void 0&&(e.setLineDash(r),e.lineDashOffset=t)}setRenderingIntent(r){}setFlatness(r){}setGState(r){for(const[t,e]of r)switch(t){case"LW":this.setLineWidth(e);break;case"LC":this.setLineCap(e);break;case"LJ":this.setLineJoin(e);break;case"ML":this.setMiterLimit(e);break;case"D":this.setDash(e[0],e[1]);break;case"RI":this.setRenderingIntent(e);break;case"FL":this.setFlatness(e);break;case"Font":this.setFont(e[0],e[1]);break;case"CA":this.current.strokeAlpha=e;break;case"ca":this.current.fillAlpha=e,this.ctx.globalAlpha=e;break;case"BM":this.ctx.globalCompositeOperation=e;break;case"SMask":this.current.activeSMask=e?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(e);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const r=this.inSMaskMode;this.current.activeSMask&&!r?this.beginSMaskMode():!this.current.activeSMask&&r&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const r=this.ctx.canvas.width,t=this.ctx.canvas.height,e="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(e,r,t);this.suspendedCtx=this.ctx,this.ctx=s.context;const a=this.ctx;a.setTransform(...Ws(this.suspendedCtx)),Bg(this.suspendedCtx,a),L$(a,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Bg(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(r){if(!this.current.activeSMask)return;r?(r[0]=Math.floor(r[0]),r[1]=Math.floor(r[1]),r[2]=Math.ceil(r[2]),r[3]=Math.ceil(r[3])):r=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,e=this.suspendedCtx;this.composeSMask(e,t,this.ctx,r),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(r,t,e,s){const a=s[0],i=s[1],o=s[2]-a,u=s[3]-i;o===0||u===0||(this.genericComposeSMask(t.context,e,o,u,t.subtype,t.backdrop,t.transferMap,a,i,t.offsetX,t.offsetY),r.save(),r.globalAlpha=1,r.globalCompositeOperation="source-over",r.setTransform(1,0,0,1,0,0),r.drawImage(e.canvas,0,0),r.restore())}genericComposeSMask(r,t,e,s,a,i,o,u,c,l,d){let p=r.canvas,h=u-l,f=c-d;if(i){if(h<0||f<0||h+e>p.width||f+s>p.height){const y=this.cachedCanvases.getCanvas("maskExtension",e,s),g=y.context;g.drawImage(p,-h,-f),i.some(x=>x!==0)&&(g.globalCompositeOperation="destination-atop",g.fillStyle=yr.makeHexColor(...i),g.fillRect(0,0,e,s),g.globalCompositeOperation="source-over"),p=y.canvas,h=f=0}else if(i.some(y=>y!==0)){r.save(),r.globalAlpha=1,r.setTransform(1,0,0,1,0,0);const y=new Path2D;y.rect(h,f,e,s),r.clip(y),r.globalCompositeOperation="destination-atop",r.fillStyle=yr.makeHexColor(...i),r.fillRect(h,f,e,s),r.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),a==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):a==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const b=new Path2D;b.rect(u,c,e,s),t.clip(b),t.globalCompositeOperation="destination-in",t.drawImage(p,h,f,e,s,u,c,e,s),t.restore()}save(){this.inSMaskMode?(Bg(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const r=this.current;this.stateStack.push(r),this.current=r.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Bg(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(r,t,e,s,a,i){this.ctx.transform(r,t,e,s,a,i),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(r,t,e){const s=this.ctx,a=this.current;let i=a.x,o=a.y,u,c;const l=Ws(s),d=l[0]===0&&l[3]===0||l[1]===0&&l[2]===0,p=d?e.slice(0):null;for(let h=0,f=0,b=r.length;h<b;h++)switch(r[h]|0){case Nc.rectangle:i=t[f++],o=t[f++];const y=t[f++],g=t[f++],x=i+y,v=o+g;s.moveTo(i,o),y===0||g===0?s.lineTo(x,v):(s.lineTo(x,o),s.lineTo(x,v),s.lineTo(i,v)),d||a.updateRectMinMax(l,[i,o,x,v]),s.closePath();break;case Nc.moveTo:i=t[f++],o=t[f++],s.moveTo(i,o),d||a.updatePathMinMax(l,i,o);break;case Nc.lineTo:i=t[f++],o=t[f++],s.lineTo(i,o),d||a.updatePathMinMax(l,i,o);break;case Nc.curveTo:u=i,c=o,i=t[f+4],o=t[f+5],s.bezierCurveTo(t[f],t[f+1],t[f+2],t[f+3],i,o),a.updateCurvePathMinMax(l,u,c,t[f],t[f+1],t[f+2],t[f+3],i,o,p),f+=6;break;case Nc.curveTo2:u=i,c=o,s.bezierCurveTo(i,o,t[f],t[f+1],t[f+2],t[f+3]),a.updateCurvePathMinMax(l,u,c,i,o,t[f],t[f+1],t[f+2],t[f+3],p),i=t[f+2],o=t[f+3],f+=4;break;case Nc.curveTo3:u=i,c=o,i=t[f+2],o=t[f+3],s.bezierCurveTo(t[f],t[f+1],i,o,i,o),a.updateCurvePathMinMax(l,u,c,t[f],t[f+1],i,o,i,o,p),f+=4;break;case Nc.closePath:s.closePath();break}d&&a.updateScalingPathMinMax(l,p),a.setCurrentPoint(i,o)}closePath(){this.ctx.closePath()}stroke(r=!0){const t=this.ctx,e=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof e=="object"&&(e!=null&&e.getPattern)?(t.save(),t.strokeStyle=e.getPattern(t,this,Rd(t),co.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),r&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(r=!0){const t=this.ctx,e=this.current.fillColor,s=this.current.patternFill;let a=!1;s&&(t.save(),t.fillStyle=e.getPattern(t,this,Rd(t),co.FILL),a=!0);const i=this.current.getClippedPathBoundingBox();this.contentVisible&&i!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),a&&t.restore(),r&&this.consumePath(i)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=q$}eoClip(){this.pendingClip=d7}beginText(){this.current.textMatrix=Bk,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const r=this.pendingTextPaths,t=this.ctx;if(r===void 0){t.beginPath();return}t.save(),t.beginPath();for(const e of r)t.setTransform(...e.transform),t.translate(e.x,e.y),e.addToPath(t,e.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(r){this.current.charSpacing=r}setWordSpacing(r){this.current.wordSpacing=r}setHScale(r){this.current.textHScale=r/100}setLeading(r){this.current.leading=-r}setFont(r,t){var l;const e=this.commonObjs.get(r),s=this.current;if(!e)throw new Error(`Can't find font for ${r}`);if(s.fontMatrix=e.fontMatrix||P_,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&cn("Invalid font matrix for font "+r),t<0?(t=-t,s.fontDirection=-1):s.fontDirection=1,this.current.font=e,this.current.fontSize=t,e.isType3Font)return;const a=e.loadedName||"sans-serif",i=((l=e.systemFontInfo)==null?void 0:l.css)||`"${a}", ${e.fallbackName}`;let o="normal";e.black?o="900":e.bold&&(o="bold");const u=e.italic?"italic":"normal";let c=t;t<n7?c=n7:t>s7&&(c=s7),this.current.fontSizeScale=t/c,this.ctx.font=`${u} ${o} ${c}px ${i}`}setTextRenderingMode(r){this.current.textRenderingMode=r}setTextRise(r){this.current.textRise=r}moveText(r,t){this.current.x=this.current.lineX+=r,this.current.y=this.current.lineY+=t}setLeadingMoveText(r,t){this.setLeading(-t),this.moveText(r,t)}setTextMatrix(r,t,e,s,a,i){this.current.textMatrix=[r,t,e,s,a,i],this.current.textMatrixScale=Math.hypot(r,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(r,t,e,s){const a=this.ctx,i=this.current,o=i.font,u=i.textRenderingMode,c=i.fontSize/i.fontSizeScale,l=u&Oi.FILL_STROKE_MASK,d=!!(u&Oi.ADD_TO_PATH_FLAG),p=i.patternFill&&!o.missingFile;let h;(o.disableFontFace||d||p)&&(h=o.getPathGenerator(this.commonObjs,r)),o.disableFontFace||p?(a.save(),a.translate(t,e),a.beginPath(),h(a,c),s&&a.setTransform(...s),(l===Oi.FILL||l===Oi.FILL_STROKE)&&a.fill(),(l===Oi.STROKE||l===Oi.FILL_STROKE)&&a.stroke(),a.restore()):((l===Oi.FILL||l===Oi.FILL_STROKE)&&a.fillText(r,t,e),(l===Oi.STROKE||l===Oi.FILL_STROKE)&&a.strokeText(r,t,e)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ws(a),x:t,y:e,fontSize:c,addToPath:h})}get isFontSubpixelAAEnabled(){const{context:r}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);r.scale(1.5,1),r.fillText("I",0,10);const t=r.getImageData(0,0,10,10).data;let e=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){e=!0;break}return jn(this,"isFontSubpixelAAEnabled",e)}showText(r){const t=this.current,e=t.font;if(e.isType3Font)return this.showType3Text(r);const s=t.fontSize;if(s===0)return;const a=this.ctx,i=t.fontSizeScale,o=t.charSpacing,u=t.wordSpacing,c=t.fontDirection,l=t.textHScale*c,d=r.length,p=e.vertical,h=p?1:-1,f=e.defaultVMetrics,b=s*t.fontMatrix[0],y=t.textRenderingMode===Oi.FILL&&!e.disableFontFace&&!t.patternFill;a.save(),a.transform(...t.textMatrix),a.translate(t.x,t.y+t.textRise),c>0?a.scale(l,-1):a.scale(l,1);let g;if(t.patternFill){a.save();const D=t.fillColor.getPattern(a,this,Rd(a),co.FILL);g=Ws(a),a.restore(),a.fillStyle=D}let x=t.lineWidth;const v=t.textMatrixScale;if(v===0||x===0){const D=t.textRenderingMode&Oi.FILL_STROKE_MASK;(D===Oi.STROKE||D===Oi.FILL_STROKE)&&(x=this.getSinglePixelWidth())}else x/=v;if(i!==1&&(a.scale(i,i),x/=i),a.lineWidth=x,e.isInvalidPDFjsFont){const D=[];let T=0;for(const R of r)D.push(R.unicode),T+=R.width;a.fillText(D.join(""),0,0),t.x+=T*b*l,a.restore(),this.compose();return}let w=0,S;for(S=0;S<d;++S){const D=r[S];if(typeof D=="number"){w+=h*D*s/1e3;continue}let T=!1;const R=(D.isSpace?u:0)+o,P=D.fontChar,L=D.accent;let O,H,U=D.width;if(p){const F=D.vmetric||f,A=-(D.vmetric?F[1]:U*.5)*b,_=F[2]*b;U=F?-F[0]:U,O=A/i,H=(w+_)/i}else O=w/i,H=0;if(e.remeasure&&U>0){const F=a.measureText(P).width*1e3/s*i;if(U<F&&this.isFontSubpixelAAEnabled){const A=U/F;T=!0,a.save(),a.scale(A,1),O/=A}else U!==F&&(O+=(U-F)/2e3*s/i)}if(this.contentVisible&&(D.isInFont||e.missingFile)){if(y&&!L)a.fillText(P,O,H);else if(this.paintChar(P,O,H,g),L){const F=O+s*L.offset.x/i,A=H-s*L.offset.y/i;this.paintChar(L.fontChar,F,A,g)}}const I=p?U*b-R*c:U*b+R*c;w+=I,T&&a.restore()}p?t.y-=w:t.x+=w*l,a.restore(),this.compose()}showType3Text(r){const t=this.ctx,e=this.current,s=e.font,a=e.fontSize,i=e.fontDirection,o=s.vertical?1:-1,u=e.charSpacing,c=e.wordSpacing,l=e.textHScale*i,d=e.fontMatrix||P_,p=r.length,h=e.textRenderingMode===Oi.INVISIBLE;let f,b,y,g;if(!(h||a===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...e.textMatrix),t.translate(e.x,e.y),t.scale(l,i),f=0;f<p;++f){if(b=r[f],typeof b=="number"){g=o*b*a/1e3,this.ctx.translate(g,0),e.x+=g*l;continue}const x=(b.isSpace?c:0)+u,v=s.charProcOperatorList[b.operatorListId];if(!v){cn(`Type3 character "${b.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=b,this.save(),t.scale(a,a),t.transform(...d),this.executeOperatorList(v),this.restore()),y=yr.applyTransform([b.width,0],d)[0]*a+x,t.translate(y,0),e.x+=y*l}t.restore(),this.processingType3=null}}setCharWidth(r,t){}setCharWidthAndBounds(r,t,e,s,a,i){this.ctx.rect(e,s,a-e,i-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(r){let t;if(r[0]==="TilingPattern"){const e=r[1],s=this.baseTransform||Ws(this.ctx),a={createCanvasGraphics:i=>new SS(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new o4(r,e,this.ctx,a,s)}else t=this._getPattern(r[1],r[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(r,t,e){const s=yr.makeHexColor(r,t,e);this.ctx.strokeStyle=s,this.current.strokeColor=s}setFillRGBColor(r,t,e){const s=yr.makeHexColor(r,t,e);this.ctx.fillStyle=s,this.current.fillColor=s,this.current.patternFill=!1}_getPattern(r,t=null){let e;return this.cachedPatterns.has(r)?e=this.cachedPatterns.get(r):(e=R$(this.getObject(r)),this.cachedPatterns.set(r,e)),t&&(e.matrix=t),e}shadingFill(r){if(!this.contentVisible)return;const t=this.ctx;this.save();const e=this._getPattern(r);t.fillStyle=e.getPattern(t,this,Rd(t),co.SHADING);const s=Rd(t);if(s){const{width:a,height:i}=t.canvas,[o,u,c,l]=yr.getAxialAlignedBoundingBox([0,0,a,i],s);this.ctx.fillRect(o,u,c-o,l-u)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ls("Should not call beginInlineImage")}beginImageData(){ls("Should not call beginImageData")}paintFormXObjectBegin(r,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),r&&this.transform(...r),this.baseTransform=Ws(this.ctx),t)){const e=t[2]-t[0],s=t[3]-t[1];this.ctx.rect(t[0],t[1],e,s),this.current.updateRectMinMax(Ws(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(r){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;r.isolated||u5("TODO: Support non-isolated groups."),r.knockout&&cn("Knockout groups not supported.");const e=Ws(t);if(r.matrix&&t.transform(...r.matrix),!r.bbox)throw new Error("Bounding box is required.");let s=yr.getAxialAlignedBoundingBox(r.bbox,Ws(t));const a=[0,0,t.canvas.width,t.canvas.height];s=yr.intersect(s,a)||[0,0,0,0];const i=Math.floor(s[0]),o=Math.floor(s[1]),u=Math.max(Math.ceil(s[2])-i,1),c=Math.max(Math.ceil(s[3])-o,1);this.current.startNewPathAndClipBox([0,0,u,c]);let l="groupAt"+this.groupLevel;r.smask&&(l+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(l,u,c),p=d.context;p.translate(-i,-o),p.transform(...e),r.smask?this.smaskStack.push({canvas:d.canvas,context:p,offsetX:i,offsetY:o,subtype:r.smask.subtype,backdrop:r.smask.backdrop,transferMap:r.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(i,o),t.save()),Bg(t,p),this.ctx=p,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(r){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,e=this.groupStack.pop();if(this.ctx=e,this.ctx.imageSmoothingEnabled=!1,r.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=Ws(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const a=yr.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],s);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(r,t,e,s,a){if(De(this,zf,l4).call(this),G2(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const i=t[2]-t[0],o=t[3]-t[1];if(a&&this.annotationCanvasMap){e=e.slice(),e[4]-=t[0],e[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=i,t[3]=o;const[u,c]=yr.singularValueDecompose2dScale(Ws(this.ctx)),{viewportScale:l}=this,d=Math.ceil(i*this.outputScaleX*l),p=Math.ceil(o*this.outputScaleY*l);this.annotationCanvas=this.canvasFactory.create(d,p);const{canvas:h,context:f}=this.annotationCanvas;this.annotationCanvasMap.set(r,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=f,this.ctx.save(),this.ctx.setTransform(u,0,0,-c,0,o*c),G2(this.ctx)}else G2(this.ctx),this.ctx.rect(t[0],t[1],i,o),this.ctx.clip(),this.endPath()}this.current=new o7(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...e),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),De(this,zf,c4).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(r){if(!this.contentVisible)return;const t=r.count;r=this.getObject(r.data,r),r.count=t;const e=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=B$(r)),s.compiled)){s.compiled(e);return}const a=this._createMaskCanvas(r),i=a.canvas;e.save(),e.setTransform(1,0,0,1,0,0),e.drawImage(i,a.offsetX,a.offsetY),e.restore(),this.compose()}paintImageMaskXObjectRepeat(r,t,e=0,s=0,a,i){if(!this.contentVisible)return;r=this.getObject(r.data,r);const o=this.ctx;o.save();const u=Ws(o);o.transform(t,e,s,a,0,0);const c=this._createMaskCanvas(r);o.setTransform(1,0,0,1,c.offsetX-u[4],c.offsetY-u[5]);for(let l=0,d=i.length;l<d;l+=2){const p=yr.transform(u,[t,e,s,a,i[l],i[l+1]]),[h,f]=yr.applyTransform([0,0],p);o.drawImage(c.canvas,h,f)}o.restore(),this.compose()}paintImageMaskXObjectGroup(r){if(!this.contentVisible)return;const t=this.ctx,e=this.current.fillColor,s=this.current.patternFill;for(const a of r){const{data:i,width:o,height:u,transform:c}=a,l=this.cachedCanvases.getCanvas("maskCanvas",o,u),d=l.context;d.save();const p=this.getObject(i,a);c7(d,p),d.globalCompositeOperation="source-in",d.fillStyle=s?e.getPattern(d,this,Rd(t),co.FILL):e,d.fillRect(0,0,o,u),d.restore(),t.save(),t.transform(...c),t.scale(1,-1),$2(t,l.canvas,0,0,o,u,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(r){if(!this.contentVisible)return;const t=this.getObject(r);if(!t){cn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(r,t,e,s){if(!this.contentVisible)return;const a=this.getObject(r);if(!a){cn("Dependent image isn't ready yet");return}const i=a.width,o=a.height,u=[];for(let c=0,l=s.length;c<l;c+=2)u.push({transform:[t,0,0,e,s[c],s[c+1]],x:0,y:0,w:i,h:o});this.paintInlineImageXObjectGroup(a,u)}applyTransferMapsToCanvas(r){return this.current.transferMaps!=="none"&&(r.filter=this.current.transferMaps,r.drawImage(r.canvas,0,0),r.filter="none"),r.canvas}applyTransferMapsToBitmap(r){if(this.current.transferMaps==="none")return r.bitmap;const{bitmap:t,width:e,height:s}=r,a=this.cachedCanvases.getCanvas("inlineImage",e,s),i=a.context;return i.filter=this.current.transferMaps,i.drawImage(t,0,0),i.filter="none",a.canvas}paintInlineImageXObject(r){if(!this.contentVisible)return;const t=r.width,e=r.height,s=this.ctx;if(this.save(),!zi){const{filter:o}=s;o!=="none"&&o!==""&&(s.filter="none")}s.scale(1/t,-1/e);let a;if(r.bitmap)a=this.applyTransferMapsToBitmap(r);else if(typeof HTMLElement=="function"&&r instanceof HTMLElement||!r.data)a=r;else{const u=this.cachedCanvases.getCanvas("inlineImage",t,e).context;l7(u,r),a=this.applyTransferMapsToCanvas(u)}const i=this._scaleImage(a,Rd(s));s.imageSmoothingEnabled=u7(Ws(s),r.interpolate),$2(s,i.img,0,0,i.paintWidth,i.paintHeight,0,-e,t,e),this.compose(),this.restore()}paintInlineImageXObjectGroup(r,t){if(!this.contentVisible)return;const e=this.ctx;let s;if(r.bitmap)s=r.bitmap;else{const a=r.width,i=r.height,u=this.cachedCanvases.getCanvas("inlineImage",a,i).context;l7(u,r),s=this.applyTransferMapsToCanvas(u)}for(const a of t)e.save(),e.transform(...a.transform),e.scale(1,-1),$2(e,s,a.x,a.y,a.w,a.h,0,-1,1,1),e.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(r){}markPointProps(r,t){}beginMarkedContent(r){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(r,t){r==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(r){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const e=this.ctx;this.pendingClip&&(t||(this.pendingClip===d7?e.clip("evenodd"):e.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),e.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const r=Ws(this.ctx);if(r[1]===0&&r[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(r[0]),Math.abs(r[3]));else{const t=Math.abs(r[0]*r[3]-r[2]*r[1]),e=Math.hypot(r[0],r[2]),s=Math.hypot(r[1],r[3]);this._cachedGetSinglePixelWidth=Math.max(e,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:r}=this.current,{a:t,b:e,c:s,d:a}=this.ctx.getTransform();let i,o;if(e===0&&s===0){const u=Math.abs(t),c=Math.abs(a);if(u===c)if(r===0)i=o=1/u;else{const l=u*r;i=o=l<1?1/l:1}else if(r===0)i=1/u,o=1/c;else{const l=u*r,d=c*r;i=l<1?1/l:1,o=d<1?1/d:1}}else{const u=Math.abs(t*a-e*s),c=Math.hypot(t,e),l=Math.hypot(s,a);if(r===0)i=l/u,o=c/u;else{const d=r*u;i=l>d?l/d:1,o=c>d?c/d:1}}this._cachedScaleForStroking[0]=i,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(r){const{ctx:t}=this,{lineWidth:e}=this.current,[s,a]=this.getScaleForStroking();if(t.lineWidth=e||1,s===1&&a===1){t.stroke();return}const i=t.getLineDash();if(r&&t.save(),t.scale(s,a),i.length>0){const o=Math.max(s,a);t.setLineDash(i.map(u=>u/o)),t.lineDashOffset/=o}t.stroke(),r&&t.restore()}isContentVisible(){for(let r=this.markedContentStack.length-1;r>=0;r--)if(!this.markedContentStack[r].visible)return!1;return!0}};zf=new WeakSet,l4=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},c4=function(){if(this.pageColors){const r=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(r!=="none"){const t=this.ctx.filter;this.ctx.filter=r,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let K0=SS;for(const n in Nc)K0.prototype[n]!==void 0&&(K0.prototype[Nc[n]]=K0.prototype[n]);var yy,vy;class mh{static get workerPort(){return X(this,yy)}static set workerPort(r){if(!(typeof Worker<"u"&&r instanceof Worker)&&r!==null)throw new Error("Invalid `workerPort` type.");Ne(this,yy,r)}static get workerSrc(){return X(this,vy)}static set workerSrc(r){if(typeof r!="string")throw new Error("Invalid `workerSrc` type.");Ne(this,vy,r)}}yy=new WeakMap,vy=new WeakMap,je(mh,yy,null),je(mh,vy,"");const Y2={UNKNOWN:0,DATA:1,ERROR:2},Ea={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function rl(n){switch(n instanceof Error||typeof n=="object"&&n!==null||ls('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new e0(n.message);case"MissingPDFException":return new Qm(n.message);case"PasswordException":return new M_(n.message,n.code);case"UnexpectedResponseException":return new d5(n.message,n.status);case"UnknownErrorException":return new O_(n.message,n.details);default:return new O_(n.message,n.toString())}}var $u,_9,S9,vx;class Kg{constructor(r,t,e){je(this,$u);this.sourceName=r,this.targetName=t,this.comObj=e,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=s=>{const a=s.data;if(a.targetName!==this.sourceName)return;if(a.stream){De(this,$u,S9).call(this,a);return}if(a.callback){const o=a.callbackId,u=this.callbackCapabilities[o];if(!u)throw new Error(`Cannot resolve callback ${o}`);if(delete this.callbackCapabilities[o],a.callback===Y2.DATA)u.resolve(a.data);else if(a.callback===Y2.ERROR)u.reject(rl(a.reason));else throw new Error("Unexpected callback case");return}const i=this.actionHandler[a.action];if(!i)throw new Error(`Unknown action from worker: ${a.action}`);if(a.callbackId){const o=this.sourceName,u=a.sourceName;new Promise(function(c){c(i(a.data))}).then(function(c){e.postMessage({sourceName:o,targetName:u,callback:Y2.DATA,callbackId:a.callbackId,data:c})},function(c){e.postMessage({sourceName:o,targetName:u,callback:Y2.ERROR,callbackId:a.callbackId,reason:rl(c)})});return}if(a.streamId){De(this,$u,_9).call(this,a);return}i(a.data)},e.addEventListener("message",this._onComObjOnMessage)}on(r,t){const e=this.actionHandler;if(e[r])throw new Error(`There is already an actionName called "${r}"`);e[r]=t}send(r,t,e){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:r,data:t},e)}sendWithPromise(r,t,e){const s=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[s]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:r,callbackId:s,data:t},e)}catch(i){a.reject(i)}return a.promise}sendWithStream(r,t,e,s){const a=this.streamId++,i=this.sourceName,o=this.targetName,u=this.comObj;return new ReadableStream({start:c=>{const l=Promise.withResolvers();return this.streamControllers[a]={controller:c,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:i,targetName:o,action:r,streamId:a,data:t,desiredSize:c.desiredSize},s),l.promise},pull:c=>{const l=Promise.withResolvers();return this.streamControllers[a].pullCall=l,u.postMessage({sourceName:i,targetName:o,stream:Ea.PULL,streamId:a,desiredSize:c.desiredSize}),l.promise},cancel:c=>{Ua(c instanceof Error,"cancel must have a valid reason");const l=Promise.withResolvers();return this.streamControllers[a].cancelCall=l,this.streamControllers[a].isClosed=!0,u.postMessage({sourceName:i,targetName:o,stream:Ea.CANCEL,streamId:a,reason:rl(c)}),l.promise}},e)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}$u=new WeakSet,_9=function(r){const t=r.streamId,e=this.sourceName,s=r.sourceName,a=this.comObj,i=this,o=this.actionHandler[r.action],u={enqueue(c,l=1,d){if(this.isCancelled)return;const p=this.desiredSize;this.desiredSize-=l,p>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:e,targetName:s,stream:Ea.ENQUEUE,streamId:t,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:e,targetName:s,stream:Ea.CLOSE,streamId:t}),delete i.streamSinks[t])},error(c){Ua(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:e,targetName:s,stream:Ea.ERROR,streamId:t,reason:rl(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:r.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[t]=u,new Promise(function(c){c(o(r.data,u))}).then(function(){a.postMessage({sourceName:e,targetName:s,stream:Ea.START_COMPLETE,streamId:t,success:!0})},function(c){a.postMessage({sourceName:e,targetName:s,stream:Ea.START_COMPLETE,streamId:t,reason:rl(c)})})},S9=function(r){const t=r.streamId,e=this.sourceName,s=r.sourceName,a=this.comObj,i=this.streamControllers[t],o=this.streamSinks[t];switch(r.stream){case Ea.START_COMPLETE:r.success?i.startCall.resolve():i.startCall.reject(rl(r.reason));break;case Ea.PULL_COMPLETE:r.success?i.pullCall.resolve():i.pullCall.reject(rl(r.reason));break;case Ea.PULL:if(!o){a.postMessage({sourceName:e,targetName:s,stream:Ea.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&r.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=r.desiredSize,new Promise(function(u){var c;u((c=o.onPull)==null?void 0:c.call(o))}).then(function(){a.postMessage({sourceName:e,targetName:s,stream:Ea.PULL_COMPLETE,streamId:t,success:!0})},function(u){a.postMessage({sourceName:e,targetName:s,stream:Ea.PULL_COMPLETE,streamId:t,reason:rl(u)})});break;case Ea.ENQUEUE:if(Ua(i,"enqueue should have stream controller"),i.isClosed)break;i.controller.enqueue(r.chunk);break;case Ea.CLOSE:if(Ua(i,"close should have stream controller"),i.isClosed)break;i.isClosed=!0,i.controller.close(),De(this,$u,vx).call(this,i,t);break;case Ea.ERROR:Ua(i,"error should have stream controller"),i.controller.error(rl(r.reason)),De(this,$u,vx).call(this,i,t);break;case Ea.CANCEL_COMPLETE:r.success?i.cancelCall.resolve():i.cancelCall.reject(rl(r.reason)),De(this,$u,vx).call(this,i,t);break;case Ea.CANCEL:if(!o)break;new Promise(function(u){var c;u((c=o.onCancel)==null?void 0:c.call(o,rl(r.reason)))}).then(function(){a.postMessage({sourceName:e,targetName:s,stream:Ea.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){a.postMessage({sourceName:e,targetName:s,stream:Ea.CANCEL_COMPLETE,streamId:t,reason:rl(u)})}),o.sinkCapability.reject(rl(r.reason)),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},vx=async function(r,t){var e,s,a;await Promise.allSettled([(e=r.startCall)==null?void 0:e.promise,(s=r.pullCall)==null?void 0:s.promise,(a=r.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[t]};var Gp,xy;class W${constructor({parsedData:r,rawData:t}){je(this,Gp);je(this,xy);Ne(this,Gp,r),Ne(this,xy,t)}getRaw(){return X(this,xy)}get(r){return X(this,Gp).get(r)??null}getAll(){return L8(X(this,Gp))}has(r){return X(this,Gp).has(r)}}Gp=new WeakMap,xy=new WeakMap;const Yh=Symbol("INTERNAL");var wy,_y,Sy,m1;class z${constructor(r,{name:t,intent:e,usage:s}){je(this,wy,!1);je(this,_y,!1);je(this,Sy,!1);je(this,m1,!0);Ne(this,wy,!!(r&Wl.DISPLAY)),Ne(this,_y,!!(r&Wl.PRINT)),this.name=t,this.intent=e,this.usage=s}get visible(){if(X(this,Sy))return X(this,m1);if(!X(this,m1))return!1;const{print:r,view:t}=this.usage;return X(this,wy)?(t==null?void 0:t.viewState)!=="OFF":X(this,_y)?(r==null?void 0:r.printState)!=="OFF":!0}_setVisible(r,t,e=!1){r!==Yh&&ls("Internal method `_setVisible` called."),Ne(this,Sy,e),Ne(this,m1,t)}}wy=new WeakMap,_y=new WeakMap,Sy=new WeakMap,m1=new WeakMap;var af,is,g1,b1,Ey,u4;class V${constructor(r,t=Wl.DISPLAY){je(this,Ey);je(this,af,null);je(this,is,new Map);je(this,g1,null);je(this,b1,null);if(this.renderingIntent=t,this.name=null,this.creator=null,r!==null){this.name=r.name,this.creator=r.creator,Ne(this,b1,r.order);for(const e of r.groups)X(this,is).set(e.id,new z$(t,e));if(r.baseState==="OFF")for(const e of X(this,is).values())e._setVisible(Yh,!1);for(const e of r.on)X(this,is).get(e)._setVisible(Yh,!0);for(const e of r.off)X(this,is).get(e)._setVisible(Yh,!1);Ne(this,g1,this.getHash())}}isVisible(r){if(X(this,is).size===0)return!0;if(!r)return u5("Optional content group not defined."),!0;if(r.type==="OCG")return X(this,is).has(r.id)?X(this,is).get(r.id).visible:(cn(`Optional content group not found: ${r.id}`),!0);if(r.type==="OCMD"){if(r.expression)return De(this,Ey,u4).call(this,r.expression);if(!r.policy||r.policy==="AnyOn"){for(const t of r.ids){if(!X(this,is).has(t))return cn(`Optional content group not found: ${t}`),!0;if(X(this,is).get(t).visible)return!0}return!1}else if(r.policy==="AllOn"){for(const t of r.ids){if(!X(this,is).has(t))return cn(`Optional content group not found: ${t}`),!0;if(!X(this,is).get(t).visible)return!1}return!0}else if(r.policy==="AnyOff"){for(const t of r.ids){if(!X(this,is).has(t))return cn(`Optional content group not found: ${t}`),!0;if(!X(this,is).get(t).visible)return!0}return!1}else if(r.policy==="AllOff"){for(const t of r.ids){if(!X(this,is).has(t))return cn(`Optional content group not found: ${t}`),!0;if(X(this,is).get(t).visible)return!1}return!0}return cn(`Unknown optional content policy ${r.policy}.`),!0}return cn(`Unknown group type ${r.type}.`),!0}setVisibility(r,t=!0){const e=X(this,is).get(r);if(!e){cn(`Optional content group not found: ${r}`);return}e._setVisible(Yh,!!t,!0),Ne(this,af,null)}setOCGState({state:r,preserveRB:t}){let e;for(const s of r){switch(s){case"ON":case"OFF":case"Toggle":e=s;continue}const a=X(this,is).get(s);if(a)switch(e){case"ON":a._setVisible(Yh,!0);break;case"OFF":a._setVisible(Yh,!1);break;case"Toggle":a._setVisible(Yh,!a.visible);break}}Ne(this,af,null)}get hasInitialVisibility(){return X(this,g1)===null||this.getHash()===X(this,g1)}getOrder(){return X(this,is).size?X(this,b1)?X(this,b1).slice():[...X(this,is).keys()]:null}getGroups(){return X(this,is).size>0?L8(X(this,is)):null}getGroup(r){return X(this,is).get(r)||null}getHash(){if(X(this,af)!==null)return X(this,af);const r=new y9;for(const[t,e]of X(this,is))r.update(`${t}:${e.visible}`);return Ne(this,af,r.hexdigest())}}af=new WeakMap,is=new WeakMap,g1=new WeakMap,b1=new WeakMap,Ey=new WeakSet,u4=function(r){const t=r.length;if(t<2)return!0;const e=r[0];for(let s=1;s<t;s++){const a=r[s];let i;if(Array.isArray(a))i=De(this,Ey,u4).call(this,a);else if(X(this,is).has(a))i=X(this,is).get(a).visible;else return cn(`Optional content group not found: ${a}`),!0;switch(e){case"And":if(!i)return!1;break;case"Or":if(i)return!0;break;case"Not":return!i;default:return!0}}return e==="And"};class $${constructor(r,{disableRange:t=!1,disableStream:e=!1}){Ua(r,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:a,progressiveDone:i,contentDispositionFilename:o}=r;if(this._queuedChunks=[],this._progressiveDone=i,this._contentDispositionFilename=o,(a==null?void 0:a.length)>0){const u=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=r,this._isStreamingSupported=!e,this._isRangeSupported=!t,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],r.addRangeListener((u,c)=>{this._onReceiveData({begin:u,chunk:c})}),r.addProgressListener((u,c)=>{this._onProgress({loaded:u,total:c})}),r.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),r.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),r.transportReady()}_onReceiveData({begin:r,chunk:t}){const e=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(r===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(e):this._queuedChunks.push(e);else{const s=this._rangeReaders.some(function(a){return a._begin!==r?!1:(a._enqueue(e),!0)});Ua(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var r;return((r=this._fullRequestReader)==null?void 0:r._loaded)??0}_onProgress(r){var t,e,s,a;r.total===void 0?(e=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||e.call(t,{loaded:r.loaded}):(a=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||a.call(s,{loaded:r.loaded,total:r.total})}_onProgressiveDone(){var r;(r=this._fullRequestReader)==null||r.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(r){const t=this._rangeReaders.indexOf(r);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ua(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const r=this._queuedChunks;return this._queuedChunks=null,new G$(this,r,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(r,t){if(t<=this._progressiveDataLength)return null;const e=new Y$(this,r,t);return this._pdfDataRangeTransport.requestDataRange(r,t),this._rangeReaders.push(e),e}cancelAllRequests(r){var t;(t=this._fullRequestReader)==null||t.cancel(r);for(const e of this._rangeReaders.slice(0))e.cancel(r);this._pdfDataRangeTransport.abort()}}class G${constructor(r,t,e=!1,s=null){this._stream=r,this._done=e||!1,this._filename=q8(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),r._fullRequestReader=this,this.onProgress=null}_enqueue(r){this._done||(this._requests.length>0?this._requests.shift().resolve({value:r,done:!1}):this._queuedChunks.push(r),this._loaded+=r.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const r=Promise.withResolvers();return this._requests.push(r),r.promise}cancel(r){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Y${constructor(r,t,e){this._stream=r,this._begin=t,this._end=e,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(r){if(!this._done){if(this._requests.length===0)this._queuedChunk=r;else{this._requests.shift().resolve({value:r,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const r=Promise.withResolvers();return this._requests.push(r),r.promise}cancel(r){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function K$(n){let r=!0,t=e("filename\\*","i").exec(n);if(t){t=t[1];let l=o(t);return l=unescape(l),l=u(l),l=c(l),a(l)}if(t=i(n),t){const l=c(t);return a(l)}if(t=e("filename","i").exec(n),t){t=t[1];let l=o(t);return l=c(l),a(l)}function e(l,d){return new RegExp("(?:^|;)\\s*"+l+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function s(l,d){if(l){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const p=new TextDecoder(l,{fatal:!0}),h=h5(d);d=p.decode(h),r=!1}catch{}}return d}function a(l){return r&&/[\x80-\xff]/.test(l)&&(l=s("utf-8",l),r&&(l=s("iso-8859-1",l))),l}function i(l){const d=[];let p;const h=e("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=h.exec(l))!==null;){let[,b,y,g]=p;if(b=parseInt(b,10),b in d){if(b===0)break;continue}d[b]=[y,g]}const f=[];for(let b=0;b<d.length&&b in d;++b){let[y,g]=d[b];g=o(g),y&&(g=unescape(g),b===0&&(g=u(g))),f.push(g)}return f.join("")}function o(l){if(l.startsWith('"')){const d=l.slice(1).split('\\"');for(let p=0;p<d.length;++p){const h=d[p].indexOf('"');h!==-1&&(d[p]=d[p].slice(0,h),d.length=p+1),d[p]=d[p].replaceAll(/\\(.)/g,"$1")}l=d.join('"')}return l}function u(l){const d=l.indexOf("'");if(d===-1)return l;const p=l.slice(0,d),f=l.slice(d+1).replace(/^[^']*'/,"");return s(p,f)}function c(l){return!l.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(l)?l:l.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,p,h,f){if(h==="q"||h==="Q")return f=f.replaceAll("_"," "),f=f.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,y){return String.fromCharCode(parseInt(y,16))}),s(p,f);try{f=atob(f)}catch{}return s(p,f)})}return""}function V8({getResponseHeader:n,isHttp:r,rangeChunkSize:t,disableRange:e}){const s={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(n("Content-Length"),10);return!Number.isInteger(a)||(s.suggestedLength=a,a<=2*t)||e||!r||n("Accept-Ranges")!=="bytes"||(n("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function $8(n){const r=n("Content-Disposition");if(r){let t=K$(r);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(q8(t))return t}return null}function b5(n,r){return n===404||n===0&&r.startsWith("file:")?new Qm('Missing PDF "'+r+'".'):new d5(`Unexpected server response (${n}) while retrieving PDF "${r}".`,n)}function E9(n){return n===200||n===206}function N9(n,r,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:r?"include":"same-origin",redirect:"follow"}}function A9(n){const r=new Headers;for(const t in n){const e=n[t];e!==void 0&&r.append(t,e)}return r}function k9(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(cn(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class h7{constructor(r){this.source=r,this.isHttp=/^https?:/i.test(r.url),this.httpHeaders=this.isHttp&&r.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var r;return((r=this._fullRequestReader)==null?void 0:r._loaded)??0}getFullReader(){return Ua(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new X$(this),this._fullRequestReader}getRangeReader(r,t){if(t<=this._progressiveDataLength)return null;const e=new J$(this,r,t);return this._rangeRequestReaders.push(e),e}cancelAllRequests(r){var t;(t=this._fullRequestReader)==null||t.cancel(r);for(const e of this._rangeRequestReaders.slice(0))e.cancel(r)}}class X${constructor(r){this._stream=r,this._reader=null,this._loaded=0,this._filename=null;const t=r.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=A9(this._stream.httpHeaders);const e=t.url;fetch(e,N9(this._headers,this._withCredentials,this._abortController)).then(s=>{if(!E9(s.status))throw b5(s.status,e);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=u=>s.headers.get(u),{allowRangeRequests:i,suggestedLength:o}=V8({getResponseHeader:a,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=o||this._contentLength,this._filename=$8(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new e0("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._headersCapability.promise;const{value:r,done:t}=await this._reader.read();return t?{value:r,done:t}:(this._loaded+=r.byteLength,(e=this.onProgress)==null||e.call(this,{loaded:this._loaded,total:this._contentLength}),{value:k9(r),done:!1})}cancel(r){var t;(t=this._reader)==null||t.cancel(r),this._abortController.abort()}}class J${constructor(r,t,e){this._stream=r,this._reader=null,this._loaded=0;const s=r.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController,this._headers=A9(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${e-1}`);const a=s.url;fetch(a,N9(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!E9(i.status))throw b5(i.status,a);this._readCapability.resolve(),this._reader=i.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._readCapability.promise;const{value:r,done:t}=await this._reader.read();return t?{value:r,done:t}:(this._loaded+=r.byteLength,(e=this.onProgress)==null||e.call(this,{loaded:this._loaded}),{value:k9(r),done:!1})}cancel(r){var t;(t=this._reader)==null||t.cancel(r),this._abortController.abort()}}const W6=200,z6=206;function Z$(n){const r=n.response;return typeof r!="string"?r:h5(r).buffer}class Q${constructor(r,t={}){this.url=r,this.isHttp=/^https?:/i.test(r),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(r,t,e){const s={begin:r,end:t};for(const a in e)s[a]=e[a];return this.request(s)}requestFull(r){return this.request(r)}request(r){const t=new XMLHttpRequest,e=this.currXhrId++,s=this.pendingRequests[e]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const a in this.httpHeaders){const i=this.httpHeaders[a];i!==void 0&&t.setRequestHeader(a,i)}return this.isHttp&&"begin"in r&&"end"in r?(t.setRequestHeader("Range",`bytes=${r.begin}-${r.end-1}`),s.expectedStatus=z6):s.expectedStatus=W6,t.responseType="arraybuffer",r.onError&&(t.onerror=function(a){r.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,e),t.onprogress=this.onProgress.bind(this,e),s.onHeadersReceived=r.onHeadersReceived,s.onDone=r.onDone,s.onError=r.onError,s.onProgress=r.onProgress,t.send(null),e}onProgress(r,t){var s;const e=this.pendingRequests[r];e&&((s=e.onProgress)==null||s.call(e,t))}onStateChange(r,t){var u,c,l;const e=this.pendingRequests[r];if(!e)return;const s=e.xhr;if(s.readyState>=2&&e.onHeadersReceived&&(e.onHeadersReceived(),delete e.onHeadersReceived),s.readyState!==4||!(r in this.pendingRequests))return;if(delete this.pendingRequests[r],s.status===0&&this.isHttp){(u=e.onError)==null||u.call(e,s.status);return}const a=s.status||W6;if(!(a===W6&&e.expectedStatus===z6)&&a!==e.expectedStatus){(c=e.onError)==null||c.call(e,s.status);return}const o=Z$(s);if(a===z6){const d=s.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);e.onDone({begin:parseInt(p[1],10),chunk:o})}else o?e.onDone({begin:0,chunk:o}):(l=e.onError)==null||l.call(e,s.status)}getRequestXhr(r){return this.pendingRequests[r].xhr}isPendingRequest(r){return r in this.pendingRequests}abortRequest(r){const t=this.pendingRequests[r].xhr;delete this.pendingRequests[r],t.abort()}}class eG{constructor(r){this._source=r,this._manager=new Q$(r.url,{httpHeaders:r.httpHeaders,withCredentials:r.withCredentials}),this._rangeChunkSize=r.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(r){const t=this._rangeRequestReaders.indexOf(r);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ua(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new tG(this._manager,this._source),this._fullRequestReader}getRangeReader(r,t){const e=new rG(this._manager,r,t);return e.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(e),e}cancelAllRequests(r){var t;(t=this._fullRequestReader)==null||t.cancel(r);for(const e of this._rangeRequestReaders.slice(0))e.cancel(r)}}class tG{constructor(r,t){this._manager=r;const e={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=r.requestFull(e),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const r=this._fullRequestId,t=this._manager.getRequestXhr(r),e=i=>t.getResponseHeader(i),{allowRangeRequests:s,suggestedLength:a}=V8({getResponseHeader:e,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=$8(e),this._isRangeSupported&&this._manager.abortRequest(r),this._headersReceivedCapability.resolve()}_onDone(r){if(r&&(this._requests.length>0?this._requests.shift().resolve({value:r.chunk,done:!1}):this._cachedChunks.push(r.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(r){this._storedError=b5(r,this._url),this._headersReceivedCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(r){var t;(t=this.onProgress)==null||t.call(this,{loaded:r.loaded,total:r.lengthComputable?r.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const r=Promise.withResolvers();return this._requests.push(r),r.promise}cancel(r){this._done=!0,this._headersReceivedCapability.reject(r);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class rG{constructor(r,t,e){this._manager=r;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=r.url,this._requestId=r.requestRange(t,e,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var r;(r=this.onClosed)==null||r.call(this,this)}_onDone(r){const t=r.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(r){this._storedError=b5(r,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(r){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:r.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const r=Promise.withResolvers();return this._requests.push(r),r.promise}cancel(r){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const C9=/^file:\/\/\/[a-zA-Z]:\//;function nG(n){const r=Ku.get("url"),t=r.parse(n);return t.protocol==="file:"||t.host?t:/^[a-z]:[/\\]/i.test(n)?r.parse(`file:///${n}`):(t.host||(t.protocol="file:"),t)}class sG{constructor(r){this.source=r,this.url=nG(r.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&r.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var r;return((r=this._fullRequestReader)==null?void 0:r._loaded)??0}getFullReader(){return Ua(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new oG(this):new aG(this),this._fullRequestReader}getRangeReader(r,t){if(t<=this._progressiveDataLength)return null;const e=this.isFsUrl?new lG(this,r,t):new iG(this,r,t);return this._rangeRequestReaders.push(e),e}cancelAllRequests(r){var t;(t=this._fullRequestReader)==null||t.cancel(r);for(const e of this._rangeRequestReaders.slice(0))e.cancel(r)}}class D9{constructor(r){this._url=r.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=r.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const r=this._readableStream.read();return r===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=r.length,(e=this.onProgress)==null||e.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(r).buffer,done:!1})}cancel(r){if(!this._readableStream){this._error(r);return}this._readableStream.destroy(r)}_error(r){this._storedError=r,this._readCapability.resolve()}_setReadableStream(r){this._readableStream=r,r.on("readable",()=>{this._readCapability.resolve()}),r.on("end",()=>{r.destroy(),this._done=!0,this._readCapability.resolve()}),r.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new e0("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class T9{constructor(r){this._url=r.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=r.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const r=this._readableStream.read();return r===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=r.length,(e=this.onProgress)==null||e.call(this,{loaded:this._loaded}),{value:new Uint8Array(r).buffer,done:!1})}cancel(r){if(!this._readableStream){this._error(r);return}this._readableStream.destroy(r)}_error(r){this._storedError=r,this._readCapability.resolve()}_setReadableStream(r){this._readableStream=r,r.on("readable",()=>{this._readCapability.resolve()}),r.on("end",()=>{r.destroy(),this._done=!0,this._readCapability.resolve()}),r.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function lw(n,r){return{protocol:n.protocol,auth:n.auth,host:n.hostname,port:n.port,path:n.path,method:"GET",headers:r}}class aG extends D9{constructor(r){super(r);const t=e=>{if(e.statusCode===404){const o=new Qm(`Missing PDF "${this._url}".`);this._storedError=o,this._headersCapability.reject(o);return}this._headersCapability.resolve(),this._setReadableStream(e);const s=o=>this._readableStream.headers[o.toLowerCase()],{allowRangeRequests:a,suggestedLength:i}=V8({getResponseHeader:s,isHttp:r.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=i||this._contentLength,this._filename=$8(s)};if(this._request=null,this._url.protocol==="http:"){const e=Ku.get("http");this._request=e.request(lw(this._url,r.httpHeaders),t)}else{const e=Ku.get("https");this._request=e.request(lw(this._url,r.httpHeaders),t)}this._request.on("error",e=>{this._storedError=e,this._headersCapability.reject(e)}),this._request.end()}}class iG extends T9{constructor(r,t,e){super(r),this._httpHeaders={};for(const a in r.httpHeaders){const i=r.httpHeaders[a];i!==void 0&&(this._httpHeaders[a]=i)}this._httpHeaders.Range=`bytes=${t}-${e-1}`;const s=a=>{if(a.statusCode===404){const i=new Qm(`Missing PDF "${this._url}".`);this._storedError=i;return}this._setReadableStream(a)};if(this._request=null,this._url.protocol==="http:"){const a=Ku.get("http");this._request=a.request(lw(this._url,this._httpHeaders),s)}else{const a=Ku.get("https");this._request=a.request(lw(this._url,this._httpHeaders),s)}this._request.on("error",a=>{this._storedError=a}),this._request.end()}}class oG extends D9{constructor(r){super(r);let t=decodeURIComponent(this._url.path);C9.test(this._url.href)&&(t=t.replace(/^\//,""));const e=Ku.get("fs");e.promises.lstat(t).then(s=>{this._contentLength=s.size,this._setReadableStream(e.createReadStream(t)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new Qm(`Missing PDF "${t}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class lG extends T9{constructor(r,t,e){super(r);let s=decodeURIComponent(this._url.path);C9.test(this._url.href)&&(s=s.replace(/^\//,""));const a=Ku.get("fs");this._setReadableStream(a.createReadStream(s,{start:t,end:e-1}))}}const cG=1e5,jo=30,uG=.8;var WN,of,Po,Ny,Ay,Yp,Kd,ky,Cy,Kp,y1,v1,lf,x1,Dy,w1,Xp,Ty,jy,La,Jp,Zp,cf,_1,Eh,j9,I9,d4,Gu,xx,P9,R9;let cw=(La=class{constructor({textContentSource:r,container:t,viewport:e}){je(this,Eh);je(this,of,Promise.withResolvers());je(this,Po,null);je(this,Ny,!1);je(this,Ay,!!((WN=globalThis.FontInspector)!=null&&WN.enabled));je(this,Yp,null);je(this,Kd,null);je(this,ky,0);je(this,Cy,0);je(this,Kp,null);je(this,y1,null);je(this,v1,0);je(this,lf,0);je(this,x1,Object.create(null));je(this,Dy,[]);je(this,w1,null);je(this,Xp,[]);je(this,Ty,new WeakMap);je(this,jy,null);var u;if(r instanceof ReadableStream)Ne(this,w1,r);else if(typeof r=="object")Ne(this,w1,new ReadableStream({start(c){c.enqueue(r),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');Ne(this,Po,Ne(this,y1,t)),Ne(this,lf,e.scale*(globalThis.devicePixelRatio||1)),Ne(this,v1,e.rotation),Ne(this,Kd,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:a,pageX:i,pageY:o}=e.rawDims;Ne(this,jy,[1,0,0,-1,-i,o+a]),Ne(this,Cy,s),Ne(this,ky,a),De(u=La,Gu,P9).call(u),Lm(t,e),X(this,of).promise.catch(()=>{}).then(()=>{X(La,_1).delete(this),Ne(this,Kd,null),Ne(this,x1,null)})}render(){const r=()=>{X(this,Kp).read().then(({value:t,done:e})=>{if(e){X(this,of).resolve();return}X(this,Yp)??Ne(this,Yp,t.lang),Object.assign(X(this,x1),t.styles),De(this,Eh,j9).call(this,t.items),r()},X(this,of).reject)};return Ne(this,Kp,X(this,w1).getReader()),X(La,_1).add(this),r(),X(this,of).promise}update({viewport:r,onBefore:t=null}){var a;const e=r.scale*(globalThis.devicePixelRatio||1),s=r.rotation;if(s!==X(this,v1)&&(t==null||t(),Ne(this,v1,s),Lm(X(this,y1),{rotation:s})),e!==X(this,lf)){t==null||t(),Ne(this,lf,e);const i={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:De(a=La,Gu,xx).call(a,X(this,Yp))};for(const o of X(this,Xp))i.properties=X(this,Ty).get(o),i.div=o,De(this,Eh,d4).call(this,i)}}cancel(){var t;const r=new e0("TextLayer task cancelled.");(t=X(this,Kp))==null||t.cancel(r).catch(()=>{}),Ne(this,Kp,null),X(this,of).reject(r)}get textDivs(){return X(this,Xp)}get textContentItemsStr(){return X(this,Dy)}static cleanup(){if(!(X(this,_1).size>0)){X(this,Jp).clear();for(const{canvas:r}of X(this,Zp).values())r.remove();X(this,Zp).clear()}}},of=new WeakMap,Po=new WeakMap,Ny=new WeakMap,Ay=new WeakMap,Yp=new WeakMap,Kd=new WeakMap,ky=new WeakMap,Cy=new WeakMap,Kp=new WeakMap,y1=new WeakMap,v1=new WeakMap,lf=new WeakMap,x1=new WeakMap,Dy=new WeakMap,w1=new WeakMap,Xp=new WeakMap,Ty=new WeakMap,jy=new WeakMap,Jp=new WeakMap,Zp=new WeakMap,cf=new WeakMap,_1=new WeakMap,Eh=new WeakSet,j9=function(r){var s,a;if(X(this,Ny))return;(a=X(this,Kd)).ctx??(a.ctx=De(s=La,Gu,xx).call(s,X(this,Yp)));const t=X(this,Xp),e=X(this,Dy);for(const i of r){if(t.length>cG){cn("Ignoring additional textDivs for performance reasons."),Ne(this,Ny,!0);return}if(i.str===void 0){if(i.type==="beginMarkedContentProps"||i.type==="beginMarkedContent"){const o=X(this,Po);Ne(this,Po,document.createElement("span")),X(this,Po).classList.add("markedContent"),i.id!==null&&X(this,Po).setAttribute("id",`${i.id}`),o.append(X(this,Po))}else i.type==="endMarkedContent"&&Ne(this,Po,X(this,Po).parentNode);continue}e.push(i.str),De(this,Eh,I9).call(this,i)}},I9=function(r){var b;const t=document.createElement("span"),e={angle:0,canvasWidth:0,hasText:r.str!=="",hasEOL:r.hasEOL,fontSize:0};X(this,Xp).push(t);const s=yr.transform(X(this,jy),r.transform);let a=Math.atan2(s[1],s[0]);const i=X(this,x1)[r.fontName];i.vertical&&(a+=Math.PI/2);const o=X(this,Ay)&&i.fontSubstitution||i.fontFamily,u=Math.hypot(s[2],s[3]),c=u*De(b=La,Gu,R9).call(b,o,X(this,Yp));let l,d;a===0?(l=s[4],d=s[5]-c):(l=s[4]+c*Math.sin(a),d=s[5]-c*Math.cos(a));const p="calc(var(--scale-factor)*",h=t.style;X(this,Po)===X(this,y1)?(h.left=`${(100*l/X(this,Cy)).toFixed(2)}%`,h.top=`${(100*d/X(this,ky)).toFixed(2)}%`):(h.left=`${p}${l.toFixed(2)}px)`,h.top=`${p}${d.toFixed(2)}px)`),h.fontSize=`${p}${(X(La,cf)*u).toFixed(2)}px)`,h.fontFamily=o,e.fontSize=u,t.setAttribute("role","presentation"),t.textContent=r.str,t.dir=r.dir,X(this,Ay)&&(t.dataset.fontName=i.fontSubstitutionLoadedName||r.fontName),a!==0&&(e.angle=a*(180/Math.PI));let f=!1;if(r.str.length>1)f=!0;else if(r.str!==" "&&r.transform[0]!==r.transform[3]){const y=Math.abs(r.transform[0]),g=Math.abs(r.transform[3]);y!==g&&Math.max(y,g)/Math.min(y,g)>1.5&&(f=!0)}if(f&&(e.canvasWidth=i.vertical?r.height:r.width),X(this,Ty).set(t,e),X(this,Kd).div=t,X(this,Kd).properties=e,De(this,Eh,d4).call(this,X(this,Kd)),e.hasText&&X(this,Po).append(t),e.hasEOL){const y=document.createElement("br");y.setAttribute("role","presentation"),X(this,Po).append(y)}},d4=function(r){const{div:t,properties:e,ctx:s,prevFontSize:a,prevFontFamily:i}=r,{style:o}=t;let u="";if(X(La,cf)>1&&(u=`scale(${1/X(La,cf)})`),e.canvasWidth!==0&&e.hasText){const{fontFamily:c}=o,{canvasWidth:l,fontSize:d}=e;(a!==d||i!==c)&&(s.font=`${d*X(this,lf)}px ${c}`,r.prevFontSize=d,r.prevFontFamily=c);const{width:p}=s.measureText(t.textContent);p>0&&(u=`scaleX(${l*X(this,lf)/p}) ${u}`)}e.angle!==0&&(u=`rotate(${e.angle}deg) ${u}`),u.length>0&&(o.transform=u)},Gu=new WeakSet,xx=function(r=null){let t=X(this,Zp).get(r||(r=""));if(!t){const e=document.createElement("canvas");e.className="hiddenCanvasElement",e.lang=r,document.body.append(e),t=e.getContext("2d",{alpha:!1,willReadFrequently:!0}),X(this,Zp).set(r,t)}return t},P9=function(){if(X(this,cf)!==null)return;const r=document.createElement("div");r.style.opacity=0,r.style.lineHeight=1,r.style.fontSize="1px",r.textContent="X",document.body.append(r),Ne(this,cf,r.getBoundingClientRect().height),r.remove()},R9=function(r,t){const e=X(this,Jp).get(r);if(e)return e;const s=De(this,Gu,xx).call(this,t),a=s.font;s.canvas.width=s.canvas.height=jo,s.font=`${jo}px ${r}`;const i=s.measureText("");let o=i.fontBoundingBoxAscent,u=Math.abs(i.fontBoundingBoxDescent);if(o){const d=o/(o+u);return X(this,Jp).set(r,d),s.canvas.width=s.canvas.height=0,s.font=a,d}s.strokeStyle="red",s.clearRect(0,0,jo,jo),s.strokeText("g",0,0);let c=s.getImageData(0,0,jo,jo).data;u=0;for(let d=c.length-1-3;d>=0;d-=4)if(c[d]>0){u=Math.ceil(d/4/jo);break}s.clearRect(0,0,jo,jo),s.strokeText("A",0,jo),c=s.getImageData(0,0,jo,jo).data,o=0;for(let d=0,p=c.length;d<p;d+=4)if(c[d]>0){o=jo-Math.floor(d/4/jo);break}s.canvas.width=s.canvas.height=0,s.font=a;const l=o?o/(o+u):uG;return X(this,Jp).set(r,l),l},je(La,Gu),je(La,Jp,new Map),je(La,Zp,new Map),je(La,cf,null),je(La,_1,new Set),La);function dG(){$k("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:n,container:r,viewport:t,...e}=arguments[0],s=Object.keys(e);s.length>0&&cn("Ignoring `renderTextLayer` parameters: "+s.join(", "));const a=new cw({textContentSource:n,container:r,viewport:t}),{textDivs:i,textContentItemsStr:o}=a;return{promise:a.render(),textDivs:i,textContentItemsStr:o}}function hG(){$k("`updateTextLayer`, please use `TextLayer` instead.")}class Rb{static textContent(r){const t=[],e={items:t,styles:Object.create(null)};function s(a){var u;if(!a)return;let i=null;const o=a.name;if(o==="#text")i=a.value;else if(Rb.shouldBuildText(o))(u=a==null?void 0:a.attributes)!=null&&u.textContent?i=a.attributes.textContent:a.value&&(i=a.value);else return;if(i!==null&&t.push({str:i}),!!a.children)for(const c of a.children)s(c)}return s(r),e}static shouldBuildText(r){return!(r==="textarea"||r==="input"||r==="option"||r==="select")}}const fG=65536,pG=100,mG=5e3,gG=zi?k$:p$,bG=zi?C$:zk,yG=zi?A$:f$,vG=zi?D$:Vk;function xG(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const r=new h4,{docId:t}=r,e=n.url?wG(n.url):null,s=n.data?_G(n.data):null,a=n.httpHeaders||null,i=n.withCredentials===!0,o=n.password??null,u=n.range instanceof M9?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:fG;let l=n.worker instanceof X0?n.worker:null;const d=n.verbosity,p=typeof n.docBaseUrl=="string"&&!H8(n.docBaseUrl)?n.docBaseUrl:null,h=typeof n.cMapUrl=="string"?n.cMapUrl:null,f=n.cMapPacked!==!1,b=n.CMapReaderFactory||bG,y=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,g=n.StandardFontDataFactory||vG,x=n.stopAtErrors!==!0,v=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,w=n.isEvalSupported!==!1,S=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!zi,D=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,T=typeof n.disableFontFace=="boolean"?n.disableFontFace:zi,R=n.fontExtraProperties===!0,P=n.enableXfa===!0,L=n.ownerDocument||globalThis.document,O=n.disableRange===!0,H=n.disableStream===!0,U=n.disableAutoFetch===!0,I=n.pdfBug===!0,F=n.enableHWA===!0,A=u?u.length:n.length??NaN,_=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!zi&&!T,E=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:b===zk&&g===Vk&&h&&y&&$g(h,document.baseURI)&&$g(y,document.baseURI),N=n.canvasFactory||new gG({ownerDocument:L,enableHWA:F}),k=n.filterFactory||new yG({docId:t,ownerDocument:L}),B=null;r$(d);const j={canvasFactory:N,filterFactory:k};if(E||(j.cMapReaderFactory=new b({baseUrl:h,isCompressed:f}),j.standardFontDataFactory=new g({baseUrl:y})),!l){const Y={verbosity:d,port:mh.workerPort};l=Y.port?X0.fromPort(Y):new X0(Y),r._worker=l}const M={docId:t,apiVersion:"4.4.168",data:s,password:o,disableAutoFetch:U,rangeChunkSize:c,length:A,docBaseUrl:p,enableXfa:P,evaluatorOptions:{maxImageSize:v,disableFontFace:T,ignoreErrors:x,isEvalSupported:w,isOffscreenCanvasSupported:S,canvasMaxAreaInBytes:D,fontExtraProperties:R,useSystemFonts:_,cMapUrl:E?h:null,standardFontDataUrl:E?y:null}},G={disableFontFace:T,fontExtraProperties:R,ownerDocument:L,pdfBug:I,styleElement:B,loadingParams:{disableAutoFetch:U,enableXfa:P}};return l.promise.then(function(){if(r.destroyed)throw new Error("Loading aborted");if(l.destroyed)throw new Error("Worker was destroyed");const Y=l.messageHandler.sendWithPromise("GetDocRequest",M,s?[s.buffer]:null);let J;if(u)J=new $$(u,{disableRange:O,disableStream:H});else if(!s){if(!e)throw new Error("getDocument - no `url` parameter provided.");J=(Q=>zi?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&$g(Q.url)?new h7(Q):new sG(Q):$g(Q.url)?new h7(Q):new eG(Q))({url:e,length:A,httpHeaders:a,withCredentials:i,rangeChunkSize:c,disableRange:O,disableStream:H})}return Y.then(V=>{if(r.destroyed)throw new Error("Loading aborted");if(l.destroyed)throw new Error("Worker was destroyed");const Q=new Kg(t,V,l.port),q=new AG(Q,r,J,G,j);r._transport=q,Q.send("Ready",null)})}).catch(r._capability.reject),r}function wG(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(zi&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function _G(n){if(zi&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return h5(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function f7(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var Mw;const Ow=class Ow{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${tl(Ow,Mw)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var r,t,e;this.destroyed=!0;try{(r=this._worker)!=null&&r.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(e=this._worker)!=null&&e.port&&delete this._worker._pendingDestroy,s}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Mw=new WeakMap,je(Ow,Mw,0);let h4=Ow,M9=class{constructor(r,t,e=!1,s=null){this.length=r,this.initialData=t,this.progressiveDone=e,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(r){this._rangeListeners.push(r)}addProgressListener(r){this._progressListeners.push(r)}addProgressiveReadListener(r){this._progressiveReadListeners.push(r)}addProgressiveDoneListener(r){this._progressiveDoneListeners.push(r)}onDataRange(r,t){for(const e of this._rangeListeners)e(r,t)}onDataProgress(r,t){this._readyCapability.promise.then(()=>{for(const e of this._progressListeners)e(r,t)})}onDataProgressiveRead(r){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(r)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const r of this._progressiveDoneListeners)r()})}transportReady(){this._readyCapability.resolve()}requestDataRange(r,t){ls("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class SG{constructor(r,t){this._pdfInfo=r,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return jn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(r){return this._transport.getPage(r)}getPageIndex(r){return this._transport.getPageIndex(r)}getDestinations(){return this._transport.getDestinations()}getDestination(r){return this._transport.getDestination(r)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:r="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(r);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(r=!1){return this._transport.startCleanup(r||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(r){return this._transport.cachedPageNumber(r)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var uf,Xd,zl,B0,wx;class EG{constructor(r,t,e,s=!1){je(this,zl);je(this,uf,null);je(this,Xd,!1);this._pageIndex=r,this._pageInfo=t,this._transport=e,this._stats=s?new Q3:null,this._pdfBug=s,this.commonObjs=e.commonObjs,this.objs=new O9,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:r,rotation:t=this.rotate,offsetX:e=0,offsetY:s=0,dontFlip:a=!1}={}){return new Cv({viewBox:this.view,scale:r,rotation:t,offsetX:e,offsetY:s,dontFlip:a})}getAnnotations({intent:r="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(r);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return jn(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var r;return((r=this._transport._htmlForXfa)==null?void 0:r.children[this._pageIndex])||null}render({canvasContext:r,viewport:t,intent:e="display",annotationMode:s=Jh.ENABLE,transform:a=null,background:i=null,optionalContentConfigPromise:o=null,annotationCanvasMap:u=null,pageColors:c=null,printAnnotationStorage:l=null}){var v,w;(v=this._stats)==null||v.time("Overall");const d=this._transport.getRenderingIntent(e,s,l),{renderingIntent:p,cacheKey:h}=d;Ne(this,Xd,!1),De(this,zl,wx).call(this),o||(o=this._transport.getOptionalContentConfig(p));let f=this._intentStates.get(h);f||(f=Object.create(null),this._intentStates.set(h,f)),f.streamReaderCancelTimeout&&(clearTimeout(f.streamReaderCancelTimeout),f.streamReaderCancelTimeout=null);const b=!!(p&Wl.PRINT);f.displayReadyCapability||(f.displayReadyCapability=Promise.withResolvers(),f.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(w=this._stats)==null||w.time("Page Request"),this._pumpOperatorList(d));const y=S=>{var D;f.renderTasks.delete(g),(this._maybeCleanupAfterRender||b)&&Ne(this,Xd,!0),De(this,zl,B0).call(this,!b),S?(g.capability.reject(S),this._abortOperatorList({intentState:f,reason:S instanceof Error?S:new Error(S)})):g.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(D=globalThis.Stats)!=null&&D.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},g=new p4({callback:y,params:{canvasContext:r,viewport:t,transform:a,background:i},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:f.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!b,pdfBug:this._pdfBug,pageColors:c});(f.renderTasks||(f.renderTasks=new Set)).add(g);const x=g.task;return Promise.all([f.displayReadyCapability.promise,o]).then(([S,D])=>{var T;if(this.destroyed){y();return}if((T=this._stats)==null||T.time("Rendering"),!(D.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");g.initializeGraphics({transparency:S,optionalContentConfig:D}),g.operatorListChanged()}).catch(y),x}getOperatorList({intent:r="display",annotationMode:t=Jh.ENABLE,printAnnotationStorage:e=null}={}){var u;function s(){i.operatorList.lastChunk&&(i.opListReadCapability.resolve(i.operatorList),i.renderTasks.delete(o))}const a=this._transport.getRenderingIntent(r,t,e,!0);let i=this._intentStates.get(a.cacheKey);i||(i=Object.create(null),this._intentStates.set(a.cacheKey,i));let o;return i.opListReadCapability||(o=Object.create(null),o.operatorListChanged=s,i.opListReadCapability=Promise.withResolvers(),(i.renderTasks||(i.renderTasks=new Set)).add(o),i.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(a)),i.opListReadCapability.promise}streamTextContent({includeMarkedContent:r=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:r===!0,disableNormalization:t===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(r={}){if(this._transport._htmlForXfa)return this.getXfa().then(e=>Rb.textContent(e));const t=this.streamTextContent(r);return new Promise(function(e,s){function a(){i.read().then(function({value:u,done:c}){if(c){e(o);return}o.lang??(o.lang=u.lang),Object.assign(o.styles,u.styles),o.items.push(...u.items),a()},s)}const i=t.getReader(),o={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const r=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const e of t.renderTasks)r.push(e.completed),e.cancel();return this.objs.clear(),Ne(this,Xd,!1),De(this,zl,wx).call(this),Promise.all(r)}cleanup(r=!1){Ne(this,Xd,!0);const t=De(this,zl,B0).call(this,!1);return r&&t&&this._stats&&(this._stats=new Q3),t}_startRenderPage(r,t){var s,a;const e=this._intentStates.get(t);e&&((s=this._stats)==null||s.timeEnd("Page Request"),(a=e.displayReadyCapability)==null||a.resolve(r))}_renderPageChunk(r,t){for(let e=0,s=r.length;e<s;e++)t.operatorList.fnArray.push(r.fnArray[e]),t.operatorList.argsArray.push(r.argsArray[e]);t.operatorList.lastChunk=r.lastChunk,t.operatorList.separateAnnots=r.separateAnnots;for(const e of t.renderTasks)e.operatorListChanged();r.lastChunk&&De(this,zl,B0).call(this,!0)}_pumpOperatorList({renderingIntent:r,cacheKey:t,annotationStorageSerializable:e}){const{map:s,transfer:a}=e,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:r,cacheKey:t,annotationStorage:s},a).getReader(),u=this._intentStates.get(t);u.streamReader=o;const c=()=>{o.read().then(({value:l,done:d})=>{if(d){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(l,u),c())},l=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const d of u.renderTasks)d.operatorListChanged();De(this,zl,B0).call(this,!0)}if(u.displayReadyCapability)u.displayReadyCapability.reject(l);else if(u.opListReadCapability)u.opListReadCapability.reject(l);else throw l}})};c()}_abortOperatorList({intentState:r,reason:t,force:e=!1}){if(r.streamReader){if(r.streamReaderCancelTimeout&&(clearTimeout(r.streamReaderCancelTimeout),r.streamReaderCancelTimeout=null),!e){if(r.renderTasks.size>0)return;if(t instanceof U8){let s=pG;t.extraDelay>0&&t.extraDelay<1e3&&(s+=t.extraDelay),r.streamReaderCancelTimeout=setTimeout(()=>{r.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:r,reason:t,force:!0})},s);return}}if(r.streamReader.cancel(new e0(t.message)).catch(()=>{}),r.streamReader=null,!this._transport.destroyed){for(const[s,a]of this._intentStates)if(a===r){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}uf=new WeakMap,Xd=new WeakMap,zl=new WeakSet,B0=function(r=!1){if(De(this,zl,wx).call(this),!X(this,Xd)||this.destroyed)return!1;if(r)return Ne(this,uf,setTimeout(()=>{Ne(this,uf,null),De(this,zl,B0).call(this,!1)},mG)),!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Ne(this,Xd,!1),!0},wx=function(){X(this,uf)&&(clearTimeout(X(this,uf)),Ne(this,uf,null))};var Qp,Lw;class NG{constructor(){je(this,Qp,new Set);je(this,Lw,Promise.resolve())}postMessage(r,t){const e={data:structuredClone(r,t?{transfer:t}:null)};X(this,Lw).then(()=>{for(const s of X(this,Qp))s.call(this,e)})}addEventListener(r,t){X(this,Qp).add(t)}removeEventListener(r,t){X(this,Qp).delete(t)}terminate(){X(this,Qp).clear()}}Qp=new WeakMap,Lw=new WeakMap;const Ud={isWorkerDisabled:!1,fakeWorkerId:0};zi&&(Ud.isWorkerDisabled=!0,mh.workerSrc||(mh.workerSrc="./pdf.worker.mjs")),Ud.isSameOrigin=function(n,r){let t;try{if(t=new URL(n),!t.origin||t.origin==="null")return!1}catch{return!1}const e=new URL(r,t);return t.origin===e.origin},Ud.createCDNWrapper=function(n){const r=`await import("${n}");`;return URL.createObjectURL(new Blob([r],{type:"text/javascript"}))};var em,S1,_x,E1,Sx;const nl=class nl{constructor({name:r=null,port:t=null,verbosity:e=n$()}={}){je(this,S1);var s;if(this.name=r,this.destroyed=!1,this.verbosity=e,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((s=X(nl,em))!=null&&s.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(X(nl,em)||Ne(nl,em,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return zi?Promise.all([Ku.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(r){this._port=r,this._messageHandler=new Kg("main","worker",r),this._messageHandler.on("ready",function(){}),De(this,S1,_x).call(this)}_initialize(){if(Ud.isWorkerDisabled||X(nl,E1,Sx)){this._setupFakeWorker();return}let{workerSrc:r}=nl;try{Ud.isSameOrigin(window.location.href,r)||(r=Ud.createCDNWrapper(new URL(r,window.location).href));const t=new Worker(r,{type:"module"}),e=new Kg("main","worker",t),s=()=>{a.abort(),e.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},a=new AbortController;t.addEventListener("error",()=>{this._webWorker||s()},{signal:a.signal}),e.on("test",o=>{if(a.abort(),this.destroyed||!o){s();return}this._messageHandler=e,this._port=t,this._webWorker=t,De(this,S1,_x).call(this)}),e.on("ready",o=>{if(a.abort(),this.destroyed){s();return}try{i()}catch{this._setupFakeWorker()}});const i=()=>{const o=new Uint8Array;e.send("test",o,[o.buffer])};i();return}catch{u5("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){Ud.isWorkerDisabled||(cn("Setting up fake worker."),Ud.isWorkerDisabled=!0),nl._setupFakeWorkerGlobal.then(r=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new NG;this._port=t;const e=`fake${Ud.fakeWorkerId++}`,s=new Kg(e+"_worker",e,t);r.setup(s,t),this._messageHandler=new Kg(e,e+"_worker",t),De(this,S1,_x).call(this)}).catch(r=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${r.message}".`))})}destroy(){var r;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(r=X(nl,em))==null||r.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(r){var e;if(!(r!=null&&r.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(e=X(this,em))==null?void 0:e.get(r.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new nl(r)}static get workerSrc(){if(mh.workerSrc)return mh.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return jn(this,"_setupFakeWorkerGlobal",(async()=>X(this,E1,Sx)?X(this,E1,Sx):(await import(this.workerSrc)).WorkerMessageHandler)())}};em=new WeakMap,S1=new WeakSet,_x=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},E1=new WeakSet,Sx=function(){var r;try{return((r=globalThis.pdfjsWorker)==null?void 0:r.WorkerMessageHandler)||null}catch{return null}},je(nl,E1),je(nl,em);let X0=nl;var Jd,Au,N1,A1,ku,tm,Xg;class AG{constructor(r,t,e,s,a){je(this,tm);je(this,Jd,new Map);je(this,Au,new Map);je(this,N1,new Map);je(this,A1,new Map);je(this,ku,null);this.messageHandler=r,this.loadingTask=t,this.commonObjs=new O9,this.fontLoader=new E$({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=e,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return jn(this,"annotationStorage",new z8)}getRenderingIntent(r,t=Jh.ENABLE,e=null,s=!1){let a=Wl.DISPLAY,i=s4;switch(r){case"any":a=Wl.ANY;break;case"display":break;case"print":a=Wl.PRINT;break;default:cn(`getRenderingIntent - invalid intent: ${r}`)}switch(t){case Jh.DISABLE:a+=Wl.ANNOTATIONS_DISABLE;break;case Jh.ENABLE:break;case Jh.ENABLE_FORMS:a+=Wl.ANNOTATIONS_FORMS;break;case Jh.ENABLE_STORAGE:a+=Wl.ANNOTATIONS_STORAGE,i=(a&Wl.PRINT&&e instanceof x9?e:this.annotationStorage).serializable;break;default:cn(`getRenderingIntent - invalid annotationMode: ${t}`)}return s&&(a+=Wl.OPLIST),{renderingIntent:a,cacheKey:`${a}_${i.hash}`,annotationStorageSerializable:i}}destroy(){var e;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(e=X(this,ku))==null||e.reject(new Error("Worker was destroyed during onPassword callback"));const r=[];for(const s of X(this,Au).values())r.push(s._destroy());X(this,Au).clear(),X(this,N1).clear(),X(this,A1).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return r.push(t),Promise.all(r).then(()=>{var s;this.commonObjs.clear(),this.fontLoader.clear(),X(this,Jd).clear(),this.filterFactory.destroy(),cw.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new e0("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:r,loadingTask:t}=this;r.on("GetReader",(e,s)=>{Ua(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},s.onPull=()=>{this._fullReader.read().then(function({value:a,done:i}){if(i){s.close();return}Ua(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{s.error(a)})},s.onCancel=a=>{this._fullReader.cancel(a),s.ready.catch(i=>{if(!this.destroyed)throw i})}}),r.on("ReaderHeadersReady",e=>{const s=Promise.withResolvers(),a=this._fullReader;return a.headersReady.then(()=>{var i;(!a.isStreamingSupported||!a.isRangeSupported)&&(this._lastProgress&&((i=t.onProgress)==null||i.call(t,this._lastProgress)),a.onProgress=o=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:o.loaded,total:o.total})}),s.resolve({isStreamingSupported:a.isStreamingSupported,isRangeSupported:a.isRangeSupported,contentLength:a.contentLength})},s.reject),s.promise}),r.on("GetRangeReader",(e,s)=>{Ua(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(e.begin,e.end);if(!a){s.close();return}s.onPull=()=>{a.read().then(function({value:i,done:o}){if(o){s.close();return}Ua(i instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(i),1,[i])}).catch(i=>{s.error(i)})},s.onCancel=i=>{a.cancel(i),s.ready.catch(o=>{if(!this.destroyed)throw o})}}),r.on("GetDoc",({pdfInfo:e})=>{this._numPages=e.numPages,this._htmlForXfa=e.htmlForXfa,delete e.htmlForXfa,t._capability.resolve(new SG(e,this))}),r.on("DocException",function(e){let s;switch(e.name){case"PasswordException":s=new M_(e.message,e.code);break;case"InvalidPDFException":s=new Uk(e.message);break;case"MissingPDFException":s=new Qm(e.message);break;case"UnexpectedResponseException":s=new d5(e.message,e.status);break;case"UnknownErrorException":s=new O_(e.message,e.details);break;default:ls("DocException - expected a valid Error.")}t._capability.reject(s)}),r.on("PasswordRequest",e=>{if(Ne(this,ku,Promise.withResolvers()),t.onPassword){const s=a=>{a instanceof Error?X(this,ku).reject(a):X(this,ku).resolve({password:a})};try{t.onPassword(s,e.code)}catch(a){X(this,ku).reject(a)}}else X(this,ku).reject(new M_(e.message,e.code));return X(this,ku).promise}),r.on("DataLoaded",e=>{var s;(s=t.onProgress)==null||s.call(t,{loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)}),r.on("StartRenderPage",e=>{if(this.destroyed)return;X(this,Au).get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)}),r.on("commonobj",([e,s,a])=>{var i;if(this.destroyed||this.commonObjs.has(e))return null;switch(s){case"Font":const{disableFontFace:o,fontExtraProperties:u,pdfBug:c}=this._params;if("error"in a){const h=a.error;cn(`Error during font loading: ${h}`),this.commonObjs.resolve(e,h);break}const l=c&&((i=globalThis.FontInspector)!=null&&i.enabled)?(h,f)=>globalThis.FontInspector.fontAdded(h,f):null,d=new N$(a,{disableFontFace:o,inspectFont:l});this.fontLoader.bind(d).catch(()=>r.sendWithPromise("FontFallback",{id:e})).finally(()=>{!u&&d.data&&(d.data=null),this.commonObjs.resolve(e,d)});break;case"CopyLocalImage":const{imageRef:p}=a;Ua(p,"The imageRef must be defined.");for(const h of X(this,Au).values())for(const[,f]of h.objs)if((f==null?void 0:f.ref)===p)return f.dataLen?(this.commonObjs.resolve(e,structuredClone(f)),f.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(e,a);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),r.on("obj",([e,s,a,i])=>{var u;if(this.destroyed)return;const o=X(this,Au).get(s);if(!o.objs.has(e)){if(o._intentStates.size===0){(u=i==null?void 0:i.bitmap)==null||u.close();return}switch(a){case"Image":o.objs.resolve(e,i),(i==null?void 0:i.dataLen)>ZV&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(e,i);break;default:throw new Error(`Got unknown object type ${a}`)}}}),r.on("DocProgress",e=>{var s;this.destroyed||(s=t.onProgress)==null||s.call(t,{loaded:e.loaded,total:e.total})}),r.on("FetchBuiltInCMap",e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),r.on("FetchStandardFontData",e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var e;this.annotationStorage.size<=0&&cn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:r,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:r,filename:((e=this._fullReader)==null?void 0:e.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(r){if(!Number.isInteger(r)||r<=0||r>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=r-1,e=X(this,N1).get(t);if(e)return e;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&X(this,A1).set(a.refStr,r);const i=new EG(t,a,this,this._params.pdfBug);return X(this,Au).set(t,i),i});return X(this,N1).set(t,s),s}getPageIndex(r){return f7(r)?this.messageHandler.sendWithPromise("GetPageIndex",{num:r.num,gen:r.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(r,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:r,intent:t})}getFieldObjects(){return De(this,tm,Xg).call(this,"GetFieldObjects")}hasJSActions(){return De(this,tm,Xg).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(r){return typeof r!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:r})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return De(this,tm,Xg).call(this,"GetDocJSActions")}getPageJSActions(r){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:r})}getStructTree(r){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:r})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(r){return De(this,tm,Xg).call(this,"GetOptionalContentConfig").then(t=>new V$(t,r))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const r="GetMetadata",t=X(this,Jd).get(r);if(t)return t;const e=this.messageHandler.sendWithPromise(r,null).then(s=>{var a,i;return{info:s[0],metadata:s[1]?new W$(s[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((i=this._fullReader)==null?void 0:i.contentLength)??null}});return X(this,Jd).set(r,e),e}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(r=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of X(this,Au).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),r||this.fontLoader.clear(),X(this,Jd).clear(),this.filterFactory.destroy(!0),cw.cleanup()}}cachedPageNumber(r){if(!f7(r))return null;const t=r.gen===0?`${r.num}R`:`${r.num}R${r.gen}`;return X(this,A1).get(t)??null}}Jd=new WeakMap,Au=new WeakMap,N1=new WeakMap,A1=new WeakMap,ku=new WeakMap,tm=new WeakSet,Xg=function(r,t=null){const e=X(this,Jd).get(r);if(e)return e;const s=this.messageHandler.sendWithPromise(r,t);return X(this,Jd).set(r,s),s};const K2=Symbol("INITIAL_DATA");var jc,Iy,f4;class O9{constructor(){je(this,Iy);je(this,jc,Object.create(null))}get(r,t=null){if(t){const s=De(this,Iy,f4).call(this,r);return s.promise.then(()=>t(s.data)),null}const e=X(this,jc)[r];if(!e||e.data===K2)throw new Error(`Requesting object that isn't resolved yet ${r}.`);return e.data}has(r){const t=X(this,jc)[r];return!!t&&t.data!==K2}resolve(r,t=null){const e=De(this,Iy,f4).call(this,r);e.data=t,e.resolve()}clear(){var r;for(const t in X(this,jc)){const{data:e}=X(this,jc)[t];(r=e==null?void 0:e.bitmap)==null||r.close()}Ne(this,jc,Object.create(null))}*[Symbol.iterator](){for(const r in X(this,jc)){const{data:t}=X(this,jc)[r];t!==K2&&(yield[r,t])}}}jc=new WeakMap,Iy=new WeakSet,f4=function(r){var t;return(t=X(this,jc))[r]||(t[r]={...Promise.withResolvers(),data:K2})};var df;class kG{constructor(r){je(this,df,null);Ne(this,df,r),this.onContinue=null}get promise(){return X(this,df).capability.promise}cancel(r=0){X(this,df).cancel(null,r)}get separateAnnots(){const{separateAnnots:r}=X(this,df).operatorList;if(!r)return!1;const{annotationCanvasMap:t}=X(this,df);return r.form||r.canvas&&(t==null?void 0:t.size)>0}}df=new WeakMap;var hf,rm;const Np=class Np{constructor({callback:r,params:t,objs:e,commonObjs:s,annotationCanvasMap:a,operatorList:i,pageIndex:o,canvasFactory:u,filterFactory:c,useRequestAnimationFrame:l=!1,pdfBug:d=!1,pageColors:p=null}){je(this,hf,null);this.callback=r,this.params=t,this.objs=e,this.commonObjs=s,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=i,this._pageIndex=o,this.canvasFactory=u,this.filterFactory=c,this._pdfBug=d,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=l===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new kG(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:r=!1,optionalContentConfig:t}){var o,u;if(this.cancelled)return;if(this._canvas){if(X(Np,rm).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");X(Np,rm).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:e,viewport:s,transform:a,background:i}=this.params;this.gfx=new K0(e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:s,transparency:r,background:i}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(r=null,t=0){var e;this.running=!1,this.cancelled=!0,(e=this.gfx)==null||e.endDrawing(),X(this,hf)&&(window.cancelAnimationFrame(X(this,hf)),Ne(this,hf,null)),X(Np,rm).delete(this._canvas),this.callback(r||new U8(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var r;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(r=this.stepper)==null||r.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?Ne(this,hf,window.requestAnimationFrame(()=>{Ne(this,hf,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),X(Np,rm).delete(this._canvas),this.callback())))}};hf=new WeakMap,rm=new WeakMap,je(Np,rm,new WeakSet);let p4=Np;const CG="4.4.168",DG="19fbc8998";function p7(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Ug(n){return Math.max(0,Math.min(255,255*n))}class m7{static CMYK_G([r,t,e,s]){return["G",1-Math.min(1,.3*r+.59*e+.11*t+s)]}static G_CMYK([r]){return["CMYK",0,0,0,1-r]}static G_RGB([r]){return["RGB",r,r,r]}static G_rgb([r]){return r=Ug(r),[r,r,r]}static G_HTML([r]){const t=p7(r);return`#${t}${t}${t}`}static RGB_G([r,t,e]){return["G",.3*r+.59*t+.11*e]}static RGB_rgb(r){return r.map(Ug)}static RGB_HTML(r){return`#${r.map(p7).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([r,t,e,s]){return["RGB",1-Math.min(1,r+s),1-Math.min(1,e+s),1-Math.min(1,t+s)]}static CMYK_rgb([r,t,e,s]){return[Ug(1-Math.min(1,r+s)),Ug(1-Math.min(1,e+s)),Ug(1-Math.min(1,t+s))]}static CMYK_HTML(r){const t=this.CMYK_RGB(r).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([r,t,e]){const s=1-r,a=1-t,i=1-e,o=Math.min(s,a,i);return["CMYK",s,a,i,o]}}class L9{static setupStorage(r,t,e,s,a){const i=s.getValue(t,{value:null});switch(e.name){case"textarea":if(i.value!==null&&(r.textContent=i.value),a==="print")break;r.addEventListener("input",o=>{s.setValue(t,{value:o.target.value})});break;case"input":if(e.attributes.type==="radio"||e.attributes.type==="checkbox"){if(i.value===e.attributes.xfaOn?r.setAttribute("checked",!0):i.value===e.attributes.xfaOff&&r.removeAttribute("checked"),a==="print")break;r.addEventListener("change",o=>{s.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(i.value!==null&&r.setAttribute("value",i.value),a==="print")break;r.addEventListener("input",o=>{s.setValue(t,{value:o.target.value})})}break;case"select":if(i.value!==null){r.setAttribute("value",i.value);for(const o of e.children)o.attributes.value===i.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}r.addEventListener("input",o=>{const u=o.target.options,c=u.selectedIndex===-1?"":u[u.selectedIndex].value;s.setValue(t,{value:c})});break}}static setAttributes({html:r,element:t,storage:e=null,intent:s,linkService:a}){const{attributes:i}=t,o=r instanceof HTMLAnchorElement;i.type==="radio"&&(i.name=`${i.name}-${s}`);for(const[u,c]of Object.entries(i))if(c!=null)switch(u){case"class":c.length&&r.setAttribute(u,c.join(" "));break;case"dataId":break;case"id":r.setAttribute("data-element-id",c);break;case"style":Object.assign(r.style,c);break;case"textContent":r.textContent=c;break;default:(!o||u!=="href"&&u!=="newWindow")&&r.setAttribute(u,c)}o&&a.addLinkAttributes(r,i.href,i.newWindow),e&&i.dataId&&this.setupStorage(r,i.dataId,t,e)}static render(r){var d,p;const t=r.annotationStorage,e=r.linkService,s=r.xfaHtml,a=r.intent||"display",i=document.createElement(s.name);s.attributes&&this.setAttributes({html:i,element:s,intent:a,linkService:e});const o=a!=="richText",u=r.div;if(u.append(i),r.viewport){const h=`matrix(${r.viewport.transform.join(",")})`;u.style.transform=h}o&&u.setAttribute("class","xfaLayer xfaFont");const c=[];if(s.children.length===0){if(s.value){const h=document.createTextNode(s.value);i.append(h),o&&Rb.shouldBuildText(s.name)&&c.push(h)}return{textDivs:c}}const l=[[s,-1,i]];for(;l.length>0;){const[h,f,b]=l.at(-1);if(f+1===h.children.length){l.pop();continue}const y=h.children[++l.at(-1)[1]];if(y===null)continue;const{name:g}=y;if(g==="#text"){const v=document.createTextNode(y.value);c.push(v),b.append(v);continue}const x=(d=y==null?void 0:y.attributes)!=null&&d.xmlns?document.createElementNS(y.attributes.xmlns,g):document.createElement(g);if(b.append(x),y.attributes&&this.setAttributes({html:x,element:y,storage:t,intent:a,linkService:e}),((p=y.children)==null?void 0:p.length)>0)l.push([y,-1,x]);else if(y.value){const v=document.createTextNode(y.value);o&&Rb.shouldBuildText(g)&&c.push(v),x.append(v)}}for(const h of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))h.setAttribute("readOnly",!0);return{textDivs:c}}static update(r){const t=`matrix(${r.viewport.transform.join(",")})`;r.div.style.transform=t,r.div.hidden=!1}}const jv=1e3,TG=9,Bm=new WeakSet;function gh(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class jG{static create(r){switch(r.data.annotationType){case ja.LINK:return new F9(r);case ja.TEXT:return new IG(r);case ja.WIDGET:switch(r.data.fieldType){case"Tx":return new PG(r);case"Btn":return r.data.radioButton?new H9(r):r.data.checkBox?new MG(r):new OG(r);case"Ch":return new LG(r);case"Sig":return new RG(r)}return new t0(r);case ja.POPUP:return new g4(r);case ja.FREETEXT:return new $9(r);case ja.LINE:return new BG(r);case ja.SQUARE:return new UG(r);case ja.CIRCLE:return new HG(r);case ja.POLYLINE:return new G9(r);case ja.CARET:return new WG(r);case ja.INK:return new Y9(r);case ja.POLYGON:return new qG(r);case ja.HIGHLIGHT:return new zG(r);case ja.UNDERLINE:return new VG(r);case ja.SQUIGGLY:return new $G(r);case ja.STRIKEOUT:return new GG(r);case ja.STAMP:return new K9(r);case ja.FILEATTACHMENT:return new YG(r);default:return new ya(r)}}}var nm,k1,C1,Py,m4;const ES=class ES{constructor(r,{isRenderable:t=!1,ignoreBorder:e=!1,createQuadrilaterals:s=!1}={}){je(this,Py);je(this,nm,null);je(this,k1,!1);je(this,C1,null);this.isRenderable=t,this.data=r.data,this.layer=r.layer,this.linkService=r.linkService,this.downloadManager=r.downloadManager,this.imageResourcesPath=r.imageResourcesPath,this.renderForms=r.renderForms,this.svgFactory=r.svgFactory,this.annotationStorage=r.annotationStorage,this.enableScripting=r.enableScripting,this.hasJSActions=r.hasJSActions,this._fieldObjects=r.fieldObjects,this.parent=r.parent,t&&(this.container=this._createContainer(e)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:r,contentsObj:t,richText:e}){return!!(r!=null&&r.str||t!=null&&t.str||e!=null&&e.str)}get hasPopupData(){return ES._hasPopupData(this.data)}updateEdited(r){var e;if(!this.container)return;X(this,nm)||Ne(this,nm,{rect:this.data.rect.slice(0)});const{rect:t}=r;t&&De(this,Py,m4).call(this,t),(e=X(this,C1))==null||e.popup.updateEdited(r)}resetEdited(){var r;X(this,nm)&&(De(this,Py,m4).call(this,X(this,nm).rect),(r=X(this,C1))==null||r.popup.resetEdited(),Ne(this,nm,null))}_createContainer(r){const{data:t,parent:{page:e,viewport:s}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",t.id),this instanceof t0||(a.tabIndex=jv);const{style:i}=a;if(i.zIndex=this.parent.zIndex++,t.popupRef&&a.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(a.title=t.alternativeText),t.noRotate&&a.classList.add("norotate"),!t.rect||this instanceof g4){const{rotation:b}=t;return!t.hasOwnCanvas&&b!==0&&this.setRotation(b,a),a}const{width:o,height:u}=gh(t.rect);if(!r&&t.borderStyle.width>0){i.borderWidth=`${t.borderStyle.width}px`;const b=t.borderStyle.horizontalCornerRadius,y=t.borderStyle.verticalCornerRadius;if(b>0||y>0){const x=`calc(${b}px * var(--scale-factor)) / calc(${y}px * var(--scale-factor))`;i.borderRadius=x}else if(this instanceof H9){const x=`calc(${o}px * var(--scale-factor)) / calc(${u}px * var(--scale-factor))`;i.borderRadius=x}switch(t.borderStyle.style){case Fg.SOLID:i.borderStyle="solid";break;case Fg.DASHED:i.borderStyle="dashed";break;case Fg.BEVELED:cn("Unimplemented border style: beveled");break;case Fg.INSET:cn("Unimplemented border style: inset");break;case Fg.UNDERLINE:i.borderBottomStyle="solid";break}const g=t.borderColor||null;g?(Ne(this,k1,!0),i.borderColor=yr.makeHexColor(g[0]|0,g[1]|0,g[2]|0)):i.borderWidth=0}const c=yr.normalizeRect([t.rect[0],e.view[3]-t.rect[1]+e.view[1],t.rect[2],e.view[3]-t.rect[3]+e.view[1]]),{pageWidth:l,pageHeight:d,pageX:p,pageY:h}=s.rawDims;i.left=`${100*(c[0]-p)/l}%`,i.top=`${100*(c[1]-h)/d}%`;const{rotation:f}=t;return t.hasOwnCanvas||f===0?(i.width=`${100*o/l}%`,i.height=`${100*u/d}%`):this.setRotation(f,a),a}setRotation(r,t=this.container){if(!this.data.rect)return;const{pageWidth:e,pageHeight:s}=this.parent.viewport.rawDims,{width:a,height:i}=gh(this.data.rect);let o,u;r%180===0?(o=100*a/e,u=100*i/s):(o=100*i/e,u=100*a/s),t.style.width=`${o}%`,t.style.height=`${u}%`,t.setAttribute("data-main-rotation",(360-r)%360)}get _commonActions(){const r=(t,e,s)=>{const a=s.detail[t],i=a[0],o=a.slice(1);s.target.style[e]=m7[`${i}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[e]:m7[`${i}_rgb`](o)})};return jn(this,"_commonActions",{display:t=>{const{display:e}=t.detail,s=e%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:e===1||e===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:e}=t.detail;this.container.style.visibility=e?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:e,noView:e})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{r("bgColor","backgroundColor",t)},fillColor:t=>{r("fillColor","backgroundColor",t)},fgColor:t=>{r("fgColor","color",t)},textColor:t=>{r("textColor","color",t)},borderColor:t=>{r("borderColor","borderColor",t)},strokeColor:t=>{r("strokeColor","borderColor",t)},rotation:t=>{const e=t.detail.rotation;this.setRotation(e),this.annotationStorage.setValue(this.data.id,{rotation:e})}})}_dispatchEventFromSandbox(r,t){const e=this._commonActions;for(const s of Object.keys(t.detail)){const a=r[s]||e[s];a==null||a(t)}}_setDefaultPropertiesFromJS(r){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const e=this._commonActions;for(const[s,a]of Object.entries(t)){const i=e[s];if(i){const o={detail:{[s]:a},target:r};i(o),delete t[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:r}=this.data;if(!r)return;const[t,e,s,a]=this.data.rect.map(b=>Math.fround(b));if(r.length===8){const[b,y,g,x]=r.subarray(2,6);if(s===b&&a===y&&t===g&&e===x)return}const{style:i}=this.container;let o;if(X(this,k1)){const{borderColor:b,borderWidth:y}=i;i.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${b}" stroke-width="${y}">`],this.container.classList.add("hasBorder")}const u=s-t,c=a-e,{svgFactory:l}=this,d=l.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const p=l.createElement("defs");d.append(p);const h=l.createElement("clipPath"),f=`clippath_${this.data.id}`;h.setAttribute("id",f),h.setAttribute("clipPathUnits","objectBoundingBox"),p.append(h);for(let b=2,y=r.length;b<y;b+=8){const g=r[b],x=r[b+1],v=r[b+2],w=r[b+3],S=l.createElement("rect"),D=(v-t)/u,T=(a-x)/c,R=(g-v)/u,P=(x-w)/c;S.setAttribute("x",D),S.setAttribute("y",T),S.setAttribute("width",R),S.setAttribute("height",P),h.append(S),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${D}" y="${T}" width="${R}" height="${P}"/>`)}X(this,k1)&&(o.push("</g></svg>')"),i.backgroundImage=o.join("")),this.container.append(d),this.container.style.clipPath=`url(#${f})`}_createPopup(){const{container:r,data:t}=this;r.setAttribute("aria-haspopup","dialog");const e=Ne(this,C1,new g4({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){ls("Abstract method `AnnotationElement.render` called")}_getElementsByName(r,t=null){const e=[];if(this._fieldObjects){const s=this._fieldObjects[r];if(s)for(const{page:a,id:i,exportValues:o}of s){if(a===-1||i===t)continue;const u=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${i}"]`);if(c&&!Bm.has(c)){cn(`_getElementsByName - element not allowed: ${i}`);continue}e.push({id:i,exportValue:u,domElement:c})}return e}for(const s of document.getElementsByName(r)){const{exportValue:a}=s,i=s.getAttribute("data-element-id");i!==t&&Bm.has(s)&&e.push({id:i,exportValue:a,domElement:s})}return e}show(){var r;this.container&&(this.container.hidden=!1),(r=this.popup)==null||r.maybeShow()}hide(){var r;this.container&&(this.container.hidden=!0),(r=this.popup)==null||r.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const r=this.getElementsToTriggerPopup();if(Array.isArray(r))for(const t of r)t.classList.add("highlightArea");else r.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:r,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var e;(e=this.linkService.eventBus)==null||e.dispatch("switchannotationeditormode",{source:this,mode:r,editId:t})})}};nm=new WeakMap,k1=new WeakMap,C1=new WeakMap,Py=new WeakSet,m4=function(r){const{container:{style:t},data:{rect:e,rotation:s},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:i,pageX:o,pageY:u}}}}=this;e==null||e.splice(0,4,...r);const{width:c,height:l}=gh(r);t.left=`${100*(r[0]-o)/a}%`,t.top=`${100*(i-r[3]+u)/i}%`,s===0?(t.width=`${100*c/a}%`,t.height=`${100*l/i}%`):this.setRotation(s)};let ya=ES;var ml,xp,B9,U9;class F9 extends ya{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!(e!=null&&e.ignoreBorder),createQuadrilaterals:!0});je(this,ml);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,s=document.createElement("a");s.setAttribute("data-element-id",t.id);let a=!1;return t.url?(e.addLinkAttributes(s,t.url,t.newWindow),a=!0):t.action?(this._bindNamedAction(s,t.action),a=!0):t.attachment?(De(this,ml,B9).call(this,s,t.attachment,t.attachmentDest),a=!0):t.setOCGState?(De(this,ml,U9).call(this,s,t.setOCGState),a=!0):t.dest?(this._bindLink(s,t.dest),a=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,t),a=!0),t.resetForm?(this._bindResetFormAction(s,t.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(s,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(s),this.container}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&De(this,ml,xp).call(this)}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),De(this,ml,xp).call(this)}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(e.actions)){const i=s.get(a);i&&(t[i]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:a}}),!1})}t.onclick||(t.onclick=()=>!1),De(this,ml,xp).call(this)}_bindResetFormAction(t,e){const s=t.onclick;if(s||(t.href=this.linkService.getAnchorUrl("")),De(this,ml,xp).call(this),!this._fieldObjects){cn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(t.onclick=()=>!1);return}t.onclick=()=>{var d;s==null||s();const{fields:a,refs:i,include:o}=e,u=[];if(a.length!==0||i.length!==0){const p=new Set(i);for(const h of a){const f=this._fieldObjects[h]||[];for(const{id:b}of f)p.add(b)}for(const h of Object.values(this._fieldObjects))for(const f of h)p.has(f.id)===o&&u.push(f)}else for(const p of Object.values(this._fieldObjects))u.push(...p);const c=this.annotationStorage,l=[];for(const p of u){const{id:h}=p;switch(l.push(h),p.type){case"text":{const b=p.defaultValue||"";c.setValue(h,{value:b});break}case"checkbox":case"radiobutton":{const b=p.defaultValue===p.exportValues;c.setValue(h,{value:b});break}case"combobox":case"listbox":{const b=p.defaultValue||"";c.setValue(h,{value:b});break}default:continue}const f=document.querySelector(`[data-element-id="${h}"]`);if(f){if(!Bm.has(f)){cn(`_bindResetFormAction - element not allowed: ${h}`);continue}}else continue;f.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:l,name:"ResetForm"}})),!1}}}ml=new WeakSet,xp=function(){this.container.setAttribute("data-internal-link","")},B9=function(t,e,s=null){t.href=this.linkService.getAnchorUrl(""),e.description&&(t.title=e.description),t.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(e.content,e.filename,s),!1},De(this,ml,xp).call(this)},U9=function(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),De(this,ml,xp).call(this)};class IG extends ya{constructor(r){super(r,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const r=document.createElement("img");return r.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",r.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),r.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(r),this.container}}class t0 extends ya{render(){return this.container}showElementAndHideCanvas(r){var t;this.data.hasOwnCanvas&&(((t=r.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(r.previousSibling.hidden=!0),r.hidden=!1)}_getKeyModifier(r){return Oo.platform.isMac?r.metaKey:r.ctrlKey}_setEventListener(r,t,e,s,a){e.includes("mouse")?r.addEventListener(e,i=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:a(i),shift:i.shiftKey,modifier:this._getKeyModifier(i)}})}):r.addEventListener(e,i=>{var o;if(e==="blur"){if(!t.focused||!i.relatedTarget)return;t.focused=!1}else if(e==="focus"){if(t.focused)return;t.focused=!0}a&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:a(i)}}))})}_setEventListeners(r,t,e,s){var a,i,o;for(const[u,c]of e)(c==="Action"||(a=this.data.actions)!=null&&a[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(r,t,u,c,s),c==="Focus"&&!((i=this.data.actions)!=null&&i.Blur)?this._setEventListener(r,t,"blur","Blur",null):c==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(r,t,"focus","Focus",null))}_setBackgroundColor(r){const t=this.data.backgroundColor||null;r.style.backgroundColor=t===null?"transparent":yr.makeHexColor(t[0],t[1],t[2])}_setTextStyle(r){const t=["left","center","right"],{fontColor:e}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||TG,a=r.style;let i;const o=2,u=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),l=Math.round(c/(B6*s))||1,d=c/l;i=Math.min(s,u(d/B6))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);i=Math.min(s,u(c/B6))}a.fontSize=`calc(${i}px * var(--scale-factor))`,a.color=yr.makeHexColor(e[0],e[1],e[2]),this.data.textAlignment!==null&&(a.textAlign=t[this.data.textAlignment])}_setRequired(r,t){t?r.setAttribute("required",!0):r.removeAttribute("required"),r.setAttribute("aria-required",t)}}class PG extends t0{constructor(r){const t=r.renderForms||r.data.hasOwnCanvas||!r.data.hasAppearance&&!!r.data.fieldValue;super(r,{isRenderable:t})}setPropertyOnSiblings(r,t,e,s){const a=this.annotationStorage;for(const i of this._getElementsByName(r.name,r.id))i.domElement&&(i.domElement[t]=e),a.setValue(i.id,{[s]:e})}render(){var s,a;const r=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let e=null;if(this.renderForms){const i=r.getValue(t,{value:this.data.fieldValue});let o=i.value||"";const u=r.getValue(t,{charLimit:this.data.maxLen}).charLimit;u&&o.length>u&&(o=o.slice(0,u));let c=i.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const l={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(e=document.createElement("textarea"),e.textContent=c??o,this.data.doNotScroll&&(e.style.overflowY="hidden")):(e=document.createElement("input"),e.type="text",e.setAttribute("value",c??o),this.data.doNotScroll&&(e.style.overflowX="hidden")),this.data.hasOwnCanvas&&(e.hidden=!0),Bm.add(e),e.setAttribute("data-element-id",t),e.disabled=this.data.readOnly,e.name=this.data.fieldName,e.tabIndex=jv,this._setRequired(e,this.data.required),u&&(e.maxLength=u),e.addEventListener("input",p=>{r.setValue(t,{value:p.target.value}),this.setPropertyOnSiblings(e,"value",p.target.value,"value"),l.formattedValue=null}),e.addEventListener("resetform",p=>{const h=this.data.defaultFieldValue??"";e.value=l.userValue=h,l.formattedValue=null});let d=p=>{const{formattedValue:h}=l;h!=null&&(p.target.value=h),p.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){e.addEventListener("focus",h=>{var b;if(l.focused)return;const{target:f}=h;l.userValue&&(f.value=l.userValue),l.lastCommittedValue=f.value,l.commitKey=1,(b=this.data.actions)!=null&&b.Focus||(l.focused=!0)}),e.addEventListener("updatefromsandbox",h=>{this.showElementAndHideCanvas(h.target);const f={value(b){l.userValue=b.detail.value??"",r.setValue(t,{value:l.userValue.toString()}),b.target.value=l.userValue},formattedValue(b){const{formattedValue:y}=b.detail;l.formattedValue=y,y!=null&&b.target!==document.activeElement&&(b.target.value=y),r.setValue(t,{formattedValue:y})},selRange(b){b.target.setSelectionRange(...b.detail.selRange)},charLimit:b=>{var v;const{charLimit:y}=b.detail,{target:g}=b;if(y===0){g.removeAttribute("maxLength");return}g.setAttribute("maxLength",y);let x=l.userValue;!x||x.length<=y||(x=x.slice(0,y),g.value=l.userValue=x,r.setValue(t,{value:x}),(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:1,selStart:g.selectionStart,selEnd:g.selectionEnd}}))}};this._dispatchEventFromSandbox(f,h)}),e.addEventListener("keydown",h=>{var y;l.commitKey=1;let f=-1;if(h.key==="Escape"?f=0:h.key==="Enter"&&!this.data.multiLine?f=2:h.key==="Tab"&&(l.commitKey=3),f===-1)return;const{value:b}=h.target;l.lastCommittedValue!==b&&(l.lastCommittedValue=b,l.userValue=b,(y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:f,selStart:h.target.selectionStart,selEnd:h.target.selectionEnd}}))});const p=d;d=null,e.addEventListener("blur",h=>{var b,y;if(!l.focused||!h.relatedTarget)return;(b=this.data.actions)!=null&&b.Blur||(l.focused=!1);const{value:f}=h.target;l.userValue=f,l.lastCommittedValue!==f&&((y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:f,willCommit:!0,commitKey:l.commitKey,selStart:h.target.selectionStart,selEnd:h.target.selectionEnd}})),p(h)}),(a=this.data.actions)!=null&&a.Keystroke&&e.addEventListener("beforeinput",h=>{var S;l.lastCommittedValue=null;const{data:f,target:b}=h,{value:y,selectionStart:g,selectionEnd:x}=b;let v=g,w=x;switch(h.inputType){case"deleteWordBackward":{const D=y.substring(0,g).match(/\w*[^\w]*$/);D&&(v-=D[0].length);break}case"deleteWordForward":{const D=y.substring(g).match(/^[^\w]*\w*/);D&&(w+=D[0].length);break}case"deleteContentBackward":g===x&&(v-=1);break;case"deleteContentForward":g===x&&(w+=1);break}h.preventDefault(),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,change:f||"",willCommit:!1,selStart:v,selEnd:w}})}),this._setEventListeners(e,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.value)}if(d&&e.addEventListener("blur",d),this.data.comb){const h=(this.data.rect[2]-this.data.rect[0])/u;e.classList.add("comb"),e.style.letterSpacing=`calc(${h}px * var(--scale-factor) - 1ch)`}}else e=document.createElement("div"),e.textContent=this.data.fieldValue,e.style.verticalAlign="middle",e.style.display="table-cell",this.data.hasOwnCanvas&&(e.hidden=!0);return this._setTextStyle(e),this._setBackgroundColor(e),this._setDefaultPropertiesFromJS(e),this.container.append(e),this.container}}class RG extends t0{constructor(r){super(r,{isRenderable:!!r.data.hasOwnCanvas})}}class MG extends t0{constructor(r){super(r,{isRenderable:r.renderForms})}render(){const r=this.annotationStorage,t=this.data,e=t.id;let s=r.getValue(e,{value:t.exportValue===t.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",r.setValue(e,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return Bm.add(a),a.setAttribute("data-element-id",e),a.disabled=t.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=t.fieldName,s&&a.setAttribute("checked",!0),a.setAttribute("exportValue",t.exportValue),a.tabIndex=jv,a.addEventListener("change",i=>{const{name:o,checked:u}=i.target;for(const c of this._getElementsByName(o,e)){const l=u&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=l),r.setValue(c.id,{value:l})}r.setValue(e,{value:u})}),a.addEventListener("resetform",i=>{const o=t.defaultFieldValue||"Off";i.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",i=>{const o={value(u){u.target.checked=u.detail.value!=="Off",r.setValue(e,{value:u.target.checked})}};this._dispatchEventFromSandbox(o,i)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],i=>i.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class H9 extends t0{constructor(r){super(r,{isRenderable:r.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const r=this.annotationStorage,t=this.data,e=t.id;let s=r.getValue(e,{value:t.fieldValue===t.buttonValue}).value;if(typeof s=="string"&&(s=s!==t.buttonValue,r.setValue(e,{value:s})),s)for(const i of this._getElementsByName(t.fieldName,e))r.setValue(i.id,{value:!1});const a=document.createElement("input");if(Bm.add(a),a.setAttribute("data-element-id",e),a.disabled=t.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=t.fieldName,s&&a.setAttribute("checked",!0),a.tabIndex=jv,a.addEventListener("change",i=>{const{name:o,checked:u}=i.target;for(const c of this._getElementsByName(o,e))r.setValue(c.id,{value:!1});r.setValue(e,{value:u})}),a.addEventListener("resetform",i=>{const o=t.defaultFieldValue;i.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const i=t.buttonValue;a.addEventListener("updatefromsandbox",o=>{const u={value:c=>{const l=i===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const p=l&&d.id===e;d.domElement&&(d.domElement.checked=p),r.setValue(d.id,{value:p})}}};this._dispatchEventFromSandbox(u,o)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class OG extends F9{constructor(r){super(r,{ignoreBorder:r.data.hasAppearance})}render(){const r=super.render();r.classList.add("buttonWidgetAnnotation","pushButton");const t=r.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",e=>{this._dispatchEventFromSandbox({},e)})),r}}class LG extends t0{constructor(r){super(r,{isRenderable:r.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const r=this.annotationStorage,t=this.data.id,e=r.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");Bm.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=jv;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",l=>{const d=this.data.defaultFieldValue;for(const p of s.options)p.selected=p.value===d});for(const l of this.data.options){const d=document.createElement("option");d.textContent=l.displayValue,d.value=l.exportValue,e.value.includes(l.exportValue)&&(d.setAttribute("selected",!0),a=!1),s.append(d)}let i=null;if(a){const l=document.createElement("option");l.value=" ",l.setAttribute("hidden",!0),l.setAttribute("selected",!0),s.prepend(l),i=()=>{l.remove(),s.removeEventListener("input",i),i=null},s.addEventListener("input",i)}const o=l=>{const d=l?"value":"textContent",{options:p,multiple:h}=s;return h?Array.prototype.filter.call(p,f=>f.selected).map(f=>f[d]):p.selectedIndex===-1?null:p[p.selectedIndex][d]};let u=o(!1);const c=l=>{const d=l.target.options;return Array.prototype.map.call(d,p=>({displayValue:p.textContent,exportValue:p.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",l=>{const d={value(p){i==null||i();const h=p.detail.value,f=new Set(Array.isArray(h)?h:[h]);for(const b of s.options)b.selected=f.has(b.value);r.setValue(t,{value:o(!0)}),u=o(!1)},multipleSelection(p){s.multiple=!0},remove(p){const h=s.options,f=p.detail.remove;h[f].selected=!1,s.remove(f),h.length>0&&Array.prototype.findIndex.call(h,y=>y.selected)===-1&&(h[0].selected=!0),r.setValue(t,{value:o(!0),items:c(p)}),u=o(!1)},clear(p){for(;s.length!==0;)s.remove(0);r.setValue(t,{value:null,items:[]}),u=o(!1)},insert(p){const{index:h,displayValue:f,exportValue:b}=p.detail.insert,y=s.children[h],g=document.createElement("option");g.textContent=f,g.value=b,y?y.before(g):s.append(g),r.setValue(t,{value:o(!0),items:c(p)}),u=o(!1)},items(p){const{items:h}=p.detail;for(;s.length!==0;)s.remove(0);for(const f of h){const{displayValue:b,exportValue:y}=f,g=document.createElement("option");g.textContent=b,g.value=y,s.append(g)}s.options.length>0&&(s.options[0].selected=!0),r.setValue(t,{value:o(!0),items:c(p)}),u=o(!1)},indices(p){const h=new Set(p.detail.indices);for(const f of p.target.options)f.selected=h.has(f.index);r.setValue(t,{value:o(!0)}),u=o(!1)},editable(p){p.target.disabled=!p.detail.editable}};this._dispatchEventFromSandbox(d,l)}),s.addEventListener("input",l=>{var h;const d=o(!0),p=o(!1);r.setValue(t,{value:d}),l.preventDefault(),(h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:u,change:p,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],l=>l.target.value)):s.addEventListener("input",function(l){r.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class g4 extends ya{constructor(r){const{data:t,elements:e}=r;super(r,{isRenderable:ya._hasPopupData(t)}),this.elements=e,this.popup=null}render(){this.container.classList.add("popupAnnotation");const r=this.popup=new FG({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const e of this.elements)e.popup=r,t.push(e.data.id),e.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(e=>`${qk}${e}`).join(",")),this.container}}var D1,Fw,Bw,T1,sm,Js,Zd,am,Ry,My,j1,Qd,Ic,eh,Oy,th,Ly,im,om,cs,Ex,b4,q9,W9,z9,V9,Nx,Ax,y4;class FG{constructor({container:r,color:t,elements:e,titleObj:s,modificationDate:a,contentsObj:i,richText:o,parent:u,rect:c,parentRect:l,open:d}){je(this,cs);je(this,D1,De(this,cs,z9).bind(this));je(this,Fw,De(this,cs,y4).bind(this));je(this,Bw,De(this,cs,Ax).bind(this));je(this,T1,De(this,cs,Nx).bind(this));je(this,sm,null);je(this,Js,null);je(this,Zd,null);je(this,am,null);je(this,Ry,null);je(this,My,null);je(this,j1,null);je(this,Qd,!1);je(this,Ic,null);je(this,eh,null);je(this,Oy,null);je(this,th,null);je(this,Ly,null);je(this,im,null);je(this,om,!1);var p;Ne(this,Js,r),Ne(this,Ly,s),Ne(this,Zd,i),Ne(this,th,o),Ne(this,My,u),Ne(this,sm,t),Ne(this,Oy,c),Ne(this,j1,l),Ne(this,Ry,e),Ne(this,am,Gk.toDateObject(a)),this.trigger=e.flatMap(h=>h.getElementsToTriggerPopup());for(const h of this.trigger)h.addEventListener("click",X(this,T1)),h.addEventListener("mouseenter",X(this,Bw)),h.addEventListener("mouseleave",X(this,Fw)),h.classList.add("popupTriggerArea");for(const h of e)(p=h.container)==null||p.addEventListener("keydown",X(this,D1));X(this,Js).hidden=!0,d&&De(this,cs,Nx).call(this)}render(){if(X(this,Ic))return;const r=Ne(this,Ic,document.createElement("div"));if(r.className="popup",X(this,sm)){const a=r.style.outlineColor=yr.makeHexColor(...X(this,sm));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?r.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`:r.style.backgroundColor=yr.makeHexColor(...X(this,sm).map(o=>Math.floor(.7*(255-o)+o)))}const t=document.createElement("span");t.className="header";const e=document.createElement("h1");if(t.append(e),{dir:e.dir,str:e.textContent}=X(this,Ly),r.append(t),X(this,am)){const a=document.createElement("span");a.classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),a.setAttribute("data-l10n-args",JSON.stringify({date:X(this,am).toLocaleDateString(),time:X(this,am).toLocaleTimeString()})),t.append(a)}const s=X(this,cs,Ex);if(s)L9.render({xfaHtml:s,intent:"richText",div:r}),r.lastChild.classList.add("richText","popupContent");else{const a=this._formatContents(X(this,Zd));r.append(a)}X(this,Js).append(r)}_formatContents({str:r,dir:t}){const e=document.createElement("p");e.classList.add("popupContent"),e.dir=t;const s=r.split(/(?:\r\n?|\n)/);for(let a=0,i=s.length;a<i;++a){const o=s[a];e.append(document.createTextNode(o)),a<i-1&&e.append(document.createElement("br"))}return e}updateEdited({rect:r,popupContent:t}){var e;X(this,im)||Ne(this,im,{contentsObj:X(this,Zd),richText:X(this,th)}),r&&Ne(this,eh,null),t&&(Ne(this,th,De(this,cs,W9).call(this,t)),Ne(this,Zd,null)),(e=X(this,Ic))==null||e.remove(),Ne(this,Ic,null)}resetEdited(){var r;X(this,im)&&({contentsObj:tl(this,Zd)._,richText:tl(this,th)._}=X(this,im),Ne(this,im,null),(r=X(this,Ic))==null||r.remove(),Ne(this,Ic,null),Ne(this,eh,null))}forceHide(){Ne(this,om,this.isVisible),X(this,om)&&(X(this,Js).hidden=!0)}maybeShow(){X(this,om)&&(X(this,Ic)||De(this,cs,Ax).call(this),Ne(this,om,!1),X(this,Js).hidden=!1)}get isVisible(){return X(this,Js).hidden===!1}}D1=new WeakMap,Fw=new WeakMap,Bw=new WeakMap,T1=new WeakMap,sm=new WeakMap,Js=new WeakMap,Zd=new WeakMap,am=new WeakMap,Ry=new WeakMap,My=new WeakMap,j1=new WeakMap,Qd=new WeakMap,Ic=new WeakMap,eh=new WeakMap,Oy=new WeakMap,th=new WeakMap,Ly=new WeakMap,im=new WeakMap,om=new WeakMap,cs=new WeakSet,Ex=function(){const r=X(this,th),t=X(this,Zd);return r!=null&&r.str&&(!(t!=null&&t.str)||t.str===r.str)&&X(this,th).html||null},b4=function(){var r,t,e;return((e=(t=(r=X(this,cs,Ex))==null?void 0:r.attributes)==null?void 0:t.style)==null?void 0:e.fontSize)||0},q9=function(){var r,t,e;return((e=(t=(r=X(this,cs,Ex))==null?void 0:r.attributes)==null?void 0:t.style)==null?void 0:e.color)||null},W9=function(r){const t=[],e={str:r,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},s={style:{color:X(this,cs,q9),fontSize:X(this,cs,b4)?`calc(${X(this,cs,b4)}px * var(--scale-factor))`:""}};for(const a of r.split(`
`))t.push({name:"span",value:a,attributes:s});return e},z9=function(r){r.altKey||r.shiftKey||r.ctrlKey||r.metaKey||(r.key==="Enter"||r.key==="Escape"&&X(this,Qd))&&De(this,cs,Nx).call(this)},V9=function(){if(X(this,eh)!==null)return;const{page:{view:r},viewport:{rawDims:{pageWidth:t,pageHeight:e,pageX:s,pageY:a}}}=X(this,My);let i=!!X(this,j1),o=i?X(this,j1):X(this,Oy);for(const f of X(this,Ry))if(!o||yr.intersect(f.data.rect,o)!==null){o=f.data.rect,i=!0;break}const u=yr.normalizeRect([o[0],r[3]-o[1]+r[1],o[2],r[3]-o[3]+r[1]]),l=i?o[2]-o[0]+5:0,d=u[0]+l,p=u[1];Ne(this,eh,[100*(d-s)/t,100*(p-a)/e]);const{style:h}=X(this,Js);h.left=`${X(this,eh)[0]}%`,h.top=`${X(this,eh)[1]}%`},Nx=function(){Ne(this,Qd,!X(this,Qd)),X(this,Qd)?(De(this,cs,Ax).call(this),X(this,Js).addEventListener("click",X(this,T1)),X(this,Js).addEventListener("keydown",X(this,D1))):(De(this,cs,y4).call(this),X(this,Js).removeEventListener("click",X(this,T1)),X(this,Js).removeEventListener("keydown",X(this,D1)))},Ax=function(){X(this,Ic)||this.render(),this.isVisible?X(this,Qd)&&X(this,Js).classList.add("focused"):(De(this,cs,V9).call(this),X(this,Js).hidden=!1,X(this,Js).style.zIndex=parseInt(X(this,Js).style.zIndex)+1e3)},y4=function(){X(this,Js).classList.remove("focused"),!(X(this,Qd)||!this.isVisible)&&(X(this,Js).hidden=!0,X(this,Js).style.zIndex=parseInt(X(this,Js).style.zIndex)-1e3)};class $9 extends ya{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0}),this.textContent=r.data.textContent,this.textPosition=r.data.textPosition,this.annotationEditorType=wn.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const r=document.createElement("div");r.classList.add("annotationTextContent"),r.setAttribute("role","comment");for(const t of this.textContent){const e=document.createElement("span");e.textContent=t,r.append(e)}this.container.append(r)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var Fy;class BG extends ya{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});je(this,Fy,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:e,height:s}=gh(t.rect),a=this.svgFactory.create(e,s,!0),i=Ne(this,Fy,this.svgFactory.createElement("svg:line"));return i.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),i.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),i.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),i.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),i.setAttribute("stroke-width",t.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),a.append(i),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return X(this,Fy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fy=new WeakMap;var By;class UG extends ya{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});je(this,By,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:e,height:s}=gh(t.rect),a=this.svgFactory.create(e,s,!0),i=t.borderStyle.width,o=Ne(this,By,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",i/2),o.setAttribute("y",i/2),o.setAttribute("width",e-i),o.setAttribute("height",s-i),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return X(this,By)}addHighlightArea(){this.container.classList.add("highlightArea")}}By=new WeakMap;var Uy;class HG extends ya{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});je(this,Uy,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:e,height:s}=gh(t.rect),a=this.svgFactory.create(e,s,!0),i=t.borderStyle.width,o=Ne(this,Uy,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",e/2),o.setAttribute("cy",s/2),o.setAttribute("rx",e/2-i/2),o.setAttribute("ry",s/2-i/2),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return X(this,Uy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Uy=new WeakMap;var Hy;class G9 extends ya{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});je(this,Hy,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:s,popupRef:a}}=this;if(!e)return this.container;const{width:i,height:o}=gh(t),u=this.svgFactory.create(i,o,!0);let c=[];for(let d=0,p=e.length;d<p;d+=2){const h=e[d]-t[0],f=t[3]-e[d+1];c.push(`${h},${f}`)}c=c.join(" ");const l=Ne(this,Hy,this.svgFactory.createElement(this.svgElementName));return l.setAttribute("points",c),l.setAttribute("stroke-width",s.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),u.append(l),this.container.append(u),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return X(this,Hy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Hy=new WeakMap;class qG extends G9{constructor(r){super(r),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class WG extends ya{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var qy;class Y9 extends ya{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});je(this,qy,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=wn.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:e,borderStyle:s,popupRef:a}}=this,{width:i,height:o}=gh(t),u=this.svgFactory.create(i,o,!0);for(const c of e){let l=[];for(let p=0,h=c.length;p<h;p+=2){const f=c[p]-t[0],b=t[3]-c[p+1];l.push(`${f},${b}`)}l=l.join(" ");const d=this.svgFactory.createElement(this.svgElementName);X(this,qy).push(d),d.setAttribute("points",l),d.setAttribute("stroke-width",s.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),!a&&this.hasPopupData&&this._createPopup(),u.append(d)}return this.container.append(u),this.container}getElementsToTriggerPopup(){return X(this,qy)}addHighlightArea(){this.container.classList.add("highlightArea")}}qy=new WeakMap;class zG extends ya{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class VG extends ya{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class $G extends ya{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class GG extends ya{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class K9 extends ya{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Wy,zy,v4;class YG extends ya{constructor(t){var s;super(t,{isRenderable:!0});je(this,zy);je(this,Wy,null);const{file:e}=this.data;this.filename=e.filename,this.content=e.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let s;e.hasAppearance||e.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),s.addEventListener("dblclick",De(this,zy,v4).bind(this)),Ne(this,Wy,s);const{isMac:a}=Oo.platform;return t.addEventListener("keydown",i=>{i.key==="Enter"&&(a?i.metaKey:i.ctrlKey)&&De(this,zy,v4).call(this)}),!e.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),t.append(s),t}getElementsToTriggerPopup(){return X(this,Wy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Wy=new WeakMap,zy=new WeakSet,v4=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Vy,lm,I1,zm,X9,x4,zN;let KG=(zN=class{constructor({div:r,accessibilityManager:t,annotationCanvasMap:e,annotationEditorUIManager:s,page:a,viewport:i}){je(this,zm);je(this,Vy,null);je(this,lm,null);je(this,I1,new Map);this.div=r,Ne(this,Vy,t),Ne(this,lm,e),this.page=a,this.viewport=i,this.zIndex=0,this._annotationEditorUIManager=s}async render(r){var i;const{annotations:t}=r,e=this.div;Lm(e,this.viewport);const s=new Map,a={data:null,layer:e,linkService:r.linkService,downloadManager:r.downloadManager,imageResourcesPath:r.imageResourcesPath||"",renderForms:r.renderForms!==!1,svgFactory:new B8,annotationStorage:r.annotationStorage||new z8,enableScripting:r.enableScripting===!0,hasJSActions:r.hasJSActions,fieldObjects:r.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const u=o.annotationType===ja.POPUP;if(u){const d=s.get(o.id);if(!d)continue;a.elements=d}else{const{width:d,height:p}=gh(o.rect);if(d<=0||p<=0)continue}a.data=o;const c=jG.create(a);if(!c.isRenderable)continue;if(!u&&o.popupRef){const d=s.get(o.popupRef);d?d.push(c):s.set(o.popupRef,[c])}const l=c.render();o.hidden&&(l.style.visibility="hidden"),De(this,zm,X9).call(this,l,o.id),c.annotationEditorType>0&&(X(this,I1).set(c.data.id,c),(i=this._annotationEditorUIManager)==null||i.renderAnnotationElement(c))}De(this,zm,x4).call(this)}update({viewport:r}){const t=this.div;this.viewport=r,Lm(t,{rotation:r.rotation}),De(this,zm,x4).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(X(this,I1).values())}getEditableAnnotation(r){return X(this,I1).get(r)}},Vy=new WeakMap,lm=new WeakMap,I1=new WeakMap,zm=new WeakSet,X9=function(r,t){var s;const e=r.firstChild||r;e.id=`${qk}${t}`,this.div.append(r),(s=X(this,Vy))==null||s.moveElementInDOM(this.div,r,e,!1)},x4=function(){if(!X(this,lm))return;const r=this.div;for(const[t,e]of X(this,lm)){const s=r.querySelector(`[data-annotation-id="${t}"]`);if(!s)continue;e.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(e):a.classList.contains("annotationContent")?a.after(e):a.before(e):s.append(e)}X(this,lm).clear()},zN);const X2=/\r\n?|\n/g;var $y,Gy,Yy,Ky,Xy,Pc,ol,Jy,ll,P1,Ca,J9,Z9,Q9,kx,xh,Cx,Dx,eC,_4,tC;const vs=class vs extends ts{constructor(t){super({...t,name:"freeTextEditor"});je(this,Ca);je(this,$y,this.editorDivBlur.bind(this));je(this,Gy,this.editorDivFocus.bind(this));je(this,Yy,this.editorDivInput.bind(this));je(this,Ky,this.editorDivKeydown.bind(this));je(this,Xy,this.editorDivPaste.bind(this));je(this,Pc);je(this,ol,"");je(this,Jy,`${this.id}-editor`);je(this,ll);je(this,P1,null);Ne(this,Pc,t.color||vs._defaultColor||ts._defaultLineColor),Ne(this,ll,t.fontSize||vs._defaultFontSize)}static get _keyboardManager(){const t=vs.prototype,e=i=>i.isEmpty(),s=Fm.TRANSLATE_SMALL,a=Fm.TRANSLATE_BIG;return jn(this,"_keyboardManager",new Dv([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,a],checker:e}]]))}static initialize(t,e){ts.initialize(t,e,{strings:["pdfjs-free-text-default-content"]});const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case zr.FREETEXT_SIZE:vs._defaultFontSize=e;break;case zr.FREETEXT_COLOR:vs._defaultColor=e;break}}updateParams(t,e){switch(t){case zr.FREETEXT_SIZE:De(this,Ca,J9).call(this,e);break;case zr.FREETEXT_COLOR:De(this,Ca,Z9).call(this,e);break}}static get defaultPropertiesToUpdate(){return[[zr.FREETEXT_SIZE,vs._defaultFontSize],[zr.FREETEXT_COLOR,vs._defaultColor||ts._defaultLineColor]]}get propertiesToUpdate(){return[[zr.FREETEXT_SIZE,X(this,ll)],[zr.FREETEXT_COLOR,X(this,Pc)]]}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-vs._internalPadding*t,-(vs._internalPadding+X(this,ll))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(wn.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const t=this._uiManager._signal;this.editorDiv.addEventListener("keydown",X(this,Ky),{signal:t}),this.editorDiv.addEventListener("focus",X(this,Gy),{signal:t}),this.editorDiv.addEventListener("blur",X(this,$y),{signal:t}),this.editorDiv.addEventListener("input",X(this,Yy),{signal:t}),this.editorDiv.addEventListener("paste",X(this,Xy),{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",X(this,Jy)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",X(this,Ky)),this.editorDiv.removeEventListener("focus",X(this,Gy)),this.editorDiv.removeEventListener("blur",X(this,$y)),this.editorDiv.removeEventListener("input",X(this,Yy)),this.editorDiv.removeEventListener("paste",X(this,Xy)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=X(this,ol),e=Ne(this,ol,De(this,Ca,Q9).call(this).trimEnd());if(t===e)return;const s=a=>{if(Ne(this,ol,a),!a){this.remove();return}De(this,Ca,Dx).call(this),this._uiManager.rebuild(this),De(this,Ca,kx).call(this)};this.addCommands({cmd:()=>{s(e)},undo:()=>{s(t)},mustExec:!1}),De(this,Ca,kx).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){vs._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",X(this,Jy)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),ts._l10nPromise.get("pdfjs-free-text-default-content").then(a=>{var i;return(i=this.editorDiv)==null?void 0:i.setAttribute("default-content",a)}),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${X(this,ll)}px * var(--scale-factor))`,s.color=X(this,Pc),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),iw(this,this.div,["dblclick","keydown"]),this.width){const[a,i]=this.parentDimensions;if(this.annotationElementId){const{position:o}=X(this,P1);let[u,c]=this.getInitialTranslation();[u,c]=this.pageTranslationToScreen(u,c);const[l,d]=this.pageDimensions,[p,h]=this.pageTranslation;let f,b;switch(this.rotation){case 0:f=t+(o[0]-p)/l,b=e+this.height-(o[1]-h)/d;break;case 90:f=t+(o[0]-p)/l,b=e-(o[1]-h)/d,[u,c]=[c,-u];break;case 180:f=t-this.width+(o[0]-p)/l,b=e-(o[1]-h)/d,[u,c]=[-u,-c];break;case 270:f=t+(o[0]-p-this.height*d)/l,b=e+(o[1]-h-this.width*l)/d,[u,c]=[-c,u];break}this.setAt(f*a,b*i,u,c)}else this.setAt(t*a,e*i,this.width*a,this.height*i);De(this,Ca,Dx).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var f,b,y;const e=t.clipboardData||window.clipboardData,{types:s}=e;if(s.length===1&&s[0]==="text/plain")return;t.preventDefault();const a=De(f=vs,xh,_4).call(f,e.getData("text")||"").replaceAll(X2,`
`);if(!a)return;const i=window.getSelection();if(!i.rangeCount)return;this.editorDiv.normalize(),i.deleteFromDocument();const o=i.getRangeAt(0);if(!a.includes(`
`)){o.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),i.collapseToStart();return}const{startContainer:u,startOffset:c}=o,l=[],d=[];if(u.nodeType===Node.TEXT_NODE){const g=u.parentElement;if(d.push(u.nodeValue.slice(c).replaceAll(X2,"")),g!==this.editorDiv){let x=l;for(const v of this.editorDiv.childNodes){if(v===g){x=d;continue}x.push(De(b=vs,xh,Cx).call(b,v))}}l.push(u.nodeValue.slice(0,c).replaceAll(X2,""))}else if(u===this.editorDiv){let g=l,x=0;for(const v of this.editorDiv.childNodes)x++===c&&(g=d),g.push(De(y=vs,xh,Cx).call(y,v))}Ne(this,ol,`${l.join(`
`)}${a}${d.join(`
`)}`),De(this,Ca,Dx).call(this);const p=new Range;let h=l.reduce((g,x)=>g+x.length,0);for(const{firstChild:g}of this.editorDiv.childNodes)if(g.nodeType===Node.TEXT_NODE){const x=g.nodeValue.length;if(h<=x){p.setStart(g,h),p.setEnd(g,h);break}h-=x}i.removeAllRanges(),i.addRange(p)}get contentDiv(){return this.editorDiv}static deserialize(t,e,s){var o;let a=null;if(t instanceof $9){const{data:{defaultAppearanceData:{fontSize:u,fontColor:c},rect:l,rotation:d,id:p},textContent:h,textPosition:f,parent:{page:{pageNumber:b}}}=t;if(!h||h.length===0)return null;a=t={annotationType:wn.FREETEXT,color:Array.from(c),fontSize:u,value:h.join(`
`),position:f,pageIndex:b-1,rect:l.slice(0),rotation:d,id:p,deleted:!1}}const i=super.deserialize(t,e,s);return Ne(i,ll,t.fontSize),Ne(i,Pc,yr.makeHexColor(...t.color)),Ne(i,ol,De(o=vs,xh,_4).call(o,t.value)),i.annotationElementId=t.id||null,Ne(i,P1,a),i}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const e=vs._internalPadding*this.parentScale,s=this.getRect(e,e),a=ts._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:X(this,Pc)),i={annotationType:wn.FREETEXT,color:a,fontSize:X(this,ll),value:De(this,Ca,eC).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?i:this.annotationElementId&&!De(this,Ca,tC).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(this.deleted)return e;const{style:s}=e;s.fontSize=`calc(${X(this,ll)}px * var(--scale-factor))`,s.color=X(this,Pc),e.replaceChildren();for(const i of X(this,ol).split(`
`)){const o=document.createElement("div");o.append(i?document.createTextNode(i):document.createElement("br")),e.append(o)}const a=vs._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(a,a),popupContent:X(this,ol)}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};$y=new WeakMap,Gy=new WeakMap,Yy=new WeakMap,Ky=new WeakMap,Xy=new WeakMap,Pc=new WeakMap,ol=new WeakMap,Jy=new WeakMap,ll=new WeakMap,P1=new WeakMap,Ca=new WeakSet,J9=function(t){const e=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--scale-factor))`,this.translate(0,-(a-X(this,ll))*this.parentScale),Ne(this,ll,a),De(this,Ca,kx).call(this)},s=X(this,ll);this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:zr.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Z9=function(t){const e=a=>{Ne(this,Pc,this.editorDiv.style.color=a)},s=X(this,Pc);this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:zr.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Q9=function(){var e;const t=[];this.editorDiv.normalize();for(const s of this.editorDiv.childNodes)t.push(De(e=vs,xh,Cx).call(e,s));return t.join(`
`)},kx=function(){const[t,e]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:a,div:i}=this,o=i.style.display,u=i.classList.contains("hidden");i.classList.remove("hidden"),i.style.display="hidden",a.div.append(this.div),s=i.getBoundingClientRect(),i.remove(),i.style.display=o,i.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=s.width/t,this.height=s.height/e):(this.width=s.height/t,this.height=s.width/e),this.fixAndSetPosition()},xh=new WeakSet,Cx=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(X2,"")},Dx=function(){if(this.editorDiv.replaceChildren(),!!X(this,ol))for(const t of X(this,ol).split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}},eC=function(){return X(this,ol).replaceAll(""," ")},_4=function(t){return t.replaceAll(" ","")},tC=function(t){const{value:e,fontSize:s,color:a,pageIndex:i}=X(this,P1);return this._hasBeenMoved||t.value!==e||t.fontSize!==s||t.color.some((o,u)=>o!==a[u])||t.pageIndex!==i},je(vs,xh),Ot(vs,"_freeTextDefaultContent",""),Ot(vs,"_internalPadding",0),Ot(vs,"_defaultColor",null),Ot(vs,"_defaultFontSize",10),Ot(vs,"_type","freetext"),Ot(vs,"_editorType",wn.FREETEXT);let w4=vs;var Zy,ff,Rc,bo,rC,Tx,nC,sC,E4;class S4{constructor(r,t=0,e=0,s=!0){je(this,bo);je(this,Zy);je(this,ff,[]);je(this,Rc,[]);let a=1/0,i=-1/0,o=1/0,u=-1/0;const l=10**-4;for(const{x:g,y:x,width:v,height:w}of r){const S=Math.floor((g-t)/l)*l,D=Math.ceil((g+v+t)/l)*l,T=Math.floor((x-t)/l)*l,R=Math.ceil((x+w+t)/l)*l,P=[S,T,R,!0],L=[D,T,R,!1];X(this,ff).push(P,L),a=Math.min(a,S),i=Math.max(i,D),o=Math.min(o,T),u=Math.max(u,R)}const d=i-a+2*e,p=u-o+2*e,h=a-e,f=o-e,b=X(this,ff).at(s?-1:-2),y=[b[0],b[2]];for(const g of X(this,ff)){const[x,v,w]=g;g[0]=(x-h)/d,g[1]=(v-f)/p,g[2]=(w-f)/p}Ne(this,Zy,{x:h,y:f,width:d,height:p,lastPoint:y})}getOutlines(){X(this,ff).sort((t,e)=>t[0]-e[0]||t[1]-e[1]||t[2]-e[2]);const r=[];for(const t of X(this,ff))t[3]?(r.push(...De(this,bo,E4).call(this,t)),De(this,bo,nC).call(this,t)):(De(this,bo,sC).call(this,t),r.push(...De(this,bo,E4).call(this,t)));return De(this,bo,rC).call(this,r)}}Zy=new WeakMap,ff=new WeakMap,Rc=new WeakMap,bo=new WeakSet,rC=function(r){const t=[],e=new Set;for(const i of r){const[o,u,c]=i;t.push([o,u,i],[o,c,i])}t.sort((i,o)=>i[1]-o[1]||i[0]-o[0]);for(let i=0,o=t.length;i<o;i+=2){const u=t[i][2],c=t[i+1][2];u.push(c),c.push(u),e.add(u),e.add(c)}const s=[];let a;for(;e.size>0;){const i=e.values().next().value;let[o,u,c,l,d]=i;e.delete(i);let p=o,h=u;for(a=[o,c],s.push(a);;){let f;if(e.has(l))f=l;else if(e.has(d))f=d;else break;e.delete(f),[o,u,c,l,d]=f,p!==o&&(a.push(p,h,o,h===u?u:c),p=o),h=h===u?c:u}a.push(p,h)}return new XG(s,X(this,Zy))},Tx=function(r){const t=X(this,Rc);let e=0,s=t.length-1;for(;e<=s;){const a=e+s>>1,i=t[a][0];if(i===r)return a;i<r?e=a+1:s=a-1}return s+1},nC=function([,r,t]){const e=De(this,bo,Tx).call(this,r);X(this,Rc).splice(e,0,[r,t])},sC=function([,r,t]){const e=De(this,bo,Tx).call(this,r);for(let s=e;s<X(this,Rc).length;s++){const[a,i]=X(this,Rc)[s];if(a!==r)break;if(a===r&&i===t){X(this,Rc).splice(s,1);return}}for(let s=e-1;s>=0;s--){const[a,i]=X(this,Rc)[s];if(a!==r)break;if(a===r&&i===t){X(this,Rc).splice(s,1);return}}},E4=function(r){const[t,e,s]=r,a=[[t,e,s]],i=De(this,bo,Tx).call(this,s);for(let o=0;o<i;o++){const[u,c]=X(this,Rc)[o];for(let l=0,d=a.length;l<d;l++){const[,p,h]=a[l];if(!(c<=p||h<=u)){if(p>=u){if(h>c)a[l][1]=c;else{if(d===1)return[];a.splice(l,1),l--,d--}continue}a[l][2]=u,h>c&&a.push([t,c,h])}}}return a};class aC{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(r,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof A4}}var Qy,R1;class XG extends aC{constructor(t,e){super();je(this,Qy);je(this,R1);Ne(this,R1,t),Ne(this,Qy,e)}toSVGPath(){const t=[];for(const e of X(this,R1)){let[s,a]=e;t.push(`M${s} ${a}`);for(let i=2;i<e.length;i+=2){const o=e[i],u=e[i+1];o===s?(t.push(`V${u}`),a=u):u===a&&(t.push(`H${o}`),s=o)}t.push("Z")}return t.join(" ")}serialize([t,e,s,a],i){const o=[],u=s-t,c=a-e;for(const l of X(this,R1)){const d=new Array(l.length);for(let p=0;p<l.length;p+=2)d[p]=t+l[p]*u,d[p+1]=a-l[p+1]*c;o.push(d)}return o}get box(){return X(this,Qy)}}Qy=new WeakMap,R1=new WeakMap;var Cu,rh,M1,O1,Du,vn,cm,um,ev,tv,L1,F1,pf,rv,Uw,Hw,nv,N4;const Ld=class Ld{constructor({x:r,y:t},e,s,a,i,o=0){je(this,nv);je(this,Cu);je(this,rh,[]);je(this,M1);je(this,O1);je(this,Du,[]);je(this,vn,new Float64Array(18));je(this,cm);je(this,um);je(this,ev);je(this,tv);je(this,L1);je(this,F1);je(this,pf,[]);Ne(this,Cu,e),Ne(this,F1,a*s),Ne(this,O1,i),X(this,vn).set([NaN,NaN,NaN,NaN,r,t],6),Ne(this,M1,o),Ne(this,tv,X(Ld,rv)*s),Ne(this,ev,X(Ld,Hw)*s),Ne(this,L1,s),X(this,pf).push(r,t)}get free(){return!0}isEmpty(){return isNaN(X(this,vn)[8])}add({x:r,y:t}){var P;Ne(this,cm,r),Ne(this,um,t);const[e,s,a,i]=X(this,Cu);let[o,u,c,l]=X(this,vn).subarray(8,12);const d=r-c,p=t-l,h=Math.hypot(d,p);if(h<X(this,ev))return!1;const f=h-X(this,tv),b=f/h,y=b*d,g=b*p;let x=o,v=u;o=c,u=l,c+=y,l+=g,(P=X(this,pf))==null||P.push(r,t);const w=-g/f,S=y/f,D=w*X(this,F1),T=S*X(this,F1);return X(this,vn).set(X(this,vn).subarray(2,8),0),X(this,vn).set([c+D,l+T],4),X(this,vn).set(X(this,vn).subarray(14,18),12),X(this,vn).set([c-D,l-T],16),isNaN(X(this,vn)[6])?(X(this,Du).length===0&&(X(this,vn).set([o+D,u+T],2),X(this,Du).push(NaN,NaN,NaN,NaN,(o+D-e)/a,(u+T-s)/i),X(this,vn).set([o-D,u-T],14),X(this,rh).push(NaN,NaN,NaN,NaN,(o-D-e)/a,(u-T-s)/i)),X(this,vn).set([x,v,o,u,c,l],6),!this.isEmpty()):(X(this,vn).set([x,v,o,u,c,l],6),Math.abs(Math.atan2(v-u,x-o)-Math.atan2(g,y))<Math.PI/2?([o,u,c,l]=X(this,vn).subarray(2,6),X(this,Du).push(NaN,NaN,NaN,NaN,((o+c)/2-e)/a,((u+l)/2-s)/i),[o,u,x,v]=X(this,vn).subarray(14,18),X(this,rh).push(NaN,NaN,NaN,NaN,((x+o)/2-e)/a,((v+u)/2-s)/i),!0):([x,v,o,u,c,l]=X(this,vn).subarray(0,6),X(this,Du).push(((x+5*o)/6-e)/a,((v+5*u)/6-s)/i,((5*o+c)/6-e)/a,((5*u+l)/6-s)/i,((o+c)/2-e)/a,((u+l)/2-s)/i),[c,l,o,u,x,v]=X(this,vn).subarray(12,18),X(this,rh).push(((x+5*o)/6-e)/a,((v+5*u)/6-s)/i,((5*o+c)/6-e)/a,((5*u+l)/6-s)/i,((o+c)/2-e)/a,((u+l)/2-s)/i),!0))}toSVGPath(){if(this.isEmpty())return"";const r=X(this,Du),t=X(this,rh),e=X(this,vn).subarray(4,6),s=X(this,vn).subarray(16,18),[a,i,o,u]=X(this,Cu),[c,l,d,p]=De(this,nv,N4).call(this);if(isNaN(X(this,vn)[6])&&!this.isEmpty())return`M${(X(this,vn)[2]-a)/o} ${(X(this,vn)[3]-i)/u} L${(X(this,vn)[4]-a)/o} ${(X(this,vn)[5]-i)/u} L${c} ${l} L${d} ${p} L${(X(this,vn)[16]-a)/o} ${(X(this,vn)[17]-i)/u} L${(X(this,vn)[14]-a)/o} ${(X(this,vn)[15]-i)/u} Z`;const h=[];h.push(`M${r[4]} ${r[5]}`);for(let f=6;f<r.length;f+=6)isNaN(r[f])?h.push(`L${r[f+4]} ${r[f+5]}`):h.push(`C${r[f]} ${r[f+1]} ${r[f+2]} ${r[f+3]} ${r[f+4]} ${r[f+5]}`);h.push(`L${(e[0]-a)/o} ${(e[1]-i)/u} L${c} ${l} L${d} ${p} L${(s[0]-a)/o} ${(s[1]-i)/u}`);for(let f=t.length-6;f>=6;f-=6)isNaN(t[f])?h.push(`L${t[f+4]} ${t[f+5]}`):h.push(`C${t[f]} ${t[f+1]} ${t[f+2]} ${t[f+3]} ${t[f+4]} ${t[f+5]}`);return h.push(`L${t[4]} ${t[5]} Z`),h.join(" ")}getOutlines(){var g;const r=X(this,Du),t=X(this,rh),e=X(this,vn),s=e.subarray(4,6),a=e.subarray(16,18),[i,o,u,c]=X(this,Cu),l=new Float64Array((((g=X(this,pf))==null?void 0:g.length)??0)+2);for(let x=0,v=l.length-2;x<v;x+=2)l[x]=(X(this,pf)[x]-i)/u,l[x+1]=(X(this,pf)[x+1]-o)/c;l[l.length-2]=(X(this,cm)-i)/u,l[l.length-1]=(X(this,um)-o)/c;const[d,p,h,f]=De(this,nv,N4).call(this);if(isNaN(e[6])&&!this.isEmpty()){const x=new Float64Array(36);return x.set([NaN,NaN,NaN,NaN,(e[2]-i)/u,(e[3]-o)/c,NaN,NaN,NaN,NaN,(e[4]-i)/u,(e[5]-o)/c,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(e[16]-i)/u,(e[17]-o)/c,NaN,NaN,NaN,NaN,(e[14]-i)/u,(e[15]-o)/c],0),new A4(x,l,X(this,Cu),X(this,L1),X(this,M1),X(this,O1))}const b=new Float64Array(X(this,Du).length+24+X(this,rh).length);let y=r.length;for(let x=0;x<y;x+=2){if(isNaN(r[x])){b[x]=b[x+1]=NaN;continue}b[x]=r[x],b[x+1]=r[x+1]}b.set([NaN,NaN,NaN,NaN,(s[0]-i)/u,(s[1]-o)/c,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(a[0]-i)/u,(a[1]-o)/c],y),y+=24;for(let x=t.length-6;x>=6;x-=6)for(let v=0;v<6;v+=2){if(isNaN(t[x+v])){b[y]=b[y+1]=NaN,y+=2;continue}b[y]=t[x+v],b[y+1]=t[x+v+1],y+=2}return b.set([NaN,NaN,NaN,NaN,t[4],t[5]],y),new A4(b,l,X(this,Cu),X(this,L1),X(this,M1),X(this,O1))}};Cu=new WeakMap,rh=new WeakMap,M1=new WeakMap,O1=new WeakMap,Du=new WeakMap,vn=new WeakMap,cm=new WeakMap,um=new WeakMap,ev=new WeakMap,tv=new WeakMap,L1=new WeakMap,F1=new WeakMap,pf=new WeakMap,rv=new WeakMap,Uw=new WeakMap,Hw=new WeakMap,nv=new WeakSet,N4=function(){const r=X(this,vn).subarray(4,6),t=X(this,vn).subarray(16,18),[e,s,a,i]=X(this,Cu);return[(X(this,cm)+(r[0]-t[0])/2-e)/a,(X(this,um)+(r[1]-t[1])/2-s)/i,(X(this,cm)+(t[0]-r[0])/2-e)/a,(X(this,um)+(t[1]-r[1])/2-s)/i]},je(Ld,rv,8),je(Ld,Uw,2),je(Ld,Hw,X(Ld,rv)+X(Ld,Uw));let uw=Ld;var B1,dm,nh,sv,cl,av,ha,Lo,Jg,Zg,iC;class A4 extends aC{constructor(t,e,s,a,i,o){super();je(this,Lo);je(this,B1);je(this,dm,null);je(this,nh);je(this,sv);je(this,cl);je(this,av);je(this,ha);Ne(this,ha,t),Ne(this,cl,e),Ne(this,B1,s),Ne(this,av,a),Ne(this,nh,i),Ne(this,sv,o),De(this,Lo,iC).call(this,o);const{x:u,y:c,width:l,height:d}=X(this,dm);for(let p=0,h=t.length;p<h;p+=2)t[p]=(t[p]-u)/l,t[p+1]=(t[p+1]-c)/d;for(let p=0,h=e.length;p<h;p+=2)e[p]=(e[p]-u)/l,e[p+1]=(e[p+1]-c)/d}toSVGPath(){const t=[`M${X(this,ha)[4]} ${X(this,ha)[5]}`];for(let e=6,s=X(this,ha).length;e<s;e+=6){if(isNaN(X(this,ha)[e])){t.push(`L${X(this,ha)[e+4]} ${X(this,ha)[e+5]}`);continue}t.push(`C${X(this,ha)[e]} ${X(this,ha)[e+1]} ${X(this,ha)[e+2]} ${X(this,ha)[e+3]} ${X(this,ha)[e+4]} ${X(this,ha)[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,s,a],i){const o=s-t,u=a-e;let c,l;switch(i){case 0:c=De(this,Lo,Jg).call(this,X(this,ha),t,a,o,-u),l=De(this,Lo,Jg).call(this,X(this,cl),t,a,o,-u);break;case 90:c=De(this,Lo,Zg).call(this,X(this,ha),t,e,o,u),l=De(this,Lo,Zg).call(this,X(this,cl),t,e,o,u);break;case 180:c=De(this,Lo,Jg).call(this,X(this,ha),s,e,-o,u),l=De(this,Lo,Jg).call(this,X(this,cl),s,e,-o,u);break;case 270:c=De(this,Lo,Zg).call(this,X(this,ha),s,a,-o,-u),l=De(this,Lo,Zg).call(this,X(this,cl),s,a,-o,-u);break}return{outline:Array.from(c),points:[Array.from(l)]}}get box(){return X(this,dm)}getNewOutline(t,e){const{x:s,y:a,width:i,height:o}=X(this,dm),[u,c,l,d]=X(this,B1),p=i*l,h=o*d,f=s*l+u,b=a*d+c,y=new uw({x:X(this,cl)[0]*p+f,y:X(this,cl)[1]*h+b},X(this,B1),X(this,av),t,X(this,sv),e??X(this,nh));for(let g=2;g<X(this,cl).length;g+=2)y.add({x:X(this,cl)[g]*p+f,y:X(this,cl)[g+1]*h+b});return y.getOutlines()}}B1=new WeakMap,dm=new WeakMap,nh=new WeakMap,sv=new WeakMap,cl=new WeakMap,av=new WeakMap,ha=new WeakMap,Lo=new WeakSet,Jg=function(t,e,s,a,i){const o=new Float64Array(t.length);for(let u=0,c=t.length;u<c;u+=2)o[u]=e+t[u]*a,o[u+1]=s+t[u+1]*i;return o},Zg=function(t,e,s,a,i){const o=new Float64Array(t.length);for(let u=0,c=t.length;u<c;u+=2)o[u]=e+t[u+1]*a,o[u+1]=s+t[u]*i;return o},iC=function(t){const e=X(this,ha);let s=e[4],a=e[5],i=s,o=a,u=s,c=a,l=s,d=a;const p=t?Math.max:Math.min;for(let g=6,x=e.length;g<x;g+=6){if(isNaN(e[g]))i=Math.min(i,e[g+4]),o=Math.min(o,e[g+5]),u=Math.max(u,e[g+4]),c=Math.max(c,e[g+5]),d<e[g+5]?(l=e[g+4],d=e[g+5]):d===e[g+5]&&(l=p(l,e[g+4]));else{const v=yr.bezierBoundingBox(s,a,...e.slice(g,g+6));i=Math.min(i,v[0]),o=Math.min(o,v[1]),u=Math.max(u,v[2]),c=Math.max(c,v[3]),d<v[3]?(l=v[2],d=v[3]):d===v[3]&&(l=p(l,v[2]))}s=e[g+4],a=e[g+5]}const h=i-X(this,nh),f=o-X(this,nh),b=u-i+2*X(this,nh),y=c-o+2*X(this,nh);Ne(this,dm,{x:h,y:f,width:b,height:y,lastPoint:[l,d]})};var iv,ov,Mc,hm,U1,Pa,lv,H1,cv,uv,Oc,q1,ps,k4,C4,oC,wp,lC,Kh;const Fd=class Fd{constructor({editor:r=null,uiManager:t=null}){je(this,ps);je(this,iv,De(this,ps,oC).bind(this));je(this,ov,De(this,ps,lC).bind(this));je(this,Mc,null);je(this,hm,null);je(this,U1);je(this,Pa,null);je(this,lv,!1);je(this,H1,!1);je(this,cv,null);je(this,uv);je(this,Oc,null);je(this,q1);var e;r?(Ne(this,H1,!1),Ne(this,q1,zr.HIGHLIGHT_COLOR),Ne(this,cv,r)):(Ne(this,H1,!0),Ne(this,q1,zr.HIGHLIGHT_DEFAULT_COLOR)),Ne(this,Oc,(r==null?void 0:r._uiManager)||t),Ne(this,uv,X(this,Oc)._eventBus),Ne(this,U1,(r==null?void 0:r.color)||((e=X(this,Oc))==null?void 0:e.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return jn(this,"_keyboardManager",new Dv([[["Escape","mac+Escape"],Fd.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Fd.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Fd.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Fd.prototype._moveToPrevious],[["Home","mac+Home"],Fd.prototype._moveToBeginning],[["End","mac+End"],Fd.prototype._moveToEnd]]))}renderButton(){const r=Ne(this,Mc,document.createElement("button"));r.className="colorPicker",r.tabIndex="0",r.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),r.setAttribute("aria-haspopup",!0);const t=X(this,Oc)._signal;r.addEventListener("click",De(this,ps,wp).bind(this),{signal:t}),r.addEventListener("keydown",X(this,iv),{signal:t});const e=Ne(this,hm,document.createElement("span"));return e.className="swatch",e.setAttribute("aria-hidden",!0),e.style.backgroundColor=X(this,U1),r.append(e),r}renderMainDropdown(){const r=Ne(this,Pa,De(this,ps,k4).call(this));return r.setAttribute("aria-orientation","horizontal"),r.setAttribute("aria-labelledby","highlightColorPickerLabel"),r}_colorSelectFromKeyboard(r){if(r.target===X(this,Mc)){De(this,ps,wp).call(this,r);return}const t=r.target.getAttribute("data-color");t&&De(this,ps,C4).call(this,t,r)}_moveToNext(r){var t,e;if(!X(this,ps,Kh)){De(this,ps,wp).call(this,r);return}if(r.target===X(this,Mc)){(t=X(this,Pa).firstChild)==null||t.focus();return}(e=r.target.nextSibling)==null||e.focus()}_moveToPrevious(r){var t,e;if(r.target===((t=X(this,Pa))==null?void 0:t.firstChild)||r.target===X(this,Mc)){X(this,ps,Kh)&&this._hideDropdownFromKeyboard();return}X(this,ps,Kh)||De(this,ps,wp).call(this,r),(e=r.target.previousSibling)==null||e.focus()}_moveToBeginning(r){var t;if(!X(this,ps,Kh)){De(this,ps,wp).call(this,r);return}(t=X(this,Pa).firstChild)==null||t.focus()}_moveToEnd(r){var t;if(!X(this,ps,Kh)){De(this,ps,wp).call(this,r);return}(t=X(this,Pa).lastChild)==null||t.focus()}hideDropdown(){var r;(r=X(this,Pa))==null||r.classList.add("hidden"),window.removeEventListener("pointerdown",X(this,ov))}_hideDropdownFromKeyboard(){var r;if(!X(this,H1)){if(!X(this,ps,Kh)){(r=X(this,cv))==null||r.unselect();return}this.hideDropdown(),X(this,Mc).focus({preventScroll:!0,focusVisible:X(this,lv)})}}updateColor(r){if(X(this,hm)&&(X(this,hm).style.backgroundColor=r),!X(this,Pa))return;const t=X(this,Oc).highlightColors.values();for(const e of X(this,Pa).children)e.setAttribute("aria-selected",t.next().value===r)}destroy(){var r,t;(r=X(this,Mc))==null||r.remove(),Ne(this,Mc,null),Ne(this,hm,null),(t=X(this,Pa))==null||t.remove(),Ne(this,Pa,null)}};iv=new WeakMap,ov=new WeakMap,Mc=new WeakMap,hm=new WeakMap,U1=new WeakMap,Pa=new WeakMap,lv=new WeakMap,H1=new WeakMap,cv=new WeakMap,uv=new WeakMap,Oc=new WeakMap,q1=new WeakMap,ps=new WeakSet,k4=function(){const r=document.createElement("div"),t=X(this,Oc)._signal;r.addEventListener("contextmenu",Fo,{signal:t}),r.className="dropdown",r.role="listbox",r.setAttribute("aria-multiselectable",!1),r.setAttribute("aria-orientation","vertical"),r.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[e,s]of X(this,Oc).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",s),a.title=e,a.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${e}`);const i=document.createElement("span");a.append(i),i.className="swatch",i.style.backgroundColor=s,a.setAttribute("aria-selected",s===X(this,U1)),a.addEventListener("click",De(this,ps,C4).bind(this,s),{signal:t}),r.append(a)}return r.addEventListener("keydown",X(this,iv),{signal:t}),r},C4=function(r,t){t.stopPropagation(),X(this,uv).dispatch("switchannotationeditorparams",{source:this,type:X(this,q1),value:r})},oC=function(r){Fd._keyboardManager.exec(this,r)},wp=function(r){if(X(this,ps,Kh)){this.hideDropdown();return}if(Ne(this,lv,r.detail===0),window.addEventListener("pointerdown",X(this,ov),{signal:X(this,Oc)._signal}),X(this,Pa)){X(this,Pa).classList.remove("hidden");return}const t=Ne(this,Pa,De(this,ps,k4).call(this));X(this,Mc).append(t)},lC=function(r){var t;(t=X(this,Pa))!=null&&t.contains(r.target)||this.hideDropdown()},Kh=function(){return X(this,Pa)&&!X(this,Pa).classList.contains("hidden")};let dw=Fd;var W1,dv,mf,fm,z1,Ul,hv,fv,pm,Lc,ao,ul,qw,V1,mm,Ra,$1,Tu,pv,pn,D4,T4,cC,uC,dC,j4,Qg,Vl,U0,hC,jx,eb,fC,pC,mC,gC;const qn=class qn extends ts{constructor(t){super({...t,name:"highlightEditor"});je(this,pn);je(this,W1,null);je(this,dv,0);je(this,mf);je(this,fm,null);je(this,z1,null);je(this,Ul,null);je(this,hv,null);je(this,fv,0);je(this,pm,null);je(this,Lc,null);je(this,ao,null);je(this,ul,!1);je(this,qw,De(this,pn,hC).bind(this));je(this,V1,null);je(this,mm);je(this,Ra,null);je(this,$1,"");je(this,Tu);je(this,pv,"");this.color=t.color||qn._defaultColor,Ne(this,Tu,t.thickness||qn._defaultThickness),Ne(this,mm,t.opacity||qn._defaultOpacity),Ne(this,mf,t.boxes||null),Ne(this,pv,t.methodOfCreation||""),Ne(this,$1,t.text||""),this._isDraggable=!1,t.highlightId>-1?(Ne(this,ul,!0),De(this,pn,T4).call(this,t),De(this,pn,Qg).call(this)):(Ne(this,W1,t.anchorNode),Ne(this,dv,t.anchorOffset),Ne(this,hv,t.focusNode),Ne(this,fv,t.focusOffset),De(this,pn,D4).call(this),De(this,pn,Qg).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=qn.prototype;return jn(this,"_keyboardManager",new Dv([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:X(this,ul)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:X(this,Tu),methodOfCreation:X(this,pv)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,e){var s;ts.initialize(t,e),qn._defaultColor||(qn._defaultColor=((s=e.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(t,e){switch(t){case zr.HIGHLIGHT_DEFAULT_COLOR:qn._defaultColor=e;break;case zr.HIGHLIGHT_THICKNESS:qn._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return X(this,V1)}updateParams(t,e){switch(t){case zr.HIGHLIGHT_COLOR:De(this,pn,cC).call(this,e);break;case zr.HIGHLIGHT_THICKNESS:De(this,pn,uC).call(this,e);break}}static get defaultPropertiesToUpdate(){return[[zr.HIGHLIGHT_DEFAULT_COLOR,qn._defaultColor],[zr.HIGHLIGHT_THICKNESS,qn._defaultThickness]]}get propertiesToUpdate(){return[[zr.HIGHLIGHT_COLOR,this.color||qn._defaultColor],[zr.HIGHLIGHT_THICKNESS,X(this,Tu)||qn._defaultThickness],[zr.HIGHLIGHT_FREE,X(this,ul)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(Ne(this,z1,new dw({editor:this})),t.addColorPicker(X(this,z1))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(De(this,pn,eb).call(this))}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,De(this,pn,eb).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){De(this,pn,j4).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(De(this,pn,Qg).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let e=!1;this.parent&&!t?De(this,pn,j4).call(this):t&&(De(this,pn,Qg).call(this,t),e=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),e&&this.select()}rotate(t){var a,i,o;const{drawLayer:e}=this.parent;let s;X(this,ul)?(t=(t-this.rotation+360)%360,s=De(a=qn,Vl,U0).call(a,X(this,Lc).box,t)):s=De(i=qn,Vl,U0).call(i,this,t),e.rotate(X(this,ao),t),e.rotate(X(this,Ra),t),e.updateBox(X(this,ao),s),e.updateBox(X(this,Ra),De(o=qn,Vl,U0).call(o,X(this,Ul).box,t))}render(){if(this.div)return this.div;const t=super.render();X(this,$1)&&(t.setAttribute("aria-label",X(this,$1)),t.setAttribute("role","mark")),X(this,ul)?t.classList.add("free"):this.div.addEventListener("keydown",X(this,qw),{signal:this._uiManager._signal});const e=Ne(this,pm,document.createElement("div"));t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=X(this,fm);const[s,a]=this.parentDimensions;return this.setDims(this.width*s,this.height*a),iw(this,X(this,pm),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.parent.drawLayer.addClass(X(this,Ra),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(X(this,Ra),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:De(this,pn,jx).call(this,!0);break;case 1:case 3:De(this,pn,jx).call(this,!1);break}}select(){var t,e;super.select(),X(this,Ra)&&((t=this.parent)==null||t.drawLayer.removeClass(X(this,Ra),"hovered"),(e=this.parent)==null||e.drawLayer.addClass(X(this,Ra),"selected"))}unselect(){var t;super.unselect(),X(this,Ra)&&((t=this.parent)==null||t.drawLayer.removeClass(X(this,Ra),"selected"),X(this,ul)||De(this,pn,jx).call(this,!1))}get _mustFixPosition(){return!X(this,ul)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(X(this,ao),t),this.parent.drawLayer.show(X(this,Ra),t))}static startHighlighting(t,e,{target:s,x:a,y:i}){const{x:o,y:u,width:c,height:l}=s.getBoundingClientRect(),d=y=>{De(this,Vl,mC).call(this,t,y)},p=t._signal,h={capture:!0,passive:!1,signal:p},f=y=>{y.preventDefault(),y.stopPropagation()},b=y=>{s.removeEventListener("pointermove",d),window.removeEventListener("blur",b),window.removeEventListener("pointerup",b),window.removeEventListener("pointerdown",f,h),window.removeEventListener("contextmenu",Fo),De(this,Vl,gC).call(this,t,y)};window.addEventListener("blur",b,{signal:p}),window.addEventListener("pointerup",b,{signal:p}),window.addEventListener("pointerdown",f,h),window.addEventListener("contextmenu",Fo,{signal:p}),s.addEventListener("pointermove",d,{signal:p}),this._freeHighlight=new uw({x:a,y:i},[o,u,c,l],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(t,e,s){var b;const a=super.deserialize(t,e,s),{rect:[i,o,u,c],color:l,quadPoints:d}=t;a.color=yr.makeHexColor(...l),Ne(a,mm,t.opacity);const[p,h]=a.pageDimensions;a.width=(u-i)/p,a.height=(c-o)/h;const f=Ne(a,mf,[]);for(let y=0;y<d.length;y+=8)f.push({x:(d[4]-u)/p,y:(c-(1-d[y+5]))/h,width:(d[y+2]-d[y])/p,height:(d[y+5]-d[y+1])/h});return De(b=a,pn,D4).call(b),a}serialize(t=!1){if(this.isEmpty()||t)return null;const e=this.getRect(0,0),s=ts._colorManager.convert(this.color);return{annotationType:wn.HIGHLIGHT,color:s,opacity:X(this,mm),thickness:X(this,Tu),quadPoints:De(this,pn,fC).call(this),outlines:De(this,pn,pC).call(this,e),pageIndex:this.pageIndex,rect:e,rotation:De(this,pn,eb).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};W1=new WeakMap,dv=new WeakMap,mf=new WeakMap,fm=new WeakMap,z1=new WeakMap,Ul=new WeakMap,hv=new WeakMap,fv=new WeakMap,pm=new WeakMap,Lc=new WeakMap,ao=new WeakMap,ul=new WeakMap,qw=new WeakMap,V1=new WeakMap,mm=new WeakMap,Ra=new WeakMap,$1=new WeakMap,Tu=new WeakMap,pv=new WeakMap,pn=new WeakSet,D4=function(){const t=new S4(X(this,mf),.001);Ne(this,Lc,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=X(this,Lc).box;const e=new S4(X(this,mf),.0025,.001,this._uiManager.direction==="ltr");Ne(this,Ul,e.getOutlines());const{lastPoint:s}=X(this,Ul).box;Ne(this,V1,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},T4=function({highlightOutlines:t,highlightId:e,clipPathId:s}){var d,p;if(Ne(this,Lc,t),Ne(this,Ul,t.getNewOutline(X(this,Tu)/2+1.5,.0025)),e>=0)Ne(this,ao,e),Ne(this,fm,s),this.parent.drawLayer.finalizeLine(e,t),Ne(this,Ra,this.parent.drawLayer.highlightOutline(X(this,Ul)));else if(this.parent){const h=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(X(this,ao),t),this.parent.drawLayer.updateBox(X(this,ao),De(d=qn,Vl,U0).call(d,X(this,Lc).box,(h-this.rotation+360)%360)),this.parent.drawLayer.updateLine(X(this,Ra),X(this,Ul)),this.parent.drawLayer.updateBox(X(this,Ra),De(p=qn,Vl,U0).call(p,X(this,Ul).box,h))}const{x:i,y:o,width:u,height:c}=t.box;switch(this.rotation){case 0:this.x=i,this.y=o,this.width=u,this.height=c;break;case 90:{const[h,f]=this.parentDimensions;this.x=o,this.y=1-i,this.width=u*f/h,this.height=c*h/f;break}case 180:this.x=1-i,this.y=1-o,this.width=u,this.height=c;break;case 270:{const[h,f]=this.parentDimensions;this.x=1-o,this.y=i,this.width=u*f/h,this.height=c*h/f;break}}const{lastPoint:l}=X(this,Ul).box;Ne(this,V1,[(l[0]-i)/u,(l[1]-o)/c])},cC=function(t){const e=a=>{var i,o;this.color=a,(i=this.parent)==null||i.drawLayer.changeColor(X(this,ao),a),(o=X(this,z1))==null||o.updateColor(a)},s=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:zr.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},uC=function(t){const e=X(this,Tu),s=a=>{Ne(this,Tu,a),De(this,pn,dC).call(this,a)};this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:zr.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},dC=function(t){if(!X(this,ul))return;De(this,pn,T4).call(this,{highlightOutlines:X(this,Lc).getNewOutline(t/2)}),this.fixAndSetPosition();const[e,s]=this.parentDimensions;this.setDims(this.width*e,this.height*s)},j4=function(){X(this,ao)===null||!this.parent||(this.parent.drawLayer.remove(X(this,ao)),Ne(this,ao,null),this.parent.drawLayer.remove(X(this,Ra)),Ne(this,Ra,null))},Qg=function(t=this.parent){X(this,ao)===null&&({id:tl(this,ao)._,clipPathId:tl(this,fm)._}=t.drawLayer.highlight(X(this,Lc),this.color,X(this,mm)),Ne(this,Ra,t.drawLayer.highlightOutline(X(this,Ul))),X(this,pm)&&(X(this,pm).style.clipPath=X(this,fm)))},Vl=new WeakSet,U0=function({x:t,y:e,width:s,height:a},i){switch(i){case 90:return{x:1-e-a,y:t,width:a,height:s};case 180:return{x:1-t-s,y:1-e-a,width:s,height:a};case 270:return{x:e,y:1-t-s,width:a,height:s}}return{x:t,y:e,width:s,height:a}},hC=function(t){qn._keyboardManager.exec(this,t)},jx=function(t){if(!X(this,W1))return;const e=window.getSelection();t?e.setPosition(X(this,W1),X(this,dv)):e.setPosition(X(this,hv),X(this,fv))},eb=function(){return X(this,ul)?this.rotation:0},fC=function(){if(X(this,ul))return null;const[t,e]=this.pageDimensions,s=X(this,mf),a=new Float32Array(s.length*8);let i=0;for(const{x:o,y:u,width:c,height:l}of s){const d=o*t,p=(1-u-l)*e;a[i]=a[i+4]=d,a[i+1]=a[i+3]=p,a[i+2]=a[i+6]=d+c*t,a[i+5]=a[i+7]=p+l*e,i+=8}return a},pC=function(t){return X(this,Lc).serialize(t,De(this,pn,eb).call(this))},mC=function(t,e){this._freeHighlight.add(e)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},gC=function(t,e){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},je(qn,Vl),Ot(qn,"_defaultColor",null),Ot(qn,"_defaultOpacity",1),Ot(qn,"_defaultThickness",12),Ot(qn,"_l10nPromise"),Ot(qn,"_type","highlight"),Ot(qn,"_editorType",wn.HIGHLIGHT),Ot(qn,"_freeHighlightId",-1),Ot(qn,"_freeHighlight",null),Ot(qn,"_freeHighlightClipId","");let hw=qn;var gm,bm,mv,gv,bv,ym,ju,sh,Hl,vm,xm,ah,wm,_m,gf,ar,bC,yC,vC,xC,P4,wC,R4,_C,SC,EC,NC,AC,_p,M4,Ix,Px,H0,O4,Rx,Nh,kC,L4,CC,DC,F4,Mx,tb;const qs=class qs extends ts{constructor(t){super({...t,name:"inkEditor"});je(this,ar);je(this,gm,0);je(this,bm,0);je(this,mv,this.canvasPointermove.bind(this));je(this,gv,this.canvasPointerleave.bind(this));je(this,bv,this.canvasPointerup.bind(this));je(this,ym,this.canvasPointerdown.bind(this));je(this,ju,null);je(this,sh,new Path2D);je(this,Hl,!1);je(this,vm,!1);je(this,xm,!1);je(this,ah,null);je(this,wm,0);je(this,_m,0);je(this,gf,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,e){ts.initialize(t,e)}static updateDefaultParams(t,e){switch(t){case zr.INK_THICKNESS:qs._defaultThickness=e;break;case zr.INK_COLOR:qs._defaultColor=e;break;case zr.INK_OPACITY:qs._defaultOpacity=e/100;break}}updateParams(t,e){switch(t){case zr.INK_THICKNESS:De(this,ar,bC).call(this,e);break;case zr.INK_COLOR:De(this,ar,yC).call(this,e);break;case zr.INK_OPACITY:De(this,ar,vC).call(this,e);break}}static get defaultPropertiesToUpdate(){return[[zr.INK_THICKNESS,qs._defaultThickness],[zr.INK_COLOR,qs._defaultColor||ts._defaultLineColor],[zr.INK_OPACITY,Math.round(qs._defaultOpacity*100)]]}get propertiesToUpdate(){return[[zr.INK_THICKNESS,this.thickness||qs._defaultThickness],[zr.INK_COLOR,this.color||qs._defaultColor||ts._defaultLineColor],[zr.INK_OPACITY,Math.round(100*(this.opacity??qs._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(De(this,ar,Ix).call(this),De(this,ar,Px).call(this)),this.isAttachedToDOM||(this.parent.add(this),De(this,ar,H0).call(this)),De(this,ar,tb).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,X(this,ju)&&(clearTimeout(X(this,ju)),Ne(this,ju,null)),(t=X(this,ah))==null||t.disconnect(),Ne(this,ah,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,e]=this.parentDimensions,s=this.width*t,a=this.height*e;this.setDimensions(s,a)}enableEditMode(){X(this,Hl)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",X(this,ym),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",X(this,ym)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){X(this,Hl)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Ne(this,Hl,!0),this.div.classList.add("disabled"),De(this,ar,tb).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||X(this,Hl)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),De(this,ar,wC).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),De(this,ar,R4).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),De(this,ar,M4).call(this,t)}canvasPointerleave(t){De(this,ar,M4).call(this,t)}get isResizable(){return!this.isEmpty()&&X(this,Hl)}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[s,a,i,o]=De(this,ar,xC).call(this);if(this.setAt(s,a,0,0),this.setDims(i,o),De(this,ar,Ix).call(this),this.width){const[u,c]=this.parentDimensions;this.setAspectRatio(this.width*u,this.height*c),this.setAt(t*u,e*c,this.width*u,this.height*c),Ne(this,xm,!0),De(this,ar,H0).call(this),this.setDims(this.width*u,this.height*c),De(this,ar,_p).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return De(this,ar,Px).call(this),this.div}setDimensions(t,e){const s=Math.round(t),a=Math.round(e);if(X(this,wm)===s&&X(this,_m)===a)return;Ne(this,wm,s),Ne(this,_m,a),this.canvas.style.visibility="hidden";const[i,o]=this.parentDimensions;this.width=t/i,this.height=e/o,this.fixAndSetPosition(),X(this,Hl)&&De(this,ar,O4).call(this,t,e),De(this,ar,H0).call(this),De(this,ar,_p).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(t,e,s){var y,g,x;if(t instanceof Y9)return null;const a=super.deserialize(t,e,s);a.thickness=t.thickness,a.color=yr.makeHexColor(...t.color),a.opacity=t.opacity;const[i,o]=a.pageDimensions,u=a.width*i,c=a.height*o,l=a.parentScale,d=t.thickness/2;Ne(a,Hl,!0),Ne(a,wm,Math.round(u)),Ne(a,_m,Math.round(c));const{paths:p,rect:h,rotation:f}=t;for(let{bezier:v}of p){v=De(y=qs,Nh,CC).call(y,v,h,f);const w=[];a.paths.push(w);let S=l*(v[0]-d),D=l*(v[1]-d);for(let R=2,P=v.length;R<P;R+=6){const L=l*(v[R]-d),O=l*(v[R+1]-d),H=l*(v[R+2]-d),U=l*(v[R+3]-d),I=l*(v[R+4]-d),F=l*(v[R+5]-d);w.push([[S,D],[L,O],[H,U],[I,F]]),S=I,D=F}const T=De(this,Nh,kC).call(this,w);a.bezierPath2D.push(T)}const b=De(g=a,ar,F4).call(g);return Ne(a,bm,Math.max(ts.MIN_SIZE,b[2]-b[0])),Ne(a,gm,Math.max(ts.MIN_SIZE,b[3]-b[1])),De(x=a,ar,O4).call(x,u,c),a}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),e=ts._colorManager.convert(this.ctx.strokeStyle);return{annotationType:wn.INK,color:e,thickness:this.thickness,opacity:this.opacity,paths:De(this,ar,DC).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};gm=new WeakMap,bm=new WeakMap,mv=new WeakMap,gv=new WeakMap,bv=new WeakMap,ym=new WeakMap,ju=new WeakMap,sh=new WeakMap,Hl=new WeakMap,vm=new WeakMap,xm=new WeakMap,ah=new WeakMap,wm=new WeakMap,_m=new WeakMap,gf=new WeakMap,ar=new WeakSet,bC=function(t){const e=a=>{this.thickness=a,De(this,ar,tb).call(this)},s=this.thickness;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:zr.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},yC=function(t){const e=a=>{this.color=a,De(this,ar,_p).call(this)},s=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:zr.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},vC=function(t){const e=a=>{this.opacity=a,De(this,ar,_p).call(this)};t/=100;const s=this.opacity;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:zr.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},xC=function(){const{parentRotation:t,parentDimensions:[e,s]}=this;switch(t){case 90:return[0,s,s,e];case 180:return[e,s,e,s];case 270:return[e,0,s,e];default:return[0,0,e,s]}},P4=function(){const{ctx:t,color:e,opacity:s,thickness:a,parentScale:i,scaleFactor:o}=this;t.lineWidth=a*i/o,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${e}${x$(s)}`},wC=function(t,e){const s=this._uiManager._signal;this.canvas.addEventListener("contextmenu",Fo,{signal:s}),this.canvas.addEventListener("pointerleave",X(this,gv),{signal:s}),this.canvas.addEventListener("pointermove",X(this,mv),{signal:s}),this.canvas.addEventListener("pointerup",X(this,bv),{signal:s}),this.canvas.removeEventListener("pointerdown",X(this,ym)),this.isEditing=!0,X(this,xm)||(Ne(this,xm,!0),De(this,ar,H0).call(this),this.thickness||(this.thickness=qs._defaultThickness),this.color||(this.color=qs._defaultColor||ts._defaultLineColor),this.opacity??(this.opacity=qs._defaultOpacity)),this.currentPath.push([t,e]),Ne(this,vm,!1),De(this,ar,P4).call(this),Ne(this,gf,()=>{De(this,ar,EC).call(this),X(this,gf)&&window.requestAnimationFrame(X(this,gf))}),window.requestAnimationFrame(X(this,gf))},R4=function(t,e){const[s,a]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===s&&e===a)return;const i=this.currentPath;let o=X(this,sh);if(i.push([t,e]),Ne(this,vm,!0),i.length<=2){o.moveTo(...i[0]),o.lineTo(t,e);return}i.length===3&&(Ne(this,sh,o=new Path2D),o.moveTo(...i[0])),De(this,ar,NC).call(this,o,...i.at(-3),...i.at(-2),t,e)},_C=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);X(this,sh).lineTo(...t)},SC=function(t,e){Ne(this,gf,null),t=Math.min(Math.max(t,0),this.canvas.width),e=Math.min(Math.max(e,0),this.canvas.height),De(this,ar,R4).call(this,t,e),De(this,ar,_C).call(this);let s;if(this.currentPath.length!==1)s=De(this,ar,AC).call(this);else{const c=[t,e];s=[[c,c.slice(),c.slice(),c]]}const a=X(this,sh),i=this.currentPath;this.currentPath=[],Ne(this,sh,new Path2D);const o=()=>{this.allRawPaths.push(i),this.paths.push(s),this.bezierPath2D.push(a),this._uiManager.rebuild(this)},u=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(De(this,ar,Ix).call(this),De(this,ar,Px).call(this)),De(this,ar,tb).call(this))};this.addCommands({cmd:o,undo:u,mustExec:!0})},EC=function(){if(!X(this,vm))return;Ne(this,vm,!1);const t=Math.ceil(this.thickness*this.parentScale),e=this.currentPath.slice(-3),s=e.map(o=>o[0]),a=e.map(o=>o[1]);Math.min(...s)-t,Math.max(...s)+t,Math.min(...a)-t,Math.max(...a)+t;const{ctx:i}=this;i.save(),i.clearRect(0,0,this.canvas.width,this.canvas.height);for(const o of this.bezierPath2D)i.stroke(o);i.stroke(X(this,sh)),i.restore()},NC=function(t,e,s,a,i,o,u){const c=(e+a)/2,l=(s+i)/2,d=(a+o)/2,p=(i+u)/2;t.bezierCurveTo(c+2*(a-c)/3,l+2*(i-l)/3,d+2*(a-d)/3,p+2*(i-p)/3,d,p)},AC=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const e=[];let s,[a,i]=t[0];for(s=1;s<t.length-2;s++){const[h,f]=t[s],[b,y]=t[s+1],g=(h+b)/2,x=(f+y)/2,v=[a+2*(h-a)/3,i+2*(f-i)/3],w=[g+2*(h-g)/3,x+2*(f-x)/3];e.push([[a,i],v,w,[g,x]]),[a,i]=[g,x]}const[o,u]=t[s],[c,l]=t[s+1],d=[a+2*(o-a)/3,i+2*(u-i)/3],p=[c+2*(o-c)/3,l+2*(u-l)/3];return e.push([[a,i],d,p,[c,l]]),e},_p=function(){if(this.isEmpty()){De(this,ar,Rx).call(this);return}De(this,ar,P4).call(this);const{canvas:t,ctx:e}=this;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height),De(this,ar,Rx).call(this);for(const s of this.bezierPath2D)e.stroke(s)},M4=function(t){this.canvas.removeEventListener("pointerleave",X(this,gv)),this.canvas.removeEventListener("pointermove",X(this,mv)),this.canvas.removeEventListener("pointerup",X(this,bv)),this.canvas.addEventListener("pointerdown",X(this,ym),{signal:this._uiManager._signal}),X(this,ju)&&clearTimeout(X(this,ju)),Ne(this,ju,setTimeout(()=>{Ne(this,ju,null),this.canvas.removeEventListener("contextmenu",Fo)},10)),De(this,ar,SC).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Ix=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Px=function(){Ne(this,ah,new ResizeObserver(t=>{const e=t[0].contentRect;e.width&&e.height&&this.setDimensions(e.width,e.height)})),X(this,ah).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=X(this,ah))==null||t.disconnect(),Ne(this,ah,null)},{once:!0})},H0=function(){if(!X(this,xm))return;const[t,e]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*e),De(this,ar,Rx).call(this)},O4=function(t,e){const s=De(this,ar,Mx).call(this),a=(t-s)/X(this,bm),i=(e-s)/X(this,gm);this.scaleFactor=Math.min(a,i)},Rx=function(){const t=De(this,ar,Mx).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},Nh=new WeakSet,kC=function(t){const e=new Path2D;for(let s=0,a=t.length;s<a;s++){const[i,o,u,c]=t[s];s===0&&e.moveTo(...i),e.bezierCurveTo(o[0],o[1],u[0],u[1],c[0],c[1])}return e},L4=function(t,e,s){const[a,i,o,u]=e;switch(s){case 0:for(let c=0,l=t.length;c<l;c+=2)t[c]+=a,t[c+1]=u-t[c+1];break;case 90:for(let c=0,l=t.length;c<l;c+=2){const d=t[c];t[c]=t[c+1]+a,t[c+1]=d+i}break;case 180:for(let c=0,l=t.length;c<l;c+=2)t[c]=o-t[c],t[c+1]+=i;break;case 270:for(let c=0,l=t.length;c<l;c+=2){const d=t[c];t[c]=o-t[c+1],t[c+1]=u-d}break;default:throw new Error("Invalid rotation")}return t},CC=function(t,e,s){const[a,i,o,u]=e;switch(s){case 0:for(let c=0,l=t.length;c<l;c+=2)t[c]-=a,t[c+1]=u-t[c+1];break;case 90:for(let c=0,l=t.length;c<l;c+=2){const d=t[c];t[c]=t[c+1]-i,t[c+1]=d-a}break;case 180:for(let c=0,l=t.length;c<l;c+=2)t[c]=o-t[c],t[c+1]-=i;break;case 270:for(let c=0,l=t.length;c<l;c+=2){const d=t[c];t[c]=u-t[c+1],t[c+1]=o-d}break;default:throw new Error("Invalid rotation")}return t},DC=function(t,e,s,a){var l,d;const i=[],o=this.thickness/2,u=t*e+o,c=t*s+o;for(const p of this.paths){const h=[],f=[];for(let b=0,y=p.length;b<y;b++){const[g,x,v,w]=p[b];if(g[0]===w[0]&&g[1]===w[1]&&y===1){const U=t*g[0]+u,I=t*g[1]+c;h.push(U,I),f.push(U,I);break}const S=t*g[0]+u,D=t*g[1]+c,T=t*x[0]+u,R=t*x[1]+c,P=t*v[0]+u,L=t*v[1]+c,O=t*w[0]+u,H=t*w[1]+c;b===0&&(h.push(S,D),f.push(S,D)),h.push(T,R,P,L,O,H),f.push(T,R),b===y-1&&f.push(O,H)}i.push({bezier:De(l=qs,Nh,L4).call(l,h,a,this.rotation),points:De(d=qs,Nh,L4).call(d,f,a,this.rotation)})}return i},F4=function(){let t=1/0,e=-1/0,s=1/0,a=-1/0;for(const i of this.paths)for(const[o,u,c,l]of i){const d=yr.bezierBoundingBox(...o,...u,...c,...l);t=Math.min(t,d[0]),s=Math.min(s,d[1]),e=Math.max(e,d[2]),a=Math.max(a,d[3])}return[t,s,e,a]},Mx=function(){return X(this,Hl)?Math.ceil(this.thickness*this.parentScale):0},tb=function(t=!1){if(this.isEmpty())return;if(!X(this,Hl)){De(this,ar,_p).call(this);return}const e=De(this,ar,F4).call(this),s=De(this,ar,Mx).call(this);Ne(this,bm,Math.max(ts.MIN_SIZE,e[2]-e[0])),Ne(this,gm,Math.max(ts.MIN_SIZE,e[3]-e[1]));const a=Math.ceil(s+X(this,bm)*this.scaleFactor),i=Math.ceil(s+X(this,gm)*this.scaleFactor),[o,u]=this.parentDimensions;this.width=a/o,this.height=i/u,this.setAspectRatio(a,i);const c=this.translationX,l=this.translationY;this.translationX=-e[0],this.translationY=-e[1],De(this,ar,H0).call(this),De(this,ar,_p).call(this),Ne(this,wm,a),Ne(this,_m,i),this.setDims(a,i);const d=t?s/this.scaleFactor/2:0;this.translate(c-this.translationX-d,l-this.translationY-d)},je(qs,Nh),Ot(qs,"_defaultColor",null),Ot(qs,"_defaultOpacity",1),Ot(qs,"_defaultThickness",1),Ot(qs,"_type","ink"),Ot(qs,"_editorType",wn.INK);let I4=qs;var hi,fi,bf,ih,yf,G1,Iu,oh,Pu,Fc,yv,Ln,rb,nb,Ox,U4,TC,jC,H4,Lx,IC;const Nb=class Nb extends ts{constructor(t){super({...t,name:"stampEditor"});je(this,Ln);je(this,hi,null);je(this,fi,null);je(this,bf,null);je(this,ih,null);je(this,yf,null);je(this,G1,"");je(this,Iu,null);je(this,oh,null);je(this,Pu,null);je(this,Fc,!1);je(this,yv,!1);Ne(this,ih,t.bitmapUrl),Ne(this,yf,t.bitmapFile)}static initialize(t,e){ts.initialize(t,e)}static get supportedTypes(){return jn(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(e=>`image/${e}`))}static get supportedTypesStr(){return jn(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,e){e.pasteEditor(wn.STAMP,{bitmapFile:t.getAsFile()})}remove(){var t,e;X(this,fi)&&(Ne(this,hi,null),this._uiManager.imageManager.deleteId(X(this,fi)),(t=X(this,Iu))==null||t.remove(),Ne(this,Iu,null),(e=X(this,oh))==null||e.disconnect(),Ne(this,oh,null),X(this,Pu)&&(clearTimeout(X(this,Pu)),Ne(this,Pu,null))),super.remove()}rebuild(){if(!this.parent){X(this,fi)&&De(this,Ln,Ox).call(this);return}super.rebuild(),this.div!==null&&(X(this,fi)&&X(this,Iu)===null&&De(this,Ln,Ox).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(X(this,bf)||X(this,hi)||X(this,ih)||X(this,yf)||X(this,fi))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;if(this.width&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),X(this,hi)?De(this,Ln,U4).call(this):De(this,Ln,Ox).call(this),this.width){const[s,a]=this.parentDimensions;this.setAt(t*s,e*a,this.width*s,this.height*a)}return this.div}getImageForAltText(){return X(this,Iu)}static deserialize(t,e,s){if(t instanceof K9)return null;const a=super.deserialize(t,e,s),{rect:i,bitmapUrl:o,bitmapId:u,isSvg:c,accessibilityData:l}=t;u&&s.imageManager.isValidId(u)?Ne(a,fi,u):Ne(a,ih,o),Ne(a,Fc,c);const[d,p]=a.pageDimensions;return a.width=(i[2]-i[0])/d,a.height=(i[3]-i[1])/p,l&&(a.altTextData=l),a}serialize(t=!1,e=null){if(this.isEmpty())return null;const s={annotationType:wn.STAMP,bitmapId:X(this,fi),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:X(this,Fc),structTreeParentId:this._structTreeParentId};if(t)return s.bitmapUrl=De(this,Ln,Lx).call(this,!0),s.accessibilityData=this.altTextData,s;const{decorative:a,altText:i}=this.altTextData;if(!a&&i&&(s.accessibilityData={type:"Figure",alt:i}),e===null)return s;e.stamps||(e.stamps=new Map);const o=X(this,Fc)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!e.stamps.has(X(this,fi)))e.stamps.set(X(this,fi),{area:o,serialized:s}),s.bitmap=De(this,Ln,Lx).call(this,!1);else if(X(this,Fc)){const u=e.stamps.get(X(this,fi));o>u.area&&(u.area=o,u.serialized.bitmap.close(),u.serialized.bitmap=De(this,Ln,Lx).call(this,!1))}return s}};hi=new WeakMap,fi=new WeakMap,bf=new WeakMap,ih=new WeakMap,yf=new WeakMap,G1=new WeakMap,Iu=new WeakMap,oh=new WeakMap,Pu=new WeakMap,Fc=new WeakMap,yv=new WeakMap,Ln=new WeakSet,rb=function(t,e=!1){if(!t){this.remove();return}Ne(this,hi,t.bitmap),e||(Ne(this,fi,t.id),Ne(this,Fc,t.isSvg)),t.file&&Ne(this,G1,t.file.name),De(this,Ln,U4).call(this)},nb=function(){Ne(this,bf,null),this._uiManager.enableWaiting(!1),X(this,Iu)&&this.div.focus()},Ox=function(){if(X(this,fi)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(X(this,fi)).then(s=>De(this,Ln,rb).call(this,s,!0)).finally(()=>De(this,Ln,nb).call(this));return}if(X(this,ih)){const s=X(this,ih);Ne(this,ih,null),this._uiManager.enableWaiting(!0),Ne(this,bf,this._uiManager.imageManager.getFromUrl(s).then(a=>De(this,Ln,rb).call(this,a)).finally(()=>De(this,Ln,nb).call(this)));return}if(X(this,yf)){const s=X(this,yf);Ne(this,yf,null),this._uiManager.enableWaiting(!0),Ne(this,bf,this._uiManager.imageManager.getFromFile(s).then(a=>De(this,Ln,rb).call(this,a)).finally(()=>De(this,Ln,nb).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=Nb.supportedTypesStr;const e=this._uiManager._signal;Ne(this,bf,new Promise(s=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(t.files[0]);De(this,Ln,rb).call(this,a)}s()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),s()},{signal:e})}).finally(()=>De(this,Ln,nb).call(this))),t.click()},U4=function(){const{div:t}=this;let{width:e,height:s}=X(this,hi);const[a,i]=this.pageDimensions,o=.75;if(this.width)e=this.width*a,s=this.height*i;else if(e>o*a||s>o*i){const d=Math.min(o*a/e,o*i/s);e*=d,s*=d}const[u,c]=this.parentDimensions;this.setDims(e*u/a,s*c/i),this._uiManager.enableWaiting(!1);const l=Ne(this,Iu,document.createElement("canvas"));t.append(l),t.hidden=!1,De(this,Ln,H4).call(this,e,s),De(this,Ln,IC).call(this),X(this,yv)||(this.parent.addUndoableEditor(this),Ne(this,yv,!0)),this._reportTelemetry({action:"inserted_image"}),X(this,G1)&&l.setAttribute("aria-label",X(this,G1))},TC=function(t,e){var o;const[s,a]=this.parentDimensions;this.width=t/s,this.height=e/a,this.setDims(t,e),(o=this._initialOptions)!=null&&o.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,X(this,Pu)!==null&&clearTimeout(X(this,Pu)),Ne(this,Pu,setTimeout(()=>{Ne(this,Pu,null),De(this,Ln,H4).call(this,t,e)},200))},jC=function(t,e){const{width:s,height:a}=X(this,hi);let i=s,o=a,u=X(this,hi);for(;i>2*t||o>2*e;){const c=i,l=o;i>2*t&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2)),o>2*e&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const d=new OffscreenCanvas(i,o);d.getContext("2d").drawImage(u,0,0,c,l,0,0,i,o),u=d.transferToImageBitmap()}return u},H4=function(t,e){t=Math.ceil(t),e=Math.ceil(e);const s=X(this,Iu);if(!s||s.width===t&&s.height===e)return;s.width=t,s.height=e;const a=X(this,Fc)?X(this,hi):De(this,Ln,jC).call(this,t,e);if(this._uiManager.hasMLManager&&!this.hasAltText()){const u=new OffscreenCanvas(t,e).getContext("2d");u.drawImage(a,0,0,a.width,a.height,0,0,t,e),this._uiManager.mlGuess({service:"image-to-text",request:{data:u.getImageData(0,0,t,e).data,width:t,height:e,channels:4}}).then(c=>{const l=(c==null?void 0:c.output)||"";this.parent&&l&&!this.hasAltText()&&(this.altTextData={altText:l,decorative:!1})})}const i=s.getContext("2d");i.filter=this._uiManager.hcmFilter,i.drawImage(a,0,0,a.width,a.height,0,0,t,e)},Lx=function(t){if(t){if(X(this,Fc)){const a=this._uiManager.imageManager.getSvgUrl(X(this,fi));if(a)return a}const e=document.createElement("canvas");return{width:e.width,height:e.height}=X(this,hi),e.getContext("2d").drawImage(X(this,hi),0,0),e.toDataURL()}if(X(this,Fc)){const[e,s]=this.pageDimensions,a=Math.round(this.width*e*Bf.PDF_TO_CSS_UNITS),i=Math.round(this.height*s*Bf.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(a,i);return o.getContext("2d").drawImage(X(this,hi),0,0,X(this,hi).width,X(this,hi).height,0,0,a,i),o.transferToImageBitmap()}return structuredClone(X(this,hi))},IC=function(){this._uiManager._signal&&(Ne(this,oh,new ResizeObserver(t=>{const e=t[0].contentRect;e.width&&e.height&&De(this,Ln,TC).call(this,e.width,e.height)})),X(this,oh).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=X(this,oh))==null||t.disconnect(),Ne(this,oh,null)},{once:!0}))},Ot(Nb,"_type","stamp"),Ot(Nb,"_editorType",wn.STAMP);let B4=Nb;var Sm,Y1,Ru,Em,lh,ch,uh,dl,vf,K1,X1,io,Ar,xf,bi,PC,W4,z4,V4,Fx;const Sc=class Sc{constructor({uiManager:r,pageIndex:t,div:e,accessibilityManager:s,annotationLayer:a,drawLayer:i,textLayer:o,viewport:u,l10n:c}){je(this,bi);je(this,Sm);je(this,Y1,!1);je(this,Ru,null);je(this,Em,null);je(this,lh,null);je(this,ch,null);je(this,uh,null);je(this,dl,new Map);je(this,vf,!1);je(this,K1,!1);je(this,X1,!1);je(this,io,null);je(this,Ar);const l=[...X(Sc,xf).values()];if(!Sc._initialized){Sc._initialized=!0;for(const d of l)d.initialize(c,r)}r.registerEditorTypes(l),Ne(this,Ar,r),this.pageIndex=t,this.div=e,Ne(this,Sm,s),Ne(this,Ru,a),this.viewport=u,Ne(this,io,o),this.drawLayer=i,X(this,Ar).addLayer(this)}get isEmpty(){return X(this,dl).size===0}get isInvisible(){return this.isEmpty&&X(this,Ar).getMode()===wn.NONE}updateToolbar(r){X(this,Ar).updateToolbar(r)}updateMode(r=X(this,Ar).getMode()){switch(De(this,bi,Fx).call(this),r){case wn.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case wn.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case wn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const e of X(Sc,xf).values())t.toggle(`${e._type}Editing`,r===e._editorType);this.div.hidden=!1}hasTextLayer(r){var t;return r===((t=X(this,io))==null?void 0:t.div)}addInkEditorIfNeeded(r){if(X(this,Ar).getMode()!==wn.INK)return;if(!r){for(const e of X(this,dl).values())if(e.isEmpty()){e.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(r){X(this,Ar).setEditingState(r)}addCommands(r){X(this,Ar).addCommands(r)}togglePointerEvents(r=!1){this.div.classList.toggle("disabled",!r)}toggleAnnotationLayerPointerEvents(r=!1){var t;(t=X(this,Ru))==null||t.div.classList.toggle("disabled",!r)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const r=new Set;for(const e of X(this,dl).values())e.enableEditing(),e.show(!0),e.annotationElementId&&(X(this,Ar).removeChangedExistingAnnotation(e),r.add(e.annotationElementId));if(!X(this,Ru))return;const t=X(this,Ru).getEditableAnnotations();for(const e of t){if(e.hide(),X(this,Ar).isDeletedAnnotationElement(e.data.id)||r.has(e.data.id))continue;const s=this.deserialize(e);s&&(this.addOrRebuild(s),s.enableEditing())}}disable(){var s;Ne(this,X1,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const r=new Map,t=new Map;for(const a of X(this,dl).values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){r.set(a.annotationElementId,a);continue}else t.set(a.annotationElementId,a);(s=this.getEditableAnnotation(a.annotationElementId))==null||s.show(),a.remove()}if(X(this,Ru)){const a=X(this,Ru).getEditableAnnotations();for(const i of a){const{id:o}=i.data;if(X(this,Ar).isDeletedAnnotationElement(o))continue;let u=t.get(o);if(u){u.resetAnnotationElement(i),u.show(!1),i.show();continue}u=r.get(o),u&&(X(this,Ar).addChangedExistingAnnotation(u),u.renderAnnotationElement(i),u.show(!1)),i.show()}}De(this,bi,Fx).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:e}=this.div;for(const a of X(Sc,xf).values())e.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),Ne(this,X1,!1)}getEditableAnnotation(r){var t;return((t=X(this,Ru))==null?void 0:t.getEditableAnnotation(r))||null}setActiveEditor(r){X(this,Ar).getActive()!==r&&X(this,Ar).setActiveEditor(r)}enableTextSelection(){var r;this.div.tabIndex=-1,(r=X(this,io))!=null&&r.div&&!X(this,ch)&&(Ne(this,ch,De(this,bi,PC).bind(this)),X(this,io).div.addEventListener("pointerdown",X(this,ch),{signal:X(this,Ar)._signal}),X(this,io).div.classList.add("highlighting"))}disableTextSelection(){var r;this.div.tabIndex=0,(r=X(this,io))!=null&&r.div&&X(this,ch)&&(X(this,io).div.removeEventListener("pointerdown",X(this,ch)),Ne(this,ch,null),X(this,io).div.classList.remove("highlighting"))}enableClick(){if(X(this,lh))return;const r=X(this,Ar)._signal;Ne(this,lh,this.pointerdown.bind(this)),Ne(this,Em,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",X(this,lh),{signal:r}),this.div.addEventListener("pointerup",X(this,Em),{signal:r})}disableClick(){X(this,lh)&&(this.div.removeEventListener("pointerdown",X(this,lh)),this.div.removeEventListener("pointerup",X(this,Em)),Ne(this,lh,null),Ne(this,Em,null))}attach(r){X(this,dl).set(r.id,r);const{annotationElementId:t}=r;t&&X(this,Ar).isDeletedAnnotationElement(t)&&X(this,Ar).removeDeletedAnnotationElement(r)}detach(r){var t;X(this,dl).delete(r.id),(t=X(this,Sm))==null||t.removePointerInTextLayer(r.contentDiv),!X(this,X1)&&r.annotationElementId&&X(this,Ar).addDeletedAnnotationElement(r)}remove(r){this.detach(r),X(this,Ar).removeEditor(r),r.div.remove(),r.isAttachedToDOM=!1,X(this,K1)||this.addInkEditorIfNeeded(!1)}changeParent(r){var t;r.parent!==this&&(r.parent&&r.annotationElementId&&(X(this,Ar).addDeletedAnnotationElement(r.annotationElementId),ts.deleteAnnotationElement(r),r.annotationElementId=null),this.attach(r),(t=r.parent)==null||t.detach(r),r.setParent(this),r.div&&r.isAttachedToDOM&&(r.div.remove(),this.div.append(r.div)))}add(r){if(!(r.parent===this&&r.isAttachedToDOM)){if(this.changeParent(r),X(this,Ar).addEditor(r),this.attach(r),!r.isAttachedToDOM){const t=r.render();this.div.append(t),r.isAttachedToDOM=!0}r.fixAndSetPosition(),r.onceAdded(),X(this,Ar).addToAnnotationStorage(r),r._reportTelemetry(r.telemetryInitialData)}}moveEditorInDOM(r){var e;if(!r.isAttachedToDOM)return;const{activeElement:t}=document;r.div.contains(t)&&!X(this,uh)&&(r._focusEventsAllowed=!1,Ne(this,uh,setTimeout(()=>{Ne(this,uh,null),r.div.contains(document.activeElement)?r._focusEventsAllowed=!0:(r.div.addEventListener("focusin",()=>{r._focusEventsAllowed=!0},{once:!0,signal:X(this,Ar)._signal}),t.focus())},0))),r._structTreeParentId=(e=X(this,Sm))==null?void 0:e.moveElementInDOM(this.div,r.div,r.contentDiv,!0)}addOrRebuild(r){r.needsToBeRebuilt()?(r.parent||(r.parent=this),r.rebuild(),r.show()):this.add(r)}addUndoableEditor(r){const t=()=>r._uiManager.rebuild(r),e=()=>{r.remove()};this.addCommands({cmd:t,undo:e,mustExec:!1})}getNextId(){return X(this,Ar).getId()}get _signal(){return X(this,Ar)._signal}canCreateNewEmptyEditor(){var r;return(r=X(this,bi,W4))==null?void 0:r.canCreateNewEmptyEditor()}pasteEditor(r,t){X(this,Ar).updateToolbar(r),X(this,Ar).updateMode(r);const{offsetX:e,offsetY:s}=De(this,bi,V4).call(this),a=this.getNextId(),i=De(this,bi,z4).call(this,{parent:this,id:a,x:e,y:s,uiManager:X(this,Ar),isCentered:!0,...t});i&&this.add(i)}deserialize(r){var t;return((t=X(Sc,xf).get(r.annotationType??r.annotationEditorType))==null?void 0:t.deserialize(r,this,X(this,Ar)))||null}createAndAddNewEditor(r,t,e={}){const s=this.getNextId(),a=De(this,bi,z4).call(this,{parent:this,id:s,x:r.offsetX,y:r.offsetY,uiManager:X(this,Ar),isCentered:t,...e});return a&&this.add(a),a}addNewEditor(){this.createAndAddNewEditor(De(this,bi,V4).call(this),!0)}setSelected(r){X(this,Ar).setSelected(r)}toggleSelected(r){X(this,Ar).toggleSelected(r)}isSelected(r){return X(this,Ar).isSelected(r)}unselect(r){X(this,Ar).unselect(r)}pointerup(r){const{isMac:t}=Oo.platform;if(!(r.button!==0||r.ctrlKey&&t)&&r.target===this.div&&X(this,vf)){if(Ne(this,vf,!1),!X(this,Y1)){Ne(this,Y1,!0);return}if(X(this,Ar).getMode()===wn.STAMP){X(this,Ar).unselectAll();return}this.createAndAddNewEditor(r,!1)}}pointerdown(r){if(X(this,Ar).getMode()===wn.HIGHLIGHT&&this.enableTextSelection(),X(this,vf)){Ne(this,vf,!1);return}const{isMac:t}=Oo.platform;if(r.button!==0||r.ctrlKey&&t||r.target!==this.div)return;Ne(this,vf,!0);const e=X(this,Ar).getActive();Ne(this,Y1,!e||e.isEmpty())}findNewParent(r,t,e){const s=X(this,Ar).findParent(t,e);return s===null||s===this?!1:(s.changeParent(r),!0)}destroy(){var r,t;((r=X(this,Ar).getActive())==null?void 0:r.parent)===this&&(X(this,Ar).commitOrRemove(),X(this,Ar).setActiveEditor(null)),X(this,uh)&&(clearTimeout(X(this,uh)),Ne(this,uh,null));for(const e of X(this,dl).values())(t=X(this,Sm))==null||t.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,X(this,dl).clear(),X(this,Ar).removeLayer(this)}render({viewport:r}){this.viewport=r,Lm(this.div,r);for(const t of X(this,Ar).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:r}){X(this,Ar).commitOrRemove(),De(this,bi,Fx).call(this);const t=this.viewport.rotation,e=r.rotation;if(this.viewport=r,Lm(this.div,{rotation:e}),t!==e)for(const s of X(this,dl).values())s.rotate(e);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:r,pageHeight:t}=this.viewport.rawDims;return[r,t]}get scale(){return X(this,Ar).viewParameters.realScale}};Sm=new WeakMap,Y1=new WeakMap,Ru=new WeakMap,Em=new WeakMap,lh=new WeakMap,ch=new WeakMap,uh=new WeakMap,dl=new WeakMap,vf=new WeakMap,K1=new WeakMap,X1=new WeakMap,io=new WeakMap,Ar=new WeakMap,xf=new WeakMap,bi=new WeakSet,PC=function(r){if(X(this,Ar).unselectAll(),r.target===X(this,io).div){const{isMac:t}=Oo.platform;if(r.button!==0||r.ctrlKey&&t)return;X(this,Ar).showAllEditors("highlight",!0,!0),X(this,io).div.classList.add("free"),hw.startHighlighting(this,X(this,Ar).direction==="ltr",r),X(this,io).div.addEventListener("pointerup",()=>{X(this,io).div.classList.remove("free")},{once:!0,signal:X(this,Ar)._signal}),r.preventDefault()}},W4=function(){return X(Sc,xf).get(X(this,Ar).getMode())},z4=function(r){const t=X(this,bi,W4);return t?new t.prototype.constructor(r):null},V4=function(){const{x:r,y:t,width:e,height:s}=this.div.getBoundingClientRect(),a=Math.max(0,r),i=Math.max(0,t),o=Math.min(window.innerWidth,r+e),u=Math.min(window.innerHeight,t+s),c=(a+o)/2-r,l=(i+u)/2-t,[d,p]=this.viewport.rotation%180===0?[c,l]:[l,c];return{offsetX:d,offsetY:p}},Fx=function(){Ne(this,K1,!0);for(const r of X(this,dl).values())r.isEmpty()&&r.remove();Ne(this,K1,!1)},Ot(Sc,"_initialized",!1),je(Sc,xf,new Map([w4,I4,B4,hw].map(r=>[r._editorType,r])));let q4=Sc;var Mu,vv,Ma,wf,xv,G4,Vm,Y4,RC;const oi=class oi{constructor({pageIndex:r}){je(this,Vm);je(this,Mu,null);je(this,vv,0);je(this,Ma,new Map);je(this,wf,new Map);this.pageIndex=r}setParent(r){if(!X(this,Mu)){Ne(this,Mu,r);return}if(X(this,Mu)!==r){if(X(this,Ma).size>0)for(const t of X(this,Ma).values())t.remove(),r.append(t);Ne(this,Mu,r)}}static get _svgFactory(){return jn(this,"_svgFactory",new B8)}highlight(r,t,e,s=!1){const a=tl(this,vv)._++,i=De(this,Vm,Y4).call(this,r.box);i.classList.add("highlight"),r.free&&i.classList.add("free");const o=oi._svgFactory.createElement("defs");i.append(o);const u=oi._svgFactory.createElement("path");o.append(u);const c=`path_p${this.pageIndex}_${a}`;u.setAttribute("id",c),u.setAttribute("d",r.toSVGPath()),s&&X(this,wf).set(a,u);const l=De(this,Vm,RC).call(this,o,c),d=oi._svgFactory.createElement("use");return i.append(d),i.setAttribute("fill",t),i.setAttribute("fill-opacity",e),d.setAttribute("href",`#${c}`),X(this,Ma).set(a,i),{id:a,clipPathId:`url(#${l})`}}highlightOutline(r){const t=tl(this,vv)._++,e=De(this,Vm,Y4).call(this,r.box);e.classList.add("highlightOutline");const s=oi._svgFactory.createElement("defs");e.append(s);const a=oi._svgFactory.createElement("path");s.append(a);const i=`path_p${this.pageIndex}_${t}`;a.setAttribute("id",i),a.setAttribute("d",r.toSVGPath()),a.setAttribute("vector-effect","non-scaling-stroke");let o;if(r.free){e.classList.add("free");const l=oi._svgFactory.createElement("mask");s.append(l),o=`mask_p${this.pageIndex}_${t}`,l.setAttribute("id",o),l.setAttribute("maskUnits","objectBoundingBox");const d=oi._svgFactory.createElement("rect");l.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const p=oi._svgFactory.createElement("use");l.append(p),p.setAttribute("href",`#${i}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const u=oi._svgFactory.createElement("use");e.append(u),u.setAttribute("href",`#${i}`),o&&u.setAttribute("mask",`url(#${o})`);const c=u.cloneNode();return e.append(c),u.classList.add("mainOutline"),c.classList.add("secondaryOutline"),X(this,Ma).set(t,e),t}finalizeLine(r,t){const e=X(this,wf).get(r);X(this,wf).delete(r),this.updateBox(r,t.box),e.setAttribute("d",t.toSVGPath())}updateLine(r,t){X(this,Ma).get(r).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(r){this.remove(r),X(this,wf).delete(r)}updatePath(r,t){X(this,wf).get(r).setAttribute("d",t.toSVGPath())}updateBox(r,t){var e;De(e=oi,xv,G4).call(e,X(this,Ma).get(r),t)}show(r,t){X(this,Ma).get(r).classList.toggle("hidden",!t)}rotate(r,t){X(this,Ma).get(r).setAttribute("data-main-rotation",t)}changeColor(r,t){X(this,Ma).get(r).setAttribute("fill",t)}changeOpacity(r,t){X(this,Ma).get(r).setAttribute("fill-opacity",t)}addClass(r,t){X(this,Ma).get(r).classList.add(t)}removeClass(r,t){X(this,Ma).get(r).classList.remove(t)}remove(r){X(this,Mu)!==null&&(X(this,Ma).get(r).remove(),X(this,Ma).delete(r))}destroy(){Ne(this,Mu,null);for(const r of X(this,Ma).values())r.remove();X(this,Ma).clear()}};Mu=new WeakMap,vv=new WeakMap,Ma=new WeakMap,wf=new WeakMap,xv=new WeakSet,G4=function(r,{x:t=0,y:e=0,width:s=1,height:a=1}={}){const{style:i}=r;i.top=`${100*e}%`,i.left=`${100*t}%`,i.width=`${100*s}%`,i.height=`${100*a}%`},Vm=new WeakSet,Y4=function(r){var e;const t=oi._svgFactory.create(1,1,!0);return X(this,Mu).append(t),t.setAttribute("aria-hidden",!0),De(e=oi,xv,G4).call(e,t,r),t},RC=function(r,t){const e=oi._svgFactory.createElement("clipPath");r.append(e);const s=`clip_${t}`;e.setAttribute("id",s),e.setAttribute("clipPathUnits","objectBoundingBox");const a=oi._svgFactory.createElement("use");return e.append(a),a.setAttribute("href",`#${t}`),a.classList.add("clip"),s},je(oi,xv);let $4=oi;var JG=qr.AbortException,ZG=qr.AnnotationEditorLayer,QG=qr.AnnotationEditorParamsType,eY=qr.AnnotationEditorType,tY=qr.AnnotationEditorUIManager,MC=qr.AnnotationLayer,OC=qr.AnnotationMode,rY=qr.CMapCompressionType,nY=qr.ColorPicker,sY=qr.DOMSVGFactory,aY=qr.DrawLayer,iY=qr.FeatureTest,LC=qr.GlobalWorkerOptions,oY=qr.ImageKind,lY=qr.InvalidPDFException,cY=qr.MissingPDFException,uY=qr.OPS,dY=qr.Outliner,hY=qr.PDFDataRangeTransport,fY=qr.PDFDateString,pY=qr.PDFWorker,mY=qr.PasswordResponses,gY=qr.PermissionFlag,bY=qr.PixelsPerInch,yY=qr.RenderingCancelledException,FC=qr.TextLayer,vY=qr.UnexpectedResponseException,xY=qr.Util,wY=qr.VerbosityLevel,_Y=qr.XfaLayer,SY=qr.build,EY=qr.createValidAbsoluteUrl,NY=qr.fetchData,BC=qr.getDocument,AY=qr.getFilenameFromUrl,kY=qr.getPdfFilenameFromUrl,CY=qr.getXfaPageViewport,DY=qr.isDataScheme,TY=qr.isPdfFile,jY=qr.noContextMenu,IY=qr.normalizeUnicode,PY=qr.renderTextLayer,RY=qr.setLayerDimensions,MY=qr.shadow,OY=qr.updateTextLayer,LY=qr.version;const FY=Object.freeze(Object.defineProperty({__proto__:null,AbortException:JG,AnnotationEditorLayer:ZG,AnnotationEditorParamsType:QG,AnnotationEditorType:eY,AnnotationEditorUIManager:tY,AnnotationLayer:MC,AnnotationMode:OC,CMapCompressionType:rY,ColorPicker:nY,DOMSVGFactory:sY,DrawLayer:aY,FeatureTest:iY,GlobalWorkerOptions:LC,ImageKind:oY,InvalidPDFException:lY,MissingPDFException:cY,OPS:uY,Outliner:dY,PDFDataRangeTransport:hY,PDFDateString:fY,PDFWorker:pY,PasswordResponses:mY,PermissionFlag:gY,PixelsPerInch:bY,RenderingCancelledException:yY,TextLayer:FC,UnexpectedResponseException:vY,Util:xY,VerbosityLevel:wY,XfaLayer:_Y,build:SY,createValidAbsoluteUrl:EY,fetchData:NY,getDocument:BC,getFilenameFromUrl:AY,getPdfFilenameFromUrl:kY,getXfaPageViewport:CY,isDataScheme:DY,isPdfFile:TY,noContextMenu:jY,normalizeUnicode:IY,renderTextLayer:PY,setLayerDimensions:RY,shadow:MY,updateTextLayer:OY,version:LY},Symbol.toStringTag,{value:"Module"}));var Xa=function(n,r,t){if(t||arguments.length===2)for(var e=0,s=r.length,a;e<s;e++)(a||!(e in r))&&(a||(a=Array.prototype.slice.call(r,0,e)),a[e]=r[e]);return n.concat(a||Array.prototype.slice.call(r))},BY=["onCopy","onCut","onPaste"],UY=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],HY=["onFocus","onBlur"],qY=["onInput","onInvalid","onReset","onSubmit"],WY=["onLoad","onError"],zY=["onKeyDown","onKeyPress","onKeyUp"],VY=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],$Y=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],GY=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],YY=["onSelect"],KY=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],XY=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],JY=["onScroll"],ZY=["onWheel"],QY=["onAnimationStart","onAnimationEnd","onAnimationIteration"],eK=["onTransitionEnd"],tK=["onToggle"],rK=["onChange"],nK=Xa(Xa(Xa(Xa(Xa(Xa(Xa(Xa(Xa(Xa(Xa(Xa(Xa(Xa(Xa(Xa(Xa(Xa([],BY,!0),UY,!0),HY,!0),qY,!0),WY,!0),zY,!0),VY,!0),$Y,!0),GY,!0),YY,!0),KY,!0),XY,!0),JY,!0),ZY,!0),QY,!0),eK,!0),rK,!0),tK,!0);function UC(n,r){var t={};return nK.forEach(function(e){var s=n[e];s&&(r?t[e]=function(a){return s(a,r(e))}:t[e]=s)}),t}function Iv(n){var r=!1,t=new Promise(function(e,s){n.then(function(a){return!r&&e(a)}).catch(function(a){return!r&&s(a)})});return{promise:t,cancel:function(){r=!0}}}var sK="Invariant failed";function fs(n,r){if(!n)throw new Error(sK)}var aK=function(){},iK=aK;const qi=QN(iK);var g7=Object.prototype.hasOwnProperty;function b7(n,r,t){for(t of n.keys())if(J0(t,r))return t}function J0(n,r){var t,e,s;if(n===r)return!0;if(n&&r&&(t=n.constructor)===r.constructor){if(t===Date)return n.getTime()===r.getTime();if(t===RegExp)return n.toString()===r.toString();if(t===Array){if((e=n.length)===r.length)for(;e--&&J0(n[e],r[e]););return e===-1}if(t===Set){if(n.size!==r.size)return!1;for(e of n)if(s=e,s&&typeof s=="object"&&(s=b7(r,s),!s)||!r.has(s))return!1;return!0}if(t===Map){if(n.size!==r.size)return!1;for(e of n)if(s=e[0],s&&typeof s=="object"&&(s=b7(r,s),!s)||!J0(e[1],r.get(s)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),r=new Uint8Array(r);else if(t===DataView){if((e=n.byteLength)===r.byteLength)for(;e--&&n.getInt8(e)===r.getInt8(e););return e===-1}if(ArrayBuffer.isView(n)){if((e=n.byteLength)===r.byteLength)for(;e--&&n[e]===r[e];);return e===-1}if(!t||typeof n=="object"){e=0;for(t in n)if(g7.call(n,t)&&++e&&!g7.call(r,t)||!(t in r)||!J0(n[t],r[t]))return!1;return Object.keys(r).length===e}}return n!==n&&r!==r}const HC=ne.createContext(null);function Z0({children:n,type:r}){return m.jsx("div",{className:`react-pdf__message react-pdf__message--${r}`,children:n})}const oK="noopener noreferrer nofollow";class lK{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(r){this.pdfDocument=r}setViewer(r){this.pdfViewer=r}setExternalLinkRel(r){this.externalLinkRel=r}setExternalLinkTarget(r){this.externalLinkTarget=r}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return fs(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(r){fs(this.pdfViewer),this.pdfViewer.currentPageNumber=r}get rotation(){return 0}set rotation(r){}goToDestination(r){return new Promise(t=>{fs(this.pdfDocument),fs(r),typeof r=="string"?this.pdfDocument.getDestination(r).then(t):Array.isArray(r)?t(r):r.then(t)}).then(t=>{fs(Array.isArray(t));const e=t[0];new Promise(s=>{fs(this.pdfDocument),e instanceof Object?this.pdfDocument.getPageIndex(e).then(a=>{s(a)}).catch(()=>{fs(!1)}):typeof e=="number"?s(e):fs(!1)}).then(s=>{const a=s+1;fs(this.pdfViewer),fs(a>=1&&a<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:s,pageNumber:a})})})}navigateTo(r){this.goToDestination(r)}goToPage(r){const t=r-1;fs(this.pdfViewer),fs(r>=1&&r<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:r})}addLinkAttributes(r,t,e){r.href=t,r.rel=this.externalLinkRel||oK,r.target=e?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const y7={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},y5=typeof window<"u",qC=y5&&window.location.protocol==="file:";function cK(n){return typeof n<"u"}function gp(n){return cK(n)&&n!==null}function uK(n){return typeof n=="string"}function dK(n){return n instanceof ArrayBuffer}function hK(n){return fs(y5),n instanceof Blob}function K4(n){return uK(n)&&/^data:/.test(n)}function v7(n){fs(K4(n));const[r="",t=""]=n.split(",");return r.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function fK(){return y5&&window.devicePixelRatio||1}const WC="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function x7(){qi(!qC,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${WC}`)}function pK(){qi(!qC,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${WC}`)}function Um(n){n!=null&&n.cancel&&n.cancel()}function X4(n,r){return Object.defineProperty(n,"width",{get(){return this.view[2]*r},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*r},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function mK(n){return n.name==="RenderingCancelledException"}function gK(n){return new Promise((r,t)=>{const e=new FileReader;e.onload=()=>{if(!e.result)return t(new Error("Error while reading a file."));r(e.result)},e.onerror=s=>{if(!s.target)return t(new Error("Error while reading a file."));const{error:a}=s.target;if(!a)return t(new Error("Error while reading a file."));switch(a.code){case a.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case a.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case a.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},e.readAsArrayBuffer(n)})}function bK(n,r){switch(r.type){case"RESOLVE":return{value:r.value,error:void 0};case"REJECT":return{value:!1,error:r.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function ag(){return ne.useReducer(bK,{value:void 0,error:void 0})}var yK=function(n,r,t,e){function s(a){return a instanceof t?a:new t(function(i){i(a)})}return new(t||(t=Promise))(function(a,i){function o(l){try{c(e.next(l))}catch(d){i(d)}}function u(l){try{c(e.throw(l))}catch(d){i(d)}}function c(l){l.done?a(l.value):s(l.value).then(o,u)}c((e=e.apply(n,r||[])).next())})},w7=function(n,r){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&r.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,e=Object.getOwnPropertySymbols(n);s<e.length;s++)r.indexOf(e[s])<0&&Object.prototype.propertyIsEnumerable.call(n,e[s])&&(t[e[s]]=n[e[s]]);return t};const{PDFDataRangeTransport:vK}=FY,xK=(n,r)=>{switch(r){case y7.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case y7.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function _7(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const v5=ne.forwardRef(function(r,t){var{children:e,className:s,error:a="Failed to load PDF file.",externalLinkRel:i,externalLinkTarget:o,file:u,inputRef:c,imageResourcesPath:l,loading:d="Loading PDF",noData:p="No PDF file specified.",onItemClick:h,onLoadError:f,onLoadProgress:b,onLoadSuccess:y,onPassword:g=xK,onSourceError:x,onSourceSuccess:v,options:w,renderMode:S,rotate:D}=r,T=w7(r,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[R,P]=ag(),{value:L,error:O}=R,[H,U]=ag(),{value:I,error:F}=H,A=ne.useRef(new lK),_=ne.useRef([]),E=ne.useRef(void 0),N=ne.useRef(void 0);u&&u!==E.current&&_7(u)&&(qi(!J0(u,E.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),E.current=u),w&&w!==N.current&&(qi(!J0(w,N.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),N.current=w);const k=ne.useRef({scrollPageIntoView:le=>{const{dest:ue,pageNumber:ce,pageIndex:ie=ce-1}=le;if(h){h({dest:ue,pageIndex:ie,pageNumber:ce});return}const ye=_.current[ie];if(ye){ye.scrollIntoView();return}qi(!1,`An internal link leading to page ${ce} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});ne.useImperativeHandle(t,()=>({linkService:A,pages:_,viewer:k}),[]);function B(){v&&v()}function j(){O&&(qi(!1,O.toString()),x&&x(O))}function M(){P({type:"RESET"})}ne.useEffect(M,[u,P]);const G=ne.useCallback(()=>yK(this,void 0,void 0,function*(){if(!u)return null;if(typeof u=="string")return K4(u)?{data:v7(u)}:(x7(),{url:u});if(u instanceof vK)return{range:u};if(dK(u))return{data:u};if(y5&&hK(u))return{data:yield gK(u)};if(fs(typeof u=="object"),fs(_7(u)),"url"in u&&typeof u.url=="string"){if(K4(u.url)){const{url:le}=u,ue=w7(u,["url"]),ce=v7(le);return Object.assign({data:ce},ue)}x7()}return u}),[u]);ne.useEffect(()=>{const le=Iv(G());return le.promise.then(ue=>{P({type:"RESOLVE",value:ue})}).catch(ue=>{P({type:"REJECT",error:ue})}),()=>{Um(le)}},[G,P]),ne.useEffect(()=>{if(!(typeof L>"u")){if(L===!1){j();return}B()}},[L]);function Y(){I&&(y&&y(I),_.current=new Array(I.numPages),A.current.setDocument(I))}function J(){F&&(qi(!1,F.toString()),f&&f(F))}ne.useEffect(function(){U({type:"RESET"})},[U,L]),ne.useEffect(function(){if(!L)return;const ue=w?Object.assign(Object.assign({},L),w):L,ce=BC(ue);b&&(ce.onProgress=b),g&&(ce.onPassword=g);const ie=ce,ye=ie.promise.then(he=>{U({type:"RESOLVE",value:he})}).catch(he=>{ie.destroyed||U({type:"REJECT",error:he})});return()=>{ye.finally(()=>ie.destroy())}},[w,U,L]),ne.useEffect(()=>{if(!(typeof I>"u")){if(I===!1){J();return}Y()}},[I]),ne.useEffect(function(){A.current.setViewer(k.current),A.current.setExternalLinkRel(i),A.current.setExternalLinkTarget(o)},[i,o]);const V=ne.useCallback((le,ue)=>{_.current[le]=ue},[]),Q=ne.useCallback(le=>{delete _.current[le]},[]),q=ne.useMemo(()=>({imageResourcesPath:l,linkService:A.current,onItemClick:h,pdf:I,registerPage:V,renderMode:S,rotate:D,unregisterPage:Q}),[l,h,I,V,S,D,Q]),z=ne.useMemo(()=>UC(T,()=>I),[T,I]);function Z(){return m.jsx(HC.Provider,{value:q,children:e})}function re(){return u?I==null?m.jsx(Z0,{type:"loading",children:typeof d=="function"?d():d}):I===!1?m.jsx(Z0,{type:"error",children:typeof a=="function"?a():a}):Z():m.jsx(Z0,{type:"no-data",children:typeof p=="function"?p():p})}return m.jsx("div",Object.assign({className:ea("react-pdf__Document",s),ref:c,style:{"--scale-factor":"1"}},z,{children:re()}))});function zC(){return ne.useContext(HC)}function VC(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var t=n.filter(Boolean);if(t.length<=1){var e=t[0];return e||null}return function(a){t.forEach(function(i){typeof i=="function"?i(a):i&&(i.current=a)})}}const $C=ne.createContext(null),GC={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},wK=/^H(\d+)$/;function _K(n){return n in GC}function x5(n){return"children"in n}function YC(n){return x5(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function SK(n){const r={};if(x5(n)){const{role:t}=n,e=t.match(wK);if(e)r.role="heading",r["aria-level"]=Number(e[1]);else if(_K(t)){const s=GC[t];s&&(r.role=s)}}return r}function KC(n){const r={};if(x5(n)){if(n.alt!==void 0&&(r["aria-label"]=n.alt),n.lang!==void 0&&(r.lang=n.lang),YC(n)){const[t]=n.children;if(t){const e=KC(t);return Object.assign(Object.assign({},r),e)}}}else"id"in n&&(r["aria-owns"]=n.id);return r}function EK(n){return n?Object.assign(Object.assign({},SK(n)),KC(n)):null}function XC({className:n,node:r}){const t=ne.useMemo(()=>EK(r),[r]),e=ne.useMemo(()=>!x5(r)||YC(r)?null:r.children.map((s,a)=>m.jsx(XC,{node:s},a)),[r]);return m.jsx("span",Object.assign({className:n},t,{children:e}))}function w5(){return ne.useContext($C)}function NK(){const n=w5();fs(n);const{onGetStructTreeError:r,onGetStructTreeSuccess:t}=n,[e,s]=ag(),{value:a,error:i}=e,{customTextRenderer:o,page:u}=n;function c(){a&&t&&t(a)}function l(){i&&(qi(!1,i.toString()),r&&r(i))}return ne.useEffect(function(){s({type:"RESET"})},[s,u]),ne.useEffect(function(){if(o||!u)return;const p=Iv(u.getStructTree()),h=p;return p.promise.then(f=>{s({type:"RESOLVE",value:f})}).catch(f=>{s({type:"REJECT",error:f})}),()=>Um(h)},[o,u,s]),ne.useEffect(()=>{if(a!==void 0){if(a===!1){l();return}c()}},[a]),a?m.jsx(XC,{className:"react-pdf__Page__structTree structTree",node:a}):null}const S7=OC;function AK(n){const r=w5();fs(r);const t=Object.assign(Object.assign({},r),n),{_className:e,canvasBackground:s,devicePixelRatio:a=fK(),onRenderError:i,onRenderSuccess:o,page:u,renderForms:c,renderTextLayer:l,rotate:d,scale:p}=t,{canvasRef:h}=n;fs(u);const f=ne.useRef(null);function b(){u&&o&&o(X4(u,p))}function y(w){mK(w)||(qi(!1,w.toString()),i&&i(w))}const g=ne.useMemo(()=>u.getViewport({scale:p*a,rotation:d}),[a,u,d,p]),x=ne.useMemo(()=>u.getViewport({scale:p,rotation:d}),[u,d,p]);ne.useEffect(function(){if(!u)return;u.cleanup();const{current:S}=f;if(!S)return;S.width=g.width,S.height=g.height,S.style.width=`${Math.floor(x.width)}px`,S.style.height=`${Math.floor(x.height)}px`,S.style.visibility="hidden";const D={annotationMode:c?S7.ENABLE_FORMS:S7.ENABLE,canvasContext:S.getContext("2d",{alpha:!1}),viewport:g};s&&(D.background=s);const T=u.render(D),R=T;return T.promise.then(()=>{S.style.visibility="",b()}).catch(y),()=>Um(R)},[s,u,c,g,x]);const v=ne.useCallback(()=>{const{current:w}=f;w&&(w.width=0,w.height=0)},[]);return ne.useEffect(()=>v,[v]),m.jsx("canvas",{className:`${e}__canvas`,dir:"ltr",ref:VC(h,f),style:{display:"block",userSelect:"none"},children:l?m.jsx(NK,{}):null})}function kK(n){return"str"in n}function CK(){const n=w5();fs(n);const{customTextRenderer:r,onGetTextError:t,onGetTextSuccess:e,onRenderTextLayerError:s,onRenderTextLayerSuccess:a,page:i,pageIndex:o,pageNumber:u,rotate:c,scale:l}=n;fs(i);const[d,p]=ag(),{value:h,error:f}=d,b=ne.useRef(null),y=ne.useRef(void 0);qi(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function g(){h&&e&&e(h)}function x(){f&&(qi(!1,f.toString()),t&&t(f))}ne.useEffect(function(){p({type:"RESET"})},[i,p]),ne.useEffect(function(){if(!i)return;const P=Iv(i.getTextContent()),L=P;return P.promise.then(O=>{p({type:"RESOLVE",value:O})}).catch(O=>{p({type:"REJECT",error:O})}),()=>Um(L)},[i,p]),ne.useEffect(()=>{if(h!==void 0){if(h===!1){x();return}g()}},[h]);const v=ne.useCallback(()=>{a&&a()},[a]),w=ne.useCallback(R=>{qi(!1,R.toString()),s&&s(R)},[s]);function S(){const R=y.current;R&&R.classList.add("active")}function D(){const R=y.current;R&&R.classList.remove("active")}const T=ne.useMemo(()=>i.getViewport({scale:l,rotation:c}),[i,c,l]);return ne.useLayoutEffect(function(){if(!i||!h)return;const{current:P}=b;if(!P)return;P.innerHTML="";const L=i.streamTextContent({includeMarkedContent:!0}),O={container:P,textContentSource:L,viewport:T},H=new FC(O),U=H;return H.render().then(()=>{const I=document.createElement("div");I.className="endOfContent",P.append(I),y.current=I;const F=P.querySelectorAll('[role="presentation"]');if(r){let A=0;h.items.forEach((_,E)=>{if(!kK(_))return;const N=F[A];if(!N)return;const k=r(Object.assign({pageIndex:o,pageNumber:u,itemIndex:E},_));N.innerHTML=k,A+=_.str&&_.hasEOL?2:1})}v()}).catch(w),()=>Um(U)},[r,w,v,i,o,u,h,T]),m.jsx("div",{className:ea("react-pdf__Page__textContent","textLayer"),onMouseUp:D,onMouseDown:S,ref:b})}function DK(){const n=zC(),r=w5();fs(r);const t=Object.assign(Object.assign({},n),r),{imageResourcesPath:e,linkService:s,onGetAnnotationsError:a,onGetAnnotationsSuccess:i,onRenderAnnotationLayerError:o,onRenderAnnotationLayerSuccess:u,page:c,pdf:l,renderForms:d,rotate:p,scale:h=1}=t;fs(l),fs(c),fs(s);const[f,b]=ag(),{value:y,error:g}=f,x=ne.useRef(null);qi(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function v(){y&&i&&i(y)}function w(){g&&(qi(!1,g.toString()),a&&a(g))}ne.useEffect(function(){b({type:"RESET"})},[b,c]),ne.useEffect(function(){if(!c)return;const P=Iv(c.getAnnotations()),L=P;return P.promise.then(O=>{b({type:"RESOLVE",value:O})}).catch(O=>{b({type:"REJECT",error:O})}),()=>{Um(L)}},[b,c]),ne.useEffect(()=>{if(y!==void 0){if(y===!1){w();return}v()}},[y]);function S(){u&&u()}function D(R){qi(!1,`${R}`),o&&o(R)}const T=ne.useMemo(()=>c.getViewport({scale:h,rotation:p}),[c,p,h]);return ne.useEffect(function(){if(!l||!c||!s||!y)return;const{current:P}=x;if(!P)return;const L=T.clone({dontFlip:!0}),O={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:P,l10n:null,page:c,viewport:L},H={annotations:y,annotationStorage:l.annotationStorage,div:P,imageResourcesPath:e,linkService:s,page:c,renderForms:d,viewport:L};P.innerHTML="";try{new MC(O).render(H),S()}catch(U){D(U)}return()=>{}},[y,e,s,c,l,d,T]),m.jsx("div",{className:ea("react-pdf__Page__annotations","annotationLayer"),ref:x})}var TK=function(n,r){var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&r.indexOf(e)<0&&(t[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,e=Object.getOwnPropertySymbols(n);s<e.length;s++)r.indexOf(e[s])<0&&Object.prototype.propertyIsEnumerable.call(n,e[s])&&(t[e[s]]=n[e[s]]);return t};const E7=1;function _5(n){const r=zC(),t=Object.assign(Object.assign({},r),n),{_className:e="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:a,canvasRef:i,children:o,className:u,customRenderer:c,customTextRenderer:l,devicePixelRatio:d,error:p="Failed to load the page.",height:h,inputRef:f,loading:b="Loading page",noData:y="No page specified.",onGetAnnotationsError:g,onGetAnnotationsSuccess:x,onGetStructTreeError:v,onGetStructTreeSuccess:w,onGetTextError:S,onGetTextSuccess:D,onLoadError:T,onLoadSuccess:R,onRenderAnnotationLayerError:P,onRenderAnnotationLayerSuccess:L,onRenderError:O,onRenderSuccess:H,onRenderTextLayerError:U,onRenderTextLayerSuccess:I,pageIndex:F,pageNumber:A,pdf:_,registerPage:E,renderAnnotationLayer:N=!0,renderForms:k=!1,renderMode:B="canvas",renderTextLayer:j=!0,rotate:M,scale:G=E7,unregisterPage:Y,width:J}=t,V=TK(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Q,q]=ag(),{value:z,error:Z}=Q,re=ne.useRef(null);fs(_);const le=gp(A)?A-1:F??null,ue=A??(gp(F)?F+1:null),ce=M??(z?z.rotate:null),ie=ne.useMemo(()=>{if(!z)return null;let bt=1;const tt=G??E7;if(J||h){const $e=z.getViewport({scale:1,rotation:ce});J?bt=J/$e.width:h&&(bt=h/$e.height)}return tt*bt},[h,z,ce,G,J]);ne.useEffect(function(){return()=>{gp(le)&&s&&Y&&Y(le)}},[s,_,le,Y]);function ye(){if(R){if(!z||!ie)return;R(X4(z,ie))}if(s&&E){if(!gp(le)||!re.current)return;E(le,re.current)}}function he(){Z&&(qi(!1,Z.toString()),T&&T(Z))}ne.useEffect(function(){q({type:"RESET"})},[q,_,le]),ne.useEffect(function(){if(!_||!ue)return;const tt=Iv(_.getPage(ue)),$e=tt;return tt.promise.then(at=>{q({type:"RESOLVE",value:at})}).catch(at=>{q({type:"REJECT",error:at})}),()=>Um($e)},[q,_,ue]),ne.useEffect(()=>{if(z!==void 0){if(z===!1){he();return}ye()}},[z,ie]);const pe=ne.useMemo(()=>z&&gp(le)&&ue&&gp(ce)&&gp(ie)?{_className:e,canvasBackground:a,customTextRenderer:l,devicePixelRatio:d,onGetAnnotationsError:g,onGetAnnotationsSuccess:x,onGetStructTreeError:v,onGetStructTreeSuccess:w,onGetTextError:S,onGetTextSuccess:D,onRenderAnnotationLayerError:P,onRenderAnnotationLayerSuccess:L,onRenderError:O,onRenderSuccess:H,onRenderTextLayerError:U,onRenderTextLayerSuccess:I,page:z,pageIndex:le,pageNumber:ue,renderForms:k,renderTextLayer:j,rotate:ce,scale:ie}:null,[e,a,l,d,g,x,v,w,S,D,P,L,O,H,U,I,z,le,ue,k,j,ce,ie]),xe=ne.useMemo(()=>UC(V,()=>z&&(ie?X4(z,ie):void 0)),[V,z,ie]),Oe=`${le}@${ie}/${ce}`;function Ae(){switch(B){case"custom":return fs(c),m.jsx(c,{},`${Oe}_custom`);case"none":return null;case"canvas":default:return m.jsx(AK,{canvasRef:i},`${Oe}_canvas`)}}function Le(){return j?m.jsx(CK,{},`${Oe}_text`):null}function He(){return N?m.jsx(DK,{},`${Oe}_annotations`):null}function Ye(){return m.jsxs($C.Provider,{value:pe,children:[Ae(),Le(),He(),o]})}function it(){return ue?_===null||z===void 0||z===null?m.jsx(Z0,{type:"loading",children:typeof b=="function"?b():b}):_===!1||z===!1?m.jsx(Z0,{type:"error",children:typeof p=="function"?p():p}):Ye():m.jsx(Z0,{type:"no-data",children:typeof y=="function"?y():y})}return m.jsx("div",Object.assign({className:ea(e,u),"data-page-number":ue,ref:VC(f,re),style:{"--scale-factor":`${ie}`,backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},xe,{children:it()}))}pK();LC.workerSrc="pdf.worker.mjs";const jK=({personalDetails:n,educationalDetails:r,profilePhoto:t,isPdfOpen:e,pageNumber:s,numPages:a,handleViewDocument:i,onDocumentLoadSuccess:o,setPageNumber:u,applicationUpload:c,bwnUpload:l,cvCertifyUpload:d,loiUpload:p,myIcUpload:h,paafCvevUpload:f,ppUpload:b,supportDocUpload:y,handlePrint:g,invoiceRef:x})=>{const[v,w]=ne.useState(null),[S,D]=ne.useState(""),T=async H=>{try{const U=await Z1({path:H});console.log("File URL:",U.url.href),D(U.url.href),w(H)}catch(U){console.error("Error fetching the file URL:",U)}},R=H=>{try{const U=JSON.parse(H);return Array.isArray(U)?U.map(I=>(I.upload&&(I.fileName=I.upload.split("/").pop()),I)):[]}catch(U){return console.error("Error parsing document data:",U),[]}},P=H=>m.jsx(m.Fragment,{children:H.map((U,I)=>m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-4 border border-gray-200",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("span",{className:"text-gray-700",children:["Uploaded on: ",U.date]}),m.jsx("button",{onClick:()=>T(U.upload),className:"text-blue-600 hover:text-blue-800",children:"View Document"})]}),v===U.upload&&U.upload.endsWith(".pdf")&&m.jsxs("div",{className:"mt-4",children:[m.jsxs("div",{className:"relative bg-white max-w-3xl mx-auto p-6 rounded-lg shadow-lg",children:[m.jsx("div",{ref:x,className:"flex justify-center",children:m.jsx(v5,{file:S,onLoadSuccess:o,className:"w-full",children:m.jsx(_5,{pageNumber:s,className:" mx-auto"})})}),m.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[m.jsx("button",{onClick:()=>u(s-1),disabled:s<=1,className:"bg-blue-600 text-black px-3 py-1 rounded-full text-sm hover:bg-blue-800",children:"Previous"}),m.jsxs("span",{className:"text-gray-700",children:["Page ",s," of ",a]}),m.jsx("button",{onClick:()=>u(s+1),disabled:s>=a,className:"bg-blue-600 text-black px-3 py-1 rounded-full text-sm hover:bg-blue-800",children:"Next"})]}),m.jsx("div",{className:"absolute top-2 right-2",children:m.jsx("button",{onClick:()=>w(null),className:"bg-red-600 text-black px-3 py-1 rounded-full text-sm hover:bg-red-800",children:m.jsx(Of,{})})})]}),m.jsxs("div",{className:"flex items-center justify-center gap-6 py-4",children:[m.jsx("div",{className:"mt-2 flex",children:m.jsxs("button",{className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:[m.jsx("a",{href:S,download:!0,children:"Download"}),m.jsx(Mf,{className:"ml-2 mt-1"})]})}),m.jsx("div",{className:"mt-2 flex",children:m.jsxs("button",{onClick:g,className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:["Print",m.jsx(_h,{className:"ml-2 mt-1"})]})})]})]}),v===U.upload&&!U.upload.endsWith(".pdf")&&m.jsxs("div",{ref:x,className:"relative mt-4",children:[m.jsx("img",{src:S,alt:"Document Preview",className:"w-full h-auto"}),m.jsx("div",{className:"absolute top-2 right-2",children:m.jsx("button",{onClick:()=>w(null),className:"bg-red-600 text-black px-3 py-1 rounded-full text-sm hover:bg-red-800",children:m.jsx(Of,{})})}),m.jsxs("div",{className:"flex items-center justify-center gap-6 py-4",children:[m.jsx("div",{className:"mt-2 flex",children:m.jsxs("button",{className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:[m.jsx("a",{href:S,download:!0,children:"Download"}),m.jsx(Mf,{className:"ml-2 mt-1"})]})}),m.jsx("div",{className:"mt-2 flex",children:m.jsxs("button",{onClick:g,className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:["Print",m.jsx(_h,{className:"ml-2 mt-1"})]})})]})]})]},I))}),L=(H,U)=>{const I=H&&H.length>0?R(H[0]):[];return m.jsxs("div",{className:"py-4",children:[m.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey ",children:U}),I.length>0?P(I):m.jsx("p",{children:"No documents available"})]})},O=()=>m.jsx("div",{className:"grid grid-cols-3 gap-y-4 items-center",children:Object.entries(n).map(([H,U],I)=>m.jsxs(St.Fragment,{children:[m.jsx("span",{className:"text-gray-800",children:H}),m.jsx("span",{className:"text-center text-gray-700",children:":"}),m.jsx("span",{className:"text-gray-800",children:Array.isArray(U)?U.length>1?U.slice(-1).concat(U.slice(0,-1)).map((F,A)=>m.jsxs("span",{className:`${A===0?"text-[#0CB100]":""}`,children:[F,A<U.length-1&&", "," "]},A)):U:U||"N/A"})]},I))});return m.jsxs("section",{ref:x,className:"py-8 bg-gray-50 rounded-lg",children:[m.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"Personal Details:"}),m.jsxs("div",{className:"flex flex-col md:flex-row items-start justify-between gap-8",children:[m.jsx("div",{className:"flex-1",children:O()}),m.jsx("div",{className:"w-[250px] h-[350px] rounded-lg overflow-hidden border border-gray-200 shadow-md",children:m.jsx("img",{src:t||"/path/to/default-photo.jpg",alt:"Profile",className:"object-cover w-full h-full"})})]}),m.jsxs("section",{className:"py-8 bg-gray-50 rounded-lg",children:[m.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"Education Details:"}),m.jsx("div",{className:"flex flex-col items-start gap-8",children:m.jsx("div",{className:"flex-1",children:m.jsx("div",{className:"grid grid-cols-3 gap-y-4 gap-x-2",children:Object.entries(r).map(([H,U],I)=>m.jsxs(St.Fragment,{children:[m.jsx("span",{className:"text-gray-800",children:H}),m.jsx("span",{className:"text-center",children:":"}),m.jsx("span",{className:"text-gray-800",children:U||"N/A"})]},I))})})})]}),m.jsxs("div",{className:"mt-8",children:[m.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"Uploaded Documents:"}),L([c],"Application Upload"),L([l],"BWN Upload"),L([d],"CV Certified Upload"),L([p],"LOI Upload"),L([h],"My IC Upload"),L([f],"PAAF CVEV Upload"),L([b],"PP Upload"),L([y],"Support Document Upload")]})]})},IK=({familyDetails:n,handlePrint:r,invoiceRef:t})=>m.jsx(m.Fragment,{children:m.jsxs("section",{ref:t,className:"py-8 bg-gray-50 rounded-lg",children:[m.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"Family Details:"}),m.jsx("div",{className:"space-y-6",children:Array.isArray(n)&&n.length>0?JSON.parse(n).map((e,s)=>m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200",children:[m.jsxs("h6",{className:"font-semibold text-lg text-gray-800 mb-4",children:["Family Member ",s+1]}),m.jsxs("div",{className:"grid grid-cols-3 gap-y-2 items-center",children:[m.jsx("span",{className:"text-gray-800",children:"Name"}),m.jsx("span",{className:"text-gray-500 text-center",children:":"}),m.jsx("span",{className:"text-gray-800",children:(e==null?void 0:e.name)||"N/A"}),m.jsx("span",{className:"text-gray-800  pr-2",children:"Relationship"}),m.jsx("span",{className:"text-gray-500 text-center",children:":"}),m.jsx("span",{className:"text-gray-800",children:(e==null?void 0:e.relationship)||"N/A"}),m.jsx("span",{className:"text-gray-800  pr-2",children:"Contact"}),m.jsx("span",{className:"text-gray-500 text-center",children:":"}),m.jsx("span",{className:"text-gray-800",children:(e==null?void 0:e.contact)||"N/A"}),m.jsx("span",{className:"text-gray-800  pr-2",children:"Address"}),m.jsx("span",{className:"text-gray-500 text-center",children:":"}),m.jsx("span",{className:"text-gray-800",children:(e==null?void 0:e.address)||"N/A"})]})]},s)):m.jsx("p",{className:"text-gray-500",children:"No family details available."})})]})}),PK=({medicalInfo:n,uploadFitness:r,uploadBwn:t,uploadRegis:e,handlePrint:s,invoiceRef:a,dependPass:i})=>{const[o,u]=ne.useState(!1),[c,l]=ne.useState(null),[d,p]=ne.useState(1),[h,f]=ne.useState(1),[b,y]=ne.useState(""),g=async H=>{try{const U=await Z1({path:H});console.log("File URL:",U.url.href),y(U.url.href),l(H)}catch(U){console.error("Error fetching the file URL:",U)}},x=()=>{u(!1),l(null)},v=H=>{try{return typeof H=="string"&&(H=JSON.parse(H)),Array.isArray(H)?H.map(U=>(U.upload&&(U.fileName=U.upload.split("/").pop()),U)):[]}catch(U){return console.error("Error parsing document data:",U),[]}};let w=[];if(Array.isArray(i)&&i.length>0)if(typeof i[0]=="string")try{const H=JSON.parse(i[0]);w=JSON.parse(H)}catch(H){console.error("Error parsing dependPass:",H)}else w=i[0];if(!Array.isArray(w))return m.jsx("p",{children:"There was an error processing the dependent data."});const S=({numPages:H})=>{f(H)},D=v(r),T=v(t),R=v(e);console.log("dp",i);const P=(H,U)=>m.jsx(m.Fragment,{children:H.map((I,F)=>m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-4 border border-gray-200",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("span",{className:"text-gray-700",children:["Uploaded on: ",I.date]}),m.jsx("button",{onClick:()=>g(I.upload),className:"text-blue-600 hover:text-blue-800",children:"View Document"})]}),c===I.upload&&I.upload.endsWith(".pdf")&&m.jsxs("div",{className:"mt-4",children:[m.jsxs("div",{className:"relative bg-white max-w-3xl mx-auto p-6 rounded-lg shadow-lg",children:[m.jsx(v5,{file:b,onLoadSuccess:S,className:"w-full",children:m.jsx(_5,{pageNumber:d,className:"mx-auto"})}),m.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[m.jsx("button",{onClick:()=>p(d-1),disabled:d<=1,className:"bg-blue-600 text-black px-3 py-1 rounded-full text-sm hover:bg-blue-800",children:"Prev"}),m.jsxs("span",{className:"text-gray-700",children:["Page ",d," of ",h]}),m.jsx("button",{onClick:()=>p(d+1),disabled:d>=h,className:"bg-blue-600 text-black px-3 py-1 rounded-full text-sm hover:bg-blue-800",children:"Next"})]}),m.jsx("div",{className:"absolute top-2 right-2",children:m.jsx("button",{onClick:x,className:"bg-red-600 text-black px-3 py-1 rounded-full text-sm hover:bg-red-800",children:m.jsx(Of,{})})})]}),m.jsxs("div",{className:"flex items-center justify-center gap-6 py-4",children:[m.jsx("div",{className:"mt-2 flex",children:m.jsxs("button",{className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:[m.jsx("a",{href:b,download:!0,children:"Download"}),m.jsx(Mf,{className:"ml-2 mt-1"})]})}),m.jsx("div",{className:"mt-2 flex",children:m.jsxs("button",{onClick:s,className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:["Print",m.jsx(_h,{className:"ml-2 mt-1"})]})})]})]}),c===I.upload&&!I.upload.endsWith(".pdf")&&m.jsxs("div",{ref:a,className:"relative mt-4",children:[m.jsx("img",{src:b,alt:"Document Preview",className:"w-full h-auto"}),m.jsx("div",{className:"absolute top-2 right-2",children:m.jsx("button",{onClick:x,className:"bg-red-600 text-black px-3 py-1 rounded-full text-sm hover:bg-red-800",children:m.jsx(Of,{})})}),m.jsxs("div",{className:"flex items-center justify-center gap-6 py-4",children:[m.jsx("div",{className:"mt-2 flex",children:m.jsxs("button",{className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:[m.jsx("a",{href:b,download:!0,children:"Download"}),m.jsx(Mf,{className:"ml-2 mt-1"})]})}),m.jsx("div",{className:"mt-2 flex",children:m.jsxs("button",{onClick:s,className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:["Print",m.jsx(_h,{className:"ml-2 mt-1"})]})})]})]})]},F))}),L=(H,U)=>{const I=H.length>0?v(H[0]):[];return m.jsxs("div",{className:"py-4",children:[m.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey",children:U}),I.length>0?P(I):m.jsx("p",{children:"No documents and images available"})]})},O=()=>m.jsx("div",{className:"grid grid-cols-3 gap-y-4 items-center",children:Object.entries(n).map(([H,U],I)=>m.jsxs(St.Fragment,{children:[m.jsx("span",{className:"text-gray-800",children:H}),m.jsx("span",{className:"text-center text-gray-700",children:":"}),m.jsx("span",{className:"text-gray-800",children:Array.isArray(U)?U.length>1?U.slice(-1).concat(U.slice(0,-1)).map((F,A)=>m.jsxs("span",{className:`${A===0?"text-[#0CB100]":""}`,children:[F,A<U.length-1&&", "," "]},A)):U:U||"N/A"})]},I))});return m.jsxs("section",{ref:a,className:"py-8 bg-gray-50 rounded-lg",children:[m.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"Medical Details:"}),m.jsx("div",{className:"flex flex-col md:flex-row items-start justify-between gap-8",children:m.jsx("div",{className:"flex-1",children:m.jsx("div",{className:"flex-1",children:O()})})}),m.jsxs("div",{className:"mt-8",children:[L(D,"Fitness Document"),L(T,"BW Document"),L(R,"Registration Document")]}),m.jsxs("section",{className:"py-8 bg-gray-50 rounded-lg",children:[m.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"Dependents' Passport Details:"}),w.length===0?m.jsx("p",{children:"No dependent data available."}):w.map((H,U)=>m.jsxs("div",{className:"depend-detail mb-6 p-4 border rounded-lg shadow-md bg-white",children:[m.jsx("h3",{className:"text-2xl font-semibold text-gray-800",children:H.dependName}),m.jsxs("p",{children:[m.jsx("strong",{children:"Passport No:"})," ",H.dependPpNo]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Passport Expiry:"})," ",H.dependPpE]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Relation:"})," ",H.relation]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Labour DP By:"})," ",H.labourDPBy]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Labour DR No:"})," ",H.labourDRNo]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Labour DA Amount:"})," ",H.labourDAmount]}),m.jsxs("div",{className:"uploads",children:[m.jsx("h4",{className:"text-xl font-semibold text-gray-800 mt-4",children:"Uploaded Documents (DP):"}),H.uploadDp&&H.uploadDp.length>0?P(H.uploadDp):m.jsx("p",{children:"No documents uploaded for DP."})]}),m.jsxs("div",{className:"uploads mt-6",children:[m.jsx("h4",{className:"text-xl font-semibold text-gray-800",children:"Uploaded Documents (DR):"}),H.uploadDr&&H.uploadDr.length>0?P(H.uploadDr):m.jsx("p",{children:"No documents uploaded for DR."})]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Status:"})," ",H.isNew?"New":"Old"]})]},U))]})]})},RK=({accommodationInfo:n,handlePrint:r,invoiceRef:t})=>m.jsx(m.Fragment,{children:m.jsxs("section",{ref:t,className:"py-8 bg-gray-50 rounded-lg",children:[m.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"Accommodation Details:"}),m.jsx("div",{className:"space-y-6",children:m.jsx("div",{className:"grid grid-cols-3 gap-y-4 items-center",children:Object.entries(n).map(([e,s],a)=>m.jsxs(St.Fragment,{children:[m.jsx("span",{className:"text-gray-800",children:e}),m.jsx("span",{className:"text-gray-500 text-center",children:":"}),m.jsx("span",{className:"text-gray-800",children:s||"N/A"})]},a))})})]})}),MK=({insuranceInfo:n,depInsurance:r,DependentInsurance:t,handlePrint:e,invoiceRef:s})=>(ne.useEffect(()=>{console.log("insuranceInfo:",n),console.log("depInsurance:",r)},[n,r]),m.jsx(m.Fragment,{children:m.jsxs("section",{ref:s,className:"py-3",children:[m.jsx("h6",{className:"uppercase text_size_5 text-dark_grey my-3",children:"Insurance Details:"}),m.jsx("div",{className:"grid grid-cols-3 gap-y-2 items-center",children:Object.entries(n).map(([a,i],o)=>m.jsxs(St.Fragment,{children:[m.jsx("span",{className:"text-gray-800",children:a}),m.jsx("span",{className:"text-gray-500 text-center",children:":"}),m.jsx("span",{className:"text-gray-800",children:i||"N/A"})]},o))}),m.jsx("div",{className:"grid grid-cols-3 gap-y-2 items-center",children:r&&Object.entries(r).length>0?Object.entries(r).map(([a,i],o)=>m.jsxs(St.Fragment,{children:[m.jsx("span",{className:"text-gray-800",children:a}),m.jsx("span",{className:"text-gray-500 text-center",children:":"}),m.jsx("span",{className:"text-gray-800",children:i||"N/A"})]},o)):m.jsxs(St.Fragment,{children:[m.jsx("span",{className:"text-gray-800",children:"No Insurance Data"}),m.jsx("span",{className:"text-gray-500 text-center",children:":"}),m.jsx("span",{className:"text-gray-800",children:"N/A"})]})})]})}));var JC={exports:{}};(function(n,r){(function(t,e){n.exports=e(ne,eA)})(typeof self<"u"?self:Ab,function(t,e){return function(){var s={328:function(u,c,l){Object.defineProperty(c,"__esModule",{value:!0}),c.PrintContextConsumer=c.PrintContext=void 0;var d=l(496),p=Object.prototype.hasOwnProperty.call(d,"createContext");c.PrintContext=p?d.createContext({}):null,c.PrintContextConsumer=c.PrintContext?c.PrintContext.Consumer:function(){return null}},428:function(u,c,l){Object.defineProperty(c,"__esModule",{value:!0}),c.ReactToPrint=void 0;var d=l(316),p=l(496),h=l(190),f=l(328),b=l(940),y=function(g){function x(){var v=g.apply(this,d.__spreadArray([],d.__read(arguments),!1))||this;return v.startPrint=function(w){var S=v.props,D=S.onAfterPrint,T=S.onPrintError,R=S.print,P=S.documentTitle;setTimeout(function(){var L,O;if(w.contentWindow)if(w.contentWindow.focus(),R)R(w).then(function(){return D==null?void 0:D()}).then(function(){return v.handleRemoveIframe()}).catch(function(I){T?T("print",I):v.logMessages(["An error was thrown by the specified `print` function"])});else{if(w.contentWindow.print){var H=(O=(L=w.contentDocument)===null||L===void 0?void 0:L.title)!==null&&O!==void 0?O:"",U=w.ownerDocument.title;P&&(w.ownerDocument.title=P,w.contentDocument&&(w.contentDocument.title=P)),w.contentWindow.print(),P&&(w.ownerDocument.title=U,w.contentDocument&&(w.contentDocument.title=H))}else v.logMessages(["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."]);D==null||D(),v.handleRemoveIframe()}else v.logMessages(["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/gregnb/react-to-print/issues/"])},500)},v.triggerPrint=function(w){var S=v.props,D=S.onBeforePrint,T=S.onPrintError;if(D){var R=D();R&&typeof R.then=="function"?R.then(function(){v.startPrint(w)}).catch(function(P){T&&T("onBeforePrint",P)}):v.startPrint(w)}else v.startPrint(w)},v.handlePrint=function(w){var S=v.props,D=S.bodyClass,T=S.content,R=S.copyStyles,P=S.fonts,L=S.pageStyle,O=S.nonce,H=typeof w=="function"?w():null;if(H&&typeof T=="function"&&v.logMessages(['"react-to-print" received a `content` prop and a content param passed the callback return by `useReactToPrint. The `content` prop will be ignored.'],"warning"),H||typeof T!="function"||(H=T()),H!==void 0)if(H!==null){var U=document.createElement("iframe");U.width="".concat(document.documentElement.clientWidth,"px"),U.height="".concat(document.documentElement.clientHeight,"px"),U.style.position="absolute",U.style.top="-".concat(document.documentElement.clientHeight+100,"px"),U.style.left="-".concat(document.documentElement.clientWidth+100,"px"),U.id="printWindow",U.srcdoc="<!DOCTYPE html>";var I=(0,h.findDOMNode)(H);if(I){var F=I.cloneNode(!0),A=F instanceof Text,_=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),E=A?[]:F.querySelectorAll("img"),N=A?[]:F.querySelectorAll("video"),k=P?P.length:0;v.numResourcesToLoad=_.length+E.length+N.length+k,v.resourcesLoaded=[],v.resourcesErrored=[];var B=function(j,M){v.resourcesLoaded.includes(j)?v.logMessages(["Tried to mark a resource that has already been handled",j],"debug"):(M?(v.logMessages(d.__spreadArray(['"react-to-print" was unable to load a resource but will continue attempting to print the page'],d.__read(M),!1)),v.resourcesErrored.push(j)):v.resourcesLoaded.push(j),v.resourcesLoaded.length+v.resourcesErrored.length===v.numResourcesToLoad&&v.triggerPrint(U))};U.onload=function(){var j,M,G,Y;U.onload=null;var J=U.contentDocument||((M=U.contentWindow)===null||M===void 0?void 0:M.document);if(J){J.body.appendChild(F),P&&(!((G=U.contentDocument)===null||G===void 0)&&G.fonts&&(!((Y=U.contentWindow)===null||Y===void 0)&&Y.FontFace)?P.forEach(function(tt){var $e=new FontFace(tt.family,tt.source,{weight:tt.weight,style:tt.style});U.contentDocument.fonts.add($e),$e.loaded.then(function(){B($e)}).catch(function(at){B($e,["Failed loading the font:",$e,"Load error:",at])})}):(P.forEach(function(tt){return B(tt)}),v.logMessages(['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'])));var V=typeof L=="function"?L():L;if(typeof V!="string")v.logMessages(['"react-to-print" expected a "string" from `pageStyle` but received "'.concat(typeof V,'". Styles from `pageStyle` will not be applied.')]);else{var Q=J.createElement("style");O&&(Q.setAttribute("nonce",O),J.head.setAttribute("nonce",O)),Q.appendChild(J.createTextNode(V)),J.head.appendChild(Q)}if(D&&(j=J.body.classList).add.apply(j,d.__spreadArray([],d.__read(D.split(" ")),!1)),!A){for(var q=A?[]:I.querySelectorAll("canvas"),z=J.querySelectorAll("canvas"),Z=0;Z<q.length;++Z){var re=q[Z],le=z[Z].getContext("2d");le&&le.drawImage(re,0,0)}var ue=function(tt){var $e=E[tt],at=$e.getAttribute("src");if(at){var ze=new Image;ze.onload=function(){return B($e)},ze.onerror=function(wt,vt,kt,pt,At){return B($e,["Error loading <img>",$e,"Error",At])},ze.src=at}else B($e,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it. The <img> is:',$e])};for(Z=0;Z<E.length;Z++)ue(Z);var ce=function(tt){var $e=N[tt];$e.preload="auto";var at=$e.getAttribute("poster");if(at){var ze=new Image;ze.onload=function(){return B($e)},ze.onerror=function(wt,vt,kt,pt,At){return B($e,["Error loading video poster",at,"for video",$e,"Error:",At])},ze.src=at}else $e.readyState>=2?B($e):($e.onloadeddata=function(){return B($e)},$e.onerror=function(wt,vt,kt,pt,At){return B($e,["Error loading video",$e,"Error",At])},$e.onstalled=function(){return B($e,["Loading video stalled, skipping",$e])})};for(Z=0;Z<N.length;Z++)ce(Z);var ie="input",ye=I.querySelectorAll(ie),he=J.querySelectorAll(ie);for(Z=0;Z<ye.length;Z++)he[Z].value=ye[Z].value;var pe="input[type=checkbox],input[type=radio]",xe=I.querySelectorAll(pe),Oe=J.querySelectorAll(pe);for(Z=0;Z<xe.length;Z++)Oe[Z].checked=xe[Z].checked;var Ae="select",Le=I.querySelectorAll(Ae),He=J.querySelectorAll(Ae);for(Z=0;Z<Le.length;Z++)He[Z].value=Le[Z].value}if(R)for(var Ye=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']"),it=function(tt,$e){var at=Ye[tt];if(at.tagName.toLowerCase()==="style"){var ze=J.createElement(at.tagName),wt=at.sheet;if(wt){var vt="";try{for(var kt=wt.cssRules.length,pt=0;pt<kt;++pt)typeof wt.cssRules[pt].cssText=="string"&&(vt+="".concat(wt.cssRules[pt].cssText,`\r
`))}catch{v.logMessages(["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/gregnb/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",at],"warning")}ze.setAttribute("id","react-to-print-".concat(tt)),O&&ze.setAttribute("nonce",O),ze.appendChild(J.createTextNode(vt)),J.head.appendChild(ze)}}else if(at.getAttribute("href"))if(at.hasAttribute("disabled"))v.logMessages(["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",at],"warning"),B(at);else{for(var At=J.createElement(at.tagName),$t=(pt=0,at.attributes.length);pt<$t;++pt){var Tt=at.attributes[pt];Tt&&At.setAttribute(Tt.nodeName,Tt.nodeValue||"")}At.onload=function(){return B(At)},At.onerror=function(fr,ur,er,Sr,tr){return B(At,["Failed to load",At,"Error:",tr])},O&&At.setAttribute("nonce",O),J.head.appendChild(At)}else v.logMessages(["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",at],"warning"),B(at)},bt=(Z=0,Ye.length);Z<bt;++Z)it(Z)}v.numResourcesToLoad!==0&&R||v.triggerPrint(U)},v.handleRemoveIframe(!0),document.body.appendChild(U)}else v.logMessages(['"react-to-print" could not locate the DOM node corresponding with the `content` prop'])}else v.logMessages(['There is nothing to print because the "content" prop returned "null". Please ensure "content" is renderable before allowing "react-to-print" to be called.']);else v.logMessages(["To print a functional component ensure it is wrapped with `React.forwardRef`, and ensure the forwarded ref is used. See the README for an example: https://github.com/gregnb/react-to-print#examples"])},v.handleRemoveIframe=function(w){var S=v.props.removeAfterPrint;if(w||S){var D=document.getElementById("printWindow");D&&document.body.removeChild(D)}},v.logMessages=function(w,S){S===void 0&&(S="error"),v.props.suppressErrors||(S==="error"?console.error(w):S==="warning"?console.warn(w):S==="debug"&&console.debug(w))},v}return d.__extends(x,g),x.prototype.handleClick=function(v,w){var S=this,D=this.props,T=D.onBeforeGetContent,R=D.onPrintError;if(T){var P=T();P&&typeof P.then=="function"?P.then(function(){return S.handlePrint(w)}).catch(function(L){R&&R("onBeforeGetContent",L)}):this.handlePrint(w)}else this.handlePrint(w)},x.prototype.render=function(){var v=this.props,w=v.children,S=v.trigger;if(S)return p.cloneElement(S(),{onClick:this.handleClick.bind(this)});if(!f.PrintContext)return this.logMessages(['"react-to-print" requires React ^16.3.0 to be able to use "PrintContext"']),null;var D={handlePrint:this.handleClick.bind(this)};return p.createElement(f.PrintContext.Provider,{value:D},w)},x.defaultProps=b.defaultProps,x}(p.Component);c.ReactToPrint=y},940:function(u,c){Object.defineProperty(c,"__esModule",{value:!0}),c.defaultProps=void 0,c.defaultProps={copyStyles:!0,pageStyle:`
        @page {
            /* Remove browser default header (title) and footer (url) */
            margin: 0;
        }
        @media print {
            body {
                /* Tell browsers to print background colors */
                -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
                color-adjust: exact; /* Firefox */
            }
        }
    `,removeAfterPrint:!1,suppressErrors:!1}},892:function(u,c,l){Object.defineProperty(c,"__esModule",{value:!0}),c.useReactToPrint=void 0;var d=l(316),p=l(496),h=l(428),f=l(940),b=l(860),y=Object.prototype.hasOwnProperty.call(p,"useMemo")&&Object.prototype.hasOwnProperty.call(p,"useCallback");c.useReactToPrint=function(g){if(!y)return g.suppressErrors||console.error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"'),function(){throw new Error('"react-to-print" requires React ^16.8.0 to be able to use "useReactToPrint"')};var x=p.useMemo(function(){return new h.ReactToPrint(d.__assign(d.__assign({},f.defaultProps),g))},[g]);return p.useCallback(function(v,w){return(0,b.wrapCallbackWithArgs)(x,x.handleClick,w)(v)},[x])}},860:function(u,c,l){Object.defineProperty(c,"__esModule",{value:!0}),c.wrapCallbackWithArgs=void 0;var d=l(316);c.wrapCallbackWithArgs=function(p,h){for(var f=[],b=2;b<arguments.length;b++)f[b-2]=arguments[b];return function(){for(var y=[],g=0;g<arguments.length;g++)y[g]=arguments[g];return h.apply(p,d.__spreadArray(d.__spreadArray([],d.__read(y),!1),d.__read(f),!1))}}},496:function(u){u.exports=t},190:function(u){u.exports=e},316:function(u,c,l){l.r(c),l.d(c,{__addDisposableResource:function(){return J},__assign:function(){return h},__asyncDelegator:function(){return _},__asyncGenerator:function(){return A},__asyncValues:function(){return E},__await:function(){return F},__awaiter:function(){return D},__classPrivateFieldGet:function(){return M},__classPrivateFieldIn:function(){return Y},__classPrivateFieldSet:function(){return G},__createBinding:function(){return R},__decorate:function(){return b},__disposeResources:function(){return Q},__esDecorate:function(){return g},__exportStar:function(){return P},__extends:function(){return p},__generator:function(){return T},__importDefault:function(){return j},__importStar:function(){return B},__makeTemplateObject:function(){return N},__metadata:function(){return S},__param:function(){return y},__propKey:function(){return v},__read:function(){return O},__rest:function(){return f},__runInitializers:function(){return x},__setFunctionName:function(){return w},__spread:function(){return H},__spreadArray:function(){return I},__spreadArrays:function(){return U},__values:function(){return L}});var d=function(q,z){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,re){Z.__proto__=re}||function(Z,re){for(var le in re)Object.prototype.hasOwnProperty.call(re,le)&&(Z[le]=re[le])},d(q,z)};function p(q,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");function Z(){this.constructor=q}d(q,z),q.prototype=z===null?Object.create(z):(Z.prototype=z.prototype,new Z)}var h=function(){return h=Object.assign||function(q){for(var z,Z=1,re=arguments.length;Z<re;Z++)for(var le in z=arguments[Z])Object.prototype.hasOwnProperty.call(z,le)&&(q[le]=z[le]);return q},h.apply(this,arguments)};function f(q,z){var Z={};for(var re in q)Object.prototype.hasOwnProperty.call(q,re)&&z.indexOf(re)<0&&(Z[re]=q[re]);if(q!=null&&typeof Object.getOwnPropertySymbols=="function"){var le=0;for(re=Object.getOwnPropertySymbols(q);le<re.length;le++)z.indexOf(re[le])<0&&Object.prototype.propertyIsEnumerable.call(q,re[le])&&(Z[re[le]]=q[re[le]])}return Z}function b(q,z,Z,re){var le,ue=arguments.length,ce=ue<3?z:re===null?re=Object.getOwnPropertyDescriptor(z,Z):re;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ce=Reflect.decorate(q,z,Z,re);else for(var ie=q.length-1;ie>=0;ie--)(le=q[ie])&&(ce=(ue<3?le(ce):ue>3?le(z,Z,ce):le(z,Z))||ce);return ue>3&&ce&&Object.defineProperty(z,Z,ce),ce}function y(q,z){return function(Z,re){z(Z,re,q)}}function g(q,z,Z,re,le,ue){function ce(it){if(it!==void 0&&typeof it!="function")throw new TypeError("Function expected");return it}for(var ie,ye=re.kind,he=ye==="getter"?"get":ye==="setter"?"set":"value",pe=!z&&q?re.static?q:q.prototype:null,xe=z||(pe?Object.getOwnPropertyDescriptor(pe,re.name):{}),Oe=!1,Ae=Z.length-1;Ae>=0;Ae--){var Le={};for(var He in re)Le[He]=He==="access"?{}:re[He];for(var He in re.access)Le.access[He]=re.access[He];Le.addInitializer=function(it){if(Oe)throw new TypeError("Cannot add initializers after decoration has completed");ue.push(ce(it||null))};var Ye=(0,Z[Ae])(ye==="accessor"?{get:xe.get,set:xe.set}:xe[he],Le);if(ye==="accessor"){if(Ye===void 0)continue;if(Ye===null||typeof Ye!="object")throw new TypeError("Object expected");(ie=ce(Ye.get))&&(xe.get=ie),(ie=ce(Ye.set))&&(xe.set=ie),(ie=ce(Ye.init))&&le.unshift(ie)}else(ie=ce(Ye))&&(ye==="field"?le.unshift(ie):xe[he]=ie)}pe&&Object.defineProperty(pe,re.name,xe),Oe=!0}function x(q,z,Z){for(var re=arguments.length>2,le=0;le<z.length;le++)Z=re?z[le].call(q,Z):z[le].call(q);return re?Z:void 0}function v(q){return typeof q=="symbol"?q:"".concat(q)}function w(q,z,Z){return typeof z=="symbol"&&(z=z.description?"[".concat(z.description,"]"):""),Object.defineProperty(q,"name",{configurable:!0,value:Z?"".concat(Z," ",z):z})}function S(q,z){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(q,z)}function D(q,z,Z,re){return new(Z||(Z=Promise))(function(le,ue){function ce(he){try{ye(re.next(he))}catch(pe){ue(pe)}}function ie(he){try{ye(re.throw(he))}catch(pe){ue(pe)}}function ye(he){var pe;he.done?le(he.value):(pe=he.value,pe instanceof Z?pe:new Z(function(xe){xe(pe)})).then(ce,ie)}ye((re=re.apply(q,z||[])).next())})}function T(q,z){var Z,re,le,ue,ce={label:0,sent:function(){if(1&le[0])throw le[1];return le[1]},trys:[],ops:[]};return ue={next:ie(0),throw:ie(1),return:ie(2)},typeof Symbol=="function"&&(ue[Symbol.iterator]=function(){return this}),ue;function ie(ye){return function(he){return function(pe){if(Z)throw new TypeError("Generator is already executing.");for(;ue&&(ue=0,pe[0]&&(ce=0)),ce;)try{if(Z=1,re&&(le=2&pe[0]?re.return:pe[0]?re.throw||((le=re.return)&&le.call(re),0):re.next)&&!(le=le.call(re,pe[1])).done)return le;switch(re=0,le&&(pe=[2&pe[0],le.value]),pe[0]){case 0:case 1:le=pe;break;case 4:return ce.label++,{value:pe[1],done:!1};case 5:ce.label++,re=pe[1],pe=[0];continue;case 7:pe=ce.ops.pop(),ce.trys.pop();continue;default:if(!((le=(le=ce.trys).length>0&&le[le.length-1])||pe[0]!==6&&pe[0]!==2)){ce=0;continue}if(pe[0]===3&&(!le||pe[1]>le[0]&&pe[1]<le[3])){ce.label=pe[1];break}if(pe[0]===6&&ce.label<le[1]){ce.label=le[1],le=pe;break}if(le&&ce.label<le[2]){ce.label=le[2],ce.ops.push(pe);break}le[2]&&ce.ops.pop(),ce.trys.pop();continue}pe=z.call(q,ce)}catch(xe){pe=[6,xe],re=0}finally{Z=le=0}if(5&pe[0])throw pe[1];return{value:pe[0]?pe[1]:void 0,done:!0}}([ye,he])}}}var R=Object.create?function(q,z,Z,re){re===void 0&&(re=Z);var le=Object.getOwnPropertyDescriptor(z,Z);le&&!("get"in le?!z.__esModule:le.writable||le.configurable)||(le={enumerable:!0,get:function(){return z[Z]}}),Object.defineProperty(q,re,le)}:function(q,z,Z,re){re===void 0&&(re=Z),q[re]=z[Z]};function P(q,z){for(var Z in q)Z==="default"||Object.prototype.hasOwnProperty.call(z,Z)||R(z,q,Z)}function L(q){var z=typeof Symbol=="function"&&Symbol.iterator,Z=z&&q[z],re=0;if(Z)return Z.call(q);if(q&&typeof q.length=="number")return{next:function(){return q&&re>=q.length&&(q=void 0),{value:q&&q[re++],done:!q}}};throw new TypeError(z?"Object is not iterable.":"Symbol.iterator is not defined.")}function O(q,z){var Z=typeof Symbol=="function"&&q[Symbol.iterator];if(!Z)return q;var re,le,ue=Z.call(q),ce=[];try{for(;(z===void 0||z-- >0)&&!(re=ue.next()).done;)ce.push(re.value)}catch(ie){le={error:ie}}finally{try{re&&!re.done&&(Z=ue.return)&&Z.call(ue)}finally{if(le)throw le.error}}return ce}function H(){for(var q=[],z=0;z<arguments.length;z++)q=q.concat(O(arguments[z]));return q}function U(){for(var q=0,z=0,Z=arguments.length;z<Z;z++)q+=arguments[z].length;var re=Array(q),le=0;for(z=0;z<Z;z++)for(var ue=arguments[z],ce=0,ie=ue.length;ce<ie;ce++,le++)re[le]=ue[ce];return re}function I(q,z,Z){if(Z||arguments.length===2)for(var re,le=0,ue=z.length;le<ue;le++)!re&&le in z||(re||(re=Array.prototype.slice.call(z,0,le)),re[le]=z[le]);return q.concat(re||Array.prototype.slice.call(z))}function F(q){return this instanceof F?(this.v=q,this):new F(q)}function A(q,z,Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re,le=Z.apply(q,z||[]),ue=[];return re={},ce("next"),ce("throw"),ce("return"),re[Symbol.asyncIterator]=function(){return this},re;function ce(xe){le[xe]&&(re[xe]=function(Oe){return new Promise(function(Ae,Le){ue.push([xe,Oe,Ae,Le])>1||ie(xe,Oe)})})}function ie(xe,Oe){try{(Ae=le[xe](Oe)).value instanceof F?Promise.resolve(Ae.value.v).then(ye,he):pe(ue[0][2],Ae)}catch(Le){pe(ue[0][3],Le)}var Ae}function ye(xe){ie("next",xe)}function he(xe){ie("throw",xe)}function pe(xe,Oe){xe(Oe),ue.shift(),ue.length&&ie(ue[0][0],ue[0][1])}}function _(q){var z,Z;return z={},re("next"),re("throw",function(le){throw le}),re("return"),z[Symbol.iterator]=function(){return this},z;function re(le,ue){z[le]=q[le]?function(ce){return(Z=!Z)?{value:F(q[le](ce)),done:!1}:ue?ue(ce):ce}:ue}}function E(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z,Z=q[Symbol.asyncIterator];return Z?Z.call(q):(q=L(q),z={},re("next"),re("throw"),re("return"),z[Symbol.asyncIterator]=function(){return this},z);function re(le){z[le]=q[le]&&function(ue){return new Promise(function(ce,ie){(function(ye,he,pe,xe){Promise.resolve(xe).then(function(Oe){ye({value:Oe,done:pe})},he)})(ce,ie,(ue=q[le](ue)).done,ue.value)})}}}function N(q,z){return Object.defineProperty?Object.defineProperty(q,"raw",{value:z}):q.raw=z,q}var k=Object.create?function(q,z){Object.defineProperty(q,"default",{enumerable:!0,value:z})}:function(q,z){q.default=z};function B(q){if(q&&q.__esModule)return q;var z={};if(q!=null)for(var Z in q)Z!=="default"&&Object.prototype.hasOwnProperty.call(q,Z)&&R(z,q,Z);return k(z,q),z}function j(q){return q&&q.__esModule?q:{default:q}}function M(q,z,Z,re){if(Z==="a"&&!re)throw new TypeError("Private accessor was defined without a getter");if(typeof z=="function"?q!==z||!re:!z.has(q))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Z==="m"?re:Z==="a"?re.call(q):re?re.value:z.get(q)}function G(q,z,Z,re,le){if(re==="m")throw new TypeError("Private method is not writable");if(re==="a"&&!le)throw new TypeError("Private accessor was defined without a setter");if(typeof z=="function"?q!==z||!le:!z.has(q))throw new TypeError("Cannot write private member to an object whose class did not declare it");return re==="a"?le.call(q,Z):le?le.value=Z:z.set(q,Z),Z}function Y(q,z){if(z===null||typeof z!="object"&&typeof z!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof q=="function"?z===q:q.has(z)}function J(q,z,Z){if(z!=null){if(typeof z!="object"&&typeof z!="function")throw new TypeError("Object expected.");var re;if(Z){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");re=z[Symbol.asyncDispose]}if(re===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");re=z[Symbol.dispose]}if(typeof re!="function")throw new TypeError("Object not disposable.");q.stack.push({value:z,dispose:re,async:Z})}else Z&&q.stack.push({async:!0});return z}var V=typeof SuppressedError=="function"?SuppressedError:function(q,z,Z){var re=new Error(Z);return re.name="SuppressedError",re.error=q,re.suppressed=z,re};function Q(q){function z(Z){q.error=q.hasError?new V(Z,q.error,"An error was suppressed during disposal."):Z,q.hasError=!0}return function Z(){for(;q.stack.length;){var re=q.stack.pop();try{var le=re.dispose&&re.dispose.call(re.value);if(re.async)return Promise.resolve(le).then(Z,function(ue){return z(ue),Z()})}catch(ue){z(ue)}}if(q.hasError)throw q.error}()}c.default={__extends:p,__assign:h,__rest:f,__decorate:b,__param:y,__metadata:S,__awaiter:D,__generator:T,__createBinding:R,__exportStar:P,__values:L,__read:O,__spread:H,__spreadArrays:U,__spreadArray:I,__await:F,__asyncGenerator:A,__asyncDelegator:_,__asyncValues:E,__makeTemplateObject:N,__importStar:B,__importDefault:j,__classPrivateFieldGet:M,__classPrivateFieldSet:G,__classPrivateFieldIn:Y,__addDisposableResource:J,__disposeResources:Q}}},a={};function i(u){var c=a[u];if(c!==void 0)return c.exports;var l=a[u]={exports:{}};return s[u](l,l.exports,i),l.exports}i.d=function(u,c){for(var l in c)i.o(c,l)&&!i.o(u,l)&&Object.defineProperty(u,l,{enumerable:!0,get:c[l]})},i.o=function(u,c){return Object.prototype.hasOwnProperty.call(u,c)},i.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})};var o={};return function(){var u=o;Object.defineProperty(u,"__esModule",{value:!0}),u.useReactToPrint=u.ReactToPrint=u.PrintContextConsumer=void 0;var c=i(328);Object.defineProperty(u,"PrintContextConsumer",{enumerable:!0,get:function(){return c.PrintContextConsumer}});var l=i(428);Object.defineProperty(u,"ReactToPrint",{enumerable:!0,get:function(){return l.ReactToPrint}});var d=i(892);Object.defineProperty(u,"useReactToPrint",{enumerable:!0,get:function(){return d.useReactToPrint}});var p=i(428);u.default=p.ReactToPrint}(),o}()})})(JC);var J4=JC.exports;const OK=({workInfo:n,isPdfOpen:r,pageNumber:t,numPages:e,handleViewDocument:s,onDocumentLoadSuccess:a,setPageNumber:i,WIContract:o,WILeaveEntitle:u,WIProbation:c,WIResignation:l,WITermination:d,uploadAL:p,uploadDep:h,uploadLP:f,uploadPR:b,uploadSP:y,invoiceRef:g,handlePrint:x})=>{const[v,w]=ne.useState(null),[S,D]=ne.useState(""),T=async H=>{try{const U=await Z1({path:H});console.log("File URL:",U.url.href),D(U.url.href),w(H)}catch(U){console.error("Error fetching the file URL:",U)}};console.log(S,"file");const R=H=>{try{const U=JSON.parse(H);return Array.isArray(U)?U.map(I=>(I.upload&&(I.fileName=I.upload.split("/").pop()),I)):[]}catch(U){return console.error("Error parsing document data:",U),[]}},P=()=>{w(null)},L=(H,U)=>m.jsx(m.Fragment,{children:H.map((I,F)=>m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-4 border border-gray-200",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("span",{className:"text-gray-700",children:["Uploaded on: ",I.date]}),m.jsx("button",{onClick:()=>T(I.upload),className:"text-blue-600 hover:text-blue-800",children:"View Document"})]}),v===I.upload&&I.upload.endsWith(".pdf")&&m.jsxs("div",{className:"mt-4",children:[m.jsxs("div",{className:"relative bg-white max-w-3xl mx-auto p-6 rounded-lg shadow-lg",children:[m.jsx("div",{ref:g,className:"flex justify-center",children:m.jsx("div",{children:m.jsx(v5,{file:S,onLoadSuccess:a,className:"w-full",children:m.jsx(_5,{pageNumber:t,className:" mx-auto"})})})}),m.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[m.jsx("button",{onClick:()=>i(t-1),disabled:t<=1,className:"bg-blue-600 text-black px-3 py-1 rounded-full text-sm hover:bg-blue-800",children:"Previous"}),m.jsxs("span",{className:"text-gray-700",children:["Page ",t," of ",e]}),m.jsx("button",{onClick:()=>i(t+1),disabled:t>=e,className:"bg-blue-600 text-black px-3 py-1 rounded-full text-sm hover:bg-blue-800",children:"Next"})]}),m.jsx("div",{className:"absolute top-2 right-2",children:m.jsxs("button",{onClick:P,className:"bg-red-600 text-black px-3 py-1 rounded-full text-sm hover:bg-red-800",children:[m.jsx(Of,{})," "]})})]}),m.jsxs("div",{className:"flex items-center justify-center gap-6 py-4",children:[m.jsx("div",{className:"mt-2 flex",children:m.jsxs("button",{className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:[m.jsx("a",{href:I.upload,download:!0,children:"Download"}),m.jsx(Mf,{className:"ml-2 mt-1"})]})}),m.jsx("div",{className:"mt-2 flex",children:m.jsxs("button",{onClick:()=>J4.useReactToPrint(),className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:["Print",m.jsx(_h,{className:"ml-2 mt-1"})]})})]})]}),v===I.upload&&!I.upload.endsWith(".pdf")&&m.jsxs("div",{ref:g,className:"relative mt-4",children:[m.jsx("img",{src:S,alt:"Document Preview",className:"w-full h-auto"}),m.jsx("div",{className:"absolute top-2 right-2",children:m.jsxs("button",{onClick:P,className:"bg-red-600 text-black px-3 py-1 rounded-full text-sm hover:bg-red-800",children:[m.jsx(Of,{})," "]})}),m.jsxs("div",{className:"flex items-center justify-center gap-6 py-4",children:[m.jsx("div",{className:"mt-2 flex",children:m.jsxs("button",{className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:[m.jsx("a",{href:S,download:!0,children:"Download"}),m.jsx(Mf,{className:"ml-2 mt-1"})]})}),m.jsx("div",{className:"mt-2 flex",children:m.jsxs("button",{onClick:()=>J4.useReactToPrint(),className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:["Print",m.jsx(_h,{className:"ml-2 mt-1"})]})})]})]})]},F))}),O=(H,U)=>{const I=H&&H.length>0?R(H[0]):[];return m.jsxs("div",{className:"py-4",children:[m.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey ",children:U}),I.length>0?L(I):m.jsx("p",{children:"No documents and images available"})]})};return m.jsxs("section",{ref:g,className:"py-8 bg-gray-50 rounded-lg",children:[m.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"Work Info Details:"}),m.jsxs("div",{className:"space-y-6",children:[m.jsx("h6",{className:"text-xl font-semibold text-dark_grey",children:"Employee Info"}),m.jsx("div",{className:"grid grid-cols-3 gap-y-4 gap-x-2",children:Object.entries(n.employeeDetails).map(([H,U],I)=>m.jsxs(St.Fragment,{children:[m.jsx("span",{className:"text-gray-800",children:H}),m.jsx("span",{className:"text-center text-gray-700",children:":"}),m.jsx("span",{className:"text-gray-800",children:U||"N/A"})]},I))})]}),m.jsxs("div",{className:"mt-8",children:[m.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"Leave Details"}),m.jsx("div",{className:"grid grid-cols-3 gap-y-4 gap-x-2",children:Object.entries(n.LeaveDetails).map(([H,U],I)=>m.jsxs(St.Fragment,{children:[m.jsx("span",{className:"text-gray-800",children:H}),m.jsx("span",{className:"text-center text-gray-700",children:":"}),m.jsx("span",{className:"text-gray-800",children:U||"N/A"})]},I))})]}),m.jsxs("div",{className:"mt-8",children:[m.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"Service Road Details"}),m.jsx("div",{className:"grid grid-cols-3 gap-y-4 gap-x-2",children:Object.entries(n.ServiceRoad).map(([H,U],I)=>m.jsxs(St.Fragment,{children:[m.jsx("span",{className:"text-gray-800",children:H}),m.jsx("span",{className:"text-center text-gray-700",children:":"}),m.jsx("span",{className:"text-gray-800",children:U||"N/A"})]},I))})]}),m.jsxs("div",{className:"mt-8",children:[m.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"Service Road"}),O(p,"Annual Leave"),O(h,"Departure Documents"),O(f,"Leave Pass"),O(b,"Probation Report"),O(y,"Sick Pay")]}),m.jsxs("div",{className:"mt-8",children:[m.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"Employee Exit Details"}),m.jsx("div",{className:"grid grid-cols-3 gap-y-4 gap-x-2",children:Object.entries(n.TerminateDetails).map(([H,U],I)=>m.jsxs(St.Fragment,{children:[m.jsx("span",{className:"text-gray-800",children:H}),m.jsx("span",{className:"text-center text-gray-700",children:":"}),m.jsx("span",{className:"text-gray-800",children:U||"N/A"})]},I))})]}),m.jsxs("div",{className:"mt-8",children:[m.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"Terminate Documents"}),O(o,"Annual Leave"),O(u,"Departure Documents"),O(l,"Leave Pass"),O(d,"Probation Report"),O(c,"Sick Pay")]})]})},LK=({workPass:n,doeEmpUpload:r,lbrDepoUpload:t,sawpEmpUpload:e,nlmsEmpUpload:s,bankEmpUpload:a,jpEmpUpload:i,isPdfOpen:o,pageNumber:u,numPages:c,handleViewDocument:l,handleCloseViewer:d,onDocumentLoadSuccess:p,setPageNumber:h,handlePrint:f,invoiceRef:b})=>{const[y,g]=ne.useState(null),[x,v]=ne.useState(""),w=L=>{try{const O=JSON.parse(L);return Array.isArray(O)?O:[]}catch(O){return console.error("Error parsing document data:",O),[]}},S=[{name:"Doe",data:n.doe},{name:"Labour Deposit",data:n.labourDeposit},{name:"SAWP",data:n.swap},{name:"National",data:n.national},{name:"Bank",data:n.bank},{name:"JITPA",data:n.jitpa}],D=async L=>{try{const O=await Z1({path:L});v(O.url.href),g(L)}catch(O){console.error("Error fetching the file URL:",O)}},T=L=>m.jsx(m.Fragment,{children:L.map((O,H)=>m.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-4 border border-gray-200",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("span",{className:"text-gray-700",children:["Uploaded on: ",O.date]}),m.jsx("button",{onClick:()=>D(O.upload),className:"text-blue-600 hover:text-blue-800",children:"View Document"})]}),y===O.upload&&O.upload.endsWith(".pdf")&&m.jsxs("div",{className:"mt-4",children:[m.jsxs("div",{className:"relative bg-white max-w-3xl mx-auto p-6 rounded-lg shadow-lg",children:[m.jsx("div",{ref:b,className:"flex justify-center",children:m.jsx("div",{children:m.jsx(v5,{file:x,onLoadSuccess:p,className:"w-full",children:m.jsx(_5,{pageNumber:u,className:"mx-auto"})})})}),m.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[m.jsx("button",{onClick:()=>h(u-1),disabled:u<=1,className:"bg-blue-600 text-black px-3 py-1 rounded-full text-sm hover:bg-blue-800",children:"Previous"}),m.jsxs("span",{className:"text-gray-700",children:["Page ",u," of ",c]}),m.jsx("button",{onClick:()=>h(u+1),disabled:u>=c,className:"bg-blue-600 text-black px-3 py-1 rounded-full text-sm hover:bg-blue-800",children:"Next"})]}),m.jsx("div",{className:"absolute top-2 right-2",children:m.jsxs("button",{onClick:()=>g(null),className:"bg-red-600 text-black px-3 py-1 rounded-full text-sm hover:bg-red-800",children:[m.jsx(Of,{})," "]})})]}),m.jsxs("div",{className:"flex items-center justify-center gap-6 py-4",children:[m.jsx("div",{className:"mt-2 flex",children:m.jsxs("button",{className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:[m.jsx("a",{href:x,download:!0,children:"Download"}),m.jsx(Mf,{className:"ml-2 mt-1"})]})}),m.jsx("div",{className:"mt-2 flex",children:m.jsxs("button",{onClick:f,className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:["Print",m.jsx(_h,{className:"ml-2 mt-1"})]})})]})]}),y===O.upload&&!O.upload.endsWith(".pdf")&&m.jsxs("div",{ref:b,className:"relative mt-4",children:[m.jsx("img",{src:x,alt:"Document Preview",className:"w-full h-auto"}),m.jsx("div",{className:"absolute top-2 right-2",children:m.jsxs("button",{onClick:()=>g(null),className:"bg-red-600 text-black px-3 py-1 rounded-full text-sm hover:bg-red-800",children:[m.jsx(Of,{})," "]})}),m.jsxs("div",{className:"flex items-center justify-center gap-6 py-4",children:[m.jsx("div",{className:"mt-2 flex",children:m.jsxs("button",{className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:[m.jsx("a",{href:x,download:!0,children:"Download"}),m.jsx(Mf,{className:"ml-2 mt-1"})]})}),m.jsx("div",{className:"mt-2 flex",children:m.jsxs("button",{onClick:f,className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:["Print",m.jsx(_h,{className:"ml-2 mt-1"})]})})]})]})]},H))}),R=(L,O)=>{const H=L&&L.length>0?w(L[0]):[];return m.jsxs("div",{className:"py-4",children:[m.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey ",children:O}),H.length>0?T(H):m.jsx("p",{children:"No documents and images available"})]})},P=L=>m.jsx("div",{className:"grid grid-cols-3 gap-y-4 items-center",children:Object.entries(L).map(([O,H],U)=>m.jsxs(St.Fragment,{children:[m.jsx("span",{className:"text-gray-800",children:O}),m.jsx("span",{className:"text-gray-500 text-center",children:":"}),m.jsx("span",{className:"text-gray-800",children:Array.isArray(H)?H.length>0?H.slice(-1).concat(H.slice(0,-1)).map((I,F)=>m.jsxs("div",{className:`text-gray-600 ${F===0?"font-bold text-green-600":""}`,children:[I,F<H.length-1&&", "]},F)):m.jsx("span",{className:"text-gray-500",children:"N/A"}):H||m.jsx("span",{className:"text-gray-500",children:"N/A"})})]},U))});return m.jsxs("section",{ref:b,className:"py-8 bg-gray-50 rounded-lg",children:[m.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"WorkPass Details:"}),m.jsx("div",{className:"space-y-6",children:S.map(({name:L,data:O,upload:H},U)=>m.jsxs("div",{children:[m.jsx("h6",{className:"text-lg font-semibold text-dark_grey mb-4",children:L}),m.jsx("div",{classname:"flex-1",children:P(O)})]},U))}),m.jsxs("div",{className:"mt-8",children:[m.jsx("h6",{className:"uppercase text-xl font-semibold text-dark_grey mb-6",children:"Uploaded Documents:"}),R(r,"Doe Employee Upload"),R(t,"Labour Deposit Upload"),R(e,"SAWP Employee Upload"),R(s,"National Upload"),R(a,"Bank Upload"),R(i,"JITPA Upload")]})]})},FK=({passingValue:n,handleFormShow:r})=>{const[t,e]=ne.useState(0),[s,a]=ne.useState(1),[i,o]=ne.useState(null),[u,c]=ne.useState(!1),[l,d]=ne.useState(null),[p,h]=ne.useState(1),f=ne.useRef(),b=J4.useReactToPrint({content:()=>f.current,onBeforePrint:()=>console.log("Preparing print..."),onAfterPrint:()=>console.log("Print complete"),pageStyle:"print"}),y=Ls=>{if(!Ls||!Array.isArray(Ls)||typeof Ls[0]!="string")return{};let Ds=Ls[0];return Ds.startsWith("{")&&Ds.endsWith("}")&&(Ds=Ds.slice(1,-1)),Ds.split(",").map(_s=>_s.trim()).reduce((_s,nu)=>{const[$s,_o]=nu.split("=").map($a=>$a.trim());return $s&&_o&&(_s[$s]=decodeURIComponent(_o)),_s},{})},g=Ls=>{o(Ls),c(!0),h(1)},x=()=>{c(!1),o(null)},v=({numPages:Ls})=>{d(Ls)},w=Ls=>{e(Ls),a(1)},S=Ls=>{if(Array.isArray(Ls))return Ls.map(nu=>{const $s=new Date(nu);if(isNaN($s.getTime()))return"N/A";const _o=$s.getDate().toString().padStart(2,"0"),$a=($s.getMonth()+1).toString().padStart(2,"0"),su=$s.getFullYear();return`${_o}/${$a}/${su}`});const Ds=new Date(Ls);if(isNaN(Ds.getTime()))return"N/A";const nc=Ds.getDate().toString().padStart(2,"0"),ru=(Ds.getMonth()+1).toString().padStart(2,"0"),_s=Ds.getFullYear();return`${nc}/${ru}/${_s}`},{age:D,email:T,aTQualify:R,agent:P,alternateNo:L,accidentIns:O,accommodation:H,accommodationAddress:U,bankAmt:I,bankEmpUpload:F,bankEndorse:A,bankRece:_,bankRefNo:E,bankSubmit:N,bankValid:k,bruhimsRD:B,bruhimsRNo:j,bruneiMAD:M,bruneiME:G,bwnIcColour:Y,bwnIcExpiry:J,bwnIcNo:V,chinese:Q,cob:q,contactNo:z,contractType:Z,ctryOfOrigin:re,dependPass:le,dob:ue,doeEmpApproval:ce,doeEmpRefNo:ie,doeEmpSubmit:ye,doeEmpUpload:he,doeEmpValid:pe,driveLic:xe,eduDetails:Oe,educLevel:Ae,empBadgeNo:Le,empID:He,empType:Ye,empUpDocs:it,familyDetails:bt,gender:tt,inducBrief:$e,inducBriefUp:at,jitpaAmt:ze,jpEmpUpload:wt,jpEndorse:vt,jpValid:kt,lang:pt,lbrDepoAmt:At,lbrDepoSubmit:$t,lbrDepoUpload:Tt,lbrReceiptNo:fr,marital:ur,myIcNo:er,name:Sr,nationalCat:tr,nationality:Wt,nlmsEmpApproval:or,nlmsEmpSubmit:Ir,nlmsEmpSubmitRefNo:Jt,nlmsEmpUpload:wr,nlmsEmpValid:Lr,nlmsRefNo:Lt,oCOfOrigin:Er,officialEmail:Cr,otherNation:lr,otherRace:qe,otherReligion:rt,overMD:fe,overME:Ee,permanentAddress:Se,permitType:we,ppDestinate:Pe,ppExpiry:Re,ppIssued:Ve,ppNo:ot,preEmp:Ke,preEmpPeriod:et,profilePhoto:ct,race:Nt,religion:Ft,sawpEmpLtrReci:zt,sawpEmpLtrReq:Rt,sawpEmpUpload:ke,tbaPurchase:Ge,uploadBwn:mt,uploadFitness:Et,uploadRegis:Yt,contractEnd:Ht,contractPeriod:Vt,contractStart:Tr,createdAt:vr,department:Nr,doj:ir,hr:_r,id:nn,jobCat:sn,jobDesc:An,manager:Vn,otherDepartment:Ms,otherJobCat:as,otherPosition:sa,position:Xn,probationEnd:vi,probationStart:xi,relationship:an,salaryType:Wr,sapNo:ri,skillPool:ni,supervisor:vo,updatedAt:ks,upgradeDate:Vs,upgradePosition:si,workHrs:xo,workMonth:Wa,workStatus:za,workWeek:va,annualLeave:xl,annualLeaveDate:ms,compasLeave:Jl,compasLeaveDate:Uo,dateLeavePass:Dr,destinateLeavePass:Zl,durLeavePass:wl,leavePass:Da,materLeave:Ch,materLeaveDate:Dh,mrageLeave:_l,mrageLeaveDate:rd,paterLeave:Xf,paterLeaveDate:Jf,sickLeave:Zf,sickLeaveDate:nd,otherResignNotConf:bn,otherResignNotProb:dn,otherTermiNotConf:Qf,otherTermiNotProb:Ql,reasonResign:sd,reasonTerminate:Kc,resignDate:Th,resignNotConf:jh,resignNotProb:ad,termiDate:Ih,termiNotConf:$n,termiNotProb:Xi,workInfoUploads:Sl,depEmp:Ho,depEmpDate:ai,positionRev:xa,positionRevDate:El,remarkWI:Ph,revALD:ec,revAnnualLeave:Rh,revLeaveDate:Xc,revLeavePass:Jc,revSalary:wa,revSalaryDate:Zc,uploadAL:_a,uploadDep:id,uploadLP:od,uploadPR:wo,uploadSP:qo,applicationUpload:Wo,bwnUpload:Rn,cvCertifyUpload:Ta,loiUpload:tc,myIcUpload:se,paafCvevUpload:me,ppUpload:Be,supportDocUpload:Xe,WIContract:dt,WILeaveEntitle:_t,WIProbation:Ut,WIResignation:Zt,WITermination:br,groupIns:Ur,groupInsEffectDate:Fr,groupInsEndDate:tn,travelIns:Jn,workmePolicyNo:us,workmenComp:Cs,empInsUpload:Os,depInsurance:gs}=n,Ji={Name:Sr,"Employee ID":He,"Date Of Birth":S(ue),Age:D,Gender:tt,Position:Array.isArray(Xn)&&Xn.length>0?Xn[0]:"Position not available","Contact No":z,"Alternate Number":L,Email:T,"Official Email":Cr,"Marital Status":ur,Language:pt,"Driving License":xe,Race:Nt,"Other Race":qe,Religion:Ft,"Other Religion":rt,Nationality:Wt,"Other Nationality":lr,"National Category":tr,"Country of birth":q,"Country of Origin":re,"Other country of origin":Er,"Contract Type":Z,"Employee Type":Ye,"Employee Badge No":Le,"Sap No":ri,"Chinese character":Q,"Agent Name":P,"Date of Induction Briefing":S($e),"Brunei IC Colour":Y,"Brunei IC Expiry":S(J),"Brunei IC Number":V,"Malaysian IC Number":er,"Passport no":ot,"Passport issued destination":Pe,"Passport Expiry":S(Re),"Passport Issue Date":S(Ve),"Previous Employment Details":Ke,"Previous Employment Period":et},Va={"Education Details":Oe,"Highlight Education":Ae,"Academic / Technical qualification":R},bs={"Overseas Medical Fitness issued date":S(fe),"Overseas Medical Fitness Expiry":S(Ee),"Date submitted of BruHims Registration":S(B),"BruHims Registration Number":j,"Brunei Medical Appointment Date":S(M),"Brunei Medical Fitness Expiry":S(G)},Qc={DependPass:le},zo={Accommodation:H,"Accommodation Address":U},eu={"Accident Insurance":O,"Employee Insurance Upload":Os,"Group H&S Insurance":Ur,"Group H&S Insurance Enrollment Effective Date":Fr,"Group H&S Insurance Enrollment End Date":tn,"Travelling Insurance":Jn,"Workmen Policy Number":us,"Workmen Compensation Insurance":Cs},rc={"Dependent Insurance":gs};console.log(gs);const ld={employeeDetails:{"Contract End Date":S(Ht),"Contract Period":Vt,"Contract Start Date":S(Tr),Department:Nr,"Date of Joining":S(ir),"Employee ID":He,"HR Representative":_r,"Job Category":sn,"Job Description":An,Manager:Vn,"Other Department":Ms,"Other Job Category":as,"Other Position":sa,Position:Xn,"Probation End Date":S(vi),"Probation Start Date":S(xi),"Relationship Status":an,"Salary Type":Wr,"SAP Number":ri,"Skill Pool":ni,Supervisor:vo,"Upgrade Date":S(Vs),"Upgrade Position":si,"Work Hours per Day":xo,"Work Month":Wa,"Work Status":za,"Work Week":va},LeaveDetails:{"Annual Leave":xl,"Annual Leave Date":ms,"Compassionate Leave":Jl,"Compassionate Leave Date":S(Uo),"Leave Pass Date":S(Dr),"Destination Leave Pass":S(Zl),"Duration Leave Pass":wl,"Employee ID":He,"Leave Pass":Da,"Maternity Leave":Ch,"Maternity Leave Date":S(Dh),"Marriage Leave":_l,"Marriage Leave Date":S(rd),"Paternity Leave":Xf,"Paternity Leave Date":S(Jf),"Sick Leave":Zf,"Sick Leave Date":S(nd)},TerminateDetails:{"Other Resignation Not Confirmed":bn,"Other Resignation Not Probation":dn,"Other Termination Not Confirmed":Qf,"Other Termination Not Probation":Ql,"Resignation Reason":sd,"Termination Reason":Kc,"Resignation Date":Th,"Resignation Not Confirmed":jh,"Resignation Not Probation":ad,"Termination Date":Ih,"Termination Not Confirmed":$n,"Termination Not Probation":Xi},ServiceRoad:{"Dependent Employee":Ho,"Dependent Employee Date":S(ai),"Position Revision":xa,"Position Revision Date":S(El),"Remark for Work Info":Ph,"Revised ALD":ec,"Revised Annual Leave":Rh,"Revised Leave Date":S(Xc),"Revised Leave Pass":Jc,"Revised Salary":wa,"Revised Salary Date":S(Zc)}},cd={doe:{"Date Of Submission":S(ye),"Date Of Approval":S(ce),"Valid Until":S(pe),"DOE Reference Number":ie},labourDeposit:{"Labour Deposit Receipt Number":fr,"Deposit Amount":At,"Date Endorsement Of Labour Deposit":$t},swap:{"Client Support Letter Requested Date":S(Rt),"Client Support Letter Received Date":S(zt)},national:{"Type of Work Permit Application":we,"Date Of Submission":S(Ir),"Submission Reference Number":Jt,"Date Of Approval":S(or),"LD Reference Number":Lt,"Valid Until":S(Lr)},bank:{"Date Of Submission":S(N),"Date Received":S(_),"BG Reference Number":E,"Bank Guarantee Amount":I,"Bank Valid Until":S(k),"Date Endorsement Of BG":S(A)},jitpa:{"TBA Purchase Date":S(Ge),"JITPA Amount":ze,"Valid Until":S(kt),"Date Endorsement Of Jitpa":S(vt)},immigration:{"Passport no":ot}},tu=y(n.uploadBwn),aa=y(n.workInfoUploads);return m.jsx(m.Fragment,{children:m.jsx("section",{className:"bg-white flex flex-col fixed top-0 left-0 bg-grey w-full h-full z-[9999] center",children:m.jsx("div",{className:"bg-white py-10 px-10 h-screen w-[85%]",children:m.jsxs("div",{className:"empScroll border bg-white px-10 overflow-y-auto h-[90vh] space-y-5 rounded-lg w-full",children:[m.jsxs("div",{className:"bg-white mt-6 sticky top-0 flex justify-between items-center z-40",children:[m.jsx("div",{className:"max-w-[200px] w-full",children:m.jsx("img",{src:$m,alt:"Logo not found"})}),m.jsx("h6",{className:"text-center text-2xl font-medium text-dark_grey",children:"Employee Details"}),m.jsx("p",{onClick:r,className:"text-2xl text-dark_grey",children:m.jsx(sH,{})})]}),m.jsxs("div",{className:"",children:[m.jsx(JV,{activeTab:t,handleTabClick:w}),m.jsxs("div",{className:"mt-5",children:[t===0&&m.jsx(jK,{personalDetails:Ji,profilePhoto:ct,isPdfOpen:u,viewingDocument:i,pageNumber:p,numPages:l,handleViewDocument:g,handleCloseViewer:x,onDocumentLoadSuccess:v,setPageNumber:h,inducBriefUp:at,applicationUpload:Wo,bwnUpload:Rn,cvCertifyUpload:Ta,loiUpload:tc,myIcUpload:se,paafCvevUpload:me,ppUpload:Be,supportDocUpload:Xe,handlePrint:b,invoiceRef:f,educationalDetails:Va}),t===1&&m.jsx(IK,{familyDetails:bt,handlePrint:b,invoiceRef:f}),t===2&&m.jsx(PK,{medicalInfo:bs,dependenPass:Qc,uploadFitness:Et,uploadBwn:mt,documentsTwo:tu,uploadRegis:Yt,handlePrint:b,invoiceRef:f,dependPass:le}),t===3&&m.jsx(RK,{accommodationInfo:zo,handlePrint:b,invoiceRef:f}),t===4&&m.jsx(MK,{insuranceInfo:eu,DependentInsurance:rc,handlePrint:b,invoiceRef:f,depInsurance:gs,empInsUpload:Os}),t===5&&m.jsx(OK,{workInfo:ld,documentThree:aa,isPdfOpen:u,viewingDocument:i,setViewingDocument:o,pageNumber:p,numPages:l,handleViewDocument:g,handleCloseViewer:x,onDocumentLoadSuccess:v,setPageNumber:h,uploadAL:_a,uploadDep:id,uploadLP:od,uploadPR:wo,uploadSP:qo,handlePrint:b,invoiceRef:f,WIContract:dt,WILeaveEntitle:_t,WIProbation:Ut,WIResignation:Zt,WITermination:br}),t===6&&m.jsx(LK,{workPass:cd,doeEmpUpload:he,lbrDepoUpload:Tt,sawpEmpUpload:ke,nlmsEmpUpload:wr,bankEmpUpload:F,jpEmpUpload:wt,isPdfOpen:u,viewingDocument:i,pageNumber:p,numPages:l,handleViewDocument:g,handleCloseViewer:x,onDocumentLoadSuccess:v,setPageNumber:h,inducBriefUp:at,handlePrint:b,invoiceRef:f})]}),m.jsx("div",{className:"flex justify-center py-6",children:m.jsxs("button",{onClick:b,className:"bg-primary text-dark_grey text_size_3 rounded-md px-4 py-2 flex gap-2",children:["Print",m.jsx(_h,{className:"ml-2 mt-1"})]})})]})]})})})})};kr();const BK=()=>{const{userData:n,empLeaveStatusData:r,educDetailsData:t,empPDData:e,empPIData:s,IDData:a,workInfoData:i,terminateData:o,leaveDetailsData:u,SRData:c,DNData:l,BJLData:d,PPValidsData:p,LMIData:h,EmpInsuranceData:f,depInsuranceData:b,NLAData:y,SawpDetails:g}=ne.useContext(Wn);ne.useState("");const[x,v]=ne.useState([]),[w,S]=ne.useState([]),[D,T]=ne.useState(!0),[R,P]=ne.useState(null),[L,O]=ne.useState(!1),[H,U]=ne.useState([]);ne.useState(x);const[I,F]=ne.useState(1),[A,_]=ne.useState(30),[E,N]=ne.useState([]);if(ne.useState([]),ne.useEffect(()=>{if(n&&r&&t&&e&&s&&a&&i&&o&&u&&c&&l&&d&&p&&h&&f&&b&&y&&g){const M=s.map(G=>{const Y=a.find(Ae=>Ae.empID===G.empID)||{},J=e.find(Ae=>Ae.empID===G.empID)||{},V=l.find(Ae=>Ae.empID===G.empID)||{},Q=d.find(Ae=>Ae.empID===G.empID)||{},q=p.find(Ae=>Ae.empID===G.empID)||{},z=h.find(Ae=>Ae.empID===G.empID)||{},Z=f.find(Ae=>Ae.empID===G.empID)||{},re=b.find(Ae=>Ae.empID===G.empID)||{},le=y.find(Ae=>Ae.empID===G.empID)||{},ue=o.find(Ae=>Ae.empID===G.empID)||{},ce=u.find(Ae=>Ae.empID===G.empID)||{},ie=c.find(Ae=>Ae.empID===G.empID)||{},ye=r.find(Ae=>Ae.empID===G.empID)||{},he=t.find(Ae=>Ae.empID===G.empID)||{},pe=i.find(Ae=>Ae.empID===G.empID)||{},xe=n.find(Ae=>Ae.empID===G.empID)||{},Oe=g.find(Ae=>Ae.empID===G.empID)||{};return{...G,...Y,...J,...V,...Q,...q,...z,...Z,...re,...le,...ue,...ce,...ie,...ye,...he,...pe,...xe,...Oe}}).filter(G=>G==null?void 0:G.empID).reduce((G,Y)=>(G.some(J=>J.empID===Y.empID)||G.push(Y),G),[]).sort((G,Y)=>G.empID.localeCompare(Y.empID));v(M),S(M),M.length>0?(T(!1),P(null)):(P("No data found."),T(!1))}else T(!0)},[n,r,t,e,s,a,i,o,u,c,l,d,p,h,f,b,y,g]),ne.useEffect(()=>{const j=(I-1)*A,M=w.slice(j,j+A);N(M)},[w,I,A]),D)return m.jsx("div",{children:"Loading..."});if(R)return m.jsxs("div",{children:["Error: ",R]});const k=j=>{O(!L),U(j)},B=j=>{const M=new Date(j),G=M.getDate().toString().padStart(2,"0"),Y=(M.getMonth()+1).toString().padStart(2,"0"),J=M.getFullYear();return`${G}/${Y}/${J}`};return m.jsxs("section",{className:"bg-[#F5F6F1CC] w-full flex items-center flex-col h-screen pt-14",children:[m.jsxs("div",{className:"w-full px-10 flex justify-between items-center mb-10",children:[m.jsx("div",{className:"bg-[#faf362] py-2 px-3 rounded-lg text-[18px] font-semibold",children:"All Employee Details"}),m.jsxs("div",{className:"relative",children:[m.jsx(Gf,{type:"text",placeholder:"Search by Name or Emp ID",allEmpDetails:x,searchUserList:S,className:"py-2 px-4 rounded-lg shadow-[0_1px_6px_1px_rgba(0,0,0,0.2)]"}),m.jsx("img",{src:XV,alt:"Search Icon",className:"absolute top-1/2 right-2 transform -translate-y-1/2 w-4 h-4"})]})]}),m.jsx("div",{className:" overflow-x-auto  mt-8 w-[100%] ml-4 rounded-md",children:m.jsx("div",{className:"w-full px-4 max-h-[calc(70vh-7rem)] overflow-y-auto",children:m.jsxs("table",{className:"w-full rounded-xl table-auto",children:[m.jsx("thead",{className:"bg-[#939393] text-center text-white sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{className:" py-4 px-2 ",children:"Employee Id"}),m.jsx("th",{className:"py-4 px-2 ",children:"Badge No"}),m.jsx("th",{className:"py-4 px-2",children:"Name"}),m.jsx("th",{className:"py-4 px-2 ",children:"DOB"}),m.jsx("th",{className:"py-4 px-2",children:"Nationality"}),m.jsx("th",{className:"py-4 px-2 ",children:"Email"}),m.jsx("th",{className:"py-4 px-2 ",children:"Contact No"}),m.jsx("th",{className:"py-4 px-2 ",children:"Status"})]})}),m.jsx("tbody",{className:"bg-white text-center text-sm font-semibold text-dark_grey",children:E.map((j,M)=>m.jsxs("tr",{className:"shadow-[0_3px_6px_1px_rgba(0,0,0,0.2)]",onClick:()=>{console.log("Clicked candidate data:",j),k(j)},children:[m.jsx("td",{className:" py-4 px-4 ",children:(j==null?void 0:j.empID)||"N/A"}),m.jsx("td",{className:" py-4 px-4 ",children:(j==null?void 0:j.empBadgeNo)||"N/A"}),m.jsx("td",{className:"py-4 px-4 ",children:(j==null?void 0:j.name)||"N/A"}),m.jsx("td",{className:"py-4 px-4",children:B((j==null?void 0:j.dob)||"N/A")}),m.jsx("td",{className:"py-4 px-4",children:(j==null?void 0:j.nationality)||"N/A"}),m.jsx("td",{className:"py-4 px-4 ",children:(j==null?void 0:j.email)||"N/A"}),m.jsx("td",{className:"py-4 px-4 ",children:(j==null?void 0:j.contactNo)||"N/A"}),m.jsx("td",{className:"py-4 px-4 ",children:(j==null?void 0:j.workStatus)||"N/A"})]},M))})]})})}),L&&m.jsx(FK,{passingValue:H,handleFormShow:k}),m.jsx("div",{className:"flex justify-center",children:m.jsx("div",{className:"ml-[750px] flex justify-between mt-12 px-10",children:m.jsx(Zm,{currentPage:I,totalPages:Math.ceil(w.length/A),onPageChange:j=>{j>=1&&j<=Math.ceil(w.length/A)&&F(j)}})})})]})},Sn=n=>new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.?)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(n),Z4=Kn().shape({name:Ue().required("Name is mandatory"),relationship:Ue().required("Relationship is mandatory"),contact:Ue().required("Contact Number is mandatory"),address:Ue().required("Address is mandatory")}),UK=n=>Or().test("is-valid-family-details","Invalid family details",r=>{if(typeof r=="string")try{const t=JSON.parse(r);return Array.isArray(t)?t.every(e=>Z4.isValidSync(e)):!1}catch{return!1}else if(Array.isArray(r))return Kr().of(Z4).isValidSync(r);return!1}),HK=Kn().shape({depenInsType:Ue().required("Insurance type is required"),depenInfo:Ue().required("Dependent information is required"),depenName:Ue().required("Name is required"),depenRelation:Ue().required("Relationship is required"),depenGender:Ue().required("Gender is required"),depenIcNumber:Ue().notRequired(),depenDob:Ue().required("Date of Birth is required"),depenNation:Ue().required("Nationality is required"),depenPpNo:Ue().notRequired(),depenBcNo:Ue().required("Birth Certificate number is required for non-locals"),depenGroupInsEffect:Ue().notRequired(),depenGroupInsEnd:Ue().notRequired(),depenTravelInsEffect:Ue().notRequired(),depenTravelInsEnd:Ue().notRequired(),depenPersonInsEffect:Ue().notRequired(),depenPersonInsEnd:Ue().notRequired(),depenotherNation:Ue().when("depenNation",{is:"Other",then:Ue().required("Other nationality is required"),otherwise:Ue().notRequired()}),depenInfUpload:Kr().of(Or().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired()}),qK=n=>Or().test("is-valid-family-details","Invalid family details",r=>{if(typeof r=="string")try{const t=JSON.parse(r);return Array.isArray(t)?t.every(e=>HK.isValidSync(e)):!1}catch{return!1}else if(Array.isArray(r))return Kr().of(Z4).isValidSync(r);return!1});Ue().matches(/^(0[1-9]|[12][0-9]|3[01])-(0[1-9]|1[0-2])-\d{4}$/,"Date must be in the format dd-mm-yyyy").notRequired().test("is-valid-date","Invalid date format",n=>{if(!n)return!0;const[r,t,e]=n.split("-"),s=new Date(`${e}-${t}-${r}`);return!isNaN(s.getTime())});const WK=Kn().shape({empID:Ue().required("Employee ID Number is mandatory"),empBadgeNo:Ue().notRequired(),name:Ue().notRequired(),accommodation:Ue().required("Accommodation is required"),accommodationAddress:Ue().required("Accommodation Address is required")}),zK=Kn().shape({empID:Ue().required("Employee ID Number is mandatory"),overMD:Yn().nullable().transform((n,r)=>r===""?null:n).notRequired(),overME:Yn().nullable().transform((n,r)=>r===""?null:n).notRequired(),bruhimsRD:Yn().nullable().transform((n,r)=>r===""?null:n).notRequired(),bruhimsRNo:Ue().notRequired(),bruneiMAD:Yn().nullable().transform((n,r)=>r===""?null:n).notRequired(),bruneiME:Yn().nullable().transform((n,r)=>r===""?null:n).notRequired(),uploadFitness:Kr().of(Or().test("fileOrUrl","Only PDF allowed",n=>n instanceof File?["application/pdf"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),uploadRegis:Kr().of(Or().test("fileOrUrl","Only PDF allowed",n=>n instanceof File?["application/pdf"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),uploadBwn:Kr().of(Or().test("fileOrUrl","Only PDF allowed",n=>n instanceof File?["application/pdf"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),dependPass:Kr().of(Kn().shape({dependName:Ue().notRequired(),dependPpNo:Ue().notRequired(),dependPpE:Ue().notRequired(),relation:Ue().notRequired(),labourDPBy:Ue().notRequired(),labourDRNo:Ue().notRequired(),labourDAmount:Ue().notRequired().test("is-number","Only numbers are allowed",n=>!n||/^[0-9]+$/.test(n)),uploadDp:Kr().of(Or().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0)).notRequired(),uploadDr:Kr().of(Or().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0)).notRequired()}))}),VK=Kn().shape({empID:Ue().required("Employee ID is mandatory"),department:Ue().required("Department is mandatory"),otherDepartment:Ue().when("Department is mandatory",{is:n=>n&&n.trim().toLowerCase()==="other",then:()=>Ue().required("Other Department is mandatory"),otherwise:()=>Ue().notRequired()}),position:Ue().required("Position is mandatory"),otherPosition:Ue().when("Position is mandatory",{is:n=>n&&n.trim().toLowerCase()==="other",then:()=>Ue().required("Other Position is mandatory"),otherwise:()=>Ue().notRequired()}),jobCat:Ue().required("jobCategory is required"),otherJobCat:Ue().when("jobCategory is required",{is:n=>n&&n.trim().toLowerCase()==="other",then:()=>Ue().required("Other jobcat is required"),otherwise:()=>Ue().notRequired()}),doj:Ue().required("Date of Join is required").test("is-past-date","Date of joining must be in the past",n=>n?new Date(n)<new Date:!0),jobDesc:Ue().required("Job Description is required"),skillPool:Ue().required("Skill Pool is required"),relationship:Ue().required("Employee Status is required"),hr:Ue().notRequired(),manager:Ue().notRequired(),supervisor:Ue().notRequired(),upgradePosition:Ue().notRequired(),upgradeDate:Ue().notRequired(),contractPeriod:Ue().notRequired(),contractStart:Ue().notRequired().test("is-after-doj","Contract Start date must be after Date of Joining",function(n){const{doj:r}=this.parent;if(!r||!n)return!0;const t=new Date(r);return new Date(n)>t}),contractEnd:Ue().notRequired().test("is-after-contractStart","Contract End date must be after Contract Start date",function(n){const{contractStart:r}=this.parent;if(!r||!n)return!0;const t=new Date(r);return new Date(n)>t}),workStatus:Ue().required("Employment Work Status is required").notOneOf([""],"Employment Work Status is mandatory"),probationStart:Ue().notRequired().test("is-after-doj","Contract Start date must be after Date of Joining",function(n){const{doj:r}=this.parent;if(!r||!n)return!0;const t=new Date(r);return new Date(n)>t}),probationEnd:Ue().notRequired().test("is-after-probationStart","Probation End date must be after Probation Start date",function(n){const{probationStart:r}=this.parent;if(!r||!n)return!0;const t=new Date(r);return new Date(n)>t}),probDuration:Ue().notRequired(),workHrs:Ue().required("Normal Working Hours are required"),workWeek:Ue().required("Normal Working Week are required"),workMonth:Ue().required("Normal Working Month are required"),salaryType:Ue().required("Type of Salary Pay is mandatory").notOneOf([""],"Type of Salary Pay is mandatory"),resignDate:Ue().notRequired(),termiDate:Ue().notRequired(),resignNotProb:Ue().notRequired(),otherResignNotProb:Ue().notRequired(),termiNotProb:Ue().notRequired(),otherTermiNotProb:Ue().notRequired(),resignNotConf:Ue().notRequired(),otherResignNotConf:Ue().notRequired(),termiNotConf:Ue().notRequired(),otherTermiNotConf:Ue().notRequired(),reasonResign:Ue().notRequired(),reasonTerminate:Ue().notRequired(),leavePass:Ue().notRequired(),dateLeavePass:Ue().notRequired(),destinateLeavePass:Ue().notRequired(),durLeavePass:Ue().notRequired(),annualLeave:Ue().required("Annual Leave Entitlement Required"),annualLeaveDate:Ue().required("Annual Leave  Date is mandatory"),sickLeave:Ue().required("Sick Leave Entitlement Required"),sickLeaveDate:Ue().required("Sick Leave  Date is mandatory"),materLeave:Ue().notRequired(),materLeaveDate:Ue().notRequired(),paterLeave:Ue().notRequired(),paterLeaveDate:Ue().notRequired(),mrageLeave:Ue().notRequired(),mrageLeaveDate:Ue().notRequired(),compasLeave:Ue().notRequired(),compasLeaveDate:Ue().notRequired(),WIProbation:Kr().of(Or().test("fileOrUrl","Only PDF",n=>n instanceof File?["application/pdf"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),WIResignation:Kr().of(Or().test("fileOrUrl","Only PDF",n=>n instanceof File?["application/pdf"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),WITermination:Kr().of(Or().test("fileOrUrl","Only PDF",n=>n instanceof File?["application/pdf"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),WILeaveEntitle:Kr().of(Or().test("fileOrUrl","Only PDF",n=>n instanceof File?["application/pdf"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),WIContract:Kr().of(Or().test("fileOrUrl","Only PDF",n=>n instanceof File?["application/pdf"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),positionRev:Ue().notRequired(),positionRevDate:Ue().notRequired(),revSalary:Ue().notRequired(),revSalaryDate:Ue().notRequired(),revLeavePass:Ue().notRequired(),revLeaveDate:Ue().notRequired(),revAnnualLeave:Ue().notRequired(),revALD:Ue().notRequired(),depEmp:Ue().notRequired(),depEmpDate:Ue().notRequired(),remarkWI:Ue().notRequired(),uploadPR:Kr().of(Or().test("fileOrUrl","Only PDF",n=>n instanceof File?["application/pdf"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),uploadSP:Kr().of(Or().test("fileOrUrl","Only PDF",n=>n instanceof File?["application/pdf"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),uploadLP:Kr().of(Or().test("fileOrUrl","Only PDF",n=>n instanceof File?["application/pdf"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),uploadAL:Kr().of(Or().test("fileOrUrl","Only PDF",n=>n instanceof File?["application/pdf"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),uploadDep:Kr().of(Or().test("fileOrUrl","Only PDF",n=>n instanceof File?["application/pdf"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired()}),$K=Kn().shape({empID:Ue().required("Employee ID Number is mandatory"),profilePhoto:Ue().required("Upload Photo is mandatory"),contractType:Kr().of(Ue().required("Each Contract Type is mandatory")).min(1,"At least one Contract Type is required").required("Contract Type is mandatory"),empType:Kr().of(Ue().required("Each Employee Type is mandatory")).min(1,"At least one Employee Type is required").required("Employee Type is mandatory"),name:Ue().min(3,"Name must be at least 3 characters").matches(/^[A-Za-z\s]+$/,"Name cannot contain numbers or special characters").required("Name is mandatory"),gender:Ue().required("Gender is mandatory"),dob:Ue().required("Date of Birth is mandatory").test("age","You must be at least 15 years old",n=>{if(!n)return!1;const r=new Date,t=new Date(n),e=r.getFullYear()-t.getFullYear(),s=r.getMonth()-t.getMonth(),a=r.getDate()-t.getDate();return e>15||e===15&&(s>0||s===0&&a>=0)}),email:Ue().email("Please enter a valid email").required("Email is required"),officialEmail:Ue().email("Please enter a valid email").notRequired(),nationality:Ue().required("Nationality is mandatory"),otherNation:Ue().notRequired(),religion:Ue().required("Religion is mandatory"),marital:Ue().required("Marital status is mandatory"),race:Ue().required("Race is mandatory"),otherRace:Ue().notRequired(),bwnIcNo:Ue().notRequired(),bwnIcColour:Ue().notRequired(),bwnIcExpiry:Yn().nullable().transform((n,r)=>r===""?null:n).notRequired().test("is-future-date","Only Future Dates Allowed",function(n){return!n||new Date(n)>new Date}),myIcNo:Ue().notRequired(),ppNo:Ue().notRequired(),ppIssued:Yn().nullable().transform((n,r)=>r===""?null:n).notRequired().test("is-not-future-date","Future Date Not Allowed",function(n){return!n||new Date(n)<=new Date}),ppExpiry:Yn().nullable().transform((n,r)=>r===""?null:n).notRequired().test("is-future-date","Only Future Dates Allowed",function(n){return!n||new Date(n)>new Date}),ppDestinate:Ue().notRequired(),contactNo:Ue().required("Contact Number is mandatory"),permanentAddress:Ue().required("Address is mandatory"),empBadgeNo:Ue().required("Employee Badge Number is mandatory"),sapNo:Ue().notRequired(),nationalCat:Ue().required("National Category is mandatory"),ctryOfOrigin:Ue().required("Country of Origin is mandatory"),oCOfOrigin:Ue().notRequired(),educLevel:Ue().required("Education Level is mandatory"),aTQualify:Ue().required("Academic / Technical qualification is mandatory"),familyDetails:Or().test("is-valid-family-details","Invalid family details",function(n){const{path:r,createError:t}=this;return UK()?!0:t({path:r,message:"Invalid family details format or content"})}),inducBrief:Ue().required("Induction Briefing Date is mandatory"),inducBriefUp:Ue().notRequired(),preEmp:Ue().notRequired(),preEmpPeriod:Ue().notRequired(),bwnUpload:Kr().of(Or().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),applicationUpload:Kr().of(Or().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),cvCertifyUpload:Kr().of(Or().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),loiUpload:Kr().of(Or().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),myIcUpload:Kr().of(Or().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),paafCvevUpload:Kr().of(Or().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),ppUpload:Kr().of(Or().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),supportDocUpload:Kr().of(Or().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired()});Kn().shape({empID:Ue().required("Employee ID Number is mandatory"),insuranceDetails:Kr().of(Kn().shape({typeInsurance:Ue().required("Insurance Type is required"),insuranceCompany:Ue().required("Insurance Company is required")}))});const GK=Kn().shape({empBadgeNo:Ue().required("Employee Badge is required"),name:Ue().required("Employee Name is required"),department:Ue().required("Department is required"),position:Ue().required("Position is required"),doj:Ue().required("Date of Joining is required"),gender:Ue().required("Gender is required"),bwnIcNo:Ue().required("Brunei I/C Number is required"),ppNo:Ue().required("Passport Number is required for non-locals"),dob:Ue().required("Date of Birth is required"),marital:Ue().required("Marital Status is required"),nationality:Ue().required("Nationality is required"),groupIns:Ue().required("Group Insurance is required"),groupInsEffectDate:Ue().required("Effective Date is required"),groupInsEndDate:Ue().required("End Date is required"),workmenComp:Ue().required("Please Select Any Workmen Compensation Insurance"),workmePolicyNo:Ue().notRequired(),travelIns:Ue().required("Personal Accident Insurance is required"),accidentIns:Ue().required("Personal Accident Insurance is required"),empInsUpload:Kr().of(Or().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired()});Kn().shape({groupHSNumber:Ue().required("Group H&S Insurance Policy Number is required"),groupHSExpiry:Ue().required("Group H&S Insurance Policy Expiry is required"),workmenCompNumber:Ue().required("Workmen Compensation Insurance Number is required"),workmenCompExpiry:Ue().required("Workmen Compensation Insurance Expiry is required"),travellingNumber:Ue().required("Travelling Insurance Policy Number is required"),travellingExpiry:Ue().required("Travelling Insurance Policy Expiry is required"),personalAccidentNumber:Ue().required("Personal Accident Insurance Policy Number is required"),personalAccidentExpiry:Ue().required("Personal Accident Insurance Expiry is required"),groupHSUpload:Or().required("File is required").test("fileType","Only PDF files are allowed",n=>n&&/\.(pdf)$/.test(n.name)),workmenCompUpload:Or().required("File is required").test("fileType","Only PDF files are allowed",n=>n&&/\.(pdf)$/.test(n.name)),travellingUpload:Or().required("File is required").test("fileType","Only PDF files are allowed",n=>n&&/\.(pdf)$/.test(n.name)),personalAccidentUpload:Or().required("File is required").test("fileType","Only PDF files are allowed",n=>n&&/\.(pdf)$/.test(n.name))});const YK=Kn().shape({empID:Ue().required("Employee ID is required"),depInsurance:Or().test("is-valid-family-details","Invalid family details",function(n){const{path:r,createError:t}=this;return qK()?!0:t({path:r,message:"Invalid family details format or content"})})});Kn().shape({claimType:Ue().required("Insurance claim type is required"),dateSubmitted:Ue().required("Please select a name for the claim"),dateReported:Ue().required("Date reported to Insurance Company is required"),paymentReceived:Ue().required("Date of payment received from Insurance Company is required"),datePaid:Ue().required("Date paid to Employee is required"),claimUpload:Kr().of(Or().required("File is required").test("fileType","Only PDF files are allowed",n=>n&&/\.(pdf)$/.test(n.name))).min(1,"At least one file is required")});const KK=Kn().shape({empID:Ue().required("Employee ID is required"),sawpEmpLtrReq:Yn().nullable().transform((n,r)=>r===""?null:n).required("Requested Date is required").test("is-not-future-date","Future Date Not Allowed",n=>!n||n<=new Date),sawpEmpLtrReci:Yn().nullable().transform((n,r)=>r===""?null:n).notRequired().test("is-after-requested-date","Received Date cannot be before the Requested Date",function(n){const{sawpEmpLtrReq:r}=this.parent;return!n||!r||n>=r}),sawpEmpUpload:Kr().of(Or().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired()}),XK=Kn().shape({empID:Ue().required("Employee ID is required"),doeEmpSubmit:Yn().nullable().transform((n,r)=>r===""?null:n).required("Submission Date is required").test("is-not-future-date","Future Date Not Allowed",function(n){return!n||new Date(n)<=new Date}),doeEmpApproval:Yn().nullable().transform((n,r)=>r===""?null:n).notRequired().test("is-after-submission-date","Approval Date Must Be After Submitted Date",function(n){const{doeEmpSubmit:r}=this.parent;return!n||!r||new Date(n)>=new Date(r)}),doeEmpValid:Yn().nullable().transform((n,r)=>r===""?null:n).notRequired().test("is-after-approval-date","Expiry Date Must Be After Approval Date",function(n){const{doeEmpApproval:r}=this.parent;return!n||!r||new Date(n)>=new Date(r)}),doeEmpRefNo:Ue().notRequired(),doeEmpUpload:Kr().of(Or().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired()}),JK=Kn().shape({empID:Ue().required("Employee ID is Required"),permitType:Ue().required("Permit Type Required"),nlmsEmpSubmit:Yn().nullable().transform((n,r)=>r===""?null:n).required("Submission Date is Required").test("is-not-future-date","Future Date Not Allowed",n=>!n||new Date(n)<=new Date),nlmsEmpSubmitRefNo:Ue().notRequired(),nlmsEmpApproval:Yn().nullable().transform((n,r)=>r===""?null:n).notRequired().test("is-after-submission","Approval Date Must Be After Submitted Date",function(n){const{nlmsEmpSubmit:r}=this.parent;return!n||!r||new Date(n)>=new Date(r)}),nlmsRefNo:Ue().notRequired(),nlmsEmpValid:Yn().nullable().transform((n,r)=>r===""?null:n).notRequired().test("is-after-approval","Expiry Date Must Be After Approval Date",function(n){const{nlmsEmpApproval:r}=this.parent;return!n||!r||new Date(n)>=new Date(r)}),nlmsEmpUpload:Kr().of(Or().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired()}),ZK=Kn().shape({empID:Ue().required("Employee ID is required"),bankSubmit:Yn().nullable().transform((n,r)=>r===""?null:n).required("Submission Date is required").test("is-not-future-date","Future Date Not Allowed",function(n){return!n||new Date(n)<=new Date}),bankRece:Yn().nullable().transform((n,r)=>r===""?null:n).notRequired().test("is-after-submission-date","Approval Date Must Be After Submission Date",function(n){const{bankSubmit:r}=this.parent;return!n||!r||new Date(n)>=new Date(r)}),bankRefNo:Ue().notRequired(),bankAmt:Ue().notRequired(),bankValid:Yn().nullable().transform((n,r)=>r===""?null:n).notRequired().test("is-after-approval-date","Valid Until Date Must Be After Approval Date",function(n){const{bankRece:r}=this.parent;return!n||!r||new Date(n)>=new Date(r)}),bankEndorse:Yn().nullable().transform((n,r)=>r===""?null:n).notRequired().test("is-after-submission-date","Endorsement Date must be after Submission Date",function(n){const{bankSubmit:r}=this.parent;return!n||!r||new Date(n)>new Date(r)}),bankEmpUpload:Kr().of(Or().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired()}),QK=Kn().shape({empID:Ue().required("Employee ID is required"),tbaPurchase:Yn().nullable().transform((n,r)=>r===""?null:n).required("TBA Purchase Date is required").test("is-not-future-date","Future Date Not Allowed",n=>!n||new Date(n)<=new Date),jitpaAmt:Ue().notRequired(),jpValid:Yn().nullable().transform((n,r)=>r===""?null:n).notRequired().test("is-not-past-date","Valid Until Date must be in the future",n=>!n||new Date(n)>new Date),jpEndorse:Yn().nullable().transform((n,r)=>r===""?null:n).notRequired().test("is-after-purchase-date","Endorsement Date must be after TBA Purchase Date",function(n){const{tbaPurchase:r}=this.parent;return!n||!r||new Date(n)>new Date(r)}),jpEmpUpload:Kr().of(Or().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired()}),eX=Kn().shape({empID:Ue().required("Employee ID is required"),lbrReceiptNo:Ue().required("Labour Deposit Receipt Number is required"),lbrDepoAmt:Ue().required("Deposit Amount is required").min(0,"Deposit Amount must be greater than or equal to 0"),lbrDepoSubmit:Yn().nullable().transform((n,r)=>r===""?null:n).required("Submit Date is required").test("is-not-future-date","Future Date Not Allowed",function(n){return!n||new Date(n)<=new Date}),lbrDepoUpload:Kr().of(Or().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired()}),tX=Kn().shape({empID:Ue().required("Employee ID is required"),ppLocation:Ue().oneOf(["HRD","Immigration","Employee","Vacation"],"Invalid passport location").required("Passport location is required"),arrivStampUpload:Kr().of(Or().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),immigEmpUpload:Kr().of(Or().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),reEntryUpload:Kr().of(Or().test("fileOrUrl","Only PDF, image files, or valid URLs are allowed",n=>n instanceof File?["application/pdf","image/jpeg","image/png"].includes(n.type):typeof n=="string"?Sn(n):!0).notRequired()).notRequired(),arrivStampExp:Ue().notRequired(),immigRefNo:Ue().nullable().transform((n,r)=>r===""?null:n),ppSubmit:Ue().notRequired(),empPassExp:Ue().notRequired(),empPassStatus:Ue().nullable().transform((n,r)=>r===""?null:n),airTktStatus:Ue().oneOf(["Company","Own"],"Invalid air ticket status").nullable().transform((n,r)=>r===""?null:n),reEntryVisa:Ue().oneOf(["Single","Multiple"],"Invalid re-entry visa type").nullable().transform((n,r)=>r===""?null:n),immigApproval:Ue().notRequired(),reEntryVisaExp:Ue().notRequired(),remarkImmig:Ue().max(500,"Remarks can't exceed 500 characters").nullable().transform((n,r)=>r===""?null:n)}),Ba=({searchResult:n,newFormData:r,searchIcon1:t,searchIcon2:e,placeholder:s,rounded:a,setDrpValue:i,searchedValue:o,id:u})=>{const[c,l]=ne.useState(""),[d,p]=ne.useState([]),[h,f]=ne.useState(!1);ne.useEffect(()=>{i&&l(i)},[i]);const b=ne.useCallback(()=>{f(!h),h===!0?p([]):h===!1&&p(r)},[h,r]),y=g=>{const x=g.target.value.toLowerCase();if(l(x),o==null||o(u,x),x){const v=r&&(r==null?void 0:r.filter(w=>{var S,D,T,R,P;return((S=w.name)==null?void 0:S.toLowerCase().includes(x))||((D=w.empID)==null?void 0:D.toLowerCase().includes(x))||((T=w.JOBCODE)==null?void 0:T.toLowerCase().includes(x))||((R=w.location)==null?void 0:R.toLowerCase().includes(x))||((P=w.empBadgeNo)==null?void 0:P.toLowerCase().includes(x))}));p(v)}else console.log("Else FilteredEmployees : ",d),p(r)};return m.jsxs("div",{className:"relative",children:[m.jsxs("div",{className:`py-2 w-full text_size_5 border text-grey bg-white border-lite_grey ${a} flex items-center px-2 gap-2`,children:[m.jsx("div",{className:" text-dark_grey  text-2xl ",children:t}),m.jsx("input",{type:"text",placeholder:s,className:"outline-none w-full",value:c,onChange:y,onClick:b}),m.jsx("div",{className:" text-dark_grey  text-2xl ",children:e})]}),(d==null?void 0:d.length)>0&&m.jsx("ul",{className:" absolute right-0 overflow-x-hidden  mt-2 w-full ml-auto max-h-36 overflow-y-auto rounded-lg shadow-lg bg-white z-10",children:d.map((g,x)=>m.jsx("li",{className:"m-2 p-1 hover:bg-grey hover:text-white cursor-pointer flex justify-between items-center transition-all duration-200",onClick:()=>{(g.empID||g.name)&&(l(`${g.empID} - ${g.name||""}`),n(g),l("")),g.JOBCODE&&(l(g.JOBCODE),n(g,u)),g.location&&(l(g.location),console.log(g.location),n(g,u)),f(!1),p([])},children:m.jsxs("div",{children:[m.jsx("span",{className:" text-sm",children:g.empID}),m.jsxs("span",{className:" text-sm",children:[" ",g.name]}),m.jsx("span",{className:" text-sm",children:g.JOBCODE}),m.jsx("span",{className:" text-sm",children:g.location})]})},x))})]})},rX=({register:n,errors:r,watch:t,setValue:e,control:s})=>{const a=t("sapNo"),i=t("empBadgeNo");return t("contractType"),t("empType"),m.jsxs("div",{className:"form-group grid grid-cols-1 md:grid-cols-4 gap-5",children:[m.jsx(Ct,{label:"Badge Number",register:n,watch:i,name:"empBadgeNo",errors:r}),m.jsx(Ct,{label:"SAP Number",register:n,watch:a,name:"sapNo",errors:r}),m.jsx(os,{name:"contractType",control:s,render:({field:o})=>m.jsx(Ct,{label:"Contract Type",name:o.name,type:"selectOption",value:o.value,setValue:e,options:Pk,watch:t,register:()=>o,errors:r,append:!0})}),m.jsx(os,{name:"empType",control:s,render:({field:o})=>m.jsx(Ct,{label:"Employee Type",name:o.name,type:"selectOption",value:o.value,setValue:e,options:rV,watch:t,register:()=>o,errors:r,append:!0})})]})},nX=({register:n,errors:r})=>m.jsxs("div",{className:"form-group grid grid-cols-1 md:grid-cols-3 gap-5",children:[m.jsx(Ct,{label:"Name",register:n,name:"name",type:"text",errors:r}),m.jsx(Ct,{label:"Gender",register:n,name:"gender",type:"select",options:i5,errors:r}),m.jsx(Ct,{label:"Date of Birth",register:n,name:"dob",type:"date",errors:r})]}),sX=({register:n,errors:r,handleRaceChange:t,selectedRace:e,watch:s})=>{const a=s("race"),i=s("otherRace");return m.jsxs("div",{className:"grid grid-cols-2 gap-5 form-group",children:[m.jsx(Ct,{label:"Religion",register:n,name:"religion",type:"select",options:Ik,errors:r}),m.jsxs("div",{className:"flex items-center gap-5",children:[m.jsx(Ct,{label:"Race",register:n,name:"race",type:"select",watch:a,options:jk,errors:r,onChange:t}),(e==="Other"||i&&a==="other")&&m.jsx(Ct,{label:"Other Race",register:n,name:"otherRace",type:"text",watch:i,errors:r,placeholder:"Enter Race"})]})]})},aX=({register:n,errors:r})=>m.jsxs("div",{className:"form-group grid grid-cols-1 md:grid-cols-2 gap-5",children:[m.jsx(Ct,{label:"National Category",register:n,name:"nationalCat",type:"select",options:tV,errors:r}),m.jsx(Ct,{label:"Marital Status",register:n,name:"marital",type:"select",options:O8,errors:r})]}),iX=({register:n,errors:r,handleNationalityChange:t,handleCountryChange:e,selectedNationality:s,selectedCountry:a,watch:i})=>{const o=i("oCOfOrigin"),u=i("otherNation"),c=i("nationality"),l=i("ctryOfOrigin");return m.jsxs("div",{className:"flex gap-5 form-group",children:[m.jsxs("div",{className:"flex flex-1 gap-7",children:[m.jsx(Ct,{label:"Nationality",register:n,name:"nationality",type:"select",options:o5,errors:r,onChange:t}),(s==="Other"||u&&c==="Other")&&m.jsx(Ct,{label:"Other Nationality",register:n,name:"otherNation",type:"text",errors:r})]}),m.jsxs("div",{className:"flex flex-1 gap-7",children:[m.jsx(Ct,{label:"Country of Origin",register:n,name:"ctryOfOrigin",type:"select",options:nV,errors:r,onChange:e}),(a==="Other"||o&&l==="Other")&&m.jsx(Ct,{label:"Other Country of Origin",register:n,name:"oCOfOrigin",type:"text",errors:r})]})]})},oX=({register:n,errors:r})=>m.jsxs("div",{className:"grid grid-cols-4 gap-5 form-group",children:[m.jsx(Ct,{label:"Brunei IC Number",register:n,name:"bwnIcNo",type:"text",errors:r}),m.jsx(Ct,{label:"Brunei IC Colour",register:n,name:"bwnIcColour",type:"select",options:Rk,errors:r}),m.jsx(Ct,{label:"Brunei IC Expiry",register:n,name:"bwnIcExpiry",type:"date",errors:r}),m.jsx(Ct,{label:"Malaysian IC Number",register:n,name:"myIcNo",type:"text",errors:r})]}),lX=({register:n,errors:r})=>m.jsxs("div",{className:"grid grid-cols-4 gap-5 form-group",children:[m.jsx(Ct,{label:"Passport Number",register:n,name:"ppNo",type:"text",errors:r}),m.jsx(Ct,{label:"Passport Issue Date",register:n,name:"ppIssued",type:"date",errors:r}),m.jsx(Ct,{label:"Passport Expiry",register:n,name:"ppExpiry",type:"date",errors:r}),m.jsx(Ct,{label:"Passport issued destination",register:n,name:"ppDestinate",type:"text",errors:r})]}),cX=({register:n,errors:r})=>m.jsxs("div",{className:"grid grid-cols-3 gap-5 form-group",children:[m.jsx(Ct,{label:"Academic / Technical qualification",register:n,name:"aTQualify",type:"text",errors:r}),m.jsx(Ct,{label:"Education Level",register:n,name:"educLevel",type:"select",options:sV,errors:r}),m.jsx(Ct,{label:"Contact Number",register:n,name:"contactNo",type:"number",errors:r})]}),uX=({register:n,errors:r})=>m.jsxs("div",{className:"grid grid-cols-3 gap-5 form-group",children:[m.jsx(Ct,{label:"Email Address",type:"email",name:"email",register:n,errors:r}),m.jsx(Ct,{label:"Official Email Address",type:"email",name:"officialEmail",register:n,errors:r}),m.jsx(Ct,{label:"Home Address",type:"textarea",name:"permanentAddress",register:n,errors:r})]}),dX=({register:n,errors:r,control:t,value:e,watch:s,setValue:a})=>{const{fields:i,append:o,remove:u,replace:c}=Af({control:t,name:"familyDetails"}),l=ne.useRef(!0);s("familyDetails"),ne.useEffect(()=>{if(l.current){if(e&&e.length>0){const p=typeof e=="string"?JSON.parse(e):e;c(p),a("familyDetails",p)}else o({name:"",relationship:"",contact:"",address:"",isNew:!1});l.current=!1}else if(e&&e.length>0){const p=typeof e=="string"?JSON.parse(e):e;c(p),a("familyDetails",p)}},[e,o,c,a]);const d=()=>{o({name:"",relationship:"",contact:"",address:"",isNew:!0})};return m.jsxs("div",{className:"relative",children:[m.jsx("label",{className:"block text_size_5",children:"Employee Next of Kin Info"}),i.map((p,h)=>m.jsxs("div",{className:"grid grid-cols-4 form-group gap-5 mt-4 relative",children:[m.jsx(Ct,{label:"Name",type:"text",name:`familyDetails.${h}.name`,register:n,errors:r}),m.jsx(Ct,{label:"Relationship",type:"text",name:`familyDetails.${h}.relationship`,register:n,errors:r}),m.jsx(Ct,{label:"Contact number",type:"text",inputmode:"numeric",name:`familyDetails.${h}.contact`,register:n,errors:r}),m.jsx(Ct,{label:"Home address",type:"text",name:`familyDetails.${h}.address`,register:n,errors:r}),p.isNew&&m.jsxs("button",{type:"button",onClick:()=>u(h),className:"absolute top-2 -right-8 text-medium_grey text-[18px]",children:[m.jsx(Tf,{})," "]})]},p.id)),m.jsx("button",{type:"button",onClick:d,className:"mt-4 flex items-center text-medium_grey text-[20px] absolute -right-8 top-16",children:m.jsx(Vu,{className:"mr-2"})})]})},hX=({register:n,errors:r})=>m.jsxs(m.Fragment,{children:[" ",m.jsx(Ct,{label:"Company Name of Previous Employment",type:"text",name:"preEmp",register:n,errors:r}),m.jsx(Ct,{label:"Previous Employment Period",type:"text",name:"preEmpPeriod",register:n,errors:r}),m.jsx(Ct,{label:"Date of Induction Briefing",type:"date",name:"inducBrief",register:n,errors:r})]}),fX=()=>{const n=kr(),[r,t]=ne.useState("");return{SubmitEIData:ne.useCallback(async({empValue:s})=>{if(!s)throw new Error("Missing required parameters");const{empID:a,bwnIcNo:i,bwnIcColour:o,bwnIcExpiry:u,driveLic:c,inducBrief:l,inducBriefUp:d,myIcNo:p,nationality:h,nationalCat:f,otherNation:b,otherRace:y,otherReligion:g,ppNo:x,ppIssued:v,ppExpiry:w,ppDestinate:S,preEmp:D,preEmpPeriod:T,profilePhoto:R,race:P,religion:L,bwnUpload:O,applicationUpload:H,cvCertifyUpload:U,loiUpload:I,myIcUpload:F,paafCvevUpload:A,ppUpload:_,supportDocUpload:E}=s,N={empID:a,bwnIcNo:i,bwnIcColour:o,bwnIcExpiry:u,driveLic:c,inducBrief:l,inducBriefUp:d,myIcNo:p,nationality:h,nationalCat:f,otherNation:b,otherRace:y,otherReligion:g,ppNo:x,ppIssued:v,ppExpiry:w,ppDestinate:S,preEmp:D,preEmpPeriod:T,race:P,religion:L,bwnUpload:O,applicationUpload:H,cvCertifyUpload:U,loiUpload:I,myIcUpload:F,paafCvevUpload:A,ppUpload:_,supportDocUpload:E},{age:k,aTQualify:B,alternateNo:j,agent:M,contactNo:G,cob:Y,contractType:J,ctryOfOrigin:V,chinese:Q,dob:q,educLevel:z,email:Z,eduDetails:re,empBadgeNo:le,empType:ue,familyDetails:ce,gender:ie,officialEmail:ye,lang:he,marital:pe,name:xe,oCOfOrigin:Oe,permanentAddress:Ae,position:Le,sapNo:He}=s,Ye={empID:a,age:k,aTQualify:B,alternateNo:j,agent:M,contactNo:G,cob:Y,contractType:J,ctryOfOrigin:V,chinese:Q,dob:q,educLevel:z,email:Z,officialEmail:ye,eduDetails:re,empBadgeNo:le,empType:ue,familyDetails:ce,gender:ie,lang:he,marital:pe,name:xe,oCOfOrigin:Oe,profilePhoto:R,permanentAddress:Ae,position:Le,sapNo:He};try{const[it,bt]=await Promise.all([n.graphql({query:WW,variables:{input:N}}),n.graphql({query:qW,variables:{input:{...Ye}}})])}catch(it){throw console.error("Error executing GraphQL requests:",it),it}},[]),errorEmpID:r}},pX=()=>{const n=kr(),[r,t]=ne.useState("");return{UpdateEIValue:ne.useCallback(async({collectValue:s})=>{if(!s)throw new Error("Missing required parameters");const{empID:a,bwnIcNo:i,bwnIcColour:o,bwnIcExpiry:u,driveLic:c,inducBrief:l,inducBriefUp:d,myIcNo:p,nationality:h,nationalCat:f,otherNation:b,otherRace:y,otherReligion:g,ppNo:x,ppIssued:v,ppExpiry:w,ppDestinate:S,preEmp:D,preEmpPeriod:T,profilePhoto:R,race:P,religion:L,bwnUpload:O,applicationUpload:H,cvCertifyUpload:U,loiUpload:I,myIcUpload:F,paafCvevUpload:A,ppUpload:_,supportDocUpload:E,IDTable:N}=s,{age:k,aTQualify:B,alternateNo:j,agent:M,contactNo:G,cob:Y,contractType:J,ctryOfOrigin:V,chinese:Q,dob:q,educLevel:z,email:Z,eduDetails:re,empBadgeNo:le,empType:ue,familyDetails:ce,officialEmail:ie,gender:ye,lang:he,marital:pe,name:xe,oCOfOrigin:Oe,permanentAddress:Ae,position:Le,sapNo:He,PITableID:Ye}=s,it={id:Ye,empID:a,age:k,aTQualify:B,alternateNo:j,agent:M,contactNo:G,cob:Y,contractType:J,ctryOfOrigin:V,chinese:Q,dob:q,educLevel:z,email:Z,eduDetails:re,empBadgeNo:le,empType:ue,familyDetails:ce,officialEmail:ie,gender:ye,lang:he,marital:pe,name:xe,oCOfOrigin:Oe,profilePhoto:R,permanentAddress:Ae,position:Le,sapNo:He},bt={id:N,empID:a,bwnIcNo:i,bwnIcColour:o,bwnIcExpiry:u,driveLic:c,inducBrief:l,inducBriefUp:d,myIcNo:p,nationality:h,nationalCat:f,otherNation:b,otherRace:y,otherReligion:g,ppNo:x,ppIssued:v,ppExpiry:w,ppDestinate:S,preEmp:D,preEmpPeriod:T,race:P,religion:L,bwnUpload:O,applicationUpload:H,cvCertifyUpload:U,loiUpload:I,myIcUpload:F,paafCvevUpload:A,ppUpload:_,supportDocUpload:E};try{const[tt,$e]=await Promise.all([n.graphql({query:Ak,variables:{input:it}}),n.graphql({query:zW,variables:{input:bt}})])}catch(tt){throw console.error("Error executing GraphQL requests:",tt),tt}},[]),errorEmpID:r}},mX=()=>{var ce;const{SubmitEIData:n,errorEmpID:r}=fX(),{UpdateEIValue:t}=pX(),{empPIData:e,IDData:s}=ne.useContext(Wn),[a,i]=ne.useState([]),[o,u]=ne.useState([]),[c,l]=ne.useState(""),[d,p]=ne.useState(""),[h,f]=ne.useState(""),[b,y]=ne.useState(!1),[g,x]=ne.useState({bwnUpload:[],applicationUpload:[],cvCertifyUpload:[],myIcUpload:[],paafCvevUpload:[],ppUpload:[],supportDocUpload:[],loiUpload:[]}),[v,w]=ne.useState({uploadProfilePhoto:null,inducBriefUp:null}),[S,D]=ne.useState({profilePhoto:null,inducBriefUp:null}),[T,R]=ne.useState(null),[P,L]=ne.useState(null),[O,H]=ne.useState([]),[U,I]=ne.useState(""),F=ie=>{l(ie.target.value)},A=ie=>{p(ie.target.value)},_=ie=>{f(ie.target.value)},{register:E,handleSubmit:N,setValue:k,watch:B,control:j,formState:{errors:M}}=Pn({resolver:Bn($K),mode:"onChange",defaultValues:{familyDetails:JSON.stringify([]),contractType:[],empType:[]}}),G=B("contractType"),Y=B("empType"),J=B("empID");ne.useEffect(()=>{(async()=>{try{const ye=e.map(he=>{const pe=s?s.find(xe=>xe.empID===he.empID):{};return{...he,...pe}}).filter(Boolean);i(ye),u(ye)}catch(ye){console.log(ye)}})()},[e,s]);const V=async(ie,ye)=>{if(!J){alert("Please enter the Employee ID before uploading files."),window.location.href="/employeeInfo";return}let he=ie.target.files[0];if(!["application/pdf","image/jpeg","image/png","image/jpg"].includes(he.type)){alert("Upload must be a PDF file or an image (JPG, JPEG, PNG)");return}k(ye,he),he&&(await As(he,ye,D,J),w(xe=>({...xe,[ye]:he.name})))},Q=async(ie,ye)=>{if(!J){alert("Please enter the Employee ID before uploading files."),window.location.href="/employeeInfo";return}const he=ie.target.files[0];if(!he)return;if(!["application/pdf","image/jpeg","image/png","image/jpg"].includes(he.type)){alert("Upload must be a PDF file or an image (JPG, JPEG, PNG)");return}const xe=B(ye)||[];k(ye,[...xe,he]);try{await As(he,ye,x,J),w(Oe=>({...Oe,[ye]:he.name}))}catch(Oe){console.log(Oe)}};ne.useEffect(()=>{if(S!=null&&S.profilePhoto&&S.profilePhoto.length>0||S!=null&&S.inducBriefUp&&S.inducBriefUp.length>0){if(S.profilePhoto&&S.profilePhoto.length>0){const ie=S.profilePhoto[S.profilePhoto.length-1].upload;(async he=>{const pe=await Z1({path:he});return R(pe.url.toString())})(ie)}if(S.inducBriefUp&&S.inducBriefUp.length>0){const ie=S.inducBriefUp[S.inducBriefUp.length-1].upload;L(ie)}}},[S]);const q=(ie,ye)=>Array.isArray(ie)?ie:ie?[ie]:[],z=(ie,ye)=>Array.isArray(ie)?ie[ie.length-1]:ie,Z=ie=>{var tt,$e,at;["empID","driveLic","inducBrief","myIcNo","nationality","nationalCat","otherNation","otherRace","otherReligion","preEmp","preEmpPeriod","race","religion","age","aTQualify","alternateNo","agent","dob","cob","ctryOfOrigin","chinese","educLevel","email","eduDetails","empBadgeNo","empType","gender","lang","marital","name","oCOfOrigin","position","sapNo","officialEmail","bwnIcColour"].forEach(ze=>{k(ze,ie[ze])}),["contractType","empType"].forEach(ze=>k(ze,q(ie[ze]))),["bwnIcExpiry","ppExpiry","ppIssued"].forEach(ze=>k(ze,z(ie[ze]))),["permanentAddress","contactNo","ppNo","ppDestinate","bwnIcNo"].forEach(ze=>{const wt=ie[ze];if(Array.isArray(wt)){const vt=wt.join(", ");k(ze,vt)}else k(ze,wt)});const Oe=JSON.parse(ie.familyDetails);H(Oe),ie.inducBriefUp&&w(ze=>({...ze,inducBriefUp:re(ie.inducBriefUp)||""})),k("profilePhoto",(tt=ie==null?void 0:ie.profilePhoto)==null?void 0:tt.toString()),k("inducBriefUp",($e=ie==null?void 0:ie.inducBriefUp)==null?void 0:$e.toString()),D(ze=>({...ze,profilePhoto:ie.profilePhoto,inducBriefUp:ie.inducBriefUp}));const Ae=ie==null?void 0:ie.profilePhoto;let Le=Ae==null?void 0:Ae.replace(/=/g,":");Le=Le==null?void 0:Le.replace(/(\w+)(?=:)/g,'"$1"'),Le=Le==null?void 0:Le.replace(new RegExp("(?<=:)([^,}\\]]+)(?=[,\\}\\]])","g"),'"$1"'),Le!=null&&Le.startsWith("[")||(Le=`[${Le}]`);let He=[];try{He=JSON.parse(Le)}catch(ze){console.error("Failed to parse JSON:",ze)}const Ye=(at=He==null?void 0:He[He.length-1])==null?void 0:at.upload;(async ze=>{try{Z1({path:ze}).then(wt=>R(wt.url.toString())).catch(wt=>{console.log(wt,"errors showing")})}catch(wt){console.log(wt,"errors")}})(Ye),["bwnUpload","applicationUpload","cvCertifyUpload","loiUpload","myIcUpload","paafCvevUpload","ppUpload","supportDocUpload"].map(ze=>{if(ie&&ie[ze])try{const vt=JSON.parse(ie[ze]).map(kt=>typeof kt=="string"?JSON.parse(kt):kt);k(ze,vt),x(kt=>({...kt,[ze]:vt})),w(kt=>({...kt,[ze]:vt.length>0?re(vt[vt.length-1].upload):""}))}catch(wt){console.error(`Failed to parse ${ze}:`,wt)}})},re=ie=>ie.split("/").pop().split(".").slice(0,-1).join("."),le=async ie=>{ie.contractType=G,ie.empType=Y;const ye=Oe=>Oe?new Date(Oe).toLocaleDateString("en-CA"):null,he=ye(ie.bwnIcExpiry),pe=ye(ie.ppIssued),xe=ye(ie.ppExpiry);try{const Oe=e.find(Le=>Le.empID===ie.empID),Ae=s.find(Le=>Le.empID===ie.empID);if(Ae&&Oe){const Le=(tt,$e)=>[...new Set([...tt||[],$e])],He=Le(Ae.bwnIcExpiry,he),Ye=Le(Ae.ppExpiry,xe),it=Le(Ae.ppIssued,pe),bt={...ie,profilePhoto:S.profilePhoto,inducBriefUp:S.inducBriefUp,bwnUpload:JSON.stringify(g.bwnUpload),bwnIcExpiry:He,ppIssued:it,ppExpiry:Ye,applicationUpload:JSON.stringify(g.applicationUpload),cvCertifyUpload:JSON.stringify(g.cvCertifyUpload),loiUpload:JSON.stringify(g.loiUpload),myIcUpload:JSON.stringify(g.myIcUpload),paafCvevUpload:JSON.stringify(g.paafCvevUpload),ppUpload:JSON.stringify(g.ppUpload),supportDocUpload:JSON.stringify(g.supportDocUpload),familyDetails:JSON.stringify(ie.familyDetails),PITableID:Oe.id,IDTable:Ae.id};await t({collectValue:bt}),I("Employee Personal Info updated successfully"),y(!0)}else{const[Le,He,Ye]=[[he],[xe],[pe]].map(bt=>[...new Set(bt)]),it={...ie,profilePhoto:S.profilePhoto,inducBriefUp:S.inducBriefUp,bwnUpload:JSON.stringify(g.bwnUpload),bwnIcExpiry:Le,ppIssued:Ye,ppExpiry:He,applicationUpload:JSON.stringify(g.applicationUpload),cvCertifyUpload:JSON.stringify(g.cvCertifyUpload),loiUpload:JSON.stringify(g.loiUpload),myIcUpload:JSON.stringify(g.myIcUpload),paafCvevUpload:JSON.stringify(g.paafCvevUpload),ppUpload:JSON.stringify(g.ppUpload),supportDocUpload:JSON.stringify(g.supportDocUpload),familyDetails:JSON.stringify(ie.familyDetails)};await n({empValue:it}),I("Employee Personal Info saved successfully"),y(!0)}}catch(Oe){console.log(Oe)}},ue=B("profilePhoto");return B("inducBriefUp"),m.jsxs("section",{className:"bg-[#F5F6F1CC] mx-auto p-10",children:[m.jsxs("div",{className:"w-full flex items-center justify-between gap-5",children:[m.jsx(yi,{to:"/employee",className:"text-xl flex-1 text-grey",children:m.jsx(Yc,{})}),m.jsx("p",{className:"flex-1 text-center mt-2 text_size_2 uppercase",children:"Employee Info"}),m.jsx("div",{className:"flex-1",children:m.jsx(Ba,{searchResult:Z,newFormData:o,searchIcon2:m.jsx(Rs,{}),placeholder:"Employee Id",rounded:"rounded-lg"})})]}),m.jsxs("form",{onSubmit:N(le),className:" flex flex-col justify-center ",children:[m.jsxs("div",{className:"flex justify-between items-center py-7 mt-2",children:[m.jsxs("div",{className:"py-2 center flex-col max-w-[160px]",children:[m.jsx("input",{type:"file",id:"fileInput",name:"profilePhoto",accept:".jpg,.jpeg,.png",onChange:ie=>{V(ie,"profilePhoto"),console.log(ie.target.value)},className:"hidden"}),m.jsxs("div",{className:"h-[120px] max-w-[120px] relative rounded-md bg-lite_skyBlue",children:[m.jsx("img",{src:T instanceof File?URL.createObjectURL(T):typeof T=="string"&&T?T:ue||T||qx,id:"previewImg",alt:"profile",className:"object-cover w-full h-full",onError:ie=>ie.target.src=qx}),(T||ue)&&m.jsx("div",{className:"absolute top-24 -right-3  bg-lite_grey p-[2px] rounded-full cursor-pointer",onClick:()=>document.getElementById("fileInput").click(),children:m.jsx(iA,{className:"w-6 h-6 p-1"})})]}),!T&&!ue&&m.jsx("div",{className:"mt-1 rounded-lg text-center",children:m.jsx("button",{type:"button",className:"text_size_6",onClick:()=>document.getElementById("fileInput").click(),children:"Choose Image"})}),!T&&!ue&&M.profilePhoto&&m.jsx("p",{className:"text-[red] text-[13px] text-center",children:(ce=M==null?void 0:M.profilePhoto)==null?void 0:ce.message})]}),m.jsxs("div",{className:"max-w-sm",children:[m.jsx(Ct,{label:"Employee ID",register:E,name:"empID",type:"text",value:B("empID")||"",placeholder:"Enter Employee ID",errors:M}),r&&m.jsx("p",{className:"text-[red] text-[13px] text-center",children:r})]})]}),m.jsx(rX,{register:E,errors:M,setValue:k,watch:B,control:j}),m.jsx(nX,{register:E,errors:M}),m.jsx(sX,{register:E,errors:M,handleRaceChange:_,selectedRace:h,watch:B}),m.jsx(aX,{register:E,errors:M}),m.jsx(iX,{register:E,errors:M,handleNationalityChange:F,selectedNationality:c,selectedCountry:d,handleCountryChange:A,watch:B}),m.jsx(oX,{register:E,errors:M}),m.jsx(lX,{register:E,errors:M}),m.jsx(cX,{register:E,errors:M}),m.jsx(uX,{register:E,errors:M}),m.jsx(dX,{register:E,errors:M,control:j,watch:B,setValue:k,value:O}),m.jsxs("div",{className:"grid grid-cols-2 gap-5 form-group mt-2",children:[m.jsx(hX,{register:E,errors:M}),m.jsxs("div",{children:[m.jsx("h2",{className:"text_size_5 mb-2",children:"Upload"}),m.jsxs("label",{className:"flex items-center px-3 py-2 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] rounded-md cursor-pointer",children:[m.jsx("input",{type:"file",...E("inducBriefUp"),onChange:ie=>V(ie,"inducBriefUp"),className:"hidden",accept:".pdf, .jpg, .jpeg, .png"}),m.jsxs("span",{className:"ml-2 flex p-1 gap-10",children:[m.jsx(xs,{})," Induction Form"]})]}),m.jsx("p",{className:"text-xs mt-1 text-grey",children:v==null?void 0:v.inducBriefUp})]})]}),m.jsx("div",{className:"grid grid-cols-4 gap-5 form-group mt-5",children:aV.map((ie,ye)=>m.jsx(os,{name:ie.title,control:j,render:({field:{onChange:he,value:pe}})=>m.jsxs("div",{className:"form-group",children:[m.jsxs("h2",{className:"text_size_5",children:["Upload ",ie.label]}),m.jsxs("label",{className:"mt-2 flex items-center px-3 py-3 text_size_7 bg-lite_skyBlue border border-[#dedddd] rounded cursor-pointer",children:[m.jsx("input",{type:"file",className:"hidden",accept:".pdf,image/jpeg,image/png",onChange:xe=>Q(xe,ie.title)}),m.jsxs("span",{className:"ml-2 text-grey font-normal flex justify-between items-center gap-10",children:[ie.icon,ie.label]})]}),m.jsx("p",{className:"text-xs mt-1 text-grey",children:(v==null?void 0:v[ie.title])||""}),M[ie.title]&&m.jsx("p",{className:"text-red-500 text-xs mt-1",children:M[ie.title].message})]})},ye))}),m.jsx("div",{className:"flex justify-center items-center mt-7 ",children:m.jsx("button",{type:"submit",className:"primary_btn",children:"Save"})}),b&&m.jsx(na,{text:U,notification:b,path:"/employee"})]})]})},gX=()=>{const n=kr();return{SubmitWIData:ne.useCallback(async({workInfoValue:t})=>{if(!t)throw new Error("Missing required parameters");const{empID:e,department:s,otherDepartment:a,position:i,otherPosition:o,jobCat:u,otherJobCat:c,doj:l,jobDesc:d,skillPool:p,relationship:h,hr:f,manager:b,supervisor:y,upgradePosition:g,upgradeDate:x,contractPeriod:v,contractStart:w,contractEnd:S,workStatus:D,probationStart:T,probationEnd:R,workHrs:P,workWeek:L,workMonth:O,salaryType:H,resignDate:U,termiDate:I,resignNotProb:F,otherResignNotProb:A,termiNotProb:_,otherTermiNotProb:E,resignNotConf:N,otherResignNotConf:k,termiNotConf:B,otherTermiNotConf:j,reasonResign:M,reasonTerminate:G,leavePass:Y,dateLeavePass:J,destinateLeavePass:V,durLeavePass:Q,annualLeave:q,annualLeaveDate:z,sickLeave:Z,sickLeaveDate:re,materLeave:le,materLeaveDate:ue,paterLeave:ce,paterLeaveDate:ie,mrageLeave:ye,mrageLeaveDate:he,compasLeave:pe,compasLeaveDate:xe,WIContract:Oe,WIProbation:Ae,WIResignation:Le,WITermination:He,WILeaveEntitle:Ye,positionRev:it,positionRevDate:bt,revSalary:tt,revSalaryDate:$e,revLeavePass:at,revLeaveDate:ze,revAnnualLeave:wt,revALD:vt,depEmp:kt,depEmpDate:pt,remarkWI:At,uploadPR:$t,uploadSP:Tt,uploadLP:fr,uploadAL:ur,uploadDep:er,sapNo:Sr}=t,tr={empID:e,department:s,otherDepartment:a,position:i,otherPosition:o,jobCat:u,otherJobCat:c,doj:l,jobDesc:d,skillPool:p,relationship:h,upgradePosition:g,upgradeDate:x,contractStart:w,contractPeriod:v,contractEnd:S,hr:f,manager:b,supervisor:y,workStatus:D,probationStart:T,probationEnd:R,workHrs:P,workWeek:L,workMonth:O,salaryType:H,sapNo:Sr},Wt={empID:e,resignDate:U,termiDate:I,resignNotProb:F,otherResignNotProb:A,termiNotProb:_,otherTermiNotProb:E,resignNotConf:N,otherResignNotConf:k,termiNotConf:B,otherTermiNotConf:j,reasonResign:M,reasonTerminate:G,WIContract:Oe,WIProbation:Ae,WIResignation:Le,WITermination:He,WILeaveEntitle:Ye},or={empID:e,leavePass:Y,dateLeavePass:J,destinateLeavePass:V,durLeavePass:Q,annualLeave:q,annualLeaveDate:z,sickLeave:Z,sickLeaveDate:re,materLeave:le,materLeaveDate:ue,paterLeave:ce,paterLeaveDate:ie,mrageLeave:ye,mrageLeaveDate:he,compasLeave:pe,compasLeaveDate:xe},Ir={empID:e,positionRev:it,positionRevDate:bt,revSalary:tt,revSalaryDate:$e,revLeavePass:at,revLeaveDate:ze,revAnnualLeave:wt,revALD:vt,depEmp:kt,depEmpDate:pt,remarkWI:At,uploadPR:$t,uploadSP:Tt,uploadLP:fr,uploadAL:ur,uploadDep:er};try{const[Jt,wr,Lr,Lt]=await Promise.all([n.graphql({query:UW,variables:{input:tr}}),n.graphql({query:FW,variables:{input:{...Wt}}}),n.graphql({query:OW,variables:{input:{...or}}}),n.graphql({query:RW,variables:{input:{...Ir}}})]).then(Er=>{}).catch(Er=>{console.log(Er)})}catch{}},[])}},bp={positions:["Accountant","Accounts Assistant","Accounts Coordinator","Admin Clerk","Advance Scaffolder","Advance Scaffolder Leadman","Assistant Field Engineer","Assistant Material Controller","Assistant Quality Control Inspector","Basic Scaffolder","Basic Scaffolder 1","Basic Scaffolder 2","Blaster/Painter","Blasting/Painting & Insulation Coordinator","Blasting/Painting PTW Supervisor","Blasting/Painting Supervisor","Calibration & Certification Coordinator","Camp Inspector cum Driver","Clerk","Coating Field Support","Construction Engineer","Contract Engineer","Contract Manager","Cost Engineer","Costing Engineer","Deputy Facility Manager","Deputy HR Manager","Deputy Logistic Coordinator","Deputy Project Manager","Director's Personal Asst","Document & Data Controller","Document Controller","Document Controller cum Training/Medical Support","Document Controller/Timekeeper","Driver","Driver/Operator","E&I Manager","Equipment & Maintenance Coordinator","Executive Director","Field Engineer","Field Engineer - Rotating","Finance & Procurement Manager","Finance/Project Controls Coordinator","Fitter Mechanic","Fitter Mechanic Grade A","Flange Management Engineer","Flange Management Inspector","Foreman","Forklift cum Overhead Crane Operator","Forklift Operator","General Manager","Helper","HP Jetter/Senior Mechanical Technician","HR Assistant","HR Assistant Coordinator","HR Coordinator","HR Manager","HR/LBD Coordinator","HSE & Welfare Advisor","HSE Advisor","HSSE Advisor/Auditor","HSSE Coordinator","HSSE Manager","HSSE Officer","HSSE Training Coordinator","Industrial Cleaner","Industrial Cleaner Lead","Industrial Cleaner Supervisor","Insulation Fabricator","Insulation Field Support","Insulation Inspector","Insulation Supervisor","Insulation Supervisor/Permit Holder","Insulation Worksite Supervisor","Insulator","Insulator cum Fabricator","Inventory Maintenance Supervisor","IT Assistant Engineer","Junior Coordinator","Junior Electrician","Junior Engineer","Junior Field Engineer","Junior Material Coordinator","Junior Mechancial Technician","Junior Mechanical Technician","Junior Planner","Junior QC Inspector","Junior Scheduler","LBD & Welfare Manager","Leadman","Load Out Leadman","Loadout/Backload Supervisor","Logistics Coordinator","Logistics Scheduler","Logistics Scheduler & Timekeeper","Machinist","Machinist Grade A","Maintenance Coordinator","Managing Director","Marker Fitter","Marker Fitter Grade A","Marker Fitter Grade B","Material Coordinator","Mechanic","Mechanical Construction Coordinator","Mechanical cum Hotwork Supervisor","Mechanical Engineer","Mechanical Execution Lead","Mechanical Field Engineer","Mechanical Insulation Supervisor","Mechanical Supervisor","Mechanical Supervisor/ PIC","Mechanical Supervisor/Permit Holder","Mechanical Technician","Mechanical Technician cum Rigger","Mechanical/Hotwork Supervisor","Office Assistant/Driver","Offshore Operations Manager","OMEC Contract Manager","Painter","Pass Coordinator cum Document Controller","Permit Coordinator","Personnel Officer","Pipe Welder - 6GR Trainee","Pipe Welder (6G)","Piping Supervisor","Planner","Planning Engineer","Procurement Coordinator","Project Coordinator","Project Engineer","PTW Supervisor","Public Relation Officer","Purchaser cum Expeditor","Purchasing Clerk","Purchasing Coordinator","PWHT Technician cum Electrician","QA/QC Coordinator","QA/QC Engineer","QA/QC Inspector","QA/QC Manager/QMR","Quantity Surveyor","Rigger","Rotating Equipment Engineer","Rotating Equipment Technician","Rotating Supervisor","Rotating Technician","Rotating Technician cum Mechanical Technician","Scaffold Coordinator","Scaffolder","Scaffolding Field Support","Scaffolding Inspector","Scaffolding Inspector cum Supervisor","Scaffolding Superintendent","Scaffolding Supervisor","Scaffolding Supervisor & Permit Holder","Scaffolding Supervisor/Inspector","Secretary","Secretary Cum Admin","Senior Document Controller","Senior Inspector","Senior Mechanical Supervisor","Senior Mechanical Technician","Senior Mechanical Technician cum HP/UHP Lead Operator","Senior Mechanical Technician/Banksman","Senior Planning Engineer","Senior Rotating Technician","Senior Scheduler","Senior Supervisor","Store Assistant","Store Coordinator","Storekeeper","Supervisor","Technical Assistant/Driver","Technical Clerk","Technical Field Support","Technical Field Support cum Fire Watcher","Timekeeper/Clerk","Tools & Equipment Coordinator","Trainee Technician","Training Coordinator","Turnaround Coordinator","UHP/HP Pump Operator/Hydro Jetter cum Mechanical Technician","Unit Shutdown Coordinator","Valve Technician","Welder","Welder Grade A","Welder Grade A1","Welder Grade B","Welder Grade C","Welfare Officer cum CVEV Officer","Workpack Preparer","Worksite Supervisor","Apprentice Blaster Painter","Apprentice Marker Fitter Level 1A (Structural & Basic Piping)","Assistant Construction Supervisor","Construction Site Supervisor","Electrician","HSSE Offshore Officer","Marker Fitter Multiskill","Mechanic","Mechanical Construction Supervisor","Mechanical Leadman","Offshore Fabrication Workshop / Deck Supervisor","Offshore Mechanical Store Supervisor","Offshore PWHT Technician","Rigger Multiskill","Senior Inspector","Storekeeper","Welder","Welder Multiskill","Welding Inspector","Other"],workFields:[{label:"Date of Join",name:"doj",type:"date"},{label:"Job Description",name:"jobDesc",type:"text"},{label:"Skill Pool",name:"skillPool",type:"select",options:["","Corporate","Management","Supervisory","Administration & Accounts","Skilled","Unskilled"]},{label:"HR",name:"hr",type:"text"},{label:"Manager",name:"manager",type:"text"},{label:"Supervisor",name:"supervisor",type:"text"},{label:"Employee Status",name:"relationship",type:"select",options:["","Single","Employee & Spouse","Employee, Spouse & Children (max 2 pax below age 18)"]},{label:"Upgrade Position",name:"upgradePosition",type:"text"},{label:"Position  Upgrade Effective date",name:"upgradeDate",type:"date"},{label:"Contract Period Status",name:"contractPeriod",type:"text"},{label:"Contract Start Date",name:"contractStart",type:"date"},{label:"Contract End Date",name:"contractEnd",type:"date"},{label:"Probationary Start Date",name:"probationStart",type:"date"},{label:"Probationary End Date",name:"probationEnd",type:"date"},{label:"Probation Duration",name:"probDuration",type:"text"},{label:"Normal Working Hours Per Day",name:"workHrs",type:"text"},{label:"Normal Working Day per Week",name:"workWeek",type:"text"},{label:"Normal Working Day per Month",name:"workMonth",type:"text"},{label:"Employment Work Status",name:"workStatus",type:"select",options:["","Probationary","Active","Resignation","Termination"]},{label:"Type of Salary Pay",name:"salaryType",type:"select",options:["","Monthly","Daily"]}],terminationFields:[{label:"Date of Resignation",name:"resignDate",type:"date"},{label:"Date of Termination",name:"termiDate",type:"date"},{label:"Resignation Notice during Probation",name:"resignNotProb",type:"select",options:["","1 Week","28 Working Days","N/A","Other"]},{label:"Termination Notice during Probation",name:"termiNotProb",type:"select",options:["","1 Week","28 Working Days","N/A","Other"]},{label:"Resignation Notice after Confirmation",name:"resignNotConf",type:"select",options:["","1 Month","3 Months","N/A","Other"]},{label:"Termination Notice after Confirmation",name:"termiNotConf",type:"select",options:["","1 Month","3 Months","N/A","Other"]},{label:"Reason of Resignation",name:"reasonResign",type:"text"},{label:"Reason of Termination",name:"reasonTerminate",type:"text"}],leaveBasic:[{label:"Leave Passage Entitlement for Non-Local",name:"leavePass",type:"select",options:["","Employee alone","Employee & Spouse","Employee, Spouse & Children (max 2 pax below age 18)"]},{label:"Date of Leave Passage Entitlement After Contract",name:"dateLeavePass",type:"date"},{label:"Duration Period of Leave Passage Entitlement",name:"durLeavePass",type:"text"},{label:"Destination of Leave Passage Entitlement",name:"destinateLeavePass",type:"text"}],leaveFields:[{label:"Annual Leave Entitlement",name:"annualLeave",type:"text"},{label:"Effective Date",name:"annualLeaveDate",type:"date"},{label:"Sick Leave Entitlement",name:"sickLeave",type:"text"},{label:"Effective Date",name:"sickLeaveDate",type:"date"},{label:"Maternity Leave Entitlement",name:"materLeave",type:"text"},{label:"Effective Date",name:"materLeaveDate",type:"date"},{label:"Paternity Leave Entitlement",name:"paterLeave",type:"text"},{label:"Effective Date",name:"paterLeaveDate",type:"date"},{label:"Marriage Leave Entitlement",name:"mrageLeave",type:"text"},{label:"Effective Date",name:"mrageLeaveDate",type:"date"},{label:"Compassionate Entitlement",name:"compasLeave",type:"text"},{label:"Effective Date",name:"compasLeaveDate",type:"date"}],serviceRecords:[{label:"Position Revision",name:"positionRev",type:"text"},{label:"Effective Date",name:"positionRevDate",type:"date"},{label:"Upload File",name:"uploadPR",type:"file"},{label:"Salary Package Revision",name:"revSalary",type:"text"},{label:"Effective Date",name:"revSalaryDate",type:"date"},{label:"Upload File",name:"uploadSP",type:"file"},{label:"Leave Passage Revision",name:"revLeavePass",type:"text"},{label:"Effective Date",name:"revLeaveDate",type:"date"},{label:"Upload File",name:"uploadLP",type:"file"},{label:"Annual Leave Revison",name:"revAnnualLeave",type:"text"},{label:"Effective date",name:"revALD",type:"date"},{label:"Upload File",name:"uploadAL",type:"file"},{label:"Change of Department",name:"depEmp",type:"text"},{label:"Effective Date",name:"depEmpDate",type:"date"},{label:"Upload File",name:"uploadDep",type:"file"}]},Gl=({label:n,register:r,onChangeFunc:t,name:e,error:s,fileName:a})=>m.jsxs("div",{className:"flex flex-col",children:[n&&m.jsx("label",{className:"text_size_5",children:n}),m.jsxs("label",{className:"w-full mt-2 max-w-[300px] flex items-center px-3 py-3 text_size_7 bg-lite_skyBlue border border-[#dedddd] rounded cursor-pointer",children:[m.jsx("input",{type:"file",className:"hidden",...r,onChange:t,accept:".pdf"}),m.jsxs("span",{className:"ml-2 text-grey font-normal flex justify-between items-center gap-20 text-sm",children:[m.jsx(xs,{className:"text-lg"})," PDF Only"]})]}),m.jsx("p",{className:"text-grey text-sm my-1",children:a||""}),s&&m.jsx("p",{className:"text-[red] text-[12px] mt-1",children:s.message})]}),ZC=({field:n,register:r,handleFileChange:t,uploadedFileNames:e,errors:s})=>{var a;return m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"mb-1 text_size_6",children:n.label}),n.type==="text"||n.type==="date"?m.jsx("input",{type:n.type,...r(n.name),className:"input-field"}):n.type==="file"?m.jsxs("label",{className:"w-full mt-2 max-w-[300px] flex items-center px-3 py-3 text_size_7 bg-lite_skyBlue border border-[#dedddd] rounded cursor-pointer",children:[m.jsx("input",{type:"file",className:"hidden",accept:".pdf",...r(n.name),onChange:i=>t(i,n.name)}),m.jsxs("span",{className:"ml-2 text-grey font-normal flex justify-between items-center gap-20",children:[m.jsx(xs,{})," PDF Only"]})]}):null,e[n.name]&&m.jsx("p",{className:"text-grey text-sm my-1",children:e[n.name]}),!e[n.name]&&s[n.name]&&m.jsx("p",{className:"text-[red] text-[12px] pt-2",children:(a=s[n.name])==null?void 0:a.message})]})},bX=()=>{const n=kr();return{WIUpdateData:ne.useCallback(async({workInfoUpValue:t})=>{if(!t)throw new Error("Missing required parameters");const{empID:e,department:s,otherDepartment:a,position:i,otherPosition:o,jobCat:u,otherJobCat:c,doj:l,jobDesc:d,skillPool:p,relationship:h,hr:f,manager:b,supervisor:y,upgradePosition:g,upgradeDate:x,contractPeriod:v,contractStart:w,contractEnd:S,workStatus:D,probationStart:T,probationEnd:R,probDuration:P,workHrs:L,workWeek:O,workMonth:H,salaryType:U,resignDate:I,termiDate:F,resignNotProb:A,otherResignNotProb:_,termiNotProb:E,otherTermiNotProb:N,resignNotConf:k,otherResignNotConf:B,termiNotConf:j,otherTermiNotConf:M,reasonResign:G,reasonTerminate:Y,leavePass:J,dateLeavePass:V,destinateLeavePass:Q,durLeavePass:q,annualLeave:z,annualLeaveDate:Z,sickLeave:re,sickLeaveDate:le,materLeave:ue,materLeaveDate:ce,paterLeave:ie,paterLeaveDate:ye,mrageLeave:he,mrageLeaveDate:pe,compasLeave:xe,compasLeaveDate:Oe,positionRev:Ae,positionRevDate:Le,revSalary:He,revSalaryDate:Ye,revLeavePass:it,revLeaveDate:bt,revAnnualLeave:tt,revALD:$e,depEmp:at,depEmpDate:ze,remarkWI:wt,WIContract:vt,WIProbation:kt,WIResignation:pt,WITermination:At,WILeaveEntitle:$t,uploadPR:Tt,uploadSP:fr,uploadLP:ur,uploadAL:er,uploadDep:Sr,sapNo:tr,SRDRTable:Wt,WIDTable:or,LDRTable:Ir,TDRTable:Jt}=t,wr={id:or,empID:e,department:s,otherDepartment:a,position:i,otherPosition:o,jobCat:u,otherJobCat:c,doj:l,jobDesc:d,skillPool:p,relationship:h,upgradePosition:g,upgradeDate:x,contractStart:w,contractPeriod:v,contractEnd:S,hr:f,manager:b,supervisor:y,workStatus:D,probationStart:T,probationEnd:R,probDuration:P,workHrs:L,workWeek:O,workMonth:H,salaryType:U,sapNo:tr},Lr={id:Jt,empID:e,resignDate:I,termiDate:F,resignNotProb:A,otherResignNotProb:_,termiNotProb:E,otherTermiNotProb:N,resignNotConf:k,otherResignNotConf:B,termiNotConf:j,otherTermiNotConf:M,reasonResign:G,reasonTerminate:Y,WIContract:vt,WIProbation:kt,WIResignation:pt,WITermination:At,WILeaveEntitle:$t},Lt={id:Ir,empID:e,leavePass:J,dateLeavePass:V,destinateLeavePass:Q,durLeavePass:q,annualLeave:z,annualLeaveDate:Z,sickLeave:re,sickLeaveDate:le,materLeave:ue,materLeaveDate:ce,paterLeave:ie,paterLeaveDate:ye,mrageLeave:he,mrageLeaveDate:pe,compasLeave:xe,compasLeaveDate:Oe},Er={id:Wt,empID:e,positionRev:Ae,positionRevDate:Le,revSalary:He,revSalaryDate:Ye,revLeavePass:it,revLeaveDate:bt,revAnnualLeave:tt,revALD:$e,depEmp:at,depEmpDate:ze,remarkWI:wt,uploadPR:Tt,uploadSP:fr,uploadLP:ur,uploadAL:er,uploadDep:Sr};try{const[Cr,lr,qe,rt]=await Promise.all([n.graphql({query:HW,variables:{input:wr}}),n.graphql({query:BW,variables:{input:Lr}}),n.graphql({query:LW,variables:{input:Lt}}),n.graphql({query:MW,variables:{input:Er}})])}catch(Cr){throw console.error("Error executing GraphQL requests:",Cr),Cr}},[])}},yX=()=>{const{WIUpdateData:n}=bX();ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{empPIData:r,terminateData:t,workInfoData:e,leaveDetailsData:s,SRData:a}=ne.useContext(Wn),{SubmitWIData:i}=gX(),{register:o,handleSubmit:u,control:c,setValue:l,watch:d,formState:{errors:p}}=Pn({defaultValues:{uploadAL:[],uploadPR:[],uploadSP:[],uploadLP:[],uploadDep:[],WIProbation:[],WIResignation:[],WITermination:[],WILeaveEntitle:[],WIContract:[]},resolver:Bn(VK)}),[h,f]=ne.useState(!1),[b,y]=ne.useState([]),[g,x]=ne.useState([]),[v,w]=ne.useState(""),S=d("empID"),[D,T]=ne.useState(""),[R,P]=ne.useState(""),L=d("department"),O=d("position"),H=d("jobCat"),U=d(bp.terminationFields.map(J=>J.name));ne.useEffect(()=>{console.log(r,"empPIData"),r.map(J=>{S===J.empID&&(T(J.name),P(J.sapNo))})},[S,r]);const[I,F]=ne.useState({uploadPR:null,uploadSP:null,uploadLP:null,uploadAL:null,uploadDep:null,WIProbation:null,WIResignation:null,WITermination:null,WILeaveEntitle:null,WIContract:null}),[A,_]=ne.useState({uploadPR:[],uploadSP:[],uploadLP:[],uploadAL:[],uploadDep:[],WIProbation:[],WIResignation:[],WITermination:[],WILeaveEntitle:[],WIContract:[]}),[E,N]=ne.useState({department:!1,position:!1,jobCat:!1}),k=(J,V)=>{N(Q=>({...Q,[J]:V==="Other"}))};ne.useEffect(()=>{(async()=>{try{const V=r.map(Q=>{const q=e?e.find(le=>le.empID===Q.empID):{},z=t?t.find(le=>le.empID===Q.empID):{},Z=s?s.find(le=>le.empID===Q.empID):{},re=a?a.find(le=>le.empID===Q.empID):{};return{...Q,...q,...z,...Z,...re}}).filter(Boolean);y(V),x(V)}catch(V){console.log(V)}})()},[r,t,e,s,a]),ne.useEffect(()=>{const J=j(d("department")),V=j(d("position")),Q=j(d("jobCat"));N({department:J==="Other",position:V==="Other",jobCat:Q==="Other"})},[d("department"),d("position"),d("jobCat")]);const B=async(J,V)=>{const Q=J.target.files[0];if(!Q)return;if(!["application/pdf"].includes(Q.type)){alert("Upload must be a PDF file");return}const z=d(V)||[];l(V,[...z,Q]);try{await As(Q,V,_),F(Z=>({...Z,[V]:Q.name}))}catch(Z){console.log(Z)}},j=J=>Array.isArray(J)?J[J.length-1]:J,M=J=>{["empID","doj","skillPool","probationStart","probationEnd","probDuration","resignDate","termiDate","resignNotProb","otherResignNotProb","termiNotProb","otherTermiNotProb","resignNotConf","otherResignNotConf","termiNotConf","otherTermiNotConf","reasonResign","reasonTerminate","sickLeave","sickLeaveDate","mrageLeave","mrageLeaveDate","compasLeave","compasLeaveDate","sapNo"].forEach(z=>{l(z,J[z])}),["department","otherDepartment","position","otherPosition","jobCat","otherJobCat","jobDesc","relationship","hr","manager","supervisor","upgradePosition","upgradeDate","contractPeriod","contractStart","paterLeaveDate","contractEnd","workStatus","workHrs","workWeek","workMonth","salaryType","leavePass","dateLeavePass","destinateLeavePass","durLeavePass","annualLeave","annualLeaveDate","materLeave","materLeaveDate","paterLeave","positionRev","positionRevDate","revSalary","revSalaryDate","revLeavePass","revLeaveDate","revAnnualLeave","revALD","depEmp","depEmpDate","remarkWI"].forEach(z=>l(z,j(J[z]))),["WIProbation","WIResignation","WITermination","WILeaveEntitle","WIContract","uploadPR","uploadSP","uploadLP","uploadAL","uploadDep"].map(z=>{if(console.log(J[z]),J&&J[z])try{const re=JSON.parse(J[z]).map(le=>typeof le=="string"?JSON.parse(le):le);console.log(re),l(z,re),_(le=>({...le,[z]:re})),F(le=>({...le,[z]:re.length>0?G(re[re.length-1].upload):""}))}catch(Z){console.error(`Failed to parse ${z}:`,Z)}}),N({department:J.department==="Other",position:J.position==="Other",jobCat:J.jobCat==="Other"})};function G(J){const Q=new URL(J).pathname,q=decodeURIComponent(Q);return q.substring(q.lastIndexOf("/")+1)}const Y=async J=>{console.log("Form data received in onSubmit:",J);try{const V=r?r.find(re=>re.empID===J.empID):{},Q=t?t.find(re=>re.empID===J.empID):{},q=e?e.find(re=>re.empID===J.empID):{},z=s?s.find(re=>re.empID===J.empID):{},Z=a?a.find(re=>re.empID===J.empID):{};if(Z&&z&&q&&Q&&V){const re={...J,sapNo:R,WIContract:JSON.stringify(A.WIContract),WIProbation:JSON.stringify(A.WIProbation),WIResignation:JSON.stringify(A.WIResignation),WITermination:JSON.stringify(A.WITermination),WILeaveEntitle:JSON.stringify(A.WILeaveEntitle),uploadPR:JSON.stringify(A.uploadPR),uploadSP:JSON.stringify(A.uploadSP),uploadLP:JSON.stringify(A.uploadLP),uploadAL:JSON.stringify(A.uploadAL),uploadDep:JSON.stringify(A.uploadDep),SRDRTable:Z.id,LDRTable:z.id,WIDTable:q.id,TDRTable:Q.id};await n({workInfoUpValue:re}),w("Employee Work Info Updated successfully"),f(!0)}else{const re={...J,sapNo:R,WIContract:JSON.stringify(A.WIContract),WIProbation:JSON.stringify(A.WIProbation),WIResignation:JSON.stringify(A.WIResignation),WITermination:JSON.stringify(A.WITermination),WILeaveEntitle:JSON.stringify(A.WILeaveEntitle),uploadPR:JSON.stringify(A.uploadPR),uploadSP:JSON.stringify(A.uploadSP),uploadLP:JSON.stringify(A.uploadLP),uploadAL:JSON.stringify(A.uploadAL),uploadDep:JSON.stringify(A.uploadDep)};await i({workInfoValue:re}),w("Employee Work Info saved successfully"),f(!0)}}catch(V){console.log(V),console.error("Error submitting data:",V)}};return m.jsxs("section",{className:"bg-[#F5F6F1CC] mx-auto p-10",children:[m.jsxs("div",{className:"w-full flex items-center justify-between gap-5",children:[m.jsx(yi,{to:"/employee",className:"text-xl flex-1 text-grey",children:m.jsx(Yc,{})}),m.jsx("p",{className:"flex-1 text-center mt-2 text_size_2 uppercase",children:"Work Info"}),m.jsx("div",{className:"flex-1",children:m.jsx(Ba,{searchResult:M,newFormData:g,searchIcon2:m.jsx(Rs,{}),placeholder:"Employee Id",rounded:"rounded-lg"})})]}),m.jsxs("form",{onSubmit:u(Y),className:" mt-20 bg-[#F5F6F1CC]",children:[m.jsx("div",{className:"flex justify-end items-center mt-5",children:m.jsx("div",{children:m.jsx(Ct,{label:"Employee ID",type:"text",name:"empID",placeholder:"Enter Employee ID",errors:p,register:o})})}),m.jsxs("div",{className:"grid grid-cols-2 gap-5 form-group mt-2",children:[m.jsx("div",{children:m.jsx(Ct,{label:"Department",type:"select",name:"department",select:"Select Department",options:[...oV],errors:p,register:o,onChange:J=>{k("department",J.target.value),o("department").onChange(J)}})}),E.department&&L==="Other"&&m.jsx("div",{children:m.jsx(Ct,{label:"Other Department",type:"text",name:"otherDepartment",placeholder:"Enter Department",errors:p,register:o})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-5 form-group mt-2",children:[m.jsx("div",{children:m.jsx(Ct,{label:"Position",type:"select",name:"position",select:"Select Position",options:[...bp.positions.map(J=>({value:J,label:J}))],errors:p,register:o,onChange:J=>{k("position",J.target.value),o("position").onChange(J)}})}),E.position&&O==="Other"&&m.jsx("div",{children:m.jsx(Ct,{label:"Other Position",type:"text",name:"otherPosition",placeholder:"Enter Position",errors:p,register:o})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-5 form-group mt-2",children:[m.jsx("div",{children:m.jsx(Ct,{label:"Job Category",type:"select",name:"jobCat",select:"Select Job Category",options:[...lV],errors:p,register:o,onChange:J=>{k("jobCat",J.target.value),o("jobCat").onChange(J)}})}),E.jobCat&&H==="Other"&&m.jsx("div",{children:m.jsx(Ct,{label:"Other Job Category",type:"text",name:"otherJobCat",placeholder:"Enter Job Category",errors:p,register:o})})]}),m.jsx("div",{className:"grid grid-cols-3 gap-5 form-group mt-5",children:bp.workFields.map((J,V)=>{var Q;return m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"mb-1 text_size_5",children:J.label}),J.type==="select"?m.jsx("select",{...o(J.name),className:"input-field select-custom",watch:d(J.name),children:(J.options||[]).map((q,z)=>m.jsx("option",{value:q,children:q},z))}):m.jsx("input",{type:J.type,...o(J.name),className:"input-field"}),p[J.name]&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:(Q=p[J.name])==null?void 0:Q.message})]},V)})}),m.jsx("hr",{className:"text-lite_grey mb-5"}),m.jsxs("div",{className:"form-group",children:[m.jsx("p",{className:"text_size_3 form-group text-medium_grey my-5",children:"Employee Leave Info"}),m.jsx("div",{className:"grid grid-cols-2 gap-5 form-group mt-5",children:bp.leaveBasic.map((J,V)=>{var Q;return m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"mb-1 text_size_5",children:J.label}),J.type==="select"?m.jsx("select",{...o(J.name),className:"input-field select-custom",children:(J.options||[]).map((q,z)=>m.jsx("option",{value:q,children:q},z))}):m.jsx("input",{type:J.type,...o(J.name),className:"input-field"}),p[J.name]&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:(Q=p[J.name])==null?void 0:Q.message})]},V)})}),m.jsx("div",{className:"grid grid-cols-4 gap-5 form-group mt-5",children:bp.leaveFields.map((J,V)=>{var Q;return m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"mb-1 text_size_5",children:J.label}),J.type==="select"?m.jsx("select",{...o(J.name),className:"input-field select-custom",children:(J.options||[]).map((q,z)=>m.jsx("option",{value:q,children:q},z))}):m.jsx("input",{type:J.type,...o(J.name),className:"input-field"}),p[J.name]&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:(Q=p[J.name])==null?void 0:Q.message})]},V)})})]}),m.jsx("hr",{className:"text-lite_grey mb-5"}),m.jsxs("div",{className:"form-group",children:[m.jsx("p",{className:"text_size_3 form-group text-medium_grey my-5",children:"Employee Exit Info"}),m.jsx("div",{className:"grid grid-cols-2 form-group gap-5",children:bp.terminationFields.map((J,V)=>{var z,Z;const q=U[V]==="other";return m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"block text_size_5",children:J.label}),J.type==="select"?m.jsxs(m.Fragment,{children:[m.jsx("select",{...o(J.name),className:"input-field select-custom",children:J.options.map((re,le)=>m.jsx("option",{value:re==="Select"?"":re.toLowerCase(),children:re},le))}),q&&m.jsxs(m.Fragment,{children:[m.jsx("input",{type:"text",placeholder:"Please specify",...o(`other${J.name.charAt(0).toUpperCase()+J.name.slice(1)}`,{required:"This field is required when 'Other' is selected"}),className:"input-field"}),m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:(z=p[`other${J.name.charAt(0).toUpperCase()+J.name.slice(1)}`])==null?void 0:z.message})]})]}):m.jsx("input",{type:J.type,...o(J.name),className:"input-field"}),m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:(Z=p[J.name])==null?void 0:Z.message})]},V)})})]}),m.jsx("div",{className:"grid grid-cols-3 gap-5 form-group mt-5",children:cV.map((J,V)=>m.jsx(os,{name:J.title,control:c,render:({field:{onChange:Q,value:q}})=>m.jsxs("div",{className:"form-group",children:[m.jsxs("h2",{className:"text_size_5",children:["Upload ",J.label]}),m.jsxs("label",{className:"mt-2 flex items-center px-3 py-3 text_size_7 bg-lite_skyBlue border border-[#dedddd] rounded cursor-pointer",children:[m.jsx("input",{type:"file",className:"hidden",accept:".pdf,image/jpeg,image/png",onChange:z=>B(z,J.title)}),m.jsxs("span",{className:"ml-2 text-grey font-normal flex justify-between items-center gap-10",children:[J.icon,J.label]})]}),m.jsx("p",{className:"text-xs mt-1 text-grey",children:(I==null?void 0:I[J.title])||""}),p[J.title]&&m.jsx("p",{className:"text-red text-xs mt-1",children:p[J.title].message})]})},V))}),m.jsx("hr",{className:"text-lite_grey mb-5"}),m.jsxs("div",{className:"form-group",children:[m.jsx("p",{className:"text_size_5 form-group text-medium_grey my-5",children:"Employee Service Record"}),m.jsx("div",{className:"grid grid-cols-3 gap-5",children:bp.serviceRecords.map((J,V)=>m.jsx(ZC,{field:J,register:o,handleFileChange:B,uploadedFileNames:I,errors:p},V))}),m.jsxs("div",{className:"md:col-span-2 form-group",children:[m.jsx("label",{className:"mb-1 text_size_5",children:"Remarks for Work Info"}),m.jsx("textarea",{...o("remarkWI"),className:"resize-none w-full p-2 mt-1 border bg-lite_skyBlue border-lite_grey rounded-md outline-none",rows:"4"}),p.remarkWI&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:p.remarkWI.message})]})]}),m.jsx("div",{className:"center my-10",children:m.jsx("button",{type:"submit",className:"primary_btn",children:"Save"})})]}),h&&m.jsx(na,{text:v,notification:h,path:"/employee"})]})},vX={medicalFields:[{label:"Overseas Medical Fitness issued date",name:"overMD",type:"date"},{label:"Overseas Medical Fitness Expiry",name:"overME",type:"date"},{label:"Upload File",name:"uploadFitness",type:"file"},{label:"Date submitted of BruHims Registration",name:"bruhimsRD",type:"date"},{label:"BruHims Registration Number",name:"bruhimsRNo",type:"text"},{label:"Upload File",name:"uploadRegis",type:"file"},{label:"Brunei Medical Appointment Date",name:"bruneiMAD",type:"date"},{label:"Brunei Medical Fitness Expiry",name:"bruneiME",type:"date"},{label:"Upload File",name:"uploadBwn",type:"file"}]},xX=({errors:n,register:r,setValue:t,setArrayUploadDocs:e,control:s,value:a,getValues:i,setUploadedFileNames:o,UploadingFiles:u})=>{const c=ne.useRef(!0),[l,d]=ne.useState({}),[p,h]=ne.useState({uploadDp:null,uploadDr:null}),{fields:f,append:b,remove:y,replace:g}=Af({control:s,name:"dependPass"});ne.useEffect(()=>{if(c.current){if(a&&a.length>0){const D=(typeof a=="string"?JSON.parse(a):a).map(T=>({...T,uploadDp:Array.isArray(T.uploadDp)?T.uploadDp:[typeof T.uploadDp=="string"?JSON.parse(T.uploadDp):T.uploadDp],uploadDr:Array.isArray(T.uploadDr)?T.uploadDr:[typeof T.uploadDr=="string"?JSON.parse(T.uploadDr):T.uploadDr]}));g(D),t("dependPass",D)}else b({dependName:"",dependPpNo:"",dependPpE:"",relation:"",labourDPBy:"",labourDRNo:"",labourDAmount:"",uploadDp:[],uploadDr:[],isNew:!1});c.current=!1}else if(a&&a.length>0){const D=(typeof a=="string"?JSON.parse(a):a).map(R=>({...R,uploadDp:Array.isArray(R.uploadDp)?R.uploadDp:[typeof R.uploadDp=="string"?JSON.parse(R.uploadDp):R.uploadDp],uploadDr:Array.isArray(R.uploadDr)?R.uploadDr:[typeof R.uploadDr=="string"?JSON.parse(R.uploadDr):R.uploadDr]}));g(D),t("dependPass",D),["uploadDp","uploadDr"].forEach(R=>{D&&Array.isArray(D)&&D.forEach((P,L)=>{const O=P==null?void 0:P[R],H=Array.isArray(O)?O.map(I=>typeof I=="string"?JSON.parse(I):I):[];d(I=>{const F=Array.isArray(I[R])?[...I[R]]:[];return F[L]=H,{...I,[R]:F}});const U=H.length>0&&H[H.length-1].upload?x(H[H.length-1].upload):"";h(I=>({...I,[`${L}_${R}`]:U}))})})}},[a,b,g,t]);const x=S=>S?S.split("/").pop().split(".").slice(0,-1).join("."):"",v=async(S,D,T)=>{const R=S.target.files[0];if(!R)return;if(R.type!=="application/pdf"){alert("Upload must be a PDF file");return}const L=[...i(`dependPass[${T}].${D}`)||[],R];t(`dependPass[${T}].${D}`,L);try{await As(R,D,d,T),h(O=>({...O,[`${T}_${D}`]:R.name}))}catch(O){console.error("File upload error:",O)}};ne.useEffect(()=>{e(l)},[l,e]);const w=()=>{b({dependName:"",dependPpNo:"",dependPpE:"",relation:"",labourDPBy:"",labourDRNo:"",labourDAmount:"",uploadDp:[],uploadDr:[]})};return m.jsxs("div",{className:"form-group mt-5",children:[m.jsxs("div",{className:"flex justify-between mb-5 text-dark_grey",children:[m.jsx("label",{className:"text_size_3",children:"Dependent Pass Info"}),m.jsx("button",{type:"button",className:"px-3 py-1 rounded",onClick:w,children:m.jsx(Vu,{className:"text-xl"})})]}),f.map((S,D)=>{var T,R,P,L;return m.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-2 relative",children:[m.jsx(Ct,{label:"Dependent Name",type:"text",name:`dependPass[${D}].dependName`,placeholder:"Enter Name",errors:n,register:r}),m.jsx(Ct,{label:"Passport Number",type:"text",name:`dependPass[${D}].dependPpNo`,placeholder:"Enter Passport Number",errors:n,register:r}),m.jsx(Ct,{label:"Date of Birth",type:"date",name:`dependPass[${D}].dependPpE`,placeholder:"Enter Date of Birth",errors:n,register:r}),m.jsx(Ct,{label:"Relation",type:"text",name:`dependPass[${D}].relation`,placeholder:"Enter Relation",errors:n,register:r}),m.jsx(Ct,{label:"Labour Deposit By",type:"select",name:`dependPass[${D}].labourDPBy`,options:iV,errors:n,register:r}),m.jsx(Ct,{label:"Labour Deposit Received Number",type:"text",name:`dependPass[${D}].labourDRNo`,placeholder:"Enter Deposit Number",errors:n,register:r}),m.jsx(Ct,{label:"Labour Deposit Amount",type:"number",inputmode:"numeric",name:`dependPass[${D}].labourDAmount`,placeholder:"Enter Deposit Amount",errors:n,register:r}),m.jsx(Gl,{label:"Upload Dependent Pass",onChangeFunc:O=>v(O,"uploadDp",D),register:r(`dependPass[${D}].uploadDp`),error:(R=(T=n==null?void 0:n.dependPass)==null?void 0:T[D])==null?void 0:R.uploadDp,fileName:p[`${D}_uploadDp`]||""}),m.jsx(Gl,{label:"Upload Dependent Passport",onChangeFunc:O=>v(O,"uploadDr",D),register:r(`dependPass[${D}].uploadDr`),error:(L=(P=n==null?void 0:n.dependPass)==null?void 0:P[D])==null?void 0:L.uploadDr,fileName:p[`${D}_uploadDr`]||""}),D!==0&&m.jsx("button",{type:"button",onClick:()=>y(D),className:"absolute top-0 right-0 text-medium_grey text-[18px]",children:m.jsx(Tf,{})})]},S.id)})]})},wX=()=>{const n=kr();return{SubmitMPData:ne.useCallback(async({labValue:t})=>{if(!t)throw new Error("Missing required parameters");const e={empID:t.empID,overMD:t.overMD,overME:t.overME,bruhimsRD:t.bruhimsRD,bruhimsRNo:t.bruhimsRNo,bruneiMAD:[t.bruneiMAD],bruneiME:[t.bruneiME],dependPass:JSON.stringify(t.dependPass),uploadFitness:t.uploadFitness,uploadRegis:t.uploadRegis,uploadBwn:[t.uploadBwn]};try{const s=await Promise.all([n.graphql({query:IW,variables:{input:e}})])}catch(s){throw console.error("Error executing GraphQL requests:",s),s}},[])}},_X=()=>{const n=kr();return{updateMedicalSubmit:ne.useCallback(async({LabUpValue:t})=>{if(!t||!t.LabTable)throw new Error("Missing required parameters or LabTable ID");const e={id:t.LabTable,empID:t.empID,overMD:t.overMD,overME:t.overME,bruhimsRD:t.bruhimsRD,bruhimsRNo:t.bruhimsRNo,bruneiMAD:t.bruneiMAD,bruneiME:t.bruneiME,uploadBwn:t.uploadBwn,dependPass:JSON.stringify(t.dependPass),uploadFitness:t.uploadFitness,uploadRegis:t.uploadRegis};try{return await n.graphql({query:PW,variables:{input:e}})}catch(s){throw console.error("Error updating LabourMedicalInfo:",s.message),s}},[])}},SX=()=>{ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{SubmitMPData:n}=wX(),{updateMedicalSubmit:r}=_X(),{empPIData:t,LMIData:e}=ne.useContext(Wn),[s,a]=ne.useState([]),[i,o]=ne.useState([]),[u,c]=ne.useState({}),[l,d]=ne.useState({uploadFitness:[],uploadRegis:[],uploadBwn:[]}),[p,h]=ne.useState(!1),[f,b]=ne.useState(null),{register:y,handleSubmit:g,setValue:x,watch:v,control:w,getValues:S,formState:{errors:D}}=Pn({defaultValues:{uploadFitness:[],uploadRegis:[],uploadBwn:[],dependPass:[]},resolver:Bn(zK)});ne.useEffect(()=>{(async()=>{try{const I=t.map(F=>{const A=e?e.find(_=>_.empID===F.empID):{};return{...F,...A}}).filter(Boolean);a(I)}catch(I){console.error("Error fetching data:",I)}})()},[t,e]);const T=v("empID"),R=async(U,I)=>{if(!T){alert("Please enter the Employee ID before uploading files."),window.location.href="/labourImmigration";return}const F=U.target.files[0];if(!F)return;if(!["application/pdf"].includes(F.type)){alert("Upload must be a PDF file ");return}const _=v(I)||[];x(I,[..._,F]);try{await As(F,I,d,T),c(E=>({...E,[I]:F.name}))}catch(E){console.log(E)}},P=U=>Array.isArray(U)?U[U.length-1]:U,L=U=>{if(["empID","bruhimsRNo","overMD","overME","bruhimsRD"].forEach(_=>{U[_]&&x(_,U[_])}),["bruneiMAD","bruneiME"].forEach(_=>x(_,P(U[_]))),U!=null&&U.dependPass)try{const _=JSON.parse(U.dependPass);b(_)}catch(_){console.error("Failed to parse dependPass:",_)}["uploadFitness","uploadRegis","uploadBwn"].map(_=>{if(U&&U[_])try{const N=JSON.parse(U[_]).map(k=>typeof k=="string"?JSON.parse(k):k);x(_,N),d(k=>({...k,[_]:N})),c(k=>({...k,[_]:N.length>0?O(N[N.length-1].upload):""}))}catch(E){console.error(`Failed to parse ${_}:`,E)}})},O=U=>U.split("/").pop().split(".").slice(0,-1).join("."),H=async U=>{try{const I=t.find(j=>j.empID===U.empID),F=e.find(j=>j.empID===U.empID),A=j=>j?new Date(j).toLocaleDateString("en-CA"):null,_=A(U.overMD),E=A(U.overME),N=A(U.bruhimsRD),k=A(U.bruneiMAD),B=A(U.bruneiME);if(F&&I){const j=(J,V)=>[...new Set([...J||[],V])],M=j(F.bruneiMAD,k),G=j(F.bruneiME,B),Y={...U,overMD:_,overME:E,bruhimsRD:N,bruneiMAD:M.map(A),bruneiME:G.map(A),uploadFitness:JSON.stringify(l.uploadFitness),uploadRegis:JSON.stringify(l.uploadRegis),uploadBwn:JSON.stringify(l.uploadBwn),dependPass:JSON.stringify(U.dependPass.map((J,V)=>{var z,Z;const Q=((z=i==null?void 0:i.uploadDp)==null?void 0:z[V])||J.uploadDp,q=((Z=i==null?void 0:i.uploadDr)==null?void 0:Z[V])||J.uploadDr;return{...J,uploadDp:Q,uploadDr:q}})),LabTable:F.id};await r({LabUpValue:Y}),setShowTitle("Employee Personal Info updated successfully"),h(!0)}else{const[j,M]=[[k],[B]].map(Y=>[...new Set(Y)]),G={...U,overMD:_,overME:E,bruhimsRD:N,bruneiMAD:j.map(A),bruneiME:M.map(A),uploadFitness:JSON.stringify(l.uploadFitness),uploadRegis:JSON.stringify(l.uploadRegis),uploadBwn:JSON.stringify(l.uploadBwn),dependPass:JSON.stringify(U.dependPass.map((Y,J)=>{var q,z;const V=((q=i==null?void 0:i.uploadDp)==null?void 0:q[J])||Y.uploadDp,Q=((z=i==null?void 0:i.uploadDr)==null?void 0:z[J])||Y.uploadDr;return{...Y,uploadDp:V,uploadDr:Q}}))};await n({labValue:G}),setShowTitle("Employee Personal Info saved successfully"),h(!0)}}catch(I){console.log(I)}};return m.jsxs("form",{onSubmit:g(H),className:"container mx-auto p-10 bg-[#F5F6F1CC]",children:[m.jsxs("div",{className:"w-full flex items-center justify-between",children:[m.jsx(yi,{to:"/employee",className:"text-xl flex-1 text-grey",children:m.jsx(Yc,{})}),m.jsx("p",{className:"flex-1 text-center mt-2 text_size_2 uppercase",children:"Medical & Dependent Info"}),m.jsx("div",{className:"flex-1",children:m.jsx(Ba,{searchIcon2:m.jsx(Rs,{}),searchResult:L,placeholder:"Employee ID",rounded:"rounded-lg",newFormData:s})})]}),m.jsx("div",{className:"flex justify-end items-center pt-7 pb-2",children:m.jsx("div",{children:m.jsx(Ct,{label:"Employee ID",type:"text",name:"empID",placeholder:"Enter Employee ID",errors:D,register:y})})}),m.jsxs("div",{className:"form-group",children:[m.jsx("p",{className:"text_size_3 form-group text-medium_grey mb-5",children:"Employee Medical Info"}),m.jsx("div",{className:"grid grid-cols-3 gap-x-4 gap-y-2 mt-2 mb-5",children:vX.medicalFields.map((U,I)=>m.jsx(ZC,{field:U,register:y,handleFileChange:R,uploadedFileNames:u,errors:D},I))})]}),m.jsx("hr",{}),m.jsx(xX,{register:y,UploadingFiles:u,setUploadedFileNames:c,control:w,setValue:x,setArrayUploadDocs:o,arrayUploadDocs:i,errors:D,watch:v,value:f,getValues:S}),m.jsx("div",{className:"center",children:m.jsx("button",{type:"submit",className:"primary_btn",children:"Submit"})}),p&&m.jsx(na,{text:"Medical and Dependent Info details saved successfully",notification:p,path:"/labourImmigration"})]})},EX=()=>{const n=kr();return{SubmitReqData:ne.useCallback(async({EmpReqValue:t})=>{if(!t)throw new Error("Missing required parameters");const e={department:t.department,project:t.project,position:t.position,quantity:t.quantity,reasonForReq:t.reasonForReq,justification:t.justification,replacementFor:t.replacementFor,qualification:t.qualification,tentativeDate:t.tentativeDate};try{const s=await Promise.all([n.graphql({query:hW,variables:{input:e}})])}catch(s){throw console.error("Error executing GraphQL requests:",s),s}},[])}},QC=({isVisible:n,onClose:r})=>{const{SubmitReqData:t}=EX(),{register:e,handleSubmit:s,formState:{errors:a}}=Pn({resolver:Bn(GM)}),[i,o]=ne.useState(!1),u=async c=>{console.log("Form data:",c);try{const l={...c,department:c.department,project:c.project,position:c.position,quantity:c.quantity,reasonForReq:c.reasonForReq,justification:c.justification,replacementFor:c.replacementFor,qualification:c.qualification,tentativeDate:c.tentativeDate};await t({EmpReqValue:l}),o(!0)}catch(l){console.error("Error submitting data:",l),console.log(l),l!=null&&l.errors&&l.errors.forEach((d,p)=>{console.error(`GraphQL Error ${p+1}:`,d.message),d.extensions&&console.error("Error Extensions:",d.extensions)})}};return m.jsxs("div",{className:"bg-white w-full max-w-[900px] rounded-lg relative",children:[m.jsxs("div",{className:"flex gap-8 p-4",children:[m.jsx("img",{src:$m,alt:"Logo",className:"max-w-[150px] w-full"}),m.jsx("h2",{className:"text-lg font-semibold",children:"Apply for Employee Requisition"}),m.jsx("button",{onClick:r,className:"absolute -top-4 -right-4 border rounded-full p-1",children:m.jsx(I_,{size:20})})]}),m.jsx("div",{className:"max-h-[450px] overflow-y-auto px-4",children:m.jsxs("form",{onSubmit:s(u),className:"pb-5",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsx(Ct,{label:"Department",name:"department",type:"text",register:e,errors:a}),m.jsx(Ct,{label:"Project",name:"project",type:"text",register:e,errors:a}),m.jsx(Ct,{label:"Position",name:"position",type:"text",register:e,errors:a}),m.jsx(Ct,{label:"Quantity",name:"quantity",type:"text",register:e,errors:a}),m.jsx(Ct,{label:"Reason for Request",name:"reasonForReq",type:"select",register:e,errors:a,options:[{value:"Additional",label:"Additional"},{value:"Replacement",label:"Replacement"}]}),m.jsx(Ct,{label:"Justification of Request",name:"justification",type:"text",register:e,errors:a}),m.jsx(Ct,{label:"If Replacement, for whom",name:"replacementFor",type:"text",register:e,errors:a}),m.jsx(Ct,{label:"State Qualification Desired",name:"qualification",type:"text",register:e,errors:a}),m.jsx(Ct,{label:"Tentative Date to Mobilize",name:"tentativeDate",type:"date",register:e,errors:a})]}),m.jsx("div",{className:"flex justify-center items-center gap-4 pt-4",children:m.jsx("button",{type:"submit",className:"primary_btn",children:"Submit"})}),i&&m.jsx(na,{text:"Your Requisition Submitted Successfully",notification:i,path:"/recrutiles/applymployreq"})]})})]})},NX=()=>{const{empPIData:n,EmpInsuranceData:r,workInfoData:t,IDData:e,depInsuranceData:s}=ne.useContext(Wn),[a,i]=ne.useState([]),[o,u]=ne.useState("employeeInsurances"),[c,l]=ne.useState([]),d=Yi(),p=Ju();ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),ne.useEffect(()=>{(async()=>{try{const g=n.map(x=>{const v=r?r.find(D=>D.empID===x.empID):{},w=t.find(D=>D.empID===x.empID)||{},S=e.find(D=>D.empID===x.empID)||{};return{...x,...v,...w,...S}});i(g)}catch(g){console.log(g)}})()},[n,r,t,e]);const h=()=>{switch(o){case"employeeInsurances":d("/insuranceAdd"),u("employeeInsurances");break;case"dependentInsurance":d("/insuranceAdd/dependentInsurance"),u("dependentInsurance");break}},f=(y,g)=>{u(y),d(g)};ne.useEffect(()=>{const y=p.pathname;u(y==="/insuranceAdd"?"employeeInsurances":y==="/insuranceAdd/dependentInsurance"?"dependentInsurance":"employeeInsurances")},[p]);const b=y=>{l(y)};return m.jsx("section",{className:"w-full bg-[#F5F6F1]",children:m.jsxs("div",{className:"relative mx-auto p-10 h-full",children:[m.jsxs("div",{className:"w-full flex items-center justify-between gap-5",children:[m.jsx(yi,{to:"/employee",className:"text-xl flex-1 text-grey",children:m.jsx(Yc,{})}),m.jsx("p",{className:"flex-1 text-center mt-2 text_size_2 uppercase",children:"Insurance Form"}),m.jsx("div",{className:"flex-1",children:p.pathname==="/insuranceAdd"?m.jsx(Ba,{searchResult:b,newFormData:a,searchIcon2:m.jsx(Rs,{}),placeholder:"Employee Id",rounded:"rounded-lg"}):m.jsx(Ba,{searchResult:b,newFormData:s,searchIcon2:m.jsx(Rs,{}),placeholder:"Employee Id",rounded:"rounded-lg"})})]}),m.jsxs("div",{className:"flex border-b m-4 text-[16px] font-semibold",children:[m.jsx("button",{className:`py-2 px-4 focus:outline-none ${o==="employeeInsurances"?"border-b-8 border-yellow":""}`,onClick:()=>f("employeeInsurances","/insuranceAdd"),children:"Employee Insurance"}),m.jsx("button",{className:`py-2 px-4 focus:outline-none ${o==="dependentInsurance"?"border-b-8 border-yellow":""}`,onClick:()=>f("dependentInsurance","/insuranceAdd/dependentInsurance"),children:"Dependent Insurance"})]}),m.jsx("div",{children:m.jsx(_v,{context:{activeNavTab:o,handleNext:h,searchResultData:c}})})]})})};function eD(n){return Fn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(n)}function tD(n){return Fn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(n)}function AX(n){return Fn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(n)}const kX=()=>{const n=kr();return{SubmitMPData:ne.useCallback(async({empInsValue:t})=>{if(!t)throw new Error("Missing required parameters");const e={empID:t.empID,groupIns:[t.groupIns],groupInsEffectDate:[t.groupInsEffectDate],groupInsEndDate:[t.groupInsEndDate],workmenComp:[t.workmenComp],workmePolicyNo:[t.workmePolicyNo],travelIns:[t.travelIns],accidentIns:[t.accidentIns],empInsUpload:[t.empInsUpload]};console.log(e);try{const s=await Promise.all([n.graphql({query:xW,variables:{input:e}})]);console.log(s,"successfully stored data")}catch(s){throw console.log(s),console.error("Error executing GraphQL requests:",s),s}},[])}},CX=()=>{const n=kr();return{UpdateEIDataSubmit:ne.useCallback(async({empInsValue:t})=>{if(!t)throw new Error("Missing required parameters");const e={id:t.id,empID:t.empID,groupIns:[t.groupIns],groupInsEffectDate:[t.groupInsEffectDate],groupInsEndDate:[t.groupInsEndDate],workmenComp:[t.workmenComp],workmePolicyNo:[t.workmePolicyNo],travelIns:[t.travelIns],accidentIns:[t.accidentIns],empInsUpload:[t.empInsUpload]};try{const s=await Promise.all([n.graphql({query:wW,variables:{input:e}})])}catch(s){console.log(s)}},[])}},DX=()=>{ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{searchResultData:n}=Ah(),{EmpInsuranceData:r}=ne.useContext(Wn);kX(),CX();const[t,e]=ne.useState(!1),[s,a]=ne.useState({empInsUpload:[]}),[i,o]=ne.useState([{}]),[u,c]=ne.useState([]),[l,d]=ne.useState(""),{register:p,handleSubmit:h,setValue:f,watch:b,control:y,formState:{errors:g}}=Pn({defaultValues:{empInsUpload:[]},resolver:Bn(GK)}),x=[{label:"Employee Badge Number",key:"empBadgeNo",type:"text"},{label:"Employee Name",key:"name",type:"text"},{label:"Department",key:"department",type:"text"},{label:"Position",key:"position",type:"text"},{label:"Date of Joining",key:"doj",type:"date"},{label:"Gender",key:"gender",type:"select",options:i5},{label:"Brunei I/C Number",key:"bwnIcNo",type:"text"},{label:"Passport Number for Non-Local",key:"ppNo",type:"text"},{label:"Date of Birth",key:"dob",type:"date"},{label:"Marital Status",key:"marital",type:"select",options:O8},{label:"Nationality",key:"nationality",type:"select",options:o5},{label:"Group H&S Insurance",key:"groupIns",type:"select",options:["Single","Employee & spouse","Employee & Child","Employee & Family","Decline","Others"]},{label:"Group H&S Insurance Enrollment Effective Date",key:"groupInsEffectDate",type:"date"},{label:"Group H&S Insurance Enrollment End Date",key:"groupInsEndDate",type:"date"},{label:"Workmen Compensation Insurance",key:"workmenComp",type:"select",options:["Offshore","Onshore","General"]},{label:"Policy Number",key:"workmePolicyNo",type:"text"},{label:"Travelling Insurance",key:"travelIns",type:"select",options:["Yes","No"]},{label:"Personal Accident Insurance",key:"accidentIns",type:"select",options:["Yes","No"]}],v=()=>{o(R=>[...R,{}]),c(R=>[...R,[]])},w=R=>{o(P=>P.filter((L,O)=>O!==R)),c(P=>P.filter((L,O)=>O!==R))},S=async(R,P,L)=>{if(!watchedEmpID){alert("Please enter the Employee ID before uploading files."),window.location.href="/insuranceAdd";return}const O=R.target.files[0];if(!O)return;if(!["application/pdf"].includes(O.type)){alert("Upload must be a PDF file");return}c(U=>{const I=[...U];return I[L]={name:O.name,file:O},I});try{const U=await As(O,P,a,L);U&&c(I=>{const F=[...I];return F[L]=[U],F})}catch(U){console.error("Error uploading file:",U)}},D=R=>Array.isArray(R)?R[R.length-1]:R;ne.useEffect(()=>{f("empID",n.empID),x.forEach(P=>{n[P.key]!==void 0&&f(P.key,n[P.key])}),x.forEach(P=>{n[P.key]!==void 0&&f(P.key,D(n[P.key]))});const R=n==null?void 0:n.empInsUpload;if(R)try{const L=JSON.parse(R).map(O=>typeof O=="string"?JSON.parse(O):O);a(O=>({...O,empInsUpload:L}))}catch(P){console.error("Failed to parse JSON:",P)}},[n]);const T=async R=>{const P=r.find(L=>L.empID===R.empID);P?{...R,id:P.id,empInsUpload:JSON.stringify(s.empInsUpload.flat())}:{...R,empInsUpload:JSON.stringify(s.empInsUpload.flat())}};return m.jsxs("form",{onSubmit:h(T),className:"mx-auto p-2 my-10 bg-[#F5F6F1CC]",children:[m.jsx("div",{className:"flex justify-end items-center",children:m.jsx("div",{className:"max-w-sm",children:m.jsx(Ct,{label:"Employee ID",register:p,name:"empID",type:"text",watch:b("empID")||"",placeholder:"Enter Employee ID",errors:g})})}),m.jsx("div",{className:"grid grid-cols-2 gap-5 w-full",children:x.map(({label:R,key:P,type:L,options:O=[],className:H=""})=>m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"mb-1 text_size_5",children:R}),L==="select"?m.jsx(m.Fragment,{children:m.jsxs("select",{...p(P),className:`input-field select-custom ${H}`,watch:b(P)||"",children:[m.jsx("option",{value:""}),O.map(U=>typeof U=="string"?m.jsx("option",{value:U,children:U},U):m.jsx("option",{value:U.value,children:U.label},U.value))]})}):m.jsx("input",{type:L,...p(P),className:`input-field ${H}`,watch:b(P)||""}),g[P]&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:g[P].message})]},P))}),m.jsx("div",{className:"grid grid-cols-3 gap-10",children:i.map((R,P)=>{var L;return m.jsxs("div",{className:"form-group w-full relative",children:[m.jsxs("label",{className:"w-full flex items-center px-3 py-3 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] rounded-md cursor-pointer",children:["Upload",m.jsx(os,{name:`empInsUpload[${P}]`,control:y,render:({field:O})=>m.jsx("input",{type:"file",onChange:H=>{S(H,"empInsUpload",P)},className:"hidden",accept:".pdf"})}),m.jsx("span",{className:"ml-2",children:m.jsx(xs,{})})]}),m.jsx("p",{className:"text-grey mt-1 text-xs",children:((L=u[P])==null?void 0:L.name)||""}),P===0&&m.jsx("button",{type:"button",onClick:v,className:"absolute top-1/2 -right-8 transform -translate-y-1/2 flex items-center text-medium_grey text-[20px]",children:m.jsx(tD,{className:"mr-1"})}),P>0&&m.jsx("button",{type:"button",onClick:()=>w(P),className:"absolute top-1/2 -right-8 transform -translate-y-1/2 flex items-center text-medium_grey text-[20px]",children:m.jsx(eD,{className:"mr-1"})})]},P)})}),m.jsx("div",{className:"center my-10",children:m.jsx("button",{type:"submit",className:"primary_btn",children:"Save"})}),t&&m.jsx(na,{text:l,notification:t,path:"/employee"})]})},TX=({register:n,errors:r,index:t,selectedNationality:e,handleNationalityChange:s,watch:a})=>{const i=a(`depInsurance[${t}].depenotherNation`||""),o=a(`depInsurance[${t}].depenNation`||"");return m.jsx("div",{children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[m.jsx(Ct,{label:"Gender",register:n,name:`depInsurance[${t}].depenGender`,type:"select",options:i5,errors:r}),m.jsx(Ct,{label:"Date of Birth",register:n,name:`depInsurance[${t}].depenDob`,type:"date",errors:r}),m.jsx(Ct,{label:"Nationality",register:n,name:`depInsurance[${t}].depenNation`,type:"select",options:o5,errors:r,onChange:s}),(e==="Other"||i&&o==="Other")&&m.jsx(Ct,{label:"Other Nationality",register:n,name:`depInsurance[${t}].depenotherNation`,type:"text",errors:r}),m.jsx(Ct,{label:"Birth Certificate Number (Below Age 12)",register:n,name:`depInsurance[${t}].depenBcNo`,type:"text",errors:r}),m.jsx(Ct,{label:"Brunei I/C Number",register:n,name:`depInsurance[${t}].depenIcNumber`,type:"text",errors:r}),m.jsx(Ct,{label:"Passport Number for Non-Local",register:n,name:`depInsurance[${t}].depenPpNo`,type:"text",errors:r}),m.jsx(Ct,{label:"Group H&S Insurance Enrollment Effective Date",register:n,name:`depInsurance[${t}].depenGroupInsEffect`,type:"date",errors:r}),m.jsx(Ct,{label:"Group H&S Insurance Enrollment End Date",register:n,name:`depInsurance[${t}].depenGroupInsEnd`,type:"date",errors:r}),m.jsx(Ct,{label:"Travelling Insurance Enrollment Effective Date",register:n,name:`depInsurance[${t}].depenTravelInsEffect`,type:"date",errors:r}),m.jsx(Ct,{label:"Travelling Insurance Enrollment End Date",register:n,name:`depInsurance[${t}].depenTravelInsEnd`,type:"date",errors:r}),m.jsx(Ct,{label:"Personal Accident Insurance Enrollment Effective Date",register:n,name:`depInsurance[${t}].depenPersonInsEffect`,type:"date",errors:r}),m.jsx(Ct,{label:"Personal Accident Insurance Enrollment End Date",register:n,name:`depInsurance[${t}].depenPersonInsEnd`,type:"date",errors:r})]})})},jX=({register:n,errors:r,index:t})=>{var e,s;return m.jsxs("div",{className:"grid grid-cols-2 gap-5 flex-wrap",children:[m.jsx(Ct,{label:"Dependent Name",register:n,name:`depInsurance[${t}].depenName`,type:"text",errors:r}),m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"mb-1 text_size_5",children:"Relationship"}),m.jsxs("select",{...n(`depInsurance[${t}].depenRelation`),className:"input-field select-custom",children:[m.jsx("option",{value:""}),m.jsx("option",{value:"Spouse",children:"Spouse"}),m.jsx("option",{value:"Child",children:"Child"})]}),((s=(e=r.depInsurance)==null?void 0:e[t])==null?void 0:s.depenRelation)&&m.jsx("p",{className:"text-[red] text-xs mt-1",children:r.depInsurance[t].depenRelation.message})]})]})},IX=()=>{const n=kr();return{SubmitMPData:ne.useCallback(async({depValue:t})=>{if(!t)throw new Error("Missing required parameters");const e={empID:t.empID,depInsurance:JSON.stringify(t.depInsurance)};try{const s=await Promise.all([n.graphql({query:yW,variables:{input:e}})])}catch(s){throw console.error("Error executing GraphQL requests:",s),s}},[])}},PX=()=>{const n=kr();return{UpdateDIData:ne.useCallback(async({depValue:t})=>{if(!t)throw new Error("Missing required parameters");const e={empID:t.empID,depInsurance:JSON.stringify(t.depInsurance),id:t.id};try{const s=await Promise.all([n.graphql({query:vW,variables:{input:e}})])}catch(s){throw console.error("Error executing GraphQL requests:",s),s}},[])}},RX=()=>{ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{depInsuranceData:n}=ne.useContext(Wn),{SubmitMPData:r}=IX(),{UpdateDIData:t}=PX(),[e,s]=ne.useState(!1),{searchResultData:a}=Ah(),[i,o]=ne.useState(""),{register:u,handleSubmit:c,formState:{errors:l},setValue:d,watch:p}=Pn({resolver:Bn(YK),defaultValues:{depInsurance:[{}]}}),[h,f]=ne.useState([{id:Date.now()}]),[b,y]=ne.useState({}),[g,x]=ne.useState({depInsurance:[]}),[v,w]=ne.useState(h),[S,D]=ne.useState(""),T=ne.useRef(!0),R=()=>{const F={id:Date.now()};w(A=>[...A,F])},P=p("empID"),L=F=>{const A=v.filter((_,E)=>E!==F);w(A),d("depInsurance",A)},O=async(F,A,_)=>{if(!P){alert("Please enter the Employee ID before uploading files."),window.location.href="/insuranceAdd/dependentInsurance";return}const E=F.target.files[0];if(!E)return;if(!["application/pdf"].includes(E.type)){alert("Upload must be a PDF file");return}d(`depInsurance[${_}].depenInfUpload`,E);try{await As(E,A,x,P,_),y(k=>({...k,[_]:E.name}))}catch(k){console.log(k)}},H=F=>{o(F.target.value)};ne.useEffect(()=>{d("empID",a==null?void 0:a.empID);const F=a==null?void 0:a.depInsurance;if(F)try{const A=JSON.parse(F);T.current?(A&&A.length>0&&(w(A),d("depInsurance",A),A.forEach((_,E)=>{if(_!=null&&_.depenInfUpload){const N=_.depenInfUpload,B=JSON.parse(N).map(j=>typeof j=="string"?JSON.parse(j):j);x(j=>{const M=[...j.depInsurance];return M[E]=B,{...j,depInsurance:M}}),y(j=>({...j,[E]:B.length>0?U(B[B.length-1].upload):""}))}})),T.current=!1):A&&A.length>0&&(w(A),d("depInsurance",A))}catch(A){console.error("Error parsing depInsurance data:",A)}},[a]);const U=F=>F.split("/").pop().split(".").slice(0,-1).join("."),I=async F=>{console.log(F);try{const A=n.find(_=>_.empID===F.empID);if(A){const _={...F,depInsurance:F.depInsurance.map((E,N)=>({...E,depenInfUpload:JSON.stringify(g.depInsurance[N])||[]})),id:A.id};await t({depValue:_}),D("Dependent Insurance Info Updated successfully"),s(!0)}else{const _={...F,depInsurance:F.depInsurance.map((E,N)=>({...E,depenInfUpload:JSON.stringify(g.depInsurance[N])||[]}))};await r({depValue:_}),D("Dependent Insurance Info saved successfully"),s(!0)}}catch(A){console.error("Error submitting data:",A)}};return m.jsx("div",{className:"bg-[#F5F6F1CC] mx-auto p-2 py-10",children:m.jsxs("form",{className:"flex flex-col gap-5",onSubmit:c(I),children:[m.jsx("div",{className:"flex justify-end items-center",children:m.jsxs("div",{className:"max-w-sm",children:[m.jsx("label",{className:"text_size_5",children:"Employee ID"}),m.jsx("input",{type:"text",className:"input-field",placeholder:"Enter Employee ID",...u("empID")}),l.empID&&m.jsx("p",{className:"text-[red] text-[12px]",children:l.empID.message})]})}),m.jsx("button",{type:"button",onClick:R,className:"absolute right-3 mt-10 text-medium_grey text-[25px]",children:m.jsx(tD,{className:"mr-1"})}),v&&v.length>0&&v.map((F,A)=>{var _,E,N,k;return m.jsxs("div",{className:"flex flex-col gap-5 border-b pb-10",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[m.jsxs("div",{children:[m.jsx("label",{className:"mb-1 text_size_5",children:"Type of Dependent Insurance"}),m.jsxs("select",{...u(`depInsurance[${A}].depenInsType`),defaultValue:F.depenInsType||"",className:"input-field select-custom",children:[m.jsx("option",{value:""}),m.jsx("option",{value:"Group H&S Insurance",children:"Group H&S Insurance"}),m.jsx("option",{value:"Travelling Insurance",children:"Travelling Insurance"}),m.jsx("option",{value:"Personal Accident Insurance",children:"Personal Accident Insurance"})]}),((E=(_=l.depInsurance)==null?void 0:_[A])==null?void 0:E.depenInsType)&&m.jsx("p",{className:"text-[red] text-xs mt-1",children:l.depInsurance[A].depenInsType.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"mb-1 text_size_5",children:"Dependent Information"}),m.jsxs("select",{...u(`depInsurance[${A}].depenInfo`),className:"input-field select-custom",children:[m.jsx("option",{value:""}),m.jsx("option",{value:"Spouse",children:"Spouse"}),m.jsx("option",{value:"Child",children:"Child"}),m.jsx("option",{value:"Spouse&Child",children:"Spouse & Child"})]}),((k=(N=l.depInsurance)==null?void 0:N[A])==null?void 0:k.depenInfo)&&m.jsx("p",{className:"text-[red] text-xs mt-1",children:l.depInsurance[A].depenInfo.message})]})]}),m.jsx(jX,{register:u,errors:l,index:A}),m.jsx(TX,{register:u,errors:l,index:A,watch:p,selectedNationality:i,handleNationalityChange:H}),m.jsx("div",{className:"grid grid-cols-3 gap-10",children:m.jsxs("div",{children:[m.jsxs("label",{className:"flex items-center px-3 py-3 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] rounded-md cursor-pointer",children:["Upload",m.jsx("input",{type:"file",...u(`depInsurance[${A}].depenInfUpload`),onChange:B=>O(B,"depInsurance",A),accept:"application/pdf",className:"hidden"}),m.jsx(xs,{className:"ml-1"})]}),m.jsx("p",{className:"text-secondary text-xs pt-1",children:b[A]}),(l==null?void 0:l.depenInfUpload)&&m.jsx("p",{className:"text-red text-sm",children:l.depenInfUpload.message})]})}),A>0&&m.jsx("button",{type:"button",onClick:()=>L(A),className:"text-red-500 mt-2 text-medium_grey text-[25px]",children:m.jsx(eD,{})})]},A)}),m.jsx("div",{className:"md:col-span-2 flex justify-center mt-10",children:m.jsx("button",{type:"submit",className:"primary_btn",children:"Save"})}),e&&m.jsx(na,{text:S,notification:e,path:"/employee"})]})})},N7=()=>{const{empPIData:n,SawpDetails:r,DNData:t,BJLData:e,PPValidsData:s}=ne.useContext(Wn),[a,i]=ne.useState([]),[o,u]=ne.useState("sawp"),[c,l]=ne.useState([]),[d,p]=ne.useState(""),h=Yi(),f=Ju();ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),ne.useEffect(()=>{const x=localStorage.getItem("userID");p(x)},[]),ne.useEffect(()=>{(async()=>{try{const v=n.map(w=>{const S=r.find(P=>P.empID===w.empID),D=r.find(P=>P.empID===w.empID),T=r.find(P=>P.empID===w.empID),R=r.find(P=>P.empID===w.empID);return!S||!R||!T||!D?null:{...w,...S,...R,...T,...D}}).filter(Boolean);i(v)}catch(v){console.log(v)}})()},[n,r,t,e,s]);const b=()=>{switch(o){case"sawp":h("/sawp"),u("doe");break;case"doe":h("/sawp/doe"),u("nlms");break;case"nlms":h("/sawp/nlms"),u("bankGuarantee");break;case"bankGuarantee":h("/sawp/bankGuarantee"),u("jitpa");break;case"jitpa":h("/sawp/jitpa"),u("labourDeposit");break;case"labourDeposit":h("/sawp/labourDeposit"),u("immigration");break;case"immigration":h("/sawp/immigration"),u("immigration");break}},y=(x,v)=>{u(x),h(v)};ne.useEffect(()=>{const x=f.pathname;x.includes("/doe")?u("doe"):x.includes("/nlms")?u("nlms"):x.includes("/bankGuarantee")?u("bankGuarantee"):x.includes("/jitpa")?u("jitpa"):x.includes("/labourDeposit")?u("labourDeposit"):x.includes("/immigration")?u("immigration"):u("sawp")},[f]);const g=x=>{l(x)};return m.jsx("section",{className:"w-full min-h-screen bg-[#F5F6F1]",children:m.jsxs("div",{className:"relative mx-auto p-10 h-full",children:[m.jsxs("div",{className:"w-full flex items-center justify-between gap-5",children:[m.jsx(yi,{to:"/employee",className:"text-xl flex-1 text-grey",children:m.jsx(Yc,{})}),m.jsx("p",{className:"flex-1 text-center mt-2 text_size_2 uppercase",children:"Employee Work Pass"}),m.jsx("div",{className:"flex-1",children:f.pathname==="/sawp"?m.jsx(Ba,{searchResult:g,newFormData:a,searchIcon2:m.jsx(Rs,{}),placeholder:"Employee Id",rounded:"rounded-lg",empID:d}):f.pathname==="/sawp/doe"?m.jsx(Ba,{searchResult:g,newFormData:t,searchIcon2:m.jsx(Rs,{}),placeholder:"Employee Id",rounded:"rounded-lg",empID:d}):f.pathname==="/sawp/nlms"?m.jsx(Ba,{searchResult:g,newFormData:t,searchIcon2:m.jsx(Rs,{}),placeholder:"Employee Id",rounded:"rounded-lg",empID:d}):f.pathname==="/sawp/bankGuarantee"?m.jsx(Ba,{searchResult:g,newFormData:e,searchIcon2:m.jsx(Rs,{}),placeholder:"Employee Id",rounded:"rounded-lg",empID:d}):f.pathname==="/sawp/jitpa"?m.jsx(Ba,{searchResult:g,newFormData:e,searchIcon2:m.jsx(Rs,{}),placeholder:"Employee Id",rounded:"rounded-lg",empID:d}):f.pathname==="/sawp/labourDeposit"?m.jsx(Ba,{searchResult:g,newFormData:e,searchIcon2:m.jsx(Rs,{}),placeholder:"Employee Id",rounded:"rounded-lg",empID:d}):f.pathname==="/sawp/immigration"?m.jsx(Ba,{searchResult:g,newFormData:s,searchIcon2:m.jsx(Rs,{}),placeholder:"Employee Id",rounded:"rounded-lg",empID:d}):null})]}),m.jsxs("div",{className:"flex justify-between border-b m-4 text-[16px] font-semibold",children:[m.jsx("button",{className:`py-2 px-4 focus:outline-none ${o==="sawp"?"border-b-8 border-yellow":""}`,onClick:()=>y("sawp","/sawp"),children:"SAWP"}),m.jsx("button",{className:`py-2 px-4 focus:outline-none ${o==="doe"?"border-b-8 border-yellow":""}`,onClick:()=>y("doe","/sawp/doe"),children:"DOE"}),m.jsx("button",{className:`py-2 px-4 focus:outline-none ${o==="nlms"?"border-b-8 border-yellow":""}`,onClick:()=>y("nlms","/sawp/nlms"),children:"NLMS"}),m.jsx("button",{className:`py-2 px-4 focus:outline-none ${o==="bankGuarantee"?"border-b-8 border-yellow":""}`,onClick:()=>y("bankGuarantee","/sawp/bankGuarantee"),children:"BANK GUARANTEE"}),m.jsx("button",{className:`py-2 px-4 focus:outline-none ${o==="jitpa"?"border-b-8 border-yellow":""}`,onClick:()=>y("jitpa","/sawp/jitpa"),children:"JITPA"}),m.jsx("button",{className:`py-2 px-4 focus:outline-none ${o==="labourDeposit"?"border-b-8 border-yellow":""}`,onClick:()=>y("labourDeposit","/sawp/labourDeposit"),children:"LABOUR DEPOSIT"}),m.jsx("button",{className:`py-2 px-4 focus:outline-none ${o==="immigration"?"border-b-8 border-yellow":""}`,onClick:()=>y("immigration","/sawp/immigration"),children:"IMMIGRATION"})]}),m.jsx("div",{children:m.jsx(_v,{context:{activeNavTab:o,handleNext:b,searchResultData:c}})})]})})},MX=()=>{const n=kr();return{NLADatas:ne.useCallback(async({NLACreValue:t})=>{if(!t)throw new Error("Missing required parameters");const e={empID:t.empID,accommodation:[t.accommodation],accommodationAddress:[t.accommodationAddress]};try{const s=await Promise.all([n.graphql({query:TW,variables:{input:e}})])}catch(s){throw console.error("Error executing GraphQL requests:",s),s}},[])}},OX=()=>{const n=kr(),[r,t]=ne.useState("");return{NLAUpdateFun:ne.useCallback(async({NLAValue:s})=>{if(!s||!s.empID||!s.accommodation||!s.accommodationAddress||!s.IDTable)throw t("All fields (empID, accommodation, accommodationAddress, IDTable) are required."),new Error("Missing required parameters");try{const{empID:a,accommodation:i,accommodationAddress:o,IDTable:u}=s,c={id:u,empID:a,accommodation:i,accommodationAddress:o},l=await n.graphql({query:jW,variables:{input:c}});t("")}catch(a){throw t("Error updating employee data. Please try again."),a}},[]),errorEmpID:r}},LX=()=>{const{NLADatas:n,errorEmpID:r}=MX(),{NLAUpdateFun:t}=OX(),{empPIData:e,NLAData:s}=ne.useContext(Wn),[a,i]=ne.useState([]),[o,u]=ne.useState([]),[c,l]=ne.useState(!1);Yi(),ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),ne.useEffect(()=>{(async()=>{try{const v=e.map(w=>{const S=s.find(D=>D.empID===w.empID);return S?{...w,...S}:null}).filter(Boolean);i(v),u(v)}catch(v){console.error("Error fetching data:",v)}})()},[e,s]);const{register:d,handleSubmit:p,setValue:h,watch:f,formState:{errors:b}}=Pn({resolver:Bn(WK)}),y=x=>{console.log("Search Result:",x),["empID","empBadgeNo","name","accommodation","accommodationAddress"].forEach(w=>h(w,x[w]))},g=async x=>{if(console.log("Submitted Data:",x),!x.empID){console.error("empID is missing");return}try{const v=e.find(S=>S.empID===x.empID),w=s.find(S=>S.empID===x.empID);if(w&&v){const S={...x,PITableID:v.id,IDTable:w.id};console.log("Updating data with empID:",x.empID),await t({NLAValue:S})}else{const S={...x};console.log("Creating new data for empID:",x.empID),await n({NLACreValue:S})}l(!0)}catch(v){console.log(v),console.error("Error submitting data to AWS:",JSON.stringify(v,null,2))}};return m.jsxs("div",{className:"flex flex-col items-center justify-center  p-10",children:[m.jsxs("div",{className:"w-full flex items-center justify-between gap-5",children:[m.jsx(yi,{to:"/employee",className:"text-xl flex-1 text-grey",children:m.jsx(Yc,{})}),m.jsx("p",{className:"flex-1 text-center mt-2 text_size_2 uppercase",children:"Non-Local Accommodation in Brunei"}),m.jsx("div",{className:"flex-1",children:m.jsx(Ba,{searchResult:y,newFormData:o,searchIcon2:m.jsx(Rs,{}),placeholder:"Employee Id",rounded:"rounded-lg"})})]}),m.jsxs("form",{className:"h-screen   w-full",onSubmit:p(g),children:[m.jsx("div",{className:"flex justify-end items-center py-7 mt-2",children:m.jsxs("div",{className:"max-w-sm",children:[m.jsx(Ct,{label:"Employee ID",register:d,name:"empID",type:"text",value:f("empID")||"",placeholder:"Enter Employee ID",errors:b}),r&&m.jsx("p",{className:"text-[red] text-[13px] text-center",children:r})]})}),m.jsxs("div",{className:"grid grid-cols-2 gap-6 mt-20",children:[m.jsx(Ct,{label:"Badge Number",register:d,name:"empBadgeNo",type:"text",value:f("empBadgeNo")||"",errors:b}),m.jsx(Ct,{label:"Name",register:d,name:"name",type:"text",errors:b}),m.jsxs("div",{children:[m.jsx("label",{className:"block text_size_5",children:"Accommodation"}),m.jsxs("select",{className:"input-field select-custom",...d("accommodation"),children:[m.jsx("option",{value:""}),m.jsx("option",{value:"Company Premises",children:"Company Premises"}),m.jsx("option",{value:"Own Premises",children:"Own Premises"})]}),b.accommodation&&m.jsx("p",{className:"text-[red] text-[12px] mt-1",children:b.accommodation.message})]}),m.jsxs("div",{className:"col-span-2",children:[m.jsx("label",{className:"block text_size_5",children:"Accommodation Address"}),m.jsx("input",{type:"text",className:"input-field",...d("accommodationAddress")}),b.accommodationAddress&&m.jsx("p",{className:"text-[red] text-[12px] mt-1",children:b.accommodationAddress.message})]})]}),m.jsx("div",{className:"flex justify-center items-center my-10",children:m.jsx("button",{type:"submit",className:"primary_btn",children:"Save"})}),c&&m.jsx(na,{text:"Details saved successfully",notification:c,path:"/employee"})]})]})},FX="/assets/lock-fIlWCB7z.svg",A7=kr(),BX=()=>{var p,h,f,b;const[n,r]=ne.useState(!1),[t,e]=ne.useState(!1),[s,a]=ne.useState(!1),{register:i,formState:{errors:o},handleSubmit:u}=Pn({resolver:Bn(YM)}),[c,l]=ne.useState(""),d=u(async y=>{var v,w,S;const{password:g,currentPassword:x}=y;try{const D=await lA(),T=(v=localStorage.getItem("userID"))==null?void 0:v.toUpperCase();if(D){await gO({oldPassword:x,newPassword:g});const R=await A7.graphql({query:c8,variables:{filter:{empID:{eq:T}}}}),P=(S=(w=R==null?void 0:R.data)==null?void 0:w.listUsers)==null?void 0:S.items[0].id;await A7.graphql({query:P8,variables:{input:{id:P,password:g}}}).then(async L=>{console.log(L),localStorage.removeItem("userID"),localStorage.removeItem("userType"),await iO(),window.location.href="/login"}),console.log("Password reset successfully")}}catch(D){console.log(D),l(D.message)}});return m.jsxs("section",{className:"screen-size mx-auto flex absolute top-0 left-0 min-h-screen ",children:[m.jsx("div",{className:"flex-1 border-r-2 border-[#E9E9E9] center",children:m.jsx("img",{className:"w-full max-w-[450px]",src:FX,alt:" Rightside Image not found"})}),m.jsxs("div",{className:"flex-1 flex items-center gap-8 py-20 flex-col w-full",children:[m.jsxs("div",{children:[" ",m.jsx("img",{className:"w-full max-w-[450px]",src:$m,alt:" Logo not found"})]}),c&&m.jsx("p",{className:"text-red",children:c}),m.jsxs("section",{className:" space-y-5",children:[m.jsx("h4",{className:"title text-center",children:"Change Password"}),m.jsxs("div",{className:"w-[400px] space-y-1",children:[m.jsx("label",{htmlFor:"userID",className:"text-dark_grey text_size_8",children:"Login ID"}),m.jsx("div",{className:"shadow-md shadow-[#00000040] border border-[#D3D3D3] overflow-hidden rounded-lg py-1 px-3 w-full",children:m.jsx("input",{className:"outline-none py-2 w-full",type:"text",id:"userID",name:"userID",...i("userID")})}),m.jsx("p",{className:"text-[red] text-sm my-2 ml-5",children:(p=o.userID)==null?void 0:p.message})]}),m.jsxs("div",{className:"w-[400px] space-y-1",children:[m.jsx("label",{htmlFor:"currentPassword",className:"text-dark_grey text_size_8",children:"Current Password"}),m.jsxs("div",{className:"shadow-md shadow-[#00000040] border border-[#D3D3D3] overflow-hidden rounded-lg py-1 pl-3 pr-4 w-full center",children:[m.jsx("input",{className:"outline-none py-2 w-full",type:n?"text":"password",id:"currentPassword",name:"currentPassword",...i("currentPassword")}),n?m.jsx(b6,{className:"text-2xl text-[#837E7E]",onClick:()=>r(!n)}):m.jsx(ix,{className:"text-2xl text-[#837E7E]",onClick:()=>r(!n)})]}),m.jsx("p",{className:"text-[red] text-sm my-2 ml-5",children:(h=o.password)==null?void 0:h.message})]}),m.jsxs("div",{className:"w-[400px] space-y-1",children:[m.jsx("label",{htmlFor:"password",className:"text-dark_grey text_size_8",children:"New Password"}),m.jsxs("div",{className:"shadow-md shadow-[#00000040] border border-[#D3D3D3] overflow-hidden rounded-lg py-1 pl-3 pr-4 w-full center",children:[m.jsx("input",{className:"outline-none py-2 w-full",type:t?"text":"password",id:"password",name:"password",...i("password")}),t?m.jsx(b6,{className:"text-2xl text-[#837E7E]",onClick:()=>e(!t)}):m.jsx(ix,{className:"text-2xl text-[#837E7E]",onClick:()=>e(!t)})]}),m.jsx("p",{className:"text-[red] text-sm my-2 ml-5",children:(f=o.password)==null?void 0:f.message})]}),m.jsxs("div",{className:"w-[400px] space-y-1",children:[m.jsx("label",{htmlFor:"confirmPassword",className:"text-dark_grey text_size_8",children:"Confirm Password"}),m.jsxs("div",{className:"shadow-md shadow-[#00000040] border border-[#D3D3D3] overflow-hidden rounded-lg py-1 pl-3 pr-4 w-full center",children:[m.jsx("input",{className:"outline-none py-2 w-full",type:s?"text":"password",id:"confirmPassword",name:"confirmPassword",...i("confirmPassword")}),s?m.jsx(b6,{className:"text-2xl text-[#837E7E]",onClick:()=>a(!s)}):m.jsx(ix,{className:"text-2xl text-[#837E7E]",onClick:()=>a(!s)})]}),m.jsx("p",{className:"text-[red] text-sm my-2 ml-5",children:(b=o.password)==null?void 0:b.message})]}),m.jsx("div",{className:"center pb-5",children:m.jsx(yi,{to:"/dashboard",className:"primary_btn text_size_4 my-5",onClick:d,children:"Update"})}),m.jsx("hr",{className:"border-[1.5px] text-[#B3B3B3]"})]})]})]})},k7=kr(),UX=n=>{const[r,t]=ne.useState({id:"",name:"",email:"",contactNo:"",dob:""}),[e,s]=ne.useState(!1),a=async()=>{var o,u;try{const c=await k7.graphql({query:kb}),d=(((u=(o=c==null?void 0:c.data)==null?void 0:o.listEmpPersonalInfos)==null?void 0:u.items)||[]).find(p=>p.empID.toLowerCase()===n.toLowerCase());d&&t({id:d.id,name:d.name,email:d.email,contactNo:d.contactNo||"",dob:d.dob||""})}catch(c){console.error("Error fetching employee personal infos:",c)}},i=async()=>{const o={id:r.id,empID:n.toUpperCase(),name:r.name,email:r.email,contactNo:r.contactNo,dob:r.dob};try{const u=await k7.graphql({query:Ak,variables:{input:o}});if(u.data.updateEmpPersonalInfo){const c=u.data.updateEmpPersonalInfo;t({id:c.id,name:c.name,email:c.email,contactNo:c.contactNo,dob:c.dob}),s(!1)}}catch(u){console.error("Error saving data:",u)}};return ne.useEffect(()=>{n&&a()},[n]),console.log(r,"Ih"),{personalInfo:r,isEditing:e,setIsEditing:s,handleSave:i,setPersonalInfo:t}},HX=()=>{const[n,r]=ne.useState(""),{personalInfo:t,isEditing:e,setIsEditing:s,handleSave:a,setPersonalInfo:i}=UX(n),o=u=>{const{name:c,value:l}=u.target;i({...t,[c]:l})};return ne.useEffect(()=>{const u=localStorage.getItem("userID");r(u),console.log("UserID from localStorage:",u)},[]),m.jsx("section",{className:"screen-size center py-20",children:m.jsxs("div",{className:"rounded-lg shadow-lg p-5 px-10 space-y-4 max-w-xl w-full text_size_8 text-dark_grey",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h3",{className:"text_size_2",children:"Personal Information"}),m.jsx(yi,{to:"/dashboard",children:m.jsx(oO,{className:"text-2xl font-semibold"})})]}),m.jsx("hr",{className:"border border-[#d4cfcf]"}),m.jsxs("section",{className:"space-y-4",children:[m.jsx("div",{className:"flex justify-between gap-10",children:m.jsxs("div",{className:"w-full space-y-2 ",children:[m.jsx("label",{htmlFor:"name",children:"Name"}),m.jsx("div",{className:"border rounded-sm flex-1 border-[#d4cfcf] text-[#4F4F4F] text-xs px-2 py-3 ",children:m.jsx("input",{id:"name",className:"outline-none w-full",type:"text",name:"name",readOnly:!e,value:t.name,onChange:o})})]})}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{htmlFor:"email",children:"Email Address"}),m.jsx("div",{className:"border rounded-sm border-[#d4cfcf] text-[#4F4F4F] text-xs px-2 py-3 ",children:m.jsx("input",{id:"email",className:"outline-none w-full",type:"email",name:"email",readOnly:!e,value:t.email,onChange:o})})]}),m.jsxs("div",{className:"flex justify-between gap-10",children:[m.jsxs("div",{className:"w-full space-y-2",children:[m.jsx("label",{htmlFor:"contactNo",children:"Mobile Number"}),m.jsx("div",{className:"border rounded-sm flex-1 border-[#d4cfcf] text-[#4F4F4F] text-xs px-2 py-3.5 ",children:m.jsx("input",{id:"contactNo",className:"outline-none w-full",type:"text",name:"contactNo",readOnly:!e,value:t.contactNo,onChange:o})})]}),m.jsxs("div",{className:"w-full space-y-2",children:[m.jsx("label",{htmlFor:"dob",children:"Date of Birth"}),m.jsxs("div",{className:"border flex rounded-sm flex-1 border-[#d4cfcf] text-[#4F4F4F] text-xs px-2 py-3 ",children:[m.jsx("input",{id:"dob",className:"outline-none w-full",type:"text",name:"dob",readOnly:!e,value:t.dob,onChange:o}),m.jsx("span",{children:m.jsx(UM,{className:"text-xl"})})]})]})]}),m.jsx("div",{className:"center flex justify-between py-3",children:e?m.jsx("button",{onClick:a,className:"primary_btn",children:"Save"}):m.jsx("button",{onClick:()=>s(!0),className:"primary_btn",children:"Edit"})})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var rD=1252,qX=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],G8={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Y8=function(n){qX.indexOf(n)!=-1&&(rD=G8[0]=n)};function WX(){Y8(1252)}var Uc=function(n){Y8(n)};function nD(){Uc(1200),WX()}function C7(n){for(var r=[],t=0,e=n.length;t<e;++t)r[t]=n.charCodeAt(t);return r}function zX(n){for(var r=[],t=0;t<n.length>>1;++t)r[t]=String.fromCharCode(n.charCodeAt(2*t)+(n.charCodeAt(2*t+1)<<8));return r.join("")}function sD(n){for(var r=[],t=0;t<n.length>>1;++t)r[t]=String.fromCharCode(n.charCodeAt(2*t+1)+(n.charCodeAt(2*t)<<8));return r.join("")}var sb=function(n){var r=n.charCodeAt(0),t=n.charCodeAt(1);return r==255&&t==254?zX(n.slice(2)):r==254&&t==255?sD(n.slice(2)):r==65279?n.slice(1):n},J2=function(r){return String.fromCharCode(r)},D7=function(r){return String.fromCharCode(r)},Zh,Ef="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function T7(n){for(var r="",t=0,e=0,s=0,a=0,i=0,o=0,u=0,c=0;c<n.length;)t=n.charCodeAt(c++),a=t>>2,e=n.charCodeAt(c++),i=(t&3)<<4|e>>4,s=n.charCodeAt(c++),o=(e&15)<<2|s>>6,u=s&63,isNaN(e)?o=u=64:isNaN(s)&&(u=64),r+=Ef.charAt(a)+Ef.charAt(i)+Ef.charAt(o)+Ef.charAt(u);return r}function vl(n){var r="",t=0,e=0,s=0,a=0,i=0,o=0,u=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<n.length;)a=Ef.indexOf(n.charAt(c++)),i=Ef.indexOf(n.charAt(c++)),t=a<<2|i>>4,r+=String.fromCharCode(t),o=Ef.indexOf(n.charAt(c++)),e=(i&15)<<4|o>>2,o!==64&&(r+=String.fromCharCode(e)),u=Ef.indexOf(n.charAt(c++)),s=(o&3)<<6|u,u!==64&&(r+=String.fromCharCode(s));return r}var xn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),r0=function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(r,t){return t?new Buffer(r,t):new Buffer(r)}:Buffer.from.bind(Buffer)}return function(){}}();function Uf(n){return xn?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function j7(n){return xn?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var Bc=function(r){return xn?r0(r,"binary"):r.split("").map(function(t){return t.charCodeAt(0)&255})};function n0(n){if(Array.isArray(n))return n.map(function(e){return String.fromCharCode(e)}).join("");for(var r=[],t=0;t<n.length;++t)r[t]=String.fromCharCode(n[t]);return r.join("")}function K8(n){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(n instanceof ArrayBuffer)return K8(new Uint8Array(n));for(var r=new Array(n.length),t=0;t<n.length;++t)r[t]=n[t];return r}var Qh=xn?function(n){return Buffer.concat(n.map(function(r){return Buffer.isBuffer(r)?r:r0(r)}))}:function(n){if(typeof Uint8Array<"u"){var r=0,t=0;for(r=0;r<n.length;++r)t+=n[r].length;var e=new Uint8Array(t),s=0;for(r=0,t=0;r<n.length;t+=s,++r)if(s=n[r].length,n[r]instanceof Uint8Array)e.set(n[r],t);else{if(typeof n[r]=="string")throw"wtf";e.set(new Uint8Array(n[r]),t)}return e}return[].concat.apply([],n.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function VX(n){for(var r=[],t=0,e=n.length+250,s=Uf(n.length+255),a=0;a<n.length;++a){var i=n.charCodeAt(a);if(i<128)s[t++]=i;else if(i<2048)s[t++]=192|i>>6&31,s[t++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var o=n.charCodeAt(++a)&1023;s[t++]=240|i>>8&7,s[t++]=128|i>>2&63,s[t++]=128|o>>6&15|(i&3)<<4,s[t++]=128|o&63}else s[t++]=224|i>>12&15,s[t++]=128|i>>6&63,s[t++]=128|i&63;t>e&&(r.push(s.slice(0,t)),t=0,s=Uf(65535),e=65530)}return r.push(s.slice(0,t)),Qh(r)}var mo=/\u0000/g,ab=/[\u0001-\u0006]/g;function Q0(n){for(var r="",t=n.length-1;t>=0;)r+=n.charAt(t--);return r}function Hc(n,r){var t=""+n;return t.length>=r?t:Qs("0",r-t.length)+t}function X8(n,r){var t=""+n;return t.length>=r?t:Qs(" ",r-t.length)+t}function fw(n,r){var t=""+n;return t.length>=r?t:t+Qs(" ",r-t.length)}function $X(n,r){var t=""+Math.round(n);return t.length>=r?t:Qs("0",r-t.length)+t}function GX(n,r){var t=""+n;return t.length>=r?t:Qs("0",r-t.length)+t}var I7=Math.pow(2,32);function I0(n,r){if(n>I7||n<-I7)return $X(n,r);var t=Math.round(n);return GX(t,r)}function pw(n,r){return r=r||0,n.length>=7+r&&(n.charCodeAt(r)|32)===103&&(n.charCodeAt(r+1)|32)===101&&(n.charCodeAt(r+2)|32)===110&&(n.charCodeAt(r+3)|32)===101&&(n.charCodeAt(r+4)|32)===114&&(n.charCodeAt(r+5)|32)===97&&(n.charCodeAt(r+6)|32)===108}var P7=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],V6=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function YX(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"/ "hh""mm""ss" "',n}var Zr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},R7={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},KX={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function mw(n,r,t){for(var e=n<0?-1:1,s=n*e,a=0,i=1,o=0,u=1,c=0,l=0,d=Math.floor(s);c<r&&(d=Math.floor(s),o=d*i+a,l=d*c+u,!(s-d<5e-8));)s=1/(s-d),a=i,i=o,u=c,c=l;if(l>r&&(c>r?(l=u,o=a):(l=c,o=i)),!t)return[0,e*o,l];var p=Math.floor(e*o/l);return[p,e*o-p*l,l]}function Dp(n,r,t){if(n>2958465||n<0)return null;var e=n|0,s=Math.floor(86400*(n-e)),a=0,i=[],o={D:e,T:s,u:86400*(n-e)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),r&&r.date1904&&(e+=1462),o.u>.9999&&(o.u=0,++s==86400&&(o.T=s=0,++e,++o.D)),e===60)i=t?[1317,10,29]:[1900,2,29],a=3;else if(e===0)i=t?[1317,8,29]:[1900,1,0],a=6;else{e>60&&--e;var u=new Date(1900,0,1);u.setDate(u.getDate()+e-1),i=[u.getFullYear(),u.getMonth()+1,u.getDate()],a=u.getDay(),e<60&&(a=(a+6)%7),t&&(a=tJ(u,i))}return o.y=i[0],o.m=i[1],o.d=i[2],o.S=s%60,s=Math.floor(s/60),o.M=s%60,s=Math.floor(s/60),o.H=s,o.q=a,o}var aD=new Date(1899,11,31,0,0,0),XX=aD.getTime(),JX=new Date(1900,2,1,0,0,0);function iD(n,r){var t=n.getTime();return r?t-=1461*24*60*60*1e3:n>=JX&&(t+=24*60*60*1e3),(t-(XX+(n.getTimezoneOffset()-aD.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function J8(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function ZX(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function QX(n){var r=n<0?12:11,t=J8(n.toFixed(12));return t.length<=r||(t=n.toPrecision(10),t.length<=r)?t:n.toExponential(5)}function eJ(n){var r=J8(n.toFixed(11));return r.length>(n<0?12:11)||r==="0"||r==="-0"?n.toPrecision(6):r}function Mb(n){var r=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return r>=-4&&r<=-1?t=n.toPrecision(10+r):Math.abs(r)<=9?t=QX(n):r===10?t=n.toFixed(10).substr(0,12):t=eJ(n),J8(ZX(t.toUpperCase()))}function Hm(n,r){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):Mb(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return Kl(14,iD(n,r&&r.date1904),r)}throw new Error("unsupported value in General format: "+n)}function tJ(n,r){r[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function rJ(n,r,t,e){var s="",a=0,i=0,o=t.y,u,c=0;switch(n){case 98:o=t.y+543;case 121:switch(r.length){case 1:case 2:u=o%100,c=2;break;default:u=o%1e4,c=4;break}break;case 109:switch(r.length){case 1:case 2:u=t.m,c=r.length;break;case 3:return V6[t.m-1][1];case 5:return V6[t.m-1][0];default:return V6[t.m-1][2]}break;case 100:switch(r.length){case 1:case 2:u=t.d,c=r.length;break;case 3:return P7[t.q][0];default:return P7[t.q][1]}break;case 104:switch(r.length){case 1:case 2:u=1+(t.H+11)%12,c=r.length;break;default:throw"bad hour format: "+r}break;case 72:switch(r.length){case 1:case 2:u=t.H,c=r.length;break;default:throw"bad hour format: "+r}break;case 77:switch(r.length){case 1:case 2:u=t.M,c=r.length;break;default:throw"bad minute format: "+r}break;case 115:if(r!="s"&&r!="ss"&&r!=".0"&&r!=".00"&&r!=".000")throw"bad second format: "+r;return t.u===0&&(r=="s"||r=="ss")?Hc(t.S,r.length):(e>=2?i=e===3?1e3:100:i=e===1?10:1,a=Math.round(i*(t.S+t.u)),a>=60*i&&(a=0),r==="s"?a===0?"0":""+a/i:(s=Hc(a,2+e),r==="ss"?s.substr(0,2):"."+s.substr(2,r.length-1)));case 90:switch(r){case"[h]":case"[hh]":u=t.D*24+t.H;break;case"[m]":case"[mm]":u=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":u=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+r}c=r.length===3?1:2;break;case 101:u=o,c=1;break}var l=c>0?Hc(u,c):"";return l}function Nf(n){var r=3;if(n.length<=r)return n;for(var t=n.length%r,e=n.substr(0,t);t!=n.length;t+=r)e+=(e.length>0?",":"")+n.substr(t,r);return e}var oD=/%/g;function nJ(n,r,t){var e=r.replace(oD,""),s=r.length-e.length;return bh(n,e,t*Math.pow(10,2*s))+Qs("%",s)}function sJ(n,r,t){for(var e=r.length-1;r.charCodeAt(e-1)===44;)--e;return bh(n,r.substr(0,e),t/Math.pow(10,3*(r.length-e)))}function lD(n,r){var t,e=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+lD(n,-r);var s=n.indexOf(".");s===-1&&(s=n.indexOf("E"));var a=Math.floor(Math.log(r)*Math.LOG10E)%s;if(a<0&&(a+=s),t=(r/Math.pow(10,a)).toPrecision(e+1+(s+a)%s),t.indexOf("e")===-1){var i=Math.floor(Math.log(r)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(i-t.length+a):t+="E+"+(i-a);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,s)+"."+t.substr(2+s),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,u,c,l){return u+c+l.substr(0,(s+a)%s)+"."+l.substr(a)+"E"})}else t=r.toExponential(e);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var cD=/# (\?+)( ?)\/( ?)(\d+)/;function aJ(n,r,t){var e=parseInt(n[4],10),s=Math.round(r*e),a=Math.floor(s/e),i=s-a*e,o=e;return t+(a===0?"":""+a)+" "+(i===0?Qs(" ",n[1].length+1+n[4].length):X8(i,n[1].length)+n[2]+"/"+n[3]+Hc(o,n[4].length))}function iJ(n,r,t){return t+(r===0?"":""+r)+Qs(" ",n[1].length+2+n[4].length)}var uD=/^#*0*\.([0#]+)/,dD=/\).*[0#]/,hD=/\(###\) ###\\?-####/;function lo(n){for(var r="",t,e=0;e!=n.length;++e)switch(t=n.charCodeAt(e)){case 35:break;case 63:r+=" ";break;case 48:r+="0";break;default:r+=String.fromCharCode(t)}return r}function M7(n,r){var t=Math.pow(10,r);return""+Math.round(n*t)/t}function O7(n,r){var t=n-Math.floor(n),e=Math.pow(10,r);return r<(""+Math.round(t*e)).length?0:Math.round(t*e)}function oJ(n,r){return r<(""+Math.round((n-Math.floor(n))*Math.pow(10,r))).length?1:0}function lJ(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function Ol(n,r,t){if(n.charCodeAt(0)===40&&!r.match(dD)){var e=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Ol("n",e,t):"("+Ol("n",e,-t)+")"}if(r.charCodeAt(r.length-1)===44)return sJ(n,r,t);if(r.indexOf("%")!==-1)return nJ(n,r,t);if(r.indexOf("E")!==-1)return lD(r,t);if(r.charCodeAt(0)===36)return"$"+Ol(n,r.substr(r.charAt(1)==" "?2:1),t);var s,a,i,o,u=Math.abs(t),c=t<0?"-":"";if(r.match(/^00+$/))return c+I0(u,r.length);if(r.match(/^[#?]+$/))return s=I0(t,0),s==="0"&&(s=""),s.length>r.length?s:lo(r.substr(0,r.length-s.length))+s;if(a=r.match(cD))return aJ(a,u,c);if(r.match(/^#+0+$/))return c+I0(u,r.length-r.indexOf("0"));if(a=r.match(uD))return s=M7(t,a[1].length).replace(/^([^\.]+)$/,"$1."+lo(a[1])).replace(/\.$/,"."+lo(a[1])).replace(/\.(\d*)$/,function(f,b){return"."+b+Qs("0",lo(a[1]).length-b.length)}),r.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),a=r.match(/^(0*)\.(#*)$/))return c+M7(u,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=r.match(/^#{1,3},##0(\.?)$/))return c+Nf(I0(u,0));if(a=r.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Ol(n,r,-t):Nf(""+(Math.floor(t)+oJ(t,a[1].length)))+"."+Hc(O7(t,a[1].length),a[1].length);if(a=r.match(/^#,#*,#0/))return Ol(n,r.replace(/^#,#*,/,""),t);if(a=r.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Q0(Ol(n,r.replace(/[\\-]/g,""),t)),i=0,Q0(Q0(r.replace(/\\/g,"")).replace(/[0#]/g,function(f){return i<s.length?s.charAt(i++):f==="0"?"0":""}));if(r.match(hD))return s=Ol(n,"##########",t),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var l="";if(a=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(a[4].length,7),o=mw(u,Math.pow(10,i)-1,!1),s=""+c,l=bh("n",a[1],o[1]),l.charAt(l.length-1)==" "&&(l=l.substr(0,l.length-1)+"0"),s+=l+a[2]+"/"+a[3],l=fw(o[2],i),l.length<a[4].length&&(l=lo(a[4].substr(a[4].length-l.length))+l),s+=l,s;if(a=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(a[1].length,a[4].length),7),o=mw(u,Math.pow(10,i)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?X8(o[1],i)+a[2]+"/"+a[3]+fw(o[2],i):Qs(" ",2*i+1+a[2].length+a[3].length));if(a=r.match(/^[#0?]+$/))return s=I0(t,0),r.length<=s.length?s:lo(r.substr(0,r.length-s.length))+s;if(a=r.match(/^([#0?]+)\.([#0]+)$/)){s=""+t.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),i=s.indexOf(".");var d=r.indexOf(".")-i,p=r.length-s.length-d;return lo(r.substr(0,d)+s+r.substr(r.length-p))}if(a=r.match(/^00,000\.([#0]*0)$/))return i=O7(t,a[1].length),t<0?"-"+Ol(n,r,-t):Nf(lJ(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(f){return"00,"+(f.length<3?Hc(0,3-f.length):"")+f})+"."+Hc(i,a[1].length);switch(r){case"###,##0.00":return Ol(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var h=Nf(I0(u,0));return h!=="0"?c+h:"";case"###,###.00":return Ol(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Ol(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+r+"|")}function cJ(n,r,t){for(var e=r.length-1;r.charCodeAt(e-1)===44;)--e;return bh(n,r.substr(0,e),t/Math.pow(10,3*(r.length-e)))}function uJ(n,r,t){var e=r.replace(oD,""),s=r.length-e.length;return bh(n,e,t*Math.pow(10,2*s))+Qs("%",s)}function fD(n,r){var t,e=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+fD(n,-r);var s=n.indexOf(".");s===-1&&(s=n.indexOf("E"));var a=Math.floor(Math.log(r)*Math.LOG10E)%s;if(a<0&&(a+=s),t=(r/Math.pow(10,a)).toPrecision(e+1+(s+a)%s),!t.match(/[Ee]/)){var i=Math.floor(Math.log(r)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(i-t.length+a):t+="E+"+(i-a),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,u,c,l){return u+c+l.substr(0,(s+a)%s)+"."+l.substr(a)+"E"})}else t=r.toExponential(e);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function yu(n,r,t){if(n.charCodeAt(0)===40&&!r.match(dD)){var e=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?yu("n",e,t):"("+yu("n",e,-t)+")"}if(r.charCodeAt(r.length-1)===44)return cJ(n,r,t);if(r.indexOf("%")!==-1)return uJ(n,r,t);if(r.indexOf("E")!==-1)return fD(r,t);if(r.charCodeAt(0)===36)return"$"+yu(n,r.substr(r.charAt(1)==" "?2:1),t);var s,a,i,o,u=Math.abs(t),c=t<0?"-":"";if(r.match(/^00+$/))return c+Hc(u,r.length);if(r.match(/^[#?]+$/))return s=""+t,t===0&&(s=""),s.length>r.length?s:lo(r.substr(0,r.length-s.length))+s;if(a=r.match(cD))return iJ(a,u,c);if(r.match(/^#+0+$/))return c+Hc(u,r.length-r.indexOf("0"));if(a=r.match(uD))return s=(""+t).replace(/^([^\.]+)$/,"$1."+lo(a[1])).replace(/\.$/,"."+lo(a[1])),s=s.replace(/\.(\d*)$/,function(f,b){return"."+b+Qs("0",lo(a[1]).length-b.length)}),r.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),a=r.match(/^(0*)\.(#*)$/))return c+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=r.match(/^#{1,3},##0(\.?)$/))return c+Nf(""+u);if(a=r.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+yu(n,r,-t):Nf(""+t)+"."+Qs("0",a[1].length);if(a=r.match(/^#,#*,#0/))return yu(n,r.replace(/^#,#*,/,""),t);if(a=r.match(/^([0#]+)(\\?-([0#]+))+$/))return s=Q0(yu(n,r.replace(/[\\-]/g,""),t)),i=0,Q0(Q0(r.replace(/\\/g,"")).replace(/[0#]/g,function(f){return i<s.length?s.charAt(i++):f==="0"?"0":""}));if(r.match(hD))return s=yu(n,"##########",t),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var l="";if(a=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(a[4].length,7),o=mw(u,Math.pow(10,i)-1,!1),s=""+c,l=bh("n",a[1],o[1]),l.charAt(l.length-1)==" "&&(l=l.substr(0,l.length-1)+"0"),s+=l+a[2]+"/"+a[3],l=fw(o[2],i),l.length<a[4].length&&(l=lo(a[4].substr(a[4].length-l.length))+l),s+=l,s;if(a=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(a[1].length,a[4].length),7),o=mw(u,Math.pow(10,i)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?X8(o[1],i)+a[2]+"/"+a[3]+fw(o[2],i):Qs(" ",2*i+1+a[2].length+a[3].length));if(a=r.match(/^[#0?]+$/))return s=""+t,r.length<=s.length?s:lo(r.substr(0,r.length-s.length))+s;if(a=r.match(/^([#0]+)\.([#0]+)$/)){s=""+t.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),i=s.indexOf(".");var d=r.indexOf(".")-i,p=r.length-s.length-d;return lo(r.substr(0,d)+s+r.substr(r.length-p))}if(a=r.match(/^00,000\.([#0]*0)$/))return t<0?"-"+yu(n,r,-t):Nf(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(f){return"00,"+(f.length<3?Hc(0,3-f.length):"")+f})+"."+Hc(0,a[1].length);switch(r){case"###,###":case"##,###":case"#,###":var h=Nf(""+u);return h!=="0"?c+h:"";default:if(r.match(/\.[0#?]*$/))return yu(n,r.slice(0,r.lastIndexOf(".")),t)+lo(r.slice(r.lastIndexOf(".")))}throw new Error("unsupported format |"+r+"|")}function bh(n,r,t){return(t|0)===t?yu(n,r,t):Ol(n,r,t)}function dJ(n){for(var r=[],t=!1,e=0,s=0;e<n.length;++e)switch(n.charCodeAt(e)){case 34:t=!t;break;case 95:case 42:case 92:++e;break;case 59:r[r.length]=n.substr(s,e-s),s=e+1}if(r[r.length]=n.substr(s),t===!0)throw new Error("Format |"+n+"| unterminated string ");return r}var pD=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function pg(n){for(var r=0,t="",e="";r<n.length;)switch(t=n.charAt(r)){case"G":pw(n,r)&&(r+=6),r++;break;case'"':for(;n.charCodeAt(++r)!==34&&r<n.length;);++r;break;case"\\":r+=2;break;case"_":r+=2;break;case"@":++r;break;case"B":case"b":if(n.charAt(r+1)==="1"||n.charAt(r+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(n.substr(r,3).toUpperCase()==="A/P"||n.substr(r,5).toUpperCase()==="AM/PM"||n.substr(r,5).toUpperCase()==="/")return!0;++r;break;case"[":for(e=t;n.charAt(r++)!=="]"&&r<n.length;)e+=n.charAt(r);if(e.match(pD))return!0;break;case".":case"0":case"#":for(;r<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++r))>-1||t=="\\"&&n.charAt(r+1)=="-"&&"0#".indexOf(n.charAt(r+2))>-1););break;case"?":for(;n.charAt(++r)===t;);break;case"*":++r,(n.charAt(r)==" "||n.charAt(r)=="*")&&++r;break;case"(":case")":++r;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;r<n.length&&"0123456789".indexOf(n.charAt(++r))>-1;);break;case" ":++r;break;default:++r;break}return!1}function hJ(n,r,t,e){for(var s=[],a="",i=0,o="",u="t",c,l,d,p="H";i<n.length;)switch(o=n.charAt(i)){case"G":if(!pw(n,i))throw new Error("unrecognized character "+o+" in "+n);s[s.length]={t:"G",v:"General"},i+=7;break;case'"':for(a="";(d=n.charCodeAt(++i))!==34&&i<n.length;)a+=String.fromCharCode(d);s[s.length]={t:"t",v:a},++i;break;case"\\":var h=n.charAt(++i),f=h==="("||h===")"?h:"t";s[s.length]={t:f,v:h},++i;break;case"_":s[s.length]={t:"t",v:" "},i+=2;break;case"@":s[s.length]={t:"T",v:r},++i;break;case"B":case"b":if(n.charAt(i+1)==="1"||n.charAt(i+1)==="2"){if(c==null&&(c=Dp(r,t,n.charAt(i+1)==="2"),c==null))return"";s[s.length]={t:"X",v:n.substr(i,2)},u=o,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(r<0||c==null&&(c=Dp(r,t),c==null))return"";for(a=o;++i<n.length&&n.charAt(i).toLowerCase()===o;)a+=o;o==="m"&&u.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=p),s[s.length]={t:o,v:a},u=o;break;case"A":case"a":case"":var b={t:o,v:o};if(c==null&&(c=Dp(r,t)),n.substr(i,3).toUpperCase()==="A/P"?(c!=null&&(b.v=c.H>=12?"P":"A"),b.t="T",p="h",i+=3):n.substr(i,5).toUpperCase()==="AM/PM"?(c!=null&&(b.v=c.H>=12?"PM":"AM"),b.t="T",i+=5,p="h"):n.substr(i,5).toUpperCase()==="/"?(c!=null&&(b.v=c.H>=12?"":""),b.t="T",i+=5,p="h"):(b.t="t",++i),c==null&&b.t==="T")return"";s[s.length]=b,u=o;break;case"[":for(a=o;n.charAt(i++)!=="]"&&i<n.length;)a+=n.charAt(i);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(pD)){if(c==null&&(c=Dp(r,t),c==null))return"";s[s.length]={t:"Z",v:a.toLowerCase()},u=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",pg(n)||(s[s.length]={t:"t",v:a}));break;case".":if(c!=null){for(a=o;++i<n.length&&(o=n.charAt(i))==="0";)a+=o;s[s.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++i<n.length&&"0#?.,E+-%".indexOf(o=n.charAt(i))>-1;)a+=o;s[s.length]={t:"n",v:a};break;case"?":for(a=o;n.charAt(++i)===o;)a+=o;s[s.length]={t:o,v:a},u=o;break;case"*":++i,(n.charAt(i)==" "||n.charAt(i)=="*")&&++i;break;case"(":case")":s[s.length]={t:e===1?"t":o,v:o},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;i<n.length&&"0123456789".indexOf(n.charAt(++i))>-1;)a+=n.charAt(i);s[s.length]={t:"D",v:a};break;case" ":s[s.length]={t:o,v:o},++i;break;case"$":s[s.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+n);s[s.length]={t:"t",v:o},++i;break}var y=0,g=0,x;for(i=s.length-1,u="t";i>=0;--i)switch(s[i].t){case"h":case"H":s[i].t=p,u="h",y<1&&(y=1);break;case"s":(x=s[i].v.match(/\.0+$/))&&(g=Math.max(g,x[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":u=s[i].t;break;case"m":u==="s"&&(s[i].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&s[i].v.match(/[Hh]/)&&(y=1),y<2&&s[i].v.match(/[Mm]/)&&(y=2),y<3&&s[i].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var v="",w;for(i=0;i<s.length;++i)switch(s[i].t){case"t":case"T":case" ":case"D":break;case"X":s[i].v="",s[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[i].v=rJ(s[i].t.charCodeAt(0),s[i].v,c,g),s[i].t="t";break;case"n":case"?":for(w=i+1;s[w]!=null&&((o=s[w].t)==="?"||o==="D"||(o===" "||o==="t")&&s[w+1]!=null&&(s[w+1].t==="?"||s[w+1].t==="t"&&s[w+1].v==="/")||s[i].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(s[w].v==="/"||s[w].v===" "&&s[w+1]!=null&&s[w+1].t=="?"));)s[i].v+=s[w].v,s[w]={v:"",t:";"},++w;v+=s[i].v,i=w-1;break;case"G":s[i].t="t",s[i].v=Hm(r,t);break}var S="",D,T;if(v.length>0){v.charCodeAt(0)==40?(D=r<0&&v.charCodeAt(0)===45?-r:r,T=bh("n",v,D)):(D=r<0&&e>1?-r:r,T=bh("n",v,D),D<0&&s[0]&&s[0].t=="t"&&(T=T.substr(1),s[0].v="-"+s[0].v)),w=T.length-1;var R=s.length;for(i=0;i<s.length;++i)if(s[i]!=null&&s[i].t!="t"&&s[i].v.indexOf(".")>-1){R=i;break}var P=s.length;if(R===s.length&&T.indexOf("E")===-1){for(i=s.length-1;i>=0;--i)s[i]==null||"n?".indexOf(s[i].t)===-1||(w>=s[i].v.length-1?(w-=s[i].v.length,s[i].v=T.substr(w+1,s[i].v.length)):w<0?s[i].v="":(s[i].v=T.substr(0,w+1),w=-1),s[i].t="t",P=i);w>=0&&P<s.length&&(s[P].v=T.substr(0,w+1)+s[P].v)}else if(R!==s.length&&T.indexOf("E")===-1){for(w=T.indexOf(".")-1,i=R;i>=0;--i)if(!(s[i]==null||"n?".indexOf(s[i].t)===-1)){for(l=s[i].v.indexOf(".")>-1&&i===R?s[i].v.indexOf(".")-1:s[i].v.length-1,S=s[i].v.substr(l+1);l>=0;--l)w>=0&&(s[i].v.charAt(l)==="0"||s[i].v.charAt(l)==="#")&&(S=T.charAt(w--)+S);s[i].v=S,s[i].t="t",P=i}for(w>=0&&P<s.length&&(s[P].v=T.substr(0,w+1)+s[P].v),w=T.indexOf(".")+1,i=R;i<s.length;++i)if(!(s[i]==null||"n?(".indexOf(s[i].t)===-1&&i!==R)){for(l=s[i].v.indexOf(".")>-1&&i===R?s[i].v.indexOf(".")+1:0,S=s[i].v.substr(0,l);l<s[i].v.length;++l)w<T.length&&(S+=T.charAt(w++));s[i].v=S,s[i].t="t",P=i}}}for(i=0;i<s.length;++i)s[i]!=null&&"n?".indexOf(s[i].t)>-1&&(D=e>1&&r<0&&i>0&&s[i-1].v==="-"?-r:r,s[i].v=bh(s[i].t,s[i].v,D),s[i].t="t");var L="";for(i=0;i!==s.length;++i)s[i]!=null&&(L+=s[i].v);return L}var L7=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function F7(n,r){if(r==null)return!1;var t=parseFloat(r[2]);switch(r[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function fJ(n,r){var t=dJ(n),e=t.length,s=t[e-1].indexOf("@");if(e<4&&s>-1&&--e,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof r!="number")return[4,t.length===4||s>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=s>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=s>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=s>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var a=r>0?t[0]:r<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[e,a];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var i=t[0].match(L7),o=t[1].match(L7);return F7(r,i)?[e,t[0]]:F7(r,o)?[e,t[1]]:[e,t[i!=null&&o!=null?2:1]]}return[e,a]}function Kl(n,r,t){t==null&&(t={});var e="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?e=t.dateNF:e=n;break;case"number":n==14&&t.dateNF?e=t.dateNF:e=(t.table!=null?t.table:Zr)[n],e==null&&(e=t.table&&t.table[R7[n]]||Zr[R7[n]]),e==null&&(e=KX[n]||"General");break}if(pw(e,0))return Hm(r,t);r instanceof Date&&(r=iD(r,t.date1904));var s=fJ(e,r);if(pw(s[1]))return Hm(r,t);if(r===!0)r="TRUE";else if(r===!1)r="FALSE";else if(r===""||r==null)return"";return hJ(s[1],r,t,s[0])}function Im(n,r){if(typeof r!="number"){r=+r||-1;for(var t=0;t<392;++t){if(Zr[t]==null){r<0&&(r=t);continue}if(Zr[t]==n){r=t;break}}r<0&&(r=391)}return Zr[r]=n,r}function mD(){Zr=YX()}var pJ={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},gD=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function mJ(n){var r=typeof n=="number"?Zr[n]:n;return r=r.replace(gD,"(\\d+)"),new RegExp("^"+r+"$")}function gJ(n,r,t){var e=-1,s=-1,a=-1,i=-1,o=-1,u=-1;(r.match(gD)||[]).forEach(function(d,p){var h=parseInt(t[p+1],10);switch(d.toLowerCase().charAt(0)){case"y":e=h;break;case"d":a=h;break;case"h":i=h;break;case"s":u=h;break;case"m":i>=0?o=h:s=h;break}}),u>=0&&o==-1&&s>=0&&(o=s,s=-1);var c=(""+(e>=0?e:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var l=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return i==-1&&o==-1&&u==-1?c:e==-1&&s==-1&&a==-1?l:c+"T"+l}var bJ=function(){var n={};n.version="1.2.0";function r(){for(var T=0,R=new Array(256),P=0;P!=256;++P)T=P,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,R[P]=T;return typeof Int32Array<"u"?new Int32Array(R):R}var t=r();function e(T){var R=0,P=0,L=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(L=0;L!=256;++L)O[L]=T[L];for(L=0;L!=256;++L)for(P=T[L],R=256+L;R<4096;R+=256)P=O[R]=P>>>8^T[P&255];var H=[];for(L=1;L!=16;++L)H[L-1]=typeof Int32Array<"u"?O.subarray(L*256,L*256+256):O.slice(L*256,L*256+256);return H}var s=e(t),a=s[0],i=s[1],o=s[2],u=s[3],c=s[4],l=s[5],d=s[6],p=s[7],h=s[8],f=s[9],b=s[10],y=s[11],g=s[12],x=s[13],v=s[14];function w(T,R){for(var P=R^-1,L=0,O=T.length;L<O;)P=P>>>8^t[(P^T.charCodeAt(L++))&255];return~P}function S(T,R){for(var P=R^-1,L=T.length-15,O=0;O<L;)P=v[T[O++]^P&255]^x[T[O++]^P>>8&255]^g[T[O++]^P>>16&255]^y[T[O++]^P>>>24]^b[T[O++]]^f[T[O++]]^h[T[O++]]^p[T[O++]]^d[T[O++]]^l[T[O++]]^c[T[O++]]^u[T[O++]]^o[T[O++]]^i[T[O++]]^a[T[O++]]^t[T[O++]];for(L+=15;O<L;)P=P>>>8^t[(P^T[O++])&255];return~P}function D(T,R){for(var P=R^-1,L=0,O=T.length,H=0,U=0;L<O;)H=T.charCodeAt(L++),H<128?P=P>>>8^t[(P^H)&255]:H<2048?(P=P>>>8^t[(P^(192|H>>6&31))&255],P=P>>>8^t[(P^(128|H&63))&255]):H>=55296&&H<57344?(H=(H&1023)+64,U=T.charCodeAt(L++)&1023,P=P>>>8^t[(P^(240|H>>8&7))&255],P=P>>>8^t[(P^(128|H>>2&63))&255],P=P>>>8^t[(P^(128|U>>6&15|(H&3)<<4))&255],P=P>>>8^t[(P^(128|U&63))&255]):(P=P>>>8^t[(P^(224|H>>12&15))&255],P=P>>>8^t[(P^(128|H>>6&63))&255],P=P>>>8^t[(P^(128|H&63))&255]);return~P}return n.table=t,n.bstr=w,n.buf=S,n.str=D,n}(),En=function(){var r={};r.version="1.2.1";function t(fe,Ee){for(var Se=fe.split("/"),we=Ee.split("/"),Pe=0,Re=0,Ve=Math.min(Se.length,we.length);Pe<Ve;++Pe){if(Re=Se[Pe].length-we[Pe].length)return Re;if(Se[Pe]!=we[Pe])return Se[Pe]<we[Pe]?-1:1}return Se.length-we.length}function e(fe){if(fe.charAt(fe.length-1)=="/")return fe.slice(0,-1).indexOf("/")===-1?fe:e(fe.slice(0,-1));var Ee=fe.lastIndexOf("/");return Ee===-1?fe:fe.slice(0,Ee+1)}function s(fe){if(fe.charAt(fe.length-1)=="/")return s(fe.slice(0,-1));var Ee=fe.lastIndexOf("/");return Ee===-1?fe:fe.slice(Ee+1)}function a(fe,Ee){typeof Ee=="string"&&(Ee=new Date(Ee));var Se=Ee.getHours();Se=Se<<6|Ee.getMinutes(),Se=Se<<5|Ee.getSeconds()>>>1,fe.write_shift(2,Se);var we=Ee.getFullYear()-1980;we=we<<4|Ee.getMonth()+1,we=we<<5|Ee.getDate(),fe.write_shift(2,we)}function i(fe){var Ee=fe.read_shift(2)&65535,Se=fe.read_shift(2)&65535,we=new Date,Pe=Se&31;Se>>>=5;var Re=Se&15;Se>>>=4,we.setMilliseconds(0),we.setFullYear(Se+1980),we.setMonth(Re-1),we.setDate(Pe);var Ve=Ee&31;Ee>>>=5;var ot=Ee&63;return Ee>>>=6,we.setHours(Ee),we.setMinutes(ot),we.setSeconds(Ve<<1),we}function o(fe){pi(fe,0);for(var Ee={},Se=0;fe.l<=fe.length-4;){var we=fe.read_shift(2),Pe=fe.read_shift(2),Re=fe.l+Pe,Ve={};switch(we){case 21589:Se=fe.read_shift(1),Se&1&&(Ve.mtime=fe.read_shift(4)),Pe>5&&(Se&2&&(Ve.atime=fe.read_shift(4)),Se&4&&(Ve.ctime=fe.read_shift(4))),Ve.mtime&&(Ve.mt=new Date(Ve.mtime*1e3));break}fe.l=Re,Ee[we]=Ve}return Ee}var u;function c(){return u||(u={})}function l(fe,Ee){if(fe[0]==80&&fe[1]==75)return ur(fe,Ee);if((fe[0]|32)==109&&(fe[1]|32)==105)return Lr(fe,Ee);if(fe.length<512)throw new Error("CFB file size "+fe.length+" < 512");var Se=3,we=512,Pe=0,Re=0,Ve=0,ot=0,Ke=0,et=[],ct=fe.slice(0,512);pi(ct,0);var Nt=d(ct);switch(Se=Nt[0],Se){case 3:we=512;break;case 4:we=4096;break;case 0:if(Nt[1]==0)return ur(fe,Ee);default:throw new Error("Major Version: Expected 3 or 4 saw "+Se)}we!==512&&(ct=fe.slice(0,we),pi(ct,28));var Ft=fe.slice(0,we);p(ct,Se);var zt=ct.read_shift(4,"i");if(Se===3&&zt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+zt);ct.l+=4,Ve=ct.read_shift(4,"i"),ct.l+=4,ct.chk("00100000","Mini Stream Cutoff Size: "),ot=ct.read_shift(4,"i"),Pe=ct.read_shift(4,"i"),Ke=ct.read_shift(4,"i"),Re=ct.read_shift(4,"i");for(var Rt=-1,ke=0;ke<109&&(Rt=ct.read_shift(4,"i"),!(Rt<0));++ke)et[ke]=Rt;var Ge=h(fe,we);y(Ke,Re,Ge,we,et);var mt=x(Ge,Ve,et,we);mt[Ve].name="!Directory",Pe>0&&ot!==U&&(mt[ot].name="!MiniFAT"),mt[et[0]].name="!FAT",mt.fat_addrs=et,mt.ssz=we;var Et={},Yt=[],Ht=[],Vt=[];v(Ve,mt,Ge,Yt,Pe,Et,Ht,ot),f(Ht,Vt,Yt),Yt.shift();var Tr={FileIndex:Ht,FullPaths:Vt};return Ee&&Ee.raw&&(Tr.raw={header:Ft,sectors:Ge}),Tr}function d(fe){if(fe[fe.l]==80&&fe[fe.l+1]==75)return[0,0];fe.chk(I,"Header Signature: "),fe.l+=16;var Ee=fe.read_shift(2,"u");return[fe.read_shift(2,"u"),Ee]}function p(fe,Ee){var Se=9;switch(fe.l+=2,Se=fe.read_shift(2)){case 9:if(Ee!=3)throw new Error("Sector Shift: Expected 9 saw "+Se);break;case 12:if(Ee!=4)throw new Error("Sector Shift: Expected 12 saw "+Se);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Se)}fe.chk("0600","Mini Sector Shift: "),fe.chk("000000000000","Reserved: ")}function h(fe,Ee){for(var Se=Math.ceil(fe.length/Ee)-1,we=[],Pe=1;Pe<Se;++Pe)we[Pe-1]=fe.slice(Pe*Ee,(Pe+1)*Ee);return we[Se-1]=fe.slice(Se*Ee),we}function f(fe,Ee,Se){for(var we=0,Pe=0,Re=0,Ve=0,ot=0,Ke=Se.length,et=[],ct=[];we<Ke;++we)et[we]=ct[we]=we,Ee[we]=Se[we];for(;ot<ct.length;++ot)we=ct[ot],Pe=fe[we].L,Re=fe[we].R,Ve=fe[we].C,et[we]===we&&(Pe!==-1&&et[Pe]!==Pe&&(et[we]=et[Pe]),Re!==-1&&et[Re]!==Re&&(et[we]=et[Re])),Ve!==-1&&(et[Ve]=we),Pe!==-1&&we!=et[we]&&(et[Pe]=et[we],ct.lastIndexOf(Pe)<ot&&ct.push(Pe)),Re!==-1&&we!=et[we]&&(et[Re]=et[we],ct.lastIndexOf(Re)<ot&&ct.push(Re));for(we=1;we<Ke;++we)et[we]===we&&(Re!==-1&&et[Re]!==Re?et[we]=et[Re]:Pe!==-1&&et[Pe]!==Pe&&(et[we]=et[Pe]));for(we=1;we<Ke;++we)if(fe[we].type!==0){if(ot=we,ot!=et[ot])do ot=et[ot],Ee[we]=Ee[ot]+"/"+Ee[we];while(ot!==0&&et[ot]!==-1&&ot!=et[ot]);et[we]=-1}for(Ee[0]+="/",we=1;we<Ke;++we)fe[we].type!==2&&(Ee[we]+="/")}function b(fe,Ee,Se){for(var we=fe.start,Pe=fe.size,Re=[],Ve=we;Se&&Pe>0&&Ve>=0;)Re.push(Ee.slice(Ve*H,Ve*H+H)),Pe-=H,Ve=Sp(Se,Ve*4);return Re.length===0?Oa(0):Qh(Re).slice(0,fe.size)}function y(fe,Ee,Se,we,Pe){var Re=U;if(fe===U){if(Ee!==0)throw new Error("DIFAT chain shorter than expected")}else if(fe!==-1){var Ve=Se[fe],ot=(we>>>2)-1;if(!Ve)return;for(var Ke=0;Ke<ot&&(Re=Sp(Ve,Ke*4))!==U;++Ke)Pe.push(Re);y(Sp(Ve,we-4),Ee-1,Se,we,Pe)}}function g(fe,Ee,Se,we,Pe){var Re=[],Ve=[];Pe||(Pe=[]);var ot=we-1,Ke=0,et=0;for(Ke=Ee;Ke>=0;){Pe[Ke]=!0,Re[Re.length]=Ke,Ve.push(fe[Ke]);var ct=Se[Math.floor(Ke*4/we)];if(et=Ke*4&ot,we<4+et)throw new Error("FAT boundary crossed: "+Ke+" 4 "+we);if(!fe[ct])break;Ke=Sp(fe[ct],et)}return{nodes:Re,data:Y7([Ve])}}function x(fe,Ee,Se,we){var Pe=fe.length,Re=[],Ve=[],ot=[],Ke=[],et=we-1,ct=0,Nt=0,Ft=0,zt=0;for(ct=0;ct<Pe;++ct)if(ot=[],Ft=ct+Ee,Ft>=Pe&&(Ft-=Pe),!Ve[Ft]){Ke=[];var Rt=[];for(Nt=Ft;Nt>=0;){Rt[Nt]=!0,Ve[Nt]=!0,ot[ot.length]=Nt,Ke.push(fe[Nt]);var ke=Se[Math.floor(Nt*4/we)];if(zt=Nt*4&et,we<4+zt)throw new Error("FAT boundary crossed: "+Nt+" 4 "+we);if(!fe[ke]||(Nt=Sp(fe[ke],zt),Rt[Nt]))break}Re[Ft]={nodes:ot,data:Y7([Ke])}}return Re}function v(fe,Ee,Se,we,Pe,Re,Ve,ot){for(var Ke=0,et=we.length?2:0,ct=Ee[fe].data,Nt=0,Ft=0,zt;Nt<ct.length;Nt+=128){var Rt=ct.slice(Nt,Nt+128);pi(Rt,64),Ft=Rt.read_shift(2),zt=rS(Rt,0,Ft-et),we.push(zt);var ke={name:zt,type:Rt.read_shift(1),color:Rt.read_shift(1),L:Rt.read_shift(4,"i"),R:Rt.read_shift(4,"i"),C:Rt.read_shift(4,"i"),clsid:Rt.read_shift(16),state:Rt.read_shift(4,"i"),start:0,size:0},Ge=Rt.read_shift(2)+Rt.read_shift(2)+Rt.read_shift(2)+Rt.read_shift(2);Ge!==0&&(ke.ct=w(Rt,Rt.l-8));var mt=Rt.read_shift(2)+Rt.read_shift(2)+Rt.read_shift(2)+Rt.read_shift(2);mt!==0&&(ke.mt=w(Rt,Rt.l-8)),ke.start=Rt.read_shift(4,"i"),ke.size=Rt.read_shift(4,"i"),ke.size<0&&ke.start<0&&(ke.size=ke.type=0,ke.start=U,ke.name=""),ke.type===5?(Ke=ke.start,Pe>0&&Ke!==U&&(Ee[Ke].name="!StreamData")):ke.size>=4096?(ke.storage="fat",Ee[ke.start]===void 0&&(Ee[ke.start]=g(Se,ke.start,Ee.fat_addrs,Ee.ssz)),Ee[ke.start].name=ke.name,ke.content=Ee[ke.start].data.slice(0,ke.size)):(ke.storage="minifat",ke.size<0?ke.size=0:Ke!==U&&ke.start!==U&&Ee[Ke]&&(ke.content=b(ke,Ee[Ke].data,(Ee[ot]||{}).data))),ke.content&&pi(ke.content,0),Re[zt]=ke,Ve.push(ke)}}function w(fe,Ee){return new Date((pl(fe,Ee+4)/1e7*Math.pow(2,32)+pl(fe,Ee)/1e7-11644473600)*1e3)}function S(fe,Ee){return c(),l(u.readFileSync(fe),Ee)}function D(fe,Ee){var Se=Ee&&Ee.type;switch(Se||xn&&Buffer.isBuffer(fe)&&(Se="buffer"),Se||"base64"){case"file":return S(fe,Ee);case"base64":return l(Bc(vl(fe)),Ee);case"binary":return l(Bc(fe),Ee)}return l(fe,Ee)}function T(fe,Ee){var Se=Ee||{},we=Se.root||"Root Entry";if(fe.FullPaths||(fe.FullPaths=[]),fe.FileIndex||(fe.FileIndex=[]),fe.FullPaths.length!==fe.FileIndex.length)throw new Error("inconsistent CFB structure");fe.FullPaths.length===0&&(fe.FullPaths[0]=we+"/",fe.FileIndex[0]={name:we,type:5}),Se.CLSID&&(fe.FileIndex[0].clsid=Se.CLSID),R(fe)}function R(fe){var Ee="Sh33tJ5";if(!En.find(fe,"/"+Ee)){var Se=Oa(4);Se[0]=55,Se[1]=Se[3]=50,Se[2]=54,fe.FileIndex.push({name:Ee,type:2,content:Se,size:4,L:69,R:69,C:69}),fe.FullPaths.push(fe.FullPaths[0]+Ee),P(fe)}}function P(fe,Ee){T(fe);for(var Se=!1,we=!1,Pe=fe.FullPaths.length-1;Pe>=0;--Pe){var Re=fe.FileIndex[Pe];switch(Re.type){case 0:we?Se=!0:(fe.FileIndex.pop(),fe.FullPaths.pop());break;case 1:case 2:case 5:we=!0,isNaN(Re.R*Re.L*Re.C)&&(Se=!0),Re.R>-1&&Re.L>-1&&Re.R==Re.L&&(Se=!0);break;default:Se=!0;break}}if(!(!Se&&!Ee)){var Ve=new Date(1987,1,19),ot=0,Ke=Object.create?Object.create(null):{},et=[];for(Pe=0;Pe<fe.FullPaths.length;++Pe)Ke[fe.FullPaths[Pe]]=!0,fe.FileIndex[Pe].type!==0&&et.push([fe.FullPaths[Pe],fe.FileIndex[Pe]]);for(Pe=0;Pe<et.length;++Pe){var ct=e(et[Pe][0]);we=Ke[ct],we||(et.push([ct,{name:s(ct).replace("/",""),type:1,clsid:A,ct:Ve,mt:Ve,content:null}]),Ke[ct]=!0)}for(et.sort(function(zt,Rt){return t(zt[0],Rt[0])}),fe.FullPaths=[],fe.FileIndex=[],Pe=0;Pe<et.length;++Pe)fe.FullPaths[Pe]=et[Pe][0],fe.FileIndex[Pe]=et[Pe][1];for(Pe=0;Pe<et.length;++Pe){var Nt=fe.FileIndex[Pe],Ft=fe.FullPaths[Pe];if(Nt.name=s(Ft).replace("/",""),Nt.L=Nt.R=Nt.C=-(Nt.color=1),Nt.size=Nt.content?Nt.content.length:0,Nt.start=0,Nt.clsid=Nt.clsid||A,Pe===0)Nt.C=et.length>1?1:-1,Nt.size=0,Nt.type=5;else if(Ft.slice(-1)=="/"){for(ot=Pe+1;ot<et.length&&e(fe.FullPaths[ot])!=Ft;++ot);for(Nt.C=ot>=et.length?-1:ot,ot=Pe+1;ot<et.length&&e(fe.FullPaths[ot])!=e(Ft);++ot);Nt.R=ot>=et.length?-1:ot,Nt.type=1}else e(fe.FullPaths[Pe+1]||"")==e(Ft)&&(Nt.R=Pe+1),Nt.type=2}}}function L(fe,Ee){var Se=Ee||{};if(Se.fileType=="mad")return Lt(fe,Se);switch(P(fe),Se.fileType){case"zip":return Sr(fe,Se)}var we=function(zt){for(var Rt=0,ke=0,Ge=0;Ge<zt.FileIndex.length;++Ge){var mt=zt.FileIndex[Ge];if(mt.content){var Et=mt.content.length;Et>0&&(Et<4096?Rt+=Et+63>>6:ke+=Et+511>>9)}}for(var Yt=zt.FullPaths.length+3>>2,Ht=Rt+7>>3,Vt=Rt+127>>7,Tr=Ht+ke+Yt+Vt,vr=Tr+127>>7,Nr=vr<=109?0:Math.ceil((vr-109)/127);Tr+vr+Nr+127>>7>vr;)Nr=++vr<=109?0:Math.ceil((vr-109)/127);var ir=[1,Nr,vr,Vt,Yt,ke,Rt,0];return zt.FileIndex[0].size=Rt<<6,ir[7]=(zt.FileIndex[0].start=ir[0]+ir[1]+ir[2]+ir[3]+ir[4]+ir[5])+(ir[6]+7>>3),ir}(fe),Pe=Oa(we[7]<<9),Re=0,Ve=0;{for(Re=0;Re<8;++Re)Pe.write_shift(1,F[Re]);for(Re=0;Re<8;++Re)Pe.write_shift(2,0);for(Pe.write_shift(2,62),Pe.write_shift(2,3),Pe.write_shift(2,65534),Pe.write_shift(2,9),Pe.write_shift(2,6),Re=0;Re<3;++Re)Pe.write_shift(2,0);for(Pe.write_shift(4,0),Pe.write_shift(4,we[2]),Pe.write_shift(4,we[0]+we[1]+we[2]+we[3]-1),Pe.write_shift(4,0),Pe.write_shift(4,4096),Pe.write_shift(4,we[3]?we[0]+we[1]+we[2]-1:U),Pe.write_shift(4,we[3]),Pe.write_shift(-4,we[1]?we[0]-1:U),Pe.write_shift(4,we[1]),Re=0;Re<109;++Re)Pe.write_shift(-4,Re<we[2]?we[1]+Re:-1)}if(we[1])for(Ve=0;Ve<we[1];++Ve){for(;Re<236+Ve*127;++Re)Pe.write_shift(-4,Re<we[2]?we[1]+Re:-1);Pe.write_shift(-4,Ve===we[1]-1?U:Ve+1)}var ot=function(zt){for(Ve+=zt;Re<Ve-1;++Re)Pe.write_shift(-4,Re+1);zt&&(++Re,Pe.write_shift(-4,U))};for(Ve=Re=0,Ve+=we[1];Re<Ve;++Re)Pe.write_shift(-4,_.DIFSECT);for(Ve+=we[2];Re<Ve;++Re)Pe.write_shift(-4,_.FATSECT);ot(we[3]),ot(we[4]);for(var Ke=0,et=0,ct=fe.FileIndex[0];Ke<fe.FileIndex.length;++Ke)ct=fe.FileIndex[Ke],ct.content&&(et=ct.content.length,!(et<4096)&&(ct.start=Ve,ot(et+511>>9)));for(ot(we[6]+7>>3);Pe.l&511;)Pe.write_shift(-4,_.ENDOFCHAIN);for(Ve=Re=0,Ke=0;Ke<fe.FileIndex.length;++Ke)ct=fe.FileIndex[Ke],ct.content&&(et=ct.content.length,!(!et||et>=4096)&&(ct.start=Ve,ot(et+63>>6)));for(;Pe.l&511;)Pe.write_shift(-4,_.ENDOFCHAIN);for(Re=0;Re<we[4]<<2;++Re){var Nt=fe.FullPaths[Re];if(!Nt||Nt.length===0){for(Ke=0;Ke<17;++Ke)Pe.write_shift(4,0);for(Ke=0;Ke<3;++Ke)Pe.write_shift(4,-1);for(Ke=0;Ke<12;++Ke)Pe.write_shift(4,0);continue}ct=fe.FileIndex[Re],Re===0&&(ct.start=ct.size?ct.start-1:U);var Ft=Re===0&&Se.root||ct.name;if(et=2*(Ft.length+1),Pe.write_shift(64,Ft,"utf16le"),Pe.write_shift(2,et),Pe.write_shift(1,ct.type),Pe.write_shift(1,ct.color),Pe.write_shift(-4,ct.L),Pe.write_shift(-4,ct.R),Pe.write_shift(-4,ct.C),ct.clsid)Pe.write_shift(16,ct.clsid,"hex");else for(Ke=0;Ke<4;++Ke)Pe.write_shift(4,0);Pe.write_shift(4,ct.state||0),Pe.write_shift(4,0),Pe.write_shift(4,0),Pe.write_shift(4,0),Pe.write_shift(4,0),Pe.write_shift(4,ct.start),Pe.write_shift(4,ct.size),Pe.write_shift(4,0)}for(Re=1;Re<fe.FileIndex.length;++Re)if(ct=fe.FileIndex[Re],ct.size>=4096)if(Pe.l=ct.start+1<<9,xn&&Buffer.isBuffer(ct.content))ct.content.copy(Pe,Pe.l,0,ct.size),Pe.l+=ct.size+511&-512;else{for(Ke=0;Ke<ct.size;++Ke)Pe.write_shift(1,ct.content[Ke]);for(;Ke&511;++Ke)Pe.write_shift(1,0)}for(Re=1;Re<fe.FileIndex.length;++Re)if(ct=fe.FileIndex[Re],ct.size>0&&ct.size<4096)if(xn&&Buffer.isBuffer(ct.content))ct.content.copy(Pe,Pe.l,0,ct.size),Pe.l+=ct.size+63&-64;else{for(Ke=0;Ke<ct.size;++Ke)Pe.write_shift(1,ct.content[Ke]);for(;Ke&63;++Ke)Pe.write_shift(1,0)}if(xn)Pe.l=Pe.length;else for(;Pe.l<Pe.length;)Pe.write_shift(1,0);return Pe}function O(fe,Ee){var Se=fe.FullPaths.map(function(Ke){return Ke.toUpperCase()}),we=Se.map(function(Ke){var et=Ke.split("/");return et[et.length-(Ke.slice(-1)=="/"?2:1)]}),Pe=!1;Ee.charCodeAt(0)===47?(Pe=!0,Ee=Se[0].slice(0,-1)+Ee):Pe=Ee.indexOf("/")!==-1;var Re=Ee.toUpperCase(),Ve=Pe===!0?Se.indexOf(Re):we.indexOf(Re);if(Ve!==-1)return fe.FileIndex[Ve];var ot=!Re.match(ab);for(Re=Re.replace(mo,""),ot&&(Re=Re.replace(ab,"!")),Ve=0;Ve<Se.length;++Ve)if((ot?Se[Ve].replace(ab,"!"):Se[Ve]).replace(mo,"")==Re||(ot?we[Ve].replace(ab,"!"):we[Ve]).replace(mo,"")==Re)return fe.FileIndex[Ve];return null}var H=64,U=-2,I="d0cf11e0a1b11ae1",F=[208,207,17,224,161,177,26,225],A="00000000000000000000000000000000",_={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:I,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:A,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function E(fe,Ee,Se){c();var we=L(fe,Se);u.writeFileSync(Ee,we)}function N(fe){for(var Ee=new Array(fe.length),Se=0;Se<fe.length;++Se)Ee[Se]=String.fromCharCode(fe[Se]);return Ee.join("")}function k(fe,Ee){var Se=L(fe,Ee);switch(Ee&&Ee.type||"buffer"){case"file":return c(),u.writeFileSync(Ee.filename,Se),Se;case"binary":return typeof Se=="string"?Se:N(Se);case"base64":return T7(typeof Se=="string"?Se:N(Se));case"buffer":if(xn)return Buffer.isBuffer(Se)?Se:r0(Se);case"array":return typeof Se=="string"?Bc(Se):Se}return Se}var B;function j(fe){try{var Ee=fe.InflateRaw,Se=new Ee;if(Se._processChunk(new Uint8Array([3,0]),Se._finishFlushFlag),Se.bytesRead)B=fe;else throw new Error("zlib does not expose bytesRead")}catch(we){console.error("cannot use native zlib: "+(we.message||we))}}function M(fe,Ee){if(!B)return Tt(fe,Ee);var Se=B.InflateRaw,we=new Se,Pe=we._processChunk(fe.slice(fe.l),we._finishFlushFlag);return fe.l+=we.bytesRead,Pe}function G(fe){return B?B.deflateRawSync(fe):at(fe)}var Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],V=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Q(fe){var Ee=(fe<<1|fe<<11)&139536|(fe<<5|fe<<15)&558144;return(Ee>>16|Ee>>8|Ee)&255}for(var q=typeof Uint8Array<"u",z=q?new Uint8Array(256):[],Z=0;Z<256;++Z)z[Z]=Q(Z);function re(fe,Ee){var Se=z[fe&255];return Ee<=8?Se>>>8-Ee:(Se=Se<<8|z[fe>>8&255],Ee<=16?Se>>>16-Ee:(Se=Se<<8|z[fe>>16&255],Se>>>24-Ee))}function le(fe,Ee){var Se=Ee&7,we=Ee>>>3;return(fe[we]|(Se<=6?0:fe[we+1]<<8))>>>Se&3}function ue(fe,Ee){var Se=Ee&7,we=Ee>>>3;return(fe[we]|(Se<=5?0:fe[we+1]<<8))>>>Se&7}function ce(fe,Ee){var Se=Ee&7,we=Ee>>>3;return(fe[we]|(Se<=4?0:fe[we+1]<<8))>>>Se&15}function ie(fe,Ee){var Se=Ee&7,we=Ee>>>3;return(fe[we]|(Se<=3?0:fe[we+1]<<8))>>>Se&31}function ye(fe,Ee){var Se=Ee&7,we=Ee>>>3;return(fe[we]|(Se<=1?0:fe[we+1]<<8))>>>Se&127}function he(fe,Ee,Se){var we=Ee&7,Pe=Ee>>>3,Re=(1<<Se)-1,Ve=fe[Pe]>>>we;return Se<8-we||(Ve|=fe[Pe+1]<<8-we,Se<16-we)||(Ve|=fe[Pe+2]<<16-we,Se<24-we)||(Ve|=fe[Pe+3]<<24-we),Ve&Re}function pe(fe,Ee,Se){var we=Ee&7,Pe=Ee>>>3;return we<=5?fe[Pe]|=(Se&7)<<we:(fe[Pe]|=Se<<we&255,fe[Pe+1]=(Se&7)>>8-we),Ee+3}function xe(fe,Ee,Se){var we=Ee&7,Pe=Ee>>>3;return Se=(Se&1)<<we,fe[Pe]|=Se,Ee+1}function Oe(fe,Ee,Se){var we=Ee&7,Pe=Ee>>>3;return Se<<=we,fe[Pe]|=Se&255,Se>>>=8,fe[Pe+1]=Se,Ee+8}function Ae(fe,Ee,Se){var we=Ee&7,Pe=Ee>>>3;return Se<<=we,fe[Pe]|=Se&255,Se>>>=8,fe[Pe+1]=Se&255,fe[Pe+2]=Se>>>8,Ee+16}function Le(fe,Ee){var Se=fe.length,we=2*Se>Ee?2*Se:Ee+5,Pe=0;if(Se>=Ee)return fe;if(xn){var Re=j7(we);if(fe.copy)fe.copy(Re);else for(;Pe<fe.length;++Pe)Re[Pe]=fe[Pe];return Re}else if(q){var Ve=new Uint8Array(we);if(Ve.set)Ve.set(fe);else for(;Pe<Se;++Pe)Ve[Pe]=fe[Pe];return Ve}return fe.length=we,fe}function He(fe){for(var Ee=new Array(fe),Se=0;Se<fe;++Se)Ee[Se]=0;return Ee}function Ye(fe,Ee,Se){var we=1,Pe=0,Re=0,Ve=0,ot=0,Ke=fe.length,et=q?new Uint16Array(32):He(32);for(Re=0;Re<32;++Re)et[Re]=0;for(Re=Ke;Re<Se;++Re)fe[Re]=0;Ke=fe.length;var ct=q?new Uint16Array(Ke):He(Ke);for(Re=0;Re<Ke;++Re)et[Pe=fe[Re]]++,we<Pe&&(we=Pe),ct[Re]=0;for(et[0]=0,Re=1;Re<=we;++Re)et[Re+16]=ot=ot+et[Re-1]<<1;for(Re=0;Re<Ke;++Re)ot=fe[Re],ot!=0&&(ct[Re]=et[ot+16]++);var Nt=0;for(Re=0;Re<Ke;++Re)if(Nt=fe[Re],Nt!=0)for(ot=re(ct[Re],we)>>we-Nt,Ve=(1<<we+4-Nt)-1;Ve>=0;--Ve)Ee[ot|Ve<<Nt]=Nt&15|Re<<4;return we}var it=q?new Uint16Array(512):He(512),bt=q?new Uint16Array(32):He(32);if(!q){for(var tt=0;tt<512;++tt)it[tt]=0;for(tt=0;tt<32;++tt)bt[tt]=0}(function(){for(var fe=[],Ee=0;Ee<32;Ee++)fe.push(5);Ye(fe,bt,32);var Se=[];for(Ee=0;Ee<=143;Ee++)Se.push(8);for(;Ee<=255;Ee++)Se.push(9);for(;Ee<=279;Ee++)Se.push(7);for(;Ee<=287;Ee++)Se.push(8);Ye(Se,it,288)})();var $e=function(){for(var Ee=q?new Uint8Array(32768):[],Se=0,we=0;Se<V.length-1;++Se)for(;we<V[Se+1];++we)Ee[we]=Se;for(;we<32768;++we)Ee[we]=29;var Pe=q?new Uint8Array(259):[];for(Se=0,we=0;Se<J.length-1;++Se)for(;we<J[Se+1];++we)Pe[we]=Se;function Re(ot,Ke){for(var et=0;et<ot.length;){var ct=Math.min(65535,ot.length-et),Nt=et+ct==ot.length;for(Ke.write_shift(1,+Nt),Ke.write_shift(2,ct),Ke.write_shift(2,~ct&65535);ct-- >0;)Ke[Ke.l++]=ot[et++]}return Ke.l}function Ve(ot,Ke){for(var et=0,ct=0,Nt=q?new Uint16Array(32768):[];ct<ot.length;){var Ft=Math.min(65535,ot.length-ct);if(Ft<10){for(et=pe(Ke,et,+(ct+Ft==ot.length)),et&7&&(et+=8-(et&7)),Ke.l=et/8|0,Ke.write_shift(2,Ft),Ke.write_shift(2,~Ft&65535);Ft-- >0;)Ke[Ke.l++]=ot[ct++];et=Ke.l*8;continue}et=pe(Ke,et,+(ct+Ft==ot.length)+2);for(var zt=0;Ft-- >0;){var Rt=ot[ct];zt=(zt<<5^Rt)&32767;var ke=-1,Ge=0;if((ke=Nt[zt])&&(ke|=ct&-32768,ke>ct&&(ke-=32768),ke<ct))for(;ot[ke+Ge]==ot[ct+Ge]&&Ge<250;)++Ge;if(Ge>2){Rt=Pe[Ge],Rt<=22?et=Oe(Ke,et,z[Rt+1]>>1)-1:(Oe(Ke,et,3),et+=5,Oe(Ke,et,z[Rt-23]>>5),et+=3);var mt=Rt<8?0:Rt-4>>2;mt>0&&(Ae(Ke,et,Ge-J[Rt]),et+=mt),Rt=Ee[ct-ke],et=Oe(Ke,et,z[Rt]>>3),et-=3;var Et=Rt<4?0:Rt-2>>1;Et>0&&(Ae(Ke,et,ct-ke-V[Rt]),et+=Et);for(var Yt=0;Yt<Ge;++Yt)Nt[zt]=ct&32767,zt=(zt<<5^ot[ct])&32767,++ct;Ft-=Ge-1}else Rt<=143?Rt=Rt+48:et=xe(Ke,et,1),et=Oe(Ke,et,z[Rt]),Nt[zt]=ct&32767,++ct}et=Oe(Ke,et,0)-1}return Ke.l=(et+7)/8|0,Ke.l}return function(Ke,et){return Ke.length<8?Re(Ke,et):Ve(Ke,et)}}();function at(fe){var Ee=Oa(50+Math.floor(fe.length*1.1)),Se=$e(fe,Ee);return Ee.slice(0,Se)}var ze=q?new Uint16Array(32768):He(32768),wt=q?new Uint16Array(32768):He(32768),vt=q?new Uint16Array(128):He(128),kt=1,pt=1;function At(fe,Ee){var Se=ie(fe,Ee)+257;Ee+=5;var we=ie(fe,Ee)+1;Ee+=5;var Pe=ce(fe,Ee)+4;Ee+=4;for(var Re=0,Ve=q?new Uint8Array(19):He(19),ot=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ke=1,et=q?new Uint8Array(8):He(8),ct=q?new Uint8Array(8):He(8),Nt=Ve.length,Ft=0;Ft<Pe;++Ft)Ve[Y[Ft]]=Re=ue(fe,Ee),Ke<Re&&(Ke=Re),et[Re]++,Ee+=3;var zt=0;for(et[0]=0,Ft=1;Ft<=Ke;++Ft)ct[Ft]=zt=zt+et[Ft-1]<<1;for(Ft=0;Ft<Nt;++Ft)(zt=Ve[Ft])!=0&&(ot[Ft]=ct[zt]++);var Rt=0;for(Ft=0;Ft<Nt;++Ft)if(Rt=Ve[Ft],Rt!=0){zt=z[ot[Ft]]>>8-Rt;for(var ke=(1<<7-Rt)-1;ke>=0;--ke)vt[zt|ke<<Rt]=Rt&7|Ft<<3}var Ge=[];for(Ke=1;Ge.length<Se+we;)switch(zt=vt[ye(fe,Ee)],Ee+=zt&7,zt>>>=3){case 16:for(Re=3+le(fe,Ee),Ee+=2,zt=Ge[Ge.length-1];Re-- >0;)Ge.push(zt);break;case 17:for(Re=3+ue(fe,Ee),Ee+=3;Re-- >0;)Ge.push(0);break;case 18:for(Re=11+ye(fe,Ee),Ee+=7;Re-- >0;)Ge.push(0);break;default:Ge.push(zt),Ke<zt&&(Ke=zt);break}var mt=Ge.slice(0,Se),Et=Ge.slice(Se);for(Ft=Se;Ft<286;++Ft)mt[Ft]=0;for(Ft=we;Ft<30;++Ft)Et[Ft]=0;return kt=Ye(mt,ze,286),pt=Ye(Et,wt,30),Ee}function $t(fe,Ee){if(fe[0]==3&&!(fe[1]&3))return[Uf(Ee),2];for(var Se=0,we=0,Pe=j7(Ee||1<<18),Re=0,Ve=Pe.length>>>0,ot=0,Ke=0;!(we&1);){if(we=ue(fe,Se),Se+=3,we>>>1)we>>1==1?(ot=9,Ke=5):(Se=At(fe,Se),ot=kt,Ke=pt);else{Se&7&&(Se+=8-(Se&7));var et=fe[Se>>>3]|fe[(Se>>>3)+1]<<8;if(Se+=32,et>0)for(!Ee&&Ve<Re+et&&(Pe=Le(Pe,Re+et),Ve=Pe.length);et-- >0;)Pe[Re++]=fe[Se>>>3],Se+=8;continue}for(;;){!Ee&&Ve<Re+32767&&(Pe=Le(Pe,Re+32767),Ve=Pe.length);var ct=he(fe,Se,ot),Nt=we>>>1==1?it[ct]:ze[ct];if(Se+=Nt&15,Nt>>>=4,!(Nt>>>8&255))Pe[Re++]=Nt;else{if(Nt==256)break;Nt-=257;var Ft=Nt<8?0:Nt-4>>2;Ft>5&&(Ft=0);var zt=Re+J[Nt];Ft>0&&(zt+=he(fe,Se,Ft),Se+=Ft),ct=he(fe,Se,Ke),Nt=we>>>1==1?bt[ct]:wt[ct],Se+=Nt&15,Nt>>>=4;var Rt=Nt<4?0:Nt-2>>1,ke=V[Nt];for(Rt>0&&(ke+=he(fe,Se,Rt),Se+=Rt),!Ee&&Ve<zt&&(Pe=Le(Pe,zt+100),Ve=Pe.length);Re<zt;)Pe[Re]=Pe[Re-ke],++Re}}}return Ee?[Pe,Se+7>>>3]:[Pe.slice(0,Re),Se+7>>>3]}function Tt(fe,Ee){var Se=fe.slice(fe.l||0),we=$t(Se,Ee);return fe.l+=we[1],we[0]}function fr(fe,Ee){if(fe)typeof console<"u"&&console.error(Ee);else throw new Error(Ee)}function ur(fe,Ee){var Se=fe;pi(Se,0);var we=[],Pe=[],Re={FileIndex:we,FullPaths:Pe};T(Re,{root:Ee.root});for(var Ve=Se.length-4;(Se[Ve]!=80||Se[Ve+1]!=75||Se[Ve+2]!=5||Se[Ve+3]!=6)&&Ve>=0;)--Ve;Se.l=Ve+4,Se.l+=4;var ot=Se.read_shift(2);Se.l+=6;var Ke=Se.read_shift(4);for(Se.l=Ke,Ve=0;Ve<ot;++Ve){Se.l+=20;var et=Se.read_shift(4),ct=Se.read_shift(4),Nt=Se.read_shift(2),Ft=Se.read_shift(2),zt=Se.read_shift(2);Se.l+=8;var Rt=Se.read_shift(4),ke=o(Se.slice(Se.l+Nt,Se.l+Nt+Ft));Se.l+=Nt+Ft+zt;var Ge=Se.l;Se.l=Rt+4,er(Se,et,ct,Re,ke),Se.l=Ge}return Re}function er(fe,Ee,Se,we,Pe){fe.l+=2;var Re=fe.read_shift(2),Ve=fe.read_shift(2),ot=i(fe);if(Re&8257)throw new Error("Unsupported ZIP encryption");for(var Ke=fe.read_shift(4),et=fe.read_shift(4),ct=fe.read_shift(4),Nt=fe.read_shift(2),Ft=fe.read_shift(2),zt="",Rt=0;Rt<Nt;++Rt)zt+=String.fromCharCode(fe[fe.l++]);if(Ft){var ke=o(fe.slice(fe.l,fe.l+Ft));(ke[21589]||{}).mt&&(ot=ke[21589].mt),((Pe||{})[21589]||{}).mt&&(ot=Pe[21589].mt)}fe.l+=Ft;var Ge=fe.slice(fe.l,fe.l+et);switch(Ve){case 8:Ge=M(fe,ct);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ve)}var mt=!1;Re&8&&(Ke=fe.read_shift(4),Ke==134695760&&(Ke=fe.read_shift(4),mt=!0),et=fe.read_shift(4),ct=fe.read_shift(4)),et!=Ee&&fr(mt,"Bad compressed size: "+Ee+" != "+et),ct!=Se&&fr(mt,"Bad uncompressed size: "+Se+" != "+ct),Cr(we,zt,Ge,{unsafe:!0,mt:ot})}function Sr(fe,Ee){var Se=Ee||{},we=[],Pe=[],Re=Oa(1),Ve=Se.compression?8:0,ot=0,Ke=0,et=0,ct=0,Nt=0,Ft=fe.FullPaths[0],zt=Ft,Rt=fe.FileIndex[0],ke=[],Ge=0;for(Ke=1;Ke<fe.FullPaths.length;++Ke)if(zt=fe.FullPaths[Ke].slice(Ft.length),Rt=fe.FileIndex[Ke],!(!Rt.size||!Rt.content||zt=="Sh33tJ5")){var mt=ct,Et=Oa(zt.length);for(et=0;et<zt.length;++et)Et.write_shift(1,zt.charCodeAt(et)&127);Et=Et.slice(0,Et.l),ke[Nt]=bJ.buf(Rt.content,0);var Yt=Rt.content;Ve==8&&(Yt=G(Yt)),Re=Oa(30),Re.write_shift(4,67324752),Re.write_shift(2,20),Re.write_shift(2,ot),Re.write_shift(2,Ve),Rt.mt?a(Re,Rt.mt):Re.write_shift(4,0),Re.write_shift(-4,ke[Nt]),Re.write_shift(4,Yt.length),Re.write_shift(4,Rt.content.length),Re.write_shift(2,Et.length),Re.write_shift(2,0),ct+=Re.length,we.push(Re),ct+=Et.length,we.push(Et),ct+=Yt.length,we.push(Yt),Re=Oa(46),Re.write_shift(4,33639248),Re.write_shift(2,0),Re.write_shift(2,20),Re.write_shift(2,ot),Re.write_shift(2,Ve),Re.write_shift(4,0),Re.write_shift(-4,ke[Nt]),Re.write_shift(4,Yt.length),Re.write_shift(4,Rt.content.length),Re.write_shift(2,Et.length),Re.write_shift(2,0),Re.write_shift(2,0),Re.write_shift(2,0),Re.write_shift(2,0),Re.write_shift(4,0),Re.write_shift(4,mt),Ge+=Re.l,Pe.push(Re),Ge+=Et.length,Pe.push(Et),++Nt}return Re=Oa(22),Re.write_shift(4,101010256),Re.write_shift(2,0),Re.write_shift(2,0),Re.write_shift(2,Nt),Re.write_shift(2,Nt),Re.write_shift(4,Ge),Re.write_shift(4,ct),Re.write_shift(2,0),Qh([Qh(we),Qh(Pe),Re])}var tr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Wt(fe,Ee){if(fe.ctype)return fe.ctype;var Se=fe.name||"",we=Se.match(/\.([^\.]+)$/);return we&&tr[we[1]]||Ee&&(we=(Se=Ee).match(/[\.\\]([^\.\\])+$/),we&&tr[we[1]])?tr[we[1]]:"application/octet-stream"}function or(fe){for(var Ee=T7(fe),Se=[],we=0;we<Ee.length;we+=76)Se.push(Ee.slice(we,we+76));return Se.join(`\r
`)+`\r
`}function Ir(fe){var Ee=fe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(et){var ct=et.charCodeAt(0).toString(16).toUpperCase();return"="+(ct.length==1?"0"+ct:ct)});Ee=Ee.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Ee.charAt(0)==`
`&&(Ee="=0D"+Ee.slice(1)),Ee=Ee.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Se=[],we=Ee.split(`\r
`),Pe=0;Pe<we.length;++Pe){var Re=we[Pe];if(Re.length==0){Se.push("");continue}for(var Ve=0;Ve<Re.length;){var ot=76,Ke=Re.slice(Ve,Ve+ot);Ke.charAt(ot-1)=="="?ot--:Ke.charAt(ot-2)=="="?ot-=2:Ke.charAt(ot-3)=="="&&(ot-=3),Ke=Re.slice(Ve,Ve+ot),Ve+=ot,Ve<Re.length&&(Ke+="="),Se.push(Ke)}}return Se.join(`\r
`)}function Jt(fe){for(var Ee=[],Se=0;Se<fe.length;++Se){for(var we=fe[Se];Se<=fe.length&&we.charAt(we.length-1)=="=";)we=we.slice(0,we.length-1)+fe[++Se];Ee.push(we)}for(var Pe=0;Pe<Ee.length;++Pe)Ee[Pe]=Ee[Pe].replace(/[=][0-9A-Fa-f]{2}/g,function(Re){return String.fromCharCode(parseInt(Re.slice(1),16))});return Bc(Ee.join(`\r
`))}function wr(fe,Ee,Se){for(var we="",Pe="",Re="",Ve,ot=0;ot<10;++ot){var Ke=Ee[ot];if(!Ke||Ke.match(/^\s*$/))break;var et=Ke.match(/^(.*?):\s*([^\s].*)$/);if(et)switch(et[1].toLowerCase()){case"content-location":we=et[2].trim();break;case"content-type":Re=et[2].trim();break;case"content-transfer-encoding":Pe=et[2].trim();break}}switch(++ot,Pe.toLowerCase()){case"base64":Ve=Bc(vl(Ee.slice(ot).join("")));break;case"quoted-printable":Ve=Jt(Ee.slice(ot));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Pe)}var ct=Cr(fe,we.slice(Se.length),Ve,{unsafe:!0});Re&&(ct.ctype=Re)}function Lr(fe,Ee){if(N(fe.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Se=Ee&&Ee.root||"",we=(xn&&Buffer.isBuffer(fe)?fe.toString("binary"):N(fe)).split(`\r
`),Pe=0,Re="";for(Pe=0;Pe<we.length;++Pe)if(Re=we[Pe],!!/^Content-Location:/i.test(Re)&&(Re=Re.slice(Re.indexOf("file")),Se||(Se=Re.slice(0,Re.lastIndexOf("/")+1)),Re.slice(0,Se.length)!=Se))for(;Se.length>0&&(Se=Se.slice(0,Se.length-1),Se=Se.slice(0,Se.lastIndexOf("/")+1),Re.slice(0,Se.length)!=Se););var Ve=(we[1]||"").match(/boundary="(.*?)"/);if(!Ve)throw new Error("MAD cannot find boundary");var ot="--"+(Ve[1]||""),Ke=[],et=[],ct={FileIndex:Ke,FullPaths:et};T(ct);var Nt,Ft=0;for(Pe=0;Pe<we.length;++Pe){var zt=we[Pe];zt!==ot&&zt!==ot+"--"||(Ft++&&wr(ct,we.slice(Nt,Pe),Se),Nt=Pe)}return ct}function Lt(fe,Ee){var Se=Ee||{},we=Se.boundary||"SheetJS";we="------="+we;for(var Pe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+we.slice(2)+'"',"","",""],Re=fe.FullPaths[0],Ve=Re,ot=fe.FileIndex[0],Ke=1;Ke<fe.FullPaths.length;++Ke)if(Ve=fe.FullPaths[Ke].slice(Re.length),ot=fe.FileIndex[Ke],!(!ot.size||!ot.content||Ve=="Sh33tJ5")){Ve=Ve.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ge){return"_x"+Ge.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ge){return"_u"+Ge.charCodeAt(0).toString(16)+"_"});for(var et=ot.content,ct=xn&&Buffer.isBuffer(et)?et.toString("binary"):N(et),Nt=0,Ft=Math.min(1024,ct.length),zt=0,Rt=0;Rt<=Ft;++Rt)(zt=ct.charCodeAt(Rt))>=32&&zt<128&&++Nt;var ke=Nt>=Ft*4/5;Pe.push(we),Pe.push("Content-Location: "+(Se.root||"file:///C:/SheetJS/")+Ve),Pe.push("Content-Transfer-Encoding: "+(ke?"quoted-printable":"base64")),Pe.push("Content-Type: "+Wt(ot,Ve)),Pe.push(""),Pe.push(ke?Ir(ct):or(ct))}return Pe.push(we+`--\r
`),Pe.join(`\r
`)}function Er(fe){var Ee={};return T(Ee,fe),Ee}function Cr(fe,Ee,Se,we){var Pe=we&&we.unsafe;Pe||T(fe);var Re=!Pe&&En.find(fe,Ee);if(!Re){var Ve=fe.FullPaths[0];Ee.slice(0,Ve.length)==Ve?Ve=Ee:(Ve.slice(-1)!="/"&&(Ve+="/"),Ve=(Ve+Ee).replace("//","/")),Re={name:s(Ee),type:2},fe.FileIndex.push(Re),fe.FullPaths.push(Ve),Pe||En.utils.cfb_gc(fe)}return Re.content=Se,Re.size=Se?Se.length:0,we&&(we.CLSID&&(Re.clsid=we.CLSID),we.mt&&(Re.mt=we.mt),we.ct&&(Re.ct=we.ct)),Re}function lr(fe,Ee){T(fe);var Se=En.find(fe,Ee);if(Se){for(var we=0;we<fe.FileIndex.length;++we)if(fe.FileIndex[we]==Se)return fe.FileIndex.splice(we,1),fe.FullPaths.splice(we,1),!0}return!1}function qe(fe,Ee,Se){T(fe);var we=En.find(fe,Ee);if(we){for(var Pe=0;Pe<fe.FileIndex.length;++Pe)if(fe.FileIndex[Pe]==we)return fe.FileIndex[Pe].name=s(Se),fe.FullPaths[Pe]=Se,!0}return!1}function rt(fe){P(fe,!0)}return r.find=O,r.read=D,r.parse=l,r.write=k,r.writeFile=E,r.utils={cfb_new:Er,cfb_add:Cr,cfb_del:lr,cfb_mov:qe,cfb_gc:rt,ReadShift:gb,CheckField:FD,prep_blob:pi,bconcat:Qh,use_zlib:j,_deflateRaw:at,_inflateRaw:Tt,consts:_},r}();function yJ(n){if(typeof Deno<"u")return Deno.readFileSync(n);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var r=File(n);r.open("r"),r.encoding="binary";var t=r.read();return r.close(),t}catch(e){if(!e.message||!e.message.match(/onstruct/))throw e}throw new Error("Cannot access file "+n)}function Xu(n){for(var r=Object.keys(n),t=[],e=0;e<r.length;++e)Object.prototype.hasOwnProperty.call(n,r[e])&&t.push(r[e]);return t}function Z8(n){for(var r=[],t=Xu(n),e=0;e!==t.length;++e)r[n[t[e]]]=t[e];return r}var gw=new Date(1899,11,30,0,0,0);function yo(n,r){var t=n.getTime(),e=gw.getTime()+(n.getTimezoneOffset()-gw.getTimezoneOffset())*6e4;return(t-e)/(24*60*60*1e3)}var bD=new Date,vJ=gw.getTime()+(bD.getTimezoneOffset()-gw.getTimezoneOffset())*6e4,B7=bD.getTimezoneOffset();function S5(n){var r=new Date;return r.setTime(n*24*60*60*1e3+vJ),r.getTimezoneOffset()!==B7&&r.setTime(r.getTime()+(r.getTimezoneOffset()-B7)*6e4),r}function xJ(n){var r=0,t=0,e=!1,s=n.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!s)throw new Error("|"+n+"| is not an ISO8601 Duration");for(var a=1;a!=s.length;++a)if(s[a]){switch(t=1,a>3&&(e=!0),s[a].slice(s[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+s[a].slice(s[a].length-1));case"D":t*=24;case"H":t*=60;case"M":if(e)t*=60;else throw new Error("Unsupported ISO Duration Field: M")}r+=t*parseInt(s[a],10)}return r}var U7=new Date("2017-02-19T19:06:09.000Z"),yD=isNaN(U7.getFullYear())?new Date("2/19/17"):U7,wJ=yD.getFullYear()==2017;function ei(n,r){var t=new Date(n);if(wJ)return r>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):r<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(yD.getFullYear()==1917&&!isNaN(t.getFullYear())){var e=t.getFullYear();return n.indexOf(""+e)>-1||t.setFullYear(t.getFullYear()+100),t}var s=n.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return n.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function qm(n,r){if(xn&&Buffer.isBuffer(n)){if(r){if(n[0]==255&&n[1]==254)return ob(n.slice(2).toString("utf16le"));if(n[1]==254&&n[2]==255)return ob(sD(n.slice(2).toString("binary")))}return n.toString("binary")}if(typeof TextDecoder<"u")try{if(r){if(n[0]==255&&n[1]==254)return ob(new TextDecoder("utf-16le").decode(n.slice(2)));if(n[0]==254&&n[1]==255)return ob(new TextDecoder("utf-16be").decode(n.slice(2)))}var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[]/g,function(a){return t[a]||a})}catch{}for(var e=[],s=0;s!=n.length;++s)e.push(String.fromCharCode(n[s]));return e.join("")}function mi(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var r={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=mi(n[t]));return r}function Qs(n,r){for(var t="";t.length<r;)t+=n;return t}function qc(n){var r=Number(n);if(!isNaN(r))return isFinite(r)?r:NaN;if(!/\d/.test(n))return r;var t=1,e=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(r=Number(e))||(e=e.replace(/[(](.*)[)]/,function(s,a){return t=-t,a}),!isNaN(r=Number(e)))?r/t:r}var _J=["january","february","march","april","may","june","july","august","september","october","november","december"];function ig(n){var r=new Date(n),t=new Date(NaN),e=r.getYear(),s=r.getMonth(),a=r.getDate();if(isNaN(a))return t;var i=n.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&_J.indexOf(i)==-1)return t}else if(i.match(/[a-z]/))return t;return e<0||e>8099?t:(s>0||a>1)&&e!=101?r:n.match(/[^-0-9:,\/\\]/)?t:r}var SJ=function(){var n="abacaba".split(/(:?b)/i).length==5;return function(t,e,s){if(n||typeof e=="string")return t.split(e);for(var a=t.split(e),i=[a[0]],o=1;o<a.length;++o)i.push(s),i.push(a[o]);return i}}();function vD(n){return n?n.content&&n.type?qm(n.content,!0):n.data?sb(n.data):n.asNodeBuffer&&xn?sb(n.asNodeBuffer().toString("binary")):n.asBinary?sb(n.asBinary()):n._data&&n._data.getContent?sb(qm(Array.prototype.slice.call(n._data.getContent(),0))):null:null}function xD(n){if(!n)return null;if(n.data)return C7(n.data);if(n.asNodeBuffer&&xn)return n.asNodeBuffer();if(n._data&&n._data.getContent){var r=n._data.getContent();return typeof r=="string"?C7(r):Array.prototype.slice.call(r)}return n.content&&n.type?n.content:null}function EJ(n){return n&&n.name.slice(-4)===".bin"?xD(n):vD(n)}function Ll(n,r){for(var t=n.FullPaths||Xu(n.files),e=r.toLowerCase().replace(/[\/]/g,"\\"),s=e.replace(/\\/g,"/"),a=0;a<t.length;++a){var i=t[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(e==i||s==i)return n.files?n.files[t[a]]:n.FileIndex[a]}return null}function Q8(n,r){var t=Ll(n,r);if(t==null)throw new Error("Cannot find file "+r+" in zip");return t}function Aa(n,r,t){if(!t)return EJ(Q8(n,r));if(!r)return null;try{return Aa(n,r)}catch{return null}}function gl(n,r,t){if(!t)return vD(Q8(n,r));if(!r)return null;try{return gl(n,r)}catch{return null}}function NJ(n,r,t){return xD(Q8(n,r))}function H7(n){for(var r=n.FullPaths||Xu(n.files),t=[],e=0;e<r.length;++e)r[e].slice(-1)!="/"&&t.push(r[e].replace(/^Root Entry[\/]/,""));return t.sort()}function AJ(n,r,t){if(n.FullPaths){if(typeof t=="string"){var e;return xn?e=r0(t):e=VX(t),En.utils.cfb_add(n,r,e)}En.utils.cfb_add(n,r,t)}else n.file(r,t)}function wD(n,r){switch(r.type){case"base64":return En.read(n,{type:"base64"});case"binary":return En.read(n,{type:"binary"});case"buffer":case"array":return En.read(n,{type:"buffer"})}throw new Error("Unrecognized type "+r.type)}function ib(n,r){if(n.charAt(0)=="/")return n.slice(1);var t=r.split("/");r.slice(-1)!="/"&&t.pop();for(var e=n.split("/");e.length!==0;){var s=e.shift();s===".."?t.pop():s!=="."&&t.push(s)}return t.join("/")}var _D=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,kJ=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,q7=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,CJ=/<[^>]*>/g,Ki=_D.match(q7)?q7:CJ,DJ=/<\w*:/,TJ=/<(\/?)\w+:/;function Hr(n,r,t){for(var e={},s=0,a=0;s!==n.length&&!((a=n.charCodeAt(s))===32||a===10||a===13);++s);if(r||(e[0]=n.slice(0,s)),s===n.length)return e;var i=n.match(kJ),o=0,u="",c=0,l="",d="",p=1;if(i)for(c=0;c!=i.length;++c){for(d=i[c],a=0;a!=d.length&&d.charCodeAt(a)!==61;++a);for(l=d.slice(0,a).trim();d.charCodeAt(a+1)==32;)++a;for(p=(s=d.charCodeAt(a+1))==34||s==39?1:0,u=d.slice(a+1+p,d.length-p),o=0;o!=l.length&&l.charCodeAt(o)!==58;++o);if(o===l.length)l.indexOf("_")>0&&(l=l.slice(0,l.indexOf("_"))),e[l]=u,e[l.toLowerCase()]=u;else{var h=(o===5&&l.slice(0,5)==="xmlns"?"xmlns":"")+l.slice(o+1);if(e[h]&&l.slice(o-3,o)=="ext")continue;e[h]=u,e[h.toLowerCase()]=u}}return e}function ed(n){return n.replace(TJ,"<$1")}var SD={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},jJ=Z8(SD),In=function(){var n=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,r=/_x([\da-fA-F]{4})_/ig;return function t(e){var s=e+"",a=s.indexOf("<![CDATA[");if(a==-1)return s.replace(n,function(o,u){return SD[o]||String.fromCharCode(parseInt(u,o.indexOf("x")>-1?16:10))||o}).replace(r,function(o,u){return String.fromCharCode(parseInt(u,16))});var i=s.indexOf("]]>");return t(s.slice(0,a))+s.slice(a+9,i)+t(s.slice(i+3))}}(),IJ=/[&<>'"]/g,PJ=/[\u0000-\u001f]/g;function eS(n){var r=n+"";return r.replace(IJ,function(t){return jJ[t]}).replace(/\n/g,"<br/>").replace(PJ,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}var W7=function(){var n=/&#(\d+);/g;function r(t,e){return String.fromCharCode(parseInt(e,10))}return function(e){return e.replace(n,r)}}();function Ps(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function $6(n){for(var r="",t=0,e=0,s=0,a=0,i=0,o=0;t<n.length;){if(e=n.charCodeAt(t++),e<128){r+=String.fromCharCode(e);continue}if(s=n.charCodeAt(t++),e>191&&e<224){i=(e&31)<<6,i|=s&63,r+=String.fromCharCode(i);continue}if(a=n.charCodeAt(t++),e<240){r+=String.fromCharCode((e&15)<<12|(s&63)<<6|a&63);continue}i=n.charCodeAt(t++),o=((e&7)<<18|(s&63)<<12|(a&63)<<6|i&63)-65536,r+=String.fromCharCode(55296+(o>>>10&1023)),r+=String.fromCharCode(56320+(o&1023))}return r}function z7(n){var r=Uf(2*n.length),t,e,s=1,a=0,i=0,o;for(e=0;e<n.length;e+=s)s=1,(o=n.charCodeAt(e))<128?t=o:o<224?(t=(o&31)*64+(n.charCodeAt(e+1)&63),s=2):o<240?(t=(o&15)*4096+(n.charCodeAt(e+1)&63)*64+(n.charCodeAt(e+2)&63),s=3):(s=4,t=(o&7)*262144+(n.charCodeAt(e+1)&63)*4096+(n.charCodeAt(e+2)&63)*64+(n.charCodeAt(e+3)&63),t-=65536,i=55296+(t>>>10&1023),t=56320+(t&1023)),i!==0&&(r[a++]=i&255,r[a++]=i>>>8,i=0),r[a++]=t%256,r[a++]=t>>>8;return r.slice(0,a).toString("ucs2")}function V7(n){return r0(n,"binary").toString("utf8")}var Z2="foo bar baz",ws=xn&&(V7(Z2)==$6(Z2)&&V7||z7(Z2)==$6(Z2)&&z7)||$6,ob=xn?function(n){return r0(n,"utf8").toString("binary")}:function(n){for(var r=[],t=0,e=0,s=0;t<n.length;)switch(e=n.charCodeAt(t++),!0){case e<128:r.push(String.fromCharCode(e));break;case e<2048:r.push(String.fromCharCode(192+(e>>6))),r.push(String.fromCharCode(128+(e&63)));break;case(e>=55296&&e<57344):e-=55296,s=n.charCodeAt(t++)-56320+(e<<10),r.push(String.fromCharCode(240+(s>>18&7))),r.push(String.fromCharCode(144+(s>>12&63))),r.push(String.fromCharCode(128+(s>>6&63))),r.push(String.fromCharCode(128+(s&63)));break;default:r.push(String.fromCharCode(224+(e>>12))),r.push(String.fromCharCode(128+(e>>6&63))),r.push(String.fromCharCode(128+(e&63)))}return r.join("")},Ob=function(){var n={};return function(t,e){var s=t+"|"+(e||"");return n[s]?n[s]:n[s]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",e||"")}}(),ED=function(){var n=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(r){return[new RegExp("&"+r[0]+";","ig"),r[1]]});return function(t){for(var e=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<n.length;++s)e=e.replace(n[s][0],n[s][1]);return e}}(),RJ=function(){var n={};return function(t){return n[t]!==void 0?n[t]:n[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}}(),MJ=/<\/?(?:vt:)?variant>/g,OJ=/<(?:vt:)([^>]*)>([\s\S]*)</;function $7(n,r){var t=Hr(n),e=n.match(RJ(t.baseType))||[],s=[];if(e.length!=t.size){if(r.WTF)throw new Error("unexpected vector length "+e.length+" != "+t.size);return s}return e.forEach(function(a){var i=a.replace(MJ,"").match(OJ);i&&s.push({v:ws(i[2]),t:i[1]})}),s}var LJ=/(^\s|\s$|\n)/;function FJ(n){return Xu(n).map(function(r){return" "+r+'="'+n[r]+'"'}).join("")}function BJ(n,r,t){return"<"+n+(t!=null?FJ(t):"")+(r!=null?(r.match(LJ)?' xml:space="preserve"':"")+">"+r+"</"+n:"/")+">"}function tS(n){if(xn&&Buffer.isBuffer(n))return n.toString("utf8");if(typeof n=="string")return n;if(typeof Uint8Array<"u"&&n instanceof Uint8Array)return ws(n0(K8(n)));throw new Error("Bad input format: expected Buffer or string")}var Lb=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,UJ={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},HJ=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function qJ(n,r){for(var t=1-2*(n[r+7]>>>7),e=((n[r+7]&127)<<4)+(n[r+6]>>>4&15),s=n[r+6]&15,a=5;a>=0;--a)s=s*256+n[r+a];return e==2047?s==0?t*(1/0):NaN:(e==0?e=-1022:(e-=1023,s+=Math.pow(2,52)),t*Math.pow(2,e-52)*s)}function WJ(n,r,t){var e=(r<0||1/r==-1/0?1:0)<<7,s=0,a=0,i=e?-r:r;isFinite(i)?i==0?s=a=0:(s=Math.floor(Math.log(i)/Math.LN2),a=i*Math.pow(2,52-s),s<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?s=-1022:(a-=Math.pow(2,52),s+=1023)):(s=2047,a=isNaN(r)?26985:0);for(var o=0;o<=5;++o,a/=256)n[t+o]=a&255;n[t+6]=(s&15)<<4|a&15,n[t+7]=s>>4|e}var G7=function(n){for(var r=[],t=10240,e=0;e<n[0].length;++e)if(n[0][e])for(var s=0,a=n[0][e].length;s<a;s+=t)r.push.apply(r,n[0][e].slice(s,s+t));return r},Y7=xn?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(r){return Buffer.isBuffer(r)?r:r0(r)})):G7(n)}:G7,K7=function(n,r,t){for(var e=[],s=r;s<t;s+=2)e.push(String.fromCharCode(dh(n,s)));return e.join("").replace(mo,"")},rS=xn?function(n,r,t){return Buffer.isBuffer(n)?n.toString("utf16le",r,t).replace(mo,""):K7(n,r,t)}:K7,X7=function(n,r,t){for(var e=[],s=r;s<r+t;++s)e.push(("0"+n[s].toString(16)).slice(-2));return e.join("")},ND=xn?function(n,r,t){return Buffer.isBuffer(n)?n.toString("hex",r,r+t):X7(n,r,t)}:X7,J7=function(n,r,t){for(var e=[],s=r;s<t;s++)e.push(String.fromCharCode(q0(n,s)));return e.join("")},Pv=xn?function(r,t,e){return Buffer.isBuffer(r)?r.toString("utf8",t,e):J7(r,t,e)}:J7,AD=function(n,r){var t=pl(n,r);return t>0?Pv(n,r+4,r+4+t-1):""},kD=AD,CD=function(n,r){var t=pl(n,r);return t>0?Pv(n,r+4,r+4+t-1):""},DD=CD,TD=function(n,r){var t=2*pl(n,r);return t>0?Pv(n,r+4,r+4+t-1):""},jD=TD,ID=function(r,t){var e=pl(r,t);return e>0?rS(r,t+4,t+4+e):""},PD=ID,RD=function(n,r){var t=pl(n,r);return t>0?Pv(n,r+4,r+4+t):""},MD=RD,OD=function(n,r){return qJ(n,r)},bw=OD,LD=function(r){return Array.isArray(r)||typeof Uint8Array<"u"&&r instanceof Uint8Array};xn&&(kD=function(r,t){if(!Buffer.isBuffer(r))return AD(r,t);var e=r.readUInt32LE(t);return e>0?r.toString("utf8",t+4,t+4+e-1):""},DD=function(r,t){if(!Buffer.isBuffer(r))return CD(r,t);var e=r.readUInt32LE(t);return e>0?r.toString("utf8",t+4,t+4+e-1):""},jD=function(r,t){if(!Buffer.isBuffer(r))return TD(r,t);var e=2*r.readUInt32LE(t);return r.toString("utf16le",t+4,t+4+e-1)},PD=function(r,t){if(!Buffer.isBuffer(r))return ID(r,t);var e=r.readUInt32LE(t);return r.toString("utf16le",t+4,t+4+e)},MD=function(r,t){if(!Buffer.isBuffer(r))return RD(r,t);var e=r.readUInt32LE(t);return r.toString("utf8",t+4,t+4+e)},bw=function(r,t){return Buffer.isBuffer(r)?r.readDoubleLE(t):OD(r,t)},LD=function(r){return Buffer.isBuffer(r)||Array.isArray(r)||typeof Uint8Array<"u"&&r instanceof Uint8Array});var q0=function(n,r){return n[r]},dh=function(n,r){return n[r+1]*256+n[r]},zJ=function(n,r){var t=n[r+1]*256+n[r];return t<32768?t:(65535-t+1)*-1},pl=function(n,r){return n[r+3]*(1<<24)+(n[r+2]<<16)+(n[r+1]<<8)+n[r]},Sp=function(n,r){return n[r+3]<<24|n[r+2]<<16|n[r+1]<<8|n[r]},VJ=function(n,r){return n[r]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3]};function gb(n,r){var t="",e,s,a=[],i,o,u,c;switch(r){case"dbcs":if(c=this.l,xn&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(u=0;u<n;++u)t+=String.fromCharCode(dh(this,c)),c+=2;n*=2;break;case"utf8":t=Pv(this,this.l,this.l+n);break;case"utf16le":n*=2,t=rS(this,this.l,this.l+n);break;case"wstr":return gb.call(this,n,"dbcs");case"lpstr-ansi":t=kD(this,this.l),n=4+pl(this,this.l);break;case"lpstr-cp":t=DD(this,this.l),n=4+pl(this,this.l);break;case"lpwstr":t=jD(this,this.l),n=4+2*pl(this,this.l);break;case"lpp4":n=4+pl(this,this.l),t=PD(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+pl(this,this.l),t=MD(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(i=q0(this,this.l+n++))!==0;)a.push(J2(i));t=a.join("");break;case"_wstr":for(n=0,t="";(i=dh(this,this.l+n))!==0;)a.push(J2(i)),n+=2;n+=2,t=a.join("");break;case"dbcs-cont":for(t="",c=this.l,u=0;u<n;++u){if(this.lens&&this.lens.indexOf(c)!==-1)return i=q0(this,c),this.l=c+1,o=gb.call(this,n-u,i?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(J2(dh(this,c))),c+=2}t=a.join(""),n*=2;break;case"cpstr":case"sbcs-cont":for(t="",c=this.l,u=0;u!=n;++u){if(this.lens&&this.lens.indexOf(c)!==-1)return i=q0(this,c),this.l=c+1,o=gb.call(this,n-u,i?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(J2(q0(this,c))),c+=1}t=a.join("");break;default:switch(n){case 1:return e=q0(this,this.l),this.l++,e;case 2:return e=(r==="i"?zJ:dh)(this,this.l),this.l+=2,e;case 4:case-4:return r==="i"||!(this[this.l+3]&128)?(e=(n>0?Sp:VJ)(this,this.l),this.l+=4,e):(s=pl(this,this.l),this.l+=4,s);case 8:case-8:if(r==="f")return n==8?s=bw(this,this.l):s=bw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;n=8;case 16:t=ND(this,this.l,n);break}}return this.l+=n,t}var $J=function(n,r,t){n[t]=r&255,n[t+1]=r>>>8&255,n[t+2]=r>>>16&255,n[t+3]=r>>>24&255},GJ=function(n,r,t){n[t]=r&255,n[t+1]=r>>8&255,n[t+2]=r>>16&255,n[t+3]=r>>24&255},YJ=function(n,r,t){n[t]=r&255,n[t+1]=r>>>8&255};function KJ(n,r,t){var e=0,s=0;if(t==="dbcs"){for(s=0;s!=r.length;++s)YJ(this,r.charCodeAt(s),this.l+2*s);e=2*r.length}else if(t==="sbcs"){for(r=r.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=r.length;++s)this[this.l+s]=r.charCodeAt(s)&255;e=r.length}else if(t==="hex"){for(;s<n;++s)this[this.l++]=parseInt(r.slice(2*s,2*s+2),16)||0;return this}else if(t==="utf16le"){var a=Math.min(this.l+n,this.length);for(s=0;s<Math.min(r.length,n);++s){var i=r.charCodeAt(s);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(n){case 1:e=1,this[this.l]=r&255;break;case 2:e=2,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255;break;case 3:e=3,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255,r>>>=8,this[this.l+2]=r&255;break;case 4:e=4,$J(this,r,this.l);break;case 8:if(e=8,t==="f"){WJ(this,r,this.l);break}case 16:break;case-4:e=4,GJ(this,r,this.l);break}return this.l+=e,this}function FD(n,r){var t=ND(this,this.l,n.length>>1);if(t!==n)throw new Error(r+"Expected "+n+" saw "+t);this.l+=n.length>>1}function pi(n,r){n.l=r,n.read_shift=gb,n.chk=FD,n.write_shift=KJ}function Gi(n,r){n.l+=r}function Oa(n){var r=Uf(n);return pi(r,0),r}function kh(n,r,t){if(n){var e,s,a;pi(n,n.l||0);for(var i=n.length,o=0,u=0;n.l<i;){o=n.read_shift(1),o&128&&(o=(o&127)+((n.read_shift(1)&127)<<7));var c=Sw[o]||Sw[65535];for(e=n.read_shift(1),a=e&127,s=1;s<4&&e&128;++s)a+=((e=n.read_shift(1))&127)<<7*s;u=n.l+a;var l=c.f&&c.f(n,a,t);if(n.l=u,r(l,c,o))return}}}function Q4(){var n=[],r=xn?256:2048,t=function(c){var l=Oa(c);return pi(l,0),l},e=t(r),s=function(){e&&(e.length>e.l&&(e=e.slice(0,e.l),e.l=e.length),e.length>0&&n.push(e),e=null)},a=function(c){return e&&c<e.length-e.l?e:(s(),e=t(Math.max(c+1,r)))},i=function(){return s(),Qh(n)},o=function(c){s(),e=c,e.l==null&&(e.l=e.length),a(r)};return{next:a,push:o,end:i,_bufs:n}}function bb(n,r,t){var e=mi(n);if(r.s?(e.cRel&&(e.c+=r.s.c),e.rRel&&(e.r+=r.s.r)):(e.cRel&&(e.c+=r.c),e.rRel&&(e.r+=r.r)),!t||t.biff<12){for(;e.c>=256;)e.c-=256;for(;e.r>=65536;)e.r-=65536}return e}function Z7(n,r,t){var e=mi(n);return e.s=bb(e.s,r.s,t),e.e=bb(e.e,r.s,t),e}function yb(n,r){if(n.cRel&&n.c<0)for(n=mi(n);n.c<0;)n.c+=r>8?16384:256;if(n.rRel&&n.r<0)for(n=mi(n);n.r<0;)n.r+=r>8?1048576:r>5?65536:16384;var t=Gr(n);return!n.cRel&&n.cRel!=null&&(t=ZJ(t)),!n.rRel&&n.rRel!=null&&(t=XJ(t)),t}function G6(n,r){return n.s.r==0&&!n.s.rRel&&n.e.r==(r.biff>=12?1048575:r.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+Ha(n.s.c)+":"+(n.e.cRel?"":"$")+Ha(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(r.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+gi(n.s.r)+":"+(n.e.rRel?"":"$")+gi(n.e.r):yb(n.s,r.biff)+":"+yb(n.e,r.biff)}function nS(n){return parseInt(JJ(n),10)-1}function gi(n){return""+(n+1)}function XJ(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function JJ(n){return n.replace(/\$(\d+)$/,"$1")}function sS(n){for(var r=QJ(n),t=0,e=0;e!==r.length;++e)t=26*t+r.charCodeAt(e)-64;return t-1}function Ha(n){if(n<0)throw new Error("invalid column "+n);var r="";for(++n;n;n=Math.floor((n-1)/26))r=String.fromCharCode((n-1)%26+65)+r;return r}function ZJ(n){return n.replace(/^([A-Z])/,"$$$1")}function QJ(n){return n.replace(/^\$([A-Z])/,"$1")}function eZ(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function po(n){for(var r=0,t=0,e=0;e<n.length;++e){var s=n.charCodeAt(e);s>=48&&s<=57?r=10*r+(s-48):s>=65&&s<=90&&(t=26*t+(s-64))}return{c:t-1,r:r-1}}function Gr(n){for(var r=n.c+1,t="";r;r=(r-1)/26|0)t=String.fromCharCode((r-1)%26+65)+t;return t+(n.r+1)}function mg(n){var r=n.indexOf(":");return r==-1?{s:po(n),e:po(n)}:{s:po(n.slice(0,r)),e:po(n.slice(r+1))}}function Nn(n,r){return typeof r>"u"||typeof r=="number"?Nn(n.s,n.e):(typeof n!="string"&&(n=Gr(n)),typeof r!="string"&&(r=Gr(r)),n==r?n:n+":"+r)}function ra(n){var r={s:{c:0,r:0},e:{c:0,r:0}},t=0,e=0,s=0,a=n.length;for(t=0;e<a&&!((s=n.charCodeAt(e)-64)<1||s>26);++e)t=26*t+s;for(r.s.c=--t,t=0;e<a&&!((s=n.charCodeAt(e)-48)<0||s>9);++e)t=10*t+s;if(r.s.r=--t,e===a||s!=10)return r.e.c=r.s.c,r.e.r=r.s.r,r;for(++e,t=0;e!=a&&!((s=n.charCodeAt(e)-64)<1||s>26);++e)t=26*t+s;for(r.e.c=--t,t=0;e!=a&&!((s=n.charCodeAt(e)-48)<0||s>9);++e)t=10*t+s;return r.e.r=--t,r}function Q7(n,r){var t=n.t=="d"&&r instanceof Date;if(n.z!=null)try{return n.w=Kl(n.z,t?yo(r):r)}catch{}try{return n.w=Kl((n.XF||{}).numFmtId||(t?14:0),t?yo(r):r)}catch{return""+r}}function Sh(n,r,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?i0[n.v]||n.v:r==null?Q7(n,n.v):Q7(n,r))}function Kf(n,r){var t=r&&r.sheet?r.sheet:"Sheet1",e={};return e[t]=n,{SheetNames:[t],Sheets:e}}function BD(n,r,t){var e=t||{},s=n?Array.isArray(n):e.dense,a=n||(s?[]:{}),i=0,o=0;if(a&&e.origin!=null){if(typeof e.origin=="number")i=e.origin;else{var u=typeof e.origin=="string"?po(e.origin):e.origin;i=u.r,o=u.c}a["!ref"]||(a["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var l=ra(a["!ref"]);c.s.c=l.s.c,c.s.r=l.s.r,c.e.c=Math.max(c.e.c,l.e.c),c.e.r=Math.max(c.e.r,l.e.r),i==-1&&(c.e.r=i=l.e.r+1)}for(var d=0;d!=r.length;++d)if(r[d]){if(!Array.isArray(r[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=r[d].length;++p)if(!(typeof r[d][p]>"u")){var h={v:r[d][p]},f=i+d,b=o+p;if(c.s.r>f&&(c.s.r=f),c.s.c>b&&(c.s.c=b),c.e.r<f&&(c.e.r=f),c.e.c<b&&(c.e.c=b),r[d][p]&&typeof r[d][p]=="object"&&!Array.isArray(r[d][p])&&!(r[d][p]instanceof Date))h=r[d][p];else if(Array.isArray(h.v)&&(h.f=r[d][p][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(e.nullError)h.t="e",h.v=0;else if(e.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=e.dateNF||Zr[14],e.cellDates?(h.t="d",h.w=Kl(h.z,yo(h.v))):(h.t="n",h.v=yo(h.v),h.w=Kl(h.z,h.v))):h.t="s";if(s)a[f]||(a[f]=[]),a[f][b]&&a[f][b].z&&(h.z=a[f][b].z),a[f][b]=h;else{var y=Gr({c:b,r:f});a[y]&&a[y].z&&(h.z=a[y].z),a[y]=h}}}return c.s.c<1e7&&(a["!ref"]=Nn(c)),a}function gg(n,r){return BD(null,n,r)}function tZ(n){return n.read_shift(4,"i")}function $i(n){var r=n.read_shift(4);return r===0?"":n.read_shift(r,"dbcs")}function rZ(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function aS(n,r){var t=n.l,e=n.read_shift(1),s=$i(n),a=[],i={t:s,h:s};if(e&1){for(var o=n.read_shift(4),u=0;u!=o;++u)a.push(rZ(n));i.r=a}else i.r=[{ich:0,ifnt:0}];return n.l=t+r,i}var nZ=aS;function Xl(n){var r=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:r,iStyleRef:t}}function s0(n){var r=n.read_shift(2);return r+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:r}}var sZ=$i;function iS(n){var r=n.read_shift(4);return r===0||r===4294967295?"":n.read_shift(r,"dbcs")}var aZ=$i,e8=iS;function oS(n){var r=n.slice(n.l,n.l+4),t=r[0]&1,e=r[0]&2;n.l+=4;var s=e===0?bw([0,0,0,0,r[0]&252,r[1],r[2],r[3]],0):Sp(r,0)>>2;return t?s/100:s}function UD(n){var r={s:{},e:{}};return r.s.r=n.read_shift(4),r.e.r=n.read_shift(4),r.s.c=n.read_shift(4),r.e.c=n.read_shift(4),r}var a0=UD;function Wi(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function iZ(n){var r={},t=n.read_shift(1),e=t>>>1,s=n.read_shift(1),a=n.read_shift(2,"i"),i=n.read_shift(1),o=n.read_shift(1),u=n.read_shift(1);switch(n.l++,e){case 0:r.auto=1;break;case 1:r.index=s;var c=Pm[s];c&&(r.rgb=Bb(c));break;case 2:r.rgb=Bb([i,o,u]);break;case 3:r.theme=s;break}return a!=0&&(r.tint=a>0?a/32767:a/32768),r}function oZ(n){var r=n.read_shift(1);n.l++;var t={fBold:r&1,fItalic:r&2,fUnderline:r&4,fStrikeout:r&8,fOutline:r&16,fShadow:r&32,fCondense:r&64,fExtend:r&128};return t}function HD(n,r){var t={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},e=n.read_shift(4);switch(e){case 0:return"";case 4294967295:case 4294967294:return t[n.read_shift(4)]||""}if(e>400)throw new Error("Unsupported Clipboard: "+e.toString(16));return n.l-=4,n.read_shift(0,r==1?"lpstr":"lpwstr")}function lZ(n){return HD(n,1)}function cZ(n){return HD(n,2)}var lS=2,Mo=3,Q2=11,eN=12,yw=19,ex=64,uZ=65,dZ=71,hZ=4108,fZ=4126,Qa=80,qD=81,pZ=[Qa,qD],mZ={1:{n:"CodePage",t:lS},2:{n:"Category",t:Qa},3:{n:"PresentationFormat",t:Qa},4:{n:"ByteCount",t:Mo},5:{n:"LineCount",t:Mo},6:{n:"ParagraphCount",t:Mo},7:{n:"SlideCount",t:Mo},8:{n:"NoteCount",t:Mo},9:{n:"HiddenCount",t:Mo},10:{n:"MultimediaClipCount",t:Mo},11:{n:"ScaleCrop",t:Q2},12:{n:"HeadingPairs",t:hZ},13:{n:"TitlesOfParts",t:fZ},14:{n:"Manager",t:Qa},15:{n:"Company",t:Qa},16:{n:"LinksUpToDate",t:Q2},17:{n:"CharacterCount",t:Mo},19:{n:"SharedDoc",t:Q2},22:{n:"HyperlinksChanged",t:Q2},23:{n:"AppVersion",t:Mo,p:"version"},24:{n:"DigSig",t:uZ},26:{n:"ContentType",t:Qa},27:{n:"ContentStatus",t:Qa},28:{n:"Language",t:Qa},29:{n:"Version",t:Qa},255:{},2147483648:{n:"Locale",t:yw},2147483651:{n:"Behavior",t:yw},1919054434:{}},gZ={1:{n:"CodePage",t:lS},2:{n:"Title",t:Qa},3:{n:"Subject",t:Qa},4:{n:"Author",t:Qa},5:{n:"Keywords",t:Qa},6:{n:"Comments",t:Qa},7:{n:"Template",t:Qa},8:{n:"LastAuthor",t:Qa},9:{n:"RevNumber",t:Qa},10:{n:"EditTime",t:ex},11:{n:"LastPrinted",t:ex},12:{n:"CreatedDate",t:ex},13:{n:"ModifiedDate",t:ex},14:{n:"PageCount",t:Mo},15:{n:"WordCount",t:Mo},16:{n:"CharCount",t:Mo},17:{n:"Thumbnail",t:dZ},18:{n:"Application",t:Qa},19:{n:"DocSecurity",t:Mo},255:{},2147483648:{n:"Locale",t:yw},2147483651:{n:"Behavior",t:yw},1919054434:{}},tN={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},bZ=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function yZ(n){return n.map(function(r){return[r>>16&255,r>>8&255,r&255]})}var vZ=yZ([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Pm=mi(vZ),i0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},WD={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},rN={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function xZ(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function wZ(n){var r=xZ();if(!n||!n.match)return r;var t={};if((n.match(Ki)||[]).forEach(function(e){var s=Hr(e);switch(s[0].replace(DJ,"<")){case"<?xml":break;case"<Types":r.xmlns=s["xmlns"+(s[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":t[s.Extension]=s.ContentType;break;case"<Override":r[rN[s.ContentType]]!==void 0&&r[rN[s.ContentType]].push(s.PartName);break}}),r.xmlns!==UJ.CT)throw new Error("Unknown Namespace: "+r.xmlns);return r.calcchain=r.calcchains.length>0?r.calcchains[0]:"",r.sst=r.strs.length>0?r.strs[0]:"",r.style=r.styles.length>0?r.styles[0]:"",r.defaults=t,delete r.calcchains,r}var z0={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function t8(n){var r=n.lastIndexOf("/");return n.slice(0,r+1)+"_rels/"+n.slice(r+1)+".rels"}function vb(n,r){var t={"!id":{}};if(!n)return t;r.charAt(0)!=="/"&&(r="/"+r);var e={};return(n.match(Ki)||[]).forEach(function(s){var a=Hr(s);if(a[0]==="<Relationship"){var i={};i.Type=a.Type,i.Target=a.Target,i.Id=a.Id,a.TargetMode&&(i.TargetMode=a.TargetMode);var o=a.TargetMode==="External"?a.Target:ib(a.Target,r);t[o]=i,e[a.Id]=i}}),t["!id"]=e,t}var _Z="application/vnd.oasis.opendocument.spreadsheet";function SZ(n,r){for(var t=tS(n),e,s;e=Lb.exec(t);)switch(e[3]){case"manifest":break;case"file-entry":if(s=Hr(e[0],!1),s.path=="/"&&s.type!==_Z)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(r&&r.WTF)throw e}}var xb=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],EZ=function(){for(var n=new Array(xb.length),r=0;r<xb.length;++r){var t=xb[r],e="(?:"+t[0].slice(0,t[0].indexOf(":"))+":)"+t[0].slice(t[0].indexOf(":")+1);n[r]=new RegExp("<"+e+"[^>]*>([\\s\\S]*?)</"+e+">")}return n}();function zD(n){var r={};n=ws(n);for(var t=0;t<xb.length;++t){var e=xb[t],s=n.match(EZ[t]);s!=null&&s.length>0&&(r[e[1]]=In(s[1])),e[2]==="date"&&r[e[1]]&&(r[e[1]]=ei(r[e[1]]))}return r}var NZ=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function VD(n,r,t,e){var s=[];if(typeof n=="string")s=$7(n,e);else for(var a=0;a<n.length;++a)s=s.concat(n[a].map(function(l){return{v:l}}));var i=typeof r=="string"?$7(r,e).map(function(l){return l.v}):r,o=0,u=0;if(i.length>0)for(var c=0;c!==s.length;c+=2){switch(u=+s[c+1].v,s[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":t.Worksheets=u,t.SheetNames=i.slice(o,o+u);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":t.NamedRanges=u,t.DefinedNames=i.slice(o,o+u);break;case"Charts":case"Diagramme":t.Chartsheets=u,t.ChartNames=i.slice(o,o+u);break}o+=u}}function AZ(n,r,t){var e={};return r||(r={}),n=ws(n),NZ.forEach(function(s){var a=(n.match(Ob(s[0]))||[])[1];switch(s[2]){case"string":a&&(r[s[1]]=In(a));break;case"bool":r[s[1]]=a==="true";break;case"raw":var i=n.match(new RegExp("<"+s[0]+"[^>]*>([\\s\\S]*?)</"+s[0]+">"));i&&i.length>0&&(e[s[1]]=i[1]);break}}),e.HeadingPairs&&e.TitlesOfParts&&VD(e.HeadingPairs,e.TitlesOfParts,r,t),r}var kZ=/<[^>]+>[^<]*/g;function CZ(n,r){var t={},e="",s=n.match(kZ);if(s)for(var a=0;a!=s.length;++a){var i=s[a],o=Hr(i);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":e=In(o.name);break;case"</property>":e=null;break;default:if(i.indexOf("<vt:")===0){var u=i.split(">"),c=u[0].slice(4),l=u[1];switch(c){case"lpstr":case"bstr":case"lpwstr":t[e]=In(l);break;case"bool":t[e]=Ps(l);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":t[e]=parseInt(l,10);break;case"r4":case"r8":case"decimal":t[e]=parseFloat(l);break;case"filetime":case"date":t[e]=ei(l);break;case"cy":case"error":t[e]=In(l);break;default:if(c.slice(-1)=="/")break;r.WTF&&typeof console<"u"&&console.warn("Unexpected",i,c,u)}}else if(i.slice(0,2)!=="</"){if(r.WTF)throw new Error(i)}}}return t}var DZ={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Y6;function TZ(n,r,t){Y6||(Y6=Z8(DZ)),r=Y6[r]||r,n[r]=t}function cS(n){var r=n.read_shift(4),t=n.read_shift(4);return new Date((t/1e7*Math.pow(2,32)+r/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function $D(n,r,t){var e=n.l,s=n.read_shift(0,"lpstr-cp");if(t)for(;n.l-e&3;)++n.l;return s}function GD(n,r,t){var e=n.read_shift(0,"lpwstr");return e}function YD(n,r,t){return r===31?GD(n):$D(n,r,t)}function r8(n,r,t){return YD(n,r,t===!1?0:4)}function jZ(n,r){if(!r)throw new Error("VtUnalignedString must have positive length");return YD(n,r,0)}function IZ(n){for(var r=n.read_shift(4),t=[],e=0;e!=r;++e){var s=n.l;t[e]=n.read_shift(0,"lpwstr").replace(mo,""),n.l-s&2&&(n.l+=2)}return t}function PZ(n){for(var r=n.read_shift(4),t=[],e=0;e!=r;++e)t[e]=n.read_shift(0,"lpstr-cp").replace(mo,"");return t}function RZ(n){var r=n.l,t=vw(n,qD);n[n.l]==0&&n[n.l+1]==0&&n.l-r&2&&(n.l+=2);var e=vw(n,Mo);return[t,e]}function MZ(n){for(var r=n.read_shift(4),t=[],e=0;e<r/2;++e)t.push(RZ(n));return t}function nN(n,r){for(var t=n.read_shift(4),e={},s=0;s!=t;++s){var a=n.read_shift(4),i=n.read_shift(4);e[a]=n.read_shift(i,r===1200?"utf16le":"utf8").replace(mo,"").replace(ab,"!"),r===1200&&i%2&&(n.l+=2)}return n.l&3&&(n.l=n.l>>3<<2),e}function KD(n){var r=n.read_shift(4),t=n.slice(n.l,n.l+r);return n.l+=r,(r&3)>0&&(n.l+=4-(r&3)&3),t}function OZ(n){var r={};return r.Size=n.read_shift(4),n.l+=r.Size+3-(r.Size-1)%4,r}function vw(n,r,t){var e=n.read_shift(2),s,a=t||{};if(n.l+=2,r!==eN&&e!==r&&pZ.indexOf(r)===-1&&!((r&65534)==4126&&(e&65534)==4126))throw new Error("Expected type "+r+" saw "+e);switch(r===eN?e:r){case 2:return s=n.read_shift(2,"i"),a.raw||(n.l+=2),s;case 3:return s=n.read_shift(4,"i"),s;case 11:return n.read_shift(4)!==0;case 19:return s=n.read_shift(4),s;case 30:return $D(n,e,4).replace(mo,"");case 31:return GD(n);case 64:return cS(n);case 65:return KD(n);case 71:return OZ(n);case 80:return r8(n,e,!a.raw).replace(mo,"");case 81:return jZ(n,e).replace(mo,"");case 4108:return MZ(n);case 4126:case 4127:return e==4127?IZ(n):PZ(n);default:throw new Error("TypedPropertyValue unrecognized type "+r+" "+e)}}function sN(n,r){var t=n.l,e=n.read_shift(4),s=n.read_shift(4),a=[],i=0,o=0,u=-1,c={};for(i=0;i!=s;++i){var l=n.read_shift(4),d=n.read_shift(4);a[i]=[l,d+t]}a.sort(function(x,v){return x[1]-v[1]});var p={};for(i=0;i!=s;++i){if(n.l!==a[i][1]){var h=!0;if(i>0&&r)switch(r[a[i-1][0]].t){case 2:n.l+2===a[i][1]&&(n.l+=2,h=!1);break;case 80:n.l<=a[i][1]&&(n.l=a[i][1],h=!1);break;case 4108:n.l<=a[i][1]&&(n.l=a[i][1],h=!1);break}if((!r||i==0)&&n.l<=a[i][1]&&(h=!1,n.l=a[i][1]),h)throw new Error("Read Error: Expected address "+a[i][1]+" at "+n.l+" :"+i)}if(r){var f=r[a[i][0]];if(p[f.n]=vw(n,f.t,{raw:!0}),f.p==="version"&&(p[f.n]=String(p[f.n]>>16)+"."+("0000"+String(p[f.n]&65535)).slice(-4)),f.n=="CodePage")switch(p[f.n]){case 0:p[f.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Uc(o=p[f.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+p[f.n])}}else if(a[i][0]===1){if(o=p.CodePage=vw(n,lS),Uc(o),u!==-1){var b=n.l;n.l=a[u][1],c=nN(n,o),n.l=b}}else if(a[i][0]===0){if(o===0){u=i,n.l=a[i+1][1];continue}c=nN(n,o)}else{var y=c[a[i][0]],g;switch(n[n.l]){case 65:n.l+=4,g=KD(n);break;case 30:n.l+=4,g=r8(n,n[n.l-4]).replace(/\u0000+$/,"");break;case 31:n.l+=4,g=r8(n,n[n.l-4]).replace(/\u0000+$/,"");break;case 3:n.l+=4,g=n.read_shift(4,"i");break;case 19:n.l+=4,g=n.read_shift(4);break;case 5:n.l+=4,g=n.read_shift(8,"f");break;case 11:n.l+=4,g=da(n,4);break;case 64:n.l+=4,g=ei(cS(n));break;default:throw new Error("unparsed value: "+n[n.l])}p[y]=g}}return n.l=t+e,p}function aN(n,r,t){var e=n.content;if(!e)return{};pi(e,0);var s,a,i,o,u=0;e.chk("feff","Byte Order: "),e.read_shift(2);var c=e.read_shift(4),l=e.read_shift(16);if(l!==En.utils.consts.HEADER_CLSID&&l!==t)throw new Error("Bad PropertySet CLSID "+l);if(s=e.read_shift(4),s!==1&&s!==2)throw new Error("Unrecognized #Sets: "+s);if(a=e.read_shift(16),o=e.read_shift(4),s===1&&o!==e.l)throw new Error("Length mismatch: "+o+" !== "+e.l);s===2&&(i=e.read_shift(16),u=e.read_shift(4));var d=sN(e,r),p={SystemIdentifier:c};for(var h in d)p[h]=d[h];if(p.FMTID=a,s===1)return p;if(u-e.l==2&&(e.l+=2),e.l!==u)throw new Error("Length mismatch 2: "+e.l+" !== "+u);var f;try{f=sN(e,null)}catch{}for(h in f)p[h]=f[h];return p.FMTID=[a,i],p}function $h(n,r){return n.read_shift(r),null}function LZ(n,r,t){for(var e=[],s=n.l+r;n.l<s;)e.push(t(n,s-n.l));if(s!==n.l)throw new Error("Slurp error");return e}function da(n,r){return n.read_shift(r)===1}function ka(n){return n.read_shift(2,"u")}function XD(n,r){return LZ(n,r,ka)}function FZ(n){var r=n.read_shift(1),t=n.read_shift(1);return t===1?r:r===1}function Rv(n,r,t){var e=n.read_shift(t&&t.biff>=12?2:1),s="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var a=n.read_shift(1);a&&(s="dbcs-cont")}else t.biff==12&&(s="wstr");t.biff>=2&&t.biff<=5&&(s="cpstr");var i=e?n.read_shift(e,s):"";return i}function BZ(n){var r=n.read_shift(2),t=n.read_shift(1),e=t&4,s=t&8,a=1+(t&1),i=0,o,u={};s&&(i=n.read_shift(2)),e&&(o=n.read_shift(4));var c=a==2?"dbcs-cont":"sbcs-cont",l=r===0?"":n.read_shift(r,c);return s&&(n.l+=4*i),e&&(n.l+=o),u.t=l,s||(u.raw="<t>"+u.t+"</t>",u.r=u.t),u}function Wm(n,r,t){var e;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(r,"cpstr");if(t.biff>=12)return n.read_shift(r,"dbcs-cont")}var s=n.read_shift(1);return s===0?e=n.read_shift(r,"sbcs-cont"):e=n.read_shift(r,"dbcs-cont"),e}function Mv(n,r,t){var e=n.read_shift(t&&t.biff==2?1:2);return e===0?(n.l++,""):Wm(n,e,t)}function o0(n,r,t){if(t.biff>5)return Mv(n,r,t);var e=n.read_shift(1);return e===0?(n.l++,""):n.read_shift(e,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function UZ(n){var r=n.read_shift(1);n.l++;var t=n.read_shift(2);return n.l+=2,[r,t]}function HZ(n){var r=n.read_shift(4),t=n.l,e=!1;r>24&&(n.l+=r-24,n.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(e=!0),n.l=t);var s=n.read_shift((e?r-24:r)>>1,"utf16le").replace(mo,"");return e&&(n.l+=24),s}function qZ(n){for(var r=n.read_shift(2),t="";r-- >0;)t+="../";var e=n.read_shift(0,"lpstr-ansi");if(n.l+=2,n.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var s=n.read_shift(4);if(s===0)return t+e.replace(/\\/g,"/");var a=n.read_shift(4);if(n.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=n.read_shift(a>>1,"utf16le").replace(mo,"");return t+i}function WZ(n,r){var t=n.read_shift(16);switch(t){case"e0c9ea79f9bace118c8200aa004ba90b":return HZ(n);case"0303000000000000c000000000000046":return qZ(n);default:throw new Error("Unsupported Moniker "+t)}}function tx(n){var r=n.read_shift(4),t=r>0?n.read_shift(r,"utf16le").replace(mo,""):"";return t}function zZ(n,r){var t=n.l+r,e=n.read_shift(4);if(e!==2)throw new Error("Unrecognized streamVersion: "+e);var s=n.read_shift(2);n.l+=2;var a,i,o,u,c="",l,d;s&16&&(a=tx(n,t-n.l)),s&128&&(i=tx(n,t-n.l)),(s&257)===257&&(o=tx(n,t-n.l)),(s&257)===1&&(u=WZ(n,t-n.l)),s&8&&(c=tx(n,t-n.l)),s&32&&(l=n.read_shift(16)),s&64&&(d=cS(n)),n.l=t;var p=i||o||u||"";p&&c&&(p+="#"+c),p||(p="#"+c),s&2&&p.charAt(0)=="/"&&p.charAt(1)!="/"&&(p="file://"+p);var h={Target:p};return l&&(h.guid=l),d&&(h.time=d),a&&(h.Tooltip=a),h}function JD(n){var r=n.read_shift(1),t=n.read_shift(1),e=n.read_shift(1),s=n.read_shift(1);return[r,t,e,s]}function ZD(n,r){var t=JD(n);return t[3]=0,t}function td(n){var r=n.read_shift(2),t=n.read_shift(2),e=n.read_shift(2);return{r,c:t,ixfe:e}}function VZ(n){var r=n.read_shift(2),t=n.read_shift(2);return n.l+=8,{type:r,flags:t}}function $Z(n,r,t){return r===0?"":o0(n,r,t)}function GZ(n,r,t){var e=t.biff>8?4:2,s=n.read_shift(e),a=n.read_shift(e,"i"),i=n.read_shift(e,"i");return[s,a,i]}function QD(n){var r=n.read_shift(2),t=oS(n);return[r,t]}function YZ(n,r,t){n.l+=4,r-=4;var e=n.l+r,s=Rv(n,r,t),a=n.read_shift(2);if(e-=n.l,a!==e)throw new Error("Malformed AddinUdf: padding = "+e+" != "+a);return n.l+=a,s}function E5(n){var r=n.read_shift(2),t=n.read_shift(2),e=n.read_shift(2),s=n.read_shift(2);return{s:{c:e,r},e:{c:s,r:t}}}function eT(n){var r=n.read_shift(2),t=n.read_shift(2),e=n.read_shift(1),s=n.read_shift(1);return{s:{c:e,r},e:{c:s,r:t}}}var KZ=eT;function tT(n){n.l+=4;var r=n.read_shift(2),t=n.read_shift(2),e=n.read_shift(2);return n.l+=12,[t,r,e]}function XZ(n){var r={};return n.l+=4,n.l+=16,r.fSharedNote=n.read_shift(2),n.l+=4,r}function JZ(n){var r={};return n.l+=4,n.cf=n.read_shift(2),r}function Mi(n){n.l+=2,n.l+=n.read_shift(2)}var ZZ={0:Mi,4:Mi,5:Mi,6:Mi,7:JZ,8:Mi,9:Mi,10:Mi,11:Mi,12:Mi,13:XZ,14:Mi,15:Mi,16:Mi,17:Mi,18:Mi,19:Mi,20:Mi,21:tT};function QZ(n,r){for(var t=n.l+r,e=[];n.l<t;){var s=n.read_shift(2);n.l-=2;try{e.push(ZZ[s](n,t-n.l))}catch{return n.l=t,e}}return n.l!=t&&(n.l=t),e}function rx(n,r){var t={BIFFVer:0,dt:0};switch(t.BIFFVer=n.read_shift(2),r-=2,r>=2&&(t.dt=n.read_shift(2),n.l-=2),t.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(r>6)throw new Error("Unexpected BIFF Ver "+t.BIFFVer)}return n.read_shift(r),t}function eQ(n,r){return r===0||n.read_shift(2),1200}function tQ(n,r,t){if(t.enc)return n.l+=r,"";var e=n.l,s=o0(n,0,t);return n.read_shift(r+e-n.l),s}function rQ(n,r,t){var e=t&&t.biff==8||r==2?n.read_shift(2):(n.l+=r,0);return{fDialog:e&16,fBelow:e&64,fRight:e&128}}function nQ(n,r,t){var e=n.read_shift(4),s=n.read_shift(1)&3,a=n.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var i=Rv(n,0,t);return i.length===0&&(i="Sheet1"),{pos:e,hs:s,dt:a,name:i}}function sQ(n,r){for(var t=n.l+r,e=n.read_shift(4),s=n.read_shift(4),a=[],i=0;i!=s&&n.l<t;++i)a.push(BZ(n));return a.Count=e,a.Unique=s,a}function aQ(n,r){var t={};return t.dsst=n.read_shift(2),n.l+=r-2,t}function iQ(n){var r={};r.r=n.read_shift(2),r.c=n.read_shift(2),r.cnt=n.read_shift(2)-r.c;var t=n.read_shift(2);n.l+=4;var e=n.read_shift(1);return n.l+=3,e&7&&(r.level=e&7),e&32&&(r.hidden=!0),e&64&&(r.hpt=t/20),r}function oQ(n){var r=VZ(n);if(r.type!=2211)throw new Error("Invalid Future Record "+r.type);var t=n.read_shift(4);return t!==0}function lQ(n){return n.read_shift(2),n.read_shift(4)}function iN(n,r,t){var e=0;t&&t.biff==2||(e=n.read_shift(2));var s=n.read_shift(2);t&&t.biff==2&&(e=1-(s>>15),s&=32767);var a={Unsynced:e&1,DyZero:(e&2)>>1,ExAsc:(e&4)>>2,ExDsc:(e&8)>>3};return[a,s]}function cQ(n){var r=n.read_shift(2),t=n.read_shift(2),e=n.read_shift(2),s=n.read_shift(2),a=n.read_shift(2),i=n.read_shift(2),o=n.read_shift(2),u=n.read_shift(2),c=n.read_shift(2);return{Pos:[r,t],Dim:[e,s],Flags:a,CurTab:i,FirstTab:o,Selected:u,TabRatio:c}}function uQ(n,r,t){if(t&&t.biff>=2&&t.biff<5)return{};var e=n.read_shift(2);return{RTL:e&64}}function dQ(){}function hQ(n,r,t){var e={dyHeight:n.read_shift(2),fl:n.read_shift(2)};switch(t&&t.biff||8){case 2:break;case 3:case 4:n.l+=2;break;default:n.l+=10;break}return e.name=Rv(n,0,t),e}function fQ(n){var r=td(n);return r.isst=n.read_shift(4),r}function pQ(n,r,t){t.biffguess&&t.biff==2&&(t.biff=5);var e=n.l+r,s=td(n);t.biff==2&&n.l++;var a=Mv(n,e-n.l,t);return s.val=a,s}function mQ(n,r,t){var e=n.read_shift(2),s=o0(n,0,t);return[e,s]}var gQ=o0;function oN(n,r,t){var e=n.l+r,s=t.biff==8||!t.biff?4:2,a=n.read_shift(s),i=n.read_shift(s),o=n.read_shift(2),u=n.read_shift(2);return n.l=e,{s:{r:a,c:o},e:{r:i,c:u}}}function bQ(n){var r=n.read_shift(2),t=n.read_shift(2),e=QD(n);return{r,c:t,ixfe:e[0],rknum:e[1]}}function yQ(n,r){for(var t=n.l+r-2,e=n.read_shift(2),s=n.read_shift(2),a=[];n.l<t;)a.push(QD(n));if(n.l!==t)throw new Error("MulRK read error");var i=n.read_shift(2);if(a.length!=i-s+1)throw new Error("MulRK length mismatch");return{r:e,c:s,C:i,rkrec:a}}function vQ(n,r){for(var t=n.l+r-2,e=n.read_shift(2),s=n.read_shift(2),a=[];n.l<t;)a.push(n.read_shift(2));if(n.l!==t)throw new Error("MulBlank read error");var i=n.read_shift(2);if(a.length!=i-s+1)throw new Error("MulBlank length mismatch");return{r:e,c:s,C:i,ixfe:a}}function xQ(n,r,t,e){var s={},a=n.read_shift(4),i=n.read_shift(4),o=n.read_shift(4),u=n.read_shift(2);return s.patternType=bZ[o>>26],e.cellStyles&&(s.alc=a&7,s.fWrap=a>>3&1,s.alcV=a>>4&7,s.fJustLast=a>>7&1,s.trot=a>>8&255,s.cIndent=a>>16&15,s.fShrinkToFit=a>>20&1,s.iReadOrder=a>>22&2,s.fAtrNum=a>>26&1,s.fAtrFnt=a>>27&1,s.fAtrAlc=a>>28&1,s.fAtrBdr=a>>29&1,s.fAtrPat=a>>30&1,s.fAtrProt=a>>31&1,s.dgLeft=i&15,s.dgRight=i>>4&15,s.dgTop=i>>8&15,s.dgBottom=i>>12&15,s.icvLeft=i>>16&127,s.icvRight=i>>23&127,s.grbitDiag=i>>30&3,s.icvTop=o&127,s.icvBottom=o>>7&127,s.icvDiag=o>>14&127,s.dgDiag=o>>21&15,s.icvFore=u&127,s.icvBack=u>>7&127,s.fsxButton=u>>14&1),s}function wQ(n,r,t){var e={};return e.ifnt=n.read_shift(2),e.numFmtId=n.read_shift(2),e.flags=n.read_shift(2),e.fStyle=e.flags>>2&1,r-=6,e.data=xQ(n,r,e.fStyle,t),e}function _Q(n){n.l+=4;var r=[n.read_shift(2),n.read_shift(2)];if(r[0]!==0&&r[0]--,r[1]!==0&&r[1]--,r[0]>7||r[1]>7)throw new Error("Bad Gutters: "+r.join("|"));return r}function lN(n,r,t){var e=td(n);(t.biff==2||r==9)&&++n.l;var s=FZ(n);return e.val=s,e.t=s===!0||s===!1?"b":"e",e}function SQ(n,r,t){t.biffguess&&t.biff==2&&(t.biff=5);var e=td(n),s=Wi(n);return e.val=s,e}var cN=$Z;function EQ(n,r,t){var e=n.l+r,s=n.read_shift(2),a=n.read_shift(2);if(t.sbcch=a,a==1025||a==14849)return[a,s];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var i=Wm(n,a),o=[];e>n.l;)o.push(Mv(n));return[a,s,i,o]}function uN(n,r,t){var e=n.read_shift(2),s,a={fBuiltIn:e&1,fWantAdvise:e>>>1&1,fWantPict:e>>>2&1,fOle:e>>>3&1,fOleLink:e>>>4&1,cf:e>>>5&1023,fIcon:e>>>15&1};return t.sbcch===14849&&(s=YZ(n,r-2,t)),a.body=s||n.read_shift(r-2),typeof s=="string"&&(a.Name=s),a}var NQ=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function dN(n,r,t){var e=n.l+r,s=n.read_shift(2),a=n.read_shift(1),i=n.read_shift(1),o=n.read_shift(t&&t.biff==2?1:2),u=0;(!t||t.biff>=5)&&(t.biff!=5&&(n.l+=2),u=n.read_shift(2),t.biff==5&&(n.l+=2),n.l+=4);var c=Wm(n,i,t);s&32&&(c=NQ[c.charCodeAt(0)]);var l=e-n.l;t&&t.biff==2&&--l;var d=e==n.l||o===0||!(l>0)?[]:ine(n,l,t,o);return{chKey:a,Name:c,itab:u,rgce:d}}function rT(n,r,t){if(t.biff<8)return AQ(n,r,t);for(var e=[],s=n.l+r,a=n.read_shift(t.biff>8?4:2);a--!==0;)e.push(GZ(n,t.biff>8?12:6,t));if(n.l!=s)throw new Error("Bad ExternSheet: "+n.l+" != "+s);return e}function AQ(n,r,t){n[n.l+1]==3&&n[n.l]++;var e=Rv(n,r,t);return e.charCodeAt(0)==3?e.slice(1):e}function kQ(n,r,t){if(t.biff<8){n.l+=r;return}var e=n.read_shift(2),s=n.read_shift(2),a=Wm(n,e,t),i=Wm(n,s,t);return[a,i]}function CQ(n,r,t){var e=eT(n);n.l++;var s=n.read_shift(1);return r-=8,[one(n,r,t),s,e]}function hN(n,r,t){var e=KZ(n);switch(t.biff){case 2:n.l++,r-=7;break;case 3:case 4:n.l+=2,r-=8;break;default:n.l+=6,r-=12}return[e,sne(n,r,t)]}function DQ(n){var r=n.read_shift(4)!==0,t=n.read_shift(4)!==0,e=n.read_shift(4);return[r,t,e]}function TQ(n,r,t){if(!(t.biff<8)){var e=n.read_shift(2),s=n.read_shift(2),a=n.read_shift(2),i=n.read_shift(2),o=o0(n,0,t);return t.biff<8&&n.read_shift(1),[{r:e,c:s},o,i,a]}}function jQ(n,r,t){return TQ(n,r,t)}function IQ(n,r){for(var t=[],e=n.read_shift(2);e--;)t.push(E5(n));return t}function PQ(n,r,t){if(t&&t.biff<8)return MQ(n,r,t);var e=tT(n),s=QZ(n,r-22,e[1]);return{cmo:e,ft:s}}var RQ={8:function(n,r){var t=n.l+r;n.l+=10;var e=n.read_shift(2);n.l+=4,n.l+=2,n.l+=2,n.l+=2,n.l+=4;var s=n.read_shift(1);return n.l+=s,n.l=t,{fmt:e}}};function MQ(n,r,t){n.l+=4;var e=n.read_shift(2),s=n.read_shift(2),a=n.read_shift(2);n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=6,r-=36;var i=[];return i.push((RQ[e]||Gi)(n,r,t)),{cmo:[s,e,a],ft:i}}function OQ(n,r,t){var e=n.l,s="";try{n.l+=4;var a=(t.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(a)==-1?n.l+=6:i=UZ(n,6,t);var o=n.read_shift(2);n.read_shift(2),ka(n,2);var u=n.read_shift(2);n.l+=u;for(var c=1;c<n.lens.length-1;++c){if(n.l-e!=n.lens[c])throw new Error("TxO: bad continue record");var l=n[n.l],d=Wm(n,n.lens[c+1]-n.lens[c]-1);if(s+=d,s.length>=(l?o:2*o))break}if(s.length!==o&&s.length!==o*2)throw new Error("cchText: "+o+" != "+s.length);return n.l=e+r,{t:s}}catch{return n.l=e+r,{t:s}}}function LQ(n,r){var t=E5(n);n.l+=16;var e=zZ(n,r-24);return[t,e]}function FQ(n,r){n.read_shift(2);var t=E5(n),e=n.read_shift((r-10)/2,"dbcs-cont");return e=e.replace(mo,""),[t,e]}function BQ(n){var r=[0,0],t;return t=n.read_shift(2),r[0]=tN[t]||t,t=n.read_shift(2),r[1]=tN[t]||t,r}function UQ(n){for(var r=n.read_shift(2),t=[];r-- >0;)t.push(ZD(n));return t}function HQ(n){for(var r=n.read_shift(2),t=[];r-- >0;)t.push(ZD(n));return t}function qQ(n){n.l+=2;var r={cxfs:0,crc:0};return r.cxfs=n.read_shift(2),r.crc=n.read_shift(4),r}function nT(n,r,t){if(!t.cellStyles)return Gi(n,r);var e=t&&t.biff>=12?4:2,s=n.read_shift(e),a=n.read_shift(e),i=n.read_shift(e),o=n.read_shift(e),u=n.read_shift(2);e==2&&(n.l+=2);var c={s,e:a,w:i,ixfe:o,flags:u};return(t.biff>=5||!t.biff)&&(c.level=u>>8&7),c}function WQ(n,r){var t={};return r<32||(n.l+=16,t.header=Wi(n),t.footer=Wi(n),n.l+=2),t}function zQ(n,r,t){var e={area:!1};if(t.biff!=5)return n.l+=r,e;var s=n.read_shift(1);return n.l+=3,s&16&&(e.area=!0),e}var VQ=td,$Q=XD,GQ=Mv;function YQ(n){var r=n.read_shift(2),t=n.read_shift(2),e=n.read_shift(4),s={fmt:r,env:t,len:e,data:n.slice(n.l,n.l+e)};return n.l+=e,s}function KQ(n,r,t){t.biffguess&&t.biff==5&&(t.biff=2);var e=td(n);++n.l;var s=o0(n,r-7,t);return e.t="str",e.val=s,e}function XQ(n){var r=td(n);++n.l;var t=Wi(n);return r.t="n",r.val=t,r}function JQ(n){var r=td(n);++n.l;var t=n.read_shift(2);return r.t="n",r.val=t,r}function ZQ(n){var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,"sbcs-cont")}function QQ(n,r){n.l+=6,n.l+=2,n.l+=1,n.l+=3,n.l+=1,n.l+=r-13}function eee(n,r,t){var e=n.l+r,s=td(n),a=n.read_shift(2),i=Wm(n,a,t);return n.l=e,s.t="str",s.val=i,s}var tee=[2,3,48,49,131,139,140,245],fN=function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},r=Z8({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(o,u){var c=[],l=Uf(1);switch(u.type){case"base64":l=Bc(vl(o));break;case"binary":l=Bc(o);break;case"buffer":case"array":l=o;break}pi(l,0);var d=l.read_shift(1),p=!!(d&136),h=!1,f=!1;switch(d){case 2:break;case 3:break;case 48:h=!0,p=!0;break;case 49:h=!0,p=!0;break;case 131:break;case 139:break;case 140:f=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var b=0,y=521;d==2&&(b=l.read_shift(2)),l.l+=3,d!=2&&(b=l.read_shift(4)),b>1048576&&(b=1e6),d!=2&&(y=l.read_shift(2));var g=l.read_shift(2),x=u.codepage||1252;d!=2&&(l.l+=16,l.read_shift(1),l[l.l]!==0&&(x=n[l[l.l]]),l.l+=1,l.l+=2),f&&(l.l+=36);for(var v=[],w={},S=Math.min(l.length,d==2?521:y-10-(h?264:0)),D=f?32:11;l.l<S&&l[l.l]!=13;)switch(w={},w.name=Zh.utils.decode(x,l.slice(l.l,l.l+D)).replace(/[\u0000\r\n].*$/g,""),l.l+=D,w.type=String.fromCharCode(l.read_shift(1)),d!=2&&!f&&(w.offset=l.read_shift(4)),w.len=l.read_shift(1),d==2&&(w.offset=l.read_shift(2)),w.dec=l.read_shift(1),w.name.length&&v.push(w),d!=2&&(l.l+=f?13:14),w.type){case"B":(!h||w.len!=8)&&u.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+w.type)}if(l[l.l]!==13&&(l.l=y-1),l.read_shift(1)!==13)throw new Error("DBF Terminator not found "+l.l+" "+l[l.l]);l.l=y;var T=0,R=0;for(c[0]=[],R=0;R!=v.length;++R)c[0][R]=v[R].name;for(;b-- >0;){if(l[l.l]===42){l.l+=g;continue}for(++l.l,c[++T]=[],R=0,R=0;R!=v.length;++R){var P=l.slice(l.l,l.l+v[R].len);l.l+=v[R].len,pi(P,0);var L=Zh.utils.decode(x,P);switch(v[R].type){case"C":L.trim().length&&(c[T][R]=L.replace(/\s+$/,""));break;case"D":L.length===8?c[T][R]=new Date(+L.slice(0,4),+L.slice(4,6)-1,+L.slice(6,8)):c[T][R]=L;break;case"F":c[T][R]=parseFloat(L.trim());break;case"+":case"I":c[T][R]=f?P.read_shift(-4,"i")^2147483648:P.read_shift(4,"i");break;case"L":switch(L.trim().toUpperCase()){case"Y":case"T":c[T][R]=!0;break;case"N":case"F":c[T][R]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+L+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));c[T][R]="##MEMO##"+(f?parseInt(L.trim(),10):P.read_shift(4));break;case"N":L=L.replace(/\u0000/g,"").trim(),L&&L!="."&&(c[T][R]=+L||0);break;case"@":c[T][R]=new Date(P.read_shift(-8,"f")-621356832e5);break;case"T":c[T][R]=new Date((P.read_shift(4)-2440588)*864e5+P.read_shift(4));break;case"Y":c[T][R]=P.read_shift(4,"i")/1e4+P.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[T][R]=-P.read_shift(-8,"f");break;case"B":if(h&&v[R].len==8){c[T][R]=P.read_shift(8,"f");break}case"G":case"P":P.l+=v[R].len;break;case"0":if(v[R].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+v[R].type)}}}if(d!=2&&l.l<l.length&&l[l.l++]!=26)throw new Error("DBF EOF Marker missing "+(l.l-1)+" of "+l.length+" "+l[l.l-1].toString(16));return u&&u.sheetRows&&(c=c.slice(0,u.sheetRows)),u.DBF=v,c}function e(o,u){var c=u||{};c.dateNF||(c.dateNF="yyyymmdd");var l=gg(t(o,c),c);return l["!cols"]=c.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete c.DBF,l}function s(o,u){try{return Kf(e(o,u),u)}catch(c){if(u&&u.WTF)throw c}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function i(o,u){var c=u||{};if(+c.codepage>=0&&Uc(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var l=Q4(),d=l8(o,{header:1,raw:!0,cellDates:!0}),p=d[0],h=d.slice(1),f=o["!cols"]||[],b=0,y=0,g=0,x=1;for(b=0;b<p.length;++b){if(((f[b]||{}).DBF||{}).name){p[b]=f[b].DBF.name,++g;continue}if(p[b]!=null){if(++g,typeof p[b]=="number"&&(p[b]=p[b].toString(10)),typeof p[b]!="string")throw new Error("DBF Invalid column name "+p[b]+" |"+typeof p[b]+"|");if(p.indexOf(p[b])!==b){for(y=0;y<1024;++y)if(p.indexOf(p[b]+"_"+y)==-1){p[b]+="_"+y;break}}}}var v=ra(o["!ref"]),w=[],S=[],D=[];for(b=0;b<=v.e.c-v.s.c;++b){var T="",R="",P=0,L=[];for(y=0;y<h.length;++y)h[y][b]!=null&&L.push(h[y][b]);if(L.length==0||p[b]==null){w[b]="?";continue}for(y=0;y<L.length;++y){switch(typeof L[y]){case"number":R="B";break;case"string":R="C";break;case"boolean":R="L";break;case"object":R=L[y]instanceof Date?"D":"C";break;default:R="C"}P=Math.max(P,String(L[y]).length),T=T&&T!=R?"C":R}P>250&&(P=250),R=((f[b]||{}).DBF||{}).type,R=="C"&&f[b].DBF.len>P&&(P=f[b].DBF.len),T=="B"&&R=="N"&&(T="N",D[b]=f[b].DBF.dec,P=f[b].DBF.len),S[b]=T=="C"||R=="N"?P:a[T]||0,x+=S[b],w[b]=T}var O=l.next(32);for(O.write_shift(4,318902576),O.write_shift(4,h.length),O.write_shift(2,296+32*g),O.write_shift(2,x),b=0;b<4;++b)O.write_shift(4,0);for(O.write_shift(4,0|(+r[rD]||3)<<8),b=0,y=0;b<p.length;++b)if(p[b]!=null){var H=l.next(32),U=(p[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);H.write_shift(1,U,"sbcs"),H.write_shift(1,w[b]=="?"?"C":w[b],"sbcs"),H.write_shift(4,y),H.write_shift(1,S[b]||a[w[b]]||0),H.write_shift(1,D[b]||0),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(1,0),H.write_shift(4,0),H.write_shift(4,0),y+=S[b]||a[w[b]]||0}var I=l.next(264);for(I.write_shift(4,13),b=0;b<65;++b)I.write_shift(4,0);for(b=0;b<h.length;++b){var F=l.next(x);for(F.write_shift(1,0),y=0;y<p.length;++y)if(p[y]!=null)switch(w[y]){case"L":F.write_shift(1,h[b][y]==null?63:h[b][y]?84:70);break;case"B":F.write_shift(8,h[b][y]||0,"f");break;case"N":var A="0";for(typeof h[b][y]=="number"&&(A=h[b][y].toFixed(D[y]||0)),g=0;g<S[y]-A.length;++g)F.write_shift(1,32);F.write_shift(1,A,"sbcs");break;case"D":h[b][y]?(F.write_shift(4,("0000"+h[b][y].getFullYear()).slice(-4),"sbcs"),F.write_shift(2,("00"+(h[b][y].getMonth()+1)).slice(-2),"sbcs"),F.write_shift(2,("00"+h[b][y].getDate()).slice(-2),"sbcs")):F.write_shift(8,"00000000","sbcs");break;case"C":var _=String(h[b][y]!=null?h[b][y]:"").slice(0,S[y]);for(F.write_shift(1,_,"sbcs"),g=0;g<S[y]-_.length;++g)F.write_shift(1,32);break}}return l.next(1).write_shift(1,26),l.end()}return{to_workbook:s,to_sheet:e,from_sheet:i}}(),ree=function(){var n={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},r=new RegExp("\x1BN("+Xu(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(p,h){var f=n[h];return typeof f=="number"?D7(f):f},e=function(p,h,f){var b=h.charCodeAt(0)-32<<4|f.charCodeAt(0)-48;return b==59?p:D7(b)};n["|"]=254;function s(p,h){switch(h.type){case"base64":return a(vl(p),h);case"binary":return a(p,h);case"buffer":return a(xn&&Buffer.isBuffer(p)?p.toString("binary"):n0(p),h);case"array":return a(qm(p),h)}throw new Error("Unrecognized type "+h.type)}function a(p,h){var f=p.split(/[\n\r]+/),b=-1,y=-1,g=0,x=0,v=[],w=[],S=null,D={},T=[],R=[],P=[],L=0,O;for(+h.codepage>=0&&Uc(+h.codepage);g!==f.length;++g){L=0;var H=f[g].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,e).replace(r,t),U=H.replace(/;;/g,"\0").split(";").map(function(Y){return Y.replace(/\u0000/g,";")}),I=U[0],F;if(H.length>0)switch(I){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&w.push(H.slice(3).replace(/;;/g,";"));break;case"C":var A=!1,_=!1,E=!1,N=!1,k=-1,B=-1;for(x=1;x<U.length;++x)switch(U[x].charAt(0)){case"A":break;case"X":y=parseInt(U[x].slice(1))-1,_=!0;break;case"Y":for(b=parseInt(U[x].slice(1))-1,_||(y=0),O=v.length;O<=b;++O)v[O]=[];break;case"K":F=U[x].slice(1),F.charAt(0)==='"'?F=F.slice(1,F.length-1):F==="TRUE"?F=!0:F==="FALSE"?F=!1:isNaN(qc(F))?isNaN(ig(F).getDate())||(F=ei(F)):(F=qc(F),S!==null&&pg(S)&&(F=S5(F))),A=!0;break;case"E":N=!0;var j=e1(U[x].slice(1),{r:b,c:y});v[b][y]=[v[b][y],j];break;case"S":E=!0,v[b][y]=[v[b][y],"S5S"];break;case"G":break;case"R":k=parseInt(U[x].slice(1))-1;break;case"C":B=parseInt(U[x].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+H)}if(A&&(v[b][y]&&v[b][y].length==2?v[b][y][0]=F:v[b][y]=F,S=null),E){if(N)throw new Error("SYLK shared formula cannot have own formula");var M=k>-1&&v[k][B];if(!M||!M[1])throw new Error("SYLK shared formula cannot find base");v[b][y][1]=fT(M[1],{r:b-k,c:y-B})}break;case"F":var G=0;for(x=1;x<U.length;++x)switch(U[x].charAt(0)){case"X":y=parseInt(U[x].slice(1))-1,++G;break;case"Y":for(b=parseInt(U[x].slice(1))-1,O=v.length;O<=b;++O)v[O]=[];break;case"M":L=parseInt(U[x].slice(1))/20;break;case"F":break;case"G":break;case"P":S=w[parseInt(U[x].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(P=U[x].slice(1).split(" "),O=parseInt(P[0],10);O<=parseInt(P[1],10);++O)L=parseInt(P[2],10),R[O-1]=L===0?{hidden:!0}:{wch:L},og(R[O-1]);break;case"C":y=parseInt(U[x].slice(1))-1,R[y]||(R[y]={});break;case"R":b=parseInt(U[x].slice(1))-1,T[b]||(T[b]={}),L>0?(T[b].hpt=L,T[b].hpx=Ub(L)):L===0&&(T[b].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+H)}G<1&&(S=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+H)}}return T.length>0&&(D["!rows"]=T),R.length>0&&(D["!cols"]=R),h&&h.sheetRows&&(v=v.slice(0,h.sheetRows)),[v,D]}function i(p,h){var f=s(p,h),b=f[0],y=f[1],g=gg(b,h);return Xu(y).forEach(function(x){g[x]=y[x]}),g}function o(p,h){return Kf(i(p,h),h)}function u(p,h,f,b){var y="C;Y"+(f+1)+";X"+(b+1)+";K";switch(p.t){case"n":y+=p.v||0,p.f&&!p.F&&(y+=";E"+qte(p.f,{r:f,c:b}));break;case"b":y+=p.v?"TRUE":"FALSE";break;case"e":y+=p.w||p.v;break;case"d":y+='"'+(p.w||p.v)+'"';break;case"s":y+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function c(p,h){h.forEach(function(f,b){var y="F;W"+(b+1)+" "+(b+1)+" ";f.hidden?y+="0":(typeof f.width=="number"&&!f.wpx&&(f.wpx=ww(f.width)),typeof f.wpx=="number"&&!f.wch&&(f.wch=_w(f.wpx)),typeof f.wch=="number"&&(y+=Math.round(f.wch))),y.charAt(y.length-1)!=" "&&p.push(y)})}function l(p,h){h.forEach(function(f,b){var y="F;";f.hidden?y+="M0;":f.hpt?y+="M"+20*f.hpt+";":f.hpx&&(y+="M"+20*uT(f.hpx)+";"),y.length>2&&p.push(y+"R"+(b+1))})}function d(p,h){var f=["ID;PWXL;N;E"],b=[],y=ra(p["!ref"]),g,x=Array.isArray(p),v=`\r
`;f.push("P;PGeneral"),f.push("F;P0;DG0G8;M255"),p["!cols"]&&c(f,p["!cols"]),p["!rows"]&&l(f,p["!rows"]),f.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var w=y.s.r;w<=y.e.r;++w)for(var S=y.s.c;S<=y.e.c;++S){var D=Gr({r:w,c:S});g=x?(p[w]||[])[S]:p[D],!(!g||g.v==null&&(!g.f||g.F))&&b.push(u(g,p,w,S))}return f.join(v)+v+b.join(v)+v+"E"+v}return{to_workbook:o,to_sheet:i,from_sheet:d}}(),nee=function(){function n(a,i){switch(i.type){case"base64":return r(vl(a),i);case"binary":return r(a,i);case"buffer":return r(xn&&Buffer.isBuffer(a)?a.toString("binary"):n0(a),i);case"array":return r(qm(a),i)}throw new Error("Unrecognized type "+i.type)}function r(a,i){for(var o=a.split(`
`),u=-1,c=-1,l=0,d=[];l!==o.length;++l){if(o[l].trim()==="BOT"){d[++u]=[],c=0;continue}if(!(u<0)){var p=o[l].trim().split(","),h=p[0],f=p[1];++l;for(var b=o[l]||"";(b.match(/["]/g)||[]).length&1&&l<o.length-1;)b+=`
`+o[++l];switch(b=b.trim(),+h){case-1:if(b==="BOT"){d[++u]=[],c=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?d[u][c]=!0:b==="FALSE"?d[u][c]=!1:isNaN(qc(f))?isNaN(ig(f).getDate())?d[u][c]=f:d[u][c]=ei(f):d[u][c]=qc(f),++c;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),d[u][c++]=b!==""?b:null;break}if(b==="EOD")break}}return i&&i.sheetRows&&(d=d.slice(0,i.sheetRows)),d}function t(a,i){return gg(n(a,i),i)}function e(a,i){return Kf(t(a,i),i)}var s=function(){var a=function(u,c,l,d,p){u.push(c),u.push(l+","+d),u.push('"'+p.replace(/"/g,'""')+'"')},i=function(u,c,l,d){u.push(c+","+l),u.push(c==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(u){var c=[],l=ra(u["!ref"]),d,p=Array.isArray(u);a(c,"TABLE",0,1,"sheetjs"),a(c,"VECTORS",0,l.e.r-l.s.r+1,""),a(c,"TUPLES",0,l.e.c-l.s.c+1,""),a(c,"DATA",0,0,"");for(var h=l.s.r;h<=l.e.r;++h){i(c,-1,0,"BOT");for(var f=l.s.c;f<=l.e.c;++f){var b=Gr({r:h,c:f});if(d=p?(u[h]||[])[f]:u[b],!d){i(c,1,0,"");continue}switch(d.t){case"n":var y=d.w;!y&&d.v!=null&&(y=d.v),y==null?d.f&&!d.F?i(c,1,0,"="+d.f):i(c,1,0,""):i(c,0,y,"V");break;case"b":i(c,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":i(c,1,0,isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=Kl(d.z||Zr[14],yo(ei(d.v)))),i(c,0,d.w,"V");break;default:i(c,1,0,"")}}}i(c,-1,0,"EOD");var g=`\r
`,x=c.join(g);return x}}();return{to_workbook:e,to_sheet:t,from_sheet:s}}(),see=function(){function n(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function r(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(d,p){for(var h=d.split(`
`),f=-1,b=-1,y=0,g=[];y!==h.length;++y){var x=h[y].trim().split(":");if(x[0]==="cell"){var v=po(x[1]);if(g.length<=v.r)for(f=g.length;f<=v.r;++f)g[f]||(g[f]=[]);switch(f=v.r,b=v.c,x[2]){case"t":g[f][b]=n(x[3]);break;case"v":g[f][b]=+x[3];break;case"vtf":var w=x[x.length-1];case"vtc":switch(x[3]){case"nl":g[f][b]=!!+x[4];break;default:g[f][b]=+x[4];break}x[2]=="vtf"&&(g[f][b]=[g[f][b],w])}}}return p&&p.sheetRows&&(g=g.slice(0,p.sheetRows)),g}function e(d,p){return gg(t(d,p),p)}function s(d,p){return Kf(e(d,p),p)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function c(d){if(!d||!d["!ref"])return"";for(var p=[],h=[],f,b="",y=mg(d["!ref"]),g=Array.isArray(d),x=y.s.r;x<=y.e.r;++x)for(var v=y.s.c;v<=y.e.c;++v)if(b=Gr({r:x,c:v}),f=g?(d[x]||[])[v]:d[b],!(!f||f.v==null||f.t==="z")){switch(h=["cell",b,"t"],f.t){case"s":case"str":h.push(r(f.v));break;case"n":f.f?(h[2]="vtf",h[3]="n",h[4]=f.v,h[5]=r(f.f)):(h[2]="v",h[3]=f.v);break;case"b":h[2]="vt"+(f.f?"f":"c"),h[3]="nl",h[4]=f.v?"1":"0",h[5]=r(f.f||(f.v?"TRUE":"FALSE"));break;case"d":var w=yo(ei(f.v));h[2]="vtc",h[3]="nd",h[4]=""+w,h[5]=f.w||Kl(f.z||Zr[14],w);break;case"e":continue}p.push(h.join(":"))}return p.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function l(d){return[a,i,o,i,c(d),u].join(`
`)}return{to_workbook:s,to_sheet:e,from_sheet:l}}(),Fb=function(){function n(l,d,p,h,f){f.raw?d[p][h]=l:l===""||(l==="TRUE"?d[p][h]=!0:l==="FALSE"?d[p][h]=!1:isNaN(qc(l))?isNaN(ig(l).getDate())?d[p][h]=l:d[p][h]=ei(l):d[p][h]=qc(l))}function r(l,d){var p=d||{},h=[];if(!l||l.length===0)return h;for(var f=l.split(/[\r\n]/),b=f.length-1;b>=0&&f[b].length===0;)--b;for(var y=10,g=0,x=0;x<=b;++x)g=f[x].indexOf(" "),g==-1?g=f[x].length:g++,y=Math.max(y,g);for(x=0;x<=b;++x){h[x]=[];var v=0;for(n(f[x].slice(0,y).trim(),h,x,v,p),v=1;v<=(f[x].length-y)/10+1;++v)n(f[x].slice(y+(v-1)*10,y+v*10).trim(),h,x,v,p)}return p.sheetRows&&(h=h.slice(0,p.sheetRows)),h}var t={44:",",9:"	",59:";",124:"|"},e={44:3,9:2,59:1,124:0};function s(l){for(var d={},p=!1,h=0,f=0;h<l.length;++h)(f=l.charCodeAt(h))==34?p=!p:!p&&f in t&&(d[f]=(d[f]||0)+1);f=[];for(h in d)Object.prototype.hasOwnProperty.call(d,h)&&f.push([d[h],h]);if(!f.length){d=e;for(h in d)Object.prototype.hasOwnProperty.call(d,h)&&f.push([d[h],h])}return f.sort(function(b,y){return b[0]-y[0]||e[b[1]]-e[y[1]]}),t[f.pop()[1]]||44}function a(l,d){var p=d||{},h="",f=p.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};l.slice(0,4)=="sep="?l.charCodeAt(5)==13&&l.charCodeAt(6)==10?(h=l.charAt(4),l=l.slice(7)):l.charCodeAt(5)==13||l.charCodeAt(5)==10?(h=l.charAt(4),l=l.slice(6)):h=s(l.slice(0,1024)):p&&p.FS?h=p.FS:h=s(l.slice(0,1024));var y=0,g=0,x=0,v=0,w=0,S=h.charCodeAt(0),D=!1,T=0,R=l.charCodeAt(0);l=l.replace(/\r\n/mg,`
`);var P=p.dateNF!=null?mJ(p.dateNF):null;function L(){var O=l.slice(v,w),H={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)H.t="z";else if(p.raw)H.t="s",H.v=O;else if(O.trim().length===0)H.t="s",H.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(H.t="s",H.v=O.slice(2,-1).replace(/""/g,'"')):zte(O)?(H.t="n",H.f=O.slice(1)):(H.t="s",H.v=O);else if(O=="TRUE")H.t="b",H.v=!0;else if(O=="FALSE")H.t="b",H.v=!1;else if(!isNaN(x=qc(O)))H.t="n",p.cellText!==!1&&(H.w=O),H.v=x;else if(!isNaN(ig(O).getDate())||P&&O.match(P)){H.z=p.dateNF||Zr[14];var U=0;P&&O.match(P)&&(O=gJ(O,p.dateNF,O.match(P)||[]),U=1),p.cellDates?(H.t="d",H.v=ei(O,U)):(H.t="n",H.v=yo(ei(O,U))),p.cellText!==!1&&(H.w=Kl(H.z,H.v instanceof Date?yo(H.v):H.v)),p.cellNF||delete H.z}else H.t="s",H.v=O;if(H.t=="z"||(p.dense?(f[y]||(f[y]=[]),f[y][g]=H):f[Gr({c:g,r:y})]=H),v=w+1,R=l.charCodeAt(v),b.e.c<g&&(b.e.c=g),b.e.r<y&&(b.e.r=y),T==S)++g;else if(g=0,++y,p.sheetRows&&p.sheetRows<=y)return!0}e:for(;w<l.length;++w)switch(T=l.charCodeAt(w)){case 34:R===34&&(D=!D);break;case S:case 10:case 13:if(!D&&L())break e;break}return w-v>0&&L(),f["!ref"]=Nn(b),f}function i(l,d){return!(d&&d.PRN)||d.FS||l.slice(0,4)=="sep="||l.indexOf("	")>=0||l.indexOf(",")>=0||l.indexOf(";")>=0?a(l,d):gg(r(l,d),d)}function o(l,d){var p="",h=d.type=="string"?[0,0,0,0]:bS(l,d);switch(d.type){case"base64":p=vl(l);break;case"binary":p=l;break;case"buffer":d.codepage==65001?p=l.toString("utf8"):d.codepage&&typeof Zh<"u"?p=Zh.utils.decode(d.codepage,l):p=xn&&Buffer.isBuffer(l)?l.toString("binary"):n0(l);break;case"array":p=qm(l);break;case"string":p=l;break;default:throw new Error("Unrecognized type "+d.type)}return h[0]==239&&h[1]==187&&h[2]==191?p=ws(p.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?p=ws(p):d.type=="binary"&&typeof Zh<"u"&&d.codepage&&(p=Zh.utils.decode(d.codepage,Zh.utils.encode(28591,p))),p.slice(0,19)=="socialcalc:version:"?see.to_sheet(d.type=="string"?p:ws(p),d):i(p,d)}function u(l,d){return Kf(o(l,d),d)}function c(l){for(var d=[],p=ra(l["!ref"]),h,f=Array.isArray(l),b=p.s.r;b<=p.e.r;++b){for(var y=[],g=p.s.c;g<=p.e.c;++g){var x=Gr({r:b,c:g});if(h=f?(l[b]||[])[g]:l[x],!h||h.v==null){y.push("          ");continue}for(var v=(h.w||(Sh(h),h.w)||"").slice(0,10);v.length<10;)v+=" ";y.push(v+(g===0?" ":""))}d.push(y.join(""))}return d.join(`
`)}return{to_workbook:u,to_sheet:o,from_sheet:c}}();function aee(n,r){var t=r||{},e=!!t.WTF;t.WTF=!0;try{var s=ree.to_workbook(n,t);return t.WTF=e,s}catch(a){if(t.WTF=e,!a.message.match(/SYLK bad record ID/)&&e)throw a;return Fb.to_workbook(n,r)}}var wb=function(){function n(j,M,G){if(j){pi(j,j.l||0);for(var Y=G.Enum||k;j.l<j.length;){var J=j.read_shift(2),V=Y[J]||Y[65535],Q=j.read_shift(2),q=j.l+Q,z=V.f&&V.f(j,Q,G);if(j.l=q,M(z,V,J))return}}}function r(j,M){switch(M.type){case"base64":return t(Bc(vl(j)),M);case"binary":return t(Bc(j),M);case"buffer":case"array":return t(j,M)}throw"Unsupported type "+M.type}function t(j,M){if(!j)return j;var G=M||{},Y=G.dense?[]:{},J="Sheet1",V="",Q=0,q={},z=[],Z=[],re={s:{r:0,c:0},e:{r:0,c:0}},le=G.sheetRows||0;if(j[2]==0&&(j[3]==8||j[3]==9)&&j.length>=16&&j[14]==5&&j[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(j[2]==2)G.Enum=k,n(j,function(ye,he,pe){switch(pe){case 0:G.vers=ye,ye>=4096&&(G.qpro=!0);break;case 6:re=ye;break;case 204:ye&&(V=ye);break;case 222:V=ye;break;case 15:case 51:G.qpro||(ye[1].v=ye[1].v.slice(1));case 13:case 14:case 16:pe==14&&(ye[2]&112)==112&&(ye[2]&15)>1&&(ye[2]&15)<15&&(ye[1].z=G.dateNF||Zr[14],G.cellDates&&(ye[1].t="d",ye[1].v=S5(ye[1].v))),G.qpro&&ye[3]>Q&&(Y["!ref"]=Nn(re),q[J]=Y,z.push(J),Y=G.dense?[]:{},re={s:{r:0,c:0},e:{r:0,c:0}},Q=ye[3],J=V||"Sheet"+(Q+1),V="");var xe=G.dense?(Y[ye[0].r]||[])[ye[0].c]:Y[Gr(ye[0])];if(xe){xe.t=ye[1].t,xe.v=ye[1].v,ye[1].z!=null&&(xe.z=ye[1].z),ye[1].f!=null&&(xe.f=ye[1].f);break}G.dense?(Y[ye[0].r]||(Y[ye[0].r]=[]),Y[ye[0].r][ye[0].c]=ye[1]):Y[Gr(ye[0])]=ye[1];break}},G);else if(j[2]==26||j[2]==14)G.Enum=B,j[2]==14&&(G.qpro=!0,j.l=0),n(j,function(ye,he,pe){switch(pe){case 204:J=ye;break;case 22:ye[1].v=ye[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ye[3]>Q&&(Y["!ref"]=Nn(re),q[J]=Y,z.push(J),Y=G.dense?[]:{},re={s:{r:0,c:0},e:{r:0,c:0}},Q=ye[3],J="Sheet"+(Q+1)),le>0&&ye[0].r>=le)break;G.dense?(Y[ye[0].r]||(Y[ye[0].r]=[]),Y[ye[0].r][ye[0].c]=ye[1]):Y[Gr(ye[0])]=ye[1],re.e.c<ye[0].c&&(re.e.c=ye[0].c),re.e.r<ye[0].r&&(re.e.r=ye[0].r);break;case 27:ye[14e3]&&(Z[ye[14e3][0]]=ye[14e3][1]);break;case 1537:Z[ye[0]]=ye[1],ye[0]==Q&&(J=ye[1]);break}},G);else throw new Error("Unrecognized LOTUS BOF "+j[2]);if(Y["!ref"]=Nn(re),q[V||J]=Y,z.push(V||J),!Z.length)return{SheetNames:z,Sheets:q};for(var ue={},ce=[],ie=0;ie<Z.length;++ie)q[z[ie]]?(ce.push(Z[ie]||z[ie]),ue[Z[ie]]=q[Z[ie]]||q[z[ie]]):(ce.push(Z[ie]),ue[Z[ie]]={"!ref":"A1"});return{SheetNames:ce,Sheets:ue}}function e(j,M){var G=M||{};if(+G.codepage>=0&&Uc(+G.codepage),G.type=="string")throw new Error("Cannot write WK1 to JS string");var Y=Q4(),J=ra(j["!ref"]),V=Array.isArray(j),Q=[];_c(Y,0,a(1030)),_c(Y,6,u(J));for(var q=Math.min(J.e.r,8191),z=J.s.r;z<=q;++z)for(var Z=gi(z),re=J.s.c;re<=J.e.c;++re){z===J.s.r&&(Q[re]=Ha(re));var le=Q[re]+Z,ue=V?(j[z]||[])[re]:j[le];if(!(!ue||ue.t=="z"))if(ue.t=="n")(ue.v|0)==ue.v&&ue.v>=-32768&&ue.v<=32767?_c(Y,13,h(z,re,ue.v)):_c(Y,14,b(z,re,ue.v));else{var ce=Sh(ue);_c(Y,15,d(z,re,ce.slice(0,239)))}}return _c(Y,1),Y.end()}function s(j,M){var G=M||{};if(+G.codepage>=0&&Uc(+G.codepage),G.type=="string")throw new Error("Cannot write WK3 to JS string");var Y=Q4();_c(Y,0,i(j));for(var J=0,V=0;J<j.SheetNames.length;++J)(j.Sheets[j.SheetNames[J]]||{})["!ref"]&&_c(Y,27,N(j.SheetNames[J],V++));var Q=0;for(J=0;J<j.SheetNames.length;++J){var q=j.Sheets[j.SheetNames[J]];if(!(!q||!q["!ref"])){for(var z=ra(q["!ref"]),Z=Array.isArray(q),re=[],le=Math.min(z.e.r,8191),ue=z.s.r;ue<=le;++ue)for(var ce=gi(ue),ie=z.s.c;ie<=z.e.c;++ie){ue===z.s.r&&(re[ie]=Ha(ie));var ye=re[ie]+ce,he=Z?(q[ue]||[])[ie]:q[ye];if(!(!he||he.t=="z"))if(he.t=="n")_c(Y,23,L(ue,ie,Q,he.v));else{var pe=Sh(he);_c(Y,22,T(ue,ie,Q,pe.slice(0,239)))}}++Q}}return _c(Y,1),Y.end()}function a(j){var M=Oa(2);return M.write_shift(2,j),M}function i(j){var M=Oa(26);M.write_shift(2,4096),M.write_shift(2,4),M.write_shift(4,0);for(var G=0,Y=0,J=0,V=0;V<j.SheetNames.length;++V){var Q=j.SheetNames[V],q=j.Sheets[Q];if(!(!q||!q["!ref"])){++J;var z=mg(q["!ref"]);G<z.e.r&&(G=z.e.r),Y<z.e.c&&(Y=z.e.c)}}return G>8191&&(G=8191),M.write_shift(2,G),M.write_shift(1,J),M.write_shift(1,Y),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(1,1),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(4,0),M}function o(j,M,G){var Y={s:{c:0,r:0},e:{c:0,r:0}};return M==8&&G.qpro?(Y.s.c=j.read_shift(1),j.l++,Y.s.r=j.read_shift(2),Y.e.c=j.read_shift(1),j.l++,Y.e.r=j.read_shift(2),Y):(Y.s.c=j.read_shift(2),Y.s.r=j.read_shift(2),M==12&&G.qpro&&(j.l+=2),Y.e.c=j.read_shift(2),Y.e.r=j.read_shift(2),M==12&&G.qpro&&(j.l+=2),Y.s.c==65535&&(Y.s.c=Y.e.c=Y.s.r=Y.e.r=0),Y)}function u(j){var M=Oa(8);return M.write_shift(2,j.s.c),M.write_shift(2,j.s.r),M.write_shift(2,j.e.c),M.write_shift(2,j.e.r),M}function c(j,M,G){var Y=[{c:0,r:0},{t:"n",v:0},0,0];return G.qpro&&G.vers!=20768?(Y[0].c=j.read_shift(1),Y[3]=j.read_shift(1),Y[0].r=j.read_shift(2),j.l+=2):(Y[2]=j.read_shift(1),Y[0].c=j.read_shift(2),Y[0].r=j.read_shift(2)),Y}function l(j,M,G){var Y=j.l+M,J=c(j,M,G);if(J[1].t="s",G.vers==20768){j.l++;var V=j.read_shift(1);return J[1].v=j.read_shift(V,"utf8"),J}return G.qpro&&j.l++,J[1].v=j.read_shift(Y-j.l,"cstr"),J}function d(j,M,G){var Y=Oa(7+G.length);Y.write_shift(1,255),Y.write_shift(2,M),Y.write_shift(2,j),Y.write_shift(1,39);for(var J=0;J<Y.length;++J){var V=G.charCodeAt(J);Y.write_shift(1,V>=128?95:V)}return Y.write_shift(1,0),Y}function p(j,M,G){var Y=c(j,M,G);return Y[1].v=j.read_shift(2,"i"),Y}function h(j,M,G){var Y=Oa(7);return Y.write_shift(1,255),Y.write_shift(2,M),Y.write_shift(2,j),Y.write_shift(2,G,"i"),Y}function f(j,M,G){var Y=c(j,M,G);return Y[1].v=j.read_shift(8,"f"),Y}function b(j,M,G){var Y=Oa(13);return Y.write_shift(1,255),Y.write_shift(2,M),Y.write_shift(2,j),Y.write_shift(8,G,"f"),Y}function y(j,M,G){var Y=j.l+M,J=c(j,M,G);if(J[1].v=j.read_shift(8,"f"),G.qpro)j.l=Y;else{var V=j.read_shift(2);w(j.slice(j.l,j.l+V),J),j.l+=V}return J}function g(j,M,G){var Y=M&32768;return M&=-32769,M=(Y?j:0)+(M>=8192?M-16384:M),(Y?"":"$")+(G?Ha(M):gi(M))}var x={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},v=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function w(j,M){pi(j,0);for(var G=[],Y=0,J="",V="",Q="",q="";j.l<j.length;){var z=j[j.l++];switch(z){case 0:G.push(j.read_shift(8,"f"));break;case 1:V=g(M[0].c,j.read_shift(2),!0),J=g(M[0].r,j.read_shift(2),!1),G.push(V+J);break;case 2:{var Z=g(M[0].c,j.read_shift(2),!0),re=g(M[0].r,j.read_shift(2),!1);V=g(M[0].c,j.read_shift(2),!0),J=g(M[0].r,j.read_shift(2),!1),G.push(Z+re+":"+V+J)}break;case 3:if(j.l<j.length){console.error("WK1 premature formula end");return}break;case 4:G.push("("+G.pop()+")");break;case 5:G.push(j.read_shift(2));break;case 6:{for(var le="";z=j[j.l++];)le+=String.fromCharCode(z);G.push('"'+le.replace(/"/g,'""')+'"')}break;case 8:G.push("-"+G.pop());break;case 23:G.push("+"+G.pop());break;case 22:G.push("NOT("+G.pop()+")");break;case 20:case 21:q=G.pop(),Q=G.pop(),G.push(["AND","OR"][z-20]+"("+Q+","+q+")");break;default:if(z<32&&v[z])q=G.pop(),Q=G.pop(),G.push(Q+v[z]+q);else if(x[z]){if(Y=x[z][1],Y==69&&(Y=j[j.l++]),Y>G.length){console.error("WK1 bad formula parse 0x"+z.toString(16)+":|"+G.join("|")+"|");return}var ue=G.slice(-Y);G.length-=Y,G.push(x[z][0]+"("+ue.join(",")+")")}else return z<=7?console.error("WK1 invalid opcode "+z.toString(16)):z<=24?console.error("WK1 unsupported op "+z.toString(16)):z<=30?console.error("WK1 invalid opcode "+z.toString(16)):z<=115?console.error("WK1 unsupported function opcode "+z.toString(16)):console.error("WK1 unrecognized opcode "+z.toString(16))}}G.length==1?M[1].f=""+G[0]:console.error("WK1 bad formula parse |"+G.join("|")+"|")}function S(j){var M=[{c:0,r:0},{t:"n",v:0},0];return M[0].r=j.read_shift(2),M[3]=j[j.l++],M[0].c=j[j.l++],M}function D(j,M){var G=S(j);return G[1].t="s",G[1].v=j.read_shift(M-4,"cstr"),G}function T(j,M,G,Y){var J=Oa(6+Y.length);J.write_shift(2,j),J.write_shift(1,G),J.write_shift(1,M),J.write_shift(1,39);for(var V=0;V<Y.length;++V){var Q=Y.charCodeAt(V);J.write_shift(1,Q>=128?95:Q)}return J.write_shift(1,0),J}function R(j,M){var G=S(j);G[1].v=j.read_shift(2);var Y=G[1].v>>1;if(G[1].v&1)switch(Y&7){case 0:Y=(Y>>3)*5e3;break;case 1:Y=(Y>>3)*500;break;case 2:Y=(Y>>3)/20;break;case 3:Y=(Y>>3)/200;break;case 4:Y=(Y>>3)/2e3;break;case 5:Y=(Y>>3)/2e4;break;case 6:Y=(Y>>3)/16;break;case 7:Y=(Y>>3)/64;break}return G[1].v=Y,G}function P(j,M){var G=S(j),Y=j.read_shift(4),J=j.read_shift(4),V=j.read_shift(2);if(V==65535)return Y===0&&J===3221225472?(G[1].t="e",G[1].v=15):Y===0&&J===3489660928?(G[1].t="e",G[1].v=42):G[1].v=0,G;var Q=V&32768;return V=(V&32767)-16446,G[1].v=(1-Q*2)*(J*Math.pow(2,V+32)+Y*Math.pow(2,V)),G}function L(j,M,G,Y){var J=Oa(14);if(J.write_shift(2,j),J.write_shift(1,G),J.write_shift(1,M),Y==0)return J.write_shift(4,0),J.write_shift(4,0),J.write_shift(2,65535),J;var V=0,Q=0,q=0,z=0;return Y<0&&(V=1,Y=-Y),Q=Math.log2(Y)|0,Y/=Math.pow(2,Q-31),z=Y>>>0,z&2147483648||(Y/=2,++Q,z=Y>>>0),Y-=z,z|=2147483648,z>>>=0,Y*=Math.pow(2,32),q=Y>>>0,J.write_shift(4,q),J.write_shift(4,z),Q+=16383+(V?32768:0),J.write_shift(2,Q),J}function O(j,M){var G=P(j);return j.l+=M-14,G}function H(j,M){var G=S(j),Y=j.read_shift(4);return G[1].v=Y>>6,G}function U(j,M){var G=S(j),Y=j.read_shift(8,"f");return G[1].v=Y,G}function I(j,M){var G=U(j);return j.l+=M-10,G}function F(j,M){return j[j.l+M-1]==0?j.read_shift(M,"cstr"):""}function A(j,M){var G=j[j.l++];G>M-1&&(G=M-1);for(var Y="";Y.length<G;)Y+=String.fromCharCode(j[j.l++]);return Y}function _(j,M,G){if(!(!G.qpro||M<21)){var Y=j.read_shift(1);j.l+=17,j.l+=1,j.l+=2;var J=j.read_shift(M-21,"cstr");return[Y,J]}}function E(j,M){for(var G={},Y=j.l+M;j.l<Y;){var J=j.read_shift(2);if(J==14e3){for(G[J]=[0,""],G[J][0]=j.read_shift(2);j[j.l];)G[J][1]+=String.fromCharCode(j[j.l]),j.l++;j.l++}}return G}function N(j,M){var G=Oa(5+j.length);G.write_shift(2,14e3),G.write_shift(2,M);for(var Y=0;Y<j.length;++Y){var J=j.charCodeAt(Y);G[G.l++]=J>127?95:J}return G[G.l++]=0,G}var k={0:{n:"BOF",f:ka},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f},15:{n:"LABEL",f:l},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:l},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:F},222:{n:"SHEETNAMELP",f:A},65535:{n:""}},B={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:D},23:{n:"NUMBER17",f:P},24:{n:"NUMBER18",f:R},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:E},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:H},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:I},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:F},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:_},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:e,book_to_wk3:s,to_workbook:r}}();function iee(n){var r={},t=n.match(Ki),e=0,s=!1;if(t)for(;e!=t.length;++e){var a=Hr(t[e]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":r.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;r.cp=G8[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":r.outline=1;break;case"</outline>":break;case"<rFont":r.name=a.val;break;case"<sz":r.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":r.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":r.uval="double";break;case"singleAccounting":r.uval="single-accounting";break;case"doubleAccounting":r.uval="double-accounting";break}case"<u>":case"<u/>":r.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":r.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":r.i=1;break;case"</i>":break;case"<color":a.rgb&&(r.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":r.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":r.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(a[0].charCodeAt(1)!==47&&!s)throw new Error("Unrecognized rich format "+a[0])}}return r}var oee=function(){var n=Ob("t"),r=Ob("rPr");function t(a){var i=a.match(n);if(!i)return{t:"s",v:""};var o={t:"s",v:In(i[1])},u=a.match(r);return u&&(o.s=iee(u[1])),o}var e=/<(?:\w+:)?r>/g,s=/<\/(?:\w+:)?r>/;return function(i){return i.replace(e,"").split(s).map(t).filter(function(o){return o.v})}}(),lee=function(){var r=/(\r\n|\n)/g;function t(s,a,i){var o=[];s.u&&o.push("text-decoration: underline;"),s.uval&&o.push("text-underline-style:"+s.uval+";"),s.sz&&o.push("font-size:"+s.sz+"pt;"),s.outline&&o.push("text-effect: outline;"),s.shadow&&o.push("text-shadow: auto;"),a.push('<span style="'+o.join("")+'">'),s.b&&(a.push("<b>"),i.push("</b>")),s.i&&(a.push("<i>"),i.push("</i>")),s.strike&&(a.push("<s>"),i.push("</s>"));var u=s.valign||"";return u=="superscript"||u=="super"?u="sup":u=="subscript"&&(u="sub"),u!=""&&(a.push("<"+u+">"),i.push("</"+u+">")),i.push("</span>"),s}function e(s){var a=[[],s.v,[]];return s.v?(s.s&&t(s.s,a[0],a[2]),a[0].join("")+a[1].replace(r,"<br/>")+a[2].join("")):""}return function(a){return a.map(e).join("")}}(),cee=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,uee=/<(?:\w+:)?r>/,dee=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function uS(n,r){var t=r?r.cellHTML:!0,e={};return n?(n.match(/^\s*<(?:\w+:)?t[^>]*>/)?(e.t=In(ws(n.slice(n.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),e.r=ws(n),t&&(e.h=eS(e.t))):n.match(uee)&&(e.r=ws(n),e.t=In(ws((n.replace(dee,"").match(cee)||[]).join("").replace(Ki,""))),t&&(e.h=lee(oee(e.r)))),e):{t:""}}var hee=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,fee=/<(?:\w+:)?(?:si|sstItem)>/g,pee=/<\/(?:\w+:)?(?:si|sstItem)>/;function mee(n,r){var t=[],e="";if(!n)return t;var s=n.match(hee);if(s){e=s[2].replace(fee,"").split(pee);for(var a=0;a!=e.length;++a){var i=uS(e[a].trim(),r);i!=null&&(t[t.length]=i)}s=Hr(s[1]),t.Count=s.count,t.Unique=s.uniqueCount}return t}function gee(n){return[n.read_shift(4),n.read_shift(4)]}function bee(n,r){var t=[],e=!1;return kh(n,function(a,i,o){switch(o){case 159:t.Count=a[0],t.Unique=a[1];break;case 19:t.push(a);break;case 160:return!0;case 35:e=!0;break;case 36:e=!1;break;default:if(i.T,!e||r.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),t}function sT(n){for(var r=[],t=n.split(""),e=0;e<t.length;++e)r[e]=t[e].charCodeAt(0);return r}function yh(n,r){var t={};return t.Major=n.read_shift(2),t.Minor=n.read_shift(2),r>=4&&(n.l+=r-4),t}function yee(n){var r={};return r.id=n.read_shift(0,"lpp4"),r.R=yh(n,4),r.U=yh(n,4),r.W=yh(n,4),r}function vee(n){for(var r=n.read_shift(4),t=n.l+r-4,e={},s=n.read_shift(4),a=[];s-- >0;)a.push({t:n.read_shift(4),v:n.read_shift(0,"lpp4")});if(e.name=n.read_shift(0,"lpp4"),e.comps=a,n.l!=t)throw new Error("Bad DataSpaceMapEntry: "+n.l+" != "+t);return e}function xee(n){var r=[];n.l+=4;for(var t=n.read_shift(4);t-- >0;)r.push(vee(n));return r}function wee(n){var r=[];n.l+=4;for(var t=n.read_shift(4);t-- >0;)r.push(n.read_shift(0,"lpp4"));return r}function _ee(n){var r={};return n.read_shift(4),n.l+=4,r.id=n.read_shift(0,"lpp4"),r.name=n.read_shift(0,"lpp4"),r.R=yh(n,4),r.U=yh(n,4),r.W=yh(n,4),r}function See(n){var r=_ee(n);if(r.ename=n.read_shift(0,"8lpp4"),r.blksz=n.read_shift(4),r.cmode=n.read_shift(4),n.read_shift(4)!=4)throw new Error("Bad !Primary record");return r}function aT(n,r){var t=n.l+r,e={};e.Flags=n.read_shift(4)&63,n.l+=4,e.AlgID=n.read_shift(4);var s=!1;switch(e.AlgID){case 26126:case 26127:case 26128:s=e.Flags==36;break;case 26625:s=e.Flags==4;break;case 0:s=e.Flags==16||e.Flags==4||e.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+e.AlgID}if(!s)throw new Error("Encryption Flags/AlgID mismatch");return e.AlgIDHash=n.read_shift(4),e.KeySize=n.read_shift(4),e.ProviderType=n.read_shift(4),n.l+=8,e.CSPName=n.read_shift(t-n.l>>1,"utf16le"),n.l=t,e}function iT(n,r){var t={},e=n.l+r;return n.l+=4,t.Salt=n.slice(n.l,n.l+16),n.l+=16,t.Verifier=n.slice(n.l,n.l+16),n.l+=16,n.read_shift(4),t.VerifierHash=n.slice(n.l,e),n.l=e,t}function Eee(n){var r=yh(n);switch(r.Minor){case 2:return[r.Minor,Nee(n)];case 3:return[r.Minor,Aee()];case 4:return[r.Minor,kee(n)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+r.Minor)}function Nee(n){var r=n.read_shift(4);if((r&63)!=36)throw new Error("EncryptionInfo mismatch");var t=n.read_shift(4),e=aT(n,t),s=iT(n,n.length-n.l);return{t:"Std",h:e,v:s}}function Aee(){throw new Error("File is password-protected: ECMA-376 Extensible")}function kee(n){var r=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];n.l+=4;var t=n.read_shift(n.length-n.l,"utf8"),e={};return t.replace(Ki,function(a){var i=Hr(a);switch(ed(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":r.forEach(function(o){e[o]=i[o]});break;case"<dataIntegrity":e.encryptedHmacKey=i.encryptedHmacKey,e.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":e.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":e.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":e.encs.push(i);break;default:throw i[0]}}),e}function Cee(n,r){var t={},e=t.EncryptionVersionInfo=yh(n,4);if(r-=4,e.Minor!=2)throw new Error("unrecognized minor version code: "+e.Minor);if(e.Major>4||e.Major<2)throw new Error("unrecognized major version code: "+e.Major);t.Flags=n.read_shift(4),r-=4;var s=n.read_shift(4);return r-=4,t.EncryptionHeader=aT(n,s),r-=s,t.EncryptionVerifier=iT(n,r),t}function Dee(n){var r={},t=r.EncryptionVersionInfo=yh(n,4);if(t.Major!=1||t.Minor!=1)throw"unrecognized version code "+t.Major+" : "+t.Minor;return r.Salt=n.read_shift(16),r.EncryptedVerifier=n.read_shift(16),r.EncryptedVerifierHash=n.read_shift(16),r}function Tee(n){var r=0,t,e=sT(n),s=e.length+1,a,i,o,u,c;for(t=Uf(s),t[0]=e.length,a=1;a!=s;++a)t[a]=e[a-1];for(a=s-1;a>=0;--a)i=t[a],o=r&16384?1:0,u=r<<1&32767,c=o|u,r=c^i;return r^52811}var oT=function(){var n=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],r=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],t=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],e=function(i){return(i/2|i*128)&255},s=function(i,o){return e(i^o)},a=function(i){for(var o=r[i.length-1],u=104,c=i.length-1;c>=0;--c)for(var l=i[c],d=0;d!=7;++d)l&64&&(o^=t[u]),l*=2,--u;return o};return function(i){for(var o=sT(i),u=a(o),c=o.length,l=Uf(16),d=0;d!=16;++d)l[d]=0;var p,h,f;for((c&1)===1&&(p=u>>8,l[c]=s(n[0],p),--c,p=u&255,h=o[o.length-1],l[c]=s(h,p));c>0;)--c,p=u>>8,l[c]=s(o[c],p),--c,p=u&255,l[c]=s(o[c],p);for(c=15,f=15-o.length;f>0;)p=u>>8,l[c]=s(n[f],p),--c,--f,p=u&255,l[c]=s(o[c],p),--c,--f;return l}}(),jee=function(n,r,t,e,s){s||(s=r),e||(e=oT(n));var a,i;for(a=0;a!=r.length;++a)i=r[a],i^=e[t],i=(i>>5|i<<3)&255,s[a]=i,++t;return[s,t,e]},Iee=function(n){var r=0,t=oT(n);return function(e){var s=jee("",e,r,t);return r=s[1],s[0]}};function Pee(n,r,t,e){var s={key:ka(n),verificationBytes:ka(n)};return t.password&&(s.verifier=Tee(t.password)),e.valid=s.verificationBytes===s.verifier,e.valid&&(e.insitu=Iee(t.password)),s}function Ree(n,r,t){var e=t||{};return e.Info=n.read_shift(2),n.l-=2,e.Info===1?e.Data=Dee(n):e.Data=Cee(n,r),e}function Mee(n,r,t){var e={Type:t.biff>=8?n.read_shift(2):0};return e.Type?Ree(n,r-2,e):Pee(n,t.biff>=8?r:r-2,t,e),e}var Oee=function(){function n(s,a){switch(a.type){case"base64":return r(vl(s),a);case"binary":return r(s,a);case"buffer":return r(xn&&Buffer.isBuffer(s)?s.toString("binary"):n0(s),a);case"array":return r(qm(s),a)}throw new Error("Unrecognized type "+a.type)}function r(s,a){var i=a||{},o=i.dense?[]:{},u=s.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(l,d){Array.isArray(o)&&(o[d]=[]);for(var p=/\\\w+\b/g,h=0,f,b=-1;f=p.exec(l);){switch(f[0]){case"\\cell":var y=l.slice(h,p.lastIndex-f[0].length);if(y[0]==" "&&(y=y.slice(1)),++b,y.length){var g={v:y,t:"s"};Array.isArray(o)?o[d][b]=g:o[Gr({r:d,c:b})]=g}break}h=p.lastIndex}b>c.e.c&&(c.e.c=b)}),o["!ref"]=Nn(c),o}function t(s,a){return Kf(n(s,a),a)}function e(s){for(var a=["{\\rtf1\\ansi"],i=ra(s["!ref"]),o,u=Array.isArray(s),c=i.s.r;c<=i.e.r;++c){a.push("\\trowd\\trautofit1");for(var l=i.s.c;l<=i.e.c;++l)a.push("\\cellx"+(l+1));for(a.push("\\pard\\intbl"),l=i.s.c;l<=i.e.c;++l){var d=Gr({r:c,c:l});o=u?(s[c]||[])[l]:s[d],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(Sh(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:e}}();function Lee(n){var r=n.slice(n[0]==="#"?1:0).slice(0,6);return[parseInt(r.slice(0,2),16),parseInt(r.slice(2,4),16),parseInt(r.slice(4,6),16)]}function Bb(n){for(var r=0,t=1;r!=3;++r)t=t*256+(n[r]>255?255:n[r]<0?0:n[r]);return t.toString(16).toUpperCase().slice(1)}function Fee(n){var r=n[0]/255,t=n[1]/255,e=n[2]/255,s=Math.max(r,t,e),a=Math.min(r,t,e),i=s-a;if(i===0)return[0,0,r];var o=0,u=0,c=s+a;switch(u=i/(c>1?2-c:c),s){case r:o=((t-e)/i+6)%6;break;case t:o=(e-r)/i+2;break;case e:o=(r-t)/i+4;break}return[o/6,u,c/2]}function Bee(n){var r=n[0],t=n[1],e=n[2],s=t*2*(e<.5?e:1-e),a=e-s/2,i=[a,a,a],o=6*r,u;if(t!==0)switch(o|0){case 0:case 6:u=s*o,i[0]+=s,i[1]+=u;break;case 1:u=s*(2-o),i[0]+=u,i[1]+=s;break;case 2:u=s*(o-2),i[1]+=s,i[2]+=u;break;case 3:u=s*(4-o),i[1]+=u,i[2]+=s;break;case 4:u=s*(o-4),i[2]+=s,i[0]+=u;break;case 5:u=s*(6-o),i[2]+=u,i[0]+=s;break}for(var c=0;c!=3;++c)i[c]=Math.round(i[c]*255);return i}function xw(n,r){if(r===0)return n;var t=Fee(Lee(n));return r<0?t[2]=t[2]*(1+r):t[2]=1-(1-t[2])*(1-r),Bb(Bee(t))}var lT=6,Uee=15,Hee=1,uo=lT;function ww(n){return Math.floor((n+Math.round(128/uo)/256)*uo)}function _w(n){return Math.floor((n-5)/uo*100+.5)/100}function n8(n){return Math.round((n*uo+5)/uo*256)/256}function K6(n){return n8(_w(ww(n)))}function dS(n){var r=Math.abs(n-K6(n)),t=uo;if(r>.005)for(uo=Hee;uo<Uee;++uo)Math.abs(n-K6(n))<=r&&(r=Math.abs(n-K6(n)),t=uo);uo=t}function og(n){n.width?(n.wpx=ww(n.width),n.wch=_w(n.wpx),n.MDW=uo):n.wpx?(n.wch=_w(n.wpx),n.width=n8(n.wch),n.MDW=uo):typeof n.wch=="number"&&(n.width=n8(n.wch),n.wpx=ww(n.width),n.MDW=uo),n.customWidth&&delete n.customWidth}var qee=96,cT=qee;function uT(n){return n*96/cT}function Ub(n){return n*cT/96}var Wee={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function zee(n,r,t,e){r.Borders=[];var s={},a=!1;(n[0].match(Ki)||[]).forEach(function(i){var o=Hr(i);switch(ed(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":s={},o.diagonalUp&&(s.diagonalUp=Ps(o.diagonalUp)),o.diagonalDown&&(s.diagonalDown=Ps(o.diagonalDown)),r.Borders.push(s);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(e&&e.WTF&&!a)throw new Error("unrecognized "+o[0]+" in borders")}})}function Vee(n,r,t,e){r.Fills=[];var s={},a=!1;(n[0].match(Ki)||[]).forEach(function(i){var o=Hr(i);switch(ed(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":s={},r.Fills.push(s);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":r.Fills.push(s),s={};break;case"<patternFill":case"<patternFill>":o.patternType&&(s.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":s.bgColor||(s.bgColor={}),o.indexed&&(s.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(s.bgColor.theme=parseInt(o.theme,10)),o.tint&&(s.bgColor.tint=parseFloat(o.tint)),o.rgb&&(s.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":s.fgColor||(s.fgColor={}),o.theme&&(s.fgColor.theme=parseInt(o.theme,10)),o.tint&&(s.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(s.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(e&&e.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fills")}})}function $ee(n,r,t,e){r.Fonts=[];var s={},a=!1;(n[0].match(Ki)||[]).forEach(function(i){var o=Hr(i);switch(ed(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":r.Fonts.push(s),s={};break;case"<name":o.val&&(s.name=ws(o.val));break;case"<name/>":case"</name>":break;case"<b":s.bold=o.val?Ps(o.val):1;break;case"<b/>":s.bold=1;break;case"<i":s.italic=o.val?Ps(o.val):1;break;case"<i/>":s.italic=1;break;case"<u":switch(o.val){case"none":s.underline=0;break;case"single":s.underline=1;break;case"double":s.underline=2;break;case"singleAccounting":s.underline=33;break;case"doubleAccounting":s.underline=34;break}break;case"<u/>":s.underline=1;break;case"<strike":s.strike=o.val?Ps(o.val):1;break;case"<strike/>":s.strike=1;break;case"<outline":s.outline=o.val?Ps(o.val):1;break;case"<outline/>":s.outline=1;break;case"<shadow":s.shadow=o.val?Ps(o.val):1;break;case"<shadow/>":s.shadow=1;break;case"<condense":s.condense=o.val?Ps(o.val):1;break;case"<condense/>":s.condense=1;break;case"<extend":s.extend=o.val?Ps(o.val):1;break;case"<extend/>":s.extend=1;break;case"<sz":o.val&&(s.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(s.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(s.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(s.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=G8[parseInt(o.val,10)];break;case"<color":if(s.color||(s.color={}),o.auto&&(s.color.auto=Ps(o.auto)),o.rgb)s.color.rgb=o.rgb.slice(-6);else if(o.indexed){s.color.index=parseInt(o.indexed,10);var u=Pm[s.color.index];s.color.index==81&&(u=Pm[1]),u||(u=Pm[1]),s.color.rgb=u[0].toString(16)+u[1].toString(16)+u[2].toString(16)}else o.theme&&(s.color.theme=parseInt(o.theme,10),o.tint&&(s.color.tint=parseFloat(o.tint)),o.theme&&t.themeElements&&t.themeElements.clrScheme&&(s.color.rgb=xw(t.themeElements.clrScheme[s.color.theme].rgb,s.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(e&&e.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fonts")}})}function Gee(n,r,t){r.NumberFmt=[];for(var e=Xu(Zr),s=0;s<e.length;++s)r.NumberFmt[e[s]]=Zr[e[s]];var a=n[0].match(Ki);if(a)for(s=0;s<a.length;++s){var i=Hr(a[s]);switch(ed(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=In(ws(i.formatCode)),u=parseInt(i.numFmtId,10);if(r.NumberFmt[u]=o,u>0){if(u>392){for(u=392;u>60&&r.NumberFmt[u]!=null;--u);r.NumberFmt[u]=o}Im(o,u)}}break;case"</numFmt>":break;default:if(t.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}var nx=["numFmtId","fillId","fontId","borderId","xfId"],sx=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Yee(n,r,t){r.CellXf=[];var e,s=!1;(n[0].match(Ki)||[]).forEach(function(a){var i=Hr(a),o=0;switch(ed(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(e=i,delete e[0],o=0;o<nx.length;++o)e[nx[o]]&&(e[nx[o]]=parseInt(e[nx[o]],10));for(o=0;o<sx.length;++o)e[sx[o]]&&(e[sx[o]]=Ps(e[sx[o]]));if(r.NumberFmt&&e.numFmtId>392){for(o=392;o>60;--o)if(r.NumberFmt[e.numFmtId]==r.NumberFmt[o]){e.numFmtId=o;break}}r.CellXf.push(e);break;case"</xf>":break;case"<alignment":case"<alignment/>":var u={};i.vertical&&(u.vertical=i.vertical),i.horizontal&&(u.horizontal=i.horizontal),i.textRotation!=null&&(u.textRotation=i.textRotation),i.indent&&(u.indent=i.indent),i.wrapText&&(u.wrapText=Ps(i.wrapText)),e.alignment=u;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(t&&t.WTF&&!s)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}var Kee=function(){var r=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,e=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,s=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,u,c){var l={};if(!o)return l;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var d;return(d=o.match(r))&&Gee(d,l,c),(d=o.match(s))&&$ee(d,l,u,c),(d=o.match(e))&&Vee(d,l,u,c),(d=o.match(a))&&zee(d,l,u,c),(d=o.match(t))&&Yee(d,l,c),l}}();function Xee(n,r){var t=n.read_shift(2),e=$i(n);return[t,e]}function Jee(n,r,t){var e={};e.sz=n.read_shift(2)/20;var s=oZ(n);s.fItalic&&(e.italic=1),s.fCondense&&(e.condense=1),s.fExtend&&(e.extend=1),s.fShadow&&(e.shadow=1),s.fOutline&&(e.outline=1),s.fStrikeout&&(e.strike=1);var a=n.read_shift(2);switch(a===700&&(e.bold=1),n.read_shift(2)){case 1:e.vertAlign="superscript";break;case 2:e.vertAlign="subscript";break}var i=n.read_shift(1);i!=0&&(e.underline=i);var o=n.read_shift(1);o>0&&(e.family=o);var u=n.read_shift(1);switch(u>0&&(e.charset=u),n.l++,e.color=iZ(n),n.read_shift(1)){case 1:e.scheme="major";break;case 2:e.scheme="minor";break}return e.name=$i(n),e}var Zee=Gi;function Qee(n,r){var t=n.l+r,e=n.read_shift(2),s=n.read_shift(2);return n.l=t,{ixfe:e,numFmtId:s}}var ete=Gi;function tte(n,r,t){var e={};e.NumberFmt=[];for(var s in Zr)e.NumberFmt[s]=Zr[s];e.CellXf=[],e.Fonts=[];var a=[],i=!1;return kh(n,function(u,c,l){switch(l){case 44:e.NumberFmt[u[0]]=u[1],Im(u[1],u[0]);break;case 43:e.Fonts.push(u),u.color.theme!=null&&r&&r.themeElements&&r.themeElements.clrScheme&&(u.color.rgb=xw(r.themeElements.clrScheme[u.color.theme].rgb,u.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&e.CellXf.push(u);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:a.push(l),i=!0;break;case 38:a.pop(),i=!1;break;default:if(c.T>0)a.push(l);else if(c.T<0)a.pop();else if(!i||t.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+l.toString(16))}}),e}var rte=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function nte(n,r,t){r.themeElements.clrScheme=[];var e={};(n[0].match(Ki)||[]).forEach(function(s){var a=Hr(s);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":e.rgb=a.val;break;case"<a:sysClr":e.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(r.themeElements.clrScheme[rte.indexOf(a[0])]=e,e={}):e.name=a[0].slice(3,a[0].length-1);break;default:if(t&&t.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function ste(){}function ate(){}var ite=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,ote=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,lte=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function cte(n,r,t){r.themeElements={};var e;[["clrScheme",ite,nte],["fontScheme",ote,ste],["fmtScheme",lte,ate]].forEach(function(s){if(!(e=n.match(s[1])))throw new Error(s[0]+" not found in themeElements");s[2](e,r,t)})}var ute=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function dT(n,r){(!n||n.length===0)&&(n=dte());var t,e={};if(!(t=n.match(ute)))throw new Error("themeElements not found in theme");return cte(t[0],e,r),e.raw=n,e}function dte(n,r){var t=[_D];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function hte(n,r,t){var e=n.l+r,s=n.read_shift(4);if(s!==124226){if(!t.cellStyles){n.l=e;return}var a=n.slice(n.l);n.l=e;var i;try{i=wD(a,{type:"array"})}catch{return}var o=gl(i,"theme/theme/theme1.xml",!0);if(o)return dT(o,t)}}function fte(n){return n.read_shift(4)}function pte(n){var r={};switch(r.xclrType=n.read_shift(2),r.nTintShade=n.read_shift(2),r.xclrType){case 0:n.l+=4;break;case 1:r.xclrValue=mte(n,4);break;case 2:r.xclrValue=JD(n);break;case 3:r.xclrValue=fte(n);break;case 4:n.l+=4;break}return n.l+=8,r}function mte(n,r){return Gi(n,r)}function gte(n,r){return Gi(n,r)}function bte(n){var r=n.read_shift(2),t=n.read_shift(2)-4,e=[r];switch(r){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:e[1]=pte(n);break;case 6:e[1]=gte(n,t);break;case 14:case 15:e[1]=n.read_shift(t===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+r+" "+t)}return e}function yte(n,r){var t=n.l+r;n.l+=2;var e=n.read_shift(2);n.l+=2;for(var s=n.read_shift(2),a=[];s-- >0;)a.push(bte(n,t-n.l));return{ixfe:e,ext:a}}function vte(n,r){r.forEach(function(t){switch(t[0]){}})}function xte(n,r){return{flags:n.read_shift(4),version:n.read_shift(4),name:$i(n)}}function wte(n){for(var r=[],t=n.read_shift(4);t-- >0;)r.push([n.read_shift(4),n.read_shift(4)]);return r}function _te(n){return n.l+=4,n.read_shift(4)!=0}function Ste(n,r,t){var e={Types:[],Cell:[],Value:[]},s=t||{},a=[],i=!1,o=2;return kh(n,function(u,c,l){switch(l){case 335:e.Types.push({name:u.name});break;case 51:u.forEach(function(d){o==1?e.Cell.push({type:e.Types[d[0]-1].name,index:d[1]}):o==0&&e.Value.push({type:e.Types[d[0]-1].name,index:d[1]})});break;case 337:o=u?1:0;break;case 338:o=2;break;case 35:a.push(l),i=!0;break;case 36:a.pop(),i=!1;break;default:if(!c.T){if(!i||s.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+l.toString(16))}}}),e}function Ete(n,r,t){var e={Types:[],Cell:[],Value:[]};if(!n)return e;var s=!1,a=2,i;return n.replace(Ki,function(o){var u=Hr(o);switch(ed(u[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":e.Types.push({name:u.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<e.Types.length;++c)e.Types[c].name==u.name&&(i=e.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?e.Cell.push({type:e.Types[u.t-1].name,index:+u.v}):a==0&&e.Value.push({type:e.Types[u.t-1].name,index:+u.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+u.i);break;default:if(!s&&t.WTF)throw new Error("unrecognized "+u[0]+" in metadata")}return o}),e}function Nte(n){var r=[];if(!n)return r;var t=1;return(n.match(Ki)||[]).forEach(function(e){var s=Hr(e);switch(s[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete s[0],s.i?t=s.i:s.i=t,r.push(s);break}}),r}function Ate(n){var r={};r.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),r.r=Gr(t);var e=n.read_shift(1);return e&2&&(r.l="1"),e&8&&(r.a="1"),r}function kte(n,r,t){var e=[];return kh(n,function(a,i,o){switch(o){case 63:e.push(a);break;default:if(!i.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),e}function Cte(n,r,t,e){if(!n)return n;var s=e||{},a=!1;kh(n,function(o,u,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!u.T){if(!a||s.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},s)}function Dte(n,r){if(!n)return"??";var t=(n.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return r["!id"][t].Target}function pN(n,r,t,e){var s=Array.isArray(n),a;r.forEach(function(i){var o=po(i.ref);if(s?(n[o.r]||(n[o.r]=[]),a=n[o.r][o.c]):a=n[i.ref],!a){a={t:"z"},s?n[o.r][o.c]=a:n[i.ref]=a;var u=ra(n["!ref"]||"BDWGO1000001:A1");u.s.r>o.r&&(u.s.r=o.r),u.e.r<o.r&&(u.e.r=o.r),u.s.c>o.c&&(u.s.c=o.c),u.e.c<o.c&&(u.e.c=o.c);var c=Nn(u);c!==n["!ref"]&&(n["!ref"]=c)}a.c||(a.c=[]);var l={a:i.author,t:i.t,r:i.r,T:t};i.h&&(l.h=i.h);for(var d=a.c.length-1;d>=0;--d){if(!t&&a.c[d].T)return;t&&!a.c[d].T&&a.c.splice(d,1)}if(t&&e){for(d=0;d<e.length;++d)if(l.a==e[d].id){l.a=e[d].name||l.a;break}}a.c.push(l)})}function Tte(n,r){if(n.match(/<(?:\w+:)?comments *\/>/))return[];var t=[],e=[],s=n.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);s&&s[1]&&s[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&t.push(o[1])}});var a=n.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?comment[^>]*>/);if(o){var u=Hr(o[0]),c={author:u.authorId&&t[u.authorId]||"sheetjsghost",ref:u.ref,guid:u.guid},l=po(u.ref);if(!(r.sheetRows&&r.sheetRows<=l.r)){var d=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),p=!!d&&!!d[1]&&uS(d[1])||{r:"",t:"",h:""};c.r=p.r,p.r=="<t></t>"&&(p.t=p.h=""),c.t=(p.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),r.cellHTML&&(c.h=p.h),e.push(c)}}}}),e}function jte(n,r){var t=[],e=!1,s={},a=0;return n.replace(Ki,function(o,u){var c=Hr(o);switch(ed(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":s={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":s.t!=null&&t.push(s);break;case"<text>":case"<text":a=u+o.length;break;case"</text>":s.t=n.slice(a,u).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":e=!0;break;case"</mentions>":e=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":e=!0;break;case"</ext>":e=!1;break;default:if(!e&&r.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),t}function Ite(n,r){var t=[],e=!1;return n.replace(Ki,function(a){var i=Hr(a);switch(ed(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":t.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":e=!0;break;case"</ext>":e=!1;break;default:if(!e&&r.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return a}),t}function Pte(n){var r={};r.iauthor=n.read_shift(4);var t=a0(n);return r.rfx=t.s,r.ref=Gr(t.s),n.l+=16,r}var Rte=$i;function Mte(n,r){var t=[],e=[],s={},a=!1;return kh(n,function(o,u,c){switch(c){case 632:e.push(o);break;case 635:s=o;break;case 637:s.t=o.t,s.h=o.h,s.r=o.r;break;case 636:if(s.author=e[s.iauthor],delete s.iauthor,r.sheetRows&&s.rfx&&r.sheetRows<=s.rfx.r)break;s.t||(s.t=""),delete s.rfx,t.push(s);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!u.T){if(!a||r.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),t}var Ote="application/vnd.ms-office.vbaProject";function Lte(n){var r=En.utils.cfb_new({root:"R"});return n.FullPaths.forEach(function(t,e){if(!(t.slice(-1)==="/"||!t.match(/_VBA_PROJECT_CUR/))){var s=t.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");En.utils.cfb_add(r,s,n.FileIndex[e].content)}}),En.write(r)}function Fte(){return{"!type":"dialog"}}function Bte(){return{"!type":"dialog"}}function Ute(){return{"!type":"macro"}}function Hte(){return{"!type":"macro"}}var e1=function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,r={r:0,c:0};function t(e,s,a,i){var o=!1,u=!1;a.length==0?u=!0:a.charAt(0)=="["&&(u=!0,a=a.slice(1,-1)),i.length==0?o=!0:i.charAt(0)=="["&&(o=!0,i=i.slice(1,-1));var c=a.length>0?parseInt(a,10)|0:0,l=i.length>0?parseInt(i,10)|0:0;return o?l+=r.c:--l,u?c+=r.r:--c,s+(o?"":"$")+Ha(l)+(u?"":"$")+gi(c)}return function(s,a){return r=a,s.replace(n,t)}}(),hT=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,qte=function(){return function(r,t){return r.replace(hT,function(e,s,a,i,o,u){var c=sS(i)-(a?0:t.c),l=nS(u)-(o?0:t.r),d=l==0?"":o?l+1:"["+l+"]",p=c==0?"":a?c+1:"["+c+"]";return s+"R"+d+"C"+p})}}();function fT(n,r){return n.replace(hT,function(t,e,s,a,i,o){return e+(s=="$"?s+a:Ha(sS(a)+r.c))+(i=="$"?i+o:gi(nS(o)+r.r))})}function Wte(n,r,t){var e=mg(r),s=e.s,a=po(t),i={r:a.r-s.r,c:a.c-s.c};return fT(n,i)}function zte(n){return n.length!=1}function mN(n){return n.replace(/_xlfn\./g,"")}function Na(n){n.l+=1}function Hf(n,r){var t=n.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function pT(n,r,t){var e=2;if(t){if(t.biff>=2&&t.biff<=5)return mT(n);t.biff==12&&(e=4)}var s=n.read_shift(e),a=n.read_shift(e),i=Hf(n),o=Hf(n);return{s:{r:s,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function mT(n){var r=Hf(n),t=Hf(n),e=n.read_shift(1),s=n.read_shift(1);return{s:{r:r[0],c:e,cRel:r[1],rRel:r[2]},e:{r:t[0],c:s,cRel:t[1],rRel:t[2]}}}function Vte(n,r,t){if(t.biff<8)return mT(n);var e=n.read_shift(t.biff==12?4:2),s=n.read_shift(t.biff==12?4:2),a=Hf(n),i=Hf(n);return{s:{r:e,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:i[0],cRel:i[1],rRel:i[2]}}}function gT(n,r,t){if(t&&t.biff>=2&&t.biff<=5)return $te(n);var e=n.read_shift(t&&t.biff==12?4:2),s=Hf(n);return{r:e,c:s[0],cRel:s[1],rRel:s[2]}}function $te(n){var r=Hf(n),t=n.read_shift(1);return{r:r[0],c:t,cRel:r[1],rRel:r[2]}}function Gte(n){var r=n.read_shift(2),t=n.read_shift(2);return{r,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function Yte(n,r,t){var e=t&&t.biff?t.biff:8;if(e>=2&&e<=5)return Kte(n);var s=n.read_shift(e>=12?4:2),a=n.read_shift(2),i=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;s>524287;)s-=1048576;if(i==1)for(;a>8191;)a=a-16384;return{r:s,c:a,cRel:i,rRel:o}}function Kte(n){var r=n.read_shift(2),t=n.read_shift(1),e=(r&32768)>>15,s=(r&16384)>>14;return r&=16383,e==1&&r>=8192&&(r=r-16384),s==1&&t>=128&&(t=t-256),{r,c:t,cRel:s,rRel:e}}function Xte(n,r,t){var e=(n[n.l++]&96)>>5,s=pT(n,t.biff>=2&&t.biff<=5?6:8,t);return[e,s]}function Jte(n,r,t){var e=(n[n.l++]&96)>>5,s=n.read_shift(2,"i"),a=8;if(t)switch(t.biff){case 5:n.l+=12,a=6;break;case 12:a=12;break}var i=pT(n,a,t);return[e,s,i]}function Zte(n,r,t){var e=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[e]}function Qte(n,r,t){var e=(n[n.l++]&96)>>5,s=n.read_shift(2),a=8;if(t)switch(t.biff){case 5:n.l+=12,a=6;break;case 12:a=12;break}return n.l+=a,[e,s]}function ere(n,r,t){var e=(n[n.l++]&96)>>5,s=Vte(n,r-1,t);return[e,s]}function tre(n,r,t){var e=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[e]}function gN(n){var r=n[n.l+1]&1,t=1;return n.l+=4,[r,t]}function rre(n,r,t){n.l+=2;for(var e=n.read_shift(t&&t.biff==2?1:2),s=[],a=0;a<=e;++a)s.push(n.read_shift(t&&t.biff==2?1:2));return s}function nre(n,r,t){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(t&&t.biff==2?1:2)]}function sre(n,r,t){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(t&&t.biff==2?1:2)]}function are(n){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(2)]}function ire(n,r,t){var e=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[e]}function bT(n){var r=n.read_shift(1),t=n.read_shift(1);return[r,t]}function ore(n){return n.read_shift(2),bT(n)}function lre(n){return n.read_shift(2),bT(n)}function cre(n,r,t){var e=(n[n.l]&96)>>5;n.l+=1;var s=gT(n,0,t);return[e,s]}function ure(n,r,t){var e=(n[n.l]&96)>>5;n.l+=1;var s=Yte(n,0,t);return[e,s]}function dre(n,r,t){var e=(n[n.l]&96)>>5;n.l+=1;var s=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var a=gT(n,0,t);return[e,s,a]}function hre(n,r,t){var e=(n[n.l]&96)>>5;n.l+=1;var s=n.read_shift(t&&t.biff<=3?1:2);return[fne[s],xT[s],e]}function fre(n,r,t){var e=n[n.l++],s=n.read_shift(1),a=t&&t.biff<=3?[e==88?-1:0,n.read_shift(1)]:pre(n);return[s,(a[0]===0?xT:hne)[a[1]]]}function pre(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function mre(n,r,t){n.l+=t&&t.biff==2?3:4}function gre(n,r,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var e=n.read_shift(2),s=n.read_shift(t&&t.biff==2?1:2);return[e,s]}function bre(n){return n.l++,i0[n.read_shift(1)]}function yre(n){return n.l++,n.read_shift(2)}function vre(n){return n.l++,n.read_shift(1)!==0}function xre(n){return n.l++,Wi(n)}function wre(n,r,t){return n.l++,Rv(n,r-1,t)}function _re(n,r){var t=[n.read_shift(1)];if(r==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=da(n,1)?"TRUE":"FALSE",r!=12&&(n.l+=7);break;case 37:case 16:t[1]=i0[n[n.l]],n.l+=r==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=Wi(n);break;case 2:t[1]=o0(n,0,{biff:r>0&&r<8?2:r});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function Sre(n,r,t){for(var e=n.read_shift(t.biff==12?4:2),s=[],a=0;a!=e;++a)s.push((t.biff==12?a0:E5)(n));return s}function Ere(n,r,t){var e=0,s=0;t.biff==12?(e=n.read_shift(4),s=n.read_shift(4)):(s=1+n.read_shift(1),e=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--e,--s==0&&(s=256));for(var a=0,i=[];a!=e&&(i[a]=[]);++a)for(var o=0;o!=s;++o)i[a][o]=_re(n,t.biff);return i}function Nre(n,r,t){var e=n.read_shift(1)>>>5&3,s=!t||t.biff>=8?4:2,a=n.read_shift(s);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[e,0,a]}function Are(n,r,t){if(t.biff==5)return kre(n);var e=n.read_shift(1)>>>5&3,s=n.read_shift(2),a=n.read_shift(4);return[e,s,a]}function kre(n){var r=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var e=n.read_shift(2);return n.l+=12,[r,t,e]}function Cre(n,r,t){var e=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var s=n.read_shift(t&&t.biff==2?1:2);return[e,s]}function Dre(n,r,t){var e=n.read_shift(1)>>>5&3,s=n.read_shift(t&&t.biff==2?1:2);return[e,s]}function Tre(n,r,t){var e=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[e]}function jre(n,r,t){var e=(n[n.l++]&96)>>5,s=n.read_shift(2),a=4;if(t)switch(t.biff){case 5:a=15;break;case 12:a=6;break}return n.l+=a,[e,s]}var Ire=Gi,Pre=Gi,Rre=Gi;function Ov(n,r,t){return n.l+=2,[Gte(n)]}function hS(n){return n.l+=6,[]}var Mre=Ov,Ore=hS,Lre=hS,Fre=Ov;function yT(n){return n.l+=2,[ka(n),n.read_shift(2)&1]}var Bre=Ov,Ure=yT,Hre=hS,qre=Ov,Wre=Ov,zre=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Vre(n){n.l+=2;var r=n.read_shift(2),t=n.read_shift(2),e=n.read_shift(4),s=n.read_shift(2),a=n.read_shift(2),i=zre[t>>2&31];return{ixti:r,coltype:t&3,rt:i,idx:e,c:s,C:a}}function $re(n){return n.l+=2,[n.read_shift(4)]}function Gre(n,r,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function Yre(n,r,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function Kre(n){var r=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[r,t]}function Xre(n){var r=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[r,t]}function Jre(n){return n.l+=4,[0,0]}var bN={1:{n:"PtgExp",f:gre},2:{n:"PtgTbl",f:Rre},3:{n:"PtgAdd",f:Na},4:{n:"PtgSub",f:Na},5:{n:"PtgMul",f:Na},6:{n:"PtgDiv",f:Na},7:{n:"PtgPower",f:Na},8:{n:"PtgConcat",f:Na},9:{n:"PtgLt",f:Na},10:{n:"PtgLe",f:Na},11:{n:"PtgEq",f:Na},12:{n:"PtgGe",f:Na},13:{n:"PtgGt",f:Na},14:{n:"PtgNe",f:Na},15:{n:"PtgIsect",f:Na},16:{n:"PtgUnion",f:Na},17:{n:"PtgRange",f:Na},18:{n:"PtgUplus",f:Na},19:{n:"PtgUminus",f:Na},20:{n:"PtgPercent",f:Na},21:{n:"PtgParen",f:Na},22:{n:"PtgMissArg",f:Na},23:{n:"PtgStr",f:wre},26:{n:"PtgSheet",f:Gre},27:{n:"PtgEndSheet",f:Yre},28:{n:"PtgErr",f:bre},29:{n:"PtgBool",f:vre},30:{n:"PtgInt",f:yre},31:{n:"PtgNum",f:xre},32:{n:"PtgArray",f:tre},33:{n:"PtgFunc",f:hre},34:{n:"PtgFuncVar",f:fre},35:{n:"PtgName",f:Nre},36:{n:"PtgRef",f:cre},37:{n:"PtgArea",f:Xte},38:{n:"PtgMemArea",f:Cre},39:{n:"PtgMemErr",f:Ire},40:{n:"PtgMemNoMem",f:Pre},41:{n:"PtgMemFunc",f:Dre},42:{n:"PtgRefErr",f:Tre},43:{n:"PtgAreaErr",f:Zte},44:{n:"PtgRefN",f:ure},45:{n:"PtgAreaN",f:ere},46:{n:"PtgMemAreaN",f:Kre},47:{n:"PtgMemNoMemN",f:Xre},57:{n:"PtgNameX",f:Are},58:{n:"PtgRef3d",f:dre},59:{n:"PtgArea3d",f:Jte},60:{n:"PtgRefErr3d",f:jre},61:{n:"PtgAreaErr3d",f:Qte},255:{}},Zre={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Qre={1:{n:"PtgElfLel",f:yT},2:{n:"PtgElfRw",f:qre},3:{n:"PtgElfCol",f:Mre},6:{n:"PtgElfRwV",f:Wre},7:{n:"PtgElfColV",f:Fre},10:{n:"PtgElfRadical",f:Bre},11:{n:"PtgElfRadicalS",f:Hre},13:{n:"PtgElfColS",f:Ore},15:{n:"PtgElfColSV",f:Lre},16:{n:"PtgElfRadicalLel",f:Ure},25:{n:"PtgList",f:Vre},29:{n:"PtgSxName",f:$re},255:{}},ene={0:{n:"PtgAttrNoop",f:Jre},1:{n:"PtgAttrSemi",f:ire},2:{n:"PtgAttrIf",f:sre},4:{n:"PtgAttrChoose",f:rre},8:{n:"PtgAttrGoto",f:nre},16:{n:"PtgAttrSum",f:mre},32:{n:"PtgAttrBaxcel",f:gN},33:{n:"PtgAttrBaxcel",f:gN},64:{n:"PtgAttrSpace",f:ore},65:{n:"PtgAttrSpaceSemi",f:lre},128:{n:"PtgAttrIfError",f:are},255:{}};function Lv(n,r,t,e){if(e.biff<8)return Gi(n,r);for(var s=n.l+r,a=[],i=0;i!==t.length;++i)switch(t[i][0]){case"PtgArray":t[i][1]=Ere(n,0,e),a.push(t[i][1]);break;case"PtgMemArea":t[i][2]=Sre(n,t[i][1],e),a.push(t[i][2]);break;case"PtgExp":e&&e.biff==12&&(t[i][1][1]=n.read_shift(4),a.push(t[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[i][0]}return r=s-n.l,r!==0&&a.push(Gi(n,r)),a}function Fv(n,r,t){for(var e=n.l+r,s,a,i=[];e!=n.l;)r=e-n.l,a=n[n.l],s=bN[a]||bN[Zre[a]],(a===24||a===25)&&(s=(a===24?Qre:ene)[n[n.l+1]]),!s||!s.f?Gi(n,r):i.push([s.n,s.f(n,r,t)]);return i}function tne(n){for(var r=[],t=0;t<n.length;++t){for(var e=n[t],s=[],a=0;a<e.length;++a){var i=e[a];if(i)switch(i[0]){case 2:s.push('"'+i[1].replace(/"/g,'""')+'"');break;default:s.push(i[1])}else s.push("")}r.push(s.join(","))}return r.join(";")}var rne={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function nne(n,r){if(!n&&!(r&&r.biff<=5&&r.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function vT(n,r,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[r]))return n.SheetNames[r];if(!n.XTI)return"SH33TJSERR6";var e=n.XTI[r];if(t.biff<8)return r>1e4&&(r-=65536),r<0&&(r=-r),r==0?"":n.XTI[r-1];if(!e)return"SH33TJSERR1";var s="";if(t.biff>8)switch(n[e[0]][0]){case 357:return s=e[1]==-1?"#REF":n.SheetNames[e[1]],e[1]==e[2]?s:s+":"+n.SheetNames[e[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[e[0]][0];case 355:default:return"SH33TJSSRC"+n[e[0]][0]}switch(n[e[0]][0][0]){case 1025:return s=e[1]==-1?"#REF":n.SheetNames[e[1]]||"SH33TJSERR3",e[1]==e[2]?s:s+":"+n.SheetNames[e[2]];case 14849:return n[e[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return n[e[0]][0][3]?(s=e[1]==-1?"#REF":n[e[0]][0][3][e[1]]||"SH33TJSERR4",e[1]==e[2]?s:s+":"+n[e[0]][0][3][e[2]]):"SH33TJSERR2"}}function yN(n,r,t){var e=vT(n,r,t);return e=="#REF"?e:nne(e,t)}function Ui(n,r,t,e,s){var a=s&&s.biff||8,i={s:{c:0,r:0},e:{c:0,r:0}},o=[],u,c,l,d=0,p=0,h,f="";if(!n[0]||!n[0][0])return"";for(var b=-1,y="",g=0,x=n[0].length;g<x;++g){var v=n[0][g];switch(v[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=o.pop(),c=o.pop(),b>=0){switch(n[0][b][1][0]){case 0:y=Qs(" ",n[0][b][1][1]);break;case 1:y=Qs("\r",n[0][b][1][1]);break;default:if(y="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][b][1][0])}c=c+y,b=-1}o.push(c+rne[v[0]]+u);break;case"PtgIsect":u=o.pop(),c=o.pop(),o.push(c+" "+u);break;case"PtgUnion":u=o.pop(),c=o.pop(),o.push(c+","+u);break;case"PtgRange":u=o.pop(),c=o.pop(),o.push(c+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":l=bb(v[1][1],i,s),o.push(yb(l,a));break;case"PtgRefN":l=t?bb(v[1][1],t,s):v[1][1],o.push(yb(l,a));break;case"PtgRef3d":d=v[1][1],l=bb(v[1][2],i,s),f=yN(e,d,s),o.push(f+"!"+yb(l,a));break;case"PtgFunc":case"PtgFuncVar":var w=v[1][0],S=v[1][1];w||(w=0),w&=127;var D=w==0?[]:o.slice(-w);o.length-=w,S==="User"&&(S=D.shift()),o.push(S+"("+D.join(",")+")");break;case"PtgBool":o.push(v[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(v[1]);break;case"PtgNum":o.push(String(v[1]));break;case"PtgStr":o.push('"'+v[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(v[1]);break;case"PtgAreaN":h=Z7(v[1][1],t?{s:t}:i,s),o.push(G6(h,s));break;case"PtgArea":h=Z7(v[1][1],i,s),o.push(G6(h,s));break;case"PtgArea3d":d=v[1][1],h=v[1][2],f=yN(e,d,s),o.push(f+"!"+G6(h,s));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=v[1][2];var T=(e.names||[])[p-1]||(e[0]||[])[p],R=T?T.Name:"SH33TJSNAME"+String(p);R&&R.slice(0,6)=="_xlfn."&&!s.xlfn&&(R=R.slice(6)),o.push(R);break;case"PtgNameX":var P=v[1][1];p=v[1][2];var L;if(s.biff<=5)P<0&&(P=-P),e[P]&&(L=e[P][p]);else{var O="";if(((e[P]||[])[0]||[])[0]==14849||(((e[P]||[])[0]||[])[0]==1025?e[P][p]&&e[P][p].itab>0&&(O=e.SheetNames[e[P][p].itab-1]+"!"):O=e.SheetNames[p-1]+"!"),e[P]&&e[P][p])O+=e[P][p].Name;else if(e[0]&&e[0][p])O+=e[0][p].Name;else{var H=(vT(e,P,s)||"").split(";;");H[p-1]?O=H[p-1]:O+="SH33TJSERRX"}o.push(O);break}L||(L={Name:"SH33TJSERRY"}),o.push(L.Name);break;case"PtgParen":var U="(",I=")";if(b>=0){switch(y="",n[0][b][1][0]){case 2:U=Qs(" ",n[0][b][1][1])+U;break;case 3:U=Qs("\r",n[0][b][1][1])+U;break;case 4:I=Qs(" ",n[0][b][1][1])+I;break;case 5:I=Qs("\r",n[0][b][1][1])+I;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][b][1][0])}b=-1}o.push(U+o.pop()+I);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":l={c:v[1][1],r:v[1][0]};var F={c:t.c,r:t.r};if(e.sharedf[Gr(l)]){var A=e.sharedf[Gr(l)];o.push(Ui(A,i,F,e,s))}else{var _=!1;for(u=0;u!=e.arrayf.length;++u)if(c=e.arrayf[u],!(l.c<c[0].s.c||l.c>c[0].e.c)&&!(l.r<c[0].s.r||l.r>c[0].e.r)){o.push(Ui(c[1],i,F,e,s)),_=!0;break}_||o.push(v[1])}break;case"PtgArray":o.push("{"+tne(v[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=g;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+v[1].idx+"[#"+v[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(v));default:throw new Error("Unrecognized Formula Token: "+String(v))}var E=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&b>=0&&E.indexOf(n[0][g][0])==-1){v=n[0][b];var N=!0;switch(v[1][0]){case 4:N=!1;case 0:y=Qs(" ",v[1][1]);break;case 5:N=!1;case 1:y=Qs("\r",v[1][1]);break;default:if(y="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+v[1][0])}o.push((N?y:"")+o.pop()+(N?"":y)),b=-1}}if(o.length>1&&s.WTF)throw new Error("bad formula stack");return o[0]}function sne(n,r,t){var e=n.l+r,s=t.biff==2?1:2,a,i=n.read_shift(s);if(i==65535)return[[],Gi(n,r-2)];var o=Fv(n,i,t);return r!==i+s&&(a=Lv(n,r-i-s,o,t)),n.l=e,[o,a]}function ane(n,r,t){var e=n.l+r,s=t.biff==2?1:2,a,i=n.read_shift(s);if(i==65535)return[[],Gi(n,r-2)];var o=Fv(n,i,t);return r!==i+s&&(a=Lv(n,r-i-s,o,t)),n.l=e,[o,a]}function ine(n,r,t,e){var s=n.l+r,a=Fv(n,e,t),i;return s!==n.l&&(i=Lv(n,s-n.l,a,t)),[a,i]}function one(n,r,t){var e=n.l+r,s,a=n.read_shift(2),i=Fv(n,a,t);return a==65535?[[],Gi(n,r-2)]:(r!==a+2&&(s=Lv(n,e-a-2,i,t)),[i,s])}function lne(n){var r;if(dh(n,n.l+6)!==65535)return[Wi(n),"n"];switch(n[n.l]){case 0:return n.l+=8,["String","s"];case 1:return r=n[n.l+2]===1,n.l+=8,[r,"b"];case 2:return r=n[n.l+2],n.l+=8,[r,"e"];case 3:return n.l+=8,["","s"]}return[]}function X6(n,r,t){var e=n.l+r,s=td(n);t.biff==2&&++n.l;var a=lne(n),i=n.read_shift(1);t.biff!=2&&(n.read_shift(1),t.biff>=5&&n.read_shift(4));var o=ane(n,e-n.l,t);return{cell:s,val:a[0],formula:o,shared:i>>3&1,tt:a[1]}}function N5(n,r,t){var e=n.read_shift(4),s=Fv(n,e,t),a=n.read_shift(4),i=a>0?Lv(n,a,s,t):null;return[s,i]}var cne=N5,A5=N5,une=N5,dne=N5,hne={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},xT={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},fne={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function vN(n){return n.slice(0,3)=="of:"&&(n=n.slice(3)),n.charCodeAt(0)==61&&(n=n.slice(1),n.charCodeAt(0)==61&&(n=n.slice(1))),n=n.replace(/COM\.MICROSOFT\./g,""),n=n.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(r,t){return t.replace(/\./g,"")}),n=n.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),n.replace(/[;~]/g,",").replace(/\|/g,";")}function J6(n){var r=n.split(":"),t=r[0].split(".")[0];return[t,r[0].split(".")[1]+(r.length>1?":"+(r[1].split(".")[1]||r[1].split(".")[0]):"")]}var _b={},t1={};function Sb(n,r){if(n){var t=[.7,.7,.75,.75,.3,.3];r=="xlml"&&(t=[1,1,1,1,.5,.5]),n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function wT(n,r,t,e,s,a){try{e.cellNF&&(n.z=Zr[r])}catch(o){if(e.WTF)throw o}if(!(n.t==="z"&&!e.cellStyles)){if(n.t==="d"&&typeof n.v=="string"&&(n.v=ei(n.v)),(!e||e.cellText!==!1)&&n.t!=="z")try{if(Zr[r]==null&&Im(pJ[r]||"General",r),n.t==="e")n.w=n.w||i0[n.v];else if(r===0)if(n.t==="n")(n.v|0)===n.v?n.w=n.v.toString(10):n.w=Mb(n.v);else if(n.t==="d"){var i=yo(n.v);(i|0)===i?n.w=i.toString(10):n.w=Mb(i)}else{if(n.v===void 0)return"";n.w=Hm(n.v,t1)}else n.t==="d"?n.w=Kl(r,yo(n.v),t1):n.w=Kl(r,n.v,t1)}catch(o){if(e.WTF)throw o}if(e.cellStyles&&t!=null)try{n.s=a.Fills[t],n.s.fgColor&&n.s.fgColor.theme&&!n.s.fgColor.rgb&&(n.s.fgColor.rgb=xw(s.themeElements.clrScheme[n.s.fgColor.theme].rgb,n.s.fgColor.tint||0),e.WTF&&(n.s.fgColor.raw_rgb=s.themeElements.clrScheme[n.s.fgColor.theme].rgb)),n.s.bgColor&&n.s.bgColor.theme&&(n.s.bgColor.rgb=xw(s.themeElements.clrScheme[n.s.bgColor.theme].rgb,n.s.bgColor.tint||0),e.WTF&&(n.s.bgColor.raw_rgb=s.themeElements.clrScheme[n.s.bgColor.theme].rgb))}catch(o){if(e.WTF&&a.Fills)throw o}}}function pne(n,r){var t=ra(r);t.s.r<=t.e.r&&t.s.c<=t.e.c&&t.s.r>=0&&t.s.c>=0&&(n["!ref"]=Nn(t))}var mne=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,gne=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,bne=/<(?:\w:)?hyperlink [^>]*>/mg,yne=/"(\w*:\w*)"/,vne=/<(?:\w:)?col\b[^>]*[\/]?>/g,xne=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,wne=/<(?:\w:)?pageMargins[^>]*\/>/g,_T=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,_ne=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Sne=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Ene(n,r,t,e,s,a,i){if(!n)return n;e||(e={"!id":{}});var o=r.dense?[]:{},u={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",l="",d=n.match(gne);d?(c=n.slice(0,d.index),l=n.slice(d.index+d[0].length)):c=l=n;var p=c.match(_T);p?fS(p[0],o,s,t):(p=c.match(_ne))&&Nne(p[0],p[1]||"",o,s,t);var h=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(h>0){var f=c.slice(h,h+50).match(yne);f&&pne(o,f[1])}var b=c.match(Sne);b&&b[1]&&jne(b[1],s);var y=[];if(r.cellStyles){var g=c.match(vne);g&&Cne(y,g)}d&&Ine(d[1],o,r,u,a,i);var x=l.match(xne);x&&(o["!autofilter"]=Dne(x[0]));var v=[],w=l.match(mne);if(w)for(h=0;h!=w.length;++h)v[h]=ra(w[h].slice(w[h].indexOf('"')+1));var S=l.match(bne);S&&Ane(o,S,e);var D=l.match(wne);if(D&&(o["!margins"]=kne(Hr(D[0]))),!o["!ref"]&&u.e.c>=u.s.c&&u.e.r>=u.s.r&&(o["!ref"]=Nn(u)),r.sheetRows>0&&o["!ref"]){var T=ra(o["!ref"]);r.sheetRows<=+T.e.r&&(T.e.r=r.sheetRows-1,T.e.r>u.e.r&&(T.e.r=u.e.r),T.e.r<T.s.r&&(T.s.r=T.e.r),T.e.c>u.e.c&&(T.e.c=u.e.c),T.e.c<T.s.c&&(T.s.c=T.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Nn(T))}return y.length>0&&(o["!cols"]=y),v.length>0&&(o["!merges"]=v),o}function fS(n,r,t,e){var s=Hr(n);t.Sheets[e]||(t.Sheets[e]={}),s.codeName&&(t.Sheets[e].CodeName=In(ws(s.codeName)))}function Nne(n,r,t,e,s){fS(n.slice(0,n.indexOf(">")),t,e,s)}function Ane(n,r,t){for(var e=Array.isArray(n),s=0;s!=r.length;++s){var a=Hr(ws(r[s]),!0);if(!a.ref)return;var i=((t||{})["!id"]||[])[a.id];i?(a.Target=i.Target,a.location&&(a.Target+="#"+In(a.location))):(a.Target="#"+In(a.location),i={Target:a.Target,TargetMode:"Internal"}),a.Rel=i,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var o=ra(a.ref),u=o.s.r;u<=o.e.r;++u)for(var c=o.s.c;c<=o.e.c;++c){var l=Gr({c,r:u});e?(n[u]||(n[u]=[]),n[u][c]||(n[u][c]={t:"z",v:void 0}),n[u][c].l=a):(n[l]||(n[l]={t:"z",v:void 0}),n[l].l=a)}}}function kne(n){var r={};return["left","right","top","bottom","header","footer"].forEach(function(t){n[t]&&(r[t]=parseFloat(n[t]))}),r}function Cne(n,r){for(var t=!1,e=0;e!=r.length;++e){var s=Hr(r[e],!0);s.hidden&&(s.hidden=Ps(s.hidden));var a=parseInt(s.min,10)-1,i=parseInt(s.max,10)-1;for(s.outlineLevel&&(s.level=+s.outlineLevel||0),delete s.min,delete s.max,s.width=+s.width,!t&&s.width&&(t=!0,dS(s.width)),og(s);a<=i;)n[a++]=mi(s)}}function Dne(n){var r={ref:(n.match(/ref="([^"]*)"/)||[])[1]};return r}var Tne=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function jne(n,r){r.Views||(r.Views=[{}]),(n.match(Tne)||[]).forEach(function(t,e){var s=Hr(t);r.Views[e]||(r.Views[e]={}),+s.zoomScale&&(r.Views[e].zoom=+s.zoomScale),Ps(s.rightToLeft)&&(r.Views[e].RTL=!0)})}var Ine=function(){var n=/<(?:\w+:)?c[ \/>]/,r=/<\/(?:\w+:)?row>/,t=/r=["']([^"']*)["']/,e=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,s=/ref=["']([^"']*)["']/,a=Ob("v"),i=Ob("f");return function(u,c,l,d,p,h){for(var f=0,b="",y=[],g=[],x=0,v=0,w=0,S="",D,T,R=0,P=0,L,O,H=0,U=0,I=Array.isArray(h.CellXf),F,A=[],_=[],E=Array.isArray(c),N=[],k={},B=!1,j=!!l.sheetStubs,M=u.split(r),G=0,Y=M.length;G!=Y;++G){b=M[G].trim();var J=b.length;if(J!==0){var V=0;e:for(f=0;f<J;++f)switch(b[f]){case">":if(b[f-1]!="/"){++f;break e}if(l&&l.cellStyles){if(T=Hr(b.slice(V,f),!0),R=T.r!=null?parseInt(T.r,10):R+1,P=-1,l.sheetRows&&l.sheetRows<R)continue;k={},B=!1,T.ht&&(B=!0,k.hpt=parseFloat(T.ht),k.hpx=Ub(k.hpt)),T.hidden=="1"&&(B=!0,k.hidden=!0),T.outlineLevel!=null&&(B=!0,k.level=+T.outlineLevel),B&&(N[R-1]=k)}break;case"<":V=f;break}if(V>=f)break;if(T=Hr(b.slice(V,f),!0),R=T.r!=null?parseInt(T.r,10):R+1,P=-1,!(l.sheetRows&&l.sheetRows<R)){d.s.r>R-1&&(d.s.r=R-1),d.e.r<R-1&&(d.e.r=R-1),l&&l.cellStyles&&(k={},B=!1,T.ht&&(B=!0,k.hpt=parseFloat(T.ht),k.hpx=Ub(k.hpt)),T.hidden=="1"&&(B=!0,k.hidden=!0),T.outlineLevel!=null&&(B=!0,k.level=+T.outlineLevel),B&&(N[R-1]=k)),y=b.slice(f).split(n);for(var Q=0;Q!=y.length&&y[Q].trim().charAt(0)=="<";++Q);for(y=y.slice(Q),f=0;f!=y.length;++f)if(b=y[f].trim(),b.length!==0){if(g=b.match(t),x=f,v=0,w=0,b="<c "+(b.slice(0,1)=="<"?">":"")+b,g!=null&&g.length===2){for(x=0,S=g[1],v=0;v!=S.length&&!((w=S.charCodeAt(v)-64)<1||w>26);++v)x=26*x+w;--x,P=x}else++P;for(v=0;v!=b.length&&b.charCodeAt(v)!==62;++v);if(++v,T=Hr(b.slice(0,v),!0),T.r||(T.r=Gr({r:R-1,c:P})),S=b.slice(v),D={t:""},(g=S.match(a))!=null&&g[1]!==""&&(D.v=In(g[1])),l.cellFormula){if((g=S.match(i))!=null&&g[1]!==""){if(D.f=In(ws(g[1])).replace(/\r\n/g,`
`),l.xlfn||(D.f=mN(D.f)),g[0].indexOf('t="array"')>-1)D.F=(S.match(s)||[])[1],D.F.indexOf(":")>-1&&A.push([ra(D.F),D.F]);else if(g[0].indexOf('t="shared"')>-1){O=Hr(g[0]);var q=In(ws(g[1]));l.xlfn||(q=mN(q)),_[parseInt(O.si,10)]=[O,q,T.r]}}else(g=S.match(/<f[^>]*\/>/))&&(O=Hr(g[0]),_[O.si]&&(D.f=Wte(_[O.si][1],_[O.si][2],T.r)));var z=po(T.r);for(v=0;v<A.length;++v)z.r>=A[v][0].s.r&&z.r<=A[v][0].e.r&&z.c>=A[v][0].s.c&&z.c<=A[v][0].e.c&&(D.F=A[v][1])}if(T.t==null&&D.v===void 0)if(D.f||D.F)D.v=0,D.t="n";else if(j)D.t="z";else continue;else D.t=T.t||"n";switch(d.s.c>P&&(d.s.c=P),d.e.c<P&&(d.e.c=P),D.t){case"n":if(D.v==""||D.v==null){if(!j)continue;D.t="z"}else D.v=parseFloat(D.v);break;case"s":if(typeof D.v>"u"){if(!j)continue;D.t="z"}else L=_b[parseInt(D.v,10)],D.v=L.t,D.r=L.r,l.cellHTML&&(D.h=L.h);break;case"str":D.t="s",D.v=D.v!=null?ws(D.v):"",l.cellHTML&&(D.h=eS(D.v));break;case"inlineStr":g=S.match(e),D.t="s",g!=null&&(L=uS(g[1]))?(D.v=L.t,l.cellHTML&&(D.h=L.h)):D.v="";break;case"b":D.v=Ps(D.v);break;case"d":l.cellDates?D.v=ei(D.v,1):(D.v=yo(ei(D.v,1)),D.t="n");break;case"e":(!l||l.cellText!==!1)&&(D.w=D.v),D.v=WD[D.v];break}if(H=U=0,F=null,I&&T.s!==void 0&&(F=h.CellXf[T.s],F!=null&&(F.numFmtId!=null&&(H=F.numFmtId),l.cellStyles&&F.fillId!=null&&(U=F.fillId))),wT(D,H,U,l,p,h),l.cellDates&&I&&D.t=="n"&&pg(Zr[H])&&(D.t="d",D.v=S5(D.v)),T.cm&&l.xlmeta){var Z=(l.xlmeta.Cell||[])[+T.cm-1];Z&&Z.type=="XLDAPR"&&(D.D=!0)}if(E){var re=po(T.r);c[re.r]||(c[re.r]=[]),c[re.r][re.c]=D}else c[T.r]=D}}}}N.length>0&&(c["!rows"]=N)}}();function Pne(n,r){var t={},e=n.l+r;t.r=n.read_shift(4),n.l+=4;var s=n.read_shift(2);n.l+=1;var a=n.read_shift(1);return n.l=e,a&7&&(t.level=a&7),a&16&&(t.hidden=!0),a&32&&(t.hpt=s/20),t}var Rne=a0;function Mne(){}function One(n,r){var t={},e=n[n.l];return++n.l,t.above=!(e&64),t.left=!(e&128),n.l+=18,t.name=sZ(n),t}function Lne(n){var r=Xl(n);return[r]}function Fne(n){var r=s0(n);return[r]}function Bne(n){var r=Xl(n),t=n.read_shift(1);return[r,t,"b"]}function Une(n){var r=s0(n),t=n.read_shift(1);return[r,t,"b"]}function Hne(n){var r=Xl(n),t=n.read_shift(1);return[r,t,"e"]}function qne(n){var r=s0(n),t=n.read_shift(1);return[r,t,"e"]}function Wne(n){var r=Xl(n),t=n.read_shift(4);return[r,t,"s"]}function zne(n){var r=s0(n),t=n.read_shift(4);return[r,t,"s"]}function Vne(n){var r=Xl(n),t=Wi(n);return[r,t,"n"]}function ST(n){var r=s0(n),t=Wi(n);return[r,t,"n"]}function $ne(n){var r=Xl(n),t=oS(n);return[r,t,"n"]}function Gne(n){var r=s0(n),t=oS(n);return[r,t,"n"]}function Yne(n){var r=Xl(n),t=aS(n);return[r,t,"is"]}function Kne(n){var r=Xl(n),t=$i(n);return[r,t,"str"]}function Xne(n){var r=s0(n),t=$i(n);return[r,t,"str"]}function Jne(n,r,t){var e=n.l+r,s=Xl(n);s.r=t["!row"];var a=n.read_shift(1),i=[s,a,"b"];if(t.cellFormula){n.l+=2;var o=A5(n,e-n.l,t);i[3]=Ui(o,null,s,t.supbooks,t)}else n.l=e;return i}function Zne(n,r,t){var e=n.l+r,s=Xl(n);s.r=t["!row"];var a=n.read_shift(1),i=[s,a,"e"];if(t.cellFormula){n.l+=2;var o=A5(n,e-n.l,t);i[3]=Ui(o,null,s,t.supbooks,t)}else n.l=e;return i}function Qne(n,r,t){var e=n.l+r,s=Xl(n);s.r=t["!row"];var a=Wi(n),i=[s,a,"n"];if(t.cellFormula){n.l+=2;var o=A5(n,e-n.l,t);i[3]=Ui(o,null,s,t.supbooks,t)}else n.l=e;return i}function ese(n,r,t){var e=n.l+r,s=Xl(n);s.r=t["!row"];var a=$i(n),i=[s,a,"str"];if(t.cellFormula){n.l+=2;var o=A5(n,e-n.l,t);i[3]=Ui(o,null,s,t.supbooks,t)}else n.l=e;return i}var tse=a0;function rse(n,r){var t=n.l+r,e=a0(n),s=iS(n),a=$i(n),i=$i(n),o=$i(n);n.l=t;var u={rfx:e,relId:s,loc:a,display:o};return i&&(u.Tooltip=i),u}function nse(){}function sse(n,r,t){var e=n.l+r,s=UD(n),a=n.read_shift(1),i=[s];if(i[2]=a,t.cellFormula){var o=cne(n,e-n.l,t);i[1]=o}else n.l=e;return i}function ase(n,r,t){var e=n.l+r,s=a0(n),a=[s];if(t.cellFormula){var i=dne(n,e-n.l,t);a[1]=i,n.l=e}else n.l=e;return a}var ise=["left","right","top","bottom","header","footer"];function ose(n){var r={};return ise.forEach(function(t){r[t]=Wi(n)}),r}function lse(n){var r=n.read_shift(2);return n.l+=28,{RTL:r&32}}function cse(){}function use(){}function dse(n,r,t,e,s,a,i){if(!n)return n;var o=r||{};e||(e={"!id":{}});var u=o.dense?[]:{},c,l={s:{r:2e6,c:2e6},e:{r:0,c:0}},d=!1,p=!1,h,f,b,y,g,x,v,w,S,D=[];o.biff=12,o["!row"]=0;var T=0,R=!1,P=[],L={},O=o.supbooks||s.supbooks||[[]];if(O.sharedf=L,O.arrayf=P,O.SheetNames=s.SheetNames||s.Sheets.map(function(E){return E.name}),!o.supbooks&&(o.supbooks=O,s.Names))for(var H=0;H<s.Names.length;++H)O[0][H+1]=s.Names[H];var U=[],I=[],F=!1;Sw[16]={n:"BrtShortReal",f:ST};var A;if(kh(n,function(N,k,B){if(!p)switch(B){case 148:c=N;break;case 0:h=N,o.sheetRows&&o.sheetRows<=h.r&&(p=!0),w=gi(y=h.r),o["!row"]=h.r,(N.hidden||N.hpt||N.level!=null)&&(N.hpt&&(N.hpx=Ub(N.hpt)),I[N.r]=N);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(f={t:N[2]},N[2]){case"n":f.v=N[1];break;case"s":v=_b[N[1]],f.v=v.t,f.r=v.r;break;case"b":f.v=!!N[1];break;case"e":f.v=N[1],o.cellText!==!1&&(f.w=i0[f.v]);break;case"str":f.t="s",f.v=N[1];break;case"is":f.t="s",f.v=N[1].t;break}if((b=i.CellXf[N[0].iStyleRef])&&wT(f,b.numFmtId,null,o,a,i),g=N[0].c==-1?g+1:N[0].c,o.dense?(u[y]||(u[y]=[]),u[y][g]=f):u[Ha(g)+w]=f,o.cellFormula){for(R=!1,T=0;T<P.length;++T){var j=P[T];h.r>=j[0].s.r&&h.r<=j[0].e.r&&g>=j[0].s.c&&g<=j[0].e.c&&(f.F=Nn(j[0]),R=!0)}!R&&N.length>3&&(f.f=N[3])}if(l.s.r>h.r&&(l.s.r=h.r),l.s.c>g&&(l.s.c=g),l.e.r<h.r&&(l.e.r=h.r),l.e.c<g&&(l.e.c=g),o.cellDates&&b&&f.t=="n"&&pg(Zr[b.numFmtId])){var M=Dp(f.v);M&&(f.t="d",f.v=new Date(M.y,M.m-1,M.d,M.H,M.M,M.S,M.u))}A&&(A.type=="XLDAPR"&&(f.D=!0),A=void 0);break;case 1:case 12:if(!o.sheetStubs||d)break;f={t:"z",v:void 0},g=N[0].c==-1?g+1:N[0].c,o.dense?(u[y]||(u[y]=[]),u[y][g]=f):u[Ha(g)+w]=f,l.s.r>h.r&&(l.s.r=h.r),l.s.c>g&&(l.s.c=g),l.e.r<h.r&&(l.e.r=h.r),l.e.c<g&&(l.e.c=g),A&&(A.type=="XLDAPR"&&(f.D=!0),A=void 0);break;case 176:D.push(N);break;case 49:A=((o.xlmeta||{}).Cell||[])[N-1];break;case 494:var G=e["!id"][N.relId];for(G?(N.Target=G.Target,N.loc&&(N.Target+="#"+N.loc),N.Rel=G):N.relId==""&&(N.Target="#"+N.loc),y=N.rfx.s.r;y<=N.rfx.e.r;++y)for(g=N.rfx.s.c;g<=N.rfx.e.c;++g)o.dense?(u[y]||(u[y]=[]),u[y][g]||(u[y][g]={t:"z",v:void 0}),u[y][g].l=N):(x=Gr({c:g,r:y}),u[x]||(u[x]={t:"z",v:void 0}),u[x].l=N);break;case 426:if(!o.cellFormula)break;P.push(N),S=o.dense?u[y][g]:u[Ha(g)+w],S.f=Ui(N[1],l,{r:h.r,c:g},O,o),S.F=Nn(N[0]);break;case 427:if(!o.cellFormula)break;L[Gr(N[0].s)]=N[1],S=o.dense?u[y][g]:u[Ha(g)+w],S.f=Ui(N[1],l,{r:h.r,c:g},O,o);break;case 60:if(!o.cellStyles)break;for(;N.e>=N.s;)U[N.e--]={width:N.w/256,hidden:!!(N.flags&1),level:N.level},F||(F=!0,dS(N.w/256)),og(U[N.e+1]);break;case 161:u["!autofilter"]={ref:Nn(N)};break;case 476:u["!margins"]=N;break;case 147:s.Sheets[t]||(s.Sheets[t]={}),N.name&&(s.Sheets[t].CodeName=N.name),(N.above||N.left)&&(u["!outline"]={above:N.above,left:N.left});break;case 137:s.Views||(s.Views=[{}]),s.Views[0]||(s.Views[0]={}),N.RTL&&(s.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:d=!0;break;case 36:d=!1;break;case 37:d=!0;break;case 38:d=!1;break;default:if(!k.T){if(!d||o.WTF)throw new Error("Unexpected record 0x"+B.toString(16))}}},o),delete o.supbooks,delete o["!row"],!u["!ref"]&&(l.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(u["!ref"]=Nn(c||l)),o.sheetRows&&u["!ref"]){var _=ra(u["!ref"]);o.sheetRows<=+_.e.r&&(_.e.r=o.sheetRows-1,_.e.r>l.e.r&&(_.e.r=l.e.r),_.e.r<_.s.r&&(_.s.r=_.e.r),_.e.c>l.e.c&&(_.e.c=l.e.c),_.e.c<_.s.c&&(_.s.c=_.e.c),u["!fullref"]=u["!ref"],u["!ref"]=Nn(_))}return D.length>0&&(u["!merges"]=D),U.length>0&&(u["!cols"]=U),I.length>0&&(u["!rows"]=I),u}function hse(n){var r=[],t=n.match(/^<c:numCache>/),e;(n.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var i=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(r[+i[1]]=t?+i[2]:i[2])});var s=In((n.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(n.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){e=a.replace(/<.*?>/g,"")}),[r,s,e]}function fse(n,r,t,e,s,a){var i=a||{"!type":"chart"};if(!n)return a;var o=0,u=0,c="A",l={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(n.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(d){var p=hse(d);l.s.r=l.s.c=0,l.e.c=o,c=Ha(o),p[0].forEach(function(h,f){i[c+gi(f)]={t:"n",v:h,z:p[1]},u=f}),l.e.r<u&&(l.e.r=u),++o}),o>0&&(i["!ref"]=Nn(l)),i}function pse(n,r,t,e,s){if(!n)return n;e||(e={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},i,o=n.match(_T);return o&&fS(o[0],a,s,t),(i=n.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=i[1]),e["!id"][a["!rel"]]&&(a["!drawel"]=e["!id"][a["!rel"]]),a}function mse(n,r){n.l+=10;var t=$i(n);return{name:t}}function gse(n,r,t,e,s){if(!n)return n;e||(e={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},i=!1;return kh(n,function(u,c,l){switch(l){case 550:a["!rel"]=u;break;case 651:s.Sheets[t]||(s.Sheets[t]={}),u.name&&(s.Sheets[t].CodeName=u.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!i||r.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}}},r),e["!id"][a["!rel"]]&&(a["!drawel"]=e["!id"][a["!rel"]]),a}var ET=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],bse=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],yse=[],vse=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function xN(n,r){for(var t=0;t!=n.length;++t)for(var e=n[t],s=0;s!=r.length;++s){var a=r[s];if(e[a[0]]==null)e[a[0]]=a[1];else switch(a[2]){case"bool":typeof e[a[0]]=="string"&&(e[a[0]]=Ps(e[a[0]]));break;case"int":typeof e[a[0]]=="string"&&(e[a[0]]=parseInt(e[a[0]],10));break}}}function wN(n,r){for(var t=0;t!=r.length;++t){var e=r[t];if(n[e[0]]==null)n[e[0]]=e[1];else switch(e[2]){case"bool":typeof n[e[0]]=="string"&&(n[e[0]]=Ps(n[e[0]]));break;case"int":typeof n[e[0]]=="string"&&(n[e[0]]=parseInt(n[e[0]],10));break}}}function NT(n){wN(n.WBProps,ET),wN(n.CalcPr,vse),xN(n.WBView,bse),xN(n.Sheets,yse),t1.date1904=Ps(n.WBProps.date1904)}var xse="][*?/\\".split("");function wse(n,r){if(n.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return xse.forEach(function(e){if(n.indexOf(e)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}var _se=/<\w+:workbook/;function Sse(n,r){if(!n)throw new Error("Could not find file");var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},e=!1,s="xmlns",a={},i=0;if(n.replace(Ki,function(u,c){var l=Hr(u);switch(ed(l[0])){case"<?xml":break;case"<workbook":u.match(_se)&&(s="xmlns"+u.match(/<(\w+):/)[1]),t.xmlns=l[s];break;case"</workbook>":break;case"<fileVersion":delete l[0],t.AppVersion=l;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":ET.forEach(function(d){if(l[d[0]]!=null)switch(d[2]){case"bool":t.WBProps[d[0]]=Ps(l[d[0]]);break;case"int":t.WBProps[d[0]]=parseInt(l[d[0]],10);break;default:t.WBProps[d[0]]=l[d[0]]}}),l.codeName&&(t.WBProps.CodeName=ws(l.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete l[0],t.WBView.push(l);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(l.state){case"hidden":l.Hidden=1;break;case"veryHidden":l.Hidden=2;break;default:l.Hidden=0}delete l.state,l.name=In(ws(l.name)),delete l[0],t.Sheets.push(l);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":e=!0;break;case"</definedNames>":e=!1;break;case"<definedName":a={},a.Name=ws(l.name),l.comment&&(a.Comment=l.comment),l.localSheetId&&(a.Sheet=+l.localSheetId),Ps(l.hidden||"0")&&(a.Hidden=!0),i=c+u.length;break;case"</definedName>":a.Ref=In(ws(n.slice(i,c))),t.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete l[0],t.CalcPr=l;break;case"<calcPr/>":delete l[0],t.CalcPr=l;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":e=!0;break;case"</ext>":e=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":e=!0;break;case"</AlternateContent>":e=!1;break;case"<revisionPtr":break;default:if(!e&&r.WTF)throw new Error("unrecognized "+l[0]+" in workbook")}return u}),HJ.indexOf(t.xmlns)===-1)throw new Error("Unknown Namespace: "+t.xmlns);return NT(t),t}function Ese(n,r){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=e8(n),t.name=$i(n),t}function Nse(n,r){var t={},e=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var s=r>8?$i(n):"";return s.length>0&&(t.CodeName=s),t.autoCompressPictures=!!(e&65536),t.backupFile=!!(e&64),t.checkCompatibility=!!(e&4096),t.date1904=!!(e&1),t.filterPrivacy=!!(e&8),t.hidePivotFieldList=!!(e&1024),t.promptedSolutions=!!(e&16),t.publishItems=!!(e&2048),t.refreshAllConnections=!!(e&262144),t.saveExternalLinkValues=!!(e&128),t.showBorderUnselectedTables=!!(e&4),t.showInkAnnotation=!!(e&32),t.showObjects=["all","placeholders","none"][e>>13&3],t.showPivotChartFilter=!!(e&32768),t.updateLinks=["userSet","never","always"][e>>8&3],t}function Ase(n,r){var t={};return n.read_shift(4),t.ArchID=n.read_shift(4),n.l+=r-8,t}function kse(n,r,t){var e=n.l+r;n.l+=4,n.l+=1;var s=n.read_shift(4),a=aZ(n),i=une(n,0,t),o=iS(n);n.l=e;var u={Name:a,Ptg:i};return s<268435455&&(u.Sheet=s),o&&(u.Comment=o),u}function Cse(n,r){var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},e=[],s=!1;r||(r={}),r.biff=12;var a=[],i=[[]];return i.SheetNames=[],i.XTI=[],Sw[16]={n:"BrtFRTArchID$",f:Ase},kh(n,function(u,c,l){switch(l){case 156:i.SheetNames.push(u.name),t.Sheets.push(u);break;case 153:t.WBProps=u;break;case 39:u.Sheet!=null&&(r.SID=u.Sheet),u.Ref=Ui(u.Ptg,null,null,i,r),delete r.SID,delete u.Ptg,a.push(u);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([l,u]):i[0]=[l,u],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(u),i.XTI=i.XTI.concat(u);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:e.push(l),s=!0;break;case 36:e.pop(),s=!1;break;case 37:e.push(l),s=!0;break;case 38:e.pop(),s=!1;break;case 16:break;default:if(!c.T){if(!s||r.WTF&&e[e.length-1]!=37&&e[e.length-1]!=35)throw new Error("Unexpected record 0x"+l.toString(16))}}},r),NT(t),t.Names=a,t.supbooks=i,t}function Dse(n,r,t){return r.slice(-4)===".bin"?Cse(n,t):Sse(n,t)}function Tse(n,r,t,e,s,a,i,o){return r.slice(-4)===".bin"?dse(n,e,t,s,a,i,o):Ene(n,e,t,s,a,i,o)}function jse(n,r,t,e,s,a,i,o){return r.slice(-4)===".bin"?gse(n,e,t,s,a):pse(n,e,t,s,a)}function Ise(n,r,t,e,s,a,i,o){return r.slice(-4)===".bin"?Ute():Hte()}function Pse(n,r,t,e,s,a,i,o){return r.slice(-4)===".bin"?Fte():Bte()}function Rse(n,r,t,e){return r.slice(-4)===".bin"?tte(n,t,e):Kee(n,t,e)}function Mse(n,r,t){return dT(n,t)}function Ose(n,r,t){return r.slice(-4)===".bin"?bee(n,t):mee(n,t)}function Lse(n,r,t){return r.slice(-4)===".bin"?Mte(n,t):Tte(n,t)}function Fse(n,r,t){return r.slice(-4)===".bin"?kte(n):Nte(n)}function Bse(n,r,t,e){return t.slice(-4)===".bin"?Cte(n,r,t,e):void 0}function Use(n,r,t){return r.slice(-4)===".bin"?Ste(n,r,t):Ete(n,r,t)}var AT=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,kT=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function wc(n,r){var t=n.split(/\s+/),e=[];if(e[0]=t[0],t.length===1)return e;var s=n.match(AT),a,i,o,u;if(s)for(u=0;u!=s.length;++u)a=s[u].match(kT),(i=a[1].indexOf(":"))===-1?e[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(i+1),e[o]=a[2].slice(1,a[2].length-1));return e}function Hse(n){var r=n.split(/\s+/),t={};if(r.length===1)return t;var e=n.match(AT),s,a,i,o;if(e)for(o=0;o!=e.length;++o)s=e[o].match(kT),(a=s[1].indexOf(":"))===-1?t[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?i="xmlns"+s[1].slice(6):i=s[1].slice(a+1),t[i]=s[2].slice(1,s[2].length-1));return t}var Eb;function qse(n,r){var t=Eb[n]||In(n);return t==="General"?Hm(r):Kl(t,r)}function Wse(n,r,t,e){var s=e;switch((t[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":s=Ps(e);break;case"i2":case"int":s=parseInt(e,10);break;case"r4":case"float":s=parseFloat(e);break;case"date":case"dateTime.tz":s=ei(e);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+t[0])}n[In(r)]=s}function zse(n,r,t){if(n.t!=="z"){if(!t||t.cellText!==!1)try{n.t==="e"?n.w=n.w||i0[n.v]:r==="General"?n.t==="n"?(n.v|0)===n.v?n.w=n.v.toString(10):n.w=Mb(n.v):n.w=Hm(n.v):n.w=qse(r||"General",n.v)}catch(a){if(t.WTF)throw a}try{var e=Eb[r]||r||"General";if(t.cellNF&&(n.z=e),t.cellDates&&n.t=="n"&&pg(e)){var s=Dp(n.v);s&&(n.t="d",n.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}catch(a){if(t.WTF)throw a}}}function Vse(n,r,t){if(t.cellStyles&&r.Interior){var e=r.Interior;e.Pattern&&(e.patternType=Wee[e.Pattern]||e.Pattern)}n[r.ID]=r}function $se(n,r,t,e,s,a,i,o,u,c){var l="General",d=e.StyleID,p={};c=c||{};var h=[],f=0;for(d===void 0&&o&&(d=o.StyleID),d===void 0&&i&&(d=i.StyleID);a[d]!==void 0&&(a[d].nf&&(l=a[d].nf),a[d].Interior&&h.push(a[d].Interior),!!a[d].Parent);)d=a[d].Parent;switch(t.Type){case"Boolean":e.t="b",e.v=Ps(n);break;case"String":e.t="s",e.r=W7(In(n)),e.v=n.indexOf("<")>-1?In(r||n).replace(/<.*?>/g,""):e.r;break;case"DateTime":n.slice(-1)!="Z"&&(n+="Z"),e.v=(ei(n)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),e.v!==e.v?e.v=In(n):e.v<60&&(e.v=e.v-1),(!l||l=="General")&&(l="yyyy-mm-dd");case"Number":e.v===void 0&&(e.v=+n),e.t||(e.t="n");break;case"Error":e.t="e",e.v=WD[n],c.cellText!==!1&&(e.w=n);break;default:n==""&&r==""?e.t="z":(e.t="s",e.v=W7(r||n));break}if(zse(e,l,c),c.cellFormula!==!1)if(e.Formula){var b=In(e.Formula);b.charCodeAt(0)==61&&(b=b.slice(1)),e.f=e1(b,s),delete e.Formula,e.ArrayRange=="RC"?e.F=e1("RC:RC",s):e.ArrayRange&&(e.F=e1(e.ArrayRange,s),u.push([ra(e.F),e.F]))}else for(f=0;f<u.length;++f)s.r>=u[f][0].s.r&&s.r<=u[f][0].e.r&&s.c>=u[f][0].s.c&&s.c<=u[f][0].e.c&&(e.F=u[f][1]);c.cellStyles&&(h.forEach(function(y){!p.patternType&&y.patternType&&(p.patternType=y.patternType)}),e.s=p),e.StyleID!==void 0&&(e.ixfe=e.StyleID)}function Gse(n){n.t=n.v||"",n.t=n.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),n.v=n.w=n.ixfe=void 0}function Z6(n,r){var t=r||{};mD();var e=sb(tS(n));(t.type=="binary"||t.type=="array"||t.type=="base64")&&(e=ws(e));var s=e.slice(0,1024).toLowerCase(),a=!1;if(s=s.replace(/".*?"/g,""),(s.indexOf(">")&1023)>Math.min(s.indexOf(",")&1023,s.indexOf(";")&1023)){var i=mi(t);return i.type="string",Fb.to_workbook(e,i)}if(s.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(he){s.indexOf("<"+he)>=0&&(a=!0)}),a)return rae(e,t);Eb={"General Number":"General","General Date":Zr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Zr[15],"Short Date":Zr[14],"Long Time":Zr[19],"Medium Time":Zr[18],"Short Time":Zr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Zr[2],Standard:Zr[4],Percent:Zr[10],Scientific:Zr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,u=[],c,l={},d=[],p=t.dense?[]:{},h="",f={},b={},y=wc('<Data ss:Type="String">'),g=0,x=0,v=0,w={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},D={},T="",R=0,P=[],L={},O={},H=0,U=[],I=[],F={},A=[],_,E=!1,N=[],k=[],B={},j=0,M=0,G={Sheets:[],WBProps:{date1904:!1}},Y={};Lb.lastIndex=0,e=e.replace(/<!--([\s\S]*?)-->/mg,"");for(var J="";o=Lb.exec(e);)switch(o[3]=(J=o[3]).toLowerCase()){case"data":if(J=="data"){if(o[1]==="/"){if((c=u.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&u.push([o[3],!0]);break}if(u[u.length-1][1])break;o[1]==="/"?$se(e.slice(g,o.index),T,y,u[u.length-1][0]=="comment"?F:f,{c:x,r:v},S,A[x],b,N,t):(T="",y=wc(o[0]),g=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(I.length>0&&(f.c=I),(!t.sheetRows||t.sheetRows>v)&&f.v!==void 0&&(t.dense?(p[v]||(p[v]=[]),p[v][x]=f):p[Ha(x)+gi(v)]=f),f.HRef&&(f.l={Target:In(f.HRef)},f.HRefScreenTip&&(f.l.Tooltip=f.HRefScreenTip),delete f.HRef,delete f.HRefScreenTip),(f.MergeAcross||f.MergeDown)&&(j=x+(parseInt(f.MergeAcross,10)|0),M=v+(parseInt(f.MergeDown,10)|0),P.push({s:{c:x,r:v},e:{c:j,r:M}})),!t.sheetStubs)f.MergeAcross?x=j+1:++x;else if(f.MergeAcross||f.MergeDown){for(var V=x;V<=j;++V)for(var Q=v;Q<=M;++Q)(V>x||Q>v)&&(t.dense?(p[Q]||(p[Q]=[]),p[Q][V]={t:"z"}):p[Ha(V)+gi(Q)]={t:"z"});x=j+1}else++x;else f=Hse(o[0]),f.Index&&(x=+f.Index-1),x<w.s.c&&(w.s.c=x),x>w.e.c&&(w.e.c=x),o[0].slice(-2)==="/>"&&++x,I=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(v<w.s.r&&(w.s.r=v),v>w.e.r&&(w.e.r=v),o[0].slice(-2)==="/>"&&(b=wc(o[0]),b.Index&&(v=+b.Index-1)),x=0,++v):(b=wc(o[0]),b.Index&&(v=+b.Index-1),B={},(b.AutoFitHeight=="0"||b.Height)&&(B.hpx=parseInt(b.Height,10),B.hpt=uT(B.hpx),k[v]=B),b.Hidden=="1"&&(B.hidden=!0,k[v]=B));break;case"worksheet":if(o[1]==="/"){if((c=u.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));d.push(h),w.s.r<=w.e.r&&w.s.c<=w.e.c&&(p["!ref"]=Nn(w),t.sheetRows&&t.sheetRows<=w.e.r&&(p["!fullref"]=p["!ref"],w.e.r=t.sheetRows-1,p["!ref"]=Nn(w))),P.length&&(p["!merges"]=P),A.length>0&&(p["!cols"]=A),k.length>0&&(p["!rows"]=k),l[h]=p}else w={s:{r:2e6,c:2e6},e:{r:0,c:0}},v=x=0,u.push([o[3],!1]),c=wc(o[0]),h=In(c.Name),p=t.dense?[]:{},P=[],N=[],k=[],Y={name:h,Hidden:0},G.Sheets.push(Y);break;case"table":if(o[1]==="/"){if((c=u.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;u.push([o[3],!1]),A=[],E=!1}break;case"style":o[1]==="/"?Vse(S,D,t):D=wc(o[0]);break;case"numberformat":D.nf=In(wc(o[0]).Format||"General"),Eb[D.nf]&&(D.nf=Eb[D.nf]);for(var q=0;q!=392&&Zr[q]!=D.nf;++q);if(q==392){for(q=57;q!=392;++q)if(Zr[q]==null){Im(D.nf,q);break}}break;case"column":if(u[u.length-1][0]!=="table")break;if(_=wc(o[0]),_.Hidden&&(_.hidden=!0,delete _.Hidden),_.Width&&(_.wpx=parseInt(_.Width,10)),!E&&_.wpx>10){E=!0,uo=lT;for(var z=0;z<A.length;++z)A[z]&&og(A[z])}E&&og(_),A[_.Index-1||A.length]=_;for(var Z=0;Z<+_.Span;++Z)A[A.length]=mi(_);break;case"namedrange":if(o[1]==="/")break;G.Names||(G.Names=[]);var re=Hr(o[0]),le={Name:re.Name,Ref:e1(re.RefersTo.slice(1),{r:0,c:0})};G.Sheets.length>0&&(le.Sheet=G.Sheets.length-1),G.Names.push(le);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?T+=e.slice(R,o.index):R=o.index+o[0].length;break;case"interior":if(!t.cellStyles)break;D.Interior=wc(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?TZ(L,J,e.slice(H,o.index)):H=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=u.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else u.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=u.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));Gse(F),I.push(F)}else u.push([o[3],!1]),c=wc(o[0]),F={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=u.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var ue=wc(o[0]);p["!autofilter"]={ref:e1(ue.Range).replace(/\$/g,"")},u.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=u.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&u.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=u.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&u.push([o[3],!0]);break;case"null":break;default:if(u.length==0&&o[3]=="document"||u.length==0&&o[3]=="uof")return kN(e,t);var ce=!0;switch(u[u.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ce=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ce=!1}break;case"excelworkbook":switch(o[3]){case"date1904":G.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ce=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:ce=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(e.slice(H,o.index)){case"SheetHidden":Y.Hidden=1;break;case"SheetVeryHidden":Y.Hidden=2;break}else H=o.index+o[0].length;break;case"header":p["!margins"]||Sb(p["!margins"]={},"xlml"),isNaN(+Hr(o[0]).Margin)||(p["!margins"].header=+Hr(o[0]).Margin);break;case"footer":p["!margins"]||Sb(p["!margins"]={},"xlml"),isNaN(+Hr(o[0]).Margin)||(p["!margins"].footer=+Hr(o[0]).Margin);break;case"pagemargins":var ie=Hr(o[0]);p["!margins"]||Sb(p["!margins"]={},"xlml"),isNaN(+ie.Top)||(p["!margins"].top=+ie.Top),isNaN(+ie.Left)||(p["!margins"].left=+ie.Left),isNaN(+ie.Right)||(p["!margins"].right=+ie.Right),isNaN(+ie.Bottom)||(p["!margins"].bottom=+ie.Bottom);break;case"displayrighttoleft":G.Views||(G.Views=[]),G.Views[0]||(G.Views[0]={}),G.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ce=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ce=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ce=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ce=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ce=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ce=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ce=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ce=!1}break;case"smarttags":break;default:ce=!1;break}if(ce||o[3].match(/!\[CDATA/))break;if(!u[u.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+u.join("|");if(u[u.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?Wse(O,J,U,e.slice(H,o.index)):(U=o,H=o.index+o[0].length);break}if(t.WTF)throw"Unrecognized tag: "+o[3]+"|"+u.join("|")}var ye={};return!t.bookSheets&&!t.bookProps&&(ye.Sheets=l),ye.SheetNames=d,ye.Workbook=G,ye.SSF=mi(Zr),ye.Props=L,ye.Custprops=O,ye}function s8(n,r){switch(gS(r=r||{}),r.type||"base64"){case"base64":return Z6(vl(n),r);case"binary":case"buffer":case"file":return Z6(n,r);case"array":return Z6(n0(n),r)}}function Yse(n){var r={},t=n.content;if(t.l=28,r.AnsiUserType=t.read_shift(0,"lpstr-ansi"),r.AnsiClipboardFormat=lZ(t),t.length-t.l<=4)return r;var e=t.read_shift(4);if(e==0||e>40||(t.l-=4,r.Reserved1=t.read_shift(0,"lpstr-ansi"),t.length-t.l<=4)||(e=t.read_shift(4),e!==1907505652)||(r.UnicodeClipboardFormat=cZ(t),e=t.read_shift(4),e==0||e>40))return r;t.l-=4,r.Reserved2=t.read_shift(0,"lpwstr")}var Kse=[60,1084,2066,2165,2175];function Xse(n,r,t,e,s){var a=e,i=[],o=t.slice(t.l,t.l+a);if(s&&s.enc&&s.enc.insitu&&o.length>0)switch(n){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:s.enc.insitu(o)}i.push(o),t.l+=a;for(var u=dh(t,t.l),c=a8[u],l=0;c!=null&&Kse.indexOf(u)>-1;)a=dh(t,t.l+2),l=t.l+4,u==2066?l+=4:(u==2165||u==2175)&&(l+=12),o=t.slice(l,t.l+4+a),i.push(o),t.l+=4+a,c=a8[u=dh(t,t.l)];var d=Qh(i);pi(d,0);var p=0;d.lens=[];for(var h=0;h<i.length;++h)d.lens.push(p),p+=i[h].length;if(d.length<e)throw"XLS Record 0x"+n.toString(16)+" Truncated: "+d.length+" < "+e;return r.f(d,d.length,s)}function gu(n,r,t){if(n.t!=="z"&&n.XF){var e=0;try{e=n.z||n.XF.numFmtId||0,r.cellNF&&(n.z=Zr[e])}catch(a){if(r.WTF)throw a}if(!r||r.cellText!==!1)try{n.t==="e"?n.w=n.w||i0[n.v]:e===0||e=="General"?n.t==="n"?(n.v|0)===n.v?n.w=n.v.toString(10):n.w=Mb(n.v):n.w=Hm(n.v):n.w=Kl(e,n.v,{date1904:!!t,dateNF:r&&r.dateNF})}catch(a){if(r.WTF)throw a}if(r.cellDates&&e&&n.t=="n"&&pg(Zr[e]||String(e))){var s=Dp(n.v);s&&(n.t="d",n.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}}function ax(n,r,t){return{v:n,ixfe:r,t}}function Jse(n,r){var t={opts:{}},e={},s=r.dense?[]:{},a={},i={},o=null,u=[],c="",l={},d,p="",h,f,b,y,g={},x=[],v,w,S=[],D=[],T={Sheets:[],WBProps:{date1904:!1},Views:[{}]},R={},P=function(at){return at<8?Pm[at]:at<64&&D[at-8]||Pm[at]},L=function(at,ze,wt){var vt=ze.XF.data;if(!(!vt||!vt.patternType||!wt||!wt.cellStyles)){ze.s={},ze.s.patternType=vt.patternType;var kt;(kt=Bb(P(vt.icvFore)))&&(ze.s.fgColor={rgb:kt}),(kt=Bb(P(vt.icvBack)))&&(ze.s.bgColor={rgb:kt})}},O=function(at,ze,wt){if(!(B>1)&&!(wt.sheetRows&&at.r>=wt.sheetRows)){if(wt.cellStyles&&ze.XF&&ze.XF.data&&L(at,ze,wt),delete ze.ixfe,delete ze.XF,d=at,p=Gr(at),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),at.r<i.s.r&&(i.s.r=at.r),at.c<i.s.c&&(i.s.c=at.c),at.r+1>i.e.r&&(i.e.r=at.r+1),at.c+1>i.e.c&&(i.e.c=at.c+1),wt.cellFormula&&ze.f){for(var vt=0;vt<x.length;++vt)if(!(x[vt][0].s.c>at.c||x[vt][0].s.r>at.r)&&!(x[vt][0].e.c<at.c||x[vt][0].e.r<at.r)){ze.F=Nn(x[vt][0]),(x[vt][0].s.c!=at.c||x[vt][0].s.r!=at.r)&&delete ze.f,ze.f&&(ze.f=""+Ui(x[vt][1],i,at,N,H));break}}wt.dense?(s[at.r]||(s[at.r]=[]),s[at.r][at.c]=ze):s[p]=ze}},H={enc:!1,sbcch:0,snames:[],sharedf:g,arrayf:x,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!r&&!!r.cellStyles,WTF:!!r&&!!r.wtf};r.password&&(H.password=r.password);var U,I=[],F=[],A=[],_=[],E=!1,N=[];N.SheetNames=H.snames,N.sharedf=H.sharedf,N.arrayf=H.arrayf,N.names=[],N.XTI=[];var k=0,B=0,j=0,M=[],G=[],Y;H.codepage=1200,Uc(1200);for(var J=!1;n.l<n.length-1;){var V=n.l,Q=n.read_shift(2);if(Q===0&&k===10)break;var q=n.l===n.length?0:n.read_shift(2),z=a8[Q];if(z&&z.f){if(r.bookSheets&&k===133&&Q!==133)break;if(k=Q,z.r===2||z.r==12){var Z=n.read_shift(2);if(q-=2,!H.enc&&Z!==Q&&((Z&255)<<8|Z>>8)!==Q)throw new Error("rt mismatch: "+Z+"!="+Q);z.r==12&&(n.l+=10,q-=10)}var re={};if(Q===10?re=z.f(n,q,H):re=Xse(Q,z,n,q,H),B==0&&[9,521,1033,2057].indexOf(k)===-1)continue;switch(Q){case 34:t.opts.Date1904=T.WBProps.date1904=re;break;case 134:t.opts.WriteProtect=!0;break;case 47:if(H.enc||(n.l=0),H.enc=re,!r.password)throw new Error("File is password-protected");if(re.valid==null)throw new Error("Encryption scheme unsupported");if(!re.valid)throw new Error("Password is incorrect");break;case 92:H.lastuser=re;break;case 66:var le=Number(re);switch(le){case 21010:le=1200;break;case 32768:le=1e4;break;case 32769:le=1252;break}Uc(H.codepage=le),J=!0;break;case 317:H.rrtabid=re;break;case 25:H.winlocked=re;break;case 439:t.opts.RefreshAll=re;break;case 12:t.opts.CalcCount=re;break;case 16:t.opts.CalcDelta=re;break;case 17:t.opts.CalcIter=re;break;case 13:t.opts.CalcMode=re;break;case 14:t.opts.CalcPrecision=re;break;case 95:t.opts.CalcSaveRecalc=re;break;case 15:H.CalcRefMode=re;break;case 2211:t.opts.FullCalc=re;break;case 129:re.fDialog&&(s["!type"]="dialog"),re.fBelow||((s["!outline"]||(s["!outline"]={})).above=!0),re.fRight||((s["!outline"]||(s["!outline"]={})).left=!0);break;case 224:S.push(re);break;case 430:N.push([re]),N[N.length-1].XTI=[];break;case 35:case 547:N[N.length-1].push(re);break;case 24:case 536:Y={Name:re.Name,Ref:Ui(re.rgce,i,null,N,H)},re.itab>0&&(Y.Sheet=re.itab-1),N.names.push(Y),N[0]||(N[0]=[],N[0].XTI=[]),N[N.length-1].push(re),re.Name=="_xlnm._FilterDatabase"&&re.itab>0&&re.rgce&&re.rgce[0]&&re.rgce[0][0]&&re.rgce[0][0][0]=="PtgArea3d"&&(G[re.itab-1]={ref:Nn(re.rgce[0][0][1][2])});break;case 22:H.ExternCount=re;break;case 23:N.length==0&&(N[0]=[],N[0].XTI=[]),N[N.length-1].XTI=N[N.length-1].XTI.concat(re),N.XTI=N.XTI.concat(re);break;case 2196:if(H.biff<8)break;Y!=null&&(Y.Comment=re[1]);break;case 18:s["!protect"]=re;break;case 19:re!==0&&H.WTF&&console.error("Password verifier: "+re);break;case 133:a[re.pos]=re,H.snames.push(re.name);break;case 10:{if(--B)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,s["!ref"]=Nn(i),r.sheetRows&&r.sheetRows<=i.e.r){var ue=i.e.r;i.e.r=r.sheetRows-1,s["!fullref"]=s["!ref"],s["!ref"]=Nn(i),i.e.r=ue}i.e.r++,i.e.c++}I.length>0&&(s["!merges"]=I),F.length>0&&(s["!objects"]=F),A.length>0&&(s["!cols"]=A),_.length>0&&(s["!rows"]=_),T.Sheets.push(R)}c===""?l=s:e[c]=s,s=r.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(H.biff===8&&(H.biff={9:2,521:3,1033:4}[Q]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[re.BIFFVer]||8),H.biffguess=re.BIFFVer==0,re.BIFFVer==0&&re.dt==4096&&(H.biff=5,J=!0,Uc(H.codepage=28591)),H.biff==8&&re.BIFFVer==0&&re.dt==16&&(H.biff=2),B++)break;if(s=r.dense?[]:{},H.biff<8&&!J&&(J=!0,Uc(H.codepage=r.codepage||1252)),H.biff<5||re.BIFFVer==0&&re.dt==4096){c===""&&(c="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var ce={pos:n.l-q,name:c};a[ce.pos]=ce,H.snames.push(c)}else c=(a[V]||{name:""}).name;re.dt==32&&(s["!type"]="chart"),re.dt==64&&(s["!type"]="macro"),I=[],F=[],H.arrayf=x=[],A=[],_=[],E=!1,R={Hidden:(a[V]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:s["!type"]=="chart"&&(r.dense?(s[re.r]||[])[re.c]:s[Gr({c:re.c,r:re.r})])&&++re.c,v={ixfe:re.ixfe,XF:S[re.ixfe]||{},v:re.val,t:"n"},j>0&&(v.z=M[v.ixfe>>8&63]),gu(v,r,t.opts.Date1904),O({c:re.c,r:re.r},v,r);break;case 5:case 517:v={ixfe:re.ixfe,XF:S[re.ixfe],v:re.val,t:re.t},j>0&&(v.z=M[v.ixfe>>8&63]),gu(v,r,t.opts.Date1904),O({c:re.c,r:re.r},v,r);break;case 638:v={ixfe:re.ixfe,XF:S[re.ixfe],v:re.rknum,t:"n"},j>0&&(v.z=M[v.ixfe>>8&63]),gu(v,r,t.opts.Date1904),O({c:re.c,r:re.r},v,r);break;case 189:for(var ie=re.c;ie<=re.C;++ie){var ye=re.rkrec[ie-re.c][0];v={ixfe:ye,XF:S[ye],v:re.rkrec[ie-re.c][1],t:"n"},j>0&&(v.z=M[v.ixfe>>8&63]),gu(v,r,t.opts.Date1904),O({c:ie,r:re.r},v,r)}break;case 6:case 518:case 1030:{if(re.val=="String"){o=re;break}if(v=ax(re.val,re.cell.ixfe,re.tt),v.XF=S[v.ixfe],r.cellFormula){var he=re.formula;if(he&&he[0]&&he[0][0]&&he[0][0][0]=="PtgExp"){var pe=he[0][0][1][0],xe=he[0][0][1][1],Oe=Gr({r:pe,c:xe});g[Oe]?v.f=""+Ui(re.formula,i,re.cell,N,H):v.F=((r.dense?(s[pe]||[])[xe]:s[Oe])||{}).F}else v.f=""+Ui(re.formula,i,re.cell,N,H)}j>0&&(v.z=M[v.ixfe>>8&63]),gu(v,r,t.opts.Date1904),O(re.cell,v,r),o=re}break;case 7:case 519:if(o)o.val=re,v=ax(re,o.cell.ixfe,"s"),v.XF=S[v.ixfe],r.cellFormula&&(v.f=""+Ui(o.formula,i,o.cell,N,H)),j>0&&(v.z=M[v.ixfe>>8&63]),gu(v,r,t.opts.Date1904),O(o.cell,v,r),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{x.push(re);var Ae=Gr(re[0].s);if(h=r.dense?(s[re[0].s.r]||[])[re[0].s.c]:s[Ae],r.cellFormula&&h){if(!o||!Ae||!h)break;h.f=""+Ui(re[1],i,re[0],N,H),h.F=Nn(re[0])}}break;case 1212:{if(!r.cellFormula)break;if(p){if(!o)break;g[Gr(o.cell)]=re[0],h=r.dense?(s[o.cell.r]||[])[o.cell.c]:s[Gr(o.cell)],(h||{}).f=""+Ui(re[0],i,d,N,H)}}break;case 253:v=ax(u[re.isst].t,re.ixfe,"s"),u[re.isst].h&&(v.h=u[re.isst].h),v.XF=S[v.ixfe],j>0&&(v.z=M[v.ixfe>>8&63]),gu(v,r,t.opts.Date1904),O({c:re.c,r:re.r},v,r);break;case 513:r.sheetStubs&&(v={ixfe:re.ixfe,XF:S[re.ixfe],t:"z"},j>0&&(v.z=M[v.ixfe>>8&63]),gu(v,r,t.opts.Date1904),O({c:re.c,r:re.r},v,r));break;case 190:if(r.sheetStubs)for(var Le=re.c;Le<=re.C;++Le){var He=re.ixfe[Le-re.c];v={ixfe:He,XF:S[He],t:"z"},j>0&&(v.z=M[v.ixfe>>8&63]),gu(v,r,t.opts.Date1904),O({c:Le,r:re.r},v,r)}break;case 214:case 516:case 4:v=ax(re.val,re.ixfe,"s"),v.XF=S[v.ixfe],j>0&&(v.z=M[v.ixfe>>8&63]),gu(v,r,t.opts.Date1904),O({c:re.c,r:re.r},v,r);break;case 0:case 512:B===1&&(i=re);break;case 252:u=re;break;case 1054:if(H.biff==4){M[j++]=re[1];for(var Ye=0;Ye<j+163&&Zr[Ye]!=re[1];++Ye);Ye>=163&&Im(re[1],j+163)}else Im(re[1],re[0]);break;case 30:{M[j++]=re;for(var it=0;it<j+163&&Zr[it]!=re;++it);it>=163&&Im(re,j+163)}break;case 229:I=I.concat(re);break;case 93:F[re.cmo[0]]=H.lastobj=re;break;case 438:H.lastobj.TxO=re;break;case 127:H.lastobj.ImData=re;break;case 440:for(y=re[0].s.r;y<=re[0].e.r;++y)for(b=re[0].s.c;b<=re[0].e.c;++b)h=r.dense?(s[y]||[])[b]:s[Gr({c:b,r:y})],h&&(h.l=re[1]);break;case 2048:for(y=re[0].s.r;y<=re[0].e.r;++y)for(b=re[0].s.c;b<=re[0].e.c;++b)h=r.dense?(s[y]||[])[b]:s[Gr({c:b,r:y})],h&&h.l&&(h.l.Tooltip=re[1]);break;case 28:{if(H.biff<=5&&H.biff>=2)break;h=r.dense?(s[re[0].r]||[])[re[0].c]:s[Gr(re[0])];var bt=F[re[2]];h||(r.dense?(s[re[0].r]||(s[re[0].r]=[]),h=s[re[0].r][re[0].c]={t:"z"}):h=s[Gr(re[0])]={t:"z"},i.e.r=Math.max(i.e.r,re[0].r),i.s.r=Math.min(i.s.r,re[0].r),i.e.c=Math.max(i.e.c,re[0].c),i.s.c=Math.min(i.s.c,re[0].c)),h.c||(h.c=[]),f={a:re[1],t:bt.TxO.t},h.c.push(f)}break;case 2173:vte(S[re.ixfe],re.ext);break;case 125:{if(!H.cellStyles)break;for(;re.e>=re.s;)A[re.e--]={width:re.w/256,level:re.level||0,hidden:!!(re.flags&1)},E||(E=!0,dS(re.w/256)),og(A[re.e+1])}break;case 520:{var tt={};re.level!=null&&(_[re.r]=tt,tt.level=re.level),re.hidden&&(_[re.r]=tt,tt.hidden=!0),re.hpt&&(_[re.r]=tt,tt.hpt=re.hpt,tt.hpx=Ub(re.hpt))}break;case 38:case 39:case 40:case 41:s["!margins"]||Sb(s["!margins"]={}),s["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Q]]=re;break;case 161:s["!margins"]||Sb(s["!margins"]={}),s["!margins"].header=re.header,s["!margins"].footer=re.footer;break;case 574:re.RTL&&(T.Views[0].RTL=!0);break;case 146:D=re;break;case 2198:U=re;break;case 140:w=re;break;case 442:c?R.CodeName=re||R.name:T.WBProps.CodeName=re||"ThisWorkbook";break}}else z||console.error("Missing Info for XLS Record 0x"+Q.toString(16)),n.l+=q}return t.SheetNames=Xu(a).sort(function($e,at){return Number($e)-Number(at)}).map(function($e){return a[$e].name}),r.bookSheets||(t.Sheets=e),!t.SheetNames.length&&l["!ref"]?(t.SheetNames.push("Sheet1"),t.Sheets&&(t.Sheets.Sheet1=l)):t.Preamble=l,t.Sheets&&G.forEach(function($e,at){t.Sheets[t.SheetNames[at]]["!autofilter"]=$e}),t.Strings=u,t.SSF=mi(Zr),H.enc&&(t.Encryption=H.enc),U&&(t.Themes=U),t.Metadata={},w!==void 0&&(t.Metadata.Country=w),N.names.length>0&&(T.Names=N.names),t.Workbook=T,t}var _N={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Zse(n,r,t){var e=En.find(n,"/!DocumentSummaryInformation");if(e&&e.size>0)try{var s=aN(e,mZ,_N.DSI);for(var a in s)r[a]=s[a]}catch(c){if(t.WTF)throw c}var i=En.find(n,"/!SummaryInformation");if(i&&i.size>0)try{var o=aN(i,gZ,_N.SI);for(var u in o)r[u]==null&&(r[u]=o[u])}catch(c){if(t.WTF)throw c}r.HeadingPairs&&r.TitlesOfParts&&(VD(r.HeadingPairs,r.TitlesOfParts,r,t),delete r.HeadingPairs,delete r.TitlesOfParts)}function CT(n,r){r||(r={}),gS(r),nD(),r.codepage&&Y8(r.codepage);var t,e;if(n.FullPaths){if(En.find(n,"/encryption"))throw new Error("File is password-protected");t=En.find(n,"!CompObj"),e=En.find(n,"/Workbook")||En.find(n,"/Book")}else{switch(r.type){case"base64":n=Bc(vl(n));break;case"binary":n=Bc(n);break;case"buffer":break;case"array":Array.isArray(n)||(n=Array.prototype.slice.call(n));break}pi(n,0),e={content:n}}var s,a;if(t&&Yse(t),r.bookProps&&!r.bookSheets)s={};else{var i=xn?"buffer":"array";if(e&&e.content)s=Jse(e.content,r);else if((a=En.find(n,"PerfectOffice_MAIN"))&&a.content)s=wb.to_workbook(a.content,(r.type=i,r));else if((a=En.find(n,"NativeContent_MAIN"))&&a.content)s=wb.to_workbook(a.content,(r.type=i,r));else throw(a=En.find(n,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");r.bookVBA&&n.FullPaths&&En.find(n,"/_VBA_PROJECT_CUR/VBA/dir")&&(s.vbaraw=Lte(n))}var o={};return n.FullPaths&&Zse(n,o,r),s.Props=s.Custprops=o,r.bookFiles&&(s.cfb=n),s}var Sw={0:{f:Pne},1:{f:Lne},2:{f:$ne},3:{f:Hne},4:{f:Bne},5:{f:Vne},6:{f:Kne},7:{f:Wne},8:{f:ese},9:{f:Qne},10:{f:Jne},11:{f:Zne},12:{f:Fne},13:{f:Gne},14:{f:qne},15:{f:Une},16:{f:ST},17:{f:Xne},18:{f:zne},19:{f:aS},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:kse},40:{},42:{},43:{f:Jee},44:{f:Xee},45:{f:Zee},46:{f:ete},47:{f:Qee},48:{},49:{f:tZ},50:{},51:{f:wte},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:nT},62:{f:Yne},63:{f:Ate},64:{f:cse},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Gi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:lse},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:One},148:{f:Rne,p:16},151:{f:nse},152:{},153:{f:Nse},154:{},155:{},156:{f:Ese},157:{},158:{},159:{T:1,f:gee},160:{T:-1},161:{T:1,f:a0},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:tse},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:xte},336:{T:-1},337:{f:_te,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:e8},357:{},358:{},359:{},360:{T:1},361:{},362:{f:rT},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:sse},427:{f:ase},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:ose},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Mne},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:rse},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:e8},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Rte},633:{T:1},634:{T:-1},635:{T:1,f:Pte},636:{T:-1},637:{f:nZ},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:mse},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:use},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},a8={6:{f:X6},10:{f:$h},12:{f:ka},13:{f:ka},14:{f:da},15:{f:da},16:{f:Wi},17:{f:da},18:{f:da},19:{f:ka},20:{f:cN},21:{f:cN},23:{f:rT},24:{f:dN},25:{f:da},26:{},27:{},28:{f:jQ},29:{},34:{f:da},35:{f:uN},38:{f:Wi},39:{f:Wi},40:{f:Wi},41:{f:Wi},42:{f:da},43:{f:da},47:{f:Mee},49:{f:hQ},51:{f:ka},60:{},61:{f:cQ},64:{f:da},65:{f:dQ},66:{f:ka},77:{},80:{},81:{},82:{},85:{f:ka},89:{},90:{},91:{},92:{f:tQ},93:{f:PQ},94:{},95:{f:da},96:{},97:{},99:{f:da},125:{f:nT},128:{f:_Q},129:{f:rQ},130:{f:ka},131:{f:da},132:{f:da},133:{f:nQ},134:{},140:{f:BQ},141:{f:ka},144:{},146:{f:HQ},151:{},152:{},153:{},154:{},155:{},156:{f:ka},157:{},158:{},160:{f:$Q},161:{f:WQ},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:yQ},190:{f:vQ},193:{f:$h},197:{},198:{},199:{},200:{},201:{},202:{f:da},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:ka},220:{},221:{f:da},222:{},224:{f:wQ},225:{f:eQ},226:{f:$h},227:{},229:{f:IQ},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:sQ},253:{f:fQ},255:{f:aQ},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:XD},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:da},353:{f:$h},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:EQ},431:{f:da},432:{},433:{},434:{},437:{},438:{f:OQ},439:{f:da},440:{f:LQ},441:{},442:{f:Mv},443:{},444:{f:ka},445:{},446:{},448:{f:$h},449:{f:lQ,r:2},450:{f:$h},512:{f:oN},513:{f:VQ},515:{f:SQ},516:{f:pQ},517:{f:lN},519:{f:GQ},520:{f:iQ},523:{},545:{f:hN},549:{f:iN},566:{},574:{f:uQ},638:{f:bQ},659:{},1048:{},1054:{f:mQ},1084:{},1212:{f:CQ},2048:{f:FQ},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:rx},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:$h},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:qQ,r:12},2173:{f:yte,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:da,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:kQ,r:12},2197:{},2198:{f:hte,r:12},2199:{},2200:{},2201:{},2202:{f:DQ,r:12},2203:{f:$h},2204:{},2205:{},2206:{},2207:{},2211:{f:oQ},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:ka},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:zQ},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:UQ},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:oN},1:{},2:{f:JQ},3:{f:XQ},4:{f:KQ},5:{f:lN},7:{f:ZQ},8:{},9:{f:rx},11:{},22:{f:ka},30:{f:gQ},31:{},32:{},33:{f:hN},36:{},37:{f:iN},50:{f:QQ},62:{},52:{},67:{},68:{f:ka},69:{},86:{},126:{},127:{f:YQ},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:eee},223:{},234:{},354:{},421:{},518:{f:X6},521:{f:rx},536:{f:dN},547:{f:uN},561:{},579:{},1030:{f:X6},1033:{f:rx},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function _c(n,r,t,e){var s=r;if(!isNaN(s)){var a=(t||[]).length||0,i=n.next(4);i.write_shift(2,s),i.write_shift(2,a),a>0&&LD(t)&&n.push(t)}}function SN(n,r){var t=r||{},e=t.dense?[]:{};n=n.replace(/<!--.*?-->/g,"");var s=n.match(/<table/i);if(!s)throw new Error("Invalid HTML: could not find <table>");var a=n.match(/<\/table/i),i=s.index,o=a&&a.index||n.length,u=SJ(n.slice(i,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,l=0,d=0,p=0,h={s:{r:1e7,c:1e7},e:{r:0,c:0}},f=[];for(i=0;i<u.length;++i){var b=u[i].trim(),y=b.slice(0,3).toLowerCase();if(y=="<tr"){if(++c,t.sheetRows&&t.sheetRows<=c){--c;break}l=0;continue}if(!(y!="<td"&&y!="<th")){var g=b.split(/<\/t[dh]>/i);for(o=0;o<g.length;++o){var x=g[o].trim();if(x.match(/<t[dh]/i)){for(var v=x,w=0;v.charAt(0)=="<"&&(w=v.indexOf(">"))>-1;)v=v.slice(w+1);for(var S=0;S<f.length;++S){var D=f[S];D.s.c==l&&D.s.r<c&&c<=D.e.r&&(l=D.e.c+1,S=-1)}var T=Hr(x.slice(0,x.indexOf(">")));p=T.colspan?+T.colspan:1,((d=+T.rowspan)>1||p>1)&&f.push({s:{r:c,c:l},e:{r:c+(d||1)-1,c:l+p-1}});var R=T.t||T["data-t"]||"";if(!v.length){l+=p;continue}if(v=ED(v),h.s.r>c&&(h.s.r=c),h.e.r<c&&(h.e.r=c),h.s.c>l&&(h.s.c=l),h.e.c<l&&(h.e.c=l),!v.length){l+=p;continue}var P={t:"s",v};t.raw||!v.trim().length||R=="s"||(v==="TRUE"?P={t:"b",v:!0}:v==="FALSE"?P={t:"b",v:!1}:isNaN(qc(v))?isNaN(ig(v).getDate())||(P={t:"d",v:ei(v)},t.cellDates||(P={t:"n",v:yo(P.v)}),P.z=t.dateNF||Zr[14]):P={t:"n",v:qc(v)}),t.dense?(e[c]||(e[c]=[]),e[c][l]=P):e[Gr({r:c,c:l})]=P,l+=p}}}}return e["!ref"]=Nn(h),f.length&&(e["!merges"]=f),e}function Qse(n,r,t,e){for(var s=n["!merges"]||[],a=[],i=r.s.c;i<=r.e.c;++i){for(var o=0,u=0,c=0;c<s.length;++c)if(!(s[c].s.r>t||s[c].s.c>i)&&!(s[c].e.r<t||s[c].e.c<i)){if(s[c].s.r<t||s[c].s.c<i){o=-1;break}o=s[c].e.r-s[c].s.r+1,u=s[c].e.c-s[c].s.c+1;break}if(!(o<0)){var l=Gr({r:t,c:i}),d=e.dense?(n[t]||[])[i]:n[l],p=d&&d.v!=null&&(d.h||eS(d.w||(Sh(d),d.w)||""))||"",h={};o>1&&(h.rowspan=o),u>1&&(h.colspan=u),e.editable?p='<span contenteditable="true">'+p+"</span>":d&&(h["data-t"]=d&&d.t||"z",d.v!=null&&(h["data-v"]=d.v),d.z!=null&&(h["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+d.l.Target+'">'+p+"</a>")),h.id=(e.id||"sjs")+"-"+l,a.push(BJ("td",p,h))}}var f="<tr>";return f+a.join("")+"</tr>"}var eae='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',tae="</body></html>";function rae(n,r){var t=n.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!t||t.length==0)throw new Error("Invalid HTML: could not find <table>");if(t.length==1)return Kf(SN(t[0],r),r);var e=yS();return t.forEach(function(s,a){vS(e,SN(s,r),"Sheet"+(a+1))}),e}function nae(n,r,t){var e=[];return e.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function sae(n,r){var t=r||{},e=t.header!=null?t.header:eae,s=t.footer!=null?t.footer:tae,a=[e],i=mg(n["!ref"]);t.dense=Array.isArray(n),a.push(nae(n,i,t));for(var o=i.s.r;o<=i.e.r;++o)a.push(Qse(n,i,o,t));return a.push("</table>"+s),a.join("")}function DT(n,r,t){var e=t||{},s=0,a=0;if(e.origin!=null)if(typeof e.origin=="number")s=e.origin;else{var i=typeof e.origin=="string"?po(e.origin):e.origin;s=i.r,a=i.c}var o=r.getElementsByTagName("tr"),u=Math.min(e.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:s,c:a}};if(n["!ref"]){var l=mg(n["!ref"]);c.s.r=Math.min(c.s.r,l.s.r),c.s.c=Math.min(c.s.c,l.s.c),c.e.r=Math.max(c.e.r,l.e.r),c.e.c=Math.max(c.e.c,l.e.c),s==-1&&(c.e.r=s=l.e.r+1)}var d=[],p=0,h=n["!rows"]||(n["!rows"]=[]),f=0,b=0,y=0,g=0,x=0,v=0;for(n["!cols"]||(n["!cols"]=[]);f<o.length&&b<u;++f){var w=o[f];if(EN(w)){if(e.display)continue;h[b]={hidden:!0}}var S=w.children;for(y=g=0;y<S.length;++y){var D=S[y];if(!(e.display&&EN(D))){var T=D.hasAttribute("data-v")?D.getAttribute("data-v"):D.hasAttribute("v")?D.getAttribute("v"):ED(D.innerHTML),R=D.getAttribute("data-z")||D.getAttribute("z");for(p=0;p<d.length;++p){var P=d[p];P.s.c==g+a&&P.s.r<b+s&&b+s<=P.e.r&&(g=P.e.c+1-a,p=-1)}v=+D.getAttribute("colspan")||1,((x=+D.getAttribute("rowspan")||1)>1||v>1)&&d.push({s:{r:b+s,c:g+a},e:{r:b+s+(x||1)-1,c:g+a+(v||1)-1}});var L={t:"s",v:T},O=D.getAttribute("data-t")||D.getAttribute("t")||"";T!=null&&(T.length==0?L.t=O||"z":e.raw||T.trim().length==0||O=="s"||(T==="TRUE"?L={t:"b",v:!0}:T==="FALSE"?L={t:"b",v:!1}:isNaN(qc(T))?isNaN(ig(T).getDate())||(L={t:"d",v:ei(T)},e.cellDates||(L={t:"n",v:yo(L.v)}),L.z=e.dateNF||Zr[14]):L={t:"n",v:qc(T)})),L.z===void 0&&R!=null&&(L.z=R);var H="",U=D.getElementsByTagName("A");if(U&&U.length)for(var I=0;I<U.length&&!(U[I].hasAttribute("href")&&(H=U[I].getAttribute("href"),H.charAt(0)!="#"));++I);H&&H.charAt(0)!="#"&&(L.l={Target:H}),e.dense?(n[b+s]||(n[b+s]=[]),n[b+s][g+a]=L):n[Gr({c:g+a,r:b+s})]=L,c.e.c<g+a&&(c.e.c=g+a),g+=v}}++b}return d.length&&(n["!merges"]=(n["!merges"]||[]).concat(d)),c.e.r=Math.max(c.e.r,b-1+s),n["!ref"]=Nn(c),b>=u&&(n["!fullref"]=Nn((c.e.r=o.length-f+b-1+s,c))),n}function TT(n,r){var t=r||{},e=t.dense?[]:{};return DT(e,n,r)}function aae(n,r){return Kf(TT(n,r),r)}function EN(n){var r="",t=iae(n);return t&&(r=t(n).getPropertyValue("display")),r||(r=n.style&&n.style.display),r==="none"}function iae(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function oae(n){var r=n.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(e,s){return Array(parseInt(s,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),t=In(r.replace(/<[^>]*>/g,""));return[t]}var NN={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function jT(n,r){var t=r||{},e=tS(n),s=[],a,i,o={name:""},u="",c=0,l,d,p={},h=[],f=t.dense?[]:{},b,y,g={value:""},x="",v=0,w=[],S=-1,D=-1,T={s:{r:1e6,c:1e7},e:{r:0,c:0}},R=0,P={},L=[],O={},H=0,U=0,I=[],F=1,A=1,_=[],E={Names:[]},N={},k=["",""],B=[],j={},M="",G=0,Y=!1,J=!1,V=0;for(Lb.lastIndex=0,e=e.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");b=Lb.exec(e);)switch(b[3]=b[3].replace(/_.*$/,"")){case"table":case"":b[1]==="/"?(T.e.c>=T.s.c&&T.e.r>=T.s.r?f["!ref"]=Nn(T):f["!ref"]="A1:A1",t.sheetRows>0&&t.sheetRows<=T.e.r&&(f["!fullref"]=f["!ref"],T.e.r=t.sheetRows-1,f["!ref"]=Nn(T)),L.length&&(f["!merges"]=L),I.length&&(f["!rows"]=I),l.name=l.||l.name,typeof JSON<"u"&&JSON.stringify(l),h.push(l.name),p[l.name]=f,J=!1):b[0].charAt(b[0].length-2)!=="/"&&(l=Hr(b[0],!1),S=D=-1,T.s.r=T.s.c=1e7,T.e.r=T.e.c=0,f=t.dense?[]:{},L=[],I=[],J=!0);break;case"table-row-group":b[1]==="/"?--R:++R;break;case"table-row":case"":if(b[1]==="/"){S+=F,F=1;break}if(d=Hr(b[0],!1),d.?S=d.-1:S==-1&&(S=0),F=+d["number-rows-repeated"]||1,F<10)for(V=0;V<F;++V)R>0&&(I[S+V]={level:R});D=-1;break;case"covered-table-cell":b[1]!=="/"&&++D,t.sheetStubs&&(t.dense?(f[S]||(f[S]=[]),f[S][D]={t:"z"}):f[Gr({r:S,c:D})]={t:"z"}),x="",w=[];break;case"table-cell":case"":if(b[0].charAt(b[0].length-2)==="/")++D,g=Hr(b[0],!1),A=parseInt(g["number-columns-repeated"]||"1",10),y={t:"z",v:null},g.formula&&t.cellFormula!=!1&&(y.f=vN(In(g.formula))),(g.||g["value-type"])=="string"&&(y.t="s",y.v=In(g["string-value"]||""),t.dense?(f[S]||(f[S]=[]),f[S][D]=y):f[Gr({r:S,c:D})]=y),D+=A-1;else if(b[1]!=="/"){++D,x="",v=0,w=[],A=1;var Q=F?S+F-1:S;if(D>T.e.c&&(T.e.c=D),D<T.s.c&&(T.s.c=D),S<T.s.r&&(T.s.r=S),Q>T.e.r&&(T.e.r=Q),g=Hr(b[0],!1),B=[],j={},y={t:g.||g["value-type"],v:null},t.cellFormula)if(g.formula&&(g.formula=In(g.formula)),g["number-matrix-columns-spanned"]&&g["number-matrix-rows-spanned"]&&(H=parseInt(g["number-matrix-rows-spanned"],10)||0,U=parseInt(g["number-matrix-columns-spanned"],10)||0,O={s:{r:S,c:D},e:{r:S+H-1,c:D+U-1}},y.F=Nn(O),_.push([O,y.F])),g.formula)y.f=vN(g.formula);else for(V=0;V<_.length;++V)S>=_[V][0].s.r&&S<=_[V][0].e.r&&D>=_[V][0].s.c&&D<=_[V][0].e.c&&(y.F=_[V][1]);switch((g["number-columns-spanned"]||g["number-rows-spanned"])&&(H=parseInt(g["number-rows-spanned"],10)||0,U=parseInt(g["number-columns-spanned"],10)||0,O={s:{r:S,c:D},e:{r:S+H-1,c:D+U-1}},L.push(O)),g["number-columns-repeated"]&&(A=parseInt(g["number-columns-repeated"],10)),y.t){case"boolean":y.t="b",y.v=Ps(g["boolean-value"]);break;case"float":y.t="n",y.v=parseFloat(g.value);break;case"percentage":y.t="n",y.v=parseFloat(g.value);break;case"currency":y.t="n",y.v=parseFloat(g.value);break;case"date":y.t="d",y.v=ei(g["date-value"]),t.cellDates||(y.t="n",y.v=yo(y.v)),y.z="m/d/yy";break;case"time":y.t="n",y.v=xJ(g["time-value"])/86400,t.cellDates&&(y.t="d",y.v=S5(y.v)),y.z="HH:MM:SS";break;case"number":y.t="n",y.v=parseFloat(g.);break;default:if(y.t==="string"||y.t==="text"||!y.t)y.t="s",g["string-value"]!=null&&(x=In(g["string-value"]),w=[]);else throw new Error("Unsupported value type "+y.t)}}else{if(Y=!1,y.t==="s"&&(y.v=x||"",w.length&&(y.R=w),Y=v==0),N.Target&&(y.l=N),B.length>0&&(y.c=B,B=[]),x&&t.cellText!==!1&&(y.w=x),Y&&(y.t="z",delete y.v),(!Y||t.sheetStubs)&&!(t.sheetRows&&t.sheetRows<=S))for(var q=0;q<F;++q){if(A=parseInt(g["number-columns-repeated"]||"1",10),t.dense)for(f[S+q]||(f[S+q]=[]),f[S+q][D]=q==0?y:mi(y);--A>0;)f[S+q][D+A]=mi(y);else for(f[Gr({r:S+q,c:D})]=y;--A>0;)f[Gr({r:S+q,c:D+A})]=mi(y);T.e.c<=D&&(T.e.c=D)}A=parseInt(g["number-columns-repeated"]||"1",10),D+=A-1,A=0,y={},x="",w=[]}N={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(b[1]==="/"){if((a=s.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&s.push([b[3],!0]);break;case"annotation":if(b[1]==="/"){if((a=s.pop())[0]!==b[3])throw"Bad state: "+a;j.t=x,w.length&&(j.R=w),j.a=M,B.push(j)}else b[0].charAt(b[0].length-2)!=="/"&&s.push([b[3],!1]);M="",G=0,x="",v=0,w=[];break;case"creator":b[1]==="/"?M=e.slice(G,b.index):G=b.index+b[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(b[1]==="/"){if((a=s.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&s.push([b[3],!1]);x="",v=0,w=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(b[1]==="/"){if(P[o.name]=u,(a=s.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&(u="",o=Hr(b[0],!1),s.push([b[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(s[s.length-1][0]){case"time-style":case"date-style":i=Hr(b[0],!1),u+=NN[b[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(s[s.length-1][0]){case"time-style":case"date-style":i=Hr(b[0],!1),u+=NN[b[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(b[0].slice(-2)==="/>")break;if(b[1]==="/")switch(s[s.length-1][0]){case"number-style":case"date-style":case"time-style":u+=e.slice(c,b.index);break}else c=b.index+b[0].length;break;case"named-range":i=Hr(b[0],!1),k=J6(i["cell-range-address"]);var z={Name:i.name,Ref:k[0]+"!"+k[1]};J&&(z.Sheet=h.length),E.Names.push(z);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(s[s.length-1][0])>-1)break;if(b[1]==="/"&&(!g||!g["string-value"])){var Z=oae(e.slice(v,b.index));x=(x.length>0?x+`
`:"")+Z[0]}else Hr(b[0],!1),v=b.index+b[0].length;break;case"s":break;case"database-range":if(b[1]==="/")break;try{k=J6(Hr(b[0])["target-range-address"]),p[k[0]]["!autofilter"]={ref:k[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(b[1]!=="/"){if(N=Hr(b[0],!1),!N.href)break;N.Target=In(N.href),delete N.href,N.Target.charAt(0)=="#"&&N.Target.indexOf(".")>-1?(k=J6(N.Target.slice(1)),N.Target="#"+k[0]+"!"+k[1]):N.Target.match(/^\.\.[\\\/]/)&&(N.Target=N.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(b[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(t.WTF)throw new Error(b)}}var re={Sheets:p,SheetNames:h,Workbook:E};return t.bookSheets&&delete re.Sheets,re}function AN(n,r){r=r||{},Ll(n,"META-INF/manifest.xml")&&SZ(Aa(n,"META-INF/manifest.xml"),r);var t=gl(n,"content.xml");if(!t)throw new Error("Missing content.xml in ODS / UOF file");var e=jT(ws(t),r);return Ll(n,"meta.xml")&&(e.Props=zD(Aa(n,"meta.xml"))),e}function kN(n,r){return jT(n,r)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function pS(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function i8(n){return typeof TextDecoder<"u"?new TextDecoder().decode(n):ws(n0(n))}function o8(n){var r=n.reduce(function(s,a){return s+a.length},0),t=new Uint8Array(r),e=0;return n.forEach(function(s){t.set(s,e),e+=s.length}),t}function CN(n){return n-=n>>1&1431655765,n=(n&858993459)+(n>>2&858993459),(n+(n>>4)&252645135)*16843009>>>24}function lae(n,r){for(var t=(n[r+15]&127)<<7|n[r+14]>>1,e=n[r+14]&1,s=r+13;s>=r;--s)e=e*256+n[s];return(n[r+15]&128?-e:e)*Math.pow(10,t-6176)}function Hb(n,r){var t=r?r[0]:0,e=n[t]&127;e:if(n[t++]>=128&&(e|=(n[t]&127)<<7,n[t++]<128||(e|=(n[t]&127)<<14,n[t++]<128)||(e|=(n[t]&127)<<21,n[t++]<128)||(e+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(e+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(e+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return r&&(r[0]=t),e}function qa(n){var r=0,t=n[r]&127;e:if(n[r++]>=128){if(t|=(n[r]&127)<<7,n[r++]<128||(t|=(n[r]&127)<<14,n[r++]<128)||(t|=(n[r]&127)<<21,n[r++]<128))break e;t|=(n[r]&127)<<28}return t}function Vi(n){for(var r=[],t=[0];t[0]<n.length;){var e=t[0],s=Hb(n,t),a=s&7;s=Math.floor(s/8);var i=0,o;if(s==0)break;switch(a){case 0:{for(var u=t[0];n[t[0]++]>=128;);o=n.slice(u,t[0])}break;case 5:i=4,o=n.slice(t[0],t[0]+i),t[0]+=i;break;case 1:i=8,o=n.slice(t[0],t[0]+i),t[0]+=i;break;case 2:i=Hb(n,t),o=n.slice(t[0],t[0]+i),t[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(s," at offset ").concat(e))}var c={data:o,type:a};r[s]==null?r[s]=[c]:r[s].push(c)}return r}function mS(n,r){return(n==null?void 0:n.map(function(t){return r(t.data)}))||[]}function cae(n){for(var r,t=[],e=[0];e[0]<n.length;){var s=Hb(n,e),a=Vi(n.slice(e[0],e[0]+s));e[0]+=s;var i={id:qa(a[1][0].data),messages:[]};a[2].forEach(function(o){var u=Vi(o.data),c=qa(u[3][0].data);i.messages.push({meta:u,data:n.slice(e[0],e[0]+c)}),e[0]+=c}),(r=a[3])!=null&&r[0]&&(i.merge=qa(a[3][0].data)>>>0>0),t.push(i)}return t}function uae(n,r){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],e=Hb(r,t),s=[];t[0]<r.length;){var a=r[t[0]]&3;if(a==0){var i=r[t[0]++]>>2;if(i<60)++i;else{var o=i-59;i=r[t[0]],o>1&&(i|=r[t[0]+1]<<8),o>2&&(i|=r[t[0]+2]<<16),o>3&&(i|=r[t[0]+3]<<24),i>>>=0,i++,t[0]+=o}s.push(r.slice(t[0],t[0]+i)),t[0]+=i;continue}else{var u=0,c=0;if(a==1?(c=(r[t[0]]>>2&7)+4,u=(r[t[0]++]&224)<<3,u|=r[t[0]++]):(c=(r[t[0]++]>>2)+1,a==2?(u=r[t[0]]|r[t[0]+1]<<8,t[0]+=2):(u=(r[t[0]]|r[t[0]+1]<<8|r[t[0]+2]<<16|r[t[0]+3]<<24)>>>0,t[0]+=4)),s=[o8(s)],u==0)throw new Error("Invalid offset 0");if(u>s[0].length)throw new Error("Invalid offset beyond length");if(c>=u)for(s.push(s[0].slice(-u)),c-=u;c>=s[s.length-1].length;)s.push(s[s.length-1]),c-=s[s.length-1].length;s.push(s[0].slice(-u,-u+c))}}var l=o8(s);if(l.length!=e)throw new Error("Unexpected length: ".concat(l.length," != ").concat(e));return l}function dae(n){for(var r=[],t=0;t<n.length;){var e=n[t++],s=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,r.push(uae(e,n.slice(t,t+s))),t+=s}if(t!==n.length)throw new Error("data is not a valid framed stream!");return o8(r)}function hae(n,r,t,e){var s=pS(n),a=s.getUint32(4,!0),i=(e>1?12:8)+CN(a&(e>1?3470:398))*4,o=-1,u=-1,c=NaN,l=new Date(2001,0,1);a&512&&(o=s.getUint32(i,!0),i+=4),i+=CN(a&(e>1?12288:4096))*4,a&16&&(u=s.getUint32(i,!0),i+=4),a&32&&(c=s.getFloat64(i,!0),i+=8),a&64&&(l.setTime(l.getTime()+s.getFloat64(i,!0)*1e3),i+=8);var d;switch(n[2]){case 0:break;case 2:d={t:"n",v:c};break;case 3:d={t:"s",v:r[u]};break;case 5:d={t:"d",v:l};break;case 6:d={t:"b",v:c>0};break;case 7:d={t:"n",v:c/86400};break;case 8:d={t:"e",v:0};break;case 9:if(o>-1)d={t:"s",v:t[o]};else if(u>-1)d={t:"s",v:r[u]};else if(!isNaN(c))d={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(n.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(n.slice(0,4)))}return d}function fae(n,r,t){var e=pS(n),s=e.getUint32(8,!0),a=12,i=-1,o=-1,u=NaN,c=NaN,l=new Date(2001,0,1);s&1&&(u=lae(n,a),a+=16),s&2&&(c=e.getFloat64(a,!0),a+=8),s&4&&(l.setTime(l.getTime()+e.getFloat64(a,!0)*1e3),a+=8),s&8&&(o=e.getUint32(a,!0),a+=4),s&16&&(i=e.getUint32(a,!0),a+=4);var d;switch(n[1]){case 0:break;case 2:d={t:"n",v:u};break;case 3:d={t:"s",v:r[o]};break;case 5:d={t:"d",v:l};break;case 6:d={t:"b",v:c>0};break;case 7:d={t:"n",v:c/86400};break;case 8:d={t:"e",v:0};break;case 9:if(i>-1)d={t:"s",v:t[i]};else throw new Error("Unsupported cell type ".concat(n[1]," : ").concat(s&31," : ").concat(n.slice(0,4)));break;case 10:d={t:"n",v:u};break;default:throw new Error("Unsupported cell type ".concat(n[1]," : ").concat(s&31," : ").concat(n.slice(0,4)))}return d}function pae(n,r,t){switch(n[0]){case 0:case 1:case 2:case 3:return hae(n,r,t,n[0]);case 5:return fae(n,r,t);default:throw new Error("Unsupported payload version ".concat(n[0]))}}function jf(n){var r=Vi(n);return Hb(r[1][0].data)}function DN(n,r){var t=Vi(r.data),e=qa(t[1][0].data),s=t[3],a=[];return(s||[]).forEach(function(i){var o=Vi(i.data),u=qa(o[1][0].data)>>>0;switch(e){case 1:a[u]=i8(o[3][0].data);break;case 8:{var c=n[jf(o[9][0].data)][0],l=Vi(c.data),d=n[jf(l[1][0].data)][0],p=qa(d.meta[1][0].data);if(p!=2001)throw new Error("2000 unexpected reference to ".concat(p));var h=Vi(d.data);a[u]=h[3].map(function(f){return i8(f.data)}).join("")}break}}),a}function mae(n,r){var t,e,s,a,i,o,u,c,l,d,p,h,f,b,y=Vi(n),g=qa(y[1][0].data)>>>0,x=qa(y[2][0].data)>>>0,v=((e=(t=y[8])==null?void 0:t[0])==null?void 0:e.data)&&qa(y[8][0].data)>0||!1,w,S;if((a=(s=y[7])==null?void 0:s[0])!=null&&a.data&&r!=0)w=(o=(i=y[7])==null?void 0:i[0])==null?void 0:o.data,S=(c=(u=y[6])==null?void 0:u[0])==null?void 0:c.data;else if((d=(l=y[4])==null?void 0:l[0])!=null&&d.data&&r!=1)w=(h=(p=y[4])==null?void 0:p[0])==null?void 0:h.data,S=(b=(f=y[3])==null?void 0:f[0])==null?void 0:b.data;else throw"NUMBERS Tile missing ".concat(r," cell storage");for(var D=v?4:1,T=pS(w),R=[],P=0;P<w.length/2;++P){var L=T.getUint16(P*2,!0);L<65535&&R.push([P,L])}if(R.length!=x)throw"Expected ".concat(x," cells, found ").concat(R.length);var O=[];for(P=0;P<R.length-1;++P)O[R[P][0]]=S.subarray(R[P][1]*D,R[P+1][1]*D);return R.length>=1&&(O[R[R.length-1][0]]=S.subarray(R[R.length-1][1]*D)),{R:g,cells:O}}function gae(n,r){var t,e=Vi(r.data),s=(t=e==null?void 0:e[7])!=null&&t[0]?qa(e[7][0].data)>>>0>0?1:0:-1,a=mS(e[5],function(i){return mae(i,s)});return{nrows:qa(e[4][0].data)>>>0,data:a.reduce(function(i,o){return i[o.R]||(i[o.R]=[]),o.cells.forEach(function(u,c){if(i[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));i[o.R][c]=u}),i},[])}}function bae(n,r,t){var e,s=Vi(r.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(qa(s[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(s[6][0].data));if(a.e.c=(qa(s[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(s[7][0].data));t["!ref"]=Nn(a);var i=Vi(s[4][0].data),o=DN(n,n[jf(i[4][0].data)][0]),u=(e=i[17])!=null&&e[0]?DN(n,n[jf(i[17][0].data)][0]):[],c=Vi(i[3][0].data),l=0;c[1].forEach(function(d){var p=Vi(d.data),h=n[jf(p[2][0].data)][0],f=qa(h.meta[1][0].data);if(f!=6002)throw new Error("6001 unexpected reference to ".concat(f));var b=gae(n,h);b.data.forEach(function(y,g){y.forEach(function(x,v){var w=Gr({r:l+g,c:v}),S=pae(x,o,u);S&&(t[w]=S)})}),l+=b.nrows})}function yae(n,r){var t=Vi(r.data),e={"!ref":"A1"},s=n[jf(t[2][0].data)],a=qa(s[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return bae(n,s[0],e),e}function vae(n,r){var t,e=Vi(r.data),s={name:(t=e[1])!=null&&t[0]?i8(e[1][0].data):"",sheets:[]},a=mS(e[2],jf);return a.forEach(function(i){n[i].forEach(function(o){var u=qa(o.meta[1][0].data);u==6e3&&s.sheets.push(yae(n,o))})}),s}function xae(n,r){var t=yS(),e=Vi(r.data),s=mS(e[1],jf);if(s.forEach(function(a){n[a].forEach(function(i){var o=qa(i.meta[1][0].data);if(o==2){var u=vae(n,i);u.sheets.forEach(function(c,l){vS(t,c,l==0?u.name:u.name+"_"+l,!0)})}})}),t.SheetNames.length==0)throw new Error("Empty NUMBERS file");return t}function Q6(n){var r,t,e,s,a={},i=[];if(n.FullPaths.forEach(function(u){if(u.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),n.FileIndex.forEach(function(u){if(u.name.match(/\.iwa$/)){var c;try{c=dae(u.content)}catch(d){return console.log("?? "+u.content.length+" "+(d.message||d))}var l;try{l=cae(c)}catch(d){return console.log("## "+(d.message||d))}l.forEach(function(d){a[d.id]=d.messages,i.push(d.id)})}}),!i.length)throw new Error("File has no messages");var o=((s=(e=(t=(r=a==null?void 0:a[1])==null?void 0:r[0])==null?void 0:t.meta)==null?void 0:e[1])==null?void 0:s[0].data)&&qa(a[1][0].meta[1][0].data)==1&&a[1][0];if(o||i.forEach(function(u){a[u].forEach(function(c){var l=qa(c.meta[1][0].data)>>>0;if(l==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return xae(a,o)}function wae(n){return function(t){for(var e=0;e!=n.length;++e){var s=n[e];t[s[0]]===void 0&&(t[s[0]]=s[1]),s[2]==="n"&&(t[s[0]]=Number(t[s[0]]))}}}function gS(n){wae([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(n)}function _ae(n){return z0.WS.indexOf(n)>-1?"sheet":n==z0.CS?"chart":n==z0.DS?"dialog":n==z0.MS?"macro":n&&n.length?n:"sheet"}function Sae(n,r){if(!n)return 0;try{n=r.map(function(e){return e.id||(e.id=e.strRelID),[e.name,n["!id"][e.id].Target,_ae(n["!id"][e.id].Type)]})}catch{return null}return!n||n.length===0?null:n}function Eae(n,r,t,e,s,a,i,o,u,c,l,d){try{a[e]=vb(gl(n,t,!0),r);var p=Aa(n,r),h;switch(o){case"sheet":h=Tse(p,r,s,u,a[e],c,l,d);break;case"chart":if(h=jse(p,r,s,u,a[e],c,l,d),!h||!h["!drawel"])break;var f=ib(h["!drawel"].Target,r),b=t8(f),y=Dte(gl(n,f,!0),vb(gl(n,b,!0),f)),g=ib(y,f),x=t8(g);h=fse(gl(n,g,!0),g,u,vb(gl(n,x,!0),g),c,h);break;case"macro":h=Ise(p,r,s,u,a[e],c,l,d);break;case"dialog":h=Pse(p,r,s,u,a[e],c,l,d);break;default:throw new Error("Unrecognized sheet type "+o)}i[e]=h;var v=[];a&&a[e]&&Xu(a[e]).forEach(function(w){var S="";if(a[e][w].Type==z0.CMNT){S=ib(a[e][w].Target,r);var D=Lse(Aa(n,S,!0),S,u);if(!D||!D.length)return;pN(h,D,!1)}a[e][w].Type==z0.TCMNT&&(S=ib(a[e][w].Target,r),v=v.concat(jte(Aa(n,S,!0),u)))}),v&&v.length&&pN(h,v,!0,u.people||[])}catch(w){if(u.WTF)throw w}}function Ml(n){return n.charAt(0)=="/"?n.slice(1):n}function Nae(n,r){if(mD(),r=r||{},gS(r),Ll(n,"META-INF/manifest.xml")||Ll(n,"objectdata.xml"))return AN(n,r);if(Ll(n,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Q6<"u"){if(n.FileIndex)return Q6(n);var t=En.utils.cfb_new();return H7(n).forEach(function(I){AJ(t,I,NJ(n,I))}),Q6(t)}throw new Error("Unsupported NUMBERS file")}if(!Ll(n,"[Content_Types].xml"))throw Ll(n,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ll(n,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var e=H7(n),s=wZ(gl(n,"[Content_Types].xml")),a=!1,i,o;if(s.workbooks.length===0&&(o="xl/workbook.xml",Aa(n,o,!0)&&s.workbooks.push(o)),s.workbooks.length===0){if(o="xl/workbook.bin",!Aa(n,o,!0))throw new Error("Could not find workbook");s.workbooks.push(o),a=!0}s.workbooks[0].slice(-3)=="bin"&&(a=!0);var u={},c={};if(!r.bookSheets&&!r.bookProps){if(_b=[],s.sst)try{_b=Ose(Aa(n,Ml(s.sst)),s.sst,r)}catch(I){if(r.WTF)throw I}r.cellStyles&&s.themes.length&&(u=Mse(gl(n,s.themes[0].replace(/^\//,""),!0)||"",s.themes[0],r)),s.style&&(c=Rse(Aa(n,Ml(s.style)),s.style,u,r))}s.links.map(function(I){try{var F=vb(gl(n,t8(Ml(I))),I);return Bse(Aa(n,Ml(I)),F,I,r)}catch{}});var l=Dse(Aa(n,Ml(s.workbooks[0])),s.workbooks[0],r),d={},p="";s.coreprops.length&&(p=Aa(n,Ml(s.coreprops[0]),!0),p&&(d=zD(p)),s.extprops.length!==0&&(p=Aa(n,Ml(s.extprops[0]),!0),p&&AZ(p,d,r)));var h={};(!r.bookSheets||r.bookProps)&&s.custprops.length!==0&&(p=gl(n,Ml(s.custprops[0]),!0),p&&(h=CZ(p,r)));var f={};if((r.bookSheets||r.bookProps)&&(l.Sheets?i=l.Sheets.map(function(F){return F.name}):d.Worksheets&&d.SheetNames.length>0&&(i=d.SheetNames),r.bookProps&&(f.Props=d,f.Custprops=h),r.bookSheets&&typeof i<"u"&&(f.SheetNames=i),r.bookSheets?f.SheetNames:r.bookProps))return f;i={};var b={};r.bookDeps&&s.calcchain&&(b=Fse(Aa(n,Ml(s.calcchain)),s.calcchain));var y=0,g={},x,v;{var w=l.Sheets;d.Worksheets=w.length,d.SheetNames=[];for(var S=0;S!=w.length;++S)d.SheetNames[S]=w[S].name}var D=a?"bin":"xml",T=s.workbooks[0].lastIndexOf("/"),R=(s.workbooks[0].slice(0,T+1)+"_rels/"+s.workbooks[0].slice(T+1)+".rels").replace(/^\//,"");Ll(n,R)||(R="xl/_rels/workbook."+D+".rels");var P=vb(gl(n,R,!0),R.replace(/_rels.*/,"s5s"));(s.metadata||[]).length>=1&&(r.xlmeta=Use(Aa(n,Ml(s.metadata[0])),s.metadata[0],r)),(s.people||[]).length>=1&&(r.people=Ite(Aa(n,Ml(s.people[0])),r)),P&&(P=Sae(P,l.Sheets));var L=Aa(n,"xl/worksheets/sheet.xml",!0)?1:0;e:for(y=0;y!=d.Worksheets;++y){var O="sheet";if(P&&P[y]?(x="xl/"+P[y][1].replace(/[\/]?xl\//,""),Ll(n,x)||(x=P[y][1]),Ll(n,x)||(x=R.replace(/_rels\/.*$/,"")+P[y][1]),O=P[y][2]):(x="xl/worksheets/sheet"+(y+1-L)+"."+D,x=x.replace(/sheet0\./,"sheet.")),v=x.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),r&&r.sheets!=null)switch(typeof r.sheets){case"number":if(y!=r.sheets)continue e;break;case"string":if(d.SheetNames[y].toLowerCase()!=r.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(r.sheets)){for(var H=!1,U=0;U!=r.sheets.length;++U)typeof r.sheets[U]=="number"&&r.sheets[U]==y&&(H=1),typeof r.sheets[U]=="string"&&r.sheets[U].toLowerCase()==d.SheetNames[y].toLowerCase()&&(H=1);if(!H)continue e}}Eae(n,x,v,d.SheetNames[y],y,g,i,O,r,l,u,c)}return f={Directory:s,Workbook:l,Props:d,Custprops:h,Deps:b,Sheets:i,SheetNames:d.SheetNames,Strings:_b,Styles:c,Themes:u,SSF:mi(Zr)},r&&r.bookFiles&&(n.files?(f.keys=e,f.files=n.files):(f.keys=[],f.files={},n.FullPaths.forEach(function(I,F){I=I.replace(/^Root Entry[\/]/,""),f.keys.push(I),f.files[I]=n.FileIndex[F]}))),r&&r.bookVBA&&(s.vba.length>0?f.vbaraw=Aa(n,Ml(s.vba[0]),!0):s.defaults&&s.defaults.bin===Ote&&(f.vbaraw=Aa(n,"xl/vbaProject.bin",!0))),f}function Aae(n,r){var t=r||{},e="Workbook",s=En.find(n,e);try{if(e="/!DataSpaces/Version",s=En.find(n,e),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+e);if(yee(s.content),e="/!DataSpaces/DataSpaceMap",s=En.find(n,e),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+e);var a=xee(s.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+e);if(e="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",s=En.find(n,e),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+e);var i=wee(s.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+e);if(e="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",s=En.find(n,e),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+e);See(s.content)}catch{}if(e="/EncryptionInfo",s=En.find(n,e),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+e);var o=Eee(s.content);if(e="/EncryptedPackage",s=En.find(n,e),!s||!s.content)throw new Error("ECMA-376 Encrypted file missing "+e);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],s.content,t.password||"",t);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],s.content,t.password||"",t);throw new Error("File is password-protected")}function bS(n,r){var t="";switch((r||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=vl(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(r&&r.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function kae(n,r){return En.find(n,"EncryptedPackage")?Aae(n,r):CT(n,r)}function Cae(n,r){var t,e=n,s=r||{};return s.type||(s.type=xn&&Buffer.isBuffer(n)?"buffer":"base64"),t=wD(e,s),Nae(t,s)}function IT(n,r){var t=0;e:for(;t<n.length;)switch(n.charCodeAt(t)){case 10:case 13:case 32:++t;break;case 60:return s8(n.slice(t),r);default:break e}return Fb.to_workbook(n,r)}function Dae(n,r){var t="",e=bS(n,r);switch(r.type){case"base64":t=vl(n);break;case"binary":t=n;break;case"buffer":t=n.toString("binary");break;case"array":t=qm(n);break;default:throw new Error("Unrecognized type "+r.type)}return e[0]==239&&e[1]==187&&e[2]==191&&(t=ws(t)),r.type="binary",IT(t,r)}function Tae(n,r){var t=n;return r.type=="base64"&&(t=vl(t)),t=Zh.utils.decode(1200,t.slice(2),"str"),r.type="binary",IT(t,r)}function jae(n){return n.match(/[^\x00-\x7F]/)?ob(n):n}function e_(n,r,t,e){return e?(t.type="string",Fb.to_workbook(n,t)):Fb.to_workbook(r,t)}function qf(n,r){nD();var t=r||{};if(typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer)return qf(new Uint8Array(n),(t=mi(t),t.type="array",t));typeof Uint8Array<"u"&&n instanceof Uint8Array&&!t.type&&(t.type=typeof Deno<"u"?"buffer":"array");var e=n,s=[0,0,0,0],a=!1;if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t1={},t.dateNF&&(t1.dateNF=t.dateNF),t.type||(t.type=xn&&Buffer.isBuffer(n)?"buffer":"base64"),t.type=="file"&&(t.type=xn?"buffer":"binary",e=yJ(n),typeof Uint8Array<"u"&&!xn&&(t.type="array")),t.type=="string"&&(a=!0,t.type="binary",t.codepage=65001,e=jae(n)),t.type=="array"&&typeof Uint8Array<"u"&&n instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),o=new Uint8Array(i);if(o.foo="bar",!o.foo)return t=mi(t),t.type="array",qf(K8(e),t)}switch((s=bS(e,t))[0]){case 208:if(s[1]===207&&s[2]===17&&s[3]===224&&s[4]===161&&s[5]===177&&s[6]===26&&s[7]===225)return kae(En.read(e,t),t);break;case 9:if(s[1]<=8)return CT(e,t);break;case 60:return s8(e,t);case 73:if(s[1]===73&&s[2]===42&&s[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(s[1]===68)return aee(e,t);break;case 84:if(s[1]===65&&s[2]===66&&s[3]===76)return nee.to_workbook(e,t);break;case 80:return s[1]===75&&s[2]<9&&s[3]<9?Cae(e,t):e_(n,e,t,a);case 239:return s[3]===60?s8(e,t):e_(n,e,t,a);case 255:if(s[1]===254)return Tae(e,t);if(s[1]===0&&s[2]===2&&s[3]===0)return wb.to_workbook(e,t);break;case 0:if(s[1]===0&&(s[2]>=2&&s[3]===0||s[2]===0&&(s[3]===8||s[3]===9)))return wb.to_workbook(e,t);break;case 3:case 131:case 139:case 140:return fN.to_workbook(e,t);case 123:if(s[1]===92&&s[2]===114&&s[3]===116)return Oee.to_workbook(e,t);break;case 10:case 13:case 32:return Dae(e,t);case 137:if(s[1]===80&&s[2]===78&&s[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return tee.indexOf(s[0])>-1&&s[2]<=12&&s[3]<=31?fN.to_workbook(e,t):e_(n,e,t,a)}function Iae(n,r,t,e,s,a,i,o){var u=gi(t),c=o.defval,l=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),d=!0,p=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:t,enumerable:!1})}catch{p.__rowNum__=t}else p.__rowNum__=t;if(!i||n[t])for(var h=r.s.c;h<=r.e.c;++h){var f=i?n[t][h]:n[e[h]+u];if(f===void 0||f.t===void 0){if(c===void 0)continue;a[h]!=null&&(p[a[h]]=c);continue}var b=f.v;switch(f.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+f.t)}if(a[h]!=null){if(b==null)if(f.t=="e"&&b===null)p[a[h]]=null;else if(c!==void 0)p[a[h]]=c;else if(l&&b===null)p[a[h]]=null;else continue;else p[a[h]]=l&&(f.t!=="n"||f.t==="n"&&o.rawNumbers!==!1)?b:Sh(f,b,o);b!=null&&(d=!1)}}return{row:p,isempty:d}}function l8(n,r){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},e=0,s=1,a=[],i=0,o="",u={s:{r:0,c:0},e:{r:0,c:0}},c=r||{},l=c.range!=null?c.range:n["!ref"];switch(c.header===1?e=1:c.header==="A"?e=2:Array.isArray(c.header)?e=3:c.header==null&&(e=0),typeof l){case"string":u=ra(l);break;case"number":u=ra(n["!ref"]),u.s.r=l;break;default:u=l}e>0&&(s=0);var d=gi(u.s.r),p=[],h=[],f=0,b=0,y=Array.isArray(n),g=u.s.r,x=0,v={};y&&!n[g]&&(n[g]=[]);var w=c.skipHidden&&n["!cols"]||[],S=c.skipHidden&&n["!rows"]||[];for(x=u.s.c;x<=u.e.c;++x)if(!(w[x]||{}).hidden)switch(p[x]=Ha(x),t=y?n[g][x]:n[p[x]+d],e){case 1:a[x]=x-u.s.c;break;case 2:a[x]=p[x];break;case 3:a[x]=c.header[x-u.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),o=i=Sh(t,null,c),b=v[i]||0,!b)v[i]=1;else{do o=i+"_"+b++;while(v[o]);v[i]=b,v[o]=1}a[x]=o}for(g=u.s.r+s;g<=u.e.r;++g)if(!(S[g]||{}).hidden){var D=Iae(n,u,g,p,e,a,y,c);(D.isempty===!1||(e===1?c.blankrows!==!1:c.blankrows))&&(h[f++]=D.row)}return h.length=f,h}var TN=/"/g;function Pae(n,r,t,e,s,a,i,o){for(var u=!0,c=[],l="",d=gi(t),p=r.s.c;p<=r.e.c;++p)if(e[p]){var h=o.dense?(n[t]||[])[p]:n[e[p]+d];if(h==null)l="";else if(h.v!=null){u=!1,l=""+(o.rawNumbers&&h.t=="n"?h.v:Sh(h,null,o));for(var f=0,b=0;f!==l.length;++f)if((b=l.charCodeAt(f))===s||b===a||b===34||o.forceQuotes){l='"'+l.replace(TN,'""')+'"';break}l=="ID"&&(l='"ID"')}else h.f!=null&&!h.F?(u=!1,l="="+h.f,l.indexOf(",")>=0&&(l='"'+l.replace(TN,'""')+'"')):l="";c.push(l)}return o.blankrows===!1&&u?null:c.join(i)}function PT(n,r){var t=[],e=r??{};if(n==null||n["!ref"]==null)return"";var s=ra(n["!ref"]),a=e.FS!==void 0?e.FS:",",i=a.charCodeAt(0),o=e.RS!==void 0?e.RS:`
`,u=o.charCodeAt(0),c=new RegExp((a=="|"?"\\|":a)+"+$"),l="",d=[];e.dense=Array.isArray(n);for(var p=e.skipHidden&&n["!cols"]||[],h=e.skipHidden&&n["!rows"]||[],f=s.s.c;f<=s.e.c;++f)(p[f]||{}).hidden||(d[f]=Ha(f));for(var b=0,y=s.s.r;y<=s.e.r;++y)(h[y]||{}).hidden||(l=Pae(n,s,y,d,i,u,a,e),l!=null&&(e.strip&&(l=l.replace(c,"")),(l||e.blankrows!==!1)&&t.push((b++?o:"")+l)));return delete e.dense,t.join("")}function Rae(n,r){r||(r={}),r.FS="	",r.RS=`
`;var t=PT(n,r);return t}function Mae(n){var r="",t,e="";if(n==null||n["!ref"]==null)return[];var s=ra(n["!ref"]),a="",i=[],o,u=[],c=Array.isArray(n);for(o=s.s.c;o<=s.e.c;++o)i[o]=Ha(o);for(var l=s.s.r;l<=s.e.r;++l)for(a=gi(l),o=s.s.c;o<=s.e.c;++o)if(r=i[o]+a,t=c?(n[l]||[])[o]:n[r],e="",t!==void 0){if(t.F!=null){if(r=t.F,!t.f)continue;e=t.f,r.indexOf(":")==-1&&(r=r+":"+r)}if(t.f!=null)e=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)e=""+t.v;else if(t.t=="b")e=t.v?"TRUE":"FALSE";else if(t.w!==void 0)e="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?e="'"+t.v:e=""+t.v}}u[u.length]=r+"="+e}return u}function RT(n,r,t){var e=t||{},s=+!e.skipHeader,a=n||{},i=0,o=0;if(a&&e.origin!=null)if(typeof e.origin=="number")i=e.origin;else{var u=typeof e.origin=="string"?po(e.origin):e.origin;i=u.r,o=u.c}var c,l={s:{c:0,r:0},e:{c:o,r:i+r.length-1+s}};if(a["!ref"]){var d=ra(a["!ref"]);l.e.c=Math.max(l.e.c,d.e.c),l.e.r=Math.max(l.e.r,d.e.r),i==-1&&(i=d.e.r+1,l.e.r=i+r.length-1+s)}else i==-1&&(i=0,l.e.r=r.length-1+s);var p=e.header||[],h=0;r.forEach(function(b,y){Xu(b).forEach(function(g){(h=p.indexOf(g))==-1&&(p[h=p.length]=g);var x=b[g],v="z",w="",S=Gr({c:o+h,r:i+y+s});c=qb(a,S),x&&typeof x=="object"&&!(x instanceof Date)?a[S]=x:(typeof x=="number"?v="n":typeof x=="boolean"?v="b":typeof x=="string"?v="s":x instanceof Date?(v="d",e.cellDates||(v="n",x=yo(x)),w=e.dateNF||Zr[14]):x===null&&e.nullError&&(v="e",x=0),c?(c.t=v,c.v=x,delete c.w,delete c.R,w&&(c.z=w)):a[S]=c={t:v,v:x},w&&(c.z=w))})}),l.e.c=Math.max(l.e.c,o+p.length-1);var f=gi(i);if(s)for(h=0;h<p.length;++h)a[Ha(h+o)+f]={t:"s",v:p[h]};return a["!ref"]=Nn(l),a}function Oae(n,r){return RT(null,n,r)}function qb(n,r,t){if(typeof r=="string"){if(Array.isArray(n)){var e=po(r);return n[e.r]||(n[e.r]=[]),n[e.r][e.c]||(n[e.r][e.c]={t:"z"})}return n[r]||(n[r]={t:"z"})}return typeof r!="number"?qb(n,Gr(r)):qb(n,Gr({r,c:t||0}))}function Lae(n,r){if(typeof r=="number"){if(r>=0&&n.SheetNames.length>r)return r;throw new Error("Cannot find sheet # "+r)}else if(typeof r=="string"){var t=n.SheetNames.indexOf(r);if(t>-1)return t;throw new Error("Cannot find sheet name |"+r+"|")}else throw new Error("Cannot find sheet |"+r+"|")}function yS(){return{SheetNames:[],Sheets:{}}}function vS(n,r,t,e){var s=1;if(!t)for(;s<=65535&&n.SheetNames.indexOf(t="Sheet"+s)!=-1;++s,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(e&&n.SheetNames.indexOf(t)>=0){var a=t.match(/(^.*?)(\d+)$/);s=a&&+a[2]||0;var i=a&&a[1]||t;for(++s;s<=65535&&n.SheetNames.indexOf(t=i+s)!=-1;++s);}if(wse(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=r,t}function Fae(n,r,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var e=Lae(n,r);switch(n.Workbook.Sheets[e]||(n.Workbook.Sheets[e]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[e].Hidden=t}function Bae(n,r){return n.z=r,n}function MT(n,r,t){return r?(n.l={Target:r},t&&(n.l.Tooltip=t)):delete n.l,n}function Uae(n,r,t){return MT(n,"#"+r,t)}function Hae(n,r,t){n.c||(n.c=[]),n.c.push({t:r,a:t||"SheetJS"})}function qae(n,r,t,e){for(var s=typeof r!="string"?r:ra(r),a=typeof r=="string"?r:Nn(r),i=s.s.r;i<=s.e.r;++i)for(var o=s.s.c;o<=s.e.c;++o){var u=qb(n,i,o);u.t="n",u.F=a,delete u.v,i==s.s.r&&o==s.s.c&&(u.f=t,e&&(u.D=!0))}return n}var bg={encode_col:Ha,encode_row:gi,encode_cell:Gr,encode_range:Nn,decode_col:sS,decode_row:nS,split_cell:eZ,decode_cell:po,decode_range:mg,format_cell:Sh,sheet_add_aoa:BD,sheet_add_json:RT,sheet_add_dom:DT,aoa_to_sheet:gg,json_to_sheet:Oae,table_to_sheet:TT,table_to_book:aae,sheet_to_csv:PT,sheet_to_txt:Rae,sheet_to_json:l8,sheet_to_html:sae,sheet_to_formulae:Mae,sheet_to_row_object_array:l8,sheet_get_cell:qb,book_new:yS,book_append_sheet:vS,book_set_sheet_visibility:Fae,cell_set_number_format:Bae,cell_set_hyperlink:MT,cell_set_internal_link:Uae,cell_add_comment:Hae,sheet_set_array_formula:qae,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Wae=({fileName:n,ensureExcelFile:r,UploadFile:t,setEnsureExcelFile:e,setFileName:s,clearUseRefObject:a})=>{const[i,o]=ne.useState(!1);return ne.useEffect(()=>{n&&n&&o(!0)},[n]),m.jsx("section",{children:i&&m.jsx("section",{className:"fixed inset-0 flex items-center justify-center z-50",children:!r&&m.jsxs("div",{className:" flex flex-col relative items-center justify-center space-y-2 text-dark_grey text_size_5 max-w-sm  w-full bg-white shadow-md p-10",children:[m.jsx("p",{className:"absolute right-2 top-2",onClick:()=>{a(),e(!0),s("")},children:m.jsx(gA,{className:"text-3xl text-grey "})}),m.jsx("p",{children:"Filename"}),m.jsx("p",{className:"text-center",children:n}),m.jsxs("p",{className:"text-[red] text-center",children:[" ","Error: Please upload CSV or XLS file type only"," "]})]})})})},zae=({fileNameForSuccessful:n,setCloseSavedModel:r,backToHome:t})=>{const[e,s]=ne.useState(!0);return ne.useEffect(()=>{n&&n&&s(!0)},[n]),m.jsx("div",{children:e&&m.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 ",children:m.jsxs("div",{className:"relative ",children:[m.jsx(oA,{className:"absolute  left-60 -top-5 text-5xl text-[#2BEE48] z-50"}),m.jsx("div",{className:"border w-[509px] h-[218px]  border-lite_grey rounded shadow-md  bg-white pt-8",children:m.jsx("div",{children:m.jsxs("div",{className:" flex flex-col items-center gap-5",children:[m.jsx("p",{className:"text-dark_grey text_size_5",children:"Saved Successfully"}),m.jsx("p",{className:" text-dark_grey text-[16px] ",children:n}),m.jsx("button",{className:" p-2 rounded border-[#FEF116] bg-[#FEF116] text-dark_grey text_size_5 w-52",onClick:()=>{s(!e),r(!1),t(0)},children:"Close"})]})})})]})})})},yg=({allEmpDetails:n,secondaryData:r,searchResult:t,placeholder:e,Position:s})=>{const[a,i]=ne.useState(""),o=u=>{const c=u.target.value.trim().toUpperCase();if(i(c),console.log(r),c){const d=(r&&(r==null?void 0:r.map(p=>{console.log(p);const h=f=>{var b,y,g,x,v,w;return((b=f==null?void 0:f.no)==null?void 0:b.toString().toUpperCase().includes(c))||((y=f==null?void 0:f.NO)==null?void 0:y.toString().toUpperCase().includes(c))||((g=f==null?void 0:f.fid)==null?void 0:g.toString().toUpperCase().includes(c))||((x=f==null?void 0:f.FID)==null?void 0:x.toString().toUpperCase().includes(c))||((v=f==null?void 0:f.badge)==null?void 0:v.toString().toUpperCase().includes(c))||((w=f==null?void 0:f.BADGE)==null?void 0:w.toString().toUpperCase().includes(c))};if(s==="Manager"){const f=p.data.filter(h);if(f.length>0)return{id:p.id,data:f}}else if(s==="ViewTimeSheet"){const f=p.data.filter(h);if(f.length>0)return{id:p.id,data:f}}else{const f=h(p);return f&&console.log("TimeKeeper Match Found:",p),f?p:null}}))).filter(p=>p!==null);t(d)}else t(r)};return m.jsxs("div",{className:"flex items-center border border-[#D9D9D9] bg-white rounded p-2 text-[#000000] text-sm w-fit md:max-w-md",children:[m.jsx("input",{value:a,type:"text",placeholder:e,className:"outline-none flex-grow text-sm w-full",onChange:o}),m.jsx("span",{className:"ml-2",children:m.jsx(AX,{className:"text-xl text-dark_grey"})})]})},Bv=()=>m.jsx("div",{className:"flex justify-center",children:m.jsxs("div",{className:" flex flex-col items-center gap-5 p-5 px-16  rounded shadow-lg",children:[m.jsx("p",{className:"text-dark_grey text_size_5",children:"Message :"}),m.jsx("p",{className:"text-dark_grey ",children:"Your excel sheet is not expected format"}),m.jsx("p",{className:"text-[#00DF0F] text_size_5",children:"ERROR"})]})}),vg=n=>(e=>{if(e==="HO")return{fieldObj:{REC:null,CTR:null,DEPT:null,EMPLOYEEID:null,BADGE:null,NAME:null,DATE:null,ONAM:null,OFFAM:null,ONPM:null,OFFPM:null,IN:null,OUT:null,TOTALINOUT:null,ALLDAYMINUTES:null,NETMINUTES:null,TOTALHOURS:null,NORMALWORKINGHRSPERDAY:null,TOTALACTUALHOURS:null,OT:null,REMARKS:null},fields:["REC","CTR","DEPT","EMPLOYEEID","BADGE","NAME","DATE","ONAM","OFFAM","ONPM","OFFPM","IN","OUT","TOTALINOUT","ALLDAYMINUTES","NETMINUTES","TOTALHOURS","NORMALWORKINGHRSPERDAY","TOTALACTUALHOURS","OT","REMARKS"],tableHeader:["REC#","CTR","DEPT","EMPLOYEE ID","BADGE#","NAME","DATE","ON AM","OFF AM","ON PM","OFF PM","IN","OUT","TOTAL IN/OUT","ALL DAY MINUTES","NET MINUTES","TOTAL HOURS","NORMAL WORKING HRS PER DAY","TOTAL ACTUAL HOURS","OT","REMARKS"]};if(e==="BLNG")return{fieldObj:{FID:null,NAMEFLAST:null,ENTRANCEDATEUSED:null,ENTRANCEDATETIME:null,EXITDATETIME:null,DAYDIFFERENCE:null,AVGDAILYTOTALBYDAY:null,AHIGHLIGHTDAILYTOTALBYGROUP:null,ADININWORKSENGINEERINGSDNBHD:null,NORMALWORKINGHRSPERDAY:null,WORKINGHOURS:null,OT:null,REMARKS:null},fields:["FID","NAMEFLAST","ENTRANCEDATEUSED","ENTRANCEDATETIME","EXITDATETIME","DAYDIFFERENCE","AVGDAILYTOTALBYDAY","AHIGHLIGHTDAILYTOTALBYGROUP","ADININWORKSENGINEERINGSDNBHD","NORMALWORKINGHRSPERDAY","WORKINGHOURS","OT","REMARKS"],tableHeader:["FID","NAME (FLAST)","ENTRANCE DATE USED","ENTRANCE DATETIME","EXIT DATETIME","DAY DIFFERENCE","AVG. DAILY TOTAL BY DAY","A HIGHLIGHT DAILY TOTAL BY GROUP","ADININ WORK & ENGINEERING SDN BHD","NORMAL WORKING HRS PER DAY","ACTUAL WORKING HOURS","OT","REMARKS"]};if(e==="SBW")return{fieldObj:{NAME:null,DEPTDIV:null,BADGE:null,DATE:null,IN:null,OUT:null,TOTALINOUT:null,ALLDAYMINHRS:null,NETMINUTES:null,TOTALHOURS:null,NORMALWORKINGHRSPERDAY:null,WORKINGHOURS:null,OT:null,REMARKS:null},fields:["NAME","DEPTDIV","BADGE","DATE","IN","OUT","TOTALINOUT","ALLDAYMINHRS","NETMINUTES","TOTALHOURS","NORMALWORKINGHRSPERDAY","WORKINGHOURS","OT","REMARKS"],tableHeader:["Name","DEPT/DIV","BADGE#","DATE","IN","OUT","TOTAL IN/OUT","ALL DAY MIN (HRS)","NET MINUTES","TOTAL HOURS","NORMAL WORKING HRS PER DAY","ACTUAL WORKING HOURS","OT","REMARKS"]};if(e==="ORMC")return{fieldObj:{NAME:null,DEPTDIV:null,BADGE:null,DATE:null,IN:null,OUT:null,TOTALINOUT:null,ALLDAYMINHRS:null,NETMINUTES:null,TOTALHOURS:null,NORMALWORKINGHRSPERDAY:null,WORKINGHOURS:null,OT:null,REMARKS:null},fields:["NAME","DEPTDIV","BADGE","DATE","IN","OUT","TOTALINOUT","ALLDAYMINHRS","NETMINUTES","TOTALHOURS","NORMALWORKINGHRSPERDAY","WORKINGHOURS","OT","REMARKS"],tableHeader:["Name","DEPT/DIV","BADGE#","DATE","IN","OUT","TOTAL IN/OUT","ALL DAY MIN (HRS)","NET MINUTES","TOTAL HOURS","NORMAL WORKING HRS PER DAY","ACTUAL WORKING HOURS","OT","REMARKS"]};if(e==="Offshore")return{fieldObj:{NAME:null,NO:null,LOCATION:null,DATE:null,TOTALHOURS:null,TOTALHOURS2:null,TOTALHOURS3:null,NORMALWORKINGHRSPERDAY:null,WORKINGHOURS:null,OT:null,REMARKS:null},fields:["NAME","NO","LOCATION","DATE","TOTALHOURS","TOTALHOURS2","TOTALHOURS3","NORMALWORKINGHRSPERDAY","WORKINGHOURS","OT","REMARKS"],tableHeader:["EMPLOYEE NAME","SUB ID","LOCATION","DATE","TOTAL NT","TOTAL OT","TOTAL IN/OUT","NORMAL WORKING HRS PER DAY","ACTUAL WORKING HOURS","OT","REMARKS"]}})(n),Uv=({editObject:n,toggleFunction:r,tableHeader:t,editFunction:e,fields:s,fieldObj:a,titleName:i,Position:o})=>{const[u,c]=ne.useState(null),[l,d]=ne.useState(null);ne.useState(null),ne.useState([]),ne.useState(),ne.useState([]);const[p,h]=ne.useState(null);ne.useState(null);const[f,b]=ne.useState({fieldObj:a}),y=[{id:1,JOBCODE:"J9001"},{id:2,JOBCODE:"J9002"},{id:3,JOBCODE:"J9009M433"},{id:4,JOBCODE:"J9010M432"},{id:5,JOBCODE:"J9013M432"},{id:6,JOBCODE:"J9014"},{id:7,JOBCODE:"J9026M433"},{id:8,JOBCODE:"J9027M433"},{id:9,JOBCODE:"J9028M432"},{id:10,JOBCODE:"J9032M431"},{id:11,JOBCODE:"J9036M433"},{id:12,JOBCODE:"J9037M433"},{id:13,JOBCODE:"J9038M433"},{id:14,JOBCODE:"J9040M433"},{id:15,JOBCODE:"J9041M433"},{id:16,JOBCODE:"J9043M432"},{id:17,JOBCODE:"J9057M431"},{id:18,JOBCODE:"J9063M431"},{id:19,JOBCODE:"J9064M431"},{id:20,JOBCODE:"J9068M431"},{id:21,JOBCODE:"J9069M433"},{id:22,JOBCODE:"J9070M431"},{id:23,JOBCODE:"J9071M433"},{id:24,JOBCODE:"J9072M431"},{id:25,JOBCODE:"J9073M431"},{id:26,JOBCODE:"J9074M433"},{id:27,JOBCODE:"J9075M433"}],g=[{id:1,location:"Crest Centurion 2"},{id:2,location:"DAY TRIPPING"},{id:3,location:"Icon Aliza"},{id:4,location:"Icon Valiant"},{id:6,location:"Khalifa"},{id:7,location:"Masshor Princess"},{id:8,location:"MV Falgout"},{id:9,location:"Offshore"},{id:10,location:"Head Office"},{id:11,location:"ORMC"},{id:12,location:"SBW"}];ne.useEffect(()=>{var U,I;if(n)if(b(n),console.log(n),((U=n.jobLocaWhrs)==null?void 0:U.length)>0){const F=(I=n.jobLocaWhrs)==null?void 0:I.map((A,_)=>({id:_+1,JOBCODE:A.JOBCODE,LOCATION:A.LOCATION,WORKINGHRS:A.WORKINGHRS,OVERTIMEHRS:A.OVERTIMEHRS}));F&&(console.log(F),T(F))}else T([{id:1}])},[n]);const x=(U,I)=>{I===""&&T(F=>F.map(A=>A.id===U?{...A,LOCATION:I||null}:A))},v=(U,I)=>{I===""&&T(F=>F.map(A=>A.id===U?{...A,LOCATION:I||null}:A))},w=(U,I)=>{c(U),console.log(U),T(F=>F.map(A=>A.id===I?{...A,JOBCODE:(U==null?void 0:U.JOBCODE)||A.JOBCODE||null}:A))},S=(U,I)=>{d(U),console.log(U),T(F=>F.map(A=>A.id===I?{...A,LOCATION:(U==null?void 0:U.location)||A.location||null}:A))},[D,T]=ne.useState([{id:1}]);console.log(D);const R=()=>{const I={id:D.length+1};T([...D,I])},P=ne.useCallback((U,I,F)=>{T(A=>A.map(_=>_.id===U?{..._,WORKINGHRS:F==="WorkingHrs"?I:_.WORKINGHRS,OVERTIMEHRS:F==="WorkingHrs"&&(!I||I==="")?0:F==="OvertimeHrs"?I:_.OVERTIMEHRS}:_))},[]);ne.useEffect(()=>{const U=(I,F)=>{const A=D.reduce((_,E)=>_+(parseInt(E.WORKINGHRS)||0),0);D.reduce((_,E)=>_+(parseInt(E.OVERTIMEHRS)||0),0),b(_=>{const E=A||n[I],N=E-_.NORMALWORKINGHRSPERDAY<=0?0:E-_.NORMALWORKINGHRSPERDAY;return h(E>parseInt(_.NORMALWORKINGHRSPERDAY)),{..._,[F]:E||0,OT:E===0?0:N}})};i==="HO"?U("TOTALACTUALHOURS","TOTALACTUALHOURS"):U("WORKINGHOURS","WORKINGHOURS")},[D]),ne.useEffect(()=>{const U=D.reduce((I,F)=>parseInt(I)+parseInt(F.OVERTIMEHRS||0),0);console.log(U),U&&b(I=>({...I,OT:U||0}))},[D]);const L=ne.useCallback(()=>{const U=D&&D.map(F=>({JOBCODE:F==null?void 0:F.JOBCODE,LOCATION:F==null?void 0:F.LOCATION,WORKINGHRS:F==null?void 0:F.WORKINGHRS,OVERTIMEHRS:F==null?void 0:F.OVERTIMEHRS})),I={...f,jobLocaWhrs:U};console.log(I),e(I)},[D,f]),O=U=>{const{name:I,value:F}=U.target;b(A=>{const _={...A,[I]:F};if(I==="WORKINGHOURS"||I==="TOTALACTUALHOURS"){const E=parseInt(F)||0,N=parseInt(A.NORMALWORKINGHRSPERDAY)||0,k=E-N<=0?"0":E-N;return E>N?h(!0):h(!1),{..._,OT:k}}return _})},H=U=>{const I=D.filter(F=>{if(F.id!==U)return F});T(I)};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 ",children:m.jsxs("section",{className:"bg-[#FBFBFB] p-5 gap-2 flex flex-col item-center rounded-lg shadow-md border-4 border-[#EBEBEB] h-[600px] w-[900px] overflow-y-auto",children:[m.jsx("div",{className:"flex justify-end",children:m.jsx(s5,{className:"text-2xl cursor-pointer",onClick:r})}),m.jsx("div",{className:"flex justify-center ",children:m.jsx("img",{className:"size-32 h-12 w-full",src:"/src/assets/logo/logo-with-name.svg",alt:"not found"})}),m.jsx("div",{className:"flex justify-center py-2 ",children:m.jsx("p",{className:"text-dark_grey text_size_2",children:"Edit Access"})}),s==null?void 0:s.map((U,I)=>m.jsxs("div",{className:"grid grid-cols-2 pl-5 gap-5",children:[m.jsx("p",{className:"text-dark_grey text_size_6 pt-2",children:t[I]}),m.jsxs("div",{children:[m.jsx("input",{type:"text",name:U,className:"border border-dark_grey rounded text-dark_grey text-[16px] outline-none w-full py-1 px-3 cursor-auto",value:f[U]||"",onChange:O,readOnly:I<10}),p&&(U==="WORKINGHOURS"||U==="TOTALACTUALHOURS")&&m.jsx("span",{className:"text_size_9 mt-2 text-red",children:"Working hours exceed the normal working hours per day."})]})]},I)),o==="Manager"&&m.jsxs("div",{className:"grid grid-cols-2 pl-5 gap-5",children:[m.jsx("p",{className:"text-dark_grey text_size_6 pt-2",children:"STATUS"}),m.jsx("input",{type:"text",className:"border border-dark_grey rounded text-dark_grey text-[16px] outline-none w-full py-1 px-3 cursor-auto",value:"Pending",readOnly:!0})]}),m.jsxs("section",{className:"grid grid-cols-1 pl-4 ",children:[m.jsxs("div",{className:"grid grid-cols-[10fr,10fr,10fr,10fr,0.6fr] gap-0 pt-5",children:[m.jsx("label",{className:"text_size_6 text-dark_grey ",children:"JOBCODE"}),m.jsx("label",{className:"text_size_6 text-dark_grey ",children:"LOCATION"}),m.jsx("label",{className:"text_size_6 text-dark_grey ",children:"WORKING HOURS"}),m.jsx("label",{className:"text_size_6 text-dark_grey ",children:"OVERTIME HOURS"})]}),D&&D.map((U,I)=>m.jsxs("div",{className:"grid grid-cols-[5fr,5fr,5fr,5fr,0fr] gap-4 pt-1 pb-2",children:[m.jsx("div",{className:"w-fit",children:m.jsx(Ba,{newFormData:y,placeholder:"Search Job Code",rounded:"rounded",searchResult:w,searchedValue:x,setDrpValue:U.JOBCODE||null,id:U.id})}),m.jsxs("div",{className:"w-fit",children:[m.jsx(Ba,{newFormData:g,placeholder:"Search Location",rounded:"rounded",searchResult:S,setDrpValue:U.LOCATION||null,searchedValue:v,id:U.id}),!U.LOCATION&&m.jsx("span",{className:"text_size_9 mt-2 text-red",children:"Location must not be empty."})]}),m.jsx("div",{className:"w-fit",children:m.jsx("input",{type:"text",id:`workingHours-${I}`,value:U.WORKINGHRS||"",onChange:F=>{P(U.id,F.target.value,"WorkingHrs")},placeholder:"Enter Hours",className:"border border-lite_grey rounded text-dark_grey text_size_5 outline-none w-full py-2 px-3 cursor-auto",readOnly:!U.LOCATION})}),m.jsx("div",{className:"w-fit",children:m.jsx("input",{type:"text",id:`OverTimeHours-${I}`,value:U.OVERTIMEHRS||"",onChange:F=>{P(U.id,F.target.value,"OvertimeHrs")},placeholder:"Enter Overtime ",className:"border border-lite_grey rounded text-dark_grey text_size_5 outline-none w-full py-2 px-3 cursor-auto",readOnly:!U.LOCATION})}),m.jsx("div",{className:"pt-2.5",children:I===0?m.jsx(JU,{className:"text-xl text-dark_ash cursor-pointer",onClick:()=>{R()}}):m.jsx(XU,{className:"text-xl text-dark_ash cursor-pointer",onClick:()=>{H(U.id)}})})]},I))]}),m.jsx("div",{className:" flex justify-center",children:m.jsx("button",{className:" text-dark_grey text_size_3 rounded bg-[#FEF116] px-9 m-5 py-2",onClick:()=>{L(),r()},children:"Save"})})]})})},jN=({toggleSFAMessage:n,setExcelData:r,icons:t,iconColor:e,textColor:s,title:a,message:i,btnText:o})=>m.jsx("div",{children:m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:m.jsxs("div",{className:"relative ",children:[m.jsx("div",{className:`absolute  left-44 -top-5 text-5xl ${e} z-50 `,children:t}),m.jsx("div",{className:"border w-[409px] h-[218px]  border-lite_grey rounded shadow-md  bg-white pt-12",children:m.jsx("div",{children:m.jsxs("div",{className:" flex flex-col items-center gap-5",children:[m.jsx("p",{className:`text_size_2 ${s}`,children:a}),m.jsx("p",{className:" text-dark_grey  text_size_6 ",children:i}),m.jsx("button",{className:" p-2 rounded border-[#FEF116] bg-[#FEF116] text-dark_grey text_size_5 w-52",onClick:()=>{n(null),r==null||r(null)},children:o})]})})})]})})}),Hv=({successMess:n,toggleSFAMessage:r,setExcelData:t,userIdentification:e})=>m.jsxs("div",{children:[n===!0&&m.jsx(jN,{toggleSFAMessage:r,setExcelData:t,icons:m.jsx(oA,{}),iconColor:"text-[#2BEE48]",textColor:"text-[#05b01f]",title:"Success!",message:`Data has been successfully ${e==="Manager"?"Approved":"Saved"}`,btnText:"OK"}),n===!1&&m.jsx(jN,{toggleSFAMessage:r,icons:m.jsx(gA,{}),iconColor:"text-[#dc2626]",textColor:"text-[#dc2626]",title:"Sorry :(",message:"Something went wrong please try again!!",btnText:"TRY AGAIN"})]}),qv=(n,r)=>{const[e,s]=ne.useState([]),[a,i]=ne.useState(1),o=ne.useCallback(()=>{const l=a+1,d=a*25,p=d+25,h=n.slice(d,p);s(f=>[...f,...h]),i(l)},[a,n]),u=ne.useCallback(()=>{if(!n||n.length===0)return;const l=n.reduce((h,f)=>(f.data&&h.push(...f.data),h),[]),d=a*25,p=d+25;s(h=>[...h,...l.slice(d,p)]),i(h=>h+1)},[a,n]);return ne.useEffect(()=>{r!=="Manager"&&n&&n.length>0&&(s(n.slice(0,25)),i(1))},[n,r]),ne.useEffect(()=>{if(r==="Manager"){if(!n||n.length===0){s([]),i(1);return}const l=n.reduce((h,f)=>(f.data&&h.push(...f.data),h),[]),d=0,p=a*25;s(l.slice(d,p))}},[n,r,a]),{handleScroll:ne.useCallback(l=>{l.target.scrollHeight-l.target.scrollTop<=l.target.clientHeight+5&&(r!=="Manager"?o():u())},[o,u,r]),visibleData:e,setVisibleData:s}},t_=kr(),IN=({excelData:n,returnedTHeader:r,Position:t,convertedStringToArrayObj:e,titleName:s,setExcelData:a})=>{const[i,o]=ne.useState(null),[u,c]=ne.useState(null),[l,d]=ne.useState(null),[p,h]=ne.useState(),[f,b]=ne.useState(!1),[y,g]=ne.useState(!0),[x,v]=ne.useState(""),[w,S]=ne.useState(null),[D,T]=ne.useState(null),{handleScroll:R,visibleData:P,setVisibleData:L}=qv(i,t);ne.useEffect(()=>{n&&(async()=>{try{const G=await new Promise((J,V)=>{n?J(n):setTimeout(()=>{V("No data found after waiting.")},5e3)});(async()=>{var q,z;const[J]=await Promise.all([t_.graphql({query:Ww})]),V=(z=(q=J==null?void 0:J.data)==null?void 0:q.listEmpWorkInfos)==null?void 0:z.items,Q=G.map(Z=>{const re=V.find(le=>le.sapNo==Z.NO);return{...Z,NORMALWORKINGHRSPERDAY:re?re.workHrs[0]:null}});console.log("MergedData : ",Q),o(Q),c(Q)})()}catch(M){console.log("ERROR : ",M)}finally{}})()},[n]),ne.useEffect(()=>{const j=localStorage.getItem("userType");j==="Manager"?v("Manager"):j==="TimeKeeper"&&v("TimeKeeper")},[]);const O=j=>{if(j&&j.length>0){d(!0);const M=j&&j.map(G=>{var Y;return{id:(G==null?void 0:G.id)||null,data:(Y=G==null?void 0:G.data)==null?void 0:Y.map((J,V)=>({NAME:J.name||"",NO:J.no||"",LOCATION:J.location||"",DATE:J.date||"",TOTALHOURS:J.ntTotalHrs||0,TOTALHOURS2:J.otTotalHrs||0,TOTALHOURS3:J.totalHrs||0,WORKINGHOURS:J.workHrs||0,OT:(J==null?void 0:J.OT)||0,NORMALWORKINGHRSPERDAY:(J==null?void 0:J.normalWhrsPerDay)||0,jobLocaWhrs:J.jobLocaWhrs||[],REMARKS:J.remarks||"",status:J.status||""}))}});o(M),c(M)}},H=async j=>{console.log(j);try{const M=await j;o(M)}catch(M){console.error("Error fetching user data:",M)}};console.log(n);const U=j=>typeof j!="string"?j:j.replace(/[^a-zA-Z0-9]/g,"");ne.useEffect(()=>{const j=async()=>{const M=r&&r.map(J=>{const V={};for(const Q in J)V[Q]=U(J[Q]);return V});console.log(M);const G=["NAME","No","Company","TOTALHOURS"],Y=await new Promise(J=>{const V=M&&M.every(Q=>G.every(q=>Object.values(Q).map(z=>typeof z=="string"?z.toUpperCase():z).includes(q.toUpperCase())));J(V)});console.log("Result: ",Y),T(Y),d(Y),g(!1)};r&&r.length>0?j():r?(d(!1),g(!1)):(async()=>{d(!0);try{const J=(await new Promise((V,Q)=>{e?V(e):setTimeout(()=>{Q("No data found after waiting.")},5e3)})).map(V=>{var Q,q;return{id:(Q=V[0])==null?void 0:Q.id,data:(q=V[1])==null?void 0:q.filter(z=>{if(z.status!=="Approved")return z})}}).filter(V=>V.data&&V.data.length>0);console.log(J),x==="Manager"&&O(J)}catch{}finally{}})()},[r,e]);const I=j=>{h(j)},F=()=>{b(!f)},A=j=>{S(j)},_=(j,M)=>j.map(G=>({id:G.id,data:G.data.map(Y=>Y.NO===M.NO?M:Y)})),E=(j,M)=>j.map(G=>G.NO===M.NO?M:G),N=j=>{var G;const M=Array.isArray((G=i[0])==null?void 0:G.data)?_(i,j):E(i,j);o(M)},k=vg(s),B=async()=>{if(x!=="Manager"){const j=i&&i.map(Y=>({name:Y.NAME||"",no:Y.NO||"",location:Y.LOCATION||"",date:Y.DATE||"",ntTotalHrs:Y.TOTALHOURS||"",otTotalHrs:Y.TOTALHOURS2||"",totalHrs:Y.TOTALHOURS3||"",normalWhrsPerDay:(Y==null?void 0:Y.NORMALWORKINGHRSPERDAY)||0,workHrs:Y.WORKINGHOURS||"",OT:Y.OT||"",remarks:Y.REMARKS||"",jobLocaWhrs:(Y==null?void 0:Y.jobLocaWhrs)||[]}));console.log(j);const M=new Date().toLocaleDateString(),G={dailySheet:JSON.stringify(j),status:"Pending",date:M};G.dailySheet&&await t_.graphql({query:iW,variables:{input:G}}).then(Y=>{console.log(Y),Y.data.createOffshoreSheet&&A(!0)}).catch(Y=>{console.log(Y),A(!1)})}else x==="Manager"&&(i&&i.map(M=>{var G;return{id:(M==null?void 0:M.id)||null,dailySheet:(G=M==null?void 0:M.data)==null?void 0:G.map(Y=>({name:Y.NAME||"",no:Y.NO||"",location:Y.LOCATION||"",date:Y.DATE||"",ntTotalHrs:Y.TOTALHOURS||"",otTotalHrs:Y.TOTALHOURS2||"",totalHrs:Y.TOTALHOURS3||"",normalWhrsPerDay:(Y==null?void 0:Y.NORMALWORKINGHRSPERDAY)||0,workHrs:Y.WORKINGHOURS||"",OT:Y.OT||"",remarks:Y.REMARKS||"",jobLocaWhrs:(Y==null?void 0:Y.jobLocaWhrs)||[]}))}})).map(async M=>{const G={id:M.id,dailySheet:JSON.stringify(M.dailySheet),status:"Approved"};G.dailySheet&&await t_.graphql({query:oW,variables:{input:G}}).then(Y=>{console.log(Y),Y.data.updateOffshoreSheet&&(A(!0),L([]))}).catch(Y=>{console.log(Y),A(!1)})})};return m.jsxs("div",{className:"border border-white",children:[l?m.jsxs("div",{children:[m.jsx("div",{className:"flex justify-end mr-7",children:m.jsx(yg,{allEmpDetails:i,searchResult:H,secondaryData:u,Position:t,placeholder:"Sap No."})}),m.jsx("div",{className:"table-container",onScroll:R,children:m.jsxs("table",{className:"styled-table",children:[m.jsx("thead",{className:"sticky-header",children:m.jsxs("tr",{className:"text_size_5",children:[m.jsx("td",{className:"px-4 flex-1",children:"S No."}),(k==null?void 0:k.tableHeader.map((j,M)=>m.jsx("td",{className:"px-5 flex-1",children:j},M)))??m.jsx("tr",{children:m.jsx("td",{colSpan:"100%",className:"text-center",children:"No headers available"})}),D===!0?"":m.jsx("td",{className:"px-5 flex-",children:"STATUS"})]})}),m.jsx("tbody",{children:P&&P.length>0?P.map((j,M)=>{const G=(Y,J)=>{const V=Y.status==="Pending";return m.jsxs("tr",{className:"text-dark_grey h-[40px] text-sm rounded-sm shadow-md border-b-2 border-[#CECECE] bg-white",onClick:()=>{F(),I(Y)},children:[m.jsx("td",{className:"text-center px-4 flex-1",children:M+1}),m.jsx("td",{className:"text-start px-4 flex-1",children:Y.NAME}),m.jsx("td",{className:"text-center px-4 flex-1",children:Y.NO}),m.jsx("td",{className:"text-start px-4 flex-1",children:Y.LOCATION}),m.jsx("td",{className:"text-center px-4 flex-1",children:Y.DATE}),m.jsx("td",{className:"text-center px-4 flex-1",children:Y.TOTALHOURS||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:Y.TOTALHOURS2||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:Y.TOTALHOURS3||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:Y.NORMALWORKINGHRSPERDAY||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:Y.WORKINGHOURS||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:Y.OT||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:Y.REMARKS}),V&&m.jsx("td",{className:`text-center px-4 flex-1 ${Y.status==="Approved"?"text-[#0CB100]":"text_size_8"}`,children:Y.status})]},M+1)};return(x==="Manager"||x!=="Manager")&&G(j)}):m.jsx("tr",{children:m.jsx("td",{colSpan:"15",className:"px-6 py-6 text-center text-dark_ash text_size_5",children:m.jsx("p",{className:"px-6 py-6",children:"No Table Data Available Here"})})})??m.jsx("tr",{children:m.jsx("td",{colSpan:"15",className:"px-6 py-6 text-center text-dark_ash text_size_5",children:m.jsx("p",{className:"px-6 py-6",children:"No Table Data Available Here"})})})})]})}),m.jsx("div",{className:`flex justify-center my-5 ${P&&P.length>0?"":"hidden"}`,children:m.jsx("button",{className:`rounded px-3 py-2 ${x==="Manager"?"w-40":"w-52"} bg-[#FEF116] text_size_5 text-dark_grey mb-10`,onClick:()=>{B()},children:x==="Manager"?"Approve":"Send For Approval"})})]}):l===!1?m.jsx(Bv,{}):"",f===!0&&m.jsx(Uv,{toggleFunction:F,editObject:p,fieldObj:(k==null?void 0:k.fieldObj)||{},fields:(k==null?void 0:k.fields)||[],tableHeader:(k==null?void 0:k.tableHeader)||[],editFunction:N,titleName:s,Position:t}),m.jsx(Hv,{successMess:w,toggleSFAMessage:A,setExcelData:a,userIdentification:x})]})},r_=kr(),PN=({excelData:n,returnedTHeader:r,convertedStringToArrayObj:t,titleName:e,setExcelData:s,Position:a})=>{const[i,o]=ne.useState(null),[u,c]=ne.useState(null),[l,d]=ne.useState(null),[p,h]=ne.useState(),[f,b]=ne.useState(!1),[y,g]=ne.useState(""),[x,v]=ne.useState(null),[w,S]=ne.useState(null),{handleScroll:D,visibleData:T,setVisibleData:R}=qv(i,a);ne.useEffect(()=>{n&&(async()=>{try{const j=await new Promise((G,Y)=>{n?G(n):setTimeout(()=>{Y("No data found after waiting.")},5e3)});(async()=>{var V,Q;const[G]=await Promise.all([r_.graphql({query:Ww})]),Y=(Q=(V=G==null?void 0:G.data)==null?void 0:V.listEmpWorkInfos)==null?void 0:Q.items,J=j.map(q=>{const z=Y.find(Z=>Z.sapNo==q.FID);return{...q,NORMALWORKINGHRSPERDAY:z?z.workHrs[0]:null}});console.log("MergedData : ",J),o(J),c(J)})()}catch{}finally{}})()},[n]),ne.useEffect(()=>{const k=localStorage.getItem("userType");k==="Manager"?g("Manager"):k==="TimeKeeper"&&g("TimeKeeper")},[t]);const P=k=>{if(k&&k.length>0){d(!0);const B=k&&k.map(j=>{var M;return{id:(j==null?void 0:j.id)||null,data:(M=j==null?void 0:j.data)==null?void 0:M.map((G,Y)=>({FID:G.fid||0,NAMEFLAST:G.name||"",ENTRANCEDATEUSED:G.entDate||"",ENTRANCEDATETIME:G.entDT||"",EXITDATETIME:G.exitDT||"",DAYDIFFERENCE:G.day||0,AVGDAILYTOTALBYDAY:G.avgTotalDay||"",AHIGHLIGHTDAILYTOTALBYGROUP:G.totalhrs||"",ADININWORKSENGINEERINGSDNBHD:G.workDN||"",WORKINGHOURS:G.workhrs||0,OT:G.OT||0,NORMALWORKINGHRSPERDAY:(G==null?void 0:G.normalWhrsPerDay)||0,jobLocaWhrs:G.jobLocaWhrs||[],REMARKS:G.remarks||"",status:G.status||""}))}});o(B),c(B)}},L=async k=>{console.log(k);try{const B=await k;o(B)}catch(B){console.error("Error fetching user data:",B)}},O=k=>typeof k!="string"?k:k.replace(/[^a-zA-Z0-9]/g,"");ne.useEffect(()=>{const k=async()=>{const B=r.map(G=>{const Y={};for(const J in G)Y[J]=O(G[J]);return Y}),j=["ADININWORKSENGINEERINGSDNBHD","FID","NameFLAST","EntranceDateUsed","EntranceDatetime","ExitDatetime","DayDifference","AvgDailyTotalByDay","AHighlightDailyTotalByGroup"],M=await new Promise(G=>{const Y=B&&B.every(J=>j.every(V=>Object.values(J).map(Q=>typeof Q=="string"?Q.toUpperCase():Q).includes(V.toUpperCase())));G(Y)});console.log(M),S(M),d(M)};r&&r.length>0?k():r?d(!1):(async()=>{d(!0);try{const G=(await new Promise((Y,J)=>{t?Y(t):setTimeout(()=>{J("No data found after waiting.")},5e3)})).map(Y=>{var J,V;return{id:(J=Y[0])==null?void 0:J.id,data:(V=Y[1])==null?void 0:V.filter(Q=>{if(Q.status!=="Approved")return Q})}}).filter(Y=>Y.data&&Y.data.length>0);console.log(G),y==="Manager"&&P(G)}catch{}finally{}})()},[r,t]);const H=k=>{h(k)},U=()=>{b(!f)},I=k=>{v(k)},F=(k,B)=>(console.log("Working"),k.map(j=>({id:j.id,data:j.data.map(M=>M.FID===B.FID&&M.ENTRANCEDATEUSED===B.ENTRANCEDATEUSED?B:M)}))),A=(k,B)=>k.map(j=>j.FID===B.FID&&j.ENTRANCEDATEUSED===B.ENTRANCEDATEUSED?B:j),_=k=>{var j;const B=Array.isArray((j=i[0])==null?void 0:j.data)?F(i,k):A(i,k);o(B)},E=vg(e),N=async()=>{if(y==="TimeKeeper"){const k=i&&i.map(G=>({fid:(G==null?void 0:G.FID)||0,name:(G==null?void 0:G.NAMEFLAST)||"",entDate:(G==null?void 0:G.ENTRANCEDATEUSED)||"",entDT:(G==null?void 0:G.ENTRANCEDATETIME)||"",exitDT:(G==null?void 0:G.EXITDATETIME)||"",day:(G==null?void 0:G.DAYDIFFERENCE)||0,avgTotalDay:(G==null?void 0:G.AVGDAILYTOTALBYDAY)||"",totalhrs:(G==null?void 0:G.AHIGHLIGHTDAILYTOTALBYGROUP)||"",workDN:(G==null?void 0:G.ADININWORKSENGINEERINGSDNBHD)||"",normalWhrsPerDay:(G==null?void 0:G.NORMALWORKINGHRSPERDAY)||0,workhrs:(G==null?void 0:G.WORKINGHOURS)||0,OT:(G==null?void 0:G.OT)||0,jobLocaWhrs:(G==null?void 0:G.jobLocaWhrs)||"",remarks:(G==null?void 0:G.REMARKS)||""})),B=new Date().toLocaleDateString(),j=async(G,Y)=>{const J={weeklySheet:JSON.stringify(G),status:"Pending",date:B};try{console.log(`Submitting batch ${Y}`),console.log(J);const V=await r_.graphql({query:CW,variables:{input:J}});V.data.createBlng&&(console.log(`Batch ${Y} submitted successfully`),I(!0),console.log(V))}catch(V){console.log(`Error in batch ${Y}:`,V),I(!1)}},M=1500;for(let G=0;G<k.length;G+=M){const Y=k.slice(G,G+M);await j(Y,"6785A")}}else y==="Manager"&&(i&&i.map(B=>{var j;return{id:(B==null?void 0:B.id)||null,weaklySheet:(j=B==null?void 0:B.data)==null?void 0:j.map(M=>({fid:(M==null?void 0:M.FID)||0,name:(M==null?void 0:M.NAMEFLAST)||"",entDate:(M==null?void 0:M.ENTRANCEDATEUSED)||"",entDT:(M==null?void 0:M.ENTRANCEDATETIME)||"",exitDT:(M==null?void 0:M.EXITDATETIME)||"",day:(M==null?void 0:M.DAYDIFFERENCE)||0,avgTotalDay:(M==null?void 0:M.AVGDAILYTOTALBYDAY)||"",totalhrs:(M==null?void 0:M.AHIGHLIGHTDAILYTOTALBYGROUP)||"",workDN:(M==null?void 0:M.ADININWORKSENGINEERINGSDNBHD)||"",workhrs:(M==null?void 0:M.WORKINGHOURS)||0,OT:(M==null?void 0:M.OT)||0,normalWhrsPerDay:(M==null?void 0:M.NORMALWORKINGHRSPERDAY)||0,jobLocaWhrs:M.jobLocaWhrs||[],remarks:(M==null?void 0:M.REMARKS)||""}))}})).map(async B=>{const j={id:B.id,weeklySheet:JSON.stringify(B.weaklySheet),status:"Approved"};console.log(B.weaklySheet),j.weeklySheet&&await r_.graphql({query:DW,variables:{input:j}}).then(M=>{console.log(M),M.data.updateBlng&&(I(!0),R([]))}).catch(M=>{console.log(M),I(!1)})})};return m.jsxs("div",{children:[m.jsx("div",{children:l===!0?m.jsxs("div",{children:[m.jsx("div",{className:"flex justify-end mr-7",children:m.jsx(yg,{allEmpDetails:i,searchResult:L,secondaryData:u,Position:a,placeholder:"FID"})}),m.jsx("div",{className:"table-container",onScroll:D,children:m.jsxs("table",{className:"styled-table",children:[m.jsx("thead",{className:"sticky-header",children:m.jsxs("tr",{className:"text_size_5",children:[m.jsx("td",{className:"px-4 text-center",children:"S No."}),(E==null?void 0:E.tableHeader.map((k,B)=>m.jsx("td",{className:"px-4 flex-1",children:k},B)))??m.jsx("tr",{children:m.jsx("td",{colSpan:"100%",className:"text-center",children:"No headers available"})}),w===!0?"":m.jsx("td",{className:"px-4 text-center",children:"STATUS"})]})}),m.jsx("tbody",{children:T&&(T==null?void 0:T.length)>0?T.map((k,B)=>{const j=(M,G)=>{const Y=M.status==="Pending";return m.jsxs("tr",{className:"text-dark_grey h-[40px] text-sm rounded-sm shadow-md border-b-2 border-[#CECECE] bg-white ",onClick:()=>{U(),H(M)},children:[m.jsx("td",{className:"text-center px-4 flex-1",children:B+1}),m.jsx("td",{className:"text-start px-4 flex-1",children:M.FID}),m.jsx("td",{className:"text-center px-4 flex-1",children:M.NAMEFLAST}),m.jsx("td",{className:"text-center px-4 flex-1",children:M.ENTRANCEDATEUSED}),m.jsx("td",{className:"text-center px-4 flex-1",children:M.ENTRANCEDATETIME}),m.jsx("td",{className:"text-center px-4 flex-1",children:M.EXITDATETIME}),m.jsx("td",{className:"text-center px-4 flex-1",children:M.DAYDIFFERENCE||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:M.AVGDAILYTOTALBYDAY||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:M.AHIGHLIGHTDAILYTOTALBYGROUP||""}),m.jsx("td",{className:"text-center px-4 flex-1",children:M.ADININWORKSENGINEERINGSDNBHD}),m.jsx("td",{className:"text-center px-4 flex-1",children:M.NORMALWORKINGHRSPERDAY||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:M.WORKINGHOURS||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:M.OT||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:M.REMARKS}),Y&&m.jsx("td",{className:`text-center px-4 flex-1 ${M.status==="Approved"?"text-[#0CB100]":"text_size_8"}`,children:M.status})]},B+1)};return(y==="Manager"||y!=="Manager")&&j(k)}):m.jsx("tr",{children:m.jsx("td",{colSpan:"15",className:"text-center text-dark_ash text_size_5",children:m.jsx("p",{className:"px-6 py-6",children:"No Table Data Available Here"})})})})]})}),m.jsx("div",{className:`flex justify-center my-5 ${T&&T.length>0?"":"hidden"}`,children:m.jsx("button",{className:`rounded px-3 py-2 ${y==="Manager"?"w-40":"w-52"} bg-[#FEF116] text_size_5 text-dark_grey mb-10`,onClick:()=>{N()},children:y==="Manager"?"Approve":"Send For Approval"})})]}):l===!1?m.jsx(Bv,{}):""}),f===!0&&m.jsx(Uv,{toggleFunction:U,editObject:p,fieldObj:(E==null?void 0:E.fieldObj)||{},fields:(E==null?void 0:E.fields)||[],tableHeader:(E==null?void 0:E.tableHeader)||[],editFunction:_,titleName:e,Position:a}),m.jsx(Hv,{successMess:x,toggleSFAMessage:I,setExcelData:s,userIdentification:y})]})},RN=kr(),xS=n=>{const[r,t]=ne.useState(null);return ne.useEffect(()=>{n&&(async()=>{var i,o,u,c;const a=await new Promise((l,d)=>{n?l(n):setTimeout(()=>{d("No data found after waiting.")},5e3)});try{const[l,d]=await Promise.all([RN.graphql({query:kb}),RN.graphql({query:Ww})]),p=(o=(i=l==null?void 0:l.data)==null?void 0:i.listEmpPersonalInfos)==null?void 0:o.items,h=(c=(u=d==null?void 0:d.data)==null?void 0:u.listEmpWorkInfos)==null?void 0:c.items,f=p.map(y=>{const g=h.find(x=>x.empID===y.empID);return g?{...y,...g}:null}).filter(y=>y!==null);console.log(f),(async()=>{const y=a==null?void 0:a.map(g=>{const x=f==null?void 0:f.find(v=>v.empBadgeNo==g.BADGE);return{...g,NORMALWORKINGHRSPERDAY:x?x.workHrs[0]:null}});console.log("finalData : ",y),t(y)})()}catch(l){console.error("Error fetching data:",l.message)}})()},[n]),r},MN=kr(),ON=({excelData:n,returnedTHeader:r,titleName:t,setExcelData:e,convertedStringToArrayObj:s,Position:a})=>{const[i,o]=ne.useState(null),[u,c]=ne.useState(null),[l,d]=ne.useState(null),[p,h]=ne.useState(),[f,b]=ne.useState(!1),[y,g]=ne.useState(!0),[x,v]=ne.useState(""),[w,S]=ne.useState(null),[D,T]=ne.useState(null),{handleScroll:R,visibleData:P,setVisibleData:L}=qv(i,a),O=xS(n);ne.useEffect(()=>{O&&O.length>0&&(console.log(O),o(O),c(O))},[O]);const H=async j=>{console.log(j);try{const M=await j;o(M)}catch(M){console.error("Error fetching user data:",M)}};ne.useEffect(()=>{n&&(async()=>{try{const G=await new Promise((Y,J)=>{n?Y(n):setTimeout(()=>{J("No data found after waiting.")},5e3)});o(G)}catch{}})()},[n]),ne.useEffect(()=>{const j=localStorage.getItem("userType");j==="Manager"?v("Manager"):j==="TimeKeeper"&&v("TimeKeeper")},[s]);const U=j=>{if(j&&j.length>0){d(!0);const M=j&&j.map(G=>{var Y;return{id:(G==null?void 0:G.id)||null,data:(Y=G==null?void 0:G.data)==null?void 0:Y.map((J,V)=>({NAME:J.name||0,DEPTDIV:J.deptDiv||"",BADGE:J.badge||"",DATE:J.date||"",IN:J.in||"",OUT:J.out||0,TOTALINOUT:J.totalInOut||"",ALLDAYMINHRS:J.allDayMin||"",NETMINUTES:J.netMin||"",TOTALHOURS:J.totalHrs||0,NORMALWORKINGHRSPERDAY:(J==null?void 0:J.normalWhrsPerDay)||0,WORKINGHOURS:J.workHrs||0,OT:(J==null?void 0:J.OT)||0,jobLocaWhrs:J.jobLocaWhrs||[],REMARKS:J.remarks||"",status:J.status||""}))}});o(M),c(M)}};ne.useEffect(()=>{const j=async()=>{const M=Q=>Object.keys(Q).reduce((q,z)=>{const Z=z.replace(/[^a-zA-Z0-9]/g,"").toLowerCase();return q[Z]=Q[z],q},{}),G=r.map(M),Y=["deptdiv","name","badge"],V=await new Promise(Q=>{const q=G.every(z=>Y.every(Z=>Object.keys(z).map(re=>re.toLowerCase()).includes(Z.toLowerCase())));Q(q)});console.log("Result: ",V),d(V),S(V)};r&&r.length>0?j():r?(d(!1),g(!1)):(async()=>{d(!0);try{const J=(await new Promise((V,Q)=>{s?V(s):setTimeout(()=>{Q("No data found after waiting.")},5e3)})).map(V=>{var Q,q;return{id:(Q=V[0])==null?void 0:Q.id,data:(q=V[1])==null?void 0:q.filter(z=>{if(z.status!=="Approved")return z})}}).filter(V=>V.data&&V.data.length>0);console.log(J),x==="Manager"&&U(J)}catch{}finally{}})()},[r,s]);const I=j=>{h(j)},F=()=>{b(!f)},A=j=>{T(j)},_=(j,M)=>j.map(G=>({id:G.id,data:G.data.map(Y=>Y.DEPTDIV===M.DEPTDIV&&Y.BADGE===M.BADGE?M:Y)})),E=(j,M)=>j.map(G=>G.DEPTDIV===M.DEPTDIV&&G.BADGE===M.BADGE?M:G),N=j=>{var G;const M=Array.isArray((G=i[0])==null?void 0:G.data)?_(i,j):E(i,j);o(M)},k=vg(t),B=async()=>{if(x==="TimeKeeper"){const j=i&&i.map(Y=>({name:Y.NAME||"",deptDiv:Y.DEPTDIV||"",badge:Y.BADGE||"",date:Y.DATE||"",in:Y.IN||"",out:Y.OUT||"",totalInOut:Y.TOTALINOUT||"",allDayMin:Y.ALLDAYMINHRS||"",netMin:Y.NETMINUTES||"",totalHrs:Y.TOTALHOURS||"",normalWhrsPerDay:(Y==null?void 0:Y.NORMALWORKINGHRSPERDAY)||0,workHrs:Y.WORKINGHOURS||"",OT:Y.OT||"",jobLocaWhrs:(Y==null?void 0:Y.jobLocaWhrs)||[],remarks:Y.REMARKS||""}));console.log(j);const M=new Date().toLocaleDateString(),G={dailySheet:JSON.stringify(j),status:"Pending",date:M};G.dailySheet&&await MN.graphql({query:uW,variables:{input:G}}).then(Y=>{console.log(Y),Y.data.createSBWSheet&&A(!0)}).catch(Y=>{console.log(Y),A(!1)})}else x==="Manager"&&(i&&i.map(M=>{var G;return{id:(M==null?void 0:M.id)||null,dailySheet:(G=M==null?void 0:M.data)==null?void 0:G.map(Y=>({name:Y.NAME||"",deptDiv:Y.DEPTDIV||"",badge:Y.BADGE||"",date:Y.DATE||"",in:Y.IN||"",out:Y.OUT||"",totalInOut:Y.TOTALINOUT||"",allDayMin:Y.ALLDAYMINHRS||"",netMin:Y.NETMINUTES||"",totalHrs:Y.TOTALHOURS||"",normalWhrsPerDay:(Y==null?void 0:Y.NORMALWORKINGHRSPERDAY)||0,workHrs:Y.WORKINGHOURS||"",OT:Y.OT||"",remarks:Y.REMARKS||"",jobLocaWhrs:(Y==null?void 0:Y.jobLocaWhrs)||[]}))}})).map(async M=>{const G={id:M.id,dailySheet:JSON.stringify(M.dailySheet),status:"Approved"};console.log(G),G.dailySheet&&await MN.graphql({query:dW,variables:{input:G}}).then(Y=>{console.log(Y),Y.data.updateSBWSheet&&(A(!0),L([]))}).catch(Y=>{console.log(Y),A(!1)})})};return m.jsxs("div",{children:[m.jsx("div",{children:l===!0?m.jsxs("div",{children:[m.jsx("div",{className:"flex justify-end mr-7",children:m.jsx(yg,{allEmpDetails:i,searchResult:H,secondaryData:u,Position:a,placeholder:"Badge No."})}),m.jsx("div",{className:"table-container",onScroll:R,children:m.jsxs("table",{className:"styled-table",children:[m.jsx("thead",{className:"sticky-header",children:m.jsxs("tr",{className:"text_size_5",children:[m.jsx("td",{className:"px-4 text-center",children:"S No."}),(k==null?void 0:k.tableHeader.map((j,M)=>m.jsx("td",{className:"px-4 flex-1",children:j},M)))??m.jsx("tr",{children:m.jsx("td",{colSpan:"100%",className:"text-center",children:"No headers available"})}),w===!0?"":m.jsx("td",{className:"px-4 flex-",children:"STATUS"})]})}),m.jsx("tbody",{children:P&&(P==null?void 0:P.length)>0?P.map((j,M)=>{const G=(Y,J)=>{const V=Y.status==="Pending";return m.jsxs("tr",{className:"text-dark_grey h-[40px] text-sm rounded-sm shadow-md border-b-2 border-[#CECECE] bg-white",onClick:()=>{F(),I(Y)},children:[m.jsx("td",{className:"text-center px-4 flex-1",children:M+1}),m.jsx("td",{className:"text-start px-4 flex-1",children:Y.NAME}),m.jsx("td",{className:"text-center px-4 flex-1",children:Y.DEPTDIV}),m.jsx("td",{className:"text-center px-4 flex-1",children:Y.BADGE}),m.jsx("td",{className:"text-center px-4 flex-1",children:Y.DATE}),m.jsx("td",{className:"text-center px-4 flex-1",children:Y.IN}),m.jsx("td",{className:"text-center px-4 flex-1",children:Y.OUT}),m.jsx("td",{className:"text-center px-4 flex-1",children:Y.TOTALINOUT}),m.jsx("td",{className:"text-center px-4 flex-1",children:Y.ALLDAYMINHRS}),m.jsx("td",{className:"text-center px-4 flex-1",children:Y.NETMINUTES}),m.jsx("td",{className:"text-center px-4 flex-1",children:Y.TOTALHOURS}),m.jsx("td",{className:"text-center px-4 flex-1",children:Y.NORMALWORKINGHRSPERDAY}),m.jsx("td",{className:"text-center px-4 flex-1",children:Y.WORKINGHOURS}),m.jsx("td",{className:"text-center px-4 flex-1",children:Y.OT}),m.jsx("td",{className:"text-center px-4 flex-1",children:Y.REMARKS}),V&&m.jsx("td",{className:`text-center px-4 flex-1 ${Y.status==="Approved"?"text-[#0CB100]":"text_size_8"}`,children:Y.status})]},M+1)};return(x==="Manager"||x!=="Manager")&&G(j)}):m.jsx("tr",{children:m.jsx("td",{colSpan:"15",className:"px-6 py-6 text-center text-dark_ash text_size_5",children:m.jsx("p",{className:"px-6 py-6",children:"No Table Data Available Here"})})})??m.jsx("tr",{children:m.jsx("td",{colSpan:"15",className:"px-6 py-6 text-center text-dark_ash text_size_5",children:m.jsx("p",{className:"px-6 py-6",children:"No Table Data Available Here"})})})})]})}),m.jsx("div",{className:`flex justify-center my-5 ${P&&P.length>0?"":"hidden"}`,children:m.jsx("button",{className:`rounded px-3 py-2 ${x==="Manager"?"w-40":"w-52"} bg-[#FEF116] text_size_5 text-dark_grey mb-10`,onClick:()=>{B()},children:x==="Manager"?"Approve":"Send For Approval"})})]}):l===!1?m.jsx(Bv,{}):""}),f===!0&&m.jsx(Uv,{toggleFunction:F,editObject:p,fieldObj:(k==null?void 0:k.fieldObj)||{},fields:(k==null?void 0:k.fields)||[],tableHeader:(k==null?void 0:k.tableHeader)||[],editFunction:N,titleName:t,Position:a}),m.jsx(Hv,{successMess:D,toggleSFAMessage:A,setExcelData:e,userIdentification:x})]})},Vae=({toggleFunctionForAssiMana:n})=>m.jsx("section",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:m.jsxs("div",{className:"bg-white w-[90%] max-w-[500px] rounded-lg shadow-lg p-5",children:[m.jsxs("header",{className:"flex justify-between items-center pb-4 border-b",children:[m.jsx("h2",{className:"text-dark_grey text_size_2",children:"Assign Manager"}),m.jsx(s5,{className:"text-2xl text-dark_grey cursor-pointer ",onClick:()=>{n()}})]}),m.jsx("main",{className:"mt-4",children:m.jsxs("form",{className:"grid grid-cols-1 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"badgeNo",className:"block text-sm font-medium text-gray-600",children:"Badge No."}),m.jsx("input",{type:"text",id:"badgeNo",className:"mt-1 block w-full border border-dark_grey outline-none rounded text-sm py-2 px-3"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"managerName",className:"block text-sm font-medium text-gray-600",children:"Name"}),m.jsx("input",{type:"text",id:"managerName",className:"mt-1 block w-full border border-dark_grey outline-none rounded text-sm py-2 px-3"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"department",className:"block text-sm font-medium text-gray-600",children:"Department"}),m.jsx("input",{type:"text",id:"department",className:"mt-1 block w-full border border-dark_grey outline-none rounded text-sm py-2 px-3"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"contactNo",className:"block text-sm font-medium text-gray-600",children:"Start Date"}),m.jsx("input",{type:"date",className:"mt-1 block w-full border border-dark_grey outline-none rounded text-sm py-2 px-3"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"contactNo",className:"block text-sm font-medium text-gray-600",children:"End Date"}),m.jsx("input",{type:"date",className:"mt-1 block w-full border border-dark_grey outline-none rounded text-sm py-2 px-3"})]})]})]})}),m.jsx("footer",{className:"flex justify-center mt-6 space-x-3",children:m.jsx("button",{className:"px-5 py-2 bg-[#FEF116] text-dark_grey text_size_3 rounded",onClick:()=>{n()},children:"Save"})})]})}),LN=kr(),FN=({excelData:n,returnedTHeader:r,titleName:t,setExcelData:e,convertedStringToArrayObj:s,Position:a})=>{const[i,o]=ne.useState(null),[u,c]=ne.useState(null),[l,d]=ne.useState(null),[p,h]=ne.useState(),[f,b]=ne.useState(!1),[y,g]=ne.useState(!1),[x,v]=ne.useState(!0),[w,S]=ne.useState(""),[D,T]=ne.useState(null),[R,P]=ne.useState(null),{handleScroll:L,visibleData:O,setVisibleData:H}=qv(i,a),U=xS(n);ne.useEffect(()=>{U&&U.length>0&&(o(U),c(U))},[U]);const I=async Y=>{console.log(Y);try{const J=await Y;o(J)}catch(J){console.error("Error fetching user data:",J)}};ne.useEffect(()=>{n&&(async()=>{try{const V=await new Promise((Q,q)=>{n?Q(n):setTimeout(()=>{q("No data found after waiting.")},5e3)});o(V),c(result)}catch{}})()},[n]),ne.useEffect(()=>{const Y=localStorage.getItem("userType");Y==="Manager"?S("Manager"):Y==="TimeKeeper"&&S("TimeKeeper")},[s]);const F=Y=>{if(Y&&Y.length>0){d(!0);const J=Y&&Y.map(V=>{var Q;return{id:(V==null?void 0:V.id)||null,data:(Q=V==null?void 0:V.data)==null?void 0:Q.map((q,z)=>({NAME:q.name||0,DEPTDIV:q.deptDiv||"",BADGE:q.badge||"",DATE:q.date||"",IN:q.in||"",OUT:q.out||0,TOTALINOUT:q.totalInOut||"",ALLDAYMINHRS:q.allDayMin||"",NETMINUTES:q.netMin||"",TOTALHOURS:q.totalHrs||0,NORMALWORKINGHRSPERDAY:(q==null?void 0:q.normalWhrsPerDay)||0,WORKINGHOURS:q.workHrs||0,OT:(q==null?void 0:q.OT)||0,jobLocaWhrs:q.jobLocaWhrs||[],REMARKS:q.remarks||"",status:q.status||""}))}});o(J),c(J)}};ne.useEffect(()=>{const Y=async()=>{const J=Z=>Object.keys(Z).reduce((re,le)=>{const ue=le.replace(/[^a-zA-Z0-9]/g,"").toLowerCase();return re[ue]=Z[le],re},{});console.log("returnedTHeader : ",r);const V=r.map(J);console.log("convertedData : ",V);const Q=["name"],z=await new Promise(Z=>{const re=V.every(le=>Q.every(ue=>Object.keys(le).map(ce=>ce.toLowerCase()).includes(ue.toLowerCase())));Z(re)});console.log("Result: ",z),d(z),T(z)};r&&r.length>0?Y():r?(d(!1),v(!1)):(async()=>{d(!0);try{const q=(await new Promise((z,Z)=>{s?z(s):setTimeout(()=>{Z("No data found after waiting.")},5e3)})).map(z=>{var Z,re;return{id:(Z=z[0])==null?void 0:Z.id,data:(re=z[1])==null?void 0:re.filter(le=>{if(le.status!=="Approved")return le})}}).filter(z=>z.data&&z.data.length>0);console.log(q),w==="Manager"&&F(q)}catch{}finally{}})()},[r,s]);const A=Y=>{h(Y)},_=()=>{b(!f)},E=Y=>{P(Y)},N=()=>{g(!y)},k=(Y,J)=>Y.map(V=>({id:V.id,data:V.data.map(Q=>Q.IN===J.IN&&Q.OUT===J.OUT?J:Q)})),B=(Y,J)=>Y.map(V=>V.IN===J.IN&&V.OUT===J.OUT?J:V),j=Y=>{var V;const J=Array.isArray((V=i[0])==null?void 0:V.data)?k(i,Y):B(i,Y);o(J)},M=vg(t),G=async()=>{if(w!=="Manager"){const Y=i&&i.map(Q=>({name:Q.NAME||"",deptDiv:Q.DEPTDIV||"",badge:Q.BADGE||"",date:Q.DATE||"",in:Q.IN||"",out:Q.OUT||"",totalInOut:Q.TOTALINOUT||"",allDayMin:Q.ALLDAYMINHRS||"",netMin:Q.NETMINUTES||"",totalHrs:Q.TOTALHOURS||"",normalWhrsPerDay:(Q==null?void 0:Q.NORMALWORKINGHRSPERDAY)||0,workHrs:Q.WORKINGHOURS||"",OT:Q.OT||"",remarks:Q.REMARKS||"",jobLocaWhrs:(Q==null?void 0:Q.jobLocaWhrs)||[]}));console.log(Y);const J=new Date().toLocaleDateString(),V={dailySheet:JSON.stringify(Y),status:"Pending",date:J};V.dailySheet&&await LN.graphql({query:lW,variables:{input:V}}).then(Q=>{console.log(Q),Q.data.createORMCSheet&&E(!0)}).catch(Q=>{console.log(Q),E(!1)})}else w==="Manager"&&(i&&i.map(J=>{var V;return{id:(J==null?void 0:J.id)||null,dailySheet:(V=J==null?void 0:J.data)==null?void 0:V.map(Q=>({name:Q.NAME||"",deptDiv:Q.DEPTDIV||"",badge:Q.BADGE||"",date:Q.DATE||"",in:Q.IN||"",out:Q.OUT||"",totalInOut:Q.TOTALINOUT||"",allDayMin:Q.ALLDAYMINHRS||"",netMin:Q.NETMINUTES||"",totalHrs:Q.TOTALHOURS||"",normalWhrsPerDay:(Q==null?void 0:Q.NORMALWORKINGHRSPERDAY)||0,workHrs:Q.WORKINGHOURS||"",OT:Q.OT||"",remarks:Q.REMARKS||"",jobLocaWhrs:(Q==null?void 0:Q.jobLocaWhrs)||[]}))}})).map(async J=>{const V={id:J.id,dailySheet:JSON.stringify(J.dailySheet),status:"Approved"};console.log(V),V.dailySheet&&await LN.graphql({query:cW,variables:{input:V}}).then(Q=>{console.log(Q),Q.data.updateORMCSheet&&(E(!0),H([]))}).catch(Q=>{console.log(Q),E(!1)})})};return m.jsxs("div",{children:[m.jsx("div",{children:l===!0?m.jsxs("div",{children:[m.jsx("div",{className:"flex justify-end mr-7",children:m.jsx(yg,{allEmpDetails:i,searchResult:I,secondaryData:u,Position:a,placeholder:"Badge No."})}),m.jsx("div",{className:"table-container",onScroll:L,children:m.jsxs("table",{className:"styled-table",children:[m.jsx("thead",{className:"sticky-header",children:m.jsxs("tr",{className:"text_size_5",children:[m.jsx("td",{className:"px-5 text-center",children:"S No."}),(M==null?void 0:M.tableHeader.map((Y,J)=>m.jsx("td",{className:"px-5 flex-1",children:Y},J)))??m.jsx("tr",{children:m.jsx("td",{colSpan:"100%",className:"text-center",children:"No headers available"})}),D===!0?"":m.jsx("td",{className:"px-5 flex-",children:"STATUS"})]})}),m.jsx("tbody",{children:O&&O.length>0?O.map((Y,J)=>{const V=(Q,q)=>{const z=Q.status==="Pending";return m.jsxs("tr",{className:"text-dark_grey h-[40px] text-sm rounded-sm shadow-md border-b-2 border-[#CECECE] bg-white",onClick:()=>{_(),A(Q)},children:[m.jsx("td",{className:"text-center px-4 flex-1",children:J+1}),m.jsx("td",{className:"text-start px-4 flex-1",children:Q.NAME}),m.jsx("td",{className:"text-center px-4 flex-1",children:Q.DEPTDIV}),m.jsx("td",{className:"text-center px-4 flex-1",children:Q.BADGE}),m.jsx("td",{className:"text-center px-4 flex-1",children:Q.DATE}),m.jsx("td",{className:"text-center px-4 flex-1",children:Q.IN}),m.jsx("td",{className:"text-center px-4 flex-1",children:Q.OUT}),m.jsx("td",{className:"text-center px-4 flex-1",children:Q.TOTALINOUT}),m.jsx("td",{className:"text-center px-4 flex-1",children:Q.ALLDAYMINHRS}),m.jsx("td",{className:"text-center px-4 flex-1",children:Q.NETMINUTES}),m.jsx("td",{className:"text-center px-4 flex-1",children:Q.TOTALHOURS}),m.jsx("td",{className:"text-center px-4 flex-1",children:Q.NORMALWORKINGHRSPERDAY||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:Q.WORKINGHOURS}),m.jsx("td",{className:"text-center px-4 flex-1",children:Q.OT}),m.jsx("td",{className:"text-center px-4 flex-1",children:Q.REMARKS}),z&&m.jsx("td",{className:`text-center px-4 flex-1 ${Q.status==="Approved"?"text-[#0CB100]":"text_size_8"}`,children:Q.status})]},J+1)};return(w==="Manager"||w!=="Manager")&&V(Y)}):m.jsx("tr",{children:m.jsx("td",{colSpan:"15",className:"px-6 py-6 text-center text-dark_ash text_size_5",children:m.jsx("p",{className:"px-6 py-6",children:"No Table Data Available Here"})})})??m.jsx("tr",{children:m.jsx("td",{colSpan:"15",className:"px-6 py-6 text-center text-dark_ash text_size_5",children:m.jsx("p",{className:"px-6 py-6",children:"No Table Data Available Here"})})})})]})}),m.jsxs("div",{className:`flex justify-center my-5 gap-5 ${O&&O.length>0?"":"hidden"}`,children:[m.jsx("button",{className:"rounded px-7 py-2 bg-[#FEF116] text_size_5 text-dark_grey mb-10",onClick:()=>{N()},children:"Assign Manager"}),m.jsx("button",{className:`rounded px-3 py-2 ${w==="Manager"?"w-40":"w-52"} bg-[#FEF116] text_size_5 text-dark_grey mb-10`,onClick:()=>{G()},children:w==="Manager"?"Approve":"Send For Approval"})]})]}):l===!1?m.jsx(Bv,{}):""}),f===!0&&m.jsx(Uv,{toggleFunction:_,editObject:p,fieldObj:(M==null?void 0:M.fieldObj)||{},fields:(M==null?void 0:M.fields)||[],tableHeader:(M==null?void 0:M.tableHeader)||[],editFunction:j,titleName:t,Position:a}),m.jsx(Hv,{successMess:R,toggleSFAMessage:E,setExcelData:e,userIdentification:w}),y===!0&&m.jsx(Vae,{toggleFunctionForAssiMana:N})]})},BN=kr(),UN=({setExcelData:n,excelData:r,returnedTHeader:t,Position:e,convertedStringToArrayObj:s,titleName:a})=>{const[i,o]=ne.useState(null),[u,c]=ne.useState(null),[l,d]=ne.useState(),[p,h]=ne.useState(!1),[f,b]=ne.useState(null),[y,g]=ne.useState(!0),[x,v]=ne.useState(""),[w,S]=ne.useState(null),[D,T]=ne.useState(null),{handleScroll:R,visibleData:P,setVisibleData:L}=qv(i,e),O=xS(r);console.log(e),ne.useEffect(()=>{O&&O.length>0&&(o(O),c(O))},[O]),ne.useEffect(()=>{const M=localStorage.getItem("userType");M==="Manager"?v("Manager"):M==="TimeKeeper"&&v("TimeKeeper")},[s]);const H=M=>{if(M&&(M==null?void 0:M.length)>0){b(!0);const G=M&&M.map(Y=>{var J;return{id:(Y==null?void 0:Y.id)||null,data:(J=Y==null?void 0:Y.data)==null?void 0:J.map((V,Q)=>({REC:V.rec||0,CTR:V.ctr||"",DEPT:V.dept||"",EMPLOYEEID:V.empId||"",BADGE:V.badge||"",NAME:V.name||0,DATE:V.date||"",ONAM:V.onAm||"",OFFAM:V.offAm||"",ONPM:V.onPm||0,OFFPM:V.offPm||0,IN:(V==null?void 0:V.in)||0,OUT:V.out||0,TOTALINOUT:V.totalInOut||"",ALLDAYMINUTES:V.allDayMin||"",NETMINUTES:V.netMin||"",TOTALHOURS:V.totalHrs||"",NORMALWORKINGHRSPERDAY:(V==null?void 0:V.normalWhrsPerDay)||0,WORKINGHOURS:(V==null?void 0:V.workhrs)||0,OT:(V==null?void 0:V.OT)||0,TOTALACTUALHOURS:V.totalActHrs||"",jobLocaWhrs:(V==null?void 0:V.jobLocaWhrs)||[],REMARKS:V.remarks||"",status:V.status||""}))}});console.log(G),o(G),c(G)}},U=async M=>{console.log(M);try{const G=await M;o(G)}catch(G){console.error("Error fetching user data:",G)}},I=M=>typeof M!="string"?M:M.replace(/[^a-zA-Z0-9]/g,"");ne.useEffect(()=>{const M=async()=>{const G=t.map(V=>{const Q={};for(const q in V)Q[q]=I(V[q]);return Q}),Y=["REC","CTR","DEPT","EMPLOYEEID","BADGE","NAME","DATE","ONAM","OFFAM","ONPM","OFFPM","IN","OUT","TOTALINOUT","ALLDAYMINUTES","NETMINUTES","TOTALHOURS","REMARKS"],J=await new Promise(V=>{const Q=G&&G.every(q=>Y.every(z=>Object.values(q).map(Z=>typeof Z=="string"?Z.toUpperCase():Z).includes(z.toUpperCase())));V(Q)});console.log("Result: ",J),S(J),b(J),g(!1)};t&&t.length>0?M():t?(b(!1),g(!1)):(async()=>{b(!0);try{const V=(await new Promise((Q,q)=>{s?Q(s):setTimeout(()=>{q("No data found after waiting.")},5e3)})).map(Q=>{var q,z;return{id:(q=Q[0])==null?void 0:q.id,data:(z=Q[1])==null?void 0:z.filter(Z=>{if(Z.status!=="Approved")return Z})}}).filter(Q=>Q.data&&Q.data.length>0);console.log(V),x==="Manager"&&H(V)}catch{}finally{}})()},[t,s]);const F=M=>{d(M)},A=()=>{h(!p)},_=M=>{T(M)},E=(M,G)=>M.map(Y=>({id:Y.id,data:Y.data.map(J=>J.EMPLOYEEID===G.EMPLOYEEID&&J.DATE===G.DATE?G:J)})),N=(M,G)=>M.map(Y=>Y.EMPLOYEEID===G.EMPLOYEEID&&Y.DATE===G.DATE?G:Y),k=M=>{var Y;const G=Array.isArray((Y=i[0])==null?void 0:Y.data)?E(i,M):N(i,M);o(G)},B=vg(a),j=async()=>{if(x!=="Manager"){const M=i&&i.map(J=>({rec:J.REC||"",ctr:J.CTR||"",dept:J.DEPT||"",empId:J.EMPLOYEEID||"",badge:J.BADGE||"",name:J.NAME||"",date:J.DATE||"",onAm:J.ONAM||"",offAm:J.OFFAM||"",onPm:J.ONPM||"",offPm:J.OFFPM||"",in:J.IN||"",out:J.OUT||"",totalInOut:J.TOTALINOUT||"",allDayMin:J.ALLDAYMINUTES||"",netMin:J.NETMINUTES||"",totalHrs:J.TOTALHOURS||"",normalWhrsPerDay:(J==null?void 0:J.NORMALWORKINGHRSPERDAY)||0,workhrs:(J==null?void 0:J.WORKINGHOURS)||0,OT:(J==null?void 0:J.OT)||0,totalActHrs:J.TOTALACTUALHOURS||"",jobLocaWhrs:(J==null?void 0:J.jobLocaWhrs)||[],remarks:J.REMARKS||""}));console.log(M);const G=new Date().toLocaleDateString(),Y={dailySheet:JSON.stringify(M),status:"Pending",date:G};Y.dailySheet&&await BN.graphql({query:fW,variables:{input:Y}}).then(J=>{console.log(J),J.data.createHeadOffice&&_(!0)}).catch(J=>{console.log(J),_(!1)})}else x==="Manager"&&(i&&i.map(G=>{var Y;return{id:(G==null?void 0:G.id)||null,dailySheet:(Y=G==null?void 0:G.data)==null?void 0:Y.map(J=>({rec:J.REC||"",ctr:J.CTR||"",dept:J.DEPT||"",empId:J.EMPLOYEEID||"",badge:J.BADGE||"",name:J.NAME||"",date:J.DATE||"",onAm:J.ONAM||"",offAm:J.OFFAM||"",onPm:J.ONPM||"",offPm:J.OFFPM||"",in:J.IN||"",out:J.OUT||"",totalInOut:J.TOTALINOUT||0,allDayMin:J.ALLDAYMINUTES||0,netMin:J.NETMINUTES||0,totalHrs:J.TOTALHOURS||0,normalWhrsPerDay:(J==null?void 0:J.NORMALWORKINGHRSPERDAY)||0,workhrs:(J==null?void 0:J.WORKINGHOURS)||0,OT:(J==null?void 0:J.OT)||0,totalActHrs:J.TOTALACTUALHOURS||0,jobLocaWhrs:(J==null?void 0:J.jobLocaWhrs)||[],remarks:J.REMARKS||""}))}})).map(async G=>{const Y={id:G.id,dailySheet:JSON.stringify(G.dailySheet),status:"Approved"};console.log(Y),Y.dailySheet&&await BN.graphql({query:pW,variables:{input:Y}}).then(J=>{console.log(J),J.data.updateHeadOffice&&(_(!0),L([]))}).catch(J=>{console.log(J),_(!1)})})};return m.jsxs("div",{children:[m.jsx("div",{children:f===!0?m.jsxs("div",{children:[m.jsx("div",{className:"flex justify-end mr-7",children:m.jsx(yg,{allEmpDetails:i,searchResult:U,secondaryData:u,Position:e,placeholder:"Badge or Employee Id"})}),m.jsx("div",{className:"table-container",onScroll:R,children:m.jsxs("table",{className:"styled-table",children:[m.jsx("thead",{className:"sticky-header",children:m.jsxs("tr",{className:"text_size_5",children:[m.jsx("td",{className:"px-4 flex-1",children:"S No."}),(B==null?void 0:B.tableHeader.map((M,G)=>m.jsx("td",{className:"px-4 flex-1",children:M},G)))??m.jsx("tr",{children:m.jsx("td",{colSpan:"100%",className:"text-center",children:"No headers available"})}),w===!0?"":m.jsx("td",{className:"px-5 flex-1",children:"STATUS"})]})}),m.jsx("tbody",{children:P&&(P==null?void 0:P.length)>0?P.map((M,G)=>{const Y=(J,V)=>{const Q=J.status==="Pending";return m.jsxs("tr",{className:"text-dark_grey h-[40px] text-sm rounded-sm shadow-md border-b-2 border-[#CECECE] bg-white",onClick:()=>{A(),F(J)},children:[m.jsx("td",{className:"text-center px-4 flex-1",children:G+1}),m.jsx("td",{className:"text-start px-4 flex-1",children:J.REC}),m.jsx("td",{className:"text-center px-4 flex-1",children:J.CTR}),m.jsx("td",{className:"text-center px-4 flex-1",children:J.DEPT}),m.jsx("td",{className:"text-center px-4 flex-1",children:J.EMPLOYEEID}),m.jsx("td",{className:"text-center px-4 flex-1",children:J.BADGE}),m.jsx("td",{className:"text-center px-4 flex-1",children:J.NAME}),m.jsx("td",{className:"text-center px-4 flex-1",children:J.DATE}),m.jsx("td",{className:"text-center px-4 flex-1",children:J.ONAM}),m.jsx("td",{className:"text-center px-4 flex-1",children:J.OFFAM}),m.jsx("td",{className:"text-center px-4 flex-1",children:J.ONPM}),m.jsx("td",{className:"text-center px-4 flex-1",children:J.OFFPM}),m.jsx("td",{className:"text-center px-4 flex-1",children:J.IN}),m.jsx("td",{className:"text-center px-4 flex-1",children:J.OUT}),m.jsx("td",{className:"text-center px-4 flex-1",children:J.TOTALINOUT||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:J.ALLDAYMINUTES||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:J.NETMINUTES||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:J.TOTALHOURS||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:J.NORMALWORKINGHRSPERDAY||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:J.TOTALACTUALHOURS||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:J.OT||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:J.REMARKS}),Q&&m.jsx("td",{className:`text-center px-4 flex-1 ${J.status==="Approved"?"text-[#0CB100]":"text_size_8"}`,children:J.status})]},G+1)};return(x==="Manager"||x!=="Manager")&&Y(M)}):m.jsx("tr",{children:m.jsx("td",{colSpan:"15",className:"px-6 py-6 text-center text-dark_ash text_size_5",children:m.jsx("p",{className:"px-6 py-6",children:"No Table Data Available Here"})})})??m.jsx("tr",{children:m.jsx("td",{colSpan:"15",className:"px-6 py-6 text-center text-dark_ash text_size_5",children:m.jsx("p",{className:"px-6 py-6",children:"No Table Data Available Here"})})})})]})}),m.jsx("div",{className:`flex justify-center my-5 ${P&&P.length>0?"":"hidden"}`,children:m.jsx("button",{className:`rounded px-3 py-2 ${x==="Manager"?"w-40":"w-52"} bg-[#FEF116] text_size_5 text-dark_grey mb-10`,onClick:()=>{j()},children:x==="Manager"?"Approve":"Send For Approval"})})]}):f===!1?m.jsx(Bv,{}):""}),p===!0&&m.jsx(Uv,{toggleFunction:A,editObject:l,fieldObj:(B==null?void 0:B.fieldObj)||{},fields:(B==null?void 0:B.fields)||[],tableHeader:(B==null?void 0:B.tableHeader)||[],editFunction:k,titleName:a,Position:e}),m.jsx(Hv,{successMess:D,toggleSFAMessage:_,setExcelData:n,userIdentification:x})]})},$ae=(n,r,t,e,s)=>{if(n!==null){let a=function(y){const g=new Date(1899,11,30),x=y;return new Date(g.getTime()+x*24*60*60*1e3)},i=function(y){return typeof y!="string"?y:y.replace(/[^a-zA-Z0-9]/g,"")};const o=qf(n,{type:"buffer"}),u=o.SheetNames;console.log("WorkSheet Names :",u);const c=[];u.forEach(y=>{const g=bg.sheet_to_json(o.Sheets[y]);c.push({sheetName:y,data:g})}),console.log(c);const l=(y,g)=>{const x={},v={};return Object.keys(g).forEach(w=>{const S=g[w];v[S]?(v[S]+=1,x[`${S}_${v[S]}`]=y[w]||null):(v[S]=1,x[S]=y[w]||null)}),x},d=[],p=c&&c.map(y=>{const g=y.sheetName,x=y.data[0],v=y.data[2],w=y.data.slice(3,4).map(H=>l(H,v)),S=y.data[7],D=y.data[2],R=["138000","CONTRACT No:","DAILY TIME SHEET ","__EMPTY","__EMPTY_4"].map(H=>H.trim()),P=Object.fromEntries(Object.entries(D).filter(([H,U])=>!R.includes(H.trim()))),L={...S,...P};d.push(L),console.log(L);const O=y.data.slice(8).map(H=>l(H,L));return{sheetName:g,rows:w,tbodyRows:O,location:x}});console.log(p);const h=[];p&&p.map((y,g)=>{const x=y.rows,v=y.location.__EMPTY,w=y.tbodyRows,S=w.map((T,R)=>({...T,date:x.map(P=>P.DATE),location:v}));let D=S.findIndex(T=>T.NAME==="TOTAL");if(console.log(w),console.log(D),D>-1){let T=S.slice(0,D);console.log(T);let R=T.filter(L=>L.NAME!==null);console.log(R);const P=R.flat();h.push(...P)}});const f=h&&h.map(y=>{const g=y.date.flat(),v=a(g).toLocaleDateString();return{...y,date:v}});console.log(f);const b=f.map(y=>{const g={};for(const x in y){const v=i(x).toUpperCase();g[v]=y[x]}return g});return console.log("formattedData : ",b),r(b),s(!1),d}e.current.value="",t(null)},Gae=(n,r,t,e,s)=>{if(n!==null){const i=qf(n,{type:"buffer"}),o=i.SheetNames,u=[],c=[];var a=!1;o.map(d=>{const p=bg.sheet_to_json(i.Sheets[d]);u.push({sheetName:d,data:p})}),console.log(u);const l=u&&u.map(d=>{const p=d.data;console.log(p);var h=p.slice(0,1);console.log(h);const f=h.some(y=>["NAME","DATE"].every(g=>g in y));console.log(f),a=f;var b=p.slice(0);return c.push(b),h});if(console.log(a),a===!0){let d=function(v){return typeof v!="string"?v:v.replace(/[^a-zA-Z0-9]/g,"")};const p=(v,w)=>{if(w==="time"){const S=v*24,D=Math.floor(S),T=(S-D)*60,R=Math.floor(T),P=(T-R)*60,L=Math.round(P);return`${D.toString().padStart(2,"0")}:${R.toString().padStart(2,"0")}:${L.toString().padStart(2,"0")}`}else if(w==="date"){const S=new Date(1899,11,30),D=v;return new Date(S.getTime()+D*24*60*60*1e3)}},f=c.flat().map(v=>{const w={};for(const S in v){const D=d(S);w[D]=v[S]}return w}),b=f&&f.map(v=>{if(typeof v.IN=="number"&&(v.IN=p(v.IN,"time")),typeof v.OUT=="number"&&(v.OUT=p(v.OUT,"time")),typeof v.DATE=="number"){const w=p(v.DATE,"date"),S=new Date(w);v.DATE=S.toLocaleDateString()}return v});console.log(b);const g=(v=>{const w=new Map;return v.forEach(S=>{if(S.hasOwnProperty("NAME")){const D=`${S.NAME}`;w.set(D,S)}}),Array.from(w.values())})(b);r(g),s(!1);const x=l.flat();return e.current.value="",t(null),x}else return e.current.value="",t(null),a}},Yae=(n,r,t,e,s)=>{try{if(n!==null){let a=function(g){return typeof g!="string"?g:g.replace(/[^a-zA-Z0-9]/g,"")};const i=qf(n,{type:"buffer"}),o=i.SheetNames,u=[],c=[];o.forEach(g=>{const x=bg.sheet_to_json(i.Sheets[g]);u.push({sheetName:g,data:x})}),console.log(u);const l=u&&u.map(g=>{const x=g.data;console.log(x);var v=x.slice(0,1),w=x.slice(0);return console.log(w),c.push(w),v}),d=(g,x)=>{if(x==="time"){const v=g*24,w=Math.floor(v),S=(v-w)*60,D=Math.floor(S),T=(S-D)*60,R=Math.round(T);return`${w.toString().padStart(2,"0")}:${D.toString().padStart(2,"0")}:${R.toString().padStart(2,"0")}`}else if(x==="date"){const v=new Date(1899,11,30),w=g;return new Date(v.getTime()+w*24*60*60*1e3)}},h=c.flat().map(g=>{const x={};for(const v in g){const w=a(v);x[w]=g[v]}return x});console.log("formattedData : ",h);const f=h&&h.map(g=>{if(typeof g.IN=="number"&&(g.IN=d(g.IN,"time")),typeof g.OUT=="number"&&(g.OUT=d(g.OUT,"time")),typeof g.DATE=="number"){const x=d(g.DATE,"date"),v=new Date(x);g.DATE=v.toLocaleDateString()}return g});console.log(f);const y=(g=>{const x=new Map;return g.forEach(v=>{if(v.hasOwnProperty("BADGE")){const w=`${v.BADGE}`;x.set(w,v)}}),Array.from(x.values())})(f);return console.log(y),r(y),s(!1),l.flat()}e.current.value="",t(null)}catch{}},Kae=(n,r,t,e,s)=>{try{if(n!==null){let a=function(g){return typeof g!="string"?g:g.replace(/[^a-zA-Z0-9]/g,"")},i=function(g){const x=/^\d{1,2}\/\d{1,2}\/\d{4}$/;return g.filter(v=>v.IN&&v.OUT)};const o=qf(n,{type:"buffer"}),u=o.SheetNames,c=[],l=[];u.forEach(g=>{const x=bg.sheet_to_json(o.Sheets[g]);c.push({sheetName:g,data:x})}),console.log(c);const d=[],p=c&&c.map(g=>{const x=g.data;console.log(x);var v=x.slice(1,2),w="";const D=v.map(R=>Object.entries(R).map(([L,O])=>[{key:L,value:O}])).flat().flat();var T=x.slice(2);return T.forEach(R=>{const P={};Object.entries(R).forEach(([L,O])=>{const H=D.find(U=>U.key===L);H&&(P[H.value]=O)}),l.push(P)}),v}),h=(g,x)=>{if(x==="time"){const v=g*24,w=Math.floor(v),S=(v-w)*60,D=Math.floor(S),T=(S-D)*60,R=Math.round(T);return`${w.toString().padStart(2,"0")}:${D.toString().padStart(2,"0")}:${R.toString().padStart(2,"0")}`}else if(x==="date"){const v=new Date(1899,11,30),w=g;return new Date(v.getTime()+w*24*60*60*1e3)}},f=l.map(g=>{const x={};for(const v in g){const w=a(v);x[w]=g[v]}return x}),b=f&&f.map(g=>{if(typeof g.ONAM=="number"&&(g.ONAM=h(g.ONAM,"time")),typeof g.OFFAM=="number"&&(g.OFFAM=h(g.OFFAM,"time")),typeof g.ONPM=="number"&&(g.ONPM=h(g.ONPM,"time")),typeof g.OFFPM=="number"&&(g.OFFPM=h(g.OFFPM,"time")),typeof g.IN=="number"&&(g.IN=h(g.IN,"time")),typeof g.OUT=="number"&&(g.OUT=h(g.OUT,"time")),typeof g.DATE=="number"){const x=h(g.DATE,"date"),v=new Date(x);g.DATE=v.toLocaleDateString()}return g});try{}catch{}const y=i(b);return console.log(y),r(y),s(!1),p.flat()}e.current.value="",t(null)}catch{}};kr();const Xae=(n,r,t,e,s)=>{try{if(n!==null){let a=function(x){return typeof x!="string"?x:x.replace(/[^a-zA-Z0-9]/g,"")};const i=qf(n,{type:"buffer",cellStyles:!0}),o=i.SheetNames,u=[],c=[],l=[];o.forEach(x=>{const v=bg.sheet_to_json(i.Sheets[x]);u.push({sheetName:x,data:v})}),console.log(u);const d=u&&u.map(x=>{const v=x.data;console.log(v);var w=v.slice(0,1);const D=w.map(R=>Object.entries(R).map(([L,O])=>[{key:L,value:O}])).flat().flat();var T=v.slice(1);return console.log(T),T.forEach(R=>{const P={};Object.entries(R).forEach(([L,O])=>{const H=D.find(U=>U.key===L);H&&(P[H.value]=O)}),l.push(P)}),w}),p=l.map(x=>{const v={};for(const S in x){const D=a(S).toUpperCase();v[D]=x[S]}return{...v,NORMALWORKINGHRSPERDAY:"",WORKINGHOURS:"",OT:"",REMARKS:""}});console.log("formattedData : ",p),c.push(p);const h=(x,v)=>{if(v==="dateTime"){const w=new Date(1899,11,30),S=x*24*60*60*1e3;return new Date(w.getTime()+S)}else if(v==="date"){const w=new Date(1899,11,30),S=x;return new Date(w.getTime()+S*24*60*60*1e3)}else if(v==="time"){const w=x*24,S=Math.floor(w),D=(w-S)*60,T=Math.floor(D),R=(D-T)*60,P=Math.round(R);return`${S.toString().padStart(2,"0")}:${T.toString().padStart(2,"0")}:${P.toString().padStart(2,"0")}`}else if(v==="Avg. Daily Total By Day"){const w=Math.round(x*24*60),S=Math.floor(w/60),D=w%60,T=String(S).padStart(2,"0"),R=String(D).padStart(2,"0");return`${T}:${R}`}},f=x=>x.toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}),b=c.flat(),g=(b&&b.map(x=>{if(typeof x.EXITDATETIME=="number"){const v=h(x.EXITDATETIME,"dateTime");x.EXITDATETIME=f(v)}if(typeof x.ENTRANCEDATETIME=="number"){const v=h(x.ENTRANCEDATETIME,"dateTime");x.ENTRANCEDATETIME=f(v)}if(typeof x.ENTRANCEDATEUSED=="number"){const v=h(x.ENTRANCEDATEUSED,"date"),w=new Date(v);x.ENTRANCEDATEUSED=w.toLocaleDateString()}if(typeof x.AVGDAILYTOTALBYDAY=="number"){const v=h(x.AVGDAILYTOTALBYDAY,"Avg. Daily Total By Day");x.AVGDAILYTOTALBYDAY=v}if(typeof x.ADININWORKSENGINEERINGSDNBHD=="number"){const v=h(x.ADININWORKSENGINEERINGSDNBHD,"Avg. Daily Total By Day");x.ADININWORKSENGINEERINGSDNBHD=v}return x})).reduce((x,v)=>{const{FID:w,NAMEFLAST:S,ENTRANCEDATEUSED:D,ENTRANCEDATETIME:T,EXITDATETIME:R,...P}=v,L=x[x.length-1]||{},O=w||L.FID,H=S||L.NAMEFLAST,U=D||L.ENTRANCEDATEUSED,I=x.find(F=>F.FID===O&&F.NAMEFLAST===H&&F.ENTRANCEDATEUSED===U);return I?(I.ENTRANCEDATETIME.push(T),I.EXITDATETIME.push(R)):x.push({FID:O||"",NAMEFLAST:H||"",ENTRANCEDATEUSED:D,ENTRANCEDATETIME:[T],EXITDATETIME:[R],...P}),x},[]);return console.log("transformedData : ",g),g.forEach(x=>{x.FID&&x.ENTRANCEDATEUSED&&(x.EXITDATETIME.length>1&&(x.EXITDATETIME=[x.EXITDATETIME[x.EXITDATETIME.length-1]]),x.ENTRANCEDATETIME.length>1&&(x.ENTRANCEDATETIME=[x.ENTRANCEDATETIME[0]]))}),r(g),s(!1),d.flat()}e.current.value="",t(null)}catch{}},OT=n=>{ne.useState(null);const r=kr(),[t,e]=ne.useState([]),[s,a]=ne.useState(null);return ne.useEffect(()=>{const i=localStorage.getItem("userType");a(i),(i==="Manager"&&n||i!=="Manager")&&(async()=>{var u,c;try{let l,d;switch(n){case"BLNG":l=FM,d="listBlngs";break;case"HO":l=LM,d="listHeadOffices";break;case"SBW":l=OM,d="listSBWSheets";break;case"ORMC":l=MM,d="listORMCSheets";break;case"Offshore":l=RM,d="listOffshoreSheets";break;default:console.log("Invalid titleName");return}const h=await r.graphql({query:l,variables:{limit:100,nextToken:null}}),f=((c=(u=h==null?void 0:h.data)==null?void 0:u[d])==null?void 0:c.items)||[];console.log(f);const b=f.map(x=>{const v=x.weeklySheet||x.dailySheet;if(Array.isArray(v)&&v.length>0){const w=v[0],S=x.id,D=x.status;try{const T=w.replace(/^"|\s*'|\s*"$|\\'/g,"").replace(/\\"/g,'"').replace(/\\n/g,"").replace(/\\\//g,"/"),P=JSON.parse(T).map(L=>({...L,status:D}));return[{id:S},P]}catch(T){return console.error("Error parsing JSON:",T),null}}return null}),y=b.map(x=>x);console.log(b);const g=b.filter(x=>x!==null);console.log(g),e(g)}catch(l){console.error(`Error fetching data for ${n}:`,l)}})(),console.log(t)},[n]),{convertedStringToArrayObj:t,getPosition:s}},Jae=(n,r,t,e,s)=>{if(n!==null){let a=function(v){return typeof v!="string"?v:v.replace(/[^a-zA-Z0-9]/g,"")},i=function(v){return v.filter(w=>w.IN&&w.OUT)};const o=qf(n,{type:"buffer"}),u=o.SheetNames,c=[],l=[];u.map(v=>{const w=bg.sheet_to_json(o.Sheets[v]);c.push({sheetName:v,data:w})}),console.log(c);const d=c&&c.map(v=>{const w=v.data;console.log(w);var S=w.slice(1,2);const T=S.map(P=>Object.entries(P).map(([O,H])=>[{key:O,value:H}])).flat().flat();var R=w.slice(2);return R.forEach(P=>{const L={};Object.entries(P).forEach(([O,H])=>{const U=T.find(I=>I.key===O);U&&(L[U.value]=H)}),l.push(L)}),S}),p=(v,w)=>{if(w==="time"){const S=v*24,D=Math.floor(S),T=(S-D)*60,R=Math.floor(T),P=(T-R)*60,L=Math.round(P);return`${D.toString().padStart(2,"0")}:${R.toString().padStart(2,"0")}:${L.toString().padStart(2,"0")}`}else if(w==="date"){const S=new Date(1899,11,30),D=v;return new Date(S.getTime()+D*24*60*60*1e3)}},h=l.map(v=>{const w={};for(const S in v){const D=a(S);w[D]=v[S]}return w});console.log(h);const f=h&&h.map(v=>{if(typeof v.IN=="number"&&(v.IN=p(v.IN,"time")),typeof v.OUT=="number"&&(v.OUT=p(v.OUT,"time")),typeof v.DATE=="number"){const w=p(v.DATE,"date"),S=new Date(w);v.DATE=S.toLocaleDateString()}return v});console.log(f);const b=i(f);console.log(b),r(b);const g=(v=>v.map(w=>w.map(S=>Object.entries(S).reduce((D,[T,R])=>(D[R]=T,D),{}))))(d);return console.log(g),s(!1),g.flat()}e.current.value="",t(null)};kr();const Wv=({title:n})=>{const r=ne.useRef(null),[t,e]=ne.useState(""),[s,a]=ne.useState(!1),[i,o]=ne.useState(""),[u,c]=ne.useState(!1),[l,d]=ne.useState(null),[p,h]=ne.useState(null),[f,b]=ne.useState(),[y,g]=ne.useState(null),[x,v]=ne.useState(""),[w,S]=ne.useState(!1),[D,T]=ne.useState(!1);ne.useState();const R=()=>{T(!D),g(null)};ne.useEffect(()=>{v(D===!0?"ORMC":n)},[D]);const{convertedStringToArrayObj:P,getPosition:L}=OT(x),O=A=>{o(A.target.files[0].name);let _=["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/csv"],E=A.target.files[0];if(E)if(e(E.name),E&&_.includes(E.type)){var N=E&&_.includes(E.type);c(N),h(null);let k=new FileReader;k.readAsArrayBuffer(E),k.onload=B=>{d(B.target.result)}}else h("Please select only excel file types"),d(null)},H=async()=>{r.current.click()},U=async()=>{if(x==="Offshore"){const A=$ae(l,g,d,r,S);b(A),r.current.value="",d(null)}else if(x==="ORMC"){const A=Gae(l,g,d,r,S);if(b(A),A===!1){const _=await Jae(l,g,d,r,S);console.log("Yes it works"),console.log(),b(_)}r.current.value="",d(null)}else if(x==="SBW"){const A=Yae(l,g,d,r,S);b(A),r.current.value="",d(null)}else if(x==="HO"){const A=Kae(l,g,d,r,S);b(A),r.current.value="",d(null)}else if(x==="BLNG"){const A=Xae(l,g,d,r,S);b(A),r.current.value="",d(null)}},I=()=>{r.current.value="",d(null)},F=()=>{e(""),r.current.value=""};return m.jsxs("div",{className:"p-10 bg-[#fafaf6] min-h-screen",children:[m.jsx("div",{children:m.jsx(yi,{to:"/timeSheet",className:"text-xl flex-1 text-grey ",children:m.jsx(Yc,{})})}),m.jsx("div",{children:m.jsxs("div",{className:" m-9 screen-size my-5  flex flex-col items-center gap-3",children:[m.jsx("p",{className:"text-2xl font-semibold text-dark_grey uppercase",children:n}),L!=="Manager"&&m.jsx("div",{className:"my-2 flex flex-col gap-5",children:m.jsxs("div",{className:"flex gap-5",children:[m.jsxs("div",{className:" flex flex-col items-center  gap-5",children:[m.jsx("div",{className:"border-[#30303080] border-2",children:m.jsx("input",{className:"outline-none py-2 px-3 text-sm",type:"text",placeholder:"Please Upload the Time Sheet",value:t||"",onChange:A=>{e(A.target.value)},readOnly:!0})}),m.jsxs("div",{className:"flex gap-2 p",children:[m.jsx("span",{children:m.jsx(lO,{className:"text-xs mt-1.5"})}),m.jsx("span",{className:"text-dark_grey",children:"XLS / CSV Files only"})]})]}),m.jsxs("div",{className:"",children:[!t&&m.jsxs("div",{children:[m.jsx("button",{className:"text_size_4 border-[#30303080] border-2 py-1 px-10 text-dark_grey rounded-md bg-[#FEF116]",onClick:H,children:"Upload"}),n==="Offshore"&&m.jsxs("div",{className:"flex items-center space-x-3 m-5",children:[m.jsx("input",{type:"checkbox",className:"h-5 w-5 text-dark_grey rounded checked:bg-red checked:border-transparent",checked:D,onChange:R}),m.jsx("label",{htmlFor:"custom-checkbox",className:"text-dark_grey text_size_4 ",children:"ORMC"})]})]}),t&&m.jsxs("div",{className:"flex gap-5",children:[m.jsx("button",{className:"text_size_4 border-[#30303080] border-2 py-1 px-10 text-dark_grey rounded-md bg-[#FEF116]",onClick:()=>{S(!0),setTimeout(()=>{U()},1e3),c(),e()},children:"Submit"}),m.jsx("button",{className:"text_size_4 border-[#30303080] border-2 py-1 px-10 text-dark_grey rounded-md ",onClick:()=>{F()},children:"Cancel"})]})]}),m.jsx("input",{ref:r,type:"file",className:"hidden",onChange:O})]})})]})}),!u&&m.jsx("div",{className:"flex flex-col items-center",children:m.jsx(Wae,{fileName:t,ensureExcelFile:u,typeError:p,UploadFile:U,setEnsureExcelFile:c,setFileName:e,clearUseRefObject:I})}),y&&m.jsxs("div",{children:[" ",x==="Offshore"&&m.jsx(IN,{setExcelData:g,excelData:y,returnedTHeader:f,Position:L,titleName:x}),x==="HO"&&m.jsx(UN,{setExcelData:g,excelData:y,returnedTHeader:f,Position:L,titleName:x}),x==="SBW"&&m.jsx(ON,{setExcelData:g,excelData:y,returnedTHeader:f,Position:L,titleName:x}),x==="ORMC"&&m.jsx(FN,{setExcelData:g,excelData:y,returnedTHeader:f,Position:L,titleName:x}),x==="BLNG"&&m.jsx(PN,{excelData:y,setExcelData:g,returnedTHeader:f,Position:L,titleName:x})]}),!y&&L==="Manager"&&x==="BLNG"&&m.jsx(PN,{titleName:x,returnedTHeader:null,convertedStringToArrayObj:P,Position:L}),!y&&L==="Manager"&&x==="HO"&&m.jsx(UN,{titleName:x,returnedTHeader:null,convertedStringToArrayObj:P,Position:L}),!y&&L==="Manager"&&x==="SBW"&&m.jsx(ON,{titleName:x,returnedTHeader:null,convertedStringToArrayObj:P,Position:L}),!y&&L==="Manager"&&x==="ORMC"&&m.jsx(FN,{titleName:x,returnedTHeader:null,convertedStringToArrayObj:P,Position:L}),!y&&L==="Manager"&&x==="Offshore"&&m.jsx(IN,{titleName:x,returnedTHeader:null,convertedStringToArrayObj:P,Position:L}),s&&m.jsx("div",{className:"flex flex-col items-center",children:m.jsx(zae,{fileNameForSuccessful:i,setCloseSavedModel:a})}),w===!0&&m.jsx("div",{className:"flex justify-center items-center text_size_5 text-dark_grey m-2",children:m.jsx("p",{children:"Please wait a few seconds....."})})]})},Zae=()=>m.jsx("div",{children:m.jsx(Wv,{title:"Offshore"})}),Qae=()=>m.jsx("section",{children:m.jsx(Wv,{title:"BLNG"})}),eie=({data:n,loading:r,useDownloadFunc:t})=>(ne.useEffect(()=>{if(r===!1){const e=document.querySelectorAll("tbody tr"),s=Array.from(e).map(a=>{const i=a.querySelectorAll("td");return Array.from(i).map(o=>o.innerText)});setTimeout(()=>{t(s)},1e3)}},[r,n]),m.jsx("tbody",{className:"",children:r===!1&&n&&(n==null?void 0:n.length)>0?n.map((e,s)=>{const a=(i,o)=>m.jsxs("tr",{className:"text-dark_grey h-[53px] bg-white text-sm rounded-sm shadow-md text-start border-b-2 border-[#CECECE]",children:[m.jsx("td",{className:"text-start px-4 flex-1",children:o+1}),m.jsx("td",{className:"text-start px-4 flex-1",children:i.fid}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.name}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.entDate}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.entDT}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.exitDT}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.day||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.avgTotalDay||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.totalhrs||""}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.workDN}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.normalWhrsPerDay||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.workhrs||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.OT||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.remarks}),m.jsx("td",{className:`text-center px-4 flex-1 ${i.status==="Approved"?"text-[#0CB100]":"text_size_8"}`,children:i.status})]},o);return e.data.map(a)}):m.jsx("tr",{children:m.jsx("td",{colSpan:"15",className:"text-center text-dark_ash text_size_5 bg-white",children:m.jsx("p",{className:"p-5",children:"No Table Data Available Here."})})})??m.jsx("tr",{children:m.jsx("td",{colSpan:"15",className:"text-center text-dark_ash text_size_5",children:m.jsx("p",{className:"p-5",children:"No Table Data Available Here"})})})})),tie=({data:n,loading:r,useDownloadFunc:t})=>(ne.useEffect(()=>{if(r===!1){const e=document.querySelectorAll("tbody tr"),s=Array.from(e).map(a=>{const i=a.querySelectorAll("td");return Array.from(i).map(o=>o.innerText)});setTimeout(()=>{t(s)},1e3)}},[r,n]),m.jsx("tbody",{children:r===!1&&n&&(n==null?void 0:n.length)>0?n.map((e,s)=>{const a=(i,o)=>m.jsxs("tr",{className:"text-dark_grey h-[53px] bg-white text-sm rounded-sm shadow-md text-start border-b-2 border-[#CECECE]",children:[m.jsx("td",{className:"text-start px-4 flex-1",children:o+1}),m.jsx("td",{className:"text-start px-4 flex-1",children:i.rec}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.ctr}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.dept}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.empId}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.badge}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.name}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.date}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.onAm}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.offAm}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.onPm}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.offPm}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.in}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.out}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.totalInOut||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.allDayMin||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.netMin||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.totalHrs||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.normalWhrsPerDay||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.totalActHrs||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.OT||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.remarks}),m.jsx("td",{className:`text-center px-4 flex-1 ${i.status==="Approved"?"text-[#0CB100]":"text_size_8"}`,children:i.status})]},o);return e.data.map(a)}):m.jsx("tr",{children:m.jsx("td",{colSpan:"15",className:"text-center text-dark_ash text_size_5 bg-white",children:m.jsx("p",{className:"p-5",children:"No Table Data Available Here."})})})??m.jsx("tr",{children:m.jsx("td",{colSpan:"15",className:"text-center text-dark_ash text_size_5",children:m.jsx("p",{className:"p-5",children:"No Table Data Available Here"})})})})),rie=({data:n,loading:r,useDownloadFunc:t})=>(ne.useEffect(()=>{if(r===!1){const e=document.querySelectorAll("tbody tr"),s=Array.from(e).map(a=>{const i=a.querySelectorAll("td");return Array.from(i).map(o=>o.innerText)});setTimeout(()=>{t(s)},1e3)}},[r,n]),m.jsx("tbody",{children:r===!1&&n&&(n==null?void 0:n.length)>0?n.map((e,s)=>{const a=(i,o)=>m.jsxs("tr",{className:"text-dark_grey h-[53px] bg-white text-sm rounded-sm shadow-md text-start border-b-2 border-[#CECECE]",children:[m.jsx("td",{className:"text-start px-4 flex-1",children:o+1}),m.jsx("td",{className:"text-start px-4 flex-1",children:i.name}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.no}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.location}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.date}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.ntTotalHrs}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.otTotalHrs}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.totalHrs}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.workHrs}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.OT}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.remarks}),m.jsx("td",{className:`text-center px-4 flex-1 ${i.status==="Approved"?"text-[#0CB100]":"text_size_8"}`,children:i.status})]},o);return e.data.map(a)}):m.jsx("tr",{children:m.jsx("td",{colSpan:"15",className:"text-center text-dark_ash text_size_5",children:m.jsx("p",{className:"p-5",children:"No Table Data Available Here"})})})??m.jsx("tr",{children:m.jsx("td",{colSpan:"15",className:"text-center text-dark_ash text_size_5",children:m.jsx("p",{className:"p-5",children:"No Table Data Available Here"})})})})),nie=({data:n,loading:r,useDownloadFunc:t})=>(ne.useEffect(()=>{if(r===!1){const e=document.querySelectorAll("tbody tr"),s=Array.from(e).map(a=>{const i=a.querySelectorAll("td");return Array.from(i).map(o=>o.innerText)});setTimeout(()=>{t(s)},1e3)}},[r,n]),m.jsx("tbody",{children:r===!1&&n&&(n==null?void 0:n.length)>0?n.map((e,s)=>{const a=(i,o)=>m.jsxs("tr",{className:"text-dark_grey h-[53px] bg-white text-sm rounded-sm shadow-md text-start border-b-2 border-[#CECECE]",children:[m.jsx("td",{className:"text-start px-4 flex-1",children:o+1}),m.jsx("td",{className:"text-start px-4 flex-1",children:i.name}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.deptDiv}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.badge}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.date}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.in}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.out}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.totalInOut}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.allDayMin}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.netMin}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.totalHrs}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.normalWhrsPerDay||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.workHrs||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.OT||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.remarks}),m.jsx("td",{className:`text-center px-4 flex-1 ${i.status==="Approved"?"text-[#0CB100]":"text_size_8"}`,children:i.status})]},o);return e.data.map(a)}):m.jsx("tr",{children:m.jsx("td",{colSpan:"15",className:"text-center text-dark_ash text_size_5",children:m.jsx("p",{className:"p-5",children:"No Table Data Available Here"})})})??m.jsx("tr",{children:m.jsx("td",{colSpan:"15",className:"text-center text-dark_ash text_size_5",children:m.jsx("p",{className:"p-5",children:"No Table Data Available Here"})})})})),sie=({data:n,loading:r,useDownloadFunc:t})=>(ne.useEffect(()=>{if(r===!1){const e=document.querySelectorAll("tbody tr"),s=Array.from(e).map(a=>{const i=a.querySelectorAll("td");return Array.from(i).map(o=>o.innerText)});setTimeout(()=>{t(s)},1e3)}},[r,n]),m.jsx("tbody",{children:r===!1&&n&&(n==null?void 0:n.length)>0?n.map((e,s)=>{const a=(i,o)=>m.jsxs("tr",{className:"text-dark_grey h-[53px] bg-white text-sm rounded-sm shadow-md text-start border-b-2 border-[#CECECE]",children:[m.jsx("td",{className:"text-start px-4 flex-1",children:o+1}),m.jsx("td",{className:"text-start px-4 flex-1",children:i.name}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.deptDiv}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.badge}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.date}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.in}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.out}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.totalInOut}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.allDayMin}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.netMin}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.totalHrs}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.normalWhrsPerDay||0}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.workHrs}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.OT}),m.jsx("td",{className:"text-center px-4 flex-1",children:i.remarks}),m.jsx("td",{className:`text-center px-4 flex-1 ${i.status==="Approved"?"text-[#0CB100]":"text_size_8"}`,children:i.status})]},o);return e.data.map(a)}):m.jsx("tr",{children:m.jsx("td",{colSpan:"15",className:"text-center text-dark_ash text_size_5",children:m.jsx("p",{className:"p-5",children:"No Table Data Available Here"})})})??m.jsx("tr",{children:m.jsx("td",{colSpan:"15",className:"text-center text-dark_ash text_size_5",children:m.jsx("p",{className:"p-5",children:"No Table Data Available Here"})})})})),aie=(n,r)=>{try{if(n&&r){const t=document.querySelectorAll("table thead tr"),e=Array.from(t).map(u=>{const c=u.querySelectorAll("td");return Array.from(c).map(l=>l.innerText)}),s=new OA.Workbook,a=s.addWorksheet(`${n}`);console.log(a.name);const i=a.addRow(e[0]);i.height=30,a.columns=e[0].map(u=>({header:u,width:u.length<20?20:u.length}));const o={style:"thin",color:{argb:"FF000000"}};i.eachCell(u=>{u.font={bold:!0,size:12,color:{argb:"f9f9f9"}},u.fill={type:"pattern",pattern:"solid",fgColor:{argb:"78716c"}},u.alignment={horizontal:"left"}}),r.forEach(u=>{a.addRow(u)}),a.eachRow((u,c)=>{c!==1&&u.eachCell(l=>{l.font={size:12,color:{argb:"FF000000"}},l.alignment={horizontal:"left"}}),u.border={top:o,left:o,bottom:o,right:o}}),s.xlsx.writeBuffer().then(u=>{const c=new Blob([u],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});console.log(c),saveAs(c,`${n}.xlsx`)})}}catch{console.log("Error")}},iie=({AllFieldData:n,categoryFilter:r,data:t})=>{var u;const[e,s]=ne.useState(!0),[a,i]=ne.useState(null);ne.useEffect(()=>{t&&setTimeout(()=>{s(!1)},5e3)},[t]);const o=c=>{console.log(c),i(c)};return m.jsxs("section",{children:[m.jsx("article",{className:`flex justify-center text_size_5  text-dark_grey ${e&&"pt-6"}`,children:e&&m.jsx("p",{children:"Please wait few seconds..."})}),m.jsx("div",{className:"table-container",children:m.jsxs("table",{className:"styled-table",children:[m.jsx("thead",{className:"sticky-header",children:m.jsxs("tr",{className:"text_size_5",children:[m.jsx("td",{className:"px-5 text-center",children:"S No."}),((u=n==null?void 0:n.tableHeader)==null?void 0:u.map((c,l)=>m.jsx("td",{className:"px-4 flex-1 text-center",children:c},l)))??m.jsx("tr",{children:m.jsx("td",{colSpan:"100%",className:"text-center",children:"No headers available"})}),m.jsx("td",{className:"px-5 text-center",children:"STATUS"})]})}),r==="BLNG"&&m.jsx(eie,{data:t,loading:e,useDownloadFunc:o}),r==="HO"&&m.jsx(tie,{data:t,loading:e,useDownloadFunc:o}),r==="SBW"&&m.jsx(sie,{data:t,loading:e,useDownloadFunc:o}),r==="ORMC"&&m.jsx(nie,{data:t,loading:e,useDownloadFunc:o}),r==="Offshore"&&m.jsx(rie,{data:t,loading:e,useDownloadFunc:o})]})}),m.jsx("div",{className:"flex justify-center p-7",children:m.jsx("button",{className:"rounded px-3 py-2 bg-[#FEF116] text_size_5 text-dark_grey",onClick:()=>{aie(r||"TimeSheet",a)},children:"Download"})})]})},oie=({AfterFilter:n,handleFilterChange:r})=>{const[t,e]=ne.useState(!1),s=()=>{e(!t)};return m.jsx("section",{className:"w-fit grid grid-cols-1",children:m.jsxs("div",{className:"center gap-2 border relative rounded-md p-[9px]  text-sm text-secondary border-[#CDCDCD]  bg-white",onClick:s,children:[m.jsx(u8,{}),m.jsx("p",{children:"Filter"}),t&&m.jsx("div",{className:" top-10 absolute  w-fit shadow-xl bg-white z-50",children:m.jsxs("div",{className:"p-1 shadow-md  flex flex-col bg-white ",children:[m.jsx("button",{onClick:()=>{r("All")},className:" w-full text-left px-4 py-2 text-sm text-dark_grey hover:bg-grey hover:text-white ",children:"All"}),m.jsx("button",{onClick:()=>{r("Pending")},className:" w-full text-left px-4 py-2 text-sm text-dark_grey hover:bg-grey hover:text-white ",children:"Pending"}),m.jsx("button",{onClick:()=>{r("Approved")},className:"   w-full text-left px-4 py-2 text-sm text-dark_grey hover:bg-grey hover:text-white",children:"Approved"})]})})]})})},lie=()=>{const[n,r]=ne.useState("BLNG"),[t,e]=ne.useState(!1),[s,a]=ne.useState(null),[i,o]=ne.useState("All"),[u,c]=ne.useState(null),[l,d]=ne.useState(""),[p,h]=ne.useState(""),[f,b]=ne.useState(!0),[y,g]=ne.useState(null),{convertedStringToArrayObj:x}=OT(n),v=vg(n);ne.useEffect(()=>{(async()=>{b(!0);try{const R=x.map(P=>{var L,O;return{id:(L=P[0])==null?void 0:L.id,data:(O=P[1])==null?void 0:O.filter(Boolean)}}).filter(P=>{var L;return((L=P.data)==null?void 0:L.length)>0});c(R),g(R)}catch(R){console.error("Error processing data",R)}finally{b(!1)}})()},[n,x]),ne.useEffect(()=>{if(y){if(y&&y.length>0){let T=[...y];if(s&&(T=s.filter(R=>R)),i!=="All"&&(T=T.map(R=>({id:R.id,data:R.data.filter(P=>P.status===i)}))),l&&p){const R=new Date(l).toLocaleDateString().toString(),P=new Date(p).toLocaleDateString().toString();T=T.map(L=>({id:L.id,data:L.data.filter(O=>{const H=new Date(O.date||O.entDate).toLocaleDateString().toString();return H>=R&&H<=P})}))}T=T.filter(R=>R.data.length>0),console.log(T),c(T)}b(!1),console.log("Working")}},[s,i,l,p,y,f]);const w=T=>{o(T)},S=T=>{a(T),console.log(T)},D=T=>{r(T),a(""),o("All"),d(""),h("")};return m.jsx("div",{className:"bg-[#fafaf6] h-screen border border-[#fafaf6]",children:m.jsxs("div",{className:"screen-size m-9 ",children:[m.jsx(yi,{to:"/timeSheet",className:"text-[#0033ffe2]",children:"Back"}),m.jsx("p",{className:"text-xl font-medium py-6",children:"View Time Sheet"}),m.jsxs("div",{className:"flex  justify-between items-center w-full",children:[m.jsxs("div",{className:"flex justify-start gap-4 ",children:[m.jsxs("div",{className:"relative grid grid-cols-1 ",children:[m.jsx("label",{className:"text_size_6",children:"Start Date"}),m.jsx("input",{type:"date",className:"border border-[#D9D9D9] rounded outline-none p-2 text-[#000000] text-sm",onChange:T=>d(T.target.value)})]}),m.jsxs("div",{className:"relative grid grid-cols-1",children:[m.jsx("label",{className:"text_size_6",children:"End Date"}),m.jsx("input",{type:"date",className:"border border-[#D9D9D9] rounded outline-none p-2 text-[#000000] text-sm",onChange:T=>h(T.target.value)})]})]}),m.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[m.jsxs("div",{className:"relative grid grid-cols-1 ",children:[m.jsx("input",{value:n,placeholder:"Select type",className:"border border-[#D9D9D9] cursor-pointer rounded outline-none p-2 text-[#000000] text-sm",onClick:()=>{e(!t)},readOnly:!0}),m.jsx("span",{className:"absolute right-2 top-2",children:m.jsx(ZU,{className:"text-xl text-dark_grey"})}),t&&m.jsx("div",{className:"absolute border top-10 border-[#D9D9D9] mt-1 w-full text-[15px] text-dark_grey p-1 bg-white z-50",onClick:()=>{e(!1)},children:["Offshore","HO","SBW","ORMC","BLNG"].map(T=>m.jsx("p",{className:"hover:bg-secondary hover:text-white p-1 cursor-pointer",onClick:()=>{D(T),b(!f)},children:T},T))})]}),m.jsx(yg,{placeholder:n==="BLNG"?"FID":n==="Offshore"?"SUB ID":n==="HO"?"Employee Id":"BADGE NO",searchResult:S,allEmpDetails:u,secondaryData:y,Position:"ViewTimeSheet"}),m.jsx(oie,{handleFilterChange:w})]})]}),!f&&m.jsx(iie,{AllFieldData:v,categoryFilter:n,data:u})]})})},LT=Kn().shape({courseSelect:Ue().required("Course selection is required"),courseName:Kr().of(Ue().required("Course name is required")),company:Kr().of(Ue().required("Training company is required"))}),cie=Kn().shape({empID:Ue().required("Employee ID is required"),employeeBadgeNumber:Ue().required("Employee Badge Number is required"),department:Ue().required("Department is required"),blastingPaintingBadgeNumber:Ue().required("Blasting/Painting Badge Number is required"),blastingPaintingAssessmentStartDate:Ue().required("Assessment Start Date is required"),blastingPaintingAssessmentEndDate:Ue().required("Assessment End Date is required"),blastingPaintingQualificationExpiry:Ue().required("Qualification Expiry is required"),blastingUpload:Or().required("Upload is required").test("fileType","Only PDF files are allowed",n=>n&&/\.(pdf)$/.test(n.name)),employeeName:Ue().required("Employee Name is required"),position:Ue().required("Position is required"),blastingPaintingRemarks:Ue()}),uie=Kn().shape({empID:Ue().required("Employee ID is required"),empBadgeNo:Ue().required("Employee Badge Number is required"),department:Ue().notRequired(),courseSelect:Ue().notRequired(),courseName:Ue().notRequired(),company:Ue().notRequired(),orgiCertifiDate:Ue().notRequired(),empName:Ue().notRequired(),eCertifiDate:Ue().notRequired(),certifiExpiry:Ue().notRequired(),trainingUpCertifi:Ue().notRequired()}),die=Kn().shape({empID:Ue().required("Employee ID is required"),empBadgeNo:Ue().required("Employee Badge Number is required"),department:Ue().required("Department is required"),weldingStampNo:Ue().required("Welding Stamp Number is required"),wpsNumber:Ue().required("WPS Number is required"),weldingProcess:Ue().required("Welding Process is required"),weldingPosition:Ue().required("Welding Position is required"),thicknessRange:Ue().required("Thickness Range is required"),WQExpiry:Ue().required("Welding Qualification Expiry is required"),weldingUpload:Or().notRequired(),empName:Ue().required("Employee Name is required"),position:Ue().required("Position is required"),WQRNo:Ue().required("WQR Number is required"),weldingCode:Ue().required("Welding Code is required"),weldingMaterial:Ue().required("Welding Material is required"),fillerMetal:Ue().required("Filler Metal is required"),diameterRange:Ue().required("Diameter Range is required"),WQRemarks:Ue().notRequired()}),hie=Kn().shape({empID:Ue().required("Employee ID is required"),empBadgeNo:Ue().required("Employee Badge Number is required"),empName:Ue().required("Employee Name is required"),department:Ue().required("Department is required"),traineeCourseCode:Ue().required("Training Course Code is required"),traineeCourseName:Ue().required("Training Course Name is required"),traineeCompany:Ue().required("Training Company is required"),traineeSD:Ue().required("Training Start Date is required"),traineeED:Ue().required("Training End Date is required"),traineeStatus:Ue().required("Training Status is required"),MRNo:Ue().required("MR Number is required"),purchaseONo:Ue().required("PO Number is required"),traineeCourseFee:Ue().typeError("Training course fee must be a number").required("Training course fee is required"),medicalName:Ue().notRequired(),medicalExpiry:Ue().notRequired(),medicalAppointDate:Ue().notRequired(),medicalReport:Or().notRequired()}),fie=()=>{const n=kr();return{SubmitMPData:ne.useCallback(async({TCValue:t})=>{if(!t)throw new Error("Missing required parameters");const e={empID:t.empID,courseCode:[t.courseCode],courseName:[t.courseName],company:[t.company],certifiExpiry:[t.certifiExpiry],eCertifiDate:[t.eCertifiDate],trainingUpCertifi:[JSON.stringify(t.trainingUpCertifi)],orgiCertifiDate:[t.orgiCertifiDate]};try{const s=await Promise.all([n.graphql({query:mW,variables:{input:e}})])}catch(s){throw console.error("Error executing GraphQL requests:",s),s}},[])}},pie=()=>{ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{SubmitMPData:n}=fie(),[r,t]=ne.useState(!1);ne.useState(!1);const{AddCourseDetails:e}=ne.useContext(Wn),[s,a]=ne.useState(null),[i,o]=ne.useState({trainingUpCertifi:null}),[u,c]=ne.useState({trainingUpCertifi:null}),{register:l,handleSubmit:d,setValue:p,watch:h,formState:{errors:f}}=Pn({resolver:Bn(uie)}),b=h("trainingUpCertifi",""),y=w=>{const S=w.target.value,D=e.find(T=>String(T.courseSelect)===String(S));a(D||null),D?(p("courseName",D.courseName||""),p("company",D.company||"")):(p("courseName",""),p("company",""))},g=w=>typeof w=="string"&&w?w.split("/").pop():"",x=async(w,S)=>{const D=w.target.files[0];if(!D)return;if(!["application/pdf","image/jpeg","image/png","image/jpg"].includes(D.type)){alert("Upload must be a PDF file or an image (JPG, JPEG, PNG)");return}const R=h(S)||[];p(S,[...R,D]);try{await As(D,S,c),o(P=>({...P,[S]:D.name}))}catch(P){console.log(P)}},v=async w=>{console.log("Form data:",w);try{const S={...w,trainingUpCertifi:u.trainingUpCertifi};console.log("Data sucessfully stored",S),await n({TCValue:S})}catch(S){console.log(S),console.error("Error submitting data:",S)}};return m.jsx("section",{className:"center flex-col gap-16 bg-[#F8F8F8]",children:m.jsxs("form",{onSubmit:d(v),className:"space-y-5 screen-size bg-white py-5 px-8 rounded-xl  text_size_6 text-dark_grey",children:[m.jsx("div",{className:"flex justify-end  items-center py-5 mt-2",children:m.jsxs("div",{className:"max-w-sm",children:[m.jsx("label",{className:"text_size_5",children:"Employee ID"})," ",m.jsx("br",{}),m.jsx("input",{type:"text",className:"input-field",...l("empID")}),f.empID&&m.jsx("p",{className:"text-[red] text-[12px]",children:f.empID.message})]})}),m.jsxs("div",{className:"grid grid-cols-2 gap-6 ",children:[m.jsxs("div",{className:"mb-2",children:[m.jsx("label",{className:"text_size_5",children:"Employee Name"}),m.jsx("input",{type:"text",...l("employeeName"),className:"input-field"}),f.employeeName&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:f.employeeName.message})," "]}),m.jsxs("div",{className:"mb-2",children:[m.jsx("label",{className:"text_size_5",children:"Employee Badge Number"}),m.jsx("input",{type:"text",...l("empBadgeNo"),className:"input-field"}),f.empBadgeNo&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:f.empBadgeNo.message})]}),m.jsxs("div",{className:"mb-2",children:[m.jsx("label",{className:"text_size_5",children:"Department"}),m.jsx("input",{...l("department"),className:"input-field",type:"text"}),f.department&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:f.department.message})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"courseSelect",className:"font-semibold",children:"Select Course:"}),m.jsxs("select",{...l("courseCode"),onChange:y,className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full",children:[m.jsx("option",{value:"",children:"Training Course Select"}),e.map(w=>m.jsx("option",{value:w.courseSelect,children:w.courseSelect},w.courseSelect))]})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"text_size_5",children:"Training Course Name"}),m.jsx("select",{...l("courseName"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full",children:s&&Array.isArray(s.courseName)?s.courseName.map((w,S)=>m.jsx("option",{value:w,children:w},S)):m.jsx("option",{value:(s==null?void 0:s.courseName)||"",children:(s==null?void 0:s.courseName)||"No Course Name Available"})})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"text_size_5",children:"Training Company"}),m.jsx("select",{...l("company"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full",children:s&&Array.isArray(s.company)?s.company.map((w,S)=>m.jsx("option",{value:w,children:w},S)):m.jsx("option",{value:(s==null?void 0:s.company)||"",children:(s==null?void 0:s.company)||"No Company Available"})})]}),m.jsxs("div",{className:"mb-2",children:[" ",m.jsx("label",{className:"text_size_5",children:"Date received Original Certificate"}),m.jsx("input",{...l("orgiCertifiDate"),className:"input-field",type:"date"}),f.orgiCertifiDate&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:f.orgiCertifiDate.message})]}),m.jsxs("div",{className:"mb-2",children:[" ",m.jsx("label",{className:"text_size_5",children:"Date received E-certificate"}),m.jsx("input",{...l("eCertifiDate"),className:"input-field",type:"date"}),f.eCertifiDate&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:f.eCertifiDate.message})]}),m.jsxs("div",{className:"mb-2",children:[m.jsx("label",{className:"text_size_5",children:"Training Certificate Expiry"}),m.jsx("input",{...l("certifiExpiry"),className:"input-field",type:"date"}),f.certifiExpiry&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:f.certifiExpiry.message})]}),m.jsx(Gl,{label:"Upload File",onChangeFunc:w=>x(w,"trainingUpCertifi"),register:l,name:"trainingUpCertifi",error:f,fileName:i.trainingUpCertifi||g(b)})]}),m.jsx("div",{className:"center py-5",children:m.jsx("button",{type:"submit",className:"primary_btn",children:"Submit"})}),r&&m.jsx(na,{text:"Dependent Insurance Info details save successfully",notification:r,path:"/training"})]})})},mie=()=>{const n=kr();return{AddCourseData:ne.useCallback(async({AddCFCre:t})=>{if(!t)throw new Error("Missing required parameters");const e={courseSelect:t.courseSelect,courseName:t.courseName,company:t.company};try{const s=await Promise.all([n.graphql({query:gW,variables:{input:e}})])}catch(s){throw console.error("Error executing GraphQL requests:",s),s}},[])}},gie=()=>{const n=kr();return{AddCUpdateFun:ne.useCallback(async({AddCFUpp:t})=>{if(!t)throw new Error("Missing required parameters");const e={id:t.id,courseSelect:t.courseSelect,courseName:t.courseName,company:t.company};try{const s=await Promise.all([n.graphql({query:bW,variables:{input:e}})])}catch(s){console.log(s)}},[])}},bie=({closeModal:n})=>{const{AddCourseData:r}=mie(),{AddCourseDetails:t}=ne.useContext(Wn),{AddCUpdateFun:e}=gie();console.log(t);const{register:s,handleSubmit:a,formState:{errors:i}}=Pn({resolver:Bn(LT)}),[o,u]=ne.useState([""]),[c,l]=ne.useState([""]),d=()=>u([...o,""]),p=()=>l([...c,""]),h=async f=>{try{console.log("Form Data Submitted:",f);const b=typeof f.courseSelect=="string"?f.courseSelect:"",y=t==null?void 0:t.find(g=>{const x=typeof g.courseSelect=="string"?g.courseSelect:"";return b===x});if(y){const g=[...new Set([...y.courseName,...f.courseName])],x=[...new Set([...y.company,...f.company])],v={...f,courseName:g,company:x,id:y.id};console.log("Updating data:",v),await e({AddCFUpp:v})}else{const g={...f};console.log("Creating new data:",g),await r({AddCFCre:g})}}catch(b){console.error("Error submitting data:",b.message)}};return m.jsx("div",{className:"flex justify-center items-center h-screen",children:m.jsxs("section",{className:"w-[500px] max-h-[500px] overflow-y-auto bg-white shadow-lg p-10 rounded-lg border",children:[m.jsx("div",{className:"flex justify-end items-end",children:m.jsx("button",{onClick:n,className:"bg-blue rounded-full p-2 w-[50px] h-[50px]",children:"X"})}),m.jsxs("form",{onSubmit:a(h),children:[m.jsxs("div",{className:"mb-4 relative",children:[m.jsx("label",{className:"font-semibold",children:"Select Course:"}),m.jsx("input",{type:"text",...s("courseSelect"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"}),i.courseSelect&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:i.courseSelect.message})]}),m.jsxs("div",{className:"mb-4 relative",children:[m.jsx("label",{className:"font-semibold",children:"Course Name:"}),o.map((f,b)=>m.jsxs("div",{children:[m.jsx("input",{type:"text",...s(`courseName[${b}]`),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"}),i.courseName&&i.courseName[b]&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:i.courseName[b].message})]},b)),m.jsx("button",{type:"button",onClick:d,className:"absolute top-10 -right-7 text-medium_grey text-[18px]",children:m.jsx(Vu,{})})]}),m.jsxs("div",{className:"mb-4 relative",children:[m.jsx("label",{className:"font-semibold",children:"Training Company:"}),c.map((f,b)=>m.jsxs("div",{children:[m.jsx("input",{type:"text",...s(`company[${b}]`),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full"}),i.company&&i.company[b]&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:i.company[b].message})]},b)),m.jsx("button",{type:"button",onClick:p,className:"absolute top-10 -right-7 text-medium_grey text-[18px]",children:m.jsx(Vu,{})})]}),m.jsx("div",{className:"center py-2",children:m.jsx("button",{type:"submit",className:"primary_btn",children:"Save"})})]})]})})},yie=()=>{const{empPIData:n,AddCourseDetails:r}=ne.useContext(Wn),{register:t,handleSubmit:e,setValue:s,formState:{errors:a}}=Pn({resolver:Bn(LT)}),[i,o]=ne.useState(!0),[u,c]=ne.useState(!1),[l,d]=ne.useState(null),[p,h]=ne.useState([]),[f,b]=ne.useState([]);ne.useEffect(()=>{(()=>{try{const w=n.map(S=>{const D=r.find(T=>T.empID===S.empID);return D?{...S,...D}:null}).filter(Boolean);h(w)}catch(w){console.error("Error fetching data:",w)}})()},[n,r]);const y=v=>{console.log(v),b(v)},g=v=>{const w=v.target.value,S=r.find(D=>String(D.courseSelect)===String(w));d(S||null),S?(s("courseName",S.courseName||""),s("company",S.company||"")):(s("courseName",""),s("company",""))},x=v=>{console.log("Submitted Data:",v)};return m.jsxs("section",{className:"p-10 center flex-col gap-16 bg-[#F8F8F8]",children:[m.jsxs("div",{className:"w-full flex items-center justify-between gap-5",children:[m.jsx(yi,{to:"/training",className:"text-xl flex-1 text-grey",children:m.jsx(Yc,{})}),m.jsxs("article",{className:"flex-1 flex gap-5 text-dark_grey",children:[m.jsx("p",{className:`text-center mt-2 text_size_2 relative ${i?"after:absolute after:w-full after:h-1 after:bg-primary after:-bottom-2 after:left-0":""}`,onClick:()=>o(!0),children:"Add Course"}),m.jsx("p",{className:`text-center mt-2 text_size_2 relative ${i?"":"after:absolute after:w-full after:h-1 after:bg-primary after:-bottom-2 after:left-0"}`,onClick:()=>o(!1),children:"Training Certificates"})]}),m.jsx("div",{className:"flex-1",children:m.jsx(Ba,{searchResult:y,newFormData:p,searchIcon2:m.jsx(Rs,{}),placeholder:"Employee Id",rounded:"rounded-lg"})})]}),i&&m.jsx("div",{className:"screen-size center",children:m.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-lg w-full",children:[m.jsx("div",{className:"center py-2",children:m.jsx("button",{type:"button",className:"primary_btn",onClick:()=>c(!0),children:"Add"})}),m.jsxs("form",{onSubmit:e(x),children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"courseSelect",className:"font-semibold",children:"Select Course:"}),m.jsxs("select",{...t("courseSelect"),onChange:g,className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full",children:[m.jsx("option",{value:"",children:"Select Course"}),r.map(v=>m.jsx("option",{value:v.courseSelect,children:v.courseSelect},v.courseSelect))]}),a.courseSelect&&m.jsx("p",{className:"text-red-500",children:a.courseSelect.message})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"text_size_5",children:"Course Name"}),m.jsx("select",{...t("courseName"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full",children:l&&Array.isArray(l.courseName)?l.courseName.map((v,w)=>m.jsx("option",{value:v,children:v},w)):m.jsx("option",{value:(l==null?void 0:l.courseName)||"",children:(l==null?void 0:l.courseName)||"No Course Name Available"})}),a.courseName&&m.jsx("p",{className:"text-red-500",children:a.courseName.message})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"text_size_5",children:"Training Company"}),m.jsx("select",{...t("company"),className:"mt-2 p-2.5 text_size_9 bg-lite_skyBlue border border-[#dedddd] text-dark_grey outline-none rounded w-full",children:l&&Array.isArray(l.company)?l.company.map((v,w)=>m.jsx("option",{value:v,children:v},w)):m.jsx("option",{value:(l==null?void 0:l.company)||"",children:(l==null?void 0:l.company)||"No Company Available"})}),a.company&&m.jsx("p",{className:"text-red-500",children:a.company.message})]}),m.jsx("button",{type:"submit",className:"primary_btn w-full",children:"Submit"})]})]})}),!i&&m.jsx(pie,{}),u&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center",children:m.jsx(bie,{closeModal:()=>c(!1)})})]})},vie=()=>{const{register:n,handleSubmit:r,setValue:t,formState:{errors:e}}=Pn({resolver:Bn(hie)}),[s,a]=ne.useState(!1),[i,o]=ne.useState({}),[u,c]=ne.useState([]),l=ne.useRef(null),d=()=>{a(b=>!b)},p=()=>{l.current.click()},h=async(b,y)=>{const g=b.target.files[0];t(y,g),g&&(await As(g,"medicalReport",c,"personName"),o(x=>({...x,medicalReport:g.name})))},f=b=>{console.log(b)};return m.jsxs("section",{className:"bg-[#F8F8F8] p-10 center flex-col w-full ",children:[m.jsxs("div",{className:"w-full flex items-center justify-between gap-5",children:[m.jsx(yi,{to:"/training",className:"text-xl flex-1 text-grey",children:m.jsx(Yc,{})}),m.jsx("article",{className:"flex-1 flex gap-5 text-dark_grey",children:m.jsx("h1",{className:"text-center mt-2 text_size_2 relative after:absolute after:w-full after:h-1 after:bg-primary after:-bottom-2 after:left-0",children:"Add Employee"})}),m.jsx("div",{className:"flex-1",children:m.jsx(Ba,{searchIcon2:m.jsx(Rs,{}),placeholder:"Employee Id",rounded:"rounded-lg"})})]}),m.jsxs("form",{onSubmit:r(f),className:" mt-16 mb-14 w-full bg-white px-20 py-10",children:[m.jsx("div",{className:"flex justify-end  items-center py-5 mt-2",children:m.jsxs("div",{className:"max-w-sm",children:[m.jsx("label",{className:"text_size_5",children:"Employee ID"})," ",m.jsx("br",{}),m.jsx("input",{type:"text",className:"input-field",...n("empID")}),e.empID&&m.jsx("p",{className:"text-[red] text-[12px]",children:e.empID.message})]})}),m.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Employee Badge Number"}),m.jsx("input",{type:"text",className:"input-field ",...n("empBadgeNo")}),e.empBadgeNo&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.empBadgeNo.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Employee Name"}),m.jsx("input",{type:"text",className:"input-field ",...n("empName")}),e.empName&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.empName.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Department"}),m.jsxs("select",{className:"input-field ",...n("department"),children:[m.jsx("option",{value:"",children:"Select Department"}),m.jsx("option",{value:"Corporate",children:"Corporate"}),m.jsx("option",{value:"Human Resources",children:"Human Resources"}),m.jsx("option",{value:"Accounts",children:"Accounts"}),m.jsx("option",{value:"LBD",children:"LBD"}),m.jsx("option",{value:"Purchasing",children:"Purchasing"}),m.jsx("option",{value:"Offshore",children:"Offshore"}),m.jsx("option",{value:"BLNG",children:"BLNG"}),m.jsx("option",{value:"CPD",children:"CPD"}),m.jsx("option",{value:"E&I",children:"E&I"})]}),e.department&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.department.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Material Requisition (MR) Number"}),m.jsx("input",{type:"number",className:"input-field ",...n("MRNo")}),e.MRNo&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.MRNo.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Training Course Code"}),m.jsxs("select",{className:"input-field ",...n("traineeCourseCode"),children:[m.jsx("option",{value:"",children:"Select Course Code"}),m.jsx("option",{value:"A3333",children:"A3333"})]}),e.traineeCourseCode&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.traineeCourseCode.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Training Course Name"}),m.jsxs("select",{className:"input-field ",...n("traineeCourseName"),children:[m.jsx("option",{value:"",children:"Select Course Name"}),m.jsx("option",{value:"Safety Training",children:"Safety Training"})]}),e.traineeCourseName&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.traineeCourseName.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Training Company"}),m.jsxs("select",{className:"input-field ",...n("traineeCompany"),children:[m.jsx("option",{value:"",children:"Select Company"}),m.jsx("option",{value:"CBT",children:"CBT"})]}),e.traineeCompany&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.traineeCompany.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Training Course Fee"}),m.jsx("input",{type:"number",className:"input-field ",...n("traineeCourseFee")}),e.traineeCourseFee&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.traineeCourseFee.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Training Start Date"}),m.jsx("input",{type:"date",className:"input-field ",...n("traineeSD")}),e.traineeSD&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.traineeSD.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Training End Date"}),m.jsx("input",{type:"date",className:"input-field ",...n("traineeED")}),e.traineeED&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.traineeED.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Purchase Order (PO) Number"}),m.jsx("input",{type:"text",className:"input-field ",...n("purchaseONo")}),e.purchaseONo&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.purchaseONo.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Training Status"}),m.jsxs("select",{className:"input-field ",...n("traineeStatus"),children:[m.jsx("option",{value:"",children:"Select Status"}),m.jsx("option",{value:"Mandatory",children:"Mandatory"}),m.jsx("option",{value:"Supplementary",children:"Supplementary"})]}),e.traineeStatus&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.traineeStatus.message})]})]}),m.jsxs("div",{className:"",children:[m.jsxs("div",{className:"col-span-2 flex items-center gap-5 my-5",children:[m.jsx("div",{className:`flex items-center border w-[12px] h-[12px] cursor-pointer ${s?"bg-[green] border-none":"bg-gray-200"}`,onClick:d}),"if Medical Required"]}),s&&m.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-10",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Medical Name"}),m.jsx("input",{type:"text",className:"input-field",...n("medicalName")}),e.medicalName&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.medicalName.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Medical Expiry"}),m.jsx("input",{type:"date",className:"input-field",...n("medicalExpiry")}),e.medicalExpiry&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.medicalExpiry.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Medical Appointment Date"}),m.jsx("input",{type:"date",className:"input-field",...n("medicalAppointDate")}),e.medicalAppointDate&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.medicalAppointDate.message})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text_size_5",children:"Upload"}),m.jsx("button",{type:"button",onClick:p,className:"mt-2 w-full flex items-center px-3 py-3 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] rounded-md cursor-pointer",children:"Upload Medical Report"}),m.jsx("input",{...n("medicalReport"),ref:l,className:"input-field hidden",type:"file",accept:"application/pdf",onChange:b=>h(b,"medicalReport")}),i.medicalReport&&m.jsx("p",{className:"text-grey text-sm",children:i.medicalReport})]})]})]}),m.jsx("div",{className:"col-span-2 flex justify-center",children:m.jsx("button",{type:"submit",className:"primary_btn",children:"Submit"})})]})]})},xie=()=>{const{register:n,handleSubmit:r,setValue:t,formState:{errors:e}}=Pn({resolver:Bn(cie)}),[s,a]=ne.useState(""),[i,o]=ne.useState(""),u=ne.useRef(null),c=()=>{u.current.click()},l=async(h,f)=>{const y=h.target.files[0];y?(a(y.name),t(f,y),await d(y)):a("")},d=async h=>{try{const b=(await Tk({path:`blastingUpload/${h.name}`,data:h}).result).path,g=`https://aweadininstorage20242a2fe-dev.s3.ap-southeast-1.amazonaws.com/${encodeURIComponent(b)}`;console.log("Certificate uploaded successfully. File URL:",g),o(g)}catch(f){console.log("Error uploading certificate:",f)}},p=h=>{console.log(h)};return m.jsx("section",{className:" bg-white p-10 rounded-lg",children:m.jsxs("form",{onSubmit:r(p),className:"space-y-6",children:[m.jsx("div",{className:"flex justify-end  items-center py-5 mt-2",children:m.jsxs("div",{className:"max-w-sm",children:[m.jsx("label",{className:"text_size_5",children:"Employee ID"})," ",m.jsx("br",{}),m.jsx("input",{type:"text",className:"input-field",...n("empID")}),e.empID&&m.jsx("p",{className:"text-[red] text-[12px]",children:e.empID.message})]})}),m.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Employee Badge Number"}),m.jsxs("select",{...n("employeeBadgeNumber"),className:"input-field",children:[m.jsx("option",{value:"",children:"Select Badge Number"}),m.jsx("option",{value:"AWE025",children:"AWE025"})]}),e.employeeBadgeNumber&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.employeeBadgeNumber.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Employee Name"}),m.jsx("input",{...n("employeeName"),className:"input-field",type:"text"}),e.employeeName&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.employeeName.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Department"}),m.jsx("select",{...n("department"),className:"input-field"}),e.department&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.department.message})]}),m.jsxs("div",{children:["  ",m.jsx("label",{className:"text_size_5",children:"Position"}),m.jsx("input",{...n("position"),className:"input-field",type:"text"}),e.position&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.position.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Blasting/Painting Badge Number"}),m.jsx("input",{...n("blastingPaintingBadgeNumber"),className:"input-field",type:"text"}),e.blastingPaintingBadgeNumber&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.blastingPaintingBadgeNumber.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Blasting/Painting Assessment Start Date"}),m.jsx("input",{...n("blastingPaintingAssessmentStartDate"),className:"input-field",type:"date"}),e.blastingPaintingAssessmentStartDate&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.blastingPaintingAssessmentStartDate.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Blasting/Painting Assessment End Date"}),m.jsx("input",{...n("blastingPaintingAssessmentEndDate"),className:"input-field",type:"date"}),e.blastingPaintingAssessmentEndDate&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.blastingPaintingAssessmentEndDate.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Blasting/Painting Qualification Expiry"}),m.jsx("input",{...n("blastingPaintingQualificationExpiry"),className:"input-field",type:"date"}),e.blastingPaintingQualificationExpiry&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.blastingPaintingQualificationExpiry.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Remarks for Blasting/Painting Qualification"}),m.jsx("input",{...n("blastingPaintingRemarks"),className:"input-field",type:"text"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text_size_5",children:"Upload "}),m.jsx("button",{type:"button",onClick:c,className:"mt-2 w-full flex items-center text-grey px-3 py-3 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] rounded-md cursor-pointer",children:"Upload Blasting/Painting Certificates"}),m.jsx("input",{...n("blastingUpload"),ref:u,className:"input-field hidden",type:"file",accept:"application/pdf",onChange:h=>l(h,"blastingUpload")}),s&&m.jsx("p",{className:"text-grey text-sm",children:s}),e.blastingUpload&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:e.blastingUpload.message})]})]}),m.jsx("div",{className:"center",children:m.jsx("button",{type:"submit",className:"primary_btn",children:"Submit"})})]})})},wie=()=>{const[n,r]=ne.useState({weldingUpload:null}),[t,e]=ne.useState({weldingUpload:null}),{register:s,handleSubmit:a,setValue:i,formState:{errors:o}}=Pn({resolver:Bn(die)});ne.useState(""),ne.useState(""),ne.useRef(null);const[u,c]=ne.useState(!0),l=async(p,h)=>{const f=p.target.files[0];i(h,f),f&&(await As(f,"weldingUpload",e,"personName"),r(b=>({...b,weldingUpload:f.name})))},d=async p=>{console.log("Form data:",p);try{const h={...p,weldingUpload:t.weldingUpload};await SubmitMPData({TCValue:h}),setNotification(!0)}catch(h){console.error("Error submitting data:",h),h!=null&&h.errors&&h.errors.forEach((f,b)=>{console.error(`GraphQL Error ${b+1}:`,f.message),f.extensions&&console.error("Error Extensions:",f.extensions)})}};return m.jsxs("section",{className:" p-10 center flex-col gap-16 bg-[#F8F8F8]",children:[m.jsxs("div",{className:"w-full flex items-center justify-between gap-5",children:[m.jsx(yi,{to:"/training",className:"text-xl w-[30%] text-grey",children:m.jsx(Yc,{})}),m.jsxs("article",{className:"flex-1 flex gap-5 text-dark_grey",children:[m.jsx("h1",{className:` text-center mt-2 text_size_2 relative  ${u?"after:absolute after:w-full after:h-1 after:bg-primary after:-bottom-2 after:left-0":""}`,onClick:()=>c(!0),children:"Welding Qualification"}),m.jsx("h2",{className:` text-center mt-2 text_size_2 relative  ${u?"":"after:absolute after:w-full after:h-1 after:bg-primary after:-bottom-2 after:left-0"}`,onClick:()=>c(!1),children:"Blasting Painting"})]}),m.jsx("div",{className:"w-[30%]",children:m.jsx(Ba,{searchIcon2:m.jsx(Rs,{}),placeholder:"Employee Id",rounded:"rounded-lg"})})]}),u&&m.jsxs("form",{onSubmit:a(d),className:"bg-white  rounded-lg shadow-lg w-full  p-8 ",children:[m.jsx("div",{className:"flex justify-end  items-center py-5 mt-2",children:m.jsxs("div",{className:"max-w-sm",children:[m.jsx("label",{className:"text_size_5",children:"Employee ID"})," ",m.jsx("br",{}),m.jsx("input",{type:"text",className:"input-field",...s("empID")}),o.empID&&m.jsx("p",{className:"text-[red] text-[12px]",children:o.empID.message})]})}),m.jsxs("div",{className:"grid grid-cols-2 gap-6 ",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Employee Badge Number"}),m.jsx("input",{...s("empBadgeNo"),className:"input-field"}),o.empBadgeNo&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.empBadgeNo.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Employee Name"}),m.jsx("input",{...s("empName"),className:"input-field",type:"text"}),o.empName&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.empName.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Department"}),m.jsx("input",{...s("department"),className:"input-field"}),o.department&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.department.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Position"}),m.jsx("input",{...s("position"),className:"input-field",type:"text"}),o.position&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.position.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Welding Stamp Number"}),m.jsx("input",{...s("weldingStampNo"),className:"input-field",type:"text"}),o.weldingStampNo&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.weldingStampNo.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"WQR Number"}),m.jsx("input",{...s("WQRNo"),className:"input-field",type:"text"}),o.WQRNo&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.WQRNo.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"WPS Number"}),m.jsx("input",{...s("wpsNumber"),className:"input-field",type:"text"}),o.wpsNumber&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.wpsNumber.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Welding Code"}),m.jsx("input",{...s("weldingCode"),className:"input-field",type:"text"}),o.weldingCode&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.weldingCode.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Welding Process"}),m.jsx("input",{...s("weldingProcess"),className:"input-field",type:"text"}),o.weldingProcess&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.weldingProcess.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Welding Material"}),m.jsx("input",{...s("weldingMaterial"),className:"input-field",type:"text"}),o.weldingMaterial&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.weldingMaterial.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Welding Position"}),m.jsx("input",{...s("weldingPosition"),className:"input-field",type:"text"}),o.weldingPosition&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.weldingPosition.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Filler Metal"}),m.jsx("input",{...s("fillerMetal"),className:"input-field",type:"text"}),o.fillerMetal&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.fillerMetal.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Thickness Range"}),m.jsx("input",{...s("thicknessRange"),className:"input-field",type:"text"}),o.thicknessRange&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.thicknessRange.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Diameter Range"}),m.jsx("input",{...s("diameterRange"),className:"input-field",type:"text"}),o.diameterRange&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.diameterRange.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Welding Qualification Expiry"}),m.jsx("input",{...s("WQExpiry"),className:"input-field",type:"date"}),o.WQExpiry&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.WQExpiry.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Remarks for Welding Qualification"}),m.jsx("input",{...s("WQRemarks"),className:"input-field",type:"text"})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"flex items-center px-3 py-2 text_size_7 p-2.5 bg-lite_skyBlue border border-[#dedddd] rounded-md cursor-pointer",children:["Upload Welding Qualification Certificates",m.jsx("input",{type:"file",...s("weldingUpload"),onChange:p=>l(p,"weldingUpload"),className:"hidden",accept:"application/pdf, image/png, image/jpeg"}),m.jsx("span",{className:"ml-2",children:m.jsx(xs,{})})]}),n.weldingUpload&&m.jsxs("p",{className:"text-xs mt-1 text-grey",children:["Uploaded: ",n.weldingUpload]})]})]}),m.jsx("div",{className:"center",children:m.jsx("button",{type:"submit",className:"primary_btn my-10",children:"Submit"})})]})," ",!u&&m.jsx(xie,{})]})},_ie=({dropDownData:n,permissionData:r})=>{const[t,e]=ne.useState([]),[s,a]=ne.useState({Dashboard:[],Recruitment:[],User:[],Employee:[],Training:[],TimeSheet:[],LeaveManagement:[],Notification:[],Report:[],BenefitsAndRewards:[]}),i=c=>{t.includes(c)?e(t.filter(l=>l!==c)):e([...t,c])};ne.useEffect(()=>{r&&a(r)},[r]);const o=(c,l,d=[])=>{if(d.length>0){const p=d.every(h=>s[l]&&s[l].includes(h));a(p?h=>({...h,[l]:h[l].filter(f=>!d.includes(f))}):h=>({...h,[l]:[...h[l]||[],...d.filter(f=>!(h[l]||[]).includes(f))]}))}else a(p=>({...p,[l]:p[l]?p[l].includes(c)?p[l].filter(h=>h!==c):[...p[l]||[],c]:[c]}))};ne.useEffect(()=>{const c=Object.fromEntries(Object.entries(s).filter(([l,d])=>d.length>0));n(c)},[s]);const u=[{Dashboard:["Employee count","Recent Notifications","Attendance","User Action","Birthday Reminder","New Joinee"]},{User:["User"]},{Recruitment:["Employee Requisition","Candidate","Apply Employee Requisition","Local CV","Non Local CV","Status","WorkPass Tracking"]},{Employee:["All Employee","Employee Info","Work Info","Work Pass","Medical & Dependent Info","Insurance","Non-Local Accommodation in Brunei"]},{Training:["HR","Training Requestor","QA / QC"]},{TimeSheet:["HO","SBW","ORMC","Offshore","BLNG","View Time Sheet","View Summary"]},{LeaveManagement:["Request Leave","History of leave","Employee Leave Balance","Request Tickets"]},{Notification:["Notification"]},{Report:["Report"]},{BenefitsAndRewards:["Leave Benefits","Paternity Benefits","Employee Benefits"]}];return m.jsx("section",{className:"w-full",children:u.map((c,l)=>{const d=Object.keys(c)[0],p=c[d],h=p.every(f=>s[d]?s[d].includes(f):!1);return m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center cursor-pointer py-1 px-2 justify-between",children:[m.jsxs("div",{onClick:()=>i(d),className:"flex items-center",children:[t.includes(d)?m.jsx(cO,{className:"text-2xl"}):m.jsx(uO,{className:"text-2xl"}),m.jsx("p",{className:"font-semibold text-lg flex justify-between items-center px-2 w-full",children:d})]}),t.includes(d)&&m.jsx("span",{className:"text-dark_grey cursor-pointer",onClick:()=>o(null,d,p),children:h?m.jsx(x3,{}):m.jsx(UE,{className:"text-lg"})})]}),t.includes(d)&&m.jsx("ul",{className:"pl-6 space-y-1",children:p.map((f,b)=>m.jsxs("li",{onClick:()=>o(f,d),className:"flex justify-between items-center cursor-pointer p-2",children:[m.jsx("span",{children:f}),m.jsx("span",{className:"text-dark_grey",children:s[d]&&s[d].includes(f)?m.jsx(x3,{}):m.jsx(UE,{className:"text-lg"})})]},b))})]},l)})})},HN=kr(),qN=()=>{var U,I,F,A,_,E,N,k,B,j,M,G,Y,J,V,Q,q,z,Z,re,le,ue,ce,ie,ye,he,pe,xe,Oe,Ae,Le,He,Ye,it,bt;const[n,r]=ne.useState(""),[t,e]=ne.useState(!1),[s,a]=ne.useState([]),[i,o]=ne.useState(null),u=Ju(),c=(U=u.state)==null?void 0:U.editUserData,l=(I=u.state)==null?void 0:I.addUserData,[d,p]=ne.useState(null),[h,f]=ne.useState(!1),b=(c==null?void 0:c.userValue)||(l==null?void 0:l.userValue),y=(c==null?void 0:c.workValue)||(l==null?void 0:l.workValue);ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{register:g,handleSubmit:x,setValue:v,watch:w,formState:{errors:S},reset:D}=Pn({resolver:Bn(KM),defaultValues:{password:n}}),T=tt=>{const $e=new Uint8Array(tt);window.crypto.getRandomValues($e);const at='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+{}:"<>?|[];,./-=';let ze="";for(let wt=0;wt<tt;wt++)ze+=at[$e[wt]%at.length];return ze};ne.useEffect(()=>{var at,ze;(async()=>{const wt=T(12);r(wt)})();const $e=O((ze=(at=c==null?void 0:c.storedValue)==null?void 0:at.data)==null?void 0:ze.setPermissions[0]);o($e)},[]);const R=tt=>Array.isArray(tt)?tt[tt.length-1]:tt;ne.useEffect(()=>{var $e,at,ze,wt,vt,kt,pt,At;const tt=l==null?void 0:l.employeeValue.map($t=>{const Tt=y.find(fr=>fr.empID===$t.empID);return{...$t,...Tt}}).filter($t=>$t!==null);p(tt),v("password",n),v("selectType",(at=($e=c==null?void 0:c.storedValue)==null?void 0:$e.data)==null?void 0:at.selectType),v("contactNo",R((wt=(ze=c==null?void 0:c.storedValue)==null?void 0:ze.data)==null?void 0:wt.contactNo)),v("department",R((kt=(vt=c==null?void 0:c.storedValue)==null?void 0:vt.data)==null?void 0:kt.department)),v("position",R((At=(pt=c==null?void 0:c.storedValue)==null?void 0:pt.data)==null?void 0:At.position))},[n,v,c,l,y]);const P=tt=>{v("name",tt.name),v("officialEmail",tt.officialEmail),v("empID",tt.empID),v("userID",tt.empID),v("contactNo",R(tt.contactNo)),v("department",R(tt.department)),v("position",R(tt.position))},L=tt=>{a([tt])};function O(tt){if(!tt)return null;let $e=tt==null?void 0:tt.replace(/=/g,":");$e=$e==null?void 0:$e.replace(/([a-zA-Z]+):/g,'"$1":'),$e=$e==null?void 0:$e.replace(/\[([^\]]+)\]/g,function(at,ze){return`[${ze.split(",").map(vt=>`"${vt.trim()}"`).join(", ")}]`}),$e=`{${$e==null?void 0:$e.slice(1,-1)}}`;try{return JSON.parse($e)}catch(at){return console.error("Error parsing JSON:",at),null}}const H=x(async tt=>{try{const $e=b.some(ze=>ze.empID.includes(tt.empID)),at=await b.filter(ze=>ze.empID===tt.empID).map(ze=>ze);if($e){const ze={id:at[0].id,password:tt.password,selectType:tt.selectType,setPermissions:s,status:"Active"};await HN.graphql({query:P8,variables:{input:ze}}).then(wt=>{f(!0)}).catch(wt=>{console.log(wt)})}else{const ze={empID:tt.empID,password:tt.password,selectType:tt.selectType,setPermissions:s,status:"Active"};await HN.graphql({query:YW,variables:{input:ze}}).then(pt=>{f(!0)}).catch(pt=>{console.log(pt)});const wt=tt.empID,vt=tt.password,kt=tt.officialEmail;await pO({username:wt,password:vt,options:{userAttributes:{email:kt},autoSignIn:!0}}).then(pt=>{}).catch(pt=>{console.log("sign up data error",pt)})}D(),a([]),o({})}catch($e){console.log($e)}});return m.jsxs("div",{className:"flex items-center justify-center bg-[#F8F8F8] flex-col p-10",children:[m.jsxs("div",{className:"w-full flex items-center justify-between gap-5",children:[m.jsx(yi,{to:"/user",className:"text-xl flex-1 text-grey",children:m.jsx(Yc,{})}),m.jsx("h2",{className:"flex-1 text-center mt-2 text_size_2 uppercase",children:((F=c==null?void 0:c.storedValue)==null?void 0:F.title)||"Add New User"}),m.jsx("div",{className:"flex-1",children:((A=c==null?void 0:c.storedValue)==null?void 0:A.title)!=="Edit User"&&m.jsx(Ba,{searchResult:P,newFormData:d,searchIcon2:m.jsx(Rs,{}),placeholder:"Employee Id",rounded:"rounded-lg"})})]}),m.jsxs("form",{className:"bg-white py-10 my-16 px-14 w-full",onSubmit:H,children:[m.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[m.jsxs("div",{children:[m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Name"}),m.jsx("input",{type:"text",className:"input-field",value:((E=(_=c==null?void 0:c.storedValue)==null?void 0:_.data)==null?void 0:E.name)||w("name")||"",...g("name")})]}),m.jsx("p",{className:"text-[red] text-[12px] mt-1",children:(N=S.name)==null?void 0:N.message})]}),m.jsxs("div",{children:[m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Employee Id"}),m.jsx("input",{type:"text",className:"input-field",value:((B=(k=c==null?void 0:c.storedValue)==null?void 0:k.data)==null?void 0:B.empID)||w("empID")||"",...g("empID")})]}),m.jsx("p",{className:"text-[red] text-[12px] mt-1",children:(j=S.empID)==null?void 0:j.message})]}),m.jsxs("div",{children:[m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Phone Number"}),m.jsx("input",{type:"text",className:"input-field",value:w("contactNo")||((G=(M=c==null?void 0:c.storedValue)==null?void 0:M.data)==null?void 0:G.contactNoValue)||"",...g("contactNo")})]}),m.jsx("p",{className:"text-[red] text-[12px] mt-1",children:(Y=S.contactNo)==null?void 0:Y.message})]}),m.jsxs("div",{children:[m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Official Email Id"}),m.jsx("input",{type:"officialEmail",className:"input-field",value:((V=(J=c==null?void 0:c.storedValue)==null?void 0:J.data)==null?void 0:V.officialEmail)||w("officialEmail")||"",...g("officialEmail")})]}),m.jsx("p",{className:"text-[red] text-[12px] mt-1",children:(Q=S.officialEmail)==null?void 0:Q.message})]}),m.jsxs("div",{children:[m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"User ID"}),m.jsx("input",{type:"text",className:"input-field",value:((z=(q=c==null?void 0:c.storedValue)==null?void 0:q.data)==null?void 0:z.empID)||w("userID")||"",...g("userID")})]}),m.jsx("p",{className:"text-[red] text-[12px] mt-1",children:(Z=S.userID)==null?void 0:Z.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Temporary Password"}),m.jsxs("div",{className:"input-field flex items-center gap-2",children:[m.jsx("input",{type:t?"text":"password",className:"outline-none w-full bg-[transparent]",value:((le=(re=c==null?void 0:c.storedValue)==null?void 0:re.data)==null?void 0:le.password)||n,...g("password"),readOnly:!0}),t?m.jsx("div",{className:"text-2xl text-dark_grey",onClick:()=>{e(!t)},children:m.jsx(HM,{})}):m.jsx("div",{className:"text-2xl text-dark_grey",onClick:()=>{e(!t)},children:m.jsx(ix,{})})]}),m.jsx("p",{className:"text-[red] text-[12px] mt-1",children:(ue=S.password)==null?void 0:ue.message})]}),m.jsxs("div",{children:[m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Position"}),m.jsx("input",{type:"text",className:"input-field",value:w("position")||((ie=(ce=c==null?void 0:c.storedValue)==null?void 0:ce.data)==null?void 0:ie.positionValue)||((he=(ye=c==null?void 0:c.employeeValue)==null?void 0:ye.data)==null?void 0:he.position)||"",...g("position")})]}),m.jsx("p",{className:"text-[red] text-[12px] mt-1",children:(pe=S.position)==null?void 0:pe.message})]}),m.jsxs("div",{children:[m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Department"}),m.jsx("input",{type:"text",className:"input-field",value:w("department")||((Oe=(xe=c==null?void 0:c.storedValue)==null?void 0:xe.data)==null?void 0:Oe.departmentValue)||"",...g("department")})]}),m.jsx("p",{className:"text-[red] text-[12px] mt-1",children:(Ae=S.department)==null?void 0:Ae.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Select Type"}),m.jsxs("select",{className:"input-field",...g("selectType"),children:[m.jsx("option",{value:((He=(Le=c==null?void 0:c.storedValue)==null?void 0:Le.data)==null?void 0:He.selectType)||w("selectType")||"",children:((it=(Ye=c==null?void 0:c.storedValue)==null?void 0:Ye.data)==null?void 0:it.selectType)||"Select access"}),m.jsx("option",{value:"SuperAdmin",children:"SuperAdmin"}),m.jsx("option",{value:"Admin",children:"Admin"}),m.jsx("option",{value:"Manager",children:"Manager"}),m.jsx("option",{value:"HR",children:"HR"}),m.jsx("option",{value:"Supervisor",children:"Supervisor"}),m.jsx("option",{value:"Training Requestor",children:"Training Requestor"}),m.jsx("option",{value:"TimeKeeper",children:"TimeKeeper"}),m.jsx("option",{value:"QA \\ QC",children:"QA \\ QC"}),m.jsx("option",{value:"User",children:"User"}),m.jsx("option",{value:"Employee",children:"Employee"})]}),m.jsx("p",{className:"text-[red] text-[12px] mt-1",children:(bt=S.selectType)==null?void 0:bt.message})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text_size_5",children:"Set Permission"}),m.jsx("div",{className:"p-2 my-2 border border-[#dedbdb] rounded-md",children:m.jsx(_ie,{dropDownData:L,permissionData:i})})]})]}),m.jsx("div",{className:"mt-10 w-full center",children:m.jsx("button",{type:"submit",className:"p-3 text-white rounded-md primary_btn",children:"Submit"})})]}),h&&m.jsx(na,{text:"Created a User Successfully",notification:h,path:"/user"})]})},Sie=()=>{const n=kr();return{SubmitMPData:ne.useCallback(async({SawpValue:t})=>{if(!t)throw new Error("Missing required parameters");const e={empID:t.empID,sawpEmpLtrReq:[t.sawpEmpLtrReq],sawpEmpLtrReci:[t.sawpEmpLtrReci],sawpEmpUpload:[t.sawpEmpUpload]};try{const s=await Promise.all([n.graphql({query:_W,variables:{input:e}})])}catch(s){throw console.error("Error executing GraphQL requests:",s),s}},[])}},Eie=()=>{const n=kr();return{SawpUpdateFun:ne.useCallback(async({SawpUpValue:t})=>{if(!t)throw new Error("Missing required parameters");const e={id:t.id,empID:t.empID,sawpEmpLtrReq:t.sawpEmpLtrReq,sawpEmpLtrReci:t.sawpEmpLtrReci,sawpEmpUpload:t.sawpEmpUpload};try{const s=await Promise.all([n.graphql({query:SW,variables:{input:e}})])}catch(s){console.log(s)}},[])}},Nie=()=>{const{searchResultData:n}=Ah(),{SubmitMPData:r}=Sie(),{SawpDetails:t}=ne.useContext(Wn),{SawpUpdateFun:e}=Eie(),[s,a]=ne.useState(!1),[i,o]=ne.useState(""),[u,c]=ne.useState([]),[l,d]=ne.useState([]),[p,h]=ne.useState({sawpEmpUpload:null}),[f,b]=ne.useState({sawpEmpUpload:[]}),{register:y,handleSubmit:g,watch:x,setValue:v,control:w,formState:{errors:S}}=Pn({resolver:Bn(KK),defaultValues:{sawpEmpLtrReq:[],sawpEmpLtrReci:[]}}),D=x("sawpEmpLtrReq"),T=x("sawpEmpLtrReci"),R=x("empID"),P=x("sawpEmpUpload",""),L=F=>typeof F=="string"&&F?F.split("/").pop():"",O=F=>{if(typeof F=="object"&&F.upload){const A=F.upload,_=decodeURIComponent(A);return _.substring(_.lastIndexOf("/")+1)}try{const _=new URL(F).pathname,E=decodeURIComponent(_);return E.substring(E.lastIndexOf("/")+1)}catch{if(typeof F=="string"){const _=decodeURIComponent(F);return _.substring(_.lastIndexOf("/")+1)}return}},H=F=>Array.isArray(F)?F[F.length-1]:F;ne.useEffect(()=>{if(v("empID",n.empID),v("sawpEmpLtrReq",n.sawpEmpLtrReq||[]),c(n.sawpEmpLtrReq||[]),v("sawpEmpLtrReci",n.sawpEmpLtrReci||[]),d(n.sawpEmpLtrReci||[]),["sawpEmpLtrReci","sawpEmpLtrReq"].forEach(A=>{const _=H(n[A]);v(A,_)}),n&&n.sawpEmpUpload)try{const _=JSON.parse(n.sawpEmpUpload).map(E=>typeof E=="string"?JSON.parse(E):E);v("sawpEmpUpload",_),setEmpID(n.empID),b(E=>({...E,sawpEmpUpload:_})),h(E=>({...E,sawpEmpUpload:_.length>0?O(_[_.length-1].upload):""}))}catch(A){console.error(`Failed to parse ${n.sawpEmpUpload}:`,A)}},[n,v]);const U=async(F,A,_)=>{const E=F.target.files[0];if(!E)return;const N=["application/pdf","image/jpeg","image/png","image/jpg"];if(!_){alert("Employee ID is required to upload files."),window.location.reload();return}if(!N.includes(E.type)){alert("Upload must be a PDF file or an image (JPG, JPEG, PNG)");return}const k=x(A)||[];v(A,[...k,E]);try{await As(E,A,b,_),h(B=>({...B,[A]:E.name}))}catch(B){console.log(B)}},I=async F=>{try{const A=t?t.find(k=>k.empID===F.empID):{},_=k=>k?new Date(k).toLocaleDateString("en-CA"):null,E=_(F.sawpEmpLtrReq),N=_(F.sawpEmpLtrReci);if(A){const k=[...new Set([...A.sawpEmpLtrReq||[],E])],B=[...new Set([...A.sawpEmpLtrReci||[],N])],j={...F,sawpEmpLtrReq:k.map(_),sawpEmpLtrReci:B.map(_),sawpEmpUpload:JSON.stringify(f.sawpEmpUpload),id:A.id};await e({SawpUpValue:j}),o("Work Pass SAWP Info Updated Successfully"),a(!0)}else{const k={...F,sawpEmpLtrReq:E,sawpEmpLtrReci:N,sawpEmpUpload:JSON.stringify(f.sawpEmpUpload)};await r({SawpValue:k}),o("Work Pass SAWP Info Saved Successfully"),a(!0)}}catch(A){console.error("Error submitting data:",A)}};return m.jsxs("form",{onSubmit:g(I),className:"mx-auto min-h-screen p-2 my-10 bg-[#F5F6F1CC]",children:[m.jsx("div",{className:"flex justify-end items-center",children:m.jsx("div",{className:"max-w-sm",children:m.jsx(Ct,{label:"Employee ID",register:y,name:"empID",type:"text",placeholder:"Enter Employee ID",errors:S,watch:R})})}),m.jsxs("div",{className:"grid grid-cols-2 my-10 gap-5",children:[m.jsx(Ct,{label:"Client Support Letter Requested Date",register:y,name:"sawpEmpLtrReq",type:"date",errors:S,control:w,watch:D}),m.jsx(Ct,{label:"Client Support Letter Received Date",register:y,name:"sawpEmpLtrReci",type:"date",errors:S,control:w,watch:T})]}),m.jsx(Gl,{label:"Upload File",onChangeFunc:F=>U(F,"sawpEmpUpload",R),register:y,name:"sawpEmpUpload",error:S,fileName:p.sawpEmpUpload||L(P)}),m.jsx("div",{className:"center",children:m.jsx("button",{type:"submit",className:"mt-10 py-2 px-4 primary_btn",children:"Submit"})}),s&&m.jsx(na,{text:i,notification:s,path:"/employee"})]})},Aie=()=>{const n=kr();return{UpdateMPData:ne.useCallback(async({DoeUpValue:t})=>{if(!t)throw new Error("Missing required parameters or empID");try{const e={id:t.id,empID:t.empID,doeEmpSubmit:t.doeEmpSubmit,doeEmpApproval:t.doeEmpApproval,doeEmpValid:t.doeEmpValid,doeEmpRefNo:t.doeEmpRefNo,doeEmpUpload:t.doeEmpUpload},s=await n.graphql({query:Nk,variables:{input:e}})}catch(e){throw console.error("Error updating data:",e),e}},[])}},kie=()=>{const n=kr();return{CrerDoeFunData:ne.useCallback(async({DoeValue:t})=>{if(!t)throw new Error("Missing required parameters or empID");try{const e={empID:t.empID,doeEmpSubmit:t.doeEmpSubmit,doeEmpApproval:t.doeEmpApproval,doeEmpValid:t.doeEmpValid,doeEmpRefNo:t.doeEmpRefNo,doeEmpUpload:t.doeEmpUpload},s=await n.graphql({query:EW,variables:{input:e}})}catch(e){throw console.error("Error updating data:",e),e}},[])}},Cie=()=>{ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{searchResultData:n}=Ah(),{DNData:r}=ne.useContext(Wn),{CrerDoeFunData:t}=kie(),{UpdateMPData:e}=Aie(),{register:s,handleSubmit:a,formState:{errors:i},setValue:o,watch:u}=Pn({resolver:Bn(XK),doeEmpSubmit:[],doeEmpApproval:[],doeEmpValid:[]});ne.useState([]),ne.useState([]),ne.useState([]);const[c,l]=ne.useState(!1),[d,p]=ne.useState(""),[h,f]=ne.useState({doeEmpUpload:null}),[b,y]=ne.useState({doeEmpUpload:[]}),g=u("doeEmpUpload",""),x=u("empID"),v=R=>typeof R=="string"&&R?R.split("/").pop():"",w=R=>{if(typeof R=="object"&&R.upload){const P=R.upload,L=decodeURIComponent(P);return L.substring(L.lastIndexOf("/")+1)}try{const L=new URL(R).pathname,O=decodeURIComponent(L);return O.substring(O.lastIndexOf("/")+1)}catch{if(typeof R=="string"){const L=decodeURIComponent(R);return L.substring(L.lastIndexOf("/")+1)}return}},S=R=>Array.isArray(R)?R[R.length-1]:R;ne.useEffect(()=>{if(o("empID",n.empID),["doeEmpSubmit","doeEmpApproval","doeEmpValid","doeEmpRefNo"].forEach(P=>o(P,S(n[P]))),n&&n.doeEmpUpload)try{const L=JSON.parse(n.doeEmpUpload).map(O=>typeof O=="string"?JSON.parse(O):O);o("doeEmpUpload",L),y(O=>({...O,doeEmpUpload:L})),f(O=>({...O,doeEmpUpload:L.length>0?w(L[L.length-1].upload):""}))}catch(P){console.error(`Failed to parse ${n.doeEmpUpload}:`,P)}},[n,o]);const D=async(R,P,L)=>{const O=R.target.files[0];if(!O)return;const H=["application/pdf","image/jpeg","image/png","image/jpg"];if(!L){alert("Employee ID is required to upload files."),window.location.reload();return}if(!H.includes(O.type)){alert("Upload must be a PDF file or an image (JPG, JPEG, PNG)");return}const U=u(P)||[];o(P,[...U,O]);try{await As(O,P,y,L),f(I=>({...I,[P]:O.name}))}catch(I){console.log(I)}},T=async R=>{try{const P=r.find(I=>I.empID===R.empID),L=I=>I?new Date(I).toLocaleDateString("en-CA"):null,O=L(R.doeEmpSubmit),H=L(R.doeEmpApproval),U=L(R.doeEmpValid);if(P){const I=[...new Set([...P.doeEmpSubmit||[],O])],F=[...new Set([...P.doeEmpApproval||[],H])],A=[...new Set([...P.doeEmpValid||[],U])],_={...R,doeEmpSubmit:I.map(L),doeEmpApproval:F.map(L),doeEmpValid:A.map(L),doeEmpUpload:JSON.stringify(b.doeEmpUpload),id:P.id};await e({DoeUpValue:_}),p("Work Pass DOE Info Updated Successfully"),l(!0)}else{const I={...R,doeEmpSubmit:O,doeEmpApproval:H,doeEmpValid:U,doeEmpUpload:JSON.stringify(b.doeEmpUpload)};await t({DoeValue:I}),p("Work Pass DOE Info Saved Successfully"),l(!0)}}catch(P){console.error("Error submitting data:",P)}};return m.jsxs("form",{onSubmit:a(T),className:"mx-auto min-h-screen p-2 my-10 bg-[#F5F6F1CC]",children:[m.jsx("div",{className:"flex justify-end items-center",children:m.jsx("div",{className:"max-w-sm",children:m.jsx(Ct,{label:"Employee ID",register:s,name:"empID",type:"text",placeholder:"Enter Employee ID",errors:i})})}),m.jsxs("div",{className:"grid grid-cols-2 mt-10 gap-5 ",children:[m.jsx(Ct,{label:"Date Of Submission",register:s,name:"doeEmpSubmit",type:"date",errors:i}),m.jsx(Ct,{label:"Date Of Approval",register:s,name:"doeEmpApproval",type:"date",errors:i}),m.jsx(Ct,{label:"Valid Until",register:s,name:"doeEmpValid",type:"date",errors:i}),m.jsx(Ct,{label:"DOE Reference Number",register:s,name:"doeEmpRefNo",type:"text",errors:i}),m.jsx(Gl,{label:"Upload File",onChangeFunc:R=>D(R,"doeEmpUpload",x),name:"doeEmpUpload",register:s,error:i,fileName:h.doeEmpUpload||v(g)})]}),m.jsx("div",{className:"flex justify-center items-center my-10",children:m.jsx("button",{type:"submit",className:"primary_btn",children:"Save"})}),c&&m.jsx(na,{text:d,notification:c,path:"/employee"})]})},Die=()=>{const n=kr();return{uploadNlmsFun:ne.useCallback(async({DoeValue:t})=>{if(!t)throw new Error("Missing required parameters or empID");try{const{nlmsEmpSubmit:e,nlmsEmpSubmitRefNo:s,nlmsEmpApproval:a,nlmsRefNo:i,permitType:o,nlmsEmpValid:u,nlmsEmpUpload:c,id:l}=t,d={id:l,nlmsEmpSubmit:e,nlmsEmpSubmitRefNo:s,nlmsEmpApproval:a,nlmsRefNo:i,permitType:o,nlmsEmpValid:u,nlmsEmpUpload:c},p=await n.graphql({query:Nk,variables:{input:d}})}catch(e){throw console.error("Error updating data:",e),e}},[])}},Tie=()=>{const{searchResultData:n}=Ah(),{DNData:r}=ne.useContext(Wn),{uploadNlmsFun:t}=Die(),[e,s]=ne.useState(!1),[a,i]=ne.useState("");ne.useState([]),ne.useState([]),ne.useState([]);const[o,u]=ne.useState({nlmsEmpUpload:null}),[c,l]=ne.useState({nlmsEmpUpload:[]}),{register:d,handleSubmit:p,watch:h,setValue:f,formState:{errors:b}}=Pn({resolver:Bn(JK),nlmsEmpSubmit:[],nlmsEmpApproval:[],nlmsEmpValid:[]}),y=h("nlmsEmpUpload",""),g=h("empID");ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const x=T=>typeof T=="object"&&T.upload?T.upload.split("/").pop():typeof T=="string"&&T?T.split("/").pop():"",v=(T,R)=>Array.isArray(T)?T[T.length-1]:T;ne.useEffect(()=>{if(f("empID",n.empID),["nlmsEmpApproval","nlmsEmpSubmit","nlmsEmpSubmitRefNo","nlmsEmpUpload","nlmsEmpValid","nlmsRefNo","permitType"].forEach(R=>f(R,v(n[R]))),n!=null&&n.nlmsEmpUpload)try{const R=JSON.parse(n.nlmsEmpUpload).map(P=>typeof P=="string"?JSON.parse(P):P);f("nlmsEmpUpload",R),l({nlmsEmpUpload:R}),u({nlmsEmpUpload:R.length>0?R[R.length-1].upload.split("/").pop():""})}catch(R){console.error("Error parsing nlmsEmpUpload:",R)}},[n,f]);const w=async(T,R,P)=>{const L=T.target.files[0];if(!L)return;const O=["application/pdf","image/jpeg","image/png","image/jpg"];if(!P){alert("Employee ID is required to upload files."),window.location.reload();return}if(!O.includes(L.type)){alert("Upload must be a PDF or image (JPG, JPEG, PNG)");return}try{await As(L,R,l,P),u({[R]:L.name})}catch(H){console.error("Error uploading file:",H)}},S=T=>T?new Date(T).toLocaleDateString("en-CA"):null,D=async T=>{try{const R=S(T.nlmsEmpSubmit),P=S(T.nlmsEmpApproval),L=S(T.nlmsEmpValid),O=r.find(A=>A.empID===T.empID),H=[...new Set([...O.nlmsEmpSubmit||[],R])],U=[...new Set([...O.nlmsEmpApproval||[],P])],I=[...new Set([...O.nlmsEmpValid||[],L])],F={...T,nlmsEmpSubmit:H.map(S),nlmsEmpApproval:U.map(S),nlmsEmpValid:I.map(S),nlmsEmpUpload:JSON.stringify(c.nlmsEmpUpload),id:(O==null?void 0:O.id)||null};await t({DoeValue:F}),i("Work Pass NLMS Data Stored Successfully"),s(!0)}catch(R){console.error("Error submitting data:",R)}};return m.jsxs("form",{onSubmit:p(D),className:"mx-auto min-h-screen p-2 my-10 bg-[#F5F6F1CC]",children:[m.jsx("div",{className:"flex justify-end items-center",children:m.jsx("div",{className:"max-w-sm",children:m.jsx(Ct,{label:"Employee ID",register:d,name:"empID",type:"text",placeholder:"Enter Employee ID",errors:b})})}),m.jsxs("div",{className:"grid grid-cols-2 mt-10 gap-5",children:[m.jsx(Ct,{label:"Type of Work Permit Application",register:d,name:"permitType",type:"select",options:[{value:"",label:""},{value:"Foreign Worker License (LPA)",label:"Foreign Worker License (LPA)"},{value:"Foreign Worker License (SAWP)",label:"Foreign Worker License (SAWP)"}],errors:b}),m.jsx(Ct,{label:"Date Of Submission",register:d,name:"nlmsEmpSubmit",type:"date",errors:b}),m.jsx(Ct,{label:"Submission Reference Number",register:d,name:"nlmsEmpSubmitRefNo",type:"text",errors:b}),m.jsx(Ct,{label:"Date Of Approval",register:d,name:"nlmsEmpApproval",type:"date",errors:b}),m.jsx(Ct,{label:"LD Reference Number",register:d,name:"nlmsRefNo",type:"text",errors:b}),m.jsx(Ct,{label:"Valid Until",register:d,name:"nlmsEmpValid",type:"date",errors:b}),m.jsx(Gl,{label:"Upload File",onChangeFunc:T=>w(T,"nlmsEmpUpload",g),name:"nlmsEmpUpload",register:d,error:b,fileName:o.nlmsEmpUpload||x(y)})]}),m.jsx("div",{className:"flex justify-center items-center my-10",children:m.jsx("button",{type:"submit",className:"primary_btn",children:"Save"})}),e&&m.jsx(na,{text:a,notification:e,path:"/employee"})]})},jie=()=>{const n=kr();return{BGData:ne.useCallback(async({BJLValue:t})=>{if(!t)throw new Error("Missing required parameters");const e={empID:t.empID,bankSubmit:[t.bankSubmit],bankRece:[t.bankRece],bankRefNo:[t.bankRefNo],bankAmt:[t.bankAmt],bankValid:[t.bankValid],bankEndorse:[t.bankEndorse],bankEmpUpload:[t.bankEmpUpload]};try{const s=await Promise.all([n.graphql({query:NW,variables:{input:e}})])}catch(s){throw console.error("Error executing GraphQL requests:",s),s}},[])}},Iie=()=>{const n=kr();return{UpdateBJLFun:ne.useCallback(async({BJLUpValue:t})=>{if(!t)throw new Error("Missing required parameters");const e={id:t.id,empID:t.empID,bankSubmit:t.bankSubmit,bankRece:t.bankRece,bankRefNo:[t.bankRefNo],bankAmt:[t.bankAmt],bankValid:t.bankValid,bankEndorse:t.bankEndorse,bankEmpUpload:[t.bankEmpUpload]};try{const s=await Promise.all([n.graphql({query:I8,variables:{input:e}})])}catch(s){console.log(s)}},[])}},Pie=()=>{const{searchResultData:n}=Ah(),{BGData:r}=jie(),{BJLData:t}=ne.useContext(Wn),{UpdateBJLFun:e}=Iie();ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{register:s,handleSubmit:a,watch:i,formState:{errors:o},setValue:u}=Pn({resolver:Bn(ZK),bankSubmit:[],bankRece:[],bankValid:[],bankEndorse:[]}),[c,l]=ne.useState(!1),[d,p]=ne.useState(""),[h,f]=ne.useState({bankEmpUpload:null}),[b,y]=ne.useState({bankEmpUpload:[]}),g=i("bankEmpUpload",""),x=i("empID"),v=R=>typeof R=="string"&&R?R.split("/").pop():"",w=R=>{if(typeof R=="object"&&R.upload){const P=R.upload,L=decodeURIComponent(P);return L.substring(L.lastIndexOf("/")+1)}try{const L=new URL(R).pathname,O=decodeURIComponent(L);return O.substring(O.lastIndexOf("/")+1)}catch{if(typeof R=="string"){const L=decodeURIComponent(R);return L.substring(L.lastIndexOf("/")+1)}return}},S=R=>Array.isArray(R)?R[R.length-1]:R;ne.useEffect(()=>{if(u("empID",n.empID),["bankSubmit","bankRece","bankRefNo","bankAmt","bankValid","bankEndorse","bankEmpUpload"].forEach(P=>{const L=S(n[P]);u(P,L)}),n&&n.bankEmpUpload)try{const L=JSON.parse(n.bankEmpUpload).map(O=>typeof O=="string"?JSON.parse(O):O);u("bankEmpUpload",L),y(O=>({...O,bankEmpUpload:L})),f(O=>({...O,bankEmpUpload:L.length>0?w(L[L.length-1].upload):""}))}catch(P){console.error(`Failed to parse ${n.bankEmpUpload}:`,P)}},[n,u]);const D=async(R,P,L)=>{const O=R.target.files[0];if(!O)return;const H=["application/pdf","image/jpeg","image/png","image/jpg"];if(!L){alert("Employee ID is required to upload files."),window.location.reload();return}if(!H.includes(O.type)){alert("Upload must be a PDF file or an image (JPG, JPEG, PNG)");return}const U=i(P)||[];u(P,[...U,O]);try{await As(O,P,y,L),f(I=>({...I,[P]:O.name}))}catch(I){console.log(I)}},T=async R=>{try{const P=t.find(F=>F.empID===R.empID),L=F=>F?new Date(F).toLocaleDateString("en-CA"):null,O=L(R.bankEndorse),H=L(R.bankSubmit),U=L(R.bankRece),I=L(R.bankValid);if(P){const F=[...new Set([...P.bankEndorse||[],O])],A=[...new Set([...P.bankRece,U])],_=[...new Set([...P.bankValid,I])],E=[...new Set([...P.bankSubmit,H])],N={...R,bankEndorse:F.map(L),bankRece:A.map(L),bankSubmit:E.map(L),bankValid:_.map(L),bankEmpUpload:JSON.stringify(b.bankEmpUpload),id:P.id};await e({BJLUpValue:N}),p("Work Pass Bank Guarantee Info Updated Successfully"),l(!0)}else{const F={...R,bankEndorse:O,bankRece:U,bankSubmit:H,bankValid:I,bankEmpUpload:JSON.stringify(b.bankEmpUpload)};await r({BJLValue:F}),p("Work Pass Bank Guarantee Info Saved Successfully"),l(!0)}}catch(P){console.log(P)}};return m.jsxs("form",{onSubmit:a(T),className:"mx-auto min-h-screen p-2 my-10 bg-[#F5F6F1CC]",children:[m.jsx("div",{className:"flex justify-end items-center",children:m.jsx("div",{className:"max-w-sm",children:m.jsx(Ct,{label:"Employee ID",register:s,name:"empID",type:"text",placeholder:"Enter Employee ID",errors:o})})}),m.jsxs("div",{className:"grid grid-cols-2 mt-10 gap-5",children:[m.jsx(Ct,{label:"Date Of Submission",register:s,name:"bankSubmit",type:"date",errors:o}),m.jsx(Ct,{label:"Date Received",register:s,name:"bankRece",type:"date",errors:o}),m.jsx(Ct,{label:"BG Reference Number",register:s,name:"bankRefNo",type:"text",errors:o}),m.jsx(Ct,{label:"Bank Guarantee Amount",register:s,name:"bankAmt",type:"text",errors:o}),m.jsx(Ct,{label:"Valid Until",register:s,name:"bankValid",type:"date",errors:o}),m.jsx(Ct,{label:"Date Endorsement Of BG",register:s,name:"bankEndorse",type:"date",errors:o}),m.jsx("div",{children:m.jsx(Gl,{label:"Upload File",onChangeFunc:R=>D(R,"bankEmpUpload",x),register:s,error:o,fileName:h.bankEmpUpload||v(g)})})]}),m.jsxs("div",{className:"flex justify-center items-center my-10",children:[m.jsx("button",{type:"submit",className:"primary_btn",children:"Save"}),c&&m.jsx(na,{text:d,notification:c,path:"/employee"})]})]})},Rie=()=>{const n=kr();return{UpdateJitpaData:ne.useCallback(async({JitpaValue:t})=>{if(!t)throw new Error("Missing required parameters or empID");try{const{tbaPurchase:e,jitpaAmt:s,jpValid:a,jpEndorse:i,jpEmpUpload:o,id:u}=t,c={id:u,tbaPurchase:e,jitpaAmt:s,jpValid:a,jpEndorse:i,jpEmpUpload:o},l=await n.graphql({query:I8,variables:{input:c}})}catch(e){throw console.error("Error updating data:",e),e}},[])}},Mie=()=>{const{searchResultData:n}=Ah();ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{BJLData:r}=ne.useContext(Wn),{UpdateJitpaData:t}=Rie(),{register:e,handleSubmit:s,watch:a,formState:{errors:i},setValue:o}=Pn({resolver:Bn(QK),tbaPurchase:[],jpValid:[],jpEndorse:[]}),[u,c]=ne.useState(!1),[l,d]=ne.useState("");ne.useState(""),ne.useState(""),ne.useState("");const[p,h]=ne.useState({jpEmpUpload:null}),[f,b]=ne.useState({jpEmpUpload:[]}),y=a("jpEmpUpload",""),g=T=>typeof T=="string"&&T?T.split("/").pop():"",x=T=>{if(typeof T=="object"&&T.upload){const R=T.upload,P=decodeURIComponent(R);return P.substring(P.lastIndexOf("/")+1)}try{const P=new URL(T).pathname,L=decodeURIComponent(P);return L.substring(L.lastIndexOf("/")+1)}catch{if(typeof T=="string"){const P=decodeURIComponent(T);return P.substring(P.lastIndexOf("/")+1)}return}},v=T=>Array.isArray(T)?T[T.length-1]:T;ne.useEffect(()=>{if(o("empID",n.empID),["tbaPurchase","jitpaAmt","jpValid","jpEndorse","jpEmpUpload"].forEach(R=>o(R,v(n[R]))),n&&n.jpEmpUpload)try{const P=JSON.parse(n.jpEmpUpload).map(L=>typeof L=="string"?JSON.parse(L):L);console.log(P),o("jpEmpUpload",P),b(L=>({...L,jpEmpUpload:P})),h(L=>({...L,jpEmpUpload:P.length>0?x(P[P.length-1].upload):""}))}catch(R){console.error(`Failed to parse ${n.jpEmpUpload}:`,R)}},[n,o]);const w=async(T,R,P)=>{const L=T.target.files[0];if(!L)return;const O=["application/pdf","image/jpeg","image/png","image/jpg"];if(!P){alert("Employee ID is required to upload files."),window.location.reload();return}if(!O.includes(L.type)){alert("Upload must be a PDF file or an image (JPG, JPEG, PNG)");return}const H=a(R)||[];o(R,[...H,L]);try{await As(L,R,b,P),h(U=>({...U,[R]:L.name}))}catch(U){console.log(U)}},S=a("empID"),D=async T=>{const R=H=>H?new Date(H).toLocaleDateString("en-CA"):null,P=R(T.tbaPurchase),L=R(T.jpValid),O=R(T.jpEndorse);try{let H=null;if(S){H=r.find(_=>_.empID===S);const U=[...new Set([...H.tbaPurchase||[],P])],I=[...new Set([...H.jpEndorse||[],O])],F=[...new Set([...H.jpValid||[],L])],A={...T,jpValid:F.map(R),tbaPurchase:U.map(R),jpEndorse:I.map(R),jpEmpUpload:JSON.stringify(f.jpEmpUpload),id:H?H.id:null};await t({JitpaValue:A}),d("Work Pass JITPA Info Data Stored Successfully"),c(!0)}else console.log("error")}catch(H){console.error("Error submitting data:",H)}};return m.jsxs("form",{onSubmit:s(D),className:"mx-auto min-h-screen p-2 my-10 bg-[#F5F6F1CC]",children:[m.jsx("div",{className:"flex justify-end items-center",children:m.jsx("div",{className:"max-w-sm",children:m.jsx(Ct,{label:"Employee ID",register:e,name:"empID",type:"text",placeholder:"Enter Employee ID",errors:i})})}),m.jsxs("div",{className:"grid grid-cols-2 mt-10 gap-5",children:[m.jsx(Ct,{label:"TBA Purchase Date",register:e,name:"tbaPurchase",type:"date",errors:i}),m.jsx(Ct,{label:"JITPA Amount",register:e,name:"jitpaAmt",type:"text",errors:i}),m.jsx(Ct,{label:"Valid Until",register:e,name:"jpValid",type:"date",errors:i}),m.jsx(Ct,{label:"Date Endorsement Of Jitpa",register:e,name:"jpEndorse",type:"date",errors:i}),m.jsx("div",{children:m.jsx(Gl,{label:"Upload File",onChangeFunc:T=>w(T,"jpEmpUpload",S),name:"jpEmpUpload",register:e,error:i,fileName:p.jpEmpUpload||g(y)})})]}),m.jsx("div",{className:"flex justify-center items-center my-10",children:m.jsx("button",{type:"submit",className:"primary_btn",children:"Save"})}),u&&m.jsx(na,{text:l,notification:u,path:"/employee"})]})},Oie=()=>{const n=kr();return{UpdateLDData:ne.useCallback(async({LDValue:t})=>{if(!t)throw new Error("Missing required parameters or empID");try{const{lbrReceiptNo:e,lbrDepoAmt:s,lbrDepoSubmit:a,lbrDepoUpload:i,id:o}=t,u={id:o,lbrReceiptNo:e,lbrDepoAmt:s,lbrDepoSubmit:a,lbrDepoUpload:i},c=await n.graphql({query:I8,variables:{input:u}})}catch(e){throw console.error("Error updating data:",e),e}},[])}},Lie=()=>{const{searchResultData:n}=Ah();ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{BJLData:r}=ne.useContext(Wn),{UpdateLDData:t}=Oie(),{register:e,handleSubmit:s,watch:a,formState:{errors:i},setValue:o}=Pn({resolver:Bn(eX),lbrDepoSubmit:[]}),[u,c]=ne.useState(!1),[l,d]=ne.useState("");ne.useState([]);const[p,h]=ne.useState({lbrDepoUpload:null}),[f,b]=ne.useState({lbrDepoUpload:[]}),y=a("lbrDepoUpload",""),g=T=>typeof T=="string"&&T?T.split("/").pop():"",x=T=>{if(typeof T=="object"&&T.upload){const R=T.upload,P=decodeURIComponent(R);return P.substring(P.lastIndexOf("/")+1)}try{const P=new URL(T).pathname,L=decodeURIComponent(P);return L.substring(L.lastIndexOf("/")+1)}catch{if(typeof T=="string"){const P=decodeURIComponent(T);return P.substring(P.lastIndexOf("/")+1)}return}},v=T=>Array.isArray(T)?T[T.length-1]:T;ne.useEffect(()=>{if(o("empID",n.empID),["lbrReceiptNo","lbrDepoAmt","lbrDepoSubmit"].forEach(R=>o(R,v(n[R]))),n&&n.lbrDepoUpload)try{const P=JSON.parse(n.lbrDepoUpload).map(L=>typeof L=="string"?JSON.parse(L):L);o("lbrDepoUpload",P),b(L=>({...L,lbrDepoUpload:P})),h(L=>({...L,lbrDepoUpload:P.length>0?x(P[P.length-1].upload):""}))}catch(R){console.error(`Failed to parse ${n.lbrDepoUpload}:`,R)}},[n,o]);const w=a("empID"),S=async(T,R,P)=>{const L=T.target.files[0];if(!L)return;const O=["application/pdf","image/jpeg","image/png","image/jpg"];if(!P){alert("Employee ID is required to upload files."),window.location.reload();return}if(!O.includes(L.type)){alert("Upload must be a PDF file or an image (JPG, JPEG, PNG)");return}const H=a(R)||[];o(R,[...H,L]);try{await As(L,R,b,P),h(U=>({...U,[R]:L.name}))}catch(U){console.log(U)}},D=async T=>{try{let R=null;if(w){R=r.find(U=>U.empID===w),console.log(R);const P=U=>U?new Date(U).toLocaleDateString("en-CA"):null,L=P(T.lbrDepoSubmit),O=[...new Set([...R.lbrDepoSubmit||[],L])],H={...T,lbrDepoSubmit:O.map(P),lbrDepoUpload:JSON.stringify(f.lbrDepoUpload),id:R?R.id:null};await t({LDValue:H}),d("Work Pass Labour Deposit Data Stored Successfully"),c(!0)}else console.log("Employee id not found")}catch(R){console.error("Error submitting data:",R)}};return m.jsxs("form",{onSubmit:s(D),className:"mx-auto min-h-screen p-2 my-10 bg-[#F5F6F1CC]",children:[m.jsx("div",{className:"flex justify-end items-center",children:m.jsx("div",{className:"max-w-sm",children:m.jsx(Ct,{label:"Employee ID",register:e,name:"empID",type:"text",placeholder:"Enter Employee ID",errors:i})})}),m.jsxs("div",{className:"grid grid-cols-2 mt-10 gap-5",children:[m.jsx(Ct,{label:"Labour Deposit Receipt Number",register:e,name:"lbrReceiptNo",type:"text",errors:i}),m.jsx(Ct,{label:"Deposit Amount",register:e,name:"lbrDepoAmt",type:"text",errors:i}),m.jsx(Ct,{label:"Date Endorsement Of Labour Deposit",register:e,name:"lbrDepoSubmit",type:"date",errors:i}),m.jsx("div",{children:m.jsx(Gl,{label:"Upload File",onChangeFunc:T=>S(T,"lbrDepoUpload",w),name:"lbrDepoUpload",register:e,error:i,fileName:p.lbrDepoUpload||g(y)})})]}),m.jsx("div",{className:"center my-10",children:m.jsx("button",{type:"submit",className:"primary_btn",children:"Save"})}),u&&m.jsx(na,{text:l,notification:u,path:"/employee"})]})},Fie=()=>{const n=kr();return{ImmigrationData:ne.useCallback(async({ImmiValue:t})=>{if(!t)throw new Error("Missing required parameters");const e={empID:t.empID,ppLocation:[t.ppLocation],arrivStampUpload:[t.arrivStampUpload],immigEmpUpload:[t.immigEmpUpload],reEntryUpload:[t.reEntryUpload],arrivStampExp:[t.arrivStampExp],immigRefNo:t.immigRefNo,ppSubmit:[t.ppSubmit],empPassExp:[t.empPassExp],empPassStatus:[t.empPassStatus],airTktStatus:[t.airTktStatus],reEntryVisa:[t.reEntryVisa],immigApproval:[t.immigApproval],reEntryVisaExp:[t.reEntryVisaExp],remarkImmig:[t.remarkImmig]};console.log(e);try{const s=await Promise.all([n.graphql({query:AW,variables:{input:e}})])}catch(s){throw console.error("Error executing GraphQL requests:",s),s}},[])}},Bie=()=>{const n=kr();return{UpdateImmigraData:ne.useCallback(async({UpImmiValue:t})=>{if(!t)throw new Error("Missing required parameters");const e={id:t.id,empID:t.empID,ppLocation:[t.ppLocation],arrivStampUpload:[t.arrivStampUpload],immigEmpUpload:[t.immigEmpUpload],reEntryUpload:[t.reEntryUpload],arrivStampExp:[t.arrivStampExp],immigRefNo:t.immigRefNo,ppSubmit:[t.ppSubmit],empPassExp:[t.empPassExp],empPassStatus:[t.empPassStatus],airTktStatus:[t.airTktStatus],reEntryVisa:[t.reEntryVisa],immigApproval:[t.immigApproval],reEntryVisaExp:[t.reEntryVisaExp],remarkImmig:[t.remarkImmig]};try{const s=await Promise.all([n.graphql({query:kW,variables:{input:e}})])}catch(s){throw console.error("Error executing GraphQL requests:",s),s}},[])}},Uie=()=>{const{searchResultData:n}=Ah();ne.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const{ImmigrationData:r}=Fie(),{PPValidsData:t}=ne.useContext(Wn),{UpdateImmigraData:e}=Bie(),{register:s,handleSubmit:a,watch:i,formState:{errors:o},setValue:u}=Pn({resolver:Bn(tX),arrivStampExp:[],empPassExp:[],immigApproval:[],ppSubmit:[],reEntryVisaExp:[]}),[c,l]=ne.useState(!1),[d,p]=ne.useState("");ne.useState([]),ne.useState([]),ne.useState([]),ne.useState([]),ne.useState([]);const[h,f]=ne.useState({arrivStampUpload:null,immigEmpUpload:null,reEntryUpload:null}),[b,y]=ne.useState({arrivStampUpload:[],immigEmpUpload:[],reEntryUpload:[]}),g=i("arrivStampUpload",""),x=i("immigEmpUpload",""),v=i("reEntryUpload",""),w=i("empID"),S=L=>typeof L=="string"&&L?L.split("/").pop():"",D=L=>{if(typeof L=="object"&&L.upload){const O=L.upload,H=decodeURIComponent(O);return H.substring(H.lastIndexOf("/")+1)}try{const H=new URL(L).pathname,U=decodeURIComponent(H);return U.substring(U.lastIndexOf("/")+1)}catch{if(typeof L=="string"){const H=decodeURIComponent(L);return H.substring(H.lastIndexOf("/")+1)}return}},T=L=>Array.isArray(L)?L[L.length-1]:L;ne.useEffect(()=>{u("empID",n.empID),["ppLocation","arrivStampUpload","immigEmpUpload","reEntryUpload","arrivStampExp","immigRefNo","ppSubmit","empPassExp","empPassStatus","airTktStatus","reEntryVisa","immigApproval","reEntryVisaExp","remarkImmig"].forEach(H=>u(H,T(n[H])));const O=H=>{if(n&&n[H])try{const I=JSON.parse(n[H]).map(F=>typeof F=="string"?JSON.parse(F):F);u(H,I),y(F=>({...F,[H]:I})),f(F=>({...F,[H]:I.length>0?D(I[I.length-1].upload):""}))}catch(U){console.error(`Failed to parse ${n[H]}:`,U)}};O("arrivStampUpload"),O("immigEmpUpload"),O("reEntryUpload")},[n,u]);const R=async(L,O,H)=>{const U=L.target.files[0];if(!U)return;const I=["application/pdf","image/jpeg","image/png","image/jpg"];if(!H){alert("Employee ID is required to upload files."),window.location.reload();return}if(!I.includes(U.type)){alert("Upload must be a PDF file or an image (JPG, JPEG, PNG)");return}const F=i(O)||[];u(O,[...F,U]);try{await As(U,O,y,H),f(A=>({...A,[O]:U.name}))}catch(A){console.log(A)}},P=async L=>{try{const O=t.find(E=>E.empID===L.empID),H=E=>E?new Date(E).toLocaleDateString("en-CA"):null,U=H(L.arrivStampExp),I=H(L.ppSubmit),F=H(L.empPassExp),A=H(L.immigApproval),_=H(L.reEntryVisaExp);if(O){const E=[...new Set([...O.arrivStampExp||[],U])],N=[...new Set([...O.ppSubmit||[],I])],k=[...new Set([...O.empPassExp||[],F])],B=[...new Set([...O.immigApproval||[],A])],j=[...new Set([...O.reEntryVisaExp||[],_])],M={...L,arrivStampExp:E.map(H),ppSubmit:N.map(H),empPassExp:k.map(H),immigApproval:B.map(H),reEntryVisaExp:j.map(H),arrivStampUpload:JSON.stringify(b.arrivStampUpload),immigEmpUpload:JSON.stringify(b.immigEmpUpload),reEntryUpload:JSON.stringify(b.reEntryUpload),id:O.id};await e({UpImmiValue:M}),p("Work Pass Immigration Info Updated successfully"),l(!0)}else{const E={...L,arrivStampExp:U,ppSubmit:I,empPassExp:F,immigApproval:A,reEntryVisaExp:_,arrivStampUpload:JSON.stringify(b.arrivStampUpload),immigEmpUpload:JSON.stringify(b.immigEmpUpload),reEntryUpload:JSON.stringify(b.reEntryUpload)};await r({ImmiValue:E}),p("Work Pass Immigration Info Saved Successfully"),l(!0)}}catch(O){console.error("Error submitting data:",O)}};return m.jsxs("form",{onSubmit:a(P),className:"mx-auto min-h-screen p-2 my-10 bg-[#F5F6F1CC]",children:[m.jsx("div",{className:"flex justify-end items-center",children:m.jsx("div",{className:"max-w-sm",children:m.jsx(Ct,{label:"Employee ID",register:s,name:"empID",type:"text",placeholder:"Enter Employee ID",errors:o})})}),m.jsxs("div",{className:"w-full max-w-[300px] ",children:[m.jsx("label",{className:"mb-1 text_size_6",children:"Original Passport Location"}),m.jsxs("select",{...s("ppLocation"),className:"input-field select-custom",children:[m.jsx("option",{value:""}),m.jsx("option",{value:"HRD",children:"HRD"}),m.jsx("option",{value:"Immigration",children:"Immigration"}),m.jsx("option",{value:"Employee",children:"Employee"}),m.jsx("option",{value:"Vacation",children:"Vacation"})]}),o.ppLocation&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.ppLocation.message})]}),m.jsxs("div",{className:"grid grid-cols-2 mt-10 gap-5",children:[m.jsx(Ct,{label:"Date Of Arrival Stamping Expiry",register:s,name:"arrivStampExp",type:"date",errors:o}),m.jsx(Gl,{label:"Upload File",onChangeFunc:L=>R(L,"arrivStampUpload",w),name:"arrivStampUpload",register:s,error:o,fileName:h.arrivStampUpload||S(g)})]}),m.jsx("hr",{className:"text-lite_grey"}),m.jsxs("div",{className:"grid grid-cols-2 mt-10 gap-5",children:[m.jsx(Ct,{label:"Immigration Reference Number",register:s,name:"immigRefNo",value:"IMMBD/1382",type:"text",errors:o}),m.jsx(Ct,{label:"Passport Submit Date To Immigration Dept",register:s,name:"ppSubmit",type:"date",errors:o}),m.jsx(Ct,{label:"Employment Pass Expiry",register:s,name:"empPassExp",type:"date",errors:o}),m.jsx(Ct,{label:"Employment Pass Status",register:s,name:"empPassStatus",type:"text",errors:o}),m.jsx(Gl,{label:"Upload File",onChangeFunc:L=>R(L,"immigEmpUpload"),register:s,name:"immigEmpUpload",error:o,fileName:h.immigEmpUpload||S(x)})]}),m.jsx("hr",{className:"text-lite_grey"}),m.jsxs("div",{className:"grid grid-cols-2 mt-10 gap-5 ",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"mb-1 text_size_6 ",children:"Air Ticket Status"}),m.jsxs("select",{...s("airTktStatus"),className:"input-field select-custom",children:[m.jsx("option",{value:""}),m.jsx("option",{value:"Company",children:"Company"}),m.jsx("option",{value:"Own",children:"Own"})]}),o.airTktStatus&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.airTktStatus.message})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{className:"mb-1 text_size_6",children:"Re-entry Visa Application"}),m.jsxs("select",{...s("reEntryVisa"),className:"input-field select-custom",children:[m.jsx("option",{value:""}),m.jsx("option",{value:"Single",children:"Single"}),m.jsx("option",{value:"Multiple",children:"Multiple"})]}),o.reEntryVisa&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.reEntryVisa.message})]}),m.jsx(Ct,{label:"Date Approved by Immigration Dept",register:s,name:"immigApproval",type:"date",errors:o}),m.jsx(Ct,{label:"Re-Entry Visa Expiry",register:s,name:"reEntryVisaExp",type:"date",errors:o}),m.jsx(Gl,{label:"Upload File",onChangeFunc:L=>R(L,"reEntryUpload"),register:s,name:"reEntryUpload",error:o,fileName:h.reEntryUpload||S(v)})]}),m.jsxs("div",{className:"",children:[m.jsx("label",{className:"mb-1 text_size_6",children:"Remarks for Immigration"}),m.jsx("textarea",{...s("remarkImmig"),className:"resize-none w-full  p-2 mt-1 border bg-lite_skyBlue border-lite_grey rounded-md outline-none",rows:"4"}),o.remarkImmig&&m.jsx("p",{className:"text-[red] text-[13px] mt-1",children:o.remarkImmig.message})]}),m.jsx("div",{className:"center my-10",children:m.jsx("button",{type:"submit",className:"primary_btn",children:"Save"})}),c&&m.jsx(na,{text:d,notification:c,path:"/employee"})]})},Hie=()=>m.jsx("div",{children:m.jsx(Wv,{title:"HO"})}),qie=()=>m.jsx("div",{children:m.jsx(Wv,{title:"SBW"})}),Wie=()=>m.jsx("div",{children:m.jsx(Wv,{title:"ORMC"})}),zie=()=>{const{empPDData:n}=ne.useContext(Wn),[r,t]=ne.useState(null),[e,s]=ne.useState([]),[a,i]=ne.useState(""),o=Yi(),[u,c]=ne.useState([]),[l,d]=ne.useState(!0),[p,h]=ne.useState(null),f=w=>{t(w.id)},b=w=>{c(w)},y=()=>{x.filter(w=>!e.includes(w.id)),s([])},g=w=>{s(w)},x=n==null?void 0:n.filter(w=>w.name.toLowerCase().includes(a.toLowerCase())||w.position.toLowerCase().includes(a.toLowerCase())||w.nationality.toLowerCase().includes(a.toLowerCase()));ne.useEffect(()=>{x.length>0?(d(!1),h(null)):h("No data available.")},[x]);const v=["Name","Gender","Nationality","Position","Experience","Email","Contact"];return m.jsxs("section",{className:"screen-size min-h-screen w-full my-5",children:[m.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[m.jsx("div",{className:"flex-1",children:m.jsx("button",{className:"bg-[#faf362] py-2 px-3 rounded-lg text-[18px] font-semibold",children:"List Of All Candidates"})}),m.jsx("div",{className:"flex-1 flex justify-end ",children:m.jsx(Gf,{newFormData:x,searchHandler:i,emptySearch:()=>console.log("Search cleared!"),searchIcon1:m.jsx(Rs,{}),placeholder:"Search",border:"rounded-full",shadow:"shadow-[0_1px_6px_1px_rgba(0,0,0,0.2)]"})})]}),m.jsxs("div",{className:"flex relative mb-8 ",children:[m.jsx("div",{className:" absolute top-1/2 right-14 transform -translate-y-1/2 text-2xl hover:text-3xl flex items-center cursor-pointer",onClick:()=>{e.length===1?o("/addCandidates",{state:{editingData:e[0]}}):e.length>1?alert("Please select only one row to edit."):alert("Please select a row before editing.")},disabled:e.length===0,children:m.jsx(E8,{className:"mr-2"})}),m.jsx("div",{className:"absolute top-1/2 right-0 transform -translate-y-1/2 text-3xl hover:text-4xl cursor-pointer text-[#f42232cc] flex items-center",onClick:y,children:m.jsx(d8,{className:"mr-2"})})]}),l?m.jsx("div",{className:"text-center py-10",children:"Loading..."}):p?m.jsx("div",{className:"text-center py-10",children:` ${p}`}):m.jsx(kv,{columns:v,rowClickHandler:f,data:x,selectedRows:e,onRowSelect:g,edited:b})]})},Vie=kr(),$ie=()=>{const[n,r]=ne.useState([]),[t,e]=ne.useState(!1),[s,a]=ne.useState(!1),[i,o]=ne.useState(null),[u,c]=ne.useState(null),l=async()=>{var f,b;try{const y=await Vie.graphql({query:sA}),g=((b=(f=y==null?void 0:y.data)==null?void 0:f.listEmpRequisitions)==null?void 0:b.items)||[];console.log("Fetched Requisition Data:",g),r(g),c(null)}catch(y){console.error("Error fetching requisition data:",y),c("Failed to fetch requisition data"),r([])}};ne.useEffect(()=>{l()},[]);const d=()=>{e(!1),l()},p=f=>{o(f),a(!0)},h=()=>{o(null),a(!1)};return m.jsx("section",{className:"min-h-screen bg-[#F5F6F1]",children:m.jsxs("div",{className:"screen-size",children:[m.jsxs("div",{className:"flex justify-between my-8",children:[m.jsx("button",{className:"bg-[#faf362] py-2 px-3 rounded-lg text-[18px] font-semibold",children:"My Requisition List"}),m.jsx("button",{className:"bg-[#faf362] py-2 px-3 rounded-lg text-[18px] font-semibold",onClick:()=>e(!0),children:"Apply New Requisition"})]}),u&&m.jsx("div",{className:"text-[red]",children:u}),n.length>0?m.jsx("div",{className:"overflow-x-auto rounded-lg",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-[#939393] text-white rounded-lg",children:m.jsxs("tr",{children:[m.jsx("th",{className:"pl-4 py-3",children:"Requested By"}),m.jsx("th",{className:"pl-4",children:"Department"}),m.jsx("th",{className:"py-4",children:"Applied Position"}),m.jsx("th",{className:"py-4",children:"Project"}),m.jsx("th",{className:"py-4",children:"Quantity"}),m.jsx("th",{className:"py-4",children:"Submit Date"}),m.jsx("th",{className:"py-4",children:"Submitted Form"}),m.jsx("th",{className:"py-4",children:"Form Status"}),m.jsx("th",{className:"py-4",children:"Remarks"})]})}),m.jsx("tbody",{className:"bg-white",children:n.map(f=>m.jsxs("tr",{className:"shadow-[0_3px_6px_1px_rgba(0,0,0,0.2)]",children:[m.jsx("td",{className:"pl-4 py-4",children:f.requestedBy}),m.jsx("td",{className:"pl-4 py-4",children:f.department}),m.jsx("td",{className:"py-4",children:f.position}),m.jsx("td",{className:"py-4",children:f.project}),m.jsx("td",{className:"py-4",children:f.quantity}),m.jsx("td",{className:"py-4",children:new Date(f.createdAt).toLocaleDateString("en-GB")}),m.jsx("td",{className:"py-4",children:m.jsx("a",{href:"#",className:"text-[#2779f5f7] font-semibold underline cursor-pointer",onClick:()=>p(f),children:"View"})}),m.jsx("td",{className:`py-4 font-semibold ${f.status==="Approved"?"text-[#25a041]":f.status==="Rejected"?"text-[red]":"text-grey"}`,children:f.status}),m.jsx("td",{className:"py-4",children:f.remarks})]},f.id))})]})}):m.jsx("p",{children:"No requisition data available."}),t&&m.jsx("div",{className:"fixed inset-0 bg-grey bg-opacity-75 flex items-center justify-center z-50",children:m.jsx("div",{className:"bg-white p-8 rounded-lg shadow-lg w-[90%] max-w-xl",children:m.jsx(QC,{onClose:d})})}),s&&i&&m.jsx(Ok,{isVisible:s,onClose:h})]})})},Gie=kr(),Yie=()=>{var i;const n=(i=localStorage.getItem("userID"))==null?void 0:i.toUpperCase(),[r,t]=ne.useState([]),[e,s]=ne.useState(!0);ne.useEffect(()=>{async function o(){var u,c;try{const l=localStorage.getItem("userType"),d=await Gie.graphql({query:c8,variables:{filter:{and:[{empID:{eq:n}},{selectType:{eq:l}}]}}}),p=(c=(u=d==null?void 0:d.data)==null?void 0:u.listUsers)==null?void 0:c.items[0],h=p==null?void 0:p.setPermissions[0],f=a(h);t(f)}catch(l){console.error("Error fetching user data:",l)}finally{s(!1)}}o()},[]);const a=o=>{const u=/(\w+)=\[/g,c=[];let l;for(;(l=u.exec(o))!==null;)c.push(l[1]);return c};return e?m.jsx("div",{children:m.jsx("div",{className:"flex items-center justify-center h-screen",children:m.jsx("p",{className:"text-18 font-serif font-bold",children:"Loading..."})})}):m.jsxs(BM,{children:[m.jsx(gr,{path:"/changePassword",element:m.jsx(BX,{})}),m.jsx(gr,{path:"/user",Component:X3}),m.jsx(gr,{path:"/addNewForm",Component:qN}),n&&m.jsx(m.Fragment,{children:r.map((o,u)=>m.jsxs(St.Fragment,{children:[m.jsx(gr,{path:"/",element:m.jsx(LE,{to:"/dashboard"})})," ",m.jsx(gr,{path:"/personalInformation",Component:HX}),o==="Dashboard"&&m.jsx(gr,{path:"/Dashboard",Component:tB}),o==="User"&&m.jsxs(m.Fragment,{children:[" ",m.jsx(gr,{path:"/user",Component:X3}),m.jsx(gr,{path:"/addNewForm",Component:qN})]}),o==="Recruitment"&&m.jsxs(m.Fragment,{children:[m.jsx(gr,{path:"/recruitment",Component:YU}),m.jsxs(gr,{path:"/recrutiles",Component:bV,children:[m.jsx(gr,{path:"candidate",element:m.jsx(xV,{})}),m.jsx(gr,{path:"applyemployreq",element:m.jsx($ie,{})}),m.jsx(gr,{path:"listofcandi",element:m.jsx(zie,{})}),m.jsx(gr,{path:"localcandi",element:m.jsx(NV,{})}),m.jsx(gr,{path:"nonloccandi",element:m.jsx(AV,{})}),m.jsx(gr,{path:"employreq",element:m.jsx(Lk,{})}),m.jsx(gr,{path:"status",element:m.jsx(GV,{})}),m.jsx(gr,{path:"workpasstracking",element:m.jsx(KV,{})})]}),m.jsxs(gr,{path:"/addCandidates",Component:kV,children:[m.jsx(gr,{index:!0,element:m.jsx(uV,{})}),m.jsx(gr,{path:"personalDetails",element:m.jsx(hV,{})}),m.jsx(gr,{path:"educationDetails",element:m.jsx(fV,{})}),m.jsx(gr,{path:"otherDetails",element:m.jsx(gV,{})})]})]}),o==="Employee"&&m.jsxs(m.Fragment,{children:[m.jsxs(gr,{path:"/insuranceAdd",Component:NX,children:[m.jsx(gr,{index:!0,element:m.jsx(DX,{})}),m.jsx(gr,{path:"dependentInsurance",element:m.jsx(RX,{})})]}),m.jsxs(gr,{path:"/sawp",Component:N7,children:[m.jsx(gr,{index:!0,element:m.jsx(Nie,{})}),m.jsx(gr,{path:"doe",element:m.jsx(Cie,{})}),m.jsx(gr,{path:"nlms",element:m.jsx(Tie,{})}),m.jsx(gr,{path:"bankGuarantee",element:m.jsx(Pie,{})}),m.jsx(gr,{path:"jitpa",element:m.jsx(Mie,{})}),m.jsx(gr,{path:"labourDeposit",element:m.jsx(Lie,{})}),m.jsx(gr,{path:"immigration",element:m.jsx(Uie,{})})]}),m.jsx(gr,{path:"/allempDetails",Component:BK}),m.jsx(gr,{path:"/employee",Component:cB}),m.jsx(gr,{path:"/empRequistion",Component:QC}),m.jsx(gr,{path:"/employeeInfo",Component:mX}),m.jsx(gr,{path:"/workInfo",Component:yX}),m.jsx(gr,{path:"/workPass",Component:N7}),m.jsx(gr,{path:"/nonLocalAcco",Component:LX}),m.jsx(gr,{path:"/labourImmigration",Component:SX})]}),o==="LeaveManagement"&&m.jsx(gr,{path:"/leaveManage",Component:nz}),o==="Notification"&&m.jsx(gr,{path:"/notifications",Component:cz}),o==="Report"&&m.jsxs(m.Fragment,{children:[m.jsx(gr,{path:"/reports",Component:BU}),m.jsx(gr,{path:"/probForm",Component:AB})]}),o==="BenefitsAndRewards"&&m.jsx(gr,{path:"/benfitsAndrewards",Component:oz}),o==="TimeSheet"&&m.jsxs(m.Fragment,{children:[m.jsx(gr,{path:"/timeSheet",element:m.jsx(yB,{})}),m.jsx(gr,{path:"/timesheetHO",element:m.jsx(Hie,{})}),m.jsx(gr,{path:"/timesheetSBW",element:m.jsx(qie,{})}),m.jsx(gr,{path:"/timesheetORMC",element:m.jsx(Wie,{})}),m.jsx(gr,{path:"/timesheetOffshore",element:m.jsx(Zae,{})}),m.jsx(gr,{path:"/timesheetBlng",element:m.jsx(Qae,{})}),m.jsx(gr,{path:"/viewTimesheet",element:m.jsx(lie,{})})]}),o==="Training"&&m.jsxs(m.Fragment,{children:[m.jsx(gr,{path:"/training",Component:fB}),m.jsx(gr,{path:"/training/hr",Component:yie}),m.jsx(gr,{path:"/trainingReq",Component:vie}),m.jsx(gr,{path:"/trainingQA",Component:wie})]}),m.jsx(gr,{path:"/logout",Component:uz})]},u))}),m.jsx(gr,{path:"*",element:m.jsx(LE,{to:"/dashboard"})})]})},roe=Object.freeze(Object.defineProperty({__proto__:null,default:Yie},Symbol.toStringTag,{value:"Module"}));export{roe as N,ss as _};
