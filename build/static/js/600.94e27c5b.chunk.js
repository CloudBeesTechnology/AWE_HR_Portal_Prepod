"use strict";(self.webpackChunkcheckingproject=self.webpackChunkcheckingproject||[]).push([[600],{4455:(e,s,t)=>{t.r(s),t.d(s,{default:()=>k});var a=t(9379),r=t(5043);const l=t.p+"static/media/resetImage.91e487bbbe41b064fa3c.jpg";var o=t(7305),n=t(2902),d=t(784),c=t(4858),i=t(5394),m=t(3836),x=t(8490),u=t(2770),w=t(2600),p=t(5119),h=t(2013),f=t(9931),v=t(3),P=t(7161),j=t(8016),g=t(5215),N=t(2190),y=t(7675);var b=t(6016),C=t(9715);async function E(e){var s,t;const r=null===(s=x.H.getConfig().Auth)||void 0===s?void 0:s.Cognito;(0,u.$y)(r);const{userPoolClientId:l,userPoolId:o,userPoolEndpoint:n}=r,{username:d,newPassword:c}=e;(0,h.M)(!!d,p.P.EmptyConfirmResetPasswordUsername),(0,h.M)(!!c,p.P.EmptyConfirmResetPasswordNewPassword);const i=e.confirmationCode;(0,h.M)(!!i,p.P.EmptyConfirmResetPasswordConfirmationCode);const m=null===(t=e.options)||void 0===t?void 0:t.clientMetadata,E=(0,v.d)({username:d,userPoolId:o,userPoolClientId:l}),S=(k={endpointResolver:(0,b.o)({endpointOverride:n})},(0,P.A)(j.e,(0,g._)("ConfirmForgotPassword"),(0,N.T)(),(0,a.A)((0,a.A)({},y.C),k)));var k;await S({region:(0,C.J)(r.userPoolId),userAgentValue:(0,f.A)(w.BM.ConfirmResetPassword)},{Username:d,ConfirmationCode:i,Password:c,ClientMetadata:m,ClientId:r.userPoolClientId,UserContextData:E})}var S=t(579);const k=()=>{var e,s,t;const[x,u]=(0,r.useState)(!1),[w,p]=(0,r.useState)(!1),[h,f]=(0,r.useState)(60),[v,P]=(0,r.useState)(!0),[j,g]=(0,r.useState)(!1),[N,y]=(0,r.useState)(""),[b,C]=(0,r.useState)(null),{register:k,handleSubmit:I,formState:{errors:_}}=(0,c.mN)({resolver:(0,d.t)(n.NL)}),[R,A]=(0,r.useState)(""),D=localStorage.getItem("username");(0,r.useEffect)((()=>{if(h>0){const e=setInterval((()=>{f((e=>e-1))}),1e3);return()=>clearInterval(e)}P(!1),g(!0)}),[h]);return(0,S.jsxs)("section",{className:"screen-size mx-auto flex h-full",children:[(0,S.jsx)("div",{className:"flex-1 border-r-2 border-[#E9E9E9] center",children:(0,S.jsx)("img",{className:"w-full max-w-[450px]",src:l,alt:"Rightside Pic not found"})}),(0,S.jsxs)("div",{className:"flex-1 flex items-center gap-8 py-14 flex-col w-full px-3",children:[(0,S.jsx)("div",{children:(0,S.jsx)("img",{className:"w-full max-w-[450px]",src:o.A,alt:"Logo not found"})}),(0,S.jsx)("article",{className:"space-y-2 mt-5",children:(0,S.jsx)("h1",{className:"text-dark_grey title",children:"Reset Password"})}),R&&(0,S.jsx)("p",{className:"text-red",children:R}),(0,S.jsxs)("form",{className:"space-y-4",onSubmit:I((async e=>{const{otp:s,newPassword:t}=e;try{await E({username:D,confirmationCode:s,newPassword:t}),localStorage.removeItem("username"),localStorage.removeItem("FPSWD"),alert("Password reset successful. Please log in."),window.location.href="/login"}catch(a){A(a.message||a)}})),children:[(0,S.jsxs)("div",{className:"w-[400px] space-y-1",children:[(0,S.jsx)("label",{htmlFor:"otp",className:"text-dark_grey text_size_8",children:"Enter OTP"}),(0,S.jsx)("div",{className:"shadow-md shadow-[#00000040] border border-[#D3D3D3] overflow-hidden rounded-lg py-1 pl-3 pr-4 w-full center",children:(0,S.jsx)("input",(0,a.A)((0,a.A)({type:"number",className:"outline-none py-2 w-full",placeholder:"Enter OTP",value:b},k("otp")),{},{onChange:e=>C(e.target.value)}))}),j&&!b&&(0,S.jsx)("p",{className:"text-red text-xs",children:"OTP has been expired, Please resend OTP."}),(0,S.jsx)("p",{className:"text-[red] text-xs",children:null===(e=_.otp)||void 0===e?void 0:e.message})]}),(0,S.jsx)("div",{className:"flex justify-end",children:(0,S.jsx)("button",{type:"button",className:"text-blue text-sm font font-semibold",onClick:async e=>{try{await(0,m.x)({username:D}),alert("OTP has been resent to your email."),f(60),P(!0),g(!1)}catch(s){A(s.message||s)}},disabled:v,children:v?"Resend OTP in ".concat(h,"s"):"Resend OTP"})}),(0,S.jsxs)("div",{className:"w-[400px] space-y-1",children:[(0,S.jsx)("label",{htmlFor:"newPassword",className:"text-dark_grey text_size_8",children:"New Password"}),(0,S.jsxs)("div",{className:"shadow-md shadow-[#00000040] border border-[#D3D3D3] overflow-hidden rounded-lg py-1 pl-3 pr-4 w-full center",children:[(0,S.jsx)("input",(0,a.A)((0,a.A)({type:x?"text":"password",className:"outline-none py-2 w-full",placeholder:"Enter new password"},k("newPassword")),{},{onChange:e=>y(e.target.value)})),x?(0,S.jsx)(i.whC,{className:"text-2xl text-[#837E7E]",onClick:()=>u(!x)}):(0,S.jsx)(i.Rds,{className:"text-2xl text-[#837E7E]",onClick:()=>u(!x)})]}),(0,S.jsx)("p",{className:"text-[red] text-xs my-2",children:null===(s=_.newPassword)||void 0===s?void 0:s.message})]}),(0,S.jsxs)("div",{className:"w-[400px] space-y-1",children:[(0,S.jsx)("label",{htmlFor:"rePassword",className:"text-dark_grey text_size_8",children:"Re-enter Password"}),(0,S.jsxs)("div",{className:"shadow-md shadow-[#00000040] border border-[#D3D3D3] overflow-hidden rounded-lg py-1 pl-3 pr-4 w-full center",children:[(0,S.jsx)("input",(0,a.A)({type:w?"text":"password",className:"outline-none py-2 w-full",placeholder:"Re-enter your password",id:"rePassword"},k("rePassword"))),w?(0,S.jsx)(i.whC,{className:"text-2xl text-[#837E7E]",onClick:()=>p(!w)}):(0,S.jsx)(i.Rds,{className:"text-2xl text-[#837E7E]",onClick:()=>p(!w)})]}),(0,S.jsx)("p",{className:"text-[red] text-xs my-2",children:null===(t=_.rePassword)||void 0===t?void 0:t.message})]}),(0,S.jsx)("div",{className:"center",children:(0,S.jsx)("button",{type:"submit",className:"primary_btn text_size_4 my-3",children:"Submit"})}),(0,S.jsx)("hr",{className:"border-[1.5px] text-[#B3B3B3] w-[100%]"}),(0,S.jsx)("div",{className:"center",onClick:()=>{localStorage.removeItem("FPSWD"),window.location.href="/login"},children:(0,S.jsxs)("button",{className:"",children:["Back to ","",(0,S.jsx)("span",{className:"text-blue",children:"Login"})]})})]})]})]})}}}]);
//# sourceMappingURL=600.94e27c5b.chunk.js.map