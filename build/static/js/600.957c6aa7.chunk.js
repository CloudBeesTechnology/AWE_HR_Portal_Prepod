"use strict";(self.webpackChunkcheckingproject=self.webpackChunkcheckingproject||[]).push([[600],{4455:(e,r,t)=>{t.r(r),t.d(r,{default:()=>D});var i=t(9379),s=t(5043);const a=t.p+"static/media/resetImage.91e487bbbe41b064fa3c.jpg";var o=t(7305),n=t(2902),d=t(784),u=t(4858),l=t(5394),m=t(3836),c=t(8490),p=t(2770),q=t(2600),j=t(5119),R=t(2013),Y=t(9931),h=t(3),w=t(7161),x=t(8016),y=t(5215),b=t(2190),g=t(7675);var f=t(6016),I=t(9715);async function P(e){var r,t;const s=null===(r=c.H.getConfig().Auth)||void 0===r?void 0:r.Cognito;(0,p.$y)(s);const{userPoolClientId:a,userPoolId:o,userPoolEndpoint:n}=s,{username:d,newPassword:u}=e;(0,R.M)(!!d,j.P.EmptyConfirmResetPasswordUsername),(0,R.M)(!!u,j.P.EmptyConfirmResetPasswordNewPassword);const l=e.confirmationCode;(0,R.M)(!!l,j.P.EmptyConfirmResetPasswordConfirmationCode);const m=null===(t=e.options)||void 0===t?void 0:t.clientMetadata,P=(0,h.d)({username:d,userPoolId:o,userPoolClientId:a}),v=(D={endpointResolver:(0,f.o)({endpointOverride:n})},(0,w.A)(x.e,(0,y._)("ConfirmForgotPassword"),(0,b.T)(),(0,i.A)((0,i.A)({},g.C),D)));var D;await v({region:(0,I.J)(s.userPoolId),userAgentValue:(0,Y.A)(q.BM.ConfirmResetPassword)},{Username:d,ConfirmationCode:l,Password:u,ClientMetadata:m,ClientId:s.userPoolClientId,UserContextData:P})}var v=t(579);const D=()=>{var e,r,t;const[c,p]=(0,s.useState)(!1),[q,j]=(0,s.useState)(!1),[R,Y]=(0,s.useState)(60),[h,w]=(0,s.useState)(!0),[x,y]=(0,s.useState)(!1),[b,g]=(0,s.useState)(""),[f,I]=(0,s.useState)(null),{register:D,handleSubmit:N,formState:{errors:C}}=(0,u.mN)({resolver:(0,d.t)(n.NL)}),[k,A]=(0,s.useState)(""),E=localStorage.getItem("username");(0,s.useEffect)((()=>{if(R>0){const e=setInterval((()=>{Y((e=>e-1))}),1e3);return()=>clearInterval(e)}w(!1),y(!0)}),[R]);return(0,v.jsxs)("section",{className:"screen-size mx-auto flex h-full",children:[(0,v.jsx)("div",{className:"flex-1 border-r-2 border-[#E9E9E9] center",children:(0,v.jsx)("img",{className:"w-full max-w-[450px]",src:a,alt:"Rightside Pic not found"})}),(0,v.jsxs)("div",{className:"flex-1 flex items-center gap-8 py-14 flex-col w-full px-3",children:[(0,v.jsx)("div",{children:(0,v.jsx)("img",{className:"w-full max-w-[450px]",src:o.A,alt:"Logo not found"})}),(0,v.jsx)("article",{className:"space-y-2 mt-5",children:(0,v.jsx)("h1",{className:"text-dark_grey title",children:"Reset Password"})}),k&&(0,v.jsx)("p",{className:"text-red",children:k}),(0,v.jsxs)("form",{className:"space-y-4",onSubmit:N((async e=>{const{otp:r,newPassword:t}=e;try{await P({username:E,confirmationCode:r,newPassword:t}),localStorage.removeItem("username"),localStorage.removeItem("FPSWD"),alert("Password reset successful. Please log in."),window.location.href="/login"}catch(i){A(i.message||i)}})),children:[(0,v.jsxs)("div",{className:"w-[400px] space-y-1",children:[(0,v.jsx)("label",{htmlFor:"otp",className:"text-dark_grey text_size_8",children:"Enter OTP"}),(0,v.jsx)("div",{className:"shadow-md shadow-[#00000040] border border-[#D3D3D3] overflow-hidden rounded-lg py-1 pl-3 pr-4 w-full center",children:(0,v.jsx)("input",(0,i.A)((0,i.A)({type:"number",className:"outline-none py-2 w-full",placeholder:"Enter OTP",value:f},D("otp")),{},{onChange:e=>I(e.target.value)}))}),x&&!f&&(0,v.jsx)("p",{className:"text-red text-xs",children:"OTP has been expired, Please resend OTP."}),(0,v.jsx)("p",{className:"text-[red] text-xs",children:null===(e=C.otp)||void 0===e?void 0:e.message})]}),(0,v.jsx)("div",{className:"flex justify-end",children:(0,v.jsx)("button",{type:"button",className:"text-blue text-sm font font-semibold",onClick:async e=>{try{await(0,m.x)({username:E}),alert("OTP has been resent to your email."),Y(60),w(!0),y(!1)}catch(r){A(r.message||r)}},disabled:h,children:h?"Resend OTP in ".concat(R,"s"):"Resend OTP"})}),(0,v.jsxs)("div",{className:"w-[400px] space-y-1",children:[(0,v.jsx)("label",{htmlFor:"newPassword",className:"text-dark_grey text_size_8",children:"New Password"}),(0,v.jsxs)("div",{className:"shadow-md shadow-[#00000040] border border-[#D3D3D3] overflow-hidden rounded-lg py-1 pl-3 pr-4 w-full center",children:[(0,v.jsx)("input",(0,i.A)((0,i.A)({type:c?"text":"password",className:"outline-none py-2 w-full",placeholder:"Enter new password"},D("newPassword")),{},{onChange:e=>g(e.target.value)})),c?(0,v.jsx)(l.whC,{className:"text-2xl text-[#837E7E]",onClick:()=>p(!c)}):(0,v.jsx)(l.Rds,{className:"text-2xl text-[#837E7E]",onClick:()=>p(!c)})]}),(0,v.jsx)("p",{className:"text-[red] text-xs my-2",children:null===(r=C.newPassword)||void 0===r?void 0:r.message})]}),(0,v.jsxs)("div",{className:"w-[400px] space-y-1",children:[(0,v.jsx)("label",{htmlFor:"rePassword",className:"text-dark_grey text_size_8",children:"Re-enter Password"}),(0,v.jsxs)("div",{className:"shadow-md shadow-[#00000040] border border-[#D3D3D3] overflow-hidden rounded-lg py-1 pl-3 pr-4 w-full center",children:[(0,v.jsx)("input",(0,i.A)({type:q?"text":"password",className:"outline-none py-2 w-full",placeholder:"Re-enter your password",id:"rePassword"},D("rePassword"))),q?(0,v.jsx)(l.whC,{className:"text-2xl text-[#837E7E]",onClick:()=>j(!q)}):(0,v.jsx)(l.Rds,{className:"text-2xl text-[#837E7E]",onClick:()=>j(!q)})]}),(0,v.jsx)("p",{className:"text-[red] text-xs my-2",children:null===(t=C.rePassword)||void 0===t?void 0:t.message})]}),(0,v.jsx)("div",{className:"center",children:(0,v.jsx)("button",{type:"submit",className:"primary_btn text_size_4 my-3",children:"Submit"})}),(0,v.jsx)("hr",{className:"border-[1.5px] text-[#B3B3B3] w-[100%]"}),(0,v.jsx)("div",{className:"center",onClick:()=>{localStorage.removeItem("FPSWD"),window.location.href="/login"},children:(0,v.jsxs)("button",{className:"",children:["Back to ","",(0,v.jsx)("span",{className:"text-blue",children:"Login"})]})})]})]})]})}},2902:(e,r,t)=>{t.d(r,{$A:()=>d,CF:()=>Y,Fh:()=>R,Io:()=>f,M3:()=>p,NL:()=>a,Rr:()=>g,UB:()=>b,UQ:()=>l,Z2:()=>s,_K:()=>j,_j:()=>w,gO:()=>u,gm:()=>x,h4:()=>n,iR:()=>y,mB:()=>q,me:()=>c,s8:()=>h,uL:()=>m,wB:()=>o});var i=t(899);const s=i.Ik({userID:i.Yj().required("UserID is mandatory"),password:i.Yj().required("Password is Required")}),a=i.Ik({newPassword:i.Yj().required("New Password is required").min(8,"Password must be at least 8 characters"),rePassword:i.Yj().required("Please confirm your password").oneOf([i.KR("newPassword"),null],"Passwords must match")}),o=i.Ik({userName:i.Yj().required("User Name is mandatory")}),n=i.Ik({empID:i.Yj().required("Employee ID is required"),password:i.Yj().required("Temporary Password is required"),selectType:i.Yj().required("Please select a type"),officialEmail:i.Yj().required("OfficialEmail is required"),userID:i.Yj().required("User ID is mandatory"),name:i.Yj().required("Name is mandatory"),contactNo:i.Yj().required("Contact number is mandatory"),position:i.Yj().required("Position is mandatory"),department:i.Yj().required("Department is mandatory")}),d=i.Ik({userID:i.Yj().required("User ID is mandatory"),currentPassword:i.Yj().required("Current Password is mandatory"),password:i.Yj().min(8,"Password must be at least 8 characters").max(15,"Password cannot exceed 15 characters").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])/,"Password must contain at least one lowercase letter, one uppercase letter, one number, and one special character").required("Password is required"),confirmPassword:i.Yj().oneOf([i.KR("password"),null],"Passwords must match").required("Confirm password is required")}),u=i.Ik().shape({agent:i.Yj().notRequired(),position:i.Yj().required("Position is mandatory"),contractType:i.Yj().notRequired(),empType:i.Yj().notRequired(),name:i.Yj().min(3,"Name must be at least 3 characters").required("Name is mandatory"),chinese:i.Yj().notRequired(),gender:i.Yj().required("Gender is mandatory"),dob:i.Yj().required("Date of Birth is mandatory"),age:i.ai().min(20,"Age must be at least 20").max(99,"Age cannot exceed 99").required("Age is required"),email:i.Yj().email("Please enter a valid email").required("Email is required"),cob:i.Yj().required("Country of Birth is mandatory"),nationality:i.Yj().required("Nationality is mandatory"),otherNation:i.Yj().when("nationality",{is:e=>e&&"other"===e.trim().toLowerCase(),then:()=>i.Yj().required("Other Nationality is required"),otherwise:()=>i.Yj()}),marital:i.Yj().required("Marital status is mandatory"),race:i.Yj().required("Race is mandatory"),otherRace:i.Yj().when("race",{is:e=>e&&"other"===e.trim().toLowerCase(),then:()=>i.Yj().required("Other Race is required"),otherwise:()=>i.Yj()}),religion:i.Yj().required("Religion is mandatory"),otherReligion:i.Yj().when("religion",{is:e=>e&&"other"===e.trim().toLowerCase(),then:()=>i.Yj().required("Other religion is required"),otherwise:()=>i.Yj()})}),l=e=>i.Ik({bwnIcNo:i.Yj().notRequired(),bwnIcColour:i.Yj().notRequired(),bwnIcExpiry:i.Yj().notRequired(),ppNo:i.Yj().notRequired(),ppIssued:i.Yj().notRequired(),ppExpiry:i.Yj().notRequired(),ppDestinate:i.Yj().notRequired(),alternateNo:i.Yj().notRequired(),contactNo:i.Yj().required("Contact Number is mandatory"),presentAddress:i.Yj().required("Present Address is mandatory"),permanentAddress:i.Yj().notRequired(),driveLic:i.Yj().notRequired(),OtherLang:i.Yj().notRequired(),familyDetails:i.YO().of(i.Ik().shape({name:i.Yj().notRequired(),relationship:i.Yj().notRequired(),age:i.Yj().notRequired(),occupation:i.Yj().notRequired(),place:i.Yj().notRequired()})).notRequired(),eduDetails:i.YO().of(i.Ik().shape({university:i.Yj().notRequired(),fromDate:i.Yj().notRequired(),toDate:i.Yj().notRequired(),degree:i.Yj().notRequired()})),workExperience:i.YO().of(i.Ik().shape({fromDate:i.Yj().notRequired(),toDate:i.Yj().notRequired(),companyAndAddress:i.Yj().notRequired(),position:i.Yj().notRequired(),salary:i.Yj().notRequired(),reasonLeaving:i.Yj().notRequired()}))}),m=i.Ik({referees:i.YO().of(i.Ik().shape({name:i.Yj().notRequired(),address:i.Yj().notRequired(),phoneNumber:i.Yj().notRequired(),profession:i.Yj().notRequired()})).notRequired(),relatives:i.YO().of(i.Ik().shape({name:i.Yj().notRequired(),position:i.Yj().notRequired(),relationship:i.Yj().notRequired()})).notRequired(),description:i.Yj().notRequired(),emgDetails:i.YO().of(i.Ik().shape({name:i.Yj().notRequired(),relationship:i.Yj().notRequired(),address:i.Yj().notRequired(),phoneNumber:i.Yj().notRequired(),bloodGroup:i.Yj().notRequired()})).required("At least one emergency contact is mandatory"),disease:i.Yj().notRequired(),liquor:i.Yj().notRequired(),crime:i.Yj().notRequired(),diseaseDesc:i.Yj().when("disease",{is:e=>e&&"yes"===e.trim().toLowerCase(),then:()=>i.Yj().notRequired(),otherwise:()=>i.Yj()}),liquorDesc:i.Yj().when("liquor",{is:e=>e&&"yes"===e.trim().toLowerCase(),then:()=>i.Yj().notRequired(),otherwise:()=>i.Yj()}),crimeDesc:i.Yj().when("crime",{is:e=>e&&"yes"===e.trim().toLowerCase(),then:()=>i.Yj().notRequired(),otherwise:()=>i.Yj()})}),c=i.Ik().shape({salaryExpectation:i.Yj().notRequired(),noExperience:i.Yj().notRequired(),noticePeriod:i.Yj().notRequired(),empStatement:i.Yj().notRequired(),perIS:i.Yj().required("Interview status is required"),perID:i.Yj().when("perInterviewStatus",{is:e=>e&&"yes"===e.trim().toLowerCase(),then:()=>i.Yj().notRequired(),otherwise:()=>i.Yj()}),supportInfo:i.Yj()}),p=i.Ik().shape({nameReq:i.Yj().notRequired(),requestorID:i.Yj().notRequired(),approverID:i.Yj().notRequired(),department:i.Yj().required("Department is required"),project:i.Yj().required("Project is required"),position:i.Yj().required("Position is required"),quantity:i.ai().typeError("Quantity must be a number").required("Quantity is required"),reasonForReq:i.Yj().required("Reason for request is required"),justification:i.Yj().required("Justification is required"),replacementFor:i.Yj().notRequired(),qualification:i.Yj().required("State Qualification is required"),tentativeDate:i.p6().min(new Date,"Tentative date must be in the future").required("Tentative date is required").typeError("Please enter a valid date"),status:i.Yj().notRequired(),remarkReq:i.Yj().notRequired()}),q=i.Ik().shape({interDate:i.p6().required("Date is required").typeError("Date is required").min(new Date,"The selected date is in the past. Please choose a valid date."),interTime:i.Yj().required("Time is required").matches(/^(0[8-9]|1[0-5]):([0-5]\d)$/,"Please choose a time between 8:00 AM and 4:00 PM."),venue:i.Yj().required("Venue is required"),interType:i.Yj().notRequired(),empBadgeNo:i.Yj().notRequired("Badge Number is required"),manager:i.Yj().notRequired("Manager is required"),message:i.Yj().optional()}),j=i.Ik().shape({jobTitle:i.Yj().required("Job Title is required"),location:i.Yj().notRequired(),jobDesc:i.Yj().notRequired(),experience:i.Yj().required("Experience is required"),quantity:i.Yj().notRequired(),startDate:i.p6().nullable().transform(((e,r)=>""===r?null:e)).notRequired(),expiryDate:i.p6().nullable().transform(((e,r)=>""===r?null:e)).notRequired().test("is-future-date","Only Future Dates Allowed",(function(e){return!e||new Date(e)>new Date})),uploadJobDetails:i.Yj().notRequired()}),R=i.Ik().shape({tempID:i.Yj().required("Temporary ID is Required"),sawpLtrReq:i.p6().notRequired(),sawpLtrRece:i.p6().notRequired(),sawpFile:i.gl().nullable().notRequired()}),Y=i.Ik().shape({tempID:i.Yj().required("Temporary ID is Required"),doeSubmit:i.p6().notRequired(),doeApproval:i.p6().notRequired(),doeValid:i.p6().notRequired(),doeRefNo:i.Yj().notRequired(),doeFile:i.gl().nullable().notRequired()}),h=i.Ik().shape({tempID:i.Yj().required("Temporary ID is Required"),nlmsSubmit:i.p6().notRequired(),nlmsSubmitRefNo:i.Yj().notRequired(),nlmsApproval:i.p6().notRequired(),nlmsValid:i.p6().notRequired(),ldRefNo:i.Yj().notRequired(),nlmsFile:i.gl().nullable().notRequired()}),w=i.Ik().shape({tempID:i.Yj().required("Temporary ID is Required"),bgSubmit:i.p6().notRequired(),bgRece:i.p6().notRequired(),bgValid:i.p6().notRequired(),bgRefNo:i.Yj().notRequired(),bgAmount:i.Yj().notRequired(),bgFile:i.gl().nullable().notRequired()}),x=i.Ik().shape({tempID:i.Yj().required("Temporary ID is Required"),jpTbaPurchase:i.p6().notRequired(),jpEndorsement:i.p6().notRequired(),jitpaValid:i.p6().notRequired(),jpAmount:i.Yj().notRequired(),jitpaFile:i.gl().nullable().notRequired()}),y=i.Ik().shape({tempID:i.Yj().required("Temporary ID is Required"),labDepReceiptNo:i.Yj().notRequired(),labDepAmount:i.Yj().notRequired(),labEndrose:i.p6().notRequired(),labDepFile:i.gl().nullable().notRequired()}),b=i.Ik().shape({tempID:i.Yj().required("Temporary ID is Required"),immbdNo:i.Yj().notRequired(),docSubmit:i.p6().notRequired(),visaApproval:i.p6().notRequired(),visaRefNo:i.Yj().notRequired(),visaFile:i.gl().nullable().notRequired()}),g=i.Ik().shape({tempID:i.Yj().required("Temporary ID is Required"),departure:i.p6().notRequired(),arrival:i.p6().notRequired(),cityName:i.Yj().notRequired(),airFare:i.Yj().notRequired(),airTktFile:i.gl().nullable().notRequired()}),f=i.Ik().shape({tempID:i.Yj().required("Temporary ID is Required"),mobSignDate:i.p6().notRequired(),agent:i.Yj().notRequired(),remarkNLMob:i.Yj().notRequired(),mobFile:i.gl().nullable().notRequired()})},3836:(e,r,t)=>{t.d(r,{x:()=>w});var i=t(8490),s=t(2770),a=t(2600),o=t(5119),n=t(2013),d=t(9715),u=t(9931),l=t(3),m=t(9379),c=t(7161),p=t(8016),q=t(5215),j=t(2190),R=t(7675);const Y=e=>(0,c.A)(p.e,(0,q._)("ForgotPassword"),(0,j.T)(),(0,m.A)((0,m.A)({},R.C),e));var h=t(6016);async function w(e){var r,t;const{username:m}=e;(0,n.M)(!!m,o.P.EmptyResetPasswordUsername);const c=null===(r=i.H.getConfig().Auth)||void 0===r?void 0:r.Cognito;(0,s.$y)(c);const{userPoolClientId:p,userPoolId:q,userPoolEndpoint:j}=c,R=null===(t=e.options)||void 0===t?void 0:t.clientMetadata,w=(0,l.d)({username:m,userPoolId:q,userPoolClientId:p}),x=Y({endpointResolver:(0,h.o)({endpointOverride:j})}),y=(await x({region:(0,d.J)(q),userAgentValue:(0,u.A)(a.BM.ResetPassword)},{Username:m,ClientMetadata:R,ClientId:p,UserContextData:w})).CodeDeliveryDetails;return{isPasswordReset:!1,nextStep:{resetPasswordStep:"CONFIRM_RESET_PASSWORD_WITH_CODE",codeDeliveryDetails:{deliveryMedium:null===y||void 0===y?void 0:y.DeliveryMedium,destination:null===y||void 0===y?void 0:y.Destination,attributeName:null===y||void 0===y?void 0:y.AttributeName}}}}}}]);
//# sourceMappingURL=600.957c6aa7.chunk.js.map