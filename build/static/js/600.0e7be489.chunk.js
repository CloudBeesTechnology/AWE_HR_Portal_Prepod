"use strict";(self.webpackChunkcheckingproject=self.webpackChunkcheckingproject||[]).push([[600],{4455:(e,r,i)=>{i.r(r),i.d(r,{default:()=>I});var t=i(9379),a=i(5043);const s=i.p+"static/media/resetImage.91e487bbbe41b064fa3c.jpg";var o=i(7305),n=i(2902),d=i(784),l=i(4858),u=i(5394),p=i(3836),m=i(8490),c=i(2770),q=i(2600),j=i(5119),y=i(2013),Y=i(9931),w=i(3),R=i(7161),h=i(8016),f=i(5215),g=i(2190),x=i(7675);var P=i(6016),b=i(9715);async function v(e){var r,i;const a=null===(r=m.H.getConfig().Auth)||void 0===r?void 0:r.Cognito;(0,c.$y)(a);const{userPoolClientId:s,userPoolId:o,userPoolEndpoint:n}=a,{username:d,newPassword:l}=e;(0,y.M)(!!d,j.P.EmptyConfirmResetPasswordUsername),(0,y.M)(!!l,j.P.EmptyConfirmResetPasswordNewPassword);const u=e.confirmationCode;(0,y.M)(!!u,j.P.EmptyConfirmResetPasswordConfirmationCode);const p=null===(i=e.options)||void 0===i?void 0:i.clientMetadata,v=(0,w.d)({username:d,userPoolId:o,userPoolClientId:s}),D=(I={endpointResolver:(0,P.o)({endpointOverride:n})},(0,R.A)(h.e,(0,f._)("ConfirmForgotPassword"),(0,g.T)(),(0,t.A)((0,t.A)({},x.C),I)));var I;await D({region:(0,b.J)(a.userPoolId),userAgentValue:(0,Y.A)(q.BM.ConfirmResetPassword)},{Username:d,ConfirmationCode:u,Password:l,ClientMetadata:p,ClientId:a.userPoolClientId,UserContextData:v})}var D=i(579);const I=()=>{var e,r,i;const[m,c]=(0,a.useState)(!1),[q,j]=(0,a.useState)(!1),[y,Y]=(0,a.useState)(60),[w,R]=(0,a.useState)(!0),[h,f]=(0,a.useState)(!1),[g,x]=(0,a.useState)(""),[P,b]=(0,a.useState)(null),{register:I,handleSubmit:N,formState:{errors:C}}=(0,l.mN)({resolver:(0,d.t)(n.NL)}),[E,T]=(0,a.useState)(""),k=localStorage.getItem("username");(0,a.useEffect)((()=>{if(y>0){const e=setInterval((()=>{Y((e=>e-1))}),1e3);return()=>clearInterval(e)}R(!1),f(!0)}),[y]);return(0,D.jsxs)("section",{className:"screen-size mx-auto flex h-full",children:[(0,D.jsx)("div",{className:"flex-1 border-r-2 border-[#E9E9E9] center",children:(0,D.jsx)("img",{className:"w-full max-w-[450px]",src:s,alt:"Rightside Pic not found"})}),(0,D.jsxs)("div",{className:"flex-1 flex items-center gap-8 py-14 flex-col w-full px-3",children:[(0,D.jsx)("div",{children:(0,D.jsx)("img",{className:"w-full max-w-[450px]",src:o.A,alt:"Logo not found"})}),(0,D.jsx)("article",{className:"space-y-2 mt-5",children:(0,D.jsx)("h1",{className:"text-dark_grey title",children:"Reset Password"})}),E&&(0,D.jsx)("p",{className:"text-red",children:E}),(0,D.jsxs)("form",{className:"space-y-4",onSubmit:N((async e=>{const{otp:r,newPassword:i}=e;try{await v({username:k,confirmationCode:r,newPassword:i}),localStorage.removeItem("username"),localStorage.removeItem("FPSWD"),alert("Password reset successful. Please log in."),window.location.href="/login"}catch(t){T(t.message||t)}})),children:[(0,D.jsxs)("div",{className:"w-[400px] space-y-1",children:[(0,D.jsx)("label",{htmlFor:"otp",className:"text-dark_grey text_size_8",children:"Enter OTP"}),(0,D.jsx)("div",{className:"shadow-md shadow-[#00000040] border border-[#D3D3D3] overflow-hidden rounded-lg py-1 pl-3 pr-4 w-full center",children:(0,D.jsx)("input",(0,t.A)((0,t.A)({type:"number",className:"outline-none py-2 w-full",placeholder:"Enter OTP",value:P},I("otp")),{},{onChange:e=>b(e.target.value)}))}),h&&!P&&(0,D.jsx)("p",{className:"text-red text-xs",children:"OTP has been expired, Please resend OTP."}),(0,D.jsx)("p",{className:"text-[red] text-xs",children:null===(e=C.otp)||void 0===e?void 0:e.message})]}),(0,D.jsx)("div",{className:"flex justify-end",children:(0,D.jsx)("button",{type:"button",className:"text-blue text-sm font font-semibold",onClick:async e=>{try{await(0,p.x)({username:k}),alert("OTP has been resent to your email."),Y(60),R(!0),f(!1)}catch(r){T(r.message||r)}},disabled:w,children:w?"Resend OTP in ".concat(y,"s"):"Resend OTP"})}),(0,D.jsxs)("div",{className:"w-[400px] space-y-1",children:[(0,D.jsx)("label",{htmlFor:"newPassword",className:"text-dark_grey text_size_8",children:"New Password"}),(0,D.jsxs)("div",{className:"shadow-md shadow-[#00000040] border border-[#D3D3D3] overflow-hidden rounded-lg py-1 pl-3 pr-4 w-full center",children:[(0,D.jsx)("input",(0,t.A)((0,t.A)({type:m?"text":"password",className:"outline-none py-2 w-full",placeholder:"Enter new password"},I("newPassword")),{},{onChange:e=>x(e.target.value)})),m?(0,D.jsx)(u.whC,{className:"text-2xl text-[#837E7E]",onClick:()=>c(!m)}):(0,D.jsx)(u.Rds,{className:"text-2xl text-[#837E7E]",onClick:()=>c(!m)})]}),(0,D.jsx)("p",{className:"text-[red] text-xs my-2",children:null===(r=C.newPassword)||void 0===r?void 0:r.message})]}),(0,D.jsxs)("div",{className:"w-[400px] space-y-1",children:[(0,D.jsx)("label",{htmlFor:"rePassword",className:"text-dark_grey text_size_8",children:"Re-enter Password"}),(0,D.jsxs)("div",{className:"shadow-md shadow-[#00000040] border border-[#D3D3D3] overflow-hidden rounded-lg py-1 pl-3 pr-4 w-full center",children:[(0,D.jsx)("input",(0,t.A)({type:q?"text":"password",className:"outline-none py-2 w-full",placeholder:"Re-enter your password",id:"rePassword"},I("rePassword"))),q?(0,D.jsx)(u.whC,{className:"text-2xl text-[#837E7E]",onClick:()=>j(!q)}):(0,D.jsx)(u.Rds,{className:"text-2xl text-[#837E7E]",onClick:()=>j(!q)})]}),(0,D.jsx)("p",{className:"text-[red] text-xs my-2",children:null===(i=C.rePassword)||void 0===i?void 0:i.message})]}),(0,D.jsx)("div",{className:"center",children:(0,D.jsx)("button",{type:"submit",className:"primary_btn text_size_4 my-3",children:"Submit"})}),(0,D.jsx)("hr",{className:"border-[1.5px] text-[#B3B3B3] w-[100%]"}),(0,D.jsx)("div",{className:"center",onClick:()=>{localStorage.removeItem("FPSWD"),window.location.href="/login"},children:(0,D.jsxs)("button",{className:"",children:["Back to ","",(0,D.jsx)("span",{className:"text-blue",children:"Login"})]})})]})]})]})}},2902:(e,r,i)=>{i.d(r,{$A:()=>d,CF:()=>Y,Fh:()=>y,Io:()=>P,M3:()=>c,NL:()=>s,Rr:()=>x,UB:()=>g,UQ:()=>u,Z2:()=>a,_K:()=>j,_j:()=>R,gO:()=>l,gm:()=>h,h4:()=>n,iR:()=>f,mB:()=>q,me:()=>m,s8:()=>w,uL:()=>p,wB:()=>o});var t=i(899);const a=t.Ik({userID:t.Yj().required("UserID is mandatory"),password:t.Yj().required("Password is Required")}),s=t.Ik({newPassword:t.Yj().required("New Password is required").min(8,"Password must be at least 8 characters"),rePassword:t.Yj().required("Please confirm your password").oneOf([t.KR("newPassword"),null],"Passwords must match")}),o=t.Ik({userName:t.Yj().required("User Name is mandatory")}),n=t.Ik({empID:t.Yj().required("Employee ID is required"),password:t.Yj().required("Temporary Password is required"),selectType:t.Yj().required("Please select a type"),officialEmail:t.Yj().required("OfficialEmail is required"),userID:t.Yj().required("User ID is mandatory"),name:t.Yj().required("Name is mandatory"),contactNo:t.Yj().required("Contact number is mandatory"),position:t.Yj().required("Position is mandatory"),department:t.Yj().required("Department is mandatory")}),d=t.Ik({userID:t.Yj().required("User ID is mandatory"),currentPassword:t.Yj().required("Current Password is mandatory"),password:t.Yj().min(8,"Password must be at least 8 characters").max(15,"Password cannot exceed 15 characters").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])/,"Password must contain at least one lowercase letter, one uppercase letter, one number, and one special character").required("Password is required"),confirmPassword:t.Yj().oneOf([t.KR("password"),null],"Passwords must match").required("Confirm password is required")}),l=t.Ik().shape({profilePhoto:t.gl().required("Upload Photo is mandatory").test("fileType","Profile photo must be a JPG or PNG file",(e=>!!e&&/\.(jpg|jpeg|png)$/.test(e.name))),agent:t.Yj().notRequired(),position:t.Yj().required("Position is mandatory"),contractType:t.Yj().required("Contract Type mandatory"),empType:t.Yj().required("Employee Type mandatory"),name:t.Yj().min(3,"Name must be at least 3 characters").required("Name is mandatory"),chinese:t.Yj().notRequired(),gender:t.Yj().required("Gender is mandatory"),dob:t.Yj().required("Date of Birth is mandatory"),age:t.ai().min(20,"Age must be at least 20").max(99,"Age cannot exceed 99").required("Age is required"),email:t.Yj().email("Please enter a valid email").required("Email is required"),cob:t.Yj().required("Country of Birth is mandatory"),nationality:t.Yj().required("Nationality is mandatory"),otherNation:t.Yj().when("nationality",{is:e=>e&&"other"===e.trim().toLowerCase(),then:()=>t.Yj().required("Other Nationality is required"),otherwise:()=>t.Yj()}),marital:t.Yj().required("Marital status is mandatory"),race:t.Yj().required("Race is mandatory"),otherRace:t.Yj().when("race",{is:e=>e&&"other"===e.trim().toLowerCase(),then:()=>t.Yj().required("Other Race is required"),otherwise:()=>t.Yj()}),religion:t.Yj().required("Religion is mandatory"),otherReligion:t.Yj().when("religion",{is:e=>e&&"other"===e.trim().toLowerCase(),then:()=>t.Yj().required("Other religion is required"),otherwise:()=>t.Yj()})}),u=e=>{console.log(e);const r=e&&("bruneian"===e.trim().toLowerCase()||"brunei pr"===e.trim().toLowerCase());return console.log(r),t.Ik({bwnIcNo:r?t.Yj().matches(/^\d{2}-\d{6}$/,"I/C Number must be in the format XX-XXXXXX, where X is a digit").required("I/C Number is mandatory for Bruneians"):t.Yj().notRequired(),bwnIcColour:r?t.Yj().required("I/C Colour is mandatory for Bruneians"):t.Yj().notRequired(),bwnIcExpiry:r?t.Yj().required("I/C Expiry is mandatory for Bruneians"):t.Yj().notRequired(),ppNo:r?t.Yj().notRequired():t.Yj().required("Passport Number is mandatory"),ppIssued:r?t.Yj().notRequired():t.Yj().required("Passport issued is mandatory"),ppExpiry:r?t.Yj().notRequired():t.Yj().required("Passport Expiry is mandatory"),ppDestinate:r?t.Yj().notRequired():t.Yj().required("Passport destination is mandatory"),alternateNo:t.Yj().notRequired(),contactNo:t.Yj().required("Contact Number is mandatory"),presentAddress:t.Yj().required("Present Address is mandatory"),permanentAddress:t.Yj().required("Permanent Address is mandatory"),driveLic:t.Yj().notRequired(),lang:t.Yj().required("Language is mandatory"),familyDetails:t.YO().of(t.Ik().shape({name:t.Yj().notRequired(),relationship:t.Yj().notRequired(),age:t.Yj().notRequired(),occupation:t.Yj().notRequired(),place:t.Yj().notRequired()})).notRequired(),eduDetails:t.YO().of(t.Ik().shape({university:t.Yj().required("University Name is mandatory "),fromDate:t.Yj().required("From Date is mandatory"),toDate:t.Yj().required("To Date is mandatory"),degree:t.Yj().required("Degree is mandatory")})).required("At least one education detail is mandatory"),workExperience:t.YO().of(t.Ik().shape({fromDate:t.Yj().notRequired(),toDate:t.Yj().notRequired(),companyAndAddress:t.Yj().notRequired(),position:t.Yj().notRequired(),salary:t.Yj().notRequired(),reasonLeaving:t.Yj().notRequired()}))})},p=t.Ik({referees:t.YO().of(t.Ik().shape({name:t.Yj().notRequired(),address:t.Yj().notRequired(),phoneNumber:t.Yj().notRequired(),profession:t.Yj().notRequired()})).notRequired(),relatives:t.YO().of(t.Ik().shape({name:t.Yj().notRequired(),position:t.Yj().notRequired(),relationship:t.Yj().notRequired()})).notRequired(),description:t.Yj().notRequired(),emgDetails:t.YO().of(t.Ik().shape({name:t.Yj().required("Name is mandatory"),relationship:t.Yj().required("Relationship is mandatory"),address:t.Yj().required("Address is mandatory"),phoneNumber:t.Yj().required("Phone Number is mandatory"),bloodGroup:t.Yj().notRequired()})).required("At least one emergency contact is mandatory"),disease:t.Yj().notRequired(),liquor:t.Yj().notRequired(),crime:t.Yj().notRequired(),diseaseDesc:t.Yj().when("disease",{is:e=>e&&"yes"===e.trim().toLowerCase(),then:()=>t.Yj().notRequired(),otherwise:()=>t.Yj()}),liquorDesc:t.Yj().when("liquor",{is:e=>e&&"yes"===e.trim().toLowerCase(),then:()=>t.Yj().notRequired(),otherwise:()=>t.Yj()}),crimeDesc:t.Yj().when("crime",{is:e=>e&&"yes"===e.trim().toLowerCase(),then:()=>t.Yj().notRequired(),otherwise:()=>t.Yj()})}),m=t.Ik().shape({salaryExpectation:t.Yj().notRequired(),noExperience:t.Yj().required("Experience is required"),noticePeriod:t.Yj().required("Notice period is required"),empStatement:t.Yj().required("Employee Statement is required"),perIS:t.Yj().required("Interview status is required"),perID:t.Yj().when("perInterviewStatus",{is:e=>e&&"yes"===e.trim().toLowerCase(),then:()=>t.Yj().notRequired(),otherwise:()=>t.Yj()}),supportInfo:t.Yj(),uploadResume:t.gl().required("Resume is required").test("fileType","Only PDF, Word, Excel, or image formats (JPEG, JPG, PNG, SVG) are allowed",(e=>e&&["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","image/jpeg","image/jpg","image/png","image/svg+xml"].includes(e.type))),uploadCertificate:t.gl().required("Certificate is required").test("fileType","Only PDF, Word, Excel, or image formats (JPEG, JPG, PNG, SVG) are allowed",(e=>e&&["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","image/jpeg","image/jpg","image/png","image/svg+xml"].includes(e.type))),uploadPp:t.gl().required("Passport is required").test("fileType","Only PDF, Word, Excel, or image formats (JPEG, JPG, PNG, SVG) are allowed",(e=>e&&["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","image/jpeg","image/jpg","image/png","image/svg+xml"].includes(e.type)))}),c=t.Ik().shape({nameReq:t.Yj().notRequired(),requestorID:t.Yj().notRequired(),approverID:t.Yj().notRequired(),department:t.Yj().required("Department is required"),project:t.Yj().required("Project is required"),position:t.Yj().required("Position is required"),quantity:t.ai().typeError("Quantity must be a number").required("Quantity is required"),reasonForReq:t.Yj().required("Reason for request is required"),justification:t.Yj().required("Justification is required"),replacementFor:t.Yj().notRequired(),qualification:t.Yj().required("State Qualification is required"),tentativeDate:t.p6().min(new Date,"Tentative date must be in the future").required("Tentative date is required").typeError("Please enter a valid date"),status:t.Yj().notRequired(),remarkReq:t.Yj().notRequired()}),q=t.Ik().shape({interDate:t.p6().required("Date is required").typeError("Date is required").min(new Date,"The selected date is in the past. Please choose a valid date."),interTime:t.Yj().required("Time is required").matches(/^(0[8-9]|1[0-5]):([0-5]\d)$/,"Please choose a time between 8:00 AM and 4:00 PM."),venue:t.Yj().required("Venue is required"),interType:t.Yj().notRequired(),empBadgeNo:t.Yj().notRequired("Badge Number is required"),manager:t.Yj().notRequired("Manager is required"),message:t.Yj().optional()}),j=t.Ik().shape({jobTitle:t.Yj().required("Job Title is required"),location:t.Yj().notRequired(),jobDesc:t.Yj().notRequired(),experience:t.Yj().required("Experience is required"),quantity:t.Yj().notRequired(),startDate:t.p6().nullable().transform(((e,r)=>""===r?null:e)).notRequired(),expiryDate:t.p6().nullable().transform(((e,r)=>""===r?null:e)).notRequired().test("is-future-date","Only Future Dates Allowed",(function(e){return!e||new Date(e)>new Date})),uploadJobDetails:t.Yj().notRequired()}),y=t.Ik().shape({tempID:t.Yj().required("Temporary ID is Required"),sawpLtrReq:t.p6().notRequired(),sawpLtrRece:t.p6().notRequired(),sawpFile:t.gl().nullable().notRequired().test("fileType","Only PDF files are allowed",(e=>!!e&&"application/pdf"===e.type))}),Y=t.Ik().shape({tempID:t.Yj().required("Temporary ID is Required"),doeSubmit:t.p6().notRequired(),doeApproval:t.p6().notRequired(),doeValid:t.p6().notRequired(),doeRefNo:t.Yj().notRequired(),doeFile:t.gl().nullable().notRequired().test("fileType","Only PDF files are allowed",(e=>!!e&&"application/pdf"===e.type))}),w=t.Ik().shape({tempID:t.Yj().required("Temporary ID is Required"),nlmsSubmit:t.p6().notRequired(),nlmsSubmitRefNo:t.Yj().notRequired(),nlmsApproval:t.p6().notRequired(),nlmsValid:t.p6().notRequired(),ldRefNo:t.Yj().notRequired(),nlmsFile:t.gl().nullable().notRequired().test("fileType","Only PDF files are allowed",(e=>!!e&&"application/pdf"===e.type))}),R=t.Ik().shape({tempID:t.Yj().required("Temporary ID is Required"),bgSubmit:t.p6().notRequired(),bgRece:t.p6().notRequired(),bgValid:t.p6().notRequired(),bgRefNo:t.Yj().notRequired(),bgAmount:t.Yj().notRequired(),bgFile:t.gl().nullable().notRequired().test("fileType","Only PDF files are allowed",(e=>!!e&&"application/pdf"===e.type))}),h=t.Ik().shape({tempID:t.Yj().required("Temporary ID is Required"),jpTbaPurchase:t.p6().notRequired(),jpEndorsement:t.p6().notRequired(),jitpaValid:t.p6().notRequired(),jpAmount:t.Yj().notRequired(),jitpaFile:t.gl().nullable().notRequired().test("fileType","Only PDF files are allowed",(e=>!!e&&"application/pdf"===e.type))}),f=t.Ik().shape({tempID:t.Yj().required("Temporary ID is Required"),labDepReceiptNo:t.Yj().notRequired(),labDepAmount:t.Yj().notRequired(),labEndrose:t.p6().notRequired(),labDepFile:t.gl().nullable().notRequired().test("fileType","Only PDF files are allowed",(e=>!!e&&"application/pdf"===e.type))}),g=t.Ik().shape({tempID:t.Yj().required("Temporary ID is Required"),immbdNo:t.Yj().notRequired(),docSubmit:t.p6().notRequired(),visaApproval:t.p6().notRequired(),visaRefNo:t.Yj().notRequired(),visaFile:t.gl().nullable().notRequired().test("fileType","Only PDF files are allowed",(e=>!!e&&"application/pdf"===e.type))}),x=t.Ik().shape({tempID:t.Yj().required("Temporary ID is Required"),departure:t.p6().notRequired(),arrival:t.p6().notRequired(),cityName:t.Yj().notRequired(),airFare:t.Yj().notRequired(),airTktFile:t.gl().nullable().notRequired().test("fileType","Only PDF files are allowed",(e=>!!e&&"application/pdf"===e.type))}),P=t.Ik().shape({tempID:t.Yj().required("Temporary ID is Required"),mobSignDate:t.p6().notRequired(),agent:t.Yj().notRequired(),remarkNLMob:t.Yj().notRequired(),mobFile:t.gl().nullable().notRequired().test("fileType","Only PDF files are allowed",(e=>!!e&&"application/pdf"===e.type))})},3836:(e,r,i)=>{i.d(r,{x:()=>R});var t=i(8490),a=i(2770),s=i(2600),o=i(5119),n=i(2013),d=i(9715),l=i(9931),u=i(3),p=i(9379),m=i(7161),c=i(8016),q=i(5215),j=i(2190),y=i(7675);const Y=e=>(0,m.A)(c.e,(0,q._)("ForgotPassword"),(0,j.T)(),(0,p.A)((0,p.A)({},y.C),e));var w=i(6016);async function R(e){var r,i;const{username:p}=e;(0,n.M)(!!p,o.P.EmptyResetPasswordUsername);const m=null===(r=t.H.getConfig().Auth)||void 0===r?void 0:r.Cognito;(0,a.$y)(m);const{userPoolClientId:c,userPoolId:q,userPoolEndpoint:j}=m,y=null===(i=e.options)||void 0===i?void 0:i.clientMetadata,R=(0,u.d)({username:p,userPoolId:q,userPoolClientId:c}),h=Y({endpointResolver:(0,w.o)({endpointOverride:j})}),f=(await h({region:(0,d.J)(q),userAgentValue:(0,l.A)(s.BM.ResetPassword)},{Username:p,ClientMetadata:y,ClientId:c,UserContextData:R})).CodeDeliveryDetails;return{isPasswordReset:!1,nextStep:{resetPasswordStep:"CONFIRM_RESET_PASSWORD_WITH_CODE",codeDeliveryDetails:{deliveryMedium:null===f||void 0===f?void 0:f.DeliveryMedium,destination:null===f||void 0===f?void 0:f.Destination,attributeName:null===f||void 0===f?void 0:f.AttributeName}}}}}}]);
//# sourceMappingURL=600.0e7be489.chunk.js.map