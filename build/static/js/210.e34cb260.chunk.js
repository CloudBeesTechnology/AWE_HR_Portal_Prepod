(self.webpackChunkcheckingproject=self.webpackChunkcheckingproject||[]).push([[210],{4183:(e,A,t)=>{"use strict";t.r(A),t.d(A,{default:()=>M});var o=t(9379),a=t(423),s=t(7305),n=t(4598),l=t(2250),r=t(5043),i=t(6833),c=t(5394),d=t(4619),u=t(8490),v=t(8937);function p(){return u.H.Auth.clearCredentials()}var f=t(8173),m=t(2770),x=t(2600),h=t(9931),g=t(2096),y=t(9876),w=t(2065),N=t(9715),j=t(2242);t(3157);var b=t(7387);const k=e=>{var A;return e.startsWith(String(null!==(A=window.location.origin+window.location.pathname)&&void 0!==A?A:"/"))},S=e=>e.includes(String(window.location.hostname)),T=e=>e.startsWith("http://"),F=e=>e.startsWith("https://"),q=async function(e){let A=arguments.length>2?arguments[2]:void 0;(0,m.G6)(e);const{loginWith:t,userPoolClientId:o}=e,{domain:a,redirectSignOut:s}=t.oauth,n=function(e,A){if(A){const t=null===e||void 0===e?void 0:e.find((e=>e===A));if(!t)throw b.jK;return t}{var t,o;const A=null!==(t=null===e||void 0===e?void 0:e.find(k))&&void 0!==t?t:null===e||void 0===e?void 0:e.find(S),a=null!==(o=null===e||void 0===e?void 0:e.find(F))&&void 0!==o?o:null===e||void 0===e?void 0:e.find(T);if(A)return A;if(a)throw b.$6;throw b.RW}}(s,A);return(async e=>{var A;null!==(A=window)&&void 0!==A&&A.location&&(window.location.href=e.replace("http://","https://"))})("https://".concat(a,"/logout?").concat(Object.entries({client_id:o,logout_uri:encodeURIComponent(n)}).map((e=>{let[A,t]=e;return"".concat(A,"=").concat(t)})).join("&")))},B=async(e,A,t,o)=>{const{isOAuthSignIn:a}=await A.loadOAuthSignIn(),s=await t.getOAuthMetadata();if(await(async e=>{await e.clearOAuthData(),w.o.clearTokens(),await p(),f.YZ.dispatch("auth",{event:"signedOut"},"Auth",f.U9)})(A),a||null!==s&&void 0!==s&&s.oauthSignIn)return q(e,!1,o)};var O=t(7161),P=t(8016),K=t(5215),E=t(2190),R=t(7675);var U=t(6016);const V=new d.C("Auth");async function Q(e){var A;const t=null===(A=u.H.getConfig().Auth)||void 0===A?void 0:A.Cognito;let a;(0,m.$y)(t),null!==e&&void 0!==e&&e.global?await async function(e){try{const{userPoolEndpoint:t,userPoolId:a}=e,s=await w.o.getTokenStore().loadTokens();(0,j.H0)(s);const n=(A={endpointResolver:(0,U.o)({endpointOverride:t})},(0,O.A)(P.e,(0,K._)("GlobalSignOut"),(0,E.T)(),(0,o.A)((0,o.A)({},R.C),A)));await n({region:(0,N.J)(a),userAgentValue:(0,h.A)(x.BM.SignOut)},{AccessToken:s.accessToken.toString()})}catch(t){V.debug("Global signOut error caught but will proceed with token removal")}var A}(t):await async function(e){try{const{userPoolEndpoint:t,userPoolId:a,userPoolClientId:s}=e,n=await w.o.getTokenStore().loadTokens();if((0,j.X4)(n),D(n.accessToken)){const e=(A={endpointResolver:(0,U.o)({endpointOverride:t})},(0,O.A)(P.e,(0,K._)("RevokeToken"),(0,E.T)(),(0,o.A)((0,o.A)({},R.C),A)));await e({region:(0,N.J)(a),userAgentValue:(0,h.A)(x.BM.SignOut)},{ClientId:s,Token:n.refreshToken})}}catch(t){V.debug("Client signOut error caught but will proceed with token removal")}var A}(t);try{(0,m.G6)(t),a=!0}catch(l){a=!1}if(a){var s,n;const A=new y.S(v.ZL);A.setAuthConfig(t);const{type:o}=null!==(s=await B(t,A,w.o,null===e||void 0===e||null===(n=e.oauth)||void 0===n?void 0:n.redirectUrl))&&void 0!==s?s:{};if("error"===o)throw new g.l({name:b.mh,message:"An error occurred when attempting to log out from OAuth provider."})}else w.o.clearTokens(),await p(),f.YZ.dispatch("auth",{event:"signedOut"},"Auth",f.U9)}const D=e=>{var A;return!(null===e||void 0===e||null===(A=e.payload)||void 0===A||!A.origin_jti)};var C=t(579);const L=e=>{let{setIsOpen:A,profilePhoto:t,name:o,email:s,contactNo:n}=e;return(0,C.jsxs)("section",{children:[(0,C.jsxs)("div",{className:"center flex-col gap-2 py-2",children:[(0,C.jsxs)("div",{className:"relative",children:[(0,C.jsx)("div",{className:"max-w-10 h-10 w-full rounded-full relative overflow-hidden shadow-md shadow-[#00000033]",children:(0,C.jsx)("img",{className:"w-full object-cover",src:t,alt:"avatar not found"})}),(0,C.jsx)("p",{className:"absolute -right-2 bottom-0 h-5 w-5 rounded-full bg-[#D9D9D9] center",children:(0,C.jsx)(c.iog,{className:"text-xs text-dark_grey"})})]}),(0,C.jsx)(l.N_,{to:"/personalInformation",className:"text-xs text-dark_grey",onClick:()=>{A(!1)},children:"Personal Info Edit"}),(0,C.jsx)("div",{className:"h-1 w-full bg-[#AAAAAA]"})]}),(0,C.jsxs)("div",{className:"space-y-2 mb-3 px-4",children:[(0,C.jsxs)("div",{className:" space-y-1 text-[#4F4F4F] text-xs",children:[(0,C.jsx)("label",{htmlFor:"name",className:"font-medium ",children:"Name"}),(0,C.jsx)("div",{className:"border flex-1 rounded-md border-[#d4cfcf]  px-2 py-1 ",children:(0,C.jsx)("input",{id:"name",className:"outline-none w-full",type:"text",value:o,readOnly:!0})})]}),(0,C.jsxs)("div",{className:" space-y-1 text-[#4F4F4F] text-xs",children:[(0,C.jsx)("label",{htmlFor:"phoneNo",className:"font-medium ",children:"Phone Number"}),(0,C.jsx)("div",{className:"border rounded-md border-[#d4cfcf] text-[#4F4F4F] text-xs px-2 py-1 ",children:(0,C.jsx)("input",{id:"phoneNo",className:"outline-none w-full",type:"text",value:n,readOnly:!0})})]}),(0,C.jsxs)("div",{className:" space-y-1 text-[#4F4F4F] text-xs",children:[(0,C.jsx)("label",{htmlFor:"email",className:"font-medium ",children:"Email"}),(0,C.jsx)("div",{className:"border rounded-md border-[#d4cfcf] text-[#4F4F4F] text-xs px-2 py-1 ",children:(0,C.jsx)("input",{id:"email",className:"outline-none w-full",type:"text",value:s,readOnly:!0})})]}),(0,C.jsxs)("div",{className:"flex justify-between text-xs text-dark_grey font-semibold pt-3",children:[(0,C.jsx)(l.N_,{to:"/changePassword",className:"py-1 px-2 border-2 rounded-md border-primary ",children:"Change Password"}),(0,C.jsxs)(l.N_,{className:"flex items-center gap-1 py-1 px-2 bg-primary  rounded-md ",onClick:async()=>{try{await Q(),localStorage.removeItem("userID"),localStorage.removeItem("userType"),window.location.href="/login"}catch(e){console.log("Error signing out",e)}},children:["Logout",(0,C.jsx)("span",{children:(0,C.jsx)(a.mXW,{className:"text-lg text-dark_grey"})})]})]})]})]})};var W=t(5583),G=t(3646),X=t(2926);const I=(0,W.D)(),M=()=>{const[e,A]=(0,r.useState)(!1),[t,o]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[u,v]=(0,r.useState)(""),[p,f]=(0,r.useState)({profilePhoto:"",name:"",email:"",contactNo:""}),[m,x]=(0,r.useState)(""),h=()=>{A((e=>!e))},g=(0,r.useRef)(null),y=e=>{g.current&&!g.current.contains(e.target)&&A(!1)};(0,r.useEffect)((()=>{const e=localStorage.getItem("userType");return o(e),document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}}),[]),(0,r.useEffect)((()=>{const e=setInterval((()=>{const e=new Date,A=e.getDate(),t=e.getMonth()+1,o=e.getFullYear(),a="".concat(A,"/").concat(t,"/").concat(o);v(a);let s=e.getHours();const n=e.getMinutes(),l=e.getSeconds(),r=s>=12?"PM":"AM";s%=12,s=s||12;const i=n<10?"0"+n:n,c=l<10?"0"+l:l,u="".concat(s,":").concat(i,":").concat(c," ").concat(r),p="".concat(a," ").concat(u);d(p)}),1e3);return()=>clearInterval(e)}),[]);return(0,r.useEffect)((()=>{const e=localStorage.getItem("userID");x(e)}),[]),(0,r.useEffect)((()=>{m&&(async()=>{try{var e,A;const t=await I.graphql({query:G.it,variables:{limit:2e4}}),o=(null===t||void 0===t||null===(e=t.data)||void 0===e||null===(A=e.listEmpPersonalInfos)||void 0===A?void 0:A.items)||[];if(0===o.length)return;const a=o.find((e=>e.empID.toString().toLowerCase()===m.toString().toLowerCase()));if(a){(async e=>{var A;const t=await(0,X.I)({path:e});f({name:null===a||void 0===a?void 0:a.name,profilePhoto:null===t||void 0===t||null===(A=t.url)||void 0===A?void 0:A.toString(),email:null===a||void 0===a?void 0:a.email,contactNo:(null===a||void 0===a?void 0:a.contactNo)||""})})((null===a||void 0===a?void 0:a.profilePhoto)||"public/profilePhoto/User-avatar.svg.png")}else console.log("No matching employee found for userID: ".concat(m))}catch(t){console.log("Error fetching employee personal infos:",t)}})()}),[m]),(0,C.jsx)("nav",{className:"center bg-medium_white h-28 fixed top-0 w-full z-50 shadow-sm",children:(0,C.jsxs)("div",{className:"screen-size flex justify-between items-center gap-10 py-7 px-3",children:[(0,C.jsx)("section",{className:"flex-initial",children:(0,C.jsx)("div",{className:"max-w-[250px] w-full",children:(0,C.jsx)("img",{className:"w-full",src:s.A,alt:"not found"})})}),(0,C.jsxs)("section",{className:"flex-initial flex item-center gap-5 ",children:[(0,C.jsx)("div",{className:" my-auto",children:(0,C.jsxs)("p",{className:"relative",children:[(0,C.jsxs)(l.N_,{to:"/notifications",children:[" ",(0,C.jsx)(a.KB1,{className:"text-2xl"})]}),(0,C.jsx)("span",{className:"absolute -top-[4px] right-[2px] rounded-full h-2 w-2 text-dark_grey bg-[#d04545] text-xs center"})]})}),(0,C.jsxs)("div",{className:"flex items-center gap-5 px-5",children:[(0,C.jsxs)("div",{className:"space-y-2 ",children:[(0,C.jsxs)("p",{className:"text-dark_grey text_size_5",children:[" ","Welcome ",p.name]}),(0,C.jsx)("article",{className:"flex gap-5 text_size_7 text-dark_grey",children:(0,C.jsx)("p",{children:c})})]}),(0,C.jsxs)("div",{className:"relative",children:[(0,C.jsxs)("div",{className:"relative",children:[(0,C.jsx)("div",{className:"w-12 h-12 rounded-full relative center overflow-hidden shadow-md shadow-[#00000033]",onClick:()=>h(),children:(0,C.jsx)("img",{className:"w-full object-center",src:(null===p||void 0===p?void 0:p.profilePhoto)||n,alt:"avatar not found"})}),(0,C.jsx)("p",{className:"absolute -right-2 bottom-0 h-5 w-5 rounded-full bg-[#D9D9D9] center",onClick:()=>h(),children:(0,C.jsx)(i.i5t,{className:"text-xs text-dark_grey"})})]}),e&&(0,C.jsx)("div",{ref:g,className:"absolute top-12 -left-40 bg-white shadow-md  py-2 text-dark_grey text-[15px]  w-[250px]  flex flex-col",children:(0,C.jsx)(L,{setIsOpen:A,name:null===p||void 0===p?void 0:p.name,email:null===p||void 0===p?void 0:p.email,profilePhoto:null===p||void 0===p?void 0:p.profilePhoto,contactNo:null===p||void 0===p?void 0:p.contactNo})})]})]})]})]})})}},4598:e=>{"use strict";e.exports="data:image/jpeg;base64,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"},1668:()=>{},180:()=>{},5755:()=>{},2993:()=>{},4698:()=>{}}]);
//# sourceMappingURL=210.e34cb260.chunk.js.map